{"items":[{"tags":["java","intellij-idea","prolog","swi-prolog","jpl"],"answers":[{"tags":[],"owner":{"account_id":20014299,"reputation":97,"user_id":15685609,"display_name":"Hugolin Bergier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684120497,"creation_date":1684120497,"answer_id":76250671,"question_id":76244560,"body_markdown":"Well, it looks like my mistake was to put the VM argument ```-Djava.library.path=/...``` in the program arguments field...\r\n\r\nWhy did IntelliJ remove the VM argument field as a field by default in the configurations? It&#39;s quite misleading.\r\n\r\n\r\nI made a video for those who are struggling to install JPL on Mac OS: https://youtu.be/gm12Kf8CBSQ\r\n\r\n","title":"Can&#39;t get Java to find JPL library on Mac OS - &quot;no jpl on java.library.path&quot;","body":"<p>Well, it looks like my mistake was to put the VM argument <code>-Djava.library.path=/...</code> in the program arguments field...</p>\n<p>Why did IntelliJ remove the VM argument field as a field by default in the configurations? It's quite misleading.</p>\n<p>I made a video for those who are struggling to install JPL on Mac OS: <a href=\"https://youtu.be/gm12Kf8CBSQ\" rel=\"nofollow noreferrer\">https://youtu.be/gm12Kf8CBSQ</a></p>\n"}],"owner":{"account_id":20014299,"reputation":97,"user_id":15685609,"display_name":"Hugolin Bergier"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684120497,"creation_date":1684006522,"question_id":76244560,"body_markdown":"I&#39;ve been desperately trying to get JPL (Java/SWI-Prolog interface) to work on Mac using those instructions: https://ssardina-research.github.io/packages-jpl/DeploymentMacos\r\n\r\nI have fixed all the dependencies link on libjpl.dylip, both for the one in ```/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin``` and the one I copied (as instructed) into ```/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/```\r\n\r\nIndeed in both case I have the correct absolute paths:\r\n\r\n```\r\nlibjpl.dylib (architecture x86_64):\r\n\t@rpath/libjpl.dylib (compatibility version 0.0.0, current version 0.0.0)\r\n\t/Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/lib/server/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\r\n\t/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/libswipl.9.0.4.dylib (compatibility version 9.0.0, current version 9.0.3)\r\n\t/usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)\r\n```\r\n\r\nI do have ```-Djava.library.path=/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/``` specified as argument in my application configuration in IntelliJ\r\n\r\nI also tried the other location: ```-Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin```\r\n\r\nI have tried on JDK 17 and JDK 1.8.\r\n\r\nI&#39;m running out of options and my understanding of Java is too limited to try other options. Also, there is limited help on getting JPL work on Mac OS and IntelliJ.\r\n\r\nAny hint would be greatly appreciated.","title":"Can&#39;t get Java to find JPL library on Mac OS - &quot;no jpl on java.library.path&quot;","body":"<p>I've been desperately trying to get JPL (Java/SWI-Prolog interface) to work on Mac using those instructions: <a href=\"https://ssardina-research.github.io/packages-jpl/DeploymentMacos\" rel=\"nofollow noreferrer\">https://ssardina-research.github.io/packages-jpl/DeploymentMacos</a></p>\n<p>I have fixed all the dependencies link on libjpl.dylip, both for the one in <code>/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin</code> and the one I copied (as instructed) into <code>/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/</code></p>\n<p>Indeed in both case I have the correct absolute paths:</p>\n<pre><code>libjpl.dylib (architecture x86_64):\n    @rpath/libjpl.dylib (compatibility version 0.0.0, current version 0.0.0)\n    /Library/Java/JavaVirtualMachines/jdk-17.jdk/Contents/Home/lib/server/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\n    /usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/libswipl.9.0.4.dylib (compatibility version 9.0.0, current version 9.0.3)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1319.0.0)\n</code></pre>\n<p>I do have <code>-Djava.library.path=/usr/local/Cellar/swi-prolog/9.0.4/libexec/lib/swipl/lib/x86_64-darwin/</code> specified as argument in my application configuration in IntelliJ</p>\n<p>I also tried the other location: <code>-Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/fat-darwin</code></p>\n<p>I have tried on JDK 17 and JDK 1.8.</p>\n<p>I'm running out of options and my understanding of Java is too limited to try other options. Also, there is limited help on getting JPL work on Mac OS and IntelliJ.</p>\n<p>Any hint would be greatly appreciated.</p>\n"},{"tags":["java","inetaddress"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684121609,"post_id":76250668,"comment_id":134465064,"body_markdown":"that is how DNS caches work: &quot;positive&quot; (existing records) answers get cached, &quot;negative&quot; (non exisiting records) -  do not. If record is not found in cache your DNS server is trying to get authoritative answer from the chain of DNS servers serving particular domain/zone, that takes some time.","body":"that is how DNS caches work: &quot;positive&quot; (existing records) answers get cached, &quot;negative&quot; (non exisiting records) -  do not. If record is not found in cache your DNS server is trying to get authoritative answer from the chain of DNS servers serving particular domain/zone, that takes some time."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684150285,"post_id":76250668,"comment_id":134469797,"body_markdown":"Try using a command line DNS query tool and verify that the delays are coming from the DNS servers rather than your program.","body":"Try using a command line DNS query tool and verify that the delays are coming from the DNS servers rather than your program."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684157913,"post_id":76250668,"comment_id":134471649,"body_markdown":"@AndreyB.Panfilov DNS servers and local DNS clients usually also cache negative answers, but usually with a shorter TTL than positive answers.","body":"@AndreyB.Panfilov DNS servers and local DNS clients usually also cache negative answers, but usually with a shorter TTL than positive answers."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684159471,"post_id":76250668,"comment_id":134472060,"body_markdown":"well, in this particular case that would correct to say the delay is caused by unreachability of authoritative name servers","body":"well, in this particular case that would correct to say the delay is caused by unreachability of authoritative name servers"},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1684166659,"post_id":76250668,"comment_id":134473985,"body_markdown":"@aled When running `dig smartface.com`  it prints `communications error to 127.0.0.53#53: timed out`. But for `dig smartfacesmart.com` there is no timout.","body":"@aled When running <code>dig smartface.com</code>  it prints <code>communications error to 127.0.0.53#53: timed out</code>. But for <code>dig smartfacesmart.com</code> there is no timout."},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1684167079,"post_id":76250668,"comment_id":134474100,"body_markdown":"@AndreyB.Panfilov Is there anyway to set a lower timeout for this particular case?","body":"@AndreyB.Panfilov Is there anyway to set a lower timeout for this particular case?"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684120473,"creation_date":1684120473,"question_id":76250668,"body_markdown":"I have noticed that InetAddress is very slow for some hosts.\r\n\r\nBelow is the relevant code\r\n\r\n\r\n    final long startTime = System.currentTimeMillis();\r\n    \r\n    try {\r\n        System.out.println(&quot;start&quot;);\r\n        InetAddress address = InetAddress.getByName(&quot;smartface.com&quot;);\r\n        System.out.println(address);\r\n    } catch (UnknownHostException e) {\r\n        e.printStackTrace();\r\n    }\r\n    \r\n    final long endTime = System.currentTimeMillis();\r\n    System.out.println(&quot;Total execution time: &quot; + (endTime - startTime));\r\n\r\nFor the host &quot;smartface.com&quot; it takes about 20000 miliseconds resulting in a &quot;UnknownHostException&quot;\r\n\r\n    start\r\n    java.net.UnknownHostException: smartface.com: Name or service not known\r\n    ...\r\n    ...\r\n    Total execution time: 20024\r\n    end\r\n\r\n\r\nBut when running the same code for host &quot;smartfacesmart.com&quot; it takes about 280 milliseconds.\r\n\r\n    start\r\n    java.net.UnknownHostException: smartfacesmart.com: Name or service not known\r\n    ...\r\n    ...\r\n    Total execution time: 284\r\n    end\r\n\r\n\r\nI don&#39;t understand why there is such a big difference between the two hosts. Both result in the same exception.\r\n\r\nIs there anything I can to make the process faster for the slower hosts?","title":"InetAddress.getByName very slow for some hosts, but not others","body":"<p>I have noticed that InetAddress is very slow for some hosts.</p>\n<p>Below is the relevant code</p>\n<pre><code>final long startTime = System.currentTimeMillis();\n\ntry {\n    System.out.println(&quot;start&quot;);\n    InetAddress address = InetAddress.getByName(&quot;smartface.com&quot;);\n    System.out.println(address);\n} catch (UnknownHostException e) {\n    e.printStackTrace();\n}\n\nfinal long endTime = System.currentTimeMillis();\nSystem.out.println(&quot;Total execution time: &quot; + (endTime - startTime));\n</code></pre>\n<p>For the host &quot;smartface.com&quot; it takes about 20000 miliseconds resulting in a &quot;UnknownHostException&quot;</p>\n<pre><code>start\njava.net.UnknownHostException: smartface.com: Name or service not known\n...\n...\nTotal execution time: 20024\nend\n</code></pre>\n<p>But when running the same code for host &quot;smartfacesmart.com&quot; it takes about 280 milliseconds.</p>\n<pre><code>start\njava.net.UnknownHostException: smartfacesmart.com: Name or service not known\n...\n...\nTotal execution time: 284\nend\n</code></pre>\n<p>I don't understand why there is such a big difference between the two hosts. Both result in the same exception.</p>\n<p>Is there anything I can to make the process faster for the slower hosts?</p>\n"},{"tags":["java","spring","hibernate"],"answers":[{"tags":[],"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyá»…n"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684120001,"creation_date":1684120001,"answer_id":76250651,"question_id":76248053,"body_markdown":"As I only remember that this @Modifying is for use more query other than Select (like when I want to update, delete, or do ddl...) \r\n\r\nSo I search it again and give you this [baedung link][1]\r\n\r\nNow the EntityManager is flushed before our query is executed.\r\n\r\nYou will need to understand about Persistence Context and some more.\r\n\r\nBut in this case, you only do some update with JPARepo and not EntityManag so We good\r\n\r\n  [1]: https://www.baeldung.com/spring-data-jpa-modifying-annotation#clear","title":"Question about flushAutomatically in native update query","body":"<p>As I only remember that this @Modifying is for use more query other than Select (like when I want to update, delete, or do ddl...)</p>\n<p>So I search it again and give you this <a href=\"https://www.baeldung.com/spring-data-jpa-modifying-annotation#clear\" rel=\"nofollow noreferrer\">baedung link</a></p>\n<p>Now the EntityManager is flushed before our query is executed.</p>\n<p>You will need to understand about Persistence Context and some more.</p>\n<p>But in this case, you only do some update with JPARepo and not EntityManag so We good</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684120001,"creation_date":1684075255,"question_id":76248053,"body_markdown":"Suppose I have some service with method updateModificationDate:\r\n\r\n    class SomeService { \r\n    ...\r\n \t@Transactional\r\n\tpublic MyItem updateModificationDate(MyItem item)  {\r\n\t   myRepository.updateModificationDate(myItem.getId(), DateTime.now().toDate());\r\n\t   myItem = find(myItem.getId());//use dao.find\r\n\t   return MyItem;\r\n\t}\r\n    \r\n    } \r\n\r\nupdateModificationDate implemented in class MyRepository as following : \r\n\r\n    class MyRepository extends JpaRepository&lt;MyItem, Integer&gt;{ \r\n    \t....\r\n    \t\r\n    \t@Modifying(flushAutomatically = true)\r\n        @Query(nativeQuery = true, value = &quot;UPDATE myItemsTable SET modificationDate = ?2 WHERE id = ?1&quot;)\r\n        void updateModificationDate(Integer itemId, Date dateToSet);\r\n    } \r\n\r\nThe question is: is there need ( and safe ) here to use `flushAutomatically = true` or it is enough without to get item with changed date field? \r\nThanks in advance","title":"Question about flushAutomatically in native update query","body":"<p>Suppose I have some service with method updateModificationDate:</p>\n<pre><code>class SomeService { \n...\n@Transactional\npublic MyItem updateModificationDate(MyItem item)  {\n   myRepository.updateModificationDate(myItem.getId(), DateTime.now().toDate());\n   myItem = find(myItem.getId());//use dao.find\n   return MyItem;\n}\n\n} \n</code></pre>\n<p>updateModificationDate implemented in class MyRepository as following :</p>\n<pre><code>class MyRepository extends JpaRepository&lt;MyItem, Integer&gt;{ \n    ....\n    \n    @Modifying(flushAutomatically = true)\n    @Query(nativeQuery = true, value = &quot;UPDATE myItemsTable SET modificationDate = ?2 WHERE id = ?1&quot;)\n    void updateModificationDate(Integer itemId, Date dateToSet);\n} \n</code></pre>\n<p>The question is: is there need ( and safe ) here to use <code>flushAutomatically = true</code> or it is enough without to get item with changed date field?\nThanks in advance</p>\n"},{"tags":["java","android","view"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684118799,"creation_date":1684118799,"answer_id":76250590,"question_id":76250535,"body_markdown":"You probably don&#39;t want to do that.  Views are expensive, adding large numbers of them will either slow your app to a crawl or crash it OOM, if not both.  Look into RecyclerView as an alternative to doing that.  RecyclerViews reuse and rebind a limited number of views, allowing for scrolling between them with a minimal number of views used.\r\n\r\nA technique of adding views is acceptable if the number of views is small (as is their screen real estate) and has a cap.  In that case you can programmatically add views to a ViewGroup with the add function.  But you can&#39;t give it a name.  You could give it an id, but that&#39;s not recommended.  And it shouldn&#39;t really be necessary-  since you created it, you shouldn&#39;t need to look it up in the view hierarchy again, which is the major reason to give a name to it.","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>You probably don't want to do that.  Views are expensive, adding large numbers of them will either slow your app to a crawl or crash it OOM, if not both.  Look into RecyclerView as an alternative to doing that.  RecyclerViews reuse and rebind a limited number of views, allowing for scrolling between them with a minimal number of views used.</p>\n<p>A technique of adding views is acceptable if the number of views is small (as is their screen real estate) and has a cap.  In that case you can programmatically add views to a ViewGroup with the add function.  But you can't give it a name.  You could give it an id, but that's not recommended.  And it shouldn't really be necessary-  since you created it, you shouldn't need to look it up in the view hierarchy again, which is the major reason to give a name to it.</p>\n"},{"tags":[],"owner":{"account_id":13576121,"reputation":139,"user_id":9793435,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684119269,"creation_date":1684119269,"answer_id":76250612,"question_id":76250535,"body_markdown":"Yes, it&#39;s doable.\r\n\r\nIf you want to display a list with dynamic size, you can use `RecyclerView` to implement.\r\n\r\nIf you don&#39;t want to display a list, you can use `addView()` method of ViewGroup, or use `WindowManager` to add view dynamically.\r\n\r\n    val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\r\n    windowManager.addView(yourView, layoutParamsForThisView)","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>Yes, it's doable.</p>\n<p>If you want to display a list with dynamic size, you can use <code>RecyclerView</code> to implement.</p>\n<p>If you don't want to display a list, you can use <code>addView()</code> method of ViewGroup, or use <code>WindowManager</code> to add view dynamically.</p>\n<pre><code>val windowManager = context.getSystemService(Context.WINDOW_SERVICE) as WindowManager\nwindowManager.addView(yourView, layoutParamsForThisView)\n</code></pre>\n"}],"owner":{"account_id":26239913,"reputation":1,"user_id":19914385,"display_name":"icws8"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684119269,"creation_date":1684117758,"question_id":76250535,"body_markdown":"I want to add an indefinite number of views to another view. How many views are needed depends on a variable. I don&#39;t want it to have a limit. And want their names to be in a series (using incrementing values of a string maybe). Is it possible to do this programmatically?\r\n\r\nI&#39;m new to programming. Sorry if this is a stupid question.","title":"Is it possible to create a views programmatically and name them with the value of a string?","body":"<p>I want to add an indefinite number of views to another view. How many views are needed depends on a variable. I don't want it to have a limit. And want their names to be in a series (using incrementing values of a string maybe). Is it possible to do this programmatically?</p>\n<p>I'm new to programming. Sorry if this is a stupid question.</p>\n"},{"tags":["java","hibernate"],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684117843,"creation_date":1684117843,"question_id":76250539,"body_markdown":"I am getting following exception while updating an object using Hibernate. Failing with following stacktrace.\r\n\r\n```\r\nERROR [2023-05-15 02:20:59,777] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4b66b3469b94def6\r\n! com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.tarkshala.tavahot.db.models.Sellable` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n!  at [Source: (byte[])&quot;{&quot;items&quot;:[{&quot;dishId&quot;:&quot;RD230330T091728M147291&quot;,&quot;dishName&quot;:&quot;Paneer Butter Masala&quot;,&quot;price&quot;:29000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;https://tavahot-content.s3.ap-south-1.amazonaws.com/paneer-butter-masala/200x200/image.png&quot;},{&quot;dishId&quot;:&quot;RD230330T091728M149103&quot;,&quot;dishName&quot;:&quot;Shahi Paneer&quot;,&quot;price&quot;:24000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;&quot;},{&quot;dishId&quot;:&quot;RD230330T091727M974375&quot;,&quot;dishName&quot;:&quot;Dal Makhani&quot;,&quot;price&quot;:19000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPrefere&quot;[truncated 170 bytes]; line: 1, column: 11] (through reference chain: com.tarkshala.tavahot.models.PaymentBreakup[&quot;items&quot;]-&gt;java.util.ArrayList[0])\r\n! at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\r\n! at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)\r\n! at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\r\n! at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1349)\r\n! at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:274)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\r\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\r\n! at com.fasterxml.jackson.module.blackbird.deser.SettableObjectProperty.deserializeAndSet(SettableObjectProperty.java:44)\r\n! at com.fasterxml.jackson.module.blackbird.deser.SuperSonicBeanDeserializer.deserialize(SuperSonicBeanDeserializer.java:159)\r\n! at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\r\n! at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n! at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:76)\r\n! ... 101 common frames omitted\r\n! Causing: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! ... 102 common frames omitted\r\n! Causing: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:78)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.jsonClone(ObjectMapperJsonSerializer.java:81)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.clone(ObjectMapperJsonSerializer.java:58)\r\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.clone(ObjectMapperWrapper.java:125)\r\n! at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor$1.deepCopyNotNull(JsonTypeDescriptor.java:54)\r\n! at org.hibernate.type.descriptor.java.MutableMutabilityPlan.deepCopy(MutableMutabilityPlan.java:35)\r\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:308)\r\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:304)\r\n! at org.hibernate.type.TypeHelper.deepCopy(TypeHelper.java:56)\r\n! at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:223)\r\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\r\n! at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\r\n! at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\r\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\r\n! at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\r\n! at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\r\n! at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\r\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\r\n! ... 84 common frames omitted\r\n! Causing: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\r\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\r\n! at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\r\n! at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\r\n! at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\r\n! at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\r\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\r\n! at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\r\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.commitTransaction(TransactionHandler.java:121)\r\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.afterEnd(TransactionHandler.java:72)\r\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:62)\r\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:50)\r\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:303)\r\n! ... 71 common frames omitted\r\n! Causing: java.lang.RuntimeException: Error updating entity with criteria: DetachableCriteria(CriteriaImpl(com.tarkshala.tavahot.db.models.StoredOrder:this[][orderId=OR230501T213651M83599]))\r\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:319)\r\n! at com.tarkshala.tavahot.db.commands.OrderCommands.update(OrderCommands.java:43)\r\n! at com.tarkshala.tavahot.services.CheckoutService.updateOrderWithDiscount(CheckoutService.java:291)\r\n! at com.tarkshala.tavahot.services.CheckoutService.apply(CheckoutService.java:275)\r\n! at com.tarkshala.tavahot.resources.CheckoutResource.apply(CheckoutResource.java:53)\r\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\r\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\r\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\r\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\r\n! at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\r\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\r\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\r\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\r\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\r\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\r\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\r\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\r\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\r\n! at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\r\n! at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\r\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\r\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)\r\n! at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\r\n! at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\r\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\r\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\r\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\r\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\r\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:284)\r\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\r\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:722)\r\n! at io.dropwizard.jetty.ZipExceptionHandlingGzipHandler.handle(ZipExceptionHandlingGzipHandler.java:26)\r\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:54)\r\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:181)\r\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\r\n! at org.eclipse.jetty.server.Server.handle(Server.java:516)\r\n! at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\r\n! at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\r\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\r\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\r\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\r\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\r\n! at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\r\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\r\n! at java.base/java.lang.Thread.run(Thread.java:833)\r\n[0:0:0:0:0:0:0:1] - - [15/May/2023:02:20:59 +0000] &quot;POST /nexus/checkout/offer/apply HTTP/1.1&quot; 500 110 &quot;http://localhost:8080/swagger&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot; 3467\r\n```\r\n\r\n\r\n\r\nMy DB entity looks like follwing:\r\n\r\n```JAVA\r\n@Data\r\n@NoArgsConstructor\r\n@Entity\r\n@Table(name = &quot;orders&quot;)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\npublic class StoredOrder {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;, unique = true)\r\n    @JsonIgnore\r\n    private long id;\r\n\r\n    @Column(name = &quot;order_id&quot;, nullable = false, unique = true)\r\n    private String orderId;\r\n\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private String userId;\r\n\r\n    @Column(name = &quot;road_id&quot;, nullable = false)\r\n    private String roadId;\r\n\r\n    @Column(name = &quot;restaurant_id&quot;, nullable = false)\r\n    private String restaurantId;\r\n\r\n    @Column(name = &quot;otp&quot;)\r\n    private String otp;\r\n\r\n    @Column(name = &quot;order_state&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private OrderState orderState;\r\n\r\n    @Column(name = &quot;serve_type&quot;, nullable = false)\r\n    @Enumerated(EnumType.STRING)\r\n    private ServeType serveType;\r\n\r\n    // Time(in seconds) needed to prepare the order\r\n    @Column(name = &quot;ttp&quot;, nullable = false)\r\n    private long ttp;\r\n\r\n    // Timestamp by which order will get prepared\r\n    // It will always be more than or equal to ETA\r\n    @Column(name = &quot;etp&quot;, nullable = false)\r\n    private Date etp;\r\n\r\n    // Timestamp(epoch) by which user will arrive at restaurant\r\n    @Column(name = &quot;eta&quot;, nullable = false)\r\n    private Date eta;\r\n\r\n    @Column(name = &quot;created_at&quot;)\r\n    private Date createdAt;\r\n\r\n    @Column(name = &quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    @Column(name = &quot;rating&quot;)\r\n    private int rating;\r\n\r\n    @Column(name = &quot;payment_breakup&quot;, columnDefinition = &quot;JSON&quot;)\r\n    @Type(type = &quot;json&quot;)\r\n    private PaymentBreakup&lt;Item&gt; paymentBreakup;\r\n}\r\n```\r\n\r\n```Java\r\n@Data\r\n@NoArgsConstructor\r\npublic class PaymentBreakup&lt;T extends Sellable&gt; {\r\n\r\n    private List&lt;T&gt; items;\r\n\r\n    private long convenienceFee;\r\n\r\n    private long gst;\r\n\r\n    private long discount;\r\n\r\n    private long total;\r\n}\r\n```\r\n\r\n\r\n```Java\r\npublic interface Sellable {\r\n\r\n    long getSellingPrice();\r\n}\r\n```\r\n\r\n```Java\r\n\r\n@Data\r\n@NoArgsConstructor\r\npublic class Item implements Sellable {\r\n\r\n    private String dishId;\r\n\r\n    private String dishName;\r\n\r\n    private long price;\r\n\r\n    private int quantity;\r\n\r\n    private int rating;\r\n\r\n    private FoodPreference foodPreference;\r\n\r\n    private String thumbnailUrl;\r\n\r\n    @Override\r\n    @JsonIgnore\r\n    public long getSellingPrice() {\r\n        return price * quantity;\r\n    }\r\n}\r\n```\r\n\r\nWhat is going wrong here? Please help.","title":"Hibernate not able to serialize a GenericType extending Interface to Json","body":"<p>I am getting following exception while updating an object using Hibernate. Failing with following stacktrace.</p>\n<pre><code>ERROR [2023-05-15 02:20:59,777] io.dropwizard.jersey.errors.LoggingExceptionMapper: Error handling a request: 4b66b3469b94def6\n! com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `com.tarkshala.tavahot.db.models.Sellable` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n!  at [Source: (byte[])&quot;{&quot;items&quot;:[{&quot;dishId&quot;:&quot;RD230330T091728M147291&quot;,&quot;dishName&quot;:&quot;Paneer Butter Masala&quot;,&quot;price&quot;:29000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;https://tavahot-content.s3.ap-south-1.amazonaws.com/paneer-butter-masala/200x200/image.png&quot;},{&quot;dishId&quot;:&quot;RD230330T091728M149103&quot;,&quot;dishName&quot;:&quot;Shahi Paneer&quot;,&quot;price&quot;:24000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPreference&quot;:&quot;VEG&quot;,&quot;thumbnailUrl&quot;:&quot;&quot;},{&quot;dishId&quot;:&quot;RD230330T091727M974375&quot;,&quot;dishName&quot;:&quot;Dal Makhani&quot;,&quot;price&quot;:19000,&quot;quantity&quot;:1,&quot;rating&quot;:0,&quot;foodPrefere&quot;[truncated 170 bytes]; line: 1, column: 11] (through reference chain: com.tarkshala.tavahot.models.PaymentBreakup[&quot;items&quot;]-&gt;java.util.ArrayList[0])\n! at com.fasterxml.jackson.databind.exc.InvalidDefinitionException.from(InvalidDefinitionException.java:67)\n! at com.fasterxml.jackson.databind.DeserializationContext.reportBadDefinition(DeserializationContext.java:1904)\n! at com.fasterxml.jackson.databind.DatabindContext.reportBadDefinition(DatabindContext.java:400)\n! at com.fasterxml.jackson.databind.DeserializationContext.handleMissingInstantiator(DeserializationContext.java:1349)\n! at com.fasterxml.jackson.databind.deser.AbstractDeserializer.deserialize(AbstractDeserializer.java:274)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer._deserializeFromArray(CollectionDeserializer.java:355)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:244)\n! at com.fasterxml.jackson.databind.deser.std.CollectionDeserializer.deserialize(CollectionDeserializer.java:28)\n! at com.fasterxml.jackson.module.blackbird.deser.SettableObjectProperty.deserializeAndSet(SettableObjectProperty.java:44)\n! at com.fasterxml.jackson.module.blackbird.deser.SuperSonicBeanDeserializer.deserialize(SuperSonicBeanDeserializer.java:159)\n! at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:323)\n! at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n! at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3690)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:76)\n! ... 101 common frames omitted\n! Causing: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! ... 102 common frames omitted\n! Causing: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.fromBytes(ObjectMapperWrapper.java:78)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.jsonClone(ObjectMapperJsonSerializer.java:81)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperJsonSerializer.clone(ObjectMapperJsonSerializer.java:58)\n! at com.vladmihalcea.hibernate.type.util.ObjectMapperWrapper.clone(ObjectMapperWrapper.java:125)\n! at com.vladmihalcea.hibernate.type.json.internal.JsonTypeDescriptor$1.deepCopyNotNull(JsonTypeDescriptor.java:54)\n! at org.hibernate.type.descriptor.java.MutableMutabilityPlan.deepCopy(MutableMutabilityPlan.java:35)\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:308)\n! at org.hibernate.type.AbstractStandardBasicType.deepCopy(AbstractStandardBasicType.java:304)\n! at org.hibernate.type.TypeHelper.deepCopy(TypeHelper.java:56)\n! at org.hibernate.action.internal.EntityUpdateAction.execute(EntityUpdateAction.java:223)\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:604)\n! at org.hibernate.engine.spi.ActionQueue.lambda$executeActions$1(ActionQueue.java:478)\n! at java.base/java.util.LinkedHashMap.forEach(LinkedHashMap.java:721)\n! at org.hibernate.engine.spi.ActionQueue.executeActions(ActionQueue.java:475)\n! at org.hibernate.event.internal.AbstractFlushingEventListener.performExecutions(AbstractFlushingEventListener.java:344)\n! at org.hibernate.event.internal.DefaultFlushEventListener.onFlush(DefaultFlushEventListener.java:40)\n! at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107)\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1407)\n! ... 84 common frames omitted\n! Causing: javax.persistence.PersistenceException: org.hibernate.HibernateException: java.lang.IllegalArgumentException: The given byte array cannot be transformed to Json object\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n! at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:188)\n! at org.hibernate.internal.SessionImpl.doFlush(SessionImpl.java:1411)\n! at org.hibernate.internal.SessionImpl.managedFlush(SessionImpl.java:489)\n! at org.hibernate.internal.SessionImpl.flushBeforeTransactionCompletion(SessionImpl.java:3303)\n! at org.hibernate.internal.SessionImpl.beforeTransactionCompletion(SessionImpl.java:2438)\n! at org.hibernate.engine.jdbc.internal.JdbcCoordinatorImpl.beforeTransactionCompletion(JdbcCoordinatorImpl.java:449)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.beforeCompletionCallback(JdbcResourceLocalTransactionCoordinatorImpl.java:183)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl.access$300(JdbcResourceLocalTransactionCoordinatorImpl.java:40)\n! at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.commit(JdbcResourceLocalTransactionCoordinatorImpl.java:281)\n! at org.hibernate.engine.transaction.internal.TransactionImpl.commit(TransactionImpl.java:101)\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.commitTransaction(TransactionHandler.java:121)\n! at io.appform.dropwizard.sharding.utils.TransactionHandler.afterEnd(TransactionHandler.java:72)\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:62)\n! at io.appform.dropwizard.sharding.utils.Transactions.execute(Transactions.java:50)\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:303)\n! ... 71 common frames omitted\n! Causing: java.lang.RuntimeException: Error updating entity with criteria: DetachableCriteria(CriteriaImpl(com.tarkshala.tavahot.db.models.StoredOrder:this[][orderId=OR230501T213651M83599]))\n! at io.appform.dropwizard.sharding.dao.RelationalDao.update(RelationalDao.java:319)\n! at com.tarkshala.tavahot.db.commands.OrderCommands.update(OrderCommands.java:43)\n! at com.tarkshala.tavahot.services.CheckoutService.updateOrderWithDiscount(CheckoutService.java:291)\n! at com.tarkshala.tavahot.services.CheckoutService.apply(CheckoutService.java:275)\n! at com.tarkshala.tavahot.resources.CheckoutResource.apply(CheckoutResource.java:53)\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n! at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n! at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n! at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n! at org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory.lambda$static$0(ResourceMethodInvocationHandlerFactory.java:52)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:134)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:177)\n! at org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$TypeOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:219)\n! at org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:81)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:478)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:400)\n! at org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:81)\n! at org.glassfish.jersey.server.ServerRuntime$1.run(ServerRuntime.java:255)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:248)\n! at org.glassfish.jersey.internal.Errors$1.call(Errors.java:244)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:292)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:274)\n! at org.glassfish.jersey.internal.Errors.process(Errors.java:244)\n! at org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:265)\n! at org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:234)\n! at org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:684)\n! at org.glassfish.jersey.servlet.WebComponent.serviceImpl(WebComponent.java:394)\n! at org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:346)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:358)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:311)\n! at org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:205)\n! at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:799)\n! at org.eclipse.jetty.servlet.ServletHandler$ChainEnd.doFilter(ServletHandler.java:1656)\n! at io.dropwizard.servlets.ThreadNameFilter.doFilter(ThreadNameFilter.java:35)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.handle(AllowedMethodsFilter.java:47)\n! at io.dropwizard.jersey.filter.AllowedMethodsFilter.doFilter(AllowedMethodsFilter.java:41)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at com.google.inject.servlet.FilterChainInvocation.doFilter(FilterChainInvocation.java:89)\n! at com.google.inject.servlet.ManagedFilterPipeline.dispatch(ManagedFilterPipeline.java:121)\n! at com.google.inject.servlet.GuiceFilter.doFilter(GuiceFilter.java:133)\n! at org.eclipse.jetty.servlet.FilterHolder.doFilter(FilterHolder.java:193)\n! at org.eclipse.jetty.servlet.ServletHandler$Chain.doFilter(ServletHandler.java:1626)\n! at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:552)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\n! at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1440)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\n! at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:505)\n! at org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\n! at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1355)\n! at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n! at com.codahale.metrics.jetty9.InstrumentedHandler.handle(InstrumentedHandler.java:284)\n! at io.dropwizard.jetty.RoutingHandler.handle(RoutingHandler.java:52)\n! at org.eclipse.jetty.server.handler.gzip.GzipHandler.handle(GzipHandler.java:722)\n! at io.dropwizard.jetty.ZipExceptionHandlingGzipHandler.handle(ZipExceptionHandlingGzipHandler.java:26)\n! at org.eclipse.jetty.server.handler.RequestLogHandler.handle(RequestLogHandler.java:54)\n! at org.eclipse.jetty.server.handler.StatisticsHandler.handle(StatisticsHandler.java:181)\n! at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\n! at org.eclipse.jetty.server.Server.handle(Server.java:516)\n! at org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:487)\n! at org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:732)\n! at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:479)\n! at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:277)\n! at org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\n! at org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:105)\n! at org.eclipse.jetty.io.ChannelEndPoint$1.run(ChannelEndPoint.java:104)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:883)\n! at org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:1034)\n! at java.base/java.lang.Thread.run(Thread.java:833)\n[0:0:0:0:0:0:0:1] - - [15/May/2023:02:20:59 +0000] &quot;POST /nexus/checkout/offer/apply HTTP/1.1&quot; 500 110 &quot;http://localhost:8080/swagger&quot; &quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/112.0.0.0 Safari/537.36&quot; 3467\n</code></pre>\n<p>My DB entity looks like follwing:</p>\n<pre><code>@Data\n@NoArgsConstructor\n@Entity\n@Table(name = &quot;orders&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class StoredOrder {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;, unique = true)\n    @JsonIgnore\n    private long id;\n\n    @Column(name = &quot;order_id&quot;, nullable = false, unique = true)\n    private String orderId;\n\n    @Column(name = &quot;user_id&quot;, nullable = false)\n    private String userId;\n\n    @Column(name = &quot;road_id&quot;, nullable = false)\n    private String roadId;\n\n    @Column(name = &quot;restaurant_id&quot;, nullable = false)\n    private String restaurantId;\n\n    @Column(name = &quot;otp&quot;)\n    private String otp;\n\n    @Column(name = &quot;order_state&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private OrderState orderState;\n\n    @Column(name = &quot;serve_type&quot;, nullable = false)\n    @Enumerated(EnumType.STRING)\n    private ServeType serveType;\n\n    // Time(in seconds) needed to prepare the order\n    @Column(name = &quot;ttp&quot;, nullable = false)\n    private long ttp;\n\n    // Timestamp by which order will get prepared\n    // It will always be more than or equal to ETA\n    @Column(name = &quot;etp&quot;, nullable = false)\n    private Date etp;\n\n    // Timestamp(epoch) by which user will arrive at restaurant\n    @Column(name = &quot;eta&quot;, nullable = false)\n    private Date eta;\n\n    @Column(name = &quot;created_at&quot;)\n    private Date createdAt;\n\n    @Column(name = &quot;updated_at&quot;)\n    private Date updatedAt;\n\n    @Column(name = &quot;rating&quot;)\n    private int rating;\n\n    @Column(name = &quot;payment_breakup&quot;, columnDefinition = &quot;JSON&quot;)\n    @Type(type = &quot;json&quot;)\n    private PaymentBreakup&lt;Item&gt; paymentBreakup;\n}\n</code></pre>\n<pre><code>@Data\n@NoArgsConstructor\npublic class PaymentBreakup&lt;T extends Sellable&gt; {\n\n    private List&lt;T&gt; items;\n\n    private long convenienceFee;\n\n    private long gst;\n\n    private long discount;\n\n    private long total;\n}\n</code></pre>\n<pre><code>public interface Sellable {\n\n    long getSellingPrice();\n}\n</code></pre>\n<pre><code>\n@Data\n@NoArgsConstructor\npublic class Item implements Sellable {\n\n    private String dishId;\n\n    private String dishName;\n\n    private long price;\n\n    private int quantity;\n\n    private int rating;\n\n    private FoodPreference foodPreference;\n\n    private String thumbnailUrl;\n\n    @Override\n    @JsonIgnore\n    public long getSellingPrice() {\n        return price * quantity;\n    }\n}\n</code></pre>\n<p>What is going wrong here? Please help.</p>\n"},{"tags":["java","web-scraping","hadoop","solr","nutch"],"comments":[{"owner":{"account_id":3599966,"reputation":607,"user_id":3003479,"display_name":"sashwat"},"score":1,"creation_date":1684147321,"post_id":76250490,"comment_id":134469213,"body_markdown":"Requirements for Nutch: 1. Unix environment, or Windows-Cygwin environment\n2. Java Runtime/Development Environment (JDK 11 / Java 11). ref: https://cwiki.apache.org/confluence/display/NUTCH/NutchTutorial. Check your java version.","body":"Requirements for Nutch: 1. Unix environment, or Windows-Cygwin environment 2. Java Runtime/Development Environment (JDK 11 / Java 11). ref: <a href=\"https://cwiki.apache.org/confluence/display/NUTCH/NutchTutorial\" rel=\"nofollow noreferrer\">cwiki.apache.org/confluence/display/NUTCH/NutchTutorial</a>. Check your java version."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684151030,"post_id":76250490,"comment_id":134469966,"body_markdown":"The Hadoop native libraries are only built for unix machines... Did you build/download them on your own?","body":"The Hadoop native libraries are only built for unix machines... Did you build/download them on your own?"},{"owner":{"account_id":12491036,"reputation":696,"user_id":9092563,"display_name":"rom"},"score":0,"creation_date":1684210633,"post_id":76250490,"comment_id":134480276,"body_markdown":"Ended up giving up on the windows installation of Nutch etc and did it in WSL, the Linux for Windows thing.","body":"Ended up giving up on the windows installation of Nutch etc and did it in WSL, the Linux for Windows thing."}],"owner":{"account_id":12491036,"reputation":696,"user_id":9092563,"display_name":"rom"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684116883,"creation_date":1684116883,"question_id":76250490,"body_markdown":"So, I set up Apache Nutch 1.19, Apache Solr 8.11.2, and Hadoop 3.3.5, to the best of my knowledge on a Windows 11 PC.\r\n\r\nAfter, I went into the nutch directory and ran this command:\r\n`bin/nutch generate crawl/crawldb crawl/segments`\r\n\r\nThen, I got the following error: \r\n\r\n`Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;`\r\n\r\nDoes anyone know how to solve it?\r\n\r\nBelow is the full output after running the command:\r\n```\r\nSLF4J: Class path contains multiple SLF4J bindings.\r\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\r\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\r\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\r\n2023-05-14 19:01:16,433 INFO o.a.n.p.PluginManifestParser [main] Plugins: looking in: C:\\Users\\User\\Desktop\\wiki\\a\\ApacheNutch\\apache-nutch-1.19\\plugins\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Plugin Auto-activation mode: [true]\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Registered Plugins:\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter (urlfilter-regex)\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Html Parse Plug-in (parse-html)\r\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    HTTP Framework (lib-http)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    the nutch core extension points (nutch-extensionpoints)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic Indexing Filter (index-basic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Anchor Indexing Filter (index-anchor)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Tika Parser Plug-in (parse-tika)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic URL Normalizer (urlnormalizer-basic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter Framework (lib-regex-filter)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Normalizer (urlnormalizer-regex)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    URL Validator (urlfilter-validator)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    CyberNeko HTML Parser (lib-nekohtml)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    OPIC Scoring Plug-in (scoring-opic)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Pass-through URL Normalizer (urlnormalizer-pass)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Http Protocol Plug-in (protocol-http)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    SolrIndexWriter (indexer-solr)\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main] Registered Extension-Points:\r\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]     (Nutch Content Parser)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (HTML Parse Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Scoring)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Normalizer)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Publisher)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Exchange)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Protocol)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Ignore Exemption Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Index Writer)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Segment Merge Filter)\r\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Indexing Filter)\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: starting at 2023-05-14 19:01:16\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: Selecting best-scoring urls due for fetch.\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: filtering: true\r\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: normalizing: true\r\n2023-05-14 19:01:16,974 INFO o.a.n.c.Generator [main] Generator: running in local mode, generating exactly one partition.\r\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;\r\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\r\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\r\n        at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\r\n        at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\r\n        at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\r\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1972)\r\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:2014)\r\n        at org.apache.hadoop.fs.FileSystem$4.&lt;init&gt;(FileSystem.java:2180)\r\n        at org.apache.hadoop.fs.FileSystem.listLocatedStatus(FileSystem.java:2179)\r\n        at org.apache.hadoop.fs.ChecksumFileSystem.listLocatedStatus(ChecksumFileSystem.java:783)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:320)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\r\n        at org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:59)\r\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\r\n        at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\r\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\r\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\r\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)\r\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:525)\r\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\r\n        at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\r\n        at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\r\n        at org.apache.nutch.crawl.Generator.generate(Generator.java:895)\r\n        at org.apache.nutch.crawl.Generator.run(Generator.java:1119)\r\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\r\n        at org.apache.nutch.crawl.Generator.main(Generator.java:1066)\r\n```","title":"Apache Nutch 1.19 Getting Error: &#39;boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)&#39;","body":"<p>So, I set up Apache Nutch 1.19, Apache Solr 8.11.2, and Hadoop 3.3.5, to the best of my knowledge on a Windows 11 PC.</p>\n<p>After, I went into the nutch directory and ran this command:\n<code>bin/nutch generate crawl/crawldb crawl/segments</code></p>\n<p>Then, I got the following error:</p>\n<p><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)'</code></p>\n<p>Does anyone know how to solve it?</p>\n<p>Below is the full output after running the command:</p>\n<pre><code>SLF4J: Class path contains multiple SLF4J bindings.\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/log4j-slf4j-impl-2.18.0.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: Found binding in [jar:file:/C:/Users/User/Desktop/wiki/a/ApacheNutch/apache-nutch-1.19/lib/slf4j-reload4j-1.7.36.jar!/org/slf4j/impl/StaticLoggerBinder.class]\nSLF4J: See http://www.slf4j.org/codes.html#multiple_bindings for an explanation.\nSLF4J: Actual binding is of type [org.apache.logging.slf4j.Log4jLoggerFactory]\n2023-05-14 19:01:16,433 INFO o.a.n.p.PluginManifestParser [main] Plugins: looking in: C:\\Users\\User\\Desktop\\wiki\\a\\ApacheNutch\\apache-nutch-1.19\\plugins\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Plugin Auto-activation mode: [true]\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main] Registered Plugins:\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter (urlfilter-regex)\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    Html Parse Plug-in (parse-html)\n2023-05-14 19:01:16,558 INFO o.a.n.p.PluginRepository [main]    HTTP Framework (lib-http)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    the nutch core extension points (nutch-extensionpoints)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic Indexing Filter (index-basic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Anchor Indexing Filter (index-anchor)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Tika Parser Plug-in (parse-tika)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Basic URL Normalizer (urlnormalizer-basic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Filter Framework (lib-regex-filter)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Regex URL Normalizer (urlnormalizer-regex)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    URL Validator (urlfilter-validator)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    CyberNeko HTML Parser (lib-nekohtml)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    OPIC Scoring Plug-in (scoring-opic)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Pass-through URL Normalizer (urlnormalizer-pass)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    Http Protocol Plug-in (protocol-http)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]    SolrIndexWriter (indexer-solr)\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main] Registered Extension-Points:\n2023-05-14 19:01:16,559 INFO o.a.n.p.PluginRepository [main]     (Nutch Content Parser)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (HTML Parse Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Scoring)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Normalizer)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Publisher)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Exchange)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Protocol)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch URL Ignore Exemption Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Index Writer)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Segment Merge Filter)\n2023-05-14 19:01:16,560 INFO o.a.n.p.PluginRepository [main]     (Nutch Indexing Filter)\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: starting at 2023-05-14 19:01:16\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: Selecting best-scoring urls due for fetch.\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: filtering: true\n2023-05-14 19:01:16,969 INFO o.a.n.c.Generator [main] Generator: normalizing: true\n2023-05-14 19:01:16,974 INFO o.a.n.c.Generator [main] Generator: running in local mode, generating exactly one partition.\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: 'boolean org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(java.lang.String, int)'\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access0(Native Method)\n        at org.apache.hadoop.io.nativeio.NativeIO$Windows.access(NativeIO.java:793)\n        at org.apache.hadoop.fs.FileUtil.canRead(FileUtil.java:1249)\n        at org.apache.hadoop.fs.FileUtil.list(FileUtil.java:1454)\n        at org.apache.hadoop.fs.RawLocalFileSystem.listStatus(RawLocalFileSystem.java:601)\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:1972)\n        at org.apache.hadoop.fs.FileSystem.listStatus(FileSystem.java:2014)\n        at org.apache.hadoop.fs.FileSystem$4.&lt;init&gt;(FileSystem.java:2180)\n        at org.apache.hadoop.fs.FileSystem.listLocatedStatus(FileSystem.java:2179)\n        at org.apache.hadoop.fs.ChecksumFileSystem.listLocatedStatus(ChecksumFileSystem.java:783)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.singleThreadedListStatus(FileInputFormat.java:320)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.listStatus(FileInputFormat.java:279)\n        at org.apache.hadoop.mapreduce.lib.input.SequenceFileInputFormat.listStatus(SequenceFileInputFormat.java:59)\n        at org.apache.hadoop.mapreduce.lib.input.FileInputFormat.getSplits(FileInputFormat.java:404)\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeNewSplits(JobSubmitter.java:310)\n        at org.apache.hadoop.mapreduce.JobSubmitter.writeSplits(JobSubmitter.java:327)\n        at org.apache.hadoop.mapreduce.JobSubmitter.submitJobInternal(JobSubmitter.java:200)\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1571)\n        at org.apache.hadoop.mapreduce.Job$11.run(Job.java:1568)\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:714)\n        at java.base/javax.security.auth.Subject.doAs(Subject.java:525)\n        at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1878)\n        at org.apache.hadoop.mapreduce.Job.submit(Job.java:1568)\n        at org.apache.hadoop.mapreduce.Job.waitForCompletion(Job.java:1589)\n        at org.apache.nutch.crawl.Generator.generate(Generator.java:895)\n        at org.apache.nutch.crawl.Generator.run(Generator.java:1119)\n        at org.apache.hadoop.util.ToolRunner.run(ToolRunner.java:81)\n        at org.apache.nutch.crawl.Generator.main(Generator.java:1066)\n</code></pre>\n"},{"tags":["java","android","eclipse"],"comments":[{"owner":{"account_id":1156194,"reputation":1430,"user_id":1136734,"accept_rate":93,"display_name":"dave"},"score":6,"creation_date":1452791931,"post_id":26397382,"comment_id":57334787,"body_markdown":"What have you tried so far, show us some code on where you are having problems","body":"What have you tried so far, show us some code on where you are having problems"}],"answers":[{"tags":[],"owner":{"account_id":6667715,"reputation":7474,"user_id":5144855,"accept_rate":47,"display_name":"Ruchir Baronia"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1684116657,"creation_date":1453158380,"answer_id":34865760,"question_id":26397382,"body_markdown":"Most of the time, when something needs to be done offline, it is done in a `service`. \r\n\r\n[![enter image description here][1]][1]\r\n(www.slideshare.net)\r\n\r\nAssuming you don&#39;t know what a service is, from the docs:\r\n&gt; A Service is an application component representing either an\r\n&gt; application&#39;s desire to perform a longer-running operation while not\r\n&gt; interacting with the user or to supply functionality for other\r\n&gt; applications to use. Each service class must have a corresponding\r\n&gt; &lt;service&gt; declaration in its package&#39;s AndroidManifest.xml. Services\r\n&gt; can be started with Context.startService() and Context.bindService().\r\n\r\nSo basically, its just something that runs in the background, including when the screen is off. Now, **all you have to do, is put your recording code in a service.** You may face a problem that your service gets killed by the system, as the android docs specify:\r\n\r\n&gt; Note this means that most of the time your service is running, it may\r\n&gt; be killed by the system if it is under heavy memory pressure. If this\r\n&gt; happens, the system will later try to restart the service. An\r\n&gt; important consequence of this is that if you implement\r\n&gt; onStartCommand() to schedule work to be done asynchronously or in\r\n&gt; another thread, then you may want to use START_FLAG_REDELIVERY to have\r\n&gt; the system re-deliver an Intent for you so that it does not get lost\r\n&gt; if your service is killed while processing it.\r\n\r\nIn this case, you will need to add certain code to keep the service in the **foreground** and make sure that it doesn&#39;t get killed:\r\n\r\n    startForeground();//keeps service from getting destroyed.\r\n\r\nThe only problem that this could provide is a constant notification for the time that the service is alive.\r\n\r\nYou may also use `startSticky()`:\r\n\r\n    @Override\r\n    public int onStartCommand(Intent intent, int flags, int startId) {\r\n        \r\n           // We want this service to continue running until it is explicitly\r\n           // stopped, so return sticky.\r\n           return START_STICKY;\r\n    }\r\n\r\n Now, say you are done recording. You can use:\r\n\r\n    stopSelf();\r\n\r\nto stop the service, or:\r\n\r\n    Context.stopService();\r\n\r\nThis notification is not much of a problem though, because the screen is most likely off while the service is running. You can also customize your notification, and it is better for the user to know what is going on in the background.\r\n\r\nHere&#39;s some sample recording code, from [vanevery&#39;s answer here][2]:\r\n\r\n    public class VideoCapture extends Activity implements OnClickListener, SurfaceHolder.Callback {\r\n        MediaRecorder recorder;\r\n        SurfaceHolder holder;\r\n        boolean recording = false;\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\r\n                    WindowManager.LayoutParams.FLAG_FULLSCREEN);\r\n            setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\r\n    \r\n            recorder = new MediaRecorder();\r\n            initRecorder();\r\n            setContentView(R.layout.main);\r\n    \r\n            SurfaceView cameraView = (SurfaceView) findViewById(R.id.CameraView);\r\n            holder = cameraView.getHolder();\r\n            holder.addCallback(this);\r\n            holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\r\n    \r\n            cameraView.setClickable(true);\r\n            cameraView.setOnClickListener(this);\r\n        }\r\n    \r\n        private void initRecorder() {\r\n            recorder.setAudioSource(MediaRecorder.AudioSource.DEFAULT);\r\n            recorder.setVideoSource(MediaRecorder.VideoSource.DEFAULT);\r\n    \r\n            CamcorderProfile cpHigh = CamcorderProfile\r\n                    .get(CamcorderProfile.QUALITY_HIGH);\r\n            recorder.setProfile(cpHigh);\r\n            recorder.setOutputFile(&quot;/sdcard/videocapture_example.mp4&quot;);\r\n            recorder.setMaxDuration(50000); // 50 seconds\r\n            recorder.setMaxFileSize(5000000); // Approximately 5 megabytes\r\n        }\r\n    \r\n        private void prepareRecorder() {\r\n            recorder.setPreviewDisplay(holder.getSurface());\r\n    \r\n            try {\r\n                recorder.prepare();\r\n            } catch (IllegalStateException e) {\r\n                e.printStackTrace();\r\n                finish();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n                finish();\r\n            }\r\n        }\r\n    \r\n        public void onClick(View v) {\r\n            if (recording) {\r\n                recorder.stop();\r\n                recording = false;\r\n    \r\n                // Let&#39;s initRecorder so we can record again\r\n                initRecorder();\r\n                prepareRecorder();\r\n            } else {\r\n                recording = true;\r\n                recorder.start();\r\n            }\r\n        }\r\n    \r\n        public void surfaceCreated(SurfaceHolder holder) {\r\n            prepareRecorder();\r\n        }\r\n    \r\n        public void surfaceChanged(SurfaceHolder holder, int format, int width,\r\n                int height) {\r\n        }\r\n    \r\n        public void surfaceDestroyed(SurfaceHolder holder) {\r\n            if (recording) {\r\n                recorder.stop();\r\n                recording = false;\r\n            }\r\n            recorder.release();\r\n            finish();\r\n        }\r\n    }\r\n\r\nAgain, put that code into a long running foreground service, as I explained earlier.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/axElh.png\r\n  [2]: https://stackoverflow.com/a/4379320/208273","title":"Android app video recording when screen off","body":"<p>Most of the time, when something needs to be done offline, it is done in a <code>service</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/axElh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/axElh.png\" alt=\"enter image description here\" /></a>\n(<a href=\"http://www.slideshare.net\" rel=\"nofollow noreferrer\">www.slideshare.net</a>)</p>\n<p>Assuming you don't know what a service is, from the docs:</p>\n<blockquote>\n<p>A Service is an application component representing either an\napplication's desire to perform a longer-running operation while not\ninteracting with the user or to supply functionality for other\napplications to use. Each service class must have a corresponding\n declaration in its package's AndroidManifest.xml. Services\ncan be started with Context.startService() and Context.bindService().</p>\n</blockquote>\n<p>So basically, its just something that runs in the background, including when the screen is off. Now, <strong>all you have to do, is put your recording code in a service.</strong> You may face a problem that your service gets killed by the system, as the android docs specify:</p>\n<blockquote>\n<p>Note this means that most of the time your service is running, it may\nbe killed by the system if it is under heavy memory pressure. If this\nhappens, the system will later try to restart the service. An\nimportant consequence of this is that if you implement\nonStartCommand() to schedule work to be done asynchronously or in\nanother thread, then you may want to use START_FLAG_REDELIVERY to have\nthe system re-deliver an Intent for you so that it does not get lost\nif your service is killed while processing it.</p>\n</blockquote>\n<p>In this case, you will need to add certain code to keep the service in the <strong>foreground</strong> and make sure that it doesn't get killed:</p>\n<pre><code>startForeground();//keeps service from getting destroyed.\n</code></pre>\n<p>The only problem that this could provide is a constant notification for the time that the service is alive.</p>\n<p>You may also use <code>startSticky()</code>:</p>\n<pre><code>@Override\npublic int onStartCommand(Intent intent, int flags, int startId) {\n    \n       // We want this service to continue running until it is explicitly\n       // stopped, so return sticky.\n       return START_STICKY;\n}\n</code></pre>\n<p>Now, say you are done recording. You can use:</p>\n<pre><code>stopSelf();\n</code></pre>\n<p>to stop the service, or:</p>\n<pre><code>Context.stopService();\n</code></pre>\n<p>This notification is not much of a problem though, because the screen is most likely off while the service is running. You can also customize your notification, and it is better for the user to know what is going on in the background.</p>\n<p>Here's some sample recording code, from <a href=\"https://stackoverflow.com/a/4379320/208273\">vanevery's answer here</a>:</p>\n<pre><code>public class VideoCapture extends Activity implements OnClickListener, SurfaceHolder.Callback {\n    MediaRecorder recorder;\n    SurfaceHolder holder;\n    boolean recording = false;\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        requestWindowFeature(Window.FEATURE_NO_TITLE);\n        getWindow().setFlags(WindowManager.LayoutParams.FLAG_FULLSCREEN,\n                WindowManager.LayoutParams.FLAG_FULLSCREEN);\n        setRequestedOrientation(ActivityInfo.SCREEN_ORIENTATION_LANDSCAPE);\n\n        recorder = new MediaRecorder();\n        initRecorder();\n        setContentView(R.layout.main);\n\n        SurfaceView cameraView = (SurfaceView) findViewById(R.id.CameraView);\n        holder = cameraView.getHolder();\n        holder.addCallback(this);\n        holder.setType(SurfaceHolder.SURFACE_TYPE_PUSH_BUFFERS);\n\n        cameraView.setClickable(true);\n        cameraView.setOnClickListener(this);\n    }\n\n    private void initRecorder() {\n        recorder.setAudioSource(MediaRecorder.AudioSource.DEFAULT);\n        recorder.setVideoSource(MediaRecorder.VideoSource.DEFAULT);\n\n        CamcorderProfile cpHigh = CamcorderProfile\n                .get(CamcorderProfile.QUALITY_HIGH);\n        recorder.setProfile(cpHigh);\n        recorder.setOutputFile(&quot;/sdcard/videocapture_example.mp4&quot;);\n        recorder.setMaxDuration(50000); // 50 seconds\n        recorder.setMaxFileSize(5000000); // Approximately 5 megabytes\n    }\n\n    private void prepareRecorder() {\n        recorder.setPreviewDisplay(holder.getSurface());\n\n        try {\n            recorder.prepare();\n        } catch (IllegalStateException e) {\n            e.printStackTrace();\n            finish();\n        } catch (IOException e) {\n            e.printStackTrace();\n            finish();\n        }\n    }\n\n    public void onClick(View v) {\n        if (recording) {\n            recorder.stop();\n            recording = false;\n\n            // Let's initRecorder so we can record again\n            initRecorder();\n            prepareRecorder();\n        } else {\n            recording = true;\n            recorder.start();\n        }\n    }\n\n    public void surfaceCreated(SurfaceHolder holder) {\n        prepareRecorder();\n    }\n\n    public void surfaceChanged(SurfaceHolder holder, int format, int width,\n            int height) {\n    }\n\n    public void surfaceDestroyed(SurfaceHolder holder) {\n        if (recording) {\n            recorder.stop();\n            recording = false;\n        }\n        recorder.release();\n        finish();\n    }\n}\n</code></pre>\n<p>Again, put that code into a long running foreground service, as I explained earlier.</p>\n"}],"owner":{"account_id":4765526,"reputation":237,"user_id":3851711,"display_name":"Rajeshwar Rudra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12770,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"answer_count":1,"score":23,"last_activity_date":1684116657,"creation_date":1413439783,"question_id":26397382,"body_markdown":"What I am trying to do is that make an app that can record video or audio while the screen is off. Either we start recording and then switch off the screen or the recorder should trigger with a voice or any other external command. In either case the app should keep on recording.\r\n\r\nPlease provide code of you can.","title":"Android app video recording when screen off","body":"<p>What I am trying to do is that make an app that can record video or audio while the screen is off. Either we start recording and then switch off the screen or the recorder should trigger with a voice or any other external command. In either case the app should keep on recording.</p>\n\n<p>Please provide code of you can.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":5,"creation_date":1684102226,"post_id":76249853,"comment_id":134463654,"body_markdown":"`getEmptyStack()` looks a lot like a factory method to me, and doesn&#39;t prevent me from making actual constructors for that class. You might consider factory methods if you haven&#39;t.  But also I don&#39;t see a perfect &quot;Java does exactly what you want it to&quot; way to do this.  What you have now is already too complicated imo, and any maintenance programmer would complain about it being difficult.","body":"<code>getEmptyStack()</code> looks a lot like a factory method to me, and doesn&#39;t prevent me from making actual constructors for that class. You might consider factory methods if you haven&#39;t.  But also I don&#39;t see a perfect &quot;Java does exactly what you want it to&quot; way to do this.  What you have now is already too complicated imo, and any maintenance programmer would complain about it being difficult."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1684104887,"post_id":76249853,"comment_id":134463857,"body_markdown":"[*What are static factory methods?*](https://stackoverflow.com/q/929021/642706). And https://en.m.wikipedia.org/wiki/Factory_method_pattern","body":"<a href=\"https://stackoverflow.com/q/929021/642706\"><i>What are static factory methods?</i></a>. And <a href=\"https://en.m.wikipedia.org/wiki/Factory_method_pattern\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Factory_method_pattern</a>"},{"owner":{"account_id":10242804,"reputation":649,"user_id":8045100,"display_name":"Frank Hopkins"},"score":0,"creation_date":1684105742,"post_id":76249853,"comment_id":134463928,"body_markdown":"aside from using factory methods as a means to initiate instances - why would you try to force a force constructors in the first place? If you implement a subclass then you would need to worry about how to instantiate it, and there typically is no need to force a certain way, different implementation might have different requirements for their constructions. And if you want to have a standardized way for dynamic switches without custom code to bind each implementation instantiation to the switch then a separate factory would be what you want typically.","body":"aside from using factory methods as a means to initiate instances - why would you try to force a force constructors in the first place? If you implement a subclass then you would need to worry about how to instantiate it, and there typically is no need to force a certain way, different implementation might have different requirements for their constructions. And if you want to have a standardized way for dynamic switches without custom code to bind each implementation instantiation to the switch then a separate factory would be what you want typically."},{"owner":{"account_id":378093,"reputation":1053,"user_id":730606,"accept_rate":92,"display_name":"Polymer"},"score":0,"creation_date":1684106890,"post_id":76249853,"comment_id":134464006,"body_markdown":"I reviewed the Factory method. Are folks suggesting I implement `Stack` as an abstract class and reverse as one of its methods? And then the creation logic goes into child classes of `Stack` (so an `ArrayStack`, and `LinkedStack` would be child classes)? How would I then get reverse to then return a definite instance of the child classes?","body":"I reviewed the Factory method. Are folks suggesting I implement <code>Stack</code> as an abstract class and reverse as one of its methods? And then the creation logic goes into child classes of <code>Stack</code> (so an <code>ArrayStack</code>, and <code>LinkedStack</code> would be child classes)? How would I then get reverse to then return a definite instance of the child classes?"}],"answers":[{"tags":[],"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1684107021,"creation_date":1684106783,"answer_id":76250079,"question_id":76249853,"body_markdown":"For starters, Stack doesn&#39;t need a 2nd generic type parameter declared on the type.\r\n\r\n    interface Stack&lt;V, T&gt; {\r\n        public V getEmptyStack();\r\n\r\ncan become\r\n\r\n    interface Stack&lt;T&gt; {\r\n        public &lt;V&gt; Stack&lt;V&gt; getEmptyStack();\r\n\r\nThat should simplify things quite a lot.\r\n\r\n&gt; With the above defined, I can define a generic method &quot;reverse&quot;:\r\n\r\nYou can do that without that weird method by choosing a different implementation. You&#39;re already modifying the input stack. You may as well reuse that instance.\r\n\r\n    public static &lt;T, U extends Stack&lt;T&gt;&gt; U reverse(U s){\r\n        List&lt;T&gt; items = new ArrayList&lt;&gt;();\r\n        while (!s.isEmpty()){\r\n            items.add(s.pop());\r\n        }\r\n        for (int i = items.size() - 1; i &gt;= 0; i--) {\r\n            s.push(items.get(i));\r\n        }\r\n        return s;\r\n    }\r\n\r\n&gt; Would folks generally be less confused by `getDeclaredConstructor` and\r\n&gt; `newInstance` than what I wrote above?\r\n\r\nYes, probably.\r\n\r\n&gt; I want the interface to require constructor methods which return the\r\n&gt; subtype implementing the interface\r\n\r\nIf I had a real need for this - and I have in the past - then I&#39;d just put a JavaDoc on the interface stating that requirement.","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>For starters, Stack doesn't need a 2nd generic type parameter declared on the type.</p>\n<pre><code>interface Stack&lt;V, T&gt; {\n    public V getEmptyStack();\n</code></pre>\n<p>can become</p>\n<pre><code>interface Stack&lt;T&gt; {\n    public &lt;V&gt; Stack&lt;V&gt; getEmptyStack();\n</code></pre>\n<p>That should simplify things quite a lot.</p>\n<blockquote>\n<p>With the above defined, I can define a generic method &quot;reverse&quot;:</p>\n</blockquote>\n<p>You can do that without that weird method by choosing a different implementation. You're already modifying the input stack. You may as well reuse that instance.</p>\n<pre><code>public static &lt;T, U extends Stack&lt;T&gt;&gt; U reverse(U s){\n    List&lt;T&gt; items = new ArrayList&lt;&gt;();\n    while (!s.isEmpty()){\n        items.add(s.pop());\n    }\n    for (int i = items.size() - 1; i &gt;= 0; i--) {\n        s.push(items.get(i));\n    }\n    return s;\n}\n</code></pre>\n<blockquote>\n<p>Would folks generally be less confused by <code>getDeclaredConstructor</code> and\n<code>newInstance</code> than what I wrote above?</p>\n</blockquote>\n<p>Yes, probably.</p>\n<blockquote>\n<p>I want the interface to require constructor methods which return the\nsubtype implementing the interface</p>\n</blockquote>\n<p>If I had a real need for this - and I have in the past - then I'd just put a JavaDoc on the interface stating that requirement.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1684114922,"creation_date":1684107691,"answer_id":76250114,"question_id":76249853,"body_markdown":"Reflection is just the wrong bet. In general treating a `Class&lt;?&gt;` reference as a place for &#39;type-wide operations&#39; __is wrong__.\r\n\r\nIt sounds enticing, though, doesn&#39;t it? Let&#39;s cover why it feels like the right answer, so that we know what alternative we need to find, because I&#39;ll follow this up why it&#39;s wrong.\r\n\r\n## Why `Class&lt;?&gt;` / static methods feels right\r\n\r\nThe class itself _is_ the place where such things should live (operations that make sense on arraylist should live in the arraylist type - that&#39;s a statement that would get _very_ broad agreement).\r\n\r\nIn java terminology, there are 2 different things that both serve as &#39;class-global&#39; functions: Constructors, and static methods. At a more pragmatic level there is effectively zero difference between those two constructs: They both do not require a receiver (`x.foo()` - `x` is the receiver), and they both __completely operate outside the type hierarchy__. static methods cannot be inherited. The language makes it look like you do, but this is fake - they don&#39;t engage in dynamic dispatch, any call to a static method is &#39;linked&#39; by `javac` and isn&#39;t going to change at runtime (vs. any call to an instance method, where the JVM will apply dynamic dispatch and call the most specific override). Constructors also cannot be.\r\n\r\nNevertheless, for an operation that doesn&#39;t make sense to call on any specific `ArrayStack`, but does make sense to call on the concept of &#39;array stacks&#39;, all our textbooks say: That should be a static method inside `ArrayStack`. And if the specific operation we want to perform results in the creation of a new one, we&#39;d want a constructor (which is just a weird static method).\r\n\r\nBut, as I mentioned, __static methods just do not &#39;do&#39; inheritance or a type hierarchy__ - you cannot define static methods (or constructors) in an interface, period. So when you want the power of generics and type hierarchy, you __just have to look elsewhere__.\r\n\r\nIn theory you can indeed just pass `Class&lt;?&gt;` instances around and use `.getConstructor().newInstance()` as ersatz &#39;type hierarchy-engaging, generified constructors&#39; and even use e.g. `.getDeclaredMethod().invoke(null, params-go-here)` to declare static methods.\r\n\r\nBut we&#39;ve now left the typing system behind completely. It is not possible to use the type system to enforce a no-args constructor, or the existence of a static method. And reflection is very hard to work with (all sorts of exceptions that fall out, for example, and things are now &#39;stringly typed&#39; - if you typo that static method the docs decree you must have, the compiler won&#39;t tell you. In constrast to fat-fingering the name of a method you must implement because you `implements` some interface, in which case `javac` will tell you immediately you did it wrong. The tooling also helps: I can just type the fist few letters of a method defined in an interface I `implements`, hit CMD+SPACE in eclipse, and eclipse instantly fills in all the blanks (the full name, `public`, the argument types and sensible names, even a `throws` clause if relevant and an `@Override` annotation). None of that is available if you attempt to use reflection to call into static methods or constructors.\r\n\r\n`Class&lt;?&gt;` is also &#39;broken generics&#39; - they can only go one level deep. You can have a `Class&lt;String&gt;`, and its `.getConstructor().newInstance()`  method will have type `String`. But you simply cannot have a `Class&lt;List&lt;String&gt;&gt;` - there is only one class object for all strings, it __cannot__ be generified. That&#39;s quite a deleterious downside of even trying.\r\n\r\n## So what do you do?\r\n\r\nFACTORIES!\r\n\r\nI know, I know. It&#39;s a meme. Oh, those crazy java programmers and their `BeanFactoryCreatorMachineDoohickeyFactory` craziness.\r\n\r\nBut, that&#39;s just, I guess, misleading. At least, don&#39;t let that deter you from using the concept, because it is __precisely what you want here: It&#39;s type-system-engaged, generics-capable class-wide operations__.\r\n\r\nThe idea is simple. Let&#39;s take this stack notion and decree that any implementation of the concept `Stack` must provide some type-wide operations, which includes making a new empty one, but may also include more operations. For example, consider a generalized number system (where you have some Number concept, and you have &#39;complex number&#39;, &#39;vector number&#39;, &#39;real number&#39;, &#39;number stored as divisor and dividend&#39;, and so on. You may want type-wide &#39;construct me a new instance of you, with this int value&#39; but also a &#39;construct me a multiplicative unit value of yourself, e.g. 0 for real numbers, 0+0i for complex, an all-zeroes-except-for-a-diagonal-with-ones matrix, and so on&#39; operation.\r\n\r\nFactory is how you do that. You create a second type hierarchy that represents instances (generally, only one instance per type) that represents that object that is capable of doing these operations:\r\n\r\n```\r\ninterface StackFactory {\r\n  &lt;T&gt; Stack&lt;T&gt; create();\r\n  boolean isRandomAccess();\r\n}\r\n\r\n// and an example implementation:\r\n\r\npublic class ArrayStackFactory implements StackFactory {\r\n  &lt;T&gt; public ArrayStack&lt;T&gt; create() {\r\n    return new ArrayStack&lt;T&gt;();\r\n  }\r\n\r\n  public boolean isRandomAccess() {\r\n    return true;\r\n  }\r\n}\r\n\r\npublic interface Stack&lt;T&gt; { ... }\r\npublic class ArrayStack&lt;T&gt; implements Stack&lt;T&gt; { ... }\r\n```\r\n\r\n\r\nThis does some of what you want:\r\n\r\nGiven &#39;some sort of StackFactory&#39;, you can just call `create()` on it and get a `Stack&lt;T&gt;` back. That&#39;s perfect. However, if you know the specific type of the stackfactory you get a more specific type back. This works:\r\n\r\n```\r\nArrayStackFactory asf = ....;\r\nArrayStack&lt;String&gt; = asf.create();\r\n```\r\n\r\nOne downside is here is that java doesn&#39;t let you &#39;program&#39; your type vars. You therefore can&#39;t have a typevar representing the stack type (say, `ArrayStack`), and then have a method that combines that typevar with an element typevar and thus produce the type `ArrayStack&lt;String&gt;` from separate typevars `ArrayStack` and `String`. e.g. your reverse method can&#39;t quite get the job done.\r\n\r\nThis would have been very neat:\r\n\r\n```\r\ninterface StackFactory&lt;S extends Stack&gt; {\r\n  &lt;T&gt; S&lt;T&gt; create();\r\n}\r\n```\r\n\r\nBut that&#39;s a java limitation that you can&#39;t work around, other than by &#39;casting&#39; to generics (which does nothing, other than make the compiler stop complaining. It doesn&#39;t actually type test), and `@SuppressWarnings` the warning the compiler throws at you when you do that.\r\n\r\n----\r\n\r\nEDIT: Upon request, how `reverse` would work. Also, as a bonus, when your &#39;factory&#39; only needs to expose one thing (e.g. the interface would have just the one method), instead you can just use `Supplier&lt;X&gt;` (or `Function&lt;K, V&gt;` if the operation takes an argument, and so on - something from the java.util.function package). This is in fact exactly what `Collection.toArray()` takes (its signature is `public &lt;T&gt; T[] toArray(IntFunction&lt;T[]&gt; arrayMaker)` - where arraymaker turns a requested size into an array of that size, and can be as simple as `String[]::new` which is an `IntFunction&lt;String[]&gt;`):\r\n\r\n```\r\npublic static &lt;T&gt; Stack&lt;T&gt; reverse(Stack&lt;T&gt; in) {\r\n  Stack&lt;T&gt; out = in.factory().create();\r\n  while (!in.isEmpty()) out.push(in.pop());\r\n  return out;\r\n}\r\n```\r\n\r\nThis assumes the `Stack` interface is updated to require that all stacks are capable of returning their factory. Alternatively, you can instead require that the factory is part of the argument. This is how `toArray` works (you pass the factory in, in the form of an `IntFunction&lt;T[]&gt;`).\r\n\r\nWe can do that &#39;in one go&#39;, so to speak, __and__ get rid of our &#39;util&#39; class entirely (util classes are kinda ugly, they really shouldn&#39;t exist). Java has default methods now:\r\n\r\n```\r\npublic interface Stack&lt;T&gt; {\r\n  StackFactory factory();\r\n  T pop();\r\n  void push(T elem);\r\n  boolean isEmpty();\r\n\r\n  default Stack&lt;T&gt; reverse() {\r\n    Stack&lt;T&gt; out = this.factory().create();\r\n    while (!this.isEmpty()) out.push(this.pop());\r\n    return out;\r\n  }\r\n}\r\n```\r\n\r\nOr even, using a pass-in factory:\r\n\r\n```\r\npublic interface Stack&lt;T&gt; {\r\n  T pop();\r\n  void push(T elem);\r\n  boolean isEmpty();\r\n\r\n  default &lt;S extends Stack&lt;T&gt;&gt; S reverse(Supplier&lt;S&gt; supplier) {\r\n    S out = supplier.get();\r\n    while (!this.isEmpty()) out.push(this.pop());\r\n    return out;\r\n  }\r\n}\r\n```\r\n\r\nto use that last one:\r\n\r\n```\r\nArrayStack&lt;String&gt; myStack = ...;\r\nArrayStack&lt;String&gt; reversed = someArrayStack.reverse(ArrayStack::new);\r\n```\r\n\r\nWhich is neat in that it even lets us assign to a variable of type `ArrayStack` which the rest of these options can&#39;t manage.\r\n","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>Reflection is just the wrong bet. In general treating a <code>Class&lt;?&gt;</code> reference as a place for 'type-wide operations' <strong>is wrong</strong>.</p>\n<p>It sounds enticing, though, doesn't it? Let's cover why it feels like the right answer, so that we know what alternative we need to find, because I'll follow this up why it's wrong.</p>\n<h2>Why <code>Class&lt;?&gt;</code> / static methods feels right</h2>\n<p>The class itself <em>is</em> the place where such things should live (operations that make sense on arraylist should live in the arraylist type - that's a statement that would get <em>very</em> broad agreement).</p>\n<p>In java terminology, there are 2 different things that both serve as 'class-global' functions: Constructors, and static methods. At a more pragmatic level there is effectively zero difference between those two constructs: They both do not require a receiver (<code>x.foo()</code> - <code>x</code> is the receiver), and they both <strong>completely operate outside the type hierarchy</strong>. static methods cannot be inherited. The language makes it look like you do, but this is fake - they don't engage in dynamic dispatch, any call to a static method is 'linked' by <code>javac</code> and isn't going to change at runtime (vs. any call to an instance method, where the JVM will apply dynamic dispatch and call the most specific override). Constructors also cannot be.</p>\n<p>Nevertheless, for an operation that doesn't make sense to call on any specific <code>ArrayStack</code>, but does make sense to call on the concept of 'array stacks', all our textbooks say: That should be a static method inside <code>ArrayStack</code>. And if the specific operation we want to perform results in the creation of a new one, we'd want a constructor (which is just a weird static method).</p>\n<p>But, as I mentioned, <strong>static methods just do not 'do' inheritance or a type hierarchy</strong> - you cannot define static methods (or constructors) in an interface, period. So when you want the power of generics and type hierarchy, you <strong>just have to look elsewhere</strong>.</p>\n<p>In theory you can indeed just pass <code>Class&lt;?&gt;</code> instances around and use <code>.getConstructor().newInstance()</code> as ersatz 'type hierarchy-engaging, generified constructors' and even use e.g. <code>.getDeclaredMethod().invoke(null, params-go-here)</code> to declare static methods.</p>\n<p>But we've now left the typing system behind completely. It is not possible to use the type system to enforce a no-args constructor, or the existence of a static method. And reflection is very hard to work with (all sorts of exceptions that fall out, for example, and things are now 'stringly typed' - if you typo that static method the docs decree you must have, the compiler won't tell you. In constrast to fat-fingering the name of a method you must implement because you <code>implements</code> some interface, in which case <code>javac</code> will tell you immediately you did it wrong. The tooling also helps: I can just type the fist few letters of a method defined in an interface I <code>implements</code>, hit CMD+SPACE in eclipse, and eclipse instantly fills in all the blanks (the full name, <code>public</code>, the argument types and sensible names, even a <code>throws</code> clause if relevant and an <code>@Override</code> annotation). None of that is available if you attempt to use reflection to call into static methods or constructors.</p>\n<p><code>Class&lt;?&gt;</code> is also 'broken generics' - they can only go one level deep. You can have a <code>Class&lt;String&gt;</code>, and its <code>.getConstructor().newInstance()</code>  method will have type <code>String</code>. But you simply cannot have a <code>Class&lt;List&lt;String&gt;&gt;</code> - there is only one class object for all strings, it <strong>cannot</strong> be generified. That's quite a deleterious downside of even trying.</p>\n<h2>So what do you do?</h2>\n<p>FACTORIES!</p>\n<p>I know, I know. It's a meme. Oh, those crazy java programmers and their <code>BeanFactoryCreatorMachineDoohickeyFactory</code> craziness.</p>\n<p>But, that's just, I guess, misleading. At least, don't let that deter you from using the concept, because it is <strong>precisely what you want here: It's type-system-engaged, generics-capable class-wide operations</strong>.</p>\n<p>The idea is simple. Let's take this stack notion and decree that any implementation of the concept <code>Stack</code> must provide some type-wide operations, which includes making a new empty one, but may also include more operations. For example, consider a generalized number system (where you have some Number concept, and you have 'complex number', 'vector number', 'real number', 'number stored as divisor and dividend', and so on. You may want type-wide 'construct me a new instance of you, with this int value' but also a 'construct me a multiplicative unit value of yourself, e.g. 0 for real numbers, 0+0i for complex, an all-zeroes-except-for-a-diagonal-with-ones matrix, and so on' operation.</p>\n<p>Factory is how you do that. You create a second type hierarchy that represents instances (generally, only one instance per type) that represents that object that is capable of doing these operations:</p>\n<pre><code>interface StackFactory {\n  &lt;T&gt; Stack&lt;T&gt; create();\n  boolean isRandomAccess();\n}\n\n// and an example implementation:\n\npublic class ArrayStackFactory implements StackFactory {\n  &lt;T&gt; public ArrayStack&lt;T&gt; create() {\n    return new ArrayStack&lt;T&gt;();\n  }\n\n  public boolean isRandomAccess() {\n    return true;\n  }\n}\n\npublic interface Stack&lt;T&gt; { ... }\npublic class ArrayStack&lt;T&gt; implements Stack&lt;T&gt; { ... }\n</code></pre>\n<p>This does some of what you want:</p>\n<p>Given 'some sort of StackFactory', you can just call <code>create()</code> on it and get a <code>Stack&lt;T&gt;</code> back. That's perfect. However, if you know the specific type of the stackfactory you get a more specific type back. This works:</p>\n<pre><code>ArrayStackFactory asf = ....;\nArrayStack&lt;String&gt; = asf.create();\n</code></pre>\n<p>One downside is here is that java doesn't let you 'program' your type vars. You therefore can't have a typevar representing the stack type (say, <code>ArrayStack</code>), and then have a method that combines that typevar with an element typevar and thus produce the type <code>ArrayStack&lt;String&gt;</code> from separate typevars <code>ArrayStack</code> and <code>String</code>. e.g. your reverse method can't quite get the job done.</p>\n<p>This would have been very neat:</p>\n<pre><code>interface StackFactory&lt;S extends Stack&gt; {\n  &lt;T&gt; S&lt;T&gt; create();\n}\n</code></pre>\n<p>But that's a java limitation that you can't work around, other than by 'casting' to generics (which does nothing, other than make the compiler stop complaining. It doesn't actually type test), and <code>@SuppressWarnings</code> the warning the compiler throws at you when you do that.</p>\n<hr />\n<p>EDIT: Upon request, how <code>reverse</code> would work. Also, as a bonus, when your 'factory' only needs to expose one thing (e.g. the interface would have just the one method), instead you can just use <code>Supplier&lt;X&gt;</code> (or <code>Function&lt;K, V&gt;</code> if the operation takes an argument, and so on - something from the java.util.function package). This is in fact exactly what <code>Collection.toArray()</code> takes (its signature is <code>public &lt;T&gt; T[] toArray(IntFunction&lt;T[]&gt; arrayMaker)</code> - where arraymaker turns a requested size into an array of that size, and can be as simple as <code>String[]::new</code> which is an <code>IntFunction&lt;String[]&gt;</code>):</p>\n<pre><code>public static &lt;T&gt; Stack&lt;T&gt; reverse(Stack&lt;T&gt; in) {\n  Stack&lt;T&gt; out = in.factory().create();\n  while (!in.isEmpty()) out.push(in.pop());\n  return out;\n}\n</code></pre>\n<p>This assumes the <code>Stack</code> interface is updated to require that all stacks are capable of returning their factory. Alternatively, you can instead require that the factory is part of the argument. This is how <code>toArray</code> works (you pass the factory in, in the form of an <code>IntFunction&lt;T[]&gt;</code>).</p>\n<p>We can do that 'in one go', so to speak, <strong>and</strong> get rid of our 'util' class entirely (util classes are kinda ugly, they really shouldn't exist). Java has default methods now:</p>\n<pre><code>public interface Stack&lt;T&gt; {\n  StackFactory factory();\n  T pop();\n  void push(T elem);\n  boolean isEmpty();\n\n  default Stack&lt;T&gt; reverse() {\n    Stack&lt;T&gt; out = this.factory().create();\n    while (!this.isEmpty()) out.push(this.pop());\n    return out;\n  }\n}\n</code></pre>\n<p>Or even, using a pass-in factory:</p>\n<pre><code>public interface Stack&lt;T&gt; {\n  T pop();\n  void push(T elem);\n  boolean isEmpty();\n\n  default &lt;S extends Stack&lt;T&gt;&gt; S reverse(Supplier&lt;S&gt; supplier) {\n    S out = supplier.get();\n    while (!this.isEmpty()) out.push(this.pop());\n    return out;\n  }\n}\n</code></pre>\n<p>to use that last one:</p>\n<pre><code>ArrayStack&lt;String&gt; myStack = ...;\nArrayStack&lt;String&gt; reversed = someArrayStack.reverse(ArrayStack::new);\n</code></pre>\n<p>Which is neat in that it even lets us assign to a variable of type <code>ArrayStack</code> which the rest of these options can't manage.</p>\n"}],"owner":{"account_id":378093,"reputation":1053,"user_id":730606,"accept_rate":92,"display_name":"Polymer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76250114,"answer_count":2,"score":0,"last_activity_date":1684114922,"creation_date":1684101594,"question_id":76249853,"body_markdown":"I&#39;m trying to initialize generic types in generic methods. I&#39;ve since learned you can&#39;t require constructors in interfaces, so I figured out how to use generics to roughly fake the same behavior:\r\n\r\n```\r\ninterface Stack&lt;V, T&gt;{\r\n    public V getEmptyStack();  //V is supposed to be the subclass\r\n    public V copy(V s);\r\n    public void push(T e);\r\n    public T pop();\r\n    public boolean isEmpty();\r\n}\r\n\r\nclass ArrayStack&lt;T&gt; implements Stack&lt;ArrayStack&lt;T&gt;, T&gt;{ //Have to pass subclass\r\n\r\n    public ArrayStack&lt;T&gt; getEmptyStack(){ //Constructor returns type of the class.\r\n        return new ArrayStack&lt;T&gt;();\r\n    }\r\n...\r\n```\r\nWith the above defined, I can define a generic method &quot;reverse&quot;:\r\n\r\n```\r\npublic static &lt;V, S extends Stack&lt;S,V&gt; &gt; S reverse(S s){\r\n    s = s.copy();\r\n    S out = s.getEmptyStack(); //Trying to initialize out as simply as possible.\r\n    while(!s.isEmpty()){\r\n        out.push(s.pop());\r\n    }\r\n    return out;\r\n}\r\n```\r\nI want the interface to require constructor methods which return the subtype implementing the interface. The current interface does this if it&#39;s implemented correctly; however it is a bit complicated.\r\n\r\nIf Java can&#39;t do this in a simpler way, I&#39;d like to know the idiomatic patterns for initializing generic types. Would folks generally be less confused by `getDeclaredConstructor` and `newInstance` than what I wrote above? Or is what I wrote above fine?","title":"Idiomatic way to have constructor methods required by interfaces","body":"<p>I'm trying to initialize generic types in generic methods. I've since learned you can't require constructors in interfaces, so I figured out how to use generics to roughly fake the same behavior:</p>\n<pre><code>interface Stack&lt;V, T&gt;{\n    public V getEmptyStack();  //V is supposed to be the subclass\n    public V copy(V s);\n    public void push(T e);\n    public T pop();\n    public boolean isEmpty();\n}\n\nclass ArrayStack&lt;T&gt; implements Stack&lt;ArrayStack&lt;T&gt;, T&gt;{ //Have to pass subclass\n\n    public ArrayStack&lt;T&gt; getEmptyStack(){ //Constructor returns type of the class.\n        return new ArrayStack&lt;T&gt;();\n    }\n...\n</code></pre>\n<p>With the above defined, I can define a generic method &quot;reverse&quot;:</p>\n<pre><code>public static &lt;V, S extends Stack&lt;S,V&gt; &gt; S reverse(S s){\n    s = s.copy();\n    S out = s.getEmptyStack(); //Trying to initialize out as simply as possible.\n    while(!s.isEmpty()){\n        out.push(s.pop());\n    }\n    return out;\n}\n</code></pre>\n<p>I want the interface to require constructor methods which return the subtype implementing the interface. The current interface does this if it's implemented correctly; however it is a bit complicated.</p>\n<p>If Java can't do this in a simpler way, I'd like to know the idiomatic patterns for initializing generic types. Would folks generally be less confused by <code>getDeclaredConstructor</code> and <code>newInstance</code> than what I wrote above? Or is what I wrote above fine?</p>\n"},{"tags":["java","powershell","visual-studio-code"],"owner":{"account_id":26566006,"reputation":1,"user_id":21898642,"display_name":"Miguel Buitrago"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684114836,"answer_count":0,"score":0,"last_activity_date":1684114774,"creation_date":1684114683,"question_id":76250395,"body_markdown":"I am programming in Java in Vscode. The situation is that the code takes a considerable time to execute, when I would think it should be almost instantaneous. I get the message: &quot;Loading personal and system profiles took Xms&quot;. I don&#39;t know what it means and I don&#39;t know if it is related to the fact that the terminal took time to execute the code.\r\n\r\nDo you know why this happens and how to fix it? It would be like speeding up Vscode&#39;s terminal response time or something. Thank you!\r\n\r\n[Problem][1]\r\nI have updated Powershell but there was no change in Vscode\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dayyP.png","title":"Why does this appear in the VSCode terminal? How do I make it not take so long to run the code?","body":"<p>I am programming in Java in Vscode. The situation is that the code takes a considerable time to execute, when I would think it should be almost instantaneous. I get the message: &quot;Loading personal and system profiles took Xms&quot;. I don't know what it means and I don't know if it is related to the fact that the terminal took time to execute the code.</p>\n<p>Do you know why this happens and how to fix it? It would be like speeding up Vscode's terminal response time or something. Thank you!</p>\n<p><a href=\"https://i.stack.imgur.com/dayyP.png\" rel=\"nofollow noreferrer\">Problem</a>\nI have updated Powershell but there was no change in Vscode</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683908186,"post_id":76234163,"comment_id":134443772,"body_markdown":"Please avoid using images for posting code. To show the types in DB, please post the `CREATE TABLE` statement or use markdown [table](https://stackoverflow.com/editing-help#tables). And the type handler should simply be in a code block. I think it&#39;s possible to write a custom type handler, but first, the mapper method you posted (i.e. `insertN()`) is a default method and the specified type handler may not be invoked. `@Results` annotation should be added to the `insert()` method instead.","body":"Please avoid using images for posting code. To show the types in DB, please post the <code>CREATE TABLE</code> statement or use markdown <a href=\"https://stackoverflow.com/editing-help#tables\">table</a>. And the type handler should simply be in a code block. I think it&#39;s possible to write a custom type handler, but first, the mapper method you posted (i.e. <code>insertN()</code>) is a default method and the specified type handler may not be invoked. <code>@Results</code> annotation should be added to the <code>insert()</code> method instead."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1683941777,"post_id":76234163,"comment_id":134448453,"body_markdown":"Thanks for your advice and help offered, I am new here and will learn to improve. I re-edited the question and hopefully that is clearer now. Sincerely thanks for your attention.","body":"Thanks for your advice and help offered, I am new here and will learn to improve. I re-edited the question and hopefully that is clearer now. Sincerely thanks for your attention."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1683942719,"post_id":76234163,"comment_id":134448494,"body_markdown":"Actually, as it&#39;s a INSERT statement, `@Results` won&#39;t be used at all. I&#39;ll add an answer soon.","body":"Actually, as it&#39;s a INSERT statement, <code>@Results</code> won&#39;t be used at all. I&#39;ll add an answer soon."}],"answers":[{"tags":[],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684113912,"creation_date":1683886574,"answer_id":76235289,"question_id":76234163,"body_markdown":"Ah, ave surely offered me the right solution, he is the real master. \r\n&gt; After some surveys, I am pretty much sure that the problem is not\r\n&gt; solvable as Java JDBC doesn&#39;t offer a set method for bit(n) type in\r\n&gt; Postgresql. The JDBC type BIT actually refers to bit(1) in Postgresql\r\n&gt; which can be mapped to Boolean in Java.\r\n\r\n","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>Ah, ave surely offered me the right solution, he is the real master.</p>\n<blockquote>\n<p>After some surveys, I am pretty much sure that the problem is not\nsolvable as Java JDBC doesn't offer a set method for bit(n) type in\nPostgresql. The JDBC type BIT actually refers to bit(1) in Postgresql\nwhich can be mapped to Boolean in Java.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1683943633,"creation_date":1683943633,"answer_id":76240804,"question_id":76234163,"body_markdown":"To specify a custom type handler for INSERT, you need to specify `typeHandler` in each parameter reference.\r\n\r\n```sql\r\ninsert into ... values (..., #{role,typeHandler=pkg.BitByteaTypeHandler}, ...\r\n```\r\n\r\nRegarding `BIT(n)` support, there is an ongoing discussion.  \r\nhttps://github.com/pgjdbc/pgjdbc/issues/908\r\n\r\nWith pgjdbc 42.6.0, the following type handler should do the job.\r\n\r\n```java\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Types;\r\n\r\nimport org.apache.ibatis.type.BaseTypeHandler;\r\nimport org.apache.ibatis.type.JdbcType;\r\n\r\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt;{\r\n\r\n  @Override\r\n  public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType)\r\n      throws SQLException {\r\n    ps.setObject(i, new String(parameter), Types.OTHER);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n    return rs.getBytes(columnName);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n    return rs.getBytes(columnIndex);\r\n  }\r\n\r\n  @Override\r\n  public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n    return cs.getBytes(columnIndex);\r\n  }\r\n}\r\n```\r\n\r\nThe `getNullableResult()` methods may not be used because the built-in `ByteArrayTypeHandler` will be used by default.\r\n\r\nAs I am not familiar with some of the annotations in the question, I wrote a simple executable demo.  \r\nhttps://github.com/harawata/mybatis-issues/tree/master/so-76234163","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>To specify a custom type handler for INSERT, you need to specify <code>typeHandler</code> in each parameter reference.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>insert into ... values (..., #{role,typeHandler=pkg.BitByteaTypeHandler}, ...\n</code></pre>\n<p>Regarding <code>BIT(n)</code> support, there is an ongoing discussion.<br />\n<a href=\"https://github.com/pgjdbc/pgjdbc/issues/908\" rel=\"nofollow noreferrer\">https://github.com/pgjdbc/pgjdbc/issues/908</a></p>\n<p>With pgjdbc 42.6.0, the following type handler should do the job.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Types;\n\nimport org.apache.ibatis.type.BaseTypeHandler;\nimport org.apache.ibatis.type.JdbcType;\n\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt;{\n\n  @Override\n  public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType)\n      throws SQLException {\n    ps.setObject(i, new String(parameter), Types.OTHER);\n  }\n\n  @Override\n  public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\n    return rs.getBytes(columnName);\n  }\n\n  @Override\n  public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n    return rs.getBytes(columnIndex);\n  }\n\n  @Override\n  public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n    return cs.getBytes(columnIndex);\n  }\n}\n</code></pre>\n<p>The <code>getNullableResult()</code> methods may not be used because the built-in <code>ByteArrayTypeHandler</code> will be used by default.</p>\n<p>As I am not familiar with some of the annotations in the question, I wrote a simple executable demo.<br />\n<a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-76234163\" rel=\"nofollow noreferrer\">https://github.com/harawata/mybatis-issues/tree/master/so-76234163</a></p>\n"}],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":446,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76240804,"answer_count":2,"score":1,"last_activity_date":1684113912,"creation_date":1683877527,"question_id":76234163,"body_markdown":"I want to solve the following Postgresql error when insert a record into database.\r\n\r\n    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is bytea.\r\n\r\nThe structure of DO is as follows:\r\n\r\n```JAVA\r\n@TableName(&quot;agri_person_relation&quot;)\r\n@KeySequence(&quot;agri_person_relation_seq&quot;) \r\n@Data\r\n@EqualsAndHashCode(callSuper = true)\r\n@ToString(callSuper = true)\r\n@Builder\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class PersonRelationDO extends BaseDO {\r\n    @TableId\r\n    private Long id;\r\n\r\n    private Long relatedTableId;\r\n\r\n    private byte[] role;\r\n\r\n    private byte[] module;\r\n\r\n    private Long personId;\r\n}\r\n```\r\nThe structure of the table is as follows:\r\n```\r\n   PostgreSQL \r\nDROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_person_relation&quot;;\r\nCREATE TABLE &quot;public&quot;.&quot;agri_person_relation&quot; (\r\n  &quot;creator&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n  &quot;create_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  &quot;updater&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n  &quot;update_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\r\n  &quot;deleted&quot; int2 NOT NULL DEFAULT 0,\r\n  &quot;id&quot; int8 NOT NULL,\r\n  &quot;related_table_id&quot; int8,\r\n  &quot;role&quot; bit(2),\r\n  &quot;module&quot; bit(3),\r\n  &quot;person_id&quot; int8\r\n)\r\n```\r\nI have tried using TypeHandler as in the pic but it doesn&#39;t work.\r\n\r\n```\r\nimport org.apache.ibatis.type.*;\r\n\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\n//convert byte[] to BIT in postgresql\r\n\r\n@MappedJdbcTypes(JdbcType.BIT)\r\n@MappedTypes(byte[].class)\r\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt; {\r\n    @Override\r\n    public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType) throws SQLException {\r\n        StringBuffer sb = new StringBuffer();\r\n        for(byte aByte: parameter) {\r\n            sb.append(Integer.toBinaryString(aByte-48));\r\n        }\r\n        ps.setString(i,sb.toString());\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n        return getBytes(rs.getString(columnName));\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n        return getBytes(rs.getString(columnIndex));\r\n    }\r\n\r\n    @Override\r\n    public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n        return getBytes(cs.getString(columnIndex));\r\n    }\r\n    private byte[] getBytes(String str){\r\n        byte [] bytes = new byte[str.length()];\r\n        for(int i=0;i &lt; str.length();i++) {\r\n            if (str.charAt(i)==&#39;1&#39;){\r\n                bytes[i] = (byte)49;\r\n            }\r\n            else{\r\n                bytes[i] = (byte)48;\r\n            }\r\n        }\r\n        return bytes;\r\n    }\r\n}\r\n```\r\nI used it in a mapper file like this:\r\n\r\n    @Results({\r\n        @Result(column = &quot;role&quot;, property = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class),\r\n        @Result(column = &quot;module&quot;, property = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)})\r\n    default int insertN(PersonRelationDO personRelationDO){\r\n        return insert(personRelationDO);};\r\n\r\nThe way I use it is kind of strange and that is because the insert method is provided by Mybatis Plus in its BaseMapper class. I cannot change it, the only way I can come up with is to wrap it by defining insertN(). \r\nI will post its code below:\r\n```JAVA\r\n    \r\npackage com.baomidou.mybatisplus.core.mapper;\r\n\r\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\r\nimport com.baomidou.mybatisplus.core.metadata.IPage;\r\nimport java.io.Serializable;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport org.apache.ibatis.annotations.Param;\r\nimport org.apache.ibatis.exceptions.TooManyResultsException;\r\n\r\npublic interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt; {\r\n    int insert(T entity);\r\n\r\n    int deleteById(Serializable id);\r\n\r\n    int deleteById(T entity);\r\n\r\n    int deleteByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\r\n\r\n    int delete(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    int deleteBatchIds(@Param(&quot;coll&quot;) Collection&lt;?&gt; idList);\r\n\r\n    int updateById(@Param(&quot;et&quot;) T entity);\r\n\r\n    int update(@Param(&quot;et&quot;) T entity, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; updateWrapper);\r\n\r\n    T selectById(Serializable id);\r\n\r\n    List&lt;T&gt; selectBatchIds(@Param(&quot;coll&quot;) Collection&lt;? extends Serializable&gt; idList);\r\n\r\n    List&lt;T&gt; selectByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\r\n\r\n    default T selectOne(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper) {\r\n        List&lt;T&gt; list = this.selectList(queryWrapper);\r\n        if (list.size() == 1) {\r\n            return list.get(0);\r\n        } else if (list.size() &gt; 1) {\r\n            throw new TooManyResultsException(&quot;Expected one result (or null) to be returned by selectOne(), but found: &quot; + list.size());\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    default boolean exists(Wrapper&lt;T&gt; queryWrapper) {\r\n        Long count = this.selectCount(queryWrapper);\r\n        return null != count &amp;&amp; count &gt; 0L;\r\n    }\r\n\r\n    Long selectCount(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;T&gt; selectList(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    List&lt;Object&gt; selectObjs(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    &lt;P extends IPage&lt;T&gt;&gt; P selectPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n\r\n    &lt;P extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; P selectMapsPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\r\n}\r\n```\r\n\r\nBut the error remains the same: org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but the type of expression is bytea.\r\n\r\nAs ave said, that way of using @result probably won&#39;t work at all. I tried to configure mybatis-plus in the .yaml file:\r\n```yaml\r\nmybatis-plus:\r\n    type-handlers-package: cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler\r\n```\r\nand added the annotation in DO class:\r\n```\r\n        @TableField(value = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class)\r\n    private byte[] role;\r\n\r\n        @TableField(value = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)\r\n    private byte[] module;\r\n```\r\nI am pretty convinced that this way actually worked as the error turned  into \r\n```\r\n    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is character varying.\r\n```\r\nSo I futher explored the PreparedStatement class and its set methods, it seems it doesn&#39;t support PostgreSQL bit(n) type, it surely offers a method called setBoolean:\r\nhttps://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-\r\n```\r\n    void setBoolean(int parameterIndex, boolean x) throws SQLException;\r\n```\r\nand its comments:\r\n```\r\nSets the designated parameter to the given Java boolean value. The driver converts this to an SQL BIT or BOOLEAN value when it sends it to the database.\r\nParams: parameterlndex -the first parameter is 1, the second is 2, â€¦\r\nx-the parameter value\r\nThrows: SQLException -if parameterlndex does not correspond to a parameter marker in the SQL\r\nstatement: if a database access error occurs or this method is called on a closed Preparedstatement\r\n```\r\nThe method works for bit(1) but can not process bit(n) in PostgreSQL.\r\nAnd the method setBinaryStream seems also won&#39;t suit as its unit is byte.\r\nhttps://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-\r\n\r\nEnvironment:    \r\n\r\n - PostgreSQL: 12.0\r\n - Driver version: 42.3.8\r\n - Java: 1.8.0_351\r\n - Mybatis: 3.5.10\r\n - Mybatis spring: 2.0.7\r\n - Mybatis-plus: 3.5.3.1\r\n\r\n    \r\n","title":"How do I insert a record with mybatis while column type is postgresql bit(n) and DO field type is java byte[n]?","body":"<p>I want to solve the following Postgresql error when insert a record into database.</p>\n<pre><code>org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is bytea.\n</code></pre>\n<p>The structure of DO is as follows:</p>\n<pre><code>@TableName(&quot;agri_person_relation&quot;)\n@KeySequence(&quot;agri_person_relation_seq&quot;) \n@Data\n@EqualsAndHashCode(callSuper = true)\n@ToString(callSuper = true)\n@Builder\n@NoArgsConstructor\n@AllArgsConstructor\npublic class PersonRelationDO extends BaseDO {\n    @TableId\n    private Long id;\n\n    private Long relatedTableId;\n\n    private byte[] role;\n\n    private byte[] module;\n\n    private Long personId;\n}\n</code></pre>\n<p>The structure of the table is as follows:</p>\n<pre><code>   PostgreSQL \nDROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_person_relation&quot;;\nCREATE TABLE &quot;public&quot;.&quot;agri_person_relation&quot; (\n  &quot;creator&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n  &quot;create_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  &quot;updater&quot; varchar(64) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n  &quot;update_time&quot; timestamp(6) NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  &quot;deleted&quot; int2 NOT NULL DEFAULT 0,\n  &quot;id&quot; int8 NOT NULL,\n  &quot;related_table_id&quot; int8,\n  &quot;role&quot; bit(2),\n  &quot;module&quot; bit(3),\n  &quot;person_id&quot; int8\n)\n</code></pre>\n<p>I have tried using TypeHandler as in the pic but it doesn't work.</p>\n<pre><code>import org.apache.ibatis.type.*;\n\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\n//convert byte[] to BIT in postgresql\n\n@MappedJdbcTypes(JdbcType.BIT)\n@MappedTypes(byte[].class)\npublic class BitByteaTypeHandler extends BaseTypeHandler&lt;byte[]&gt; {\n    @Override\n    public void setNonNullParameter(PreparedStatement ps, int i, byte[] parameter, JdbcType jdbcType) throws SQLException {\n        StringBuffer sb = new StringBuffer();\n        for(byte aByte: parameter) {\n            sb.append(Integer.toBinaryString(aByte-48));\n        }\n        ps.setString(i,sb.toString());\n    }\n\n    @Override\n    public byte[] getNullableResult(ResultSet rs, String columnName) throws SQLException {\n        return getBytes(rs.getString(columnName));\n    }\n\n    @Override\n    public byte[] getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n        return getBytes(rs.getString(columnIndex));\n    }\n\n    @Override\n    public byte[] getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n        return getBytes(cs.getString(columnIndex));\n    }\n    private byte[] getBytes(String str){\n        byte [] bytes = new byte[str.length()];\n        for(int i=0;i &lt; str.length();i++) {\n            if (str.charAt(i)=='1'){\n                bytes[i] = (byte)49;\n            }\n            else{\n                bytes[i] = (byte)48;\n            }\n        }\n        return bytes;\n    }\n}\n</code></pre>\n<p>I used it in a mapper file like this:</p>\n<pre><code>@Results({\n    @Result(column = &quot;role&quot;, property = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class),\n    @Result(column = &quot;module&quot;, property = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)})\ndefault int insertN(PersonRelationDO personRelationDO){\n    return insert(personRelationDO);};\n</code></pre>\n<p>The way I use it is kind of strange and that is because the insert method is provided by Mybatis Plus in its BaseMapper class. I cannot change it, the only way I can come up with is to wrap it by defining insertN().\nI will post its code below:</p>\n<pre><code>    \npackage com.baomidou.mybatisplus.core.mapper;\n\nimport com.baomidou.mybatisplus.core.conditions.Wrapper;\nimport com.baomidou.mybatisplus.core.metadata.IPage;\nimport java.io.Serializable;\nimport java.util.Collection;\nimport java.util.List;\nimport java.util.Map;\nimport org.apache.ibatis.annotations.Param;\nimport org.apache.ibatis.exceptions.TooManyResultsException;\n\npublic interface BaseMapper&lt;T&gt; extends Mapper&lt;T&gt; {\n    int insert(T entity);\n\n    int deleteById(Serializable id);\n\n    int deleteById(T entity);\n\n    int deleteByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\n\n    int delete(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    int deleteBatchIds(@Param(&quot;coll&quot;) Collection&lt;?&gt; idList);\n\n    int updateById(@Param(&quot;et&quot;) T entity);\n\n    int update(@Param(&quot;et&quot;) T entity, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; updateWrapper);\n\n    T selectById(Serializable id);\n\n    List&lt;T&gt; selectBatchIds(@Param(&quot;coll&quot;) Collection&lt;? extends Serializable&gt; idList);\n\n    List&lt;T&gt; selectByMap(@Param(&quot;cm&quot;) Map&lt;String, Object&gt; columnMap);\n\n    default T selectOne(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper) {\n        List&lt;T&gt; list = this.selectList(queryWrapper);\n        if (list.size() == 1) {\n            return list.get(0);\n        } else if (list.size() &gt; 1) {\n            throw new TooManyResultsException(&quot;Expected one result (or null) to be returned by selectOne(), but found: &quot; + list.size());\n        } else {\n            return null;\n        }\n    }\n\n    default boolean exists(Wrapper&lt;T&gt; queryWrapper) {\n        Long count = this.selectCount(queryWrapper);\n        return null != count &amp;&amp; count &gt; 0L;\n    }\n\n    Long selectCount(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;T&gt; selectList(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;Map&lt;String, Object&gt;&gt; selectMaps(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    List&lt;Object&gt; selectObjs(@Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    &lt;P extends IPage&lt;T&gt;&gt; P selectPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n\n    &lt;P extends IPage&lt;Map&lt;String, Object&gt;&gt;&gt; P selectMapsPage(P page, @Param(&quot;ew&quot;) Wrapper&lt;T&gt; queryWrapper);\n}\n</code></pre>\n<p>But the error remains the same: org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but the type of expression is bytea.</p>\n<p>As ave said, that way of using @result probably won't work at all. I tried to configure mybatis-plus in the .yaml file:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>mybatis-plus:\n    type-handlers-package: cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler\n</code></pre>\n<p>and added the annotation in DO class:</p>\n<pre><code>        @TableField(value = &quot;role&quot;, typeHandler = BitByteaTypeHandler.class)\n    private byte[] role;\n\n        @TableField(value = &quot;module&quot;, typeHandler = BitByteaTypeHandler.class)\n    private byte[] module;\n</code></pre>\n<p>I am pretty convinced that this way actually worked as the error turned  into</p>\n<pre><code>    org.postgresql.util.PSQLException: error: column &quot;role&quot; type is bit, but type of expression is character varying.\n</code></pre>\n<p>So I futher explored the PreparedStatement class and its set methods, it seems it doesn't support PostgreSQL bit(n) type, it surely offers a method called setBoolean:\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBoolean-int-boolean-</a></p>\n<pre><code>    void setBoolean(int parameterIndex, boolean x) throws SQLException;\n</code></pre>\n<p>and its comments:</p>\n<pre><code>Sets the designated parameter to the given Java boolean value. The driver converts this to an SQL BIT or BOOLEAN value when it sends it to the database.\nParams: parameterlndex -the first parameter is 1, the second is 2, â€¦\nx-the parameter value\nThrows: SQLException -if parameterlndex does not correspond to a parameter marker in the SQL\nstatement: if a database access error occurs or this method is called on a closed Preparedstatement\n</code></pre>\n<p>The method works for bit(1) but can not process bit(n) in PostgreSQL.\nAnd the method setBinaryStream seems also won't suit as its unit is byte.\n<a href=\"https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html#setBinaryStream-int-java.io.InputStream-</a></p>\n<p>Environment:</p>\n<ul>\n<li>PostgreSQL: 12.0</li>\n<li>Driver version: 42.3.8</li>\n<li>Java: 1.8.0_351</li>\n<li>Mybatis: 3.5.10</li>\n<li>Mybatis spring: 2.0.7</li>\n<li>Mybatis-plus: 3.5.3.1</li>\n</ul>\n"},{"tags":["java","maven","terminal","java-home"],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684061499,"creation_date":1684061499,"answer_id":76247071,"question_id":76247056,"body_markdown":"It looks like you set `JAVA_HOME` to point to the `java` executable, not the directory containing the Java installation, as it should be\r\n\r\n```bash\r\nexport JAVA_HOME=/usr/lib/jvm/default-runtime\r\n```","title":"Can&#39;t use maven command-line tool","body":"<p>It looks like you set <code>JAVA_HOME</code> to point to the <code>java</code> executable, not the directory containing the Java installation, as it should be</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export JAVA_HOME=/usr/lib/jvm/default-runtime\n</code></pre>\n"}],"owner":{"account_id":28598718,"reputation":23,"user_id":21896173,"display_name":"sorryladies"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76247071,"answer_count":1,"score":2,"last_activity_date":1684112598,"creation_date":1684061300,"question_id":76247056,"body_markdown":"Here is the message I get when I try to use maven in the terminal:\r\n\r\n\r\n```\r\nThe JAVA_HOME environment variable is not defined correctly,\r\nthis environment variable is needed to run this program.\r\n```\r\n\r\n\r\n\r\nThis is the definition of the JAVA_HOME environment variable:\r\n\r\n\r\n```\r\necho $JAVA_HOME                                                                               î‚² 1 âœ˜ \r\n/usr/lib/jvm/default-runtime/bin/java\r\n\r\njava --version                                                                                  î‚² âœ” \r\nopenjdk 19.0.2 2023-01-17\r\nOpenJDK Runtime Environment (build 19.0.2+7)\r\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\r\n```","title":"Can&#39;t use maven command-line tool","body":"<p>Here is the message I get when I try to use maven in the terminal:</p>\n<pre><code>The JAVA_HOME environment variable is not defined correctly,\nthis environment variable is needed to run this program.\n</code></pre>\n<p>This is the definition of the JAVA_HOME environment variable:</p>\n<pre><code>echo $JAVA_HOME                                                                               î‚² 1 âœ˜ \n/usr/lib/jvm/default-runtime/bin/java\n\njava --version                                                                                  î‚² âœ” \nopenjdk 19.0.2 2023-01-17\nOpenJDK Runtime Environment (build 19.0.2+7)\nOpenJDK 64-Bit Server VM (build 19.0.2+7, mixed mode)\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","multi-tenant"],"answers":[{"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1497517509,"creation_date":1497517509,"answer_id":44563322,"question_id":44562955,"body_markdown":"I got similar requirements in the past.\r\n\r\nI implemented DataSource proxy class. The class has tenant resolver and a map of simple DataSources. All the places where we need a DataSource use the proxy. \r\n\r\nOn any method call e.g. getConnection() it resolves tenant, check whether the map contains already created DataSource (if not a new DataSource is created for the tenant and stored in the DB). Then the same method of real DataSource from the map is invoked.\r\n\r\nTenant resolver is ThreadLocal based where tenant value is stored in a filter (got tenant from request header) and used in the DataSource proxy.","title":"Multi tenancy with Spring boot","body":"<p>I got similar requirements in the past.</p>\n\n<p>I implemented DataSource proxy class. The class has tenant resolver and a map of simple DataSources. All the places where we need a DataSource use the proxy. </p>\n\n<p>On any method call e.g. getConnection() it resolves tenant, check whether the map contains already created DataSource (if not a new DataSource is created for the tenant and stored in the DB). Then the same method of real DataSource from the map is invoked.</p>\n\n<p>Tenant resolver is ThreadLocal based where tenant value is stored in a filter (got tenant from request header) and used in the DataSource proxy.</p>\n"},{"tags":[],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497518046,"creation_date":1497518046,"answer_id":44563525,"question_id":44562955,"body_markdown":"What you need to do is using dynamic datasource routing of Spring Framweork via `AbstractRoutingDataSource`. [This answer][1] explains all for you.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26177079/1372366","title":"Multi tenancy with Spring boot","body":"<p>What you need to do is using dynamic datasource routing of Spring Framweork via <code>AbstractRoutingDataSource</code>. <a href=\"https://stackoverflow.com/a/26177079/1372366\">This answer</a> explains all for you.</p>\n"}],"owner":{"account_id":5954871,"reputation":1931,"user_id":4682000,"accept_rate":81,"display_name":"Habchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4331,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":44563322,"answer_count":2,"score":4,"last_activity_date":1684112468,"creation_date":1497516586,"question_id":44562955,"body_markdown":"I&#39;m planning to work on a multi-tenancy application and for now I&#39;m just looking at different implementations on the web to understand the requirements needed to implement such task. \r\nHibernate + Spring boot are the technologies I&#39;m planning to use. \r\n\r\nFrom my readings, all the different tutorials are using the same approach which is to declare the data sources in a config file so that session factories are launched with the boot of the application, but I really want to have a higher level of the app, where I can add tenants dynamically and input their data sources informations. \r\nThis way the application can get the information of the new tenant without the need to touch the config files and re-boot the app.\r\n\r\nI thought about having a separate database where I can store my tenants data source credentials or something like that. Can you give me another approach to solve this requirement or a link to an existing implementation that I can refer to. \r\n\r\n","title":"Multi tenancy with Spring boot","body":"<p>I'm planning to work on a multi-tenancy application and for now I'm just looking at different implementations on the web to understand the requirements needed to implement such task.\nHibernate + Spring boot are the technologies I'm planning to use.</p>\n<p>From my readings, all the different tutorials are using the same approach which is to declare the data sources in a config file so that session factories are launched with the boot of the application, but I really want to have a higher level of the app, where I can add tenants dynamically and input their data sources informations.\nThis way the application can get the information of the new tenant without the need to touch the config files and re-boot the app.</p>\n<p>I thought about having a separate database where I can store my tenants data source credentials or something like that. Can you give me another approach to solve this requirement or a link to an existing implementation that I can refer to.</p>\n"},{"tags":["java","unit-testing","kotlin","junit5"],"comments":[{"owner":{"account_id":1459673,"reputation":1958,"user_id":1374322,"accept_rate":88,"display_name":"JockX"},"score":0,"creation_date":1651756722,"post_id":72126971,"comment_id":127442209,"body_markdown":"Interestig thing: when I launch your example as a single test class in Intellij, I see a test pass. If I execute the entire package (which only contains this one test) or when I execute from maven, I see a test failure as expected.","body":"Interestig thing: when I launch your example as a single test class in Intellij, I see a test pass. If I execute the entire package (which only contains this one test) or when I execute from maven, I see a test failure as expected."},{"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"score":0,"creation_date":1651759008,"post_id":72126971,"comment_id":127443259,"body_markdown":"@JockX that&#39;s right, I didn&#39;t notice it. If I run the single class in IntelliJ Idea, I see the single tests pass. If I run `gradle build` on the whole project, the build fails.","body":"@JockX that&#39;s right, I didn&#39;t notice it. If I run the single class in IntelliJ Idea, I see the single tests pass. If I run <code>gradle build</code> on the whole project, the build fails."}],"answers":[{"tags":[],"owner":{"account_id":140316,"reputation":104,"user_id":346545,"display_name":"Eliezio Oliveira"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684112301,"creation_date":1684112301,"answer_id":76250289,"question_id":72126971,"body_markdown":"This seems an specific issue with the IDEA version you&#39;ve used, as I can confirm IJ 2023.1.1 behaves as expected:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zluTw.png","title":"Performing assertions in Junit 5 @AfterAll","body":"<p>This seems an specific issue with the IDEA version you've used, as I can confirm IJ 2023.1.1 behaves as expected:</p>\n<p><a href=\"https://i.stack.imgur.com/zluTw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zluTw.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1096,"reputation":9390,"user_id":1454,"accept_rate":84,"display_name":"Raibaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":470,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":1,"score":8,"last_activity_date":1684112301,"creation_date":1651752721,"question_id":72126971,"body_markdown":"I am trying to add a feature to a mocking framework to have a test class fail when there is a method that has been stubbed but never actually invoked, i.e. either the test contains too much stubbing or the tested code didn&#39;t follow the intended path.\r\n\r\nI can already do the check, and I was planning on doing it in the `@AfterAll` method implemented by a JUnit extension, something like this:\r\n\r\n```\r\n@ExtendWith(MyExtension::class)\r\nclass TestClass {\r\n\r\n    @Test\r\n    fun myTest() {\r\n        // stub a function\r\n        // run some test code\r\n    }\r\n}\r\n```\r\n\r\n```\r\nclass MyExtension : AfterAllCallback {\r\n    override fun afterAll(context: ExtensionContext) {\r\n        if (not all stubbed methods have been called) {\r\n            throw AssertionError(&quot;Something&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever, the `AssertionError` being thrown in the `afterAll` body does not make the tests fail.\r\n\r\nIt kind of makes sense to me, since `afterAll` is expected to be executed after all the tests, when the tests result has already been computed, but I was wondering if there was a way to have a test class failure triggered after all tests have been executed.","title":"Performing assertions in Junit 5 @AfterAll","body":"<p>I am trying to add a feature to a mocking framework to have a test class fail when there is a method that has been stubbed but never actually invoked, i.e. either the test contains too much stubbing or the tested code didn't follow the intended path.</p>\n<p>I can already do the check, and I was planning on doing it in the <code>@AfterAll</code> method implemented by a JUnit extension, something like this:</p>\n<pre><code>@ExtendWith(MyExtension::class)\nclass TestClass {\n\n    @Test\n    fun myTest() {\n        // stub a function\n        // run some test code\n    }\n}\n</code></pre>\n<pre><code>class MyExtension : AfterAllCallback {\n    override fun afterAll(context: ExtensionContext) {\n        if (not all stubbed methods have been called) {\n            throw AssertionError(&quot;Something&quot;)\n        }\n    }\n}\n</code></pre>\n<p>However, the <code>AssertionError</code> being thrown in the <code>afterAll</code> body does not make the tests fail.</p>\n<p>It kind of makes sense to me, since <code>afterAll</code> is expected to be executed after all the tests, when the tests result has already been computed, but I was wondering if there was a way to have a test class failure triggered after all tests have been executed.</p>\n"},{"tags":["java","kotlin","jackson","jackson-databind","jackson-modules"],"owner":{"account_id":4771615,"reputation":349,"user_id":3856196,"accept_rate":67,"display_name":"user3856196"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":767,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684111392,"creation_date":1684111392,"question_id":76250254,"body_markdown":"There are some fields, which should be deserialized from ``String`` to ``Double``. However, the general ``ObjectMapper`` configuration doesn&#39;t allow coercion of scalars:\r\n```configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false)```\r\n\r\nBefore Jackson [coercion configuration feature][1] implementation, this ``String`` -&gt; ``Double`` conversion was done with a custom deserializer. For example:\r\n```\r\ndata class SeriesFrameInputChannel(\r\n    @JsonDeserialize(using = TestDeserializer::class)\r\n    @JsonProperty(&quot;test_field&quot;)\r\n    val testFieldForConvertion: Double\r\n)\r\n\r\nclass TestDeserializer : StdDeserializer&lt;Double&gt;(Double::class.java) {\r\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Double {\r\n        return _parseDoublePrimitive(p, ctxt)\r\n    }\r\n}\r\n```    \r\n\r\nHowever, after the coercion config was introduced, the following error occurred:\r\n```\r\ncom.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot coerce String value (&quot;2.2&quot;) to `double` value (but might if coercion using `CoercionConfig` was enabled)\r\n```\r\n\r\nThe issue could be solved by adding the following lines to the ``ObjectMapper`` configuration:\r\n```\r\ncoercionConfigFor(LogicalType.Integer)\r\n   .setCoercion(CoercionInputShape.String, CoercionAction.TryConvert)\r\n```\r\nHowever, it will affect the deserialization behavior of other fields, not only ``testFieldForConvertion``. \r\n\r\nWhat is the appropriate way to apply Jackson coercion configuration to the specified field case(-s), in order to avoid the deserialization behavior changes for other fields? \r\n\r\n\r\n  [1]: https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2","title":"Apply Jackson coercion configuration feature to specified deserialization cases","body":"<p>There are some fields, which should be deserialized from <code>String</code> to <code>Double</code>. However, the general <code>ObjectMapper</code> configuration doesn't allow coercion of scalars:\n<code>configure(MapperFeature.ALLOW_COERCION_OF_SCALARS, false)</code></p>\n<p>Before Jackson <a href=\"https://cowtowncoder.medium.com/jackson-2-12-most-wanted-4-5-cbc91c00bcd2\" rel=\"nofollow noreferrer\">coercion configuration feature</a> implementation, this <code>String</code> -&gt; <code>Double</code> conversion was done with a custom deserializer. For example:</p>\n<pre><code>data class SeriesFrameInputChannel(\n    @JsonDeserialize(using = TestDeserializer::class)\n    @JsonProperty(&quot;test_field&quot;)\n    val testFieldForConvertion: Double\n)\n\nclass TestDeserializer : StdDeserializer&lt;Double&gt;(Double::class.java) {\n    override fun deserialize(p: JsonParser, ctxt: DeserializationContext): Double {\n        return _parseDoublePrimitive(p, ctxt)\n    }\n}\n</code></pre>\n<p>However, after the coercion config was introduced, the following error occurred:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot coerce String value (&quot;2.2&quot;) to `double` value (but might if coercion using `CoercionConfig` was enabled)\n</code></pre>\n<p>The issue could be solved by adding the following lines to the <code>ObjectMapper</code> configuration:</p>\n<pre><code>coercionConfigFor(LogicalType.Integer)\n   .setCoercion(CoercionInputShape.String, CoercionAction.TryConvert)\n</code></pre>\n<p>However, it will affect the deserialization behavior of other fields, not only <code>testFieldForConvertion</code>.</p>\n<p>What is the appropriate way to apply Jackson coercion configuration to the specified field case(-s), in order to avoid the deserialization behavior changes for other fields?</p>\n"},{"tags":["java","php","zend-framework","soap","web-services"],"answers":[{"tags":[],"owner":{"account_id":19629,"reputation":19351,"user_id":46149,"display_name":"Henrik Opel"},"down_vote_count":0,"up_vote_count":39,"is_accepted":true,"score":39,"last_activity_date":1332154218,"creation_date":1256558948,"answer_id":1624442,"question_id":1617857,"body_markdown":"According to [this listing][1], the exception indicates that the server hosting the web-service is not happy with your requests encoding:\r\n\r\n&gt; Indicates that the peer HTTP server\r\n&gt; does not support the Content-type used\r\n&gt; to encode the request message. The\r\n&gt; message exchange is regarded as having\r\n&gt; completed unsuccessfully.\r\n\r\nSo you should check with the web-service provider concerning the content-type/encoding they expect.\r\n\r\n  [1]: http://www.w3.org/TR/soap12-part2/#tabreqstatereqtrans\r\n\r\nA possible solution if you are using `SOAP_1_2`is to change to `SOAP_1_1` since that will alter the requests made.","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>According to <a href=\"http://www.w3.org/TR/soap12-part2/#tabreqstatereqtrans\" rel=\"noreferrer\">this listing</a>, the exception indicates that the server hosting the web-service is not happy with your requests encoding:</p>\n\n<blockquote>\n  <p>Indicates that the peer HTTP server\n  does not support the Content-type used\n  to encode the request message. The\n  message exchange is regarded as having\n  completed unsuccessfully.</p>\n</blockquote>\n\n<p>So you should check with the web-service provider concerning the content-type/encoding they expect.</p>\n\n<p>A possible solution if you are using <code>SOAP_1_2</code>is to change to <code>SOAP_1_1</code> since that will alter the requests made.</p>\n"},{"tags":[],"owner":{"account_id":1584862,"reputation":6515,"user_id":1469465,"accept_rate":73,"display_name":"physicalattraction"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1434016128,"creation_date":1434016128,"answer_id":30777265,"question_id":1617857,"body_markdown":"I am not using Zend framework, but had a similar problem with XMLHttpRequest in JavaScript. The solution was to specify the Content-Type in the SOAP request header.\r\n\r\n    var sr = &#39;&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; xmlns:ns1=&quot;http://www.w3schools.com/webservices/&quot;&gt;  &lt;SOAP-ENV:Body&gt;&lt;ns1:CelsiusToFahrenheit&gt;&lt;ns1:Celsius&gt;32&lt;/ns1:Celsius&gt;&lt;/ns1:CelsiusToFahrenheit&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;&#39;;\r\n    http_request = new XMLHttpRequest();\r\n    http_request.open(&#39;POST&#39;, &#39;http://www.w3schools.com/webservices/tempconvert.asmx&#39;, true);\r\n    http_request.setRequestHeader(&quot;Content-Type&quot;, &quot;text/xml; charset=utf-8&quot;);\r\n    http_request.send(sr);","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>I am not using Zend framework, but had a similar problem with XMLHttpRequest in JavaScript. The solution was to specify the Content-Type in the SOAP request header.</p>\n\n<pre><code>var sr = '&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:ns1=\"http://www.w3schools.com/webservices/\"&gt;  &lt;SOAP-ENV:Body&gt;&lt;ns1:CelsiusToFahrenheit&gt;&lt;ns1:Celsius&gt;32&lt;/ns1:Celsius&gt;&lt;/ns1:CelsiusToFahrenheit&gt;&lt;/SOAP-ENV:Body&gt;&lt;/SOAP-ENV:Envelope&gt;';\nhttp_request = new XMLHttpRequest();\nhttp_request.open('POST', 'http://www.w3schools.com/webservices/tempconvert.asmx', true);\nhttp_request.setRequestHeader(\"Content-Type\", \"text/xml; charset=utf-8\");\nhttp_request.send(sr);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":195624,"reputation":14910,"user_id":438624,"accept_rate":75,"display_name":"kbvishnu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684111340,"creation_date":1684111340,"answer_id":76250253,"question_id":1617857,"body_markdown":"A serious solution in one of the comments. Posting as answer for easy to identify. \r\n\r\nTry adding header. \r\n\r\n&gt; Content-Type: text/xml; charset=utf-8 for **soap 1.1**\r\n\r\nand \r\n\r\n&gt; Content-Type: application/soap+xml; charset=utf-8 for **soap 1.2**\r\n\r\nCredits : https://stackoverflow.com/users/2192359/atta-h","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>A serious solution in one of the comments. Posting as answer for easy to identify.</p>\n<p>Try adding header.</p>\n<blockquote>\n<p>Content-Type: text/xml; charset=utf-8 for <strong>soap 1.1</strong></p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Content-Type: application/soap+xml; charset=utf-8 for <strong>soap 1.2</strong></p>\n</blockquote>\n<p>Credits : <a href=\"https://stackoverflow.com/users/2192359/atta-h\">https://stackoverflow.com/users/2192359/atta-h</a></p>\n"}],"owner":{"account_id":28669,"reputation":35122,"user_id":76799,"accept_rate":72,"display_name":"Mads Mob&#230;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65856,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":1624442,"answer_count":3,"score":9,"last_activity_date":1684111340,"creation_date":1256386629,"question_id":1617857,"body_markdown":"I&#39;m trying to connect to a Java web-service using the `Zend_Soap_Client` from the Zend Framework v1.9.0:\r\n\r\n    &lt;?php\r\n\tinclude( &#39;Zend/Loader/Autoloader.php&#39;);\r\n\t$autoloader = Zend_Loader_Autoloader::getInstance();\r\n    $client = new Zend_Soap_Client(&#39;https://webservice.com/webservice-war/webservice?wsdl&#39;\r\n        , array(&#39;encoding&#39;=&gt; &#39;UTF-8&#39;));\r\n\r\n\ttry{\r\n\t\t$result = $client-&gt;find_customer(array(&#39;username&#39; =&gt; &#39;user&#39;, \r\n                             &#39;password&#39; =&gt; &#39;123&#39;), array(&#39;city&#39; =&gt; &#39;some city&#39;));\r\n\t} catch(Exception $e){\r\n\t\techo $e;\r\n\t}\r\n\t\r\n\techo &#39;&lt;pre&gt;&#39; . $client-&gt;getLastRequestHeaders() . &#39;&lt;/pre&gt;&#39;;\t\r\n    ?&gt;\r\n\r\nOutputs:\r\n\r\n    SoapFault exception: [HTTP] Unsupported Media Type in \r\n    /Library/ZendFramework-1.9.0/library/Zend/Soap/Client.php:937 \r\n    Stack trace: \r\n     #0 [internal function]:\r\n    SoapClient-&gt;__doRequest(&#39;_doRequest(Object(Zend_Soap_Client_Common),\r\n        &#39;__doRequest(&#39;__soapCall(&#39;find_customer&#39;, Array, NULL, NULL, Array) \r\n     #6 [internal function]:  \r\n     Zend_Soap_Client-&gt;__call(&#39;find_customer&#39;, Array) \r\n     #7 /Users/webservicetest/index.php(8): \r\n     Zend_Soap_Client-&gt;find_customer(Array, Array) \r\n     #8 {main}\r\n\r\n    POST /webservice-war/webservice HTTP/1.1\r\n    Host: webservice.com\r\n    Connection: Keep-Alive\r\n    User-Agent: PHP-SOAP/5.2.6\r\n    Content-Type: application/soap+xml; charset=utf-8; action=&quot;&quot;\r\n    Content-Length: 315\r\n\r\nAny idea what could be wrong? The url is correct, since I get the availible functions when calling\r\n\r\n    $client-&gt;getFunctions()\r\n","title":"SoapFault exception: [HTTP] Unsupported Media Type when accessing Java web-service from PHP","body":"<p>I'm trying to connect to a Java web-service using the <code>Zend_Soap_Client</code> from the Zend Framework v1.9.0:</p>\n\n<pre><code>&lt;?php\ninclude( 'Zend/Loader/Autoloader.php');\n$autoloader = Zend_Loader_Autoloader::getInstance();\n$client = new Zend_Soap_Client('https://webservice.com/webservice-war/webservice?wsdl'\n    , array('encoding'=&gt; 'UTF-8'));\n\ntry{\n    $result = $client-&gt;find_customer(array('username' =&gt; 'user', \n                         'password' =&gt; '123'), array('city' =&gt; 'some city'));\n} catch(Exception $e){\n    echo $e;\n}\n\necho '&lt;pre&gt;' . $client-&gt;getLastRequestHeaders() . '&lt;/pre&gt;'; \n?&gt;\n</code></pre>\n\n<p>Outputs:</p>\n\n<pre><code>SoapFault exception: [HTTP] Unsupported Media Type in \n/Library/ZendFramework-1.9.0/library/Zend/Soap/Client.php:937 \nStack trace: \n #0 [internal function]:\nSoapClient-&gt;__doRequest('_doRequest(Object(Zend_Soap_Client_Common),\n    '__doRequest('__soapCall('find_customer', Array, NULL, NULL, Array) \n #6 [internal function]:  \n Zend_Soap_Client-&gt;__call('find_customer', Array) \n #7 /Users/webservicetest/index.php(8): \n Zend_Soap_Client-&gt;find_customer(Array, Array) \n #8 {main}\n\nPOST /webservice-war/webservice HTTP/1.1\nHost: webservice.com\nConnection: Keep-Alive\nUser-Agent: PHP-SOAP/5.2.6\nContent-Type: application/soap+xml; charset=utf-8; action=\"\"\nContent-Length: 315\n</code></pre>\n\n<p>Any idea what could be wrong? The url is correct, since I get the availible functions when calling</p>\n\n<pre><code>$client-&gt;getFunctions()\n</code></pre>\n"},{"tags":["javascript","java","html","angular","stripe-payments"],"comments":[{"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"score":0,"creation_date":1684088504,"post_id":76241845,"comment_id":134462083,"body_markdown":"You must assign the payment method to a customer, then list the payment methods from the customer and use the paymentmethodid to make the payment","body":"You must assign the payment method to a customer, then list the payment methods from the customer and use the paymentmethodid to make the payment"}],"answers":[{"tags":[],"owner":{"account_id":25111109,"reputation":1244,"user_id":18960736,"display_name":"yuting"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684109458,"creation_date":1684109458,"answer_id":76250175,"question_id":76241845,"body_markdown":"If you are not PCI compliance level 1 or SAQ D, you shouldn&#39;t store card information as per [PCI DSS](https://stripe.com/docs/security/guide). \r\n\r\nTo save the card information future usage with Stripe (instead of saving the data on your own), you may follow this guide to save the payment method details with Payment Element on the customer that returns a payment method ID (pm_xxx) which can be used for future payment: https://stripe.com/docs/payments/save-during-payment","title":"Can you have a custom card data with Stripe PaymentIntent API?","body":"<p>If you are not PCI compliance level 1 or SAQ D, you shouldn't store card information as per <a href=\"https://stripe.com/docs/security/guide\" rel=\"nofollow noreferrer\">PCI DSS</a>.</p>\n<p>To save the card information future usage with Stripe (instead of saving the data on your own), you may follow this guide to save the payment method details with Payment Element on the customer that returns a payment method ID (pm_xxx) which can be used for future payment: <a href=\"https://stripe.com/docs/payments/save-during-payment\" rel=\"nofollow noreferrer\">https://stripe.com/docs/payments/save-during-payment</a></p>\n"}],"owner":{"account_id":25820091,"reputation":23,"user_id":19559359,"display_name":"Adam Howard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76250175,"answer_count":1,"score":-1,"last_activity_date":1684109458,"creation_date":1683967495,"question_id":76241845,"body_markdown":"I am using Angular, Stripe.js 3, Stripe elements, Spring Boot, PaymentIntent API.\r\n\r\nI need to use the PaymentIntent API to use Strong Customer Authentication. I have got the code working with stripe elements and I am successfully being brought to a payment verification page. My problem is when using Stripe elements, I must get the card info from the user each time. My application saves the card data separate from Stripe and I want to give the feature of saving the card and not having to input it each time. How do i pass the card data to stripe.js from my own card form and not require the user to submit the card data manually each time?\r\n\r\n\r\n```&lt;div class=&quot;payment-method-info&quot;&gt;\r\n  &lt;!-- &lt;form novalidate&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;Card Number&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;expiry-month&quot; id=&quot;&quot; placeholder=&quot;Expiry Month&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;expiry-year&quot; id=&quot;&quot; placeholder=&quot;Expiry Year&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;CVV&quot;&gt;\r\n\r\n  &lt;/form&gt; --&gt;\r\n  &lt;form id=&quot;payment-form&quot;&gt;\r\n    &lt;div id=&quot;link-authentication-element&quot;&gt;\r\n      &lt;!--Stripe.js injects the Link Authentication Element--&gt;\r\n    &lt;/div&gt;\r\n    &lt;div id=&quot;payment-element&quot; class=&quot;stripe-form-input&quot;&gt;\r\n      &lt;!--Stripe.js injects the Payment Element--&gt;\r\n    &lt;/div&gt;\r\n    &lt;!-- &lt;button id=&quot;submit&quot;&gt;\r\n      &lt;div class=&quot;spinner hidden&quot; id=&quot;spinner&quot;&gt;&lt;/div&gt;\r\n      &lt;span id=&quot;button-text&quot;&gt;Pay now&lt;/span&gt;\r\n    &lt;/button&gt; --&gt;\r\n    &lt;div id=&quot;payment-message&quot; class=&quot;hidden&quot;&gt;&lt;/div&gt;\r\n  &lt;/form&gt;\r\n\r\n&lt;/div&gt;\r\n\r\n\r\n\r\n\r\n&lt;button type=&quot;submit&quot; class=&quot;fill&quot; style=&quot;width: 100%;&quot; (click)=&quot;testCreateCard()&quot;&gt;Pay&lt;/button&gt;\r\n&lt;div class=&quot;iframe-wrapper&quot; #if&gt; &lt;iframe *ngIf=&quot;showIframe&quot; frameborder=&quot;0&quot; [src]=&quot;ifHtml | safe&quot; height=&quot;600&quot; width=&quot;400&quot; #if&gt;&lt;/iframe&gt;&lt;/div&gt;\r\n```\r\n\r\n```\r\nexport class AppComponent {\r\n  title = &#39;stripePaymentIntents&#39;;\r\n  clientSecret:string = &quot;&quot;\r\n  elements:any;\r\n  email?:string;\r\n  paymentElement:any;\r\n\r\n  showIframe:boolean = false;\r\n  ifHtml:string = &quot;&quot;\r\n\r\n  paymentIntent:string = &quot;&quot;\r\n  @ViewChild(&#39;if&#39;) iframeWrapper!: ElementRef;\r\n\r\n  constructor(private http: HttpClient, private sanitizer: DomSanitizer, private route: ActivatedRoute){}\r\n\r\n  ngOnInit(): void {\r\n    this.route.queryParams.subscribe(qp =&gt; {\r\n      this.paymentIntent = qp[&#39;payment_intent&#39;]\r\n      console.log(&quot;Payment Intent From SCA:   &quot; + this.paymentIntent)\r\n    })\r\n\r\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\r\n    //Add &#39;implements OnInit&#39; to the class.\r\n    const appearance = {\r\n      theme: &#39;stripe&#39;,\r\n    };\r\n\r\n    this.http.get(&quot;http://localhost:8080/api/payment/intent/clientSecret&quot;, {responseType:&#39;text&#39;}).subscribe(secret =&gt; {\r\n      this.elements = stripe.elements({ appearance, clientSecret: secret });\r\n      this.clientSecret = secret;\r\n      const linkAuthenticationElement = this.elements.create(&quot;linkAuthentication&quot;);\r\n      linkAuthenticationElement.mount(&quot;#link-authentication-element&quot;);\r\n\r\n      linkAuthenticationElement.on(&#39;change&#39;, (event:any) =&gt; {\r\n          this.email = event.value.email;\r\n      });\r\n\r\n      const paymentElementOptions = {\r\n          layout: &quot;tabs&quot;,\r\n      };\r\n\r\n      const cardElementStyle = {\r\n        classes: &#39;stripe-&#39;\r\n      }\r\n\r\n      this.paymentElement = this.elements.create(&quot;card&quot;, paymentElementOptions);\r\n      this.paymentElement.mount(&quot;#payment-element&quot;);\r\n    })\r\n\r\n\r\n  }\r\n\r\n  testCreateCard(){\r\n\r\n\r\n      console.log(this.clientSecret);\r\n\r\n      console.log(this.elements);\r\n      const here = this;\r\n\r\n      stripe.confirmCardPayment(this.clientSecret, {\r\n          payment_method: {\r\n            card: this.paymentElement,\r\n            billing_details: {\r\n              name: &#39;Barack Obama&#39;,\r\n            },\r\n          },\r\n            return_url: &#39;http://localhost:4200/&#39;\r\n\r\n        }, {handleActions: false})\r\n        .then(function(result:any) {\r\n          // Handle result.error or result.paymentIntent\r\n          if(result.paymentIntent.next_action.redirect_to_url.url !== null){\r\n            window.location = result.paymentIntent.next_action.redirect_to_url.url\r\n          }\r\n\r\n\r\n\r\n\r\n          if (result.error) {\r\n            // Display error.message in your UI.\r\n            console.log(result);\r\n\r\n          } else {\r\n            here.showIframe = true\r\n            console.log(&#39;iframe show; &#39; + here.showIframe);\r\n\r\n            // The SetupIntent was successful\r\n            console.log(&quot;SUCCESS: &quot;)\r\n            console.log(result);\r\n          }\r\n\r\n        });\r\n\r\n\r\n\r\n  }\r\n}```","title":"Can you have a custom card data with Stripe PaymentIntent API?","body":"<p>I am using Angular, Stripe.js 3, Stripe elements, Spring Boot, PaymentIntent API.</p>\n<p>I need to use the PaymentIntent API to use Strong Customer Authentication. I have got the code working with stripe elements and I am successfully being brought to a payment verification page. My problem is when using Stripe elements, I must get the card info from the user each time. My application saves the card data separate from Stripe and I want to give the feature of saving the card and not having to input it each time. How do i pass the card data to stripe.js from my own card form and not require the user to submit the card data manually each time?</p>\n<pre><code>  &lt;!-- &lt;form novalidate&gt;\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;Card Number&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;expiry-month&quot; id=&quot;&quot; placeholder=&quot;Expiry Month&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;expiry-year&quot; id=&quot;&quot; placeholder=&quot;Expiry Year&quot;&gt;\n    &lt;input type=&quot;text&quot; name=&quot;cardNumber&quot; id=&quot;&quot; placeholder=&quot;CVV&quot;&gt;\n\n  &lt;/form&gt; --&gt;\n  &lt;form id=&quot;payment-form&quot;&gt;\n    &lt;div id=&quot;link-authentication-element&quot;&gt;\n      &lt;!--Stripe.js injects the Link Authentication Element--&gt;\n    &lt;/div&gt;\n    &lt;div id=&quot;payment-element&quot; class=&quot;stripe-form-input&quot;&gt;\n      &lt;!--Stripe.js injects the Payment Element--&gt;\n    &lt;/div&gt;\n    &lt;!-- &lt;button id=&quot;submit&quot;&gt;\n      &lt;div class=&quot;spinner hidden&quot; id=&quot;spinner&quot;&gt;&lt;/div&gt;\n      &lt;span id=&quot;button-text&quot;&gt;Pay now&lt;/span&gt;\n    &lt;/button&gt; --&gt;\n    &lt;div id=&quot;payment-message&quot; class=&quot;hidden&quot;&gt;&lt;/div&gt;\n  &lt;/form&gt;\n\n&lt;/div&gt;\n\n\n\n\n&lt;button type=&quot;submit&quot; class=&quot;fill&quot; style=&quot;width: 100%;&quot; (click)=&quot;testCreateCard()&quot;&gt;Pay&lt;/button&gt;\n&lt;div class=&quot;iframe-wrapper&quot; #if&gt; &lt;iframe *ngIf=&quot;showIframe&quot; frameborder=&quot;0&quot; [src]=&quot;ifHtml | safe&quot; height=&quot;600&quot; width=&quot;400&quot; #if&gt;&lt;/iframe&gt;&lt;/div&gt;\n</code></pre>\n<pre><code>export class AppComponent {\n  title = 'stripePaymentIntents';\n  clientSecret:string = &quot;&quot;\n  elements:any;\n  email?:string;\n  paymentElement:any;\n\n  showIframe:boolean = false;\n  ifHtml:string = &quot;&quot;\n\n  paymentIntent:string = &quot;&quot;\n  @ViewChild('if') iframeWrapper!: ElementRef;\n\n  constructor(private http: HttpClient, private sanitizer: DomSanitizer, private route: ActivatedRoute){}\n\n  ngOnInit(): void {\n    this.route.queryParams.subscribe(qp =&gt; {\n      this.paymentIntent = qp['payment_intent']\n      console.log(&quot;Payment Intent From SCA:   &quot; + this.paymentIntent)\n    })\n\n    //Called after the constructor, initializing input properties, and the first call to ngOnChanges.\n    //Add 'implements OnInit' to the class.\n    const appearance = {\n      theme: 'stripe',\n    };\n\n    this.http.get(&quot;http://localhost:8080/api/payment/intent/clientSecret&quot;, {responseType:'text'}).subscribe(secret =&gt; {\n      this.elements = stripe.elements({ appearance, clientSecret: secret });\n      this.clientSecret = secret;\n      const linkAuthenticationElement = this.elements.create(&quot;linkAuthentication&quot;);\n      linkAuthenticationElement.mount(&quot;#link-authentication-element&quot;);\n\n      linkAuthenticationElement.on('change', (event:any) =&gt; {\n          this.email = event.value.email;\n      });\n\n      const paymentElementOptions = {\n          layout: &quot;tabs&quot;,\n      };\n\n      const cardElementStyle = {\n        classes: 'stripe-'\n      }\n\n      this.paymentElement = this.elements.create(&quot;card&quot;, paymentElementOptions);\n      this.paymentElement.mount(&quot;#payment-element&quot;);\n    })\n\n\n  }\n\n  testCreateCard(){\n\n\n      console.log(this.clientSecret);\n\n      console.log(this.elements);\n      const here = this;\n\n      stripe.confirmCardPayment(this.clientSecret, {\n          payment_method: {\n            card: this.paymentElement,\n            billing_details: {\n              name: 'Barack Obama',\n            },\n          },\n            return_url: 'http://localhost:4200/'\n\n        }, {handleActions: false})\n        .then(function(result:any) {\n          // Handle result.error or result.paymentIntent\n          if(result.paymentIntent.next_action.redirect_to_url.url !== null){\n            window.location = result.paymentIntent.next_action.redirect_to_url.url\n          }\n\n\n\n\n          if (result.error) {\n            // Display error.message in your UI.\n            console.log(result);\n\n          } else {\n            here.showIframe = true\n            console.log('iframe show; ' + here.showIframe);\n\n            // The SetupIntent was successful\n            console.log(&quot;SUCCESS: &quot;)\n            console.log(result);\n          }\n\n        });\n\n\n\n  }\n}```\n</code></pre>\n"},{"tags":["java","calendar"],"comments":[{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1434030140,"post_id":30782517,"comment_id":49615006,"body_markdown":"month start with 0. read: http://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar","body":"month start with 0. read: <a href=\"http://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar\" title=\"why is january month 0 in java calendar\">stackoverflow.com/questions/344380/&hellip;</a>"},{"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"score":0,"creation_date":1434030214,"post_id":30782517,"comment_id":49615067,"body_markdown":"@ Fast Snail yes it starts with 0, but in june it should show 5 right ?","body":"@ Fast Snail yes it starts with 0, but in june it should show 5 right ?"},{"owner":{"account_id":2123597,"reputation":9673,"user_id":1886334,"display_name":"Madhawa Priyashantha"},"score":0,"creation_date":1434030367,"post_id":30782517,"comment_id":49615200,"body_markdown":"are you telling that you get `Calendar.MONTH` as 2 for march or as 2 for june ??","body":"are you telling that you get <code>Calendar.MONTH</code> as 2 for march or as 2 for june ??"},{"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"score":1,"creation_date":1434030705,"post_id":30782517,"comment_id":49615489,"body_markdown":"in June it showed 2, got the answer now","body":"in June it showed 2, got the answer now"}],"answers":[{"tags":[],"owner":{"account_id":2083256,"reputation":1816,"user_id":1854795,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434030156,"creation_date":1434030156,"answer_id":30782546,"question_id":30782517,"body_markdown":"You are displaying the value of the `Calendar.MONTH` constant, hence 2.\r\n\r\n","title":"Calendar class time month not matching","body":"<p>You are displaying the value of the <code>Calendar.MONTH</code> constant, hence 2.</p>\n"},{"tags":[],"owner":{"account_id":152539,"reputation":19707,"user_id":367141,"accept_rate":100,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434030174,"creation_date":1434030174,"answer_id":30782554,"question_id":30782517,"body_markdown":"You&#39;re getting calendar c from an instance but calendar from month with the Calendar object, get it from the instance too.  \r\n\r\nAlso - Calendar starts from 0 as referenced [here][1]\r\n\r\nIn other news, use the new DateTime API in Java 8 or JODA time, they&#39;re much nicer.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar","title":"Calendar class time month not matching","body":"<p>You're getting calendar c from an instance but calendar from month with the Calendar object, get it from the instance too.  </p>\n\n<p>Also - Calendar starts from 0 as referenced <a href=\"https://stackoverflow.com/questions/344380/why-is-january-month-0-in-java-calendar\">here</a></p>\n\n<p>In other news, use the new DateTime API in Java 8 or JODA time, they're much nicer.</p>\n"},{"tags":[],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1434030561,"creation_date":1434030214,"answer_id":30782570,"question_id":30782517,"body_markdown":"What you want is the following idiom: `c.get(Calendar.MONTH)`. \r\n\r\n`Calendar.MONTH` per se is just an internal constant and will (hopefully) always return `2`.\r\n\r\n**Example**\r\n\r\n    // We&#39;re in June at the time of writing\r\n    // Months are 0-based so June == 5\r\n    Calendar c = Calendar.getInstance();\r\n    System.out.println(Calendar.MONTH);\r\n    System.out.println(c.get(Calendar.MONTH));\r\n\r\n**Output**\r\n\r\n    2\r\n    5\r\n\r\nSee also: [API][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#get%28int%29","title":"Calendar class time month not matching","body":"<p>What you want is the following idiom: <code>c.get(Calendar.MONTH)</code>. </p>\n\n<p><code>Calendar.MONTH</code> per se is just an internal constant and will (hopefully) always return <code>2</code>.</p>\n\n<p><strong>Example</strong></p>\n\n<pre><code>// We're in June at the time of writing\n// Months are 0-based so June == 5\nCalendar c = Calendar.getInstance();\nSystem.out.println(Calendar.MONTH);\nSystem.out.println(c.get(Calendar.MONTH));\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>2\n5\n</code></pre>\n\n<p>See also: <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Calendar.html#get%28int%29\" rel=\"nofollow\">API</a></p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684107789,"creation_date":1684107789,"answer_id":76250122,"question_id":30782517,"body_markdown":"# tl;dr\r\n\r\n    int monthNumber = LocalDate.now().getMonth().getValue() ;  // 1-12 for January-December.\r\n\r\n# Avoid legacy date-time classes\r\n\r\nThe other Answers are outmoded. The terribly flawed legacy date-time classes such as `Calendar` &amp; `Date` were years ago supplanted by the modern *java.time* classes defined in JSR 310.\r\n\r\n# *java.time*\r\n\r\nIf you want a count of milliseconds since the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, use `java.time.Instant` class.\r\n\r\n    long millisSinceEpoch = Instant.now().toMillis() ;\r\n\r\nGoing the other direction:\r\n\r\n    Instant instant = Instant.ofMillis( millisSinceEpoch ) ;\r\n\r\nIf you want to know the month, you must specify the time zone by which you want to determine the date. For any given moment, the time and date varies around the globe by time zone. Therefore the month can vary too. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\r\n    ZonedDateTime zdt = instant.atZone( z ) ;\r\n    \r\nInterrogate for the month, an enum object [`Month`][1]. \r\n\r\n    Month month = zdt.getMonth() ;\r\n\r\nGet the month number by asking the enum object for is definition order. Unlike the legacy `Calendar` class, *java.time* uses sane numbering: 1-12 for January-December. So March is 3, as you expected.\r\n\r\n    int monthNumber = month.getValue() ;\r\n\r\nIf you want to skip the count of milliseconds, and just want to know the current month, use `LocalDate` to capture the current date. \r\n\r\n    ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\r\n    LocalDate today = LocalDate.now( z ) ;\r\n    Month currentMonth = today.getMonth() ;\r\n    int monthNumber = currentMonth.getValue() ;\r\n\r\nOr, collapse that code:\r\n\r\n    int monthNumber = \r\n        LocalDate\r\n        .now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )\r\n        .getMonth()\r\n        .getValue() ;\r\n\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Month.html","title":"Calendar class time month not matching","body":"<h1>tl;dr</h1>\n<pre><code>int monthNumber = LocalDate.now().getMonth().getValue() ;  // 1-12 for January-December.\n</code></pre>\n<h1>Avoid legacy date-time classes</h1>\n<p>The other Answers are outmoded. The terribly flawed legacy date-time classes such as <code>Calendar</code> &amp; <code>Date</code> were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310.</p>\n<h1><em>java.time</em></h1>\n<p>If you want a count of milliseconds since the first moment of 1970 as seen with an offset from UTC of zero hours-minutes-seconds, use <code>java.time.Instant</code> class.</p>\n<pre><code>long millisSinceEpoch = Instant.now().toMillis() ;\n</code></pre>\n<p>Going the other direction:</p>\n<pre><code>Instant instant = Instant.ofMillis( millisSinceEpoch ) ;\n</code></pre>\n<p>If you want to know the month, you must specify the time zone by which you want to determine the date. For any given moment, the time and date varies around the globe by time zone. Therefore the month can vary too.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Asia/Tokyo&quot; ) ;\nZonedDateTime zdt = instant.atZone( z ) ;\n</code></pre>\n<p>Interrogate for the month, an enum object <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/time/Month.html\" rel=\"nofollow noreferrer\"><code>Month</code></a>.</p>\n<pre><code>Month month = zdt.getMonth() ;\n</code></pre>\n<p>Get the month number by asking the enum object for is definition order. Unlike the legacy <code>Calendar</code> class, <em>java.time</em> uses sane numbering: 1-12 for January-December. So March is 3, as you expected.</p>\n<pre><code>int monthNumber = month.getValue() ;\n</code></pre>\n<p>If you want to skip the count of milliseconds, and just want to know the current month, use <code>LocalDate</code> to capture the current date.</p>\n<pre><code>ZoneId z = ZoneId.of( &quot;Africa/Casablanca&quot; ) ;\nLocalDate today = LocalDate.now( z ) ;\nMonth currentMonth = today.getMonth() ;\nint monthNumber = currentMonth.getValue() ;\n</code></pre>\n<p>Or, collapse that code:</p>\n<pre><code>int monthNumber = \n    LocalDate\n    .now( ZoneId.of( &quot;Africa/Casablanca&quot; ) )\n    .getMonth()\n    .getValue() ;\n</code></pre>\n"}],"owner":{"account_id":3283509,"reputation":697,"user_id":2763505,"accept_rate":62,"display_name":"Pallab"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":120,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":30782570,"answer_count":4,"score":3,"last_activity_date":1684107789,"creation_date":1434030071,"question_id":30782517,"body_markdown":"    Calendar c = Calendar.getInstance();\n    \n    System.out.println(&quot;Mili-&gt;&gt;&quot; + c.getTimeInMillis());\n    \n    System.out.println(&quot;Month  -&gt;&gt;&quot; + Calendar.MONTH);\n\nThough I am getting correct time in millisec format, Month is showing as 2 (March??) Why so?\n\nBelow is output\n\n\n\n&gt; Mili-&gt;&gt;1434029840778 \n&gt;\n&gt; Month  -&gt;&gt;2","title":"Calendar class time month not matching","body":"<pre><code>Calendar c = Calendar.getInstance();\n\nSystem.out.println(&quot;Mili-&gt;&gt;&quot; + c.getTimeInMillis());\n\nSystem.out.println(&quot;Month  -&gt;&gt;&quot; + Calendar.MONTH);\n</code></pre>\n<p>Though I am getting correct time in millisec format, Month is showing as 2 (March??) Why so?</p>\n<p>Below is output</p>\n<blockquote>\n<p>Mili-&gt;&gt;1434029840778</p>\n<p>Month  -&gt;&gt;2</p>\n</blockquote>\n"},{"tags":["java","regex","parsing","url","youtube"],"comments":[{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":0,"creation_date":1318359638,"post_id":7730328,"comment_id":9406678,"body_markdown":"You may want to look at [my answer to a very similar question](http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191). It extracts the video-id from a variety of YouTube URL formats.","body":"You may want to look at <a href=\"http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191\">my answer to a very similar question</a>. It extracts the video-id from a variety of YouTube URL formats."},{"owner":{"account_id":471373,"reputation":1569,"user_id":879131,"accept_rate":43,"display_name":"Peril"},"score":0,"creation_date":1318365776,"post_id":7730328,"comment_id":9408404,"body_markdown":"@ridgerunner thanks but it misses the gdata links","body":"@ridgerunner thanks but it misses the gdata links"},{"owner":{"account_id":192576,"reputation":33947,"user_id":433790,"display_name":"ridgerunner"},"score":0,"creation_date":1318430526,"post_id":7730328,"comment_id":9421745,"body_markdown":"Thanks for pointing that out. I&#39;ve updatated [my YouTube ID matching expression](http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191) so that it now correctly matches your `gdata` subdomain example.","body":"Thanks for pointing that out. I&#39;ve updatated <a href=\"http://stackoverflow.com/questions/5830387/php-regex-find-all-youtube-video-ids-in-string/5831191#5831191\">my YouTube ID matching expression</a> so that it now correctly matches your <code>gdata</code> subdomain example."}],"answers":[{"tags":[],"owner":{"account_id":446184,"reputation":12356,"user_id":839086,"accept_rate":100,"display_name":"Marcus"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1318362031,"creation_date":1318356335,"answer_id":7730437,"question_id":7730328,"body_markdown":"This regex would do the trick: \r\n\r\n    (?&lt;=videos\\/|v=)([\\w-]+)\r\n\r\nThis means that we&#39;re first looking for `video/` or `v=` then captures all the following characters that can be in word (letters, digits, and underscores) and hyphens. \r\n\r\nExample in java: \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tString link = &quot;http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever&quot;;\r\n\t\tString pattern = &quot;(?:videos\\\\/|v=)([\\\\w-]+)&quot;;\r\n\t\t\r\n\t\tPattern compiledPattern = Pattern.compile(pattern);\r\n\t\tMatcher matcher = compiledPattern.matcher(link);\r\n\r\n\t\tif(matcher.find()){\r\n\t        System.out.println(matcher.group());\r\n\t    }\r\n\t}\r\n\r\nOutput:\r\n\r\n    xTmi7zzUa-M","title":"getting the youtube id from a link","body":"<p>This regex would do the trick: </p>\n\n<pre><code>(?&lt;=videos\\/|v=)([\\w-]+)\n</code></pre>\n\n<p>This means that we're first looking for <code>video/</code> or <code>v=</code> then captures all the following characters that can be in word (letters, digits, and underscores) and hyphens. </p>\n\n<p>Example in java: </p>\n\n<pre><code>public static void main(String[] args) {\n\n    String link = \"http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\";\n    String pattern = \"(?:videos\\\\/|v=)([\\\\w-]+)\";\n\n    Pattern compiledPattern = Pattern.compile(pattern);\n    Matcher matcher = compiledPattern.matcher(link);\n\n    if(matcher.find()){\n        System.out.println(matcher.group());\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>xTmi7zzUa-M\n</code></pre>\n"},{"tags":[],"owner":{"account_id":271255,"reputation":6621,"user_id":561690,"accept_rate":57,"display_name":"Code Jockey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1410201646,"creation_date":1318360318,"answer_id":7731219,"question_id":7730328,"body_markdown":"Without knowing the complete specification for all the possible YouTube URLs, this seems to work for the examples you provided:\r\n\r\n    //*EDIT* - fixed to hopefully support more recent youtube link styles/formats:\r\n    (?&lt;=watch\\?v=|/videos/|/embed/|youtu.be/)[^&amp;#?]*\r\n\r\n... matches `PjDw3azfZWI` from either of these URLS:\r\n\r\n    http://www.youtube.com/watch?v=PjDw3azfZWI#t=31m08s\r\n    http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI\r\n\r\nYou would need a little more to get that particular info if you did not know that these were from youtube, though that&#39;s a pretty quick check\r\n\r\nKeep in mind that if you are trying to use only the result of the `getQuery()` method, it will not be possible to extract the result from the `http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI` URL, as this URL does not have a query part to it...\r\n\r\nJava Example:\r\n\r\n    Pattern rex = Pattern.compile(&quot;(?&lt;=watch\\\\?v=|/videos/)[^&amp;#]*&quot;);\r\n    Matcher m = rex.matcher(link);\r\n    String YouTubeVideoID = m.group();","title":"getting the youtube id from a link","body":"<p>Without knowing the complete specification for all the possible YouTube URLs, this seems to work for the examples you provided:</p>\n\n<pre><code>//*EDIT* - fixed to hopefully support more recent youtube link styles/formats:\n(?&lt;=watch\\?v=|/videos/|/embed/|youtu.be/)[^&amp;#?]*\n</code></pre>\n\n<p>... matches <code>PjDw3azfZWI</code> from either of these URLS:</p>\n\n<pre><code>http://www.youtube.com/watch?v=PjDw3azfZWI#t=31m08s\nhttp://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI\n</code></pre>\n\n<p>You would need a little more to get that particular info if you did not know that these were from youtube, though that's a pretty quick check</p>\n\n<p>Keep in mind that if you are trying to use only the result of the <code>getQuery()</code> method, it will not be possible to extract the result from the <code>http://gdata.youtube.com/feeds/api/videos/PjDw3azfZWI</code> URL, as this URL does not have a query part to it...</p>\n\n<p>Java Example:</p>\n\n<pre><code>Pattern rex = Pattern.compile(\"(?&lt;=watch\\\\?v=|/videos/)[^&amp;#]*\");\nMatcher m = rex.matcher(link);\nString YouTubeVideoID = m.group();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401085,"reputation":1174,"user_id":767434,"display_name":"max"},"down_vote_count":0,"up_vote_count":48,"is_accepted":true,"score":48,"last_activity_date":1362449319,"creation_date":1362449319,"answer_id":15214610,"question_id":7730328,"body_markdown":"Tried the other ones but failed in my case - adjusted the regex to fit for my urls\n\n    String pattern = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\n        \n        Pattern compiledPattern = Pattern.compile(pattern);\n        Matcher matcher = compiledPattern.matcher(url);\n\n        if(matcher.find()){\n            return matcher.group();\n        }\n\nThis one works for: (you could also implement a security check youtubeid length = 11 ) \n\n&gt; http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\n&gt;\n&gt; http://www.youtube.com/watch?v=384IUU43bfQ\n&gt;\n&gt; http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\n&gt;\n&gt; Woq5iX9XQhA\n&gt;\n&gt; 384IUU43bfQ\n&gt;\n&gt; xTmi7zzUa-M\n\n","title":"getting the youtube id from a link","body":"<p>Tried the other ones but failed in my case - adjusted the regex to fit for my urls</p>\n<pre><code>String pattern = &quot;(?&lt;=watch\\\\?v=|/videos/|embed\\\\/)[^#\\\\&amp;\\\\?]*&quot;;\n    \n    Pattern compiledPattern = Pattern.compile(pattern);\n    Matcher matcher = compiledPattern.matcher(url);\n\n    if(matcher.find()){\n        return matcher.group();\n    }\n</code></pre>\n<p>This one works for: (you could also implement a security check youtubeid length = 11 )</p>\n<blockquote>\n<p><a href=\"http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\" rel=\"noreferrer\">http://www.youtube.com/embed/Woq5iX9XQhA?html5=1</a></p>\n<p><a href=\"http://www.youtube.com/watch?v=384IUU43bfQ\" rel=\"noreferrer\">http://www.youtube.com/watch?v=384IUU43bfQ</a></p>\n<p><a href=\"http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\" rel=\"noreferrer\">http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever</a></p>\n<p>Woq5iX9XQhA</p>\n<p>384IUU43bfQ</p>\n<p>xTmi7zzUa-M</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":414536,"reputation":438,"user_id":788810,"accept_rate":65,"display_name":"samirprogrammer"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1392705022,"creation_date":1392705022,"answer_id":21845955,"question_id":7730328,"body_markdown":"    public static String getYoutubeVideoId(String youtubeUrl)\r\n     {\r\n     String video_id=&quot;&quot;;\r\n      if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(&quot;http&quot;))\r\n     {\r\n     \r\n    String expression = &quot;^.*((youtu.be&quot;+ &quot;\\\\/)&quot; + &quot;|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*&quot;; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\r\n     CharSequence input = youtubeUrl;\r\n     Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\r\n     Matcher matcher = pattern.matcher(input);\r\n     if (matcher.matches())\r\n     {\r\n    String groupIndex1 = matcher.group(7);\r\n     if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\r\n     video_id = groupIndex1;\r\n     }\r\n     }\r\n     return video_id;\r\n     }","title":"getting the youtube id from a link","body":"<pre><code>public static String getYoutubeVideoId(String youtubeUrl)\n {\n String video_id=\"\";\n  if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(\"http\"))\n {\n\nString expression = \"^.*((youtu.be\"+ \"\\\\/)\" + \"|(v\\\\/)|(\\\\/u\\\\/w\\\\/)|(embed\\\\/)|(watch\\\\?))\\\\??v?=?([^#\\\\&amp;\\\\?]*).*\"; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\n CharSequence input = youtubeUrl;\n Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\n Matcher matcher = pattern.matcher(input);\n if (matcher.matches())\n {\nString groupIndex1 = matcher.group(7);\n if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\n video_id = groupIndex1;\n }\n }\n return video_id;\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422833380,"creation_date":1422833380,"answer_id":28269203,"question_id":7730328,"body_markdown":"This doesn&#39;t use a regex but should still do the job.\r\n\r\n\t/**\r\n\t * Returns the video id of a YouTube watch link.\r\n\t */\r\n\tpublic static String getVideoId(String watchLink)\r\n\t{\r\n\t\treturn watchLink.substring(watchLink.length() - 11);\r\n\t}","title":"getting the youtube id from a link","body":"<p>This doesn't use a regex but should still do the job.</p>\n\n<pre><code>/**\n * Returns the video id of a YouTube watch link.\n */\npublic static String getVideoId(String watchLink)\n{\n    return watchLink.substring(watchLink.length() - 11);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412487,"reputation":1082,"user_id":785576,"accept_rate":41,"display_name":"saravanan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1451481782,"creation_date":1451481782,"answer_id":34530411,"question_id":7730328,"body_markdown":"    This will work me and simple\r\n\r\n    public static String getVideoId(@NonNull String videoUrl) {\r\n        String reg = &quot;(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})&quot;;\r\n        Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\r\n        Matcher matcher = pattern.matcher(videoUrl);\r\n\r\n        if (matcher.find())\r\n            return matcher.group(1);\r\n        return null;\r\n    }","title":"getting the youtube id from a link","body":"<pre><code>This will work me and simple\n\npublic static String getVideoId(@NonNull String videoUrl) {\n    String reg = \"(?:youtube(?:-nocookie)?\\\\.com\\\\/(?:[^\\\\/\\\\n\\\\s]+\\\\/\\\\S+\\\\/|(?:v|e(?:mbed)?)\\\\/|\\\\S*?[?&amp;]v=)|youtu\\\\.be\\\\/)([a-zA-Z0-9_-]{11})\";\n    Pattern pattern = Pattern.compile(reg, Pattern.CASE_INSENSITIVE);\n    Matcher matcher = pattern.matcher(videoUrl);\n\n    if (matcher.find())\n        return matcher.group(1);\n    return null;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8286907,"reputation":21,"user_id":6229757,"display_name":"OneCoder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1465926700,"creation_date":1465926700,"answer_id":37818920,"question_id":7730328,"body_markdown":"That pattern worked for me:\r\n\r\n    &quot;http(?:s?)://(?:www\\.)?youtu(?:be\\.com/watch\\?v=|\\.be/)([\\w\\-]+)(&amp;(amp;)?[\\w\\?=â€Œâ€‹]*)?&quot;\r\n\r\nsource: https://stackoverflow.com/questions/3717115/regular-expression-for-youtube-links","title":"getting the youtube id from a link","body":"<p>That pattern worked for me:</p>\n\n<pre><code>\"http(?:s?)://(?:www\\.)?youtu(?:be\\.com/watch\\?v=|\\.be/)([\\w\\-]+)(&amp;(amp;)?[\\w\\?=â€Œâ€‹]*)?\"\n</code></pre>\n\n<p>source: <a href=\"https://stackoverflow.com/questions/3717115/regular-expression-for-youtube-links\">Regular expression for youtube links</a></p>\n"},{"tags":[],"owner":{"account_id":3784051,"reputation":1546,"user_id":3142611,"accept_rate":71,"display_name":"Bahu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1486108665,"creation_date":1486108213,"answer_id":42019265,"question_id":7730328,"body_markdown":"This was worked for me \r\n\r\n    \r\n\r\n    public static String getYoutubeVideoId(String youtubeUrl) {\r\n        String videoId = &quot;&quot;;\r\n        if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(&quot;http&quot;)) {\r\n\r\n            String expression = &quot;^.*((youtu.be&quot;+ &quot;/)&quot; + &quot;|(v/)|(/u/w/)|(embed/)|(watch\\\\?))\\\\??v?=?([^#&amp;\\\\?]*).*&quot;; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\r\n            Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\r\n            Matcher matcher = pattern.matcher(youtubeUrl);\r\n            if (matcher.matches()) {\r\n                String groupIndex1 = matcher.group(7);\r\n                if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\r\n                    videoId = groupIndex1;\r\n            }\r\n\r\n        }\r\n        return videoId;\r\n    }\r\n\r\nSource [link][1]\r\n\r\n\r\n  [1]: https://androidsnippets.wordpress.com/2012/10/11/how-to-get-extract-video-id-from-an-youtube-url-in-android-java/","title":"getting the youtube id from a link","body":"<p>This was worked for me </p>\n\n<pre><code>public static String getYoutubeVideoId(String youtubeUrl) {\n    String videoId = \"\";\n    if (youtubeUrl != null &amp;&amp; youtubeUrl.trim().length() &gt; 0 &amp;&amp; youtubeUrl.startsWith(\"http\")) {\n\n        String expression = \"^.*((youtu.be\"+ \"/)\" + \"|(v/)|(/u/w/)|(embed/)|(watch\\\\?))\\\\??v?=?([^#&amp;\\\\?]*).*\"; // var regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&amp;\\?]*).*/;\n        Pattern pattern = Pattern.compile(expression,Pattern.CASE_INSENSITIVE);\n        Matcher matcher = pattern.matcher(youtubeUrl);\n        if (matcher.matches()) {\n            String groupIndex1 = matcher.group(7);\n            if(groupIndex1!=null &amp;&amp; groupIndex1.length()==11)\n                videoId = groupIndex1;\n        }\n\n    }\n    return videoId;\n}\n</code></pre>\n\n<p>Source <a href=\"https://androidsnippets.wordpress.com/2012/10/11/how-to-get-extract-video-id-from-an-youtube-url-in-android-java/\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":910728,"reputation":6028,"user_id":1769274,"accept_rate":63,"display_name":"Nabeel K"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1496053879,"creation_date":1496053879,"answer_id":44240293,"question_id":7730328,"body_markdown":"Got a better solution from this [link][1].\r\n\r\nUse the following method to get the videoId from the link.\r\n\r\n&gt; YoutubeHelper.java\r\n\r\n    import com.google.inject.Singleton; \r\n     \r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n     \r\n    @Singleton \r\n    public class YouTubeHelper { \r\n     \r\n        final String youTubeUrlRegEx = &quot;^(https?)?(://)?(www.)?(m.)?((youtube.com)|(youtu.be))/&quot;;\r\n        final String[] videoIdRegex = { &quot;\\\\?vi?=([^&amp;]*)&quot;,&quot;watch\\\\?.*v=([^&amp;]*)&quot;, &quot;(?:embed|vi?)/([^/?]*)&quot;, &quot;^([A-Za-z0-9\\\\-]*)&quot;};\r\n     \r\n        public String extractVideoIdFromUrl(String url) {\r\n            String youTubeLinkWithoutProtocolAndDomain = youTubeLinkWithoutProtocolAndDomain(url);\r\n     \r\n            for(String regex : videoIdRegex) {\r\n                Pattern compiledPattern = Pattern.compile(regex);\r\n                Matcher matcher = compiledPattern.matcher(youTubeLinkWithoutProtocolAndDomain);\r\n     \r\n                if(matcher.find()){\r\n                    return matcher.group(1);\r\n                } \r\n            } \r\n     \r\n            return null; \r\n        } \r\n     \r\n        private String youTubeLinkWithoutProtocolAndDomain(String url) {\r\n            Pattern compiledPattern = Pattern.compile(youTubeUrlRegEx);\r\n            Matcher matcher = compiledPattern.matcher(url);\r\n     \r\n            if(matcher.find()){\r\n                return url.replace(matcher.group(), &quot;&quot;);\r\n            } \r\n            return url;\r\n        } \r\n    } \r\n\r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://gist.github.com/jvanderwee/b30fdb496acff43aef8e","title":"getting the youtube id from a link","body":"<p>Got a better solution from this <a href=\"https://gist.github.com/jvanderwee/b30fdb496acff43aef8e\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>Use the following method to get the videoId from the link.</p>\n\n<blockquote>\n  <p>YoutubeHelper.java</p>\n</blockquote>\n\n<pre><code>import com.google.inject.Singleton; \n\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\n@Singleton \npublic class YouTubeHelper { \n\n    final String youTubeUrlRegEx = \"^(https?)?(://)?(www.)?(m.)?((youtube.com)|(youtu.be))/\";\n    final String[] videoIdRegex = { \"\\\\?vi?=([^&amp;]*)\",\"watch\\\\?.*v=([^&amp;]*)\", \"(?:embed|vi?)/([^/?]*)\", \"^([A-Za-z0-9\\\\-]*)\"};\n\n    public String extractVideoIdFromUrl(String url) {\n        String youTubeLinkWithoutProtocolAndDomain = youTubeLinkWithoutProtocolAndDomain(url);\n\n        for(String regex : videoIdRegex) {\n            Pattern compiledPattern = Pattern.compile(regex);\n            Matcher matcher = compiledPattern.matcher(youTubeLinkWithoutProtocolAndDomain);\n\n            if(matcher.find()){\n                return matcher.group(1);\n            } \n        } \n\n        return null; \n    } \n\n    private String youTubeLinkWithoutProtocolAndDomain(String url) {\n        Pattern compiledPattern = Pattern.compile(youTubeUrlRegEx);\n        Matcher matcher = compiledPattern.matcher(url);\n\n        if(matcher.find()){\n            return url.replace(matcher.group(), \"\");\n        } \n        return url;\n    } \n} \n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":399131,"reputation":16399,"user_id":2296787,"accept_rate":79,"display_name":"MBH"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684107433,"creation_date":1684107433,"answer_id":76250103,"question_id":7730328,"body_markdown":"Here is the `kotlin` version that will support many of Youtube urls including ***Shorts***:\r\n\r\n    private fun getVideoId(youtubeUrl: String): String {\r\n        var videoId = &quot;&quot;\r\n        val regex = &quot;/(?:watch|\\\\w+\\\\?(?:feature=\\\\w+.\\\\w+&amp;)?v=|(videos/)|v/|e/|embed/|live/|shorts/|user/(?:[\\\\w#]+/)+)([^&amp;#?\\\\n]+)&quot;\r\n        val pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE)\r\n        val matcher = pattern.matcher(youtubeUrl)\r\n        if(matcher.find()){\r\n            videoId = matcher.group(2).orEmpty()\r\n        }\r\n        return videoId\r\n    }\r\nHere are some samples to I&#39;ve tested against:\r\n\r\n    https://youtube.com/watch?v=olij8GbEHJ0\r\n    www.youtube.com/watch?v=olij8GbEHJ0\r\n    https://youtu.be/shorts/fMlV1dGb1cI?feature=share\r\n    http://gdata.youtube.com/feeds/api/videos/xxxxxx\r\n    http://www.youtube.com/embed/Woq5iX9XQhA?html5=1\r\n    http://www.youtube.com/watch?v=384IUU43bfQ\r\n    http://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\r\n\r\nTry it on [regex101.com][1] choosing Java on the left menu\r\n\r\n\r\n  [1]: https://regex101.com/","title":"getting the youtube id from a link","body":"<p>Here is the <code>kotlin</code> version that will support many of Youtube urls including <em><strong>Shorts</strong></em>:</p>\n<pre><code>private fun getVideoId(youtubeUrl: String): String {\n    var videoId = &quot;&quot;\n    val regex = &quot;/(?:watch|\\\\w+\\\\?(?:feature=\\\\w+.\\\\w+&amp;)?v=|(videos/)|v/|e/|embed/|live/|shorts/|user/(?:[\\\\w#]+/)+)([^&amp;#?\\\\n]+)&quot;\n    val pattern = Pattern.compile(regex, Pattern.CASE_INSENSITIVE)\n    val matcher = pattern.matcher(youtubeUrl)\n    if(matcher.find()){\n        videoId = matcher.group(2).orEmpty()\n    }\n    return videoId\n}\n</code></pre>\n<p>Here are some samples to I've tested against:</p>\n<pre><code>https://youtube.com/watch?v=olij8GbEHJ0\nwww.youtube.com/watch?v=olij8GbEHJ0\nhttps://youtu.be/shorts/fMlV1dGb1cI?feature=share\nhttp://gdata.youtube.com/feeds/api/videos/xxxxxx\nhttp://www.youtube.com/embed/Woq5iX9XQhA?html5=1\nhttp://www.youtube.com/watch?v=384IUU43bfQ\nhttp://gdata.youtube.com/feeds/api/videos/xTmi7zzUa-M&amp;whatever\n</code></pre>\n<p>Try it on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> choosing Java on the left menu</p>\n"}],"owner":{"account_id":471373,"reputation":1569,"user_id":879131,"accept_rate":43,"display_name":"Peril"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20880,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":15214610,"answer_count":10,"score":25,"last_activity_date":1684107433,"creation_date":1318355776,"question_id":7730328,"body_markdown":"I got this code to get the youtube id from the links like \r\nwww.youtube.com/watch?v=xxxxxxx\r\n\r\n      URL youtubeURL = new URL(link);\r\n      youtubeURL.getQuery();\r\nbasically this will get me the id easily v=xxxxxxxx\r\n\r\nbut I noticed sometime youtube links will be like this\r\n\r\n\r\n    http://gdata.youtube.com/feeds/api/videos/xxxxxx\r\n\r\nI am getting the links from a feed\r\nso do I need to build a regex for that or theres a parser to get that for me ?\r\n\r\n","title":"getting the youtube id from a link","body":"<p>I got this code to get the youtube id from the links like \nwww.youtube.com/watch?v=xxxxxxx</p>\n\n<pre><code>  URL youtubeURL = new URL(link);\n  youtubeURL.getQuery();\n</code></pre>\n\n<p>basically this will get me the id easily v=xxxxxxxx</p>\n\n<p>but I noticed sometime youtube links will be like this</p>\n\n<pre><code>http://gdata.youtube.com/feeds/api/videos/xxxxxx\n</code></pre>\n\n<p>I am getting the links from a feed\nso do I need to build a regex for that or theres a parser to get that for me ?</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":13724158,"reputation":575,"user_id":9903370,"display_name":"skelwa"},"score":0,"creation_date":1531825183,"post_id":51379680,"comment_id":89730810,"body_markdown":"Is your file named as application.property or application.properties?","body":"Is your file named as application.property or application.properties?"},{"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"score":0,"creation_date":1531825253,"post_id":51379680,"comment_id":89730853,"body_markdown":". properties. Thanks for pointing this out","body":". properties. Thanks for pointing this out"},{"owner":{"account_id":5019572,"reputation":1217,"user_id":4033396,"accept_rate":0,"display_name":"Sri9911"},"score":0,"creation_date":1531827290,"post_id":51379680,"comment_id":89732259,"body_markdown":"Since you are disabling auto-configuration classes via &#39;@EnableAutoConfiguration &#39; exclude attribute, you may try &#39;@Configuration&#39;instead of &#39;@SpringBootApplication&#39;","body":"Since you are disabling auto-configuration classes via &#39;@EnableAutoConfiguration &#39; exclude attribute, you may try &#39;@Configuration&#39;instead of &#39;@SpringBootApplication&#39;"},{"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"score":0,"creation_date":1531828888,"post_id":51379680,"comment_id":89733312,"body_markdown":"@Sri9911 that annotation was a suggestion so I can remove it. Using &#39;@Configuration&#39; instead of &#39;@SpringBootApplication&#39; messes with all my bean declarations,bean dependency injections...so it&#39;s not a viable option","body":"@Sri9911 that annotation was a suggestion so I can remove it. Using &#39;@Configuration&#39; instead of &#39;@SpringBootApplication&#39; messes with all my bean declarations,bean dependency injections...so it&#39;s not a viable option"}],"answers":[{"tags":[],"owner":{"account_id":6740561,"reputation":99,"user_id":5193935,"display_name":"Andriy Br."},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531825313,"creation_date":1531825313,"answer_id":51379770,"question_id":51379680,"body_markdown":"You should name property file: `application.properties` or `application.yml`","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>You should name property file: <code>application.properties</code> or <code>application.yml</code></p>\n"},{"tags":[],"owner":{"account_id":9181235,"reputation":616,"user_id":6824968,"display_name":"this_is_om_vm"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1531825398,"creation_date":1531825398,"answer_id":51379802,"question_id":51379680,"body_markdown":"just try to append this line in your config class\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>just try to append this line in your config class</p>\n\n<pre><code>@SpringBootApplication\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10624574,"reputation":666,"user_id":7824581,"display_name":"Kathirvel Subramanian"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1684105993,"creation_date":1531833651,"answer_id":51382477,"question_id":51379680,"body_markdown":"You can start by removing:\r\n\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n\r\nAnd also try to add all these _JDBC_ properties,\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false\r\n    spring.datasource.username=&lt;username&gt;\r\n    spring.datasource.password=&lt;password&gt;\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n    spring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\r\n    spring.jpa.hibernate.ddl-auto=update","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>You can start by removing:</p>\n<pre><code>@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\n</code></pre>\n<p>And also try to add all these <em>JDBC</em> properties,</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase?verifyServerCertificate=false&amp;useSSL=false&amp;requireSSL=false\nspring.datasource.username=&lt;username&gt;\nspring.datasource.password=&lt;password&gt;\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5Dialect\nspring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13384537,"reputation":428,"user_id":9658836,"display_name":"Miguel Ruiz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624002108,"creation_date":1623973933,"answer_id":68027745,"question_id":51379680,"body_markdown":"Most of the answers recommend excluding **DataSourceAutoConfiguration**, and I agree with the approach, but what they don&#39;t tell is that besides the programmatic way via annotation `@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})`, we also have the option of setting it via properties in the following manner which is useful when annotating an application class is not an option.\r\n \r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n\r\n","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>Most of the answers recommend excluding <strong>DataSourceAutoConfiguration</strong>, and I agree with the approach, but what they don't tell is that besides the programmatic way via annotation <code>@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})</code>, we also have the option of setting it via properties in the following manner which is useful when annotating an application class is not an option.</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":13894304,"reputation":939,"user_id":10031533,"display_name":"Adrian Pascu"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54593,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":51382477,"answer_count":4,"score":8,"last_activity_date":1684105993,"creation_date":1531825026,"question_id":51379680,"body_markdown":"I am trying to load a MySQL database into a spring boot application but when I start the application I am getting those error messages:\r\n\r\n`2018-07-17 13:46:31.426  WARN 2120 --- [  restartedMain] o.s.b.a.orm.jpa.DatabaseLookup           : Unable to determine jdbc url from datasource`\r\n\r\n`org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: &#39;url&#39; not set`\r\n\r\nAlthough I have set the url property in `application.properties` : `spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase`\r\n\r\nCan anyone help me figure this one out?\r\n\r\nEdit: Here is my Main class:\r\n\r\n    package com.randomsoft.checkoff;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n\r\n    @SpringBootApplication\r\n    @EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\r\n    public class CheckoffApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(CheckoffApplication.class, args);\r\n\t}\r\n    }\r\n\r\n","title":"Spring boot unable to determine jdbc url from datasouce (mysql)","body":"<p>I am trying to load a MySQL database into a spring boot application but when I start the application I am getting those error messages:</p>\n\n<p><code>2018-07-17 13:46:31.426  WARN 2120 --- [  restartedMain] o.s.b.a.orm.jpa.DatabaseLookup           : Unable to determine jdbc url from datasource</code></p>\n\n<p><code>org.springframework.jdbc.support.MetaDataAccessException: Could not get Connection for extracting meta-data; nested exception is org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection: 'url' not set</code></p>\n\n<p>Although I have set the url property in <code>application.properties</code> : <code>spring.datasource.url=jdbc:mysql://localhost:3306/mydatabase</code></p>\n\n<p>Can anyone help me figure this one out?</p>\n\n<p>Edit: Here is my Main class:</p>\n\n<pre><code>package com.randomsoft.checkoff;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\n\n@SpringBootApplication\n@EnableAutoConfiguration(exclude = {DataSourceAutoConfiguration.class})\npublic class CheckoffApplication {\n\npublic static void main(String[] args) {\n    SpringApplication.run(CheckoffApplication.class, args);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-security","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684105821,"creation_date":1684105451,"answer_id":76250029,"question_id":76205536,"body_markdown":"&gt; Is it the right way to do what I intended to do?\r\n\r\nActually, this is not the best idea in a reactive application. Your case is a bit tricky because `ReactiveAuthorizationManager` is often used to perform authorization based on the data like user roles, claims, etc., not the request body. The tricky moment here is that reading the request body for authorization means you are consuming the `Flux&lt;DataBuffer&gt;`. Since this Flux can only be consumed once, you need to cache it and forward the cache to the controller. And this is exactly what you&#39;ve already done in your example. \r\n\r\nThe problem here is that such caching can negate some benefits of WebFlux. For example, in this context, it makes caching involves storing the entire request body in memory so that it can be read multiple times. However, one of the benefits of using a stream-based, non-blocking I/O model like WebFlux is the ability to handle data by processing it in chunks as they arrive (that&#39;s why you have `Flux&lt;DataBuffer&gt;` and not `Mono&lt;DataBuffer&gt;`). Caching it may affect application performance, especially with large request bodies. Also, caching isn&#39;t an option if the request body is a data stream. A stream might not be available all at once, so you can&#39;t cache it.\r\n\r\nThat&#39;s why it is not recommended to do what you want to do. Better to move all needed authorization context to headers and check headers.\r\n\r\n&gt; Is there any chance that the class BodyInterceptingRequest is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.\r\n\r\nHowever, if you understand all cons but want to proceed with such a solution, the general implementation is correct. It is unlikely that you will encounter the situation you described because you create a new instance of `BodyInterceptingRequest` on each request, and you have your own &quot;exchange&quot; for each request. Also, `WebFilter`s executed sequentially, so there is no race condition should be in `BodyInterceptingRequest`.\r\n\r\n&gt; Is there any chance of memory leak through the implementation of BodyInterceptingRequest?\r\n\r\nOverall, I don&#39;t see possible memory leaks here. Let&#39;s take a closer look at the important places:\r\n\r\n1. readBody method\r\n\r\nAccording to the `DataBufferUtils.join` documentation: \r\n```\r\nthe given data buffers do not have to be released. They will be released as part of the returned composite.\r\n```\r\nThis is what you&#39;ve done in `DataBufferUtils.release(dataBuffer)`.\r\n\r\n2. getBody method\r\n\r\nSince you are using `DefaultDataBufferFactory`, there is no need to release allocated data buffers. They will be garbage collected. But actually, I don&#39;t see a reason to allocate new memory here. I think you can replace `bufferFactory.allocateBuffer` with `bufferFactory.wrap(bytes)`.\r\n","title":"How to extract request body in ReactiveAuthorizationManager of Spring WebFlux Security?","body":"<blockquote>\n<p>Is it the right way to do what I intended to do?</p>\n</blockquote>\n<p>Actually, this is not the best idea in a reactive application. Your case is a bit tricky because <code>ReactiveAuthorizationManager</code> is often used to perform authorization based on the data like user roles, claims, etc., not the request body. The tricky moment here is that reading the request body for authorization means you are consuming the <code>Flux&lt;DataBuffer&gt;</code>. Since this Flux can only be consumed once, you need to cache it and forward the cache to the controller. And this is exactly what you've already done in your example.</p>\n<p>The problem here is that such caching can negate some benefits of WebFlux. For example, in this context, it makes caching involves storing the entire request body in memory so that it can be read multiple times. However, one of the benefits of using a stream-based, non-blocking I/O model like WebFlux is the ability to handle data by processing it in chunks as they arrive (that's why you have <code>Flux&lt;DataBuffer&gt;</code> and not <code>Mono&lt;DataBuffer&gt;</code>). Caching it may affect application performance, especially with large request bodies. Also, caching isn't an option if the request body is a data stream. A stream might not be available all at once, so you can't cache it.</p>\n<p>That's why it is not recommended to do what you want to do. Better to move all needed authorization context to headers and check headers.</p>\n<blockquote>\n<p>Is there any chance that the class BodyInterceptingRequest is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.</p>\n</blockquote>\n<p>However, if you understand all cons but want to proceed with such a solution, the general implementation is correct. It is unlikely that you will encounter the situation you described because you create a new instance of <code>BodyInterceptingRequest</code> on each request, and you have your own &quot;exchange&quot; for each request. Also, <code>WebFilter</code>s executed sequentially, so there is no race condition should be in <code>BodyInterceptingRequest</code>.</p>\n<blockquote>\n<p>Is there any chance of memory leak through the implementation of BodyInterceptingRequest?</p>\n</blockquote>\n<p>Overall, I don't see possible memory leaks here. Let's take a closer look at the important places:</p>\n<ol>\n<li>readBody method</li>\n</ol>\n<p>According to the <code>DataBufferUtils.join</code> documentation:</p>\n<pre><code>the given data buffers do not have to be released. They will be released as part of the returned composite.\n</code></pre>\n<p>This is what you've done in <code>DataBufferUtils.release(dataBuffer)</code>.</p>\n<ol start=\"2\">\n<li>getBody method</li>\n</ol>\n<p>Since you are using <code>DefaultDataBufferFactory</code>, there is no need to release allocated data buffers. They will be garbage collected. But actually, I don't see a reason to allocate new memory here. I think you can replace <code>bufferFactory.allocateBuffer</code> with <code>bufferFactory.wrap(bytes)</code>.</p>\n"}],"owner":{"account_id":280829,"reputation":28956,"user_id":576758,"accept_rate":83,"display_name":"Tapas Bose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":889,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76250029,"answer_count":1,"score":4,"last_activity_date":1684105821,"creation_date":1683600723,"question_id":76205536,"body_markdown":"I need to extract the request body from the `ServerHttpRequest` in my custom implementation of `ReactiveAuthorizationManager&lt;AuthorizationContext&gt;`. The body payload contains an `id` of an entity. I need to check the request&#39;s authorization to see if the requester can access the entity.\r\n\r\nTo implement it I created a custom `ServerHttpRequestDecorator`:\r\n\r\n    public class BodyInterceptingRequest extends ServerHttpRequestDecorator {\r\n    \r\n        private StringBuilder body = null;\r\n    \r\n        public BodyInterceptingRequest(ServerHttpRequest delegate) {\r\n            super(delegate);\r\n        }\r\n    \r\n        public Flux&lt;DataBuffer&gt; getBody() {\r\n            if (body == null) {\r\n                return super.getBody();\r\n            }\r\n    \r\n            DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\r\n            byte[] bytes = getRequestBody().getBytes(StandardCharsets.UTF_8);\r\n            DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\r\n            return Flux.just(buffer.write(bytes));\r\n        }\r\n    \r\n        public Mono&lt;String&gt; readBody() {\r\n            // @formatter:off\r\n            return DataBufferUtils.join(super.getBody())\r\n                .map((DataBuffer dataBuffer) -&gt; {\r\n                    byte[] bytes = new byte[dataBuffer.readableByteCount()];\r\n                    dataBuffer.read(bytes);\r\n                    DataBufferUtils.release(dataBuffer);\r\n                    return bytes;\r\n                })\r\n                .defaultIfEmpty(new byte[0])\r\n                .flatMap(bytes -&gt; {\r\n                    body = new StringBuilder();\r\n                    body.append(new String(bytes, StandardCharsets.UTF_8));\r\n                    return Mono.just(body.toString());\r\n                });\r\n            // @formatter:on\r\n        }\r\n    \r\n        public String getRequestBody() {\r\n            return this.body.toString();\r\n        }\r\n    }\r\n\r\nAnd used this decorator in a custom `ServerWebExchangeDecorator`:\r\n\r\n    public class RequestBodyInterceptingExchange extends ServerWebExchangeDecorator {\r\n    \r\n        private final BodyInterceptingRequest request;\r\n    \r\n        public RequestBodyInterceptingExchange(ServerWebExchange exchange) {\r\n            super(exchange);\r\n            this.request = new BodyInterceptingRequest(exchange.getRequest());\r\n        }\r\n    \r\n        @Override\r\n        public BodyInterceptingRequest getRequest() {\r\n            return request;\r\n        }\r\n    }\r\n\r\nI also have created a custom `WebFilter`:\r\n\r\n    public class RequestBodyInterceptingFilter implements WebFilter {\r\n    \r\n        @Override\r\n        public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\r\n            return chain.filter(new RequestBodyInterceptingExchange(exchange));\r\n        }\r\n    }\r\n\r\nAnd registered it in `ServerHttpSecurity` as:\r\n\r\n    http\r\n        // other stuff\r\n        .addFilterBefore(new RequestBodyInterceptingFilter(), SecurityWebFiltersOrder.SECURITY_CONTEXT_SERVER_WEB_EXCHANGE)\r\n        .build();\r\n\r\nNow, the above-mentioned custom implementation of `ReactiveAuthorizationManager&lt;AuthorizationContext&gt;` looks like this:\r\n\r\n    public class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;AuthorizationContext&gt; {\r\n    \r\n        public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, AuthorizationContext context) {\r\n            // @formatter:off\r\n            return Mono.zip(\r\n                    authentication,\r\n                    getId(context)\r\n                )\r\n                .flatMap((Tuple2&lt;Authentication, String&gt; tuple) -&gt; {\r\n                    Authentication auth = tuple.getT1();\r\n                    String id = tuple.getT2();\r\n                    Jwt principal = (Jwt) auth.getPrincipal();\r\n                    String userId = principal.getSubject();\r\n    \r\n                    return // execute some logic and return a Mono boolean\r\n                })\r\n                .filter(BooleanUtils::isTrue)\r\n                .map(AuthorizationDecision::new);\r\n            // @formatter:on\r\n        }\r\n    \r\n        protected Mono&lt;String&gt; getId(AuthorizationContext context) {\r\n            SecurityContextServerWebExchange securityContextExchange = (SecurityContextServerWebExchange) context.getExchange();\r\n            RequestBodyInterceptingExchange exchange = (RequestBodyInterceptingExchange) securityContextExchange.getDelegate();\r\n    \r\n            // @formatter:off\r\n            return exchange.getRequest()\r\n                .readBody()\r\n                .flatMap((String requestBody) -&gt; Mono.just(convert(requestBody).getId())); // convert is a method for deserialize JSON to an Object\r\n            // @formatter:on\r\n        }\r\n    }\r\n\r\nI can achieve what I need. But I have a few questions: \r\n\r\n - Is it the right way to do what I intended to do? \r\n - Is there any chance that the class `BodyInterceptingRequest` is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.\r\n - Is there any chance of memory leak through the implementation of `BodyInterceptingRequest`?\r\n\r\nI appreciate your expert opinion about my approach. ","title":"How to extract request body in ReactiveAuthorizationManager of Spring WebFlux Security?","body":"<p>I need to extract the request body from the <code>ServerHttpRequest</code> in my custom implementation of <code>ReactiveAuthorizationManager&lt;AuthorizationContext&gt;</code>. The body payload contains an <code>id</code> of an entity. I need to check the request's authorization to see if the requester can access the entity.</p>\n<p>To implement it I created a custom <code>ServerHttpRequestDecorator</code>:</p>\n<pre><code>public class BodyInterceptingRequest extends ServerHttpRequestDecorator {\n\n    private StringBuilder body = null;\n\n    public BodyInterceptingRequest(ServerHttpRequest delegate) {\n        super(delegate);\n    }\n\n    public Flux&lt;DataBuffer&gt; getBody() {\n        if (body == null) {\n            return super.getBody();\n        }\n\n        DataBufferFactory bufferFactory = new DefaultDataBufferFactory();\n        byte[] bytes = getRequestBody().getBytes(StandardCharsets.UTF_8);\n        DataBuffer buffer = bufferFactory.allocateBuffer(bytes.length);\n        return Flux.just(buffer.write(bytes));\n    }\n\n    public Mono&lt;String&gt; readBody() {\n        // @formatter:off\n        return DataBufferUtils.join(super.getBody())\n            .map((DataBuffer dataBuffer) -&gt; {\n                byte[] bytes = new byte[dataBuffer.readableByteCount()];\n                dataBuffer.read(bytes);\n                DataBufferUtils.release(dataBuffer);\n                return bytes;\n            })\n            .defaultIfEmpty(new byte[0])\n            .flatMap(bytes -&gt; {\n                body = new StringBuilder();\n                body.append(new String(bytes, StandardCharsets.UTF_8));\n                return Mono.just(body.toString());\n            });\n        // @formatter:on\n    }\n\n    public String getRequestBody() {\n        return this.body.toString();\n    }\n}\n</code></pre>\n<p>And used this decorator in a custom <code>ServerWebExchangeDecorator</code>:</p>\n<pre><code>public class RequestBodyInterceptingExchange extends ServerWebExchangeDecorator {\n\n    private final BodyInterceptingRequest request;\n\n    public RequestBodyInterceptingExchange(ServerWebExchange exchange) {\n        super(exchange);\n        this.request = new BodyInterceptingRequest(exchange.getRequest());\n    }\n\n    @Override\n    public BodyInterceptingRequest getRequest() {\n        return request;\n    }\n}\n</code></pre>\n<p>I also have created a custom <code>WebFilter</code>:</p>\n<pre><code>public class RequestBodyInterceptingFilter implements WebFilter {\n\n    @Override\n    public Mono&lt;Void&gt; filter(ServerWebExchange exchange, WebFilterChain chain) {\n        return chain.filter(new RequestBodyInterceptingExchange(exchange));\n    }\n}\n</code></pre>\n<p>And registered it in <code>ServerHttpSecurity</code> as:</p>\n<pre><code>http\n    // other stuff\n    .addFilterBefore(new RequestBodyInterceptingFilter(), SecurityWebFiltersOrder.SECURITY_CONTEXT_SERVER_WEB_EXCHANGE)\n    .build();\n</code></pre>\n<p>Now, the above-mentioned custom implementation of <code>ReactiveAuthorizationManager&lt;AuthorizationContext&gt;</code> looks like this:</p>\n<pre><code>public class MyAuthorizationManager implements ReactiveAuthorizationManager&lt;AuthorizationContext&gt; {\n\n    public Mono&lt;AuthorizationDecision&gt; check(Mono&lt;Authentication&gt; authentication, AuthorizationContext context) {\n        // @formatter:off\n        return Mono.zip(\n                authentication,\n                getId(context)\n            )\n            .flatMap((Tuple2&lt;Authentication, String&gt; tuple) -&gt; {\n                Authentication auth = tuple.getT1();\n                String id = tuple.getT2();\n                Jwt principal = (Jwt) auth.getPrincipal();\n                String userId = principal.getSubject();\n\n                return // execute some logic and return a Mono boolean\n            })\n            .filter(BooleanUtils::isTrue)\n            .map(AuthorizationDecision::new);\n        // @formatter:on\n    }\n\n    protected Mono&lt;String&gt; getId(AuthorizationContext context) {\n        SecurityContextServerWebExchange securityContextExchange = (SecurityContextServerWebExchange) context.getExchange();\n        RequestBodyInterceptingExchange exchange = (RequestBodyInterceptingExchange) securityContextExchange.getDelegate();\n\n        // @formatter:off\n        return exchange.getRequest()\n            .readBody()\n            .flatMap((String requestBody) -&gt; Mono.just(convert(requestBody).getId())); // convert is a method for deserialize JSON to an Object\n        // @formatter:on\n    }\n}\n</code></pre>\n<p>I can achieve what I need. But I have a few questions:</p>\n<ul>\n<li>Is it the right way to do what I intended to do?</li>\n<li>Is there any chance that the class <code>BodyInterceptingRequest</code> is buggy and in case of the concurrent hit, it provides misinformation? I mean, if there are two callers, caller1 and caller2 and they invoke the API with request1 and request2 respectively, then the request2 gets processed for caller1 and the request1 gets processed for caller2.</li>\n<li>Is there any chance of memory leak through the implementation of <code>BodyInterceptingRequest</code>?</li>\n</ul>\n<p>I appreciate your expert opinion about my approach.</p>\n"},{"tags":["java","spring-boot","validation","dependencies"],"owner":{"account_id":17975995,"reputation":551,"user_id":13063551,"display_name":"Mr.Gomer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684105777,"creation_date":1684062091,"question_id":76247125,"body_markdown":"My pom.xml file looks like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\r\n        &lt;version&gt;4.0.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nbut every time I run the project (as of today, it worked 2 days ago), I get:\r\n\r\n    2023-05-14 12:53:53,691 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - \r\n    \r\n    ***************************\r\n    APPLICATION FAILED TO START\r\n    ***************************\r\n    \r\n    Description:\r\n    \r\n    The Bean Validation API is on the classpath but no implementation could be found\r\n    \r\n    Action:\r\n    \r\n    Add an implementation, such as Hibernate Validator, to the classpath\r\n    \r\n    \r\n    Process finished with exit code 1\r\n\r\nAnyone got any idea why? \r\nAlready did `mvn clean install`, no luck there.","title":"validation dependency error java spring-boot","body":"<p>My pom.xml file looks like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;version&gt;3.0.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.validation&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.validation-api&lt;/artifactId&gt;\n    &lt;version&gt;3.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.el&lt;/artifactId&gt;\n    &lt;version&gt;4.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>but every time I run the project (as of today, it worked 2 days ago), I get:</p>\n<pre><code>2023-05-14 12:53:53,691 [main] ERROR o.s.b.d.LoggingFailureAnalysisReporter - \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nThe Bean Validation API is on the classpath but no implementation could be found\n\nAction:\n\nAdd an implementation, such as Hibernate Validator, to the classpath\n\n\nProcess finished with exit code 1\n</code></pre>\n<p>Anyone got any idea why?\nAlready did <code>mvn clean install</code>, no luck there.</p>\n"},{"tags":["java","apache-commons","email-validation"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1684060422,"post_id":76246865,"comment_id":134458650,"body_markdown":"Judging from the source of `EmailValidator`, `+` is a valid character. Do you actually get `false`? Are you sure it&#39;s because of the `+`? Can you give a [mcve]?","body":"Judging from the source of <code>EmailValidator</code>, <code>+</code> is a valid character. Do you actually get <code>false</code>? Are you sure it&#39;s because of the <code>+</code>? Can you give a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":10091995,"reputation":105,"user_id":7458694,"display_name":"Marcel"},"score":0,"creation_date":1684084881,"post_id":76246865,"comment_id":134461604,"body_markdown":"That&#39;s weird. I 100% got false on the + character. Just removing this character gave true. Will test tomorrow again and share some more details. Thanks!","body":"That&#39;s weird. I 100% got false on the + character. Just removing this character gave true. Will test tomorrow again and share some more details. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684060955,"creation_date":1684059649,"answer_id":76246948,"question_id":76246865,"body_markdown":"The Apache Commons EmailValidator **does** work with a plus sign.\r\n\r\n    import org.apache.commons.validator.routines.EmailValidator;\r\n    \r\n    public class MapperMain {\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString email = &quot;john+Williams@ennui.co.za&quot;;\r\n\t\t\r\n\t\tEmailValidator emailValidator = EmailValidator.getInstance();\r\n\t\t\r\n\t\t\r\n\t\tSystem.out.println(emailValidator.isValid(email));\r\n\r\n\t}\r\n\r\n    }\r\n\r\nOutputs:\r\n\r\n    true\r\n\r\n","title":"Apache commons email validator: allow plus character in e-mail","body":"<p>The Apache Commons EmailValidator <strong>does</strong> work with a plus sign.</p>\n<pre><code>import org.apache.commons.validator.routines.EmailValidator;\n\npublic class MapperMain {\n\npublic static void main(String[] args) {\n\n    String email = &quot;john+Williams@ennui.co.za&quot;;\n    \n    EmailValidator emailValidator = EmailValidator.getInstance();\n    \n    \n    System.out.println(emailValidator.isValid(email));\n\n}\n\n}\n</code></pre>\n<p>Outputs:</p>\n<pre><code>true\n</code></pre>\n"}],"owner":{"account_id":10091995,"reputation":105,"user_id":7458694,"display_name":"Marcel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76246948,"answer_count":1,"score":0,"last_activity_date":1684105620,"creation_date":1684058364,"question_id":76246865,"body_markdown":"using org.apache.commons.validator.routines.EmailValidator (1.7) for e-mail validation in Java.\r\n\r\nIn GMAIL a user is allowed to use `myname+anything@gmail.com` and it will go to `myname@gmail.com`. However, the `EmailValidator` does not allow the `+` character. I also tried replacing the `+` with `%2b` before validation but it also fails.\r\n\r\nAny suggestions? Can I add an extra allowed character to my EmailValidator instance? Couldn&#39;t find this but guess I would need something like that. \r\n\r\nPs. I don&#39;t really want to go to custom regex for various reasons. ","title":"Apache commons email validator: allow plus character in e-mail","body":"<p>using org.apache.commons.validator.routines.EmailValidator (1.7) for e-mail validation in Java.</p>\n<p>In GMAIL a user is allowed to use <code>myname+anything@gmail.com</code> and it will go to <code>myname@gmail.com</code>. However, the <code>EmailValidator</code> does not allow the <code>+</code> character. I also tried replacing the <code>+</code> with <code>%2b</code> before validation but it also fails.</p>\n<p>Any suggestions? Can I add an extra allowed character to my EmailValidator instance? Couldn't find this but guess I would need something like that.</p>\n<p>Ps. I don't really want to go to custom regex for various reasons.</p>\n"},{"tags":["java","overloading","boxing"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1684060756,"post_id":76246945,"comment_id":134458685,"body_markdown":"`Short` and `short` are different types.  Try declaring `go` as `go(short n)`.","body":"<code>Short</code> and <code>short</code> are different types.  Try declaring <code>go</code> as <code>go(short n)</code>."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":4,"creation_date":1684061530,"post_id":76246945,"comment_id":134458761,"body_markdown":"The rules for resolving overload calls are complicated.  But basically, when you have a `go` call with a `short` argument, the `go(int)` method is closer than the `go(Short)` method.   Technically, `short` is a subtype of `int` but not `Short`.  And that means that `go(int)` is *more specific* than `go(Short)` ... and that is why it is chosen.","body":"The rules for resolving overload calls are complicated.  But basically, when you have a <code>go</code> call with a <code>short</code> argument, the <code>go(int)</code> method is closer than the <code>go(Short)</code> method.   Technically, <code>short</code> is a subtype of <code>int</code> but not <code>Short</code>.  And that means that <code>go(int)</code> is <i>more specific</i> than <code>go(Short)</code> ... and that is why it is chosen."},{"owner":{"account_id":341129,"reputation":39091,"user_id":671543,"accept_rate":55,"display_name":"njzk2"},"score":2,"creation_date":1684061803,"post_id":76246945,"comment_id":134458798,"body_markdown":"because widening of type is higher on the priority list than auto-boxing.","body":"because widening of type is higher on the priority list than auto-boxing."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1684061911,"post_id":76246945,"comment_id":134458812,"body_markdown":"Are you intentionally use `Short` as in the [`java.lang.Short`](https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html) wrapper class or was it just a typo and you wanted to write the primitive type `short`?","body":"Are you intentionally use <code>Short</code> as in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Short.html\" rel=\"nofollow noreferrer\"><code>java.lang.Short</code></a> wrapper class or was it just a typo and you wanted to write the primitive type <code>short</code>?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684064630,"post_id":76246945,"comment_id":134459095,"body_markdown":"Why do you *have* an overload `method(Short)`? Don&#39;t do this.","body":"Why do you <i>have</i> an overload <code>method(Short)</code>? Don&#39;t do this."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684105477,"creation_date":1684065572,"answer_id":76247370,"question_id":76246945,"body_markdown":"When you make a call to an overloaded method, the compiler needs to decide *statically* which of the overloads will be called.  Intuitively, this is done by looking at each of the overloads&#39; signatures, and working out which one is the best match ... based on the *static* types of the argument expressions.  If there is a tie (i.e. no single &quot;best&quot; match), the compiler gives an error saying that the method call is ambiguous.\r\n\r\nThis is the code of your example.\r\n\r\n    public class test {\r\n        public static void go(Short n) {System.out.println(&quot;Short&quot;);}\r\n        public static void go(int n) {System.out.println(&quot;int&quot;);}\r\n        \r\n        public static void main(String[] args) {\r\n            short x=11;\r\n            go(x);\r\n        }\r\n    }\r\n\r\nThe reason that this prints &quot;int&quot; rather than &quot;Short&quot; is because `go(int)` is deemed to be a better match than `go(Short)` to a call where the argument expression&#39;s static type is `short`.  \r\n\r\n(Technically, `short` is a subtype of `int`, but not of `Short`.)\r\n\r\nIf we change your code to this:\r\n\r\n    public class test {\r\n        public static void go(short n) {System.out.println(&quot;short&quot;);}\r\n        public static void go(int n) {System.out.println(&quot;int&quot;);}\r\n        \r\n        public static void main(String[] args) {\r\n            short x=11;\r\n            go(x);\r\n        }\r\n    }\r\n\r\nwe will now see that `short` is printed.   The type `short` is a subtype&lt;sup&gt;1&lt;/sup&gt; of both `short` and `int`, but `go(short)` is a closer match than `go(int)`.\r\n\r\nThe relevant section of the Java Language Specification is [JLS 15.2][1].   But beware that is long and complicated ... and NOT recommended for beginners to try to read.  (Indeed, I would posit that *most* Java programmers don&#39;t fully understand all of what it says.  Myself included!)\r\n\r\n------------------\r\n\r\n&lt;sup&gt;1 - This is according to the definition of subtype used in the JLS.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12","title":"Why does invoking a method with a short choose the `void (int)` overload over `void (Short)`?","body":"<p>When you make a call to an overloaded method, the compiler needs to decide <em>statically</em> which of the overloads will be called.  Intuitively, this is done by looking at each of the overloads' signatures, and working out which one is the best match ... based on the <em>static</em> types of the argument expressions.  If there is a tie (i.e. no single &quot;best&quot; match), the compiler gives an error saying that the method call is ambiguous.</p>\n<p>This is the code of your example.</p>\n<pre><code>public class test {\n    public static void go(Short n) {System.out.println(&quot;Short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n<p>The reason that this prints &quot;int&quot; rather than &quot;Short&quot; is because <code>go(int)</code> is deemed to be a better match than <code>go(Short)</code> to a call where the argument expression's static type is <code>short</code>.</p>\n<p>(Technically, <code>short</code> is a subtype of <code>int</code>, but not of <code>Short</code>.)</p>\n<p>If we change your code to this:</p>\n<pre><code>public class test {\n    public static void go(short n) {System.out.println(&quot;short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n<p>we will now see that <code>short</code> is printed.   The type <code>short</code> is a subtype<sup>1</sup> of both <code>short</code> and <code>int</code>, but <code>go(short)</code> is a closer match than <code>go(int)</code>.</p>\n<p>The relevant section of the Java Language Specification is <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-15.html#jls-15.12\" rel=\"nofollow noreferrer\">JLS 15.2</a>.   But beware that is long and complicated ... and NOT recommended for beginners to try to read.  (Indeed, I would posit that <em>most</em> Java programmers don't fully understand all of what it says.  Myself included!)</p>\n<hr />\n<p><sup>1 - This is according to the definition of subtype used in the JLS.</sup></p>\n"}],"owner":{"account_id":10917016,"reputation":345,"user_id":8024530,"accept_rate":40,"display_name":"kolinunlt"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"closed_date":1684065982,"accepted_answer_id":76247370,"answer_count":1,"score":5,"last_activity_date":1684105477,"creation_date":1684059641,"question_id":76246945,"body_markdown":"I am learning Java.  When I call `go(x)`, I get â€˜intâ€™.  Why not â€˜Shortâ€™?\r\n\r\n    public class test {\r\n    \tpublic static void go(Short n) {System.out.println(&quot;Short&quot;);}\r\n    \tpublic static void go(int n) {System.out.println(&quot;int&quot;);}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tshort x=11;\r\n    \t\tgo(x);\r\n    \t}\r\n    }","title":"Why does invoking a method with a short choose the `void (int)` overload over `void (Short)`?","body":"<p>I am learning Java.  When I call <code>go(x)</code>, I get â€˜intâ€™.  Why not â€˜Shortâ€™?</p>\n<pre><code>public class test {\n    public static void go(Short n) {System.out.println(&quot;Short&quot;);}\n    public static void go(int n) {System.out.println(&quot;int&quot;);}\n    \n    public static void main(String[] args) {\n        short x=11;\n        go(x);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","swagger","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":2909779,"reputation":928,"user_id":2494311,"accept_rate":50,"display_name":"Vadiraj Purohit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1684100369,"creation_date":1684098272,"answer_id":76249669,"question_id":76210544,"body_markdown":"Since api gateway uses webflux, instead of using swagger dependency \r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n``` \r\n\r\nuse swagger webflux dependency\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.15&#39;\r\n```\r\n\r\nPlease find working repo [here](https://github.com/cricketbackground/docs) for reference\r\n\r\nAfter updating this in build gradle swagger url works fine:\r\n\r\n`http://localhost:8081/swagger-ui.html`\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hhoBu.png","title":"Swagger API documentation in an API gateway (spring-cloud-starter-gateway) does not work (Whitelabel Error Page)","body":"<p>Since api gateway uses webflux, instead of using swagger dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n</code></pre>\n<p>use swagger webflux dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.15'\n</code></pre>\n<p>Please find working repo <a href=\"https://github.com/cricketbackground/docs\" rel=\"nofollow noreferrer\">here</a> for reference</p>\n<p>After updating this in build gradle swagger url works fine:</p>\n<p><code>http://localhost:8081/swagger-ui.html</code></p>\n<p><a href=\"https://i.stack.imgur.com/hhoBu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hhoBu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16437875,"reputation":209,"user_id":14564074,"display_name":"noob234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2574,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76249669,"answer_count":1,"score":2,"last_activity_date":1684100742,"creation_date":1683643334,"question_id":76210544,"body_markdown":"I am trying to add the Swagger API documentation in a Springboot application that uses the following dependency: \r\n\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n```\r\n\r\nI am using the following configuration:\r\n\r\n```\r\n@OpenAPIDefinition\r\n@Configuration\r\npublic class SwaggerConfiguration {\r\n    @Bean\r\n    public OpenAPI baseOpenAPI(){\r\n        return new OpenAPI().info(\r\n                new Info()\r\n                        .title(&quot;This is a test&quot;)\r\n                        .version(&quot;0.1&quot;)\r\n        );\r\n    }\r\n}\r\n```\r\n\r\nThis is my controller:\r\n\r\n```\r\n@RestController\r\npublic class HelloWorldController {\r\n    @GetMapping(&quot;/hello&quot;)\r\n    public String hello() {\r\n        return &quot;Hello, World!&quot;;\r\n    }\r\n}\r\n```\r\n\r\nand my build.gradle:\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;2.7.11&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.0.15.RELEASE&#39;\r\n}\r\n\r\ngroup = &#39;com.noob234&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;1.8&#39;\r\n\r\nconfigurations {\r\n\tcompileOnly {\r\n\t\textendsFrom annotationProcessor\r\n\t}\r\n}\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\next {\r\n\tset(&#39;springCloudVersion&#39;, &quot;2021.0.7&quot;)\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n\tcompileOnly &#39;org.projectlombok:lombok&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\ttestImplementation &#39;io.projectreactor:reactor-test&#39;\r\n}\r\n\r\ndependencyManagement {\r\n\timports {\r\n\t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n\t}\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n```\r\n\r\nI suspect that the issue is related to this dependency \r\n\r\n```\r\nimplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n``` \r\n\r\nbecause I tried the same steps without introducing the \r\n\r\n```\r\nimplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n``` \r\n\r\ndependency and it works when I access this page http://localhost:8082/swagger-ui/index.html#/.\r\nI don&#39;t get Whitelabel Error Page anymore.\r\n\r\n**EDIT:**  \r\n\r\nI also tried to add these 2 dependencies:\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-ui:1.6.15&#39;\r\nimplementation &#39;org.springdoc:springdoc-openapi-webflux-core:1.6.15&#39;\r\n```\r\n\r\nInstead of this one:\r\n\r\n```\r\nimplementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n```\r\n\r\nAnd added these properties in my application.properties:\r\n\r\n```\r\nspring.application.name=gateway\r\nserver.port=8081\r\nspringdoc.swagger-ui.path=/swagger-ui.html\r\nspringdoc.api-docs.path=/v3/api-docs\r\nspringdoc.swagger-ui.enabled=true\r\nspring.cloud.gateway.routes[0].id=swagger-ui\r\nspring.cloud.gateway.routes[0].uri=http://localhost:8081\r\nspring.cloud.gateway.routes[0].predicates[0]=Path=/swagger-ui.html\r\n\r\nspring.cloud.gateway.routes[1].id=api-docs\r\nspring.cloud.gateway.routes[1].uri=http://localhost:8081\r\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v3/api-docs\r\n```\r\n\r\nPlease tell me if you can reproduce this issue if you follow the steps and what I should do to fix it.\r\n","title":"Swagger API documentation in an API gateway (spring-cloud-starter-gateway) does not work (Whitelabel Error Page)","body":"<p>I am trying to add the Swagger API documentation in a Springboot application that uses the following dependency:</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n</code></pre>\n<p>I am using the following configuration:</p>\n<pre><code>@OpenAPIDefinition\n@Configuration\npublic class SwaggerConfiguration {\n    @Bean\n    public OpenAPI baseOpenAPI(){\n        return new OpenAPI().info(\n                new Info()\n                        .title(&quot;This is a test&quot;)\n                        .version(&quot;0.1&quot;)\n        );\n    }\n}\n</code></pre>\n<p>This is my controller:</p>\n<pre><code>@RestController\npublic class HelloWorldController {\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>and my build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '2.7.11'\n    id 'io.spring.dependency-management' version '1.0.15.RELEASE'\n}\n\ngroup = 'com.noob234'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '1.8'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2021.0.7&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'io.projectreactor:reactor-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p>I suspect that the issue is related to this dependency</p>\n<pre><code>implementation 'org.springframework.boot:spring-boot-starter-webflux'\n</code></pre>\n<p>because I tried the same steps without introducing the</p>\n<pre><code>implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n</code></pre>\n<p>dependency and it works when I access this page http://localhost:8082/swagger-ui/index.html#/.\nI don't get Whitelabel Error Page anymore.</p>\n<p><strong>EDIT:</strong></p>\n<p>I also tried to add these 2 dependencies:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-webflux-ui:1.6.15'\nimplementation 'org.springdoc:springdoc-openapi-webflux-core:1.6.15'\n</code></pre>\n<p>Instead of this one:</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\n</code></pre>\n<p>And added these properties in my application.properties:</p>\n<pre><code>spring.application.name=gateway\nserver.port=8081\nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.api-docs.path=/v3/api-docs\nspringdoc.swagger-ui.enabled=true\nspring.cloud.gateway.routes[0].id=swagger-ui\nspring.cloud.gateway.routes[0].uri=http://localhost:8081\nspring.cloud.gateway.routes[0].predicates[0]=Path=/swagger-ui.html\n\nspring.cloud.gateway.routes[1].id=api-docs\nspring.cloud.gateway.routes[1].uri=http://localhost:8081\nspring.cloud.gateway.routes[1].predicates[0]=Path=/v3/api-docs\n</code></pre>\n<p>Please tell me if you can reproduce this issue if you follow the steps and what I should do to fix it.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1684110473,"post_id":76249610,"comment_id":134464265,"body_markdown":"You can also have a look at [`KeyEvent#getModifiersEx`](https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/InputEvent.html#getModifiersEx()) which can tell you what &quot;additional&quot; modifiers were active when the event was triggered - this, however, may not help you, as has been already been pointed out, not all key boards are the same","body":"You can also have a look at <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/java/awt/event/InputEvent.html#getModifiersEx()\" rel=\"nofollow noreferrer\"><code>KeyEvent#getModifiersEx</code></a> which can tell you what &quot;additional&quot; modifiers were active when the event was triggered - this, however, may not help you, as has been already been pointed out, not all key boards are the same"}],"answers":[{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684100585,"creation_date":1684099629,"answer_id":76249756,"question_id":76249610,"body_markdown":"Some Keyboard Layouts have a *direct* colon key and, as [documented](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/event/KeyEvent.html) for `KeyEvent`, the key code depends on that layout:\r\n\r\n&gt; - Not all keyboards or systems are capable of generating all virtual key codes. No attempt is made in Java to generate these keys artificially.\r\n&gt; - Virtual key codes do not identify a physical key: they depend on the platform and keyboard layout. For example, the key that generates VK_Q when using a U.S. keyboard layout will generate VK_A when using a French keyboard layout.\r\n\r\nThe French [AZERTY](https://en.wikipedia.org/wiki/AZERTY) layout is a perfect example for this question: it has a colon key n place of of the dot key on the QWERTY layout:  \r\n[![AZERTY][1]][1]\r\n\r\nI just added the French AZERTY layout to my system and tested it with the `Robot` class: no error message when *pressing* `VK_COLON`. For science, I also added a `KeyListener` to a `JTextField` and pressing the dot key on my physical keyboard, `event.getKeyCode()` returns `VK_COLON` (as expected) if the layout is set to AZERTY.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZGS8b.png","title":"How do I Interpret KeyEvent.VK_COLON?","body":"<p>Some Keyboard Layouts have a <em>direct</em> colon key and, as <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/java/awt/event/KeyEvent.html\" rel=\"nofollow noreferrer\">documented</a> for <code>KeyEvent</code>, the key code depends on that layout:</p>\n<blockquote>\n<ul>\n<li>Not all keyboards or systems are capable of generating all virtual key codes. No attempt is made in Java to generate these keys artificially.</li>\n<li>Virtual key codes do not identify a physical key: they depend on the platform and keyboard layout. For example, the key that generates VK_Q when using a U.S. keyboard layout will generate VK_A when using a French keyboard layout.</li>\n</ul>\n</blockquote>\n<p>The French <a href=\"https://en.wikipedia.org/wiki/AZERTY\" rel=\"nofollow noreferrer\">AZERTY</a> layout is a perfect example for this question: it has a colon key n place of of the dot key on the QWERTY layout:<br />\n<a href=\"https://i.stack.imgur.com/ZGS8b.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZGS8b.png\" alt=\"AZERTY\" /></a></p>\n<p>I just added the French AZERTY layout to my system and tested it with the <code>Robot</code> class: no error message when <em>pressing</em> <code>VK_COLON</code>. For science, I also added a <code>KeyListener</code> to a <code>JTextField</code> and pressing the dot key on my physical keyboard, <code>event.getKeyCode()</code> returns <code>VK_COLON</code> (as expected) if the layout is set to AZERTY.</p>\n"}],"owner":{"account_id":1388368,"reputation":470,"user_id":1319809,"accept_rate":8,"display_name":"Jack Straub"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684100585,"creation_date":1684097401,"question_id":76249610,"body_markdown":"On my keyboard, at the moment, the colon (:) and semicolon (;) characters are on the same key. I have to use shift to get the colon. If I want to use Robot to type a colon I can use:\r\n```\r\n    robot.keyPress( KeyEvent.VK_SHIFT );\r\n    robot.keyPress( KeyEvent.VK_SEMICOLON );\r\n    robot.keyRelease( KeyEvent.VK_SEMICOLON );\r\n    robot.keyRelease( KeyEvent.VK_SHIFT );\r\n```\r\n\r\nBut KeyEvent also has a constant for VK_COLON = 0x0201. If I try\r\n```\r\n    robot.keyPress( KeyEvent.VK_COLON )\r\n```\r\nI get an &quot;invalid keycode&quot; error.\r\n\r\nMy question is: where did the 0x0201 come from? How am I supposed to interpret VK_... key codes that don&#39;t actually map to keys?","title":"How do I Interpret KeyEvent.VK_COLON?","body":"<p>On my keyboard, at the moment, the colon (:) and semicolon (;) characters are on the same key. I have to use shift to get the colon. If I want to use Robot to type a colon I can use:</p>\n<pre><code>    robot.keyPress( KeyEvent.VK_SHIFT );\n    robot.keyPress( KeyEvent.VK_SEMICOLON );\n    robot.keyRelease( KeyEvent.VK_SEMICOLON );\n    robot.keyRelease( KeyEvent.VK_SHIFT );\n</code></pre>\n<p>But KeyEvent also has a constant for VK_COLON = 0x0201. If I try</p>\n<pre><code>    robot.keyPress( KeyEvent.VK_COLON )\n</code></pre>\n<p>I get an &quot;invalid keycode&quot; error.</p>\n<p>My question is: where did the 0x0201 come from? How am I supposed to interpret VK_... key codes that don't actually map to keys?</p>\n"},{"tags":["java","algorithm","graph-theory","depth-first-search"],"comments":[{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684089783,"post_id":76249093,"comment_id":134462258,"body_markdown":"Your dfs is recursive.  Not a good idea.  You will run out of stack on any graph of a significant size.  Certainly you should not have so many parameters for a recursive function - you will run out of stack memory even faster then neccessary.","body":"Your dfs is recursive.  Not a good idea.  You will run out of stack on any graph of a significant size.  Certainly you should not have so many parameters for a recursive function - you will run out of stack memory even faster then neccessary."},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":2,"creation_date":1684089956,"post_id":76249093,"comment_id":134462286,"body_markdown":"You should post a reproducible example - that means complete application code, the input that demos the problem and an explanation of how it differs from expected.","body":"You should post a reproducible example - that means complete application code, the input that demos the problem and an explanation of how it differs from expected."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":1,"creation_date":1684090722,"post_id":76249093,"comment_id":134462412,"body_markdown":"See [Dijkstra&#39;s algorithm](https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm).","body":"See <a href=\"https://en.m.wikipedia.org/wiki/Dijkstra%27s_algorithm\" rel=\"nofollow noreferrer\">Dijkstra&#39;s algorithm</a>."},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684091167,"post_id":76249093,"comment_id":134462480,"body_markdown":"But my code does not use Dijkstr&#39;s","body":"But my code does not use Dijkstr&#39;s"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684091262,"post_id":76249093,"comment_id":134462498,"body_markdown":"In general, Dijkstra is used to solve mazes.  However, there is a wrinkle in this problem that make things more complicated &quot;won&#39;t stop rolling until hitting a wall. &quot;","body":"In general, Dijkstra is used to solve mazes.  However, there is a wrinkle in this problem that make things more complicated &quot;won&#39;t stop rolling until hitting a wall. &quot;"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684091377,"post_id":76249093,"comment_id":134462512,"body_markdown":"Exactly! But thank you both for that tip...in general a dfs is slower but theoretically possible right?","body":"Exactly! But thank you both for that tip...in general a dfs is slower but theoretically possible right?"},{"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"score":0,"creation_date":1684091408,"post_id":76249093,"comment_id":134462515,"body_markdown":"I think that you will have to use A* for this, using Dijkstra as the heuristic to choose the next step.","body":"I think that you will have to use A* for this, using Dijkstra as the heuristic to choose the next step."},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684093716,"post_id":76249093,"comment_id":134462785,"body_markdown":"@Spindoctor, `visited[i][j] = true;` - that seems to be a typical mistake: you are marking cell as visited before figuring out whether current path is optimal or not. [bfs solution is available here](https://stackoverflow.com/a/76084930/3426309)","body":"@Spindoctor, <code>visited[i][j] = true;</code> - that seems to be a typical mistake: you are marking cell as visited before figuring out whether current path is optimal or not. <a href=\"https://stackoverflow.com/a/76084930/3426309\">bfs solution is available here</a>"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684093840,"post_id":76249093,"comment_id":134462802,"body_markdown":"Thanks are you suggesting moving the check for visited after the check for arrived at destination?","body":"Thanks are you suggesting moving the check for visited after the check for arrived at destination?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684095420,"post_id":76249093,"comment_id":134462990,"body_markdown":"in your algo the purpose of `boolean[][] visited` array is to prevent infinite loops within single path, however, since that array is global, writing to it prevents your algo from considering other paths - you need at least set `visited[i][j]` to true after `for` loop, moreover you nowhere pay attention to direction in which you have seen the cell, so, `boolean[][] visited` is not a good structure there, `boolean[M][N][4] visited` seems to be more suitable. btw, after fixing that you will get TLE error","body":"in your algo the purpose of <code>boolean[][] visited</code> array is to prevent infinite loops within single path, however, since that array is global, writing to it prevents your algo from considering other paths - you need at least set <code>visited[i][j]</code> to true after <code>for</code> loop, moreover you nowhere pay attention to direction in which you have seen the cell, so, <code>boolean[][] visited</code> is not a good structure there, <code>boolean[M][N][4] visited</code> seems to be more suitable. btw, after fixing that you will get TLE error"},{"owner":{"account_id":17386577,"reputation":3141,"user_id":12597781,"display_name":"Christopher Miller"},"score":0,"creation_date":1684095490,"post_id":76249093,"comment_id":134463000,"body_markdown":"Besides the starting and ending grid squares, only the border grid squares matter, right (because your direction is otherwise completely fixed by what direction you were traveling from the last time you were on a border square)? With this, only `O(R + C)` nodes are needed that correspond to the border squares, where `R` and `C` are the number of rows and columns of the grid, respectively. Then, as mentioned previously, Dijkstra&#39;s Algorithm is appropriate for this problem, because the edges (the connections between nodes) are weighted (different distances) and positive.","body":"Besides the starting and ending grid squares, only the border grid squares matter, right (because your direction is otherwise completely fixed by what direction you were traveling from the last time you were on a border square)? With this, only <code>O(R + C)</code> nodes are needed that correspond to the border squares, where <code>R</code> and <code>C</code> are the number of rows and columns of the grid, respectively. Then, as mentioned previously, Dijkstra&#39;s Algorithm is appropriate for this problem, because the edges (the connections between nodes) are weighted (different distances) and positive."},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684096023,"post_id":76249093,"comment_id":134463049,"body_markdown":"@AndreyB.Panfilov, I am not understanding. Can you give an example ?","body":"@AndreyB.Panfilov, I am not understanding. Can you give an example ?"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684105298,"post_id":76249093,"comment_id":134463890,"body_markdown":"Thank you so much for the modifications. What I understand now is I was doing dfs but it was a single path as I marked all visited as true but what you have done is for every change in direction, you treat it as a new path and all nodes are open to being visited again but due to a different direction. Is this the right interpretation?","body":"Thank you so much for the modifications. What I understand now is I was doing dfs but it was a single path as I marked all visited as true but what you have done is for every change in direction, you treat it as a new path and all nodes are open to being visited again but due to a different direction. Is this the right interpretation?"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1684111088,"post_id":76249093,"comment_id":134464299,"body_markdown":"&quot;either different or more optimal&quot;","body":"&quot;either different or more optimal&quot;"},{"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"score":0,"creation_date":1684111308,"post_id":76249093,"comment_id":134464311,"body_markdown":"thank you for helping using my logic and making the modifications, I have learned a lot by you taking the time to do this. really appreciate this","body":"thank you for helping using my logic and making the modifications, I have learned a lot by you taking the time to do this. really appreciate this"}],"answers":[{"tags":[],"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684099736,"creation_date":1684099736,"answer_id":76249762,"question_id":76249093,"body_markdown":"Below is what I was trying to explain in comments:\r\n\r\n\r\n```java\r\npublic class MazeII {\r\n    int shortest = Integer.MAX_VALUE;\r\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\r\n\r\n    public static void main(String[] args) {\r\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\r\n        int[] start = {0, 4};\r\n        int[] destination = {4, 4};\r\n        MazeII mii = new MazeII();\r\n        System.out.println(mii.shortestDistance(maze, start, destination));\r\n    }\r\n\r\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n        int count = 0;\r\n        boolean[][][] visited = new boolean[maze.length][maze[0].length][4];\r\n        dfs(maze, start[0], start[1], destination, visited, count);\r\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\r\n\r\n    }\r\n\r\n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][][] visited, int count) {\r\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\r\n            shortest = Math.min(shortest, count);\r\n            return;\r\n        }\r\n\r\n        for (int k = 0; k &lt; dirs.length; k++) {\r\n            int[] dir = dirs[k];\r\n            int x = i;\r\n            int y = j;\r\n            int newcount = count;\r\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n                    maze[x + dir[0]][y + dir[1]] == 0) {\r\n                x += dir[0];\r\n                y += dir[1];\r\n                newcount++;\r\n            }\r\n            if (!visited[x][y][k]) {\r\n                visited[x][y][k] = true;\r\n                dfs(maze, x, y, destination, visited, newcount);\r\n                visited[x][y][k] = false;\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nHowever, in order to make traversal algorithm more optimal, you need somehow eliminate sub-optimal paths, for example store distance from cell to the destination when particular direction has been chosen:\r\n\r\n\r\n```java\r\npublic class MazeII {\r\n    int shortest = Integer.MAX_VALUE;\r\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\r\n\r\n    public static void main(String[] args) {\r\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\r\n        int[] start = {0, 4};\r\n        int[] destination = {4, 4};\r\n        MazeII mii = new MazeII();\r\n        System.out.println(mii.shortestDistance(maze, start, destination));\r\n    }\r\n\r\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n        int count = 0;\r\n        int[][][] visited = new int[maze.length][maze[0].length][4];\r\n        for (int i = 0; i &lt; maze.length; i++) {\r\n            for (int j = 0; j &lt; maze[0].length; j++) {\r\n                Arrays.fill(visited[i][j], Integer.MAX_VALUE);\r\n            }\r\n        }\r\n\r\n        dfs(maze, start[0], start[1], destination, visited, count);\r\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\r\n\r\n    }\r\n\r\n    private void dfs(int[][] maze, int i, int j, int[] destination, int[][][] visited, int count) {\r\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\r\n            shortest = Math.min(shortest, count);\r\n            return;\r\n        }\r\n\r\n        for (int k = 0; k &lt; dirs.length; k++) {\r\n            int[] dir = dirs[k];\r\n            int x = i;\r\n            int y = j;\r\n            int newcount = count;\r\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n                    maze[x + dir[0]][y + dir[1]] == 0) {\r\n                x += dir[0];\r\n                y += dir[1];\r\n                newcount++;\r\n            }\r\n            if (newcount &lt; visited[x][y][k]) {\r\n                visited[x][y][k] = newcount;\r\n                dfs(maze, x, y, destination, visited, newcount);\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Shortest Path DFS","body":"<p>Below is what I was trying to explain in comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\n\n    public static void main(String[] args) {\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\n        int[] start = {0, 4};\n        int[] destination = {4, 4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        boolean[][][] visited = new boolean[maze.length][maze[0].length][4];\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\n\n    }\n\n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][][] visited, int count) {\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n\n        for (int k = 0; k &lt; dirs.length; k++) {\n            int[] dir = dirs[k];\n            int x = i;\n            int y = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x += dir[0];\n                y += dir[1];\n                newcount++;\n            }\n            if (!visited[x][y][k]) {\n                visited[x][y][k] = true;\n                dfs(maze, x, y, destination, visited, newcount);\n                visited[x][y][k] = false;\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>However, in order to make traversal algorithm more optimal, you need somehow eliminate sub-optimal paths, for example store distance from cell to the destination when particular direction has been chosen:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = {{-1, 0}, {1, 0}, {0, -1}, {0, 1}};\n\n    public static void main(String[] args) {\n        int[][] maze = {{0, 0, 1, 0, 0}, {0, 0, 0, 0, 0}, {0, 0, 0, 1, 0}, {1, 1, 0, 1, 1}, {0, 0, 0, 0, 0}};\n        int[] start = {0, 4};\n        int[] destination = {4, 4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        int[][][] visited = new int[maze.length][maze[0].length][4];\n        for (int i = 0; i &lt; maze.length; i++) {\n            for (int j = 0; j &lt; maze[0].length; j++) {\n                Arrays.fill(visited[i][j], Integer.MAX_VALUE);\n            }\n        }\n\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE ? -1 : shortest;\n\n    }\n\n    private void dfs(int[][] maze, int i, int j, int[] destination, int[][][] visited, int count) {\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n\n        for (int k = 0; k &lt; dirs.length; k++) {\n            int[] dir = dirs[k];\n            int x = i;\n            int y = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x += dir[0];\n                y += dir[1];\n                newcount++;\n            }\n            if (newcount &lt; visited[x][y][k]) {\n                visited[x][y][k] = newcount;\n                dfs(maze, x, y, destination, visited, newcount);\n            }\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":5614999,"reputation":443,"user_id":4446662,"accept_rate":80,"display_name":"Spindoctor"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76249762,"answer_count":1,"score":0,"last_activity_date":1684099736,"creation_date":1684089158,"question_id":76249093,"body_markdown":"Continuing my education of graph theory, I started to tackle the [Maze II problem][1]\r\n\r\n&gt; There is a ball in a maze with empty spaces (represented as 0) and\r\n&gt; walls (represented as 1). The ball can go through the empty spaces by\r\n&gt; rolling up, down, left or right, but it won&#39;t stop rolling until\r\n&gt; hitting a wall. When the ball stops, it could choose the next\r\n&gt; direction.\r\n&gt; \r\n&gt; Given the m x n maze, the ball&#39;s start position and the destination,\r\n&gt; where start = [startrow, startcol] and destination = [destinationrow,\r\n&gt; destinationcol], return the shortest distance for the ball to stop at\r\n&gt; the destination. If the ball cannot stop at destination, return -1.\r\n&gt; \r\n&gt; The distance is the number of empty spaces traveled by the ball from\r\n&gt; the start position (excluded) to the destination (included).\r\n\r\nTo get my feet wet, I wrote an algorithm based on DFS to check each direction for each cell and continue in a depth first manner if possible to find &quot;paths&quot;, each time keeping count of the number of steps. I have a global variable that checks if the current count is less and then replaces the value. However, my shortest path isn&#39;t always right. Can anyone explain what I am doing wrong? I do understand that BFS yields a shortest path but I have having trouble visualizing the BFS done in different directions.\r\n\r\nBasically, I change direction only when I hit a wall and each time the count would start off with the count that the recursive function would have started with. As an example, running the algorithm below should produce a shortest path of 12 but my algorithm spits out 16\r\n\r\n    public class MazeII {\r\n    \tint shortest = Integer.MAX_VALUE;\r\n    \tint[][] dirs = { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[][] maze = {{0,0,1,0,0},{0,0,0,0,0},{0,0,0,1,0},{1,1,0,1,1},{0,0,0,0,0}};\r\n    \t\tint[] start = {0,4};\r\n    \t\tint[] destination = {4,4};\r\n    \t\tMazeII mii = new MazeII();\r\n    \t\tSystem.out.println(mii.shortestDistance(maze, start, destination));\r\n    \t}\r\n    \r\n    \tpublic int shortestDistance(int[][] maze, int[] start, int[] destination) {\r\n    \t\tint count = 0;\r\n    \t\tboolean[][] visited = new boolean[maze.length][maze[0].length];\r\n    \t\tdfs(maze, start[0], start[1], destination, visited, count);\r\n    \t\treturn shortest == Integer.MAX_VALUE? -1 : shortest;\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tprivate void dfs(int[][] maze, int i, int j, int[] destination, boolean[][]visited, int count) {\r\n    \t\tif( visited[i][j]) {\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\tif (i == destination[0] &amp;&amp; j == destination[1]) {\r\n    \t\t\tshortest = Math.min(shortest, count);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t\t\r\n    \t\tvisited[i][j] = true;\r\n    \r\n    \t\tfor (int[] dir : dirs) {\r\n    \t\t\tint x = i;\r\n    \t\t\tint y  = j;\r\n    \t\t\tint newcount = count;\r\n    \t\t\twhile (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\r\n    \t\t\t\t\ty + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\r\n    \t\t\t\t\tmaze[x + dir[0]][y + dir[1]] == 0) {\r\n    \t\t\t\tx+=dir[0];\r\n    \t\t\t\ty+=dir[1];\r\n    \t\t\t\tnewcount++;\r\n    \t\t\t}\r\n    \t\t\tdfs(maze, x , y, destination, visited, newcount);\r\n    \t\t}\r\n    \t}\r\n    \r\n    }\r\n     \r\n\r\n  [1]: https://leetcode.com/problems/the-maze-ii/","title":"Shortest Path DFS","body":"<p>Continuing my education of graph theory, I started to tackle the <a href=\"https://leetcode.com/problems/the-maze-ii/\" rel=\"nofollow noreferrer\">Maze II problem</a></p>\n<blockquote>\n<p>There is a ball in a maze with empty spaces (represented as 0) and\nwalls (represented as 1). The ball can go through the empty spaces by\nrolling up, down, left or right, but it won't stop rolling until\nhitting a wall. When the ball stops, it could choose the next\ndirection.</p>\n<p>Given the m x n maze, the ball's start position and the destination,\nwhere start = [startrow, startcol] and destination = [destinationrow,\ndestinationcol], return the shortest distance for the ball to stop at\nthe destination. If the ball cannot stop at destination, return -1.</p>\n<p>The distance is the number of empty spaces traveled by the ball from\nthe start position (excluded) to the destination (included).</p>\n</blockquote>\n<p>To get my feet wet, I wrote an algorithm based on DFS to check each direction for each cell and continue in a depth first manner if possible to find &quot;paths&quot;, each time keeping count of the number of steps. I have a global variable that checks if the current count is less and then replaces the value. However, my shortest path isn't always right. Can anyone explain what I am doing wrong? I do understand that BFS yields a shortest path but I have having trouble visualizing the BFS done in different directions.</p>\n<p>Basically, I change direction only when I hit a wall and each time the count would start off with the count that the recursive function would have started with. As an example, running the algorithm below should produce a shortest path of 12 but my algorithm spits out 16</p>\n<pre><code>public class MazeII {\n    int shortest = Integer.MAX_VALUE;\n    int[][] dirs = { { -1, 0 }, { 1, 0 }, { 0, -1 }, { 0, 1 } };\n\n    public static void main(String[] args) {\n        int[][] maze = {{0,0,1,0,0},{0,0,0,0,0},{0,0,0,1,0},{1,1,0,1,1},{0,0,0,0,0}};\n        int[] start = {0,4};\n        int[] destination = {4,4};\n        MazeII mii = new MazeII();\n        System.out.println(mii.shortestDistance(maze, start, destination));\n    }\n\n    public int shortestDistance(int[][] maze, int[] start, int[] destination) {\n        int count = 0;\n        boolean[][] visited = new boolean[maze.length][maze[0].length];\n        dfs(maze, start[0], start[1], destination, visited, count);\n        return shortest == Integer.MAX_VALUE? -1 : shortest;\n        \n    }\n    \n    private void dfs(int[][] maze, int i, int j, int[] destination, boolean[][]visited, int count) {\n        if( visited[i][j]) {\n            return;\n        }\n        if (i == destination[0] &amp;&amp; j == destination[1]) {\n            shortest = Math.min(shortest, count);\n            return;\n        }\n        \n        visited[i][j] = true;\n\n        for (int[] dir : dirs) {\n            int x = i;\n            int y  = j;\n            int newcount = count;\n            while (x + dir[0] &gt;= 0 &amp;&amp; x + dir[0] &lt; maze.length &amp;&amp;\n                    y + dir[1] &gt;= 0 &amp;&amp; y + dir[1] &lt; maze[0].length &amp;&amp;\n                    maze[x + dir[0]][y + dir[1]] == 0) {\n                x+=dir[0];\n                y+=dir[1];\n                newcount++;\n            }\n            dfs(maze, x , y, destination, visited, newcount);\n        }\n    }\n\n}\n \n</code></pre>\n"},{"tags":["java","setter","coding-style"],"comments":[{"owner":{"display_name":"user180100"},"score":1,"creation_date":1429986337,"post_id":29868971,"comment_id":47863106,"body_markdown":"Ain&#39;t no &quot;self&quot; in java.","body":"Ain&#39;t no &quot;self&quot; in java."},{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":0,"creation_date":1429986416,"post_id":29868971,"comment_id":47863136,"body_markdown":"lol good point. Self is pythonic.","body":"lol good point. Self is pythonic."},{"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"score":0,"creation_date":1429986513,"post_id":29868971,"comment_id":47863169,"body_markdown":"2nd so called convention is the `builder pattern`. Just google it to know more.","body":"2nd so called convention is the <code>builder pattern</code>. Just google it to know more."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":3,"creation_date":1429986600,"post_id":29868971,"comment_id":47863203,"body_markdown":"@AniketThakur Sure? Why is this case called `Builder pattern` if there is no builder used? As far as  I know, it&#39;s  &quot;just&quot; a [&quot;Fluent API&quot;](http://en.wikipedia.org/wiki/Fluent_interface#Java).","body":"@AniketThakur Sure? Why is this case called <code>Builder pattern</code> if there is no builder used? As far as  I know, it&#39;s  &quot;just&quot; a <a href=\"http://en.wikipedia.org/wiki/Fluent_interface#Java\" rel=\"nofollow noreferrer\">&quot;Fluent API&quot;</a>."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1429986616,"post_id":29868971,"comment_id":47863211,"body_markdown":"@kpie When you tag a question as Java, please make sure it compiles using the standard java compiler. You&#39;ve been here for a while. You know the drill. This is way too lazy on your part..","body":"@kpie When you tag a question as Java, please make sure it compiles using the standard java compiler. You&#39;ve been here for a while. You know the drill. This is way too lazy on your part.."},{"owner":{"account_id":3216884,"reputation":626,"user_id":2715331,"accept_rate":87,"display_name":"Vahx"},"score":1,"creation_date":1429986712,"post_id":29868971,"comment_id":47863246,"body_markdown":"Its not the builder pattern but more of a Fluent API like Tom says.","body":"Its not the builder pattern but more of a Fluent API like Tom says."},{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":1,"creation_date":1429987440,"post_id":29868971,"comment_id":47863550,"body_markdown":"@kpie `temp = new Classic();` What&#39;s temp? I agree this is a minor flaw that can be ignored but there were other errors in your code too before others pointed them out..","body":"@kpie <code>temp = new Classic();</code> What&#39;s temp? I agree this is a minor flaw that can be ignored but there were other errors in your code too before others pointed them out.."},{"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"score":0,"creation_date":1429987625,"post_id":29868971,"comment_id":47863613,"body_markdown":"@Bot *edited .. I seriously hope that didn&#39;t prevent you from understanding the question.","body":"@Bot *edited .. I seriously hope that didn&#39;t prevent you from understanding the question."}],"answers":[{"tags":[],"owner":{"account_id":914392,"reputation":5655,"user_id":947526,"accept_rate":46,"display_name":"C-Otto"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1429986379,"creation_date":1429986379,"answer_id":29869006,"question_id":29868971,"body_markdown":"The variant you&#39;re using in class `Alternative` is something I know from the &#39;Builder pattern&#39;. There, the task is to build some specific object similar to `builder.setX().setY().build()`.\r\n\r\nPersonally, I&#39;d use the `Classic` variant whenever there&#39;s no specific use for the `Alternative` variant.\r\n\r\n(As a side note, I would not use brackets for `return`)","title":"Setter conventions in Java (return void or this)","body":"<p>The variant you're using in class <code>Alternative</code> is something I know from the 'Builder pattern'. There, the task is to build some specific object similar to <code>builder.setX().setY().build()</code>.</p>\n\n<p>Personally, I'd use the <code>Classic</code> variant whenever there's no specific use for the <code>Alternative</code> variant.</p>\n\n<p>(As a side note, I would not use brackets for <code>return</code>)</p>\n"},{"tags":[],"owner":{"account_id":2112167,"reputation":1537,"user_id":1991295,"accept_rate":60,"display_name":"async"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1429987307,"creation_date":1429986682,"answer_id":29869055,"question_id":29868971,"body_markdown":"[Method chaining][1] may look nice in some situations, but I would not overuse it. It does get used a lot in the builder pattern, as mentioned in another comment. To some degree it&#39;s probably a matter of personal preference. \r\n\r\nOne disadvantage of method chaining in my opinion is with debugging and breakpoints. It may be tricky to step through code filled with chained methods - but this may also depend on the IDE. I find the ability to debug absolutely crucial, so I generally avoid patterns and snippets that could make my life harder when debugging.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Method_chaining","title":"Setter conventions in Java (return void or this)","body":"<p><a href=\"http://en.wikipedia.org/wiki/Method_chaining\">Method chaining</a> may look nice in some situations, but I would not overuse it. It does get used a lot in the builder pattern, as mentioned in another comment. To some degree it's probably a matter of personal preference. </p>\n\n<p>One disadvantage of method chaining in my opinion is with debugging and breakpoints. It may be tricky to step through code filled with chained methods - but this may also depend on the IDE. I find the ability to debug absolutely crucial, so I generally avoid patterns and snippets that could make my life harder when debugging.</p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1429997532,"creation_date":1429997532,"answer_id":29870974,"question_id":29868971,"body_markdown":"A setter in Java is most often linked to the concept of JavaBeans, even though we now use this concept without calling it like that, but it really often used without being explicitly named like that, sometimes people call them entities (even without the ORM context). \r\n\r\nA JavaBean has properties and those properties are the [combination of a private field and (a setter and/or a getter)](https://docs.oracle.com/javase/tutorial/javabeans/writing/properties.html).\r\n\r\nThere is nothing to say about those setters and getters except that they should be as simple as possible. In that regards, the most simple implementation of a setter is the `void` one: just set the value and exit.\r\n\r\nIf you look at what any IDE does, the default implementation for a setter is the `void` one.\r\n\r\nIn that regards, I would alway go the `void`-way for value objects (wether they&#39;re called JavaBeans, Entity, Dto, etc.) and never use the chaining-way. You ask about best practice, the `void`-way is the best practice for value objects.\r\n\r\nFor tools, like builders, dsl, services, streams I might use the chaining only if it really is meaningful and adds something and is not too cumbersome.\r\n\r\nMy short advice is use `void` for value objects and do whatever you want for the rest. Have fun designing your classes. ;)","title":"Setter conventions in Java (return void or this)","body":"<p>A setter in Java is most often linked to the concept of JavaBeans, even though we now use this concept without calling it like that, but it really often used without being explicitly named like that, sometimes people call them entities (even without the ORM context). </p>\n\n<p>A JavaBean has properties and those properties are the <a href=\"https://docs.oracle.com/javase/tutorial/javabeans/writing/properties.html\" rel=\"nofollow\">combination of a private field and (a setter and/or a getter)</a>.</p>\n\n<p>There is nothing to say about those setters and getters except that they should be as simple as possible. In that regards, the most simple implementation of a setter is the <code>void</code> one: just set the value and exit.</p>\n\n<p>If you look at what any IDE does, the default implementation for a setter is the <code>void</code> one.</p>\n\n<p>In that regards, I would alway go the <code>void</code>-way for value objects (wether they're called JavaBeans, Entity, Dto, etc.) and never use the chaining-way. You ask about best practice, the <code>void</code>-way is the best practice for value objects.</p>\n\n<p>For tools, like builders, dsl, services, streams I might use the chaining only if it really is meaningful and adds something and is not too cumbersome.</p>\n\n<p>My short advice is use <code>void</code> for value objects and do whatever you want for the rest. Have fun designing your classes. ;)</p>\n"},{"tags":[],"owner":{"account_id":25684565,"reputation":806,"user_id":19446851,"display_name":"habrewning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684099604,"creation_date":1684098964,"answer_id":76249721,"question_id":29868971,"body_markdown":"It cannot be said, what option has the better performance. Some people may think, that the alternative, which I normally call fluent interface (see https://en.wikipedia.org/wiki/Fluent_interface) has the worse performance, because the this-pointer must be returned again and again. But this is pure speculation.\r\n\r\nA general answer cannot be given.\r\n\r\n* The overhead of a function or method call is relatively high. Returning one single pointer is only a neglectable part of this.\r\n* Java does optimisations not only at compile time. There are techniques that for example remove variables or inline function or method calls at runtime (compare also https://stackoverflow.com/questions/2096361/are-there-inline-functions-in-java).\r\n* If performance really matters, the author of the code needs to run a profiler on exactly his example. And if this really identifies bottle necks, it could be worth to consider specialised functions (e.g. set x and y both in only one method) or going completely without setter functions.\r\n* If specialised mechanisms are needed in some parts of the program, it would be inappropriate to use these mechanisms also everwhere alse. The question if this special format of methods is appropriate or not is in general not a question of the execution performance.\r\n* In the example it is not clear, what the benefit of setx and sety could be. Before giving an answer this would be important to know. It looks like these methods could be eliminated when the member variables are made public. This of course is the most performant solution.\r\n* Without having these points clear, the question looks more like an instance of this discussion: https://wiki.c2.com/?PrematureOptimization\r\n\r\nWithout giving an answer, what is &quot;better&quot; practice, I think, everybody agrees that the void version is the most common practice. Normally it is a good advice to also follow the common practice (https://de.wikipedia.org/wiki/Principle_of_Least_Surprise). But as usual this does not mean, that this is actually the best practice. Returning the this-pointer does not hurt anybody and is useful in a few situations.","title":"Setter conventions in Java (return void or this)","body":"<p>It cannot be said, what option has the better performance. Some people may think, that the alternative, which I normally call fluent interface (see <a href=\"https://en.wikipedia.org/wiki/Fluent_interface\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Fluent_interface</a>) has the worse performance, because the this-pointer must be returned again and again. But this is pure speculation.</p>\n<p>A general answer cannot be given.</p>\n<ul>\n<li>The overhead of a function or method call is relatively high. Returning one single pointer is only a neglectable part of this.</li>\n<li>Java does optimisations not only at compile time. There are techniques that for example remove variables or inline function or method calls at runtime (compare also <a href=\"https://stackoverflow.com/questions/2096361/are-there-inline-functions-in-java\">Are there inline functions in java?</a>).</li>\n<li>If performance really matters, the author of the code needs to run a profiler on exactly his example. And if this really identifies bottle necks, it could be worth to consider specialised functions (e.g. set x and y both in only one method) or going completely without setter functions.</li>\n<li>If specialised mechanisms are needed in some parts of the program, it would be inappropriate to use these mechanisms also everwhere alse. The question if this special format of methods is appropriate or not is in general not a question of the execution performance.</li>\n<li>In the example it is not clear, what the benefit of setx and sety could be. Before giving an answer this would be important to know. It looks like these methods could be eliminated when the member variables are made public. This of course is the most performant solution.</li>\n<li>Without having these points clear, the question looks more like an instance of this discussion: <a href=\"https://wiki.c2.com/?PrematureOptimization\" rel=\"nofollow noreferrer\">https://wiki.c2.com/?PrematureOptimization</a></li>\n</ul>\n<p>Without giving an answer, what is &quot;better&quot; practice, I think, everybody agrees that the void version is the most common practice. Normally it is a good advice to also follow the common practice (<a href=\"https://de.wikipedia.org/wiki/Principle_of_Least_Surprise\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/Principle_of_Least_Surprise</a>). But as usual this does not mean, that this is actually the best practice. Returning the this-pointer does not hurt anybody and is useful in a few situations.</p>\n"}],"owner":{"account_id":2704333,"reputation":10670,"user_id":2334254,"accept_rate":57,"display_name":"kpie"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6697,"favorite_count":0,"down_vote_count":1,"up_vote_count":16,"accepted_answer_id":29869055,"answer_count":4,"score":15,"last_activity_date":1684099604,"creation_date":1429986155,"question_id":29868971,"body_markdown":"I have been writing Java for almost a year now, and I have seen 2 different conventions for how people implement their setters.\r\n\r\nTo Illustrate this, here are examples of both conventions. (I would love also to know concise names of these two patters)\r\n\r\nClasses using first convention, return nothing from their &#39;set&#39; methods. Like so:\r\n\r\n    public class Classic{\r\n        private double _x;\r\n        private double _y;\r\n        public Classic(){\r\n            x = 0;\r\n            y = 0;\r\n        }\r\n        public void setX(double d){//or boolean with a type check on input\r\n            x = d;\r\n        }\r\n        public void sety(double d){\r\n            y = d;\r\n        }\r\n    }\r\n\r\nClasses using the alternative convention return themselves from their setter methods. Like so:\r\n\r\n    public class Alternative{\r\n        private double _x;\r\n        private double _y;\r\n        public Alternative(){\r\n            x = 0;\r\n            y = 0;\r\n        }\r\n        public Alternative setX(double d){\r\n            x = d;\r\n            return(this);\r\n        }\r\n        public Alternative sety(double d){\r\n            y = d;\r\n            return(this);\r\n        }\r\n    }\r\n\r\nThe difference being that with the alternative approach syntax such as\r\n\r\n    Alternative NewAlt(double x,double y){\r\n         return(new Alternative()\r\n                    .setX(x)\r\n                    .setY(y));\r\n    }\r\n\r\n*Is possible* while with the classic set-up the same factory method would \r\nlook like this.\r\n\r\n    Classic NewAlt(double x,double y){\r\n         Classic temp = new Classic();\r\n         temp.setX(x);\r\n         temp.setY(x);\r\n         return(temp);\r\n    }\r\n\r\nIt is debatable which of these is more readable/usable.\r\n\r\nMy question is about the performance difference between these two patterns. Does it exist? If so how big is the difference, and where does it arise from? \r\n\r\nIf there is no performance difference, which one is considered &#39;better practice&#39;?","title":"Setter conventions in Java (return void or this)","body":"<p>I have been writing Java for almost a year now, and I have seen 2 different conventions for how people implement their setters.</p>\n\n<p>To Illustrate this, here are examples of both conventions. (I would love also to know concise names of these two patters)</p>\n\n<p>Classes using first convention, return nothing from their 'set' methods. Like so:</p>\n\n<pre><code>public class Classic{\n    private double _x;\n    private double _y;\n    public Classic(){\n        x = 0;\n        y = 0;\n    }\n    public void setX(double d){//or boolean with a type check on input\n        x = d;\n    }\n    public void sety(double d){\n        y = d;\n    }\n}\n</code></pre>\n\n<p>Classes using the alternative convention return themselves from their setter methods. Like so:</p>\n\n<pre><code>public class Alternative{\n    private double _x;\n    private double _y;\n    public Alternative(){\n        x = 0;\n        y = 0;\n    }\n    public Alternative setX(double d){\n        x = d;\n        return(this);\n    }\n    public Alternative sety(double d){\n        y = d;\n        return(this);\n    }\n}\n</code></pre>\n\n<p>The difference being that with the alternative approach syntax such as</p>\n\n<pre><code>Alternative NewAlt(double x,double y){\n     return(new Alternative()\n                .setX(x)\n                .setY(y));\n}\n</code></pre>\n\n<p><em>Is possible</em> while with the classic set-up the same factory method would \nlook like this.</p>\n\n<pre><code>Classic NewAlt(double x,double y){\n     Classic temp = new Classic();\n     temp.setX(x);\n     temp.setY(x);\n     return(temp);\n}\n</code></pre>\n\n<p>It is debatable which of these is more readable/usable.</p>\n\n<p>My question is about the performance difference between these two patterns. Does it exist? If so how big is the difference, and where does it arise from? </p>\n\n<p>If there is no performance difference, which one is considered 'better practice'?</p>\n"},{"tags":["java","mysql","spring-boot","jenkins","cicd"],"owner":{"account_id":16603323,"reputation":41,"user_id":11998411,"display_name":"dallasarch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684098130,"creation_date":1684098130,"question_id":76249662,"body_markdown":"I have a Spring Boot service/application/project that connects to a localhost MySQL db instance in a Docker container during startup to delete and insert some data. If I do not start the Docker container first before running the Spring Boot service, else JDBC/MySQL connector issues occur. \r\n\r\nRecently, I&#39;ve been trying to learn how to build a CI/CD pipeline. I have Jenkins and Maven installed in one EC2 instance (**Jenkins_server**) that automatically pulls code changes from GitHub and builds it. Then, it deploys the application/service to another EC2 instance with Tomcat installed (**Tomcat_server**). Builds and deployments succeed without issue whenever the Spring Boot application does not use an external MySQL database. However, whenever I try to do the same for applicaitons which require a MySQL db instance to be running locally beforehand, builds in **Jenkins_server** fail. \r\n\r\nAmong the error outputs are: \r\n\r\n```com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure```\r\n\r\n\r\nand \r\n\r\n```org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution```\r\n\r\nMy instinct is that it is due to the fact that no local instance of a MySQL db can be found whenever the build is being performed, just as a similar issue will occur whenever I try running the Spring Boot service in my local machine without stating the MySQL db Docker container first.\r\n\r\nMy question is, how do I solve this issue?\r\nI&#39;ve tried:\r\n 1. Running a MySQL Docker container in **Jenkins_server**. Result is that the server stops responding to input and requires a restart, effectively preventing any builds from occuring in this EC2 instance.\r\n 2. Changing the &quot;localhost&quot; of ```spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME:localhost}:${RDS_PORT:3306}/${RDS_DB_NAME:todos}``` in application.properties of the Spring Boot application to the IP addres of **Tomcat_server**. Result is the same error outputs mentioned previously (JDBC communicaitons link failures).\r\n\r\nJenkins server build configurations are shown in these images: https://imgur.com/a/GPSg0C7\r\n\r\nHere is the full build error output form Jenkins_server that I&#39;ve copied from the managament console: https://pastebin.com/ZYmmYARN\r\n\r\nHere is the application.properties of my Spring Boot application: https://pastebin.com/0rNN2PmY\r\n\r\n\r\n\r\nI&#39;ve tried searching for answers on Google and StackOverflow for 10 hours, but I&#39;m not even sure which answers are relevant or that I should follow. I&#39;m still a beginner in regards to DevOps skills, so I&#39;m really clueless as to ow should I proceed. Would really appreciate some help with this issue!\r\n\r\n\r\n*Note that all instance IP addresses shown are invalid.","title":"Build failed -Building a Spring Boot project that connects to a localhost MySQL DB instance with a Jenkins server using Maven","body":"<p>I have a Spring Boot service/application/project that connects to a localhost MySQL db instance in a Docker container during startup to delete and insert some data. If I do not start the Docker container first before running the Spring Boot service, else JDBC/MySQL connector issues occur.</p>\n<p>Recently, I've been trying to learn how to build a CI/CD pipeline. I have Jenkins and Maven installed in one EC2 instance (<strong>Jenkins_server</strong>) that automatically pulls code changes from GitHub and builds it. Then, it deploys the application/service to another EC2 instance with Tomcat installed (<strong>Tomcat_server</strong>). Builds and deployments succeed without issue whenever the Spring Boot application does not use an external MySQL database. However, whenever I try to do the same for applicaitons which require a MySQL db instance to be running locally beforehand, builds in <strong>Jenkins_server</strong> fail.</p>\n<p>Among the error outputs are:</p>\n<p><code>com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure</code></p>\n<p>and</p>\n<p><code>org.hibernate.exception.JDBCConnectionException: Unable to open JDBC Connection for DDL execution</code></p>\n<p>My instinct is that it is due to the fact that no local instance of a MySQL db can be found whenever the build is being performed, just as a similar issue will occur whenever I try running the Spring Boot service in my local machine without stating the MySQL db Docker container first.</p>\n<p>My question is, how do I solve this issue?\nI've tried:</p>\n<ol>\n<li>Running a MySQL Docker container in <strong>Jenkins_server</strong>. Result is that the server stops responding to input and requires a restart, effectively preventing any builds from occuring in this EC2 instance.</li>\n<li>Changing the &quot;localhost&quot; of <code>spring.datasource.url=jdbc:mysql://${RDS_HOSTNAME:localhost}:${RDS_PORT:3306}/${RDS_DB_NAME:todos}</code> in application.properties of the Spring Boot application to the IP addres of <strong>Tomcat_server</strong>. Result is the same error outputs mentioned previously (JDBC communicaitons link failures).</li>\n</ol>\n<p>Jenkins server build configurations are shown in these images: <a href=\"https://imgur.com/a/GPSg0C7\" rel=\"nofollow noreferrer\">https://imgur.com/a/GPSg0C7</a></p>\n<p>Here is the full build error output form Jenkins_server that I've copied from the managament console: <a href=\"https://pastebin.com/ZYmmYARN\" rel=\"nofollow noreferrer\">https://pastebin.com/ZYmmYARN</a></p>\n<p>Here is the application.properties of my Spring Boot application: <a href=\"https://pastebin.com/0rNN2PmY\" rel=\"nofollow noreferrer\">https://pastebin.com/0rNN2PmY</a></p>\n<p>I've tried searching for answers on Google and StackOverflow for 10 hours, but I'm not even sure which answers are relevant or that I should follow. I'm still a beginner in regards to DevOps skills, so I'm really clueless as to ow should I proceed. Would really appreciate some help with this issue!</p>\n<p>*Note that all instance IP addresses shown are invalid.</p>\n"},{"tags":["java","spring-boot","http"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1684091978,"post_id":76249259,"comment_id":134462576,"body_markdown":"Is `httpResponse` some sort of class level variable?  I would have expected it to be passed in to handle threading better.  And try to remove the `out` variable from being closed in the try statement - let your container close it.","body":"Is <code>httpResponse</code> some sort of class level variable?  I would have expected it to be passed in to handle threading better.  And try to remove the <code>out</code> variable from being closed in the try statement - let your container close it."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684097922,"creation_date":1684093321,"answer_id":76249376,"question_id":76249259,"body_markdown":"Except for the content type, your code doesn&#39;t need to care if it is a zip file or some other file type. It just needs to transfer the file.\r\n\r\nIn particular, do not use `ZipFile.size()` for `Content-Length` as `ZipFile.size()` returns the number of files within the zip file while `Content-Length` expects the number of bytes.\r\n\r\nYou don&#39;t specify what `httpResponse` is and where it comes from. And it doesn&#39;t look like idiomatic Spring Boot. Better Spring Boot code would be:\r\n\r\n    @RequestMapping(&quot;/photoBatch&quot;)\r\n    public ResponseEntity&lt;InputStreamResource&gt; downloadPhotoBatch() throws IOException {\r\n\r\n        File file = new File(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;);\r\n        InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\r\n\r\n        return ResponseEntity.ok()\r\n                .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\r\n                .contentType(MediaType.parseMediaType(&quot;application/zip&quot;)\r\n                .contentLength(file.length())\r\n                .body(resource);\r\n    }\r\n","title":"the zip file download from server could not be opened","body":"<p>Except for the content type, your code doesn't need to care if it is a zip file or some other file type. It just needs to transfer the file.</p>\n<p>In particular, do not use <code>ZipFile.size()</code> for <code>Content-Length</code> as <code>ZipFile.size()</code> returns the number of files within the zip file while <code>Content-Length</code> expects the number of bytes.</p>\n<p>You don't specify what <code>httpResponse</code> is and where it comes from. And it doesn't look like idiomatic Spring Boot. Better Spring Boot code would be:</p>\n<pre><code>@RequestMapping(&quot;/photoBatch&quot;)\npublic ResponseEntity&lt;InputStreamResource&gt; downloadPhotoBatch() throws IOException {\n\n    File file = new File(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;);\n    InputStreamResource resource = new InputStreamResource(new FileInputStream(file));\n\n    return ResponseEntity.ok()\n            .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment;filename=&quot; + file.getName())\n            .contentType(MediaType.parseMediaType(&quot;application/zip&quot;)\n            .contentLength(file.length())\n            .body(resource);\n}\n</code></pre>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76249376,"answer_count":1,"score":0,"last_activity_date":1684097922,"creation_date":1684091369,"question_id":76249259,"body_markdown":"I am using this java(version 11) function to download zip file from server side in Spring Boot (`v2.6.7`):\r\n\r\n\r\n\r\n    public void downloadPhotoBatchTest() throws IOException {\r\n            ZipFile zipFile = new ZipFile(new File(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;));\r\n            httpResponse.setContentType(&quot;application/zip&quot;);\r\n            httpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + zipFile.getName() + &quot;\\&quot;&quot;);\r\n            httpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(zipFile.size()));\r\n            try (OutputStream out = httpResponse.getOutputStream();\r\n                 FileInputStream in = new FileInputStream(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;)) {\r\n                byte[] buffer = new byte[4096];\r\n                int length;\r\n                while ((length = in.read(buffer)) &gt; 0) {\r\n                    out.write(buffer, 0, length);\r\n                }\r\n                out.flush();\r\n            } catch (IOException e) {\r\n                log.error(&quot;write zip to response error&quot;, e);\r\n            }\r\n        }\r\n\r\n\r\nbut now I found the zip file size will not the same with server side, the downloaded file only have 2KB, and the downloaded file could not be opened. Am I missing something with this code, I read the code but could not found the point where cause this issue. what should I do to fixed this problem? This is the httpResponse define:\r\n\r\n\r\n    @Autowired\r\n    private HttpServletResponse httpResponse;\r\n\r\n","title":"the zip file download from server could not be opened","body":"<p>I am using this java(version 11) function to download zip file from server side in Spring Boot (<code>v2.6.7</code>):</p>\n<pre><code>public void downloadPhotoBatchTest() throws IOException {\n        ZipFile zipFile = new ZipFile(new File(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;));\n        httpResponse.setContentType(&quot;application/zip&quot;);\n        httpResponse.setHeader(&quot;Content-Disposition&quot;, &quot;attachment; filename=\\&quot;&quot; + zipFile.getName() + &quot;\\&quot;&quot;);\n        httpResponse.setHeader(&quot;Content-Length&quot;, String.valueOf(zipFile.size()));\n        try (OutputStream out = httpResponse.getOutputStream();\n             FileInputStream in = new FileInputStream(&quot;/Users/john/59c49360-3b55-4f97-910e-9f33907f10cb.zip&quot;)) {\n            byte[] buffer = new byte[4096];\n            int length;\n            while ((length = in.read(buffer)) &gt; 0) {\n                out.write(buffer, 0, length);\n            }\n            out.flush();\n        } catch (IOException e) {\n            log.error(&quot;write zip to response error&quot;, e);\n        }\n    }\n</code></pre>\n<p>but now I found the zip file size will not the same with server side, the downloaded file only have 2KB, and the downloaded file could not be opened. Am I missing something with this code, I read the code but could not found the point where cause this issue. what should I do to fixed this problem? This is the httpResponse define:</p>\n<pre><code>@Autowired\nprivate HttpServletResponse httpResponse;\n</code></pre>\n"},{"tags":["java","spring-boot","kotlin","spring-boot-test","testcontainers"],"comments":[{"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyá»…n"},"score":0,"creation_date":1684126628,"post_id":76249595,"comment_id":134465450,"body_markdown":"IDK what do you want in here, you want to test what? If only you need to specific port: you can use profile test, or \n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT) https://rieckpil.de/guide-to-springboottest-for-spring-boot-integration-tests/. like you did, but what&#39;s the point?","body":"IDK what do you want in here, you want to test what? If only you need to specific port: you can use profile test, or  @SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT) <a href=\"https://rieckpil.de/guide-to-springboottest-for-spring-boot-integration-tests/\" rel=\"nofollow noreferrer\">rieckpil.de/&hellip;</a>. like you did, but what&#39;s the point?"},{"owner":{"account_id":24146504,"reputation":31,"user_id":18112015,"display_name":"paui"},"score":0,"creation_date":1684129148,"post_id":76249595,"comment_id":134465664,"body_markdown":"I want to expose the port spring uses for my testcontainer","body":"I want to expose the port spring uses for my testcontainer"},{"owner":{"account_id":10851618,"reputation":552,"user_id":7979194,"display_name":"Nam Nguyá»…n"},"score":0,"creation_date":1684133003,"post_id":76249595,"comment_id":134466216,"body_markdown":"I will send you this https://www.baeldung.com/spring-boot-running-port","body":"I will send you this <a href=\"https://www.baeldung.com/spring-boot-running-port\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-running-port</a>"},{"owner":{"account_id":1488715,"reputation":1432,"user_id":1396362,"display_name":"Kevin Wittek"},"score":1,"creation_date":1684146284,"post_id":76249595,"comment_id":134469023,"body_markdown":"Is this a Kotlin specific issue? Your pattern should generally work using the `@DynamicPropertySource`. If you use `container.withAccessToHost(true)`, you can also expose the host after the container started, see https://www.testcontainers.org/features/networking/#exposing-host-ports-to-the-container.","body":"Is this a Kotlin specific issue? Your pattern should generally work using the <code>@DynamicPropertySource</code>. If you use <code>container.withAccessToHost(true)</code>, you can also expose the host after the container started, see <a href=\"https://www.testcontainers.org/features/networking/#exposing-host-ports-to-the-container\" rel=\"nofollow noreferrer\">testcontainers.org/features/networking/&hellip;</a>."},{"owner":{"account_id":24146504,"reputation":31,"user_id":18112015,"display_name":"paui"},"score":0,"creation_date":1684154857,"post_id":76249595,"comment_id":134470936,"body_markdown":"container.withAccessToHost(true) workaround solves the issue for me, then I can just expose the port in a beforeall. Thanks","body":"container.withAccessToHost(true) workaround solves the issue for me, then I can just expose the port in a beforeall. Thanks"}],"owner":{"account_id":24146504,"reputation":31,"user_id":18112015,"display_name":"paui"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684097095,"creation_date":1684097095,"question_id":76249595,"body_markdown":"Im struggling with getting the &quot;spring&quot; generated random port for tests where it would be needed in a companion object for mapping my config to the proper testcontainer port\r\n\r\n```\r\n@SpringBootTest(classes = [Application::class], webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\nclass Test {\r\n companion object {\r\n        @JvmStatic\r\n        @LocalServerPort\r\n        protected var testPort = 0\r\n\r\n        @JvmStatic\r\n        @DynamicPropertySource\r\n        fun registerProps(registry: DynamicPropertyRegistry) {\r\n            println(&quot;opening port $testPort &quot;)\r\n            TestContainers.exposeHostPorts(testPort)\r\n            OpsContainer.start()\r\n            registry.add(&quot;service.ops.port&quot;, testPort)\r\n        }\r\n    }\r\n\r\n  @Test\r\n  fun basicTest() {\r\n    .\r\n    .\r\n    .\r\n  }\r\n}\r\n```\r\n\r\nIf I try and put LocalServerPort inside the companion object it wont initialize &quot;correctly&quot; but will have the default value of 0. If I move it out of the companion it &quot;works&quot; but then I cant bind my config to the spring port as that needs to happen in a companion.\r\n\r\n\r\nI have tried a few different combinations but seem to be in a position where a needs b, and at the same time, b depends on a.","title":"SpringBootTest random port access in companion object","body":"<p>Im struggling with getting the &quot;spring&quot; generated random port for tests where it would be needed in a companion object for mapping my config to the proper testcontainer port</p>\n<pre><code>@SpringBootTest(classes = [Application::class], webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\nclass Test {\n companion object {\n        @JvmStatic\n        @LocalServerPort\n        protected var testPort = 0\n\n        @JvmStatic\n        @DynamicPropertySource\n        fun registerProps(registry: DynamicPropertyRegistry) {\n            println(&quot;opening port $testPort &quot;)\n            TestContainers.exposeHostPorts(testPort)\n            OpsContainer.start()\n            registry.add(&quot;service.ops.port&quot;, testPort)\n        }\n    }\n\n  @Test\n  fun basicTest() {\n    .\n    .\n    .\n  }\n}\n</code></pre>\n<p>If I try and put LocalServerPort inside the companion object it wont initialize &quot;correctly&quot; but will have the default value of 0. If I move it out of the companion it &quot;works&quot; but then I cant bind my config to the spring port as that needs to happen in a companion.</p>\n<p>I have tried a few different combinations but seem to be in a position where a needs b, and at the same time, b depends on a.</p>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1357901938,"creation_date":1357901938,"answer_id":14276705,"question_id":14266089,"body_markdown":"The key to the solution is \r\nSpring&#39;s `org.springframework.data.repository.core.support.DefaultRepositoryMetadata` which provides the method `getDomainType()`.\r\n\r\n`DefaultRepositoryMetadata` needs the repository interface as constructor arg. So one can loop over all existing repositories, retrieve the repository interface (which is still a tricky part because the repository instance has more than one interface) and find the one where `getDomainType()`equals `Foo.class`. \r\n","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>The key to the solution is \nSpring's <code>org.springframework.data.repository.core.support.DefaultRepositoryMetadata</code> which provides the method <code>getDomainType()</code>.</p>\n\n<p><code>DefaultRepositoryMetadata</code> needs the repository interface as constructor arg. So one can loop over all existing repositories, retrieve the repository interface (which is still a tricky part because the repository instance has more than one interface) and find the one where <code>getDomainType()</code>equals <code>Foo.class</code>. </p>\n"},{"tags":[],"owner":{"account_id":9744,"reputation":80826,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1358108114,"creation_date":1358108114,"answer_id":14307686,"question_id":14266089,"body_markdown":"Spring Data Commons contains a class `Repositories` that takes a `ListableBeanFactory` to find all repository beans defined in it and exposes an API to obtain these instances by domain class (through `â€¦.getRepository(Class&lt;?&gt; type)`).\r\n\r\nThis class should be used with care. As there&#39;s some serious proxy generation going on for the repository instances you have to make sure the `Repositories` instance is created as late as possible during the `ApplicationContext` creation. The preferred way is to implement `ApplicationListener` and create the instance by listening to the `ContextRefreshedEvent`.\r\n\r\nIn case you&#39;re writing a  web application, the safest way to use `Repositories` is by bootstrapping the repositories in the `ApplicationContext` created by the `ContextLoaderListener` and place the `Repositories` (see the [reference documentation][1] of Spring MVC for details.\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>Spring Data Commons contains a class <code>Repositories</code> that takes a <code>ListableBeanFactory</code> to find all repository beans defined in it and exposes an API to obtain these instances by domain class (through <code>â€¦.getRepository(Class&lt;?&gt; type)</code>).</p>\n\n<p>This class should be used with care. As there's some serious proxy generation going on for the repository instances you have to make sure the <code>Repositories</code> instance is created as late as possible during the <code>ApplicationContext</code> creation. The preferred way is to implement <code>ApplicationListener</code> and create the instance by listening to the <code>ContextRefreshedEvent</code>.</p>\n\n<p>In case you're writing a  web application, the safest way to use <code>Repositories</code> is by bootstrapping the repositories in the <code>ApplicationContext</code> created by the <code>ContextLoaderListener</code> and place the <code>Repositories</code> (see the <a href=\"http://static.springsource.org/spring/docs/current/spring-framework-reference/html/mvc.html#mvc-servlet\">reference documentation</a> of Spring MVC for details.</p>\n"},{"tags":[],"owner":{"account_id":3030319,"reputation":1688,"user_id":2569475,"display_name":"Deepak"},"down_vote_count":2,"up_vote_count":23,"is_accepted":false,"score":21,"last_activity_date":1436872882,"creation_date":1436870249,"answer_id":31404245,"question_id":14266089,"body_markdown":"    @Service\r\n    public class GenericRepository {\r\n\r\n        @Autowired\r\n        private WebApplicationContext appContext;\r\n\r\n        Repositories repositories = null;\r\n\r\n        public GenericRepository() {\r\n            repositories = new Repositories(appContext);\r\n        }\r\n\r\n        public JpaRepository getRepository(AbstractPersistable entity) {\r\n            return (JpaRepository) repositories.getRepositoryFor(entity.getClass());\r\n        }\r\n\r\n        public Object save(AbstractPersistable entity) {\r\n            return getRepository(entity).save(entity);\r\n        }\r\n\r\n        public Object findAll(AbstractPersistable entity) {\r\n            return getRepository(entity).findAll();\r\n        }\r\n\r\n        public void delete(AbstractPersistable entity) {\r\n            getRepository(entity).delete(entity);\r\n        }\r\n    }","title":"How to retrieve spring data repository instance for given domain class?","body":"<pre><code>@Service\npublic class GenericRepository {\n\n    @Autowired\n    private WebApplicationContext appContext;\n\n    Repositories repositories = null;\n\n    public GenericRepository() {\n        repositories = new Repositories(appContext);\n    }\n\n    public JpaRepository getRepository(AbstractPersistable entity) {\n        return (JpaRepository) repositories.getRepositoryFor(entity.getClass());\n    }\n\n    public Object save(AbstractPersistable entity) {\n        return getRepository(entity).save(entity);\n    }\n\n    public Object findAll(AbstractPersistable entity) {\n        return getRepository(entity).findAll();\n    }\n\n    public void delete(AbstractPersistable entity) {\n        getRepository(entity).delete(entity);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":357788,"reputation":1967,"user_id":698182,"accept_rate":57,"display_name":"ekcrisp"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648785218,"creation_date":1648785218,"answer_id":71701611,"question_id":14266089,"body_markdown":"You can use Spring&#39;s [GenericTypeResolver][1] to get the Entity class from your Repository.\r\n\r\n    Repository&lt;Foo, String&gt; fooRepository = repositories.stream()\r\n        .filter(repository -&gt; GenericTypeResolver\r\n            .resolveTypeArguments(repository.getClass(), Repository.class)[0].equals(Foo.class))\r\n        .findFirst().get();\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>You can use Spring's <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/GenericTypeResolver.html\" rel=\"nofollow noreferrer\">GenericTypeResolver</a> to get the Entity class from your Repository.</p>\n<pre><code>Repository&lt;Foo, String&gt; fooRepository = repositories.stream()\n    .filter(repository -&gt; GenericTypeResolver\n        .resolveTypeArguments(repository.getClass(), Repository.class)[0].equals(Foo.class))\n    .findFirst().get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13142390,"reputation":21,"user_id":9493540,"display_name":"menkaix"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661108392,"creation_date":1661108392,"answer_id":73437424,"question_id":14266089,"body_markdown":"This worked for me :\r\n\r\n    Repositories repositories = new Repositories(context);\r\n    CrudRepository repo = (CrudRepository) repositories.\r\n\t\t\t\tgetRepositoryFor(entityClass).get();\r\n\r\n","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>This worked for me :</p>\n<pre><code>Repositories repositories = new Repositories(context);\nCrudRepository repo = (CrudRepository) repositories.\n            getRepositoryFor(entityClass).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9653946,"reputation":76,"user_id":7164184,"display_name":"Thiago Sperandio"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684096884,"creation_date":1683818752,"answer_id":76229273,"question_id":14266089,"body_markdown":"I will give my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.\r\n\r\nAs [@ekcrisp said in his answer](https://stackoverflow.com/a/71701611/7164184) above:\r\n&gt; You can use Spring&#39;s GenericTypeResolver to get the Entity class from your Repository.\r\n\r\nMy experience: unfortunately the common ways of reflection don&#39;t work to get the `&lt;T&gt;` entity class in a  Spring Boot&#39;s repository. I tried in a lot of maneers. But this **`GenericTypeResolver`** actually could get the generics `&lt;T&gt;` type from `JpaRepository&lt;T, ID&gt;`.\r\n\r\nIn other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:\r\n\r\n    public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    }\r\n\r\nThis answer is about this stack and its versions:\r\n\r\nJDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.\r\n\r\n---\r\n\r\nIf you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get `&lt;T&gt;` or `&lt;ID&gt;` in `JpaRepository&lt;T, ID&gt;`:\r\n\r\n    @UtilityClass\r\n    public class ObjectUtil {\r\n        // ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t *\r\n    \t * @return the generic classes of the given param, based on class to get generics param.\r\n    \t *\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n    \t\treturn GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t * @param genericPosition\r\n    \t *\r\n    \t * @return the generic class of the given param, based on class to get generics and generic position params.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\r\n    \t\tClass&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\r\n    \t\tif( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\r\n    \t\t\treturn typeArguments[genericPosition];\r\n    \t\t}\r\n    \t\tthrow new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\r\n    \t}\r\n        \r\n        // ... \r\n    }\r\n\r\nSo we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):\r\n\r\n    @UtilityClass\r\n    public class QueryUtil {\r\n    \r\n    \t// ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param repositoryClass\r\n    \t *\r\n    \t * @return the @Entity class of the given repository param.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType(Class, Class, int)\r\n    \t * @see ObjectUtil#getGenericType(Class, Class)\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\r\n    \t\treturn ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\r\n    \t}\r\n    \r\n    }\r\n\r\n---\r\n\r\nI hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited. \r\n","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>I will give my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.</p>\n<p>As <a href=\"https://stackoverflow.com/a/71701611/7164184\">@ekcrisp said in his answer</a> above:</p>\n<blockquote>\n<p>You can use Spring's GenericTypeResolver to get the Entity class from your Repository.</p>\n</blockquote>\n<p>My experience: unfortunately the common ways of reflection don't work to get the <code>&lt;T&gt;</code> entity class in a  Spring Boot's repository. I tried in a lot of maneers. But this <strong><code>GenericTypeResolver</code></strong> actually could get the generics <code>&lt;T&gt;</code> type from <code>JpaRepository&lt;T, ID&gt;</code>.</p>\n<p>In other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:</p>\n<pre><code>public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n    return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n}\n</code></pre>\n<p>This answer is about this stack and its versions:</p>\n<p>JDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.</p>\n<hr />\n<p>If you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get <code>&lt;T&gt;</code> or <code>&lt;ID&gt;</code> in <code>JpaRepository&lt;T, ID&gt;</code>:</p>\n<pre><code>@UtilityClass\npublic class ObjectUtil {\n    // ...\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     *\n     * @return the generic classes of the given param, based on class to get generics param.\n     *\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n    }\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     * @param genericPosition\n     *\n     * @return the generic class of the given param, based on class to get generics and generic position params.\n     *\n     * @see ObjectUtil#getGenericType\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\n        Class&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\n        if( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\n            return typeArguments[genericPosition];\n        }\n        throw new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\n    }\n    \n    // ... \n}\n</code></pre>\n<p>So we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):</p>\n<pre><code>@UtilityClass\npublic class QueryUtil {\n\n    // ...\n\n    /**\n     *\n     * @param repositoryClass\n     *\n     * @return the @Entity class of the given repository param.\n     *\n     * @see ObjectUtil#getGenericType(Class, Class, int)\n     * @see ObjectUtil#getGenericType(Class, Class)\n     */\n    public static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\n        return ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\n    }\n\n}\n</code></pre>\n<hr />\n<p>I hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited.</p>\n"}],"owner":{"account_id":369445,"reputation":2330,"user_id":716834,"accept_rate":75,"display_name":"Udo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28925,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"answer_count":6,"score":28,"last_activity_date":1684096884,"creation_date":1357847415,"question_id":14266089,"body_markdown":"Given the list of all spring data repositories in some class `Bar`:\r\n\r\n    @Autowired\r\n    private List&lt;Repository&gt; repositories;\r\n\r\nHow can I find the repository for an existing domain class `Foo` in the above list?\r\n\r\nAssuming that the following exists:\r\n\r\n    @Entity\r\n    public class Foo {\r\n      ...\r\n    }\r\n\r\nand \r\n\r\n    public interface FooRepository extends JpaRepository&lt;Foo, String&gt; {}\r\n\r\n","title":"How to retrieve spring data repository instance for given domain class?","body":"<p>Given the list of all spring data repositories in some class <code>Bar</code>:</p>\n\n<pre><code>@Autowired\nprivate List&lt;Repository&gt; repositories;\n</code></pre>\n\n<p>How can I find the repository for an existing domain class <code>Foo</code> in the above list?</p>\n\n<p>Assuming that the following exists:</p>\n\n<pre><code>@Entity\npublic class Foo {\n  ...\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>public interface FooRepository extends JpaRepository&lt;Foo, String&gt; {}\n</code></pre>\n"},{"tags":["java","ajax","jsf","render","rerender"],"owner":{"account_id":23704535,"reputation":1,"user_id":17727222,"display_name":"yareenm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684094366,"creation_date":1684094366,"question_id":76249438,"body_markdown":"I have a &lt;h:form id=&quot;updateForm&quot;&gt;. Inside of this form I have &lt;h:selectedBooleanCheckbox &gt; and &lt;rich:extendedDataTable id=&quot;searchTable&quot;&gt;.\r\nAll I want is when I click on the checkbox rerender the searchTable.\r\n\r\nI am using Java and JSF.\r\n\r\nCan somebody help me?\r\n\r\nMy checkbox is :\r\n\r\n```\r\n&lt;h:selectedBooleanCheckbox value=&quot;Submit&quot; action=&quot;#{actions.submitToDB}&quot;&gt;\r\n  &lt;a4j:support event=&quot;onclick&quot; reRender=&quot;searchTable&quot; /&gt;\r\n&lt;/h:selectedBooleanCheckbox &gt;\r\n```\r\n\r\n","title":"need &lt;h:selectBooleanCheckbox for rerender a form","body":"<p>I have a &lt;h:form id=&quot;updateForm&quot;&gt;. Inside of this form I have &lt;h:selectedBooleanCheckbox &gt; and &lt;rich:extendedDataTable id=&quot;searchTable&quot;&gt;.\nAll I want is when I click on the checkbox rerender the searchTable.</p>\n<p>I am using Java and JSF.</p>\n<p>Can somebody help me?</p>\n<p>My checkbox is :</p>\n<pre><code>&lt;h:selectedBooleanCheckbox value=&quot;Submit&quot; action=&quot;#{actions.submitToDB}&quot;&gt;\n  &lt;a4j:support event=&quot;onclick&quot; reRender=&quot;searchTable&quot; /&gt;\n&lt;/h:selectedBooleanCheckbox &gt;\n</code></pre>\n"},{"tags":["java","minecraft","spigot"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1684099398,"post_id":76249400,"comment_id":134463412,"body_markdown":"Maybe add the code where you actually use this method. Also you might want to check the if statements and see if `itemMeta` is null which could be the cause of no change etc.","body":"Maybe add the code where you actually use this method. Also you might want to check the if statements and see if <code>itemMeta</code> is null which could be the cause of no change etc."}],"owner":{"account_id":17791202,"reputation":25,"user_id":12920161,"display_name":"Roomba"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684093667,"creation_date":1684093667,"question_id":76249400,"body_markdown":"I am using Java with Maven and Spigot-API(1.19.4) to create a plugin which enhances item modifiers for weapons and armor if the enchantment is succesful(+5% per level, for total of 20 levels). The issue is, for some reason it does not apply the changes to the item. What could be an issue here? Do i have to maybe return some value in this method?(new to this)\r\nHere is the apply method:\r\n\r\n        private void applyEffects(ItemStack item, int whetLevel) {\r\n        double multiplier = 1 + (whetLevel * 0.05);\r\n        ItemMeta itemMeta = item.getItemMeta();\r\n        if (itemMeta == null) return;\r\n        if(isWeapon(item)){\r\n        AttributeModifier currentAttackDamageModifier = null;\r\n        AttributeModifier currentAttackSpeedModifier = null;\r\n        if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_DAMAGE) != null){\r\n            for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_DAMAGE)){\r\n                currentAttackDamageModifier = modifier;\r\n                break;\r\n            }\r\n        }\r\n        if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_SPEED) != null){\r\n            for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_SPEED)){\r\n                currentAttackSpeedModifier = modifier;\r\n                break;\r\n            }\r\n        }\r\n        // Remove existing attribute modifiers to avoid stacking modifiers\r\n        for (Attribute attribute : Attribute.values()) {\r\n            itemMeta.removeAttributeModifier(attribute);\r\n        }\r\n        if(currentAttackDamageModifier != null){\r\n            AttributeModifier updatedAttackDamageModifier = new AttributeModifier(\r\n                currentAttackDamageModifier.getUniqueId(),\r\n                currentAttackDamageModifier.getName(),\r\n                currentAttackDamageModifier.getAmount()*multiplier,\r\n                currentAttackDamageModifier.getOperation(),\r\n                currentAttackDamageModifier.getSlot()\r\n            );\r\n            itemMeta.addAttributeModifier(Attribute.GENERIC_ATTACK_DAMAGE, updatedAttackDamageModifier);\r\n        }\r\n        if(currentAttackSpeedModifier != null){\r\n            AttributeModifier updatedAttackSpeedModifier = new AttributeModifier(\r\n                currentAttackSpeedModifier.getUniqueId(),\r\n                currentAttackSpeedModifier.getName(),\r\n                currentAttackSpeedModifier.getAmount()*multiplier,\r\n                currentAttackSpeedModifier.getOperation(),\r\n                currentAttackSpeedModifier.getSlot()\r\n            );\r\n            itemMeta.addAttributeModifier(Attribute.GENERIC_ATTACK_SPEED, updatedAttackSpeedModifier);\r\n        }\r\n    }\r\n    if(isArmor(item)){\r\n        AttributeModifier currentArmorModifier = null;\r\n        AttributeModifier currentArmorToughnessModifier = null;\r\n        if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR) != null){\r\n            for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR)){\r\n                currentArmorModifier = modifier;\r\n                break;\r\n            }\r\n        }\r\n        if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR_TOUGHNESS) != null){\r\n            for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR_TOUGHNESS)){\r\n                currentArmorToughnessModifier = modifier;\r\n                break;\r\n            }\r\n        }\r\n        // Remove existing attribute modifiers to avoid stacking modifiers\r\n        for (Attribute attribute : Attribute.values()) {\r\n            itemMeta.removeAttributeModifier(attribute);\r\n        }\r\n        if(currentArmorModifier != null){\r\n            AttributeModifier updatedArmorModifier = new AttributeModifier(\r\n                currentArmorModifier.getUniqueId(),\r\n                currentArmorModifier.getName(),\r\n                currentArmorModifier.getAmount()*multiplier,\r\n                currentArmorModifier.getOperation(),\r\n                currentArmorModifier.getSlot()\r\n            );\r\n            itemMeta.addAttributeModifier(Attribute.GENERIC_ARMOR, updatedArmorModifier);\r\n        }\r\n        if(currentArmorToughnessModifier != null){\r\n            AttributeModifier updatedArmorToughnessModifier = new AttributeModifier(\r\n                currentArmorToughnessModifier.getUniqueId(),\r\n                currentArmorToughnessModifier.getName(),\r\n                currentArmorToughnessModifier.getAmount()*multiplier,\r\n                currentArmorToughnessModifier.getOperation(),\r\n                currentArmorToughnessModifier.getSlot()\r\n            );\r\n            itemMeta.addAttributeModifier(Attribute.GENERIC_ARMOR_TOUGHNESS, updatedArmorToughnessModifier); \r\n        }\r\n    }\r\n    item.setItemMeta(itemMeta);\r\n    }","title":"Changing AttributeModifiers of Weapons and Armor in Minecraft(Java)","body":"<p>I am using Java with Maven and Spigot-API(1.19.4) to create a plugin which enhances item modifiers for weapons and armor if the enchantment is succesful(+5% per level, for total of 20 levels). The issue is, for some reason it does not apply the changes to the item. What could be an issue here? Do i have to maybe return some value in this method?(new to this)\nHere is the apply method:</p>\n<pre><code>    private void applyEffects(ItemStack item, int whetLevel) {\n    double multiplier = 1 + (whetLevel * 0.05);\n    ItemMeta itemMeta = item.getItemMeta();\n    if (itemMeta == null) return;\n    if(isWeapon(item)){\n    AttributeModifier currentAttackDamageModifier = null;\n    AttributeModifier currentAttackSpeedModifier = null;\n    if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_DAMAGE) != null){\n        for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_DAMAGE)){\n            currentAttackDamageModifier = modifier;\n            break;\n        }\n    }\n    if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_SPEED) != null){\n        for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ATTACK_SPEED)){\n            currentAttackSpeedModifier = modifier;\n            break;\n        }\n    }\n    // Remove existing attribute modifiers to avoid stacking modifiers\n    for (Attribute attribute : Attribute.values()) {\n        itemMeta.removeAttributeModifier(attribute);\n    }\n    if(currentAttackDamageModifier != null){\n        AttributeModifier updatedAttackDamageModifier = new AttributeModifier(\n            currentAttackDamageModifier.getUniqueId(),\n            currentAttackDamageModifier.getName(),\n            currentAttackDamageModifier.getAmount()*multiplier,\n            currentAttackDamageModifier.getOperation(),\n            currentAttackDamageModifier.getSlot()\n        );\n        itemMeta.addAttributeModifier(Attribute.GENERIC_ATTACK_DAMAGE, updatedAttackDamageModifier);\n    }\n    if(currentAttackSpeedModifier != null){\n        AttributeModifier updatedAttackSpeedModifier = new AttributeModifier(\n            currentAttackSpeedModifier.getUniqueId(),\n            currentAttackSpeedModifier.getName(),\n            currentAttackSpeedModifier.getAmount()*multiplier,\n            currentAttackSpeedModifier.getOperation(),\n            currentAttackSpeedModifier.getSlot()\n        );\n        itemMeta.addAttributeModifier(Attribute.GENERIC_ATTACK_SPEED, updatedAttackSpeedModifier);\n    }\n}\nif(isArmor(item)){\n    AttributeModifier currentArmorModifier = null;\n    AttributeModifier currentArmorToughnessModifier = null;\n    if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR) != null){\n        for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR)){\n            currentArmorModifier = modifier;\n            break;\n        }\n    }\n    if(itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR_TOUGHNESS) != null){\n        for(AttributeModifier modifier : itemMeta.getAttributeModifiers(Attribute.GENERIC_ARMOR_TOUGHNESS)){\n            currentArmorToughnessModifier = modifier;\n            break;\n        }\n    }\n    // Remove existing attribute modifiers to avoid stacking modifiers\n    for (Attribute attribute : Attribute.values()) {\n        itemMeta.removeAttributeModifier(attribute);\n    }\n    if(currentArmorModifier != null){\n        AttributeModifier updatedArmorModifier = new AttributeModifier(\n            currentArmorModifier.getUniqueId(),\n            currentArmorModifier.getName(),\n            currentArmorModifier.getAmount()*multiplier,\n            currentArmorModifier.getOperation(),\n            currentArmorModifier.getSlot()\n        );\n        itemMeta.addAttributeModifier(Attribute.GENERIC_ARMOR, updatedArmorModifier);\n    }\n    if(currentArmorToughnessModifier != null){\n        AttributeModifier updatedArmorToughnessModifier = new AttributeModifier(\n            currentArmorToughnessModifier.getUniqueId(),\n            currentArmorToughnessModifier.getName(),\n            currentArmorToughnessModifier.getAmount()*multiplier,\n            currentArmorToughnessModifier.getOperation(),\n            currentArmorToughnessModifier.getSlot()\n        );\n        itemMeta.addAttributeModifier(Attribute.GENERIC_ARMOR_TOUGHNESS, updatedArmorToughnessModifier); \n    }\n}\nitem.setItemMeta(itemMeta);\n}\n</code></pre>\n"},{"tags":["java","android","android-source","android-biometric-prompt","android-biometric"],"owner":{"account_id":22215880,"reputation":41,"user_id":16454332,"display_name":"Markusbug"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684093608,"creation_date":1684093608,"question_id":76249398,"body_markdown":"I am trying to launch a biometric prompt from the background. Basically I added a piece of code to the SystemUi of AOSP and any app can make a request to the SystemUi to have this biometric overlay show up. But now I am migrating from the FingerprintManager to the androidx.biometrics package and I have the issue that it doesn&#39;t want to make a Biometric Prompt from the systemUi. \r\nThis is the output of the logs:\r\n```\r\n05-14 21:40:12.166  1722  1722 W AuthController: Task stack changed, current client: com.android.systemui\r\n05-14 21:40:12.171  1722  1722 E AuthController: Evicting client due to: org.example.app\r\n```\r\n\r\nBasically it is checking if the clientPackage is equal to the topPackage and then it auto-cancels the prompt.\r\n\r\nThis is the offending method: \r\n```java\r\n    private void cancelIfOwnerIsNotInForeground() {\r\n        mExecution.assertIsMainThread();\r\n        if (mCurrentDialog != null) {\r\n            try {\r\n                final String clientPackage = mCurrentDialog.getOpPackageName();\r\n                Log.w(TAG, &quot;Task stack changed, current client: &quot; + clientPackage);\r\n                final List&lt;ActivityManager.RunningTaskInfo&gt; runningTasks =\r\n                        mActivityTaskManager.getTasks(1);\r\n                if (!runningTasks.isEmpty()) {\r\n                    final String topPackage = runningTasks.get(0).topActivity.getPackageName();\r\n                    if (!topPackage.contentEquals(clientPackage)\r\n                            &amp;&amp; !Utils.isSystem(mContext, clientPackage)) {\r\n                        Log.e(TAG, &quot;Evicting client due to: &quot; + topPackage);\r\n                        mCurrentDialog.dismissWithoutCallback(true /* animate */);\r\n                        mCurrentDialog = null;\r\n\r\n                        for (Callback cb : mCallbacks) {\r\n                            cb.onBiometricPromptDismissed();\r\n                        }\r\n\r\n                        if (mReceiver != null) {\r\n                            mReceiver.onDialogDismissed(\r\n                                    BiometricPrompt.DISMISSED_REASON_USER_CANCEL,\r\n                                    null /* credentialAttestation */);\r\n                            mReceiver = null;\r\n                        }\r\n                    }\r\n                }\r\n            } catch (RemoteException e) {\r\n                Log.e(TAG, &quot;Remote exception&quot;, e);\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nHow can I make it so that the function does not auto-cancel if the systemUi is calling it, and so that the fingerprint still works? Because I tried to just add an if currentClient is &quot;com.android.systemui&quot; then return. It then doesn&#39;t auto-cancel anymore, but I cannot use the bio prompt, as it does nothing when I touch the in-screen sensor.\r\n\r\nThanks in advance!\r\n\r\n","title":"Biometric Prompt from background?","body":"<p>I am trying to launch a biometric prompt from the background. Basically I added a piece of code to the SystemUi of AOSP and any app can make a request to the SystemUi to have this biometric overlay show up. But now I am migrating from the FingerprintManager to the androidx.biometrics package and I have the issue that it doesn't want to make a Biometric Prompt from the systemUi.\nThis is the output of the logs:</p>\n<pre><code>05-14 21:40:12.166  1722  1722 W AuthController: Task stack changed, current client: com.android.systemui\n05-14 21:40:12.171  1722  1722 E AuthController: Evicting client due to: org.example.app\n</code></pre>\n<p>Basically it is checking if the clientPackage is equal to the topPackage and then it auto-cancels the prompt.</p>\n<p>This is the offending method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private void cancelIfOwnerIsNotInForeground() {\n        mExecution.assertIsMainThread();\n        if (mCurrentDialog != null) {\n            try {\n                final String clientPackage = mCurrentDialog.getOpPackageName();\n                Log.w(TAG, &quot;Task stack changed, current client: &quot; + clientPackage);\n                final List&lt;ActivityManager.RunningTaskInfo&gt; runningTasks =\n                        mActivityTaskManager.getTasks(1);\n                if (!runningTasks.isEmpty()) {\n                    final String topPackage = runningTasks.get(0).topActivity.getPackageName();\n                    if (!topPackage.contentEquals(clientPackage)\n                            &amp;&amp; !Utils.isSystem(mContext, clientPackage)) {\n                        Log.e(TAG, &quot;Evicting client due to: &quot; + topPackage);\n                        mCurrentDialog.dismissWithoutCallback(true /* animate */);\n                        mCurrentDialog = null;\n\n                        for (Callback cb : mCallbacks) {\n                            cb.onBiometricPromptDismissed();\n                        }\n\n                        if (mReceiver != null) {\n                            mReceiver.onDialogDismissed(\n                                    BiometricPrompt.DISMISSED_REASON_USER_CANCEL,\n                                    null /* credentialAttestation */);\n                            mReceiver = null;\n                        }\n                    }\n                }\n            } catch (RemoteException e) {\n                Log.e(TAG, &quot;Remote exception&quot;, e);\n            }\n        }\n    }\n</code></pre>\n<p>How can I make it so that the function does not auto-cancel if the systemUi is calling it, and so that the fingerprint still works? Because I tried to just add an if currentClient is &quot;com.android.systemui&quot; then return. It then doesn't auto-cancel anymore, but I cannot use the bio prompt, as it does nothing when I touch the in-screen sensor.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","rest","spring-security"],"comments":[{"owner":{"account_id":2457081,"reputation":1393,"user_id":2142023,"accept_rate":68,"display_name":"DarkVision"},"score":0,"creation_date":1684088937,"post_id":76248870,"comment_id":134462144,"body_markdown":"usually those type of problem is cors type issue with Edge and modern javascript Cross-Origin Resource Sharing is blocked not specific relate to ur app could be Edge enforcing some rules. You can always check by using third plugin for browser to activate cors or disabling allow you to call from Edge.","body":"usually those type of problem is cors type issue with Edge and modern javascript Cross-Origin Resource Sharing is blocked not specific relate to ur app could be Edge enforcing some rules. You can always check by using third plugin for browser to activate cors or disabling allow you to call from Edge."}],"owner":{"account_id":25509879,"reputation":1,"user_id":19301745,"display_name":"youngtort"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684093583,"creation_date":1684085923,"question_id":76248870,"body_markdown":"The problem is that I have a specific api that I would like to give users access to their authorization. For example (&quot;/api/registration&quot;)\r\n\r\n```\r\n    @PostMapping(&quot;/registration&quot;)\r\n    public ResponseEntity&lt;Users&gt; addNewUser(@RequestBody Users user, @RequestHeader Long companyId){\r\n\r\n        Companies company = companiesService.findCompanyById(companyId);\r\n\r\n        if (company.getId() == null){\r\n            throw new InvalidCompany(&quot;Ð¢Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚&quot;);\r\n        }\r\n\r\n        user.setCompanies(company);\r\n\r\n        if (!user.getPassword().equals(user.getPasswordConfirm())){\r\n            throw new UserPasswordNotConfirm(&quot;ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚&quot;);\r\n        }\r\n\r\n        if (usersRepo.countByCompanies(user.getCompanies()) &gt; company.getStaff()) {\r\n            throw new CrowdedEmployees(&quot;ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¾&quot;);\r\n        }\r\n\r\n        if(!userService.registrationUser(user)){\r\n            throw new UserAlreadyExist(&quot;ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚&quot;);\r\n        }\r\n\r\n        if (accessesRepo.findByCompanyAndEmail(company, user.getEmail()) == null) {\r\n            throw new AccessDenied(&quot;Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½&quot;);\r\n        }\r\n\r\n        userService.save(user);\r\n        accessesRepo.delete(accessesRepo.findByCompanyAndEmail(company, user.getEmail()));\r\n\r\n        return ResponseEntity.ok().body(user);\r\n    }\r\n```\r\n\r\nIt seems nothing remarkable just user registration. Here WebSecurityConfig.java\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final UserAuthService userAuthService;\r\n\r\n    public WebSecurityConfig(UserAuthService userAuthService) {\r\n        this.userAuthService = userAuthService;\r\n    }\r\n\r\n    @Bean\r\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .cors().disable()\r\n                .csrf().disable();\r\n        http\r\n                .authorizeHttpRequests((authz) -&gt; {\r\n                            try {\r\n                                authz\r\n                                        .requestMatchers(HttpMethod.POST, &quot;/api/registration&quot;).permitAll()\r\n                                        .requestMatchers(HttpMethod.GET, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot; ,&quot;/signup&quot; ,&quot;/&quot;).permitAll()\r\n                                        .anyRequest().authenticated()\r\n                                        .and()\r\n                                        .formLogin()\r\n                                        .loginPage(&quot;/login&quot;)\r\n                                        .defaultSuccessUrl(&quot;/&quot;)\r\n                                        .permitAll()\r\n                                        .and()\r\n                                        .rememberMe()\r\n                                        .and()\r\n                                        .logout()\r\n                                        .permitAll()\r\n                                        .deleteCookies(&quot;JSESSIONID&quot;);\r\n                            } catch (Exception e) {\r\n                                throw new RuntimeException(e);\r\n                            }\r\n                        }\r\n                )\r\n                .httpBasic();\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(HttpSecurity auth) throws Exception {\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = auth.getSharedObject(AuthenticationManagerBuilder.class);\r\n        authenticationManagerBuilder\r\n                .userDetailsService(userAuthService)\r\n                .passwordEncoder(bCryptPasswordEncoder());\r\n        return authenticationManagerBuilder.build();\r\n    }\r\n}\r\n```\r\n\r\nI use Spring boot version 3.0.5.\r\nBut in different browsers, then they give you to use &quot;/api&quot;, then they don&#39;t, although I specify only one path for it.\r\nIn google chrome, I can safely use my api of any of the mappings, but let&#39;s say in Microsoft Edge I can&#39;t even use the mapping that I specified in `requestMatchers`. For example, I fail user registration.\r\nWhat does Edge say to this:\r\n[Microsoft Edge console](https://i.stack.imgur.com/IKWaq.png)\r\nWhat does Chrome say to this:\r\n[Google Chrome console](https://i.stack.imgur.com/nnBv5.png)\r\n\r\nAs I said above in Chrome, for some reason I can use any method from my api when there is none in another browser, even one that is registered as valid.\r\n\r\nThat&#39;s if that&#39;s my request for JS\r\n\r\n```\r\nfunction addUser(){\r\n    fetch(&#39;http://localhost:8080/api/registration&#39;, {\r\n        method: &#39;POST&#39;,\r\n        headers: {\r\n            &#39;Accept&#39;: &#39;application/json&#39;,\r\n            &#39;Content-Type&#39;: &#39;application/json&#39;,\r\n            &#39;companyId&#39;: document.getElementById(&quot;companySelector&quot;).value\r\n        },\r\n        body: JSON.stringify(\r\n            {\r\n                &quot;username&quot;: document.getElementById(&quot;floatingUsername&quot;).value,\r\n                &quot;password&quot; : document.getElementById(&quot;floatingPassword&quot;).value,\r\n                &quot;passwordConfirm&quot; : document.getElementById(&quot;floatingPasswordConfirm&quot;).value,\r\n                &quot;email&quot; : document.getElementById(&quot;floatingEmail&quot;).value\r\n            })\r\n    })\r\n        .then(response =&gt; {\r\n            if (!response.ok) {\r\n                return response.text().then(text =&gt; { throw Error(text)})\r\n            }\r\n        })\r\n        .then(data =&gt; {\r\n            console.log(JSON.stringify(data))\r\n            window.location.replace(URL + &quot;/login&quot;);\r\n        })\r\n        .catch(response =&gt; {\r\n            let test = JSON.parse(response.message);\r\n            let error = document.getElementById(&quot;error&quot;);\r\n\r\n            //alert(test.message);\r\n            console.log(`Ð¢ÐµÑÑ‚: ${test.message}`);\r\n            error.innerHTML = `&lt;div class=&quot;form-control alert alert-danger&quot;&gt;${test.message}&lt;/div&gt;`\r\n        });\r\n}\r\n```\r\n\r\nI expected to get a BAD REQUEST, but in the end I get the error 401 unauthorized, also in another browser my `requestMatchers` is completely ignored\r\n\r\n**Edit #1**\r\n===========\r\n\r\nAfter 1000 attempts, I finally found a solution! I just added `shouldFilterAllDispatcherTypes(false)` into filterChain. Like this\r\n```\r\n                                authz\r\n                                        .shouldFilterAllDispatcherTypes(false)\r\n                                        .requestMatchers(HttpMethod.POST, &quot;/api/registration&quot;).permitAll()\r\n                                        .requestMatchers(HttpMethod.GET, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot; ,&quot;/signup&quot; ,&quot;/&quot;).permitAll()\r\n                                        .anyRequest().authenticated()\r\n                                        .and()\r\n                                        .formLogin()\r\n                                        .loginPage(&quot;/login&quot;)\r\n                                        .defaultSuccessUrl(&quot;/&quot;)\r\n                                        .permitAll()\r\n                                        .and()\r\n                                        .rememberMe()\r\n                                        .and()\r\n                                        .logout()\r\n                                        .permitAll()\r\n                                        .deleteCookies(&quot;JSESSIONID&quot;);\r\n```\r\n\r\n","title":"Problems with Spring security. Failed to load resource: the server responded with a status of 401. Spring boot 3.0.5","body":"<p>The problem is that I have a specific api that I would like to give users access to their authorization. For example (&quot;/api/registration&quot;)</p>\n<pre><code>    @PostMapping(&quot;/registration&quot;)\n    public ResponseEntity&lt;Users&gt; addNewUser(@RequestBody Users user, @RequestHeader Long companyId){\n\n        Companies company = companiesService.findCompanyById(companyId);\n\n        if (company.getId() == null){\n            throw new InvalidCompany(&quot;Ð¢Ð°ÐºÐ¾Ð¹ ÐºÐ¾Ð¼Ð¿Ð°Ð½Ð¸Ð¸ Ð½Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚&quot;);\n        }\n\n        user.setCompanies(company);\n\n        if (!user.getPassword().equals(user.getPasswordConfirm())){\n            throw new UserPasswordNotConfirm(&quot;ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚&quot;);\n        }\n\n        if (usersRepo.countByCompanies(user.getCompanies()) &gt; company.getStaff()) {\n            throw new CrowdedEmployees(&quot;ÐšÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð¿Ñ€ÐµÐ²Ñ‹ÑˆÐµÐ½Ð¾&quot;);\n        }\n\n        if(!userService.registrationUser(user)){\n            throw new UserAlreadyExist(&quot;ÐŸÐ¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»ÑŒ ÑƒÐ¶Ðµ ÑÑƒÑ‰ÐµÑÑ‚Ð²ÑƒÐµÑ‚&quot;);\n        }\n\n        if (accessesRepo.findByCompanyAndEmail(company, user.getEmail()) == null) {\n            throw new AccessDenied(&quot;Ð”Ð¾ÑÑ‚ÑƒÐ¿ Ð·Ð°Ð¿Ñ€ÐµÑ‰ÐµÐ½&quot;);\n        }\n\n        userService.save(user);\n        accessesRepo.delete(accessesRepo.findByCompanyAndEmail(company, user.getEmail()));\n\n        return ResponseEntity.ok().body(user);\n    }\n</code></pre>\n<p>It seems nothing remarkable just user registration. Here WebSecurityConfig.java</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final UserAuthService userAuthService;\n\n    public WebSecurityConfig(UserAuthService userAuthService) {\n        this.userAuthService = userAuthService;\n    }\n\n    @Bean\n    BCryptPasswordEncoder bCryptPasswordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors().disable()\n                .csrf().disable();\n        http\n                .authorizeHttpRequests((authz) -&gt; {\n                            try {\n                                authz\n                                        .requestMatchers(HttpMethod.POST, &quot;/api/registration&quot;).permitAll()\n                                        .requestMatchers(HttpMethod.GET, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot; ,&quot;/signup&quot; ,&quot;/&quot;).permitAll()\n                                        .anyRequest().authenticated()\n                                        .and()\n                                        .formLogin()\n                                        .loginPage(&quot;/login&quot;)\n                                        .defaultSuccessUrl(&quot;/&quot;)\n                                        .permitAll()\n                                        .and()\n                                        .rememberMe()\n                                        .and()\n                                        .logout()\n                                        .permitAll()\n                                        .deleteCookies(&quot;JSESSIONID&quot;);\n                            } catch (Exception e) {\n                                throw new RuntimeException(e);\n                            }\n                        }\n                )\n                .httpBasic();\n        return http.build();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(HttpSecurity auth) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder = auth.getSharedObject(AuthenticationManagerBuilder.class);\n        authenticationManagerBuilder\n                .userDetailsService(userAuthService)\n                .passwordEncoder(bCryptPasswordEncoder());\n        return authenticationManagerBuilder.build();\n    }\n}\n</code></pre>\n<p>I use Spring boot version 3.0.5.\nBut in different browsers, then they give you to use &quot;/api&quot;, then they don't, although I specify only one path for it.\nIn google chrome, I can safely use my api of any of the mappings, but let's say in Microsoft Edge I can't even use the mapping that I specified in <code>requestMatchers</code>. For example, I fail user registration.\nWhat does Edge say to this:\n<a href=\"https://i.stack.imgur.com/IKWaq.png\" rel=\"nofollow noreferrer\">Microsoft Edge console</a>\nWhat does Chrome say to this:\n<a href=\"https://i.stack.imgur.com/nnBv5.png\" rel=\"nofollow noreferrer\">Google Chrome console</a></p>\n<p>As I said above in Chrome, for some reason I can use any method from my api when there is none in another browser, even one that is registered as valid.</p>\n<p>That's if that's my request for JS</p>\n<pre><code>function addUser(){\n    fetch('http://localhost:8080/api/registration', {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'companyId': document.getElementById(&quot;companySelector&quot;).value\n        },\n        body: JSON.stringify(\n            {\n                &quot;username&quot;: document.getElementById(&quot;floatingUsername&quot;).value,\n                &quot;password&quot; : document.getElementById(&quot;floatingPassword&quot;).value,\n                &quot;passwordConfirm&quot; : document.getElementById(&quot;floatingPasswordConfirm&quot;).value,\n                &quot;email&quot; : document.getElementById(&quot;floatingEmail&quot;).value\n            })\n    })\n        .then(response =&gt; {\n            if (!response.ok) {\n                return response.text().then(text =&gt; { throw Error(text)})\n            }\n        })\n        .then(data =&gt; {\n            console.log(JSON.stringify(data))\n            window.location.replace(URL + &quot;/login&quot;);\n        })\n        .catch(response =&gt; {\n            let test = JSON.parse(response.message);\n            let error = document.getElementById(&quot;error&quot;);\n\n            //alert(test.message);\n            console.log(`Ð¢ÐµÑÑ‚: ${test.message}`);\n            error.innerHTML = `&lt;div class=&quot;form-control alert alert-danger&quot;&gt;${test.message}&lt;/div&gt;`\n        });\n}\n</code></pre>\n<p>I expected to get a BAD REQUEST, but in the end I get the error 401 unauthorized, also in another browser my <code>requestMatchers</code> is completely ignored</p>\n<h1><strong>Edit #1</strong></h1>\n<p>After 1000 attempts, I finally found a solution! I just added <code>shouldFilterAllDispatcherTypes(false)</code> into filterChain. Like this</p>\n<pre><code>                                authz\n                                        .shouldFilterAllDispatcherTypes(false)\n                                        .requestMatchers(HttpMethod.POST, &quot;/api/registration&quot;).permitAll()\n                                        .requestMatchers(HttpMethod.GET, &quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot; ,&quot;/signup&quot; ,&quot;/&quot;).permitAll()\n                                        .anyRequest().authenticated()\n                                        .and()\n                                        .formLogin()\n                                        .loginPage(&quot;/login&quot;)\n                                        .defaultSuccessUrl(&quot;/&quot;)\n                                        .permitAll()\n                                        .and()\n                                        .rememberMe()\n                                        .and()\n                                        .logout()\n                                        .permitAll()\n                                        .deleteCookies(&quot;JSESSIONID&quot;);\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1683963038,"post_id":76241277,"comment_id":134449753,"body_markdown":"In your build.gradle file s an entry that defines source and target Java version as Java 7. Change it to 8.","body":"In your build.gradle file s an entry that defines source and target Java version as Java 7. Change it to 8."}],"owner":{"account_id":28592569,"reputation":1,"user_id":21891439,"display_name":"Andrei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":810,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684093541,"creation_date":1683956920,"question_id":76241277,"body_markdown":"I want to write plain old java code in android studio, just a `System.out.println()`. Can someone explain me step by step how to change the version or whatever I need to do in order to stop getting the error? (sorry if my question sounds dumb but I&#39;ve been trying to figure this out in the last 90 minutes)\r\nMy screen, if it helps\r\n\r\n[![screen][1]][1]\r\n\r\nI made a new module for java, but I keep getting this error even tough it prints the message\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GnamD.png","title":"how to fix &quot;[options] target value 7 is obsolete and will be removed in a future release&quot; in android studio&quot;","body":"<p>I want to write plain old java code in android studio, just a <code>System.out.println()</code>. Can someone explain me step by step how to change the version or whatever I need to do in order to stop getting the error? (sorry if my question sounds dumb but I've been trying to figure this out in the last 90 minutes)\nMy screen, if it helps</p>\n<p><a href=\"https://i.stack.imgur.com/GnamD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GnamD.png\" alt=\"screen\" /></a></p>\n<p>I made a new module for java, but I keep getting this error even tough it prints the message</p>\n"},{"tags":["java","libgdx","box2d","orthographic"],"comments":[{"owner":{"account_id":2933020,"reputation":7983,"user_id":2512687,"display_name":"Xoppa"},"score":0,"creation_date":1452355126,"post_id":34695353,"comment_id":57137286,"body_markdown":"http://blog.xoppa.com/pixels","body":"<a href=\"http://blog.xoppa.com/pixels\" rel=\"nofollow noreferrer\">blog.xoppa.com/pixels</a>"},{"owner":{"account_id":4039317,"reputation":485,"user_id":3322636,"accept_rate":100,"display_name":"Fooble"},"score":0,"creation_date":1553125601,"post_id":34695353,"comment_id":97274721,"body_markdown":"I have personally used a ScreenViewport which has methods for getting and setting the units per pixel. When drawing in screen space I simply divide the world coordinates (in metres) by the ScreenViewport.getUnitsPerPixel() value which converts them to pixel coordinates.","body":"I have personally used a ScreenViewport which has methods for getting and setting the units per pixel. When drawing in screen space I simply divide the world coordinates (in metres) by the ScreenViewport.getUnitsPerPixel() value which converts them to pixel coordinates."},{"owner":{"account_id":6302185,"reputation":1741,"user_id":4896472,"accept_rate":100,"display_name":"TheChubbyPanda"},"score":0,"creation_date":1553167821,"post_id":34695353,"comment_id":97288656,"body_markdown":"Surely your texture would end up being one pixel by one pixel?","body":"Surely your texture would end up being one pixel by one pixel?"}],"answers":[{"tags":[],"owner":{"account_id":20812160,"reputation":953,"user_id":15285836,"display_name":"CallOfVoid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684091921,"creation_date":1684091593,"answer_id":76249272,"question_id":34695353,"body_markdown":"First, don&#39;t think of camera units as pixels,I suggest you use a single camera and &quot;units per meter&quot; multiplier for conversion.\r\n\r\nset your camera&#39;s width and height as how much of your world you wish to be seen. set size of your sprites using `setSize()` method, it will scale your texture to be seen as the proportion of world; if you want one meter to be 1/10 of screen height\r\nset a variable like \r\n`upm= camera.viewportHeight/10 //units per meter`\r\n so that you can set size of e.g. 2&#215;1 box as\r\n`myBoxSprite.setSize(2*upm,upm)`. box2d `Body` has `setUserData()` and `getUserData()` methods which you can use to link your sprites(visual game objects) to their box2d body(physical body) and access it when needed and also make  referrence variables in your game object to point to box2d body and sprite like so you can use them when you want to change position of sprite to be drawn according to body&#39;s position\r\n\r\np.s. this is my first answer on SOF so excuse me if it is not as it has to be.","title":"How to calculate pixel per meter in Box2d and LIbgdx?","body":"<p>First, don't think of camera units as pixels,I suggest you use a single camera and &quot;units per meter&quot; multiplier for conversion.</p>\n<p>set your camera's width and height as how much of your world you wish to be seen. set size of your sprites using <code>setSize()</code> method, it will scale your texture to be seen as the proportion of world; if you want one meter to be 1/10 of screen height\nset a variable like\n<code>upm= camera.viewportHeight/10 //units per meter</code>\nso that you can set size of e.g. 2Ã—1 box as\n<code>myBoxSprite.setSize(2*upm,upm)</code>. box2d <code>Body</code> has <code>setUserData()</code> and <code>getUserData()</code> methods which you can use to link your sprites(visual game objects) to their box2d body(physical body) and access it when needed and also make  referrence variables in your game object to point to box2d body and sprite like so you can use them when you want to change position of sprite to be drawn according to body's position</p>\n<p>p.s. this is my first answer on SOF so excuse me if it is not as it has to be.</p>\n"}],"owner":{"account_id":6241524,"reputation":1808,"user_id":4854993,"accept_rate":55,"display_name":"Kevin Bryan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":369,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684091921,"creation_date":1452353417,"question_id":34695353,"body_markdown":"I set my orthographic camera for my box2d world to 21 width and 12 height, this is equivalent to 1 meter = 1 pixel. But the problem is that I have another ortho camera for my sprites and bitmapfonts (for my SpriteBatch) which is 640X360 pixels, so for example I have a 1x1 meter body then how can I render the texture on top of that body as big as 1x1 meter into pixel? ","title":"How to calculate pixel per meter in Box2d and LIbgdx?","body":"<p>I set my orthographic camera for my box2d world to 21 width and 12 height, this is equivalent to 1 meter = 1 pixel. But the problem is that I have another ortho camera for my sprites and bitmapfonts (for my SpriteBatch) which is 640X360 pixels, so for example I have a 1x1 meter body then how can I render the texture on top of that body as big as 1x1 meter into pixel? </p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":46972,"reputation":356179,"user_id":139010,"accept_rate":81,"display_name":"Matt Ball"},"score":4,"creation_date":1364957332,"post_id":15778018,"comment_id":22430299,"body_markdown":"_&quot;According to JDK doc,&quot;_ which JDK documentation, specifically?","body":"<i>&quot;According to JDK doc,&quot;</i> which JDK documentation, specifically?"},{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":1,"creation_date":1364957564,"post_id":15778018,"comment_id":22430361,"body_markdown":"That `-encoding` needs to match the actual encoding used in your source file. From the looks of it, that is UTF-8.","body":"That <code>-encoding</code> needs to match the actual encoding used in your source file. From the looks of it, that is UTF-8."},{"owner":{"account_id":2563380,"reputation":1016,"user_id":2224049,"display_name":"Dave Newman"},"score":1,"creation_date":1364958049,"post_id":15778018,"comment_id":22430484,"body_markdown":"In UNICODE that character is U+00DC. In UTF-8 encoding, it would be 0xC39C. When that file was read with ISO-8859-1 encoding, it read the UTF-8 encoded character as two ISO-8859-1 encoded characters: 0xC3 0x09c. As Thilo suggested, make the --encoding parameter match the actual encoding of the file.","body":"In UNICODE that character is U+00DC. In UTF-8 encoding, it would be 0xC39C. When that file was read with ISO-8859-1 encoding, it read the UTF-8 encoded character as two ISO-8859-1 encoded characters: 0xC3 0x09c. As Thilo suggested, make the --encoding parameter match the actual encoding of the file."},{"owner":{"account_id":350247,"reputation":413,"user_id":685986,"accept_rate":0,"display_name":"Ian Jiang"},"score":0,"creation_date":1364964377,"post_id":15778018,"comment_id":22432092,"body_markdown":"JDK doc: http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html. &quot; except the input/output stream is encoded in ISO 8859-1 character encoding&quot;","body":"JDK doc: <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/6/docs/api/java/util/Properties.html</a>. &quot; except the input/output stream is encoded in ISO 8859-1 character encoding&quot;"},{"owner":{"account_id":350247,"reputation":413,"user_id":685986,"accept_rate":0,"display_name":"Ian Jiang"},"score":0,"creation_date":1364966186,"post_id":15778018,"comment_id":22432643,"body_markdown":"As Thilo suggested, the -encoding option is what the actual encoding of source file. When saving test.properties with &quot;ISO-8859-1&quot; encoding, then iso88591.propertie: key=\\u00dc and value via getProperty(&quot;key&quot;) is correct.\n&#39;native2ascii -encoding ISO-8859-1 test.properties iso88591.propertie&#39;","body":"As Thilo suggested, the -encoding option is what the actual encoding of source file. When saving test.properties with &quot;ISO-8859-1&quot; encoding, then iso88591.propertie: key=\\u00dc and value via getProperty(&quot;key&quot;) is correct. &#39;native2ascii -encoding ISO-8859-1 test.properties iso88591.propertie&#39;"},{"owner":{"account_id":350247,"reputation":413,"user_id":685986,"accept_rate":0,"display_name":"Ian Jiang"},"score":0,"creation_date":1364967330,"post_id":15778018,"comment_id":22433044,"body_markdown":"I don&#39;t know native2ascii uses which unicode implementation. But it does not matter, the unicode implementation is compatible with ISO-8859-1. Then Properties class can decode properly with ISO-8859-1.","body":"I don&#39;t know native2ascii uses which unicode implementation. But it does not matter, the unicode implementation is compatible with ISO-8859-1. Then Properties class can decode properly with ISO-8859-1."},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1684090276,"post_id":15778018,"comment_id":134462349,"body_markdown":"The misspelling `iso88591.propertie` confuses matters (though at least it is consistently used).","body":"The misspelling <code>iso88591.propertie</code> confuses matters (though at least it is consistently used)."}],"owner":{"account_id":350247,"reputation":413,"user_id":685986,"accept_rate":0,"display_name":"Ian Jiang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2765,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684091622,"creation_date":1364957095,"question_id":15778018,"body_markdown":"When creating Properties class in Java, it requires the input stream must be encoded in [ISO&amp;nbsp;8859-1][1]. But in practice, I use UTF-8 to convert non-Latin properties files by the [`native2ascii`][2] tool rather than ISO-8859-1.\r\n\r\n - [According to the JDK documentation][3], the input stream should be encoded ISO-8859-1.\r\n   That&#39;s to say, the source file is encoding in ISO-8859-1.\r\n - According to it, decoding and encoding should use the same ISO-8859-1. Properties class in Java should decode using ISO-8859-1.\r\n - According to testing, actually we use UTF-8 as the encoding\r\n   option in native2ascii rather than ISO-8859-1. Why?\r\n\r\nTest as follow:\r\n\r\n - Create the *test.properties* file which contains: &quot;key=&#220;&quot;\r\n - Generated ISO-8859-1 property file: key=\\u00c3\\u009c\r\n\r\n      ```lang-none\r\n      native2ascii -encoding ISO-8859-1 test.properties iso88591.propertie:\r\n      ```\r\n\r\n - Generated UTF-8 property file:  key=\\u00dc\r\n\r\n      ```lang-none\r\n      native2ascii -encoding UTF-8 test.properties utf8.properties\r\n      ```\r\n\r\n - Create Properties to load the two generated property files:\r\n\r\n        Properties p = new Properties();\r\n        //InputStream inStream = new FileInputStream(&quot;src/test/java/com/active/translation/iso88591.properties&quot;);\r\n        InputStream inStream = new FileInputStream(&quot;src/test/java/com/active/translation/utf8.properties&quot;);\r\n        p.load(inStream);\r\n\r\n        System.out.println(p.getProperty(&quot;key&quot;));\r\n\r\n - *iso88591.propertie* result is:  &#195;\r\n - *utf8.properties* result is: &#220;\r\n\r\n&lt;hr/&gt;\r\n\r\n[Answer][4]:\r\n\r\n&gt; That `-encoding` needs to match the actual encoding used in your source file. From the looks of it, that is UTF-8.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/ISO/IEC_8859-1\r\n  [2]: https://docs.oracle.com/javase/8/docs/technotes/tools/unix/native2ascii.html\r\n  [3]: http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\r\n  [4]: https://stackoverflow.com/questions/15778018/why-utf-8-as-native2ascii-encoding-option-rather-than-iso-8859-1#comment22430361_15778018\r\n","title":"Why should we use UTF-8 as the &#39;native2ascii&#39; encoding option rather than ISO-8859-1?","body":"<p>When creating Properties class in Java, it requires the input stream must be encoded in <a href=\"https://en.wikipedia.org/wiki/ISO/IEC_8859-1\" rel=\"nofollow noreferrer\">ISOÂ 8859-1</a>. But in practice, I use UTF-8 to convert non-Latin properties files by the <a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/native2ascii.html\" rel=\"nofollow noreferrer\"><code>native2ascii</code></a> tool rather than ISO-8859-1.</p>\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Properties.html\" rel=\"nofollow noreferrer\">According to the JDK documentation</a>, the input stream should be encoded ISO-8859-1.\nThat's to say, the source file is encoding in ISO-8859-1.</li>\n<li>According to it, decoding and encoding should use the same ISO-8859-1. Properties class in Java should decode using ISO-8859-1.</li>\n<li>According to testing, actually we use UTF-8 as the encoding\noption in native2ascii rather than ISO-8859-1. Why?</li>\n</ul>\n<p>Test as follow:</p>\n<ul>\n<li><p>Create the <em>test.properties</em> file which contains: &quot;key=Ãœ&quot;</p>\n</li>\n<li><p>Generated ISO-8859-1 property file: key=\\u00c3\\u009c</p>\n<pre class=\"lang-none prettyprint-override\"><code>native2ascii -encoding ISO-8859-1 test.properties iso88591.propertie:\n</code></pre>\n</li>\n<li><p>Generated UTF-8 property file:  key=\\u00dc</p>\n<pre class=\"lang-none prettyprint-override\"><code>native2ascii -encoding UTF-8 test.properties utf8.properties\n</code></pre>\n</li>\n<li><p>Create Properties to load the two generated property files:</p>\n<pre><code> Properties p = new Properties();\n //InputStream inStream = new FileInputStream(&quot;src/test/java/com/active/translation/iso88591.properties&quot;);\n InputStream inStream = new FileInputStream(&quot;src/test/java/com/active/translation/utf8.properties&quot;);\n p.load(inStream);\n\n System.out.println(p.getProperty(&quot;key&quot;));\n</code></pre>\n</li>\n<li><p><em>iso88591.propertie</em> result is:  Ãƒ</p>\n</li>\n<li><p><em>utf8.properties</em> result is: Ãœ</p>\n</li>\n</ul>\n<hr/>\n<p><a href=\"https://stackoverflow.com/questions/15778018/why-utf-8-as-native2ascii-encoding-option-rather-than-iso-8859-1#comment22430361_15778018\">Answer</a>:</p>\n<blockquote>\n<p>That <code>-encoding</code> needs to match the actual encoding used in your source file. From the looks of it, that is UTF-8.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-context"],"comments":[{"owner":{"account_id":28599718,"reputation":1,"user_id":21896959,"display_name":"Sanjiv Kumar"},"score":0,"creation_date":1684091733,"post_id":76249274,"comment_id":134462541,"body_markdown":"does after running main method of Spring.Application, JVM hand over the execution of objects to Container","body":"does after running main method of Spring.Application, JVM hand over the execution of objects to Container"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1684092491,"post_id":76249274,"comment_id":134462644,"body_markdown":"The Spring framework, like all Java code (ignoring things like Android and GraalVM native images), is executed _by the JVM_. So, no, the JVM does not &quot;hand over&quot; execution to Spring.","body":"The Spring framework, like all Java code (ignoring things like Android and GraalVM native images), is executed <i>by the JVM</i>. So, no, the JVM does not &quot;hand over&quot; execution to Spring."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1684092675,"post_id":76249274,"comment_id":134462672,"body_markdown":"The Spring container is executed like any other Java code: as Java code, by the JVM.","body":"The Spring container is executed like any other Java code: as Java code, by the JVM."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684092985,"post_id":76249274,"comment_id":134462709,"body_markdown":"There&#39;s nothing particularly special about Spring; it&#39;s complicated, but not particularly special. You call the framework&#39;s entry point and that causes code to execute, like normal.  It&#39;s just that said code does stuff like scan the class-path for annotations, set up network connections, set up the handling of incoming connections, initialize &quot;sub&quot; frameworks (e.g., JPA) as needed, instantiate objects &quot;for you&quot; as needed, and so on. But that&#39;s all just Java code, same as you write in your programs.","body":"There&#39;s nothing particularly special about Spring; it&#39;s complicated, but not particularly special. You call the framework&#39;s entry point and that causes code to execute, like normal.  It&#39;s just that said code does stuff like scan the class-path for annotations, set up network connections, set up the handling of incoming connections, initialize &quot;sub&quot; frameworks (e.g., JPA) as needed, instantiate objects &quot;for you&quot; as needed, and so on. But that&#39;s all just Java code, same as you write in your programs."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684110139,"post_id":76249274,"comment_id":134464239,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":28599718,"reputation":1,"user_id":21896959,"display_name":"Sanjiv Kumar"},"score":0,"creation_date":1684131136,"post_id":76249274,"comment_id":134465932,"body_markdown":"but after all dependency injection is done by container and not by JVM.So, its like container working like JVM","body":"but after all dependency injection is done by container and not by JVM.So, its like container working like JVM"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684134924,"post_id":76249274,"comment_id":134466597,"body_markdown":"Perhaps the piece you&#39;re missing is what&#39;s called [reflection](https://stackoverflow.com/q/37628/6395627). Reflection can be used to instantiate and invoke code unknown at compile-time. Spring uses reflection, and other tools, to do what it does. Some of those other tools may or may not include compile-time and/or run-time annotation processing, instrumentation, proxies, run-time generation of classes, and so on. But all this code is still executed by the JVM; Spring is not &quot;becoming&quot; the JVM in any way.","body":"Perhaps the piece you&#39;re missing is what&#39;s called <a href=\"https://stackoverflow.com/q/37628/6395627\">reflection</a>. Reflection can be used to instantiate and invoke code unknown at compile-time. Spring uses reflection, and other tools, to do what it does. Some of those other tools may or may not include compile-time and/or run-time annotation processing, instrumentation, proxies, run-time generation of classes, and so on. But all this code is still executed by the JVM; Spring is not &quot;becoming&quot; the JVM in any way."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684135211,"post_id":76249274,"comment_id":134466662,"body_markdown":"See packages like `java.lang`, `java.lang.annotation`, `java.lang.reflect`, `java.lang.invoke` and `java.lang.instrument`. All in the standard library.","body":"See packages like <code>java.lang</code>, <code>java.lang.annotation</code>, <code>java.lang.reflect</code>, <code>java.lang.invoke</code> and <code>java.lang.instrument</code>. All in the standard library."}],"owner":{"account_id":28599718,"reputation":1,"user_id":21896959,"display_name":"Sanjiv Kumar"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684091596,"creation_date":1684091596,"question_id":76249274,"body_markdown":"Even if JVM is there, how it is allowing Spring Container to come into the play while executing the Spring Application?\r\n\r\nWhen we have configured JVM then how still Spring Container is taking responsibility to execute the objects?","title":"While running a Spring Application does JVM after executing the main method, hands over the program execution to Spring Container?","body":"<p>Even if JVM is there, how it is allowing Spring Container to come into the play while executing the Spring Application?</p>\n<p>When we have configured JVM then how still Spring Container is taking responsibility to execute the objects?</p>\n"},{"tags":["java","dependency-injection","jackson","guice","objectmapper"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":1,"creation_date":1684091919,"post_id":76249252,"comment_id":134462567,"body_markdown":"I am not sure about Guice, but if it were Spring (which I guess works similarly), when you create an object manually via constructor (`new BlockDeserializer()`), the Spring does *not* manage the instantiation and no bean is injected. I guess it will be something similar. You should not mix manual instantiation and framework managed instances. Notice that even the constructor which you call does not have any argument, it is *not* the constructor with the injection!","body":"I am not sure about Guice, but if it were Spring (which I guess works similarly), when you create an object manually via constructor (<code>new BlockDeserializer()</code>), the Spring does <i>not</i> manage the instantiation and no bean is injected. I guess it will be something similar. You should not mix manual instantiation and framework managed instances. Notice that even the constructor which you call does not have any argument, it is <i>not</i> the constructor with the injection!"}],"owner":{"account_id":12000414,"reputation":27,"user_id":8780539,"display_name":"ASHOK KUMAR"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684091229,"creation_date":1684091229,"question_id":76249252,"body_markdown":"My Module class is like below : \r\n\r\n```\r\npublic class JacksonModule extends AbstractModule {\r\n\r\n    @Provides\r\n    @Singleton\r\n    @Named(&quot;dynamicWidgetDeserializer&quot;)\r\n    public static ObjectMapper getObjectMapper() {\r\n        SimpleModule simpleModule = new SimpleModule();\r\n        simpleModule.addDeserializer(Block.class, new BlockDeserializer());\r\n\r\n        ObjectMapper objectMapper = new ObjectMapper()\r\n                .registerModule(simpleModule);\r\n\r\n        return objectMapper;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nTrying to inject `ObjectMapper` instance in `BlockDeserializer` class like below :\r\n\r\n\r\n```\r\npublic class BlockDeserializer extends StdDeserializer&lt;Block&gt; {\r\n    private final ObjectMapper objectMapper;\r\n    \r\n    @Inject\r\n    public BlockDeserializer(@Named(&quot;dynamicWidgetDeserializer&quot;) ObjectMapper objectMapper) {\r\n        super(Block.class);\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    public BlockDeserializer() {\r\n        this(null);\r\n    }\r\n\r\n    @Override\r\n    public Block deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)\r\n            throws IOException, JsonProcessingException {\r\n        .\r\n        .\r\n        .\r\n        \r\n    }\r\n}\r\n\r\n```\r\n\r\nBut here the injected instance of `ObjectMapper` is `null` . Please keep note that i am trying to create a object of `BlockDeserializer` in my `getObjectMapper` method , is this somehow related with why i am getting null ?","title":"Not able to inject an instance of ObjectMapper using guice injector in java application","body":"<p>My Module class is like below :</p>\n<pre><code>public class JacksonModule extends AbstractModule {\n\n    @Provides\n    @Singleton\n    @Named(&quot;dynamicWidgetDeserializer&quot;)\n    public static ObjectMapper getObjectMapper() {\n        SimpleModule simpleModule = new SimpleModule();\n        simpleModule.addDeserializer(Block.class, new BlockDeserializer());\n\n        ObjectMapper objectMapper = new ObjectMapper()\n                .registerModule(simpleModule);\n\n        return objectMapper;\n    }\n}\n\n</code></pre>\n<p>Trying to inject <code>ObjectMapper</code> instance in <code>BlockDeserializer</code> class like below :</p>\n<pre><code>public class BlockDeserializer extends StdDeserializer&lt;Block&gt; {\n    private final ObjectMapper objectMapper;\n    \n    @Inject\n    public BlockDeserializer(@Named(&quot;dynamicWidgetDeserializer&quot;) ObjectMapper objectMapper) {\n        super(Block.class);\n        this.objectMapper = objectMapper;\n    }\n\n    public BlockDeserializer() {\n        this(null);\n    }\n\n    @Override\n    public Block deserialize(JsonParser jsonParser, DeserializationContext deserializationContext)\n            throws IOException, JsonProcessingException {\n        .\n        .\n        .\n        \n    }\n}\n\n</code></pre>\n<p>But here the injected instance of <code>ObjectMapper</code> is <code>null</code> . Please keep note that i am trying to create a object of <code>BlockDeserializer</code> in my <code>getObjectMapper</code> method , is this somehow related with why i am getting null ?</p>\n"},{"tags":["java","python","encryption","blowfish","ecb"],"comments":[{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1371394152,"post_id":17134100,"comment_id":24796534,"body_markdown":"I think your PKCS5Padding is wrong in the case when `packingLength == 8`. See [RFC 2898, section 6.1](http://tools.ietf.org/html/rfc2898#section-6.1)","body":"I think your PKCS5Padding is wrong in the case when <code>packingLength == 8</code>. See <a href=\"http://tools.ietf.org/html/rfc2898#section-6.1\" rel=\"nofollow noreferrer\">RFC 2898, section 6.1</a>"},{"owner":{"account_id":1463101,"reputation":770,"user_id":1376831,"accept_rate":85,"display_name":"Hunter Larco"},"score":0,"creation_date":1371417590,"post_id":17134100,"comment_id":24802536,"body_markdown":"Thank you, i have made the appropriate changes","body":"Thank you, i have made the appropriate changes"},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1371425231,"post_id":17134100,"comment_id":24804168,"body_markdown":"Those outputs are meaningless. You should probably print hex-encoded outputs. Using binascii.hexlify in python, in Java it is not quite as trivial but you&#39;ll find plenty of examples online.","body":"Those outputs are meaningless. You should probably print hex-encoded outputs. Using binascii.hexlify in python, in Java it is not quite as trivial but you&#39;ll find plenty of examples online."},{"owner":{"account_id":1463101,"reputation":770,"user_id":1376831,"accept_rate":85,"display_name":"Hunter Larco"},"score":0,"creation_date":1371426936,"post_id":17134100,"comment_id":24804417,"body_markdown":"Yes, but even when converted to hex, they aren&#39;t equal. I need an exact replica for the third party extension to read. A third party receives the encryption and thus they must be equal. It is intended for Java, but for the purposes of my project, Python is more convenient.","body":"Yes, but even when converted to hex, they aren&#39;t equal. I need an exact replica for the third party extension to read. A third party receives the encryption and thus they must be equal. It is intended for Java, but for the purposes of my project, Python is more convenient."}],"answers":[{"tags":[],"owner":{"account_id":176857,"reputation":360133,"user_id":2225682,"display_name":"falsetru"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371401894,"creation_date":1371401337,"answer_id":17135548,"question_id":17134100,"body_markdown":"    def PKCS5Padding(string):\r\n        byteNum = len(string)\r\n        packingLength = 8 - byteNum % 8\r\n        appendage = chr(packingLength) * packingLength\r\n        return string + appendage\r\n\r\n\r\nUse chr instead of str.\r\n\r\n    &gt;&gt;&gt; chr(1)\r\n    &#39;\\x01&#39;\r\n    &gt;&gt;&gt; str(1)\r\n    &#39;1&#39;\r\n\r\nstr * int -&gt; repeated str\r\n\r\n    &gt;&gt;&gt; &#39;!&#39; * 5\r\n    &#39;!!!!!&#39;","title":"Python Blowfish Encryption","body":"<pre><code>def PKCS5Padding(string):\n    byteNum = len(string)\n    packingLength = 8 - byteNum % 8\n    appendage = chr(packingLength) * packingLength\n    return string + appendage\n</code></pre>\n\n<p>Use chr instead of str.</p>\n\n<pre><code>&gt;&gt;&gt; chr(1)\n'\\x01'\n&gt;&gt;&gt; str(1)\n'1'\n</code></pre>\n\n<p>str * int -> repeated str</p>\n\n<pre><code>&gt;&gt;&gt; '!' * 5\n'!!!!!'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1371436016,"creation_date":1371436016,"answer_id":17139643,"question_id":17134100,"body_markdown":"I get the same output for both python and Java using your example.\r\n\r\nJava:\r\n\r\n    import java.math.BigInteger;\r\n    import java.security.Key;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    public class Blowfish1 {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String s = &quot;testings&quot;;\r\n            Cipher cipher = Cipher.getInstance(&quot;Blowfish/ECB/PKCS5Padding&quot;);\r\n            Key key = new SecretKeySpec(&quot;6#26FRL$ZWD&quot;.getBytes(), &quot;Blowfish&quot;);\r\n            cipher.init(Cipher.ENCRYPT_MODE, key);\r\n            byte[] enc_bytes = cipher.doFinal(s.getBytes());\r\n            System.out.printf(&quot;%x%n&quot;, new BigInteger(1, enc_bytes));\r\n        }\r\n    \r\n    }\r\n\r\nPython:\r\n\r\n    from Crypto.Cipher import Blowfish\r\n    import binascii\r\n    \r\n    # See @falsetru answer for the following method\r\n    #\r\n    def PKCS5Padding(string):\r\n        byteNum = len(string)\r\n        packingLength = 8 - byteNum % 8\r\n        appendage = chr(packingLength) * packingLength\r\n        return string + appendage\r\n    \r\n    def PandoraEncrypt(string):\r\n        key = b&#39;6#26FRL$ZWD&#39;\r\n        c1  = Blowfish.new(key, Blowfish.MODE_ECB)\r\n        packedString = PKCS5Padding(string)\r\n        return c1.encrypt(packedString)\r\n    \r\n    if __name__ == &#39;__main__&#39;:\r\n        s = &#39;testings&#39;\r\n        c = PandoraEncrypt(s)\r\n        print(binascii.hexlify(c))\r\n\r\nIn both cases the output is `223950ff19fbea872fce0ee543692ba7`","title":"Python Blowfish Encryption","body":"<p>I get the same output for both python and Java using your example.</p>\n\n<p>Java:</p>\n\n<pre><code>import java.math.BigInteger;\nimport java.security.Key;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\n\npublic class Blowfish1 {\n\n    public static void main(String[] args) throws Exception {\n        String s = \"testings\";\n        Cipher cipher = Cipher.getInstance(\"Blowfish/ECB/PKCS5Padding\");\n        Key key = new SecretKeySpec(\"6#26FRL$ZWD\".getBytes(), \"Blowfish\");\n        cipher.init(Cipher.ENCRYPT_MODE, key);\n        byte[] enc_bytes = cipher.doFinal(s.getBytes());\n        System.out.printf(\"%x%n\", new BigInteger(1, enc_bytes));\n    }\n\n}\n</code></pre>\n\n<p>Python:</p>\n\n<pre><code>from Crypto.Cipher import Blowfish\nimport binascii\n\n# See @falsetru answer for the following method\n#\ndef PKCS5Padding(string):\n    byteNum = len(string)\n    packingLength = 8 - byteNum % 8\n    appendage = chr(packingLength) * packingLength\n    return string + appendage\n\ndef PandoraEncrypt(string):\n    key = b'6#26FRL$ZWD'\n    c1  = Blowfish.new(key, Blowfish.MODE_ECB)\n    packedString = PKCS5Padding(string)\n    return c1.encrypt(packedString)\n\nif __name__ == '__main__':\n    s = 'testings'\n    c = PandoraEncrypt(s)\n    print(binascii.hexlify(c))\n</code></pre>\n\n<p>In both cases the output is <code>223950ff19fbea872fce0ee543692ba7</code></p>\n"},{"tags":[],"owner":{"account_id":1808469,"reputation":111,"user_id":1645017,"display_name":"yv84_"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684087635,"creation_date":1684086183,"answer_id":76248886,"question_id":17134100,"body_markdown":"https://stackoverflow.com/a/17139643/1645017 answer correct for python2.\r\n\r\nFor python 3 https://pycryptodome.readthedocs.io/en/latest/index.html `\r\n\r\n    from Crypto.Cipher import Blowfish\r\n    import binascii\r\n    \r\n    # See @falsetru answer for the following method\r\n    #\r\n    def PKCS5Padding(string):\r\n        byteNum = len(string)\r\n        packingLength = 8 - byteNum % 8\r\n        appendage = chr(packingLength).encode() * packingLength\r\n        return string + appendage\r\n    \r\n    def PandoraEncrypt(string):\r\n        key = b&#39;6#26FRL$ZWD&#39;\r\n        c1  = Blowfish.new(key, Blowfish.MODE_ECB)\r\n        packedString = PKCS5Padding(string)\r\n        return c1.encrypt(packedString)\r\n    \r\n    def PandoraDecrypt(string):\r\n        key = b&#39;6#26FRL$ZWD&#39;\r\n        c1  = Blowfish.new(key, Blowfish.MODE_ECB)\r\n        decrypted = c1.decrypt(string)\r\n        last_byte = decrypted[-1]\r\n        decrypted_without_padding = decrypted[:-last_byte]\r\n        return decrypted_without_padding\r\n\r\n    if __name__ == &#39;__main__&#39;:\r\n        s = b&#39;testings&#39;\r\n        c = PandoraEncrypt(s)\r\n        d = PandoraDecrypt(c)\r\n        print(binascii.hexlify(c)) # b&#39;223950ff19fbea872fce0ee543692ba7&#39;\r\n        print(d) # b&#39;testings&#39;\r\n`","title":"Python Blowfish Encryption","body":"<p><a href=\"https://stackoverflow.com/a/17139643/1645017\">https://stackoverflow.com/a/17139643/1645017</a> answer correct for python2.</p>\n<p>For python 3 <a href=\"https://pycryptodome.readthedocs.io/en/latest/index.html\" rel=\"nofollow noreferrer\">https://pycryptodome.readthedocs.io/en/latest/index.html</a> `</p>\n<pre><code>from Crypto.Cipher import Blowfish\nimport binascii\n\n# See @falsetru answer for the following method\n#\ndef PKCS5Padding(string):\n    byteNum = len(string)\n    packingLength = 8 - byteNum % 8\n    appendage = chr(packingLength).encode() * packingLength\n    return string + appendage\n\ndef PandoraEncrypt(string):\n    key = b'6#26FRL$ZWD'\n    c1  = Blowfish.new(key, Blowfish.MODE_ECB)\n    packedString = PKCS5Padding(string)\n    return c1.encrypt(packedString)\n\ndef PandoraDecrypt(string):\n    key = b'6#26FRL$ZWD'\n    c1  = Blowfish.new(key, Blowfish.MODE_ECB)\n    decrypted = c1.decrypt(string)\n    last_byte = decrypted[-1]\n    decrypted_without_padding = decrypted[:-last_byte]\n    return decrypted_without_padding\n\nif __name__ == '__main__':\n    s = b'testings'\n    c = PandoraEncrypt(s)\n    d = PandoraDecrypt(c)\n    print(binascii.hexlify(c)) # b'223950ff19fbea872fce0ee543692ba7'\n    print(d) # b'testings'\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":1463101,"reputation":770,"user_id":1376831,"accept_rate":85,"display_name":"Hunter Larco"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6734,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17139643,"answer_count":3,"score":4,"last_activity_date":1684087635,"creation_date":1371391281,"question_id":17134100,"body_markdown":"I am struggling due to my incomplete knowledge of Java to convert this encryption code to Python code. The two should have the exact same results. Help would be greatly appreciated.\r\n\r\n*Java Function*\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.Key;\r\n\r\n\r\n    class Main\r\n    {\r\n    \tpublic static void main (String[] args) throws java.lang.Exception\r\n    \t{\r\n    \t\tString s = &quot;testings&quot;;\r\n    \t\tCipher cipher = Cipher.getInstance(&quot;Blowfish/ECB/PKCS5Padding&quot;);\r\n    \t\tKey key = new SecretKeySpec(&quot;6#26FRL$ZWD&quot;.getBytes(), &quot;Blowfish&quot;);\r\n    \t\tcipher.init(1, key);\r\n    \t\tbyte[] enc_bytes = cipher.doFinal(s.getBytes());\r\n    \t\tSystem.out.println(enc_bytes);\r\n    \t}\r\n    }\r\n\r\n*Python Equivalent*\r\n\r\n    def PKCS5Padding(string):\r\n    \tbyteNum = len(string)\r\n    \tpackingLength = 8 - byteNum % 8\r\n    \tif packingLength == 8:\r\n    \t\treturn string\r\n    \telse:\r\n    \t\tappendage = chr(packingLength) * packingLength\r\n    \t\treturn string + appendage\r\n\r\n    def PandoraEncrypt(string):\r\n    \tfrom Crypto.Cipher import Blowfish\r\n    \tkey = b&#39;6#26FRL$ZWD&#39;\r\n    \tc1  = Blowfish.new(key, Blowfish.MODE_ECB)\r\n    \tpackedString = PKCS5Padding(string)\r\n    \treturn c1.encrypt(packedString)\r\n\r\n**Results**\r\n\r\nJava Function: &quot;??&#190;&#244;&quot;\r\n\r\nPython Function: &quot;&#203;4A-&#190;`*&#227;&quot;","title":"Python Blowfish Encryption","body":"<p>I am struggling due to my incomplete knowledge of Java to convert this encryption code to Python code. The two should have the exact same results. Help would be greatly appreciated.</p>\n\n<p><em>Java Function</em></p>\n\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.Key;\n\n\nclass Main\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String s = \"testings\";\n        Cipher cipher = Cipher.getInstance(\"Blowfish/ECB/PKCS5Padding\");\n        Key key = new SecretKeySpec(\"6#26FRL$ZWD\".getBytes(), \"Blowfish\");\n        cipher.init(1, key);\n        byte[] enc_bytes = cipher.doFinal(s.getBytes());\n        System.out.println(enc_bytes);\n    }\n}\n</code></pre>\n\n<p><em>Python Equivalent</em></p>\n\n<pre><code>def PKCS5Padding(string):\n    byteNum = len(string)\n    packingLength = 8 - byteNum % 8\n    if packingLength == 8:\n        return string\n    else:\n        appendage = chr(packingLength) * packingLength\n        return string + appendage\n\ndef PandoraEncrypt(string):\n    from Crypto.Cipher import Blowfish\n    key = b'6#26FRL$ZWD'\n    c1  = Blowfish.new(key, Blowfish.MODE_ECB)\n    packedString = PKCS5Padding(string)\n    return c1.encrypt(packedString)\n</code></pre>\n\n<p><strong>Results</strong></p>\n\n<p>Java Function: \"??Â¾Ã´\"</p>\n\n<p>Python Function: \"Ã‹4A-Â¾`*Ã£\"</p>\n"},{"tags":["java","swing","timer"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1684063532,"post_id":76247061,"comment_id":134458990,"body_markdown":"Windows? Its timer usually has a default precision of about 15ms - probably related [Java Swing - Timer can&#39;t run faster than 15ms](https://stackoverflow.com/questions/71610514/java-swing-timer-cant-run-faster-than-16ms),  [high resolution timer in java](https://stackoverflow.com/questions/13129538/high-resolution-timer-in-java),  [Is it possible to make this Java timer have better than ~15 ms resolution?](https://stackoverflow.com/questions/25342872/is-it-possible-to-make-this-java-timer-have-better-than-15-ms-resolution)","body":"Windows? Its timer usually has a default precision of about 15ms - probably related <a href=\"https://stackoverflow.com/questions/71610514/java-swing-timer-cant-run-faster-than-16ms\">Java Swing - Timer can&#39;t run faster than 15ms</a>,  <a href=\"https://stackoverflow.com/questions/13129538/high-resolution-timer-in-java\">high resolution timer in java</a>,  <a href=\"https://stackoverflow.com/questions/25342872/is-it-possible-to-make-this-java-timer-have-better-than-15-ms-resolution\">Is it possible to make this Java timer have better than ~15 ms resolution?</a>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1684063781,"post_id":76247061,"comment_id":134459014,"body_markdown":"This, `Timer timer = new Timer(1, ...)` is unreasonable. No timer can work at the 1 ms level. Consider changing this to a more realistic value.","body":"This, <code>Timer timer = new Timer(1, ...)</code> is unreasonable. No timer can work at the 1 ms level. Consider changing this to a more realistic value."}],"owner":{"account_id":28598652,"reputation":1,"user_id":21896115,"display_name":"MaskedCat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684063836,"answer_count":0,"score":0,"last_activity_date":1684087546,"creation_date":1684061373,"question_id":76247061,"body_markdown":"I am new to this community and have a question about Java POO. It&#39;s about implementing a timer. The question is: why I cannot get a timer with a period of 1 ms. When I chose a period of e.g. 10 ms, everything works fine, but Java (or the computer?) looks like periods approaching 1 ms are ignored. The program (not really OOP oriented, sorry for that) should display a value every second. OK, I could use a delay of 1000 ms, but it must be also possible my way. I write another (graphics) application where the 1 ms period is important, but I chose this demo program to show to you. I my demo, a display is done only around every 10 seconds, but it should be 1 second.\r\n\r\n    \r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.Timer;\r\n\r\n    public class NewJFrame extends javax.swing.JFrame {\r\n\r\n    private int counter = 0;\r\n    \r\n    public NewJFrame() {\r\n        initComponents();\r\n        timer.start();\r\n    }\r\n\r\n    Timer timer = new Timer(1, new ActionListener() {\r\n        @Override\r\n        public void actionPerformed(ActionEvent e) {\r\n            counter++;\r\n            if (counter%1000==0)\r\n               jLabel1.setText(&quot;ping&quot;);\r\n        }\r\n    });\r\n    \r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \r\n    private void initComponents() {\r\n\r\n        jLabel1 = new javax.swing.JLabel();\r\n                setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\r\n\r\n        jLabel1.setText(&quot;jLabel1&quot;);\r\n\r\n        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\r\n        getContentPane().setLayout(layout);\r\n        layout.setHorizontalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(180, 180, 180)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(139, Short.MAX_VALUE))\r\n        );\r\n        layout.setVerticalGroup(\r\n            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\r\n            .addGroup(layout.createSequentialGroup()\r\n                .addGap(131, 131, 131)\r\n                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)\r\n                .addContainerGap(134, Short.MAX_VALUE))\r\n        );\r\n\r\n        pack();\r\n    }// &lt;/editor-fold&gt;                        \r\n\r\n    public static void main(String args[]) {\r\n        \r\n                new NewJFrame().setVisible(true);\r\n                \r\n    }\r\n\r\n    // Variables declaration - do not modify                     \r\n    private javax.swing.JLabel jLabel1;\r\n    // End of variables declaration                   \r\n    }\r\n\r\n\r\nI expect the timer to work with a minimal period of 1 ms, as described in the docs.","title":"Timer in Java Netbeans (with GUI builder) not working as it should","body":"<p>I am new to this community and have a question about Java POO. It's about implementing a timer. The question is: why I cannot get a timer with a period of 1 ms. When I chose a period of e.g. 10 ms, everything works fine, but Java (or the computer?) looks like periods approaching 1 ms are ignored. The program (not really OOP oriented, sorry for that) should display a value every second. OK, I could use a delay of 1000 ms, but it must be also possible my way. I write another (graphics) application where the 1 ms period is important, but I chose this demo program to show to you. I my demo, a display is done only around every 10 seconds, but it should be 1 second.</p>\n<pre><code>import java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.Timer;\n\npublic class NewJFrame extends javax.swing.JFrame {\n\nprivate int counter = 0;\n\npublic NewJFrame() {\n    initComponents();\n    timer.start();\n}\n\nTimer timer = new Timer(1, new ActionListener() {\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        counter++;\n        if (counter%1000==0)\n           jLabel1.setText(&quot;ping&quot;);\n    }\n});\n\n// &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;Generated Code&quot;&gt;                          \nprivate void initComponents() {\n\n    jLabel1 = new javax.swing.JLabel();\n            setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);\n\n    jLabel1.setText(&quot;jLabel1&quot;);\n\n    javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());\n    getContentPane().setLayout(layout);\n    layout.setHorizontalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(layout.createSequentialGroup()\n            .addGap(180, 180, 180)\n            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 81, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addContainerGap(139, Short.MAX_VALUE))\n    );\n    layout.setVerticalGroup(\n        layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)\n        .addGroup(layout.createSequentialGroup()\n            .addGap(131, 131, 131)\n            .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 35, javax.swing.GroupLayout.PREFERRED_SIZE)\n            .addContainerGap(134, Short.MAX_VALUE))\n    );\n\n    pack();\n}// &lt;/editor-fold&gt;                        \n\npublic static void main(String args[]) {\n    \n            new NewJFrame().setVisible(true);\n            \n}\n\n// Variables declaration - do not modify                     \nprivate javax.swing.JLabel jLabel1;\n// End of variables declaration                   \n}\n</code></pre>\n<p>I expect the timer to work with a minimal period of 1 ms, as described in the docs.</p>\n"},{"tags":["java","encryption","openssl","javax.crypto"],"comments":[{"owner":{"account_id":4186947,"reputation":535,"user_id":3430490,"accept_rate":57,"display_name":"Felipe Gutierrez"},"score":0,"creation_date":1439587111,"post_id":32018672,"comment_id":51940088,"body_markdown":"yes, I figure that. But it still not converting correct. I edit the question....","body":"yes, I figure that. But it still not converting correct. I edit the question...."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1439621960,"post_id":32018672,"comment_id":51946640,"body_markdown":"Your hex value `7573746f726530313233343536373839` is the characters `ustore0123456789` not `0123456789` plus nulls, and as @Artjom says \nyour Java does AES-128 ECB mode (and PKCS#5 padding which OpenSSL also does).\nFurther, the `echo` command (in bash a builtin) adds a newline to the data but your Java doesn&#39;t, and `openssl enc -a` encodes the result in base64 not hex. Fixing these: \n`echo -n lun01 |openssl aes-128-ecb -K 30313233343536373839000000000000 |od -tx1` gives `0000000 d2 30 b2 16 e9 d6 59 64 ab d4 09 2f 5c 45 5a 21` matching your Java result.","body":"Your hex value <code>7573746f726530313233343536373839</code> is the characters <code>ustore0123456789</code> not <code>0123456789</code> plus nulls, and as @Artjom says  your Java does AES-128 ECB mode (and PKCS#5 padding which OpenSSL also does). Further, the <code>echo</code> command (in bash a builtin) adds a newline to the data but your Java doesn&#39;t, and <code>openssl enc -a</code> encodes the result in base64 not hex. Fixing these:  <code>echo -n lun01 |openssl aes-128-ecb -K 30313233343536373839000000000000 |od -tx1</code> gives <code>0000000 d2 30 b2 16 e9 d6 59 64 ab d4 09 2f 5c 45 5a 21</code> matching your Java result."}],"answers":[{"tags":[],"owner":{"account_id":2033317,"reputation":61286,"user_id":1816580,"display_name":"Artjom B."},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684087130,"creation_date":1439587606,"answer_id":32018895,"question_id":32018672,"body_markdown":"If the countless online hex converters don&#39;t work for you, then you can simply print the key that you use in Java as hex. [Here][1] is a popular SO question regarding this *feat*.\r\n\r\nAfter you&#39;ve done that, you will see that it still doesn&#39;t work, because you&#39;re using different algorithms. \r\n\r\nWhen you use `Cipher.getInstance(&quot;AES&quot;);` it will most likely default to &quot;AES/ECB/PKCS5Padding&quot; which is not the same as &quot;aes-256-cbc&quot;, because ECB and CBC are two entirely different [modes of operation][2]. To prevent this ambiguity always fully qualify your ciphers, e.g.: `Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);`.\r\n\r\nThen the key that you generate in Java is only 16 bytes long, so the matching cipher in OpenSSL would be &quot;aes-128-ecb&quot;.\r\n\r\nAs dave_thompson_085 said in a [comment][3]:\r\n\r\n- `echo` adds a newline character which your Java code does not add. You would need to create the plaintext in this way: `echo -n &quot;lun01&quot;`. Or see [this][4] if you&#39;re on Windows.\r\n\r\n- Your Java code outputs the result as hex, so you need to do the same in OpenSSL. You need to remove the `-a` option in the OpenSSL command to prevent Base64 encoding and then you can utilize additional commandline tools such as `od` on linux to convert the binary output data to hex with `od -tx1`.\r\n\r\n- Full command:\r\n\r\n        echo -n lun01 |openssl aes-128-ecb -K 30313233343536373839000000000000 |od -tx1\r\n\r\n# Security Recommendations\r\n\r\nDon&#39;t use ECB mode! It&#39;s not semantically secure. You need to use at least CBC mode with a random IV (check that it&#39;s random and not just zero bytes).\r\n\r\nEven better would be to add authentication by for example adding an HMAC tag with an encrypt-then-MAC approach or simply using an authenticated mode like GCM.\r\n\r\n# Additional info\r\n\r\nIf you&#39;re using anything other than ECB, then you cannot encrypt the same thing in both versions and expect that the same ciphertext appears. Since it is randomized, you would need to encrypt in one version and decrypt in the other to ensure compatibility.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/9655181\r\n  [2]: https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\r\n  [3]: https://stackoverflow.com/questions/32018672/encrypt-using-openssl-in-the-same-way-java-does#comment51946640_32018672\r\n  [4]: https://stackoverflow.com/questions/7105433/windows-batch-echo-without-new-line","title":"Encrypt using OpenSSL in the same way Java does","body":"<p>If the countless online hex converters don't work for you, then you can simply print the key that you use in Java as hex. <a href=\"https://stackoverflow.com/q/9655181\">Here</a> is a popular SO question regarding this <em>feat</em>.</p>\n<p>After you've done that, you will see that it still doesn't work, because you're using different algorithms.</p>\n<p>When you use <code>Cipher.getInstance(&quot;AES&quot;);</code> it will most likely default to &quot;AES/ECB/PKCS5Padding&quot; which is not the same as &quot;aes-256-cbc&quot;, because ECB and CBC are two entirely different <a href=\"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation\" rel=\"nofollow noreferrer\">modes of operation</a>. To prevent this ambiguity always fully qualify your ciphers, e.g.: <code>Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);</code>.</p>\n<p>Then the key that you generate in Java is only 16 bytes long, so the matching cipher in OpenSSL would be &quot;aes-128-ecb&quot;.</p>\n<p>As dave_thompson_085 said in a <a href=\"https://stackoverflow.com/questions/32018672/encrypt-using-openssl-in-the-same-way-java-does#comment51946640_32018672\">comment</a>:</p>\n<ul>\n<li><p><code>echo</code> adds a newline character which your Java code does not add. You would need to create the plaintext in this way: <code>echo -n &quot;lun01&quot;</code>. Or see <a href=\"https://stackoverflow.com/questions/7105433/windows-batch-echo-without-new-line\">this</a> if you're on Windows.</p>\n</li>\n<li><p>Your Java code outputs the result as hex, so you need to do the same in OpenSSL. You need to remove the <code>-a</code> option in the OpenSSL command to prevent Base64 encoding and then you can utilize additional commandline tools such as <code>od</code> on linux to convert the binary output data to hex with <code>od -tx1</code>.</p>\n</li>\n<li><p>Full command:</p>\n<pre><code>  echo -n lun01 |openssl aes-128-ecb -K 30313233343536373839000000000000 |od -tx1\n</code></pre>\n</li>\n</ul>\n<h1>Security Recommendations</h1>\n<p>Don't use ECB mode! It's not semantically secure. You need to use at least CBC mode with a random IV (check that it's random and not just zero bytes).</p>\n<p>Even better would be to add authentication by for example adding an HMAC tag with an encrypt-then-MAC approach or simply using an authenticated mode like GCM.</p>\n<h1>Additional info</h1>\n<p>If you're using anything other than ECB, then you cannot encrypt the same thing in both versions and expect that the same ciphertext appears. Since it is randomized, you would need to encrypt in one version and decrypt in the other to ensure compatibility.</p>\n"}],"owner":{"account_id":4186947,"reputation":535,"user_id":3430490,"accept_rate":57,"display_name":"Felipe Gutierrez"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10032,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":1,"score":6,"last_activity_date":1684087130,"creation_date":1439586489,"question_id":32018672,"body_markdown":"I have to encrypt an string using bash script in the same way I encrypt using javax.crypto.Cipher. At java I use AES-256 with the key &quot;0123456789&quot;. But When I use openssl I had to convert &quot;0123456789&quot; to hex, but the result is not the same of the java\r\n\r\n    echo &quot;lun01&quot; | openssl aes-256-cbc -e -a -K 7573746f726530313233343536373839 -iv 7573746f726530313233343536373839\r\n\r\ndpMyN7L5HI8VZEs1biQJ7g==\r\n\r\nJava:\r\n\r\n    public class CryptUtil {\r\n    \tpublic static final String DEFAULT_KEY = &quot;0123456789&quot;;\r\n    \t\r\n    \tprivate static CryptUtil instance;\r\n    \t\r\n    \tprivate String chiperKey;\r\n    \r\n    \tprivate CryptUtil(String chiperKey) {\r\n    \t\tthis.chiperKey = chiperKey;\r\n    \t}\r\n    \r\n    \tpublic static CryptUtil getInstance() {\r\n    \t\tif (null == instance) {\r\n    \t\t\tinstance = new CryptUtil(DEFAULT_KEY);\r\n    \t\t}\r\n    \r\n    \t\treturn instance;\r\n    \t}\r\n    \r\n    \tpublic static CryptUtil getInstance(String cipherkey) {\r\n    \t\tinstance = new CryptUtil(cipherkey);\r\n    \t\treturn instance;\r\n    \t}\r\n    \t\r\n    \tpublic String aesEncrypt(String plainText) {\r\n    \t\t\tbyte[] keyBytes = Arrays.copyOf(this.chiperKey.getBytes(&quot;ASCII&quot;), 16);\r\n    \r\n    \t\t\tSecretKey key = new SecretKeySpec(keyBytes, &quot;AES&quot;);\r\n    \t\t\tCipher cipher = Cipher.getInstance(&quot;AES&quot;);\r\n    \t\t\tcipher.init(Cipher.ENCRYPT_MODE, key);\r\n    \r\n    \t\t\tbyte[] cleartext = plainText.getBytes(&quot;UTF-8&quot;);\r\n    \t\t\tbyte[] ciphertextBytes = cipher.doFinal(cleartext);\r\n    \t\t\tfinal char[] encodeHex = Hex.encodeHex(ciphertextBytes);\r\n    \r\n    \t\t\treturn new String(encodeHex);\r\n    \r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tCryptUtil cryptUtil = CryptUtil.getInstance();\r\n    \t\tSystem.out.println(cryptUtil.aesEncrypt(&quot;lun01&quot;));\r\n    \t}\r\n    }\r\n\r\nd230b216e9d65964abd4092f5c455a21","title":"Encrypt using OpenSSL in the same way Java does","body":"<p>I have to encrypt an string using bash script in the same way I encrypt using javax.crypto.Cipher. At java I use AES-256 with the key \"0123456789\". But When I use openssl I had to convert \"0123456789\" to hex, but the result is not the same of the java</p>\n\n<pre><code>echo \"lun01\" | openssl aes-256-cbc -e -a -K 7573746f726530313233343536373839 -iv 7573746f726530313233343536373839\n</code></pre>\n\n<p>dpMyN7L5HI8VZEs1biQJ7g==</p>\n\n<p>Java:</p>\n\n<pre><code>public class CryptUtil {\n    public static final String DEFAULT_KEY = \"0123456789\";\n\n    private static CryptUtil instance;\n\n    private String chiperKey;\n\n    private CryptUtil(String chiperKey) {\n        this.chiperKey = chiperKey;\n    }\n\n    public static CryptUtil getInstance() {\n        if (null == instance) {\n            instance = new CryptUtil(DEFAULT_KEY);\n        }\n\n        return instance;\n    }\n\n    public static CryptUtil getInstance(String cipherkey) {\n        instance = new CryptUtil(cipherkey);\n        return instance;\n    }\n\n    public String aesEncrypt(String plainText) {\n            byte[] keyBytes = Arrays.copyOf(this.chiperKey.getBytes(\"ASCII\"), 16);\n\n            SecretKey key = new SecretKeySpec(keyBytes, \"AES\");\n            Cipher cipher = Cipher.getInstance(\"AES\");\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n\n            byte[] cleartext = plainText.getBytes(\"UTF-8\");\n            byte[] ciphertextBytes = cipher.doFinal(cleartext);\n            final char[] encodeHex = Hex.encodeHex(ciphertextBytes);\n\n            return new String(encodeHex);\n\n        return null;\n    }\n\n    public static void main(String[] args) {\n\n        CryptUtil cryptUtil = CryptUtil.getInstance();\n        System.out.println(cryptUtil.aesEncrypt(\"lun01\"));\n    }\n}\n</code></pre>\n\n<p>d230b216e9d65964abd4092f5c455a21</p>\n"},{"tags":["java","encoding","compression","transmission"],"comments":[{"owner":{"account_id":2028868,"reputation":5918,"user_id":1813169,"accept_rate":70,"display_name":"MTCoster"},"score":1,"creation_date":1545786500,"post_id":53926612,"comment_id":94694738,"body_markdown":"You could look at a common compression scheme like deflate (used for .zip files) which has an implementation in Javaâ€™s standard libraries ([`Deflater`](https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html))","body":"You could look at a common compression scheme like deflate (used for .zip files) which has an implementation in Javaâ€™s standard libraries (<a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/zip/Deflater.html\" rel=\"nofollow noreferrer\"><code>Deflater</code></a>)"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1545786577,"post_id":53926612,"comment_id":94694747,"body_markdown":"Have you considered using something like [MessagePack](https://msgpack.org/index.html)? Or maybe just simply compressing the text through a zip compression and converting it to base64?","body":"Have you considered using something like <a href=\"https://msgpack.org/index.html\" rel=\"nofollow noreferrer\">MessagePack</a>? Or maybe just simply compressing the text through a zip compression and converting it to base64?"},{"owner":{"account_id":4362282,"reputation":92954,"user_id":3558960,"accept_rate":60,"display_name":"Robby Cornelissen"},"score":1,"creation_date":1545786652,"post_id":53926612,"comment_id":94694752,"body_markdown":"[CBOR](http://cbor.io/) could be an option. And then base64 it if you don&#39;t want to send binary","body":"<a href=\"http://cbor.io/\" rel=\"nofollow noreferrer\">CBOR</a> could be an option. And then base64 it if you don&#39;t want to send binary"},{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1545788116,"post_id":53926612,"comment_id":94694889,"body_markdown":"If you had a limited number of possible values for the parts in quotes, and also knew that the parts after each colon was a number within a certain range; then you could take advantage of that to express this in a shorter string.","body":"If you had a limited number of possible values for the parts in quotes, and also knew that the parts after each colon was a number within a certain range; then you could take advantage of that to express this in a shorter string."},{"owner":{"account_id":1074771,"reputation":1325,"user_id":1073157,"accept_rate":50,"display_name":"Dan Rayson"},"score":0,"creation_date":1670967098,"post_id":53926612,"comment_id":131994507,"body_markdown":"Something I did was convert the string to a zip stream, and convert the bytes back into base64 string.  Then can convert back to bytes, unzip, and there&#39;s your string.  I did that in C# though :(  no java code.  I also added a param &quot;max length&quot; so an exception is thrown if I went over the length string I wanted.","body":"Something I did was convert the string to a zip stream, and convert the bytes back into base64 string.  Then can convert back to bytes, unzip, and there&#39;s your string.  I did that in C# though :(  no java code.  I also added a param &quot;max length&quot; so an exception is thrown if I went over the length string I wanted."}],"answers":[{"tags":[],"owner":{"account_id":12096730,"reputation":300,"user_id":10830215,"display_name":"Sal"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1545853120,"creation_date":1545787339,"answer_id":53926669,"question_id":53926612,"body_markdown":"Consider the mathematics of attempting to convert some X-character string to a Y-character string, such that X &gt; Y (i.e. you&#39;re trying to shorten the length of the string). \r\n\r\nThen, let&#39;s say that the string is alphanumeric; this gives us 26 possible lowercase letters, 26 possible uppercase letters, and 10 possible numbers that we can use (i.e. 62 possibilities). This means that for an X-character string, we would have 62^X possible strings, and for a Y-character string, we would have 62^Y possible strings.\r\n\r\nNow, consider if we try to **map** all of our X-character strings to our Y-character strings. Let&#39;s let the function f(S) map a string S (an X-character string) to a Y-character string. Then, because X &gt; Y, we will necessarily have to map some X-character strings to some of the same Y-character strings. Consider the following simple example:\r\n\r\nX = 3. Y = 2.\r\nThen, we have 62^3 possible 3-character strings (238,000), and 62^2 (3800) possible Y-character strings. Then, we have 234,000 more 3-character strings than 2-character strings. \r\n\r\nNow, imagine we tried to have some function f(S) where we tried to make every 3-character string into a 2-character string. Then, we&#39;d naturally have an issue when we tried to convert a 2-character string back into a 3-character string, because this means that f(S) must convert some 3-character strings into the same string (so we couldn&#39;t know which one to map back to!). This is because the domain of 2-character strings is less than the domain of 3-character strings (and occurs because f(S) then cannot be injective, meaning there is no valid inverse).\r\n\r\nThus, there aren&#39;t enough 2-character strings to possibly map back to every 3-character string, and you&#39;ll find that this generalizes to all X &gt; Y. \r\n\r\nYou could possibly restrict some characters from the domain of your larger strings, though exactly as you have stated the problem, this is not possible.\r\n\r\nEdit, because I feel as though I should mention this: There are algorithms used to compress strings of lesser characters to smaller strings of more characters. With that being said, I&#39;d recommend taking a look at this:\r\nhttps://stackoverflow.com/questions/1138345/an-efficient-compression-algorithm-for-short-text-strings","title":"Is there a way to compress a string into a smaller string with reversibility?","body":"<p>Consider the mathematics of attempting to convert some X-character string to a Y-character string, such that X > Y (i.e. you're trying to shorten the length of the string). </p>\n\n<p>Then, let's say that the string is alphanumeric; this gives us 26 possible lowercase letters, 26 possible uppercase letters, and 10 possible numbers that we can use (i.e. 62 possibilities). This means that for an X-character string, we would have 62^X possible strings, and for a Y-character string, we would have 62^Y possible strings.</p>\n\n<p>Now, consider if we try to <strong>map</strong> all of our X-character strings to our Y-character strings. Let's let the function f(S) map a string S (an X-character string) to a Y-character string. Then, because X > Y, we will necessarily have to map some X-character strings to some of the same Y-character strings. Consider the following simple example:</p>\n\n<p>X = 3. Y = 2.\nThen, we have 62^3 possible 3-character strings (238,000), and 62^2 (3800) possible Y-character strings. Then, we have 234,000 more 3-character strings than 2-character strings. </p>\n\n<p>Now, imagine we tried to have some function f(S) where we tried to make every 3-character string into a 2-character string. Then, we'd naturally have an issue when we tried to convert a 2-character string back into a 3-character string, because this means that f(S) must convert some 3-character strings into the same string (so we couldn't know which one to map back to!). This is because the domain of 2-character strings is less than the domain of 3-character strings (and occurs because f(S) then cannot be injective, meaning there is no valid inverse).</p>\n\n<p>Thus, there aren't enough 2-character strings to possibly map back to every 3-character string, and you'll find that this generalizes to all X > Y. </p>\n\n<p>You could possibly restrict some characters from the domain of your larger strings, though exactly as you have stated the problem, this is not possible.</p>\n\n<p>Edit, because I feel as though I should mention this: There are algorithms used to compress strings of lesser characters to smaller strings of more characters. With that being said, I'd recommend taking a look at this:\n<a href=\"https://stackoverflow.com/questions/1138345/an-efficient-compression-algorithm-for-short-text-strings\">An efficient compression algorithm for short text strings</a></p>\n"},{"tags":[],"owner":{"account_id":14533047,"reputation":847,"user_id":10497351,"display_name":"chang_trenton"},"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1545787784,"creation_date":1545787784,"answer_id":53926689,"question_id":53926612,"body_markdown":"First, hopefully it&#39;s clear that there does not exist any lossless compression algorithm that can take an arbitrary string of length n and always compress it to a unique, shorter string. That&#39;s a fact of math.\r\n\r\nThat being said, there&#39;s some popular algorithms that work pretty well:\r\n\r\n[Huffman encoding](https://en.wikipedia.org/wiki/Huffman_coding): fairly beginner-friendly and possible to implement yourself. The basic idea is to map more common characters to shorter binary strings and less common ones to longer binary strings, and then package that with a map that tells you how to decode the resultant bitstring. The downside is the extra space you need to store the decoding instructions\r\n\r\n[Lempel-Ziv](https://www.geeksforgeeks.org/lzw-lempel-ziv-welch-compression-technique/): I&#39;ve never implemented this myself, but it&#39;s the basis for a lot of common file formats we know today, like GIFs. There should be libraries out there for this.","title":"Is there a way to compress a string into a smaller string with reversibility?","body":"<p>First, hopefully it's clear that there does not exist any lossless compression algorithm that can take an arbitrary string of length n and always compress it to a unique, shorter string. That's a fact of math.</p>\n\n<p>That being said, there's some popular algorithms that work pretty well:</p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Huffman_coding\" rel=\"noreferrer\">Huffman encoding</a>: fairly beginner-friendly and possible to implement yourself. The basic idea is to map more common characters to shorter binary strings and less common ones to longer binary strings, and then package that with a map that tells you how to decode the resultant bitstring. The downside is the extra space you need to store the decoding instructions</p>\n\n<p><a href=\"https://www.geeksforgeeks.org/lzw-lempel-ziv-welch-compression-technique/\" rel=\"noreferrer\">Lempel-Ziv</a>: I've never implemented this myself, but it's the basis for a lot of common file formats we know today, like GIFs. There should be libraries out there for this.</p>\n"},{"tags":[],"owner":{"account_id":1136690,"reputation":104411,"user_id":1180620,"accept_rate":83,"display_name":"Mark Adler"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545863290,"creation_date":1545863290,"answer_id":53937815,"question_id":53926612,"body_markdown":"Let&#39;s start with your example as a characterization of your vague &quot;much smaller&quot;. You compress 107 characters (856 bits) into eight alphanumeric characters, which appear anyway to be limited to 36 possibilities for each character. I&#39;ll be generous, and assume that capital letters are permitted as well, and maybe two punctuation characters for spice, bumping it up to 64 possible characters. So that&#39;s six bits per character times eight characters, or 48 bits. That&#39;s a factor of 18 compression. No, you&#39;re not going to get that losslessly, at least not without a huge amount of redundancy in the data not evidenced in the example. I&#39;ll be generous again and assume the messages being compressed are limited to 96 possible ASCII characters (say, removing 127 and including new line). Then the message is 705 bits, with a factor of almost 15 compression to get to 48 bits. Still not happening.\r\n\r\nLossless compression comes from statistical bias and redundancy. Statistical bias is the prevalence of some symbols over others, and redundancy is repeated patterns in the data, e.g. repeated substrings, like &quot;itude&quot; and &quot;500,&quot; in your example. To get good compression you need those things to exploit, and you need a lot of data to be able to take advantage of them. Short strings like your example will hardly compress or often not compress at all, if taken in isolation.\r\n\r\nWhat you could try would be to maintain a compression context and associated decompressed context on the other end, through which you send a series of messages in a well-defined order. I.e. they need to be decompressed in the same order that they were compressed. Then you would be able to take advantage of redundancy and bias over many messages, and possibly get some decent compression. If those same JSON properties keep reappearing, and better yet, if they often have the same values, then you could get significant compression.\r\n\r\nThe flush operation of, for example, zlib, would allow sending the data compressed so far in order to avoid latency that the compressor would otherwise introduce to build up a block. You would want to avoid flushes if possible, since they reduce compression. So you could have a time limit for how long you&#39;re willing to wait for another message to transmit before flushing out the last one to send.","title":"Is there a way to compress a string into a smaller string with reversibility?","body":"<p>Let's start with your example as a characterization of your vague \"much smaller\". You compress 107 characters (856 bits) into eight alphanumeric characters, which appear anyway to be limited to 36 possibilities for each character. I'll be generous, and assume that capital letters are permitted as well, and maybe two punctuation characters for spice, bumping it up to 64 possible characters. So that's six bits per character times eight characters, or 48 bits. That's a factor of 18 compression. No, you're not going to get that losslessly, at least not without a huge amount of redundancy in the data not evidenced in the example. I'll be generous again and assume the messages being compressed are limited to 96 possible ASCII characters (say, removing 127 and including new line). Then the message is 705 bits, with a factor of almost 15 compression to get to 48 bits. Still not happening.</p>\n\n<p>Lossless compression comes from statistical bias and redundancy. Statistical bias is the prevalence of some symbols over others, and redundancy is repeated patterns in the data, e.g. repeated substrings, like \"itude\" and \"500,\" in your example. To get good compression you need those things to exploit, and you need a lot of data to be able to take advantage of them. Short strings like your example will hardly compress or often not compress at all, if taken in isolation.</p>\n\n<p>What you could try would be to maintain a compression context and associated decompressed context on the other end, through which you send a series of messages in a well-defined order. I.e. they need to be decompressed in the same order that they were compressed. Then you would be able to take advantage of redundancy and bias over many messages, and possibly get some decent compression. If those same JSON properties keep reappearing, and better yet, if they often have the same values, then you could get significant compression.</p>\n\n<p>The flush operation of, for example, zlib, would allow sending the data compressed so far in order to avoid latency that the compressor would otherwise introduce to build up a block. You would want to avoid flushes if possible, since they reduce compression. So you could have a time limit for how long you're willing to wait for another message to transmit before flushing out the last one to send.</p>\n"}],"owner":{"account_id":11505718,"reputation":103,"user_id":8432039,"display_name":"Adam Frank"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25959,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1684085863,"creation_date":1545786113,"question_id":53926612,"body_markdown":"I am trying to transmit strings over the iridium network, and the costs of sending data is pretty large. I am wondering if there is a way to compress a large string, for example:\r\n&lt;code&gt;\r\n{&quot;packet&quot;:01,&quot;reporting time&quot;:1500, &quot;altitude&quot;:6500,&quot;latitude&quot;:0,&quot;longitude&quot;: 0,&quot;ballast&quot;:34,&quot;parachute&quot;:0}\r\n&lt;/code&gt;\r\n\r\ninto a much smaller string, like:\r\n&lt;code&gt; f5fk43d2 &lt;/code&gt;\r\n. The process must be reversible, so that the data can be decoded and read on the other end. Is this possible, if so, how would I go about doing this.\r\n\r\n\r\nI have tried this answer by j.w.r: https://stackoverflow.com/questions/6299574/shortening-a-string-in-java/6299650#6299650 , however it seems irreversible. It does convert a large string into a smaller one.\r\n\r\nThe process must result in a string smaller than the original.\r\n\r\nAny help is appreciated!\r\n\r\n","title":"Is there a way to compress a string into a smaller string with reversibility?","body":"<p>I am trying to transmit strings over the iridium network, and the costs of sending data is pretty large. I am wondering if there is a way to compress a large string, for example:\n<code>\n{\"packet\":01,\"reporting time\":1500, \"altitude\":6500,\"latitude\":0,\"longitude\": 0,\"ballast\":34,\"parachute\":0}\n</code></p>\n\n<p>into a much smaller string, like:\n<code> f5fk43d2 </code>\n. The process must be reversible, so that the data can be decoded and read on the other end. Is this possible, if so, how would I go about doing this.</p>\n\n<p>I have tried this answer by j.w.r: <a href=\"https://stackoverflow.com/questions/6299574/shortening-a-string-in-java/6299650#6299650\">Shortening a string in Java</a> , however it seems irreversible. It does convert a large string into a smaller one.</p>\n\n<p>The process must result in a string smaller than the original.</p>\n\n<p>Any help is appreciated!</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"owner":{"account_id":19769096,"reputation":85,"user_id":14476439,"display_name":"HelpAGirlOut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684084486,"creation_date":1684075256,"question_id":76248054,"body_markdown":"I created new folder, &quot;poster&quot;, under /src/main/resources, &amp; so I want to store any images I upload to a form to be stored in /src/main/resources. Is there a simple way to do it? \r\nI dont really understand the methods online.. Appreciate any help! \r\n\r\n\r\nThis is the class that handles renaming the file and saving it.. I got this error \r\n-&gt; Error: class path resource [src/main/resources/poster] cannot be resolved to URL because it does not exist\r\n\r\n\r\nThis is my MovieService class \r\n```\r\n@Service\r\npublic class MovieService {\r\n\t\r\n\t@Autowired\r\n\tprivate MovieRepository movieRepo; \r\n\t@Autowired \r\n\tServletContext ctx;\r\n\r\n\r\n\t@Autowired\r\n\tprivate ResourceLoader resourceLoader;\r\n\r\n\tpublic String addMovie(Movie movie, MultipartFile photo) throws IOException {\r\n\t    String filename = &quot;&quot;;\r\n\r\n\t    try {\r\n\t        // Get the resource URL\r\n\t        Resource resource = resourceLoader.getResource(&quot;classpath:src/main/resources/poster&quot;);\r\n\t        URL resourceUrl = resource.getURL();\r\n\r\n\t        // Convert URL to file path\r\n\t        String basePath = resourceUrl.getPath();\r\n\t        String filePath = basePath + &quot;/&quot; + filename;\r\n\r\n\t        // Copy the file input stream to the destination\r\n\t        Files.copy(photo.getInputStream(), Paths.get(filePath), StandardCopyOption.REPLACE_EXISTING);\r\n\r\n\t        // Save the file into the repository\r\n\t        movie.setPoster(&quot;/poster/&quot; + filename);\r\n\t        movieRepo.save(movie);\r\n\r\n\t        System.out.println(filename);\r\n\t    } catch (Exception ex) {\r\n\t        System.err.println(&quot;Error: &quot; + ex.getMessage());\r\n\t        System.err.println(filename);\r\n\t    }\r\n\r\n\t    return &quot;addMovie&quot;;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\naddMovie.html\r\n```\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n\t&lt;title&gt;Add Movies&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n&lt;div class=&quot;container&quot;&gt;\r\n    &lt;h3 class=&quot;text-center heading&quot;&gt;Add New Movie&lt;/h3&gt;\r\n    &lt;div class=&quot;row&quot;&gt;\r\n        &lt;div class=&quot;col-sm-7&quot;&gt;\r\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/dashboard/movies/add-movie}&quot; method=&quot;post&quot; th:object=&quot;${movie}&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                &lt;div class=&quot;form-group form-row&quot;&gt;\r\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Movie Name&lt;/label&gt;\r\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;m_title&quot; placeholder=&quot;Movie Name&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group form-row&quot;&gt;\r\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Release Date&lt;/label&gt;\r\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                        &lt;input type=&quot;date&quot; required class=&quot;form-control&quot; name=&quot;reldate&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group form-row&quot;&gt;\r\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Duration&lt;/label&gt;\r\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                        &lt;textarea name=&quot;duration&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group form-row&quot;&gt;\r\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Photo&lt;/label&gt;\r\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                       &lt;input type=&quot;file&quot; accept=&quot;.jpg,.png&quot; required class=&quot;form-control-file&quot; name=&quot;photo&quot;&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                &lt;div class=&quot;form-group form-row&quot;&gt;\r\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Description :&lt;/label&gt;\r\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\r\n                        &lt;textarea name=&quot;descr&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n                \r\n                &lt;input type=&quot;submit&quot; class=&quot;btn btn-success btn-sm&quot; value=&quot;Add Movie&quot;&gt;            \r\n            &lt;/form&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n&lt;/div&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```","title":"how can I upload an image &amp; store it in a local folder in springboot?","body":"<p>I created new folder, &quot;poster&quot;, under /src/main/resources, &amp; so I want to store any images I upload to a form to be stored in /src/main/resources. Is there a simple way to do it?\nI dont really understand the methods online.. Appreciate any help!</p>\n<p>This is the class that handles renaming the file and saving it.. I got this error\n-&gt; Error: class path resource [src/main/resources/poster] cannot be resolved to URL because it does not exist</p>\n<p>This is my MovieService class</p>\n<pre><code>@Service\npublic class MovieService {\n    \n    @Autowired\n    private MovieRepository movieRepo; \n    @Autowired \n    ServletContext ctx;\n\n\n    @Autowired\n    private ResourceLoader resourceLoader;\n\n    public String addMovie(Movie movie, MultipartFile photo) throws IOException {\n        String filename = &quot;&quot;;\n\n        try {\n            // Get the resource URL\n            Resource resource = resourceLoader.getResource(&quot;classpath:src/main/resources/poster&quot;);\n            URL resourceUrl = resource.getURL();\n\n            // Convert URL to file path\n            String basePath = resourceUrl.getPath();\n            String filePath = basePath + &quot;/&quot; + filename;\n\n            // Copy the file input stream to the destination\n            Files.copy(photo.getInputStream(), Paths.get(filePath), StandardCopyOption.REPLACE_EXISTING);\n\n            // Save the file into the repository\n            movie.setPoster(&quot;/poster/&quot; + filename);\n            movieRepo.save(movie);\n\n            System.out.println(filename);\n        } catch (Exception ex) {\n            System.err.println(&quot;Error: &quot; + ex.getMessage());\n            System.err.println(filename);\n        }\n\n        return &quot;addMovie&quot;;\n    }\n    \n}\n</code></pre>\n<p>addMovie.html</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n    &lt;title&gt;Add Movies&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n\n&lt;div class=&quot;container&quot;&gt;\n    &lt;h3 class=&quot;text-center heading&quot;&gt;Add New Movie&lt;/h3&gt;\n    &lt;div class=&quot;row&quot;&gt;\n        &lt;div class=&quot;col-sm-7&quot;&gt;\n            &lt;form action=&quot;#&quot; th:action=&quot;@{/dashboard/movies/add-movie}&quot; method=&quot;post&quot; th:object=&quot;${movie}&quot; enctype=&quot;multipart/form-data&quot;&gt;\n                &lt;div class=&quot;form-group form-row&quot;&gt;\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Movie Name&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; name=&quot;m_title&quot; placeholder=&quot;Movie Name&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group form-row&quot;&gt;\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Release Date&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\n                        &lt;input type=&quot;date&quot; required class=&quot;form-control&quot; name=&quot;reldate&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group form-row&quot;&gt;\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Duration&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\n                        &lt;textarea name=&quot;duration&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group form-row&quot;&gt;\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Photo&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\n                       &lt;input type=&quot;file&quot; accept=&quot;.jpg,.png&quot; required class=&quot;form-control-file&quot; name=&quot;photo&quot;&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                &lt;div class=&quot;form-group form-row&quot;&gt;\n                    &lt;label class=&quot;col-sm-4 col-form-label&quot;&gt;Description :&lt;/label&gt;\n                    &lt;div class=&quot;col-sm-8&quot;&gt;\n                        &lt;textarea name=&quot;descr&quot; class=&quot;form-control&quot;&gt;&lt;/textarea&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n                \n                &lt;input type=&quot;submit&quot; class=&quot;btn btn-success btn-sm&quot; value=&quot;Add Movie&quot;&gt;            \n            &lt;/form&gt;\n        &lt;/div&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","docker","maven","amazon-dynamodb"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684083588,"creation_date":1684083588,"answer_id":76248698,"question_id":76247744,"body_markdown":"If you haven&#39;t defined a custom port for DynamoDB it defaults to port `8000`:\r\n`http://127.0.0.1:8000`\r\n","title":"Running local dynamodb (docker) using Maven plugin io.fabric8","body":"<p>If you haven't defined a custom port for DynamoDB it defaults to port <code>8000</code>:\n<code>http://127.0.0.1:8000</code></p>\n"}],"owner":{"account_id":181187,"reputation":23168,"user_id":415016,"accept_rate":29,"display_name":"balderman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684083588,"creation_date":1684071314,"question_id":76247744,"body_markdown":"Using Maven I want to start local dynamodb (using docker) before IT (Integration Test) and stop it after IT is done.  \r\n\r\nI can see that the server start (I am looking at Docker Desktop and I see that the container is alive).  \r\n\r\nHowever the IT code can not connect to the server.  \r\nRelevant code fragments below:  \r\nMaven:\r\n\r\n       &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;${failsafe.jacoco.args}&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                            &lt;goal&gt;verify&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\r\n                &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.42.0&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;start-dynamodb-local&lt;/id&gt;\r\n                        &lt;phase&gt;pre-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;start&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;images&gt;\r\n                                &lt;image&gt;\r\n                                    &lt;name&gt;amazon/dynamodb-local&lt;/name&gt;\r\n                                    &lt;alias&gt;dynamodb-local&lt;/alias&gt;\r\n                                    &lt;run&gt;\r\n                                        &lt;ports&gt;\r\n                                            &lt;port&gt;1234:1234&lt;/port&gt;\r\n                                        &lt;/ports&gt;\r\n                                        &lt;wait&gt;\r\n                                            &lt;log&gt;Initializing DynamoDB Local with the following configuration:&lt;/log&gt;\r\n                                            &lt;time&gt;1000&lt;/time&gt;\r\n                                        &lt;/wait&gt;\r\n                                    &lt;/run&gt;\r\n                                &lt;/image&gt;\r\n                            &lt;/images&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;stop-dynamodb-local&lt;/id&gt;\r\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;stop&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;images&gt;\r\n                                &lt;image&gt;\r\n                                    &lt;name&gt;amazon/dynamodb-local&lt;/name&gt;\r\n                                    &lt;alias&gt;dynamodb-local&lt;/alias&gt;\r\n                                &lt;/image&gt;\r\n                            &lt;/images&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nJava Code:\r\n\r\n        System.out.println(String.format(&quot;DynamoDB url: %s&quot;, dynamoURL));\r\n        AwsClientBuilder.EndpointConfiguration endpointConfig = new AwsClientBuilder.EndpointConfiguration(dynamoURL,null);\r\n        AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()\r\n                .withEndpointConfiguration(endpointConfig)\r\n                .build();\r\nThe code prints `DynamoDB url: http://127.0.0.1:1234`\r\nThe exception is:  \r\n\r\n    com.amazonaws.SdkClientException: Unable to execute HTTP request: The target server failed to respond\r\n            at com.p81.delta.gw.DynamoDBPersistenceManagerIT.createTable(DynamoDBPersistenceManagerIT.java:48)\r\n            at com.p81.delta.gw.DynamoDBPersistenceManagerIT.before(DynamoDBPersistenceManagerIT.java:37)\r\n    Caused by: org.apache.http.NoHttpResponseException: The target server failed to respond\r\n            at com.p81.delta.gw.DynamoDBPersistenceManagerIT.createTable(DynamoDBPersistenceManagerIT.java:48)\r\n            at com.p81.delta.gw.DynamoDBPersistenceManagerIT.before(DynamoDBPersistenceManagerIT.java:37)\r\n\r\nAny idea what the Java code fail to connect to the local dynamodb?\r\n\r\nthanks\r\n\r\n## Update \r\nChanging the port from 1234 to 8000 solved the problem\r\n\r\n\r\n\r\n","title":"Running local dynamodb (docker) using Maven plugin io.fabric8","body":"<p>Using Maven I want to start local dynamodb (using docker) before IT (Integration Test) and stop it after IT is done.</p>\n<p>I can see that the server start (I am looking at Docker Desktop and I see that the container is alive).</p>\n<p>However the IT code can not connect to the server.<br />\nRelevant code fragments below:<br />\nMaven:</p>\n<pre><code>   &lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.22.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;${failsafe.jacoco.args}&lt;/argLine&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\n                        &lt;goal&gt;verify&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;io.fabric8&lt;/groupId&gt;\n            &lt;artifactId&gt;docker-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.42.0&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;start-dynamodb-local&lt;/id&gt;\n                    &lt;phase&gt;pre-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;start&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;images&gt;\n                            &lt;image&gt;\n                                &lt;name&gt;amazon/dynamodb-local&lt;/name&gt;\n                                &lt;alias&gt;dynamodb-local&lt;/alias&gt;\n                                &lt;run&gt;\n                                    &lt;ports&gt;\n                                        &lt;port&gt;1234:1234&lt;/port&gt;\n                                    &lt;/ports&gt;\n                                    &lt;wait&gt;\n                                        &lt;log&gt;Initializing DynamoDB Local with the following configuration:&lt;/log&gt;\n                                        &lt;time&gt;1000&lt;/time&gt;\n                                    &lt;/wait&gt;\n                                &lt;/run&gt;\n                            &lt;/image&gt;\n                        &lt;/images&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;stop-dynamodb-local&lt;/id&gt;\n                    &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;stop&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;images&gt;\n                            &lt;image&gt;\n                                &lt;name&gt;amazon/dynamodb-local&lt;/name&gt;\n                                &lt;alias&gt;dynamodb-local&lt;/alias&gt;\n                            &lt;/image&gt;\n                        &lt;/images&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Java Code:</p>\n<pre><code>    System.out.println(String.format(&quot;DynamoDB url: %s&quot;, dynamoURL));\n    AwsClientBuilder.EndpointConfiguration endpointConfig = new AwsClientBuilder.EndpointConfiguration(dynamoURL,null);\n    AmazonDynamoDB client = AmazonDynamoDBClientBuilder.standard()\n            .withEndpointConfiguration(endpointConfig)\n            .build();\n</code></pre>\n<p>The code prints <code>DynamoDB url: http://127.0.0.1:1234</code>\nThe exception is:</p>\n<pre><code>com.amazonaws.SdkClientException: Unable to execute HTTP request: The target server failed to respond\n        at com.p81.delta.gw.DynamoDBPersistenceManagerIT.createTable(DynamoDBPersistenceManagerIT.java:48)\n        at com.p81.delta.gw.DynamoDBPersistenceManagerIT.before(DynamoDBPersistenceManagerIT.java:37)\nCaused by: org.apache.http.NoHttpResponseException: The target server failed to respond\n        at com.p81.delta.gw.DynamoDBPersistenceManagerIT.createTable(DynamoDBPersistenceManagerIT.java:48)\n        at com.p81.delta.gw.DynamoDBPersistenceManagerIT.before(DynamoDBPersistenceManagerIT.java:37)\n</code></pre>\n<p>Any idea what the Java code fail to connect to the local dynamodb?</p>\n<p>thanks</p>\n<h2>Update</h2>\n<p>Changing the port from 1234 to 8000 solved the problem</p>\n"},{"tags":["java","docker","kubernetes","jboss"],"comments":[{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1684098116,"post_id":76248688,"comment_id":134463282,"body_markdown":"You can&#39;t ever write to a file that&#39;s mounted from a ConfigMap.  Do you need some other sort of storage to hold that content, maybe a PersistentVolumeClaim?","body":"You can&#39;t ever write to a file that&#39;s mounted from a ConfigMap.  Do you need some other sort of storage to hold that content, maybe a PersistentVolumeClaim?"}],"owner":{"account_id":12567502,"reputation":83,"user_id":17173417,"display_name":"ITBYD"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684083479,"creation_date":1684083479,"question_id":76248688,"body_markdown":"I have folder that is mounted to my pod (from configmap) and i need to change the permissions from root:jboss to jboss:jboss\r\n\r\nI have Dockerfile that im using its image for my pod , the user inside the image is jboss,and im copying some files from the localhost to the docker (those files are getting permission jboss:jboss\r\n\r\n**Dockerfile**\r\n\r\n    FROM quay.io/wildfly/wildfly:26.1.0.Final\r\n    USER root\r\n    RUN yum install bind-utils -y\r\n    RUN yum -y install telnet\r\n    USER jboss\r\n    RUN mkdir -m 755 /opt/jboss/wildfly/standalone/data\r\n    COPY --chown=jboss:jboss ./localFolder/abc/*.war /opt/jboss/wildfly/standalone/\r\n    RUN chmod -R 755 /opt/jboss/wildfly/standalone/\r\n\r\nthen with helm im creating configmap from somefiles in my localhost and mount them to the pod to the `/opt/jboss/wildfly/standalone/configuration` folder\r\n\r\nand those files that are mounted are getting root:jboss permissions and not jboss:jboss\r\n\r\n**configmap**\r\n\r\n    apiVersion: v1\r\n    kind: ConfigMap\r\n    metadata:\r\n      name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n    data:\r\n    {{ tpl (.Files.Glob &quot;config/*&quot;).AsConfig . | indent 2 }}\r\n\r\n**deployment**\r\n\r\n    apiVersion: apps/v1\r\n    kind: Deployment\r\n    metadata:\r\n      name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}\r\n      namespace: {{ .Values.namespace }}\r\n      labels:\r\n        app: {{ .Values.labels.app }}\r\n        version: {{ .Values.labels.version }}\r\n    spec:\r\n      replicas: {{ .Values.spec.replicas }}\r\n      strategy:\r\n        type: {{ .Values.spec.strategy.type }}\r\n        rollingUpdate:\r\n          maxUnavailable: {{ .Values.spec.strategy.rollingUpdate.maxSurge }}\r\n          maxSurge: {{ .Values.spec.strategy.rollingUpdate.maxUnavailable }}\r\n      minReadySeconds: {{ .Values.spec.minReadySeconds }}\r\n      revisionHistoryLimit: {{ .Values.spec.revisionHistoryLimit }}\r\n      selector:\r\n        matchLabels:\r\n          app: {{ .Values.labels.app }}\r\n      template:\r\n        metadata:\r\n          labels:\r\n            app: {{ .Values.labels.app }}\r\n            version: {{ .Values.labels.version }}\r\n          annotations:\r\n            config.linkerd.io/proxy-cpu-limit: {{ .Values.linkerd_proxy_cpu_limit }}\r\n            config.linkerd.io/proxy-cpu-request: {{ .Values.linkerd_proxy_cpu_request }}\r\n            config.linkerd.io/proxy-memory-limit: {{ .Values.linkerd_proxy_memory_limit }}\r\n            config.linkerd.io/proxy-memory-request: {{ .Values.linkerd_proxy_memory_request }}\r\n            kubectl.kubernetes.io/default-container: {{ .Values.labels.app }}\r\n            linkerd.io/inject: enabled\r\n        spec:\r\n          securityContext:\r\n              fsGroup: 1000\r\n              runAsUser: 1000\r\n              runAsGroup: 1000\r\n          serviceAccount: {{ .Values.spec.template.spec.serviceAccount }}\r\n          volumes:\r\n            - name: {{ .Values.labels.app }}-volume-1\r\n              configMap:\r\n                name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n            - name: {{ .Values.labels.app }}-volume-2\r\n              configMap:\r\n                name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n                defaultMode: 0777\r\n            - name: {{ .Values.labels.app }}-volume-3\r\n              configMap:\r\n                name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n            - name: {{ .Values.labels.app }}-volume-4\r\n              configMap:\r\n                name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n            - name: secrets-store\r\n              csi:\r\n                driver: secrets-store.csi.k8s.io\r\n                readOnly: true\r\n                volumeAttributes:\r\n                  secretProviderClass: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-spc\r\n                nodePublishSecretRef:\r\n                  name: secrets-store-creds\r\n            - name: certificates-store\r\n              csi:\r\n                driver: secrets-store.csi.k8s.io\r\n                readOnly: true\r\n                volumeAttributes:\r\n                  secretProviderClass: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-cpc\r\n                nodePublishSecretRef:\r\n                  name: secrets-store-creds\r\n          containers:\r\n          - name: {{ .Values.labels.app }}\r\n            image: {{ .Values.spec.template.spec.containers.imageName }}\r\n            command: [&quot;/bin/sh&quot;, &quot;-c&quot;]\r\n            args: [&quot;chown -R jboss:jboss /opt/jboss/wildfly/standalone/configuration/* ;ls -la /opt/jboss/wildfly/standalone/configuration ; /opt/jboss/wildfly/bin/standalone.sh -c standalone.xml -b 0.0.0.0 -bmanagement 0.0.0.0&quot;]\r\n            imagePullPolicy: {{ .Values.spec.template.spec.containers.imagePullPolicy }}\r\n            resources:\r\n              limits:\r\n                cpu: {{ .Values.spec.template.spec.containers.resources.limits.cpu }}\r\n                memory: {{ .Values.spec.template.spec.containers.resources.limits.memory }}\r\n              requests:\r\n                cpu: {{ .Values.spec.template.spec.containers.resources.requests.cpu }}\r\n                memory: {{ .Values.spec.template.spec.containers.resources.requests.memory }}\r\n            ports: #changeit\r\n            - name: http\r\n              containerPort: 55204\r\n              protocol: TCP\r\n            - name: debug\r\n              containerPort: 8787\r\n              protocol: TCP\r\n            volumeMounts: #changeit\r\n            - name: {{ .Values.labels.app }}-volume-1\r\n              mountPath: /opt/jboss/wildfly/standalone/configuration/ccgw.properties\r\n              subPath: ccgw.properties\r\n            - name: {{ .Values.labels.app }}-volume-2\r\n              mountPath: /opt/jboss/wildfly/standalone/configuration/logging.properties\r\n              subPath: logging.properties\r\n            - name: {{ .Values.labels.app }}-volume-3\r\n              mountPath: /opt/jboss/wildfly/standalone/configuration/monitor.properties\r\n              subPath: monitor.properties\r\n            - name: {{ .Values.labels.app }}-volume-4\r\n              mountPath: /opt/jboss/wildfly/standalone/configuration/standalone.xml\r\n              subPath: standalone.xml\r\n            - name: secrets-store\r\n              mountPath: &quot;/mnt/secrets-store&quot;\r\n              readOnly: true\r\n            - name: certificates-store\r\n              mountPath: /opt/jboss/wildfly/standalone/configuration/certificates/\r\n          restartPolicy: Always\r\n          nodeSelector:\r\n            agentpool: {{ .Values.poolName }}\r\n\r\n\r\nas you can see i have volume from configmap \r\n\r\n    volumes:\r\n    - name: {{ .Values.labels.app }}-volume-1\r\n      configMap:\r\n       name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\r\n\r\n\r\nand im mounting it to the location \r\n\r\n    volumeMounts: #changeit\r\n    - name: {{ .Values.labels.app }}-volume-1\r\n      mountPath: /opt/jboss/wildfly/standalone/configuration/ccgw.properties\r\n\r\n\r\nand this file &quot;ccgw.properties&quot; for example is getting root:jboss permissions and not jboss:jboss \r\n\r\nI also tried to run \r\n\r\n    command: [&quot;/bin/sh&quot;, &quot;-c&quot;]\r\n    args: [&quot;chown -R jboss:jboss /opt/jboss/wildfly/standalone/configuration/*&quot;]\r\n\r\nbut it did not help \r\n\r\nthe issue that i need that file &quot;ccgw.properties&quot; to be **writeable** ","title":"change configmap mounted folder permissions in k8s","body":"<p>I have folder that is mounted to my pod (from configmap) and i need to change the permissions from root:jboss to jboss:jboss</p>\n<p>I have Dockerfile that im using its image for my pod , the user inside the image is jboss,and im copying some files from the localhost to the docker (those files are getting permission jboss:jboss</p>\n<p><strong>Dockerfile</strong></p>\n<pre><code>FROM quay.io/wildfly/wildfly:26.1.0.Final\nUSER root\nRUN yum install bind-utils -y\nRUN yum -y install telnet\nUSER jboss\nRUN mkdir -m 755 /opt/jboss/wildfly/standalone/data\nCOPY --chown=jboss:jboss ./localFolder/abc/*.war /opt/jboss/wildfly/standalone/\nRUN chmod -R 755 /opt/jboss/wildfly/standalone/\n</code></pre>\n<p>then with helm im creating configmap from somefiles in my localhost and mount them to the pod to the <code>/opt/jboss/wildfly/standalone/configuration</code> folder</p>\n<p>and those files that are mounted are getting root:jboss permissions and not jboss:jboss</p>\n<p><strong>configmap</strong></p>\n<pre><code>apiVersion: v1\nkind: ConfigMap\nmetadata:\n  name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\ndata:\n{{ tpl (.Files.Glob &quot;config/*&quot;).AsConfig . | indent 2 }}\n</code></pre>\n<p><strong>deployment</strong></p>\n<pre><code>apiVersion: apps/v1\nkind: Deployment\nmetadata:\n  name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}\n  namespace: {{ .Values.namespace }}\n  labels:\n    app: {{ .Values.labels.app }}\n    version: {{ .Values.labels.version }}\nspec:\n  replicas: {{ .Values.spec.replicas }}\n  strategy:\n    type: {{ .Values.spec.strategy.type }}\n    rollingUpdate:\n      maxUnavailable: {{ .Values.spec.strategy.rollingUpdate.maxSurge }}\n      maxSurge: {{ .Values.spec.strategy.rollingUpdate.maxUnavailable }}\n  minReadySeconds: {{ .Values.spec.minReadySeconds }}\n  revisionHistoryLimit: {{ .Values.spec.revisionHistoryLimit }}\n  selector:\n    matchLabels:\n      app: {{ .Values.labels.app }}\n  template:\n    metadata:\n      labels:\n        app: {{ .Values.labels.app }}\n        version: {{ .Values.labels.version }}\n      annotations:\n        config.linkerd.io/proxy-cpu-limit: {{ .Values.linkerd_proxy_cpu_limit }}\n        config.linkerd.io/proxy-cpu-request: {{ .Values.linkerd_proxy_cpu_request }}\n        config.linkerd.io/proxy-memory-limit: {{ .Values.linkerd_proxy_memory_limit }}\n        config.linkerd.io/proxy-memory-request: {{ .Values.linkerd_proxy_memory_request }}\n        kubectl.kubernetes.io/default-container: {{ .Values.labels.app }}\n        linkerd.io/inject: enabled\n    spec:\n      securityContext:\n          fsGroup: 1000\n          runAsUser: 1000\n          runAsGroup: 1000\n      serviceAccount: {{ .Values.spec.template.spec.serviceAccount }}\n      volumes:\n        - name: {{ .Values.labels.app }}-volume-1\n          configMap:\n            name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\n        - name: {{ .Values.labels.app }}-volume-2\n          configMap:\n            name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\n            defaultMode: 0777\n        - name: {{ .Values.labels.app }}-volume-3\n          configMap:\n            name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\n        - name: {{ .Values.labels.app }}-volume-4\n          configMap:\n            name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\n        - name: secrets-store\n          csi:\n            driver: secrets-store.csi.k8s.io\n            readOnly: true\n            volumeAttributes:\n              secretProviderClass: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-spc\n            nodePublishSecretRef:\n              name: secrets-store-creds\n        - name: certificates-store\n          csi:\n            driver: secrets-store.csi.k8s.io\n            readOnly: true\n            volumeAttributes:\n              secretProviderClass: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-cpc\n            nodePublishSecretRef:\n              name: secrets-store-creds\n      containers:\n      - name: {{ .Values.labels.app }}\n        image: {{ .Values.spec.template.spec.containers.imageName }}\n        command: [&quot;/bin/sh&quot;, &quot;-c&quot;]\n        args: [&quot;chown -R jboss:jboss /opt/jboss/wildfly/standalone/configuration/* ;ls -la /opt/jboss/wildfly/standalone/configuration ; /opt/jboss/wildfly/bin/standalone.sh -c standalone.xml -b 0.0.0.0 -bmanagement 0.0.0.0&quot;]\n        imagePullPolicy: {{ .Values.spec.template.spec.containers.imagePullPolicy }}\n        resources:\n          limits:\n            cpu: {{ .Values.spec.template.spec.containers.resources.limits.cpu }}\n            memory: {{ .Values.spec.template.spec.containers.resources.limits.memory }}\n          requests:\n            cpu: {{ .Values.spec.template.spec.containers.resources.requests.cpu }}\n            memory: {{ .Values.spec.template.spec.containers.resources.requests.memory }}\n        ports: #changeit\n        - name: http\n          containerPort: 55204\n          protocol: TCP\n        - name: debug\n          containerPort: 8787\n          protocol: TCP\n        volumeMounts: #changeit\n        - name: {{ .Values.labels.app }}-volume-1\n          mountPath: /opt/jboss/wildfly/standalone/configuration/ccgw.properties\n          subPath: ccgw.properties\n        - name: {{ .Values.labels.app }}-volume-2\n          mountPath: /opt/jboss/wildfly/standalone/configuration/logging.properties\n          subPath: logging.properties\n        - name: {{ .Values.labels.app }}-volume-3\n          mountPath: /opt/jboss/wildfly/standalone/configuration/monitor.properties\n          subPath: monitor.properties\n        - name: {{ .Values.labels.app }}-volume-4\n          mountPath: /opt/jboss/wildfly/standalone/configuration/standalone.xml\n          subPath: standalone.xml\n        - name: secrets-store\n          mountPath: &quot;/mnt/secrets-store&quot;\n          readOnly: true\n        - name: certificates-store\n          mountPath: /opt/jboss/wildfly/standalone/configuration/certificates/\n      restartPolicy: Always\n      nodeSelector:\n        agentpool: {{ .Values.poolName }}\n</code></pre>\n<p>as you can see i have volume from configmap</p>\n<pre><code>volumes:\n- name: {{ .Values.labels.app }}-volume-1\n  configMap:\n   name: {{ .Values.labels.app }}-{{ .Values.labels.version | lower | replace &quot;_&quot; &quot;-&quot; | replace &quot;.&quot; &quot;-&quot; }}-configs\n</code></pre>\n<p>and im mounting it to the location</p>\n<pre><code>volumeMounts: #changeit\n- name: {{ .Values.labels.app }}-volume-1\n  mountPath: /opt/jboss/wildfly/standalone/configuration/ccgw.properties\n</code></pre>\n<p>and this file &quot;ccgw.properties&quot; for example is getting root:jboss permissions and not jboss:jboss</p>\n<p>I also tried to run</p>\n<pre><code>command: [&quot;/bin/sh&quot;, &quot;-c&quot;]\nargs: [&quot;chown -R jboss:jboss /opt/jboss/wildfly/standalone/configuration/*&quot;]\n</code></pre>\n<p>but it did not help</p>\n<p>the issue that i need that file &quot;ccgw.properties&quot; to be <strong>writeable</strong></p>\n"},{"tags":["java","oop","design-patterns","factory-pattern","ooad"],"answers":[{"tags":[],"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684082910,"creation_date":1684079705,"answer_id":76248395,"question_id":76228773,"body_markdown":"It appears that the problem statement is to be able to create classes that can hold the logic for different Tool types and version combinations. This is a complicated problem statement that can only be answered via an example.\r\n\r\nStart by creating an interface to represent the logic for saving a particular version : \r\n\r\n    public interface VersionDataService {\r\n        public void saveVersionData(Data data);\r\n    }\r\n\r\nDefine some concrete/generic logic for different versions.\r\n\r\n    public class AlphaVersionDataService {\r\n    \r\n        public void saveVersionData(Data data) {\r\n    \r\n             //logic for saving data for alpha versions\r\n        }\r\n    }\r\n\r\n    public class BetaVersionDataService {\r\n    \r\n        public void saveVersionData(Data data) {\r\n    \r\n             //logic for saving data for beta versions\r\n        }\r\n    }\r\n\r\nNow you might have requirements to execute specific logic based on tool type which is not generic. For this, you can create more specialized subclasses such as the one below :\r\n\r\n    public class GammaFishVersionDataService {\r\n    \r\n        public void saveVersionData(Data data) {\r\n    \r\n             //logic for saving data for Gamma Version for Fishes only\r\n        }\r\n    }\r\n\r\n    public class GammaDogVersionDataService {\r\n    \r\n        public void saveVersionData(Data data) {\r\n    \r\n             //logic for saving data for Gamma Version for Dogs only\r\n        }\r\n    }\r\n\r\nWe now create a `VersionDataServiceFactory` that will hold a map. This map will contain the pre-created `VersionDataService` objects for different permutation/combinations. (See the example at the end which will make more sense later)\r\n\r\n    class VersionDataServiceFactory {\r\n\r\n       private Map&lt;String,VersionDataService&gt; versionDataServicesMap;\r\n\r\n       public VersionDataService(Map&lt;String,VersionDataService&gt; versionDataServicesMap) {\r\n           this.versionDataServicesMap= versionDataServicesMap;\r\n       }\r\n\r\n       public VersionDataService get(int version,Tool tool) {\r\n          //returns the pre-created object for the given version and tool combination\r\n          return versionDataServicesMap.get(version,tool)\r\n       }\r\n    }\r\n\r\n\r\n    class SaveDataService {\r\n    \r\n      protected VersionDataServiceFactory versionDataServiceFactory;\r\n     \r\n      public SaveDataFactory(SaveDataFactory versionDataServiceFactory) {\r\n         this.versionDataServiceFactory = versionDataServiceFactory;\r\n      }\r\n      \r\n      //other methods unchanged...\r\n      \r\n    }\r\n\r\n    class FishToolSaveDataService extends SaveDataService {\r\n    \r\n        @Override\r\n        public void saveData(Data data) {\r\n           //get the VersionDataService instance based on the version and tool type.\r\n           VersionDataService versionDataService = versionDataServiceFactory.get(data.getVersion(),Tool.FISH);\r\n           //save the data.\r\n           versionDataService.saveVersionData(data);\r\n        }\r\n\r\n        @Override\r\n        public List&lt;Tool&gt; getTools() {\r\n           return List.of(Tool.FISH);\r\n        }\r\n    }\r\n\r\nNow let&#39;s put all this together :\r\n\r\n    AlphaVersionDataService alpha = new AlphaVersionDataService();\r\n    GammaDogVersionDataService gammaDog = new GammaDogVersionDataService();\r\n    Map&lt;String,VersionDataService&gt; versionDataServicesMap = new HashMap&lt;&gt;();\r\n    \r\n    String alphaDogKey = Tool.Dog.toString()+&quot;1&quot;; //just a key combination for tool type + version\r\n    String alphaFishKey = Tool.Fish.toString()+&quot;1&quot;; //just a key combination for tool type + version\r\n    String gammaDogKey = Tool.Dog.toString()+&quot;2&quot;; //just a key combination for tool type + version\r\n    map.put(alphaDogKey,alpha);\r\n    map.put(alphaFishKey,alpha);//notice how we used the same alpha object for two different Tools? This is how we saved code duplication without using if-else :)\r\n    map.put(gammaDogKey,gammaDog);\r\n\r\n    VersionDataServiceFactory factory = new VersionDataServiceFactory(versionDataServicesMap);\r\n    \r\n    SaveDataService saveDataService = new FishToolDataService(factory);\r\n    saveDataService.save(data); \r\n\r\nNotice how the `alpha` object was reused for both Fish and Dog alpha versions. This solves your objective of reusing the code for different tool types without using if-else. Also notice that when `saveDataService.save(data);` is called, it automatically fetches the correct `VersionDataService` implementation for the given Tool type and version combination.\r\n\r\n\r\n-----\r\n\r\nNote : This is a slightly complicated design problem. The code has not been tested but is only indicative of the approach that can be followed. There are a lot more improvements that can be done such as using the `Decorator` pattern to avoid having to create too many subclasses for each version + tool combination or using the `AbstractFactory` pattern, or defining a class called `VersionDataKey` to represent the key for the factory map and much more; but these are aspects intentionally left out for the readers (including you) to discover as covering these aspects would make this answer too long. \r\n","title":"Creating reusable classes for overlapping permutations/combinations of input","body":"<p>It appears that the problem statement is to be able to create classes that can hold the logic for different Tool types and version combinations. This is a complicated problem statement that can only be answered via an example.</p>\n<p>Start by creating an interface to represent the logic for saving a particular version :</p>\n<pre><code>public interface VersionDataService {\n    public void saveVersionData(Data data);\n}\n</code></pre>\n<p>Define some concrete/generic logic for different versions.</p>\n<pre><code>public class AlphaVersionDataService {\n\n    public void saveVersionData(Data data) {\n\n         //logic for saving data for alpha versions\n    }\n}\n\npublic class BetaVersionDataService {\n\n    public void saveVersionData(Data data) {\n\n         //logic for saving data for beta versions\n    }\n}\n</code></pre>\n<p>Now you might have requirements to execute specific logic based on tool type which is not generic. For this, you can create more specialized subclasses such as the one below :</p>\n<pre><code>public class GammaFishVersionDataService {\n\n    public void saveVersionData(Data data) {\n\n         //logic for saving data for Gamma Version for Fishes only\n    }\n}\n\npublic class GammaDogVersionDataService {\n\n    public void saveVersionData(Data data) {\n\n         //logic for saving data for Gamma Version for Dogs only\n    }\n}\n</code></pre>\n<p>We now create a <code>VersionDataServiceFactory</code> that will hold a map. This map will contain the pre-created <code>VersionDataService</code> objects for different permutation/combinations. (See the example at the end which will make more sense later)</p>\n<pre><code>class VersionDataServiceFactory {\n\n   private Map&lt;String,VersionDataService&gt; versionDataServicesMap;\n\n   public VersionDataService(Map&lt;String,VersionDataService&gt; versionDataServicesMap) {\n       this.versionDataServicesMap= versionDataServicesMap;\n   }\n\n   public VersionDataService get(int version,Tool tool) {\n      //returns the pre-created object for the given version and tool combination\n      return versionDataServicesMap.get(version,tool)\n   }\n}\n\n\nclass SaveDataService {\n\n  protected VersionDataServiceFactory versionDataServiceFactory;\n \n  public SaveDataFactory(SaveDataFactory versionDataServiceFactory) {\n     this.versionDataServiceFactory = versionDataServiceFactory;\n  }\n  \n  //other methods unchanged...\n  \n}\n\nclass FishToolSaveDataService extends SaveDataService {\n\n    @Override\n    public void saveData(Data data) {\n       //get the VersionDataService instance based on the version and tool type.\n       VersionDataService versionDataService = versionDataServiceFactory.get(data.getVersion(),Tool.FISH);\n       //save the data.\n       versionDataService.saveVersionData(data);\n    }\n\n    @Override\n    public List&lt;Tool&gt; getTools() {\n       return List.of(Tool.FISH);\n    }\n}\n</code></pre>\n<p>Now let's put all this together :</p>\n<pre><code>AlphaVersionDataService alpha = new AlphaVersionDataService();\nGammaDogVersionDataService gammaDog = new GammaDogVersionDataService();\nMap&lt;String,VersionDataService&gt; versionDataServicesMap = new HashMap&lt;&gt;();\n\nString alphaDogKey = Tool.Dog.toString()+&quot;1&quot;; //just a key combination for tool type + version\nString alphaFishKey = Tool.Fish.toString()+&quot;1&quot;; //just a key combination for tool type + version\nString gammaDogKey = Tool.Dog.toString()+&quot;2&quot;; //just a key combination for tool type + version\nmap.put(alphaDogKey,alpha);\nmap.put(alphaFishKey,alpha);//notice how we used the same alpha object for two different Tools? This is how we saved code duplication without using if-else :)\nmap.put(gammaDogKey,gammaDog);\n\nVersionDataServiceFactory factory = new VersionDataServiceFactory(versionDataServicesMap);\n\nSaveDataService saveDataService = new FishToolDataService(factory);\nsaveDataService.save(data); \n</code></pre>\n<p>Notice how the <code>alpha</code> object was reused for both Fish and Dog alpha versions. This solves your objective of reusing the code for different tool types without using if-else. Also notice that when <code>saveDataService.save(data);</code> is called, it automatically fetches the correct <code>VersionDataService</code> implementation for the given Tool type and version combination.</p>\n<hr />\n<p>Note : This is a slightly complicated design problem. The code has not been tested but is only indicative of the approach that can be followed. There are a lot more improvements that can be done such as using the <code>Decorator</code> pattern to avoid having to create too many subclasses for each version + tool combination or using the <code>AbstractFactory</code> pattern, or defining a class called <code>VersionDataKey</code> to represent the key for the factory map and much more; but these are aspects intentionally left out for the readers (including you) to discover as covering these aspects would make this answer too long.</p>\n"}],"owner":{"account_id":9022970,"reputation":25,"user_id":6723358,"display_name":"Jatin Sabherwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684083205,"creation_date":1683815416,"question_id":76228773,"body_markdown":"I got in to a design problem where I have different implementation for saving the data and processing other things for the different tools. I used a factory design for saving the data and same in getting the data from the database.\r\n\r\n```\r\nclass SaveDataService {\r\n  public void saveData(Data data) {\r\n  }\r\n\r\n  public List&lt;Tool&gt; getTools() {\r\n    return List.of();\r\n  }\r\n}\r\n\r\nclass FishToolSaveDataService extends SaveDataService {\r\n  @Override\r\n  public void saveData(Data data) {\r\n  }\r\n\r\n  @Override\r\n  public List&lt;Tool&gt; getTools() {\r\n    return List.of(Tool.FISH);\r\n  }\r\n}\r\n\r\nclass DogSaveDataService extends SaveDataService {\r\n  @Override\r\n  public void saveData(Data data) {\r\n  }\r\n\r\n  @Override\r\n  public List&lt;Tool&gt; getTools() {\r\n    return List.of(Tool.DOG);\r\n  }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass Data {\r\n  JsonNode data;\r\n  int version;\r\n}\r\n\r\nenum Tool {\r\n  FISH,\r\n  DOG\r\n}\r\n```\r\n\r\nSo, My Factory mapper is based on the enum Tool\r\n\r\nNow I have a version for each tool to maintain but the saving implementation changes for each version. How do I maintain this without using if else checks in the saveData(Data data) method implementation.\r\n\r\nI tried simple if/else check for version the saveData method but it will prolonged to long if I have five different version and  two different tools have same logic of saving for the different version. That is duplicating my code.\r\n\r\nHow can I design this version such that I can reuse  my code?\r\n\r\nI have 15 tools implementation in to total and I am starting with the version 2 of 3 tools in total but in future more versioning and more tools will come.","title":"Creating reusable classes for overlapping permutations/combinations of input","body":"<p>I got in to a design problem where I have different implementation for saving the data and processing other things for the different tools. I used a factory design for saving the data and same in getting the data from the database.</p>\n<pre><code>class SaveDataService {\n  public void saveData(Data data) {\n  }\n\n  public List&lt;Tool&gt; getTools() {\n    return List.of();\n  }\n}\n\nclass FishToolSaveDataService extends SaveDataService {\n  @Override\n  public void saveData(Data data) {\n  }\n\n  @Override\n  public List&lt;Tool&gt; getTools() {\n    return List.of(Tool.FISH);\n  }\n}\n\nclass DogSaveDataService extends SaveDataService {\n  @Override\n  public void saveData(Data data) {\n  }\n\n  @Override\n  public List&lt;Tool&gt; getTools() {\n    return List.of(Tool.DOG);\n  }\n}\n</code></pre>\n<pre><code>class Data {\n  JsonNode data;\n  int version;\n}\n\nenum Tool {\n  FISH,\n  DOG\n}\n</code></pre>\n<p>So, My Factory mapper is based on the enum Tool</p>\n<p>Now I have a version for each tool to maintain but the saving implementation changes for each version. How do I maintain this without using if else checks in the saveData(Data data) method implementation.</p>\n<p>I tried simple if/else check for version the saveData method but it will prolonged to long if I have five different version and  two different tools have same logic of saving for the different version. That is duplicating my code.</p>\n<p>How can I design this version such that I can reuse  my code?</p>\n<p>I have 15 tools implementation in to total and I am starting with the version 2 of 3 tools in total but in future more versioning and more tools will come.</p>\n"},{"tags":["java","kotlin","gradle","intellij-idea"],"comments":[{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1684082147,"post_id":76248559,"comment_id":134461273,"body_markdown":"Are you compiling test classes before test? I am not sure, but seems that somehow in IDEA the dependency between `test` and `testClasses` is broken! Can you share your build.gradle?","body":"Are you compiling test classes before test? I am not sure, but seems that somehow in IDEA the dependency between <code>test</code> and <code>testClasses</code> is broken! Can you share your build.gradle?"},{"owner":{"account_id":9084972,"reputation":15,"user_id":6763380,"display_name":"Will Potato"},"score":0,"creation_date":1684083282,"post_id":76248559,"comment_id":134461394,"body_markdown":"@AmirPashazadeh Edited post to include the build.gradle file. I&#39;m not sure how to check if it&#39;s compiling the test classes before the test.","body":"@AmirPashazadeh Edited post to include the build.gradle file. I&#39;m not sure how to check if it&#39;s compiling the test classes before the test."},{"owner":{"account_id":24517308,"reputation":401,"user_id":18430882,"display_name":"quickfix"},"score":0,"creation_date":1684255532,"post_id":76248559,"comment_id":134490439,"body_markdown":"@WillPotato will the behaviour change if you choose IntelliJ runner instead of Gradle in &quot;Preferences | Build, Execution, Deployment | Build Tools | Gradle | Run tests using&quot;?","body":"@WillPotato will the behaviour change if you choose IntelliJ runner instead of Gradle in &quot;Preferences | Build, Execution, Deployment | Build Tools | Gradle | Run tests using&quot;?"}],"owner":{"account_id":9084972,"reputation":15,"user_id":6763380,"display_name":"Will Potato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684083141,"creation_date":1684081627,"question_id":76248559,"body_markdown":"I was having an issue when trying to run new tests on IntelliJ, where it was giving me an error that said the tests didn&#39;t exist:\r\n\r\n\r\n```\r\nInternal Error occurred.\r\norg.junit.platform.commons.JUnitException: TestEngine with ID &#39;junit-jupiter&#39; failed to discover tests\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:189)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:168)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n...\r\n\r\n```\r\n\r\n\r\nSo then I tried running older tests, and those worked. And so, just for testing purposes, I changed some of those tests to be just something like this:\r\n\r\n\r\n```\r\n@Test\r\n    fun `the test`() {\r\n        assertTrue(false)\r\n    }\r\n```\r\n\r\nBut when I ran the tests through IntelliJ, they all still passed every time.\r\n\r\n\r\nAfter searching a lot, I saw someone online saying to try doing &quot;./gradlew tests&quot;, and that worked exactly as expected! After that I tried running the tests through IntelliJ again, and this time it also worked as expected! However, now when I change anything, IntelliJ still gives me the same results as the last time I ran the gradlew command, and the only way to fix it is to do &quot;./gradlew tests&quot; *every time* I change the tests or add new ones.\r\n\r\nSo I guess my question is, how do I fix this and get IntelliJ to build the tests before it runs them?\r\n\r\n---\r\n\r\nEDIT: This is my &quot;build.gradle.kts&quot; file:\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n    \r\n    plugins {\r\n        kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\r\n    }\r\n    \r\n    group = &quot;pt.isel.pc&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    val ktlint: Configuration by configurations.creating\r\n    \r\n    dependencies {\r\n    \r\n        implementation(&quot;org.slf4j:slf4j-api:1.7.36&quot;)\r\n        implementation(&quot;org.slf4j:slf4j-simple:2.0.0-alpha7&quot;)\r\n    \r\n        testImplementation(kotlin(&quot;test&quot;))\r\n    \r\n        ktlint(&quot;com.pinterest:ktlint:0.48.2&quot;) {\r\n            attributes {\r\n                attribute(Bundling.BUNDLING_ATTRIBUTE, objects.named(Bundling.EXTERNAL))\r\n            }\r\n        }\r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform()\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n        kotlinOptions.jvmTarget = &quot;17&quot;\r\n    }\r\n    \r\n    val outputDir = &quot;${project.buildDir}/reports/ktlint/&quot;\r\n    val inputFiles = project.fileTree(mapOf(&quot;dir&quot; to &quot;src&quot;, &quot;include&quot; to &quot;**/*.kt&quot;))\r\n    val ktlintCheck by tasks.creating(JavaExec::class) {\r\n        inputs.files(inputFiles)\r\n        outputs.dir(outputDir)\r\n    \r\n        description = &quot;Check Kotlin code style.&quot;\r\n        classpath = ktlint\r\n        mainClass.set(&quot;com.pinterest.ktlint.Main&quot;)\r\n        args = listOf(&quot;src/**/*.kt&quot;)\r\n    }\r\n    \r\n    tasks.named(&quot;check&quot;) {\r\n        dependsOn(&quot;ktlintCheck&quot;)\r\n    }","title":"IntelliJ only builds tests if I run &quot;./gradlew tests&quot; from the command line","body":"<p>I was having an issue when trying to run new tests on IntelliJ, where it was giving me an error that said the tests didn't exist:</p>\n<pre><code>Internal Error occurred.\norg.junit.platform.commons.JUnitException: TestEngine with ID 'junit-jupiter' failed to discover tests\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverEngineRoot(DefaultLauncher.java:189)\n    at org.junit.platform.launcher.core.DefaultLauncher.discoverRoot(DefaultLauncher.java:168)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:132)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n...\n\n</code></pre>\n<p>So then I tried running older tests, and those worked. And so, just for testing purposes, I changed some of those tests to be just something like this:</p>\n<pre><code>@Test\n    fun `the test`() {\n        assertTrue(false)\n    }\n</code></pre>\n<p>But when I ran the tests through IntelliJ, they all still passed every time.</p>\n<p>After searching a lot, I saw someone online saying to try doing &quot;./gradlew tests&quot;, and that worked exactly as expected! After that I tried running the tests through IntelliJ again, and this time it also worked as expected! However, now when I change anything, IntelliJ still gives me the same results as the last time I ran the gradlew command, and the only way to fix it is to do &quot;./gradlew tests&quot; <em>every time</em> I change the tests or add new ones.</p>\n<p>So I guess my question is, how do I fix this and get IntelliJ to build the tests before it runs them?</p>\n<hr />\n<p>EDIT: This is my &quot;build.gradle.kts&quot; file:</p>\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    kotlin(&quot;jvm&quot;) version &quot;1.6.10&quot;\n}\n\ngroup = &quot;pt.isel.pc&quot;\nversion = &quot;1.0-SNAPSHOT&quot;\n\nrepositories {\n    mavenCentral()\n}\n\nval ktlint: Configuration by configurations.creating\n\ndependencies {\n\n    implementation(&quot;org.slf4j:slf4j-api:1.7.36&quot;)\n    implementation(&quot;org.slf4j:slf4j-simple:2.0.0-alpha7&quot;)\n\n    testImplementation(kotlin(&quot;test&quot;))\n\n    ktlint(&quot;com.pinterest:ktlint:0.48.2&quot;) {\n        attributes {\n            attribute(Bundling.BUNDLING_ATTRIBUTE, objects.named(Bundling.EXTERNAL))\n        }\n    }\n}\n\ntasks.test {\n    useJUnitPlatform()\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = &quot;17&quot;\n}\n\nval outputDir = &quot;${project.buildDir}/reports/ktlint/&quot;\nval inputFiles = project.fileTree(mapOf(&quot;dir&quot; to &quot;src&quot;, &quot;include&quot; to &quot;**/*.kt&quot;))\nval ktlintCheck by tasks.creating(JavaExec::class) {\n    inputs.files(inputFiles)\n    outputs.dir(outputDir)\n\n    description = &quot;Check Kotlin code style.&quot;\n    classpath = ktlint\n    mainClass.set(&quot;com.pinterest.ktlint.Main&quot;)\n    args = listOf(&quot;src/**/*.kt&quot;)\n}\n\ntasks.named(&quot;check&quot;) {\n    dependsOn(&quot;ktlintCheck&quot;)\n}\n</code></pre>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":1,"creation_date":1684081956,"post_id":76248556,"comment_id":134461258,"body_markdown":"Welcome to Stack Overflow.\nPlease take the [tour] to learn how Stack Overflow works and read [ask] on how to improve the quality of your question.\nThen [edit] your question to include your source code as a working [mcve], which can be tested by others.","body":"Welcome to Stack Overflow. Please take the <a href=\"https://stackoverflow.com/tour\">tour</a> to learn how Stack Overflow works and read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> on how to improve the quality of your question. Then <a href=\"https://stackoverflow.com/posts/76248556/edit\">edit</a> your question to include your source code as a working <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, which can be tested by others."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1684087146,"post_id":76248556,"comment_id":134461900,"body_markdown":"There are only two options: [1] &#39;MathOperator&#39; or whatever that common supertype is, by its nature, _always_ has that operation - any imaginable subtype of it should have it. In which case, add it to the interface. [2] &#39;MathOperator&#39; instances don&#39;t necessarily have that - just those 4 subtypes have it. In which case, java is correct: You can&#39;t just call that method on any `MathOperator` - even if the 4 impls you have so far do so happen to have em.","body":"There are only two options: [1] &#39;MathOperator&#39; or whatever that common supertype is, by its nature, <i>always</i> has that operation - any imaginable subtype of it should have it. In which case, add it to the interface. [2] &#39;MathOperator&#39; instances don&#39;t necessarily have that - just those 4 subtypes have it. In which case, java is correct: You can&#39;t just call that method on any <code>MathOperator</code> - even if the 4 impls you have so far do so happen to have em."}],"answers":[{"tags":[],"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684082148,"creation_date":1684082148,"answer_id":76248586,"question_id":76248556,"body_markdown":"If you&#39;re referring to `Atom`, `BinaryOperator` etc having a common supertype and you know only the common supertype: You&#39;re out of luck - you can&#39;t simply call those 4 methods and hope for the best:\r\n\r\nThe exact function that&#39;s called is determined statically, at compile time.\r\n\r\nIf you intend to implement the full [Visitor pattern][1], you&#39;d have the 4 types implement the call to an appropriate visit method, e.g. by the common supertype declaring `accept(Visitor visitor)`, and implementing the proper call in each subtype. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Visitor_pattern","title":"Java automatically convert interface to subtype","body":"<p>If you're referring to <code>Atom</code>, <code>BinaryOperator</code> etc having a common supertype and you know only the common supertype: You're out of luck - you can't simply call those 4 methods and hope for the best:</p>\n<p>The exact function that's called is determined statically, at compile time.</p>\n<p>If you intend to implement the full <a href=\"https://en.wikipedia.org/wiki/Visitor_pattern\" rel=\"nofollow noreferrer\">Visitor pattern</a>, you'd have the 4 types implement the call to an appropriate visit method, e.g. by the common supertype declaring <code>accept(Visitor visitor)</code>, and implementing the proper call in each subtype.</p>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1684082844,"creation_date":1684082844,"answer_id":76248635,"question_id":76248556,"body_markdown":"I assume you have a `Formula` interface which is implemented by `Atom`, `Constant`, `BinaryOperator` and `Not`.\r\n\r\nSo create a method in your visitor which accepts a `Formula` and then delegate to other methods. So I would write something like:\r\n\r\n    public interface FormulaVisitor &lt;Result , AdditionalArg&gt; {\r\n        default Result visit(Formula formula, AdditionalArg a) {\r\n            return switch(formula) {\r\n                case Atom atom -&gt; visit(atom, a);\r\n                case Constant constant -&gt; visit(constant, a);\r\n                case BinaryOperator binaryOperator -&gt; visit(binaryOperator, a);\r\n                case Not not -&gt; visit(not, a);\r\n                default -&gt; null; // if your Formula interface is sealed to 4 classes, this line is not needed\r\n            }\r\n        }\r\n\r\n        Result visit(Atom formula, AdditionalArg a);\r\n        Result visit(BinaryOperator formula, AdditionalArg a);\r\n        Result visit(Constant formula, AdditionalArg a);\r\n        Result visit(Not formula, AdditionalArg a);\r\n    }\r\n\r\nIf your interface has just these 4 implementations, make it `sealed`!\r\n\r\nAs it&#39;s a default method in your interface, your are not forced to re-implement it in sub-classes.\r\n\r\nIn Java method calls are binded during compile time, so the subtype is not recognized then.","title":"Java automatically convert interface to subtype","body":"<p>I assume you have a <code>Formula</code> interface which is implemented by <code>Atom</code>, <code>Constant</code>, <code>BinaryOperator</code> and <code>Not</code>.</p>\n<p>So create a method in your visitor which accepts a <code>Formula</code> and then delegate to other methods. So I would write something like:</p>\n<pre><code>public interface FormulaVisitor &lt;Result , AdditionalArg&gt; {\n    default Result visit(Formula formula, AdditionalArg a) {\n        return switch(formula) {\n            case Atom atom -&gt; visit(atom, a);\n            case Constant constant -&gt; visit(constant, a);\n            case BinaryOperator binaryOperator -&gt; visit(binaryOperator, a);\n            case Not not -&gt; visit(not, a);\n            default -&gt; null; // if your Formula interface is sealed to 4 classes, this line is not needed\n        }\n    }\n\n    Result visit(Atom formula, AdditionalArg a);\n    Result visit(BinaryOperator formula, AdditionalArg a);\n    Result visit(Constant formula, AdditionalArg a);\n    Result visit(Not formula, AdditionalArg a);\n}\n</code></pre>\n<p>If your interface has just these 4 implementations, make it <code>sealed</code>!</p>\n<p>As it's a default method in your interface, your are not forced to re-implement it in sub-classes.</p>\n<p>In Java method calls are binded during compile time, so the subtype is not recognized then.</p>\n"}],"owner":{"account_id":17205930,"reputation":11,"user_id":12456500,"display_name":"user12456500"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1684091166,"answer_count":2,"score":0,"last_activity_date":1684082844,"creation_date":1684081575,"question_id":76248556,"body_markdown":"So I came across a problem where I have implemented a method for all 4 subtypes of an interface. However, when calling that method with a variable that is of the supertype, it won&#39;t let me. I can explicitly use instanceof to check with one, but I need to implement a function that calls 2 instances of the interface.\r\n\r\nI already tried checking the 2 instances separately and casting them, but it doesn&#39;t work. A solution would be to create if-else with 16 branches to check each combination, but that isn&#39;t ideal.\r\n\r\n```\r\npublic interface FormulaVisitor &lt;Result , AdditionalArg &gt; {\r\n    \r\n    Result visit(Atom formula, AdditionalArg a);\r\n    Result visit(BinaryOperator formula , AdditionalArg a);\r\n    Result visit(Constant formula , AdditionalArg a);\r\n    Result visit(Not formula , AdditionalArg a);\r\n\r\n    }\r\n```","title":"Java automatically convert interface to subtype","body":"<p>So I came across a problem where I have implemented a method for all 4 subtypes of an interface. However, when calling that method with a variable that is of the supertype, it won't let me. I can explicitly use instanceof to check with one, but I need to implement a function that calls 2 instances of the interface.</p>\n<p>I already tried checking the 2 instances separately and casting them, but it doesn't work. A solution would be to create if-else with 16 branches to check each combination, but that isn't ideal.</p>\n<pre><code>public interface FormulaVisitor &lt;Result , AdditionalArg &gt; {\n    \n    Result visit(Atom formula, AdditionalArg a);\n    Result visit(BinaryOperator formula , AdditionalArg a);\n    Result visit(Constant formula , AdditionalArg a);\n    Result visit(Not formula , AdditionalArg a);\n\n    }\n</code></pre>\n"},{"tags":["java","android","kotlin","okhttp"],"answers":[{"tags":[],"owner":{"account_id":27644566,"reputation":341,"user_id":21100774,"display_name":"Aleksei Sinelnikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684082737,"creation_date":1684082737,"answer_id":76248629,"question_id":76248093,"body_markdown":"You can use OkHttp.\r\n\r\nYou can find an example in recipes - [Posting a String][1] \r\n\r\n\r\n  [1]: https://square.github.io/okhttp/recipes/#posting-a-string-kt-java\r\n\r\nSomething like this:\r\n\r\n```\r\nprivate val client = OkHttpClient()\r\n\r\n  fun run() {\r\n    val postBody = &quot;&quot;&quot;\r\n        |Releases\r\n        |--------\r\n        |\r\n        | * _1.0_ May 6, 2013\r\n        | * _1.1_ June 15, 2013\r\n        | * _1.2_ August 11, 2013\r\n        |&quot;&quot;&quot;.trimMargin()\r\n\r\n    val request = Request.Builder()\r\n        .url(&quot;https://api.github.com/markdown/raw&quot;)\r\n        .post(postBody.toRequestBody(MEDIA_TYPE_MARKDOWN))\r\n        .build()\r\n\r\n    client.newCall(request).execute().use { response -&gt;\r\n      if (!response.isSuccessful) throw IOException(&quot;Unexpected code $response&quot;)\r\n\r\n      println(response.body!!.string())\r\n    }\r\n  }\r\n\r\n  companion object {\r\n    val MEDIA_TYPE_MARKDOWN = &quot;text/x-markdown; charset=utf-8&quot;.toMediaType()\r\n  }\r\n```","title":"How to send plain text as request body using okhttp in Android?","body":"<p>You can use OkHttp.</p>\n<p>You can find an example in recipes - <a href=\"https://square.github.io/okhttp/recipes/#posting-a-string-kt-java\" rel=\"nofollow noreferrer\">Posting a String</a></p>\n<p>Something like this:</p>\n<pre><code>private val client = OkHttpClient()\n\n  fun run() {\n    val postBody = &quot;&quot;&quot;\n        |Releases\n        |--------\n        |\n        | * _1.0_ May 6, 2013\n        | * _1.1_ June 15, 2013\n        | * _1.2_ August 11, 2013\n        |&quot;&quot;&quot;.trimMargin()\n\n    val request = Request.Builder()\n        .url(&quot;https://api.github.com/markdown/raw&quot;)\n        .post(postBody.toRequestBody(MEDIA_TYPE_MARKDOWN))\n        .build()\n\n    client.newCall(request).execute().use { response -&gt;\n      if (!response.isSuccessful) throw IOException(&quot;Unexpected code $response&quot;)\n\n      println(response.body!!.string())\n    }\n  }\n\n  companion object {\n    val MEDIA_TYPE_MARKDOWN = &quot;text/x-markdown; charset=utf-8&quot;.toMediaType()\n  }\n</code></pre>\n"}],"owner":{"account_id":27778191,"reputation":5,"user_id":21207095,"display_name":"abcjeff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76248629,"answer_count":1,"score":0,"last_activity_date":1684082737,"creation_date":1684075834,"question_id":76248093,"body_markdown":"I need to send a plain text as the request payload to my web app. But I can&#39;t make it to work with okhttp. I don&#39;t need complicated body builder that okhttp comes with such as FormBody.Builder() or MultipartBody.Builder(). I just need a simple text body attached to a POST http request header. Something like this:\r\n```kotlin\r\nval myBody = &quot;my own body text that my server understands&quot;\r\nval request = Request.Builder()\r\n            .url(myUrl)\r\n            .post(myBody) //does not work.\r\n            .build()\r\n        okHttpClient.newCall(request)...\r\n```\r\nIf okhttp can&#39;t do it, is there an alternative to use?","title":"How to send plain text as request body using okhttp in Android?","body":"<p>I need to send a plain text as the request payload to my web app. But I can't make it to work with okhttp. I don't need complicated body builder that okhttp comes with such as FormBody.Builder() or MultipartBody.Builder(). I just need a simple text body attached to a POST http request header. Something like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val myBody = &quot;my own body text that my server understands&quot;\nval request = Request.Builder()\n            .url(myUrl)\n            .post(myBody) //does not work.\n            .build()\n        okHttpClient.newCall(request)...\n</code></pre>\n<p>If okhttp can't do it, is there an alternative to use?</p>\n"},{"tags":["java","android","android-studio","in-app-update"],"comments":[{"owner":{"account_id":483434,"reputation":25487,"user_id":898478,"accept_rate":86,"display_name":"m0skit0"},"score":0,"creation_date":1684080107,"post_id":76248383,"comment_id":134461021,"body_markdown":"Check the version, if it&#39;s newer, download it and ask the user to install it. Too much code to fit in here, but you get the overall idea.","body":"Check the version, if it&#39;s newer, download it and ask the user to install it. Too much code to fit in here, but you get the overall idea."}],"answers":[{"tags":[],"owner":{"account_id":7495697,"reputation":1501,"user_id":5696047,"display_name":"jayesh gurudayalani"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684081611,"creation_date":1684081611,"answer_id":76248557,"question_id":76248383,"body_markdown":"In this situation , you need to store your updated app version let&#39;s say ```firebase remote config``` you can use . So whenever user open your app , you should fetch latest version available to download from ```firebase remote config``` and compare with current . You can check code in this blog\r\n\r\nhttps://medium.com/@sembozdemir/force-your-users-to-update-your-app-with-using-firebase-33f1e0bcec5a","title":"How do i apply In-app updates to the non play store apks?","body":"<p>In this situation , you need to store your updated app version let's say <code>firebase remote config</code> you can use . So whenever user open your app , you should fetch latest version available to download from <code>firebase remote config</code> and compare with current . You can check code in this blog</p>\n<p><a href=\"https://medium.com/@sembozdemir/force-your-users-to-update-your-app-with-using-firebase-33f1e0bcec5a\" rel=\"nofollow noreferrer\">https://medium.com/@sembozdemir/force-your-users-to-update-your-app-with-using-firebase-33f1e0bcec5a</a></p>\n"}],"owner":{"account_id":28385093,"reputation":1,"user_id":21711676,"display_name":"King Grey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684081611,"creation_date":1684079566,"question_id":76248383,"body_markdown":"I want to add in app updates checking in my application android studio(java) and i dont have a play store application or i want to do this for github (say) how do i do that? if possible can u guys please provide with sample codes...\r\n\r\nlets say i have a app in github then i released the apk i want the application to look wheather the application is upto date or not and notify the user wheather the app is up to date or not if not i want the user to update the app\r\n","title":"How do i apply In-app updates to the non play store apks?","body":"<p>I want to add in app updates checking in my application android studio(java) and i dont have a play store application or i want to do this for github (say) how do i do that? if possible can u guys please provide with sample codes...</p>\n<p>lets say i have a app in github then i released the apk i want the application to look wheather the application is upto date or not and notify the user wheather the app is up to date or not if not i want the user to update the app</p>\n"},{"tags":["java","arrays","exception"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1683964991,"post_id":76241052,"comment_id":134449932,"body_markdown":"I recommend that you read this article: [How to debug small programs](https://ericlippert.com/2014/03/05/how-to-debug-small-programs).   The point is that techniques for debugging are something that &gt;you&lt; need to learn, as debugging is part of the work of a programmer.  Learning by doing is the best way to learn this.","body":"I recommend that you read this article: <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs\" rel=\"nofollow noreferrer\">How to debug small programs</a>.   The point is that techniques for debugging are something that &gt;you&lt; need to learn, as debugging is part of the work of a programmer.  Learning by doing is the best way to learn this."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1684083389,"post_id":76241052,"comment_id":134461405,"body_markdown":"Your result matrix is of size `row1`x`col2` not `col1`x`row2`. The exception occurs when your are printing the result out.","body":"Your result matrix is of size <code>row1</code>x<code>col2</code> not <code>col1</code>x<code>row2</code>. The exception occurs when your are printing the result out."}],"answers":[{"tags":[],"owner":{"account_id":18001781,"reputation":29,"user_id":15810134,"display_name":"kautom"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684081199,"creation_date":1684081199,"answer_id":76248532,"question_id":76241052,"body_markdown":"The iteration bounds in the double for loop for printing the new matrix should match the previous for loops for multiplication. I think this correction in your code will make it work. \r\n\r\n \r\n\r\n    for(int i=0;i&lt;row1;i++)//Here\r\n            {\r\n                for(int j=0;j&lt;col2;j++)//And here\r\n                {\r\n                    System.out.print(c[i][j]);\r\n\r\n                }\r\n                System.out.println(&quot;&quot;);\r\n            }\r\n\r\nGenerally speaking, in situations like this it will help if you set breakpoints in the lines where the problem is and then using the debugger. ","title":"Getting exception error when trying matrix multiplication","body":"<p>The iteration bounds in the double for loop for printing the new matrix should match the previous for loops for multiplication. I think this correction in your code will make it work.</p>\n<pre><code>for(int i=0;i&lt;row1;i++)//Here\n        {\n            for(int j=0;j&lt;col2;j++)//And here\n            {\n                System.out.print(c[i][j]);\n\n            }\n            System.out.println(&quot;&quot;);\n        }\n</code></pre>\n<p>Generally speaking, in situations like this it will help if you set breakpoints in the lines where the problem is and then using the debugger.</p>\n"}],"owner":{"account_id":28592304,"reputation":1,"user_id":21891246,"display_name":"Anirudh Murali"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684081199,"creation_date":1683951615,"question_id":76241052,"body_markdown":"Code works fine when both matrices have same number of rows and columns. like for eg. 3x3 and 3x3 matrix multiplication works fine.\r\n\r\nGetting below error when trying to multiply matrices with different sizes.  Tried multiplying a 2x3 matrix and a 3x4 matrix and got error.\r\n\r\n```\r\n**Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\r\n\tat arrayprac.ArrayPrac.main(ArrayPrac.java:85)\r\n38C:\\Users\\a807771\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\r\nC:\\Users\\a807771\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:68: Java returned: 1\r\nBUILD FAILED (total time: 12 seconds)**\r\n```\r\n\r\n```\r\npackage arrayprac;\r\nimport java.util.Scanner;\r\n\r\npublic class ArrayPrac {\r\n \r\n    public static void main(String[] args) {\r\n        \r\n     System.out.println(&quot;Enter number of rows for matrix 1: &quot;);\r\n     int row1,col1,row2,col2;\r\n     Scanner sc=new Scanner(System.in);\r\n     row1=sc.nextInt();\r\n     System.out.println(&quot;Enter number of Columns for matrix 1: &quot;);\r\n     col1=sc.nextInt();\r\n     System.out.println(&quot;Enter number of rows for matrix 2: &quot;);\r\n     row2=sc.nextInt();\r\n     System.out.println(&quot;Enter number of Columns for matrix 2: &quot;);\r\n     col2=sc.nextInt(); \r\n     int a[][]=new int[row1][col1];\r\n     int b[][]=new int[row2][col2];\r\n     for(int i=0;i&lt;row1;i++)\r\n     {\r\n         for(int j=0;j&lt;col1;j++)\r\n         {\r\n             System.out.println(&quot;Enter element for 1st matrix: &quot;);\r\n             a[i][j]=sc.nextInt();\r\n         }\r\n        \r\n     }\r\n     for(int i=0;i&lt;row2;i++)\r\n     {\r\n         for(int j=0;j&lt;col2;j++)\r\n         {\r\n             System.out.println(&quot;Enter element for 2nd matrix: &quot;);\r\n             b[i][j]=sc.nextInt();\r\n         }\r\n        \r\n     }\r\n     System.out.println(&quot;Below is the 1st matrix: \\n&quot;);\r\n     for(int i=0;i&lt;row1;i++)\r\n     {\r\n         for(int j=0;j&lt;col1;j++)\r\n         {\r\n             System.out.print(a[i][j]);\r\n             \r\n         }\r\n        System.out.println(&quot;&quot;);\r\n     }\r\n     \r\n     System.out.println(&quot;Below is the 2nd matrix: \\n&quot;);\r\n     for(int i=0;i&lt;row2;i++)\r\n     {\r\n         for(int j=0;j&lt;col2;j++)\r\n         {\r\n             System.out.print(b[i][j]);\r\n             \r\n         }\r\n        System.out.println(&quot;&quot;);\r\n     }\r\n     \r\n     if(col1!=row2)\r\n     {\r\n         System.out.println(&quot;Matrix multiplication impossible!&quot;);\r\n         System.exit(0);\r\n     }\r\n     else{\r\n         int c[][]=new int[row1][col2];\r\n         \r\n         for(int i=0;i&lt;row1;i++)\r\n         {\r\n             for(int j=0;j&lt;col2;j++)\r\n             {\r\n                 c[i][j]=0;\r\n                 for(int k=0;k&lt;row2;k++)\r\n                 {\r\n                     c[i][j]=c[i][j]+a[i][k]*b[k][j];\r\n                 }\r\n             }\r\n         }\r\n         \r\n     System.out.println(&quot;Below is the result matrix: \\n&quot;);\r\n     for(int i=0;i&lt;col1;i++)\r\n     {\r\n         for(int j=0;j&lt;row2;j++)\r\n         {\r\n             System.out.print(c[i][j]);\r\n             \r\n         }\r\n        System.out.println(&quot;&quot;);\r\n     }\r\n     }   \r\n     \r\n    }\r\n    \r\n}\r\n```\r\n\r\n\r\nCode works fine when both matrices have same number of rows and columns. like for eg. 3x3 and 3x3 matrix multiplication works fine.\r\n\r\nGetting error when trying to multiply matrices with different sizes. Tried multiplying a 2x3 matrix and a 3x4 matrix and got error.","title":"Getting exception error when trying matrix multiplication","body":"<p>Code works fine when both matrices have same number of rows and columns. like for eg. 3x3 and 3x3 matrix multiplication works fine.</p>\n<p>Getting below error when trying to multiply matrices with different sizes.  Tried multiplying a 2x3 matrix and a 3x4 matrix and got error.</p>\n<pre><code>**Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: Index 1 out of bounds for length 1\n    at arrayprac.ArrayPrac.main(ArrayPrac.java:85)\n38C:\\Users\\a807771\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:111: The following error occurred while executing this line:\nC:\\Users\\a807771\\AppData\\Local\\NetBeans\\Cache\\17\\executor-snippets\\run.xml:68: Java returned: 1\nBUILD FAILED (total time: 12 seconds)**\n</code></pre>\n<pre><code>package arrayprac;\nimport java.util.Scanner;\n\npublic class ArrayPrac {\n \n    public static void main(String[] args) {\n        \n     System.out.println(&quot;Enter number of rows for matrix 1: &quot;);\n     int row1,col1,row2,col2;\n     Scanner sc=new Scanner(System.in);\n     row1=sc.nextInt();\n     System.out.println(&quot;Enter number of Columns for matrix 1: &quot;);\n     col1=sc.nextInt();\n     System.out.println(&quot;Enter number of rows for matrix 2: &quot;);\n     row2=sc.nextInt();\n     System.out.println(&quot;Enter number of Columns for matrix 2: &quot;);\n     col2=sc.nextInt(); \n     int a[][]=new int[row1][col1];\n     int b[][]=new int[row2][col2];\n     for(int i=0;i&lt;row1;i++)\n     {\n         for(int j=0;j&lt;col1;j++)\n         {\n             System.out.println(&quot;Enter element for 1st matrix: &quot;);\n             a[i][j]=sc.nextInt();\n         }\n        \n     }\n     for(int i=0;i&lt;row2;i++)\n     {\n         for(int j=0;j&lt;col2;j++)\n         {\n             System.out.println(&quot;Enter element for 2nd matrix: &quot;);\n             b[i][j]=sc.nextInt();\n         }\n        \n     }\n     System.out.println(&quot;Below is the 1st matrix: \\n&quot;);\n     for(int i=0;i&lt;row1;i++)\n     {\n         for(int j=0;j&lt;col1;j++)\n         {\n             System.out.print(a[i][j]);\n             \n         }\n        System.out.println(&quot;&quot;);\n     }\n     \n     System.out.println(&quot;Below is the 2nd matrix: \\n&quot;);\n     for(int i=0;i&lt;row2;i++)\n     {\n         for(int j=0;j&lt;col2;j++)\n         {\n             System.out.print(b[i][j]);\n             \n         }\n        System.out.println(&quot;&quot;);\n     }\n     \n     if(col1!=row2)\n     {\n         System.out.println(&quot;Matrix multiplication impossible!&quot;);\n         System.exit(0);\n     }\n     else{\n         int c[][]=new int[row1][col2];\n         \n         for(int i=0;i&lt;row1;i++)\n         {\n             for(int j=0;j&lt;col2;j++)\n             {\n                 c[i][j]=0;\n                 for(int k=0;k&lt;row2;k++)\n                 {\n                     c[i][j]=c[i][j]+a[i][k]*b[k][j];\n                 }\n             }\n         }\n         \n     System.out.println(&quot;Below is the result matrix: \\n&quot;);\n     for(int i=0;i&lt;col1;i++)\n     {\n         for(int j=0;j&lt;row2;j++)\n         {\n             System.out.print(c[i][j]);\n             \n         }\n        System.out.println(&quot;&quot;);\n     }\n     }   \n     \n    }\n    \n}\n</code></pre>\n<p>Code works fine when both matrices have same number of rows and columns. like for eg. 3x3 and 3x3 matrix multiplication works fine.</p>\n<p>Getting error when trying to multiply matrices with different sizes. Tried multiplying a 2x3 matrix and a 3x4 matrix and got error.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":2198054,"reputation":1980,"user_id":1943228,"display_name":"kamwo"},"score":0,"creation_date":1549641609,"post_id":54595699,"comment_id":95988298,"body_markdown":"Do you run your Spring Boot App as JAR?","body":"Do you run your Spring Boot App as JAR?"},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1549645561,"post_id":54595699,"comment_id":95990457,"body_markdown":"First, we need to make sure... is your resource folder *guaranteed* to be a directory on the file system (vs content from a jar/war)?  Otherwise you might spend a lot of time building something that works while you&#39;re developing it, but then fails once you wrap it up to deploy it in production.  If these files are actually data that your application will work on, consider either coming up with a way to save it in the database, or have your platform provide a file system folder path as configuration data that you can then just use.","body":"First, we need to make sure... is your resource folder <i>guaranteed</i> to be a directory on the file system (vs content from a jar/war)?  Otherwise you might spend a lot of time building something that works while you&#39;re developing it, but then fails once you wrap it up to deploy it in production.  If these files are actually data that your application will work on, consider either coming up with a way to save it in the database, or have your platform provide a file system folder path as configuration data that you can then just use."}],"answers":[{"tags":[],"owner":{"account_id":10991662,"reputation":305,"user_id":8075423,"display_name":"Radoslav Hubenov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1549645130,"creation_date":1549645130,"answer_id":54597066,"question_id":54595699,"body_markdown":"You can use `java.utils` to create a folder inside the resource directory\r\n\r\n    new File(&quot;/path/directory&quot;).mkdirs();\r\n\r\n&quot;directory&quot; is the name for the folder you want to create","title":"How to create a folder inside the resource folder in SpringBoot app?","body":"<p>You can use <code>java.utils</code> to create a folder inside the resource directory</p>\n\n<pre><code>new File(\"/path/directory\").mkdirs();\n</code></pre>\n\n<p>\"directory\" is the name for the folder you want to create</p>\n"},{"tags":[],"owner":{"account_id":17330117,"reputation":3251,"user_id":12553450,"display_name":"Mafei"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684080604,"creation_date":1684080604,"answer_id":76248472,"question_id":54595699,"body_markdown":"you can get the root of the classpath from ```new ClassPathResource(&quot;.&quot;).getFile().getPath()``` and after that you can append the folder name that you want. after Make the File object by using that full path. and then you can create a folder as you want in the class path. \r\n```java\r\nFile txtFile = new File(new ClassPathResource(&quot;.&quot;).getFile().getPath()+&quot;/tmp&quot;);\r\nif (!txtFile.exists()) {\r\n     txtFile.mkdirs();\r\n}\r\n```","title":"How to create a folder inside the resource folder in SpringBoot app?","body":"<p>you can get the root of the classpath from <code>new ClassPathResource(&quot;.&quot;).getFile().getPath()</code> and after that you can append the folder name that you want. after Make the File object by using that full path. and then you can create a folder as you want in the class path.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File txtFile = new File(new ClassPathResource(&quot;.&quot;).getFile().getPath()+&quot;/tmp&quot;);\nif (!txtFile.exists()) {\n     txtFile.mkdirs();\n}\n</code></pre>\n"}],"owner":{"account_id":14601275,"reputation":940,"user_id":10545483,"display_name":"carles xuriguera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6710,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":54597066,"answer_count":2,"score":2,"last_activity_date":1684080604,"creation_date":1549640121,"question_id":54595699,"body_markdown":"I have a SpringBoot app where I read a folder of the resource folder of the app. but I would like to know if it is possible also to create a folder **in the resource folder**\r\n\r\n\r\n\r\n    File folderFrom = ResourceUtils.getFile(&quot;classpath:icons/svg/white/&quot;);\r\n\r\nsomething like \r\n\r\n    File folderTo = ResourceUtils.createFolder(&quot;classpath:icons/svg/black/&quot;);\r\n\r\n\r\nI trying to do it from Eclipse:\r\n\r\n\r\n    @SpringBootApplication\r\n    public class SvgManagerApplication implements CommandLineRunner {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(SvgManagerApplication.class, args);\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void run(String... args) throws Exception {\t\t\r\n    \t  ..\r\n        }\r\n    }\t\r\n\t","title":"How to create a folder inside the resource folder in SpringBoot app?","body":"<p>I have a SpringBoot app where I read a folder of the resource folder of the app. but I would like to know if it is possible also to create a folder <strong>in the resource folder</strong></p>\n\n<pre><code>File folderFrom = ResourceUtils.getFile(\"classpath:icons/svg/white/\");\n</code></pre>\n\n<p>something like </p>\n\n<pre><code>File folderTo = ResourceUtils.createFolder(\"classpath:icons/svg/black/\");\n</code></pre>\n\n<p>I trying to do it from Eclipse:</p>\n\n<pre><code>@SpringBootApplication\npublic class SvgManagerApplication implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SvgManagerApplication.class, args);\n    }\n\n\n    @Override\n    public void run(String... args) throws Exception {      \n      ..\n    }\n}   \n</code></pre>\n"},{"tags":["java","oop","inheritance","polymorphism","abstract-class"],"answers":[{"tags":[],"owner":{"account_id":1455702,"reputation":15662,"user_id":1371329,"accept_rate":64,"display_name":"jaco0646"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684080443,"creation_date":1684080443,"answer_id":76248460,"question_id":76248262,"body_markdown":"You don&#39;t need to explicitly name a superclass to invoke its methods, because a Java class can only extend one superclass, so `MyClass.super.method()` is unambiguous. In fact, you needn&#39;t even name the child class at all: `super.method()` is also unambiguous due to Java&#39;s single inheritance model.\r\n\r\nYou do need to explicitly name a super-interface to invoke its methods, because a Java class can implement multiple interfaces, so `MyInterface.super.method()` is necessary to identify which interface is being invoked.\r\n\r\n    interface MyInterface {\r\n        default void m1(){\r\n            System.out.println(&quot;MyInterface&quot;);\r\n        }\r\n    }\r\n\r\n    abstract class MyAbstractClass {\r\n        public void m1(){\r\n            System.out.println(&quot;MyAbstractClass&quot;);\r\n        }\r\n    }\r\n\r\n    public class MyClass extends MyAbstractClass implements MyInterface {\r\n        @Override\r\n        public void m1() {\r\n            super.m1();             // MyAbstractClass\r\n            MyClass.super.m1();     // MyAbstractClass\r\n            MyInterface.super.m1(); // MyInterface\r\n        }\r\n    \r\n        public static void main(String... args) {\r\n            new MyClass().m1();\r\n        }\r\n    }","title":"How to call a method of super class from parent class. How to call the same method from interface?","body":"<p>You don't need to explicitly name a superclass to invoke its methods, because a Java class can only extend one superclass, so <code>MyClass.super.method()</code> is unambiguous. In fact, you needn't even name the child class at all: <code>super.method()</code> is also unambiguous due to Java's single inheritance model.</p>\n<p>You do need to explicitly name a super-interface to invoke its methods, because a Java class can implement multiple interfaces, so <code>MyInterface.super.method()</code> is necessary to identify which interface is being invoked.</p>\n<pre><code>interface MyInterface {\n    default void m1(){\n        System.out.println(&quot;MyInterface&quot;);\n    }\n}\n\nabstract class MyAbstractClass {\n    public void m1(){\n        System.out.println(&quot;MyAbstractClass&quot;);\n    }\n}\n\npublic class MyClass extends MyAbstractClass implements MyInterface {\n    @Override\n    public void m1() {\n        super.m1();             // MyAbstractClass\n        MyClass.super.m1();     // MyAbstractClass\n        MyInterface.super.m1(); // MyInterface\n    }\n\n    public static void main(String... args) {\n        new MyClass().m1();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21085734,"reputation":11,"user_id":15498896,"display_name":"Tejas Nakhate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76248460,"answer_count":1,"score":0,"last_activity_date":1684080443,"creation_date":1684078036,"question_id":76248262,"body_markdown":"I am learning java and I am trying to recreate a scenario where A class is extending an abstract class and also implementing an interface. Each abstract class and interface have a same method defined in them. Now from the class which is extending and implementing, I want to call the implementations of both the parents. I tried to recreate this scenario as below but it gave me the error: not an enclosing class: A\r\n\r\n```\r\ninterface C {\r\n  default void m1(){\r\n      System.out.println(&quot;C&quot;);\r\n  }\r\n}\r\n\r\nabstract class A{\r\n  abstract void display();\r\n  void m1(){\r\n      System.out.println(&quot;A&quot;);\r\n  }\r\n}\r\n\r\nclass B extends A implements C{\r\n    public void m1(){\r\n    }\r\n    void display() {\r\n        C.super.m1();\r\n        A.super.m1(); // error: not an enclosing class: A\r\n    }\r\n}\r\n\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    A obj = new B();\r\n    obj.display();\r\n  }\r\n}\r\n```","title":"How to call a method of super class from parent class. How to call the same method from interface?","body":"<p>I am learning java and I am trying to recreate a scenario where A class is extending an abstract class and also implementing an interface. Each abstract class and interface have a same method defined in them. Now from the class which is extending and implementing, I want to call the implementations of both the parents. I tried to recreate this scenario as below but it gave me the error: not an enclosing class: A</p>\n<pre><code>interface C {\n  default void m1(){\n      System.out.println(&quot;C&quot;);\n  }\n}\n\nabstract class A{\n  abstract void display();\n  void m1(){\n      System.out.println(&quot;A&quot;);\n  }\n}\n\nclass B extends A implements C{\n    public void m1(){\n    }\n    void display() {\n        C.super.m1();\n        A.super.m1(); // error: not an enclosing class: A\n    }\n}\n\npublic class Main {\n  public static void main(String[] args) {\n    A obj = new B();\n    obj.display();\n  }\n}\n</code></pre>\n"},{"tags":["java","sql","mysql","spring-boot","xampp"],"comments":[{"owner":{"account_id":2674049,"reputation":93913,"user_id":2310830,"display_name":"RiggsFolly"},"score":2,"creation_date":1684079990,"post_id":76248404,"comment_id":134461012,"body_markdown":"XAMPP does not run on a port! Do you mean you have a mariaDB listening on port 3308?","body":"XAMPP does not run on a port! Do you mean you have a mariaDB listening on port 3308?"},{"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"score":0,"creation_date":1684080333,"post_id":76248404,"comment_id":134461058,"body_markdown":"Yes, sorry I misspoke.","body":"Yes, sorry I misspoke."},{"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"score":0,"creation_date":1684082169,"post_id":76248404,"comment_id":134461277,"body_markdown":"Are you able to connect to the database using some UI tool?","body":"Are you able to connect to the database using some UI tool?"},{"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"score":0,"creation_date":1684082664,"post_id":76248404,"comment_id":134461337,"body_markdown":"yes mySQLWorbench","body":"yes mySQLWorbench"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1684083606,"post_id":76248404,"comment_id":134461436,"body_markdown":"Does user admin with password admin exist? Default is different (root without password).","body":"Does user admin with password admin exist? Default is different (root without password)."},{"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"score":0,"creation_date":1684083868,"post_id":76248404,"comment_id":134461473,"body_markdown":"Yes. Now trying to open the connection in MySQL workbench I get this error &#39;You cannot connect to data server. Access denied for user &#39;admin@localhost&#39; &#39;.","body":"Yes. Now trying to open the connection in MySQL workbench I get this error &#39;You cannot connect to data server. Access denied for user &#39;admin@localhost&#39; &#39;."},{"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"score":0,"creation_date":1684084293,"post_id":76248404,"comment_id":134461524,"body_markdown":"So you answered your question yourself. the problem is your username/password combination.","body":"So you answered your question yourself. the problem is your username/password combination."},{"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"score":0,"creation_date":1684084808,"post_id":76248404,"comment_id":134461586,"body_markdown":"How can I fix it ? I just tried to add a connection with user : root without password and on port 3308 . I get this error: &#39;Connection warning : Inconpatible server version or connection protocol detected(10.4.28) MYsql Workbench is developed and tested for mysql server versions 5.6, 5.7 and 8.0&#39; and I currently have mysql server versions 5.7 and 8.0 installed.","body":"How can I fix it ? I just tried to add a connection with user : root without password and on port 3308 . I get this error: &#39;Connection warning : Inconpatible server version or connection protocol detected(10.4.28) MYsql Workbench is developed and tested for mysql server versions 5.6, 5.7 and 8.0&#39; and I currently have mysql server versions 5.7 and 8.0 installed."}],"owner":{"account_id":27559452,"reputation":13,"user_id":21032796,"display_name":"Programmer-G"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684080174,"creation_date":1684079794,"question_id":76248404,"body_markdown":"When I try to run the application it sends me this error.\r\n\r\n&gt;Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 8.189 s \\&lt;\\&lt;\\&lt; FAILURE! - in com.ap.iangenta.IangentaApplicationTests\r\n\r\n&gt;contextLoads  Time elapsed: 0 s  \\&lt;\\&lt;\\&lt; ERROR!\r\n\r\n&gt;java.lang.IllegalStateException: Failed to load ApplicationContext\r\n\r\n&gt;Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource \\[org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class\\]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: \\[PersistenceUnit: default\\] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution\r\n\r\n&gt;Caused by: javax.persistence.PersistenceException: \\[PersistenceUnit: default\\] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution\r\n\r\n&gt;Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution\r\n\r\n&gt;Caused by: java.sql.SQLException: Access denied for user &#39;admin &#39;@&#39;localhost&#39; (using password: YES)\r\n\r\nthis is my aplication properties files\r\n\r\n```\r\nspring.jpa.hibernate.ddl-auto=update\r\n```\r\n\r\n```\r\nspring.datasource.url=jdbc:mysql://localhost:3308/dbargpro?useSSL=false&amp;serverTimezone=UTC\r\n```\r\n\r\n```\r\nspring.datasource.username=admin \r\n```\r\n\r\n```\r\nspring.datasource.password=admin\r\n```\r\n\r\n```\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\r\n```\r\n\r\nand I have xampp running on the port : **3308**\r\n\r\n\r\nand this is the pom file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.11&lt;/version&gt;\r\n            &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;com.ap&lt;/groupId&gt;\r\n        &lt;artifactId&gt;iangenta&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;name&gt;iangenta&lt;/name&gt;\r\n        &lt;description&gt;Proyecto para argentina programa, Realic&#233; de nuevo el  backend con versiones anteriores por errores que me daban con SpringBoot 3.0.06 &lt;/description&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n                    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                &lt;optional&gt;true&lt;/optional&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;excludes&gt;\r\n                            &lt;exclude&gt;\r\n                                &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n                                &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n                            &lt;/exclude&gt;\r\n                        &lt;/excludes&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"I try to run my java spring boot application for the first time and it does not work","body":"<p>When I try to run the application it sends me this error.</p>\n<blockquote>\n<p>Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 8.189 s &lt;&lt;&lt; FAILURE! - in com.ap.iangenta.IangentaApplicationTests</p>\n</blockquote>\n<blockquote>\n<p>contextLoads  Time elapsed: 0 s  &lt;&lt;&lt; ERROR!</p>\n</blockquote>\n<blockquote>\n<p>java.lang.IllegalStateException: Failed to load ApplicationContext</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution</p>\n</blockquote>\n<blockquote>\n<p>Caused by: javax.persistence.PersistenceException: [PersistenceUnit: default] Unable to build Hibernate SessionFactory; nested exception is org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution</p>\n</blockquote>\n<blockquote>\n<p>Caused by: org.hibernate.exception.GenericJDBCException: Unable to open JDBC Connection for DDL execution</p>\n</blockquote>\n<blockquote>\n<p>Caused by: java.sql.SQLException: Access denied for user 'admin '@'localhost' (using password: YES)</p>\n</blockquote>\n<p>this is my aplication properties files</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3308/dbargpro?useSSL=false&amp;serverTimezone=UTC\n</code></pre>\n<pre><code>spring.datasource.username=admin \n</code></pre>\n<pre><code>spring.datasource.password=admin\n</code></pre>\n<pre><code>spring.jpa.database-platform=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>and I have xampp running on the port : <strong>3308</strong></p>\n<p>and this is the pom file</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.11&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ap&lt;/groupId&gt;\n    &lt;artifactId&gt;iangenta&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;iangenta&lt;/name&gt;\n    &lt;description&gt;Proyecto para argentina programa, RealicÃ© de nuevo el  backend con versiones anteriores por errores que me daban con SpringBoot 3.0.06 &lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.hibernate/hibernate-entitymanager --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n                \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","hibernate","maven"],"comments":[{"owner":{"account_id":6288567,"reputation":201,"user_id":4886960,"display_name":"diufanman"},"score":0,"creation_date":1437228509,"post_id":31491543,"comment_id":50947452,"body_markdown":"Should the file be named hibernate.cfg.xml (case sensitive, h instead of H)? Are you sure you really used your config file (may be you have another config file in your class path? Or have you packaged your entity class to the application?","body":"Should the file be named hibernate.cfg.xml (case sensitive, h instead of H)? Are you sure you really used your config file (may be you have another config file in your class path? Or have you packaged your entity class to the application?"},{"owner":{"account_id":2375630,"reputation":30604,"user_id":2815219,"display_name":"Raman Sahasi"},"score":2,"creation_date":1437229505,"post_id":31491543,"comment_id":50947690,"body_markdown":"Can you please post the exception that you&#39;re getting?","body":"Can you please post the exception that you&#39;re getting?"},{"owner":{"account_id":6121479,"reputation":97,"user_id":4774873,"accept_rate":75,"display_name":"Saif ullah Minhas"},"score":0,"creation_date":1437330142,"post_id":31491543,"comment_id":50971693,"body_markdown":"@diufanman sorry I just typed wrong in the question. It is actually hibernate.cfg.xml and the same in my project. And yeah I am sure about thew configuration file and I have my packaged the entity class rightly.","body":"@diufanman sorry I just typed wrong in the question. It is actually hibernate.cfg.xml and the same in my project. And yeah I am sure about thew configuration file and I have my packaged the entity class rightly."},{"owner":{"account_id":6121479,"reputation":97,"user_id":4774873,"accept_rate":75,"display_name":"Saif ullah Minhas"},"score":0,"creation_date":1437331688,"post_id":31491543,"comment_id":50972232,"body_markdown":"@Rdx I am adding the exception in question.\nNow there is a little twist in scenario. I bypassed the exception by changing my maven dependency of hibernate-core. I was getting the exception with this dependency. hibernate-core and version 5.0.0.CR2. It was latest on maven website. [The exact code is added in the question at end] But when I changed the version to 4.3.7.Final. Then there was no exception. I dont know why it is throwing exception. Maybe you can explain. I will appreciate that. :)","body":"@Rdx I am adding the exception in question. Now there is a little twist in scenario. I bypassed the exception by changing my maven dependency of hibernate-core. I was getting the exception with this dependency. hibernate-core and version 5.0.0.CR2. It was latest on maven website. [The exact code is added in the question at end] But when I changed the version to 4.3.7.Final. Then there was no exception. I dont know why it is throwing exception. Maybe you can explain. I will appreciate that. :)"}],"answers":[{"tags":[],"owner":{"account_id":1543184,"reputation":1580,"user_id":1437347,"accept_rate":52,"display_name":"Chowdappa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1449484783,"creation_date":1449484783,"answer_id":34131583,"question_id":31491543,"body_markdown":"your book not implemented Serializable.\r\ntry with this.\r\n\r\n    public class Book implements Serializable{\r\n    }\r\n\r\n","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>your book not implemented Serializable.\ntry with this.</p>\n\n<pre><code>public class Book implements Serializable{\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7422059,"reputation":8094,"user_id":5645988,"display_name":"Madhusudana Reddy Sunnapu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1450017958,"creation_date":1449484800,"answer_id":34131591,"question_id":31491543,"body_markdown":"I believe, with the latest versions of hibernate they have removed support for the `&lt;mapping&gt;` tag in the configuration file. Instead you can use `addAnnotatedClass(&lt;Your domain class&gt;)` method defined in the Configuration class. i.e., configuration.addAnnotatedClass(Book.class); in this case.\r\n\r\n-Madhu.","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>I believe, with the latest versions of hibernate they have removed support for the <code>&lt;mapping&gt;</code> tag in the configuration file. Instead you can use <code>addAnnotatedClass(&lt;Your domain class&gt;)</code> method defined in the Configuration class. i.e., configuration.addAnnotatedClass(Book.class); in this case.</p>\n\n<p>-Madhu.</p>\n"},{"tags":[],"owner":{"account_id":7322177,"reputation":1011,"user_id":5577819,"accept_rate":100,"display_name":"Zia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1449813583,"creation_date":1449813583,"answer_id":34217043,"question_id":31491543,"body_markdown":"First implement the Serializable interface in your entity class,\r\n\r\n    public class Book implements Serializable{\r\n    }\r\n\r\nSecondly Don&#39;t use Configuration with StandardServiceRegistryBuilder, Configuration is considered deprecated,\r\nbut instead make the bootstrapping as mentioned in the hibernate 5 documentation, for reference go tobelow link,\r\n\r\n http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#bootstrap-native-sessionfactory\r\n \r\n\r\n\r\nor you can modify your code as below to give a try i hope it will work\r\n\t\r\n\t\r\n\r\n    if (sessionFactory == null) {\r\n    \r\n            Configuration configuration = new Configuration();\r\n            configuration.configure(&quot;hibernate.cfg.xml&quot;);\r\n    \t\tconfiguration.addClass( Book.class ).addResource( &quot;com/openlibrary/model/Book.hbm.xml&quot; );\r\n            serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\r\n            sessionFactory = configuration.buildSessionFactory(serviceRegistry.build());\r\n    \r\n        }","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>First implement the Serializable interface in your entity class,</p>\n\n<pre><code>public class Book implements Serializable{\n}\n</code></pre>\n\n<p>Secondly Don't use Configuration with StandardServiceRegistryBuilder, Configuration is considered deprecated,\nbut instead make the bootstrapping as mentioned in the hibernate 5 documentation, for reference go tobelow link,</p>\n\n<p><a href=\"http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#bootstrap-native-sessionfactory\" rel=\"nofollow\">http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#bootstrap-native-sessionfactory</a></p>\n\n<p>or you can modify your code as below to give a try i hope it will work</p>\n\n<pre><code>if (sessionFactory == null) {\n\n        Configuration configuration = new Configuration();\n        configuration.configure(\"hibernate.cfg.xml\");\n        configuration.addClass( Book.class ).addResource( \"com/openlibrary/model/Book.hbm.xml\" );\n        serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties());\n        sessionFactory = configuration.buildSessionFactory(serviceRegistry.build());\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3417936,"reputation":1904,"user_id":2866298,"accept_rate":63,"display_name":"osama yaccoub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450037070,"creation_date":1450037070,"answer_id":34255711,"question_id":31491543,"body_markdown":"Don&#39;t use Configuration with StandardServiceRegistryBuilder, Configuration is considered deprecated, but instead make the bootstrapping as mentioned in the hibernate 5 documentation, I had the same problem and this fixed it.\r\n\r\n    StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\r\n    .configure( &quot;org/hibernate/example/MyCfg.xml&quot; )\r\n    .build();\r\n\r\n    Metadata metadata = new MetadataSources( standardRegistry )\r\n    .addAnnotatedClass( MyEntity.class )\r\n    .addAnnotatedClassName( &quot;org.hibernate.example.Customer&quot; )\r\n    .addResource( &quot;org/hibernate/example/Order.hbm.xml&quot; )\r\n    .addResource( &quot;org/hibernate/example/Product.orm.xml&quot; )\r\n    .getMetadataBuilder()\r\n    .applyImplicitNamingStrategy( ImplicitNamingStrategyJpaCompliantImpl.INSTANCE )\r\n    .build();\r\n\r\n    SessionFactory sessionFactory = metadata.getSessionFactoryBuilder()\r\n    .applyBeanManager( getBeanManagerFromSomewhere() )\r\n    .build();\r\n\r\nfor further details , check the [documentation][1]\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#bootstrap-native-sessionfactory","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>Don't use Configuration with StandardServiceRegistryBuilder, Configuration is considered deprecated, but instead make the bootstrapping as mentioned in the hibernate 5 documentation, I had the same problem and this fixed it.</p>\n\n<pre><code>StandardServiceRegistry standardRegistry = new StandardServiceRegistryBuilder()\n.configure( \"org/hibernate/example/MyCfg.xml\" )\n.build();\n\nMetadata metadata = new MetadataSources( standardRegistry )\n.addAnnotatedClass( MyEntity.class )\n.addAnnotatedClassName( \"org.hibernate.example.Customer\" )\n.addResource( \"org/hibernate/example/Order.hbm.xml\" )\n.addResource( \"org/hibernate/example/Product.orm.xml\" )\n.getMetadataBuilder()\n.applyImplicitNamingStrategy( ImplicitNamingStrategyJpaCompliantImpl.INSTANCE )\n.build();\n\nSessionFactory sessionFactory = metadata.getSessionFactoryBuilder()\n.applyBeanManager( getBeanManagerFromSomewhere() )\n.build();\n</code></pre>\n\n<p>for further details , check the <a href=\"http://docs.jboss.org/hibernate/orm/5.0/userGuide/en-US/html_single/#bootstrap-native-sessionfactory\" rel=\"nofollow\">documentation</a></p>\n"},{"tags":[],"owner":{"account_id":4074512,"reputation":636,"user_id":3346538,"display_name":"Ranjeet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450075009,"creation_date":1450075009,"answer_id":34261070,"question_id":31491543,"body_markdown":"-Your Book Model class is not implemented Serializable interface.\r\n\r\n-Try with below code.\r\n\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.Id;\r\n    \r\n        @Entity\r\n        public class Book implements Serializable {\r\n            @Id\r\n            @GeneratedValue\r\n            int bookID;\r\n            String bookName;\r\n        \r\n            public int getBookID() {\r\n                return bookID;\r\n            }\r\n        \r\n            public void setBookID(int bookID) {\r\n                this.bookID = bookID;\r\n            }\r\n        \r\n            public String getBookName() {\r\n                return bookName;\r\n            }\r\n        \r\n            public void setBookName(String bookName) {\r\n                this.bookName = bookName;\r\n            }\r\n        }\r\n\r\n","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>-Your Book Model class is not implemented Serializable interface.</p>\n\n<p>-Try with below code.</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n    @Entity\n    public class Book implements Serializable {\n        @Id\n        @GeneratedValue\n        int bookID;\n        String bookName;\n\n        public int getBookID() {\n            return bookID;\n        }\n\n        public void setBookID(int bookID) {\n            this.bookID = bookID;\n        }\n\n        public String getBookName() {\n            return bookName;\n        }\n\n        public void setBookName(String bookName) {\n            this.bookName = bookName;\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7230662,"reputation":8299,"user_id":5517633,"display_name":"Abdelhak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450089098,"creation_date":1450089098,"answer_id":34264773,"question_id":31491543,"body_markdown":"Obviously you should add, but doesn&#39;t have impact:\r\n       \r\n      public class Book implements Serializable{\r\n       }          \r\nBut when I changed the version to 4.3.7.Final. Then there was no exception.\r\n       \r\n        &lt;dependency&gt;\r\n\t      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t      &lt;version&gt;4.3.7.Final&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>Obviously you should add, but doesn't have impact:</p>\n\n<pre><code>  public class Book implements Serializable{\n   }          \n</code></pre>\n\n<p>But when I changed the version to 4.3.7.Final. Then there was no exception.</p>\n\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n      &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n      &lt;version&gt;4.3.7.Final&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7708270,"reputation":129,"user_id":5838541,"display_name":"djg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684079870,"creation_date":1684079870,"answer_id":76248410,"question_id":31491543,"body_markdown":"For me it was the fact that at some point hibernate started using the annotations from jakarta.persistence.* as opposed to java.persistence.*","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>For me it was the fact that at some point hibernate started using the annotations from jakarta.persistence.* as opposed to java.persistence.*</p>\n"}],"owner":{"account_id":6121479,"reputation":97,"user_id":4774873,"accept_rate":75,"display_name":"Saif ullah Minhas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3212,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":7,"score":2,"last_activity_date":1684079870,"creation_date":1437225338,"question_id":31491543,"body_markdown":"I am trying to run a maven based Hibernate Hello World Project. I have done every step right but it is giving Hibernate Mapping Exception: Unknown Entity. I have already declared mapping of my Entity class in Hibernate.cfg.xml. \r\n\r\nHere is my configuration file code.\r\n\r\n    &lt;?xml version=&#39;1.0&#39; encoding=&#39;utf-8&#39;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC &quot;-//Hibernate/Hibernate Configuration DTD//EN&quot;\r\n    &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\r\n    &lt;hibernate-configuration&gt;\r\n\t&lt;session-factory&gt;\r\n\r\n\r\n\t\t&lt;!-- Database connection settings --&gt;\r\n \r\n        &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n        &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/test\r\n        &lt;/property&gt;\r\n        &lt;property name=&quot;connection.username&quot;&gt;root&lt;/property&gt;\r\n        &lt;property name=&quot;connection.password&quot;&gt;root&lt;/property&gt;\r\n\r\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n        &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\n        &lt;!-- SQL dialect --&gt;\r\n        &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n        &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n        &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n        &lt;!-- Disable the second-level cache  --&gt;\r\n        &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n\r\n        &lt;!-- Echo all executed SQL to stdout --&gt;\r\n        &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n        &lt;!-- Drop and re-create the database schema on startup\r\n         \t if table isn&#39;t present hibernate will create the table --&gt;\r\n        &lt;property name=&quot;hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n\r\n\t\t&lt;property name=&quot;hibernate.current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\t\t&lt;mapping class=&quot;com.openlibrary.model.Book&quot;/&gt;\r\n\t\t\r\n\t\t\r\n\t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\nHere is Session Factory code\r\n\r\n\tpublic static SessionFactory getSessionFactory() {\r\n\r\n\t\tif (sessionFactory == null) {\r\n\r\n\t\t\tConfiguration configuration = new Configuration();\r\n\t\t\tconfiguration.configure();\r\n\t\t\tserviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\r\n\t\t\tsessionFactory = configuration.buildSessionFactory(serviceRegistry);\r\n\r\n\t\t}\r\n\t\treturn sessionFactory;\r\n\t}\r\n\r\n\r\nAnd my model class\r\n\tpackage com.openlibrary.model;\r\n\r\n\timport javax.persistence.Entity;\r\n\timport javax.persistence.GeneratedValue;\r\n\timport javax.persistence.Id;\r\n\r\n\t@Entity\r\n\tpublic class Book {\r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tint bookID;\r\n\t\tString bookName;\r\n\r\n\t\tpublic int getBookID() {\r\n\t\t\treturn bookID;\r\n\t\t}\r\n\r\n\t\tpublic void setBookID(int bookID) {\r\n\t\t\tthis.bookID = bookID;\r\n\t\t}\r\n\r\n\t\tpublic String getBookName() {\r\n\t\t\treturn bookName;\r\n\t\t}\r\n\r\n\t\tpublic void setBookName(String bookName) {\r\n\t\t\tthis.bookName = bookName;\r\n\t\t}\r\n\t}\r\n\r\n\r\nAnd here is the exception \r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.UnknownEntityTypeException: Unable to locate persister: com.openlibrary.model.Book\r\n\tat org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:787)\r\n\tat org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2637)\r\n\tat org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2575)\r\n\tat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2562)\r\n\tat org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044)\r\n\tat org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\r\n\tat com.openlibrary.dao.BookDAO.getBookById(BookDAO.java:43)\r\n\tat com.openlibrary.test.Testing.main(Testing.java:22)\r\n\r\n\r\nI know such question has been asked before But I am unable to understand why hibernate throws exception when mapping is already done. I did it last time almost a year back. It was working the same way. Need help here. \r\n\r\nNow there is a little twist in scenario. I bypassed the exception by changing my maven dependency of hibernate-core. I was getting the exception with this dependency. It was latest on maven website. \r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.0.0.CR2&lt;/version&gt;\r\n\t &lt;/dependency&gt;\r\n\r\n\r\nI changed the version to 4.3.7.Final. Then there was no exception. I dont know why it is throwing exception. Maybe someone can explain. I will really appreciate that.","title":"Hibernate Mapping Exception [Tried previous solutions]","body":"<p>I am trying to run a maven based Hibernate Hello World Project. I have done every step right but it is giving Hibernate Mapping Exception: Unknown Entity. I have already declared mapping of my Entity class in Hibernate.cfg.xml. </p>\n\n<p>Here is my configuration file code.</p>\n\n<pre><code>&lt;?xml version='1.0' encoding='utf-8'?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC \"-//Hibernate/Hibernate Configuration DTD//EN\"\n\"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n&lt;session-factory&gt;\n\n\n    &lt;!-- Database connection settings --&gt;\n\n    &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n    &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/test\n    &lt;/property&gt;\n    &lt;property name=\"connection.username\"&gt;root&lt;/property&gt;\n    &lt;property name=\"connection.password\"&gt;root&lt;/property&gt;\n\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\n    &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n    &lt;!-- SQL dialect --&gt;\n    &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n    &lt;!-- Enable Hibernate's automatic session context management --&gt;\n    &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n    &lt;!-- Disable the second-level cache  --&gt;\n    &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n    &lt;!-- Echo all executed SQL to stdout --&gt;\n    &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n    &lt;!-- Drop and re-create the database schema on startup\n         if table isn't present hibernate will create the table --&gt;\n    &lt;property name=\"hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n    &lt;property name=\"hibernate.current_session_context_class\"&gt;thread&lt;/property&gt;\n    &lt;mapping class=\"com.openlibrary.model.Book\"/&gt;\n\n\n&lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>Here is Session Factory code</p>\n\n<pre><code>public static SessionFactory getSessionFactory() {\n\n    if (sessionFactory == null) {\n\n        Configuration configuration = new Configuration();\n        configuration.configure();\n        serviceRegistry = new StandardServiceRegistryBuilder().applySettings(configuration.getProperties()).build();\n        sessionFactory = configuration.buildSessionFactory(serviceRegistry);\n\n    }\n    return sessionFactory;\n}\n</code></pre>\n\n<p>And my model class\n    package com.openlibrary.model;</p>\n\n<pre><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.Id;\n\n@Entity\npublic class Book {\n    @Id\n    @GeneratedValue\n    int bookID;\n    String bookName;\n\n    public int getBookID() {\n        return bookID;\n    }\n\n    public void setBookID(int bookID) {\n        this.bookID = bookID;\n    }\n\n    public String getBookName() {\n        return bookName;\n    }\n\n    public void setBookName(String bookName) {\n        this.bookName = bookName;\n    }\n}\n</code></pre>\n\n<p>And here is the exception </p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.UnknownEntityTypeException: Unable to locate persister: com.openlibrary.model.Book\nat org.hibernate.internal.SessionFactoryImpl.locateEntityPersister(SessionFactoryImpl.java:787)\nat org.hibernate.internal.SessionImpl.locateEntityPersister(SessionImpl.java:2637)\nat org.hibernate.internal.SessionImpl.access$2500(SessionImpl.java:164)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2575)\nat org.hibernate.internal.SessionImpl$IdentifierLoadAccessImpl.&lt;init&gt;(SessionImpl.java:2562)\nat org.hibernate.internal.SessionImpl.byId(SessionImpl.java:1044)\nat org.hibernate.internal.SessionImpl.get(SessionImpl.java:955)\nat com.openlibrary.dao.BookDAO.getBookById(BookDAO.java:43)\nat com.openlibrary.test.Testing.main(Testing.java:22)\n</code></pre>\n\n<p>I know such question has been asked before But I am unable to understand why hibernate throws exception when mapping is already done. I did it last time almost a year back. It was working the same way. Need help here. </p>\n\n<p>Now there is a little twist in scenario. I bypassed the exception by changing my maven dependency of hibernate-core. I was getting the exception with this dependency. It was latest on maven website. </p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;5.0.0.CR2&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n\n<p>I changed the version to 4.3.7.Final. Then there was no exception. I dont know why it is throwing exception. Maybe someone can explain. I will really appreciate that.</p>\n"},{"tags":["java","hadoop","junit","byteman"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684079307,"post_id":76246422,"comment_id":134460903,"body_markdown":"Can you please explain what you&#39;re trying to test since you have no assertions?","body":"Can you please explain what you&#39;re trying to test since you have no assertions?"},{"owner":{"account_id":11864339,"reputation":11,"user_id":8682225,"display_name":"user8682225"},"score":0,"creation_date":1684932986,"post_id":76246422,"comment_id":134589636,"body_markdown":"I try to use byteman to inject code in hadoop when we run &quot;mvn test&quot;.","body":"I try to use byteman to inject code in hadoop when we run &quot;mvn test&quot;."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1684933901,"post_id":76246422,"comment_id":134589915,"body_markdown":"I can see that, but you have no actual tests shown. Plus, I&#39;d recommend mocks rather than byte code injection for actually testing runtime functionality","body":"I can see that, but you have no actual tests shown. Plus, I&#39;d recommend mocks rather than byte code injection for actually testing runtime functionality"}],"owner":{"account_id":11864339,"reputation":11,"user_id":8682225,"display_name":"user8682225"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684079294,"creation_date":1684051058,"question_id":76246422,"body_markdown":"I use byteman with Junit from maven.\r\n\r\nI tested the [hadoop project](https://github.com/apache/hadoop). I add some properties in the root pom.xml according to official site.\r\n\r\n``` \r\n  &lt;dependencies&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;com.byteman&lt;/groupId&gt;\r\n        &lt;artifactId&gt;myhelper&lt;/artifactId&gt;\r\n        &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;version&gt;4.13.2&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n      &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byteman&lt;/artifactId&gt;\r\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\r\n            &lt;version&gt;4.0.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byteman-submit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;4.0.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byteman-install&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;4.0.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\r\n            &lt;artifactId&gt;byteman-bmunit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;4.0.20&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n```\r\n\r\nThis is the code segment:\r\n\r\n```\r\n    @org.junit.runner.RunWith(org.jboss.byteman.contrib.bmunit.BMUnitRunner.class)\r\n    @org.jboss.byteman.contrib.bmunit.BMUnitConfig(loadDirectory=&quot;target/test-classes&quot;)\r\n    @org.jboss.byteman.contrib.bmunit.BMScript(value=&quot;check.btm&quot;)\r\n    public class TestNestedMountPoint {\r\n      private InodeTree inodeTree;\r\n      private Configuration conf;\r\n      private String mtName;\r\n      private URI fsUri;\r\n\r\n      static class TestNestMountPointFileSystem {\r\n        public URI getUri() {\r\n          return uri;\r\n        }\r\n\r\n        private URI uri;\r\n\r\n        TestNestMountPointFileSystem(URI uri) {\r\n          this.uri = uri;\r\n        }\r\n      }\r\n    ...\r\n    }\r\n```\r\n\r\nMy check.btm content segments is:\r\n\r\n```\r\nRULE 8b6addaa-abcb-4c5a-b82a-88286b61da08\r\nCLASS java.util.ArrayDeque\r\nMETHOD java.lang.Object getLast()\r\nCOMPILE\r\nHELPER com.byteman.MyHelper \r\nAT ENTRY\r\nBIND value: String =  Long.toString(System.currentTimeMillis()) +&quot; &quot; + Thread.currentThread().toString().replaceAll(&quot; &quot;,&quot;&quot;) + &quot; &quot; + Integer.toString(System.identityHashCode($0)) +&quot; r =&quot; + formatStack().toString().replaceAll(&quot;\\n&quot;,&quot; &quot;) + &quot;=\\n&quot; ;\r\nIF true\r\nDO writeLog(value);\r\nENDRULE \r\n\r\n\r\nRULE f92a477e-28f9-405b-8684-e411f0f3e1aa\r\nCLASS java.util.ArrayDeque\r\nMETHOD java.lang.Object getLast()\r\nCOMPILE\r\nHELPER com.byteman.MyHelper \r\nAT EXIT\r\nBIND value: String =  Long.toString(System.currentTimeMillis()) +&quot; &quot; + Thread.currentThread().toString().replaceAll(&quot; &quot;,&quot;&quot;) + &quot; &quot; + Integer.toString(System.identityHashCode($0)) +&quot; r =&quot; + formatStack().toString().replaceAll(&quot;\\n&quot;,&quot; &quot;) + &quot;=\\n&quot; ;\r\nIF true\r\nDO writeLog(value);\r\nENDRULE\r\n...\r\n```\r\nThis is my error report.\r\n```\r\n\\[ERROR\\] testPathResolveToLinkFallBack(org.apache.hadoop.fs.viewfs.TestNestedMountPoint)  Time elapsed: 22.084 s  \\&lt;\\&lt;\\&lt; ERROR!\r\njava.lang.Exception: BMUnit method configuration pushed without prior method configuration pop!\r\nat org.jboss.byteman.contrib.bmunit.BMUnitConfigState.pushConfigurationState(BMUnitConfigState.java:750)\r\nat org.jboss.byteman.contrib.bmunit.BMUnitRunner$6.evaluate(BMUnitRunner.java:261)\r\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\r\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\r\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\r\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\r\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\r\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\r\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\r\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\r\nat org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:405)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:750)\r\n```\r\n","title":"java.lang.Exception: BMUnit method configuration pushed without prior method configuration pop","body":"<p>I use byteman with Junit from maven.</p>\n<p>I tested the <a href=\"https://github.com/apache/hadoop\" rel=\"nofollow noreferrer\">hadoop project</a>. I add some properties in the root pom.xml according to official site.</p>\n<pre><code>  &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.byteman&lt;/groupId&gt;\n        &lt;artifactId&gt;myhelper&lt;/artifactId&gt;\n        &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n      &lt;/dependency&gt;\n      &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\n            &lt;artifactId&gt;byteman&lt;/artifactId&gt;\n            &lt;!-- &lt;scope&gt;test&lt;/scope&gt; --&gt;\n            &lt;version&gt;4.0.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\n            &lt;artifactId&gt;byteman-submit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;4.0.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\n            &lt;artifactId&gt;byteman-install&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;4.0.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jboss.byteman&lt;/groupId&gt;\n            &lt;artifactId&gt;byteman-bmunit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;4.0.20&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n                    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n</code></pre>\n<p>This is the code segment:</p>\n<pre><code>    @org.junit.runner.RunWith(org.jboss.byteman.contrib.bmunit.BMUnitRunner.class)\n    @org.jboss.byteman.contrib.bmunit.BMUnitConfig(loadDirectory=&quot;target/test-classes&quot;)\n    @org.jboss.byteman.contrib.bmunit.BMScript(value=&quot;check.btm&quot;)\n    public class TestNestedMountPoint {\n      private InodeTree inodeTree;\n      private Configuration conf;\n      private String mtName;\n      private URI fsUri;\n\n      static class TestNestMountPointFileSystem {\n        public URI getUri() {\n          return uri;\n        }\n\n        private URI uri;\n\n        TestNestMountPointFileSystem(URI uri) {\n          this.uri = uri;\n        }\n      }\n    ...\n    }\n</code></pre>\n<p>My check.btm content segments is:</p>\n<pre><code>RULE 8b6addaa-abcb-4c5a-b82a-88286b61da08\nCLASS java.util.ArrayDeque\nMETHOD java.lang.Object getLast()\nCOMPILE\nHELPER com.byteman.MyHelper \nAT ENTRY\nBIND value: String =  Long.toString(System.currentTimeMillis()) +&quot; &quot; + Thread.currentThread().toString().replaceAll(&quot; &quot;,&quot;&quot;) + &quot; &quot; + Integer.toString(System.identityHashCode($0)) +&quot; r =&quot; + formatStack().toString().replaceAll(&quot;\\n&quot;,&quot; &quot;) + &quot;=\\n&quot; ;\nIF true\nDO writeLog(value);\nENDRULE \n\n\nRULE f92a477e-28f9-405b-8684-e411f0f3e1aa\nCLASS java.util.ArrayDeque\nMETHOD java.lang.Object getLast()\nCOMPILE\nHELPER com.byteman.MyHelper \nAT EXIT\nBIND value: String =  Long.toString(System.currentTimeMillis()) +&quot; &quot; + Thread.currentThread().toString().replaceAll(&quot; &quot;,&quot;&quot;) + &quot; &quot; + Integer.toString(System.identityHashCode($0)) +&quot; r =&quot; + formatStack().toString().replaceAll(&quot;\\n&quot;,&quot; &quot;) + &quot;=\\n&quot; ;\nIF true\nDO writeLog(value);\nENDRULE\n...\n</code></pre>\n<p>This is my error report.</p>\n<pre><code>\\[ERROR\\] testPathResolveToLinkFallBack(org.apache.hadoop.fs.viewfs.TestNestedMountPoint)  Time elapsed: 22.084 s  \\&lt;\\&lt;\\&lt; ERROR!\njava.lang.Exception: BMUnit method configuration pushed without prior method configuration pop!\nat org.jboss.byteman.contrib.bmunit.BMUnitConfigState.pushConfigurationState(BMUnitConfigState.java:750)\nat org.jboss.byteman.contrib.bmunit.BMUnitRunner$6.evaluate(BMUnitRunner.java:261)\nat org.junit.internal.runners.statements.RunBefores.evaluate(RunBefores.java:26)\nat org.junit.internal.runners.statements.RunAfters.evaluate(RunAfters.java:27)\nat org.junit.runners.ParentRunner$3.evaluate(ParentRunner.java:306)\nat org.junit.runners.BlockJUnit4ClassRunner$1.evaluate(BlockJUnit4ClassRunner.java:100)\nat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:366)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:103)\nat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:63)\nat org.junit.runners.ParentRunner$4.run(ParentRunner.java:331)\nat org.apache.maven.surefire.junitcore.pc.Scheduler$1.run(Scheduler.java:405)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\n</code></pre>\n"},{"tags":["java","android","android-studio","compiler-construction","annotations"],"answers":[{"tags":[],"owner":{"account_id":30362,"reputation":54951,"user_id":82788,"accept_rate":80,"display_name":"matiash"},"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1455203694,"creation_date":1405307919,"answer_id":24729081,"question_id":24728627,"body_markdown":"It&#39;s an annotation, but the correct name is `NonNull`:\r\n\r\n    protected void onSaveInstanceState(@NonNull Bundle outState)\r\n\r\n(And also)\r\n\r\n    import android.support.annotation.NonNull;\r\n\r\nThe purpose is to allow the **compiler** to warn when certain assumptions are being violated (such as a parameter of a method that should always have a value, as in this particular case, although there are others). From the [Support Annotations][1] documentation:\r\n\r\n&gt; The `@NonNull` annotation can be used to indicate that a given parameter\r\n&gt; can not be null.\r\n&gt; \r\n&gt; If a local variable is known to be null (for example because some\r\n&gt; earlier code checked whether it was null), and you pass that as a\r\n&gt; parameter to a method where that parameter is marked as @NonNull, the\r\n&gt; IDE will warn you that you have a potential crash.\r\n\r\nThey are tools for static analysis. Runtime behavior is not altered at all.\r\n\r\n\r\n----------\r\n\r\n\r\nIn this case, the particular warning is that the original method you&#39;re overriding (in `Activity`) has a `@NonNull` annotation on the `outState` parameter, but you did not include it in the overriding method. Just adding it should fix the issue, i.e.\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n    }\r\n\r\n  [1]: http://tools.android.com/tech-docs/support-annotations","title":"Meaning of Android Studio error: Not annotated parameter overrides @NonNull parameter","body":"<p>It's an annotation, but the correct name is <code>NonNull</code>:</p>\n\n<pre><code>protected void onSaveInstanceState(@NonNull Bundle outState)\n</code></pre>\n\n<p>(And also)</p>\n\n<pre><code>import android.support.annotation.NonNull;\n</code></pre>\n\n<p>The purpose is to allow the <strong>compiler</strong> to warn when certain assumptions are being violated (such as a parameter of a method that should always have a value, as in this particular case, although there are others). From the <a href=\"http://tools.android.com/tech-docs/support-annotations\">Support Annotations</a> documentation:</p>\n\n<blockquote>\n  <p>The <code>@NonNull</code> annotation can be used to indicate that a given parameter\n  can not be null.</p>\n  \n  <p>If a local variable is known to be null (for example because some\n  earlier code checked whether it was null), and you pass that as a\n  parameter to a method where that parameter is marked as @NonNull, the\n  IDE will warn you that you have a potential crash.</p>\n</blockquote>\n\n<p>They are tools for static analysis. Runtime behavior is not altered at all.</p>\n\n<hr>\n\n<p>In this case, the particular warning is that the original method you're overriding (in <code>Activity</code>) has a <code>@NonNull</code> annotation on the <code>outState</code> parameter, but you did not include it in the overriding method. Just adding it should fix the issue, i.e.</p>\n\n<pre><code>@Override\nprotected void onSaveInstanceState(@NonNull Bundle outState) {\n    super.onSaveInstanceState(outState);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":943595,"reputation":4427,"user_id":971273,"display_name":"LukaCiko"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1413413900,"creation_date":1413405965,"answer_id":26391819,"question_id":24728627,"body_markdown":"A number of useful [support annotations][1] were recently added in the Android support library. Their primary role is to annotate properties of various methods and parameters to help catch bugs. For example, if you pass `null` value to a parameter that is marked with the `NotNull` annotation you will get a warning.\r\n\r\nThe annotations can be added to your project with Gradle by adding the following dependency:\r\n\r\n    dependencies {\r\n        compile &#39;com.android.support:support-annotations:20.0.0&#39;\r\n    }\r\n\r\nYou are getting the warning because the `Bundle` parameter is marked with the `@NotNull` annotation and by overriding the method the annotation gets hidden. The right thing to do is to add the annotation to the overriden method&#39;s parameter as well.\r\n    \r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n    }\r\n\r\n  [1]: http://tools.android.com/tech-docs/support-annotations","title":"Meaning of Android Studio error: Not annotated parameter overrides @NonNull parameter","body":"<p>A number of useful <a href=\"http://tools.android.com/tech-docs/support-annotations\">support annotations</a> were recently added in the Android support library. Their primary role is to annotate properties of various methods and parameters to help catch bugs. For example, if you pass <code>null</code> value to a parameter that is marked with the <code>NotNull</code> annotation you will get a warning.</p>\n\n<p>The annotations can be added to your project with Gradle by adding the following dependency:</p>\n\n<pre><code>dependencies {\n    compile 'com.android.support:support-annotations:20.0.0'\n}\n</code></pre>\n\n<p>You are getting the warning because the <code>Bundle</code> parameter is marked with the <code>@NotNull</code> annotation and by overriding the method the annotation gets hidden. The right thing to do is to add the annotation to the overriden method's parameter as well.</p>\n\n<pre><code>@Override\nprotected void onSaveInstanceState(@NonNull Bundle outState) {\n    super.onSaveInstanceState(outState);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":343582,"reputation":99129,"user_id":675383,"accept_rate":94,"display_name":"nhaarman"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1413406772,"creation_date":1413406772,"answer_id":26392002,"question_id":24728627,"body_markdown":"In addition to the other answers, the `@NonNull` (and it&#39;s opponent, `@Nullable`) annotation annotates a field, parameter or method return type. IntelliJ and thus Android Studio can warn you for possible `NullPointerException`s at compile time.\r\n\r\nAn example is best here:\r\n\r\n    @NonNull private String myString = &quot;Hello&quot;;\r\n\r\n    @Nullable private String myOtherString = null;\r\n\r\n    @NonNull \r\n    public Object doStuff() {\r\n        System.out.println(myString.length); // No warning\r\n        System.out.println(doSomething(myString).length); // Warning, the result might be null.\r\n\r\n        doSomething(myOtherString); // Warning, myOtherString might be null.\r\n\r\n        return myOtherString; // Warning, myOtherString might be null.\r\n    }\r\n\r\n    @Nullable\r\n    private String doSomething(@NonNull String a) {\r\n        return a.length &gt; 1 ? null : a; // No warning\r\n    }\r\n\r\n----\r\n\r\nThese annotations do not alter runtime behavior (although I have [experimented](https://github.com/nhaarman/FailFast) with this), but serve as a tool for preventing bugs. \r\n\r\nNote that the message you received was not an error, but just a warning, which is safe to ignore, if you choose to. The alternative is to annotate the parameter yourself as well, as Android Studio suggests:\r\n\r\n    @Override\r\n    protected void onSaveInstanceState(@NonNull Bundle outState) {\r\n        super.onSaveInstanceState(outState);\r\n    }","title":"Meaning of Android Studio error: Not annotated parameter overrides @NonNull parameter","body":"<p>In addition to the other answers, the <code>@NonNull</code> (and it's opponent, <code>@Nullable</code>) annotation annotates a field, parameter or method return type. IntelliJ and thus Android Studio can warn you for possible <code>NullPointerException</code>s at compile time.</p>\n\n<p>An example is best here:</p>\n\n<pre><code>@NonNull private String myString = \"Hello\";\n\n@Nullable private String myOtherString = null;\n\n@NonNull \npublic Object doStuff() {\n    System.out.println(myString.length); // No warning\n    System.out.println(doSomething(myString).length); // Warning, the result might be null.\n\n    doSomething(myOtherString); // Warning, myOtherString might be null.\n\n    return myOtherString; // Warning, myOtherString might be null.\n}\n\n@Nullable\nprivate String doSomething(@NonNull String a) {\n    return a.length &gt; 1 ? null : a; // No warning\n}\n</code></pre>\n\n<hr>\n\n<p>These annotations do not alter runtime behavior (although I have <a href=\"https://github.com/nhaarman/FailFast\">experimented</a> with this), but serve as a tool for preventing bugs. </p>\n\n<p>Note that the message you received was not an error, but just a warning, which is safe to ignore, if you choose to. The alternative is to annotate the parameter yourself as well, as Android Studio suggests:</p>\n\n<pre><code>@Override\nprotected void onSaveInstanceState(@NonNull Bundle outState) {\n    super.onSaveInstanceState(outState);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2488135,"reputation":1051,"user_id":2166177,"accept_rate":67,"display_name":"steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684078538,"creation_date":1684078538,"answer_id":76248312,"question_id":24728627,"body_markdown":"Old question and the already posted answers contain good stuff. But, none hit the nail on the head. \r\n\r\nYou ask two questions.\r\n\r\nFirst, you ask about the meaning of the warning &quot;Not annotated parameter overrides @NonNull parameter&quot;. This is what brought me here (9 years later). What does the warning mean? What does it imply? What&#39;s the value of adding the annotation? According to @LukaCiko, the annotation is lost in the override. Thank you @LukaCiko. So, if you want the overridden method&#39;s parameter to have same annotation as the superclass, then you want to include the annotation.\r\n\r\nSecond, when you added the annotation, you got a compiler error. To fix, import androidx.annotation.NonNull (probably had a different namespace back then)\r\n","title":"Meaning of Android Studio error: Not annotated parameter overrides @NonNull parameter","body":"<p>Old question and the already posted answers contain good stuff. But, none hit the nail on the head.</p>\n<p>You ask two questions.</p>\n<p>First, you ask about the meaning of the warning &quot;Not annotated parameter overrides @NonNull parameter&quot;. This is what brought me here (9 years later). What does the warning mean? What does it imply? What's the value of adding the annotation? According to @LukaCiko, the annotation is lost in the override. Thank you @LukaCiko. So, if you want the overridden method's parameter to have same annotation as the superclass, then you want to include the annotation.</p>\n<p>Second, when you added the annotation, you got a compiler error. To fix, import androidx.annotation.NonNull (probably had a different namespace back then)</p>\n"}],"owner":{"account_id":4308917,"reputation":1203,"user_id":3520580,"accept_rate":67,"display_name":"Monomo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50506,"favorite_count":0,"down_vote_count":2,"up_vote_count":116,"answer_count":4,"score":114,"last_activity_date":1684078538,"creation_date":1405303138,"question_id":24728627,"body_markdown":"I&#39;m trying out Android Studio. Upon creating a new project and adding a default `onSaveInstanceState` method to the create MyActivity class, when I try to commit the code to Git, I get a strange error I don&#39;t understand. The code is this:\r\n\r\n![][1]\r\n\r\nThe error I get is this:\r\n\r\n![enter image description here][2]\r\n\r\nIf I try to change the method signature to `protected void onSaveInstanceState(@NotNull Bundle outState)`, then the IDE tells me it can&#39;t resolve the symbol `NotNull`.\r\n\r\nWhat do I need to do to get rid of the warning?\r\n\r\n  [1]: http://i.stack.imgur.com/bxyek.png\r\n  [2]: http://i.stack.imgur.com/qJYSE.png","title":"Meaning of Android Studio error: Not annotated parameter overrides @NonNull parameter","body":"<p>I'm trying out Android Studio. Upon creating a new project and adding a default <code>onSaveInstanceState</code> method to the create MyActivity class, when I try to commit the code to Git, I get a strange error I don't understand. The code is this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bxyek.png\" alt=\"\"></p>\n\n<p>The error I get is this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/qJYSE.png\" alt=\"enter image description here\"></p>\n\n<p>If I try to change the method signature to <code>protected void onSaveInstanceState(@NotNull Bundle outState)</code>, then the IDE tells me it can't resolve the symbol <code>NotNull</code>.</p>\n\n<p>What do I need to do to get rid of the warning?</p>\n"},{"tags":["java","javafx","utf-8","printstream","javafx-textarea"],"comments":[{"owner":{"account_id":20264865,"reputation":23,"user_id":14862319,"display_name":"Ha Trung Nam Hai"},"score":0,"creation_date":1608628312,"post_id":65405249,"comment_id":115634774,"body_markdown":"Well, I tried to add ```textArea.setFont(new Font(&quot;TimesRoman&quot;, 14));\n``` in initialize() in Controller but I still get the same result. What other fonts should I use?","body":"Well, I tried to add <code>textArea.setFont(new Font(&quot;TimesRoman&quot;, 14)); </code> in initialize() in Controller but I still get the same result. What other fonts should I use?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1608628946,"post_id":65405249,"comment_id":115635029,"body_markdown":"Hmm. Thing is, I&#39;m not that familiar with the intricacies of encoding/decoding of characters. But I feel like the `String.valueOf((char) b)` could be a problem. The `b` is a single &quot;byte&quot; (a value between 0 and 255). Yet some characters in UTF-8 are represented by multiple bytes, if I&#39;m not mistaken.","body":"Hmm. Thing is, I&#39;m not that familiar with the intricacies of encoding/decoding of characters. But I feel like the <code>String.valueOf((char) b)</code> could be a problem. The <code>b</code> is a single &quot;byte&quot; (a value between 0 and 255). Yet some characters in UTF-8 are represented by multiple bytes, if I&#39;m not mistaken."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1608629303,"post_id":65405249,"comment_id":115635180,"body_markdown":"That code being the problem seems to be supported by the fact calling `setText(...)` directly with your string literal works fine (at least when the source file is compiled with `-encoding UTF-8`).","body":"That code being the problem seems to be supported by the fact calling <code>setText(...)</code> directly with your string literal works fine (at least when the source file is compiled with <code>-encoding UTF-8</code>)."},{"owner":{"account_id":20264865,"reputation":23,"user_id":14862319,"display_name":"Ha Trung Nam Hai"},"score":0,"creation_date":1608630105,"post_id":65405249,"comment_id":115635542,"body_markdown":"Is there any alternative to I could use ```setText(...)``` to push the Console output to TextArea? Maybe put the Console output into a String (or something else?) and then setText() it?","body":"Is there any alternative to I could use <code>setText(...)</code> to push the Console output to TextArea? Maybe put the Console output into a String (or something else?) and then setText() it?"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1608669019,"post_id":65405249,"comment_id":115651961,"body_markdown":"It&#39;s not `setText` that fixes the problem. When I say the code works with `setText` the point is that the issue is not with the `TextArea` but with how you decode the bytes into characters. I added an answer with an example.","body":"It&#39;s not <code>setText</code> that fixes the problem. When I say the code works with <code>setText</code> the point is that the issue is not with the <code>TextArea</code> but with how you decode the bytes into characters. I added an answer with an example."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1608717764,"post_id":65405249,"comment_id":115663772,"body_markdown":"_I&#39;m still new to XX so I&#39;m unfamiliar to how exactly YY works_ which defines one of your next TODO bullets: work through a tutorial about YY in XX .. just saying :)","body":"<i>I&#39;m still new to XX so I&#39;m unfamiliar to how exactly YY works</i> which defines one of your next TODO bullets: work through a tutorial about YY in XX .. just saying :)"}],"answers":[{"tags":[],"owner":{"account_id":16934234,"reputation":16,"user_id":12247666,"display_name":"Nickitiki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1608632771,"creation_date":1608626824,"answer_id":65405627,"question_id":65405249,"body_markdown":"Try to set your default JVM encoding to UTF-8. \r\n\r\n    java -Dfile.encoding=UTF-8 -jar YourJarfile.jar\r\nFor more details look at this thread: [Setting the default Java character encoding][1]\r\n\r\nIf you don&#39;t want to export your file, go into your Eclipse **Preferences &gt; General &gt; Workspace** and set the Text file encoding to UTF-8 (or the encoding you&#39;d like to have).\r\n\r\nThere are a few more details: [How to change default text file encoding in Eclipse][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\r\n  [2]: https://stackoverflow.com/questions/3751791/how-to-change-default-text-file-encoding-in-eclipse","title":"UTF-8 encoding for output from Console to JavaFX TextArea","body":"<p>Try to set your default JVM encoding to UTF-8.</p>\n<pre><code>java -Dfile.encoding=UTF-8 -jar YourJarfile.jar\n</code></pre>\n<p>For more details look at this thread: <a href=\"https://stackoverflow.com/questions/361975/setting-the-default-java-character-encoding\">Setting the default Java character encoding</a></p>\n<p>If you don't want to export your file, go into your Eclipse <strong>Preferences &gt; General &gt; Workspace</strong> and set the Text file encoding to UTF-8 (or the encoding you'd like to have).</p>\n<p>There are a few more details: <a href=\"https://stackoverflow.com/questions/3751791/how-to-change-default-text-file-encoding-in-eclipse\">How to change default text file encoding in Eclipse</a></p>\n"},{"tags":[],"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1683917567,"creation_date":1608668967,"answer_id":65415420,"question_id":65405249,"body_markdown":"I believe your problem is caused by this code:\r\n\r\n```java\r\npublic void write(int b) throws IOException {\r\n    appendText(String.valueOf((char) b));\r\n}\r\n```\r\n\r\nThis is converting each individual byte into a character. In other words, it&#39;s assuming each character is represented by a single byte. That&#39;s not necessarily true. Some encodings, [such as UTF-8][1], may use multiple bytes to represent a single character. They have to if they want to be able to represent more than 256 characters.\r\n\r\nYou&#39;ll need to properly decode the incoming bytes. Rather than trying to do this yourself it would be better to find a way to use something like `BufferedReader`. Luckily that&#39;s possible with `PipedInputStream` and `PipedOutputStream`. For example:\r\n\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.io.PipedInputStream;\r\nimport java.io.PipedOutputStream;\r\nimport java.io.PrintStream;\r\nimport java.io.UncheckedIOException;\r\nimport javafx.application.Application;\r\nimport javafx.application.Platform;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.TextArea;\r\nimport javafx.stage.Stage;\r\n\r\nimport static java.nio.charset.StandardCharsets.UTF_8;\r\n\r\npublic class Main extends Application {\r\n\r\n  @Override\r\n  public void start(Stage primaryStage) {\r\n    TextArea area = new TextArea();\r\n    area.setWrapText(true);\r\n\r\n    redirectStandardOut(area);\r\n\r\n    primaryStage.setScene(new Scene(area, 800, 600));\r\n    primaryStage.show();\r\n\r\n    System.out.println(\r\n        &quot;KHA khá»Ÿi Ä‘áº§u phi&#234;n giao dá»‹ch s&#225;ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ng&#224;y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.&quot;);\r\n  }\r\n\r\n  private void redirectStandardOut(TextArea area) {\r\n    try {\r\n      PipedInputStream in = new PipedInputStream();\r\n      System.setOut(new PrintStream(new PipedOutputStream(in), true, UTF_8));\r\n\r\n      Thread thread = new Thread(new StreamReader(in, area));\r\n      thread.setDaemon(true);\r\n      thread.start();\r\n    } catch (IOException ex) {\r\n      throw new UncheckedIOException(ex);\r\n    }\r\n  }\r\n\r\n  private static class StreamReader implements Runnable {\r\n\r\n    private final StringBuilder buffer = new StringBuilder();\r\n    private boolean notify = true;\r\n\r\n    private final BufferedReader reader;\r\n    private final TextArea textArea;\r\n\r\n    StreamReader(InputStream input, TextArea textArea) {\r\n      this.reader = new BufferedReader(new InputStreamReader(input, UTF_8));\r\n      this.textArea = textArea;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n      try (reader) {\r\n        int charAsInt;\r\n        while ((charAsInt = reader.read()) != -1) {\r\n          synchronized (buffer) {\r\n            buffer.append((char) charAsInt);\r\n            if (notify) {\r\n              notify = false;\r\n              Platform.runLater(this::appendTextToTextArea);\r\n            }\r\n          }\r\n        }\r\n      } catch (IOException ex) {\r\n        throw new UncheckedIOException(ex);\r\n      }\r\n    }\r\n\r\n    private void appendTextToTextArea() {\r\n      synchronized (buffer) {\r\n        textArea.appendText(buffer.toString());\r\n        buffer.delete(0, buffer.length());\r\n        notify = true;\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nThe use of `buffer` above is an attempt to avoid flooding the _JavaFX Application Thread_ with tasks.\r\n\r\n\r\nSome other things you need to take into consideration:\r\n\r\n* Since you&#39;re using a string literal, make sure you&#39;re both saving the source file with UTF-8 and compiling the code with `-encoding UTF-8`.\r\n* Make sure the font you use with the `TextArea` can represent all the characters you want it to.\r\n* It&#39;s _possible_ you also need to run the application with `-Dfile.encoding=UTF-8` but I&#39;m not sure. I did not and it still worked for me.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/UTF-8","title":"UTF-8 encoding for output from Console to JavaFX TextArea","body":"<p>I believe your problem is caused by this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void write(int b) throws IOException {\n    appendText(String.valueOf((char) b));\n}\n</code></pre>\n<p>This is converting each individual byte into a character. In other words, it's assuming each character is represented by a single byte. That's not necessarily true. Some encodings, <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">such as UTF-8</a>, may use multiple bytes to represent a single character. They have to if they want to be able to represent more than 256 characters.</p>\n<p>You'll need to properly decode the incoming bytes. Rather than trying to do this yourself it would be better to find a way to use something like <code>BufferedReader</code>. Luckily that's possible with <code>PipedInputStream</code> and <code>PipedOutputStream</code>. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.PipedInputStream;\nimport java.io.PipedOutputStream;\nimport java.io.PrintStream;\nimport java.io.UncheckedIOException;\nimport javafx.application.Application;\nimport javafx.application.Platform;\nimport javafx.scene.Scene;\nimport javafx.scene.control.TextArea;\nimport javafx.stage.Stage;\n\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\npublic class Main extends Application {\n\n  @Override\n  public void start(Stage primaryStage) {\n    TextArea area = new TextArea();\n    area.setWrapText(true);\n\n    redirectStandardOut(area);\n\n    primaryStage.setScene(new Scene(area, 800, 600));\n    primaryStage.show();\n\n    System.out.println(\n        &quot;KHA khá»Ÿi Ä‘áº§u phiÃªn giao dá»‹ch sÃ¡ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ngÃ y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.&quot;);\n  }\n\n  private void redirectStandardOut(TextArea area) {\n    try {\n      PipedInputStream in = new PipedInputStream();\n      System.setOut(new PrintStream(new PipedOutputStream(in), true, UTF_8));\n\n      Thread thread = new Thread(new StreamReader(in, area));\n      thread.setDaemon(true);\n      thread.start();\n    } catch (IOException ex) {\n      throw new UncheckedIOException(ex);\n    }\n  }\n\n  private static class StreamReader implements Runnable {\n\n    private final StringBuilder buffer = new StringBuilder();\n    private boolean notify = true;\n\n    private final BufferedReader reader;\n    private final TextArea textArea;\n\n    StreamReader(InputStream input, TextArea textArea) {\n      this.reader = new BufferedReader(new InputStreamReader(input, UTF_8));\n      this.textArea = textArea;\n    }\n\n    @Override\n    public void run() {\n      try (reader) {\n        int charAsInt;\n        while ((charAsInt = reader.read()) != -1) {\n          synchronized (buffer) {\n            buffer.append((char) charAsInt);\n            if (notify) {\n              notify = false;\n              Platform.runLater(this::appendTextToTextArea);\n            }\n          }\n        }\n      } catch (IOException ex) {\n        throw new UncheckedIOException(ex);\n      }\n    }\n\n    private void appendTextToTextArea() {\n      synchronized (buffer) {\n        textArea.appendText(buffer.toString());\n        buffer.delete(0, buffer.length());\n        notify = true;\n      }\n    }\n  }\n}\n</code></pre>\n<p>The use of <code>buffer</code> above is an attempt to avoid flooding the <em>JavaFX Application Thread</em> with tasks.</p>\n<p>Some other things you need to take into consideration:</p>\n<ul>\n<li>Since you're using a string literal, make sure you're both saving the source file with UTF-8 and compiling the code with <code>-encoding UTF-8</code>.</li>\n<li>Make sure the font you use with the <code>TextArea</code> can represent all the characters you want it to.</li>\n<li>It's <em>possible</em> you also need to run the application with <code>-Dfile.encoding=UTF-8</code> but I'm not sure. I did not and it still worked for me.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684078536,"creation_date":1683934024,"answer_id":76240460,"question_id":65405249,"body_markdown":"*To add a bit more from _ the above answer using `PipedInputStream` _*\r\n\r\n\r\nHere is how you can use with a **`TeeOutputStream`** to output to **both** the Console &amp; TextArea::\r\n\r\n- ***vv***\r\n\r\n  - (the code should work, at least in my case)\r\n\r\n  - &lt;strike&gt;(I dont think too many `synchronized` is needed, since the JavaFx Thread is a Single Thread?)&lt;/strike&gt;\r\n\r\n- ***Update (misc)***\r\n\r\n  - `//debug &lt;strike&gt; sysout_ori.println(str);` this is removed\r\n\r\n  - The code before relies on only 1 Thread `TR` -- the Thread that is Reading from the `BufferReader` \\\r\n    -- to do the `TextArea` update \\\r\n    -&gt; this is problematic, cuz `TR` can block on `reader.read()` \\\r\n    &amp; the batch of bytes remained in `StringBuffer` will not be updated to `TextArea` **until next `.read()`** \\\r\n    to fix that, a new Thread `Executors.newSingleThreadScheduledExecutor()` is introduced &amp; thats why `synchronized (sb) {` is required now.\r\n\r\n```java\r\n  // ############\r\n\r\n  private static final int max_TextAllowed_InTextArea_ToAvoidLag = 8000;\r\n  private static final int amount_TextPreserve_InTextArea_WhenMaxTextReached = 3000;\r\n\r\n  private static void setup_OutputStream(TextArea textArea_info) {\r\n    PipedInputStream pipe_in = new PipedInputStream();\r\n    PipedOutputStream pipe_out = null;\r\n    try {\r\n      pipe_out = new PipedOutputStream(pipe_in);\r\n    } catch (IOException e) {\r\n      e.printStackTrace();\r\n    }\r\n    final PrintStream sysout_ori = System.out;\r\n    TeeOutputStream teeOutputStream = new TeeOutputStream(sysout_ori, pipe_out);\r\n    System.setOut(new PrintStream(teeOutputStream, true, StandardCharsets.UTF_8));\r\n    System.setErr(new PrintStream(teeOutputStream, true, StandardCharsets.UTF_8));\r\n\r\n    Thread thread_OutputStreamRedirectToJavafx = new Thread()\r\n      {\r\n        private final StringBuffer sb = new StringBuffer();\r\n\r\n        private final BufferedReader reader = new BufferedReader(new InputStreamReader(pipe_in, StandardCharsets.UTF_8));\r\n\r\n        private final ScheduledExecutorService executor_ExecIdleBatch = Executors.newSingleThreadScheduledExecutor();\r\n\r\n        {\r\n          executor_ExecIdleBatch.scheduleWithFixedDelay(\r\n                                                        () -&gt; {\r\n                                                          if (sb.length() != 0) {\r\n                                                            final String str;\r\n                                                            synchronized (sb) {\r\n                                                              str = sb.toString();\r\n                                                              sb.setLength(0);\r\n                                                            }\r\n                                                            Platform.runLater(() -&gt; {\r\n                                                              String content_existing = textArea_info.getText();\r\n                                                              int length = content_existing.length();\r\n                                                              if (length &gt; max_TextAllowed_InTextArea_ToAvoidLag) {\r\n                                                                textArea_info.setText((content_existing + str).substring(length - amount_TextPreserve_InTextArea_WhenMaxTextReached));\r\n                                                              }\r\n                                                              else {\r\n                                                                textArea_info.appendText(str);\r\n                                                              }\r\n                                                            });\r\n                                                          }\r\n\r\n                                                        }, 0, 200, TimeUnit.MILLISECONDS);\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n          int b;\r\n          while (true) {\r\n            try {\r\n              b = reader.read();\r\n            } catch (IOException e) {\r\n              throw new Error(e);\r\n            }\r\n            if (b == -1) {\r\n              executor_ExecIdleBatch.shutdown();\r\n              break;\r\n            }\r\n            else {\r\n              synchronized (sb) {\r\n                sb.append((char) b);\r\n              }\r\n            }\r\n          }\r\n        }\r\n\r\n      };\r\n    thread_OutputStreamRedirectToJavafx.start();\r\n\r\n  }\r\n```\r\n\r\n---\r\n---\r\n\r\n***Update (misc) [Pipe broken]***\r\n\r\n- An error **`java.io.IOException: Pipe broken`** / `java.io.IOException: Write end dead` happened in my case. \\\r\n  \\\r\n  Due to the use of \\\r\n  1\\. `event.consume(); // consume the WindowEvent.WINDOW_CLOSE_REQUEST to prevent close (so that have time to properly handle the shutdown first)` + \\\r\n  2\\. `stage.close() // close the stage when shutdown handle is completed` \\\r\n  inside `window.addEventFilter(WindowEvent.WINDOW_CLOSE_REQUEST, (event) -&gt; {` for **Shutdown handling** \\\r\n  \\\r\n  it was fixed by not using **`stage.close()`**, but re-dispatching the consumed event by `window.fireEvent(new WindowEvent(window, WindowEvent.WINDOW_CLOSE_REQUEST));` \\\r\n  \\\r\n  *Idk why, but guessing: the Javafx Thread is writing to the `System.out` -&gt; the `PipedOutputStream` is linked to the Javafx Thread? --&gt;  the Javafx Thread is dead due to `stage.close()`? --&gt; `Write end dead + Pipe broken`?*","title":"UTF-8 encoding for output from Console to JavaFX TextArea","body":"<p><em>To add a bit more from _ the above answer using <code>PipedInputStream</code> _</em></p>\n<p>Here is how you can use with a <strong><code>TeeOutputStream</code></strong> to output to <strong>both</strong> the Console &amp; TextArea::</p>\n<ul>\n<li><p><em><strong>vv</strong></em></p>\n<ul>\n<li><p>(the code should work, at least in my case)</p>\n</li>\n<li><p><strike>(I dont think too many <code>synchronized</code> is needed, since the JavaFx Thread is a Single Thread?)</strike></p>\n</li>\n</ul>\n</li>\n<li><p><em><strong>Update (misc)</strong></em></p>\n<ul>\n<li><p><code>//debug &lt;strike&gt; sysout_ori.println(str);</code> this is removed</p>\n</li>\n<li><p>The code before relies on only 1 Thread <code>TR</code> -- the Thread that is Reading from the <code>BufferReader</code> <br />\n-- to do the <code>TextArea</code> update <br />\n-&gt; this is problematic, cuz <code>TR</code> can block on <code>reader.read()</code> <br />\n&amp; the batch of bytes remained in <code>StringBuffer</code> will not be updated to <code>TextArea</code> <strong>until next <code>.read()</code></strong> <br />\nto fix that, a new Thread <code>Executors.newSingleThreadScheduledExecutor()</code> is introduced &amp; thats why <code>synchronized (sb) {</code> is required now.</p>\n</li>\n</ul>\n</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>  // ############\n\n  private static final int max_TextAllowed_InTextArea_ToAvoidLag = 8000;\n  private static final int amount_TextPreserve_InTextArea_WhenMaxTextReached = 3000;\n\n  private static void setup_OutputStream(TextArea textArea_info) {\n    PipedInputStream pipe_in = new PipedInputStream();\n    PipedOutputStream pipe_out = null;\n    try {\n      pipe_out = new PipedOutputStream(pipe_in);\n    } catch (IOException e) {\n      e.printStackTrace();\n    }\n    final PrintStream sysout_ori = System.out;\n    TeeOutputStream teeOutputStream = new TeeOutputStream(sysout_ori, pipe_out);\n    System.setOut(new PrintStream(teeOutputStream, true, StandardCharsets.UTF_8));\n    System.setErr(new PrintStream(teeOutputStream, true, StandardCharsets.UTF_8));\n\n    Thread thread_OutputStreamRedirectToJavafx = new Thread()\n      {\n        private final StringBuffer sb = new StringBuffer();\n\n        private final BufferedReader reader = new BufferedReader(new InputStreamReader(pipe_in, StandardCharsets.UTF_8));\n\n        private final ScheduledExecutorService executor_ExecIdleBatch = Executors.newSingleThreadScheduledExecutor();\n\n        {\n          executor_ExecIdleBatch.scheduleWithFixedDelay(\n                                                        () -&gt; {\n                                                          if (sb.length() != 0) {\n                                                            final String str;\n                                                            synchronized (sb) {\n                                                              str = sb.toString();\n                                                              sb.setLength(0);\n                                                            }\n                                                            Platform.runLater(() -&gt; {\n                                                              String content_existing = textArea_info.getText();\n                                                              int length = content_existing.length();\n                                                              if (length &gt; max_TextAllowed_InTextArea_ToAvoidLag) {\n                                                                textArea_info.setText((content_existing + str).substring(length - amount_TextPreserve_InTextArea_WhenMaxTextReached));\n                                                              }\n                                                              else {\n                                                                textArea_info.appendText(str);\n                                                              }\n                                                            });\n                                                          }\n\n                                                        }, 0, 200, TimeUnit.MILLISECONDS);\n        }\n\n        @Override\n        public void run() {\n          int b;\n          while (true) {\n            try {\n              b = reader.read();\n            } catch (IOException e) {\n              throw new Error(e);\n            }\n            if (b == -1) {\n              executor_ExecIdleBatch.shutdown();\n              break;\n            }\n            else {\n              synchronized (sb) {\n                sb.append((char) b);\n              }\n            }\n          }\n        }\n\n      };\n    thread_OutputStreamRedirectToJavafx.start();\n\n  }\n</code></pre>\n<hr />\n<hr />\n<p><em><strong>Update (misc) [Pipe broken]</strong></em></p>\n<ul>\n<li>An error <strong><code>java.io.IOException: Pipe broken</code></strong> / <code>java.io.IOException: Write end dead</code> happened in my case. <br />\n<br />\nDue to the use of <br />\n1. <code>event.consume(); // consume the WindowEvent.WINDOW_CLOSE_REQUEST to prevent close (so that have time to properly handle the shutdown first)</code> + <br />\n2. <code>stage.close() // close the stage when shutdown handle is completed</code> <br />\ninside <code>window.addEventFilter(WindowEvent.WINDOW_CLOSE_REQUEST, (event) -&gt; {</code> for <strong>Shutdown handling</strong> <br />\n<br />\nit was fixed by not using <strong><code>stage.close()</code></strong>, but re-dispatching the consumed event by <code>window.fireEvent(new WindowEvent(window, WindowEvent.WINDOW_CLOSE_REQUEST));</code> <br />\n<br />\n<em>Idk why, but guessing: the Javafx Thread is writing to the <code>System.out</code> -&gt; the <code>PipedOutputStream</code> is linked to the Javafx Thread? --&gt;  the Javafx Thread is dead due to <code>stage.close()</code>? --&gt; <code>Write end dead + Pipe broken</code>?</em></li>\n</ul>\n"}],"owner":{"account_id":20264865,"reputation":23,"user_id":14862319,"display_name":"Ha Trung Nam Hai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1778,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":65415420,"answer_count":3,"score":2,"last_activity_date":1684078536,"creation_date":1608625121,"question_id":65405249,"body_markdown":"I want to redirect the output in Console to JavaFX TextArea, and I follow a suggestion here: [JavaFX: Redirect console output to TextArea that is created in SceneBuilder](https://stackoverflow.com/a/33502923/14862319)\r\n\r\nI tried to set charset to UTF-8 in PrintStream(), but [it does not look so well](https://i.stack.imgur.com/KPCyV.png). Setting the charset to UTF-16 improves it a bit, but [it is still illegible](https://i.stack.imgur.com/d0iIA.png).\r\n\r\nIn Eclipse IDE, the supposed text output in Console turns out fine: \r\n```\r\nKHA khá»Ÿi Ä‘áº§u phi&#234;n giao dá»‹ch s&#225;ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ng&#224;y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.\r\n```\r\n\r\n**Controller.java**\r\n```\r\npublic class Controller {\r\n\t@FXML\r\n\tprivate Button button;\r\n\r\n\tpublic Button getButton() {\r\n\t\treturn button;\r\n\t}\r\n\r\n\t@FXML\r\n\tprivate TextArea textArea;\r\n\r\n\tpublic TextArea getTextArea() {\r\n\t\treturn textArea;\r\n\t}\r\n\r\n\tprivate PrintStream printStream;\r\n\r\n\tpublic PrintStream getPrintStream() {\r\n\t\treturn printStream;\r\n\t}\r\n\r\n\tpublic void initialize() {\r\n\t\ttextArea.setWrapText(true);\r\n\t\tprintStream = new PrintStream(new UITextOutput(textArea), true, StandardCharsets.UTF_8);\r\n\t} // Encoding set to UTF-8\r\n\r\n\tpublic class UITextOutput extends OutputStream {\r\n\t\tprivate TextArea text;\r\n\r\n\t\tpublic UITextOutput(TextArea text) {\r\n\t\t\tthis.text = text;\r\n\t\t}\r\n\r\n\t\tpublic void appendText(String valueOf) {\r\n\t\t\tPlatform.runLater(() -&gt; text.appendText(valueOf));\r\n\t\t}\r\n\r\n\t\tpublic void write(int b) throws IOException {\r\n\t\t\tappendText(String.valueOf((char) b));\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n**UI.java**\r\n```\r\npublic class UI extends Application {\r\n\t@Override\r\n\tpublic void start(Stage stage) {\r\n\t\ttry {\r\n\t\t\tFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Sample.fxml&quot;));\r\n\t\t\tParent root = loader.load();\r\n\t\t\tController control = loader.getController();\r\n\r\n\t\t\tstage.setTitle(&quot;Title&quot;);\r\n\t\t\tstage.setScene(new Scene(root));\r\n\t\t\tstage.show();\r\n\r\n\t\t\tcontrol.getButton().setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n\t\t\t\tpublic void handle(ActionEvent event) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tSystem.setOut(control.getPrintStream());\r\n\t\t\t\t\t\tSystem.setErr(control.getPrintStream());\r\n\t\t\t\t\t\tSystem.out.println(\r\n\t\t\t\t\t\t\t\t&quot;KHA khá»Ÿi Ä‘áº§u phi&#234;n giao dá»‹ch s&#225;ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ng&#224;y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.&quot;);\r\n\t\t\t\t\t} catch (Exception e) {\r\n\t\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\n**Sample.fxml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.TextArea?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n\r\n\r\n&lt;BorderPane prefHeight=&quot;339.0&quot; prefWidth=&quot;468.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; fx:controller=&quot;main.Controller&quot;&gt;\r\n   &lt;center&gt;\r\n      &lt;TextArea fx:id=&quot;textArea&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/center&gt;\r\n   &lt;right&gt;\r\n      &lt;Button fx:id=&quot;button&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getButton&quot; text=&quot;Button&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n   &lt;/right&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nI&#39;m still new to Java so I&#39;m unfamiliar to how exactly PrintStream or OutputStream works. Please excuse my ignorance.\r\n\r\nEvery suggestion is appreciated. ","title":"UTF-8 encoding for output from Console to JavaFX TextArea","body":"<p>I want to redirect the output in Console to JavaFX TextArea, and I follow a suggestion here: <a href=\"https://stackoverflow.com/a/33502923/14862319\">JavaFX: Redirect console output to TextArea that is created in SceneBuilder</a></p>\n<p>I tried to set charset to UTF-8 in PrintStream(), but <a href=\"https://i.stack.imgur.com/KPCyV.png\" rel=\"nofollow noreferrer\">it does not look so well</a>. Setting the charset to UTF-16 improves it a bit, but <a href=\"https://i.stack.imgur.com/d0iIA.png\" rel=\"nofollow noreferrer\">it is still illegible</a>.</p>\n<p>In Eclipse IDE, the supposed text output in Console turns out fine:</p>\n<pre><code>KHA khá»Ÿi Ä‘áº§u phiÃªn giao dá»‹ch sÃ¡ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ngÃ y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.\n</code></pre>\n<p><strong>Controller.java</strong></p>\n<pre><code>public class Controller {\n    @FXML\n    private Button button;\n\n    public Button getButton() {\n        return button;\n    }\n\n    @FXML\n    private TextArea textArea;\n\n    public TextArea getTextArea() {\n        return textArea;\n    }\n\n    private PrintStream printStream;\n\n    public PrintStream getPrintStream() {\n        return printStream;\n    }\n\n    public void initialize() {\n        textArea.setWrapText(true);\n        printStream = new PrintStream(new UITextOutput(textArea), true, StandardCharsets.UTF_8);\n    } // Encoding set to UTF-8\n\n    public class UITextOutput extends OutputStream {\n        private TextArea text;\n\n        public UITextOutput(TextArea text) {\n            this.text = text;\n        }\n\n        public void appendText(String valueOf) {\n            Platform.runLater(() -&gt; text.appendText(valueOf));\n        }\n\n        public void write(int b) throws IOException {\n            appendText(String.valueOf((char) b));\n        }\n    }\n}\n</code></pre>\n<p><strong>UI.java</strong></p>\n<pre><code>public class UI extends Application {\n    @Override\n    public void start(Stage stage) {\n        try {\n            FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;Sample.fxml&quot;));\n            Parent root = loader.load();\n            Controller control = loader.getController();\n\n            stage.setTitle(&quot;Title&quot;);\n            stage.setScene(new Scene(root));\n            stage.show();\n\n            control.getButton().setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                public void handle(ActionEvent event) {\n                    try {\n                        System.setOut(control.getPrintStream());\n                        System.setErr(control.getPrintStream());\n                        System.out.println(\n                                &quot;KHA khá»Ÿi Ä‘áº§u phiÃªn giao dá»‹ch sÃ¡ng nay á»Ÿ má»©c 23600 Ä‘iá»ƒm, khá»‘i lÆ°á»£ng giao dá»‹ch trong ngÃ y Ä‘áº¡t 765 cá»• phiáº¿u, tÆ°Æ¡ng Ä‘Æ°Æ¡ng khoáº£ng 18054000 Ä‘á»“ng.&quot;);\n                    } catch (Exception e) {\n                        e.printStackTrace();\n                    }\n                }\n            });\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p><strong>Sample.fxml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.TextArea?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n\n\n&lt;BorderPane prefHeight=&quot;339.0&quot; prefWidth=&quot;468.0&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; xmlns=&quot;http://javafx.com/javafx/11.0.1&quot; fx:controller=&quot;main.Controller&quot;&gt;\n   &lt;center&gt;\n      &lt;TextArea fx:id=&quot;textArea&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/center&gt;\n   &lt;right&gt;\n      &lt;Button fx:id=&quot;button&quot; mnemonicParsing=&quot;false&quot; onAction=&quot;#getButton&quot; text=&quot;Button&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n   &lt;/right&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>I'm still new to Java so I'm unfamiliar to how exactly PrintStream or OutputStream works. Please excuse my ignorance.</p>\n<p>Every suggestion is appreciated.</p>\n"},{"tags":["java","rest","cross-domain","html5-canvas","tomcat6"],"comments":[{"owner":{"account_id":2584055,"reputation":990,"user_id":2240155,"accept_rate":60,"display_name":"Karthikeyan"},"score":0,"creation_date":1374428227,"post_id":17774987,"comment_id":25924948,"body_markdown":"Can you attach your Controller or Servlet code, also, if possible?","body":"Can you attach your Controller or Servlet code, also, if possible?"},{"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"score":0,"creation_date":1374473745,"post_id":17774987,"comment_id":25935509,"body_markdown":"@Karthikeyan I have updated the servlet code. Its a plain simple servlet where get/post requests are defined in the parent class","body":"@Karthikeyan I have updated the servlet code. Its a plain simple servlet where get/post requests are defined in the parent class"}],"answers":[{"tags":[],"owner":{"account_id":1155193,"reputation":91,"user_id":1136001,"display_name":"junkiecoder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1374428847,"creation_date":1374428847,"answer_id":17775107,"question_id":17774987,"body_markdown":"do you have any security constraints related to http methods  configured in web.xml? i am not sure that why you go for a seperate api for filtering your request?","title":"GET requests are being forbidden while POST requests go through fine","body":"<p>do you have any security constraints related to http methods  configured in web.xml? i am not sure that why you go for a seperate api for filtering your request?</p>\n"},{"tags":[],"owner":{"account_id":28598661,"reputation":11,"user_id":21896124,"display_name":"ConventionalPointer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684078382,"creation_date":1684078336,"answer_id":76248293,"question_id":17774987,"body_markdown":"I&#39;ve spent days trying to hook up my Spring Boot with Apache Guacamole backend to my NextJS frontend, and here&#39;s the solution that works for me (with reference to this [issue][1] on StackOverflow):\r\n\r\nThere are two main parts to the problem, CORS and CSRF. Firstly, create a new Java class and setup a CORS configuration with the stuff like headers and methods that Guacamole needs, as well as the origin of the frontend server. This ensures that the Spring Boot server will respond to a request from the frontend with the proper CORS headers so that it doesn&#39;t get blocked by the browser.\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        configuration.setExposedHeaders(Arrays.asList(&quot;Guacamole-Status-Code&quot;, &quot;Guacamole-Error-Message&quot;, &quot;Guacamole-Tunnel-Token&quot;));\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n\r\nSecondly, with the proper CORS configuration, the POST request ending with &quot;/tunnel?connect&quot; will be allowed, but subsequent GET requests ending with &quot;/tunnel?read:some-numbers-and-text:0&quot; will still be blocked. This is where CSRF comes into play, as the requests were probably rejected due to [Spring Security&#39;s default CSRF protection][2]. As such, simply create a new SecurityFilterChain and specify the line &quot;http.cors().and().csrf().disable();&quot;, to disable CSRF (you can configure this later). The POST requests will then be accepted, and an Apache Guacamole tunnel can be initiated.\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\r\n        // Adds a CorsFilter to be used. If a bean by the name of corsFilter is provided, that CorsFilter is used. \r\n        // Else if corsConfigurationSource is defined, then that CorsConfiguration is used.\r\n        http.cors().and().csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\nHere&#39;s the full Java Class:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class WebSecurityConfig {\r\n        @Bean\r\n        public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n    \r\n            // Adds a CorsFilter to be used. If a bean by the name of corsFilter is provided, that CorsFilter is used. \r\n            // Else if corsConfigurationSource is defined, then that CorsConfiguration is used.\r\n            http.cors().and().csrf().disable();\r\n    \r\n            return http.build();\r\n        }\r\n    \r\n        @Bean\r\n        CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\r\n            configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n            configuration.setAllowCredentials(true);\r\n            configuration.setExposedHeaders(Arrays.asList(&quot;Guacamole-Status-Code&quot;, &quot;Guacamole-Error-Message&quot;, &quot;Guacamole-Tunnel-Token&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/50486314/how-to-solve-403-error-in-spring-boot-post-request\r\n  [2]: https://www.baeldung.com/spring-security-csrf#:~:text=Spring%20Security%20Configuration,-In%20the%20older&amp;text=Starting%20from%20Spring%20Security%204,the%20HttpServletRequest%20attribute%20named%20_csrf.","title":"GET requests are being forbidden while POST requests go through fine","body":"<p>I've spent days trying to hook up my Spring Boot with Apache Guacamole backend to my NextJS frontend, and here's the solution that works for me (with reference to this <a href=\"https://stackoverflow.com/questions/50486314/how-to-solve-403-error-in-spring-boot-post-request\">issue</a> on StackOverflow):</p>\n<p>There are two main parts to the problem, CORS and CSRF. Firstly, create a new Java class and setup a CORS configuration with the stuff like headers and methods that Guacamole needs, as well as the origin of the frontend server. This ensures that the Spring Boot server will respond to a request from the frontend with the proper CORS headers so that it doesn't get blocked by the browser.</p>\n<pre><code>@Bean\nCorsConfigurationSource corsConfigurationSource() {\n    CorsConfiguration configuration = new CorsConfiguration();\n    configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\n    configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n    configuration.setAllowCredentials(true);\n    configuration.setExposedHeaders(Arrays.asList(&quot;Guacamole-Status-Code&quot;, &quot;Guacamole-Error-Message&quot;, &quot;Guacamole-Tunnel-Token&quot;));\n    UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n    source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n    return source;\n}\n</code></pre>\n<p>Secondly, with the proper CORS configuration, the POST request ending with &quot;/tunnel?connect&quot; will be allowed, but subsequent GET requests ending with &quot;/tunnel?read:some-numbers-and-text:0&quot; will still be blocked. This is where CSRF comes into play, as the requests were probably rejected due to <a href=\"https://www.baeldung.com/spring-security-csrf#:%7E:text=Spring%20Security%20Configuration,-In%20the%20older&amp;text=Starting%20from%20Spring%20Security%204,the%20HttpServletRequest%20attribute%20named%20_csrf.\" rel=\"nofollow noreferrer\">Spring Security's default CSRF protection</a>. As such, simply create a new SecurityFilterChain and specify the line &quot;http.cors().and().csrf().disable();&quot;, to disable CSRF (you can configure this later). The POST requests will then be accepted, and an Apache Guacamole tunnel can be initiated.</p>\n<pre><code>@Bean\npublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n    // Adds a CorsFilter to be used. If a bean by the name of corsFilter is provided, that CorsFilter is used. \n    // Else if corsConfigurationSource is defined, then that CorsConfiguration is used.\n    http.cors().and().csrf().disable();\n\n    return http.build();\n}\n</code></pre>\n<p>Here's the full Java Class:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n\n        // Adds a CorsFilter to be used. If a bean by the name of corsFilter is provided, that CorsFilter is used. \n        // Else if corsConfigurationSource is defined, then that CorsConfiguration is used.\n        http.cors().and().csrf().disable();\n\n        return http.build();\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;http://localhost:3000&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n        configuration.setExposedHeaders(Arrays.asList(&quot;Guacamole-Status-Code&quot;, &quot;Guacamole-Error-Message&quot;, &quot;Guacamole-Tunnel-Token&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24660,"reputation":3054,"user_id":2639206,"accept_rate":73,"display_name":"Ram"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684078382,"creation_date":1374428006,"question_id":17774987,"body_markdown":"In my web application, I need to make calls to to a different web service (developed/managed by me) to start/manage resources through rest APIs. Web service runs on tomcat6. I can see from the browser logs that POST requests are getting through but GET requests are being forbidden. If I make the same calls from the web service itself, then I am not seeing any issues. I have defined cross origin filter for tomcat6 and mentioned GET in supported methods too but still problem persists..\r\n\r\n\r\nI have defined the cross origin filters this way in the web.xml at the application server level itself. I am using CORS filter libraries from http://software.dzhuvinov.com/cors-filter.html. This is a tomcat6 server and filter has been defined at ($TOMCAT6_HOME/conf/web.xml) as follows\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\r\n        &lt;init-param&gt;\r\n         &lt;param-name&gt;cors.allowOrigin&lt;/param-name&gt;\r\n            &lt;param-value&gt;*&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n         &lt;param-name&gt;cors.supportedMethods&lt;/param-name&gt;\r\n            &lt;param-value&gt;GET, POST, HEAD, PUT, DELETE, OPTIONS&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n        &lt;init-param&gt;\r\n         &lt;param-name&gt;cors.supportedHeaders&lt;/param-name&gt;\r\n         &lt;param-value&gt;*&lt;/param-value&gt;\r\n        &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n    \r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;CORS&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\n\r\nStrangely, webservice is accepting POST calls but for GET calls, its throwing 403 - Forbidden error telling &quot;Access to the specified resource has been forbidden&quot;.\r\n\r\nHeaders for the GET call is as follows\r\n\r\n    Request URL:https://remote.vm.mycompany.com/remote/tunnel?read:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0\r\n    Request Method:GET\r\n    Status Code:403 Forbidden\r\n    Request Headersview source\r\n    Accept:*/*\r\n    Accept-Encoding:gzip,deflate,sdch\r\n    Accept-Language:en-US,en;q=0.8\r\n    Connection:keep-alive\r\n    Host:remote.vm.mycompany.com\r\n    Origin:https://ec2-184-72-200-91.compute-1.amazonaws.com\r\n    Referer:https://ec2-184-72-200-91.compute-1.amazonaws.com/\r\n    User-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36\r\n    Query String Parametersview sourceview URL encoded\r\n    read:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0:\r\n    Response Headersview source\r\n    Access-Control-Allow-Credentials:true\r\n    Access-Control-Allow-Origin:https://ec2-184-72-200-91.compute-1.amazonaws.com\r\n    Content-Length:961\r\n    Content-Type:text/html;charset=utf-8\r\n    Date:Sun, 21 Jul 2013 17:17:37 GMT\r\n    Server:Apache-Coyote/1.1\r\n\r\n\r\nTomcat access logs also reveal GET request has been forbidden  but does&#39;t give any clue in any of the logs \r\n\r\n    - - - [21/Jul/2013:17:17:37 +0000] POST /remote/tunnel?connect HTTP/1.1 200   -\r\n    - - - [21/Jul/2013:17:17:37 +0000] GET /remote/tunnel?read:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0 HTTP/1.1 403   -\r\n\r\nHere is my servlet code. I am trying to integrate [guacamole][1] (HTML5 VNC client as webservice )\r\n\r\n\r\n    package com.mycompany.html5remote;\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import javax.servlet.http.HttpServletRequest;\r\n    import javax.servlet.http.HttpSession;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    import net.sourceforge.guacamole.GuacamoleException;\r\n    import net.sourceforge.guacamole.net.GuacamoleSocket;\r\n    import net.sourceforge.guacamole.net.GuacamoleTunnel;\r\n    import net.sourceforge.guacamole.net.InetGuacamoleSocket;\r\n    import net.sourceforge.guacamole.protocol.ConfiguredGuacamoleSocket;\r\n    import net.sourceforge.guacamole.protocol.GuacamoleClientInformation;\r\n    import net.sourceforge.guacamole.protocol.GuacamoleConfiguration;\r\n    import net.sourceforge.guacamole.servlet.GuacamoleHTTPTunnelServlet;\r\n    import net.sourceforge.guacamole.servlet.GuacamoleSession;\r\n    \r\n    public class HttpTunnel extends GuacamoleHTTPTunnelServlet {\r\n    \t\r\n        private Logger logger = LoggerFactory.getLogger(HttpTunnel.class);\r\n    \r\n        @Override\r\n        protected GuacamoleTunnel doConnect(HttpServletRequest request) throws GuacamoleException {\r\n    \r\n            HttpSession httpSession = request.getSession(true);\r\n            logger.info(&quot;Inside doConnect Method.&quot;);\r\n\r\n\r\n            GuacamoleClientInformation info = new GuacamoleClientInformation();\r\n            \r\n            String hostname = request.getParameter(&quot;hostname&quot;);\r\n            String protocol = request.getParameter(&quot;protocol&quot;);\r\n            \r\n            // Create socket\r\n            GuacamoleConfiguration config = new GuacamoleConfiguration();\r\n            config.setProtocol(protocol);\r\n            config.setParameter(&quot;hostname&quot;, hostname);\r\n            //config.setParameter(&quot;hostname&quot;, &quot;ec2-184-73-104-108.compute-1.amazonaws.com&quot;);\r\n            if(&quot;vnc&quot;.equals(protocol)){\r\n            \tconfig.setParameter(&quot;port&quot;, &quot;5901&quot;);\r\n            }else if (&quot;rdp&quot;.equals(protocol)){\r\n            \tconfig.setParameter(&quot;port&quot;, &quot;3389&quot;);\r\n            }else{\r\n            \tconfig.setParameter(&quot;port&quot;, &quot;22&quot;);\r\n            }\r\n            \r\n            logger.info(&quot;Set the configuration. Creating the socket connection now..&quot;);\r\n    \r\n            // Return connected socket\r\n            GuacamoleSocket socket =  new ConfiguredGuacamoleSocket(\r\n                    new InetGuacamoleSocket(&quot;localhost&quot;, 4822),\r\n                    config, info\r\n            );\r\n            \r\n            logger.info(&quot;Successfully created socket connection.&quot;);\r\n            \r\n    \r\n            // Create tunnel from now-configured socket\r\n            GuacamoleTunnel tunnel = new GuacamoleTunnel(socket);\r\n    \r\n            // Attach tunnel\r\n            GuacamoleSession session = new GuacamoleSession(httpSession);\r\n            session.attachTunnel(tunnel);\r\n            logger.info(&quot;Done&quot;);\r\n            return tunnel;\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nDocumentation for GuacamoleHTTPTunnelServlet (GPL Licenced) is [here][2]\r\n\r\n\r\nWhat could possibly am I missing? Are there any other places I can look for clues? Please help\r\n \r\n\r\n\r\n  [1]: http://guac-dev.org/\r\n  [2]: http://guac-dev.org/doc/guacamole-common/net/sourceforge/guacamole/servlet/GuacamoleHTTPTunnelServlet.html","title":"GET requests are being forbidden while POST requests go through fine","body":"<p>In my web application, I need to make calls to to a different web service (developed/managed by me) to start/manage resources through rest APIs. Web service runs on tomcat6. I can see from the browser logs that POST requests are getting through but GET requests are being forbidden. If I make the same calls from the web service itself, then I am not seeing any issues. I have defined cross origin filter for tomcat6 and mentioned GET in supported methods too but still problem persists..</p>\n\n<p>I have defined the cross origin filters this way in the web.xml at the application server level itself. I am using CORS filter libraries from <a href=\"http://software.dzhuvinov.com/cors-filter.html\" rel=\"nofollow\">http://software.dzhuvinov.com/cors-filter.html</a>. This is a tomcat6 server and filter has been defined at ($TOMCAT6_HOME/conf/web.xml) as follows</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.thetransactioncompany.cors.CORSFilter&lt;/filter-class&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;cors.allowOrigin&lt;/param-name&gt;\n        &lt;param-value&gt;*&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;cors.supportedMethods&lt;/param-name&gt;\n        &lt;param-value&gt;GET, POST, HEAD, PUT, DELETE, OPTIONS&lt;/param-value&gt;\n    &lt;/init-param&gt;\n    &lt;init-param&gt;\n     &lt;param-name&gt;cors.supportedHeaders&lt;/param-name&gt;\n     &lt;param-value&gt;*&lt;/param-value&gt;\n    &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;CORS&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>Strangely, webservice is accepting POST calls but for GET calls, its throwing 403 - Forbidden error telling \"Access to the specified resource has been forbidden\".</p>\n\n<p>Headers for the GET call is as follows</p>\n\n<pre><code>Request URL:https://remote.vm.mycompany.com/remote/tunnel?read:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0\nRequest Method:GET\nStatus Code:403 Forbidden\nRequest Headersview source\nAccept:*/*\nAccept-Encoding:gzip,deflate,sdch\nAccept-Language:en-US,en;q=0.8\nConnection:keep-alive\nHost:remote.vm.mycompany.com\nOrigin:https://ec2-184-72-200-91.compute-1.amazonaws.com\nReferer:https://ec2-184-72-200-91.compute-1.amazonaws.com/\nUser-Agent:Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/28.0.1500.71 Safari/537.36\nQuery String Parametersview sourceview URL encoded\nread:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0:\nResponse Headersview source\nAccess-Control-Allow-Credentials:true\nAccess-Control-Allow-Origin:https://ec2-184-72-200-91.compute-1.amazonaws.com\nContent-Length:961\nContent-Type:text/html;charset=utf-8\nDate:Sun, 21 Jul 2013 17:17:37 GMT\nServer:Apache-Coyote/1.1\n</code></pre>\n\n<p>Tomcat access logs also reveal GET request has been forbidden  but does't give any clue in any of the logs </p>\n\n<pre><code>- - - [21/Jul/2013:17:17:37 +0000] POST /remote/tunnel?connect HTTP/1.1 200   -\n- - - [21/Jul/2013:17:17:37 +0000] GET /remote/tunnel?read:c2faeb31-4147-49e8-b8d3-53d89496e5ca:0 HTTP/1.1 403   -\n</code></pre>\n\n<p>Here is my servlet code. I am trying to integrate <a href=\"http://guac-dev.org/\" rel=\"nofollow\">guacamole</a> (HTML5 VNC client as webservice )</p>\n\n<pre><code>package com.mycompany.html5remote;\n\nimport java.util.Arrays;\n\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpSession;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport net.sourceforge.guacamole.GuacamoleException;\nimport net.sourceforge.guacamole.net.GuacamoleSocket;\nimport net.sourceforge.guacamole.net.GuacamoleTunnel;\nimport net.sourceforge.guacamole.net.InetGuacamoleSocket;\nimport net.sourceforge.guacamole.protocol.ConfiguredGuacamoleSocket;\nimport net.sourceforge.guacamole.protocol.GuacamoleClientInformation;\nimport net.sourceforge.guacamole.protocol.GuacamoleConfiguration;\nimport net.sourceforge.guacamole.servlet.GuacamoleHTTPTunnelServlet;\nimport net.sourceforge.guacamole.servlet.GuacamoleSession;\n\npublic class HttpTunnel extends GuacamoleHTTPTunnelServlet {\n\n    private Logger logger = LoggerFactory.getLogger(HttpTunnel.class);\n\n    @Override\n    protected GuacamoleTunnel doConnect(HttpServletRequest request) throws GuacamoleException {\n\n        HttpSession httpSession = request.getSession(true);\n        logger.info(\"Inside doConnect Method.\");\n\n\n        GuacamoleClientInformation info = new GuacamoleClientInformation();\n\n        String hostname = request.getParameter(\"hostname\");\n        String protocol = request.getParameter(\"protocol\");\n\n        // Create socket\n        GuacamoleConfiguration config = new GuacamoleConfiguration();\n        config.setProtocol(protocol);\n        config.setParameter(\"hostname\", hostname);\n        //config.setParameter(\"hostname\", \"ec2-184-73-104-108.compute-1.amazonaws.com\");\n        if(\"vnc\".equals(protocol)){\n            config.setParameter(\"port\", \"5901\");\n        }else if (\"rdp\".equals(protocol)){\n            config.setParameter(\"port\", \"3389\");\n        }else{\n            config.setParameter(\"port\", \"22\");\n        }\n\n        logger.info(\"Set the configuration. Creating the socket connection now..\");\n\n        // Return connected socket\n        GuacamoleSocket socket =  new ConfiguredGuacamoleSocket(\n                new InetGuacamoleSocket(\"localhost\", 4822),\n                config, info\n        );\n\n        logger.info(\"Successfully created socket connection.\");\n\n\n        // Create tunnel from now-configured socket\n        GuacamoleTunnel tunnel = new GuacamoleTunnel(socket);\n\n        // Attach tunnel\n        GuacamoleSession session = new GuacamoleSession(httpSession);\n        session.attachTunnel(tunnel);\n        logger.info(\"Done\");\n        return tunnel;\n\n    }\n\n}\n</code></pre>\n\n<p>Documentation for GuacamoleHTTPTunnelServlet (GPL Licenced) is <a href=\"http://guac-dev.org/doc/guacamole-common/net/sourceforge/guacamole/servlet/GuacamoleHTTPTunnelServlet.html\" rel=\"nofollow\">here</a></p>\n\n<p>What could possibly am I missing? Are there any other places I can look for clues? Please help</p>\n"},{"tags":["java","math","primes"],"comments":[{"owner":{"account_id":2524756,"reputation":2771,"user_id":2194336,"accept_rate":77,"display_name":"cerkiewny"},"score":0,"creation_date":1369360806,"post_id":16726593,"comment_id":24085214,"body_markdown":"2 and i -1 this is too much, you can check divisions between 2 and sqrt(i).","body":"2 and i -1 this is too much, you can check divisions between 2 and sqrt(i)."},{"owner":{"account_id":955087,"reputation":57276,"user_id":980550,"accept_rate":70,"display_name":"lurker"},"score":0,"creation_date":1369360826,"post_id":16726593,"comment_id":24085220,"body_markdown":"For this algorithm to work, then i%j would have to be &gt;= 1 for ALL the inner loop cases, not just one. As cerkiewny points out, you can reduce the loop iterations by just going to sqrt(i).","body":"For this algorithm to work, then i%j would have to be &gt;= 1 for ALL the inner loop cases, not just one. As cerkiewny points out, you can reduce the loop iterations by just going to sqrt(i)."},{"owner":{"account_id":2210499,"reputation":3151,"user_id":1952499,"display_name":"Radio-"},"score":0,"creation_date":1369360934,"post_id":16726593,"comment_id":24085241,"body_markdown":"i++ in the inner loop must be a typo?","body":"i++ in the inner loop must be a typo?"},{"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"score":0,"creation_date":1369361040,"post_id":16726593,"comment_id":24085257,"body_markdown":"hehe ... comments are faster than answers ... beat me to it.","body":"hehe ... comments are faster than answers ... beat me to it."},{"owner":{"account_id":1942600,"reputation":1441,"user_id":1748442,"accept_rate":98,"display_name":"Jessica M."},"score":0,"creation_date":1369361041,"post_id":16726593,"comment_id":24085258,"body_markdown":"@Radio- No, not a typo. I want the outer loop to count down and the inner loop to count up. So for example to test 50 i want 50 % 2...3...4.. all the way up to 50 % 49.","body":"@Radio- No, not a typo. I want the outer loop to count down and the inner loop to count up. So for example to test 50 i want 50 % 2...3...4.. all the way up to 50 % 49."}],"answers":[{"tags":[],"owner":{"account_id":585815,"reputation":17118,"user_id":261142,"accept_rate":82,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369361390,"creation_date":1369360903,"answer_id":16726622,"question_id":16726593,"body_markdown":"You correctly observed that if a number `i` can be evenly divided by a number `j`, then `i % j == 0`. \r\n\r\nHowever, you&#39;re printing i every time you find a case where `i % j &gt;= 0` -- that doesn&#39;t mean however that`i` is prime, because there could be some other `j` that `i` can be evenly divided by.\r\n\r\nInstead, you should first go through all of your `j`, and only if none of them gives you `== 0`, should you consider `i` prime. You could use a boolean variable `isPrime` that is initially `true`, but that the inner for-loop sets to `false` as soon as it finds a `j` by which `i` can be evenly divided.","title":"Brute force method finding prime numbers","body":"<p>You correctly observed that if a number <code>i</code> can be evenly divided by a number <code>j</code>, then <code>i % j == 0</code>. </p>\n\n<p>However, you're printing i every time you find a case where <code>i % j &gt;= 0</code> -- that doesn't mean however that<code>i</code> is prime, because there could be some other <code>j</code> that <code>i</code> can be evenly divided by.</p>\n\n<p>Instead, you should first go through all of your <code>j</code>, and only if none of them gives you <code>== 0</code>, should you consider <code>i</code> prime. You could use a boolean variable <code>isPrime</code> that is initially <code>true</code>, but that the inner for-loop sets to <code>false</code> as soon as it finds a <code>j</code> by which <code>i</code> can be evenly divided.</p>\n"},{"tags":[],"owner":{"account_id":1369656,"reputation":17579,"user_id":1305253,"accept_rate":50,"display_name":"rolfl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1369360995,"creation_date":1369360995,"answer_id":16726635,"question_id":16726593,"body_markdown":"There is a bug in your second loop (the inner loop).\r\n\r\nYou should be incrementing `j` and not `i`.... i.e. the innner loop should be\r\n\r\n    for (int j= 2; j &lt; i-1; j++){\r\n\r\nand not\r\n\r\n    for (int j= 2; j &lt; i-1; i++){","title":"Brute force method finding prime numbers","body":"<p>There is a bug in your second loop (the inner loop).</p>\n\n<p>You should be incrementing <code>j</code> and not <code>i</code>.... i.e. the innner loop should be</p>\n\n<pre><code>for (int j= 2; j &lt; i-1; j++){\n</code></pre>\n\n<p>and not</p>\n\n<pre><code>for (int j= 2; j &lt; i-1; i++){\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2524756,"reputation":2771,"user_id":2194336,"accept_rate":77,"display_name":"cerkiewny"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369361248,"creation_date":1369361248,"answer_id":16726667,"question_id":16726593,"body_markdown":"This if statement:\r\n\r\n    if (i % j &gt;= 1){\r\n             println(i);\r\n\r\nWill print every number that is not divided by j number, and the numbers you want to print are not those that will get a value of division different from 0 from one substract but for ALL substracts.\r\n\r\nAlso the faster solution is taking the Boolean array of potentially prime numbers and looping like this.\r\n\r\n    for ( i = 2; i &lt; sqrt(maxvalue); i ++){\r\n                for(j = 1; j &lt; sqrt(maxval); j++){\r\n                      potentialy_prime[i*j]=false\r\n                }\r\n           }\r\n    for (potentialy_prime){\r\n        if(potentialy_prime[i]==true)\r\n                print(i &quot;is prime&quot;)\r\n    }\r\n\r\n\r\n\r\n ","title":"Brute force method finding prime numbers","body":"<p>This if statement:</p>\n\n<pre><code>if (i % j &gt;= 1){\n         println(i);\n</code></pre>\n\n<p>Will print every number that is not divided by j number, and the numbers you want to print are not those that will get a value of division different from 0 from one substract but for ALL substracts.</p>\n\n<p>Also the faster solution is taking the Boolean array of potentially prime numbers and looping like this.</p>\n\n<pre><code>for ( i = 2; i &lt; sqrt(maxvalue); i ++){\n            for(j = 1; j &lt; sqrt(maxval); j++){\n                  potentialy_prime[i*j]=false\n            }\n       }\nfor (potentialy_prime){\n    if(potentialy_prime[i]==true)\n            print(i \"is prime\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":331344,"reputation":2328,"user_id":655973,"accept_rate":67,"display_name":"Matt Becker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369361291,"creation_date":1369361291,"answer_id":16726674,"question_id":16726593,"body_markdown":"Check out dydx&#39;s answer on this question: https://stackoverflow.com/questions/13437162/java-finding-prime-numbers.  Or this question: https://stackoverflow.com/questions/288200/prime-number-calculation-fun or this one https://stackoverflow.com/questions/11280466/getting-the-prime-numbers, etc...","title":"Brute force method finding prime numbers","body":"<p>Check out dydx's answer on this question: <a href=\"https://stackoverflow.com/questions/13437162/java-finding-prime-numbers\">https://stackoverflow.com/questions/13437162/java-finding-prime-numbers</a>.  Or this question: <a href=\"https://stackoverflow.com/questions/288200/prime-number-calculation-fun\">Prime number calculation fun</a> or this one <a href=\"https://stackoverflow.com/questions/11280466/getting-the-prime-numbers\">Getting the prime numbers</a>, etc...</p>\n"},{"tags":[],"owner":{"account_id":2038814,"reputation":11606,"user_id":1820501,"display_name":"Florent Bayle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369362838,"creation_date":1369362838,"answer_id":16726855,"question_id":16726593,"body_markdown":"There are 3 problems with your code :\r\n\r\n - In the inner loop, you are increasing `i` instead of increasing `j`.\r\n\r\n - You print the number as soon as `i % j &gt;= 1`, but maybe the next `j` will divide `i`, and thus `i` isn&#39;t prime.\r\n\r\n - You should stop the inner loop at sqrt(i) to avoid useless tests.\r\n\r\nHere is a corrected version of the code :\r\n\r\n    OUTER: for (int i = 50; i &gt;= 2; i--) {\r\n    \tfor (int j = 2; j &lt;= (int) Math.sqrt(i); j++) {\r\n    \t\tif (i % j == 0)\r\n    \t\t\tcontinue OUTER;\r\n    \t\t} /* end of inner loop */\r\n    \tprintln(i);\r\n    } /* end of for loop */","title":"Brute force method finding prime numbers","body":"<p>There are 3 problems with your code :</p>\n\n<ul>\n<li><p>In the inner loop, you are increasing <code>i</code> instead of increasing <code>j</code>.</p></li>\n<li><p>You print the number as soon as <code>i % j &gt;= 1</code>, but maybe the next <code>j</code> will divide <code>i</code>, and thus <code>i</code> isn't prime.</p></li>\n<li><p>You should stop the inner loop at sqrt(i) to avoid useless tests.</p></li>\n</ul>\n\n<p>Here is a corrected version of the code :</p>\n\n<pre><code>OUTER: for (int i = 50; i &gt;= 2; i--) {\n    for (int j = 2; j &lt;= (int) Math.sqrt(i); j++) {\n        if (i % j == 0)\n            continue OUTER;\n        } /* end of inner loop */\n    println(i);\n} /* end of for loop */\n</code></pre>\n"},{"tags":[],"owner":{"account_id":310838,"reputation":852,"user_id":624041,"accept_rate":100,"display_name":"TheBlackKeys"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1369371882,"creation_date":1369362839,"answer_id":16726856,"question_id":16726593,"body_markdown":"You made 2 mistakes. The first is explained in the comment by [@Thomas][1] and the second is explained in the comment by [@rolfl][2]. I corrected them both here:\r\n\r\n    public class PrimeNumber extends ConsoleProgram {\r\n        public void run() {\r\n            for (int i = 50; i &gt;= 2; i--) {\r\n                boolean isPrime = true;\r\n                for (int j = 2; j &lt; i-1; j++) { //increment &quot;j&quot; not &quot;i&quot;\r\n                    if (i % j == 0) {\r\n                        isPrime = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (isPrime) System.out.println(i);\r\n            }\r\n        } \r\n    }\r\n\r\nNote: I verified the solution using this code (save in your IDE as PrimeNumber.java):\r\n\r\n    public class PrimeNumber {\r\n        public static void main (String args[]) {\r\n            for (int i = 50; i &gt;= 2; i--) {\r\n                boolean isPrime = true;\r\n                for (int j = 2; j &lt; i-1; j++) { //increment &quot;j&quot; not &quot;i&quot;\r\n                    if (i % j == 0) {\r\n                        isPrime = false;\r\n                        break;\r\n                    }\r\n                }\r\n                if (isPrime) System.out.println(i);\r\n            }\r\n        } \r\n    }\r\n\r\n---\r\n\r\n**Edit:** For your understanding, your main problem is the logic here:\r\n\r\n    for (int j= 2; j &lt; i-1; j++) {\r\n        if (i % j &gt;= 1) {\r\n            println(i);\r\n\r\nYou are printing `i` after only checking one possibility. \r\n\r\nFor example, take `i = 7`. You have to test `i % j` for `j` = 6, 5, 4, 3, and 2 before you can say that `i` is prime. You can&#39;t just test `i % j` for `j = 6`, as you have done. To do so, your `println` statement should come after the for loop, not nested inside of it, so you can test all the possible values of `j` first.\r\n\r\n___\r\n\r\n**Edit 2:** In response to\r\n\r\n&gt; Coincidentally enough, the 1st part of the assignment is to write a predicate method that returns true if the number is prime and false if it is not prime using the strategy of brute-force. The 2nd part of the assignment is to find a more efficient way and reworking the 1st part of the assignment to be more efficient. I was trying to solve the problem using just using two for loops to see if i could do it. Can it be done with just two for loops w/o label and continue since my book has not covered that yet?\r\n\r\nTry something like this:\r\n\r\n    public boolean isPrime(int number) {\r\n    \tfor (int i = 2; i &lt; number; i++) {\r\n    \t\tif (number % i == 0) {\r\n    \t\t\treturn false; //not prime\r\n    \t\t}\r\n    \t}\r\n    \treturn true; //prime\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/16726622/624041\r\n  [2]: https://stackoverflow.com/a/16726635/624041","title":"Brute force method finding prime numbers","body":"<p>You made 2 mistakes. The first is explained in the comment by <a href=\"https://stackoverflow.com/a/16726622/624041\">@Thomas</a> and the second is explained in the comment by <a href=\"https://stackoverflow.com/a/16726635/624041\">@rolfl</a>. I corrected them both here:</p>\n\n<pre><code>public class PrimeNumber extends ConsoleProgram {\n    public void run() {\n        for (int i = 50; i &gt;= 2; i--) {\n            boolean isPrime = true;\n            for (int j = 2; j &lt; i-1; j++) { //increment \"j\" not \"i\"\n                if (i % j == 0) {\n                    isPrime = false;\n                    break;\n                }\n            }\n            if (isPrime) System.out.println(i);\n        }\n    } \n}\n</code></pre>\n\n<p>Note: I verified the solution using this code (save in your IDE as PrimeNumber.java):</p>\n\n<pre><code>public class PrimeNumber {\n    public static void main (String args[]) {\n        for (int i = 50; i &gt;= 2; i--) {\n            boolean isPrime = true;\n            for (int j = 2; j &lt; i-1; j++) { //increment \"j\" not \"i\"\n                if (i % j == 0) {\n                    isPrime = false;\n                    break;\n                }\n            }\n            if (isPrime) System.out.println(i);\n        }\n    } \n}\n</code></pre>\n\n<hr>\n\n<p><strong>Edit:</strong> For your understanding, your main problem is the logic here:</p>\n\n<pre><code>for (int j= 2; j &lt; i-1; j++) {\n    if (i % j &gt;= 1) {\n        println(i);\n</code></pre>\n\n<p>You are printing <code>i</code> after only checking one possibility. </p>\n\n<p>For example, take <code>i = 7</code>. You have to test <code>i % j</code> for <code>j</code> = 6, 5, 4, 3, and 2 before you can say that <code>i</code> is prime. You can't just test <code>i % j</code> for <code>j = 6</code>, as you have done. To do so, your <code>println</code> statement should come after the for loop, not nested inside of it, so you can test all the possible values of <code>j</code> first.</p>\n\n<hr>\n\n<p><strong>Edit 2:</strong> In response to</p>\n\n<blockquote>\n  <p>Coincidentally enough, the 1st part of the assignment is to write a predicate method that returns true if the number is prime and false if it is not prime using the strategy of brute-force. The 2nd part of the assignment is to find a more efficient way and reworking the 1st part of the assignment to be more efficient. I was trying to solve the problem using just using two for loops to see if i could do it. Can it be done with just two for loops w/o label and continue since my book has not covered that yet?</p>\n</blockquote>\n\n<p>Try something like this:</p>\n\n<pre><code>public boolean isPrime(int number) {\n    for (int i = 2; i &lt; number; i++) {\n        if (number % i == 0) {\n            return false; //not prime\n        }\n    }\n    return true; //prime\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6686300,"reputation":1012,"user_id":5157440,"display_name":"Archit Garg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438002699,"creation_date":1438002699,"answer_id":31654034,"question_id":16726593,"body_markdown":"This code should print out the prime numbers. Initial assumption is that every integer &gt;= 2 is prime(true in boolean array). while traversing through the array, if the number is found to be prime, cross out multiples of that number by setting them false in boolean array ( as they are not prime). At the end the numbers having true in boolean array will be prime numbers only.  \r\n\r\nTime complexity : O(n log(log n))\r\n\r\n    public class PrimesImprovement\r\n    {\r\n    \tpublic static void main(String[] args)\r\n    \t{  \r\n    \t\tSystem.out.println(&quot;Printing primes from 1 to 100&quot;);\r\n    \t\tint i;\r\n    \t\tint j;\r\n    \t\t//boolean prime;\r\n    \t\tboolean[] prime_arr=new boolean[100];\r\n    \t\tArrays.fill(prime_arr,true); // Assumption\r\n    \t\tprime_arr[0]=prime_arr[1]=false;  // As 0 and 1 are not prime numbers\r\n    \t\tfor ( i=2;i&lt;prime_arr.length;i++) \r\n    \t\t{\r\n    \r\n    \t\t\tif(prime_arr[i])\r\n    \t\t\t{ \r\n    \t\t\t\tfor ( j=2;i*j&lt;prime_arr.length;j++) \r\n    \t\t\t\t{\r\n    \t\t\t\t\tprime_arr[i*j]=false;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tfor( i=0; i&lt;prime_arr.length; i++)\r\n    \t\t{\r\n    \t\t\tif(prime_arr[i])\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.print(i+&quot; &quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\tSystem.out.println();\r\n    \t}\r\n    }\r\n\r\n","title":"Brute force method finding prime numbers","body":"<p>This code should print out the prime numbers. Initial assumption is that every integer >= 2 is prime(true in boolean array). while traversing through the array, if the number is found to be prime, cross out multiples of that number by setting them false in boolean array ( as they are not prime). At the end the numbers having true in boolean array will be prime numbers only.  </p>\n\n<p>Time complexity : O(n log(log n))</p>\n\n<pre><code>public class PrimesImprovement\n{\n    public static void main(String[] args)\n    {  \n        System.out.println(\"Printing primes from 1 to 100\");\n        int i;\n        int j;\n        //boolean prime;\n        boolean[] prime_arr=new boolean[100];\n        Arrays.fill(prime_arr,true); // Assumption\n        prime_arr[0]=prime_arr[1]=false;  // As 0 and 1 are not prime numbers\n        for ( i=2;i&lt;prime_arr.length;i++) \n        {\n\n            if(prime_arr[i])\n            { \n                for ( j=2;i*j&lt;prime_arr.length;j++) \n                {\n                    prime_arr[i*j]=false;\n                }\n            }\n        }\n\n        for( i=0; i&lt;prime_arr.length; i++)\n        {\n            if(prime_arr[i])\n            {\n                System.out.print(i+\" \");\n            }\n        }\n\n        System.out.println();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":967840,"reputation":3525,"user_id":990936,"display_name":"Karoly Nyisztor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684078307,"creation_date":1684078307,"answer_id":76248291,"question_id":16726593,"body_markdown":"Sorry nitpicking here, but why on earth are you all using post-increment operators in for loops? Do you realize the difference between ++i and i++?\r\n\r\n    int var1 = 5;\r\n    int var2 = 5;\r\n    \r\n    int result1 = ++var1;  // Pre-increment: first increment var1 to 6, then assign to result1\r\n    int result2 = var2++;  // Post-increment: first assign var2 to result2, then increment var2 to 6\r\n    \r\n    System.out.println(&quot;Pre-increment: &quot; + result1 + &quot;, var1: &quot; + var1);  // Output: Pre-increment: 6, var1: 6\r\n    System.out.println(&quot;Post-increment: &quot; + result2 + &quot;, var2: &quot; + var2);  // Output: Post-increment: 5, var2: 6\r\n\r\n","title":"Brute force method finding prime numbers","body":"<p>Sorry nitpicking here, but why on earth are you all using post-increment operators in for loops? Do you realize the difference between ++i and i++?</p>\n<pre><code>int var1 = 5;\nint var2 = 5;\n\nint result1 = ++var1;  // Pre-increment: first increment var1 to 6, then assign to result1\nint result2 = var2++;  // Post-increment: first assign var2 to result2, then increment var2 to 6\n\nSystem.out.println(&quot;Pre-increment: &quot; + result1 + &quot;, var1: &quot; + var1);  // Output: Pre-increment: 6, var1: 6\nSystem.out.println(&quot;Post-increment: &quot; + result2 + &quot;, var2: &quot; + var2);  // Output: Post-increment: 5, var2: 6\n</code></pre>\n"}],"owner":{"account_id":1942600,"reputation":1441,"user_id":1748442,"accept_rate":98,"display_name":"Jessica M."},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5931,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":16726856,"answer_count":8,"score":3,"last_activity_date":1684078307,"creation_date":1369360627,"question_id":16726593,"body_markdown":"I&#39;m having trouble writing a program that finds the prime numbers between 2-50. My program right now finds &quot;mostly&quot; prime numbers but some non-prime numbers are included. I know there are way more effective methods and strategies for finding prime numbers but I&#39;m trying to first run through every possibility before i move onto more efficient and effective strategies. The way the program is written now if it does find a prime number it prints it multiple times when I only want it to be printed once. Is my program conceptually correct or is my rationale flawed. Why does my program mostly find prime numbers but throw in some non prime numbers? Why does my program print the prime numbers multiple times?    &lt;br/&gt;&lt;br/&gt;\r\n\r\nHere is my approach to the problem. &lt;br/&gt;\r\n \r\n1. create a for loop to represent potential prime numbers between 2-50. Represent these potential prime numbers by the variable &quot;i&quot;. This loop will count down from 50. &lt;br/&gt;\r\n \r\n2. Since a number is prime only if there are no other divisible numbers besides itself and 1, i want to create a inner for loop to divide i by every possible number between 2 and i -1 to see if any of these numbers divides evenly into i. Represent these possible divisors by the variable j. If at any point j does divides evenly into i it&#39;s not a prime number so I want my inner loop to exit. \r\n\r\n3. If i gets divided by all the numbers of j and there are no numbers that divide evenly into i then that number if prime and  want to print that number. &lt;br/&gt;\r\n\r\n\r\n*\r\n\r\n    import acm.program.*;\r\n    public class PrimeNumber extends ConsoleProgram{\r\n    public void run(){\r\n\r\n      for (int i =50; i &gt;= 2; i--){\r\n        for (int j= 2; j &lt; i-1; j++){\r\n          \r\n            if (i % j &gt;= 1){\r\n             println(i);\r\n             }else{\r\n             if (i % j == 0) break;\r\n                    }\r\n                  } /*end of inner loop */  \r\n               } /* end of for loop */\r\n\r\n           } /* end of run method */\r\n         } ","title":"Brute force method finding prime numbers","body":"<p>I'm having trouble writing a program that finds the prime numbers between 2-50. My program right now finds \"mostly\" prime numbers but some non-prime numbers are included. I know there are way more effective methods and strategies for finding prime numbers but I'm trying to first run through every possibility before i move onto more efficient and effective strategies. The way the program is written now if it does find a prime number it prints it multiple times when I only want it to be printed once. Is my program conceptually correct or is my rationale flawed. Why does my program mostly find prime numbers but throw in some non prime numbers? Why does my program print the prime numbers multiple times?    <br/><br/></p>\n\n<p>Here is my approach to the problem. <br/></p>\n\n<ol>\n<li><p>create a for loop to represent potential prime numbers between 2-50. Represent these potential prime numbers by the variable \"i\". This loop will count down from 50. <br/></p></li>\n<li><p>Since a number is prime only if there are no other divisible numbers besides itself and 1, i want to create a inner for loop to divide i by every possible number between 2 and i -1 to see if any of these numbers divides evenly into i. Represent these possible divisors by the variable j. If at any point j does divides evenly into i it's not a prime number so I want my inner loop to exit. </p></li>\n<li><p>If i gets divided by all the numbers of j and there are no numbers that divide evenly into i then that number if prime and  want to print that number. <br/></p></li>\n</ol>\n\n<p>*</p>\n\n<pre><code>import acm.program.*;\npublic class PrimeNumber extends ConsoleProgram{\npublic void run(){\n\n  for (int i =50; i &gt;= 2; i--){\n    for (int j= 2; j &lt; i-1; j++){\n\n        if (i % j &gt;= 1){\n         println(i);\n         }else{\n         if (i % j == 0) break;\n                }\n              } /*end of inner loop */  \n           } /* end of for loop */\n\n       } /* end of run method */\n     } \n</code></pre>\n"},{"tags":["java","oracle","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683894836,"creation_date":1683894501,"answer_id":76236302,"question_id":76234096,"body_markdown":"It&#39;s not recommended to use a Kafka Consumer to write to a database. You have to handle batching, retries, parsing records to table columns, among other issues like knowing when to run an UPDATE or INSERT or DELETE query... \r\n\r\nAll of this is handled for you when you use [Kafka Connect JDBC sink](https://docs.confluent.io/kafka-connectors/jdbc/current/sink-connector/overview.html).\r\n\r\nIf you want to use Spring, then add [Spring Data dependency](https://docs.spring.io/spring-data/commons/docs/current/reference/html/) for a start, don&#39;t use JDBC PreparedStatement directly, and don&#39;t write one event to the database at a time from KafkaListener, as that&#39;ll be slow for both the consumer and database client, not to mention cause unnecessary load on the database with frequent writes.\r\n\r\nAlso, your wired Values are not correct. They should all start with `spring.kafka`. https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka","title":"Insert kafka consumer data to Oracle database with Java spring","body":"<p>It's not recommended to use a Kafka Consumer to write to a database. You have to handle batching, retries, parsing records to table columns, among other issues like knowing when to run an UPDATE or INSERT or DELETE query...</p>\n<p>All of this is handled for you when you use <a href=\"https://docs.confluent.io/kafka-connectors/jdbc/current/sink-connector/overview.html\" rel=\"nofollow noreferrer\">Kafka Connect JDBC sink</a>.</p>\n<p>If you want to use Spring, then add <a href=\"https://docs.spring.io/spring-data/commons/docs/current/reference/html/\" rel=\"nofollow noreferrer\">Spring Data dependency</a> for a start, don't use JDBC PreparedStatement directly, and don't write one event to the database at a time from KafkaListener, as that'll be slow for both the consumer and database client, not to mention cause unnecessary load on the database with frequent writes.</p>\n<p>Also, your wired Values are not correct. They should all start with <code>spring.kafka</code>. <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/messaging.html#messaging.kafka</a></p>\n"}],"owner":{"account_id":27954089,"reputation":5,"user_id":21347272,"display_name":"Dityudha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":630,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76236302,"answer_count":1,"score":-1,"last_activity_date":1684077778,"creation_date":1683876867,"question_id":76234096,"body_markdown":"I create a Java microservices with spring to consume message from kafka topics, and then insert the data to a database (Oracle). My service already works consumed data from kafka topics, but the problem is to send consumed data (JSON format) to the database (Oracle).\r\n\r\nHere&#39;s my kafka topics:\r\n\r\n![kafka topics](https://i.stack.imgur.com/lChIQ.png)\r\n\r\nSuccessfully consumed message:\r\n\r\n![consumed message](https://i.stack.imgur.com/d6ssk.png)\r\n\r\n\r\n\r\nI already tried with Java prepared statement but doesn&#39;t work.\r\n\r\n**My java consumer class**\r\n\r\n```\r\npackage com.kafka.consumertllog.engine;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\r\n\r\nimport org.springframework.kafka.annotation.KafkaListener;\r\nimport org.springframework.kafka.support.Acknowledgment;\r\nimport org.springframework.stereotype.Service;\r\n\r\n@Service\r\npublic class KafkaConsumerEngine {\r\n    @KafkaListener(id = &quot;${consumer.client.id}&quot;, topics =&quot;${kafka.consumer.clean.topic}&quot;, containerFactory=&quot;kafkaListenerContainerFactoryString&quot;)\r\n    public void consume(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment){\r\n        System.out.println(&quot;Consumed message : &quot; + consumerRecord.value().toString());\r\n        acknowledgment.acknowledge();\r\n    }\r\n}\r\n```\r\n\r\n**My java kafka listener class**\r\n\r\n```\r\npackage com.kafka.consumertllog.factory;\r\n\r\n// Importing required classes\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\r\nimport org.apache.kafka.common.serialization.StringDeserializer;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.kafka.annotation.EnableKafka;\r\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\r\nimport org.springframework.kafka.core.ConsumerFactory;\r\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\r\nimport org.springframework.kafka.listener.ContainerProperties;\r\n\r\n@Configuration\r\n@EnableKafka\r\npublic class KafkaListenerFactory {\r\n\r\n    @Value(&quot;${kafka.consumer.broker}&quot;)\r\n    private String bootstrapServers;\r\n\r\n    @Value(&quot;${kafka.consumer.id.group}&quot;)\r\n    private String idGroupConsumer;\r\n\r\n    @Value(&quot;${kafka.consumer.auto.offset.reset}&quot;)\r\n    private String autoOffsetReset;\r\n\r\n    @Value(&quot;${enable.auto.commit}&quot;)\r\n    private String enableAutoCommit;\r\n\r\n    @Value(&quot;${concurrent.consumer.kafka}&quot;)\r\n    private int concurrentConsumer;\r\n    \r\n    /**\r\n     *\r\n     * This controller configuration consumer for listen String message and manual commit\r\n     *\r\n     */\r\n\r\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactoryString&quot;)\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactoryString() {\r\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\r\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\r\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, idGroupConsumer);\r\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, autoOffsetReset);\r\n        config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, enableAutoCommit);\r\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        config.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, Integer.MAX_VALUE);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), new StringDeserializer());\r\n    }\r\n\r\n    @Bean(name = &quot;kafkaListenerContainerFactoryString&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactoryString() {\r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.setConsumerFactory(consumerFactoryString());\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.setConcurrency(concurrentConsumer);\r\n        return factory;\r\n    }\r\n}\r\n```\r\n\r\n","title":"Insert kafka consumer data to Oracle database with Java spring","body":"<p>I create a Java microservices with spring to consume message from kafka topics, and then insert the data to a database (Oracle). My service already works consumed data from kafka topics, but the problem is to send consumed data (JSON format) to the database (Oracle).</p>\n<p>Here's my kafka topics:</p>\n<p><img src=\"https://i.stack.imgur.com/lChIQ.png\" alt=\"kafka topics\" /></p>\n<p>Successfully consumed message:</p>\n<p><img src=\"https://i.stack.imgur.com/d6ssk.png\" alt=\"consumed message\" /></p>\n<p>I already tried with Java prepared statement but doesn't work.</p>\n<p><strong>My java consumer class</strong></p>\n<pre><code>package com.kafka.consumertllog.engine;\n\nimport org.apache.kafka.clients.consumer.ConsumerRecord;\n\nimport org.springframework.kafka.annotation.KafkaListener;\nimport org.springframework.kafka.support.Acknowledgment;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class KafkaConsumerEngine {\n    @KafkaListener(id = &quot;${consumer.client.id}&quot;, topics =&quot;${kafka.consumer.clean.topic}&quot;, containerFactory=&quot;kafkaListenerContainerFactoryString&quot;)\n    public void consume(ConsumerRecord&lt;String, String&gt; consumerRecord, Acknowledgment acknowledgment){\n        System.out.println(&quot;Consumed message : &quot; + consumerRecord.value().toString());\n        acknowledgment.acknowledge();\n    }\n}\n</code></pre>\n<p><strong>My java kafka listener class</strong></p>\n<pre><code>package com.kafka.consumertllog.factory;\n\n// Importing required classes\nimport java.util.HashMap;\nimport java.util.Map;\n\nimport org.apache.kafka.clients.consumer.ConsumerConfig;\nimport org.apache.kafka.common.serialization.StringDeserializer;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.boot.autoconfigure.condition.ConditionalOnMissingBean;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.kafka.annotation.EnableKafka;\nimport org.springframework.kafka.config.ConcurrentKafkaListenerContainerFactory;\nimport org.springframework.kafka.core.ConsumerFactory;\nimport org.springframework.kafka.core.DefaultKafkaConsumerFactory;\nimport org.springframework.kafka.listener.ContainerProperties;\n\n@Configuration\n@EnableKafka\npublic class KafkaListenerFactory {\n\n    @Value(&quot;${kafka.consumer.broker}&quot;)\n    private String bootstrapServers;\n\n    @Value(&quot;${kafka.consumer.id.group}&quot;)\n    private String idGroupConsumer;\n\n    @Value(&quot;${kafka.consumer.auto.offset.reset}&quot;)\n    private String autoOffsetReset;\n\n    @Value(&quot;${enable.auto.commit}&quot;)\n    private String enableAutoCommit;\n\n    @Value(&quot;${concurrent.consumer.kafka}&quot;)\n    private int concurrentConsumer;\n    \n    /**\n     *\n     * This controller configuration consumer for listen String message and manual commit\n     *\n     */\n\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactoryString&quot;)\n    public ConsumerFactory&lt;String, String&gt; consumerFactoryString() {\n        Map&lt;String, Object&gt; config = new HashMap&lt;&gt;();\n        config.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers);\n        config.put(ConsumerConfig.GROUP_ID_CONFIG, idGroupConsumer);\n        config.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, autoOffsetReset);\n        config.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, enableAutoCommit);\n        config.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        config.put(ConsumerConfig.MAX_POLL_INTERVAL_MS_CONFIG, Integer.MAX_VALUE);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(config, new StringDeserializer(), new StringDeserializer());\n    }\n\n    @Bean(name = &quot;kafkaListenerContainerFactoryString&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactoryString() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactoryString());\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        factory.setConcurrency(concurrentConsumer);\n        return factory;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1684023831,"post_id":76245320,"comment_id":134456052,"body_markdown":"Perhaps you should try copying the jdk again, perhaps there was an error during the copy, perhaps you should try testing the same versions, perhaps you could then test if the files differ, perhaps you should expect them to differ if you are testing multiple different versions, perhaps you should explain why copying jdks is preferable to using the installer. In short, what problem are you trying to solve and how does this help you solve it?","body":"Perhaps you should try copying the jdk again, perhaps there was an error during the copy, perhaps you should try testing the same versions, perhaps you could then test if the files differ, perhaps you should expect them to differ if you are testing multiple different versions, perhaps you should explain why copying jdks is preferable to using the installer. In short, what problem are you trying to solve and how does this help you solve it?"},{"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"score":0,"creation_date":1684038290,"post_id":76245320,"comment_id":134456763,"body_markdown":"@Elliott Frisch it&#39;s in company document to deal with situation that user does not have admin right so he can not run certain command against the JDK installed from company software centre (under c:\\program files). and the solution is to get another copy of JDK in user folder when user has full access right.","body":"@Elliott Frisch it&#39;s in company document to deal with situation that user does not have admin right so he can not run certain command against the JDK installed from company software centre (under c:\\program files). and the solution is to get another copy of JDK in user folder when user has full access right."},{"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"score":0,"creation_date":1684038720,"post_id":76245320,"comment_id":134456786,"body_markdown":"more importantly to me is the question whether &#39;copy JDK works or not&#39;. i&#39;ve not done it before even though i used java quite some time now. some one (from oracle or open jdk) must know if this can be done as i imagine it can be a basic question for them.","body":"more importantly to me is the question whether &#39;copy JDK works or not&#39;. i&#39;ve not done it before even though i used java quite some time now. some one (from oracle or open jdk) must know if this can be done as i imagine it can be a basic question for them."},{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":0,"creation_date":1684085760,"post_id":76245320,"comment_id":134461720,"body_markdown":"you could try to install a &quot;portable&quot; version e.g. from [Adoptium](https://adoptium.net)  - there are other distributions available as well, that&#39;s just the first that came as a result of my search-fu...","body":"you could try to install a &quot;portable&quot; version e.g. from <a href=\"https://adoptium.net\" rel=\"nofollow noreferrer\">Adoptium</a>  - there are other distributions available as well, that&#39;s just the first that came as a result of my search-fu..."},{"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"score":0,"creation_date":1684105545,"post_id":76245320,"comment_id":134463909,"body_markdown":"user16320675 i am using oracle JDK, maybe that&#39;s why it has server.dll","body":"user16320675 i am using oracle JDK, maybe that&#39;s why it has server.dll"}],"owner":{"account_id":1698970,"reputation":2603,"user_id":1559625,"accept_rate":71,"display_name":"user1559625"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684077600,"creation_date":1684022450,"question_id":76245320,"body_markdown":"I see a similar post in https://stackoverflow.com/questions/74027544/install-java-or-just-copy-jdk-file, but I encounter some error when I try to use copied **JDK** directly.\r\n\r\nI installed **jdk11.0.8** on my Windows 10 machine and did a sanity check by executing &#39;`java -version`&#39; under the **\\bin** directory of installed **jdk11.0.8**. This installed jdk works fine\r\n\r\nThen I copied another **jdk11.0.7** from a shared folder (this is a working copy of someone else&#39;s jdk in his windows 10 machine) to my machine.\r\n\r\nI tried to do a sanity check of this copied jdk by executing &#39;`java -version`&#39; under the \\bin directory of this copied jdk. it gave error &quot;Error: loading copied_jdk_path\\bin\\server.dll&quot;\r\n\r\nI see a difference here. The installed jdk works as expected, but the copied jdk (without installation )apparently does not work.\r\n\r\nSo how come in the original post I referenced at the top, many people replied that copied **jdk** file works just fine? Am I missing something?","title":"Why &#39;error loading jvm.dll&#39; is shown when using a copied jdk?","body":"<p>I see a similar post in <a href=\"https://stackoverflow.com/questions/74027544/install-java-or-just-copy-jdk-file\">install java or just copy jdk file?</a>, but I encounter some error when I try to use copied <strong>JDK</strong> directly.</p>\n<p>I installed <strong>jdk11.0.8</strong> on my Windows 10 machine and did a sanity check by executing '<code>java -version</code>' under the <strong>\\bin</strong> directory of installed <strong>jdk11.0.8</strong>. This installed jdk works fine</p>\n<p>Then I copied another <strong>jdk11.0.7</strong> from a shared folder (this is a working copy of someone else's jdk in his windows 10 machine) to my machine.</p>\n<p>I tried to do a sanity check of this copied jdk by executing '<code>java -version</code>' under the \\bin directory of this copied jdk. it gave error &quot;Error: loading copied_jdk_path\\bin\\server.dll&quot;</p>\n<p>I see a difference here. The installed jdk works as expected, but the copied jdk (without installation )apparently does not work.</p>\n<p>So how come in the original post I referenced at the top, many people replied that copied <strong>jdk</strong> file works just fine? Am I missing something?</p>\n"},{"tags":["java","amazon-web-services","amazon-s3"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684064369,"post_id":76246168,"comment_id":134459071,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1684131811,"post_id":76246168,"comment_id":134466045,"body_markdown":"@aled I am getting above mentioned error while uploading file on S3. And I get this only when I upload through EC2 deployed API. I I do the same thing with server running on my local machine, things work fine.","body":"@aled I am getting above mentioned error while uploading file on S3. And I get this only when I upload through EC2 deployed API. I I do the same thing with server running on my local machine, things work fine."},{"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"score":0,"creation_date":1684131845,"post_id":76246168,"comment_id":134466048,"body_markdown":"How do I get correct behavior at EC2 (prod) deployment ? Thanks.","body":"How do I get correct behavior at EC2 (prod) deployment ? Thanks."}],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684076928,"creation_date":1684076928,"answer_id":76248191,"question_id":76246168,"body_markdown":"Your error log states:\r\n\r\njava.io.FileNotFoundException: Test.kml (No such file or directory)\r\n\r\nThat should be corrected. However,  you should move away from **AWS SDK for Java V1** to the recommended **AWS SDK for Java V2**. V2 is considered best practice. If you do not know about V2, look at the DEV Guide. \r\n\r\n[Developer Guide - AWS SDK for Java 2.x][1]\r\n\r\nTo upload an object to an S3 bucket with V2 (and other S3 operations), use [S3Client][2].\r\n\r\nHere is sample Java V2 code that you can use to learn how to successfully use this object. This example performs these tasks: \r\n\r\n1. Creates an Amazon S3 bucket.\r\n2. Uploads an object to the bucket.\r\n3. Downloads the object to another local file.\r\n4. Uploads an object using multipart upload.\r\n5. List all objects located in the Amazon S3 bucket.\r\n6. Copies the object to another Amazon S3 bucket.\r\n7. Deletes the object from the Amazon S3 bucket.\r\n8. Deletes the Amazon S3 bucket.\r\n\r\nThe POM for this example is located in [Github here][3].  Full example is below. \r\n\r\n    package com.example.s3;\r\n    \r\n    // snippet-start:[s3.java2.s3_scenario.import]\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.OutputStream;\r\n    import java.net.URLEncoder;\r\n    import java.nio.ByteBuffer;\r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Random;\r\n    import software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\r\n    import software.amazon.awssdk.core.ResponseBytes;\r\n    import software.amazon.awssdk.core.waiters.WaiterResponse;\r\n    import software.amazon.awssdk.regions.Region;\r\n    import software.amazon.awssdk.services.s3.S3Client;\r\n    import software.amazon.awssdk.services.s3.model.CreateBucketRequest;\r\n    import software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\r\n    import software.amazon.awssdk.services.s3.paginators.ListObjectsV2Iterable;\r\n    import software.amazon.awssdk.core.sync.RequestBody;\r\n    import software.amazon.awssdk.services.s3.waiters.S3Waiter;\r\n    import software.amazon.awssdk.services.s3.model.UploadPartRequest;\r\n    import software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\r\n    import software.amazon.awssdk.services.s3.model.HeadBucketResponse;\r\n    import software.amazon.awssdk.services.s3.model.DeleteBucketRequest;\r\n    import software.amazon.awssdk.services.s3.model.HeadBucketRequest;\r\n    import software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\r\n    import software.amazon.awssdk.services.s3.model.CompletedPart;\r\n    import software.amazon.awssdk.services.s3.model.S3Exception;\r\n    import software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.PutObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.ListObjectsV2Response;\r\n    import software.amazon.awssdk.services.s3.model.GetObjectResponse;\r\n    import software.amazon.awssdk.services.s3.model.ListObjectsV2Request;\r\n    import software.amazon.awssdk.services.s3.model.S3Object;\r\n    import software.amazon.awssdk.services.s3.model.DeleteObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.CopyObjectRequest;\r\n    import software.amazon.awssdk.services.s3.model.CopyObjectResponse;\r\n    // snippet-end:[s3.java2.s3_scenario.import]\r\n    \r\n    // snippet-start:[s3.java2.s3_scenario.main]\r\n    /**\r\n     *  Before running this Java V2 code example, set up your development environment, including your credentials.\r\n     *\r\n     *  For more information, see the following documentation topic:\r\n     *\r\n     *  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\r\n     *\r\n     *  This Java code example performs the following tasks:\r\n     *\r\n     *  1. Creates an Amazon S3 bucket.\r\n     *  2. Uploads an object to the bucket.\r\n     *  3. Downloads the object to another local file.\r\n     *  4. Uploads an object using multipart upload.\r\n     *  5. List all objects located in the Amazon S3 bucket.\r\n     *  6. Copies the object to another Amazon S3 bucket.\r\n     *  7. Deletes the object from the Amazon S3 bucket.\r\n     *  8. Deletes the Amazon S3 bucket.\r\n     */\r\n    \r\n    public class S3Scenario {\r\n        public static final String DASHES = new String(new char[80]).replace(&quot;\\0&quot;, &quot;-&quot;);\r\n        public static void main(String[] args) throws IOException {\r\n            final String usage = &quot;\\n&quot; +\r\n                &quot;Usage:\\n&quot; +\r\n                &quot;    &lt;bucketName&gt; &lt;key&gt; &lt;objectPath&gt; &lt;savePath&gt; &lt;toBucket&gt;\\n\\n&quot; +\r\n                &quot;Where:\\n&quot; +\r\n                &quot;    bucketName - The Amazon S3 bucket to create.\\n\\n&quot; +\r\n                &quot;    key - The key to use.\\n\\n&quot; +\r\n                &quot;    objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). &quot;+\r\n                &quot;    savePath - The path where the file is saved after it&#39;s downloaded (for example, C:/AWS/book2.pdf). &quot; +\r\n                &quot;    toBucket - An Amazon S3 bucket to where an object is copied to (for example, C:/AWS/book2.pdf). &quot;;\r\n    \r\n            if (args.length != 5) {\r\n                System.out.println(usage);\r\n                System.exit(1);\r\n            }\r\n    \r\n            String bucketName = args[0];\r\n            String key = args[1];\r\n            String objectPath = args[2];\r\n            String savePath = args[3];\r\n            String toBucket = args[4] ;\r\n    \r\n            ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\r\n            Region region = Region.US_EAST_1;\r\n            S3Client s3 = S3Client.builder()\r\n                .region(region)\r\n                .credentialsProvider(credentialsProvider)\r\n                .build();\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;Welcome to the Amazon S3 example scenario.&quot;);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;1. Create an Amazon S3 bucket.&quot;);\r\n            createBucket(s3, bucketName);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;2. Update a local file to the Amazon S3 bucket.&quot;);\r\n            uploadLocalFile(s3, bucketName, key, objectPath);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;3. Download the object to another local file.&quot;);\r\n            getObjectBytes (s3, bucketName, key, savePath);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;4. Perform a multipart upload.&quot;);\r\n            String multipartKey = &quot;multiPartKey&quot;;\r\n            multipartUpload(s3, toBucket, multipartKey);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;5. List all objects located in the Amazon S3 bucket.&quot;);\r\n            listAllObjects(s3, bucketName);\r\n            anotherListExample(s3, bucketName) ;\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;6. Copy the object to another Amazon S3 bucket.&quot;);\r\n            copyBucketObject (s3, bucketName, key, toBucket);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;7. Delete the object from the Amazon S3 bucket.&quot;);\r\n            deleteObjectFromBucket(s3, bucketName, key);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;8. Delete the Amazon S3 bucket.&quot;);\r\n            deleteBucket(s3, bucketName);\r\n            System.out.println(DASHES);\r\n    \r\n            System.out.println(DASHES);\r\n            System.out.println(&quot;All Amazon S3 operations were successfully performed&quot;);\r\n            System.out.println(DASHES);\r\n            s3.close();\r\n        }\r\n    \r\n        // Create a bucket by using a S3Waiter object.\r\n        public static void createBucket( S3Client s3Client, String bucketName) {\r\n            try {\r\n                S3Waiter s3Waiter = s3Client.waiter();\r\n                CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                s3Client.createBucket(bucketRequest);\r\n                HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                // Wait until the bucket is created and print out the response.\r\n                WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse = s3Waiter.waitUntilBucketExists(bucketRequestWait);\r\n                waiterResponse.matched().response().ifPresent(System.out::println);\r\n                System.out.println(bucketName +&quot; is ready&quot;);\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n        public static void deleteBucket(S3Client client, String bucket) {\r\n            DeleteBucketRequest deleteBucketRequest = DeleteBucketRequest.builder()\r\n                .bucket(bucket)\r\n                .build();\r\n    \r\n            client.deleteBucket(deleteBucketRequest);\r\n            System.out.println(bucket +&quot; was deleted.&quot;);\r\n        }\r\n    \r\n        /**\r\n         * Upload an object in parts.\r\n         */\r\n        public static void multipartUpload(S3Client s3, String bucketName, String key) {\r\n            int mB = 1024 * 1024;\r\n            // First create a multipart upload and get the upload id.\r\n            CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(key)\r\n                .build();\r\n    \r\n            CreateMultipartUploadResponse response = s3.createMultipartUpload(createMultipartUploadRequest);\r\n            String uploadId = response.uploadId();\r\n            System.out.println(uploadId);\r\n    \r\n            // Upload all the different parts of the object.\r\n            UploadPartRequest uploadPartRequest1 = UploadPartRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(key)\r\n                .uploadId(uploadId)\r\n                .partNumber(1).build();\r\n    \r\n            String etag1 = s3.uploadPart(uploadPartRequest1, RequestBody.fromByteBuffer(getRandomByteBuffer(5 * mB))).eTag();\r\n            CompletedPart part1 = CompletedPart.builder().partNumber(1).eTag(etag1).build();\r\n    \r\n            UploadPartRequest uploadPartRequest2 = UploadPartRequest.builder().bucket(bucketName).key(key)\r\n                .uploadId(uploadId)\r\n                .partNumber(2).build();\r\n            String etag2 = s3.uploadPart(uploadPartRequest2, RequestBody.fromByteBuffer(getRandomByteBuffer(3 * mB))).eTag();\r\n            CompletedPart part2 = CompletedPart.builder().partNumber(2).eTag(etag2).build();\r\n    \r\n            // Call completeMultipartUpload operation to tell S3 to merge all uploaded\r\n            // parts and finish the multipart operation.\r\n            CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\r\n                .parts(part1, part2)\r\n                .build();\r\n    \r\n            CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(key)\r\n                .uploadId(uploadId)\r\n                .multipartUpload(completedMultipartUpload)\r\n                .build();\r\n    \r\n            s3.completeMultipartUpload(completeMultipartUploadRequest);\r\n        }\r\n    \r\n        private static ByteBuffer getRandomByteBuffer(int size) {\r\n            byte[] b = new byte[size];\r\n            new Random().nextBytes(b);\r\n            return ByteBuffer.wrap(b);\r\n        }\r\n    \r\n        public static void getObjectBytes (S3Client s3, String bucketName, String keyName, String path ) {\r\n            try {\r\n                GetObjectRequest objectRequest = GetObjectRequest\r\n                    .builder()\r\n                    .key(keyName)\r\n                    .bucket(bucketName)\r\n                    .build();\r\n    \r\n                ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\r\n                byte[] data = objectBytes.asByteArray();\r\n    \r\n                // Write the data to a local file.\r\n                File myFile = new File(path);\r\n                OutputStream os = new FileOutputStream(myFile);\r\n                os.write(data);\r\n                System.out.println(&quot;Successfully obtained bytes from an S3 object&quot;);\r\n                os.close();\r\n    \r\n            } catch (IOException ex) {\r\n                ex.printStackTrace();\r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n        }\r\n    \r\n    \r\n        public static void uploadLocalFile(S3Client s3, String bucketName, String key, String objectPath) {\r\n            PutObjectRequest objectRequest = PutObjectRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(key)\r\n                .build();\r\n    \r\n            s3.putObject(objectRequest, RequestBody.fromFile(new File(objectPath)));\r\n        }\r\n    \r\n        public static void listAllObjects(S3Client s3, String bucketName) {\r\n            ListObjectsV2Request listObjectsReqManual = ListObjectsV2Request.builder()\r\n                .bucket(bucketName)\r\n                .maxKeys(1)\r\n                .build();\r\n    \r\n            boolean done = false;\r\n            while (!done) {\r\n                ListObjectsV2Response listObjResponse = s3.listObjectsV2(listObjectsReqManual);\r\n                for (S3Object content : listObjResponse.contents()) {\r\n                    System.out.println(content.key());\r\n                }\r\n    \r\n                if (listObjResponse.nextContinuationToken() == null) {\r\n                    done = true;\r\n                }\r\n    \r\n                listObjectsReqManual = listObjectsReqManual.toBuilder()\r\n                    .continuationToken(listObjResponse.nextContinuationToken())\r\n                    .build();\r\n            }\r\n        }\r\n    \r\n        public static void anotherListExample(S3Client s3, String bucketName) {\r\n           ListObjectsV2Request listReq = ListObjectsV2Request.builder()\r\n               .bucket(bucketName)\r\n               .maxKeys(1)\r\n               .build();\r\n    \r\n           ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\r\n    \r\n           // Process response pages.\r\n           listRes.stream()\r\n               .flatMap(r -&gt; r.contents().stream())\r\n               .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\r\n    \r\n            // Helper method to work with paginated collection of items directly.\r\n            listRes.contents().stream()\r\n                .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\r\n    \r\n            for (S3Object content : listRes.contents()) {\r\n                System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size());\r\n            }\r\n        }\r\n    \r\n        public static void deleteObjectFromBucket(S3Client s3, String bucketName, String key) {\r\n            DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\r\n                .bucket(bucketName)\r\n                .key(key)\r\n                .build();\r\n    \r\n            s3.deleteObject(deleteObjectRequest);\r\n            System.out.println(key +&quot; was deleted&quot;);\r\n        }\r\n    \r\n        public static String copyBucketObject (S3Client s3, String fromBucket, String objectKey, String toBucket) {\r\n            String encodedUrl = null;\r\n            try {\r\n                encodedUrl = URLEncoder.encode(fromBucket + &quot;/&quot; + objectKey, StandardCharsets.UTF_8.toString());\r\n            } catch (UnsupportedEncodingException e) {\r\n                System.out.println(&quot;URL could not be encoded: &quot; + e.getMessage());\r\n            }\r\n            CopyObjectRequest copyReq = CopyObjectRequest.builder()\r\n                .copySource(encodedUrl)\r\n                .destinationBucket(toBucket)\r\n                .destinationKey(objectKey)\r\n                .build();\r\n    \r\n            try {\r\n                CopyObjectResponse copyRes = s3.copyObject(copyReq);\r\n                System.out.println(&quot;The &quot;+ objectKey +&quot; was copied to &quot;+toBucket);\r\n                return copyRes.copyObjectResult().toString();\r\n    \r\n            } catch (S3Exception e) {\r\n                System.err.println(e.awsErrorDetails().errorMessage());\r\n                System.exit(1);\r\n            }\r\n            return &quot;&quot;;\r\n        }\r\n    }\r\n    // snippet-end:[s3.java2.s3_scenario.main]\r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\r\n  [2]: https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\r\n  [3]: https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3","title":"Calculate MD5 hash error with FileNotFoundException while uploading file to S3 bucket with AWS Java SDK","body":"<p>Your error log states:</p>\n<p>java.io.FileNotFoundException: Test.kml (No such file or directory)</p>\n<p>That should be corrected. However,  you should move away from <strong>AWS SDK for Java V1</strong> to the recommended <strong>AWS SDK for Java V2</strong>. V2 is considered best practice. If you do not know about V2, look at the DEV Guide.</p>\n<p><a href=\"https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/home.html\" rel=\"nofollow noreferrer\">Developer Guide - AWS SDK for Java 2.x</a></p>\n<p>To upload an object to an S3 bucket with V2 (and other S3 operations), use <a href=\"https://sdk.amazonaws.com/java/api/latest/software/amazon/awssdk/services/s3/S3Client.html\" rel=\"nofollow noreferrer\">S3Client</a>.</p>\n<p>Here is sample Java V2 code that you can use to learn how to successfully use this object. This example performs these tasks:</p>\n<ol>\n<li>Creates an Amazon S3 bucket.</li>\n<li>Uploads an object to the bucket.</li>\n<li>Downloads the object to another local file.</li>\n<li>Uploads an object using multipart upload.</li>\n<li>List all objects located in the Amazon S3 bucket.</li>\n<li>Copies the object to another Amazon S3 bucket.</li>\n<li>Deletes the object from the Amazon S3 bucket.</li>\n<li>Deletes the Amazon S3 bucket.</li>\n</ol>\n<p>The POM for this example is located in <a href=\"https://github.com/awsdocs/aws-doc-sdk-examples/tree/main/javav2/example_code/s3\" rel=\"nofollow noreferrer\">Github here</a>.  Full example is below.</p>\n<pre><code>package com.example.s3;\n\n// snippet-start:[s3.java2.s3_scenario.import]\nimport java.io.File;\nimport java.io.IOException;\nimport java.io.UnsupportedEncodingException;\nimport java.io.FileOutputStream;\nimport java.io.OutputStream;\nimport java.net.URLEncoder;\nimport java.nio.ByteBuffer;\nimport java.nio.charset.StandardCharsets;\nimport java.util.Random;\nimport software.amazon.awssdk.auth.credentials.ProfileCredentialsProvider;\nimport software.amazon.awssdk.core.ResponseBytes;\nimport software.amazon.awssdk.core.waiters.WaiterResponse;\nimport software.amazon.awssdk.regions.Region;\nimport software.amazon.awssdk.services.s3.S3Client;\nimport software.amazon.awssdk.services.s3.model.CreateBucketRequest;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadResponse;\nimport software.amazon.awssdk.services.s3.paginators.ListObjectsV2Iterable;\nimport software.amazon.awssdk.core.sync.RequestBody;\nimport software.amazon.awssdk.services.s3.waiters.S3Waiter;\nimport software.amazon.awssdk.services.s3.model.UploadPartRequest;\nimport software.amazon.awssdk.services.s3.model.CompleteMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.HeadBucketResponse;\nimport software.amazon.awssdk.services.s3.model.DeleteBucketRequest;\nimport software.amazon.awssdk.services.s3.model.HeadBucketRequest;\nimport software.amazon.awssdk.services.s3.model.CreateMultipartUploadRequest;\nimport software.amazon.awssdk.services.s3.model.CompletedPart;\nimport software.amazon.awssdk.services.s3.model.S3Exception;\nimport software.amazon.awssdk.services.s3.model.CompletedMultipartUpload;\nimport software.amazon.awssdk.services.s3.model.GetObjectRequest;\nimport software.amazon.awssdk.services.s3.model.PutObjectRequest;\nimport software.amazon.awssdk.services.s3.model.ListObjectsV2Response;\nimport software.amazon.awssdk.services.s3.model.GetObjectResponse;\nimport software.amazon.awssdk.services.s3.model.ListObjectsV2Request;\nimport software.amazon.awssdk.services.s3.model.S3Object;\nimport software.amazon.awssdk.services.s3.model.DeleteObjectRequest;\nimport software.amazon.awssdk.services.s3.model.CopyObjectRequest;\nimport software.amazon.awssdk.services.s3.model.CopyObjectResponse;\n// snippet-end:[s3.java2.s3_scenario.import]\n\n// snippet-start:[s3.java2.s3_scenario.main]\n/**\n *  Before running this Java V2 code example, set up your development environment, including your credentials.\n *\n *  For more information, see the following documentation topic:\n *\n *  https://docs.aws.amazon.com/sdk-for-java/latest/developer-guide/get-started.html\n *\n *  This Java code example performs the following tasks:\n *\n *  1. Creates an Amazon S3 bucket.\n *  2. Uploads an object to the bucket.\n *  3. Downloads the object to another local file.\n *  4. Uploads an object using multipart upload.\n *  5. List all objects located in the Amazon S3 bucket.\n *  6. Copies the object to another Amazon S3 bucket.\n *  7. Deletes the object from the Amazon S3 bucket.\n *  8. Deletes the Amazon S3 bucket.\n */\n\npublic class S3Scenario {\n    public static final String DASHES = new String(new char[80]).replace(&quot;\\0&quot;, &quot;-&quot;);\n    public static void main(String[] args) throws IOException {\n        final String usage = &quot;\\n&quot; +\n            &quot;Usage:\\n&quot; +\n            &quot;    &lt;bucketName&gt; &lt;key&gt; &lt;objectPath&gt; &lt;savePath&gt; &lt;toBucket&gt;\\n\\n&quot; +\n            &quot;Where:\\n&quot; +\n            &quot;    bucketName - The Amazon S3 bucket to create.\\n\\n&quot; +\n            &quot;    key - The key to use.\\n\\n&quot; +\n            &quot;    objectPath - The path where the file is located (for example, C:/AWS/book2.pdf). &quot;+\n            &quot;    savePath - The path where the file is saved after it's downloaded (for example, C:/AWS/book2.pdf). &quot; +\n            &quot;    toBucket - An Amazon S3 bucket to where an object is copied to (for example, C:/AWS/book2.pdf). &quot;;\n\n        if (args.length != 5) {\n            System.out.println(usage);\n            System.exit(1);\n        }\n\n        String bucketName = args[0];\n        String key = args[1];\n        String objectPath = args[2];\n        String savePath = args[3];\n        String toBucket = args[4] ;\n\n        ProfileCredentialsProvider credentialsProvider = ProfileCredentialsProvider.create();\n        Region region = Region.US_EAST_1;\n        S3Client s3 = S3Client.builder()\n            .region(region)\n            .credentialsProvider(credentialsProvider)\n            .build();\n\n        System.out.println(DASHES);\n        System.out.println(&quot;Welcome to the Amazon S3 example scenario.&quot;);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;1. Create an Amazon S3 bucket.&quot;);\n        createBucket(s3, bucketName);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;2. Update a local file to the Amazon S3 bucket.&quot;);\n        uploadLocalFile(s3, bucketName, key, objectPath);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;3. Download the object to another local file.&quot;);\n        getObjectBytes (s3, bucketName, key, savePath);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;4. Perform a multipart upload.&quot;);\n        String multipartKey = &quot;multiPartKey&quot;;\n        multipartUpload(s3, toBucket, multipartKey);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;5. List all objects located in the Amazon S3 bucket.&quot;);\n        listAllObjects(s3, bucketName);\n        anotherListExample(s3, bucketName) ;\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;6. Copy the object to another Amazon S3 bucket.&quot;);\n        copyBucketObject (s3, bucketName, key, toBucket);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;7. Delete the object from the Amazon S3 bucket.&quot;);\n        deleteObjectFromBucket(s3, bucketName, key);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;8. Delete the Amazon S3 bucket.&quot;);\n        deleteBucket(s3, bucketName);\n        System.out.println(DASHES);\n\n        System.out.println(DASHES);\n        System.out.println(&quot;All Amazon S3 operations were successfully performed&quot;);\n        System.out.println(DASHES);\n        s3.close();\n    }\n\n    // Create a bucket by using a S3Waiter object.\n    public static void createBucket( S3Client s3Client, String bucketName) {\n        try {\n            S3Waiter s3Waiter = s3Client.waiter();\n            CreateBucketRequest bucketRequest = CreateBucketRequest.builder()\n                .bucket(bucketName)\n                .build();\n\n            s3Client.createBucket(bucketRequest);\n            HeadBucketRequest bucketRequestWait = HeadBucketRequest.builder()\n                .bucket(bucketName)\n                .build();\n\n            // Wait until the bucket is created and print out the response.\n            WaiterResponse&lt;HeadBucketResponse&gt; waiterResponse = s3Waiter.waitUntilBucketExists(bucketRequestWait);\n            waiterResponse.matched().response().ifPresent(System.out::println);\n            System.out.println(bucketName +&quot; is ready&quot;);\n\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n    public static void deleteBucket(S3Client client, String bucket) {\n        DeleteBucketRequest deleteBucketRequest = DeleteBucketRequest.builder()\n            .bucket(bucket)\n            .build();\n\n        client.deleteBucket(deleteBucketRequest);\n        System.out.println(bucket +&quot; was deleted.&quot;);\n    }\n\n    /**\n     * Upload an object in parts.\n     */\n    public static void multipartUpload(S3Client s3, String bucketName, String key) {\n        int mB = 1024 * 1024;\n        // First create a multipart upload and get the upload id.\n        CreateMultipartUploadRequest createMultipartUploadRequest = CreateMultipartUploadRequest.builder()\n            .bucket(bucketName)\n            .key(key)\n            .build();\n\n        CreateMultipartUploadResponse response = s3.createMultipartUpload(createMultipartUploadRequest);\n        String uploadId = response.uploadId();\n        System.out.println(uploadId);\n\n        // Upload all the different parts of the object.\n        UploadPartRequest uploadPartRequest1 = UploadPartRequest.builder()\n            .bucket(bucketName)\n            .key(key)\n            .uploadId(uploadId)\n            .partNumber(1).build();\n\n        String etag1 = s3.uploadPart(uploadPartRequest1, RequestBody.fromByteBuffer(getRandomByteBuffer(5 * mB))).eTag();\n        CompletedPart part1 = CompletedPart.builder().partNumber(1).eTag(etag1).build();\n\n        UploadPartRequest uploadPartRequest2 = UploadPartRequest.builder().bucket(bucketName).key(key)\n            .uploadId(uploadId)\n            .partNumber(2).build();\n        String etag2 = s3.uploadPart(uploadPartRequest2, RequestBody.fromByteBuffer(getRandomByteBuffer(3 * mB))).eTag();\n        CompletedPart part2 = CompletedPart.builder().partNumber(2).eTag(etag2).build();\n\n        // Call completeMultipartUpload operation to tell S3 to merge all uploaded\n        // parts and finish the multipart operation.\n        CompletedMultipartUpload completedMultipartUpload = CompletedMultipartUpload.builder()\n            .parts(part1, part2)\n            .build();\n\n        CompleteMultipartUploadRequest completeMultipartUploadRequest = CompleteMultipartUploadRequest.builder()\n            .bucket(bucketName)\n            .key(key)\n            .uploadId(uploadId)\n            .multipartUpload(completedMultipartUpload)\n            .build();\n\n        s3.completeMultipartUpload(completeMultipartUploadRequest);\n    }\n\n    private static ByteBuffer getRandomByteBuffer(int size) {\n        byte[] b = new byte[size];\n        new Random().nextBytes(b);\n        return ByteBuffer.wrap(b);\n    }\n\n    public static void getObjectBytes (S3Client s3, String bucketName, String keyName, String path ) {\n        try {\n            GetObjectRequest objectRequest = GetObjectRequest\n                .builder()\n                .key(keyName)\n                .bucket(bucketName)\n                .build();\n\n            ResponseBytes&lt;GetObjectResponse&gt; objectBytes = s3.getObjectAsBytes(objectRequest);\n            byte[] data = objectBytes.asByteArray();\n\n            // Write the data to a local file.\n            File myFile = new File(path);\n            OutputStream os = new FileOutputStream(myFile);\n            os.write(data);\n            System.out.println(&quot;Successfully obtained bytes from an S3 object&quot;);\n            os.close();\n\n        } catch (IOException ex) {\n            ex.printStackTrace();\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n    }\n\n\n    public static void uploadLocalFile(S3Client s3, String bucketName, String key, String objectPath) {\n        PutObjectRequest objectRequest = PutObjectRequest.builder()\n            .bucket(bucketName)\n            .key(key)\n            .build();\n\n        s3.putObject(objectRequest, RequestBody.fromFile(new File(objectPath)));\n    }\n\n    public static void listAllObjects(S3Client s3, String bucketName) {\n        ListObjectsV2Request listObjectsReqManual = ListObjectsV2Request.builder()\n            .bucket(bucketName)\n            .maxKeys(1)\n            .build();\n\n        boolean done = false;\n        while (!done) {\n            ListObjectsV2Response listObjResponse = s3.listObjectsV2(listObjectsReqManual);\n            for (S3Object content : listObjResponse.contents()) {\n                System.out.println(content.key());\n            }\n\n            if (listObjResponse.nextContinuationToken() == null) {\n                done = true;\n            }\n\n            listObjectsReqManual = listObjectsReqManual.toBuilder()\n                .continuationToken(listObjResponse.nextContinuationToken())\n                .build();\n        }\n    }\n\n    public static void anotherListExample(S3Client s3, String bucketName) {\n       ListObjectsV2Request listReq = ListObjectsV2Request.builder()\n           .bucket(bucketName)\n           .maxKeys(1)\n           .build();\n\n       ListObjectsV2Iterable listRes = s3.listObjectsV2Paginator(listReq);\n\n       // Process response pages.\n       listRes.stream()\n           .flatMap(r -&gt; r.contents().stream())\n           .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\n\n        // Helper method to work with paginated collection of items directly.\n        listRes.contents().stream()\n            .forEach(content -&gt; System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size()));\n\n        for (S3Object content : listRes.contents()) {\n            System.out.println(&quot; Key: &quot; + content.key() + &quot; size = &quot; + content.size());\n        }\n    }\n\n    public static void deleteObjectFromBucket(S3Client s3, String bucketName, String key) {\n        DeleteObjectRequest deleteObjectRequest = DeleteObjectRequest.builder()\n            .bucket(bucketName)\n            .key(key)\n            .build();\n\n        s3.deleteObject(deleteObjectRequest);\n        System.out.println(key +&quot; was deleted&quot;);\n    }\n\n    public static String copyBucketObject (S3Client s3, String fromBucket, String objectKey, String toBucket) {\n        String encodedUrl = null;\n        try {\n            encodedUrl = URLEncoder.encode(fromBucket + &quot;/&quot; + objectKey, StandardCharsets.UTF_8.toString());\n        } catch (UnsupportedEncodingException e) {\n            System.out.println(&quot;URL could not be encoded: &quot; + e.getMessage());\n        }\n        CopyObjectRequest copyReq = CopyObjectRequest.builder()\n            .copySource(encodedUrl)\n            .destinationBucket(toBucket)\n            .destinationKey(objectKey)\n            .build();\n\n        try {\n            CopyObjectResponse copyRes = s3.copyObject(copyReq);\n            System.out.println(&quot;The &quot;+ objectKey +&quot; was copied to &quot;+toBucket);\n            return copyRes.copyObjectResult().toString();\n\n        } catch (S3Exception e) {\n            System.err.println(e.awsErrorDetails().errorMessage());\n            System.exit(1);\n        }\n        return &quot;&quot;;\n    }\n}\n// snippet-end:[s3.java2.s3_scenario.main]\n</code></pre>\n"}],"owner":{"account_id":16921011,"reputation":2463,"user_id":12237837,"display_name":"Aditya Rewari"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":400,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684076928,"creation_date":1684046262,"question_id":76246168,"body_markdown":"It is required to upload file on S3 buckets.\r\n\r\nAWS SDK is being used to achieve upload fuctionality\r\n\r\n\r\nBut when the same piece is running on my Prod EC2 instance, then it generated below error.\r\n\r\nCode Snippets:\r\n```\r\n        File fileObj = DocumentUtils.convertMultiPartFileToFile(file);\r\n        User user = userService.getUserDetailsViaHttpHeader(httpHeaders);\r\n        String filePath = user.getId().toString() + &quot;/&quot; + &quot;KMLFiles&quot; + &quot;/&quot; + &quot;KML&quot; + &quot;_&quot; + System.currentTimeMillis() + &quot;.kml&quot;;\r\n        PutObjectResult putObjectRequest = s3Client.putObject(awsBucketName, filePath, fileObj);\r\n```\r\n```\r\n    public static File convertMultiPartFileToFile(MultipartFile file) {\r\n        File convertedFile = new File(file.getOriginalFilename());\r\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)) {\r\n            fos.write(file.getBytes());\r\n        } catch (IOException e) {\r\n        }\r\n        return convertedFile;\r\n    }\r\n```\r\n\r\nDependency\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.12.370&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nError Log\r\n```\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: 2023-05-13 19:26:52.717 DEBUG 20208 --- [nio-9096-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: com.amazonaws.SdkClientException: Unable to calculate MD5 hash: Test.kml (No such file or directory)\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: 2023-05-13 19:26:52.721 ERROR 20208 --- [nio-9096-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.amazonaws.SdkClientException: Unable to calculate MD5 hash: Test.kml (No such file or directory)] with root cause\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: java.io.FileNotFoundException: Test.kml (No such file or directory)\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.open(FileInputStream.java:219) ~[na:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.util.Md5Utils.computeMD5Hash(Md5Utils.java:97) ~[aws-java-sdk-core-1.12.370.jar!/:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104) ~[aws-java-sdk-core-1.12.370.jar!/:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1920) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1842) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1821) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\r\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1746) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\r\n\r\n```\r\nMore observations\r\n\r\n1. My upload is working perfectly fine in the local (attempting on my personal machine)\r\n2. S3 acces credeantials are correct at Prod env","title":"Calculate MD5 hash error with FileNotFoundException while uploading file to S3 bucket with AWS Java SDK","body":"<p>It is required to upload file on S3 buckets.</p>\n<p>AWS SDK is being used to achieve upload fuctionality</p>\n<p>But when the same piece is running on my Prod EC2 instance, then it generated below error.</p>\n<p>Code Snippets:</p>\n<pre><code>        File fileObj = DocumentUtils.convertMultiPartFileToFile(file);\n        User user = userService.getUserDetailsViaHttpHeader(httpHeaders);\n        String filePath = user.getId().toString() + &quot;/&quot; + &quot;KMLFiles&quot; + &quot;/&quot; + &quot;KML&quot; + &quot;_&quot; + System.currentTimeMillis() + &quot;.kml&quot;;\n        PutObjectResult putObjectRequest = s3Client.putObject(awsBucketName, filePath, fileObj);\n</code></pre>\n<pre><code>    public static File convertMultiPartFileToFile(MultipartFile file) {\n        File convertedFile = new File(file.getOriginalFilename());\n        try (FileOutputStream fos = new FileOutputStream(convertedFile)) {\n            fos.write(file.getBytes());\n        } catch (IOException e) {\n        }\n        return convertedFile;\n    }\n</code></pre>\n<p>Dependency</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk-s3&lt;/artifactId&gt;\n            &lt;version&gt;1.12.370&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Error Log</p>\n<pre><code>May 13 19:26:52 ip-172-31-27-27 java[20208]: 2023-05-13 19:26:52.717 DEBUG 20208 --- [nio-9096-exec-4] o.s.web.servlet.DispatcherServlet        : Failed to complete request: com.amazonaws.SdkClientException: Unable to calculate MD5 hash: Test.kml (No such file or directory)\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: 2023-05-13 19:26:52.721 ERROR 20208 --- [nio-9096-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is com.amazonaws.SdkClientException: Unable to calculate MD5 hash: Test.kml (No such file or directory)] with root cause\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: java.io.FileNotFoundException: Test.kml (No such file or directory)\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.open0(Native Method) ~[na:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.open(FileInputStream.java:219) ~[na:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at java.base/java.io.FileInputStream.&lt;init&gt;(FileInputStream.java:157) ~[na:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.util.Md5Utils.computeMD5Hash(Md5Utils.java:97) ~[aws-java-sdk-core-1.12.370.jar!/:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.util.Md5Utils.md5AsBase64(Md5Utils.java:104) ~[aws-java-sdk-core-1.12.370.jar!/:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.getInputStream(AmazonS3Client.java:1920) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.uploadObject(AmazonS3Client.java:1842) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1821) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\nMay 13 19:26:52 ip-172-31-27-27 java[20208]: #011at com.amazonaws.services.s3.AmazonS3Client.putObject(AmazonS3Client.java:1746) ~[aws-java-sdk-s3-1.12.370.jar!/:na]\n\n</code></pre>\n<p>More observations</p>\n<ol>\n<li>My upload is working perfectly fine in the local (attempting on my personal machine)</li>\n<li>S3 acces credeantials are correct at Prod env</li>\n</ol>\n"},{"tags":["java","transactions","rx-java","reactive"],"owner":{"account_id":1166732,"reputation":1590,"user_id":1144812,"accept_rate":78,"display_name":"Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684076396,"creation_date":1684076396,"question_id":76248134,"body_markdown":"During synchronous method calls, we know how to manage transactions, for eg. we have @Transactional annotation in Spring Boot. But, how can we manage transactions in Reactive Programming (eg. RxJava), particularly when the method calls could be asynchronous?","title":"Whats the right way of managing transactions in Reactive Programming?","body":"<p>During synchronous method calls, we know how to manage transactions, for eg. we have @Transactional annotation in Spring Boot. But, how can we manage transactions in Reactive Programming (eg. RxJava), particularly when the method calls could be asynchronous?</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":2,"creation_date":1683910097,"post_id":76238404,"comment_id":134444149,"body_markdown":"&quot;I tried to using...&quot; Please [edit] your question to show the code you tried. Then show the output when you run your code, including any errors. And explain what you want to happen instead.","body":"&quot;I tried to using...&quot; Please <a href=\"https://stackoverflow.com/posts/76238404/edit\">edit</a> your question to show the code you tried. Then show the output when you run your code, including any errors. And explain what you want to happen instead."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":2,"creation_date":1683910490,"post_id":76238404,"comment_id":134444227,"body_markdown":"Is it that you want to add some fields as siblings to the `received` field? The better way to &quot;manipulate&quot; json would be to deserialize the json into an object, add the data you want, then serialize it back to json.","body":"Is it that you want to add some fields as siblings to the <code>received</code> field? The better way to &quot;manipulate&quot; json would be to deserialize the json into an object, add the data you want, then serialize it back to json."},{"owner":{"account_id":11716144,"reputation":3,"user_id":21889412,"display_name":"jen"},"score":0,"creation_date":1683910808,"post_id":76238404,"comment_id":134444284,"body_markdown":"Sorry, what I want to do is remove the special characters from the comments like &quot;,&#39;,:, and send it back. No other changes in the payload. or If I can extract upto recevied: success into a single string and I can append the rest.","body":"Sorry, what I want to do is remove the special characters from the comments like &quot;,&#39;,:, and send it back. No other changes in the payload. or If I can extract upto recevied: success into a single string and I can append the rest."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1683912046,"post_id":76238404,"comment_id":134444528,"body_markdown":"I recommend that you do as Bohemian mentioned: deserialize the JSON into an object (maybe a `Map`) manipulate the data structure, then serialize it back to JSON. You will find this much easier than trying to manipulate the string directly.","body":"I recommend that you do as Bohemian mentioned: deserialize the JSON into an object (maybe a <code>Map</code>) manipulate the data structure, then serialize it back to JSON. You will find this much easier than trying to manipulate the string directly."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":3,"creation_date":1683913085,"post_id":76238404,"comment_id":134444767,"body_markdown":"Treating JSON or XML as text usually is a bad practice. Treat it as JSON using a JSON parser, modify the JSON objects, then write again using a JSON parser. That is what others are recommending.","body":"Treating JSON or XML as text usually is a bad practice. Treat it as JSON using a JSON parser, modify the JSON objects, then write again using a JSON parser. That is what others are recommending."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":3,"creation_date":1683928693,"post_id":76238404,"comment_id":134447346,"body_markdown":"@jen in your comment, you say *what I want to do is remove the special characters from the comments like &quot;,&#39;,:, and send it back*, and if the task is to clean the string, then the json can be treated as a plain string, but in your question you say *I can append like string1+ comment+ timestamp +notification and send it back*. Which is it? Please edit your question to clarify which one the actual task is, or if it&#39;s both etc. Please add some simple (don&#39;t need the *whole* json - just enough to demonstrate edge cases) examples of input and expected output.","body":"@jen in your comment, you say <i>what I want to do is remove the special characters from the comments like &quot;,&#39;,:, and send it back</i>, and if the task is to clean the string, then the json can be treated as a plain string, but in your question you say <i>I can append like string1+ comment+ timestamp +notification and send it back</i>. Which is it? Please edit your question to clarify which one the actual task is, or if it&#39;s both etc. Please add some simple (don&#39;t need the <i>whole</i> json - just enough to demonstrate edge cases) examples of input and expected output."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1683944754,"creation_date":1683944087,"answer_id":76240816,"question_id":76238404,"body_markdown":"To remove unwanted characters from `&quot;comments&quot;` fields (as per chars `&quot;&#39;:` listed in the comment above) in one line:\r\n\r\n```java\r\njson = Pattern.compile(&quot;\\&quot;comments\\&quot;\\\\s*:\\\\s*\\&quot;)((\\\\\\\\\\&quot;|[^\\&quot;])+)&quot;)\r\n  .matcher(json)\r\n  .replaceAll(mr -&gt; mr.group(1) + mr.group(2).replaceAll(&quot;\\\\\\\\?[\\&quot;&#39;:]&quot;, &quot;&quot;));\r\n```\r\n\r\nSee [live demo][1].\r\n\r\nThis also handles (shown in demo) deleting quotes `\\&quot;` in comments, which are *two* characters because they&#39;re escaped.\r\n\r\nIt also works with flexible whitespace between the field name and field value, so `&quot;comments&quot;:&quot;something&quot;` and  and `&quot;comments&quot; :   &quot;something&quot;` etc all work, and this code preserves it too.\r\n\r\nThis makes use of Matcher&#39;s [`replaceAll()`][2], that streams the matches and accepts a function that can do the task of cleaning `comments` fields&#39; values of unwanted characters.\r\n\r\nThe regex breakdown is of the Pattern is:\r\n\r\n - `(\\&quot;comments\\&quot;\\\\s*:\\\\s*\\&quot;)` means `&quot;comments&quot;, zero or more whitespace, a colon, zero or more whitespace. Captured as group 1 (via the brackets)\r\n - `((\\\\\\\\\\&quot;|[^\\&quot;])+)` means one or more or either `\\&quot;` *OR* anything not a quote. Captured as group 2 (via the brackets). ie the entire value of a `comment` field\r\n\r\n\r\n  [1]: https://ideone.com/hSfPRB\r\n  [2]: https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Matcher.html#replaceFirst(java.util.function.Function)","title":"Remove special characters from part of JSON String","body":"<p>To remove unwanted characters from <code>&quot;comments&quot;</code> fields (as per chars <code>&quot;':</code> listed in the comment above) in one line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>json = Pattern.compile(&quot;\\&quot;comments\\&quot;\\\\s*:\\\\s*\\&quot;)((\\\\\\\\\\&quot;|[^\\&quot;])+)&quot;)\n  .matcher(json)\n  .replaceAll(mr -&gt; mr.group(1) + mr.group(2).replaceAll(&quot;\\\\\\\\?[\\&quot;':]&quot;, &quot;&quot;));\n</code></pre>\n<p>See <a href=\"https://ideone.com/hSfPRB\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>This also handles (shown in demo) deleting quotes <code>\\&quot;</code> in comments, which are <em>two</em> characters because they're escaped.</p>\n<p>It also works with flexible whitespace between the field name and field value, so <code>&quot;comments&quot;:&quot;something&quot;</code> and  and <code>&quot;comments&quot; :   &quot;something&quot;</code> etc all work, and this code preserves it too.</p>\n<p>This makes use of Matcher's <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/util/regex/Matcher.html#replaceFirst(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>replaceAll()</code></a>, that streams the matches and accepts a function that can do the task of cleaning <code>comments</code> fields' values of unwanted characters.</p>\n<p>The regex breakdown is of the Pattern is:</p>\n<ul>\n<li><code>(\\&quot;comments\\&quot;\\\\s*:\\\\s*\\&quot;)</code> means `&quot;comments&quot;, zero or more whitespace, a colon, zero or more whitespace. Captured as group 1 (via the brackets)</li>\n<li><code>((\\\\\\\\\\&quot;|[^\\&quot;])+)</code> means one or more or either <code>\\&quot;</code> <em>OR</em> anything not a quote. Captured as group 2 (via the brackets). ie the entire value of a <code>comment</code> field</li>\n</ul>\n"}],"owner":{"account_id":11716144,"reputation":3,"user_id":21889412,"display_name":"jen"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":576,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1684186148,"accepted_answer_id":76240816,"answer_count":1,"score":-1,"last_activity_date":1684076286,"creation_date":1683909729,"question_id":76238404,"body_markdown":"How can I extract a part of the a JSON string and format it. \r\nI&#39;m using `ObjectMapper(com.fasterxml.jackson.databind.ObjectMapper)` to extract data and format it. This is the sample payload and I want to remove the special characters from &#39;comments&#39; and send it back. I extracted the comment and removed the special characters. \r\n\r\nHow can I extract all the text upto  `&quot;recevied&quot;: &quot;success&quot;` into a string? then I can append like string1+ comment+ timestamp +notification and send it back.\r\nIs there any way we can filter and format the comment in Java8 stream?\r\n\r\n```\r\n{\r\n    &quot;event&quot;: &quot;myevent&quot;,\r\n    &quot;type&quot;: &quot;Mytype&quot;,\r\n    &quot;payload&quot;: {\r\n        &quot;customer&quot;: {\r\n            &quot;cutype&quot;: &quot;RETAIL&quot;,\r\n            &quot;customer_payload&quot;: {\r\n                &quot;customer_details&quot;: {\r\n                    &quot;payment&quot;: {\r\n                        &quot;type&quot;: &quot;card&quot;,\r\n                        &quot;location&quot;: &quot;some_location&quot;\r\n                    },\r\n                    &quot;payment2&quot;: {\r\n                        &quot;type&quot;: &quot;card&quot;,\r\n                        &quot;location&quot;: &quot;some_location&quot;\r\n                    },\r\n                    &quot;someotherinfo&quot;: {\r\n                        &quot;type&quot;: &quot;card&quot;,\r\n                        &quot;location&quot;: &quot;some_location&quot;\r\n                    },\r\n                    &quot;currency&quot;: &quot;USD&quot;,\r\n                    &quot;recevied&quot;: &quot;success&quot;,\r\n                    &quot;comments&quot;: &quot;Test comment&#39;s and some more comment&#39;s&quot;\r\n                }\r\n            }\r\n        }\r\n    },\r\n    &quot;timestamp&quot;: &quot;2022-01-09T18:44:17.571Z&quot;,\r\n    &quot;notification&quot;: &quot;YES&quot;\r\n}\r\n```\r\n\r\nI used the `lastIndexOf` and `IndexOf` method and I want to use JSON objectmapper or java8 stream API.","title":"Remove special characters from part of JSON String","body":"<p>How can I extract a part of the a JSON string and format it.\nI'm using <code>ObjectMapper(com.fasterxml.jackson.databind.ObjectMapper)</code> to extract data and format it. This is the sample payload and I want to remove the special characters from 'comments' and send it back. I extracted the comment and removed the special characters.</p>\n<p>How can I extract all the text upto  <code>&quot;recevied&quot;: &quot;success&quot;</code> into a string? then I can append like string1+ comment+ timestamp +notification and send it back.\nIs there any way we can filter and format the comment in Java8 stream?</p>\n<pre><code>{\n    &quot;event&quot;: &quot;myevent&quot;,\n    &quot;type&quot;: &quot;Mytype&quot;,\n    &quot;payload&quot;: {\n        &quot;customer&quot;: {\n            &quot;cutype&quot;: &quot;RETAIL&quot;,\n            &quot;customer_payload&quot;: {\n                &quot;customer_details&quot;: {\n                    &quot;payment&quot;: {\n                        &quot;type&quot;: &quot;card&quot;,\n                        &quot;location&quot;: &quot;some_location&quot;\n                    },\n                    &quot;payment2&quot;: {\n                        &quot;type&quot;: &quot;card&quot;,\n                        &quot;location&quot;: &quot;some_location&quot;\n                    },\n                    &quot;someotherinfo&quot;: {\n                        &quot;type&quot;: &quot;card&quot;,\n                        &quot;location&quot;: &quot;some_location&quot;\n                    },\n                    &quot;currency&quot;: &quot;USD&quot;,\n                    &quot;recevied&quot;: &quot;success&quot;,\n                    &quot;comments&quot;: &quot;Test comment's and some more comment's&quot;\n                }\n            }\n        }\n    },\n    &quot;timestamp&quot;: &quot;2022-01-09T18:44:17.571Z&quot;,\n    &quot;notification&quot;: &quot;YES&quot;\n}\n</code></pre>\n<p>I used the <code>lastIndexOf</code> and <code>IndexOf</code> method and I want to use JSON objectmapper or java8 stream API.</p>\n"},{"tags":["java","spring","caching","spring-cache"],"answers":[{"tags":[],"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"down_vote_count":0,"up_vote_count":17,"is_accepted":true,"score":17,"last_activity_date":1657572488,"creation_date":1519141718,"answer_id":48889099,"question_id":48888760,"body_markdown":"Try this \r\n\r\n    @Cacheable(value = CACHE, key = &quot;#root.method.name&quot;)\r\n\r\nOr even\r\n\r\n    @Cacheable(value = CACHE, key = &quot;#root.methodName&quot;)\r\n\r\nYou need to tell spring to use method name as key. You can use SPEL for this. Here is the [doc][1] with various other options.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/cache.html","title":"@Cachable on methods without input parameters?","body":"<p>Try this</p>\n<pre><code>@Cacheable(value = CACHE, key = &quot;#root.method.name&quot;)\n</code></pre>\n<p>Or even</p>\n<pre><code>@Cacheable(value = CACHE, key = &quot;#root.methodName&quot;)\n</code></pre>\n<p>You need to tell spring to use method name as key. You can use SPEL for this. Here is the <a href=\"https://docs.spring.io/spring/docs/3.1.x/spring-framework-reference/html/cache.html\" rel=\"nofollow noreferrer\">doc</a> with various other options.</p>\n"},{"tags":[],"owner":{"account_id":3527487,"reputation":534,"user_id":2948162,"display_name":"akasha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554992946,"creation_date":1554992946,"answer_id":55634944,"question_id":48888760,"body_markdown":"You can use two cache with different name:\r\n\r\n    @Bean\r\n    public ConcurrentMapCache cache() {\r\n        return new ConcurrentMapCache(CACHE_API, CACHE_URL);\r\n    }\r\n    @Cacheable(CACHE_API)\r\n    public String getApi() {\r\n        return &quot;api&quot;;\r\n    }\r\n    \r\n    @Cacheable(CACHE_URL)\r\n    public String getUrl() {\r\n        return &quot;url&quot;;\r\n    }\r\n","title":"@Cachable on methods without input parameters?","body":"<p>You can use two cache with different name:</p>\n\n<pre><code>@Bean\npublic ConcurrentMapCache cache() {\n    return new ConcurrentMapCache(CACHE_API, CACHE_URL);\n}\n@Cacheable(CACHE_API)\npublic String getApi() {\n    return \"api\";\n}\n\n@Cacheable(CACHE_URL)\npublic String getUrl() {\n    return \"url\";\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1671020899,"creation_date":1671020420,"answer_id":74798201,"question_id":48888760,"body_markdown":"While the accepted answer describes **how** to solve the problem, it fails to answer the actual question which was **why** Spring behaves like this. So here&#39;s the answer for anyone interested.\r\n\r\nFrom the documentation of `org.springframework.cache.annotation.EnableCaching`:\r\n&gt; Normally, `@EnableCaching` will configure Spring&#39;s `SimpleKeyGenerator`\r\n\r\nAnd `SimpleKeyGenerator` is defined like so:\r\n\r\n```java\r\npublic class SimpleKeyGenerator implements KeyGenerator {\r\n\r\n\t@Override\r\n\tpublic Object generate(Object target, Method method, Object... params) {\r\n\t\treturn generateKey(params);\r\n\t}\r\n\r\n\t/**\r\n\t * Generate a key based on the specified parameters.\r\n\t */\r\n\tpublic static Object generateKey(Object... params) {\r\n\t\tif (params.length == 0) {\r\n\t\t\treturn SimpleKey.EMPTY;\r\n\t\t}\r\n\t\tif (params.length == 1) {\r\n\t\t\tObject param = params[0];\r\n\t\t\tif (param != null &amp;&amp; !param.getClass().isArray()) {\r\n\t\t\t\treturn param;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn new SimpleKey(params);\r\n\t}\r\n}\r\n```\r\n\r\nAs you can see, it only looks at the parameters to generate the cache key and completely ignores the method. Which I agree, is total nuts.\r\n\r\nBut [St&#233;phane Nicoll said](https://github.com/spring-projects/spring-framework/issues/18475#issuecomment-453435572):\r\n\r\n&gt; SimpleKeyGenerator does this on purpose. We had many requests to add more context to the key such as the method signature for instance. We feel this is wrong as the key should be natural and usable outside of how we interact with the cache.\r\n\r\n","title":"@Cachable on methods without input parameters?","body":"<p>While the accepted answer describes <strong>how</strong> to solve the problem, it fails to answer the actual question which was <strong>why</strong> Spring behaves like this. So here's the answer for anyone interested.</p>\n<p>From the documentation of <code>org.springframework.cache.annotation.EnableCaching</code>:</p>\n<blockquote>\n<p>Normally, <code>@EnableCaching</code> will configure Spring's <code>SimpleKeyGenerator</code></p>\n</blockquote>\n<p>And <code>SimpleKeyGenerator</code> is defined like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class SimpleKeyGenerator implements KeyGenerator {\n\n    @Override\n    public Object generate(Object target, Method method, Object... params) {\n        return generateKey(params);\n    }\n\n    /**\n     * Generate a key based on the specified parameters.\n     */\n    public static Object generateKey(Object... params) {\n        if (params.length == 0) {\n            return SimpleKey.EMPTY;\n        }\n        if (params.length == 1) {\n            Object param = params[0];\n            if (param != null &amp;&amp; !param.getClass().isArray()) {\n                return param;\n            }\n        }\n        return new SimpleKey(params);\n    }\n}\n</code></pre>\n<p>As you can see, it only looks at the parameters to generate the cache key and completely ignores the method. Which I agree, is total nuts.</p>\n<p>But <a href=\"https://github.com/spring-projects/spring-framework/issues/18475#issuecomment-453435572\" rel=\"nofollow noreferrer\">StÃ©phane Nicoll said</a>:</p>\n<blockquote>\n<p>SimpleKeyGenerator does this on purpose. We had many requests to add more context to the key such as the method signature for instance. We feel this is wrong as the key should be natural and usable outside of how we interact with the cache.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":193230,"reputation":1874,"user_id":1581075,"display_name":"vahid kh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684074694,"creation_date":1684074694,"answer_id":76248004,"question_id":48888760,"body_markdown":"You can refer to the same key by SpEL:\r\n\r\n    @Bean\r\n    public ConcurrentMapCache cache() {\r\n        return new ConcurrentMapCache(CACHE);\r\n    }\r\n    \r\n    @Cacheable(CACHE, key=&quot;&#39;theKey&#39;&quot;)\r\n    public String getApi() {\r\n        return &quot;api&quot;;\r\n    }\r\n    \r\n    @Cacheable(CACHE, key=&quot;&#39;theKey&#39;&quot;)\r\n    public String getUrl() {\r\n        return &quot;url&quot;;\r\n    }","title":"@Cachable on methods without input parameters?","body":"<p>You can refer to the same key by SpEL:</p>\n<pre><code>@Bean\npublic ConcurrentMapCache cache() {\n    return new ConcurrentMapCache(CACHE);\n}\n\n@Cacheable(CACHE, key=&quot;'theKey'&quot;)\npublic String getApi() {\n    return &quot;api&quot;;\n}\n\n@Cacheable(CACHE, key=&quot;'theKey'&quot;)\npublic String getUrl() {\n    return &quot;url&quot;;\n}\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12592,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":48889099,"answer_count":4,"score":13,"last_activity_date":1684074694,"creation_date":1519140693,"question_id":48888760,"body_markdown":"I&#39;m having a problem with `@org.springframework.cache.annotation.Cachable` annotation:\r\n\r\n\t@Bean\r\n\tpublic ConcurrentMapCache cache() {\r\n\t\treturn new ConcurrentMapCache(CACHE);\r\n\t}\r\n    \r\n    @Cacheable(CACHE)\r\n    public String getApi() {\r\n    \treturn &quot;api&quot;;\r\n    }\r\n    \r\n    @Cacheable(CACHE)\r\n    public String getUrl() {\r\n    \treturn &quot;url&quot;;\r\n    }\r\n\r\nusage:\r\n\r\n    assertEquals(&quot;api&quot;, service.getApi()); //OK\r\n    assertEquals(&quot;url&quot;, service.getUrl()); //FAILURE. this returns also &quot;api&quot;\r\n\r\n\r\nSo, why does @Cachable not create a cache result by method name *if* method signature does not contain any input parameters?\r\n\r\n\r\n\r\n","title":"@Cachable on methods without input parameters?","body":"<p>I'm having a problem with <code>@org.springframework.cache.annotation.Cachable</code> annotation:</p>\n\n<pre><code>@Bean\npublic ConcurrentMapCache cache() {\n    return new ConcurrentMapCache(CACHE);\n}\n\n@Cacheable(CACHE)\npublic String getApi() {\n    return \"api\";\n}\n\n@Cacheable(CACHE)\npublic String getUrl() {\n    return \"url\";\n}\n</code></pre>\n\n<p>usage:</p>\n\n<pre><code>assertEquals(\"api\", service.getApi()); //OK\nassertEquals(\"url\", service.getUrl()); //FAILURE. this returns also \"api\"\n</code></pre>\n\n<p>So, why does @Cachable not create a cache result by method name <em>if</em> method signature does not contain any input parameters?</p>\n"},{"tags":["java","eclipse","jakarta-mail"],"comments":[{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1684080406,"post_id":76247672,"comment_id":134461076,"body_markdown":"Jars on the classpath can be expanded and explored just like folders when using the Package and Project Explorer views. Is the package name really the problem? Have you verified that these types actually present?","body":"Jars on the classpath can be expanded and explored just like folders when using the Package and Project Explorer views. Is the package name really the problem? Have you verified that these types actually present?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1684131372,"post_id":76247672,"comment_id":134465978,"body_markdown":"If you have a `module-info.java` file, delete it (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules). Otherwise, please say exactly what you did (be aware that there are different ways to do) and provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"If you have a <code>module-info.java</code> file, delete it (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>. Otherwise, please say exactly what you did (be aware that there are different ways to do) and provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684072719,"creation_date":1684072719,"answer_id":76247851,"question_id":76247672,"body_markdown":"This looks like a Java version issue. Prior to Java 17 `jakarta.mail` was `javax.mail`.\r\n\r\nEither upgrade to Java17 which have `jakarta.mail` api built in, or\r\n\r\nUse Java11 or less with `javax.mail`.","title":"i am having a problem with using jakarta mail :The import jakarta cannot be resolved","body":"<p>This looks like a Java version issue. Prior to Java 17 <code>jakarta.mail</code> was <code>javax.mail</code>.</p>\n<p>Either upgrade to Java17 which have <code>jakarta.mail</code> api built in, or</p>\n<p>Use Java11 or less with <code>javax.mail</code>.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684074588,"creation_date":1684074588,"answer_id":76247988,"question_id":76247672,"body_markdown":"The Java Mail APIs are part of Java EE / Jakarta EE not Java SE.\r\n\r\nUp to Java EE 8 (2017-08-31), the package name was `javax.email`.  It remained that in Jakarta EE 8 (2019-09-10) it remained the same.  In Jakarta EE 9 (2020-12-08) the package name changed to `jakarta.mail`.\r\n\r\nFor reasons that I haven&#39;t researched, the Jakarta Mail spec version numbers don&#39;t align with the Java EE / Jakarta EE version numbers.  The current specifications are [Jakarta Mail 2.0][1] and [Jakarta Mail 2.1][2], and the corresponding Maven coordinates are \r\n\r\n  - `jakarta.mail:jakarta.mail-api:jar:2.0.1` and \r\n  - `jakarta.mail:jakarta.mail-api:jar:2.1.0`\r\n\r\nIf you already have one of those dependencies in your POM file, then the next thing to look at is why your IDE is not adding those JARs to the project classpath.\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/mail/2.0/\r\n  [2]: https://jakarta.ee/specifications/mail/2.1/","title":"i am having a problem with using jakarta mail :The import jakarta cannot be resolved","body":"<p>The Java Mail APIs are part of Java EE / Jakarta EE not Java SE.</p>\n<p>Up to Java EE 8 (2017-08-31), the package name was <code>javax.email</code>.  It remained that in Jakarta EE 8 (2019-09-10) it remained the same.  In Jakarta EE 9 (2020-12-08) the package name changed to <code>jakarta.mail</code>.</p>\n<p>For reasons that I haven't researched, the Jakarta Mail spec version numbers don't align with the Java EE / Jakarta EE version numbers.  The current specifications are <a href=\"https://jakarta.ee/specifications/mail/2.0/\" rel=\"nofollow noreferrer\">Jakarta Mail 2.0</a> and <a href=\"https://jakarta.ee/specifications/mail/2.1/\" rel=\"nofollow noreferrer\">Jakarta Mail 2.1</a>, and the corresponding Maven coordinates are</p>\n<ul>\n<li><code>jakarta.mail:jakarta.mail-api:jar:2.0.1</code> and</li>\n<li><code>jakarta.mail:jakarta.mail-api:jar:2.1.0</code></li>\n</ul>\n<p>If you already have one of those dependencies in your POM file, then the next thing to look at is why your IDE is not adding those JARs to the project classpath.</p>\n"}],"owner":{"account_id":24510498,"reputation":1,"user_id":18424876,"display_name":"Poula"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2473,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684074588,"creation_date":1684070247,"question_id":76247672,"body_markdown":"the ide displays an error(The import jakarta cannot be resolved) when trying to import any of the jakarta libraries to the class:\r\n`import jakarta.mail.*;\r\nimport jakarta.mail.internet.InternetAddress;\r\nimport jakarta.mail.internet.MimeMessage;`\r\nall gets me the same error\r\n\r\n\r\ni tried instaling the jars manually, everything was done the right way, but the ide (i am using ecipse) cant import the libraries to the class idk why,\r\ngot tired of this and installed maven to my project, and tried using jakarta 1.6.7 and 2.smth \r\nand also everything was working fine untill i try to import the libraries to the class, even tho that the pom file have the jakarta dependency and is displaying no errors..","title":"i am having a problem with using jakarta mail :The import jakarta cannot be resolved","body":"<p>the ide displays an error(The import jakarta cannot be resolved) when trying to import any of the jakarta libraries to the class:\n<code>import jakarta.mail.*; import jakarta.mail.internet.InternetAddress; import jakarta.mail.internet.MimeMessage;</code>\nall gets me the same error</p>\n<p>i tried instaling the jars manually, everything was done the right way, but the ide (i am using ecipse) cant import the libraries to the class idk why,\ngot tired of this and installed maven to my project, and tried using jakarta 1.6.7 and 2.smth\nand also everything was working fine untill i try to import the libraries to the class, even tho that the pom file have the jakarta dependency and is displaying no errors..</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":1,"creation_date":1570115244,"post_id":58221345,"comment_id":102819541,"body_markdown":"Can you post your manifest file? But I would guess you have to remove android:name=&quot;android.support.multidex.MultiDexApplication&quot;","body":"Can you post your manifest file? But I would guess you have to remove android:name=&quot;android.support.multidex.MultiDexApplication&quot;"},{"owner":{"account_id":15833894,"reputation":175,"user_id":11424329,"display_name":"Calin Onaca"},"score":0,"creation_date":1570115431,"post_id":58221345,"comment_id":102819652,"body_markdown":"Yes, in a second!","body":"Yes, in a second!"},{"owner":{"account_id":7638953,"reputation":675,"user_id":5791681,"display_name":"Ricardo A."},"score":3,"creation_date":1570116617,"post_id":58221345,"comment_id":102820289,"body_markdown":"did you try removing android:name=&quot;android.support.multidex.MultiDexApplication&quot;? I don&#39;t have that in my application and multidex is working fine","body":"did you try removing android:name=&quot;android.support.multidex.MultiDexApplication&quot;? I don&#39;t have that in my application and multidex is working fine"},{"owner":{"account_id":15833894,"reputation":175,"user_id":11424329,"display_name":"Calin Onaca"},"score":0,"creation_date":1570117556,"post_id":58221345,"comment_id":102820764,"body_markdown":"Yes, let me remove it and I update the question with the log","body":"Yes, let me remove it and I update the question with the log"},{"owner":{"account_id":15833894,"reputation":175,"user_id":11424329,"display_name":"Calin Onaca"},"score":1,"creation_date":1570118063,"post_id":58221345,"comment_id":102821009,"body_markdown":"It worked but before it didn&#39;t thank you very much !","body":"It worked but before it didn&#39;t thank you very much !"}],"owner":{"account_id":15833894,"reputation":175,"user_id":11424329,"display_name":"Calin Onaca"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4732,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1684073866,"creation_date":1570113042,"question_id":58221345,"body_markdown":"I built an app and I have different classes, and first I got an error like this when I tried to run the app\r\n\r\n&gt;Cannot fit requested classes in a single dex file (# methods: 66087 &gt; 65536)\r\n\r\nI followed some instructions from Google and I added to my build.gradle \r\n\r\nthis dependency\r\n\r\n&gt;    implementation &#39;com.android.support:multidex:1.0.3&#39;\r\n\r\nand to the defaultConfig this \r\n\r\n&gt; multiDexEnabled true\r\n\r\n\r\nIn my manifest xml I added this \r\n\r\n&gt;     android:name=&quot;android.support.multidex.MultiDexApplication&quot;\r\n\r\nbut its highlighted with red color and when I move the cursor over it says \r\n&gt; Unresolved class MultiDexApplication\r\n\r\nWhen I try to run the app again it throws me \r\n\r\n&gt; No file known for: classes2.dex\r\n\r\n&gt;Known maps: {RelativeFile{base=/Users/***/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeDexDebug/out/classes.dex, path=classes.dex, type=DIRECTORY}=classes.dex, RelativeFile{base=/Users/****/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeProjectDexDebug/out/classes.dex, path=classes.dex, type=DIRECTORY}=classes3.dex, RelativeFile{base=/Users/*****/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeExtDexDebug/out/classes2.dex, path=classes2.dex, type=DIRECTORY}=classes4.dex}\r\n\r\nThis is the MainActivity Class \r\n\r\n```\r\npackage com.example.drivieapp;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n         final Intent i = new Intent(this, screenNotLogged.class );\r\n        Thread timer = new Thread() {\r\n\r\n            public void run() {\r\n                try {\r\n                    sleep(3100);\r\n                }\r\n                catch(InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                finally {\r\n                   startActivity(i);\r\n                   finish();\r\n\r\n                }\r\n            }\r\n        };\r\n        timer.start();\r\n    }\r\n}\r\n\r\n\r\n```\r\nCan you please explain me what I have to do? I google the solution but didn&#39;t understand too much. Thank you very much!\r\n\r\nManifest xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;****&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; /&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.camera.autofocus&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;Drivie&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;\r\n        android:name=&quot;android.support.multidex.MultiDexApplication&quot;\r\n\r\n    &gt;\r\n        &lt;activity android:name=&quot;.SignupCarrier&quot;&gt;&lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.carrierSignupHint&quot; /&gt;\r\n        &lt;activity android:name=&quot;.home&quot; /&gt;\r\n        &lt;activity android:name=&quot;.SignupSender&quot; /&gt;\r\n        &lt;activity android:name=&quot;.signup&quot; /&gt;\r\n        &lt;activity android:name=&quot;.screenNotLogged&quot; /&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"What does &#39;No file known for: classes2.dex&#39; mean?","body":"<p>I built an app and I have different classes, and first I got an error like this when I tried to run the app</p>\n\n<blockquote>\n  <p>Cannot fit requested classes in a single dex file (# methods: 66087 > 65536)</p>\n</blockquote>\n\n<p>I followed some instructions from Google and I added to my build.gradle </p>\n\n<p>this dependency</p>\n\n<blockquote>\n  <p>implementation 'com.android.support:multidex:1.0.3'</p>\n</blockquote>\n\n<p>and to the defaultConfig this </p>\n\n<blockquote>\n  <p>multiDexEnabled true</p>\n</blockquote>\n\n<p>In my manifest xml I added this </p>\n\n<blockquote>\n<pre><code>android:name=\"android.support.multidex.MultiDexApplication\"\n</code></pre>\n</blockquote>\n\n<p>but its highlighted with red color and when I move the cursor over it says </p>\n\n<blockquote>\n  <p>Unresolved class MultiDexApplication</p>\n</blockquote>\n\n<p>When I try to run the app again it throws me </p>\n\n<blockquote>\n  <p>No file known for: classes2.dex</p>\n  \n  <p>Known maps: {RelativeFile{base=/Users/***/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeDexDebug/out/classes.dex, path=classes.dex, type=DIRECTORY}=classes.dex, RelativeFile{base=/Users/****/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeProjectDexDebug/out/classes.dex, path=classes.dex, type=DIRECTORY}=classes3.dex, RelativeFile{base=/Users/*****/AndroidStudioProjects/****/app/build/intermediates/dex/debug/mergeExtDexDebug/out/classes2.dex, path=classes2.dex, type=DIRECTORY}=classes4.dex}</p>\n</blockquote>\n\n<p>This is the MainActivity Class </p>\n\n<pre><code>package com.example.drivieapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\nimport android.content.Intent;\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n         final Intent i = new Intent(this, screenNotLogged.class );\n        Thread timer = new Thread() {\n\n            public void run() {\n                try {\n                    sleep(3100);\n                }\n                catch(InterruptedException e) {\n                    e.printStackTrace();\n                }\n                finally {\n                   startActivity(i);\n                   finish();\n\n                }\n            }\n        };\n        timer.start();\n    }\n}\n\n\n</code></pre>\n\n<p>Can you please explain me what I have to do? I google the solution but didn't understand too much. Thank you very much!</p>\n\n<p>Manifest xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    package=\"****\"&gt;\n\n    &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n\n    &lt;uses-feature android:name=\"android.hardware.camera\" /&gt;\n    &lt;uses-feature android:name=\"android.hardware.camera.autofocus\" /&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"Drivie\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        android:name=\"android.support.multidex.MultiDexApplication\"\n\n    &gt;\n        &lt;activity android:name=\".SignupCarrier\"&gt;&lt;/activity&gt;\n        &lt;activity android:name=\".carrierSignupHint\" /&gt;\n        &lt;activity android:name=\".home\" /&gt;\n        &lt;activity android:name=\".SignupSender\" /&gt;\n        &lt;activity android:name=\".signup\" /&gt;\n        &lt;activity android:name=\".screenNotLogged\" /&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","swing","user-interface","centering"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1684072071,"post_id":76247530,"comment_id":134460014,"body_markdown":"Note, when asking a question post a proper [mre] that demonstrates the problem. This would also mean using the standard JDK classes of components, not the &quot;Custom&quot; components you are using. Until the problem is solved you don&#39;t know if the problem is with your &quot;custom&quot; components or not.","body":"Note, when asking a question post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> that demonstrates the problem. This would also mean using the standard JDK classes of components, not the &quot;Custom&quot; components you are using. Until the problem is solved you don&#39;t know if the problem is with your &quot;custom&quot; components or not."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684072966,"creation_date":1684071977,"answer_id":76247801,"question_id":76247530,"body_markdown":"A `BoxLayout` doesn&#39;t really work (the way you would expect) when you have components with different x alignment values. \r\n\r\nOne solution is to use a &quot;wrapper&quot; panel so that all components can have the same x alignment:\r\n\r\n\tsetLayout(new BoxLayout(this,BoxLayout.Y_AXIS));\r\n\r\n\tJPanel wrapper = new JPanel();\r\n\twrapper.setLayout( new BoxLayout(wrapper, BoxLayout.Y_AXIS) );\r\n    wrapper.setAlignmentX(CENTER_ALIGNMENT);\r\n\r\n    JLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\r\n    productNameLabel.setAlignmentX(LEFT_ALIGNMENT);\r\n\tJTextField productNameField = new JTextField(10);\r\n    productNameField.setAlignmentX(LEFT_ALIGNMENT);\r\n\r\n\twrapper.add(productNameLabel);\r\n    wrapper.add(productNameField);\r\n\r\n\tJButton submitButton = new JButton(&quot;Submit&quot;);\r\n    submitButton.setAlignmentX(CENTER_ALIGNMENT);\r\n\r\n\tadd(wrapper);\r\n    add(submitButton);\r\n\r\nNow the two components on the main panel have the same &quot;center&quot; alignment and the two components of the wrapper panel have the same &quot;left&quot; alignment.\r\n\r\nAnother option might be to use a `GridBagLayout`:\r\n\r\n\tsetLayout( new GridBagLayout() );\r\n\tGridBagConstraints gbc = new GridBagConstraints();\r\n\tgbc.anchor = GridBagConstraints.LINE_START;\r\n\r\n    JLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\r\n    add(productNameLabel, gbc);\r\n\r\n\tJTextField productNameField = new JTextField(10);\r\n\tgbc.gridy = 1;\r\n\tadd(productNameField, gbc);\r\n\r\n\tJButton submitButton = new JButton(&quot;Submit&quot;);\r\n\tgbc.gridy = 2;\r\n\tgbc.anchor = GridBagConstraints.CENTER;\r\n\tadd(submitButton, gbc);\r\n\r\nRead the Swing tutorial on [How to Use GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) for more information about the contraints.\r\n\r\nOr you could use the [Relative Layout](https://tips4java.wordpress.com/2008/11/02/relative-layout/), which does allow you control alignment of each individual component:\r\n\r\n\tRelativeLayout rl = new RelativeLayout(RelativeLayout.Y_AXIS);\r\n\trl.setAlignment( RelativeLayout.COMPONENT );\r\n\tsetLayout( rl );\r\n\r\n    JLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\r\n    add(productNameLabel);\r\n\r\n\tJTextField productNameField = new JTextField(10);\r\n\tproductNameField.setAlignmentX( LEFT_ALIGNMENT );\r\n\tadd(productNameField);\r\n\r\n\tJButton submitButton = new JButton(&quot;Submit&quot;);\r\n\tsubmitButton.setAlignmentX( CENTER_ALIGNMENT );\r\n\tadd(submitButton);\r\n\r\n","title":"How can I center exactly one component in a JPanel, while the others remain aligned as default?","body":"<p>A <code>BoxLayout</code> doesn't really work (the way you would expect) when you have components with different x alignment values.</p>\n<p>One solution is to use a &quot;wrapper&quot; panel so that all components can have the same x alignment:</p>\n<pre><code>setLayout(new BoxLayout(this,BoxLayout.Y_AXIS));\n\nJPanel wrapper = new JPanel();\nwrapper.setLayout( new BoxLayout(wrapper, BoxLayout.Y_AXIS) );\nwrapper.setAlignmentX(CENTER_ALIGNMENT);\n\nJLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\nproductNameLabel.setAlignmentX(LEFT_ALIGNMENT);\nJTextField productNameField = new JTextField(10);\nproductNameField.setAlignmentX(LEFT_ALIGNMENT);\n\nwrapper.add(productNameLabel);\nwrapper.add(productNameField);\n\nJButton submitButton = new JButton(&quot;Submit&quot;);\nsubmitButton.setAlignmentX(CENTER_ALIGNMENT);\n\nadd(wrapper);\nadd(submitButton);\n</code></pre>\n<p>Now the two components on the main panel have the same &quot;center&quot; alignment and the two components of the wrapper panel have the same &quot;left&quot; alignment.</p>\n<p>Another option might be to use a <code>GridBagLayout</code>:</p>\n<pre><code>setLayout( new GridBagLayout() );\nGridBagConstraints gbc = new GridBagConstraints();\ngbc.anchor = GridBagConstraints.LINE_START;\n\nJLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\nadd(productNameLabel, gbc);\n\nJTextField productNameField = new JTextField(10);\ngbc.gridy = 1;\nadd(productNameField, gbc);\n\nJButton submitButton = new JButton(&quot;Submit&quot;);\ngbc.gridy = 2;\ngbc.anchor = GridBagConstraints.CENTER;\nadd(submitButton, gbc);\n</code></pre>\n<p>Read the Swing tutorial on <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">How to Use GridBagLayout</a> for more information about the contraints.</p>\n<p>Or you could use the <a href=\"https://tips4java.wordpress.com/2008/11/02/relative-layout/\" rel=\"nofollow noreferrer\">Relative Layout</a>, which does allow you control alignment of each individual component:</p>\n<pre><code>RelativeLayout rl = new RelativeLayout(RelativeLayout.Y_AXIS);\nrl.setAlignment( RelativeLayout.COMPONENT );\nsetLayout( rl );\n\nJLabel productNameLabel = new JLabel(&quot;PRODUCT NAME:&quot;);\nadd(productNameLabel);\n\nJTextField productNameField = new JTextField(10);\nproductNameField.setAlignmentX( LEFT_ALIGNMENT );\nadd(productNameField);\n\nJButton submitButton = new JButton(&quot;Submit&quot;);\nsubmitButton.setAlignmentX( CENTER_ALIGNMENT );\nadd(submitButton);\n</code></pre>\n"}],"owner":{"account_id":25262390,"reputation":49,"user_id":19093112,"display_name":"Kudor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684072966,"creation_date":1684067993,"question_id":76247530,"body_markdown":"So I&#39;m using a main JPanel (Java Swing) and I add a JLabel, a JTextField and a JButton. I&#39;m setting the layout of the main JPanel to BoxLayout.Y_AXIS, aligning all the components in a top to bottom manner. I want my button to be the only one centered, but &quot;submitButton.setAlignmentX(CENTER_ALIGNMENT)&quot; centers everything BUT the button. I tried to encapsulate the button in a JPanel, whose Layout I would change, but I did not succeed.\r\n\r\n```\r\npublic NewProductPanel() {\r\n            setLayout(new BoxLayout(this,BoxLayout.Y_AXIS));\r\n\r\n            CustomJLabel productNameLabel = new CustomJLabel(&quot;PRODUCT NAME:&quot;);\r\n            productNameField = new CustomJTextField();\r\n\r\n            submitButton = new SubmitButton(&quot;Submit&quot;);\r\n            submitButton.setAlignmentX(CENTER_ALIGNMENT);\r\n\r\n            add(productNameLabel);\r\n            add(productNameField);\r\n            add(submitButton);\r\n        }\r\n```","title":"How can I center exactly one component in a JPanel, while the others remain aligned as default?","body":"<p>So I'm using a main JPanel (Java Swing) and I add a JLabel, a JTextField and a JButton. I'm setting the layout of the main JPanel to BoxLayout.Y_AXIS, aligning all the components in a top to bottom manner. I want my button to be the only one centered, but &quot;submitButton.setAlignmentX(CENTER_ALIGNMENT)&quot; centers everything BUT the button. I tried to encapsulate the button in a JPanel, whose Layout I would change, but I did not succeed.</p>\n<pre><code>public NewProductPanel() {\n            setLayout(new BoxLayout(this,BoxLayout.Y_AXIS));\n\n            CustomJLabel productNameLabel = new CustomJLabel(&quot;PRODUCT NAME:&quot;);\n            productNameField = new CustomJTextField();\n\n            submitButton = new SubmitButton(&quot;Submit&quot;);\n            submitButton.setAlignmentX(CENTER_ALIGNMENT);\n\n            add(productNameLabel);\n            add(productNameField);\n            add(submitButton);\n        }\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1684073721,"post_id":76247825,"comment_id":134460233,"body_markdown":"This `NPE` .. `Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getBackground()&#39; on a null object reference`","body":"This <code>NPE</code> .. <code>Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getBackground()&#39; on a null object reference</code>"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684079418,"post_id":76247825,"comment_id":134460918,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":21093722,"reputation":1,"user_id":20611840,"display_name":"Grunteck "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684072409,"creation_date":1684072409,"question_id":76247825,"body_markdown":"This error appeared after restarting the application\r\n\r\nError:\r\n```\r\nProcess: app.linuxduck.com.tamapet, PID: 22284\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.linuxduck.com.tamapet/app.linuxduck.com.tamapet.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getBackground()&#39; on a null object reference\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\r\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.graphics.drawable.Drawable android.widget.ImageView.getBackground()&#39; on a null object reference\r\n        at app.linuxduck.com.tamapet.MainActivity.onCreate(MainActivity.java:286)\r\n        at android.app.Activity.performCreate(Activity.java:8305)\r\n        at android.app.Activity.performCreate(Activity.java:8284)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)&#160;\r\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)&#160;\r\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)&#160;\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)&#160;\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)&#160;\r\n        at android.os.Looper.loopOnce(Looper.java:201)&#160;\r\n        at android.os.Looper.loop(Looper.java:288)&#160;\r\n        at android.app.ActivityThread.main(ActivityThread.java:7872)&#160;\r\n        at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)&#160;\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)&#160;\r\n```\r\npart of MainActivity:\r\n\r\n```\r\npackage app.linuxduck.com.tamapet;\r\n\r\nimport android.animation.ObjectAnimator;\r\nimport android.content.Context;\r\nimport android.graphics.Point;\r\nimport android.graphics.drawable.AnimationDrawable;\r\nimport android.media.MediaPlayer;\r\nimport android.support.v7.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Display;\r\nimport android.view.MotionEvent;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.view.inputmethod.InputMethodManager;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ImageView;\r\nimport android.widget.LinearLayout;\r\nimport android.widget.TextView;\r\nimport android.widget.Button;\r\nimport android.widget.Toast;\r\n\r\nimport java.io.BufferedInputStream;\r\nimport java.io.BufferedReader;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.FileOutputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.util.ArrayList;\r\n\r\nimport static java.lang.Math.abs;\r\nimport static java.lang.System.currentTimeMillis;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    // Initializations\r\n    // ---------------\r\n    // Pet\r\n    private Pet myPet;\r\n\r\n    // Ints\r\n    private int timeKeeper;\r\n    private int gameAttempts;\r\n    private int random;\r\n    private int SHORTduration;\r\n    private int LONGduration;\r\n    private int creatureChoice;\r\n    private int resourceID;\r\n    private int width;\r\n    private int height;\r\n\r\n    // Floats\r\n    private float objX;\r\n    private float objY;\r\n\r\n    //TextViews\r\n    private TextView hungerIntText;\r\n    private TextView waterIntText;\r\n    private TextView ageIntText;\r\n    private TextView happyIntText;\r\n    private TextView healthIntText;\r\n    private TextView deathIntText;\r\n    private TextView nameYourNewPetText;\r\n    private TextView deadPetText;\r\n    private TextView guessANumberText;\r\n    private TextView alreadyGuessedLettersText;\r\n    private TextView hiddenWordText;\r\n    private TextView guessALetterText;\r\n    private TextView loadedPetNameText;\r\n\r\n    // Buttons\r\n    private Button gameOneButton;\r\n    private Button gameTwoButton;\r\n    private Button listOfPetsButton;\r\n    private Button createNewPetButton;\r\n    private Button openOldPetButton;\r\n    private Button submitButton;\r\n\r\n    // ImageButtons\r\n    private ImageButton featherImageButton;\r\n    private ImageButton ballImageButton;\r\n    private ImageButton soundImageButton;\r\n    private ImageButton savedCreaturesImageButton;\r\n    private ImageButton mealImageButton;\r\n    private ImageButton treatImageButton;\r\n    private ImageButton waterImageButton;\r\n    private ImageButton playImageButton;\r\n    private ImageButton punishImageButton;\r\n    private ImageButton shotImageButton;\r\n\r\n    // EditTexts\r\n    private EditText numberEditText;\r\n    private EditText letterEditText;\r\n    private EditText nameEditText;\r\n\r\n    // Characters\r\n    Character characterGuess;\r\n\r\n    // CharSequences\r\n    private CharSequence name;\r\n\r\n    // Strings\r\n    private String hiddenWordString;\r\n    private String randomlyChoseWord;\r\n    private String eventText;\r\n    private String word;\r\n\r\n    // Booleans\r\n    private boolean saveButtonWasOpened;\r\n    private boolean featherWasClicked;\r\n    private boolean ballWasClicked;\r\n    private boolean soundORnot;\r\n    private boolean loaded;\r\n    private boolean first;\r\n    private boolean second;\r\n\r\n    // ImageViews\r\n    private ImageView creatureImage;\r\n    private ImageView currentCreatureImg;\r\n    private ImageView featherImg;\r\n    private ImageView ballImg;\r\n    private ImageView waterImg;\r\n    private ImageView foodImg;\r\n    private ImageView treatImg;\r\n    private ImageView heartImage;\r\n    private ImageView butterImage;\r\n\r\n    // Views\r\n    private View view;\r\n\r\n    // Contexts\r\n    private Context context;\r\n\r\n    // MediaPlayers\r\n    private MediaPlayer catpurrSound;\r\n    private MediaPlayer drinkingSound;\r\n    private MediaPlayer eatingSound;\r\n\r\n    // LinearLayouts\r\n    private LinearLayout linearLayout;\r\n\r\n    // ArrayLists\r\n    private ArrayList&lt;Character&gt; guessedLettersArr;\r\n    private ArrayList&lt;Character&gt; lettersHidden;\r\n    private ArrayList&lt;String&gt; words;\r\n    private ArrayList&lt;String&gt; creatureList;\r\n\r\n    // AnimationDrawables\r\n    private AnimationDrawable waterAnimation;\r\n    private AnimationDrawable foodAnimation;\r\n    private AnimationDrawable treatAnimation;\r\n    private AnimationDrawable heartAnimation;\r\n    private AnimationDrawable butterAnimation;\r\n\r\n    // Displays\r\n    private Display display;\r\n\r\n    // Points\r\n    private Point size;\r\n\r\n    // ObjectAnimators\r\n    private ObjectAnimator creatureAnimator;\r\n\r\n    // Toasts\r\n    Toast eventToast;\r\n    Toast nopeToast;\r\n    Toast correctToast;\r\n\r\n    @Override\r\n    protected void onStart(){\r\n        super.onStart();\r\n\r\n    }\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Star animation from https://medium.com/@patrick_iv/continuous-animation-using-timeanimator-5b8a903603fb\r\n\r\n        // ---------------------------- //\r\n\r\n        myPet = new Pet();\r\n\r\n        // Displays\r\n        size = new Point();\r\n        display = getWindowManager().getDefaultDisplay();\r\n        display.getSize(size);\r\n\r\n```\r\nPart of activity_maim:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;@drawable/bg&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_gravity=&quot;center_horizontal&quot;\r\n    android:id=&quot;@+id/mainall&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/foodbowl&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@id/bottomstuff&quot;\r\n        android:layout_marginLeft=&quot;20sp&quot;\r\n        android:layout_marginRight=&quot;20sp&quot;\r\n        android:background=&quot;@drawable/food1&quot;\r\n        tools:ignore=&quot;ImageContrastCheck&quot;\r\n   /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/waterbowl&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_above=&quot;@id/bottomstuff&quot;\r\n        android:layout_toEndOf=&quot;@id/foodbowl&quot;\r\n        android:layout_toRightOf=&quot;@id/foodbowl&quot;\r\n        android:background=&quot;@drawable/water1&quot;\r\n        tools:ignore=&quot;ImageContrastCheck&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:background=&quot;@drawable/heart0&quot;\r\n        android:id=&quot;@+id/heartimageview&quot;/&gt;\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/ball&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_alignParentLeft=&quot;true&quot;\r\n        android:layout_marginLeft=&quot;100sp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;@drawable/ball&quot;\r\n\r\n        android:layout_alignParentStart=&quot;true&quot;\r\n        android:layout_marginStart=&quot;100sp&quot; /&gt;\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/feather&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_alignParentRight=&quot;true&quot;\r\n        android:layout_marginRight=&quot;50sp&quot;\r\n        android:layout_marginLeft=&quot;50sp&quot;\r\n        android:layout_centerInParent=&quot;true&quot;\r\n        android:background=&quot;@drawable/feather&quot;\r\n\r\n        android:layout_alignParentEnd=&quot;true&quot; /&gt;\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/creatureimageview&quot;\r\n        /&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:orientation=&quot;horizontal&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:background=&quot;@drawable/topinfo&quot;\r\n        android:baselineAligned=&quot;false&quot;&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_weight=&quot;1.0&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:text=&quot;@string/age&quot;\r\n                android:id=&quot;@+id/agetext&quot;/&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:id=&quot;@+id/ageinttext&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_weight=&quot;1.0&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:text=&quot;@string/hunger&quot;\r\n                android:id=&quot;@+id/hungertext&quot;/&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:id=&quot;@+id/hungerinttext&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:layout_weight=&quot;1.0&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:text=&quot;@string/water&quot;\r\n                android:id=&quot;@+id/watertext&quot;/&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_gravity=&quot;center&quot;\r\n                android:paddingLeft=&quot;2sp&quot;\r\n                android:paddingRight=&quot;2sp&quot;\r\n                android:textColor=&quot;@color/white&quot;\r\n                android:textSize=&quot;16sp&quot;\r\n                android:id=&quot;@+id/waterinttext&quot;/&gt;\r\n        &lt;/LinearLayout&gt;\r\n```\r\nThe last time I left the application everything was fine, but when I returned to the program, these errors came out and the application crashes. I don&#39;t know what to do and what it is connected with.\r\nThe application crashes and this error pops up in the console","title":"22284-22284/app.linuxduck.com.tamapet E/AndroidRuntime: FATAL EXCEPTION: main","body":"<p>This error appeared after restarting the application</p>\n<p>Error:</p>\n<pre><code>Process: app.linuxduck.com.tamapet, PID: 22284\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{app.linuxduck.com.tamapet/app.linuxduck.com.tamapet.MainActivity}: java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.drawable.Drawable android.widget.ImageView.getBackground()' on a null object reference\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3645)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)\n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)\n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)\n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7872)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)\n     Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.graphics.drawable.Drawable android.widget.ImageView.getBackground()' on a null object reference\n        at app.linuxduck.com.tamapet.MainActivity.onCreate(MainActivity.java:286)\n        at android.app.Activity.performCreate(Activity.java:8305)\n        at android.app.Activity.performCreate(Activity.java:8284)\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1417)\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3626)\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3782)Â \n        at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:101)Â \n        at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:135)Â \n        at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:95)Â \n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2307)Â \n        at android.os.Handler.dispatchMessage(Handler.java:106)Â \n        at android.os.Looper.loopOnce(Looper.java:201)Â \n        at android.os.Looper.loop(Looper.java:288)Â \n        at android.app.ActivityThread.main(ActivityThread.java:7872)Â \n        at java.lang.reflect.Method.invoke(Native Method)Â \n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)Â \n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:936)Â \n</code></pre>\n<p>part of MainActivity:</p>\n<pre><code>package app.linuxduck.com.tamapet;\n\nimport android.animation.ObjectAnimator;\nimport android.content.Context;\nimport android.graphics.Point;\nimport android.graphics.drawable.AnimationDrawable;\nimport android.media.MediaPlayer;\nimport android.support.v7.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Display;\nimport android.view.MotionEvent;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.view.inputmethod.InputMethodManager;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ImageView;\nimport android.widget.LinearLayout;\nimport android.widget.TextView;\nimport android.widget.Button;\nimport android.widget.Toast;\n\nimport java.io.BufferedInputStream;\nimport java.io.BufferedReader;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\nimport static java.lang.Math.abs;\nimport static java.lang.System.currentTimeMillis;\n\npublic class MainActivity extends AppCompatActivity {\n\n    // Initializations\n    // ---------------\n    // Pet\n    private Pet myPet;\n\n    // Ints\n    private int timeKeeper;\n    private int gameAttempts;\n    private int random;\n    private int SHORTduration;\n    private int LONGduration;\n    private int creatureChoice;\n    private int resourceID;\n    private int width;\n    private int height;\n\n    // Floats\n    private float objX;\n    private float objY;\n\n    //TextViews\n    private TextView hungerIntText;\n    private TextView waterIntText;\n    private TextView ageIntText;\n    private TextView happyIntText;\n    private TextView healthIntText;\n    private TextView deathIntText;\n    private TextView nameYourNewPetText;\n    private TextView deadPetText;\n    private TextView guessANumberText;\n    private TextView alreadyGuessedLettersText;\n    private TextView hiddenWordText;\n    private TextView guessALetterText;\n    private TextView loadedPetNameText;\n\n    // Buttons\n    private Button gameOneButton;\n    private Button gameTwoButton;\n    private Button listOfPetsButton;\n    private Button createNewPetButton;\n    private Button openOldPetButton;\n    private Button submitButton;\n\n    // ImageButtons\n    private ImageButton featherImageButton;\n    private ImageButton ballImageButton;\n    private ImageButton soundImageButton;\n    private ImageButton savedCreaturesImageButton;\n    private ImageButton mealImageButton;\n    private ImageButton treatImageButton;\n    private ImageButton waterImageButton;\n    private ImageButton playImageButton;\n    private ImageButton punishImageButton;\n    private ImageButton shotImageButton;\n\n    // EditTexts\n    private EditText numberEditText;\n    private EditText letterEditText;\n    private EditText nameEditText;\n\n    // Characters\n    Character characterGuess;\n\n    // CharSequences\n    private CharSequence name;\n\n    // Strings\n    private String hiddenWordString;\n    private String randomlyChoseWord;\n    private String eventText;\n    private String word;\n\n    // Booleans\n    private boolean saveButtonWasOpened;\n    private boolean featherWasClicked;\n    private boolean ballWasClicked;\n    private boolean soundORnot;\n    private boolean loaded;\n    private boolean first;\n    private boolean second;\n\n    // ImageViews\n    private ImageView creatureImage;\n    private ImageView currentCreatureImg;\n    private ImageView featherImg;\n    private ImageView ballImg;\n    private ImageView waterImg;\n    private ImageView foodImg;\n    private ImageView treatImg;\n    private ImageView heartImage;\n    private ImageView butterImage;\n\n    // Views\n    private View view;\n\n    // Contexts\n    private Context context;\n\n    // MediaPlayers\n    private MediaPlayer catpurrSound;\n    private MediaPlayer drinkingSound;\n    private MediaPlayer eatingSound;\n\n    // LinearLayouts\n    private LinearLayout linearLayout;\n\n    // ArrayLists\n    private ArrayList&lt;Character&gt; guessedLettersArr;\n    private ArrayList&lt;Character&gt; lettersHidden;\n    private ArrayList&lt;String&gt; words;\n    private ArrayList&lt;String&gt; creatureList;\n\n    // AnimationDrawables\n    private AnimationDrawable waterAnimation;\n    private AnimationDrawable foodAnimation;\n    private AnimationDrawable treatAnimation;\n    private AnimationDrawable heartAnimation;\n    private AnimationDrawable butterAnimation;\n\n    // Displays\n    private Display display;\n\n    // Points\n    private Point size;\n\n    // ObjectAnimators\n    private ObjectAnimator creatureAnimator;\n\n    // Toasts\n    Toast eventToast;\n    Toast nopeToast;\n    Toast correctToast;\n\n    @Override\n    protected void onStart(){\n        super.onStart();\n\n    }\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Star animation from https://medium.com/@patrick_iv/continuous-animation-using-timeanimator-5b8a903603fb\n\n        // ---------------------------- //\n\n        myPet = new Pet();\n\n        // Displays\n        size = new Point();\n        display = getWindowManager().getDefaultDisplay();\n        display.getSize(size);\n\n</code></pre>\n<p>Part of activity_maim:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/bg&quot;\n    android:orientation=&quot;vertical&quot;\n    android:layout_gravity=&quot;center_horizontal&quot;\n    android:id=&quot;@+id/mainall&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/foodbowl&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@id/bottomstuff&quot;\n        android:layout_marginLeft=&quot;20sp&quot;\n        android:layout_marginRight=&quot;20sp&quot;\n        android:background=&quot;@drawable/food1&quot;\n        tools:ignore=&quot;ImageContrastCheck&quot;\n   /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/waterbowl&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_above=&quot;@id/bottomstuff&quot;\n        android:layout_toEndOf=&quot;@id/foodbowl&quot;\n        android:layout_toRightOf=&quot;@id/foodbowl&quot;\n        android:background=&quot;@drawable/water1&quot;\n        tools:ignore=&quot;ImageContrastCheck&quot;/&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:visibility=&quot;gone&quot;\n        android:background=&quot;@drawable/heart0&quot;\n        android:id=&quot;@+id/heartimageview&quot;/&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/ball&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_alignParentLeft=&quot;true&quot;\n        android:layout_marginLeft=&quot;100sp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;@drawable/ball&quot;\n\n        android:layout_alignParentStart=&quot;true&quot;\n        android:layout_marginStart=&quot;100sp&quot; /&gt;\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/feather&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_alignParentRight=&quot;true&quot;\n        android:layout_marginRight=&quot;50sp&quot;\n        android:layout_marginLeft=&quot;50sp&quot;\n        android:layout_centerInParent=&quot;true&quot;\n        android:background=&quot;@drawable/feather&quot;\n\n        android:layout_alignParentEnd=&quot;true&quot; /&gt;\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:id=&quot;@+id/creatureimageview&quot;\n        /&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:layout_gravity=&quot;center_horizontal&quot;\n        android:background=&quot;@drawable/topinfo&quot;\n        android:baselineAligned=&quot;false&quot;&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_weight=&quot;1.0&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:text=&quot;@string/age&quot;\n                android:id=&quot;@+id/agetext&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:id=&quot;@+id/ageinttext&quot;/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_weight=&quot;1.0&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:text=&quot;@string/hunger&quot;\n                android:id=&quot;@+id/hungertext&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:id=&quot;@+id/hungerinttext&quot;/&gt;\n        &lt;/LinearLayout&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;\n            android:layout_weight=&quot;1.0&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:text=&quot;@string/water&quot;\n                android:id=&quot;@+id/watertext&quot;/&gt;\n            &lt;TextView\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_gravity=&quot;center&quot;\n                android:paddingLeft=&quot;2sp&quot;\n                android:paddingRight=&quot;2sp&quot;\n                android:textColor=&quot;@color/white&quot;\n                android:textSize=&quot;16sp&quot;\n                android:id=&quot;@+id/waterinttext&quot;/&gt;\n        &lt;/LinearLayout&gt;\n</code></pre>\n<p>The last time I left the application everything was fine, but when I returned to the program, these errors came out and the application crashes. I don't know what to do and what it is connected with.\nThe application crashes and this error pops up in the console</p>\n"},{"tags":["java","spring","spring-boot","configuration","documentation"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1652365281,"post_id":72217259,"comment_id":127592955,"body_markdown":"You&#39;re looking for `spring-boot-configuration-processor`.","body":"You&#39;re looking for <code>spring-boot-configuration-processor</code>."}],"answers":[{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1652365917,"creation_date":1652365917,"answer_id":72217506,"question_id":72217259,"body_markdown":"You could try generating a config metadata file with the `spring-boot-configuration-processor` as described [in the Spring docs][1]. Spring will then generate a file called `spring-configuration-metadata.json` where all fields of all `@ConfigurationProperties` classes will be included. If the field in the Proeprties class is annotated with a Javadoc comment, this comment will be included in the JSON as well. In IntelliJ, if you display the description of a config property, this comment will then be shown in the popup.\r\n\r\nThis will however only work for classes annotated with `@ConfigurationProperties`. That means that classes obtaining configuration properties by directly injecting them with the Spring `@Value` annotation (e.g. `@Value(&quot;${myapp.my-setting}&quot;)`) this approach won&#39;t work. But as far as I know this might be the approach with which you can get the most out of Spring automatically.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html#appendix.configuration-metadata.annotation-processor","title":"Documenting configuration for a Spring Boot application","body":"<p>You could try generating a config metadata file with the <code>spring-boot-configuration-processor</code> as described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html#appendix.configuration-metadata.annotation-processor\" rel=\"nofollow noreferrer\">in the Spring docs</a>. Spring will then generate a file called <code>spring-configuration-metadata.json</code> where all fields of all <code>@ConfigurationProperties</code> classes will be included. If the field in the Proeprties class is annotated with a Javadoc comment, this comment will be included in the JSON as well. In IntelliJ, if you display the description of a config property, this comment will then be shown in the popup.</p>\n<p>This will however only work for classes annotated with <code>@ConfigurationProperties</code>. That means that classes obtaining configuration properties by directly injecting them with the Spring <code>@Value</code> annotation (e.g. <code>@Value(&quot;${myapp.my-setting}&quot;)</code>) this approach won't work. But as far as I know this might be the approach with which you can get the most out of Spring automatically.</p>\n"},{"tags":[],"owner":{"account_id":11950526,"reputation":53,"user_id":8744317,"display_name":"N&#225;ndor Holozsny&#225;k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682370872,"creation_date":1682370872,"answer_id":76096153,"question_id":72217259,"body_markdown":"A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your `spring-configuration-metadata.json` that is being built by the `spring-boot-configuration-processor dependency.\r\n\r\nGive it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some nasty bugs :) \r\n\r\nhttps://github.com/rodnansol/spring-configuration-property-documenter","title":"Documenting configuration for a Spring Boot application","body":"<p>A few months ago this project was created and this is what you are looking forward, it can generate AsciiDoc, Markdown, HTML or XML documentation from your <code>spring-configuration-metadata.json</code> that is being built by the `spring-boot-configuration-processor dependency.</p>\n<p>Give it a try, it has Maven and Gradle plugin as well, feel free to open issues if you encounter some nasty bugs :)</p>\n<p><a href=\"https://github.com/rodnansol/spring-configuration-property-documenter\" rel=\"nofollow noreferrer\">https://github.com/rodnansol/spring-configuration-property-documenter</a></p>\n"},{"tags":[],"owner":{"account_id":1716782,"reputation":266,"user_id":1573682,"display_name":"Peter Verhas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684071416,"creation_date":1684071416,"answer_id":76247754,"question_id":72217259,"body_markdown":"I recently commented on\r\n\r\nhttps://stackoverflow.com/questions/58016946/is-there-a-good-way-to-document-spring-value-fields\r\n\r\nwhich is very similar.\r\n\r\nYou may want to read what I wrote there, and how I would use the tool Jamal (https://github.com/verhas/jamal) I created for this purpose.","title":"Documenting configuration for a Spring Boot application","body":"<p>I recently commented on</p>\n<p><a href=\"https://stackoverflow.com/questions/58016946/is-there-a-good-way-to-document-spring-value-fields\">Is there a good way to document Spring @Value fields?</a></p>\n<p>which is very similar.</p>\n<p>You may want to read what I wrote there, and how I would use the tool Jamal (<a href=\"https://github.com/verhas/jamal\" rel=\"nofollow noreferrer\">https://github.com/verhas/jamal</a>) I created for this purpose.</p>\n"}],"owner":{"account_id":3065983,"reputation":73,"user_id":6682771,"display_name":"Eric Buist"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1285,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1684071416,"creation_date":1652364958,"question_id":72217259,"body_markdown":"I have a Spring Boot application that supports various configuration properties that can be set using application.yaml, environment variables or system properties. At the moment, the only way to figure out what properties are supported is to ask around other developers or dig into the code for property objects. Is there a way to generate some form of documentation better than this? I searched and just cannot find any answer, seems nobody is documenting their configuration or is doing it in an ad hoc manual way.\r\nIdeally, the beans configurable through properties would have Javadoc-style comments, they would be scanned by a Spring tool and that would generate an HTML or Markdown document with all the supported properties and the description extracted from Javadoc-style comments.","title":"Documenting configuration for a Spring Boot application","body":"<p>I have a Spring Boot application that supports various configuration properties that can be set using application.yaml, environment variables or system properties. At the moment, the only way to figure out what properties are supported is to ask around other developers or dig into the code for property objects. Is there a way to generate some form of documentation better than this? I searched and just cannot find any answer, seems nobody is documenting their configuration or is doing it in an ad hoc manual way.\nIdeally, the beans configurable through properties would have Javadoc-style comments, they would be scanned by a Spring tool and that would generate an HTML or Markdown document with all the supported properties and the description extracted from Javadoc-style comments.</p>\n"},{"tags":["java","tomcat","out-of-memory"],"comments":[{"owner":{"account_id":7701,"reputation":47163,"user_id":13447,"accept_rate":100,"display_name":"Olaf Kock"},"score":1,"creation_date":1664204728,"post_id":73855818,"comment_id":130412059,"body_markdown":"Hopefully you&#39;re _not_ running Tomcat as root - but if you execute a script from root&#39;s home folder, and it requires root permissions: I&#39;d expect exactly the problems that you have. I&#39;d rather recommend a regular healthcheck, or implement a restart option that doesn&#39;t require root permissions by the script. Do not run Tomcat as root...","body":"Hopefully you&#39;re <i>not</i> running Tomcat as root - but if you execute a script from root&#39;s home folder, and it requires root permissions: I&#39;d expect exactly the problems that you have. I&#39;d rather recommend a regular healthcheck, or implement a restart option that doesn&#39;t require root permissions by the script. Do not run Tomcat as root..."},{"owner":{"display_name":"user11700065"},"score":0,"creation_date":1664209613,"post_id":73855818,"comment_id":130413942,"body_markdown":"First of all thanks for your answer! I also tried to run the script from /etc and changed the permissions to tomcat:tomcat but the script is still not working...","body":"First of all thanks for your answer! I also tried to run the script from /etc and changed the permissions to tomcat:tomcat but the script is still not working..."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1664206426,"creation_date":1664206426,"answer_id":73856509,"question_id":73855818,"body_markdown":"You are running Tomcat via systemd. That has two consequences:\r\n\r\n- Likely the startup command for Tomcat is coming from the systemd configuration instead of the script you edited. So you need to look at other files to make an effective change.\r\n\r\n- All you need to tell the JVM is to die on OutOfMemoryErrors. Then tell systemd to automatically restart the service. Your script is not required at all.","title":"Tomcat OOM Kill","body":"<p>You are running Tomcat via systemd. That has two consequences:</p>\n<ul>\n<li><p>Likely the startup command for Tomcat is coming from the systemd configuration instead of the script you edited. So you need to look at other files to make an effective change.</p>\n</li>\n<li><p>All you need to tell the JVM is to die on OutOfMemoryErrors. Then tell systemd to automatically restart the service. Your script is not required at all.</p>\n</li>\n</ul>\n"}],"owner":{"display_name":"user11700065"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73856509,"answer_count":1,"score":0,"last_activity_date":1684070885,"creation_date":1664203336,"question_id":73855818,"body_markdown":"I have a problem with tomcat. Every once in a while Tomcat get&#39;s killed by a oom...\r\n\r\nSo i tested it with **stressapptest** to force a **oom** and then trying to restart tomcat.\r\n\r\nI wrote a simple bash script, that will restart the tomcat service.\r\n\r\nThis is the Script:\r\n\r\n```\r\n#!/bin/bash\r\nif  [ &quot;$(systemctl is-active tomcat9)&quot; == &quot;failed&quot; ] || [ &quot;$(systemctl is-active tomcat9)&quot; == &quot;inactive&quot; ]; then\r\n        echo &quot;Restarting tomcat!&quot;\r\n        systemctl restart tomcat9.service\r\n        exit\r\n        else\r\n        exit\r\nfi\r\n```\r\n\r\nAnd inside the setenv.sh i wrote this option.\r\n\r\n-XX:OnOutOfMemoryError=&#39;/root/restart.sh&#39;\r\n\r\nThis is how the setenv.sh script looks like:\r\n\r\n```\r\n#!/bin/sh\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.security.egd=file:/dev/./urandom -server -Xms1536m -Xmx1536m -XX:NewSize=1536m -XX:MaxNewSize=1536m -XX:OnOutOfMemoryError=&#39;pkill java;/root/restart.sh&#39; -XX:+DisableExplicitGC -DecadiaConsoleLogLevel=off&quot;\r\n```\r\n\r\nBut I don&#39;t know, why the Option &quot;XX:OnOutOfMemoryError&quot; is not working...\r\n\r\nCan someone help me with this problem?\r\n\r\nThanks in advance!","title":"Tomcat OOM Kill","body":"<p>I have a problem with tomcat. Every once in a while Tomcat get's killed by a oom...</p>\n<p>So i tested it with <strong>stressapptest</strong> to force a <strong>oom</strong> and then trying to restart tomcat.</p>\n<p>I wrote a simple bash script, that will restart the tomcat service.</p>\n<p>This is the Script:</p>\n<pre><code>#!/bin/bash\nif  [ &quot;$(systemctl is-active tomcat9)&quot; == &quot;failed&quot; ] || [ &quot;$(systemctl is-active tomcat9)&quot; == &quot;inactive&quot; ]; then\n        echo &quot;Restarting tomcat!&quot;\n        systemctl restart tomcat9.service\n        exit\n        else\n        exit\nfi\n</code></pre>\n<p>And inside the setenv.sh i wrote this option.</p>\n<p>-XX:OnOutOfMemoryError='/root/restart.sh'</p>\n<p>This is how the setenv.sh script looks like:</p>\n<pre><code>#!/bin/sh\nJAVA_OPTS=&quot;$JAVA_OPTS -Djava.awt.headless=true -Dfile.encoding=UTF-8 -Djava.security.egd=file:/dev/./urandom -server -Xms1536m -Xmx1536m -XX:NewSize=1536m -XX:MaxNewSize=1536m -XX:OnOutOfMemoryError='pkill java;/root/restart.sh' -XX:+DisableExplicitGC -DecadiaConsoleLogLevel=off&quot;\n</code></pre>\n<p>But I don't know, why the Option &quot;XX:OnOutOfMemoryError&quot; is not working...</p>\n<p>Can someone help me with this problem?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring","memory-leaks","spring-batch","out-of-memory"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666852634,"creation_date":1666852634,"answer_id":74217713,"question_id":74199869,"body_markdown":"I would not consider that as a memory leak (and definitely not is Spring Batch&#39;s code). The way you are checking things like `isExistLatestRunningJob ` involves retrieving a lot of data that is not really needed. For example, the method `isExistLatestRunningJob()` could be implemented with a single database query instead of retrieving `10000` job instances with:\r\n\r\n```\r\nList&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 10000);\r\n```\r\n\r\nA query like the following should work:\r\n\r\n```\r\nSELECT E.JOB_EXECUTION_ID from BATCH_JOB_EXECUTION E, BATCH_JOB_INSTANCE I where E.JOB_INSTANCE_ID = I.JOB_INSTANCE_ID and I.JOB_NAME=? and E.START_TIME is not NULL and E.END_TIME is NULL\r\n```\r\n\r\nAdding to that that your method is called every 500ms.. Clearing the lists does not necessarily clear memory at the time you might expect.\r\n\r\nSo I think you should find a way to optimize the way you retrieve data by doing the filtering on the database side instead of the application side.","title":"I got huge memory leak in spring batch","body":"<p>I would not consider that as a memory leak (and definitely not is Spring Batch's code). The way you are checking things like <code>isExistLatestRunningJob </code> involves retrieving a lot of data that is not really needed. For example, the method <code>isExistLatestRunningJob()</code> could be implemented with a single database query instead of retrieving <code>10000</code> job instances with:</p>\n<pre><code>List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 10000);\n</code></pre>\n<p>A query like the following should work:</p>\n<pre><code>SELECT E.JOB_EXECUTION_ID from BATCH_JOB_EXECUTION E, BATCH_JOB_INSTANCE I where E.JOB_INSTANCE_ID = I.JOB_INSTANCE_ID and I.JOB_NAME=? and E.START_TIME is not NULL and E.END_TIME is NULL\n</code></pre>\n<p>Adding to that that your method is called every 500ms.. Clearing the lists does not necessarily clear memory at the time you might expect.</p>\n<p>So I think you should find a way to optimize the way you retrieve data by doing the filtering on the database side instead of the application side.</p>\n"},{"tags":[],"owner":{"account_id":26732809,"reputation":1,"user_id":20334866,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667133801,"creation_date":1667133739,"answer_id":74253139,"question_id":74199869,"body_markdown":"I debugged your code.\r\nThe problem is your enum field var is defined as public and not static.\r\nI think It&#39;s will make serious problem, If you reference this var in another class.\r\nDefine enum field as static or private.\r\nI hope find solution.","title":"I got huge memory leak in spring batch","body":"<p>I debugged your code.\nThe problem is your enum field var is defined as public and not static.\nI think It's will make serious problem, If you reference this var in another class.\nDefine enum field as static or private.\nI hope find solution.</p>\n"}],"owner":{"account_id":26731551,"reputation":1,"user_id":20333813,"display_name":"Brian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684070855,"creation_date":1666729934,"question_id":74199869,"body_markdown":"I found a memory leak in my spring batch code. Just when I run the code below. Some people seem to say that jobexplorer causes a memory leak. Should I not use jobexplorer? thanks for the help.\r\n\r\nAt boot : \r\n[![enter image description here](https://i.stack.imgur.com/xIqUf.png)](https://i.stack.imgur.com/xIqUf.png)\r\n\r\nJust 5 min later : 5gb more memory consumption\r\n\r\n[![enter image description here](https://i.stack.imgur.com/b8dtO.png)](https://i.stack.imgur.com/b8dtO.png)\r\n\r\nAnd 1 hour later, It&#39;s kills some process by oom kill.\r\n\r\nI use\r\n```\r\njava 11\r\nspring boot 2.7.1\r\nspring-boot-starter-batch 2.4.0\r\n```\r\n\r\n\r\nThis is my code.\r\nspring-batch processConfiguration and some class.\r\n-BlockProcessConfiguration\r\n-jobValidator\r\n\r\n\r\n```\r\nBlockProcessConfiguration\r\n```\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Profile(&quot;block&quot;)\r\npublic class BlockProcessConfiguration {\r\n\r\n@Value(&quot;${isStanby:false}&quot;)\r\nprivate Boolean isStanby;\r\n\r\n    @Scheduled(fixedDelay = 500)\r\n    public String launch() throws JobInstanceAlreadyCompleteException, JobExecutionAlreadyRunningException, JobParametersInvalidException, JobRestartException {\r\n        if (isStanby != null &amp;&amp; isStanby) {\r\n            Boolean isRunningJob = jobValidator.isExistLatestRunningJob(JOB_NAME, 5000);\r\n            if (isRunningJob) {\r\n                return &quot;skip&quot;;\r\n            }\r\n        }\r\n\r\n        return &quot;completed&quot;;\r\n    }\r\n\r\n\r\n```\r\n\r\n\r\n```\r\njobValidator\r\n```\r\n\r\n```\r\n\r\nimport java.util.*;\r\n\r\n@RequiredArgsConstructor\r\n@Slf4j\r\n@Component\r\npublic class JobValidator {\r\n    public enum batchMode {\r\n        RECOVER, FORWARD\r\n    }\r\n    private final JobExplorer jobExplorer;\r\n\r\n    public Boolean isExistLatestRunningJob(String jobName, long jobTTL) {\r\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 10000);\r\n        if (jobInstances.size() &gt; 0) {\r\n            List&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(jobInstances.get(0));\r\n            jobInstances.clear();\r\n            if (jobExecutions.size() &gt; 0) {\r\n                JobExecution jobExecution = jobExecutions.get(0);\r\n                jobExecutions.clear();\r\n//                boolean isRunning = jobExecution.isRunning();\r\n                Date createTime = jobExecution.getCreateTime();\r\n                long now = new Date().getTime();\r\n                long timeFrame =  now - createTime.getTime();\r\n                log.info(&quot;createTime.getTime() : {}&quot;, createTime.getTime());\r\n                log.info(&quot;isExistLatestRunningJob found jobExecution :  id, status, timeFrame, jobTTL : {}, {}, {}, {}&quot;, jobExecution.getJobId(), jobExecution.getStatus(), timeFrame, jobTTL);\r\n//                if (jobExecution.isRunning() &amp;&amp; (now.getTime() - createTime.getTime()) &lt; jobTTL) {\r\n                if ( timeFrame &lt; jobTTL ) {\r\n                    log.info(&quot;isExistLatestRunningJob result : {}&quot;, true);\r\n                    log.info(&quot;Job is already running, skip this job, job name : {}&quot;, jobName);\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public Boolean isExecutableJob(String jobName, String paramKey, Long paramValue) {\r\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 1);\r\n        if (jobInstances.size() &gt; 0) {\r\n            List&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(jobInstances.get(0));\r\n            if (jobExecutions.size() &gt; 0) {\r\n                JobExecution jobExecution = jobExecutions.get(0);\r\n                JobParameters jobParameters = jobExecution.getJobParameters();\r\n                Optional&lt;Long&gt; blockNumber = Optional.ofNullable(jobParameters.getLong(paramKey));\r\n                if (blockNumber.isPresent() &amp;&amp; blockNumber.get().equals(paramValue)) {\r\n                    if (jobExecution.getStatus().equals(BatchStatus.STARTED)) {\r\n//                    throw new RuntimeException(&quot;waiting until previous job done&quot;);\r\n                        log.info(&quot;waiting until previous job done ... : {}&quot;, jobName);\r\n                        return false;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    public Long getStartNumberFromBatch(String jobName, String batchMode, String paramKey1, String paramKey2, long defaultValue) {\r\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 20);\r\n        ArrayList&lt;Long&gt; failExecutionNumbers = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Long&gt; successExecutionNumbers = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;Long&gt; successEndExecutionNumbers = new ArrayList&lt;&gt;();\r\n        ArrayList&lt;JobExecution&gt; executions = new ArrayList&lt;&gt;();\r\n        jobInstances.stream().map(jobInstance -&gt; jobExplorer.getJobExecutions(jobInstance)).forEach(jobExecution -&gt; {\r\n            JobParameters jobParameters = jobExecution.get(0).getJobParameters();\r\n            Optional&lt;Long&gt; param1 = Optional.ofNullable(jobParameters.getLong(paramKey1));\r\n            Optional&lt;Long&gt; param2 = Optional.ofNullable(jobParameters.getLong(paramKey2));\r\n            if (param1.isPresent() &amp;&amp; param2.isPresent()) {\r\n                if (jobExecution.get(0).getExitStatus().getExitCode().equals(&quot;FAILED&quot;)) {\r\n                    failExecutionNumbers.add(param1.get());\r\n                } else {\r\n                    successExecutionNumbers.add(param1.get());\r\n                    successEndExecutionNumbers.add(param2.get());\r\n                }\r\n            }\r\n        });\r\n\r\n        if (failExecutionNumbers.size() == 0 &amp;&amp; successExecutionNumbers.size() == 0) {\r\n            return defaultValue;\r\n        }\r\n\r\n        long successMax = defaultValue;\r\n        long failMin = defaultValue;\r\n        if (successEndExecutionNumbers.size() &gt; 0) {\r\n            successMax = Collections.max(successEndExecutionNumbers);\r\n        }\r\n        if (failExecutionNumbers.size() &gt; 0) {\r\n            failExecutionNumbers.removeIf(successExecutionNumbers::contains);\r\n            if (failExecutionNumbers.size() &gt; 0) {\r\n                failMin = Collections.min(failExecutionNumbers);\r\n            } else {\r\n                return successMax;\r\n            }\r\n        }\r\n        if (Objects.equals(batchMode, JobValidator.batchMode.RECOVER.toString())) {\r\n            return Math.min(failMin, successMax);\r\n        } else {\r\n            return Math.max(failMin, successMax);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"I got huge memory leak in spring batch","body":"<p>I found a memory leak in my spring batch code. Just when I run the code below. Some people seem to say that jobexplorer causes a memory leak. Should I not use jobexplorer? thanks for the help.</p>\n<p>At boot :\n<a href=\"https://i.stack.imgur.com/xIqUf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xIqUf.png\" alt=\"enter image description here\" /></a></p>\n<p>Just 5 min later : 5gb more memory consumption</p>\n<p><a href=\"https://i.stack.imgur.com/b8dtO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b8dtO.png\" alt=\"enter image description here\" /></a></p>\n<p>And 1 hour later, It's kills some process by oom kill.</p>\n<p>I use</p>\n<pre><code>java 11\nspring boot 2.7.1\nspring-boot-starter-batch 2.4.0\n</code></pre>\n<p>This is my code.\nspring-batch processConfiguration and some class.\n-BlockProcessConfiguration\n-jobValidator</p>\n<pre><code>BlockProcessConfiguration\n</code></pre>\n<pre><code>@Configuration\n@RequiredArgsConstructor\n@Slf4j\n@Profile(&quot;block&quot;)\npublic class BlockProcessConfiguration {\n\n@Value(&quot;${isStanby:false}&quot;)\nprivate Boolean isStanby;\n\n    @Scheduled(fixedDelay = 500)\n    public String launch() throws JobInstanceAlreadyCompleteException, JobExecutionAlreadyRunningException, JobParametersInvalidException, JobRestartException {\n        if (isStanby != null &amp;&amp; isStanby) {\n            Boolean isRunningJob = jobValidator.isExistLatestRunningJob(JOB_NAME, 5000);\n            if (isRunningJob) {\n                return &quot;skip&quot;;\n            }\n        }\n\n        return &quot;completed&quot;;\n    }\n\n\n</code></pre>\n<pre><code>jobValidator\n</code></pre>\n<pre><code>\nimport java.util.*;\n\n@RequiredArgsConstructor\n@Slf4j\n@Component\npublic class JobValidator {\n    public enum batchMode {\n        RECOVER, FORWARD\n    }\n    private final JobExplorer jobExplorer;\n\n    public Boolean isExistLatestRunningJob(String jobName, long jobTTL) {\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 10000);\n        if (jobInstances.size() &gt; 0) {\n            List&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(jobInstances.get(0));\n            jobInstances.clear();\n            if (jobExecutions.size() &gt; 0) {\n                JobExecution jobExecution = jobExecutions.get(0);\n                jobExecutions.clear();\n//                boolean isRunning = jobExecution.isRunning();\n                Date createTime = jobExecution.getCreateTime();\n                long now = new Date().getTime();\n                long timeFrame =  now - createTime.getTime();\n                log.info(&quot;createTime.getTime() : {}&quot;, createTime.getTime());\n                log.info(&quot;isExistLatestRunningJob found jobExecution :  id, status, timeFrame, jobTTL : {}, {}, {}, {}&quot;, jobExecution.getJobId(), jobExecution.getStatus(), timeFrame, jobTTL);\n//                if (jobExecution.isRunning() &amp;&amp; (now.getTime() - createTime.getTime()) &lt; jobTTL) {\n                if ( timeFrame &lt; jobTTL ) {\n                    log.info(&quot;isExistLatestRunningJob result : {}&quot;, true);\n                    log.info(&quot;Job is already running, skip this job, job name : {}&quot;, jobName);\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n\n    public Boolean isExecutableJob(String jobName, String paramKey, Long paramValue) {\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 1);\n        if (jobInstances.size() &gt; 0) {\n            List&lt;JobExecution&gt; jobExecutions = jobExplorer.getJobExecutions(jobInstances.get(0));\n            if (jobExecutions.size() &gt; 0) {\n                JobExecution jobExecution = jobExecutions.get(0);\n                JobParameters jobParameters = jobExecution.getJobParameters();\n                Optional&lt;Long&gt; blockNumber = Optional.ofNullable(jobParameters.getLong(paramKey));\n                if (blockNumber.isPresent() &amp;&amp; blockNumber.get().equals(paramValue)) {\n                    if (jobExecution.getStatus().equals(BatchStatus.STARTED)) {\n//                    throw new RuntimeException(&quot;waiting until previous job done&quot;);\n                        log.info(&quot;waiting until previous job done ... : {}&quot;, jobName);\n                        return false;\n                    }\n                }\n            }\n        }\n        return true;\n    }\n\n    public Long getStartNumberFromBatch(String jobName, String batchMode, String paramKey1, String paramKey2, long defaultValue) {\n        List&lt;JobInstance&gt; jobInstances = jobExplorer.findJobInstancesByJobName(jobName, 0, 20);\n        ArrayList&lt;Long&gt; failExecutionNumbers = new ArrayList&lt;&gt;();\n        ArrayList&lt;Long&gt; successExecutionNumbers = new ArrayList&lt;&gt;();\n        ArrayList&lt;Long&gt; successEndExecutionNumbers = new ArrayList&lt;&gt;();\n        ArrayList&lt;JobExecution&gt; executions = new ArrayList&lt;&gt;();\n        jobInstances.stream().map(jobInstance -&gt; jobExplorer.getJobExecutions(jobInstance)).forEach(jobExecution -&gt; {\n            JobParameters jobParameters = jobExecution.get(0).getJobParameters();\n            Optional&lt;Long&gt; param1 = Optional.ofNullable(jobParameters.getLong(paramKey1));\n            Optional&lt;Long&gt; param2 = Optional.ofNullable(jobParameters.getLong(paramKey2));\n            if (param1.isPresent() &amp;&amp; param2.isPresent()) {\n                if (jobExecution.get(0).getExitStatus().getExitCode().equals(&quot;FAILED&quot;)) {\n                    failExecutionNumbers.add(param1.get());\n                } else {\n                    successExecutionNumbers.add(param1.get());\n                    successEndExecutionNumbers.add(param2.get());\n                }\n            }\n        });\n\n        if (failExecutionNumbers.size() == 0 &amp;&amp; successExecutionNumbers.size() == 0) {\n            return defaultValue;\n        }\n\n        long successMax = defaultValue;\n        long failMin = defaultValue;\n        if (successEndExecutionNumbers.size() &gt; 0) {\n            successMax = Collections.max(successEndExecutionNumbers);\n        }\n        if (failExecutionNumbers.size() &gt; 0) {\n            failExecutionNumbers.removeIf(successExecutionNumbers::contains);\n            if (failExecutionNumbers.size() &gt; 0) {\n                failMin = Collections.min(failExecutionNumbers);\n            } else {\n                return successMax;\n            }\n        }\n        if (Objects.equals(batchMode, JobValidator.batchMode.RECOVER.toString())) {\n            return Math.min(failMin, successMax);\n        } else {\n            return Math.max(failMin, successMax);\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","out-of-memory","shutdown-hook"],"comments":[{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1670582672,"post_id":74741871,"comment_id":131912537,"body_markdown":"Unlike events inside the JVM where the JVM ends and tries to go through it&#39;s orderly shutdown procedure, the OS killing your process simply stops the CPU at the instruction it was executing and removes the process from memory.  There&#39;s nothing a process can do about it, it just disappears. The OS can also send a &quot;terminate&quot; signal to the process and the process would need to start shutdown, in that case the JVM could still run it&#39;s shutdown hooks","body":"Unlike events inside the JVM where the JVM ends and tries to go through it&#39;s orderly shutdown procedure, the OS killing your process simply stops the CPU at the instruction it was executing and removes the process from memory.  There&#39;s nothing a process can do about it, it just disappears. The OS can also send a &quot;terminate&quot; signal to the process and the process would need to start shutdown, in that case the JVM could still run it&#39;s shutdown hooks"},{"owner":{"account_id":422132,"reputation":817,"user_id":800735,"accept_rate":92,"display_name":"cozos"},"score":0,"creation_date":1670583468,"post_id":74741871,"comment_id":131912775,"body_markdown":"I think you&#39;re talking about a SIGKILL from something like the Linux OOM Killer - which the Java doc conclusively says will cause the JVM to abort (and therefore not guarantee shutdown hook execution). I&#39;m curious about OOM errors internal to the Java process i.e. when the JVM cannot allocate any more memory on the heap - will it execute the shutdown hooks then? I suppose if the shutdown hooks need to also allocate objects on the heap it will also fail - but looking to hear more!","body":"I think you&#39;re talking about a SIGKILL from something like the Linux OOM Killer - which the Java doc conclusively says will cause the JVM to abort (and therefore not guarantee shutdown hook execution). I&#39;m curious about OOM errors internal to the Java process i.e. when the JVM cannot allocate any more memory on the heap - will it execute the shutdown hooks then? I suppose if the shutdown hooks need to also allocate objects on the heap it will also fail - but looking to hear more!"},{"owner":{"account_id":974021,"reputation":63348,"user_id":995891,"accept_rate":83,"display_name":"zapl"},"score":1,"creation_date":1670584585,"post_id":74741871,"comment_id":131913102,"body_markdown":"An OutOfMemoryError is just like other Errors and Exceptions something that happens on a regular basis, it&#39;s not going to automatically end your application, by not catching it, you chose the route of ending the application the regular way including shutdown hooks. OOM means that the memory managed by the JVM had no space for the one thing you wanted to put there. In case you have 700MB free heap, then try to put a 1GB array in there, you&#39;ll get an error and are still left with 700MB free heap afterwards which is plenty to continue with normal tasks.","body":"An OutOfMemoryError is just like other Errors and Exceptions something that happens on a regular basis, it&#39;s not going to automatically end your application, by not catching it, you chose the route of ending the application the regular way including shutdown hooks. OOM means that the memory managed by the JVM had no space for the one thing you wanted to put there. In case you have 700MB free heap, then try to put a 1GB array in there, you&#39;ll get an error and are still left with 700MB free heap afterwards which is plenty to continue with normal tasks."}],"answers":[{"tags":[],"owner":{"account_id":540951,"reputation":14600,"user_id":909317,"accept_rate":84,"display_name":"Sunny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1670582165,"creation_date":1670582165,"answer_id":74741906,"question_id":74741871,"body_markdown":"When the Java heap runs out of memory, the JVM will throw an OutOfMemoryError and may abort. Whether the JVM aborts or not depends on how the OutOfMemoryError is handled by the application. If the error is not caught and handled by the application, the JVM may choose to abort.\r\n\r\nIt is important to note that OutOfMemoryError is a runtime exception, so it is not required for the application to explicitly catch and handle it. However, if the application does catch and handle the error, it may be able to recover from the situation and continue running.\r\n\r\nWhether or not the OutOfMemoryError causes native methods to go awry or corrupt internal data structures depends on how the error is handled by the application and by the JVM itself. In general, it is best to avoid letting the heap run out of memory, as this can cause unpredictable behavior.\r\n\r\nIf the JVM does not abort, it is possible for the shutdown hooks to be executed. Shutdown hooks are a mechanism for running specific cleanup code when the JVM is shutting down. However, if the JVM does abort, the shutdown hooks may not be executed.","title":"Do Java shutdown hooks get called on Heap OOM?","body":"<p>When the Java heap runs out of memory, the JVM will throw an OutOfMemoryError and may abort. Whether the JVM aborts or not depends on how the OutOfMemoryError is handled by the application. If the error is not caught and handled by the application, the JVM may choose to abort.</p>\n<p>It is important to note that OutOfMemoryError is a runtime exception, so it is not required for the application to explicitly catch and handle it. However, if the application does catch and handle the error, it may be able to recover from the situation and continue running.</p>\n<p>Whether or not the OutOfMemoryError causes native methods to go awry or corrupt internal data structures depends on how the error is handled by the application and by the JVM itself. In general, it is best to avoid letting the heap run out of memory, as this can cause unpredictable behavior.</p>\n<p>If the JVM does not abort, it is possible for the shutdown hooks to be executed. Shutdown hooks are a mechanism for running specific cleanup code when the JVM is shutting down. However, if the JVM does abort, the shutdown hooks may not be executed.</p>\n"}],"owner":{"account_id":422132,"reputation":817,"user_id":800735,"accept_rate":92,"display_name":"cozos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":74741906,"answer_count":1,"score":2,"last_activity_date":1684070832,"creation_date":1670581965,"question_id":74741871,"body_markdown":"[addShutdownHook][1] says:\r\n\r\n&gt; In rare circumstances the virtual machine may abort, that is, stop running without shutting down cleanly. This occurs when the virtual machine is terminated externally, for example with the SIGKILL signal on Unix or the TerminateProcess call on Microsoft Windows. The virtual machine may also abort if a native method goes awry by, for example, corrupting internal data structures or attempting to access nonexistent memory. If the virtual machine aborts then no guarantee can be made about whether or not any shutdown hooks will be run.\r\n\r\nWhen the Java heap runs out of memory and throws an **OutOfMemoryError**, does that cause the JVM to abort? Do heap OOMs cause native methods to go awry or corrupt internal data structures? Or are heap OOM errors recoverable enough for the shutdown hooks to be executed?\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)","title":"Do Java shutdown hooks get called on Heap OOM?","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Runtime.html#addShutdownHook(java.lang.Thread)\" rel=\"nofollow noreferrer\">addShutdownHook</a> says:</p>\n<blockquote>\n<p>In rare circumstances the virtual machine may abort, that is, stop running without shutting down cleanly. This occurs when the virtual machine is terminated externally, for example with the SIGKILL signal on Unix or the TerminateProcess call on Microsoft Windows. The virtual machine may also abort if a native method goes awry by, for example, corrupting internal data structures or attempting to access nonexistent memory. If the virtual machine aborts then no guarantee can be made about whether or not any shutdown hooks will be run.</p>\n</blockquote>\n<p>When the Java heap runs out of memory and throws an <strong>OutOfMemoryError</strong>, does that cause the JVM to abort? Do heap OOMs cause native methods to go awry or corrupt internal data structures? Or are heap OOM errors recoverable enough for the shutdown hooks to be executed?</p>\n"},{"tags":["java","amazon-s3","io","zip","out-of-memory"],"answers":[{"tags":[],"owner":{"account_id":10891928,"reputation":1805,"user_id":8007403,"accept_rate":50,"display_name":"Pawel Kam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675983078,"creation_date":1675981667,"answer_id":75405102,"question_id":75404691,"body_markdown":"You can use AWS Lambda to zip your files for you before uploading them to an S3 bucket. You can even configure [Lambda to be triggered and zip your files on upload](https://docs.aws.amazon.com/lambda/latest/dg/with-s3-example.html). Here is a [Java example](https://github.com/xtutran/zipbig-aws-lambda) of a Lambda function for zipping large files. This library is limited to 10 GB, but this can be overcome by using EFS.\r\n\r\nLambdaâ€™s [ephemeral storage is limited to 10 GB](https://aws.amazon.com/blogs/compute/using-larger-ephemeral-storage-for-aws-lambda/), but you can attach [EFS storage]( https://aws.amazon.com/blogs/compute/using-amazon-efs-for-aws-lambda-in-your-serverless-applications/) to handle larger files. The cost should be close to none if you delete the files after use.\r\n\r\nAlso, remember to use Multipart Upload when uploading file larger than 100 MB to S3. If you are using the SDK, it should handle this for you.","title":"Zipping large files(&gt;15GB) and uploading to S3 without OOM","body":"<p>You can use AWS Lambda to zip your files for you before uploading them to an S3 bucket. You can even configure <a href=\"https://docs.aws.amazon.com/lambda/latest/dg/with-s3-example.html\" rel=\"nofollow noreferrer\">Lambda to be triggered and zip your files on upload</a>. Here is a <a href=\"https://github.com/xtutran/zipbig-aws-lambda\" rel=\"nofollow noreferrer\">Java example</a> of a Lambda function for zipping large files. This library is limited to 10 GB, but this can be overcome by using EFS.</p>\n<p>Lambdaâ€™s <a href=\"https://aws.amazon.com/blogs/compute/using-larger-ephemeral-storage-for-aws-lambda/\" rel=\"nofollow noreferrer\">ephemeral storage is limited to 10 GB</a>, but you can attach <a href=\"https://aws.amazon.com/blogs/compute/using-amazon-efs-for-aws-lambda-in-your-serverless-applications/\" rel=\"nofollow noreferrer\">EFS storage</a> to handle larger files. The cost should be close to none if you delete the files after use.</p>\n<p>Also, remember to use Multipart Upload when uploading file larger than 100 MB to S3. If you are using the SDK, it should handle this for you.</p>\n"},{"tags":[],"owner":{"account_id":26496040,"reputation":61,"user_id":20133776,"display_name":"Reanimated Man X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675981950,"creation_date":1675981950,"answer_id":75405131,"question_id":75404691,"body_markdown":"&#128075;\r\n\r\nThe main reason why you are getting an OOM is just because of how the deflate algorithm of zlib works.\r\n\r\nImagine this setup:\r\n[![enter image description here][1]][1]\r\n\r\n 1. It starts to read the whole file by opening a readable stream.\r\n 2. It creates a temporary 0 byte output file from the start.\r\n 3. It then reads the data in chunks, called `dictionary size`, it then sends it to the CPU for further processing and compression, which are propagated back to the RAM.\r\n 4. When it finished with a certain fixed sized dictionary, it moves to the next one, and so on until it reaches END OF FILE terminator.\r\n 5. After that, it grabs all that deflated bytes (compressed) from RAM and writes that to the actual file.\r\n\r\nYou can observe &amp; deduce that behavior by initiating a deflate operation, an example below.  \r\n*(The file is created, 372mb is processed, but none is written to the file until the last processed byte.)*\r\n\r\n[![enter image description here][2]][2]\r\n\r\nYou could technically grab all of the parts, archive them AGAIN in a tar.gz and then upload to AWS, as one file, but you may get into the same problem with memory, but now on the uploading part.\r\n\r\nHere are the file size limitations:  \r\nhttps://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html\r\n\r\nIf you use the CLI you can technically do that, if you need or have to use the REST API that&#39;s not an option for you as the limitation there is only 5GB per request.\r\n\r\nAlso, you have not specified the max size, so if it&#39;s even larger than 160GB that&#39;s not an option EVEN using the AWS CLI (which takes care of releasing the memory after each uploaded chunk). So your best bet would be multipart upload.\r\n\r\nhttps://docs.aws.amazon.com/cli/latest/reference/s3api/create-multipart-upload.html\r\n\r\n  [1]: https://i.stack.imgur.com/Fz75q.png\r\n  [2]: https://i.stack.imgur.com/aaaXs.png\r\n\r\nAll the best!","title":"Zipping large files(&gt;15GB) and uploading to S3 without OOM","body":"<p>ðŸ‘‹</p>\n<p>The main reason why you are getting an OOM is just because of how the deflate algorithm of zlib works.</p>\n<p>Imagine this setup:\n<a href=\"https://i.stack.imgur.com/Fz75q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fz75q.png\" alt=\"enter image description here\" /></a></p>\n<ol>\n<li>It starts to read the whole file by opening a readable stream.</li>\n<li>It creates a temporary 0 byte output file from the start.</li>\n<li>It then reads the data in chunks, called <code>dictionary size</code>, it then sends it to the CPU for further processing and compression, which are propagated back to the RAM.</li>\n<li>When it finished with a certain fixed sized dictionary, it moves to the next one, and so on until it reaches END OF FILE terminator.</li>\n<li>After that, it grabs all that deflated bytes (compressed) from RAM and writes that to the actual file.</li>\n</ol>\n<p>You can observe &amp; deduce that behavior by initiating a deflate operation, an example below.<br />\n<em>(The file is created, 372mb is processed, but none is written to the file until the last processed byte.)</em></p>\n<p><a href=\"https://i.stack.imgur.com/aaaXs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aaaXs.png\" alt=\"enter image description here\" /></a></p>\n<p>You could technically grab all of the parts, archive them AGAIN in a tar.gz and then upload to AWS, as one file, but you may get into the same problem with memory, but now on the uploading part.</p>\n<p>Here are the file size limitations:<br />\n<a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AmazonS3/latest/userguide/upload-objects.html</a></p>\n<p>If you use the CLI you can technically do that, if you need or have to use the REST API that's not an option for you as the limitation there is only 5GB per request.</p>\n<p>Also, you have not specified the max size, so if it's even larger than 160GB that's not an option EVEN using the AWS CLI (which takes care of releasing the memory after each uploaded chunk). So your best bet would be multipart upload.</p>\n<p><a href=\"https://docs.aws.amazon.com/cli/latest/reference/s3api/create-multipart-upload.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/cli/latest/reference/s3api/create-multipart-upload.html</a></p>\n<p>All the best!</p>\n"},{"tags":[],"owner":{"account_id":27107553,"reputation":9,"user_id":20653181,"display_name":"jswordfish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676272617,"creation_date":1676272617,"answer_id":75432868,"question_id":75404691,"body_markdown":"Zipping the file in 1 go is not exactly a correct way to go about. Think the better way is to break down the problem in a way you don&#39;t load the whole data in 1 go, but read it byte by byte and sent it to your destination byte by byte. This way, not only you will get speed (~x10) but also address those OOM&#39;s\r\n\r\nYour destination could be a web end point on an EC2 instance or an API gateway fronted web service depending upon your architectural choice.\r\n\r\nSo essentially the part 1 of solution is to STREAM - zip it byte by byte and sent it to an http end point. Part 2 might be to use Multi part upload interfaces from AWS SDK (in your destination) and push it in parallel to S3 \r\n\r\n Path in = Paths.get(&quot;abc.huge&quot;);\r\n\tPath out = Paths.get(&quot;abc.huge.gz&quot;);\r\n\r\n\ttry (InputStream in = Files.newInputStream(in);\r\n        OutputStream fout = Files.newOutputStream(out);) {\r\n    \tGZipCompressorOutputStream out2 = new GZipCompressorOutputStream(\r\n       \t new BufferedOutputStream(fout));\r\n\r\n    \t// Read and write byte by byte\r\n   \t \tfinal byte[] buffer = new byte[buffersize];\r\n   \t\t int n = 0;\r\n    \twhile (-1 != (n = in.read(buffer))) {\r\n       \t out2.write(buffer, 0, n);\r\n    \t}\r\n\t}","title":"Zipping large files(&gt;15GB) and uploading to S3 without OOM","body":"<p>Zipping the file in 1 go is not exactly a correct way to go about. Think the better way is to break down the problem in a way you don't load the whole data in 1 go, but read it byte by byte and sent it to your destination byte by byte. This way, not only you will get speed (~x10) but also address those OOM's</p>\n<p>Your destination could be a web end point on an EC2 instance or an API gateway fronted web service depending upon your architectural choice.</p>\n<p>So essentially the part 1 of solution is to STREAM - zip it byte by byte and sent it to an http end point. Part 2 might be to use Multi part upload interfaces from AWS SDK (in your destination) and push it in parallel to S3</p>\n<p>Path in = Paths.get(&quot;abc.huge&quot;);\nPath out = Paths.get(&quot;abc.huge.gz&quot;);</p>\n<pre><code>try (InputStream in = Files.newInputStream(in);\n    OutputStream fout = Files.newOutputStream(out);) {\n    GZipCompressorOutputStream out2 = new GZipCompressorOutputStream(\n     new BufferedOutputStream(fout));\n\n    // Read and write byte by byte\n    final byte[] buffer = new byte[buffersize];\n     int n = 0;\n    while (-1 != (n = in.read(buffer))) {\n     out2.write(buffer, 0, n);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27748282,"reputation":11,"user_id":21183252,"display_name":"Michael Zhen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1684070771,"creation_date":1675978801,"question_id":75404691,"body_markdown":"I have one memory issue while zipping large files/folders(result zip &gt;15GB) and uploading it to S3 storage. I can create zip file in disc and append files/folders, upload that file with parts to S3. But by my experience it is not good way to resolve this issue. Do you know any good patterns zipping large files/folders and uploading it to S3 without memory issues(such OOM)? It will be good if i can append these files/folders to S3 directly to some uploaded zip.\r\n\r\nZip files/folders to disc and uploading that zip file by parts to S3.","title":"Zipping large files(&gt;15GB) and uploading to S3 without OOM","body":"<p>I have one memory issue while zipping large files/folders(result zip &gt;15GB) and uploading it to S3 storage. I can create zip file in disc and append files/folders, upload that file with parts to S3. But by my experience it is not good way to resolve this issue. Do you know any good patterns zipping large files/folders and uploading it to S3 without memory issues(such OOM)? It will be good if i can append these files/folders to S3 directly to some uploaded zip.</p>\n<p>Zip files/folders to disc and uploading that zip file by parts to S3.</p>\n"},{"tags":["java","jaxb"],"comments":[{"owner":{"account_id":17853223,"reputation":83,"user_id":12968504,"display_name":"LMH"},"score":0,"creation_date":1684090776,"post_id":76247676,"comment_id":134462422,"body_markdown":"for point 3, you need to set nillable = true inside your @XmlElement annotation. \nfor point 4, [https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java] refer this page","body":"for point 3, you need to set nillable = true inside your @XmlElement annotation.  for point 4, [<a href=\"https://stackoverflow.com/questions/139076/how-to-pretty-print-xml-from-java]\" title=\"how to pretty print xml from java%5d\">stackoverflow.com/questions/139076/&hellip;</a> refer this page"}],"owner":{"account_id":2185983,"reputation":2728,"user_id":1934402,"accept_rate":92,"display_name":"yaserso"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684070258,"creation_date":1684070258,"question_id":76247676,"body_markdown":"I have a Java XML String where the values of some properties are wrapped in &lt;![CDATA ... ]]&gt;. I created a class called Root that I have used to unmarshal the string into an object successfully. I now want to convert it back into the same string (after I changed some values). `JAXB.unmarshal(new StringReader(XML), Root.class);`\r\n\r\nThe issue I have is the following:\r\n1. The CDATA wrapping is removed from all of the values (the original string had it and I want to keep it when I marshal it back to string from object).\r\n2. The header includes standalone attribute, which was not included in the original string (I want it removed and replaced with only version and encoding, as was in the original string).\r\n3. I have self closing tags in the original XML string, but they are removed when I am marshalling back into a string.\r\n4. Formatting is removed and I get a single line when I marshal. I want it to be formatted.\r\n\r\nI am using JAXB 4.0 and Java 17.","title":"How to use JAXB to marshal exactly to the format the XML was when unmarshalled?","body":"<p>I have a Java XML String where the values of some properties are wrapped in &lt;![CDATA ... ]]&gt;. I created a class called Root that I have used to unmarshal the string into an object successfully. I now want to convert it back into the same string (after I changed some values). <code>JAXB.unmarshal(new StringReader(XML), Root.class);</code></p>\n<p>The issue I have is the following:</p>\n<ol>\n<li>The CDATA wrapping is removed from all of the values (the original string had it and I want to keep it when I marshal it back to string from object).</li>\n<li>The header includes standalone attribute, which was not included in the original string (I want it removed and replaced with only version and encoding, as was in the original string).</li>\n<li>I have self closing tags in the original XML string, but they are removed when I am marshalling back into a string.</li>\n<li>Formatting is removed and I get a single line when I marshal. I want it to be formatted.</li>\n</ol>\n<p>I am using JAXB 4.0 and Java 17.</p>\n"},{"tags":["java","rate-limiting","discord-jda"],"comments":[{"owner":{"account_id":14719989,"reputation":5867,"user_id":10630900,"display_name":"Minn"},"score":0,"creation_date":1684156264,"post_id":76247647,"comment_id":134471265,"body_markdown":"If you would use the latest version of JDA you could see the exact retry-after and scope in the logs.","body":"If you would use the latest version of JDA you could see the exact retry-after and scope in the logs."}],"owner":{"account_id":28599046,"reputation":1,"user_id":21896436,"display_name":"D3666"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684070040,"creation_date":1684069924,"question_id":76247647,"body_markdown":"Discord has different rate limits for the different types of requests.\r\n50 / 1s as the global limit or 2 / 10m for channel name changes and so on.\r\nHowever, except the global limit, these limits aren&#39;t documented. The documentation states that we need to take a look at the response headers for more details because the rate limits are subject to change and shouldn&#39;t be hard coded anyway.\r\nNow I can&#39;t find how to access the returned headers via JDA to get the rate limits. Has anyone an idea how I would do this?\r\nAlso I don&#39;t know much about the HTTP stuff but I&#39;ll figure it out.\r\n\r\nWhat I need this for:\r\nI just made a practical tool for a game. It is similar to a checklist and depending on user inputs it calculates stuff the user can use ingame. It&#39;s a DM with buttons where the DM is edited everytime you click a button. This tool can be shared with up to 3 more team mates. Where all DMs are edited in the same way so everyone sees the results and the buttons that have been clicked.\r\n\r\nThe problem is: As soon as someone with 2 or 3 team mates clicks a lot of buttons we get 429 warnings.\r\n\r\n```\r\n&gt; [JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route Route[PATCH](route=channels/{channel_id}/messages/{message_id})\r\n```\r\nWith bucket, channel id and retry time.\r\n\r\nI changed it to only update the messages once every 3 seconds and only if anyone has clicked a button. So it won&#39;t edit these messages more often just because someone spams buttons. Now we have a maximum of 1 edit each in 4 private channels every 3 seconds per team. (However with a lot of teams using it at the same time we would need to edit 1 message each in maybe 20 or more channels at roughly the same time)\r\n\r\nWe still get 429 warnings with even only 1 team of 3 users.\r\nIt looks like there is a pretty low rate limit for editing private messages that is shared for ALL private channels.\r\n\r\nI can&#39;t really move this tool to e.g. threads in guilds because it&#39;s used across 70 servers now and it would easily spam create channels/threads and also would need permissions to manage channels or threads.\r\n\r\nIf I just knew more about the rate limit I could solve the problem...","title":"Discord (JDA) get the HTTP response headers for rate limits","body":"<p>Discord has different rate limits for the different types of requests.\n50 / 1s as the global limit or 2 / 10m for channel name changes and so on.\nHowever, except the global limit, these limits aren't documented. The documentation states that we need to take a look at the response headers for more details because the rate limits are subject to change and shouldn't be hard coded anyway.\nNow I can't find how to access the returned headers via JDA to get the rate limits. Has anyone an idea how I would do this?\nAlso I don't know much about the HTTP stuff but I'll figure it out.</p>\n<p>What I need this for:\nI just made a practical tool for a game. It is similar to a checklist and depending on user inputs it calculates stuff the user can use ingame. It's a DM with buttons where the DM is edited everytime you click a button. This tool can be shared with up to 3 more team mates. Where all DMs are edited in the same way so everyone sees the results and the buttons that have been clicked.</p>\n<p>The problem is: As soon as someone with 2 or 3 team mates clicks a lot of buttons we get 429 warnings.</p>\n<pre><code>&gt; [JDA RateLimit-Worker 2] WARN RateLimiter - Encountered 429 on route Route[PATCH](route=channels/{channel_id}/messages/{message_id})\n</code></pre>\n<p>With bucket, channel id and retry time.</p>\n<p>I changed it to only update the messages once every 3 seconds and only if anyone has clicked a button. So it won't edit these messages more often just because someone spams buttons. Now we have a maximum of 1 edit each in 4 private channels every 3 seconds per team. (However with a lot of teams using it at the same time we would need to edit 1 message each in maybe 20 or more channels at roughly the same time)</p>\n<p>We still get 429 warnings with even only 1 team of 3 users.\nIt looks like there is a pretty low rate limit for editing private messages that is shared for ALL private channels.</p>\n<p>I can't really move this tool to e.g. threads in guilds because it's used across 70 servers now and it would easily spam create channels/threads and also would need permissions to manage channels or threads.</p>\n<p>If I just knew more about the rate limit I could solve the problem...</p>\n"},{"tags":["java","spring-boot","spring-security","spring-data-jpa"],"comments":[{"owner":{"account_id":28598160,"reputation":3,"user_id":21895740,"display_name":"LukaszJarema"},"score":0,"creation_date":1685086452,"post_id":76246558,"comment_id":134614923,"body_markdown":"Hello.\nI am still can not find the problem in my code.\n\nCan someone tell me what is needs to do to resolve it?","body":"Hello. I am still can not find the problem in my code.  Can someone tell me what is needs to do to resolve it?"}],"owner":{"account_id":28598160,"reputation":3,"user_id":21895740,"display_name":"LukaszJarema"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684063392,"answer_count":0,"score":0,"last_activity_date":1684069425,"creation_date":1684053196,"question_id":76246558,"body_markdown":"I have a problem with SecurityFilerChains. In my application I have two entities with users: one for Employees and the second for Visitors. For this reason, I have login pages for each of the entities. Also, I created two SecurityFilterChains, but every time I try to log in, the application opens only the webpage dedicated for employees. Also, when I put correct credentials for an employee, I receive information that the credentials are incorrect.\r\n\r\nHere is my code for the SecurityConfig class:\r\n\r\n```java\r\npackage com.jarema.lukasz.Meeting.Application.security;\r\n\r\nimport com.jarema.lukasz.Meeting.Application.services.impls.CustomEmployeeDetailsService;\r\nimport com.jarema.lukasz.Meeting.Application.services.impls.CustomVisitorDetailsService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.core.annotation.Order;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\nimport org.springframework.security.web.authentication.AuthenticationFailureHandler;\r\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class EmployeeSecurityConfig {\r\n\r\n    private CustomEmployeeDetailsService customEmployeeDetailsService;\r\n    private CustomVisitorDetailsService customVisitorDetailsService;\r\n\r\n    @Autowired\r\n    public EmployeeSecurityConfig(CustomEmployeeDetailsService customEmployeeDetailsService,\r\n                                  CustomVisitorDetailsService customVisitorDetailsService) {\r\n        this.customEmployeeDetailsService = customEmployeeDetailsService;\r\n        this.customVisitorDetailsService = customVisitorDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    @Order(1)\r\n    public SecurityFilterChain employeeSecurityFiletChain(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers(&quot;/employeeLogin&quot;).permitAll()\r\n                .requestMatchers(&quot;/admins/**&quot;).hasAuthority(&quot;ADMINISTRATOR&quot;)\r\n                .requestMatchers(&quot;/employees/**&quot;).hasAuthority(&quot;EMPLOYEE&quot;)\r\n                .requestMatchers(&quot;/receptionists/**&quot;).hasAuthority(&quot;RECEPTIONIST&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/employeeLogin&quot;)\r\n                .usernameParameter(&quot;emailAddress&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .failureUrl(&quot;/employeeLogin?error&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;)\r\n                .and()\r\n                .formLogin()\r\n                .successHandler(employeeSuccessHandler())\r\n                .failureHandler(employeeFailureHandler());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    @Order(2)\r\n    public SecurityFilterChain visitorSecurityFilterChain(HttpSecurity http) throws Exception {\r\n        http.httpBasic()\r\n                .and()\r\n                .authorizeHttpRequests()\r\n                .requestMatchers( &quot;/visitorLogin&quot;, &quot;/register&quot;).permitAll()\r\n                .requestMatchers(&quot;/visitors/**&quot;).hasAuthority(&quot;VISITOR&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .formLogin()\r\n                .loginPage(&quot;/visitorLogin&quot;)\r\n                .usernameParameter(&quot;emailAddress&quot;)\r\n                .defaultSuccessUrl(&quot;/&quot;)\r\n                .failureUrl(&quot;/visitorLogin?error&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/logout&quot;)\r\n                .logoutSuccessUrl(&quot;/&quot;)\r\n                .permitAll()\r\n                .and()\r\n                .exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;)\r\n                .and()\r\n                .formLogin()\r\n                .successHandler(visitorSuccessHandler())\r\n                .failureHandler(visitorFailureHandler());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    public void configure(AuthenticationManagerBuilder builder) throws Exception {\r\n        builder.userDetailsService(customEmployeeDetailsService).passwordEncoder(passwordEncoder());\r\n        builder.userDetailsService(customVisitorDetailsService).passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    private AuthenticationSuccessHandler employeeSuccessHandler() {\r\n        return ((request, response, authentication) -&gt; {\r\n            for (GrantedAuthority auth : authentication.getAuthorities()) {\r\n                if (auth.getAuthority().equals(&quot;ADMINISTRATOR&quot;)) {\r\n                    response.sendRedirect(&quot;/admins/welcome&quot;);\r\n                    return;\r\n                } else if (auth.getAuthority().equals(&quot;EMPLOYEE&quot;)) {\r\n                    response.sendRedirect(&quot;/employees/welcome&quot;);\r\n                    return;\r\n                } else if (auth.getAuthority().equals(&quot;RECEPTIONIST&quot;)) {\r\n                    response.sendRedirect(&quot;/receptionists/welcome&quot;);\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private AuthenticationSuccessHandler visitorSuccessHandler() {\r\n        return ((request, response, authentication) -&gt; {\r\n            for (GrantedAuthority auth : authentication.getAuthorities()) {\r\n                if (auth.getAuthority().equals(&quot;VISITOR&quot;)) {\r\n                    response.sendRedirect(&quot;/visitors/welcome&quot;);\r\n                    return;\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    private AuthenticationFailureHandler employeeFailureHandler() {\r\n        return ((request, response, exception) -&gt; {\r\n            String errorMessage = &quot;BÅ‚Ä™dny login lub hasÅ‚o&quot;;\r\n            request.getSession().setAttribute(&quot;errorMessage&quot;, errorMessage);\r\n            response.sendRedirect(&quot;/employeeLogin?error&quot;);\r\n        });\r\n    }\r\n\r\n    private AuthenticationFailureHandler visitorFailureHandler() {\r\n        return ((request, response, exception) -&gt; {\r\n            String errorMessage = &quot;BÅ‚Ä™dny login lub hasÅ‚o&quot;;\r\n            request.getSession().setAttribute(&quot;errorMessage&quot;, errorMessage);\r\n            response.sendRedirect(&quot;/visitorLogin?error&quot;);\r\n        });\r\n    }\r\n}\r\n```\r\n\r\nHere is also the link to my GitHub repository: https://github.com/LukaszJarema/Meeting-Application","title":"Spring application with two different SecurityFilterChains","body":"<p>I have a problem with SecurityFilerChains. In my application I have two entities with users: one for Employees and the second for Visitors. For this reason, I have login pages for each of the entities. Also, I created two SecurityFilterChains, but every time I try to log in, the application opens only the webpage dedicated for employees. Also, when I put correct credentials for an employee, I receive information that the credentials are incorrect.</p>\n<p>Here is my code for the SecurityConfig class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.jarema.lukasz.Meeting.Application.security;\n\nimport com.jarema.lukasz.Meeting.Application.services.impls.CustomEmployeeDetailsService;\nimport com.jarema.lukasz.Meeting.Application.services.impls.CustomVisitorDetailsService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.annotation.Order;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.AuthenticationFailureHandler;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\n\n@Configuration\n@EnableWebSecurity\npublic class EmployeeSecurityConfig {\n\n    private CustomEmployeeDetailsService customEmployeeDetailsService;\n    private CustomVisitorDetailsService customVisitorDetailsService;\n\n    @Autowired\n    public EmployeeSecurityConfig(CustomEmployeeDetailsService customEmployeeDetailsService,\n                                  CustomVisitorDetailsService customVisitorDetailsService) {\n        this.customEmployeeDetailsService = customEmployeeDetailsService;\n        this.customVisitorDetailsService = customVisitorDetailsService;\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    @Order(1)\n    public SecurityFilterChain employeeSecurityFiletChain(HttpSecurity http) throws Exception {\n        http.httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/employeeLogin&quot;).permitAll()\n                .requestMatchers(&quot;/admins/**&quot;).hasAuthority(&quot;ADMINISTRATOR&quot;)\n                .requestMatchers(&quot;/employees/**&quot;).hasAuthority(&quot;EMPLOYEE&quot;)\n                .requestMatchers(&quot;/receptionists/**&quot;).hasAuthority(&quot;RECEPTIONIST&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/employeeLogin&quot;)\n                .usernameParameter(&quot;emailAddress&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .failureUrl(&quot;/employeeLogin?error&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/&quot;)\n                .permitAll()\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;)\n                .and()\n                .formLogin()\n                .successHandler(employeeSuccessHandler())\n                .failureHandler(employeeFailureHandler());\n\n        return http.build();\n    }\n\n    @Bean\n    @Order(2)\n    public SecurityFilterChain visitorSecurityFilterChain(HttpSecurity http) throws Exception {\n        http.httpBasic()\n                .and()\n                .authorizeHttpRequests()\n                .requestMatchers( &quot;/visitorLogin&quot;, &quot;/register&quot;).permitAll()\n                .requestMatchers(&quot;/visitors/**&quot;).hasAuthority(&quot;VISITOR&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .formLogin()\n                .loginPage(&quot;/visitorLogin&quot;)\n                .usernameParameter(&quot;emailAddress&quot;)\n                .defaultSuccessUrl(&quot;/&quot;)\n                .failureUrl(&quot;/visitorLogin?error&quot;)\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/logout&quot;)\n                .logoutSuccessUrl(&quot;/&quot;)\n                .permitAll()\n                .and()\n                .exceptionHandling().accessDeniedPage(&quot;/access-denied&quot;)\n                .and()\n                .formLogin()\n                .successHandler(visitorSuccessHandler())\n                .failureHandler(visitorFailureHandler());\n\n        return http.build();\n    }\n\n    public void configure(AuthenticationManagerBuilder builder) throws Exception {\n        builder.userDetailsService(customEmployeeDetailsService).passwordEncoder(passwordEncoder());\n        builder.userDetailsService(customVisitorDetailsService).passwordEncoder(passwordEncoder());\n    }\n\n    private AuthenticationSuccessHandler employeeSuccessHandler() {\n        return ((request, response, authentication) -&gt; {\n            for (GrantedAuthority auth : authentication.getAuthorities()) {\n                if (auth.getAuthority().equals(&quot;ADMINISTRATOR&quot;)) {\n                    response.sendRedirect(&quot;/admins/welcome&quot;);\n                    return;\n                } else if (auth.getAuthority().equals(&quot;EMPLOYEE&quot;)) {\n                    response.sendRedirect(&quot;/employees/welcome&quot;);\n                    return;\n                } else if (auth.getAuthority().equals(&quot;RECEPTIONIST&quot;)) {\n                    response.sendRedirect(&quot;/receptionists/welcome&quot;);\n                    return;\n                }\n            }\n        });\n    }\n\n    private AuthenticationSuccessHandler visitorSuccessHandler() {\n        return ((request, response, authentication) -&gt; {\n            for (GrantedAuthority auth : authentication.getAuthorities()) {\n                if (auth.getAuthority().equals(&quot;VISITOR&quot;)) {\n                    response.sendRedirect(&quot;/visitors/welcome&quot;);\n                    return;\n                }\n            }\n        });\n    }\n\n    private AuthenticationFailureHandler employeeFailureHandler() {\n        return ((request, response, exception) -&gt; {\n            String errorMessage = &quot;BÅ‚Ä™dny login lub hasÅ‚o&quot;;\n            request.getSession().setAttribute(&quot;errorMessage&quot;, errorMessage);\n            response.sendRedirect(&quot;/employeeLogin?error&quot;);\n        });\n    }\n\n    private AuthenticationFailureHandler visitorFailureHandler() {\n        return ((request, response, exception) -&gt; {\n            String errorMessage = &quot;BÅ‚Ä™dny login lub hasÅ‚o&quot;;\n            request.getSession().setAttribute(&quot;errorMessage&quot;, errorMessage);\n            response.sendRedirect(&quot;/visitorLogin?error&quot;);\n        });\n    }\n}\n</code></pre>\n<p>Here is also the link to my GitHub repository: <a href=\"https://github.com/LukaszJarema/Meeting-Application\" rel=\"nofollow noreferrer\">https://github.com/LukaszJarema/Meeting-Application</a></p>\n"},{"tags":["java","windows","docker","jenkins","jnlp"],"owner":{"account_id":17685264,"reputation":1,"user_id":12838309,"display_name":"AhmedElsayed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684069129,"creation_date":1684069129,"question_id":76247612,"body_markdown":"Iâ€™m using Jenkins with\r\n(Jenkins version is  2.375.2)\r\n(Java version is 55.0)\r\n(https.protocols TLSv1.2)\r\nThe master node is deployed on an ubuntu server (4.15.0-142-generic #146~16.04.1-Ubuntu)\r\nAnd connected to agents through tunneling on port 50000, agents are windows and connected to the master using the jnlp command.\r\nNow, all of a sudden some slaves disconnected from the master and when trying to reconnect gives me this error.\r\n\r\n```\r\nMay 14, 2023 12:33:47 PM hudson.remoting.jnlp.Main$CuiListener status                                                   INFO: Connecting to &lt;jenkins&gt;:50000 (retrying:7)\r\njava.io.IOException: Failed to connect to &lt;jenkins&gt;:50000 \r\nat org.jenkinsci.remoting.engine.JnlpAgentEndpoint.open(JnlpAgentEndpoint.java:248)                                     at hudson.remoting.Engine.connectTcp(Engine.java:900) \r\nat hudson.remoting.Engine.innerRun(Engine.java:784) \r\nat hudson.remoting.Engine.run(Engine.java:543)\r\nCaused by: java.net.ConnectException: Connection refused: connect\r\nat java.base/sun.nio.ch.Net.connect0(Native Method) \r\nat java.base/sun.nio.ch.Net.connect(Net.java:483) \r\nat java.base/sun.nio.ch.Net.connect(Net.java:472)\r\nat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:692) \r\nat java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\r\nat org.jenkinsci.remoting.engine.JnlpAgentEndpoint.open(JnlpAgentEndpoint.java:206) \r\n... 3 more     \r\n```\r\n                                                                                                                     \r\nThe master logs are\r\n\r\n```\r\nMay 12, 2023 11:34:33 PM INFO jenkins.slaves.DefaultJnlpSlaveReceiver channelClosed\r\nIOHub#1: Worker[channel:java.nio.channels.SocketChannel[connected local=/&lt;ip&gt;:50000 remote=&lt;served&gt;]] / Computer.threadPoolForRemoting [#903] for vsb-5 terminated: java.nio.channels.ClosedChannelException\r\nMay 12, 2023 11:41:15 PM INFO jenkins.slaves.DefaultJnlpSlaveReceiver channelClosed\r\nIOHub#1: Worker[channel:java.nio.channels.SocketChannel[connected local=/&lt;ip&gt;:50000 remote=&lt;server&gt;]] / Computer.threadPoolForRemoting [#908] for vsb-4 terminated: java.nio.channels.ClosedChannelException\r\nMay 12, 2023 11:43:11 PM INFO hudson.slaves.ChannelPinger$1 onDead\r\nPing failed. Terminating the channel vsb-3.\r\njava.util.concurrent.TimeoutException: Ping started at 1683927551978 hasn&#39;t completed by 1683927791979\r\n\tat hudson.remoting.PingThread.ping(PingThread.java:132)\r\n\tat hudson.remoting.PingThread.run(PingThread.java:88)\r\n```\r\nThe UI node logs after disconnecting are\r\n\r\n```\r\nConnection was broken\r\n\r\njava.nio.channels.ClosedChannelException\r\n\tat org.jenkinsci.remoting.protocol.NetworkLayer.onRecvClosed(NetworkLayer.java:155)\r\n\tat org.jenkinsci.remoting.protocol.impl.NIONetworkLayer.ready(NIONetworkLayer.java:180)\r\n\tat org.jenkinsci.remoting.protocol.IOHub$OnReady.run(IOHub.java:789)\r\n\tat jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:30)\r\n\tat jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:70)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n```\r\nI checked everything related to the network, and I found that the port is listening on the host but is not listening inside the container.\r\nThe server metrics (CPU, RAM) are also good.","title":"Windows Jenkins slaves are disconnecting and tunneling port stopped accepting requests","body":"<p>Iâ€™m using Jenkins with\n(Jenkins version is  2.375.2)\n(Java version is 55.0)\n(https.protocols TLSv1.2)\nThe master node is deployed on an ubuntu server (4.15.0-142-generic #146~16.04.1-Ubuntu)\nAnd connected to agents through tunneling on port 50000, agents are windows and connected to the master using the jnlp command.\nNow, all of a sudden some slaves disconnected from the master and when trying to reconnect gives me this error.</p>\n<pre><code>May 14, 2023 12:33:47 PM hudson.remoting.jnlp.Main$CuiListener status                                                   INFO: Connecting to &lt;jenkins&gt;:50000 (retrying:7)\njava.io.IOException: Failed to connect to &lt;jenkins&gt;:50000 \nat org.jenkinsci.remoting.engine.JnlpAgentEndpoint.open(JnlpAgentEndpoint.java:248)                                     at hudson.remoting.Engine.connectTcp(Engine.java:900) \nat hudson.remoting.Engine.innerRun(Engine.java:784) \nat hudson.remoting.Engine.run(Engine.java:543)\nCaused by: java.net.ConnectException: Connection refused: connect\nat java.base/sun.nio.ch.Net.connect0(Native Method) \nat java.base/sun.nio.ch.Net.connect(Net.java:483) \nat java.base/sun.nio.ch.Net.connect(Net.java:472)\nat java.base/sun.nio.ch.SocketChannelImpl.connect(SocketChannelImpl.java:692) \nat java.base/java.nio.channels.SocketChannel.open(SocketChannel.java:194)\nat org.jenkinsci.remoting.engine.JnlpAgentEndpoint.open(JnlpAgentEndpoint.java:206) \n... 3 more     \n</code></pre>\n<p>The master logs are</p>\n<pre><code>May 12, 2023 11:34:33 PM INFO jenkins.slaves.DefaultJnlpSlaveReceiver channelClosed\nIOHub#1: Worker[channel:java.nio.channels.SocketChannel[connected local=/&lt;ip&gt;:50000 remote=&lt;served&gt;]] / Computer.threadPoolForRemoting [#903] for vsb-5 terminated: java.nio.channels.ClosedChannelException\nMay 12, 2023 11:41:15 PM INFO jenkins.slaves.DefaultJnlpSlaveReceiver channelClosed\nIOHub#1: Worker[channel:java.nio.channels.SocketChannel[connected local=/&lt;ip&gt;:50000 remote=&lt;server&gt;]] / Computer.threadPoolForRemoting [#908] for vsb-4 terminated: java.nio.channels.ClosedChannelException\nMay 12, 2023 11:43:11 PM INFO hudson.slaves.ChannelPinger$1 onDead\nPing failed. Terminating the channel vsb-3.\njava.util.concurrent.TimeoutException: Ping started at 1683927551978 hasn't completed by 1683927791979\n    at hudson.remoting.PingThread.ping(PingThread.java:132)\n    at hudson.remoting.PingThread.run(PingThread.java:88)\n</code></pre>\n<p>The UI node logs after disconnecting are</p>\n<pre><code>Connection was broken\n\njava.nio.channels.ClosedChannelException\n    at org.jenkinsci.remoting.protocol.NetworkLayer.onRecvClosed(NetworkLayer.java:155)\n    at org.jenkinsci.remoting.protocol.impl.NIONetworkLayer.ready(NIONetworkLayer.java:180)\n    at org.jenkinsci.remoting.protocol.IOHub$OnReady.run(IOHub.java:789)\n    at jenkins.util.ContextResettingExecutorService$1.run(ContextResettingExecutorService.java:30)\n    at jenkins.security.ImpersonatingExecutorService$1.run(ImpersonatingExecutorService.java:70)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n</code></pre>\n<p>I checked everything related to the network, and I found that the port is listening on the host but is not listening inside the container.\nThe server metrics (CPU, RAM) are also good.</p>\n"},{"tags":["java","html","css","web","mern"],"comments":[{"owner":{"account_id":7104313,"reputation":1071,"user_id":12325015,"display_name":"rx2347"},"score":0,"creation_date":1684059033,"post_id":76246855,"comment_id":134458526,"body_markdown":"If you type &quot;div overflow text&quot; in the search bar, you&#39;ll find a TON of answers regarding to this. https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow?retiredLocale=de","body":"If you type &quot;div overflow text&quot; in the search bar, you&#39;ll find a TON of answers regarding to this. <a href=\"https://developer.mozilla.org/en-US/docs/Web/CSS/text-overflow?retiredLocale=de\" rel=\"nofollow noreferrer\">developer.mozilla.org/en-US/docs/Web/CSS/&hellip;</a>"},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1684064270,"post_id":76246855,"comment_id":134459063,"body_markdown":"Why the java rag?","body":"Why the java rag?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684079767,"post_id":76246855,"comment_id":134460977,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":27037233,"reputation":234,"user_id":20592660,"display_name":"and yet it compiles..."},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684068788,"creation_date":1684068788,"answer_id":76247592,"question_id":76246855,"body_markdown":"Create a Card component like this:\r\n\r\n```\r\nexport default function Card() {\r\n  const [expand, setExpand] = useState(false);\r\n  \r\n  return (\r\n    &lt;div&gt;\r\n      &lt;div className={`${style.collapsible_text} ${expanded ? &#39;&#39; : style.collapsed}`}&gt;\r\n        {/* Card text goes here */}\r\n      &lt;/div&gt;\r\n      &lt;p onClick={() =&gt; setExpand(!expand)}&gt;{expand? &quot;read more...&quot; : &quot;read less...&quot;&lt;/p&gt;\r\n    &lt;/div&gt;\r\n  );\r\n}\r\n```\r\n\r\nThen, apply the following css to the Card component:\r\n\r\n```\r\n.collapsible_text {\r\n  max-height: 50px;\r\n  overflow: hidden;\r\n}\r\n\r\n.collapsed {\r\n  max-height: 50px;\r\n}\r\n```","title":"Shrink / collapse overflowing text","body":"<p>Create a Card component like this:</p>\n<pre><code>export default function Card() {\n  const [expand, setExpand] = useState(false);\n  \n  return (\n    &lt;div&gt;\n      &lt;div className={`${style.collapsible_text} ${expanded ? '' : style.collapsed}`}&gt;\n        {/* Card text goes here */}\n      &lt;/div&gt;\n      &lt;p onClick={() =&gt; setExpand(!expand)}&gt;{expand? &quot;read more...&quot; : &quot;read less...&quot;&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n</code></pre>\n<p>Then, apply the following css to the Card component:</p>\n<pre><code>.collapsible_text {\n  max-height: 50px;\n  overflow: hidden;\n}\n\n.collapsed {\n  max-height: 50px;\n}\n</code></pre>\n"}],"owner":{"account_id":28003688,"reputation":77,"user_id":21387444,"display_name":"Unnikrishnan KJ"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76247592,"answer_count":1,"score":0,"last_activity_date":1684068788,"creation_date":1684058216,"question_id":76246855,"body_markdown":"Please check the attached image. As you can see, text is overflowing outside the div. I just want to collapse the overflowing text and display &quot;Read more&quot; in the end. While user click &quot;read more&quot; text should be expanded.\r\n\r\nI&#39;m working on a next js project.\r\n\r\n[Screenshot of div](https://i.stack.imgur.com/R5Sxt.png)\r\n\r\n\r\n\r\nMy requirement is to collapse the text to specified lines not to break the text from specified lines.","title":"Shrink / collapse overflowing text","body":"<p>Please check the attached image. As you can see, text is overflowing outside the div. I just want to collapse the overflowing text and display &quot;Read more&quot; in the end. While user click &quot;read more&quot; text should be expanded.</p>\n<p>I'm working on a next js project.</p>\n<p><a href=\"https://i.stack.imgur.com/R5Sxt.png\" rel=\"nofollow noreferrer\">Screenshot of div</a></p>\n<p>My requirement is to collapse the text to specified lines not to break the text from specified lines.</p>\n"},{"tags":["java","macros"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":4,"creation_date":1309171542,"post_id":6491650,"comment_id":7633298,"body_markdown":"I have read the question three times and I don&#39;t know what you are trying to do. ;)  Can you give some examples?","body":"I have read the question three times and I don&#39;t know what you are trying to do. ;)  Can you give some examples?"},{"owner":{"account_id":387780,"reputation":77,"user_id":746343,"accept_rate":38,"display_name":"i dont like this"},"score":0,"creation_date":1309171770,"post_id":6491650,"comment_id":7633346,"body_markdown":"$b is webmacro it is based on webframe frame work i did not know about completely but in our project it may used.","body":"$b is webmacro it is based on webframe frame work i did not know about completely but in our project it may used."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1309171916,"post_id":6491650,"comment_id":7633391,"body_markdown":"@BALA: Java has no macros on its own. Please give **a lot** more context about the frameworks used to run this code.","body":"@BALA: Java has no macros on its own. Please give <b>a lot</b> more context about the frameworks used to run this code."},{"owner":{"account_id":387780,"reputation":77,"user_id":746343,"accept_rate":38,"display_name":"i dont like this"},"score":0,"creation_date":1309172280,"post_id":6491650,"comment_id":7633487,"body_markdown":"In above code method getStringUsingMacro we pass the source (string) and hashmap having set of values based upon the values it replace $b to certain value i don&#39;t about this framework much that&#39;s  why i am not able to explain it clearly .sorry for all","body":"In above code method getStringUsingMacro we pass the source (string) and hashmap having set of values based upon the values it replace $b to certain value i don&#39;t about this framework much that&#39;s  why i am not able to explain it clearly .sorry for all"},{"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"PaÅ­lo Ebermann"},"score":0,"creation_date":1309179898,"post_id":6491650,"comment_id":7635644,"body_markdown":"@BALA: You should at least have mentioned that you are using the WebMacro framework here","body":"@BALA: You should at least have mentioned that you are using the WebMacro framework here"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1309171850,"creation_date":1309171850,"answer_id":6491733,"question_id":6491650,"body_markdown":"It appears what you are trying to do is\r\n\r\n    if(a &gt; b) \r\n        sb.append(&quot;checked&quot;);\r\n\r\nor if `b` is something calculated dynamically.\r\n\r\n    int a = 10;\r\n    Future&lt;Integer&gt; b =\r\n    if(a &gt; b.get()) \r\n        sb.append(&quot;checked&quot;);\r\n\r\n","title":"Evaluating the Macro value in java","body":"<p>It appears what you are trying to do is</p>\n\n<pre><code>if(a &gt; b) \n    sb.append(\"checked\");\n</code></pre>\n\n<p>or if <code>b</code> is something calculated dynamically.</p>\n\n<pre><code>int a = 10;\nFuture&lt;Integer&gt; b =\nif(a &gt; b.get()) \n    sb.append(\"checked\");\n</code></pre>\n"}],"owner":{"account_id":387780,"reputation":77,"user_id":746343,"accept_rate":38,"display_name":"i dont like this"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":279,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1684068770,"creation_date":1309171338,"question_id":6491650,"body_markdown":"Take this scenario,\r\n\r\n   In string buffer i append string continuously  for example \r\n \r\n     int a=10;\r\n     sb.append(&quot;if(&quot;+a+&quot;&gt;&quot;+$b+&quot;){\\&quot;checked\\&quot;}&quot;);\r\n $b is a macro which assigned \r\n finally based upon the condition satisfies string `&quot;checked&quot;` is added \r\n how to evaluate the if condition because while evaluate `$b` value comes \r\n as $b (which is finally replies as value) kindly help me.let me know \r\n if you have any doubts.\r\n\r\n\r\n      public static String getStringUsingMacro(String source,HashMap hm)\r\n          throws Exception{\r\n\tWebMacro wm = new WM();\r\n\tContext context=wm.getContext();\r\n\t\r\n\tIterator it=hm.keySet().iterator();\r\n    while(it.hasNext()){\r\n    \tString key=(String)it.next();\r\n    \tcontext.put(key,hm.get(key));\r\n    }\r\n\t\r\n  \r\n\tTemplate template2=new StringTemplate(wm.getBroker(),source);\r\n\ttemplate2.parse();\r\n\treturn template2.evaluateAsString(context);\r\n\t}","title":"Evaluating the Macro value in java","body":"<p>Take this scenario,</p>\n\n<p>In string buffer i append string continuously  for example </p>\n\n<pre><code> int a=10;\n sb.append(\"if(\"+a+\"&gt;\"+$b+\"){\\\"checked\\\"}\");\n</code></pre>\n\n<p>$b is a macro which assigned \n finally based upon the condition satisfies string <code>\"checked\"</code> is added \n how to evaluate the if condition because while evaluate <code>$b</code> value comes \n as $b (which is finally replies as value) kindly help me.let me know \n if you have any doubts.</p>\n\n<pre><code>  public static String getStringUsingMacro(String source,HashMap hm)\n      throws Exception{\nWebMacro wm = new WM();\nContext context=wm.getContext();\n\nIterator it=hm.keySet().iterator();\nwhile(it.hasNext()){\n    String key=(String)it.next();\n    context.put(key,hm.get(key));\n}\n\n\nTemplate template2=new StringTemplate(wm.getBroker(),source);\ntemplate2.parse();\nreturn template2.evaluateAsString(context);\n}\n</code></pre>\n"},{"tags":["java","string","program-entry-point"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684067248,"post_id":76247460,"comment_id":134459452,"body_markdown":"why repeat the text two times? || String because that is the type of what you type at command line - pure text (or because it is specified to be a String array in the Java Language Specification) || BTW you could also use `String... args`, as any other name instead of `args`","body":"why repeat the text two times? || String because that is the type of what you type at command line - pure text (or because it is specified to be a String array in the Java Language Specification) || BTW you could also use <code>String... args</code>, as any other name instead of <code>args</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":6,"creation_date":1684067408,"post_id":76247460,"comment_id":134459475,"body_markdown":"*&quot;We have other datatypes also but why String??&quot;* - Because `String` is the only (immutable) type that can represent all possible values that may be provided by the user on the command line.","body":"<i>&quot;We have other datatypes also but why String??&quot;</i> - Because <code>String</code> is the only (immutable) type that can represent all possible values that may be provided by the user on the command line."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1684067830,"post_id":76247460,"comment_id":134459533,"body_markdown":"BTW @GURMEET - actually we have to write `String[]` with uppercase `S`, not lowercase as in title :-)","body":"BTW @GURMEET - actually we have to write <code>String[]</code> with uppercase <code>S</code>, not lowercase as in title :-)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1684068071,"post_id":76247460,"comment_id":134459558,"body_markdown":"*Why do we write &quot;String [] args&quot; in java?&quot;* - Because if we don&#39;t, the JVM won&#39;t recognize the main method as an entry point method. That is how it is specified to work, and has been since Java 1.0. However [JEP 445](https://openjdk.org/jeps/445) will relax this somewhat.  It is currently proposed for Java 21 as a Preview.","body":"<i>Why do we write &quot;String [] args&quot; in java?&quot;</i> - Because if we don&#39;t, the JVM won&#39;t recognize the main method as an entry point method. That is how it is specified to work, and has been since Java 1.0. However <a href=\"https://openjdk.org/jeps/445\" rel=\"nofollow noreferrer\">JEP 445</a> will relax this somewhat.  It is currently proposed for Java 21 as a Preview."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":2,"creation_date":1684068407,"post_id":76247460,"comment_id":134459613,"body_markdown":"Does this answer your question? [Why we Pass String array as argument to main() method, why not any collection type or wrapper type or primitive type?](https://stackoverflow.com/questions/25225771/why-we-pass-string-array-as-argument-to-main-method-why-not-any-collection-ty)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25225771/why-we-pass-string-array-as-argument-to-main-method-why-not-any-collection-ty\">Why we Pass String array as argument to main() method, why not any collection type or wrapper type or primitive type?</a>"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":0,"creation_date":1684069342,"post_id":76247460,"comment_id":134459721,"body_markdown":"Why String as opposed to what?","body":"Why String as opposed to what?"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1684067337,"creation_date":1684067337,"answer_id":76247486,"question_id":76247460,"body_markdown":"Arguments from the command line in most operating systems are received by executing programs as a list or array of strings. In C language this is usually represented by `int main(int argc, char *argv[])`. Java just has a more convenient type.\r\n","title":"Why do we write &quot;string [] args&quot; in java?","body":"<p>Arguments from the command line in most operating systems are received by executing programs as a list or array of strings. In C language this is usually represented by <code>int main(int argc, char *argv[])</code>. Java just has a more convenient type.</p>\n"}],"owner":{"account_id":28576414,"reputation":11,"user_id":21877961,"display_name":"GURMEET SINGH"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1684068407,"answer_count":1,"score":-2,"last_activity_date":1684068649,"creation_date":1684066984,"question_id":76247460,"body_markdown":"I just want to know in Java programming why do we write **`String args[]`** in `public static void main(String [] args)`.\r\n\r\nWe have other datatypes also but why String?\r\n\r\n","title":"Why do we write &quot;string [] args&quot; in java?","body":"<p>I just want to know in Java programming why do we write <strong><code>String args[]</code></strong> in <code>public static void main(String [] args)</code>.</p>\n<p>We have other datatypes also but why String?</p>\n"},{"tags":["java","testing","gradle"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":1,"creation_date":1390914523,"post_id":21406265,"comment_id":32290120,"body_markdown":"What happens when you use `gradle -Dcassandra.ip=192.168.33.13`? Anyway, the test task forks one or several new JVMs. So you&#39;ll have to pass properties explicitely. Nobody forces you to hardcode their value in the build, though.","body":"What happens when you use <code>gradle -Dcassandra.ip=192.168.33.13</code>? Anyway, the test task forks one or several new JVMs. So you&#39;ll have to pass properties explicitely. Nobody forces you to hardcode their value in the build, though."},{"owner":{"account_id":2256095,"reputation":31,"user_id":1987254,"display_name":"IgalS"},"score":0,"creation_date":1419493956,"post_id":21406265,"comment_id":43708834,"body_markdown":"Also take a look in this answer: https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr/23689696#23689696","body":"Also take a look in this answer: <a href=\"https://stackoverflow.com/questions/23689054/problems-passing-system-properties-and-parameters-when-running-java-class-via-gr/23689696#23689696\" title=\"problems passing system properties and parameters when running java class via gr\">stackoverflow.com/questions/23689054/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":41920,"reputation":56500,"user_id":121993,"accept_rate":77,"display_name":"Jeff Storey"},"down_vote_count":0,"up_vote_count":175,"is_accepted":true,"score":175,"last_activity_date":1390915032,"creation_date":1390915032,"answer_id":21406600,"question_id":21406265,"body_markdown":"The -P flag is for gradle properties, and the -D flag is for JVM properties. Because the test may be forked in a new JVM, the -D argument passed to gradle will not be propagated to the test - it sounds like that is the behavior you are seeing.\r\n\r\nYou can use the systemProperty in your `test` block as you have done but base it on the incoming gradle property by passing it with it -P:\r\n\r\n    test {\r\n        systemProperty &quot;cassandra.ip&quot;, project.getProperty(&quot;cassandra.ip&quot;)\r\n    }\r\n\r\nor alternatively, if you are passing it in via -D\r\n\r\n    test {\r\n        systemProperty &quot;cassandra.ip&quot;, System.getProperty(&quot;cassandra.ip&quot;)\r\n    }\r\n\r\n","title":"How to give System property to my test via Gradle and -D","body":"<p>The -P flag is for gradle properties, and the -D flag is for JVM properties. Because the test may be forked in a new JVM, the -D argument passed to gradle will not be propagated to the test - it sounds like that is the behavior you are seeing.</p>\n\n<p>You can use the systemProperty in your <code>test</code> block as you have done but base it on the incoming gradle property by passing it with it -P:</p>\n\n<pre><code>test {\n    systemProperty \"cassandra.ip\", project.getProperty(\"cassandra.ip\")\n}\n</code></pre>\n\n<p>or alternatively, if you are passing it in via -D</p>\n\n<pre><code>test {\n    systemProperty \"cassandra.ip\", System.getProperty(\"cassandra.ip\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2402568,"reputation":1540,"user_id":2099917,"display_name":"MrSpock"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1455120821,"creation_date":1455120821,"answer_id":35320306,"question_id":21406265,"body_markdown":"Came across this very much problem, except i don&#39;t want to list all properties given on the commandline in the gradle script again. Therefore i send all system properties to my test\r\n\r\n    task integrationTest(type: Test) {\r\n        useTestNG()\r\n        options {\r\n            systemProperties(System.getProperties())\r\n        }\r\n    }","title":"How to give System property to my test via Gradle and -D","body":"<p>Came across this very much problem, except i don't want to list all properties given on the commandline in the gradle script again. Therefore i send all system properties to my test</p>\n\n<pre><code>task integrationTest(type: Test) {\n    useTestNG()\n    options {\n        systemProperties(System.getProperties())\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1274948,"reputation":1413,"user_id":1230403,"accept_rate":25,"display_name":"avivr"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1476968510,"creation_date":1476968510,"answer_id":40155234,"question_id":21406265,"body_markdown":"I had a case where I needed to pass *multiple* system properties into the test JVM but not *all* (didn&#39;t want to pass in irrelevant ones). Based on the above answers, and by using `subMap` to filter the ones I needed, this worked for me:\r\n\r\n    task integrationTest(type: Test) {\r\n        // ... Do stuff here ...\r\n        systemProperties System.getProperties().subMap([&#39;PROP1&#39;, &#39;PROP2&#39;])\r\n    }\r\n\r\nIn this example, only `PROP1` and `PROP2` will be passed in, if they exist in gradle&#39;s JVM.","title":"How to give System property to my test via Gradle and -D","body":"<p>I had a case where I needed to pass <em>multiple</em> system properties into the test JVM but not <em>all</em> (didn't want to pass in irrelevant ones). Based on the above answers, and by using <code>subMap</code> to filter the ones I needed, this worked for me:</p>\n\n<pre><code>task integrationTest(type: Test) {\n    // ... Do stuff here ...\n    systemProperties System.getProperties().subMap(['PROP1', 'PROP2'])\n}\n</code></pre>\n\n<p>In this example, only <code>PROP1</code> and <code>PROP2</code> will be passed in, if they exist in gradle's JVM.</p>\n"},{"tags":[],"owner":{"account_id":2833025,"reputation":1032,"user_id":3026310,"display_name":"Eron Wright"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490861724,"creation_date":1490861724,"answer_id":43112126,"question_id":21406265,"body_markdown":"Here&#39;s a variant that passes numerous project properties to the test JVM as system properties.  I prefer project properties over system properties to increase flexibility. \r\n\r\n    task intTest(type: Test) {\r\n        systemProperties project.properties.subMap([&quot;foo&quot;, &quot;bar&quot;])\r\n    }\r\n\r\nWhich may be passed on the command-line:\r\n\r\n     $ gradle intTest -Pfoo=1 -Pbar=2\r\n\r\nAnd retrieved in your test:\r\n\r\n    String foo = System.getProperty(&quot;foo&quot;);\r\n","title":"How to give System property to my test via Gradle and -D","body":"<p>Here's a variant that passes numerous project properties to the test JVM as system properties.  I prefer project properties over system properties to increase flexibility. </p>\n\n<pre><code>task intTest(type: Test) {\n    systemProperties project.properties.subMap([\"foo\", \"bar\"])\n}\n</code></pre>\n\n<p>Which may be passed on the command-line:</p>\n\n<pre><code> $ gradle intTest -Pfoo=1 -Pbar=2\n</code></pre>\n\n<p>And retrieved in your test:</p>\n\n<pre><code>String foo = System.getProperty(\"foo\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2626691,"reputation":91,"user_id":2273551,"display_name":"Olivier B."},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1564395155,"creation_date":1564395155,"answer_id":57251619,"question_id":21406265,"body_markdown":"So I&#39;ve stumbled on that issue today as well, and what worked for me was the following:\r\n\r\n    ext.env=&#39;prod&#39;\r\n    test {\r\n      systemProperty &#39;env&#39;, System.properties[&#39;env&#39;] ?: &quot;${env}&quot;\r\n      println &quot;# test environment: &quot; + systemProperties[&#39;env&#39;]\r\n      ...\r\n    }\r\n\r\nI&#39;m calling my test task using *-Penv=dev* and I get my &#39;dev&#39; value in my print, or &#39;prod&#39; if I do not send any value, which is the expected behavior for me.\r\n\r\nValue is also accessible on java side, using *System.getProperty(&quot;env&quot;)*.\r\n\r\nMy conclusion on the matter is that input value (parameter) is actually stored under *System*, making it accessible through either *System.properties[&#39;env&#39;]* or *System.getProperty(&quot;env&quot;)*, whereas output (system property) is stored in a *systemProperties* array, making it readable through *systemProperties[&#39;env&#39;]*.","title":"How to give System property to my test via Gradle and -D","body":"<p>So I've stumbled on that issue today as well, and what worked for me was the following:</p>\n\n<pre><code>ext.env='prod'\ntest {\n  systemProperty 'env', System.properties['env'] ?: \"${env}\"\n  println \"# test environment: \" + systemProperties['env']\n  ...\n}\n</code></pre>\n\n<p>I'm calling my test task using <em>-Penv=dev</em> and I get my 'dev' value in my print, or 'prod' if I do not send any value, which is the expected behavior for me.</p>\n\n<p>Value is also accessible on java side, using <em>System.getProperty(\"env\")</em>.</p>\n\n<p>My conclusion on the matter is that input value (parameter) is actually stored under <em>System</em>, making it accessible through either <em>System.properties['env']</em> or <em>System.getProperty(\"env\")</em>, whereas output (system property) is stored in a <em>systemProperties</em> array, making it readable through <em>systemProperties['env']</em>.</p>\n"},{"tags":[],"owner":{"account_id":10114825,"reputation":41,"user_id":7473867,"display_name":"Bhoomika G"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1625508211,"creation_date":1625507816,"answer_id":68260328,"question_id":21406265,"body_markdown":"Here is something that worked for me\r\n\r\n    //in build.gradle file\r\n    \r\n        tasks.withType(Test) {\r\n            systemProperties = [\r\n               ip: System.getProperty(&#39;ip&#39;, &#39;192.168.33.13&#39;),\r\n            ]\r\n        }\r\n\r\n        task integrationTests(type: Test){\r\n            useTestNG()\r\n        }\r\n\r\nSuppose if you are using TestNG, you can add the annotation @Parameters as shown below\r\n\r\n  \r\n\r\n      public class IpAddress {\r\n        @Test\r\n        @Parameters(&quot;ip&quot;)\r\n        public void printIpAddress(String ip) {\r\n            System.out.println(ip);\r\n        }\r\n     }\r\n\r\nNow you are good to execute a gradlew command\r\n\r\n    ./gradlew clean -Dip=&quot;xx.xx.xx.xx&quot; integrationTests --tests &quot;IpAddress&quot;\r\n\r\n \r\nIf you want to use @DataProvider to pass the test data, you can pass it like below and execute the same above gradle command to run the test\r\n\r\n     public class IpAddress {\r\n        @DataProvider(name = &quot;GetIP&quot;)\r\n        private static Object[][] getIp() {\r\n            return new Object[][]{\r\n                    //if -Dip is not provided in command, then by default it gets the value assigned in build.gradle file i.e.&#39;192.168.33.13&#39;\r\n                    {System.getProperty(&quot;ip&quot;)}, \r\n            };\r\n        }\r\n    \r\n        @Test(dataProvider = &quot;GetIP&quot;)\r\n        public void printIpAddress(String ip) {\r\n            System.out.println(ip);\r\n        }\r\n    }","title":"How to give System property to my test via Gradle and -D","body":"<p>Here is something that worked for me</p>\n<pre><code>//in build.gradle file\n\n    tasks.withType(Test) {\n        systemProperties = [\n           ip: System.getProperty('ip', '192.168.33.13'),\n        ]\n    }\n\n    task integrationTests(type: Test){\n        useTestNG()\n    }\n</code></pre>\n<p>Suppose if you are using TestNG, you can add the annotation @Parameters as shown below</p>\n<pre><code>  public class IpAddress {\n    @Test\n    @Parameters(&quot;ip&quot;)\n    public void printIpAddress(String ip) {\n        System.out.println(ip);\n    }\n }\n</code></pre>\n<p>Now you are good to execute a gradlew command</p>\n<pre><code>./gradlew clean -Dip=&quot;xx.xx.xx.xx&quot; integrationTests --tests &quot;IpAddress&quot;\n</code></pre>\n<p>If you want to use @DataProvider to pass the test data, you can pass it like below and execute the same above gradle command to run the test</p>\n<pre><code> public class IpAddress {\n    @DataProvider(name = &quot;GetIP&quot;)\n    private static Object[][] getIp() {\n        return new Object[][]{\n                //if -Dip is not provided in command, then by default it gets the value assigned in build.gradle file i.e.'192.168.33.13'\n                {System.getProperty(&quot;ip&quot;)}, \n        };\n    }\n\n    @Test(dataProvider = &quot;GetIP&quot;)\n    public void printIpAddress(String ip) {\n        System.out.println(ip);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6307621,"reputation":309,"user_id":4900235,"display_name":"Jadson Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684068340,"creation_date":1684068340,"answer_id":76247559,"question_id":21406265,"body_markdown":" In my case I was need to pass github token to tests by system properties.\r\n\r\nI have tried this:\r\n\r\n    systemProperty &quot;github.token&quot;, System.getProperty(&quot;github.token&quot;)\r\n\r\nBut give me a error, so a passed a default value:\r\n\r\n\r\n    ext.github_token=&#39;TOKEN&#39;\r\n    test {\r\n    \tsystemProperty &#39;github.token&#39;, System.properties[&#39;github.token&#39;] ?: &quot;${github_token}&quot;\r\n    }\r\n\r\n","title":"How to give System property to my test via Gradle and -D","body":"<p>In my case I was need to pass github token to tests by system properties.</p>\n<p>I have tried this:</p>\n<pre><code>systemProperty &quot;github.token&quot;, System.getProperty(&quot;github.token&quot;)\n</code></pre>\n<p>But give me a error, so a passed a default value:</p>\n<pre><code>ext.github_token='TOKEN'\ntest {\n    systemProperty 'github.token', System.properties['github.token'] ?: &quot;${github_token}&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":309134,"reputation":9528,"user_id":621427,"accept_rate":74,"display_name":"robkuz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104012,"favorite_count":0,"down_vote_count":0,"up_vote_count":141,"accepted_answer_id":21406600,"answer_count":7,"score":141,"last_activity_date":1684068340,"creation_date":1390914123,"question_id":21406265,"body_markdown":"I have a a Java program which reads a System property\r\n\r\n    System.getProperty(&quot;cassandra.ip&quot;);\r\n\r\nand I have a Gradle build file that I start with \r\n\r\n    gradle test -Pcassandra.ip=192.168.33.13\r\n\r\nor \r\n\r\n    gradle test -Dcassandra.ip=192.168.33.13\r\n\r\nhowever **System.getProperty** will always return **null**.\r\n\r\nThe only way I found was to add that in my Gradle build file via\r\n\r\n    test {\r\n        systemProperty &quot;cassandra.ip&quot;, &quot;192.168.33.13&quot;\r\n    }\r\n\r\nHow Do I do it via -D\r\n\r\n","title":"How to give System property to my test via Gradle and -D","body":"<p>I have a a Java program which reads a System property</p>\n\n<pre><code>System.getProperty(\"cassandra.ip\");\n</code></pre>\n\n<p>and I have a Gradle build file that I start with </p>\n\n<pre><code>gradle test -Pcassandra.ip=192.168.33.13\n</code></pre>\n\n<p>or </p>\n\n<pre><code>gradle test -Dcassandra.ip=192.168.33.13\n</code></pre>\n\n<p>however <strong>System.getProperty</strong> will always return <strong>null</strong>.</p>\n\n<p>The only way I found was to add that in my Gradle build file via</p>\n\n<pre><code>test {\n    systemProperty \"cassandra.ip\", \"192.168.33.13\"\n}\n</code></pre>\n\n<p>How Do I do it via -D</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1379058089,"post_id":18779183,"comment_id":27690254,"body_markdown":"Try to get more information from your IDE. The error &quot;sources can not be downloaded&quot; isn&#39;t helpful.","body":"Try to get more information from your IDE. The error &quot;sources can not be downloaded&quot; isn&#39;t helpful."},{"owner":{"account_id":128130,"reputation":18591,"user_id":325742,"accept_rate":90,"display_name":"Ashutosh Jindal"},"score":2,"creation_date":1379070903,"post_id":18779183,"comment_id":27697138,"body_markdown":"It might be worth looking what .IntelliJIdea12\\system\\log\\idea.log says when you attempt to download a source.  Do you need to setup a proxy in IntelliJ so that it can download sources from external maven repository ?","body":"It might be worth looking what .IntelliJIdea12\\system\\log\\idea.log says when you attempt to download a source.  Do you need to setup a proxy in IntelliJ so that it can download sources from external maven repository ?"},{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1379099130,"post_id":18779183,"comment_id":27712858,"body_markdown":"@AshutoshJindal good call, sounds like a proxy issue.","body":"@AshutoshJindal good call, sounds like a proxy issue."},{"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"score":0,"creation_date":1379505857,"post_id":18779183,"comment_id":27849408,"body_markdown":".IdeaIC12\\system\\log\\idea.log does not contains any error or log information about error. I checked it after get an error and no thing changes. What do you mean by proxy issue? dependency:sources work correct but I did not configure any proxy with maven. Where I can see maven configuration about that and where I must put/copy analog configuration parameters to intellij idea?","body":".IdeaIC12\\system\\log\\idea.log does not contains any error or log information about error. I checked it after get an error and no thing changes. What do you mean by proxy issue? dependency:sources work correct but I did not configure any proxy with maven. Where I can see maven configuration about that and where I must put/copy analog configuration parameters to intellij idea?"},{"owner":{"account_id":424679,"reputation":2320,"user_id":804812,"display_name":"Leszek GruchaÅ‚a"},"score":0,"creation_date":1401890105,"post_id":18779183,"comment_id":37060146,"body_markdown":"Please mark ingara&#39;s answer as correct. Confirmed with IDEA 13.1.3","body":"Please mark ingara&#39;s answer as correct. Confirmed with IDEA 13.1.3"}],"answers":[{"tags":[],"owner":{"account_id":2603989,"reputation":471,"user_id":2255585,"display_name":"ingara"},"down_vote_count":1,"up_vote_count":30,"is_accepted":true,"score":29,"last_activity_date":1469012784,"creation_date":1389197091,"answer_id":21000688,"question_id":18779183,"body_markdown":"Running `IDEA version 12.1.6` and I have the same issue.\r\n\r\nWhen I uncheck the following option it does work:\r\n\r\n`Settings &gt; Maven &gt; Importing &gt; Use Maven3 to import project`","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>Running <code>IDEA version 12.1.6</code> and I have the same issue.</p>\n\n<p>When I uncheck the following option it does work:</p>\n\n<p><code>Settings &gt; Maven &gt; Importing &gt; Use Maven3 to import project</code></p>\n"},{"tags":[],"owner":{"account_id":216755,"reputation":1270,"user_id":472188,"display_name":"Chakra"},"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1551955417,"creation_date":1436967034,"answer_id":31431820,"question_id":18779183,"body_markdown":"In **Intellij 2017.x, 2016.x, 15.x, 14.x** the given solution does not work as the option is removed.\r\n\r\nThe problem can be solved by changing `JDK for Importer` to a latest JDK instead of `User Internal JRE` which was 1.6.0 by default on Mac\r\n\r\nThe setting `JDK For Importer` can be found in:\r\n&gt; Preferences -&gt; Build, Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Importing","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>In <strong>Intellij 2017.x, 2016.x, 15.x, 14.x</strong> the given solution does not work as the option is removed.</p>\n\n<p>The problem can be solved by changing <code>JDK for Importer</code> to a latest JDK instead of <code>User Internal JRE</code> which was 1.6.0 by default on Mac</p>\n\n<p>The setting <code>JDK For Importer</code> can be found in:</p>\n\n<blockquote>\n  <p>Preferences -> Build, Execution,Deployment -> Build Tools -> Maven -> Importing</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7361132,"reputation":496,"user_id":6579203,"display_name":"xtermi2"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1468324483,"creation_date":1468324483,"answer_id":38328206,"question_id":18779183,"body_markdown":"I had the same issue with IntelliJ **IDEA 2016.1.3** and **Maven 3.2.1**. No solution mentioned here was working.\r\nIn my case a newer Maven version fixed the issue. With **Maven 3.3.9** IDEA can now download the sources.","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I had the same issue with IntelliJ <strong>IDEA 2016.1.3</strong> and <strong>Maven 3.2.1</strong>. No solution mentioned here was working.\nIn my case a newer Maven version fixed the issue. With <strong>Maven 3.3.9</strong> IDEA can now download the sources.</p>\n"},{"tags":[],"owner":{"account_id":8278101,"reputation":71,"user_id":6233833,"display_name":"kj6682"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1471248841,"creation_date":1471248841,"answer_id":38951545,"question_id":18779183,"body_markdown":"&lt;quote&gt;&quot;I had the same issue with IntelliJ IDEA 2016.1.3 and Maven 3.2.1. No solution mentioned here was working. In my case a newer Maven version fixed the issue. With Maven 3.3.9 IDEA can now download the sources.&quot;\r\n&lt;/quote&gt;\r\n\r\nanything&#39;s already in the former answers...\r\n\r\n&lt;ul&gt;\r\n&lt;li&gt;download sources in your repo\r\n&lt;code&gt;\r\nmvn dependency:sources\r\n&lt;/code&gt;\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\nF4 on the class you want to check the sources out\r\n&lt;/li&gt;\r\n&lt;li&gt;\r\nlocate the source jar in your local repository\r\n&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\nmaybe it is not a full IDE solution, but hope it solves your issue\r\n","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>\"I had the same issue with IntelliJ IDEA 2016.1.3 and Maven 3.2.1. No solution mentioned here was working. In my case a newer Maven version fixed the issue. With Maven 3.3.9 IDEA can now download the sources.\"\n</p>\n\n<p>anything's already in the former answers...</p>\n\n<ul>\n<li>download sources in your repo\n<code>\nmvn dependency:sources\n</code>\n</li>\n<li>\nF4 on the class you want to check the sources out\n</li>\n<li>\nlocate the source jar in your local repository\n</li>\n</ul>\n\n<p>maybe it is not a full IDE solution, but hope it solves your issue</p>\n"},{"tags":[],"owner":{"account_id":8409534,"reputation":41,"user_id":6311952,"display_name":"Kwyjibo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1474041501,"creation_date":1474041501,"answer_id":39535703,"question_id":18779183,"body_markdown":"Had the same issue with IntelliJ 2016.2.4.  As user526177 posted udating the Maven version fixes it but for my needs switching to the bundled Maven 2 was just fine and fixed the issue.\r\n\r\n\r\n[Screenshot (can&#39;t embed yet due to rank)][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/u7Mhg.png","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>Had the same issue with IntelliJ 2016.2.4.  As user526177 posted udating the Maven version fixes it but for my needs switching to the bundled Maven 2 was just fine and fixed the issue.</p>\n\n<p><a href=\"https://i.stack.imgur.com/u7Mhg.png\" rel=\"nofollow\">Screenshot (can't embed yet due to rank)</a></p>\n"},{"tags":[],"owner":{"account_id":8377363,"reputation":1,"user_id":6290462,"display_name":"mark"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489560328,"creation_date":1489560328,"answer_id":42802785,"question_id":18779183,"body_markdown":"I solve this by use jdk 1.8  in MAVEN -&gt; RUNNER -&gt; JRE .my idea version is 2016.2","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I solve this by use jdk 1.8  in MAVEN -> RUNNER -> JRE .my idea version is 2016.2</p>\n"},{"tags":[],"owner":{"account_id":5468970,"reputation":31,"user_id":4348868,"display_name":"guamiansang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1495539280,"creation_date":1495539280,"answer_id":44133689,"question_id":18779183,"body_markdown":"I use IDEA 2017.1.3, I just change the Maven home directory option(Preferences -&gt; Build, Execution,Deployment -&gt; Build Tools -&gt; Maven -&gt; Maven home directory) of default Maven 3 to Maven 2, I believe it&#39;s the same solution for newer version of IDEA just like the selected answer. And it works for me.","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I use IDEA 2017.1.3, I just change the Maven home directory option(Preferences -> Build, Execution,Deployment -> Build Tools -> Maven -> Maven home directory) of default Maven 3 to Maven 2, I believe it's the same solution for newer version of IDEA just like the selected answer. And it works for me.</p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1524670875,"creation_date":1524670875,"answer_id":50026323,"question_id":18779183,"body_markdown":"I had this issue, and sources weren&#39;t being downloaded since I needed credentials from my project&#39;s *specific* `settings.xml`. \r\n\r\nTo fix (Intellij 2018.1.2):\r\n\r\nFile -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Maven\r\n\r\nand provide the appropriate `settings.xml` in the &#39;User settings file&#39; section","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I had this issue, and sources weren't being downloaded since I needed credentials from my project's <em>specific</em> <code>settings.xml</code>. </p>\n\n<p>To fix (Intellij 2018.1.2):</p>\n\n<p>File -> Settings -> Build, Execution, Deployment -> Maven</p>\n\n<p>and provide the appropriate <code>settings.xml</code> in the 'User settings file' section</p>\n"},{"tags":[],"owner":{"account_id":6720114,"reputation":1,"user_id":5180468,"display_name":"light77"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538592133,"creation_date":1538592133,"answer_id":52633754,"question_id":18779183,"body_markdown":"I changed the java version in pom.xml to match my jdk&#39;s version and it worked for me.\r\n\r\n    &lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n         &lt;!--earlier this was 1.8--&gt;\r\n\t\t&lt;java.version&gt;10&lt;/java.version&gt;\r\n\r\n\t&lt;/properties&gt;","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I changed the java version in pom.xml to match my jdk's version and it worked for me.</p>\n\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n     &lt;!--earlier this was 1.8--&gt;\n    &lt;java.version&gt;10&lt;/java.version&gt;\n\n&lt;/properties&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":972509,"reputation":697,"user_id":994749,"display_name":"Oleg Poltoratskii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684068268,"creation_date":1684068268,"answer_id":76247557,"question_id":18779183,"body_markdown":"It&#39;s necessary to check availability of repositories.\r\n\r\nFor example, if you use corporate repository but **don&#39;t use** VPN just right now. In this case maven can&#39;t download sources (of open-source project) if one of your repositories isn&#39;t accessible.\r\n\r\nYou can comment specific `&lt;repository&gt;` in your `pom.xml` file.\r\n","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>It's necessary to check availability of repositories.</p>\n<p>For example, if you use corporate repository but <strong>don't use</strong> VPN just right now. In this case maven can't download sources (of open-source project) if one of your repositories isn't accessible.</p>\n<p>You can comment specific <code>&lt;repository&gt;</code> in your <code>pom.xml</code> file.</p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54057,"favorite_count":0,"down_vote_count":0,"up_vote_count":51,"accepted_answer_id":21000688,"answer_count":10,"score":51,"last_activity_date":1684068268,"creation_date":1379051527,"question_id":18779183,"body_markdown":"I click &quot;download sources and documentation&quot; in Intellij Idea Community Edition 12.1.4 and get error that sources can not be downloaded.\r\nBut when I try:\r\n\r\n    mvn dependency:sources\r\n\r\nAll sources are downloaded.\r\n\r\nWhat is the problem?\r\n\r\n**P.S.** I have checked that Idea use the same maven that use in console. There are not any &quot;off line&quot; mode buttons triggered in Idea.","title":"Can not download sources with Intellij Idea community 12.1.4 and maven 3.0.5","body":"<p>I click \"download sources and documentation\" in Intellij Idea Community Edition 12.1.4 and get error that sources can not be downloaded.\nBut when I try:</p>\n\n<pre><code>mvn dependency:sources\n</code></pre>\n\n<p>All sources are downloaded.</p>\n\n<p>What is the problem?</p>\n\n<p><strong>P.S.</strong> I have checked that Idea use the same maven that use in console. There are not any \"off line\" mode buttons triggered in Idea.</p>\n"},{"tags":["java","testing","junit","test-suite","suite"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1684069679,"post_id":76247538,"comment_id":134459756,"body_markdown":"what is `All Tests` here?","body":"what is <code>All Tests</code> here?"},{"owner":{"account_id":27142702,"reputation":3,"user_id":20683365,"display_name":"Terry K."},"score":0,"creation_date":1684070405,"post_id":76247538,"comment_id":134459840,"body_markdown":"@AshishPatil It means that executing all test of a module in intellij IDE. (https://i.stack.imgur.com/l7BzS.png )","body":"@AshishPatil It means that executing all test of a module in intellij IDE. (<a href=\"https://i.stack.imgur.com/l7BzS.png\" rel=\"nofollow noreferrer\">i.stack.imgur.com/l7BzS.png</a> )"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1684071122,"post_id":76247538,"comment_id":134459906,"body_markdown":"I don&#39;t think you can prevent it. This is like &quot;select all&quot;. You can however select in IDE only the suite (or multiple suites holding Ctrl) and run them.","body":"I don&#39;t think you can prevent it. This is like &quot;select all&quot;. You can however select in IDE only the suite (or multiple suites holding Ctrl) and run them."}],"owner":{"account_id":27142702,"reputation":3,"user_id":20683365,"display_name":"Terry K."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684068247,"creation_date":1684068076,"question_id":76247538,"body_markdown":"We are using Java 8 and Junit version 4.13.2, and we want to bundle the following two tests into a TestSuite to test them.\r\n\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@Transactional\r\npublic class ATest {\r\n\r\n  // Some tests..\r\n\r\n}\r\n```\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest\r\n@Transactional\r\npublic class BTest {\r\n\r\n  // Some tests..\r\n\r\n}\r\n```\r\n\r\nThis is TestSuite class.\r\n\r\n```\r\nimport org.junit.runner.RunWith;\r\nimport org.junit.runners.Suite;\r\n\r\n\r\n@RunWith(Suite.class)\r\n@Suite.SuiteClasses({ATest.class, BTest.class})\r\npublic class ABSuite {\r\n}\r\n\r\n```\r\n\r\nThere is no problem executing tests for the `ABSuite` class. However, when running &quot;run all tests&quot; in IntelliJ or running `mvn clean test`, all methods of both `ATest` and `BTest` classes as well as `ABSuite` are executed twice, resulting in duplicate execution of each test class. \r\n\r\n[&#39;run all tests&#39; button in intellij&#39;][1]\r\n\r\nWhile adding `&lt;excludedGroups&gt;com.sov.example.BTest,com.sov.example.BTest&lt;/excludedGroups&gt;` to the `maven-surefire-plugin` configuration in `pom.xml` works when running `mvn clean test`, I would like to seek advice on how to prevent duplicate execution of the test classes when running &quot;run all tests&quot; in the IDE. Thank you\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/l7BzS.png","title":"How can I prevent duplicated executing tests about Suite in JUnit4?","body":"<p>We are using Java 8 and Junit version 4.13.2, and we want to bundle the following two tests into a TestSuite to test them.</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@Transactional\npublic class ATest {\n\n  // Some tests..\n\n}\n</code></pre>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\n@Transactional\npublic class BTest {\n\n  // Some tests..\n\n}\n</code></pre>\n<p>This is TestSuite class.</p>\n<pre><code>import org.junit.runner.RunWith;\nimport org.junit.runners.Suite;\n\n\n@RunWith(Suite.class)\n@Suite.SuiteClasses({ATest.class, BTest.class})\npublic class ABSuite {\n}\n\n</code></pre>\n<p>There is no problem executing tests for the <code>ABSuite</code> class. However, when running &quot;run all tests&quot; in IntelliJ or running <code>mvn clean test</code>, all methods of both <code>ATest</code> and <code>BTest</code> classes as well as <code>ABSuite</code> are executed twice, resulting in duplicate execution of each test class.</p>\n<p><a href=\"https://i.stack.imgur.com/l7BzS.png\" rel=\"nofollow noreferrer\">'run all tests' button in intellij'</a></p>\n<p>While adding <code>&lt;excludedGroups&gt;com.sov.example.BTest,com.sov.example.BTest&lt;/excludedGroups&gt;</code> to the <code>maven-surefire-plugin</code> configuration in <code>pom.xml</code> works when running <code>mvn clean test</code>, I would like to seek advice on how to prevent duplicate execution of the test classes when running &quot;run all tests&quot; in the IDE. Thank you</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":1053202,"reputation":59956,"user_id":1056563,"accept_rate":90,"display_name":"WestCoastProjects"},"score":0,"creation_date":1478883407,"post_id":24439818,"comment_id":68343666,"body_markdown":"There is a v good answer available to this question: consider commenting why/why not it has not yet been accepted (and *do* accept it if it were addressing your post)","body":"There is a v good answer available to this question: consider commenting why/why not it has not yet been accepted (and <i>do</i> accept it if it were addressing your post)"},{"owner":{"account_id":962687,"reputation":1475,"user_id":986696,"accept_rate":75,"display_name":"Alex Jansen"},"score":0,"creation_date":1480833814,"post_id":24439818,"comment_id":69121869,"body_markdown":"While the provided answer by @hawkeye was helpful, it did not resolve my issue and was not comprehensive enough to warrant accepting as an official answer at the time.  This issue is also a couple of years old now and AFAIK has been solved in newer versions of IntelliJ.  EDIT:  Just noticed that you ARE still encountering this issue.  If you happen to find a definitive solution to the problem then feel free to post your answer here and I&#39;ll accept that!","body":"While the provided answer by @hawkeye was helpful, it did not resolve my issue and was not comprehensive enough to warrant accepting as an official answer at the time.  This issue is also a couple of years old now and AFAIK has been solved in newer versions of IntelliJ.  EDIT:  Just noticed that you ARE still encountering this issue.  If you happen to find a definitive solution to the problem then feel free to post your answer here and I&#39;ll accept that!"}],"answers":[{"tags":[],"owner":{"account_id":8529,"reputation":35006,"user_id":15441,"accept_rate":92,"display_name":"hawkeye"},"down_vote_count":1,"up_vote_count":20,"is_accepted":false,"score":19,"last_activity_date":1459993771,"creation_date":1459993771,"answer_id":36465302,"question_id":24439818,"body_markdown":"I was able to replicate this in IntelliJ 16 on Windows. \r\n\r\nHere is how I resolved it:\r\n\r\n1. Choose file -&gt; Settings -&gt; Build, Execution, Deployment -&gt; Build Tools -&gt; Maven -&gt; Repositories\r\n2. Select Your local repository from the list (or add it if it is not there)\r\n3. Click the &#39;Update&#39; button \r\n4. Click ok\r\n5. Right click your `pom.xml` file and select Maven -&gt; Reimport\r\n\r\n","title":"IntelliJ cannot load sources from local Maven repository","body":"<p>I was able to replicate this in IntelliJ 16 on Windows. </p>\n\n<p>Here is how I resolved it:</p>\n\n<ol>\n<li>Choose file -> Settings -> Build, Execution, Deployment -> Build Tools -> Maven -> Repositories</li>\n<li>Select Your local repository from the list (or add it if it is not there)</li>\n<li>Click the 'Update' button </li>\n<li>Click ok</li>\n<li>Right click your <code>pom.xml</code> file and select Maven -> Reimport</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2584375,"reputation":7820,"user_id":2240409,"accept_rate":79,"display_name":"dazito"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1601498837,"creation_date":1601498837,"answer_id":64145510,"question_id":24439818,"body_markdown":"I had the same problem. In my case I have 2 projects developed locally (project A and B) where project B is a dependency of the project A. I solved it by:\r\n\r\nFirst: On project B add the following plugin to your pom file:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;attach-sources&lt;/id&gt;\r\n                &lt;phase&gt;verify&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;jar-no-fork&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nMore info about this plugin here: https://maven.apache.org/plugins/maven-source-plugin/usage.html\r\n\r\nSecond: On project B root folder run: `mvn source:jar` followed by `mvn install`.\r\nThe first command will generate the sources and the second will publish them in your local repo.\r\n\r\nThen IntelliJ, on project A, automatically picked up the sources from project B. If it doesn&#39;t then you may need to reload your project dependencies on project A or run `mvn clean install` on the root folder","title":"IntelliJ cannot load sources from local Maven repository","body":"<p>I had the same problem. In my case I have 2 projects developed locally (project A and B) where project B is a dependency of the project A. I solved it by:</p>\n<p>First: On project B add the following plugin to your pom file:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;attach-sources&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;jar-no-fork&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>More info about this plugin here: <a href=\"https://maven.apache.org/plugins/maven-source-plugin/usage.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/plugins/maven-source-plugin/usage.html</a></p>\n<p>Second: On project B root folder run: <code>mvn source:jar</code> followed by <code>mvn install</code>.\nThe first command will generate the sources and the second will publish them in your local repo.</p>\n<p>Then IntelliJ, on project A, automatically picked up the sources from project B. If it doesn't then you may need to reload your project dependencies on project A or run <code>mvn clean install</code> on the root folder</p>\n"}],"owner":{"account_id":962687,"reputation":1475,"user_id":986696,"accept_rate":75,"display_name":"Alex Jansen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19810,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1684068106,"creation_date":1403815220,"question_id":24439818,"body_markdown":"I&#39;m doing some testing work that requires the use of features in JUnit which are unfamiliar to me.  In order to better understand these features I&#39;d like to be able to view the JUnit sources inside IntelliJ alongside my project.\r\n\r\nThis project uses Maven.  I have the following dependency for jUnit listed in my pom.xml file:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;junit&lt;/groupId&gt;\r\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nWhen I run &quot;mvn clean install&quot; on the command line the jUnit sources are downloaded from my company&#39;s Maven repository into my local Maven repository (.m2 directory).  The project then compiles and runs without issue.\r\n\r\nAfter right-clicking on the pom.xml file and selecting Maven-&gt;Reimport I can see that the classes, sources, and javadocs for jUnit are also present in the library settings in IntelliJ:\r\n\r\n![Sources visible in IntelliJ library settings][1]\r\n\r\nHowever, when I try to open a jUnit class file in IntelliJ and click on the &quot;Download Sources&quot; link I see this:\r\n\r\n![Sources missing in IntelliJ when viewing class][2]\r\n\r\nIt seems to might like IntelliJ should be finding these sources just fine locally.  Even if it did have to download them from my company&#39;s repository I also believe it should find them there since that&#39;s where the junit-4.10-sources.jar file in my local repository originally came from.\r\n\r\nWhat might be keeping IntelliJ from loading the sources from the JAR file that it already knows about?\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/bSm69.png\r\n  [2]: http://i.stack.imgur.com/NzS1z.png","title":"IntelliJ cannot load sources from local Maven repository","body":"<p>I'm doing some testing work that requires the use of features in JUnit which are unfamiliar to me.  In order to better understand these features I'd like to be able to view the JUnit sources inside IntelliJ alongside my project.</p>\n\n<p>This project uses Maven.  I have the following dependency for jUnit listed in my pom.xml file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;junit&lt;/groupId&gt;\n    &lt;artifactId&gt;junit&lt;/artifactId&gt;\n    &lt;version&gt;4.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I run \"mvn clean install\" on the command line the jUnit sources are downloaded from my company's Maven repository into my local Maven repository (.m2 directory).  The project then compiles and runs without issue.</p>\n\n<p>After right-clicking on the pom.xml file and selecting Maven->Reimport I can see that the classes, sources, and javadocs for jUnit are also present in the library settings in IntelliJ:</p>\n\n<p><img src=\"https://i.stack.imgur.com/bSm69.png\" alt=\"Sources visible in IntelliJ library settings\"></p>\n\n<p>However, when I try to open a jUnit class file in IntelliJ and click on the \"Download Sources\" link I see this:</p>\n\n<p><img src=\"https://i.stack.imgur.com/NzS1z.png\" alt=\"Sources missing in IntelliJ when viewing class\"></p>\n\n<p>It seems to might like IntelliJ should be finding these sources just fine locally.  Even if it did have to download them from my company's repository I also believe it should find them there since that's where the junit-4.10-sources.jar file in my local repository originally came from.</p>\n\n<p>What might be keeping IntelliJ from loading the sources from the JAR file that it already knows about?</p>\n"},{"tags":["java","intellij-idea","bootstrap-4"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":1,"creation_date":1674462250,"post_id":75202529,"comment_id":132710913,"body_markdown":"Looks like it is a known problem that wasn&#39;t addressed yet https://github.com/bodiam/intellij-bootstrap/issues . To make the IDE work again, please remove the plugin from the [plugins folder](https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#plugins-directory) and restart.","body":"Looks like it is a known problem that wasn&#39;t addressed yet <a href=\"https://github.com/bodiam/intellij-bootstrap/issues\" rel=\"nofollow noreferrer\">github.com/bodiam/intellij-bootstrap/issues</a> . To make the IDE work again, please remove the plugin from the <a href=\"https://www.jetbrains.com/help/idea/directories-used-by-the-ide-to-store-settings-caches-plugins-and-logs.html#plugins-directory\" rel=\"nofollow noreferrer\">plugins folder</a> and restart."},{"owner":{"account_id":2667309,"reputation":149,"user_id":2305431,"display_name":"Erfan Bashar"},"score":0,"creation_date":1675518722,"post_id":75202529,"comment_id":132948459,"body_markdown":"@EgorKlepikov On this version, the plugin folder is shifted to the Application Package Content in the Application folder. The /Library/Application Support path does not have any JetBrains folder as they mentioned on their website. I have tried reinstalling the IDE but the result is same","body":"@EgorKlepikov On this version, the plugin folder is shifted to the Application Package Content in the Application folder. The /Library/Application Support path does not have any JetBrains folder as they mentioned on their website. I have tried reinstalling the IDE but the result is same"}],"answers":[{"tags":[],"owner":{"account_id":12710898,"reputation":11,"user_id":9234573,"display_name":"Amith Basha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684067889,"creation_date":1684039811,"answer_id":76245866,"question_id":75202529,"body_markdown":"I have faced a same issue. That bootstrap plugin has issues. to resolve the startup issue bootsrap3.jar file should be deleted from the installation path which is mentioned in your error log itself.\r\n\r\n    path=~/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar\r\n\r\nBut there is tricky problem in Mac, the above path can&#39;t be found in the Mac generally. Generally we find the global Library path when trying to `cd /Library` but Jetbrains directory can&#39;t be found in the `Library/Application Support` folder. \r\nThere is an user level Library folder which by default hidden in Macbooks.\r\nPath should be like `/Users/{Your User}/Library/Application Support/...`.\r\nThis Path can&#39;t be found in Finder but you can directly hit the path in terminal using: \r\n\r\n    cd /Users/{Your User}/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar\r\n\r\nand delete the bootstrap3.jar then restart the Idea it will open without any issues.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Intellij startup error due to bootstrap plugin on Mac","body":"<p>I have faced a same issue. That bootstrap plugin has issues. to resolve the startup issue bootsrap3.jar file should be deleted from the installation path which is mentioned in your error log itself.</p>\n<pre><code>path=~/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar\n</code></pre>\n<p>But there is tricky problem in Mac, the above path can't be found in the Mac generally. Generally we find the global Library path when trying to <code>cd /Library</code> but Jetbrains directory can't be found in the <code>Library/Application Support</code> folder.\nThere is an user level Library folder which by default hidden in Macbooks.\nPath should be like <code>/Users/{Your User}/Library/Application Support/...</code>.\nThis Path can't be found in Finder but you can directly hit the path in terminal using:</p>\n<pre><code>cd /Users/{Your User}/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar\n</code></pre>\n<p>and delete the bootstrap3.jar then restart the Idea it will open without any issues.</p>\n"}],"owner":{"account_id":2667309,"reputation":149,"user_id":2305431,"display_name":"Erfan Bashar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684067889,"creation_date":1674408991,"question_id":75202529,"body_markdown":"After installing a bootstrap plugin from the IntelliJ plugin marketplace, it asks for a reboot. After restarting Intellij, it is not open and showing the following log. I have already tried reinstalling it. I am using the community version 2022.3\r\n```Internal error. Please refer to https://jb.gg/ide/critical-startup-errors\r\n\r\ncom.intellij.diagnostic.PluginException: Fatal error initializing &#39;com.intellij.plugin.bootstrap.BootstrapPluginApplicationComponent\r\n            &#39; [Plugin: nl.jworks.intellij.bootstrap3]\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.handleInitComponentError$intellij_platform_serviceContainer(ComponentManagerImpl.kt:571)\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:382)\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.access$registerComponents(ComponentManagerImpl.kt:50)\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:260)\r\n    at com.intellij.openapi.client.ClientAwareComponentManager.registerComponents(ClientAwareComponentManager.kt:46)\r\n    at com.intellij.idea.ApplicationLoader.doInitApplication(ApplicationLoader.kt:78)\r\n    at com.intellij.idea.ApplicationLoader.access$doInitApplication(ApplicationLoader.kt:1)\r\n    at com.intellij.idea.ApplicationLoader$doInitApplication$1.invokeSuspend(ApplicationLoader.kt)\r\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n    at com.intellij.idea.ApplicationLoader.initApplication(ApplicationLoader.kt:61)\r\n    at com.p.s.k.p._g.k(_g.java:60)\r\n    at com.p.s.k.p.p6.k(p6.java:113)\r\n    at com.p.s.k.p.pa.p(pa.java:139)\r\n    at com.p.s.k.p.pG.p(pG.java:57)\r\n    at com.intellij.idea.MainImpl.start(MainImpl.kt:13)\r\n    at com.intellij.idea.StartupUtil$startApplication$7.invokeSuspend(StartupUtil.kt:294)\r\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\r\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\r\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\r\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\r\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\r\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\r\n    at com.intellij.idea.Main.main(Main.kt:36)\r\nCaused by: java.lang.ClassNotFoundException: com.intellij.plugin.bootstrap.BootstrapPluginApplicationComponent\r\n             PluginClassLoader(plugin=PluginDescriptor(name=Bootstrap 3, id=nl.jworks.intellij.bootstrap3, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar, version=4.1.1, package=null, isBundled=false), packagePrefix=null, instanceId=12, state=active)\r\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:215)\r\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponent(ComponentManagerImpl.kt:495)\r\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:374)\r\n    ... 26 more\r\n\r\n-----\r\nYour JRE: 17.0.5+1-b653.23 aarch64 (JetBrains s.r.o.)\r\n/Applications/IntelliJ IDEA CE.app/Contents/jbr/Contents/Home```\r\n","title":"Intellij startup error due to bootstrap plugin on Mac","body":"<p>After installing a bootstrap plugin from the IntelliJ plugin marketplace, it asks for a reboot. After restarting Intellij, it is not open and showing the following log. I have already tried reinstalling it. I am using the community version 2022.3</p>\n<pre><code>\ncom.intellij.diagnostic.PluginException: Fatal error initializing 'com.intellij.plugin.bootstrap.BootstrapPluginApplicationComponent\n            ' [Plugin: nl.jworks.intellij.bootstrap3]\n    at com.intellij.serviceContainer.ComponentManagerImpl.handleInitComponentError$intellij_platform_serviceContainer(ComponentManagerImpl.kt:571)\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:382)\n    at com.intellij.serviceContainer.ComponentManagerImpl.access$registerComponents(ComponentManagerImpl.kt:50)\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:260)\n    at com.intellij.openapi.client.ClientAwareComponentManager.registerComponents(ClientAwareComponentManager.kt:46)\n    at com.intellij.idea.ApplicationLoader.doInitApplication(ApplicationLoader.kt:78)\n    at com.intellij.idea.ApplicationLoader.access$doInitApplication(ApplicationLoader.kt:1)\n    at com.intellij.idea.ApplicationLoader$doInitApplication$1.invokeSuspend(ApplicationLoader.kt)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at com.intellij.idea.ApplicationLoader.initApplication(ApplicationLoader.kt:61)\n    at com.p.s.k.p._g.k(_g.java:60)\n    at com.p.s.k.p.p6.k(p6.java:113)\n    at com.p.s.k.p.pa.p(pa.java:139)\n    at com.p.s.k.p.pG.p(pG.java:57)\n    at com.intellij.idea.MainImpl.start(MainImpl.kt:13)\n    at com.intellij.idea.StartupUtil$startApplication$7.invokeSuspend(StartupUtil.kt:294)\n    at kotlin.coroutines.jvm.internal.BaseContinuationImpl.resumeWith(ContinuationImpl.kt:33)\n    at kotlinx.coroutines.DispatchedTask.run(DispatchedTask.kt:106)\n    at kotlinx.coroutines.EventLoopImplBase.processNextEvent(EventLoop.common.kt:284)\n    at kotlinx.coroutines.BlockingCoroutine.joinBlocking(Builders.kt:85)\n    at kotlinx.coroutines.BuildersKt__BuildersKt.runBlocking(Builders.kt:59)\n    at kotlinx.coroutines.BuildersKt.runBlocking(Unknown Source)\n    at com.intellij.idea.Main.main(Main.kt:36)\nCaused by: java.lang.ClassNotFoundException: com.intellij.plugin.bootstrap.BootstrapPluginApplicationComponent\n             PluginClassLoader(plugin=PluginDescriptor(name=Bootstrap 3, id=nl.jworks.intellij.bootstrap3, descriptorPath=plugin.xml, path=~/Library/Application Support/JetBrains/IdeaIC2022.3/plugins/bootstrap3.jar, version=4.1.1, package=null, isBundled=false), packagePrefix=null, instanceId=12, state=active)\n    at com.intellij.ide.plugins.cl.PluginClassLoader.loadClass(PluginClassLoader.java:215)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponent(ComponentManagerImpl.kt:495)\n    at com.intellij.serviceContainer.ComponentManagerImpl.registerComponents(ComponentManagerImpl.kt:374)\n    ... 26 more\n\n-----\nYour JRE: 17.0.5+1-b653.23 aarch64 (JetBrains s.r.o.)\n/Applications/IntelliJ IDEA CE.app/Contents/jbr/Contents/Home```\n</code></pre>\n"},{"tags":["java","selenium"],"answers":[{"tags":[],"owner":{"account_id":5738617,"reputation":1145,"user_id":4531941,"accept_rate":83,"display_name":"Sadik Ali"},"down_vote_count":5,"up_vote_count":4,"is_accepted":true,"score":-1,"last_activity_date":1459753290,"creation_date":1459753290,"answer_id":36396353,"question_id":36396288,"body_markdown":"You should use isDisplayed  method of WebElement.\r\n\r\n    WebElement el = driver.findElement(By.id(&quot;id1&quot;));\r\n    el.isDisplayed ()","title":"Check if element is disable using selenium","body":"<p>You should use isDisplayed  method of WebElement.</p>\n\n<pre><code>WebElement el = driver.findElement(By.id(\"id1\"));\nel.isDisplayed ()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7567625,"reputation":81,"user_id":5742557,"display_name":" kumar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1459782680,"creation_date":1459782680,"answer_id":36406419,"question_id":36396288,"body_markdown":"u can use isEnabled() to verify whether it is enabled or disable.it returns boolean .if it returns true the element is enabled if it returns false the element is disabled.","title":"Check if element is disable using selenium","body":"<p>u can use isEnabled() to verify whether it is enabled or disable.it returns boolean .if it returns true the element is enabled if it returns false the element is disabled.</p>\n"},{"tags":[],"owner":{"account_id":26338332,"reputation":1,"user_id":19997850,"display_name":"Viral Korat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674670438,"creation_date":1674670438,"answer_id":75238155,"question_id":36396288,"body_markdown":"if you want to check how many lists of elements are disabled or enabled, you can use the below syntax.\r\n\r\n\r\n   \r\n\r\n    \r\n\r\n\r\n\r\nList&lt;WebElement&gt; btn = driver.findElements(By.tagName(&quot;button&quot;));\r\n\r\n\t\tint countEnable = 0;\r\n\t\tint countDisable = 0;\r\n\t\tfor (int i = 0; i &lt; btn.size(); i++) {\r\n\t\t\tif (btn.get(i).isEnabled()) {\r\n\t\t\t\tcountEnable++;\r\n\t\t\t} else\r\n\t\t\t\tcountDisable++;\r\n\t\t}\r\n\t\tSystem.out.println(&quot;Total Enabled button available in web page is : &quot; + countEnable);\r\n\t\tSystem.out.println(&quot;Total Disbaled button available in web page is &quot; + countDisable);","title":"Check if element is disable using selenium","body":"<p>if you want to check how many lists of elements are disabled or enabled, you can use the below syntax.</p>\n<p>List btn = driver.findElements(By.tagName(&quot;button&quot;));</p>\n<pre><code>    int countEnable = 0;\n    int countDisable = 0;\n    for (int i = 0; i &lt; btn.size(); i++) {\n        if (btn.get(i).isEnabled()) {\n            countEnable++;\n        } else\n            countDisable++;\n    }\n    System.out.println(&quot;Total Enabled button available in web page is : &quot; + countEnable);\n    System.out.println(&quot;Total Disbaled button available in web page is &quot; + countDisable);\n</code></pre>\n"}],"owner":{"account_id":7276440,"reputation":1272,"user_id":5547743,"accept_rate":62,"display_name":"david hol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25696,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36396353,"answer_count":3,"score":3,"last_activity_date":1684067798,"creation_date":1459753006,"question_id":36396288,"body_markdown":"So i have this `WebElement` (now in disable mode):\r\n\r\n    &lt;select id=&quot;id1&quot; name=&quot;name&quot; disabled=&quot;&quot;&gt;&lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\r\n    &lt;option value=&quot;false&quot;&gt;No&lt;/option&gt;\r\n    &lt;option value=&quot;true&quot;&gt;Yes&lt;/option&gt;&lt;/select&gt;\r\n\r\nNot disable:\r\n\r\n    &lt;select id=&quot;id1&quot; name=&quot;name&quot; &gt;&lt;option value=&quot;&quot;&gt;Select...&lt;/option&gt;\r\n    &lt;option value=&quot;false&quot;&gt;No&lt;/option&gt;\r\n    &lt;option value=&quot;true&quot;&gt;Yes&lt;/option&gt;&lt;/select&gt;\r\n\r\nSo my question is how to check if this element is disable or not ?","title":"Check if element is disable using selenium","body":"<p>So i have this <code>WebElement</code> (now in disable mode):</p>\n\n<pre><code>&lt;select id=\"id1\" name=\"name\" disabled=\"\"&gt;&lt;option value=\"\"&gt;Select...&lt;/option&gt;\n&lt;option value=\"false\"&gt;No&lt;/option&gt;\n&lt;option value=\"true\"&gt;Yes&lt;/option&gt;&lt;/select&gt;\n</code></pre>\n\n<p>Not disable:</p>\n\n<pre><code>&lt;select id=\"id1\" name=\"name\" &gt;&lt;option value=\"\"&gt;Select...&lt;/option&gt;\n&lt;option value=\"false\"&gt;No&lt;/option&gt;\n&lt;option value=\"true\"&gt;Yes&lt;/option&gt;&lt;/select&gt;\n</code></pre>\n\n<p>So my question is how to check if this element is disable or not ?</p>\n"},{"tags":["java","public-key-encryption"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1620036585,"post_id":67367026,"comment_id":119073826,"body_markdown":"You can&#39;t. PKI would be useless if this was possible. Your question doesn&#39;t make sense. Either you want asymmetric encryption or you want symmetric encryption. Not both at the same time.","body":"You can&#39;t. PKI would be useless if this was possible. Your question doesn&#39;t make sense. Either you want asymmetric encryption or you want symmetric encryption. Not both at the same time."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1620037679,"post_id":67367026,"comment_id":119074258,"body_markdown":"@user207421 i thought it was possible to recreate the pair from the private / secret key?","body":"@user207421 i thought it was possible to recreate the pair from the private / secret key?"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1620041100,"post_id":67367026,"comment_id":119075584,"body_markdown":"First question: `KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(new PKCS8EncodedKeySpec(Base64.getDecoder().decode(base64)))`","body":"First question: <code>KeyFactory.getInstance(&quot;EC&quot;).generatePrivate(new PKCS8EncodedKeySpec(Base64.getDecoder().decode(base64)))</code>"},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1620041218,"post_id":67367026,"comment_id":119075622,"body_markdown":"2nd question: Probably not possible, as @user207421 noted. See https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey. Except if you have a private key certificate which might also contain the public key information.","body":"2nd question: Probably not possible, as @user207421 noted. See <a href=\"https://stackoverflow.com/questions/11345346/how-to-get-a-rsa-publickey-by-giving-a-privatekey\" title=\"how to get a rsa publickey by giving a privatekey\">stackoverflow.com/questions/11345346/&hellip;</a>. Except if you have a private key certificate which might also contain the public key information."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1620044976,"post_id":67367026,"comment_id":119077150,"body_markdown":"You thought so why? If you could recreate a private key from anything other than its own encoding it wouldn&#39;t be private and the whole PKI system would be pointless.","body":"You thought so why? If you could recreate a private key from anything other than its own encoding it wouldn&#39;t be private and the whole PKI system would be pointless."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1620045023,"post_id":67367026,"comment_id":119077171,"body_markdown":"@RetoH&#246;hener Certificates contain public keys but they never contain private keys.","body":"@RetoH&#246;hener Certificates contain public keys but they never contain private keys."},{"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"score":0,"creation_date":1620047005,"post_id":67367026,"comment_id":119078130,"body_markdown":"@user207421 you are right. i was thinking about PEM key files.","body":"@user207421 you are right. i was thinking about PEM key files."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1620145915,"post_id":67367026,"comment_id":119112258,"body_markdown":"Despite the claims in the other comments it is possible to create an instance of the KeyPair class with just the base64-encoded private key, provided you know the EC domain parameters. And you do in your case, it is secp256k1. There should be plenty of related questions and answer here to guide you. The SecretKey class is for symmetric cryptography and is not applicable here.","body":"Despite the claims in the other comments it is possible to create an instance of the KeyPair class with just the base64-encoded private key, provided you know the EC domain parameters. And you do in your case, it is secp256k1. There should be plenty of related questions and answer here to guide you. The SecretKey class is for symmetric cryptography and is not applicable here."},{"owner":{"account_id":21437866,"reputation":11,"user_id":15793014,"display_name":"GLedger"},"score":0,"creation_date":1620576152,"post_id":67367026,"comment_id":119236064,"body_markdown":"@user207421 Sorry, I think I may have caused some confusion with the SecretKey class. I only want asymetric encryption.","body":"@user207421 Sorry, I think I may have caused some confusion with the SecretKey class. I only want asymetric encryption."},{"owner":{"account_id":21437866,"reputation":11,"user_id":15793014,"display_name":"GLedger"},"score":0,"creation_date":1620576253,"post_id":67367026,"comment_id":119236095,"body_markdown":"@RetoH&#246;hener That works. Thanks for your answer.","body":"@RetoH&#246;hener That works. Thanks for your answer."},{"owner":{"account_id":21437866,"reputation":11,"user_id":15793014,"display_name":"GLedger"},"score":0,"creation_date":1620576556,"post_id":67367026,"comment_id":119236171,"body_markdown":"@PresidentJamesK.Polk Thanks for your answer. Yes I realised the SecretKey class doesn&#39;t really make sense here and changed it. Also could you maybe provide some links to the related questions if it isn&#39;t to much work. I&#39;ve already searched a lot but didn&#39;t really find anything.","body":"@PresidentJamesK.Polk Thanks for your answer. Yes I realised the SecretKey class doesn&#39;t really make sense here and changed it. Also could you maybe provide some links to the related questions if it isn&#39;t to much work. I&#39;ve already searched a lot but didn&#39;t really find anything."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":0,"creation_date":1620577227,"post_id":67367026,"comment_id":119236371,"body_markdown":"See if [this question](https://stackoverflow.com/q/48832170/238704) together with the answer by @dave_thompson_085 helps.","body":"See if <a href=\"https://stackoverflow.com/q/48832170/238704\">this question</a> together with the answer by @dave_thompson_085 helps."}],"answers":[{"tags":[],"owner":{"account_id":11136404,"reputation":51,"user_id":11669647,"display_name":"Kyaw Thura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684067375,"creation_date":1684067375,"answer_id":76247488,"question_id":67367026,"body_markdown":"If you are trying to generate the private/public key pair from created secrect string, you can follow this example.\r\n\r\n    Security.addProvider(new BouncyCastleProvider());    \r\n    bytes secretKey = Base64.getEncoder().decode(&quot;Secret Key/ Created Secure Random Key&quot;);\r\n    \r\n    ECGenParameterSpec ecSpec = new ECGenParameterSpec(&quot;secp256k1&quot;);\r\n    KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;, BouncyCastleProvider.PROVIDER_NAME);\r\n    generator.initialize(ecSpec, new SecureRandom(secretKey));\r\n    KeyPair kp = generator.generateKeyPair();\r\nI hope this is your need.","title":"How can I generate an EC KeyPair from a PrivateKey string?","body":"<p>If you are trying to generate the private/public key pair from created secrect string, you can follow this example.</p>\n<pre><code>Security.addProvider(new BouncyCastleProvider());    \nbytes secretKey = Base64.getEncoder().decode(&quot;Secret Key/ Created Secure Random Key&quot;);\n\nECGenParameterSpec ecSpec = new ECGenParameterSpec(&quot;secp256k1&quot;);\nKeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;, BouncyCastleProvider.PROVIDER_NAME);\ngenerator.initialize(ecSpec, new SecureRandom(secretKey));\nKeyPair kp = generator.generateKeyPair();\n</code></pre>\n<p>I hope this is your need.</p>\n"}],"owner":{"account_id":21437866,"reputation":11,"user_id":15793014,"display_name":"GLedger"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684067375,"creation_date":1620036274,"question_id":67367026,"body_markdown":"I generated a KeyPair like this:\r\n\r\n    ECGenParameterSpec ecSpec = new ECGenParameterSpec(&quot;secp256k1&quot;);\r\n    KeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;);\r\n    generator.initialize(ecSpec, new SecureRandom());\r\n    KeyPair kp = generator.generateKeyPair();\r\n\r\nThen I  generate Strings from the KeyPair:\r\n\r\n    String privateKeyString = Base64.getEncoder().encodeToString(kp.getPrivate().getEncoded();\r\n\r\nSo my first Question is how can I generate a PrivateKey object from `privateKeyString`  and my second question is how can I generate a PublicKey / KeyPair from the PrivateKey object?","title":"How can I generate an EC KeyPair from a PrivateKey string?","body":"<p>I generated a KeyPair like this:</p>\n<pre><code>ECGenParameterSpec ecSpec = new ECGenParameterSpec(&quot;secp256k1&quot;);\nKeyPairGenerator generator = KeyPairGenerator.getInstance(&quot;EC&quot;);\ngenerator.initialize(ecSpec, new SecureRandom());\nKeyPair kp = generator.generateKeyPair();\n</code></pre>\n<p>Then I  generate Strings from the KeyPair:</p>\n<pre><code>String privateKeyString = Base64.getEncoder().encodeToString(kp.getPrivate().getEncoded();\n</code></pre>\n<p>So my first Question is how can I generate a PrivateKey object from <code>privateKeyString</code>  and my second question is how can I generate a PublicKey / KeyPair from the PrivateKey object?</p>\n"},{"tags":["java","spring-boot","kotlin","thymeleaf"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684067286,"post_id":76247372,"comment_id":134459459,"body_markdown":"sorry, your repo &quot;works&quot; (doesn&#39;t reproduce the issue)... (`mvn clean spring-boot:run`)","body":"sorry, your repo &quot;works&quot; (doesn&#39;t reproduce the issue)... (<code>mvn clean spring-boot:run</code>)"},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1684067309,"post_id":76247372,"comment_id":134459462,"body_markdown":"It is better to add the relevant information directly into the question, instead of only relying on links to external locations.","body":"It is better to add the relevant information directly into the question, instead of only relying on links to external locations."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1684067460,"post_id":76247372,"comment_id":134459485,"body_markdown":"..it &quot;works&quot;, but controller is not compiled! (java files in src/main/kotlin, really !?)","body":"..it &quot;works&quot;, but controller is not compiled! (java files in src/main/kotlin, really !?)"},{"owner":{"account_id":2272751,"reputation":360,"user_id":1999752,"accept_rate":0,"display_name":"Ekaterina Ivanova iceja.net"},"score":0,"creation_date":1684070789,"post_id":76247372,"comment_id":134459880,"body_markdown":"@xerx593 you are correct, cleaning cache helps!! This project is mixed one - Java + Kotlin","body":"@xerx593 you are correct, cleaning cache helps!! This project is mixed one - Java + Kotlin"}],"owner":{"account_id":2272751,"reputation":360,"user_id":1999752,"accept_rate":0,"display_name":"Ekaterina Ivanova iceja.net"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684067331,"creation_date":1684065597,"question_id":76247372,"body_markdown":"I have the following controller \r\nhttps://github.com/iva-nova-e-katerina/mysite_v2/blob/main/src/main/kotlin/net/iceja/controller/FrontPageController.java\r\nBut &quot;index&quot; template doesn&#39;t work. \r\nlocalhost:8080\r\n\r\n    Whitelabel Error Page\r\n    \r\n    This application has no explicit mapping for /error, so you are seeing this as a fallback.\r\n    Sun May 14 14:58:08 MSK 2023\r\n    There was an unexpected error (type=Not Found, status=404).\r\n    No message available\r\n\r\nyou can clone my project to see\r\n\r\n    git clone git@github.com:iva-nova-e-katerina/mysite_v2.git\r\n\r\nOr browse it in github, please tell me what am I doing wrong","title":"Thymeleaf template doesn&#39;t work insde SpringBoot application","body":"<p>I have the following controller\n<a href=\"https://github.com/iva-nova-e-katerina/mysite_v2/blob/main/src/main/kotlin/net/iceja/controller/FrontPageController.java\" rel=\"nofollow noreferrer\">https://github.com/iva-nova-e-katerina/mysite_v2/blob/main/src/main/kotlin/net/iceja/controller/FrontPageController.java</a>\nBut &quot;index&quot; template doesn't work.\nlocalhost:8080</p>\n<pre><code>Whitelabel Error Page\n\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.\nSun May 14 14:58:08 MSK 2023\nThere was an unexpected error (type=Not Found, status=404).\nNo message available\n</code></pre>\n<p>you can clone my project to see</p>\n<pre><code>git clone git@github.com:iva-nova-e-katerina/mysite_v2.git\n</code></pre>\n<p>Or browse it in github, please tell me what am I doing wrong</p>\n"},{"tags":["java","oop","overloading","java-17"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1683906752,"post_id":76238006,"comment_id":134443421,"body_markdown":"show the complete error message and a [mcve]","body":"show the complete error message and a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1683907041,"post_id":76238006,"comment_id":134443502,"body_markdown":"You added the error message, good. Now post a [mcve].","body":"You added the error message, good. Now post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1683907048,"post_id":76238006,"comment_id":134443505,"body_markdown":"Which overloaded method is used is determined by the _declared type_ (`I` for both variables), not the _actual_ type. Even if `I` is limited to `A` and `B`, the compiler still won&#39;t know which of the two to call.","body":"Which overloaded method is used is determined by the <i>declared type</i> (<code>I</code> for both variables), not the <i>actual</i> type. Even if <code>I</code> is limited to <code>A</code> and <code>B</code>, the compiler still won&#39;t know which of the two to call."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1683907084,"post_id":76238006,"comment_id":134443516,"body_markdown":"Your methods expect an argument of type `A a` or `B b` but you try to pass `I a`.  Resolving which method gets called is done during compile time so it doesn&#39;t matter what your object is during runtime (or that in the code above it is only possible to be of a certain type). As far as the compiler is concerned `a` is `I a` and nothing more and there is no method that accepts `I` as an argument.","body":"Your methods expect an argument of type <code>A a</code> or <code>B b</code> but you try to pass <code>I a</code>.  Resolving which method gets called is done during compile time so it doesn&#39;t matter what your object is during runtime (or that in the code above it is only possible to be of a certain type). As far as the compiler is concerned <code>a</code> is <code>I a</code> and nothing more and there is no method that accepts <code>I</code> as an argument."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1683907459,"post_id":76238006,"comment_id":134443609,"body_markdown":"If both `A` and `B` extend/implement `I` but your method only accepts `A` or `B`, then you cannot pass an `I`. What if there is a `C` that also implements `I`? then there&#39;s no method for it. If you define a third method `String map(I b);`, then dynamic binding would kick in.","body":"If both <code>A</code> and <code>B</code> extend/implement <code>I</code> but your method only accepts <code>A</code> or <code>B</code>, then you cannot pass an <code>I</code>. What if there is a <code>C</code> that also implements <code>I</code>? then there&#39;s no method for it. If you define a third method <code>String map(I b);</code>, then dynamic binding would kick in."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683907801,"post_id":76238006,"comment_id":134443687,"body_markdown":"Even though *you know* that `a` contains an instance of A, the *compiler* does not know that.  You told the compiler that `a` contains an object of type I.  The compile does not *execute* any code;  the compiler merely compiles it.  The compiler doesnâ€™t know that you assigned an A object to `a`.  The compiler doesnâ€™t have any way to be know whether another assignment elsewhere in the code might place a different object in `a` whose type is not A.","body":"Even though <i>you know</i> that <code>a</code> contains an instance of A, the <i>compiler</i> does not know that.  You told the compiler that <code>a</code> contains an object of type I.  The compile does not <i>execute</i> any code;  the compiler merely compiles it.  The compiler doesnâ€™t know that you assigned an A object to <code>a</code>.  The compiler doesnâ€™t have any way to be know whether another assignment elsewhere in the code might place a different object in <code>a</code> whose type is not A."},{"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"score":0,"creation_date":1683908618,"post_id":76238006,"comment_id":134443858,"body_markdown":"@f1sh  even with sealed interface it doesn&#39;t work. because if I permit only A and B to implement I why at runtime there is no kind of type matching ? adding ``` String map (I b) ``` makes code compile but the at runtime only this method will be executed","body":"@f1sh  even with sealed interface it doesn&#39;t work. because if I permit only A and B to implement I why at runtime there is no kind of type matching ? adding ``` String map (I b) ``` makes code compile but the at runtime only this method will be executed"},{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1683909216,"post_id":76238006,"comment_id":134443985,"body_markdown":"@maroodb &quot;why at runtime there is no kind of type matching ?&quot; &lt;- Because that&#39;s just how method overloading works. Deciding which of the overloaded methods to call is always done during compile time. There simply is no such thing as runtime-overloaded-method-call-decision-making in java. If you want a decision which methods gets called during runtime you need to use polymorphism and not method overloading.","body":"@maroodb &quot;why at runtime there is no kind of type matching ?&quot; &lt;- Because that&#39;s just how method overloading works. Deciding which of the overloaded methods to call is always done during compile time. There simply is no such thing as runtime-overloaded-method-call-decision-making in java. If you want a decision which methods gets called during runtime you need to use polymorphism and not method overloading."},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1683910121,"post_id":76238006,"comment_id":134444155,"body_markdown":"@maroodb In case you are wondering how a solution via polymorphism would look like, here is a simple example of how it could be done: https://ideone.com/GR7Oob","body":"@maroodb In case you are wondering how a solution via polymorphism would look like, here is a simple example of how it could be done: <a href=\"https://ideone.com/GR7Oob\" rel=\"nofollow noreferrer\">ideone.com/GR7Oob</a>"},{"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"score":0,"creation_date":1683918777,"post_id":76238006,"comment_id":134445746,"body_markdown":"@OHGODSPIDERS, Thanks for the proposed solution, but actually I have some constraints: A and B are domain entity they implement a marker interface. Mapper is a class at presentation layer it should map domain objects to presentation objects. I need to map list of different domain objects (which they only implement the same marker interface) into presentations DTOs. So I can&#39;t add mapping related logic inside A and B","body":"@OHGODSPIDERS, Thanks for the proposed solution, but actually I have some constraints: A and B are domain entity they implement a marker interface. Mapper is a class at presentation layer it should map domain objects to presentation objects. I need to map list of different domain objects (which they only implement the same marker interface) into presentations DTOs. So I can&#39;t add mapping related logic inside A and B"},{"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"score":0,"creation_date":1683926069,"post_id":76238006,"comment_id":134447015,"body_markdown":"I was able to get similar result using visitor pattern I will publish it in response","body":"I was able to get similar result using visitor pattern I will publish it in response"},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":0,"creation_date":1683932706,"post_id":76238006,"comment_id":134447735,"body_markdown":"Try to write your question title to be clear and specific enough that someone doesn&#39;t need to read the question body to know what the word &quot;this&quot; is being used to refer to.","body":"Try to write your question title to be clear and specific enough that someone doesn&#39;t need to read the question body to know what the word &quot;this&quot; is being used to refer to."},{"owner":{"account_id":8002,"reputation":283793,"user_id":14122,"accept_rate":71,"display_name":"Charles Duffy"},"score":1,"creation_date":1683932865,"post_id":76238006,"comment_id":134447754,"body_markdown":"My first attempt at a more concrete title: &quot;Why can&#39;t method dispatch select between an argument accepting an interface and a concrete type implementing same?&quot;","body":"My first attempt at a more concrete title: &quot;Why can&#39;t method dispatch select between an argument accepting an interface and a concrete type implementing same?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683907876,"creation_date":1683907876,"answer_id":76238176,"question_id":76238006,"body_markdown":"type of object `a` is not known at compile time, the compiler cannot determine which version of the map method to call, so it is ambiguous\r\n\r\nTo fix this, \r\n\r\nOption1: change the type of `a` to be more specific \r\n\r\n - (e.g., A a = new A() or B b = new B())\r\n\r\nOption2: modify the map method of the C interface to accept any object that implements the I interface \r\n\r\n - (e.g., String map(I i)).","title":"Method dispatch in Java: why can&#39;t it differentiate between interface and class arguments at runtime?","body":"<p>type of object <code>a</code> is not known at compile time, the compiler cannot determine which version of the map method to call, so it is ambiguous</p>\n<p>To fix this,</p>\n<p>Option1: change the type of <code>a</code> to be more specific</p>\n<ul>\n<li>(e.g., A a = new A() or B b = new B())</li>\n</ul>\n<p>Option2: modify the map method of the C interface to accept any object that implements the I interface</p>\n<ul>\n<li>(e.g., String map(I i)).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683926900,"creation_date":1683926900,"answer_id":76240040,"question_id":76238006,"body_markdown":"Since it&#39;s not possible in java to have this kind of overloading, I found a solution which could resolve a similar problem, using Visitor pattern.\r\n\r\nFirst let&#39;s say that the code below represent our domain object and we wont add any external dependency or implementation details to it (like mapping details) \r\n\r\n \r\n\r\n    // Domain Layer\r\n     interface I {\r\n        void accept(VisitorMapper visitorMapper);\r\n      }\r\n\r\n      static final class A implements I {\r\n        @Override\r\n        public void accept(VisitorMapper visitorMapper) {\r\n          visitorMapper.visit(this);\r\n        }\r\n      }\r\n      static final class B implements I {\r\n        @Override\r\n        public void accept(VisitorMapper visitorMapper) {\r\n          visitorMapper.visit(this);\r\n        }\r\n      }\r\n\r\n    interface VisitorMapper {\r\n    \r\n        void visit(A a);\r\n    \r\n        void visit(B b);\r\n      }\r\n\r\n\r\nAs we can see in domain Layer there is no external dependency or implementation details of mapping logic.\r\n\r\nIn the code below we will represent the web layer, and we want to map our domain objects into Json representation and we print it to a PrintStream.\r\n\r\n    // Web Layer \r\n      static class JsonVisitorMapper implements VisitorMapper {\r\n    \r\n        private final PrintStream out;\r\n    \r\n        JsonVisitorMapper(PrintStream out) {\r\n          this.out = out;\r\n        }\r\n    \r\n        @Override\r\n        public void visit(A a) {\r\n          out.println(&quot;&quot;&quot;\r\n              {&quot;a&quot;: &quot;a&quot;}\r\n              &quot;&quot;&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void visit(B b) {\r\n          out.println(&quot;&quot;&quot;\r\n              {&quot;b&quot;: &quot;b&quot;}\r\n              &quot;&quot;&quot;);\r\n        }\r\n      }\r\n\r\nAnd now let&#39;s wrap it up! \r\nHere is our main application :\r\n\r\n\r\n    public static void main(String[] args) {\r\n        VisitorMapper mapper = new JsonVisitorMapper(System.out);\r\n        I a = new A();\r\n        I b = new B();\r\n        List&lt;I&gt; domainsObjects = List.of(a, b);\r\n        domainsObjects.forEach(obj -&gt; obj.accept(mapper));\r\n      }\r\n\r\nAnd by this now we can map a list of different domain object to different representation in the same stream.\r\n\r\nPS : \r\nPrintStream can be actually the `ResponseWriter` or a `List` or anything mutable.\r\n\r\n","title":"Method dispatch in Java: why can&#39;t it differentiate between interface and class arguments at runtime?","body":"<p>Since it's not possible in java to have this kind of overloading, I found a solution which could resolve a similar problem, using Visitor pattern.</p>\n<p>First let's say that the code below represent our domain object and we wont add any external dependency or implementation details to it (like mapping details)</p>\n<pre><code>// Domain Layer\n interface I {\n    void accept(VisitorMapper visitorMapper);\n  }\n\n  static final class A implements I {\n    @Override\n    public void accept(VisitorMapper visitorMapper) {\n      visitorMapper.visit(this);\n    }\n  }\n  static final class B implements I {\n    @Override\n    public void accept(VisitorMapper visitorMapper) {\n      visitorMapper.visit(this);\n    }\n  }\n\ninterface VisitorMapper {\n\n    void visit(A a);\n\n    void visit(B b);\n  }\n</code></pre>\n<p>As we can see in domain Layer there is no external dependency or implementation details of mapping logic.</p>\n<p>In the code below we will represent the web layer, and we want to map our domain objects into Json representation and we print it to a PrintStream.</p>\n<pre><code>// Web Layer \n  static class JsonVisitorMapper implements VisitorMapper {\n\n    private final PrintStream out;\n\n    JsonVisitorMapper(PrintStream out) {\n      this.out = out;\n    }\n\n    @Override\n    public void visit(A a) {\n      out.println(&quot;&quot;&quot;\n          {&quot;a&quot;: &quot;a&quot;}\n          &quot;&quot;&quot;);\n    }\n\n    @Override\n    public void visit(B b) {\n      out.println(&quot;&quot;&quot;\n          {&quot;b&quot;: &quot;b&quot;}\n          &quot;&quot;&quot;);\n    }\n  }\n</code></pre>\n<p>And now let's wrap it up!\nHere is our main application :</p>\n<pre><code>public static void main(String[] args) {\n    VisitorMapper mapper = new JsonVisitorMapper(System.out);\n    I a = new A();\n    I b = new B();\n    List&lt;I&gt; domainsObjects = List.of(a, b);\n    domainsObjects.forEach(obj -&gt; obj.accept(mapper));\n  }\n</code></pre>\n<p>And by this now we can map a list of different domain object to different representation in the same stream.</p>\n<p>PS :\nPrintStream can be actually the <code>ResponseWriter</code> or a <code>List</code> or anything mutable.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683929121,"creation_date":1683929121,"answer_id":76240203,"question_id":76238006,"body_markdown":"In java, the &#39;identity&#39; of a method is __not just its name__. It&#39;s actually its name, _and_ the type it is in, _and_ the types of the parameter names (and  at the class file level, even the return type).\r\n\r\nThus, given `map(I i)` and `map(A a)`, those methods are _completely different_. It is __not possible__ to get dynamic dispatch going for the same reason it&#39;s not possible to make a call to `.foo(x)` somehow result in a call to `.bar(x)`.\r\n\r\nJava does have dynamic dispatch, of course. There is a difference between overriding (which does dynamic dispatch) and overloading (which does not).\r\n\r\nThis is where java _does_ engage in dynamic dispatch:\r\n\r\n```\r\nclass Parent {\r\n  void foo() { System.out.println(&quot;Parent!&quot;); }\r\n  void bar(Number n) { System.out.println(&quot;Parent!&quot;); }\r\n}\r\n\r\nclass Child extends Parent {\r\n  void foo() { System.out.println(&quot;Child!&quot;); }\r\n  void bar(Integer n) { System.out.println(&quot;Child!&quot;); }\r\n}\r\n\r\nParent p = new Child();\r\nNumber n = 5;\r\np.foo(); // prints &#39;Child!&#39;\r\np.bar(n); // prints &#39;Parent!&#39;\r\n```\r\n\r\n`foo()` in Child is an _override_. You can stick `@Override` on it and javac will compile it without complaint. (`@Override` doesn&#39;t make a method an override; it is merely compiler-checked documentation: javac refuses to compile a method with that annotation if it doesn&#39;t override anything. That&#39;s all it does. It&#39;s &#39;error or no-op&#39;).\r\n\r\n`bar(Integer)`, however, is _not an override_ - if you stick that annotation on, it would cause a compilation error. Given that `bar(Integer)` is a completely different method, `p.bar(expr)` where `expr` is of type `Number` (even though that expression resolves to a reference to an object of type Integer, that is irrelevant, the compiler cannot know that, that&#39;s a runtime thing).\r\n\r\nIf you want this, it.. kinda looks ugly. Would go something like:\r\n\r\n```\r\ninterface C {\r\n  String map(I i);\r\n}\r\n\r\nprivate static C getInstance() {\r\n  return new C() {\r\n    public String map(I i) {\r\n      if (i instanceof A) { ... }\r\n      else if (i instanceof B ) { .... }\r\n      // and so on\r\n    }\r\n  };\r\n}\r\n```\r\n\r\nNote that java20 introduces some convenient features such as `i instanceof A a` (which declares a variable of type `A` named `a`), and pattern-switch which lets you write one `case` statement per type (also making a variable that is &#39;pre-cast&#39; for you).\r\n","title":"Method dispatch in Java: why can&#39;t it differentiate between interface and class arguments at runtime?","body":"<p>In java, the 'identity' of a method is <strong>not just its name</strong>. It's actually its name, <em>and</em> the type it is in, <em>and</em> the types of the parameter names (and  at the class file level, even the return type).</p>\n<p>Thus, given <code>map(I i)</code> and <code>map(A a)</code>, those methods are <em>completely different</em>. It is <strong>not possible</strong> to get dynamic dispatch going for the same reason it's not possible to make a call to <code>.foo(x)</code> somehow result in a call to <code>.bar(x)</code>.</p>\n<p>Java does have dynamic dispatch, of course. There is a difference between overriding (which does dynamic dispatch) and overloading (which does not).</p>\n<p>This is where java <em>does</em> engage in dynamic dispatch:</p>\n<pre><code>class Parent {\n  void foo() { System.out.println(&quot;Parent!&quot;); }\n  void bar(Number n) { System.out.println(&quot;Parent!&quot;); }\n}\n\nclass Child extends Parent {\n  void foo() { System.out.println(&quot;Child!&quot;); }\n  void bar(Integer n) { System.out.println(&quot;Child!&quot;); }\n}\n\nParent p = new Child();\nNumber n = 5;\np.foo(); // prints 'Child!'\np.bar(n); // prints 'Parent!'\n</code></pre>\n<p><code>foo()</code> in Child is an <em>override</em>. You can stick <code>@Override</code> on it and javac will compile it without complaint. (<code>@Override</code> doesn't make a method an override; it is merely compiler-checked documentation: javac refuses to compile a method with that annotation if it doesn't override anything. That's all it does. It's 'error or no-op').</p>\n<p><code>bar(Integer)</code>, however, is <em>not an override</em> - if you stick that annotation on, it would cause a compilation error. Given that <code>bar(Integer)</code> is a completely different method, <code>p.bar(expr)</code> where <code>expr</code> is of type <code>Number</code> (even though that expression resolves to a reference to an object of type Integer, that is irrelevant, the compiler cannot know that, that's a runtime thing).</p>\n<p>If you want this, it.. kinda looks ugly. Would go something like:</p>\n<pre><code>interface C {\n  String map(I i);\n}\n\nprivate static C getInstance() {\n  return new C() {\n    public String map(I i) {\n      if (i instanceof A) { ... }\n      else if (i instanceof B ) { .... }\n      // and so on\n    }\n  };\n}\n</code></pre>\n<p>Note that java20 introduces some convenient features such as <code>i instanceof A a</code> (which declares a variable of type <code>A</code> named <code>a</code>), and pattern-switch which lets you write one <code>case</code> statement per type (also making a variable that is 'pre-cast' for you).</p>\n"},{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1684007942,"creation_date":1684007942,"answer_id":76244649,"question_id":76238006,"body_markdown":"There have been several answers to the effect of &quot;because overload selection is done at compile time based on the static types of the arguments, not at runtime based on the dynamic type of the arguments.&quot;  These statements are 100% correct; this is how overloading works, and how it was designed to work.  Multiple dispatch (&quot;multimethods&quot;) were well known at the time Java selected single (receiver-based) dispatch.  \r\n\r\nA reasonable next question is _why_ was it done this way?  There are several reasons why this was a slam-dunk in 1995:\r\n\r\n - **Predictability.**  It is a simplicity benefit if a given call site always corresponds to exactly the same (virtual) method.  \r\n - **Safety.**  There are cases when there is no &quot;best&quot; overload.  Determining this at compile time, with a clear error message, is preferable to having the program fail at runtime only when an unexpected combination of inputs is passed.  Having every method dispatch potentially throw an &quot;no most specific overload&quot; exception would make the language less reliable.\r\n - **Performance.**  Overload selection is potentially expensive; better to perform this up-front, at compile time, and not burden the runtime with it.\r\n - **Simplicity.**  The interaction of overloads and overrides would be significantly more complicated than they are today, because, for example, we&#39;d need more rules to break ties between &quot;more specific method in superclass and overridden candidate in subclass&quot;.  This would lead to more surprising interactions.\r\n - **Practicality.**  True multiple dispatch is rare; embracing multi-parameter dispatch would likely complicate the language and runtime in excess of its expressive value.\r\n\r\nIn 2023, compiler and runtime technology have improved quite a bit, so the balance between compile-time overload selection and runtime dispatch  might have shifted a bit, but overall this remains a sensible and pragmatic tradeoff.","title":"Method dispatch in Java: why can&#39;t it differentiate between interface and class arguments at runtime?","body":"<p>There have been several answers to the effect of &quot;because overload selection is done at compile time based on the static types of the arguments, not at runtime based on the dynamic type of the arguments.&quot;  These statements are 100% correct; this is how overloading works, and how it was designed to work.  Multiple dispatch (&quot;multimethods&quot;) were well known at the time Java selected single (receiver-based) dispatch.</p>\n<p>A reasonable next question is <em>why</em> was it done this way?  There are several reasons why this was a slam-dunk in 1995:</p>\n<ul>\n<li><strong>Predictability.</strong>  It is a simplicity benefit if a given call site always corresponds to exactly the same (virtual) method.</li>\n<li><strong>Safety.</strong>  There are cases when there is no &quot;best&quot; overload.  Determining this at compile time, with a clear error message, is preferable to having the program fail at runtime only when an unexpected combination of inputs is passed.  Having every method dispatch potentially throw an &quot;no most specific overload&quot; exception would make the language less reliable.</li>\n<li><strong>Performance.</strong>  Overload selection is potentially expensive; better to perform this up-front, at compile time, and not burden the runtime with it.</li>\n<li><strong>Simplicity.</strong>  The interaction of overloads and overrides would be significantly more complicated than they are today, because, for example, we'd need more rules to break ties between &quot;more specific method in superclass and overridden candidate in subclass&quot;.  This would lead to more surprising interactions.</li>\n<li><strong>Practicality.</strong>  True multiple dispatch is rare; embracing multi-parameter dispatch would likely complicate the language and runtime in excess of its expressive value.</li>\n</ul>\n<p>In 2023, compiler and runtime technology have improved quite a bit, so the balance between compile-time overload selection and runtime dispatch  might have shifted a bit, but overall this remains a sensible and pragmatic tradeoff.</p>\n"}],"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":213,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":76244649,"answer_count":4,"score":-2,"last_activity_date":1684066754,"creation_date":1683906564,"question_id":76238006,"body_markdown":"I&#39;m working on a Java program that has an interface `I` and classes `A` and `B` that implement it. I also have another class implementing `C`  that has 2 method with one argument: one that accepts an object of A and another that accepts an object of B.\r\n\r\n\r\n\r\n\r\n      interface I {}\r\n      static class A implements I {}\r\n      static class B implements I {}\r\n      interface C {\r\n        String map(A a);\r\n        String map(B b);\r\n      }\r\n    \r\n      public static void main(String[] args) {\r\n        // Injected at runtime;\r\n        C mapper = getInstance();\r\n        I a = new A();\r\n        I b = new B();\r\n        // This fail at compilation \r\n        String result = mapper.map(a);\r\n      }   \r\n    private static C getInstance() {\r\n        return new C() {\r\n          @Override\r\n          public String map(A a) {\r\n            return &quot;a&quot;;\r\n          }\r\n          @Override\r\n          public String map(B b) {\r\n            return &quot;b&quot;;\r\n          }\r\n        };\r\n      }\r\n\r\n\r\nWhen I try to call the method of C with an object of A or B I get the following error:\r\n\r\n    java: no suitable method found for map(Main.I)\r\n        method Main.C.map(Main.A) is not applicable\r\n          (argument mismatch; Main.I cannot be converted to Main.A)\r\n        method Main.C.map(Main.B) is not applicable\r\n          (argument mismatch; Main.I cannot be converted to Main.B)\r\n\r\nEven if we say that other instances of type `I` can be passed to mapper this should be fixed with `sealed interface I permits A, B {}`\r\n\r\nWhy there is no method dispatch at runtime in Java ?\r\n**My question is why it&#39;s not possible in java more then &quot;Why it didn&#39;t work&quot;**","title":"Method dispatch in Java: why can&#39;t it differentiate between interface and class arguments at runtime?","body":"<p>I'm working on a Java program that has an interface <code>I</code> and classes <code>A</code> and <code>B</code> that implement it. I also have another class implementing <code>C</code>  that has 2 method with one argument: one that accepts an object of A and another that accepts an object of B.</p>\n<pre><code>  interface I {}\n  static class A implements I {}\n  static class B implements I {}\n  interface C {\n    String map(A a);\n    String map(B b);\n  }\n\n  public static void main(String[] args) {\n    // Injected at runtime;\n    C mapper = getInstance();\n    I a = new A();\n    I b = new B();\n    // This fail at compilation \n    String result = mapper.map(a);\n  }   \nprivate static C getInstance() {\n    return new C() {\n      @Override\n      public String map(A a) {\n        return &quot;a&quot;;\n      }\n      @Override\n      public String map(B b) {\n        return &quot;b&quot;;\n      }\n    };\n  }\n</code></pre>\n<p>When I try to call the method of C with an object of A or B I get the following error:</p>\n<pre><code>java: no suitable method found for map(Main.I)\n    method Main.C.map(Main.A) is not applicable\n      (argument mismatch; Main.I cannot be converted to Main.A)\n    method Main.C.map(Main.B) is not applicable\n      (argument mismatch; Main.I cannot be converted to Main.B)\n</code></pre>\n<p>Even if we say that other instances of type <code>I</code> can be passed to mapper this should be fixed with <code>sealed interface I permits A, B {}</code></p>\n<p>Why there is no method dispatch at runtime in Java ?\n<strong>My question is why it's not possible in java more then &quot;Why it didn't work&quot;</strong></p>\n"},{"tags":["java","angular","angularjs","spring-boot","cors"],"comments":[{"owner":{"account_id":10471985,"reputation":344,"user_id":8898840,"display_name":"Guy Incognito"},"score":0,"creation_date":1684065320,"post_id":76247339,"comment_id":134459205,"body_markdown":"CORS headers must be set on the server, not on the client.","body":"CORS headers must be set on the server, not on the client."},{"owner":{"account_id":10162,"reputation":922321,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684065347,"post_id":76247339,"comment_id":134459207,"body_markdown":"The *server* that has the data needs to grant permission (by adding `Access-Control` headers to the **response**) to the JavaScript that wants to read the data. You&#39;ve done it the other way around, which doesn&#39;t make sense.","body":"The <i>server</i> that has the data needs to grant permission (by adding <code>Access-Control</code> headers to the <b>response</b>) to the JavaScript that wants to read the data. You&#39;ve done it the other way around, which doesn&#39;t make sense."},{"owner":{"account_id":28482480,"reputation":65,"user_id":21796243,"display_name":"MonaK"},"score":0,"creation_date":1684065906,"post_id":76247339,"comment_id":134459269,"body_markdown":"@Quentin Thank you for your reply. I have set the `Access-Control` in the header, but it does not work. Could you please help me how to set the header?","body":"@Quentin Thank you for your reply. I have set the <code>Access-Control</code> in the header, but it does not work. Could you please help me how to set the header?"},{"owner":{"account_id":10162,"reputation":922321,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684065941,"post_id":76247339,"comment_id":134459277,"body_markdown":"@MonaK â€” I just told you that you should **not** set it in the header in the client-side code. I have no idea what programming language you wrote `x.com` in so I&#39;ve no idea how you would change its code to add the header.","body":"@MonaK â€” I just told you that you should <b>not</b> set it in the header in the client-side code. I have no idea what programming language you wrote <code>x.com</code> in so I&#39;ve no idea how you would change its code to add the header."},{"owner":{"account_id":28482480,"reputation":65,"user_id":21796243,"display_name":"MonaK"},"score":0,"creation_date":1684065995,"post_id":76247339,"comment_id":134459288,"body_markdown":"@GuyIncognito Thank you for your reply. Could you please help me how to set the header on the server?","body":"@GuyIncognito Thank you for your reply. Could you please help me how to set the header on the server?"},{"owner":{"account_id":28482480,"reputation":65,"user_id":21796243,"display_name":"MonaK"},"score":0,"creation_date":1684066113,"post_id":76247339,"comment_id":134459304,"body_markdown":"@Quentin The server is written in Java.","body":"@Quentin The server is written in Java."},{"owner":{"account_id":10162,"reputation":922321,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684066222,"post_id":76247339,"comment_id":134459321,"body_markdown":"Then maybe you should ask a question about how to set CORS headers for whatever Java framework you are using to build the website (making sure you include a [mcve] and search for a tutorial about it before trying to crowdsource the answer).","body":"Then maybe you should ask a question about how to set CORS headers for whatever Java framework you are using to build the website (making sure you include a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and search for a tutorial about it before trying to crowdsource the answer)."},{"owner":{"account_id":10471985,"reputation":344,"user_id":8898840,"display_name":"Guy Incognito"},"score":0,"creation_date":1684066267,"post_id":76247339,"comment_id":134459328,"body_markdown":"https://www.google.com/search?q=how+to+set+cors+headers+in+java If you use something like Spring Boot then add that to the search query. If you can&#39;t figure it out from that then post a new question.","body":"<a href=\"https://www.google.com/search?q=how+to+set+cors+headers+in+java\" rel=\"nofollow noreferrer\">google.com/search?q=how+to+set+cors+headers+in+java</a> If you use something like Spring Boot then add that to the search query. If you can&#39;t figure it out from that then post a new question."}],"owner":{"account_id":28482480,"reputation":65,"user_id":21796243,"display_name":"MonaK"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1684065283,"answer_count":0,"score":1,"last_activity_date":1684066381,"creation_date":1684065166,"question_id":76247339,"body_markdown":"I am working on an Angular(v13) project that it&#39;s backend is Java and web servers are Tomcat and Nginx. My project is on localhost but the APIs are on another address(DNS). When I run the `ng serve` command, I see this error on the browser console panel:\r\n\r\n&gt; Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at https://X.com/club/v1/vPersonLevelService/vPersonLevelDashboard. (Reason: header â€˜access-control-allow-headersâ€™ is not allowed according to header â€˜Access-Control-Allow-Headersâ€™ from CORS preflight response).\r\n\r\nMy service.ts code is here:\r\n\r\n    import { Inject, Injectable } from &#39;@angular/core&#39;;\r\n    import { HttpClient, HttpHeaders } from &#39;@angular/common/http&#39;;\r\n    import { APP_CONFIG, IAppConfig } from &#39;../club/core/app.config&#39;;\r\n    import { map } from &#39;rxjs/operators&#39;;\r\n    \r\n    @Injectable({\r\n      providedIn: &#39;root&#39;\r\n    })\r\n    export class NewsService {\r\n    \r\n      constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig, private http: HttpClient) { }\r\n    \r\n        GetPersonLevel(){\r\n        let header = new HttpHeaders()\r\n    \r\n        const corsHeaders = {\r\n          &#39;observe&#39;: &#39;response&#39;,\r\n          &#39;Access-Control-Allow-Headers&#39;: &#39;Content-Type,\r\n          &#39;Access-Control-Allow-Methods&#39;: &#39;GET,PUT,POST,DELETE,PATCH,OPTIONS&#39;,\r\n          &#39;Access-Control-Allow-Origin&#39;: &#39;*&#39;\r\n        }\r\n    \r\n        return this.http.get(&#39;https://X.com/club/v1/vPersonLevelService/vPersonLevelDashboard&#39;,{ headers: corsHeaders}).pipe( map( (res: any) =&gt; { return res; }) );\r\n      }\r\n    \r\n    }\r\n\r\n\r\nCan anyone help me to solve this error?","title":"Cross-Origin Request Blocked Angular","body":"<p>I am working on an Angular(v13) project that it's backend is Java and web servers are Tomcat and Nginx. My project is on localhost but the APIs are on another address(DNS). When I run the <code>ng serve</code> command, I see this error on the browser console panel:</p>\n<blockquote>\n<p>Cross-Origin Request Blocked: The Same Origin Policy disallows reading the remote resource at <a href=\"https://X.com/club/v1/vPersonLevelService/vPersonLevelDashboard\" rel=\"nofollow noreferrer\">https://X.com/club/v1/vPersonLevelService/vPersonLevelDashboard</a>. (Reason: header â€˜access-control-allow-headersâ€™ is not allowed according to header â€˜Access-Control-Allow-Headersâ€™ from CORS preflight response).</p>\n</blockquote>\n<p>My service.ts code is here:</p>\n<pre><code>import { Inject, Injectable } from '@angular/core';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { APP_CONFIG, IAppConfig } from '../club/core/app.config';\nimport { map } from 'rxjs/operators';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NewsService {\n\n  constructor(@Inject(APP_CONFIG) private appConfig: IAppConfig, private http: HttpClient) { }\n\n    GetPersonLevel(){\n    let header = new HttpHeaders()\n\n    const corsHeaders = {\n      'observe': 'response',\n      'Access-Control-Allow-Headers': 'Content-Type,\n      'Access-Control-Allow-Methods': 'GET,PUT,POST,DELETE,PATCH,OPTIONS',\n      'Access-Control-Allow-Origin': '*'\n    }\n\n    return this.http.get('https://X.com/club/v1/vPersonLevelService/vPersonLevelDashboard',{ headers: corsHeaders}).pipe( map( (res: any) =&gt; { return res; }) );\n  }\n\n}\n</code></pre>\n<p>Can anyone help me to solve this error?</p>\n"},{"tags":["java","android","azure","android-studio"],"answers":[{"tags":[],"owner":{"account_id":15603274,"reputation":123,"user_id":11256800,"display_name":"Md. Masum Billah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657018574,"creation_date":1657013975,"answer_id":72867204,"question_id":72864644,"body_markdown":"Here is the solution:\r\n\r\n```\r\n val sasUrl = resource.data.data //get this sas url from api or anywhere you want\r\n   try {\r\n     val imageStream = contentResolver.openInputStream(Uri.fromFile(File(selectionResult!![0])))\r\n     val imageLength = imageStream!!.available()\r\n     val handler = Handler(Looper.getMainLooper())\r\n     val th = Thread {\r\n         try {\r\n            AzureManager.UploadImage(sasUrl,imageStream, imageLength)\r\n         } catch (ex: Exception) {\r\n            val exceptionMessage = ex.message\r\n            Log.e(&quot;SAS_ERROR&quot;, &quot;error1: ${ex.localizedMessage}&quot;)\r\n         }\r\n       }\r\n     }\r\n             th.start()\r\n      } catch (ex: Exception) {\r\n             Log.e(&quot;SAS_ERROR&quot;, &quot;error2: ${ex.localizedMessage}&quot;)\r\n             Toast.makeText(this, ex.message, Toast.LENGTH_SHORT).show()\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n//In AzureManager class create this method\r\n    public static void UploadImage(String sasUrl, InputStream image, int imageLength) throws Exception {\r\n        CloudBlockBlob cloudBlockBlob = new CloudBlockBlob(new URI(sasUrl));\r\n        cloudBlockBlob.upload(image, imageLength);\r\n    }","title":"Upload file into azure storage using sas url in android using Java","body":"<p>Here is the solution:</p>\n<pre><code> val sasUrl = resource.data.data //get this sas url from api or anywhere you want\n   try {\n     val imageStream = contentResolver.openInputStream(Uri.fromFile(File(selectionResult!![0])))\n     val imageLength = imageStream!!.available()\n     val handler = Handler(Looper.getMainLooper())\n     val th = Thread {\n         try {\n            AzureManager.UploadImage(sasUrl,imageStream, imageLength)\n         } catch (ex: Exception) {\n            val exceptionMessage = ex.message\n            Log.e(&quot;SAS_ERROR&quot;, &quot;error1: ${ex.localizedMessage}&quot;)\n         }\n       }\n     }\n             th.start()\n      } catch (ex: Exception) {\n             Log.e(&quot;SAS_ERROR&quot;, &quot;error2: ${ex.localizedMessage}&quot;)\n             Toast.makeText(this, ex.message, Toast.LENGTH_SHORT).show()\n      }\n\n\n\n\n\n\n\n\n\n\n//In AzureManager class create this method\n    public static void UploadImage(String sasUrl, InputStream image, int imageLength) throws Exception {\n        CloudBlockBlob cloudBlockBlob = new CloudBlockBlob(new URI(sasUrl));\n        cloudBlockBlob.upload(image, imageLength);\n    }\n</code></pre>\n"}],"owner":{"account_id":15603274,"reputation":123,"user_id":11256800,"display_name":"Md. Masum Billah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684066165,"creation_date":1657001067,"question_id":72864644,"body_markdown":"I am trying to upload a file using sas url in azure storage directly from my android app. But when I am trying to upload, it sends me the following StorageException error: The requested URI does not represent any resource on the server.\r\n\r\nHere my sas url is like this:\r\nhttps://baseurl.com/images/posts/test123.jpg?sv=27-11-09&amp;sr=b&amp;st=2022-07-04:26:3Z&amp;se=2022-07-05T04:31:33Z&amp;sp=racwd&amp;spr=https&amp;sig=fTxFFmeTam52nlbZQH\r\n\r\nHere is the code that I am trying:\r\n```\r\n    public static void uploadImageUsingSasUrl(String sasUrl, String imagePath) {\r\n        try {\r\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n\r\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;sas_url: &quot;+sasUrl);\r\n\r\n            File source = new File(imagePath); // File path\r\n            String uniqueID = &quot;test123.jpg&quot;; // now added as hard coded just for testing\r\n            StorageUri storage = new StorageUri(URI.create(sasUrl));\r\n            CloudBlobClient blobCLient = new CloudBlobClient(storage);\r\n            CloudBlobContainer container = blobCLient.getContainerReference(&quot;images/posts&quot;);\r\n            container.createIfNotExists();\r\n            CloudBlockBlob blob = container.getBlockBlobReference(uniqueID);\r\n            BlobOutputStream blobOutputStream = blob.openOutputStream();\r\n            byte[] buffer = fileToByteConverter(source);\r\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(buffer);\r\n            int next = inputStream.read();\r\n            while (next != -1) {\r\n                blobOutputStream.write(next);\r\n                next = inputStream.read();\r\n            }\r\n            blobOutputStream.close();\r\n            // YOUR IMAGE/FILE GET UPLOADED HERE\r\n            // IF YOU HAVE FOLLOW DOCUMENT, YOU WILL RECEIVE IMAGE/FILE URL HERE\r\n        }\r\n        catch (StorageException e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error1: &quot;+e.getLocalizedMessage());\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error2: &quot;+e.getLocalizedMessage());\r\n        } catch (Exception e){\r\n            e.printStackTrace();\r\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error3: &quot;+e);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  public static byte[] fileToByteConverter(File file)\r\n    {\r\n        byte[] fileBytes = new byte[(int) file.length()];\r\n        try(FileInputStream inputStream = new FileInputStream(file))\r\n        {\r\n            inputStream.read(fileBytes);\r\n        }\r\n        catch (Exception ex)\r\n        {\r\n            ex.printStackTrace();\r\n        }\r\n        return fileBytes;\r\n    }\r\n```","title":"Upload file into azure storage using sas url in android using Java","body":"<p>I am trying to upload a file using sas url in azure storage directly from my android app. But when I am trying to upload, it sends me the following StorageException error: The requested URI does not represent any resource on the server.</p>\n<p>Here my sas url is like this:\n<a href=\"https://baseurl.com/images/posts/test123.jpg?sv=27-11-09&amp;sr=b&amp;st=2022-07-04:26:3Z&amp;se=2022-07-05T04:31:33Z&amp;sp=racwd&amp;spr=https&amp;sig=fTxFFmeTam52nlbZQH\" rel=\"nofollow noreferrer\">https://baseurl.com/images/posts/test123.jpg?sv=27-11-09&amp;sr=b&amp;st=2022-07-04:26:3Z&amp;se=2022-07-05T04:31:33Z&amp;sp=racwd&amp;spr=https&amp;sig=fTxFFmeTam52nlbZQH</a></p>\n<p>Here is the code that I am trying:</p>\n<pre><code>    public static void uploadImageUsingSasUrl(String sasUrl, String imagePath) {\n        try {\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;sas_url: &quot;+sasUrl);\n\n            File source = new File(imagePath); // File path\n            String uniqueID = &quot;test123.jpg&quot;; // now added as hard coded just for testing\n            StorageUri storage = new StorageUri(URI.create(sasUrl));\n            CloudBlobClient blobCLient = new CloudBlobClient(storage);\n            CloudBlobContainer container = blobCLient.getContainerReference(&quot;images/posts&quot;);\n            container.createIfNotExists();\n            CloudBlockBlob blob = container.getBlockBlobReference(uniqueID);\n            BlobOutputStream blobOutputStream = blob.openOutputStream();\n            byte[] buffer = fileToByteConverter(source);\n            ByteArrayInputStream inputStream = new ByteArrayInputStream(buffer);\n            int next = inputStream.read();\n            while (next != -1) {\n                blobOutputStream.write(next);\n                next = inputStream.read();\n            }\n            blobOutputStream.close();\n            // YOUR IMAGE/FILE GET UPLOADED HERE\n            // IF YOU HAVE FOLLOW DOCUMENT, YOU WILL RECEIVE IMAGE/FILE URL HERE\n        }\n        catch (StorageException e) {\n            e.printStackTrace();\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error1: &quot;+e.getLocalizedMessage());\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error2: &quot;+e.getLocalizedMessage());\n        } catch (Exception e){\n            e.printStackTrace();\n            Log.e(&quot;SAS_UPLOAD&quot;, &quot;error3: &quot;+e);\n        }\n    }\n\n\n\n  public static byte[] fileToByteConverter(File file)\n    {\n        byte[] fileBytes = new byte[(int) file.length()];\n        try(FileInputStream inputStream = new FileInputStream(file))\n        {\n            inputStream.read(fileBytes);\n        }\n        catch (Exception ex)\n        {\n            ex.printStackTrace();\n        }\n        return fileBytes;\n    }\n</code></pre>\n"},{"tags":["java","swing","jpanel"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1684068394,"post_id":76247399,"comment_id":134459606,"body_markdown":"This code ignores Swing threading rules by trying to make mutational changers to the GUI off of the Swing event thread, the EDT. Better to use a Swing Timer. Also, after re-sizing, you may need to call `pack()` or at least revalidate/repaint.","body":"This code ignores Swing threading rules by trying to make mutational changers to the GUI off of the Swing event thread, the EDT. Better to use a Swing Timer. Also, after re-sizing, you may need to call <code>pack()</code> or at least revalidate/repaint."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":2,"creation_date":1684073644,"post_id":76247399,"comment_id":134460217,"body_markdown":"The way I&#39;ve seen a sliding `JPanel` done before is to create an image of the `JPanel` and use a Swing `Timer` to show more and more parts of the image.  When the image is fully shown, stop the animation and display the `JPanel`.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"The way I&#39;ve seen a sliding <code>JPanel</code> done before is to create an image of the <code>JPanel</code> and use a Swing <code>Timer</code> to show more and more parts of the image.  When the image is fully shown, stop the animation and display the <code>JPanel</code>.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684077517,"post_id":76247399,"comment_id":134460694,"body_markdown":"You should never ignore interrupts.  However, if you take the above commentsâ€™ advice and use a javax.swing.Timer (*not* java.util.Timer!), you wonâ€™t have to worry about interrupts at all.","body":"You should never ignore interrupts.  However, if you take the above commentsâ€™ advice and use a javax.swing.Timer (<i>not</i> java.util.Timer!), you wonâ€™t have to worry about interrupts at all."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1684081837,"post_id":76247399,"comment_id":134461247,"body_markdown":"You were already given the recommendation to use a Swing Timer in your [last question](https://stackoverflow.com/q/76075301/). Why are you asking questions but then ignoring recommendations given?","body":"You were already given the recommendation to use a Swing Timer in your <a href=\"https://stackoverflow.com/q/76075301/\">last question</a>. Why are you asking questions but then ignoring recommendations given?"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1684154513,"post_id":76247399,"comment_id":134470862,"body_markdown":"@HovercraftFullOfEels using the `pack()` method resizes the JFrame, and both revalidate and repaint don&#39;t make a change, also I felt like this problem was caused by something else, but I will try the Swing Timer ASAP","body":"@HovercraftFullOfEels using the <code>pack()</code> method resizes the JFrame, and both revalidate and repaint don&#39;t make a change, also I felt like this problem was caused by something else, but I will try the Swing Timer ASAP"},{"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"score":0,"creation_date":1684155206,"post_id":76247399,"comment_id":134471025,"body_markdown":"I found the method `resize` in JPanel, it seems to work but is it practical?","body":"I found the method <code>resize</code> in JPanel, it seems to work but is it practical?"}],"owner":{"account_id":27834272,"reputation":688,"user_id":21252090,"display_name":"Grinding For Reputation"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684066042,"creation_date":1684066042,"question_id":76247399,"body_markdown":"I am working on a sidebar for an application, this sidebar only extends if it has been pressed. I am using a Thread loop to update the size of the JPanel but for some reason the JFrame doesn&#39;t update the size of the it. The ```MouseListener``` works, and the loop works too, but it still does&#39;nt seem to update.\r\n\r\nHeres the code :-\r\n```\r\npublic class DisplayHandler implements Runnable{\r\n\t\r\n\tThread thread;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSwingUtilities.invokeLater(()-&gt;new DisplayHandler());\r\n\t}\r\n\t\r\n\tJFrame f = new JFrame();\r\n\tJPanel westData = new JPanel();\r\n\t\r\n\tboolean startExtending = false;\r\n\tint westDataW = 100;\r\n\t\r\n\tprivate DisplayHandler() {\r\n\t\t\r\n\t\tf.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\tf.setSize(1280, 720);\r\n\t\tf.setLocationRelativeTo(null);\r\n\t\tf.setLayout(new BorderLayout());\r\n\t\t\r\n\t\tonStart();\r\n\t\t\r\n\t\tf.setVisible(true);\r\n\t\t\r\n\t\tthread = new Thread(this);\r\n\t\tthread.start();\r\n\t}\r\n\r\n\tprivate void onStart() {\r\n\t\t\r\n\t\tColor sideBar = new Color(0,0,0,50);\r\n\t\t\r\n\t\twestData.setPreferredSize(new Dimension(westDataW,720));\r\n\t\twestData.setBackground(sideBar);\r\n\t\twestData.setFocusable(true);\r\n\t\twestData.addMouseListener(new MouseListener() {\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseClicked(MouseEvent e) {\r\n\t\t\t\tstartExtending = true;\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mousePressed(MouseEvent e) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseReleased(MouseEvent e) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseEntered(MouseEvent e) {\r\n\t\t\t}\r\n\r\n\t\t\t@Override\r\n\t\t\tpublic void mouseExited(MouseEvent e) {\r\n\t\t\t\tstartExtending = false;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t});\r\n\t\t\r\n\t\tf.add(westData, BorderLayout.WEST);\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void run() {\r\n\t\twhile(thread!=null) {\r\n\t\t\t\r\n\t\t\tif(startExtending) {\r\n\t\t\t\tif(westDataW&lt;300) {\r\n\t\t\t\t\twestData.setPreferredSize(new Dimension(westDataW, 720));\r\n\t\t\t\t\twestDataW++;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(!startExtending) {\r\n\t\t\t\tif(westDataW&gt;100) {\r\n\t\t\t\t\twestData.setPreferredSize(new Dimension(westDataW, 720));\r\n\t\t\t\t\twestDataW--;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tThread.sleep(100);\r\n\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Updating JPanel while on JFrame","body":"<p>I am working on a sidebar for an application, this sidebar only extends if it has been pressed. I am using a Thread loop to update the size of the JPanel but for some reason the JFrame doesn't update the size of the it. The <code>MouseListener</code> works, and the loop works too, but it still does'nt seem to update.</p>\n<p>Heres the code :-</p>\n<pre><code>public class DisplayHandler implements Runnable{\n    \n    Thread thread;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(()-&gt;new DisplayHandler());\n    }\n    \n    JFrame f = new JFrame();\n    JPanel westData = new JPanel();\n    \n    boolean startExtending = false;\n    int westDataW = 100;\n    \n    private DisplayHandler() {\n        \n        f.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        f.setSize(1280, 720);\n        f.setLocationRelativeTo(null);\n        f.setLayout(new BorderLayout());\n        \n        onStart();\n        \n        f.setVisible(true);\n        \n        thread = new Thread(this);\n        thread.start();\n    }\n\n    private void onStart() {\n        \n        Color sideBar = new Color(0,0,0,50);\n        \n        westData.setPreferredSize(new Dimension(westDataW,720));\n        westData.setBackground(sideBar);\n        westData.setFocusable(true);\n        westData.addMouseListener(new MouseListener() {\n\n            @Override\n            public void mouseClicked(MouseEvent e) {\n                startExtending = true;\n            }\n\n            @Override\n            public void mousePressed(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseReleased(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseEntered(MouseEvent e) {\n            }\n\n            @Override\n            public void mouseExited(MouseEvent e) {\n                startExtending = false;\n            }\n            \n        });\n        \n        f.add(westData, BorderLayout.WEST);\n        \n    }\n    \n    @Override\n    public void run() {\n        while(thread!=null) {\n            \n            if(startExtending) {\n                if(westDataW&lt;300) {\n                    westData.setPreferredSize(new Dimension(westDataW, 720));\n                    westDataW++;\n                }\n            }\n            if(!startExtending) {\n                if(westDataW&gt;100) {\n                    westData.setPreferredSize(new Dimension(westDataW, 720));\n                    westDataW--;\n                }\n            }\n            try {\n                Thread.sleep(100);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","error-handling","netbeans","reinstall","mainclass"],"comments":[{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1684066294,"post_id":76247369,"comment_id":134459332,"body_markdown":"Then you don&#39;t have a main class. A main class has a method `public static void main(String[] args)` (or with `String...` instead of `String[]`), if it doesn&#39;t, it is not a main class. Please provide a [mre].","body":"Then you don&#39;t have a main class. A main class has a method <code>public static void main(String[] args)</code> (or with <code>String...</code> instead of <code>String[]</code>), if it doesn&#39;t, it is not a main class. Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"owner":{"account_id":27653540,"reputation":1,"user_id":21107920,"display_name":"Lim wei jun Edward"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684066208,"answer_count":0,"score":0,"last_activity_date":1684065571,"creation_date":1684065571,"question_id":76247369,"body_markdown":"[[enter image description here](https://i.stack.imgur.com/DRU5I.png)](https://i.stack.imgur.com/ldWe3.png)\r\nMy netbeans main classes cannot been found when I use jframe, but other than jframe, netbeans can function properly, I really dont know what should what should i do to solve it.\r\n\r\n\r\nI did tried to reinstall the netbeans to solve the problems but it doesn&#39;t works.","title":"Cannot find main classes set while using jframe in netbean","body":"<p>[<a href=\"https://i.stack.imgur.com/DRU5I.png\" rel=\"nofollow noreferrer\">enter image description here</a>](<a href=\"https://i.stack.imgur.com/ldWe3.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/ldWe3.png</a>)\nMy netbeans main classes cannot been found when I use jframe, but other than jframe, netbeans can function properly, I really dont know what should what should i do to solve it.</p>\n<p>I did tried to reinstall the netbeans to solve the problems but it doesn't works.</p>\n"},{"tags":["java","spring-boot","azure-web-app-service"],"answers":[{"tags":[],"owner":{"account_id":21647608,"reputation":4991,"user_id":15968720,"display_name":"VenkateshDodda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627632058,"creation_date":1627632058,"answer_id":68587418,"question_id":68578544,"body_markdown":"**Remote debugging options:**\r\n\r\n - runtime as java 11 + OS as linux --&gt; No remote debugging available\r\n - runtime as java 8 + OS as linux --&gt; No remote debugging available\r\n\r\nif you use runtime as Python + OS as linux you have an option to enable remote debugging.\r\n\r\nBased on the repro we have created a web app with run time as Java 7,8,11 with operating system as windows irrespective of the app service plan either basic/standard/premium you have an option to enable the remote debugging. ","title":"How to remote debug a java application running on Azure App Service","body":"<p><strong>Remote debugging options:</strong></p>\n<ul>\n<li>runtime as java 11 + OS as linux --&gt; No remote debugging available</li>\n<li>runtime as java 8 + OS as linux --&gt; No remote debugging available</li>\n</ul>\n<p>if you use runtime as Python + OS as linux you have an option to enable remote debugging.</p>\n<p>Based on the repro we have created a web app with run time as Java 7,8,11 with operating system as windows irrespective of the app service plan either basic/standard/premium you have an option to enable the remote debugging.</p>\n"},{"tags":[],"owner":{"account_id":244724,"reputation":2952,"user_id":517740,"display_name":"burna"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644679621,"creation_date":1644679621,"answer_id":71093211,"question_id":68578544,"body_markdown":"It is actually possible to remote debug a Java application on Azue Linux AppService, by tunneling through SSH. This was tested on premium App Service Plans. Somehow I never found a documentation suggesting that, so here we go:\r\n\r\n1) You add an application setting `JAVA_OPTS` to your app\r\n\r\n  `agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=127.0.0.1:8000`\r\n\r\n2) Create a remote-connection with azure cli, that creates a SSH port 1234 on your computer:\r\n\r\n\r\n    `az webapp create-remote-connection -g RG -n MY_APP -p 1234`\r\n\r\n3) Create a ssh Tunnel from this local SSH port to the remote debugging port in the appservice\r\n\r\n    `ssh -L 1235:127.0.0.1:8000 root@127.0.0.1 -p 1234`\r\n\r\n4) You then can attach a debugger of your choice to the port 1235 on your local host: (Maybe eclipse, vscode, intellij)\r\n\r\n\r\n    `jdb -attach 1235`\r\n\r\n\r\nThe tunnel goes from your computer -&gt; remote-connection via az-cli -&gt; SSH into appservice -&gt; remotedebug port in appservice","title":"How to remote debug a java application running on Azure App Service","body":"<p>It is actually possible to remote debug a Java application on Azue Linux AppService, by tunneling through SSH. This was tested on premium App Service Plans. Somehow I never found a documentation suggesting that, so here we go:</p>\n<ol>\n<li>You add an application setting <code>JAVA_OPTS</code> to your app</li>\n</ol>\n<p><code>agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=127.0.0.1:8000</code></p>\n<ol start=\"2\">\n<li><p>Create a remote-connection with azure cli, that creates a SSH port 1234 on your computer:</p>\n<p><code>az webapp create-remote-connection -g RG -n MY_APP -p 1234</code></p>\n</li>\n<li><p>Create a ssh Tunnel from this local SSH port to the remote debugging port in the appservice</p>\n<p><code>ssh -L 1235:127.0.0.1:8000 root@127.0.0.1 -p 1234</code></p>\n</li>\n<li><p>You then can attach a debugger of your choice to the port 1235 on your local host: (Maybe eclipse, vscode, intellij)</p>\n<p><code>jdb -attach 1235</code></p>\n</li>\n</ol>\n<p>The tunnel goes from your computer -&gt; remote-connection via az-cli -&gt; SSH into appservice -&gt; remotedebug port in appservice</p>\n"},{"tags":[],"owner":{"account_id":28599016,"reputation":1,"user_id":21896414,"display_name":"user21896414"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684065292,"creation_date":1684065292,"answer_id":76247347,"question_id":68578544,"body_markdown":"it is not possible to debug java based application on Azure web apps. you can do it with .NET app and VS Code. \r\n\r\nthe idea presented using SSL tunnel is an interesting one. however, it doesn&#39;t work. i just tested it. the tunnel can be setup, but apparently Azure doesn&#39;t honor the remote port and will drop you directly into shell. so you can only tunnel into java application for ssh","title":"How to remote debug a java application running on Azure App Service","body":"<p>it is not possible to debug java based application on Azure web apps. you can do it with .NET app and VS Code.</p>\n<p>the idea presented using SSL tunnel is an interesting one. however, it doesn't work. i just tested it. the tunnel can be setup, but apparently Azure doesn't honor the remote port and will drop you directly into shell. so you can only tunnel into java application for ssh</p>\n"}],"owner":{"account_id":203967,"reputation":4179,"user_id":2393559,"accept_rate":55,"display_name":"Matthias G&#252;ntert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1321,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1684065292,"creation_date":1627571644,"question_id":68578544,"body_markdown":"When browsing to `Settings &gt; Configuration &gt; General Settings` Microsoft is pretty clear in that it currently doesn&#39;t support remote debugging (Linux App Service Plan, Java 11 SE). \r\n\r\n[![enter image description here][1]][1]\r\n\r\nHowever, I was wondering if there still is way to accomplish this, in a more manual fashion. E.g. I am able to open up a debugging port with the following custom startup command. \r\n\r\n`java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar`\r\n\r\nNotice the log below, that states it is listening on 5005/TCP. As expected, however, this listening port is not getting forwarded by Microsoft&#39;s infrastructure.\r\n\r\nAlso, SSH is only available via browser, so there is no easy way to expose that port by forwarding it like so `ssh user@mywebsite.azurewebsites.net -L 5005:localhost:5005`.\r\n\r\nAny other idea how a remote debugging session might be achieved with Java? \r\n\r\n```\r\n2021-07-29T14:52:59.769816383Z: [INFO]    _____\r\n2021-07-29T14:52:59.769851884Z: [INFO]    /  _  \\ __________ _________   ____\r\n2021-07-29T14:52:59.769857984Z: [INFO]   /  /_\\  \\___   /  |  \\_  __ \\_/ __ \\\r\n2021-07-29T14:52:59.769873185Z: [INFO]  /    |    \\/    /|  |  /|  | \\/\\  ___/\r\n2021-07-29T14:52:59.769878285Z: [INFO]  \\____|__  /_____ \\____/ |__|    \\___  &gt;\r\n2021-07-29T14:52:59.924543150Z: [INFO]          \\/      \\/                  \\/\r\n2021-07-29T14:52:59.924549150Z: [INFO]  A P P   S E R V I C E   O N   L I N U X\r\n[...]\r\n2021-07-29T14:53:05.404068415Z: [INFO]  STARTUP_FILE=\r\n2021-07-29T14:53:05.419701706Z: [INFO]  STARTUP_COMMAND=java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar\r\n2021-07-29T14:53:05.419807209Z: [INFO]  No STARTUP_FILE available.\r\n2021-07-29T14:53:05.419822210Z: [INFO]  Running STARTUP_COMMAND: java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar\r\n2021-07-29T14:53:05.468409936Z: [ERROR]  Picked up JAVA_TOOL_OPTIONS: -Xmx1346M -Djava.net.preferIPv4Stack=true\r\n2021-07-29T14:53:05.769742003Z: [INFO]  Listening for transport dt_socket at address: 5005\r\n2021-07-29T14:53:15.032989100Z: [INFO]\r\n2021-07-29T14:53:15.033937730Z: [INFO]    .   ____          _            __ _ _\r\n2021-07-29T14:53:15.034646252Z: [INFO]   /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n2021-07-29T14:53:15.035378475Z: [INFO]  ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n2021-07-29T14:53:15.035688785Z: [INFO]   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n2021-07-29T14:53:15.082402455Z: [INFO]    &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n2021-07-29T14:53:15.082444656Z: [INFO]   =========|_|==============|___/=/_/_/_/\r\n2021-07-29T14:53:15.082450956Z: [INFO]   :: Spring Boot ::                (v2.5.3)\r\n2021-07-29T14:53:15.082455556Z: [INFO]\r\n2021-07-29T14:53:15.874610379Z: [INFO]  2021-07-29 14:53:15.853  INFO 122 --- [           main] c.s.r.RemoteDebuggingDemo1Application    : Starting RemoteDebuggingDemo1Application using Java 11.0.7 on 16f2213f1d06 with PID 122 (/home/site/wwwroot/app.jar started by root in /)\r\n2021-07-29T14:53:15.889931561Z: [INFO]  2021-07-29 14:53:15.889  INFO 122 --- [           main] c.s.r.RemoteDebuggingDemo1Application    : No active profile set, falling back to default profiles: default\r\n2021-07-29T14:53:26.797375136Z: [INFO]  2021-07-29 14:53:26.796  INFO 122 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\r\n2021-07-29T14:53:26.919083170Z: [INFO]  2021-07-29 14:53:26.918  INFO 122 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n2021-07-29T14:53:26.921537347Z: [INFO]  2021-07-29 14:53:26.919  INFO 122 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.50]\r\n2021-07-29T14:53:27.704270105Z: [INFO]  2021-07-29 14:53:27.703  INFO 122 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n[...]\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yKGl7.png","title":"How to remote debug a java application running on Azure App Service","body":"<p>When browsing to <code>Settings &gt; Configuration &gt; General Settings</code> Microsoft is pretty clear in that it currently doesn't support remote debugging (Linux App Service Plan, Java 11 SE).</p>\n<p><a href=\"https://i.stack.imgur.com/yKGl7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yKGl7.png\" alt=\"enter image description here\" /></a></p>\n<p>However, I was wondering if there still is way to accomplish this, in a more manual fashion. E.g. I am able to open up a debugging port with the following custom startup command.</p>\n<p><code>java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar</code></p>\n<p>Notice the log below, that states it is listening on 5005/TCP. As expected, however, this listening port is not getting forwarded by Microsoft's infrastructure.</p>\n<p>Also, SSH is only available via browser, so there is no easy way to expose that port by forwarding it like so <code>ssh user@mywebsite.azurewebsites.net -L 5005:localhost:5005</code>.</p>\n<p>Any other idea how a remote debugging session might be achieved with Java?</p>\n<pre><code>2021-07-29T14:52:59.769816383Z: [INFO]    _____\n2021-07-29T14:52:59.769851884Z: [INFO]    /  _  \\ __________ _________   ____\n2021-07-29T14:52:59.769857984Z: [INFO]   /  /_\\  \\___   /  |  \\_  __ \\_/ __ \\\n2021-07-29T14:52:59.769873185Z: [INFO]  /    |    \\/    /|  |  /|  | \\/\\  ___/\n2021-07-29T14:52:59.769878285Z: [INFO]  \\____|__  /_____ \\____/ |__|    \\___  &gt;\n2021-07-29T14:52:59.924543150Z: [INFO]          \\/      \\/                  \\/\n2021-07-29T14:52:59.924549150Z: [INFO]  A P P   S E R V I C E   O N   L I N U X\n[...]\n2021-07-29T14:53:05.404068415Z: [INFO]  STARTUP_FILE=\n2021-07-29T14:53:05.419701706Z: [INFO]  STARTUP_COMMAND=java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar\n2021-07-29T14:53:05.419807209Z: [INFO]  No STARTUP_FILE available.\n2021-07-29T14:53:05.419822210Z: [INFO]  Running STARTUP_COMMAND: java -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -jar /home/site/wwwroot/app.jar\n2021-07-29T14:53:05.468409936Z: [ERROR]  Picked up JAVA_TOOL_OPTIONS: -Xmx1346M -Djava.net.preferIPv4Stack=true\n2021-07-29T14:53:05.769742003Z: [INFO]  Listening for transport dt_socket at address: 5005\n2021-07-29T14:53:15.032989100Z: [INFO]\n2021-07-29T14:53:15.033937730Z: [INFO]    .   ____          _            __ _ _\n2021-07-29T14:53:15.034646252Z: [INFO]   /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n2021-07-29T14:53:15.035378475Z: [INFO]  ( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n2021-07-29T14:53:15.035688785Z: [INFO]   \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n2021-07-29T14:53:15.082402455Z: [INFO]    '  |____| .__|_| |_|_| |_\\__, | / / / /\n2021-07-29T14:53:15.082444656Z: [INFO]   =========|_|==============|___/=/_/_/_/\n2021-07-29T14:53:15.082450956Z: [INFO]   :: Spring Boot ::                (v2.5.3)\n2021-07-29T14:53:15.082455556Z: [INFO]\n2021-07-29T14:53:15.874610379Z: [INFO]  2021-07-29 14:53:15.853  INFO 122 --- [           main] c.s.r.RemoteDebuggingDemo1Application    : Starting RemoteDebuggingDemo1Application using Java 11.0.7 on 16f2213f1d06 with PID 122 (/home/site/wwwroot/app.jar started by root in /)\n2021-07-29T14:53:15.889931561Z: [INFO]  2021-07-29 14:53:15.889  INFO 122 --- [           main] c.s.r.RemoteDebuggingDemo1Application    : No active profile set, falling back to default profiles: default\n2021-07-29T14:53:26.797375136Z: [INFO]  2021-07-29 14:53:26.796  INFO 122 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 80 (http)\n2021-07-29T14:53:26.919083170Z: [INFO]  2021-07-29 14:53:26.918  INFO 122 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2021-07-29T14:53:26.921537347Z: [INFO]  2021-07-29 14:53:26.919  INFO 122 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.50]\n2021-07-29T14:53:27.704270105Z: [INFO]  2021-07-29 14:53:27.703  INFO 122 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n[...]\n</code></pre>\n"},{"tags":["java","gradle","intellij-idea","javafx","dependency-management"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684092158,"post_id":76247269,"comment_id":134462601,"body_markdown":"Well, the solution is to put `implementation(&#39;com.itextpdf:itext7-core:8.0.0&#39;)` inside the `dependencies` block (also note I used version 8.0.0; it&#39;s typically good to use the latest versions of libraries as possible, especially since the version you linked to mentions 4 _known_ security vulnerabilities). You would then refresh the project in IntelliJ if the IDE doesn&#39;t do so automatically. If this isn&#39;t working for you, please describe the problem you&#39;re having.","body":"Well, the solution is to put <code>implementation(&#39;com.itextpdf:itext7-core:8.0.0&#39;)</code> inside the <code>dependencies</code> block (also note I used version 8.0.0; it&#39;s typically good to use the latest versions of libraries as possible, especially since the version you linked to mentions 4 <i>known</i> security vulnerabilities). You would then refresh the project in IntelliJ if the IDE doesn&#39;t do so automatically. If this isn&#39;t working for you, please describe the problem you&#39;re having."},{"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"score":0,"creation_date":1684240778,"post_id":76247269,"comment_id":134486300,"body_markdown":"I tried to go this way but even after I added the line that you suggest in the build file and refreshed the project I can&#39;t use the classes in the library.\nWith &quot;refresh the project&quot; you mean clicking the icon that appear on the top right of the screen right?","body":"I tried to go this way but even after I added the line that you suggest in the build file and refreshed the project I can&#39;t use the classes in the library. With &quot;refresh the project&quot; you mean clicking the icon that appear on the top right of the screen right?"}],"owner":{"account_id":22599428,"reputation":11,"user_id":16781231,"display_name":"dcfrenci"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1684065042,"creation_date":1684064316,"question_id":76247269,"body_markdown":"I&#39;m working first time on a JavaFX and I&#39;m not able to add a library to my Gradle project in Intellij.\r\n\r\nI tried many solution that I found on the internet but I wasn&#39;t able to solve my problem.\r\n\r\nThe library that I&#39;m tring to install is [com.itextpdf/itext7-core/7.0.4](https://mvnrepository.com/artifact/com.itextpdf/itext7-core/7.0.4). \r\n\r\nI tried by adding the implementation code line in the gradle build project but it didn&#39;t solve my problem. I tried also to add the library from the project setting in intellij and even after the library was downloaded to the &quot;lib&quot; folder I cound&#39;t use the library&#39;s classes.\r\n\r\nIf anyone knows a tutorial or can describe a step by step guide to do so it would be very helpful.\r\n\r\nI uploaded all the files in [github](https://github.com/dcfrenci/AppProject_Preventivo) and I removed all the testing that I did. \r\n\r\nHere the build gradle file\r\n\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;application&#39;\r\n        id &#39;org.javamodularity.moduleplugin&#39; version &#39;1.8.12&#39;\r\n        id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.13&#39;\r\n        id &#39;org.beryx.jlink&#39; version &#39;2.25.0&#39;\r\n    }\r\n\r\n    group &#39;com.preventivoApp&#39;\r\n    version &#39;1.0-SNAPSHOT&#39;\r\n\r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n\r\n    ext {\r\n        junitVersion = &#39;5.9.1&#39;\r\n    }\r\n\r\n    sourceCompatibility = &#39;17&#39;\r\n    targetCompatibility = &#39;17&#39;\r\n\r\n    tasks.withType(JavaCompile) {\r\n        options.encoding = &#39;UTF-8&#39;\r\n    }\r\n\r\n    application {\r\n        mainModule = &#39;com.preventivoapp.appproject_preventivo&#39;\r\n        mainClass = &#39;com.preventivoapp.appproject_preventivo.HelloApplication&#39;\r\n    }\r\n\r\n    javafx {\r\n        version = &#39;17.0.2&#39;\r\n        modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n    }\r\n\r\n    dependencies {\r\n        implementation(&#39;org.controlsfx:controlsfx:11.1.2&#39;)\r\n\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n    }\r\n\r\n    test {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n    jlink {\r\n        imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n        options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n        launcher {\r\n            name = &#39;app&#39;\r\n        }\r\n    }\r\n\r\n    jlinkZip {\r\n        group = &#39;distribution&#39;\r\n    }","title":"Can&#39;t add libraries from maven to my gradle project in Intellij","body":"<p>I'm working first time on a JavaFX and I'm not able to add a library to my Gradle project in Intellij.</p>\n<p>I tried many solution that I found on the internet but I wasn't able to solve my problem.</p>\n<p>The library that I'm tring to install is <a href=\"https://mvnrepository.com/artifact/com.itextpdf/itext7-core/7.0.4\" rel=\"nofollow noreferrer\">com.itextpdf/itext7-core/7.0.4</a>.</p>\n<p>I tried by adding the implementation code line in the gradle build project but it didn't solve my problem. I tried also to add the library from the project setting in intellij and even after the library was downloaded to the &quot;lib&quot; folder I cound't use the library's classes.</p>\n<p>If anyone knows a tutorial or can describe a step by step guide to do so it would be very helpful.</p>\n<p>I uploaded all the files in <a href=\"https://github.com/dcfrenci/AppProject_Preventivo\" rel=\"nofollow noreferrer\">github</a> and I removed all the testing that I did.</p>\n<p>Here the build gradle file</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.javamodularity.moduleplugin' version '1.8.12'\n    id 'org.openjfx.javafxplugin' version '0.0.13'\n    id 'org.beryx.jlink' version '2.25.0'\n}\n\ngroup 'com.preventivoApp'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.9.1'\n}\n\nsourceCompatibility = '17'\ntargetCompatibility = '17'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.preventivoapp.appproject_preventivo'\n    mainClass = 'com.preventivoapp.appproject_preventivo.HelloApplication'\n}\n\njavafx {\n    version = '17.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.2')\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n"},{"tags":["java","selenide"],"answers":[{"tags":[],"owner":{"account_id":2668294,"reputation":4488,"user_id":2306173,"accept_rate":100,"display_name":"Alex Kulinkovich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1487014892,"creation_date":1487014892,"answer_id":42212229,"question_id":42212228,"body_markdown":"I didn&#39;t find any code samples in documentation, but the next code solved my problem:\r\n\r\n    $(&quot;title&quot;).shouldHave(attribute(&quot;text&quot;, &quot;Your page title&quot;));","title":"How to check page title in selenide","body":"<p>I didn't find any code samples in documentation, but the next code solved my problem:</p>\n\n<pre><code>$(\"title\").shouldHave(attribute(\"text\", \"Your page title\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8280248,"reputation":57,"user_id":6225178,"display_name":"Amar Nath Yadav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1511541556,"creation_date":1511540045,"answer_id":47476873,"question_id":42212228,"body_markdown":"    $(&quot;title&quot;).shouldHave(text(&quot;title text&quot;));\r\n\r\n","title":"How to check page title in selenide","body":"<pre><code>$(\"title\").shouldHave(text(\"title text\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14193485,"reputation":1,"user_id":12887043,"display_name":"Chathura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581590185,"creation_date":1581589286,"answer_id":60205502,"question_id":42212228,"body_markdown":"This will extract the title from the page.\r\n```\r\nString tile= $(By.xpath(&quot;To your title tag&quot;)).innerText().toString();\r\n```","title":"How to check page title in selenide","body":"<p>This will extract the title from the page.</p>\n\n<pre><code>String tile= $(By.xpath(\"To your title tag\")).innerText().toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10368026,"reputation":479,"user_id":7646504,"display_name":"Domadin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624886828,"creation_date":1593905380,"answer_id":62735452,"question_id":42212228,"body_markdown":"Use `Selenide.title()` method to get page title text","title":"How to check page title in selenide","body":"<p>Use <code>Selenide.title()</code> method to get page title text</p>\n"},{"tags":[],"owner":{"account_id":4922,"reputation":4885,"user_id":7641,"accept_rate":83,"display_name":"Jens Bannmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684065023,"creation_date":1684065023,"answer_id":76247330,"question_id":42212228,"body_markdown":"As of Selenide 5.25.0 (September 2021), you can use this:\r\n\r\n``` java\r\nwebdriver().shouldHave(title(&quot;Your page title&quot;));\r\n```\r\n\r\nHere are the corresponding imports:\r\n\r\n``` java\r\nimport static com.codeborne.selenide.Selenide.webdriver;\r\nimport static com.codeborne.selenide.WebDriverConditions.title;\r\n```\r\n\r\n","title":"How to check page title in selenide","body":"<p>As of Selenide 5.25.0 (September 2021), you can use this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>webdriver().shouldHave(title(&quot;Your page title&quot;));\n</code></pre>\n<p>Here are the corresponding imports:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.codeborne.selenide.Selenide.webdriver;\nimport static com.codeborne.selenide.WebDriverConditions.title;\n</code></pre>\n"}],"owner":{"account_id":2668294,"reputation":4488,"user_id":2306173,"accept_rate":100,"display_name":"Alex Kulinkovich"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6115,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":42212229,"answer_count":5,"score":2,"last_activity_date":1684065023,"creation_date":1487014892,"question_id":42212228,"body_markdown":"How to check page title in Selenide using `shouldHave` assertion?\r\n\r\nIn &#39;Selenium&#39; it will be the next code:\r\n\r\n    Assert.assertEquals(title(), &quot;Your page title&quot;);","title":"How to check page title in selenide","body":"<p>How to check page title in Selenide using <code>shouldHave</code> assertion?</p>\n\n<p>In 'Selenium' it will be the next code:</p>\n\n<pre><code>Assert.assertEquals(title(), \"Your page title\");\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9557,"page":435,"page_size":100}
