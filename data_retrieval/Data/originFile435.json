{"items":[{"tags":["java","jackson","micronaut","micronaut-data","micronaut-serde"],"comments":[{"owner":{"account_id":930977,"reputation":8260,"user_id":960875,"accept_rate":98,"display_name":"saw303"},"score":1,"creation_date":1683991556,"post_id":76243021,"comment_id":134452841,"body_markdown":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde.","body":"You need to add more details. Please show your Controller and the Java type (class) you want to serialize with Micronaut Serde."},{"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"score":0,"creation_date":1684146830,"post_id":76243021,"comment_id":134469131,"body_markdown":"I&#39;ve added all relevant classes to the original question.","body":"I&#39;ve added all relevant classes to the original question."}],"answers":[{"comments":[{"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"score":1,"creation_date":1684171776,"post_id":76255464,"comment_id":134475144,"body_markdown":"I&#39;ve wondered if it was possible to configure Serde to work without providing a custom serializer, however for now I guess I&#39;ve gotta settle with that solution. Thanks!","body":"I&#39;ve wondered if it was possible to configure Serde to work without providing a custom serializer, however for now I guess I&#39;ve gotta settle with that solution. Thanks!"}],"tags":[],"owner":{"account_id":1200295,"reputation":603,"user_id":1171094,"display_name":"Denis"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684163353,"creation_date":1684163353,"answer_id":76255464,"question_id":76243021,"body_markdown":"You can use a custom serializer:\r\n```java\r\n@Prototype\r\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\r\n\r\n    @Override\r\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\r\n        Encoder e = encoder.encodeObject(type);\r\n\r\n        e.encodeKey(&quot;content&quot;);\r\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\r\n        context.findSerializer(contentType)\r\n            .createSpecific(context, contentType)\r\n            .serialize(e, context, contentType, page.getContent());\r\n\r\n        e.encodeKey(&quot;pageable&quot;);\r\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\r\n        context.findSerializer(pageable)\r\n            .createSpecific(context, pageable)\r\n            .serialize(e, context, pageable, page.getPageable());\r\n\r\n        e.encodeKey(&quot;totalSize&quot;);\r\n        e.encodeLong(page.getTotalSize());\r\n\r\n        e.finishStructure();\r\n    }\r\n}\r\n```\r\nThis should be fixed in Micronaut 4.","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>You can use a custom serializer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Prototype\nfinal class DefaultPageSerializer implements Serializer&lt;DefaultPage&lt;Object&gt;&gt; {\n\n    @Override\n    public void serialize(Encoder encoder, EncoderContext context, Argument&lt;? extends DefaultPage&lt;Object&gt;&gt; type, DefaultPage&lt;Object&gt; page) throws IOException {\n        Encoder e = encoder.encodeObject(type);\n\n        e.encodeKey(&quot;content&quot;);\n        Argument&lt;List&lt;Object&gt;&gt; contentType = Argument.listOf((Argument&lt;Object&gt;) type.getFirstTypeVariable().orElse(Argument.OBJECT_ARGUMENT));\n        context.findSerializer(contentType)\n            .createSpecific(context, contentType)\n            .serialize(e, context, contentType, page.getContent());\n\n        e.encodeKey(&quot;pageable&quot;);\n        Argument&lt;Pageable&gt; pageable = Argument.of(Pageable.class);\n        context.findSerializer(pageable)\n            .createSpecific(context, pageable)\n            .serialize(e, context, pageable, page.getPageable());\n\n        e.encodeKey(&quot;totalSize&quot;);\n        e.encodeLong(page.getTotalSize());\n\n        e.finishStructure();\n    }\n}\n</code></pre>\n<p>This should be fixed in Micronaut 4.</p>\n"}],"owner":{"account_id":26071740,"reputation":35,"user_id":19771288,"display_name":"user19771288"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76255464,"answer_count":1,"score":1,"last_activity_date":1684163353,"creation_date":1683985211,"question_id":76243021,"body_markdown":"I&#39;m trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I&#39;ve encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.\r\n\r\n\r\nInstead of getting a response looking like this (example response generated with micronaut-openapi&#39;s swagger):\r\n\r\n```\r\n{\r\n  &quot;content&quot;: [\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n  ],\r\n  &quot;pageable&quot;: {\r\n    &quot;orderBy&quot;: [\r\n      {\r\n        &quot;ignoreCase&quot;: true,\r\n        &quot;direction&quot;: &quot;ASC&quot;,\r\n        &quot;property&quot;: &quot;string&quot;,\r\n        &quot;ascending&quot;: true\r\n      }\r\n    ],\r\n    &quot;number&quot;: 0,\r\n    &quot;size&quot;: 0,\r\n    &quot;sort&quot;: {\r\n      &quot;orderBy&quot;: [\r\n        {\r\n          &quot;ignoreCase&quot;: true,\r\n          &quot;direction&quot;: &quot;ASC&quot;,\r\n          &quot;property&quot;: &quot;string&quot;,\r\n          &quot;ascending&quot;: true\r\n        }\r\n      ]\r\n    },\r\n    &quot;sorted&quot;: true\r\n  },\r\n  &quot;pageNumber&quot;: 0,\r\n  &quot;offset&quot;: 0,\r\n  &quot;size&quot;: 0,\r\n  &quot;empty&quot;: true,\r\n  &quot;numberOfElements&quot;: 0,\r\n  &quot;totalSize&quot;: 0,\r\n  &quot;totalPages&quot;: 0\r\n}\r\n```\r\n\r\nI&#39;m getting just the plain array of the items from pageable&#39;s content array:\r\n\r\n\r\n```\r\n[\r\n  {\r\n    &quot;id&quot;: 0,\r\n    &quot;name&quot;: &quot;Group1&quot;\r\n  }\r\n]\r\n```\r\n\r\nI&#39;ve traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry&#39;s findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable). \r\n\r\nI&#39;m wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?\r\n\r\n[EDIT]\r\nRelevant classes:\r\n\r\n**Page:**\r\n\r\nhttps://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\r\n\r\n\r\n**Repository:**\r\n\r\n    package org.example.repository;\r\n    \r\n    import io.micronaut.data.annotation.Repository;\r\n    import io.micronaut.data.repository.PageableRepository;\r\n    import org.example.model.Group;\r\n    \r\n    @Repository\r\n    public interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\r\n    }\r\n\r\n**Service:**\r\n\r\n    package org.example.service;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import jakarta.inject.Singleton;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.repository.GroupRepository;\r\n    \r\n    @Singleton\r\n    @RequiredArgsConstructor\r\n    public class GroupService {\r\n        private final GroupRepository groupRepository;\r\n    \r\n        public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\r\n            return groupRepository.findAll(pageable).map(GroupDto::from);\r\n        }\r\n    }\r\n\r\n**Controller:**\r\n\r\n    package org.example.controller;\r\n    \r\n    import io.micronaut.data.model.Page;\r\n    import io.micronaut.data.model.Pageable;\r\n    import io.micronaut.http.annotation.Controller;\r\n    import io.micronaut.http.annotation.Get;\r\n    import io.swagger.v3.oas.annotations.Parameter;\r\n    import lombok.RequiredArgsConstructor;\r\n    import org.example.dto.GroupDto;\r\n    import org.example.service.GroupService;\r\n    \r\n    @Controller(&quot;/groups&quot;)\r\n    @RequiredArgsConstructor\r\n    public class GroupController {\r\n        private final GroupService groupService;\r\n    \r\n        @Get\r\n        public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\r\n            return groupService.findAllGroups(pageable);\r\n        }\r\n    }\r\n\r\n**DTO**\r\n\r\n    package org.example.dto;\r\n    \r\n    import io.micronaut.serde.annotation.Serdeable;\r\n    import org.example.model.Group;\r\n    \r\n    @Serdeable\r\n    public record GroupDto(Long id, String name, int version) {\r\n        public static GroupDto from(Group group) {\r\n            return new GroupDto(group.getId(), group.getName(), group.getVersion());\r\n        }\r\n    }\r\n\r\n**Entity:**\r\n\r\n    package org.example.model;\r\n    \r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;_group&quot;)\r\n    @NoArgsConstructor @Getter @Setter\r\n    public class Group {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n        private Long id;\r\n        private String name;\r\n        @Version\r\n        private int version;\r\n    }\r\n\r\n\r\n","title":"Micronaut&#39;s Page used as a controller method return type is serialized without Page properties","body":"<p>I'm trying to implement a simple paged API using Micronaut 3.7.9, with micronaut-serde-jackson and I've encountered an issue with how my response is serialized, as Page properties are not included. My controller method return type is io.micronaut.data.model.Page.</p>\n<p>Instead of getting a response looking like this (example response generated with micronaut-openapi's swagger):</p>\n<pre><code>{\n  &quot;content&quot;: [\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n  ],\n  &quot;pageable&quot;: {\n    &quot;orderBy&quot;: [\n      {\n        &quot;ignoreCase&quot;: true,\n        &quot;direction&quot;: &quot;ASC&quot;,\n        &quot;property&quot;: &quot;string&quot;,\n        &quot;ascending&quot;: true\n      }\n    ],\n    &quot;number&quot;: 0,\n    &quot;size&quot;: 0,\n    &quot;sort&quot;: {\n      &quot;orderBy&quot;: [\n        {\n          &quot;ignoreCase&quot;: true,\n          &quot;direction&quot;: &quot;ASC&quot;,\n          &quot;property&quot;: &quot;string&quot;,\n          &quot;ascending&quot;: true\n        }\n      ]\n    },\n    &quot;sorted&quot;: true\n  },\n  &quot;pageNumber&quot;: 0,\n  &quot;offset&quot;: 0,\n  &quot;size&quot;: 0,\n  &quot;empty&quot;: true,\n  &quot;numberOfElements&quot;: 0,\n  &quot;totalSize&quot;: 0,\n  &quot;totalPages&quot;: 0\n}\n</code></pre>\n<p>I'm getting just the plain array of the items from pageable's content array:</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 0,\n    &quot;name&quot;: &quot;Group1&quot;\n  }\n]\n</code></pre>\n<p>I've traced this issue back to the io.micronaut.serde.support.DefaultSerdeRegistry's findSerializer method which returns a io.micronaut.serde.support.serializers.IterableSerializer for a Page instance (which is understandable as Page effectively implements Iterable).</p>\n<p>I'm wondering if there is a way to configure Serde to serialize Pageable with its instance fields (size, totalPages etc.), other than creating a custom Page which does not inherit from Iterable or registering own Serializer instance especially for io.micronaut.data.model.Page?</p>\n<p>[EDIT]\nRelevant classes:</p>\n<p><strong>Page:</strong></p>\n<p><a href=\"https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java\" rel=\"nofollow noreferrer\">https://github.com/micronaut-projects/micronaut-data/blob/master/data-model/src/main/java/io/micronaut/data/model/Page.java</a></p>\n<p><strong>Repository:</strong></p>\n<pre><code>package org.example.repository;\n\nimport io.micronaut.data.annotation.Repository;\nimport io.micronaut.data.repository.PageableRepository;\nimport org.example.model.Group;\n\n@Repository\npublic interface GroupRepository extends PageableRepository&lt;Group, Long&gt; {\n}\n</code></pre>\n<p><strong>Service:</strong></p>\n<pre><code>package org.example.service;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport jakarta.inject.Singleton;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.repository.GroupRepository;\n\n@Singleton\n@RequiredArgsConstructor\npublic class GroupService {\n    private final GroupRepository groupRepository;\n\n    public Page&lt;GroupDto&gt; findAllGroups(Pageable pageable) {\n        return groupRepository.findAll(pageable).map(GroupDto::from);\n    }\n}\n</code></pre>\n<p><strong>Controller:</strong></p>\n<pre><code>package org.example.controller;\n\nimport io.micronaut.data.model.Page;\nimport io.micronaut.data.model.Pageable;\nimport io.micronaut.http.annotation.Controller;\nimport io.micronaut.http.annotation.Get;\nimport io.swagger.v3.oas.annotations.Parameter;\nimport lombok.RequiredArgsConstructor;\nimport org.example.dto.GroupDto;\nimport org.example.service.GroupService;\n\n@Controller(&quot;/groups&quot;)\n@RequiredArgsConstructor\npublic class GroupController {\n    private final GroupService groupService;\n\n    @Get\n    public Page&lt;GroupDto&gt; findAllGroups(@Parameter(hidden = true) Pageable pageable) {\n        return groupService.findAllGroups(pageable);\n    }\n}\n</code></pre>\n<p><strong>DTO</strong></p>\n<pre><code>package org.example.dto;\n\nimport io.micronaut.serde.annotation.Serdeable;\nimport org.example.model.Group;\n\n@Serdeable\npublic record GroupDto(Long id, String name, int version) {\n    public static GroupDto from(Group group) {\n        return new GroupDto(group.getId(), group.getName(), group.getVersion());\n    }\n}\n</code></pre>\n<p><strong>Entity:</strong></p>\n<pre><code>package org.example.model;\n\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;_group&quot;)\n@NoArgsConstructor @Getter @Setter\npublic class Group {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    private String name;\n    @Version\n    private int version;\n}\n</code></pre>\n"},{"tags":["java","garbage-collection","finalizer"],"comments":[{"owner":{"account_id":1336108,"reputation":8046,"user_id":1278839,"accept_rate":69,"display_name":"CodeChimp"},"score":3,"creation_date":1389012574,"post_id":20950086,"comment_id":31465702,"body_markdown":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue.","body":"Not that I know of, not without byte-code manipulation.  I would suggest trying to refactor your application to remove the finalizers if you believe they are the issue."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":0,"creation_date":1389013108,"post_id":20950086,"comment_id":31466024,"body_markdown":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers *will* be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM.","body":"Do you think the application will work without the code in the finalizers running at some point? IIrc, finalizers <i>will</i> be run for every object collected during normal operation of the VM; exception: abrupt shutdown of the VM."},{"owner":{"account_id":2314453,"reputation":4203,"user_id":2031799,"display_name":"Mikhail"},"score":0,"creation_date":1389014204,"post_id":20950086,"comment_id":31466654,"body_markdown":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause.","body":"@HannoBinder Finalizers also make escape analysis impossible. So if application is heavy loaded they might be the cause."},{"owner":{"account_id":2577836,"reputation":119494,"user_id":2235132,"display_name":"devnull"},"score":0,"creation_date":1389015822,"post_id":20950086,"comment_id":31467529,"body_markdown":"`Very slow GC` isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space.","body":"<code>Very slow GC</code> isn&#39;t likely due to exceptions -- it&#39;s likely due to lack of heap space."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021389,"post_id":20950086,"comment_id":31470838,"body_markdown":"I&#39;ve added some further notes - would appreciate all suggestions offered.","body":"I&#39;ve added some further notes - would appreciate all suggestions offered."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389021888,"post_id":20950086,"comment_id":31471116,"body_markdown":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code *should* survive that.","body":"@HannoBinder - Yes I am - mostly because Java makes no promises about when, or even if finalizers are run so the code <i>should</i> survive that."},{"owner":{"account_id":1000314,"reputation":12261,"user_id":1015327,"display_name":"JimmyB"},"score":1,"creation_date":1389033542,"post_id":20950086,"comment_id":31478186,"body_markdown":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for *some* reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off *will* break something.","body":"Certainly the application logic will not suffer if finalizers are not run. - I&#39;m rather thinking about resource de-allocations which, if never performed, may break the application through resource depletion. After all, that finalizer code was written for <i>some</i> reason. If it can be omitted completely, the assumption that lead to its implementation was erroneous; but if it does something useful, probably just at the &quot;wrong&quot; place, turning finalizer code off <i>will</i> break something."},{"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"score":0,"creation_date":1389053650,"post_id":20950086,"comment_id":31488263,"body_markdown":"@HannoBinder - You are too generous - I would say *if you are relying on finalizers to clean up your mess you are an .....* expletive deleted.","body":"@HannoBinder - You are too generous - I would say <i>if you are relying on finalizers to clean up your mess you are an .....</i> expletive deleted."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1389065416,"creation_date":1389020073,"answer_id":20952631,"question_id":20950086,"body_markdown":"&gt; Is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nIn a word No.\r\n\r\nBut unless a large proportion of your objects have `finalize` methods and/or the `finalize` methods are particularly expensive, I think that they are unlikely to make GC &quot;very slow&quot;.  I expect the problem is something else.\r\n\r\nI suggest that you turn on GC logging to try and get a better picture of what is actually happening.\r\n\r\nBut I also agree, that refactoring the code to get rid of the `finalize()` methods would probably be a good thing in the long run.  (There are very few situations where using `finalize` is genuinely the best solution.)\r\n\r\n\r\n---------\r\n\r\n*UPDATE* - your new evidence is pretty convincing, though not a proof!.  \r\n\r\n&gt; I do not have the power to demand a refactor.\r\n\r\nThen, I suggest you place the evidence at the feet of the people who do :-).\r\n\r\nAlternatively, you could add an exception handler to the suspect `finalize` methods to see if they *are* throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)\r\n\r\nBut the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.","title":"Can we switch off finalizers?","body":"<blockquote>\n  <p>Is there any way to persuade the JVM to completely skip all finalization processes?</p>\n</blockquote>\n\n<p>In a word No.</p>\n\n<p>But unless a large proportion of your objects have <code>finalize</code> methods and/or the <code>finalize</code> methods are particularly expensive, I think that they are unlikely to make GC \"very slow\".  I expect the problem is something else.</p>\n\n<p>I suggest that you turn on GC logging to try and get a better picture of what is actually happening.</p>\n\n<p>But I also agree, that refactoring the code to get rid of the <code>finalize()</code> methods would probably be a good thing in the long run.  (There are very few situations where using <code>finalize</code> is genuinely the best solution.)</p>\n\n<hr>\n\n<p><em>UPDATE</em> - your new evidence is pretty convincing, though not a proof!.  </p>\n\n<blockquote>\n  <p>I do not have the power to demand a refactor.</p>\n</blockquote>\n\n<p>Then, I suggest you place the evidence at the feet of the people who do :-).</p>\n\n<p>Alternatively, you could add an exception handler to the suspect <code>finalize</code> methods to see if they <em>are</em> throwing exceptions.  (And if they are, then change them to avoid the exceptions being thrown ...)</p>\n\n<p>But the bottom line is that if finalization is the real cause of your performance problems then the best (and probably the only) way to cure them is to change the code.</p>\n"},{"tags":[],"owner":{"account_id":250725,"reputation":9776,"user_id":527617,"accept_rate":69,"display_name":"UVM"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1389065777,"creation_date":1389065777,"answer_id":20963467,"question_id":20950086,"body_markdown":"You cannot switch off `finalizer` in java, but all you can do is write code that will facilitate GC :-).","title":"Can we switch off finalizers?","body":"<p>You cannot switch off <code>finalizer</code> in java, but all you can do is write code that will facilitate GC :-).</p>\n"},{"tags":[],"owner":{"account_id":1966542,"reputation":4462,"user_id":1766655,"accept_rate":100,"display_name":"Mishax"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1498577669,"creation_date":1498566911,"answer_id":44780454,"question_id":20950086,"body_markdown":"It **is** possible to suppress finalization on certain objects. It does **not** require bytecode manipulation as one commenter noted. \r\n\r\nThe procedure is described [here][1] and source code is provided. The class `java.lang.ref.Finalizer` is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field `lock`, iterate over the linked list `unfinalized` that the Finalizer class maintains, and remove your object from this list.\r\n\r\nI&#39;ve tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.\r\n\r\n\r\n\r\n  [1]: http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html","title":"Can we switch off finalizers?","body":"<p>It <strong>is</strong> possible to suppress finalization on certain objects. It does <strong>not</strong> require bytecode manipulation as one commenter noted. </p>\n\n<p>The procedure is described <a href=\"http://lukequinane.blogspot.de/2009/03/java-suppress-finalizer.html\" rel=\"nofollow noreferrer\">here</a> and source code is provided. The class <code>java.lang.ref.Finalizer</code> is responsible for maintaining a list of objects that have not yet been finalized. To suppress finalization of your objects of interest, it suffices to use reflection APIs to acquire a lock on the field <code>lock</code>, iterate over the linked list <code>unfinalized</code> that the Finalizer class maintains, and remove your object from this list.</p>\n\n<p>I've tried this method to safely instantiate custom-serialized objects while bypassing constructor invocation, and avoiding problems when the finalizer would be invoked with normal GC. Before applying this method my JVM would break with hard faults in the finalizer thread; since applying this method the faults do not occur.</p>\n"},{"tags":[],"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684162678,"creation_date":1684162325,"answer_id":76255302,"question_id":20950086,"body_markdown":"Java 18 (released in 2022) deprecated finalization for removal with [JEP 421](https://openjdk.org/jeps/421) and [added an option for disabling it](https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization).\r\n\r\nYou can now start your application with `--finalization=disabled` and it won&#39;t run finalizers.\r\n\r\n```bash\r\njava --finalization=disabled -jar your-app.jar\r\n```\r\n\r\nThe JEP also mentions a JFR event called `jdk.FinalizerStatistics` which gives you more information about finalization:\r\n```bash\r\n# start Java with the JFR event jdk.FinalizerStatistics enabled\r\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\r\n# print events\r\njfr print --events FinalizerStatistics recording.jfr\r\n```","title":"Can we switch off finalizers?","body":"<p>Java 18 (released in 2022) deprecated finalization for removal with <a href=\"https://openjdk.org/jeps/421\" rel=\"nofollow noreferrer\">JEP 421</a> and <a href=\"https://openjdk.org/jeps/421#Command-line-option-to-disable-finalization\" rel=\"nofollow noreferrer\">added an option for disabling it</a>.</p>\n<p>You can now start your application with <code>--finalization=disabled</code> and it won't run finalizers.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>java --finalization=disabled -jar your-app.jar\n</code></pre>\n<p>The JEP also mentions a JFR event called <code>jdk.FinalizerStatistics</code> which gives you more information about finalization:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># start Java with the JFR event jdk.FinalizerStatistics enabled\njava -XX:StartFlightRecording:filename=recording.jfr -jar your-app.jar\n# print events\njfr print --events FinalizerStatistics recording.jfr\n</code></pre>\n"}],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":915,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":20952631,"answer_count":4,"score":16,"last_activity_date":1684162678,"creation_date":1389011474,"question_id":20950086,"body_markdown":"As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?\r\n\r\nI ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).\r\n\r\n**Added**\r\n\r\nThere is some discussion on https://stackoverflow.com/q/7644556/823393 where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.\r\n\r\nMy issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of `Finalizer` objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.\r\n\r\nI do not have the power to demand a refactor.\r\n","title":"Can we switch off finalizers?","body":"<p>As there is little guarantee about when and even if finalizers run and finalizers are almost considered a smell nowadays - is there any way to persuade the JVM to completely skip all finalization processes?</p>\n\n<p>I ask because we have a mammoth application which, when moved to a newer JVM (not sure which at this stage) is brought to its knees by what looks very much like the known problems with finalisers (exceptions being thrown and therefore very slow GC).</p>\n\n<p><strong>Added</strong></p>\n\n<p>There is some discussion on <a href=\"https://stackoverflow.com/q/7644556/823393\">Troubleshooting a java memory leak: finalization?</a> where it is suggested that the primary problem arises when exceptions are thrown within finalizers because that slows down the finalization process dramatically.</p>\n\n<p>My issue shows as a dramatic slow-down when memory becomes low and analysis of heap dumps show a large number of <code>Finalizer</code> objects (over 10,000,000) - suggesting to me that the slowdown could be their fault because they are delaying the GC. Obviously I may be wrong.</p>\n\n<p>I do not have the power to demand a refactor.</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508156178,"post_id":46769744,"comment_id":80485475,"body_markdown":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information.","body":"What do you mean with &quot;depending on the transferred parameter&quot;? Can you please provide some more information."},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508156954,"post_id":46769744,"comment_id":80486006,"body_markdown":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on","body":"@StefanBirkner For example: if jenkins get parameter FirstTest then start testsuite FirstTest. If jenkins get parameter testOther then start testsuite testOther and so on"},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508157129,"post_id":46769744,"comment_id":80486109,"body_markdown":"Are you using a build tool like Ant, Gradle or Maven?","body":"Are you using a build tool like Ant, Gradle or Maven?"},{"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"score":0,"creation_date":1508157263,"post_id":46769744,"comment_id":80486199,"body_markdown":"@StefanBirkner I use Maven.","body":"@StefanBirkner I use Maven."},{"owner":{"account_id":268368,"reputation":24162,"user_id":557091,"display_name":"Stefan Birkner"},"score":0,"creation_date":1508162548,"post_id":46769744,"comment_id":80489962,"body_markdown":"Please have a look at Atul&#39;s answer.","body":"Please have a look at Atul&#39;s answer."}],"answers":[{"tags":[],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508158009,"creation_date":1508158009,"answer_id":46770704,"question_id":46769744,"body_markdown":"I believe you can do something like that using [junit test categories][1]. For example, for running integration tests, you can configure a separate annotation for the tests. \r\n\r\nMaven [supports][2] test categories.\r\n\r\nDoes it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.\r\n\r\n\r\n  [1]: http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\r\n  [2]: http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I believe you can do something like that using <a href=\"http://junit.org/junit4/javadoc/4.12/org/junit/experimental/categories/Categories.html\" rel=\"nofollow noreferrer\">junit test categories</a>. For example, for running integration tests, you can configure a separate annotation for the tests. </p>\n\n<p>Maven <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit.html\" rel=\"nofollow noreferrer\">supports</a> test categories.</p>\n\n<p>Does it solve your problem or is the jenkins input parameter critical? If it is a jenkins parameter, I believe it is some environment/build configuration and you can customize your build (maven tests to be run) as per the the environment or build job.</p>\n"}],"owner":{"account_id":7024326,"reputation":315,"user_id":5415416,"accept_rate":88,"display_name":"Denis Bolshakov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684161984,"creation_date":1508154926,"question_id":46769744,"body_markdown":"I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)\r\n\r\nHow can I implement this in jUnit?\r\n\r\nThis is an example of one of the test suites:\r\n\r\n    @RunWith(Categories.class)\r\n    @Suite.SuiteClasses({UserLogin.class,\r\n            ExampleTests.class\r\n            }\r\n    )\r\n    public class FirstTest {","title":"How launch of certain TestSuite using the parameter in jUnit?","body":"<p>I have test classes which uses other test classes. It is necessary to run these classes depending on the transferred parameter in Jenkins. (For example: if jenkins get parameter testOne then start testsuite testOne. If jenkins get parameter testOther then start testsuite testOther and so on)</p>\n<p>How can I implement this in jUnit?</p>\n<p>This is an example of one of the test suites:</p>\n<pre><code>@RunWith(Categories.class)\n@Suite.SuiteClasses({UserLogin.class,\n        ExampleTests.class\n        }\n)\npublic class FirstTest {\n</code></pre>\n"},{"tags":["java","html","css","model-view-controller"],"comments":[{"owner":{"account_id":26408874,"reputation":215,"user_id":20058203,"display_name":"AJ Zack"},"score":0,"creation_date":1684155927,"post_id":76254367,"comment_id":134471186,"body_markdown":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work.","body":"you gave a screenshot of the link that works but no screenshot for the link that doesn&#39;t work."},{"owner":{"account_id":129540,"reputation":210839,"user_id":328193,"accept_rate":91,"display_name":"David"},"score":2,"creation_date":1684156423,"post_id":76254367,"comment_id":134471303,"body_markdown":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?","body":"In your browser&#39;s debugging tools, on the network tab, when the page makes a request for the CSS file, what is the URL of that request?  Does it match what you expect?  What is the server&#39;s response?"},{"owner":{"account_id":29476,"reputation":31520,"user_id":79677,"accept_rate":68,"display_name":"Chris Barr"},"score":0,"creation_date":1684156647,"post_id":76254367,"comment_id":134471347,"body_markdown":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it.","body":"Please include actual code and not screenshots of code.  Also please actually include your code that does not work so people can help you with it."},{"owner":{"account_id":10162,"reputation":922420,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684156794,"post_id":76254367,"comment_id":134471382,"body_markdown":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your `&lt;link&gt;` resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for *3* to work.","body":"Things that you need to know to solve your problem. (1) The URL of the HTML document that your server is generating from your template. (2) The absolute URL that the relative URL in your <code>&lt;link&gt;</code> resolves to. (3) How the HTTP server you are using generates static URLs for static files. (4) Where on your file system you should put static files for <i>3</i> to work."},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157511,"post_id":76254367,"comment_id":134471564,"body_markdown":"it is first time i am publishing the question here, i am sorry for non-informativeness","body":"it is first time i am publishing the question here, i am sorry for non-informativeness"},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684157683,"post_id":76254367,"comment_id":134471601,"body_markdown":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!","body":"Not at all - that is why WE are here - to answer questions of every level. Remember that we once were where you are now, so we are happy to lend a helping hand. Ask away! But do NOT become discouraged if some people are rude. Sometimes even people with very high rep scores are unkind. Just keep asking!"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157966,"post_id":76254367,"comment_id":134471664,"body_markdown":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser","body":"i posted the screenshot of the code that does not work, i highlighted the link to css url and there is no response from browser"}],"answers":[{"comments":[{"owner":{"account_id":10162,"reputation":922420,"user_id":19068,"display_name":"Quentin"},"score":0,"creation_date":1684156423,"post_id":76254415,"comment_id":134471304,"body_markdown":"&quot;The webserver will look for your CSS file starting from the location of your index file.&quot; — Since the template is in a directory called &quot;templates&quot; and there is a folder named &quot;static&quot; in the image, that statement is probably incorrect for this web server.","body":"&quot;The webserver will look for your CSS file starting from the location of your index file.&quot; — Since the template is in a directory called &quot;templates&quot; and there is a folder named &quot;static&quot; in the image, that statement is probably incorrect for this web server."},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157392,"post_id":76254415,"comment_id":134471536,"body_markdown":"my html file and css fila are in the same directory","body":"my html file and css fila are in the same directory"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684157412,"post_id":76254415,"comment_id":134471542,"body_markdown":"capitalization matters","body":"capitalization matters"},{"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"score":0,"creation_date":1684162512,"post_id":76254415,"comment_id":134472849,"body_markdown":"checked everything, tried some ways to fix problem, still html file does not see css file, there is no bug appears, browser show page without css, anybody help, show the place where the the mistake is, it spent 4 fours to fix this bug","body":"checked everything, tried some ways to fix problem, still html file does not see css file, there is no bug appears, browser show page without css, anybody help, show the place where the the mistake is, it spent 4 fours to fix this bug"},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684168269,"post_id":76254415,"comment_id":134474380,"body_markdown":"Use DevTools. On the page created by your HTML, press F12 (or Right-Click and choose Inspect). This shows the HTML that created the page. Go up to the **head** element and locate the style tag. What does the tag say? Now, create a new tab and try the URL: `https://yourdomain.com/path-to-your-style.css` - or, on localhost: `http://localhost/templates/style.css`. THEN, experiment with that URL until you actually open the style.css and see the text. Update your question and post a screenshot of what you see in DevTools for the style tag.","body":"Use DevTools. On the page created by your HTML, press F12 (or Right-Click and choose Inspect). This shows the HTML that created the page. Go up to the <b>head</b> element and locate the style tag. What does the tag say? Now, create a new tab and try the URL: <code>https:&#47;&#47;yourdomain.com&#47;path-to-your-style.css</code> - or, on localhost: <code>http:&#47;&#47;localhost&#47;templates&#47;style.css</code>. THEN, experiment with that URL until you actually open the style.css and see the text. Update your question and post a screenshot of what you see in DevTools for the style tag."},{"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"score":0,"creation_date":1684169517,"post_id":76254415,"comment_id":134474673,"body_markdown":"What happens if you change the `&lt;link&gt;` for your stylesheet to just `style.css` ?  Also, because you had a capitalization issue earlier, try renaming your stylesheet just to `bob.css`. The trick is to be able to open your stylesheet from the browser address bar - that will help you discover the relationship between the index file and the style.css file. Are they in the same folder? If so, you should be able to open `http://domain_or_127.0.0.1/style.css`","body":"What happens if you change the <code>&lt;link&gt;</code> for your stylesheet to just <code>style.css</code> ?  Also, because you had a capitalization issue earlier, try renaming your stylesheet just to <code>bob.css</code>. The trick is to be able to open your stylesheet from the browser address bar - that will help you discover the relationship between the index file and the style.css file. Are they in the same folder? If so, you should be able to open <code>http:&#47;&#47;domain_or_127.0.0.1&#47;style.css</code>"}],"tags":[],"owner":{"account_id":1449141,"reputation":38288,"user_id":1447509,"accept_rate":89,"display_name":"cssyphus"},"comment_count":6,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1684157863,"creation_date":1684156179,"answer_id":76254415,"question_id":76254367,"body_markdown":"The webserver will look for your CSS file starting from the location of your index file. ***Important: See Quentin&#39;s note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.***\r\n\r\nAccording to that code, the file `style.css` should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.\r\n\r\nDid you move the style.css file into a subfolder? Is the capitalization different?\r\n","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>The webserver will look for your CSS file starting from the location of your index file. <em><strong>Important: See Quentin's note under your question for important information when you are using templates and frameworks. This sentence only applies to traditional HTML construction - but it also applies once your project has been generated and uploaded to the web server.</strong></em></p>\n<p>According to that code, the file <code>style.css</code> should be in the same folder as the index file, and spelled exactly as specified. Capitalization matters: Style.css is not style.css.</p>\n<p>Did you move the style.css file into a subfolder? Is the capitalization different?</p>\n"}],"owner":{"account_id":21821517,"reputation":13,"user_id":16253011,"display_name":"trying  to be developer"},"comment_count":7,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684156520,"accepted_answer_id":76254415,"answer_count":1,"score":-3,"last_activity_date":1684161972,"creation_date":1684155815,"question_id":76254367,"body_markdown":"html file cannot see css file\r\n\r\nin my previous project the same link to css file worked[enter image description here](https://i.stac## \r\n\r\n 1. \r\n\r\n\r\n----------\r\n## **[![Heading][1]][1]** ##\r\n\r\n ##k.imgur.com/u6L9P.png)\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/thcs8.png","title":"the link to css file does not work, a have check everything, still does not work, anybody answer me, what is wrong?","body":"<p>html file cannot see css file</p>\n<p>in my previous project the same link to css file worked[enter image description here](<a href=\"https://i.stac##\" rel=\"nofollow noreferrer\">https://i.stac##</a></p>\n<p>1.</p>\n<hr />\n<h2><strong><a href=\"https://i.stack.imgur.com/thcs8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/thcs8.png\" alt=\"Heading\" /></a></strong></h2>\n<p>##k.imgur.com/u6L9P.png)</p>\n"},{"tags":["java","jpa","desktop-application"],"owner":{"account_id":27647727,"reputation":31,"user_id":21103267,"display_name":"Deema Shaath"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"answer_count":0,"score":1,"last_activity_date":1684161763,"creation_date":1684066129,"question_id":76247405,"body_markdown":"I&#39;m new to JPA in Java. I followed a tutorial (I can&#39;t share it to public) step by step and the code runs successfully. But, when I run my code it shows:\r\n\r\n&gt; WARNING: jakarta.persistence.spi::No valid providers found.\r\n\r\n I asked many experts in the field but no one found a solution.\r\n\r\nI tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\r\nI&#39;m not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:\r\n```xnl\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\r\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\nI&#39;m sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using *javax.persistence* and the same error appears.\r\nPlease note: I&#39;m using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.","title":"ERROR: jakarta.persistence.PersistenceException: No Persistence provider for EntityManager named","body":"<p>I'm new to JPA in Java. I followed a tutorial (I can't share it to public) step by step and the code runs successfully. But, when I run my code it shows:</p>\n<blockquote>\n<p>WARNING: jakarta.persistence.spi::No valid providers found.</p>\n</blockquote>\n<p>I asked many experts in the field but no one found a solution.</p>\n<p>I tried all solutions like adding the hibernate-core.jar and many other solutions for this error mentioned in Stack Overflow.\nI'm not using maven, like the tutorial I followed did! Here is my persistence.xml file the same as the tutorial:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n    &lt;persistence-unit name=&quot;Prog3Assi3PU&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n        &lt;class&gt;Ch5Apps.Department&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Employee&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.EmployeeProjects&lt;/class&gt;\n        &lt;class&gt;Ch5Apps.Project&lt;/class&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.url&quot; value=&quot;jdbc:mysql://localhost:3308/companyjpa?serverTimezone=UTC&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.driver&quot; value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n            &lt;property name=&quot;jakarta.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>I'm sure that port number of the localhost is correct, and the persistence.xml is in the right path. I tried using <em>javax.persistence</em> and the same error appears.\nPlease note: I'm using NetBeans 17, JDK 20 and tried JDK 17 but the problem still appears.</p>\n"},{"tags":["java","android","digital-persona-sdk"],"answers":[{"tags":[],"owner":{"account_id":28594600,"reputation":16,"user_id":21893068,"display_name":"Jaco foran"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684075514,"creation_date":1684060744,"answer_id":76247014,"question_id":76243048,"body_markdown":"contact with \r\n```\r\n ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n```\r\nhttp://digital.persona.sdk.android.brainwaveappstudio.com/","title":"How to connect digital persona fingerprint device with an android","body":"<p>contact with</p>\n<pre><code> ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n</code></pre>\n<p><a href=\"http://digital.persona.sdk.android.brainwaveappstudio.com/\" rel=\"nofollow noreferrer\">http://digital.persona.sdk.android.brainwaveappstudio.com/</a></p>\n"}],"owner":{"account_id":27197905,"reputation":3,"user_id":20730531,"display_name":"Adal Ponal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":415,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76247014,"answer_count":1,"score":0,"last_activity_date":1684161720,"creation_date":1683985543,"question_id":76243048,"body_markdown":"I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.\r\n\r\nLike this app:\r\nhttps://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\r\n\r\n```java\r\nimport com.digitalpersona.uareu.*; \r\n\r\nprivate void start_scanning() {\r\n    try {\r\n        // Pick first available reader\r\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\r\n        rc.GetReaders();\r\n        r = rc.get(0);\r\n        if (r==null)\r\n            return;\r\n\r\n        // Open Reader\r\n        r.Open(Reader.Priority.COOPERATIVE);\r\n        System.out.println(r.GetStatus().status); // Outputs READY\r\n\r\n        // The following call just hangs and never returns...\r\n        Reader.CaptureResult\r\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\r\n        System.out.println(cr.quality.name()); // Just to test\r\n\r\n    } catch (UareUException e) {\r\n        e.printStackTrace();\r\n    }\r\n}\r\n```","title":"How to connect digital persona fingerprint device with an android","body":"<p>I want to connect digital persona fingerprint device with an Android. This means I need the app source code for Android.</p>\n<p>Like this app:\n<a href=\"https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona\" rel=\"nofollow noreferrer\">https://play.google.com/store/apps/details?id=com.digitalpersona.digitalpersona</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.digitalpersona.uareu.*; \n\nprivate void start_scanning() {\n    try {\n        // Pick first available reader\n        ReaderCollection rc = UareUGlobal.GetReaderCollection();\n        rc.GetReaders();\n        r = rc.get(0);\n        if (r==null)\n            return;\n\n        // Open Reader\n        r.Open(Reader.Priority.COOPERATIVE);\n        System.out.println(r.GetStatus().status); // Outputs READY\n\n        // The following call just hangs and never returns...\n        Reader.CaptureResult\n                cr = r.Capture(Fid.Format.ISO_19794_4_2005, Reader.ImageProcessing.IMG_PROC_DEFAULT, 500, -1);\n        System.out.println(cr.quality.name()); // Just to test\n\n    } catch (UareUException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","plsql"],"comments":[{"owner":{"account_id":15582151,"reputation":1890,"user_id":11241615,"display_name":"xavier"},"score":0,"creation_date":1561404726,"post_id":56742820,"comment_id":100044664,"body_markdown":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all...","body":"Please explain what you tried to do to solve this problem. Don&#39;t just copy-paste your code and expect someone is going to do debug it all..."},{"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"score":0,"creation_date":1561405346,"post_id":56742820,"comment_id":100044883,"body_markdown":"I tried to follow Oracle documentation here - https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?","body":"I tried to follow Oracle documentation here - <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180</a>. Its mentioned - Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does it mean it won&#39;t support associate arrays of complex types as shown in my code ?"},{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":0,"creation_date":1561414854,"post_id":56742820,"comment_id":100047993,"body_markdown":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck.","body":"That&#39;s certainly the way I read it. I suggest that instead of trying to pass back a complex type, you should form something like a comma-separated values string from your data and return that, or something else similar. Best of luck."},{"owner":{"account_id":1061472,"reputation":11336,"user_id":1062992,"accept_rate":94,"display_name":"egerardus"},"score":0,"creation_date":1561415630,"post_id":56742820,"comment_id":100048180,"body_markdown":"Fixed the code formatting and added a question to the ...question.","body":"Fixed the code formatting and added a question to the ...question."},{"owner":{"account_id":16044618,"reputation":1278,"user_id":11580129,"display_name":"Tad Harrison"},"score":0,"creation_date":1561551309,"post_id":56742820,"comment_id":100100564,"body_markdown":"You are correct--you are limited to simple arrays like `String[]` and `BigDecimal[]`. Would you be able to do what you need with simple arrays alone?","body":"You are correct--you are limited to simple arrays like <code>String[]</code> and <code>BigDecimal[]</code>. Would you be able to do what you need with simple arrays alone?"}],"answers":[{"tags":[],"owner":{"account_id":28606093,"reputation":1,"user_id":21902007,"display_name":"Dan Sievewright"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161526,"creation_date":1684161526,"answer_id":76255187,"question_id":56742820,"body_markdown":"This can be done if you use SQLData and OracleData per the docs, https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50.\r\n\r\nYou can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.\r\n\r\n\r\nexample EmpRow:\r\n\r\n    class EmpRow implements SQLData {\r\n        private String employeeNumber;\r\n        private String employeeName;\r\n        private String employeeDept;\r\n        \r\n        // add getters/setters/construtor\r\n\r\n        @Override\r\n        public String getSQLTypeName() throws SQLException {\r\n\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\r\n            employeeNumber = stream.readString();\r\n            employeeName = stream.readString();\r\n            employeeDept = stream.readString();\r\n\r\n        }\r\n\r\n        @Override\r\n        public void writeSQL(SQLOutput stream) throws SQLException {\r\n\r\n            stream.writeString(employeeNumber);\r\n            stream.writeString(employeeName);\r\n            stream.writeString(employeeDept);\r\n        }\r\n    }\r\n\r\nexample call:\r\n\r\n    // values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \r\n    public void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\r\n        \r\n        Connection conn = //get connection\r\n        conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\r\n        conn.setObject(1, new OracleData() {\r\n            \r\n            @Override\r\n            public Object toJDBCObject(Connection arg0) throws SQLException {\r\n                \r\n                // TODO Auto-generated method stub\r\n                return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\r\n            }\r\n        }); \r\n\r\n        conn.registerOutParameter(2, Types.VARCHAR); \r\n        conn.execute ();\r\n        \r\n        // rest of procedure\r\n    }\r\n\r\nPersonally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven&#39;t tested with your particular example so let me know if anything is amiss.","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>This can be done if you use SQLData and OracleData per the docs, <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50\" rel=\"nofollow noreferrer\">https://docs.oracle.com/en/database/oracle/oracle-database/19/jjdbc/Oracle-object-types.html#GUID-5905674A-A045-40B1-96DE-726761517D50</a>.</p>\n<p>You can start with a SQLData object representing the row type, then create the OracleData object for the array and Oracle will take care of the rest.</p>\n<p>example EmpRow:</p>\n<pre><code>class EmpRow implements SQLData {\n    private String employeeNumber;\n    private String employeeName;\n    private String employeeDept;\n    \n    // add getters/setters/construtor\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n\n        return null;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n\n        employeeNumber = stream.readString();\n        employeeName = stream.readString();\n        employeeDept = stream.readString();\n\n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n\n        stream.writeString(employeeNumber);\n        stream.writeString(employeeName);\n        stream.writeString(employeeDept);\n    }\n}\n</code></pre>\n<p>example call:</p>\n<pre><code>// values is the associative array.  The keys will need to be numbered 1, 2, ... consecutively.  \npublic void runProcedure(Map&lt;Integer, EmpRow&gt; values) {\n    \n    Connection conn = //get connection\n    conn.prepareCall(&quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;);\n    conn.setObject(1, new OracleData() {\n        \n        @Override\n        public Object toJDBCObject(Connection arg0) throws SQLException {\n            \n            // TODO Auto-generated method stub\n            return ((OracleConnection) arg0).createOracleArray(&quot;PKG_SP_EMPLOYEE.tbl_employees_in&quot;, values);\n        }\n    }); \n\n    conn.registerOutParameter(2, Types.VARCHAR); \n    conn.execute ();\n    \n    // rest of procedure\n}\n</code></pre>\n<p>Personally, I have a separate PlsqlArray class that implements OracleData with a constructor that passes in the type name and the values. I haven't tested with your particular example so let me know if anything is amiss.</p>\n"}],"owner":{"account_id":16196567,"reputation":11,"user_id":11694082,"display_name":"jdbcuser"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":750,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684161526,"creation_date":1561404600,"question_id":56742820,"body_markdown":"I am calling a PL/SQL procedure with an associative array as per the [documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180). \r\n\r\nHowever I am getting an exception `array bind type must match PL/SQL table row type` though I believe that is what I am passing.\r\n\r\nSpecifically, I have a table, PL/SQL package and JDBC code as follows:\r\n\r\n--------------------------------------------------------\r\nTable EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    CREATE TABLE EMPLOYEE \r\n    (\t\r\n    &quot;EMPLOYEE_NUMBER&quot; VARCHAR2(20 BYTE), \r\n    &quot;EMPLOYEE_NAME&quot; VARCHAR2(80 BYTE), \r\n    &quot;EMPLOYEE_DEPT&quot; VARCHAR2(40 BYTE)\r\n    );\r\n\r\n--------------------------------------------------------\r\nPackage PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE PKG_SP_EMPLOYEE\r\n    AS\r\n    TYPE tbl_employees_in\r\n    IS\r\n    TABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\r\n       \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR \r\n    );\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n--------------------------------------------------------\r\nPackage Body PKG_SP_EMPLOYEE\r\n--------------------------------------------------------\r\n\r\n    create or replace PACKAGE BODY PKG_SP_EMPLOYEE\r\n    AS\r\n    \r\n    PROCEDURE main(\r\n        p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\r\n        x_status OUT VARCHAR\r\n        )\r\n    IS\r\n    BEGIN \r\n    FOR i in 1..p_employee.count\r\n    \r\n        loop\r\n        INSERT INTO &quot;EMPLOYEE&quot;\r\n               (\r\n               EMPLOYEE_NUMBER, \r\n               EMPLOYEE_NAME, \r\n               EMPLOYEE_DEPT\r\n               )\r\n        VALUES (\r\n               p_employee(i).EMPLOYEE_NUMBER,\r\n               p_employee(i).EMPLOYEE_NAME,\r\n               p_employee(i).EMPLOYEE_DEPT\r\n               );\r\n                                      \r\n        end loop;\r\n      \r\n        dbms_output.put_line(&#39;Success&#39;);\r\n        x_status  := &#39;Success&#39;;\r\n    \r\n    EXCEPTION\r\n        WHEN OTHERS THEN\r\n            dbms_output.put_line(&#39;Failure&#39;);\r\n            x_status  := &#39;Failure&#39;;           \r\n    \r\n    END main;\r\n    END PKG_SP_EMPLOYEE;\r\n\r\n\r\n--------------------------------------------------------\r\nJDBC Code\r\n--------------------------------------------------------\r\n\r\n    Connection con= null;\r\n    OracleCallableStatement cstmt = null;\r\n            \r\n    try {\r\n    \t\t\t\r\n      \tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n       \tcon=DriverManager.getConnection(&quot;jdbc:oracle:thin:@test.com:1521:TESTAD&quot;,\r\n                        &quot;user&quot;,&quot;password&quot;);\r\n    \r\n        cstmt = (OracleCallableStatement)con.prepareCall (\r\n                    &quot;begin PKG_SP_EMPLOYEE.MAIN (?,?); end;&quot;); \r\n    \t\t\t\r\n        String[] values = { &quot;1&quot;, &quot;John Doe&quot;, &quot;HR&quot; };\r\n    \t\t\t\r\n        cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\r\n    \t\t\t\r\n    \tcstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \r\n    \t\t\t\r\n    \tcstmt.execute ();\r\n    \r\n    //...\r\n\r\n--------------------------------------------------------\r\nJava Exception\r\n--------------------------------------------------------\r\n\r\n    java.sql.SQLException: ORA-06550: line 1, column 7:\r\n    PLS-00306: wrong number or types of arguments in call to &#39;MAIN&#39;\r\n    ORA-06550: line 1, column 43:\r\n    **PLS-00418: array bind type must match PL/SQL table row type**\r\n    ORA-06550: line 1, column 7:\r\n    PL/SQL: Statement ignored\r\n\r\n\r\nAfter reviewing the [Oracle documentation here](https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180) I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won&#39;t support associate arrays of complex types as shown in my code?\r\n\r\n","title":"How do I call a PL/SQL procedure with associative arrays?","body":"<p>I am calling a PL/SQL procedure with an associative array as per the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">documentation here</a>. </p>\n\n<p>However I am getting an exception <code>array bind type must match PL/SQL table row type</code> though I believe that is what I am passing.</p>\n\n<p>Specifically, I have a table, PL/SQL package and JDBC code as follows:</p>\n\n<hr>\n\n<h2>Table EMPLOYEE</h2>\n\n<pre><code>CREATE TABLE EMPLOYEE \n(   \n\"EMPLOYEE_NUMBER\" VARCHAR2(20 BYTE), \n\"EMPLOYEE_NAME\" VARCHAR2(80 BYTE), \n\"EMPLOYEE_DEPT\" VARCHAR2(40 BYTE)\n);\n</code></pre>\n\n<hr>\n\n<h2>Package PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE PKG_SP_EMPLOYEE\nAS\nTYPE tbl_employees_in\nIS\nTABLE OF EMPLOYEE%ROWTYPE INDEX BY PLS_INTEGER;\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR \n);\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>Package Body PKG_SP_EMPLOYEE</h2>\n\n<pre><code>create or replace PACKAGE BODY PKG_SP_EMPLOYEE\nAS\n\nPROCEDURE main(\n    p_employee IN PKG_SP_EMPLOYEE.tbl_employees_in,\n    x_status OUT VARCHAR\n    )\nIS\nBEGIN \nFOR i in 1..p_employee.count\n\n    loop\n    INSERT INTO \"EMPLOYEE\"\n           (\n           EMPLOYEE_NUMBER, \n           EMPLOYEE_NAME, \n           EMPLOYEE_DEPT\n           )\n    VALUES (\n           p_employee(i).EMPLOYEE_NUMBER,\n           p_employee(i).EMPLOYEE_NAME,\n           p_employee(i).EMPLOYEE_DEPT\n           );\n\n    end loop;\n\n    dbms_output.put_line('Success');\n    x_status  := 'Success';\n\nEXCEPTION\n    WHEN OTHERS THEN\n        dbms_output.put_line('Failure');\n        x_status  := 'Failure';           \n\nEND main;\nEND PKG_SP_EMPLOYEE;\n</code></pre>\n\n<hr>\n\n<h2>JDBC Code</h2>\n\n<pre><code>Connection con= null;\nOracleCallableStatement cstmt = null;\n\ntry {\n\n    Class.forName(\"oracle.jdbc.driver.OracleDriver\");\n    con=DriverManager.getConnection(\"jdbc:oracle:thin:@test.com:1521:TESTAD\",\n                    \"user\",\"password\");\n\n    cstmt = (OracleCallableStatement)con.prepareCall (\n                \"begin PKG_SP_EMPLOYEE.MAIN (?,?); end;\"); \n\n    String[] values = { \"1\", \"John Doe\", \"HR\" };\n\n    cstmt.setPlsqlIndexTable (1, values, values.length, values.length, OracleTypes.VARCHAR, 3);\n\n    cstmt.registerOutParameter(2, java.sql.Types.VARCHAR); \n\n    cstmt.execute ();\n\n//...\n</code></pre>\n\n<hr>\n\n<h2>Java Exception</h2>\n\n<pre><code>java.sql.SQLException: ORA-06550: line 1, column 7:\nPLS-00306: wrong number or types of arguments in call to 'MAIN'\nORA-06550: line 1, column 43:\n**PLS-00418: array bind type must match PL/SQL table row type**\nORA-06550: line 1, column 7:\nPL/SQL: Statement ignored\n</code></pre>\n\n<p>After reviewing the <a href=\"https://docs.oracle.com/database/121/JJDBC/oraint.htm#JJDBC28180\" rel=\"nofollow noreferrer\">Oracle documentation here</a> I see that Oracle JDBC drivers support PL/SQL Associative Arrays of VARCHAR and NUMBER types. Does this mean it won't support associate arrays of complex types as shown in my code?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1514878944,"post_id":48056863,"comment_id":83086691,"body_markdown":"Do you have a good reason to need this? If so, what is it?","body":"Do you have a good reason to need this? If so, what is it?"},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514880155,"post_id":48056863,"comment_id":83087129,"body_markdown":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped.","body":"Simply I don&#39;t want the classes to be read in any way when they are distributed and deployed to our client&#39;s server. I&#39;ve already had a tool to encrypt the classes and decrypt them when loaded in jvm. I want them not be dumped."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1514881882,"post_id":48056863,"comment_id":83087703,"body_markdown":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper.","body":"That&#39;s just not possible to do reliably. Tell your clients that you&#39;ll sue them if they dump the classes, that&#39;s a lot more effective and a lot cheaper."},{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514883963,"post_id":48056863,"comment_id":83088459,"body_markdown":"Thanks, will do it","body":"Thanks, will do it"}],"answers":[{"comments":[{"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"score":0,"creation_date":1514954753,"post_id":48066590,"comment_id":83116177,"body_markdown":"thanks for your clear answer, I explained to the client and it&#39;s beyond our scope and we simply give it up......","body":"thanks for your clear answer, I explained to the client and it&#39;s beyond our scope and we simply give it up......"},{"owner":{"account_id":3526238,"reputation":906,"user_id":2947239,"accept_rate":25,"display_name":"Sisyphus"},"score":0,"creation_date":1563543596,"post_id":48066590,"comment_id":100746157,"body_markdown":"you can disable `ptrace` on linux","body":"you can disable <code>ptrace</code> on linux"}],"tags":[],"owner":{"account_id":4210603,"reputation":94386,"user_id":3448419,"display_name":"apangin"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1514920694,"creation_date":1514920694,"answer_id":48066590,"question_id":48056863,"body_markdown":"In general, this is not possible.\r\n\r\nServiceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using [ptrace](http://man7.org/linux/man-pages/man2/ptrace.2.html) syscall, and reads the memory of the process without JVM even knowing about that.\r\n\r\nHowever, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset `gHotSpotVMStructs` global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.\r\n\r\nIn order to do this, compile the following `novmstructs.c` program:\r\n\r\n    extern void *gHotSpotVMStructs;\r\n\r\n    int Agent_OnLoad(void *vm, char *options, void *reserved) {\r\n        gHotSpotVMStructs = 0;\r\n        return 0;\r\n    }\r\n\r\nHow to compile:\r\n\r\n    gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\r\n\r\nThen run your Java application with the produced library attached as the agent:\r\n\r\n    java -agentpath:/path/to/libnostructs.so ...\r\n\r\nThe next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:\r\n\r\n    Attaching to process ID 574, please wait...\r\n    Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.lang.reflect.Method.invoke(Method.java:498)\r\n            at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\r\n            at sun.tools.jstack.JStack.main(JStack.java:106)\r\n    Caused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\r\n            at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\r\n            at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\r\n            at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\r\n            at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\r\n            at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\r\n            at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\r\n            at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\r\n            ... 6 more\r\n","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>In general, this is not possible.</p>\n\n<p>Serviceability Agent (sa-jdi) does not require cooperation from the target process. It just stops target JVM using <a href=\"http://man7.org/linux/man-pages/man2/ptrace.2.html\" rel=\"noreferrer\">ptrace</a> syscall, and reads the memory of the process without JVM even knowing about that.</p>\n\n<p>However, you can make debugging harder by overwriting the variables used by Serviceability Agent. Particularly, if you reset <code>gHotSpotVMStructs</code> global variable, SA will not be able to reconstruct internal VM structures, so that tools based on SA will stop working.</p>\n\n<p>In order to do this, compile the following <code>novmstructs.c</code> program:</p>\n\n<pre><code>extern void *gHotSpotVMStructs;\n\nint Agent_OnLoad(void *vm, char *options, void *reserved) {\n    gHotSpotVMStructs = 0;\n    return 0;\n}\n</code></pre>\n\n<p>How to compile:</p>\n\n<pre><code>gcc -fPIC -nostdlib -shared -olibnostructs.so -O2 nostructs.c\n</code></pre>\n\n<p>Then run your Java application with the produced library attached as the agent:</p>\n\n<pre><code>java -agentpath:/path/to/libnostructs.so ...\n</code></pre>\n\n<p>The next time someone tries to invoke ClassDump or other SA-based utility, the exception will occur:</p>\n\n<pre><code>Attaching to process ID 574, please wait...\nException in thread \"main\" java.lang.reflect.InvocationTargetException\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at sun.tools.jstack.JStack.runJStackTool(JStack.java:140)\n        at sun.tools.jstack.JStack.main(JStack.java:106)\nCaused by: java.lang.RuntimeException: gHotSpotVMStructs was not initialized properly in the remote process; can not continue\n        at sun.jvm.hotspot.HotSpotTypeDataBase.readVMStructs(HotSpotTypeDataBase.java:418)\n        at sun.jvm.hotspot.HotSpotTypeDataBase.&lt;init&gt;(HotSpotTypeDataBase.java:91)\n        at sun.jvm.hotspot.HotSpotAgent.setupVM(HotSpotAgent.java:395)\n        at sun.jvm.hotspot.HotSpotAgent.go(HotSpotAgent.java:305)\n        at sun.jvm.hotspot.HotSpotAgent.attach(HotSpotAgent.java:140)\n        at sun.jvm.hotspot.tools.Tool.start(Tool.java:185)\n        at sun.jvm.hotspot.tools.Tool.execute(Tool.java:118)\n        at sun.jvm.hotspot.tools.JStack.main(JStack.java:92)\n        ... 6 more\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28546152,"reputation":79,"user_id":21851535,"display_name":"uglibubla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684161518,"creation_date":1684161518,"answer_id":76255184,"question_id":48056863,"body_markdown":"Old question but here we go\r\n\r\n```java\r\nField jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\r\njvmField.setAccessible(true);\r\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\r\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\r\n```\r\n`jvmArguments` will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don&#39;t want abort loading.\r\n\r\nBut keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>Old question but here we go</p>\n<pre class=\"lang-java prettyprint-override\"><code>Field jvmField = ManagementFactory.getRuntimeMXBean().getClass().getDeclaredField(&quot;jvm&quot;);\njvmField.setAccessible(true);\nVMManagement jvmInstance = (VMManagement) jvmField.get(ManagementFactory.getRuntimeMXBean());\nList&lt;String&gt; jvmArguments = jvmInstance.getVmArguments();\n</code></pre>\n<p><code>jvmArguments</code> will have all the the arguments the jvm was started with, you can check these before loading in the actual classes and if there is a flag used you don't want abort loading.</p>\n<p>But keep in mind that this is just one of the many ways classes can be dumped from a jvm, you can attach an agent, hook ClassLoader#defineClass and many other things as long as you are in the jvm there is no way to be 100% &quot;dump proof&quot;.</p>\n"}],"owner":{"account_id":10998031,"reputation":23,"user_id":8079474,"display_name":"Yue S"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":856,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48066590,"answer_count":2,"score":2,"last_activity_date":1684161518,"creation_date":1514876717,"question_id":48056863,"body_markdown":"I&#39;m trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. \r\n\r\nHowever, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:\r\n\r\n    java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath &quot;.:./bin:$JAVA_HOME/lib/sa-jdi.jar&quot; sun.jvm.hotspot.tools.jcore.ClassDump 1234\r\n\r\nIs there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?\r\n\r\nThanks.","title":"Disable ClassDump to a running JVM process by using sa-jli","body":"<p>I'm trying to protect my classes in a running JVM by setting -XX:+DisableAttachMechanism. </p>\n\n<p>However, I found that the process prevents tools like jconsole to attach, but still I can use following command the dump all the loaded classes in that JVM:</p>\n\n<pre><code>java -Dsun.jvm.hotspot.tools.jcore.PackageNameFilter.pkgList=com.xxxx -classpath \".:./bin:$JAVA_HOME/lib/sa-jdi.jar\" sun.jvm.hotspot.tools.jcore.ClassDump 1234\n</code></pre>\n\n<p>Is there any way to stop this behavior by setting some options in the running JVM? Or anything to work around?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","string","unit-testing","testing","bytearrayinputstream"],"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":2,"creation_date":1683920094,"post_id":76239380,"comment_id":134445984,"body_markdown":"try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an `InputStream` that represents your test input. But you will have either to reset that InputStream or create a new one per test.","body":"try do design your system for testability: Don&#39;t instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an <code>InputStream</code> that represents your test input. But you will have either to reset that InputStream or create a new one per test."},{"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"score":0,"creation_date":1683921427,"post_id":76239380,"comment_id":134446200,"body_markdown":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately.","body":"cyberbrain I tried to pass it through and was faced with the same issue but let me try it out again and see if it worked then update the thread appropriately."},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1683922807,"post_id":76239380,"comment_id":134446462,"body_markdown":"What thread do you mean?","body":"What thread do you mean?"}],"answers":[{"comments":[{"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"score":1,"creation_date":1684060880,"post_id":76240640,"comment_id":134458699,"body_markdown":"is this your solution, or how you tried to solve the problem? If it&#39;s your trial to solve the problem, please [edit](https://stackoverflow.com/posts/76239380/edit) your question instead of adding an answer that isn&#39;t one. If it solved your problem, please accept your own answer (and as a bonus add some words to it that make that clear ;-)","body":"is this your solution, or how you tried to solve the problem? If it&#39;s your trial to solve the problem, please <a href=\"https://stackoverflow.com/posts/76239380/edit\">edit</a> your question instead of adding an answer that isn&#39;t one. If it solved your problem, please accept your own answer (and as a bonus add some words to it that make that clear ;-)"},{"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"score":0,"creation_date":1684161233,"post_id":76240640,"comment_id":134472492,"body_markdown":"it was the solution but I needed 2 days to accept the answer. I don’t believe I can word it better than you did but I’ll add more to it.","body":"it was the solution but I needed 2 days to accept the answer. I don’t believe I can word it better than you did but I’ll add more to it."}],"tags":[],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161387,"creation_date":1683939064,"answer_id":76240640,"question_id":76239380,"body_markdown":"&gt; try do design your system for testability: Don&#39;t instanciate a new `Scanner` everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. – \r\ncyberbrain\r\n\r\nThis is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n\r\n        func(scanner);\r\n\r\n        scanner.close();\r\n    }\r\n\r\n    private static void func(Scanner scanner) {\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n    }\r\n}\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<blockquote>\n<p>try do design your system for testability: Don't instanciate a new <code>Scanner</code> everywhere you need it, but pass it into your functions as parameter. So for the tests you can either use a mocked scanner or prepare a Scanner with an InputStream that represents your test input. But you will have either to reset that InputStream or create a new one per test. –\ncyberbrain</p>\n</blockquote>\n<p>This is based on cyberbrain’s suggestion, passing the scanner as a parameter to every function that may require a scanner was the solution, now it is optimized for testability and we can use string input unit tests without any issues</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n\n        func(scanner);\n\n        scanner.close();\n    }\n\n    private static void func(Scanner scanner) {\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16391519,"reputation":332,"user_id":11840155,"display_name":"Aoof"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76240640,"answer_count":1,"score":0,"last_activity_date":1684161387,"creation_date":1683919616,"question_id":76239380,"body_markdown":"I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.\r\n\r\n```java\r\nimport java.io.ByteArrayInputStream;\r\nimport java.util.Scanner;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\r\n\r\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\r\n        System.setIn(is);\r\n        \r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(scanner.nextLine());\r\n        scanner.close();\r\n\r\n        func();\r\n    }\r\n\r\n    private static void func() {\r\n        Scanner scanner = new Scanner(System.in);\r\n\r\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\r\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\r\n\r\n        scanner.close();\r\n    }\r\n}\r\n```\r\n\r\nThis is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.\r\n\r\n```\r\n1\r\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\r\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\r\n        at Main.func(Main.java:21)\r\n        at Main.main(Main.java:15)\r\n```","title":"How to take predefined user input for unit tests in Java?","body":"<p>I am trying to use the same input from the unit test throughout the entire program, but the program has different scanner instances across its functions and classes and the input stream withdrawn from the string only works at the very first scanner but not the rest.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.ByteArrayInputStream;\nimport java.util.Scanner;\n\npublic class Main {\n    public static void main(String[] args) {\n        String data = &quot;1\\nThis is the first input\\nThis is the second input&quot;;\n\n        ByteArrayInputStream is = new ByteArrayInputStream(data.getBytes());\n        System.setIn(is);\n        \n        Scanner scanner = new Scanner(System.in);\n        System.out.println(scanner.nextLine());\n        scanner.close();\n\n        func();\n    }\n\n    private static void func() {\n        Scanner scanner = new Scanner(System.in);\n\n        System.out.println(&quot;First input: &quot; + scanner.nextLine());\n        System.out.println(&quot;Second input: &quot; + scanner.nextLine());\n\n        scanner.close();\n    }\n}\n</code></pre>\n<p>This is a representation of the issue I am facing, my real version has more complex foundation, but the end result is the same.</p>\n<pre><code>1\nException in thread &quot;main&quot; java.util.NoSuchElementException: No line found\n        at java.base/java.util.Scanner.nextLine(Scanner.java:1651)\n        at Main.func(Main.java:21)\n        at Main.main(Main.java:15)\n</code></pre>\n"},{"tags":["java","soap","wsdl","maven-jaxb2-plugin"],"comments":[{"owner":{"account_id":6179310,"reputation":2644,"user_id":4815321,"display_name":"mr mcwolf"},"score":0,"creation_date":1683266052,"post_id":76178871,"comment_id":134343257,"body_markdown":"To see what the serialization problem is you should also give the code of `com.example.camel.client.stub.Generic`","body":"To see what the serialization problem is you should also give the code of <code>com.example.camel.client.stub.Generic</code>"},{"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"score":0,"creation_date":1683346346,"post_id":76178871,"comment_id":134356695,"body_markdown":"added it. THat is basically generated automatically from plugin defined in pom file.","body":"added it. THat is basically generated automatically from plugin defined in pom file."}],"owner":{"account_id":2246079,"reputation":7967,"user_id":1979380,"accept_rate":89,"display_name":"jarvo69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684161235,"creation_date":1683261307,"question_id":76178871,"body_markdown":"\r\n**NOT A DUPLICATE BECAUSE** I have tried many solutions from the stackoverflow like adding the `@XmlRootElement(name=&quot;Generic&quot;)` \r\nAnd also tried wrapping the request and response objects in `javax.xml.bind.JAXBElement` but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.\r\n\r\nThe wsdl file is large so just posting here the important stuff from WSDL file.\r\n\r\nsoap.wsdl\r\n\r\n    &lt;types&gt;\r\n            &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\r\n                &lt;xs:element name=&quot;Field&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:simpleContent&gt;\r\n                            &lt;xs:extension base=&quot;xs:string&quot;&gt;\r\n                                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                            &lt;/xs:extension&gt;\r\n                        &lt;/xs:simpleContent&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n                &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\r\n                &lt;xs:complexType name=&quot;Generic&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Service&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\r\n                        &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\r\n                            &lt;xs:complexType&gt;\r\n                                &lt;xs:complexContent&gt;\r\n                                    &lt;xs:extension base=&quot;tns:Container&quot;&gt;\r\n                                        &lt;xs:sequence&gt;\r\n                                            &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\r\n                                        &lt;/xs:sequence&gt;\r\n                                        &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                                    &lt;/xs:extension&gt;\r\n                                &lt;/xs:complexContent&gt;\r\n                            &lt;/xs:complexType&gt;\r\n                        &lt;/xs:element&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Container&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;Row&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;OptionList&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n                &lt;xs:complexType name=&quot;File&quot;&gt;\r\n                    &lt;xs:sequence&gt;\r\n                        &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\r\n                    &lt;/xs:sequence&gt;\r\n                    &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                    &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\r\n                &lt;/xs:complexType&gt;\r\n            &lt;/xs:schema&gt;\r\n        &lt;/types&gt;\r\n        &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\r\n            &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\r\n            &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\r\n        &lt;/message&gt;\r\n        &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/portType&gt;\r\n        &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\r\n            &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n            &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\r\n                &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\r\n                &lt;input&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/input&gt;\r\n                &lt;output&gt;\r\n                    &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\r\n                    &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\r\n                &lt;/output&gt;\r\n            &lt;/operation&gt;\r\n        &lt;/binding&gt;\r\n        &lt;service name=&quot;GenericSoapService&quot;&gt;\r\n            &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\r\n                &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\r\n                &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\r\n                    &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\r\n                    \r\n                &lt;/wsa:EndpointReference&gt;\r\n            &lt;/port&gt;\r\n        &lt;/service&gt;\r\n\r\n\r\n**Java config class for WSDL:**\r\n\r\n    @EnableWs\r\n    @Configuration\r\n    public class WebServiceConfig extends WsConfigurerAdapter {\r\n    \r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller jaxb2Marshaller() {\r\n            Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\r\n            jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\r\n            jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\r\n                put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n            }});\r\n            return jaxb2Marshaller;\r\n        }\r\n    \r\n    \r\n        @Bean\r\n        public Marshaller marshaller() {\r\n            return jaxb2Marshaller().createMarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public Unmarshaller unmarshaller() {\r\n           return jaxb2Marshaller().createUnmarshaller();\r\n        }\r\n    \r\n        @Bean\r\n        public SoapClient soapClient(Jaxb2Marshaller marshaller) {\r\n            SoapClient client = new SoapClient();\r\n            client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\r\n            client.setMarshaller(marshaller);\r\n            client.setUnmarshaller(marshaller);\r\n            return client;\r\n        }\r\n\r\nBelow is the **SoapClient** class that will call the SOAP service\r\n\r\n**SoapClient.java**\r\n\r\n    public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\r\n            Generic request = new ObjectFactory().createGeneric();\r\n            Service service = new ObjectFactory().createService();\r\n            Service.Document document = new ObjectFactory().createServiceDocument();\r\n            Field field = new ObjectFactory().createField();\r\n            Container container = new ObjectFactory().createContainer();\r\n            container.getField().add(field);\r\n            service.setUser(container);\r\n            field.setName(&quot;dID&quot;);\r\n            field.setValue(&quot;2088250&quot;);\r\n            document.getField().add(field);\r\n            service.setIdcService(&quot;GET_FILE&quot;);\r\n            service.setDocument(document);\r\n            request.setService(service);\r\n            request.setWebKey(&quot;cs&quot;);\r\n    \r\n    \r\n    \r\n           /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\r\n            marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\r\n            marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\r\n                    System.out);\r\n    \r\n            String t = marshallXml(request);*/\r\n    \r\n            javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\r\n            getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\r\n            \r\n    return null;\r\n        }\r\n\r\nThe error I keep getting is:\r\n\r\n\r\n    com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\r\n\r\n\r\n**Generic.java**\r\n\r\n    //\r\n    // This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \r\n    // See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \r\n    // Any modifications to this file will be lost upon recompilation of the source schema. \r\n    // Generated on: 2023.05.06 at 09:42:41 AM IST \r\n    //\r\n    \r\n    \r\n    package com.example.camel.client.stub;\r\n    \r\n    import javax.xml.bind.annotation.XmlAccessType;\r\n    import javax.xml.bind.annotation.XmlAccessorType;\r\n    import javax.xml.bind.annotation.XmlAttribute;\r\n    import javax.xml.bind.annotation.XmlElement;\r\n    import javax.xml.bind.annotation.XmlSchemaType;\r\n    import javax.xml.bind.annotation.XmlType;\r\n    \r\n    \r\n    /**\r\n     * &lt;p&gt;Java class for Generic complex type.\r\n     * \r\n     * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\r\n     * \r\n     * &lt;pre&gt;\r\n     * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\r\n     *   &amp;lt;complexContent&amp;gt;\r\n     *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\r\n     *       &amp;lt;sequence&amp;gt;\r\n     *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\r\n     *       &amp;lt;/sequence&amp;gt;\r\n     *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\r\n     *     &amp;lt;/restriction&amp;gt;\r\n     *   &amp;lt;/complexContent&amp;gt;\r\n     * &amp;lt;/complexType&amp;gt;\r\n     * &lt;/pre&gt;\r\n     * \r\n     * \r\n     */\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;Generic&quot;, propOrder = {\r\n        &quot;service&quot;\r\n    })\r\n    public class Generic {\r\n    \r\n        @XmlElement(name = &quot;Service&quot;, required = true)\r\n        protected Service service;\r\n        @XmlAttribute(name = &quot;webKey&quot;)\r\n        @XmlSchemaType(name = &quot;anySimpleType&quot;)\r\n        protected String webKey;\r\n    \r\n        /**\r\n         * Gets the value of the service property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public Service getService() {\r\n            return service;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the service property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link Service }\r\n         *     \r\n         */\r\n        public void setService(Service value) {\r\n            this.service = value;\r\n        }\r\n    \r\n        /**\r\n         * Gets the value of the webKey property.\r\n         * \r\n         * @return\r\n         *     possible object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public String getWebKey() {\r\n            return webKey;\r\n        }\r\n    \r\n        /**\r\n         * Sets the value of the webKey property.\r\n         * \r\n         * @param value\r\n         *     allowed object is\r\n         *     {@link String }\r\n         *     \r\n         */\r\n        public void setWebKey(String value) {\r\n            this.webKey = value;\r\n        }\r\n    \r\n    }\r\n\r\nNote: **Using Java 18**\r\n","title":"unable to marshal type &lt;CLASSNAME&gt; as an element because it is missing an @XmlRootElement annotation","body":"<p><strong>NOT A DUPLICATE BECAUSE</strong> I have tried many solutions from the stackoverflow like adding the <code>@XmlRootElement(name=&quot;Generic&quot;)</code>\nAnd also tried wrapping the request and response objects in <code>javax.xml.bind.JAXBElement</code> but nothing has worked for me so far. The marshalling/unmarshalling keeps failing and its been 2 days since am debugging and struggling with this issue.</p>\n<p>The wsdl file is large so just posting here the important stuff from WSDL file.</p>\n<p>soap.wsdl</p>\n<pre><code>&lt;types&gt;\n        &lt;xs:schema xmlns:tns=&quot;http://www.oracle.com/UCM&quot; xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot; elementFormDefault=&quot;qualified&quot; targetNamespace=&quot;http://www.oracle.com/UCM&quot; version=&quot;1.0&quot;&gt;\n            &lt;xs:element name=&quot;Field&quot;&gt;\n                &lt;xs:complexType&gt;\n                    &lt;xs:simpleContent&gt;\n                        &lt;xs:extension base=&quot;xs:string&quot;&gt;\n                            &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                        &lt;/xs:extension&gt;\n                    &lt;/xs:simpleContent&gt;\n                &lt;/xs:complexType&gt;\n            &lt;/xs:element&gt;\n            &lt;xs:element name=&quot;GenericRequest&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:element name=&quot;GenericResponse&quot; type=&quot;tns:Generic&quot;/&gt;\n            &lt;xs:complexType name=&quot;Generic&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element name=&quot;Service&quot; type=&quot;tns:Service&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;webKey&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Service&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;User&quot; type=&quot;tns:Container&quot;/&gt;\n                    &lt;xs:element minOccurs=&quot;0&quot; name=&quot;Document&quot;&gt;\n                        &lt;xs:complexType&gt;\n                            &lt;xs:complexContent&gt;\n                                &lt;xs:extension base=&quot;tns:Container&quot;&gt;\n                                    &lt;xs:sequence&gt;\n                                        &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;File&quot; type=&quot;tns:File&quot;/&gt;\n                                    &lt;/xs:sequence&gt;\n                                    &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n                                &lt;/xs:extension&gt;\n                            &lt;/xs:complexContent&gt;\n                        &lt;/xs:complexType&gt;\n                    &lt;/xs:element&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;IdcService&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Container&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; ref=&quot;tns:Field&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;ResultSet&quot; type=&quot;tns:ResultSet&quot;/&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;OptionList&quot; type=&quot;tns:OptionList&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;ResultSet&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; minOccurs=&quot;0&quot; name=&quot;Row&quot; type=&quot;tns:Row&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;Row&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; ref=&quot;tns:Field&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:anyAttribute namespace=&quot;##other&quot; processContents=&quot;skip&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;OptionList&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element maxOccurs=&quot;unbounded&quot; name=&quot;Option&quot; type=&quot;xs:string&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n            &lt;xs:complexType name=&quot;File&quot;&gt;\n                &lt;xs:sequence&gt;\n                    &lt;xs:element xmlns:ns1=&quot;http://www.w3.org/2005/05/xmlmime&quot; name=&quot;Contents&quot; ns1:expectedContentTypes=&quot;application/octet-stream&quot; type=&quot;xs:base64Binary&quot;/&gt;\n                &lt;/xs:sequence&gt;\n                &lt;xs:attribute name=&quot;name&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n                &lt;xs:attribute name=&quot;href&quot; type=&quot;xs:anySimpleType&quot;/&gt;\n            &lt;/xs:complexType&gt;\n        &lt;/xs:schema&gt;\n    &lt;/types&gt;\n    &lt;message name=&quot;GenericSoapOperationInput&quot;&gt;\n        &lt;part name=&quot;GenericRequest&quot; element=&quot;ns0:GenericRequest&quot;/&gt;\n    &lt;/message&gt;\n    &lt;message name=&quot;GenericSoapOperationOutput&quot;&gt;\n        &lt;part name=&quot;GenericResponse&quot; element=&quot;ns0:GenericResponse&quot;/&gt;\n    &lt;/message&gt;\n    &lt;portType name=&quot;GenericSoapPortType&quot;&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;input xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationInput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;output xmlns:ns1=&quot;http://www.w3.org/2006/05/addressing/wsdl&quot; message=&quot;tns:GenericSoapOperationOutput&quot; ns1:Action=&quot;urn:GenericSoap/GenericSoapPortType/GenericSoapOperationResponse&quot;/&gt;\n        &lt;/operation&gt;\n    &lt;/portType&gt;\n    &lt;binding name=&quot;GenericSoapPortTypeSoapHttp&quot; type=&quot;tns:GenericSoapPortType&quot;&gt;\n        &lt;soap:binding style=&quot;document&quot; transport=&quot;http://schemas.xmlsoap.org/soap/http&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wss11_saml_or_username_token_with_message_protection_service_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#wsmtom_policy&quot; wsdl:required=&quot;false&quot;/&gt;\n        &lt;operation name=&quot;GenericSoapOperation&quot;&gt;\n            &lt;soap:operation soapAction=&quot;urn:GenericSoap/GenericSoapOperation&quot;/&gt;\n            &lt;input&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericRequest&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Input_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/input&gt;\n            &lt;output&gt;\n                &lt;soap:body use=&quot;literal&quot; parts=&quot;GenericResponse&quot;/&gt;\n                &lt;wsp:PolicyReference xmlns:wsp=&quot;http://schemas.xmlsoap.org/ws/2004/09/policy&quot; URI=&quot;#GenericSoapPort_Output_Policy&quot; wsdl:required=&quot;false&quot;/&gt;\n            &lt;/output&gt;\n        &lt;/operation&gt;\n    &lt;/binding&gt;\n    &lt;service name=&quot;GenericSoapService&quot;&gt;\n        &lt;port name=&quot;GenericSoapPort&quot; binding=&quot;tns:GenericSoapPortTypeSoapHttp&quot;&gt;\n            &lt;soap:address location=&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;/&gt;\n            &lt;wsa:EndpointReference xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;\n                &lt;wsa:Address xmlns:wsa=&quot;http://www.w3.org/2005/08/addressing&quot;&gt;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&lt;/wsa:Address&gt;\n                \n            &lt;/wsa:EndpointReference&gt;\n        &lt;/port&gt;\n    &lt;/service&gt;\n</code></pre>\n<p><strong>Java config class for WSDL:</strong></p>\n<pre><code>@EnableWs\n@Configuration\npublic class WebServiceConfig extends WsConfigurerAdapter {\n\n\n    @Bean\n    public Jaxb2Marshaller jaxb2Marshaller() {\n        Jaxb2Marshaller jaxb2Marshaller = new Jaxb2Marshaller();\n        jaxb2Marshaller.setContextPath(&quot;com.example.camel.client.stub&quot;);\n        jaxb2Marshaller.setMarshallerProperties(new HashMap&lt;&gt;() {{\n            put(javax.xml.bind.Marshaller.JAXB_FORMATTED_OUTPUT, true);\n        }});\n        return jaxb2Marshaller;\n    }\n\n\n    @Bean\n    public Marshaller marshaller() {\n        return jaxb2Marshaller().createMarshaller();\n    }\n\n    @Bean\n    public Unmarshaller unmarshaller() {\n       return jaxb2Marshaller().createUnmarshaller();\n    }\n\n    @Bean\n    public SoapClient soapClient(Jaxb2Marshaller marshaller) {\n        SoapClient client = new SoapClient();\n        client.setDefaultUri(&quot;https://myenvtest.oraclecloud.com:443/idcws/GenericSoapPort&quot;);\n        client.setMarshaller(marshaller);\n        client.setUnmarshaller(marshaller);\n        return client;\n    }\n</code></pre>\n<p>Below is the <strong>SoapClient</strong> class that will call the SOAP service</p>\n<p><strong>SoapClient.java</strong></p>\n<pre><code>public javax.xml.bind.JAXBElement&lt;Generic&gt; getGenericResponse() throws JAXBException {\n        Generic request = new ObjectFactory().createGeneric();\n        Service service = new ObjectFactory().createService();\n        Service.Document document = new ObjectFactory().createServiceDocument();\n        Field field = new ObjectFactory().createField();\n        Container container = new ObjectFactory().createContainer();\n        container.getField().add(field);\n        service.setUser(container);\n        field.setName(&quot;dID&quot;);\n        field.setValue(&quot;2088250&quot;);\n        document.getField().add(field);\n        service.setIdcService(&quot;GET_FILE&quot;);\n        service.setDocument(document);\n        request.setService(service);\n        request.setWebKey(&quot;cs&quot;);\n\n\n\n       /* jakarta.xml.bind.Marshaller marshaller = jaxb2Marshaller.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, Boolean.TRUE);\n        marshaller.marshal(new JAXBElement&lt;Generic&gt;(new QName(&quot;http://www.oracle.com/UCM&quot;,&quot;GenericRequest&quot;), Generic.class, request),\n                System.out);\n\n        String t = marshallXml(request);*/\n\n        javax.xml.bind.JAXBElement&lt;Generic&gt; res = ( javax.xml.bind.JAXBElement&lt;Generic&gt;)\n        getWebServiceTemplate().marshalSendAndReceive(&quot;https://myenvtest.oraclecloud.com/idcws/GenericSoapPort&quot;, request, new SoapActionCallback(&quot;https://myenvtest.oraclecloud.com/idcws/Generic&quot;));\n        \nreturn null;\n    }\n</code></pre>\n<p>The error I keep getting is:</p>\n<pre><code>com.sun.istack.SAXException2: unable to marshal type &quot;com.example.camel.client.stub.Generic&quot; as an element because it is missing an @XmlRootElement annotation\n</code></pre>\n<p><strong>Generic.java</strong></p>\n<pre><code>//\n// This file was generated by the JavaTM Architecture for XML Binding(JAXB) Reference Implementation, v2.3.0 \n// See &lt;a href=&quot;https://javaee.github.io/jaxb-v2/&quot;&gt;https://javaee.github.io/jaxb-v2/&lt;/a&gt; \n// Any modifications to this file will be lost upon recompilation of the source schema. \n// Generated on: 2023.05.06 at 09:42:41 AM IST \n//\n\n\npackage com.example.camel.client.stub;\n\nimport javax.xml.bind.annotation.XmlAccessType;\nimport javax.xml.bind.annotation.XmlAccessorType;\nimport javax.xml.bind.annotation.XmlAttribute;\nimport javax.xml.bind.annotation.XmlElement;\nimport javax.xml.bind.annotation.XmlSchemaType;\nimport javax.xml.bind.annotation.XmlType;\n\n\n/**\n * &lt;p&gt;Java class for Generic complex type.\n * \n * &lt;p&gt;The following schema fragment specifies the expected content contained within this class.\n * \n * &lt;pre&gt;\n * &amp;lt;complexType name=&quot;Generic&quot;&amp;gt;\n *   &amp;lt;complexContent&amp;gt;\n *     &amp;lt;restriction base=&quot;{http://www.w3.org/2001/XMLSchema}anyType&quot;&amp;gt;\n *       &amp;lt;sequence&amp;gt;\n *         &amp;lt;element name=&quot;Service&quot; type=&quot;{http://www.oracle.com/UCM}Service&quot;/&amp;gt;\n *       &amp;lt;/sequence&amp;gt;\n *       &amp;lt;attribute name=&quot;webKey&quot; type=&quot;{http://www.w3.org/2001/XMLSchema}anySimpleType&quot; /&amp;gt;\n *     &amp;lt;/restriction&amp;gt;\n *   &amp;lt;/complexContent&amp;gt;\n * &amp;lt;/complexType&amp;gt;\n * &lt;/pre&gt;\n * \n * \n */\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;Generic&quot;, propOrder = {\n    &quot;service&quot;\n})\npublic class Generic {\n\n    @XmlElement(name = &quot;Service&quot;, required = true)\n    protected Service service;\n    @XmlAttribute(name = &quot;webKey&quot;)\n    @XmlSchemaType(name = &quot;anySimpleType&quot;)\n    protected String webKey;\n\n    /**\n     * Gets the value of the service property.\n     * \n     * @return\n     *     possible object is\n     *     {@link Service }\n     *     \n     */\n    public Service getService() {\n        return service;\n    }\n\n    /**\n     * Sets the value of the service property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link Service }\n     *     \n     */\n    public void setService(Service value) {\n        this.service = value;\n    }\n\n    /**\n     * Gets the value of the webKey property.\n     * \n     * @return\n     *     possible object is\n     *     {@link String }\n     *     \n     */\n    public String getWebKey() {\n        return webKey;\n    }\n\n    /**\n     * Sets the value of the webKey property.\n     * \n     * @param value\n     *     allowed object is\n     *     {@link String }\n     *     \n     */\n    public void setWebKey(String value) {\n        this.webKey = value;\n    }\n\n}\n</code></pre>\n<p>Note: <strong>Using Java 18</strong></p>\n"},{"tags":["javascript","java","reactjs","spring-boot","webpack"],"answers":[{"comments":[{"owner":{"account_id":10170052,"reputation":45263,"user_id":7510657,"accept_rate":56,"display_name":"Ashh"},"score":0,"creation_date":1683905344,"post_id":76234010,"comment_id":134443068,"body_markdown":"Thanks but I have tried such things nothing worked","body":"Thanks but I have tried such things nothing worked"}],"tags":[],"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683876171,"creation_date":1683876171,"answer_id":76234010,"question_id":76197718,"body_markdown":"Your router is configured to handle all URLs and return an HTML page:\r\n\r\n```java\r\nreturn RouterFunctions.route(\r\n\tGET(&quot;/*&quot;),\r\n\trequest -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n);\r\n```\r\n\r\nIf your page contains a `&lt;script src=&quot;...&quot;&gt;` tag, the browser will fetch the URL to get the script.\r\nThe server will return an HTML page with the `text/html` content-type, which triggers the error message\r\nbecause the browser expects `text/javascript` instead.\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>Your router is configured to handle all URLs and return an HTML page:</p>\n<pre class=\"lang-java prettyprint-override\"><code>return RouterFunctions.route(\n    GET(&quot;/*&quot;),\n    request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n);\n</code></pre>\n<p>If your page contains a <code>&lt;script src=&quot;...&quot;&gt;</code> tag, the browser will fetch the URL to get the script.\nThe server will return an HTML page with the <code>text/html</code> content-type, which triggers the error message\nbecause the browser expects <code>text/javascript</code> instead.</p>\n"},{"comments":[{"owner":{"account_id":352393,"reputation":7153,"user_id":6404321,"display_name":"walen"},"score":1,"creation_date":1684139625,"post_id":76240110,"comment_id":134467541,"body_markdown":"Nashorn was deprecated in Java 11 (2018) and ultimately removed in Java 15 (2020).","body":"Nashorn was deprecated in Java 11 (2018) and ultimately removed in Java 15 (2020)."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1684160313,"post_id":76240110,"comment_id":134472278,"body_markdown":"Thank you very much for the feedback @walen, I appreciate it. Yes, I was aware of that, but the OP doesn&#39;t mention the JDK version that he is using and, as you can read in the answer, the current documentation of Spring nowadays still mentions it as the appropriate Javascript engine for this purpose: I think GraalVM is not suitable, at least in this context.","body":"Thank you very much for the feedback @walen, I appreciate it. Yes, I was aware of that, but the OP doesn&#39;t mention the JDK version that he is using and, as you can read in the answer, the current documentation of Spring nowadays still mentions it as the appropriate Javascript engine for this purpose: I think GraalVM is not suitable, at least in this context."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1684164488,"post_id":76240110,"comment_id":134473389,"body_markdown":"@walen It turns out that in fact GraalVM seems that can be used for this purpose as well, it is true than in a [different context of React](https://tangent-jotey.medium.com/svelte-ssr-but-its-java-spring-boot-6536d5226dea), and in a bit more elaborated way [1](https://github.com/tncrazvan/svelte-3-jssr-starter/tree/master) [2](https://github.com/tncrazvan/java-springboot-svelte3-ssr-template/issues/5#issuecomment-903292777).","body":"@walen It turns out that in fact GraalVM seems that can be used for this purpose as well, it is true than in a <a href=\"https://tangent-jotey.medium.com/svelte-ssr-but-its-java-spring-boot-6536d5226dea\" rel=\"nofollow noreferrer\">different context of React</a>, and in a bit more elaborated way <a href=\"https://github.com/tncrazvan/svelte-3-jssr-starter/tree/master\" rel=\"nofollow noreferrer\">1</a> <a href=\"https://github.com/tncrazvan/java-springboot-svelte3-ssr-template/issues/5#issuecomment-903292777\" rel=\"nofollow noreferrer\">2</a>."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684161173,"creation_date":1683927957,"answer_id":76240110,"question_id":76197718,"body_markdown":"You may try using Spring&#39;s [script views](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html) for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.\r\n\r\nThe documentation suggest a possible [configuration](https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate) for different scripting libraries:\r\n\r\n```java\r\n@Configuration\r\n@EnableWebMvc\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n\t@Override\r\n\tpublic void configureViewResolvers(ViewResolverRegistry registry) {\r\n\t\tregistry.scriptTemplate();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ScriptTemplateConfigurer configurer() {\r\n\t\tScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n\t\tconfigurer.setEngineName(&quot;nashorn&quot;);\r\n\t\tconfigurer.setScripts(&quot;mustache.js&quot;);\r\n\t\tconfigurer.setRenderObject(&quot;Mustache&quot;);\r\n\t\tconfigurer.setRenderFunction(&quot;render&quot;);\r\n\t\treturn configurer;\r\n\t}\r\n}\r\n```\r\n\r\nIn the specific use case of React we can find different, more complete examples, for instance in [this Github repository](https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java):\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\n\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n  @Override\r\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\r\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\r\n  }\r\n\r\n  @Bean\r\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\r\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\r\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\r\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\r\n    scriptTemplateConfigurer.setSharedEngine(false);\r\n    return scriptTemplateConfigurer;\r\n  }\r\n\r\n}\r\n```\r\n\r\nOr [this other one](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java), dated, but I think still useful as well:\r\n\r\n```java\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.ViewResolver;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\r\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\r\n\r\n/**\r\n * @author David Hancock\r\n */\r\n@Configuration\r\npublic class SSRConfiguration {\r\n\r\n    @Bean\r\n    public ViewResolver reactViewResolver() {\r\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public ScriptTemplateConfigurer reactConfigurer() {\r\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\r\n        configurer.setEngineName(&quot;nashorn&quot;);\r\n        configurer.setScripts(\r\n                &quot;public/nashorn-polyfill.js&quot;,\r\n                &quot;public/server.js&quot;\r\n        );\r\n        configurer.setRenderFunction(&quot;render&quot;);\r\n        configurer.setSharedEngine(false);\r\n        return configurer;\r\n    }\r\n\r\n}\r\n```\r\n\r\nAs you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the `bundle` generated by `webpack`, and at least one more (see [this](https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js) or [this other example](https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js)), a polyfill for supporting `window`, etc.\r\n\r\nI came across [another good example](https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java): it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.\r\n\r\nAs a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use `NodeJS` actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.","title":"Issue with SSR with React and Spring boot java","body":"<p>You may try using Spring's <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html\" rel=\"nofollow noreferrer\">script views</a> for this purpose: if you think about that, in the end you need some type of engine for dealing with SSR. For React, the documentation suggest the use of Nashorn.</p>\n<p>The documentation suggest a possible <a href=\"https://docs.spring.io/spring-framework/reference/web/webmvc-view/mvc-script.html#mvc-view-script-integrate\" rel=\"nofollow noreferrer\">configuration</a> for different scripting libraries:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebMvc\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Override\n    public void configureViewResolvers(ViewResolverRegistry registry) {\n        registry.scriptTemplate();\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer configurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(&quot;mustache.js&quot;);\n        configurer.setRenderObject(&quot;Mustache&quot;);\n        configurer.setRenderFunction(&quot;render&quot;);\n        return configurer;\n    }\n}\n</code></pre>\n<p>In the specific use case of React we can find different, more complete examples, for instance in <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/java/com/onready/springreactssr/config/WebConfig.java\" rel=\"nofollow noreferrer\">this Github repository</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.ViewResolverRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\n\n@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n  @Override\n  public void configureViewResolvers(ViewResolverRegistry viewResolverRegistry) {\n    viewResolverRegistry.scriptTemplate().prefix(&quot;/templates/&quot;).suffix(&quot;.html&quot;);\n  }\n\n  @Bean\n  public ScriptTemplateConfigurer scriptTemplateConfigurer() {\n    ScriptTemplateConfigurer scriptTemplateConfigurer = new ScriptTemplateConfigurer(&quot;nashorn&quot;);\n    scriptTemplateConfigurer.setScripts(&quot;/js/polyfill.js&quot;, &quot;/js/built/bundle-server.js&quot;);\n    scriptTemplateConfigurer.setRenderFunction(&quot;render&quot;);\n    scriptTemplateConfigurer.setSharedEngine(false);\n    return scriptTemplateConfigurer;\n  }\n\n}\n</code></pre>\n<p>Or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/src/main/java/com/djh/SSRConfiguration.java\" rel=\"nofollow noreferrer\">this other one</a>, dated, but I think still useful as well:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.ViewResolver;\nimport org.springframework.web.servlet.view.script.ScriptTemplateConfigurer;\nimport org.springframework.web.servlet.view.script.ScriptTemplateViewResolver;\n\n/**\n * @author David Hancock\n */\n@Configuration\npublic class SSRConfiguration {\n\n    @Bean\n    public ViewResolver reactViewResolver() {\n        return new ScriptTemplateViewResolver(&quot;/public/&quot;, &quot;.html&quot;);\n    }\n\n    @Bean\n    public ScriptTemplateConfigurer reactConfigurer() {\n        ScriptTemplateConfigurer configurer = new ScriptTemplateConfigurer();\n        configurer.setEngineName(&quot;nashorn&quot;);\n        configurer.setScripts(\n                &quot;public/nashorn-polyfill.js&quot;,\n                &quot;public/server.js&quot;\n        );\n        configurer.setRenderFunction(&quot;render&quot;);\n        configurer.setSharedEngine(false);\n        return configurer;\n    }\n\n}\n</code></pre>\n<p>As you can see they look quite similar in the implementation: basically, you need to indicate the scripts that should be loaded by the script engine, one of course the <code>bundle</code> generated by <code>webpack</code>, and at least one more (see <a href=\"https://github.com/onready/spring-react-ssr/blob/master/src/main/resources/js/polyfill.js\" rel=\"nofollow noreferrer\">this</a> or <a href=\"https://github.com/davehancock/react-ssr-sample-java-nashorn/blob/master/public/nashorn-polyfill.js\" rel=\"nofollow noreferrer\">this other example</a>), a polyfill for supporting <code>window</code>, etc.</p>\n<p>I came across <a href=\"https://github.com/terwer/spring-vue-ssr/blob/master/src/main/java/com/terwergreen/vue/VueRenderer.java\" rel=\"nofollow noreferrer\">another good example</a>: it is for Vue, not for React, but even in that case it provides a good example of using the Nashorn engine for SSR.</p>\n<p>As a follow-up of the comment provided by @walen, probably a much better solution than using Spring Boot and some type of script engine implemented in Java - nowadays deprecated - for serving the React content, is architecting your application in a different way, deploying independently your backend and your frontend. Then, use <code>NodeJS</code> actually run your React application, and optionally nginx, Apache, or other type of reverse proxy to serve everything, it is the normal way to proceed. You can use Docker (Kubernetes, etc) or some type of equivalent container infrastructure to deploy the solution as a whole. From a microservices point of view this different architecture is preferable.</p>\n"}],"owner":{"account_id":10170052,"reputation":45263,"user_id":7510657,"accept_rate":56,"display_name":"Ashh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":450,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":76240110,"answer_count":2,"score":1,"last_activity_date":1684161173,"creation_date":1683523482,"question_id":76197718,"body_markdown":"We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.\r\n\r\nFollowing piece of java code is being used for integration.\r\n    \r\n```\r\n@Bean\r\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\r\n        return RouterFunctions.route(\r\n                GET(&quot;/*&quot;),\r\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\r\n        );\r\n    }\r\n```\r\n\r\nThis is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\r\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error- \r\n\r\n    refused to execute script from &#39;http://localhost:8765/abc/xyz&#39; because its MIME type (&#39;text/html&#39;) is not executable, and strict MIME type checking is enabled.\r\n\r\nPart of webpack config\r\n```\r\noutput: {\r\n        path: path.join(__dirname, &#39;build&#39;),\r\n        publicPath: &#39;/&#39;,\r\n        filename: &#39;bundle.js&#39;,\r\n    }\r\n```\r\n\r\nFollowing is the folder structure of the project\r\n\r\n[![enter image description here](https://i.stack.imgur.com/eMfip.png)](https://i.stack.imgur.com/eMfip.png)\r\n","title":"Issue with SSR with React and Spring boot java","body":"<p>We have a web application in which the backend is spring boot and front end is react. We are trying to integrate these applications in such a way that we can make use of spring boot jar file to run them both on the same port.</p>\n<p>Following piece of java code is being used for integration.</p>\n<pre><code>@Bean\n    public RouterFunction&lt;ServerResponse&gt; htmlRouter(@Value(&quot;classpath:/static/index.html&quot;) Resource html) {\n        return RouterFunctions.route(\n                GET(&quot;/*&quot;),\n                request -&gt; ServerResponse.ok().contentType(MediaType.TEXT_HTML).bodyValue(html)\n        );\n    }\n</code></pre>\n<p>This is working fine when we create frontend build using react-scripts build. We want to make use of webpack build as there will be multiple such applications and they will be integrated using micro front-end which will work only when webpack is in place.\nWhen trying do so the jar file is getting built. When we run this jar file and hit the url we get following error-</p>\n<pre><code>refused to execute script from 'http://localhost:8765/abc/xyz' because its MIME type ('text/html') is not executable, and strict MIME type checking is enabled.\n</code></pre>\n<p>Part of webpack config</p>\n<pre><code>output: {\n        path: path.join(__dirname, 'build'),\n        publicPath: '/',\n        filename: 'bundle.js',\n    }\n</code></pre>\n<p>Following is the folder structure of the project</p>\n<p><a href=\"https://i.stack.imgur.com/eMfip.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eMfip.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","authentication","callback","background-process"],"answers":[{"comments":[{"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"score":0,"creation_date":1684076026,"post_id":76244805,"comment_id":134460516,"body_markdown":"Hi vinay6kr, thank you for this, I think I follow it.  I&#39;ve updated my code and am receiving an error of such: error, method does not override or implement a method from supertype when referring to &quot;@override&quot; and that super.onNewIntent cannot find symbol.  I&#39;ve tried to search the documentation at: https://developer.android.com/reference/android/content/Context#startActivity(android.content.Intent) with no luck as well.  Could I be missing an import or could this have been replaced by another method recently?  -- thank you again","body":"Hi vinay6kr, thank you for this, I think I follow it.  I&#39;ve updated my code and am receiving an error of such: error, method does not override or implement a method from supertype when referring to &quot;@override&quot; and that super.onNewIntent cannot find symbol.  I&#39;ve tried to search the documentation at: <a href=\"https://developer.android.com/reference/android/content/Context#startActivity(android.content.Intent)\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/content/&hellip;</a> with no luck as well.  Could I be missing an import or could this have been replaced by another method recently?  -- thank you again"},{"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"score":0,"creation_date":1684112427,"post_id":76244805,"comment_id":134464391,"body_markdown":"extends Activity .. i just needed to add this to my class definition and your code seems to work.  I&#39;ll be back if I need any more clarification.  Thank you","body":"extends Activity .. i just needed to add this to my class definition and your code seems to work.  I&#39;ll be back if I need any more clarification.  Thank you"}],"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684010762,"creation_date":1684010762,"answer_id":76244805,"question_id":76243893,"body_markdown":"define your custom schema on intent filter \r\n\r\n        &lt;intent-filter&gt;\r\n        &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n        &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n        &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n        &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\r\n    &lt;/intent-filter&gt;\r\n\r\ndefine a callback url \r\n\r\n    String callbackUrl = &quot;your_custom_scheme://callback&quot;;\r\n\r\npass this to your intent as below\r\n\r\n    intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\r\n\r\nWhen the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\r\nIn your activity, override the onNewIntent method to handle the callback when your app is already running\r\n\r\n        @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n        Uri data = intent.getData();\r\n        if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\r\n            // Handle the callback here\r\n        }\r\n    }\r\n\r\n\r\n","title":"How to receive callback with app in background","body":"<p>define your custom schema on intent filter</p>\n<pre><code>    &lt;intent-filter&gt;\n    &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n    &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n    &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n    &lt;data android:scheme=&quot;your_custom_scheme&quot; /&gt;\n&lt;/intent-filter&gt;\n</code></pre>\n<p>define a callback url</p>\n<pre><code>String callbackUrl = &quot;your_custom_scheme://callback&quot;;\n</code></pre>\n<p>pass this to your intent as below</p>\n<pre><code>intent.putExtra(&quot;android.intent.extra.REFERRER&quot;, Uri.parse(callbackUrl));\n</code></pre>\n<p>When the user performs the desired action in the external browser and triggers the callback, the browser should attempt to open the callback URL. This should bring your app back to the foreground.\nIn your activity, override the onNewIntent method to handle the callback when your app is already running</p>\n<pre><code>    @Override\nprotected void onNewIntent(Intent intent) {\n    super.onNewIntent(intent);\n    Uri data = intent.getData();\n    if (data != null &amp;&amp; data.getScheme().equals(&quot;your_custom_scheme&quot;)) {\n        // Handle the callback here\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":22465491,"reputation":39,"user_id":21788758,"display_name":"kumarvhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76244805,"answer_count":1,"score":0,"last_activity_date":1684161166,"creation_date":1683996455,"question_id":76243893,"body_markdown":"I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...\r\n\r\n1) Do I need to create a websocket? or Notification Handler?\r\n2) If so, how would I go about that for this case?\r\n3) Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?\r\n4) if so, how would I do that?\r\n\r\n\r\nHere is what I have in terms of code:\r\nOpen the web page where &#39;exe&#39; is the webpage as a string\r\n\r\n```\r\nLog.i(&quot;inititating commands for&quot;, exe);\r\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\r\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                i.setPackage(&quot;com.android.chrome&quot;);\r\n                try {\r\n                    context.startActivity(i);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n```\r\n\r\nmainfest.xml intent filters (i&#39;m not certain this is neccessary, nor am I sure it changed anything for me)\r\n\r\n```\r\n&lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\r\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\r\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\r\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\r\n            &lt;/intent-filter&gt;\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI&#39;m experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user&#39;s perspective.\r\n\r\n","title":"How to receive callback with app in background","body":"<p>I would like to be able to receive a callback when my app is in the background and then switch back to the application without any manual steps from the user when the callback is received. An activity opens an external browser for the user to perform some action. Then the phone should receive a callback; which it does, but not until the user manually switches back to the application from the webview (an undesired step). Until then, the page seems to get hung up. My questions are...</p>\n<ol>\n<li>Do I need to create a websocket? or Notification Handler?</li>\n<li>If so, how would I go about that for this case?</li>\n<li>Do I need to switch this to an activityforResult and when the result (any result) happens to then switch back to the application?</li>\n<li>if so, how would I do that?</li>\n</ol>\n<p>Here is what I have in terms of code:\nOpen the web page where 'exe' is the webpage as a string</p>\n<pre><code>Log.i(&quot;inititating commands for&quot;, exe);\n                Intent i = new Intent(Intent.ACTION_VIEW, Uri.parse(exe));\n                i.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                i.setPackage(&quot;com.android.chrome&quot;);\n                try {\n                    context.startActivity(i);\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n\n</code></pre>\n<p>mainfest.xml intent filters (i'm not certain this is neccessary, nor am I sure it changed anything for me)</p>\n<pre><code>&lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot;/&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot;/&gt;\n                           &lt;action android:name=&quot;android.intent.action.VIEW&quot; /&gt;\n                           &lt;category android:name=&quot;android.intent.category.DEFAULT&quot;/&gt;\n                           &lt;category android:name=&quot;android.intent.category.BROWSABLE&quot; /&gt;\n                           &lt;data android:host=&quot;127.0.0.1:54321/&quot; android:scheme=&quot;http&quot;/&gt;\n            &lt;/intent-filter&gt;\n</code></pre>\n<p>I'm experiencing quasi-success.  The flow completes, but with extra steps from the user.  I would like to remove those manual steps, and make the flow seamless from the user's perspective.</p>\n"},{"tags":["java","android","exoplayer","exoplayer2.x"],"answers":[{"comments":[{"owner":{"account_id":3001073,"reputation":328,"user_id":2546579,"display_name":"hannunehg"},"score":0,"creation_date":1684157500,"post_id":67387978,"comment_id":134471559,"body_markdown":"Youtube stopped supporting the sdk and recommend using an Iframe inside a webview even for Android, which is quite complex tbh","body":"Youtube stopped supporting the sdk and recommend using an Iframe inside a webview even for Android, which is quite complex tbh"},{"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"score":0,"creation_date":1684160557,"post_id":67387978,"comment_id":134472340,"body_markdown":"Thanks, @hannunehg for flagging this.","body":"Thanks, @hannunehg for flagging this."}],"tags":[],"owner":{"account_id":133209,"reputation":24579,"user_id":334402,"accept_rate":50,"display_name":"Mick"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160534,"creation_date":1620143127,"answer_id":67387978,"question_id":67358205,"body_markdown":"**Update 2023**\r\n\r\nThe YouTube player SDK has been deprecated as pointed out by  \r\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: https://developers.google.com/youtube/iframe_api_reference\r\n\r\n**Original answer**\r\n\r\nYouTube prefer you to use their own player and provide an SDK and API for this:\r\n\r\n - https://developers.google.com/youtube/android/player\r\n\r\nIf you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.\r\n\r\nYou also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.\r\n\r\nThe ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don&#39;t have this so would either need to build some sort of proxy to create a new manifest combining the individual URL&#39;s you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p><strong>Update 2023</strong></p>\n<p>The YouTube player SDK has been deprecated as pointed out by<br />\nhannunehg in the comments. The new advice is to use their iFrame player and the documentation is here: <a href=\"https://developers.google.com/youtube/iframe_api_reference\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/iframe_api_reference</a></p>\n<p><strong>Original answer</strong></p>\n<p>YouTube prefer you to use their own player and provide an SDK and API for this:</p>\n<ul>\n<li><a href=\"https://developers.google.com/youtube/android/player\" rel=\"nofollow noreferrer\">https://developers.google.com/youtube/android/player</a></li>\n</ul>\n<p>If you do build a solution which will extract the streams and play them in your custom player, and there are plenty of examples on SO for this, you will be at the mercy of something changing that may break you implementation without warning - look at the comments histories in some of the examples.</p>\n<p>You also run the risk of the Android App review algorithms having a check for this and your app suddenly not complying with the the guidelines and being rejected - being accepted in the past is not really a guarantee that it will be again in the future.</p>\n<p>The ExoPlayer track selector expects that your source manifest will have multiple tracks and its job is then to choose between them. In your case you don't have this so would either need to build some sort of proxy to create a new manifest combining the individual URL's you get by querying each resolution as you show above, or modify the player to request a completely new manifest with the single resolution you want.</p>\n"}],"owner":{"account_id":5254759,"reputation":111,"user_id":11084616,"display_name":"Mihir Kandoi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684160534,"creation_date":1619969967,"question_id":67358205,"body_markdown":"I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using [this][1] library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:\r\n\r\n```\r\nString youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\r\n\r\nnew YouTubeExtractor(this) {\r\n    @Override\r\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\r\n        if (ytFiles != null) {\r\n            int itag = 22;    //22 == 720p\r\n\t    String downloadUrl = ytFiles.get(itag).getUrl();\r\n        }\r\n    }\r\n}.extract(youtubeLink, true, true);\r\n```\r\n\r\nI can make this URL as a MediaSource and set it using `setMediaSource` and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to [this][2] question. \r\n\r\nI tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting `MediaItem`s and setting them to the player but it instead creates a playlist rather than tracks. Any help?\r\n\r\nSorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.\r\n\r\nThanks\r\n\r\n\r\n  [1]: https://github.com/HaarigerHarald/android-youtubeExtractor\r\n  [2]: https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596","title":"ExoPlayer multiple DASH URLs of different resolutions as tracks","body":"<p>I am working with an app that is supposed to play YouTube videos using ExoPlayer2. To fetch the DASH URL of the video I am using <a href=\"https://github.com/HaarigerHarald/android-youtubeExtractor\" rel=\"nofollow noreferrer\">this</a> library. The problem with this approach is that the library returns different URLs based on what resolution (itag) you want. For example, if you want the 720p variant of a video you will do something like:</p>\n<pre><code>String youtubeLink = &quot;http://youtube.com/watch?v=xxxx&quot;;\n\nnew YouTubeExtractor(this) {\n    @Override\n    public void onExtractionComplete(SparseArray&lt;YtFile&gt; ytFiles, VideoMeta vMeta) {\n        if (ytFiles != null) {\n            int itag = 22;    //22 == 720p\n        String downloadUrl = ytFiles.get(itag).getUrl();\n        }\n    }\n}.extract(youtubeLink, true, true);\n</code></pre>\n<p>I can make this URL as a MediaSource and set it using <code>setMediaSource</code> and it works but with only a single resolution (720p in this case). I want to do something like the photo attached to the answer to <a href=\"https://stackoverflow.com/questions/44061924/is-it-possible-to-change-resolution-of-exoplayer-manually/44068596#44068596\">this</a> question.</p>\n<p>I tried reading the docs, I tried Google-Fu but all went in vain. Any ideas on how can I create different tracks with different resolutions for the same video? I tried putting <code>MediaItem</code>s and setting them to the player but it instead creates a playlist rather than tracks. Any help?</p>\n<p>Sorry for the lack of code, the previous developer has made a complete mess in organizing the code and I do not know what is where. If I can just get a rough code that would be insanely helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","jwt"],"answers":[{"tags":[],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160453,"creation_date":1429127812,"answer_id":29659690,"question_id":29659536,"body_markdown":"I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below\r\n\r\n```java\r\nJWTClaimsSet jwtClaims = new JWTClaimsSet();\r\njwtClaims.setIssuer(ISSUER);\r\njwtClaims.setSubject(SUBJECT);\r\n\r\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\r\naud.add(&quot;https://app-one.com&quot;);\r\naud.add(&quot;https://app-two.com&quot;);\r\n\r\njwtClaims.setAudience(aud);\r\n// Set expiration in 10 minutes\r\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\r\njwtClaims.setNotBeforeTime(new Date());\r\njwtClaims.setIssueTime(new Date());\r\njwtClaims.setJWTID(UUID.randomUUID().toString());\r\n\r\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\r\nSystem.out.println(jwtClaims.toJSONObject());\r\n\r\n\r\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\r\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n\r\n// Create the encrypted JWT object\r\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\r\n\r\n\r\n// Create an encrypter with the specified public RSA key\r\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\r\njwt.encrypt(encrypter);\r\n\r\nString jwtString = jwt.serialize();\r\n\r\nSystem.out.println(jwtString);\r\n\r\n\r\n// Parse back\r\njwt = EncryptedJWT.parse(jwtString);\r\n\r\n// Create a decrypter with the specified private RSA key\r\nRSADecrypter decrypter = new RSADecrypter(privateKey);\r\n\r\n// Decrypt\r\njwt.decrypt(decrypter);\r\n\r\n// Retrieve JWT claims\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\r\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\r\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\r\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\r\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\r\n```\r\n\r\nThis code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.\r\n    \r\nOnce you run this code, you should be able to see following jwtClaims:\r\n\r\n```json       \r\n{\r\n    &quot;exp&quot;: 1429126207,\r\n    &quot;sub&quot;: &quot;alice&quot;,\r\n    &quot;nbf&quot;: 1429125607,\r\n    &quot;aud&quot;: [\r\n          &quot;https://app-one.com&quot;,\r\n          &quot;https://app-two.com&quot;\r\n    ],\r\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \r\n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\r\n    &quot;iat&quot;: 1429125607\r\n}\r\n```","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I implemented the code to use &quot;nimbus-jose-jwt&quot; library, please find the code below</p>\n<pre class=\"lang-java prettyprint-override\"><code>JWTClaimsSet jwtClaims = new JWTClaimsSet();\njwtClaims.setIssuer(ISSUER);\njwtClaims.setSubject(SUBJECT);\n\nList&lt;String&gt; aud = new ArrayList&lt;String&gt;();\naud.add(&quot;https://app-one.com&quot;);\naud.add(&quot;https://app-two.com&quot;);\n\njwtClaims.setAudience(aud);\n// Set expiration in 10 minutes\njwtClaims.setExpirationTime(new Date(new Date().getTime() + 1000*60*10));\njwtClaims.setNotBeforeTime(new Date());\njwtClaims.setIssueTime(new Date());\njwtClaims.setJWTID(UUID.randomUUID().toString());\n\nSystem.out.println(&quot;=========== JWT CLAMINS =============&quot;);\nSystem.out.println(jwtClaims.toJSONObject());\n\n\n// Request JWT encrypted with RSA-OAEP and 128-bit AES/GCM\nJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n// Create the encrypted JWT object\nEncryptedJWT jwt = new EncryptedJWT(header, jwtClaims);\n\n\n// Create an encrypter with the specified public RSA key\nRSAEncrypter encrypter = new RSAEncrypter(publicKey);\njwt.encrypt(encrypter);\n\nString jwtString = jwt.serialize();\n\nSystem.out.println(jwtString);\n\n\n// Parse back\njwt = EncryptedJWT.parse(jwtString);\n\n// Create a decrypter with the specified private RSA key\nRSADecrypter decrypter = new RSADecrypter(privateKey);\n\n// Decrypt\njwt.decrypt(decrypter);\n\n// Retrieve JWT claims\nSystem.out.println(jwt.getJWTClaimsSet().getIssuer());;\nSystem.out.println(jwt.getJWTClaimsSet().getSubject());\nSystem.out.println(jwt.getJWTClaimsSet().getAudience().size());\nSystem.out.println(jwt.getJWTClaimsSet().getExpirationTime());\nSystem.out.println(jwt.getJWTClaimsSet().getNotBeforeTime());\nSystem.out.println(jwt.getJWTClaimsSet().getIssueTime());\nSystem.out.println(jwt.getJWTClaimsSet().getJWTID());\n</code></pre>\n<p>This code has also use the public and private keys to create JWT token, also you will need those keys to extract claims and validate it.</p>\n<p>Once you run this code, you should be able to see following jwtClaims:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;exp&quot;: 1429126207,\n    &quot;sub&quot;: &quot;alice&quot;,\n    &quot;nbf&quot;: 1429125607,\n    &quot;aud&quot;: [\n          &quot;https://app-one.com&quot;,\n          &quot;https://app-two.com&quot;\n    ],\n    &quot;iss&quot;: &quot;A FaceBook Cooperation&quot;,    \n    &quot;jti&quot;: &quot;5c94d2db-e818-4746-b2f2-a4cd084d5a44&quot;,\n    &quot;iat&quot;: 1429125607\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4821194"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1471519539,"creation_date":1471116149,"answer_id":38936203,"question_id":29659536,"body_markdown":"If you&#39;re using the latest version of 4.23 of &#39;Nimbus Jose JWT&#39; then there is some minor changes in the API.\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;ve shown the code below for reference:\r\n    \r\n    public class JwtJoseExample {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tKeyPairGenerator keyPairGenerator;\r\n    \t\ttry {\r\n    \t\t\tkeyPairGenerator = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n    \r\n    \t\t\tkeyPairGenerator.initialize(1024);\r\n    \r\n    \t\t\t// generate the key pair\r\n    \t\t\tKeyPair keyPair = keyPairGenerator.genKeyPair();\r\n    \r\n    \t\t\t// create KeyFactory and RSA Keys Specs\r\n    \t\t\tKeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    \t\t\tRSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\r\n    \t\t\tRSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\r\n    \r\n    \t\t\t// generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\r\n    \t\t\tRSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\r\n    \t\t\tRSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\r\n    \r\n    \t\t\tJWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\r\n    \t\t\tclaimsSet.issuer(&quot;https://my-auth-server.com&quot;);\r\n    \t\t\tclaimsSet.subject(&quot;John Kerr&quot;);\r\n    \t\t\tclaimsSet.audience(getAudience());\r\n    \t\t\tclaimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\r\n    \t\t\tclaimsSet.notBeforeTime(new Date());\r\n    \t\t\tclaimsSet.jwtID(UUID.randomUUID().toString());\r\n    \r\n    \t\t\tSystem.out.println(&quot;--------------------------&quot;);\r\n    \t\t\tSystem.out.println(&quot;Claim Set : \\n&quot;+claimsSet.build());\r\n    \r\n    \t\t\t// create the JWT header and specify:\r\n    \t\t\t//  RSA-OAEP as the encryption algorithm\r\n    \t\t\t//  128-bit AES/GCM as the encryption method\r\n    \t\t\tJWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\r\n    \r\n    \t\t\t// create the EncryptedJWT object\r\n    \t\t\tEncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\r\n    \r\n    \t\t\t// create an RSA encrypter with the specified public RSA key\r\n    \t\t\tRSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\r\n    \r\n    \t\t\t// do the actual encryption\r\n    \t\t\tjwt.encrypt(encrypter);\r\n    \r\n    \t\t\t// serialize to JWT compact form\r\n    \t\t\tString jwtString = jwt.serialize();\r\n    \t\t\tSystem.out.println(&quot;\\nJwt Compact Form : &quot;+jwtString);\r\n    \r\n    \t\t\t// in order to read back the data from the token using your private RSA key:\r\n    \t\t\t// parse the JWT text string using EncryptedJWT object\r\n    \t\t\tjwt = EncryptedJWT.parse(jwtString);\r\n    \r\n    \t\t\t// create a decrypter with the specified private RSA key\r\n    \t\t\tRSADecrypter decrypter = new RSADecrypter(privateRsaKey);\r\n    \r\n    \t\t\t// do the decryption\r\n    \t\t\tjwt.decrypt(decrypter);\r\n    \r\n    \t\t\t// print out the claims\r\n    \r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issuer: [ &quot; + jwt.getJWTClaimsSet().getIssuer() + &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Subject: [&quot; + jwt.getJWTClaimsSet().getSubject()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Audience size: [&quot; + jwt.getJWTClaimsSet().getAudience().size()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Expiration Time: [&quot; + jwt.getJWTClaimsSet().getExpirationTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Not Before Time: [&quot; + jwt.getJWTClaimsSet().getNotBeforeTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;Issue At: [&quot; + jwt.getJWTClaimsSet().getIssueTime()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;JWT ID: [&quot; + jwt.getJWTClaimsSet().getJWTID()+ &quot;]&quot;);\r\n    \t\t\tSystem.out.println(&quot;===========================================================&quot;);\r\n    \r\n    \t\t} catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate static List&lt;String&gt; getAudience(){\r\n    \t\tList&lt;String&gt; audience = new ArrayList&lt;&gt;();\r\n    \t\taudience.add(&quot;https://my-web-app.com&quot;);\r\n    \t\taudience.add(&quot;https://your-web-app.com&quot;);\r\n    \t\treturn audience;\r\n    \t}\r\n    }\r\n\r\n\r\n\r\n\r\n   The output is:\r\n--------------------------\r\nClaim Set : \r\n\r\n    {&quot;sub&quot;:&quot;John Kerr&quot;,&quot;aud&quot;:[&quot;https:\\/\\/my-web-app.com&quot;,&quot;https:\\/\\/your-web-app.com&quot;],&quot;nbf&quot;:1471116052,&quot;iss&quot;:&quot;https:\\/\\/my-auth-server.com&quot;,&quot;exp&quot;:1471116652,&quot;jti&quot;:&quot;8769fc6d-b69f-45e3-b1a5-52695c23675e&quot;}\r\n\r\nJwt Compact Form : \r\n\r\n    eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\r\n    ===========================================================\r\n    Issuer: [ https://my-auth-server.com]\r\n    Subject: [John Kerr]\r\n    Audience size: [2]\r\n    Expiration Time: [Sun Aug 14 01:00:52 IST 2016]\r\n    Not Before Time: [Sun Aug 14 00:50:52 IST 2016]\r\n    Issue At: [null]\r\n    JWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\r\n    ===========================================================\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>If you're using the latest version of 4.23 of 'Nimbus Jose JWT' then there is some minor changes in the API.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;4.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I've shown the code below for reference:</p>\n\n<pre><code>public class JwtJoseExample {\n    public static void main(String[] args) {\n        KeyPairGenerator keyPairGenerator;\n        try {\n            keyPairGenerator = KeyPairGenerator.getInstance(\"RSA\");\n\n            keyPairGenerator.initialize(1024);\n\n            // generate the key pair\n            KeyPair keyPair = keyPairGenerator.genKeyPair();\n\n            // create KeyFactory and RSA Keys Specs\n            KeyFactory keyFactory = KeyFactory.getInstance(\"RSA\");\n            RSAPublicKeySpec publicKeySpec = keyFactory.getKeySpec(keyPair.getPublic(), RSAPublicKeySpec.class);\n            RSAPrivateKeySpec privateKeySpec = keyFactory.getKeySpec(keyPair.getPrivate(), RSAPrivateKeySpec.class);\n\n            // generate (and retrieve) RSA Keys from the KeyFactory using Keys Specs\n            RSAPublicKey publicRsaKey = (RSAPublicKey) keyFactory.generatePublic(publicKeySpec);\n            RSAPrivateKey privateRsaKey  = (RSAPrivateKey) keyFactory.generatePrivate(privateKeySpec);\n\n            JWTClaimsSet.Builder claimsSet = new JWTClaimsSet.Builder();\n            claimsSet.issuer(\"https://my-auth-server.com\");\n            claimsSet.subject(\"John Kerr\");\n            claimsSet.audience(getAudience());\n            claimsSet.expirationTime(new Date(new Date().getTime() + 1000*60*10));\n            claimsSet.notBeforeTime(new Date());\n            claimsSet.jwtID(UUID.randomUUID().toString());\n\n            System.out.println(\"--------------------------\");\n            System.out.println(\"Claim Set : \\n\"+claimsSet.build());\n\n            // create the JWT header and specify:\n            //  RSA-OAEP as the encryption algorithm\n            //  128-bit AES/GCM as the encryption method\n            JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP, EncryptionMethod.A128GCM);\n\n            // create the EncryptedJWT object\n            EncryptedJWT jwt = new EncryptedJWT(header, claimsSet.build());\n\n            // create an RSA encrypter with the specified public RSA key\n            RSAEncrypter encrypter = new RSAEncrypter(publicRsaKey);\n\n            // do the actual encryption\n            jwt.encrypt(encrypter);\n\n            // serialize to JWT compact form\n            String jwtString = jwt.serialize();\n            System.out.println(\"\\nJwt Compact Form : \"+jwtString);\n\n            // in order to read back the data from the token using your private RSA key:\n            // parse the JWT text string using EncryptedJWT object\n            jwt = EncryptedJWT.parse(jwtString);\n\n            // create a decrypter with the specified private RSA key\n            RSADecrypter decrypter = new RSADecrypter(privateRsaKey);\n\n            // do the decryption\n            jwt.decrypt(decrypter);\n\n            // print out the claims\n\n            System.out.println(\"===========================================================\");\n            System.out.println(\"Issuer: [ \" + jwt.getJWTClaimsSet().getIssuer() + \"]\");\n            System.out.println(\"Subject: [\" + jwt.getJWTClaimsSet().getSubject()+ \"]\");\n            System.out.println(\"Audience size: [\" + jwt.getJWTClaimsSet().getAudience().size()+ \"]\");\n            System.out.println(\"Expiration Time: [\" + jwt.getJWTClaimsSet().getExpirationTime()+ \"]\");\n            System.out.println(\"Not Before Time: [\" + jwt.getJWTClaimsSet().getNotBeforeTime()+ \"]\");\n            System.out.println(\"Issue At: [\" + jwt.getJWTClaimsSet().getIssueTime()+ \"]\");\n            System.out.println(\"JWT ID: [\" + jwt.getJWTClaimsSet().getJWTID()+ \"]\");\n            System.out.println(\"===========================================================\");\n\n        } catch (NoSuchAlgorithmException | InvalidKeySpecException | JOSEException | ParseException e) {\n            System.out.println(e.getMessage());\n        }\n    }\n\n    private static List&lt;String&gt; getAudience(){\n        List&lt;String&gt; audience = new ArrayList&lt;&gt;();\n        audience.add(\"https://my-web-app.com\");\n        audience.add(\"https://your-web-app.com\");\n        return audience;\n    }\n}\n</code></pre>\n\n<h2>   The output is:</h2>\n\n<p>Claim Set : </p>\n\n<pre><code>{\"sub\":\"John Kerr\",\"aud\":[\"https:\\/\\/my-web-app.com\",\"https:\\/\\/your-web-app.com\"],\"nbf\":1471116052,\"iss\":\"https:\\/\\/my-auth-server.com\",\"exp\":1471116652,\"jti\":\"8769fc6d-b69f-45e3-b1a5-52695c23675e\"}\n</code></pre>\n\n<p>Jwt Compact Form : </p>\n\n<pre><code>eyJlbmMiOiJBMTI4R0NNIiwiYWxnIjoiUlNBLU9BRVAifQ.f2ZZyMaJi03RqunyWsLvIr7tNX1KvTRUcpN9qsBHvbXIouZCyepQMsbI1v88GHuLIV3f6SviCDyICp7kZCj_9q-yIi_dIuroADWQ-P_UnqNPRXQ1yEwbmrLUK80lBtKyc3Z6g_3Db_HLtD6QPEq-zUAh3wJ7uSPxhql2oc9otGc.Xbyrf4iWM0shNp4S.TCKoJGAEQ4rpJJk2qZP11awxTEWTg-r5VpppGgZNhiHCBhnGnyR2sb86O7ISc3j-i4OYp7Xl2vThzztD1ojy_IKPYQkg_iACuo6yjzdopQQT143vjYuFLfFhQFfjfCoO6iibTqK7vmqfF0bUWD6Nj-4MwjlW6dFV7mNQEN50dkiMrFMZkmiVKZRa50jOK1NcoWYiKSrCOQduJYibJfF6jSQARX9MsX5tib-3BXSsKtPLNrQ6mFfvDzzruBuO4gKWLE3PQPUfIQ.gXt5KcpxEbfYLP854GvcQw\n===========================================================\nIssuer: [ https://my-auth-server.com]\nSubject: [John Kerr]\nAudience size: [2]\nExpiration Time: [Sun Aug 14 01:00:52 IST 2016]\nNot Before Time: [Sun Aug 14 00:50:52 IST 2016]\nIssue At: [null]\nJWT ID: [8769fc6d-b69f-45e3-b1a5-52695c23675e]\n===========================================================\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12125902,"reputation":29,"user_id":8854768,"display_name":"VAIBHAV SHEERSH"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1526899963,"creation_date":1526899963,"answer_id":50447276,"question_id":29659536,"body_markdown":"    //This is a complete encryption and decryption module using \r\n    //Algorithm: JWEAlgorithm.RSA_OAEP_256\r\n    //Encryption Method: A128CBC_HS256\r\n    \r\n    public static String  encrypt(String text) throws Exception {\r\n        // Set the plain text\r\n        Payload payload = new Payload(text);\r\n        // Create the header\r\n        JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\r\n        // Create the JWE object and encrypt it\r\n        JWEObject jweObject = new JWEObject(header, payload);\r\n        jweObject.encrypt(new RSAEncrypter(getPublicKey()));\r\n        // Serialise to compact JOSE form...\r\n        String jweString = jweObject.serialize();\r\n        LOG.info(&quot;Generated Encrypted Key : {}&quot;, jweString);\r\n        return jweString;\r\n    }\r\n    \r\n    public static String decrypt(String text) throws Exception {\r\n        // Parse into JWE object...\r\n        JWEObject jweObject = JWEObject.parse(text);\r\n        jweObject.decrypt(new RSADecrypter(getPrivateKey()));\r\n        // Get the plain text\r\n        Payload payload = jweObject.getPayload();\r\n        System.out.println(payload.toString());\r\n        return payload.toString();\r\n    }\r\n    \r\n    private static RSAPublicKey getPublicKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/pub.der&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPublicKey) kf.generatePublic(spec);\r\n    }\r\n    \r\n    private static RSAPrivateKey getPrivateKey() throws Exception {\r\n        String filename = &quot;/home/vaibhav/Setups/cert/private.pkcs8&quot;;\r\n        File f = new File(filename);\r\n        FileInputStream fis = new FileInputStream(f);\r\n        DataInputStream dis = new DataInputStream(fis);\r\n        byte[] keyBytes = new byte[(int)f.length()];\r\n        dis.readFully(keyBytes);\r\n        dis.close();\r\n    \r\n        PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        return (RSAPrivateKey) kf.generatePrivate(spec1);\r\n    }","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<pre><code>//This is a complete encryption and decryption module using \n//Algorithm: JWEAlgorithm.RSA_OAEP_256\n//Encryption Method: A128CBC_HS256\n\npublic static String  encrypt(String text) throws Exception {\n    // Set the plain text\n    Payload payload = new Payload(text);\n    // Create the header\n    JWEHeader header = new JWEHeader(JWEAlgorithm.RSA_OAEP_256, EncryptionMethod.A128CBC_HS256);\n    // Create the JWE object and encrypt it\n    JWEObject jweObject = new JWEObject(header, payload);\n    jweObject.encrypt(new RSAEncrypter(getPublicKey()));\n    // Serialise to compact JOSE form...\n    String jweString = jweObject.serialize();\n    LOG.info(\"Generated Encrypted Key : {}\", jweString);\n    return jweString;\n}\n\npublic static String decrypt(String text) throws Exception {\n    // Parse into JWE object...\n    JWEObject jweObject = JWEObject.parse(text);\n    jweObject.decrypt(new RSADecrypter(getPrivateKey()));\n    // Get the plain text\n    Payload payload = jweObject.getPayload();\n    System.out.println(payload.toString());\n    return payload.toString();\n}\n\nprivate static RSAPublicKey getPublicKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/pub.der\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    X509EncodedKeySpec spec = new X509EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPublicKey) kf.generatePublic(spec);\n}\n\nprivate static RSAPrivateKey getPrivateKey() throws Exception {\n    String filename = \"/home/vaibhav/Setups/cert/private.pkcs8\";\n    File f = new File(filename);\n    FileInputStream fis = new FileInputStream(f);\n    DataInputStream dis = new DataInputStream(fis);\n    byte[] keyBytes = new byte[(int)f.length()];\n    dis.readFully(keyBytes);\n    dis.close();\n\n    PKCS8EncodedKeySpec spec1 = new PKCS8EncodedKeySpec(keyBytes);\n    KeyFactory kf = KeyFactory.getInstance(\"RSA\");\n    return (RSAPrivateKey) kf.generatePrivate(spec1);\n}\n</code></pre>\n"}],"owner":{"account_id":3503406,"reputation":10887,"user_id":2929562,"accept_rate":88,"display_name":"Prateek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15964,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":38936203,"answer_count":3,"score":3,"last_activity_date":1684160453,"creation_date":1429127401,"question_id":29659536,"body_markdown":"I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.\r\n\r\nI would like to use the following Maven dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.10&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNote: Please always use the latest version from Maven Central repository.\r\n\r\n","title":"Create JWT (Json Web Token) with RSA encryption using Java library","body":"<p>I am looking to develop a JWT app with RSA encryption using &quot;Nimbus JOSE+JWT&quot; library. I am seeking sample code.</p>\n<p>I would like to use the following Maven dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n    &lt;version&gt;3.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note: Please always use the latest version from Maven Central repository.</p>\n"},{"tags":["java","open-telemetry"],"comments":[{"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"score":0,"creation_date":1683836089,"post_id":76230135,"comment_id":134431733,"body_markdown":"The MDC instrumentation currently only goes the other way as demonstrated in this document: https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md.  Certainly sounds like an interesting idea.  Consider [adding an issue](https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose) or [write an extension](https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md).","body":"The MDC instrumentation currently only goes the other way as demonstrated in this document: <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/docs/logger-mdc-instrumentation.md\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a>.  Certainly sounds like an interesting idea.  Consider <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/issues/new/choose\" rel=\"nofollow noreferrer\">adding an issue</a> or <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/blob/main/examples/extension/README.md\" rel=\"nofollow noreferrer\">write an extension</a>."},{"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"score":0,"creation_date":1683915352,"post_id":76230135,"comment_id":134445204,"body_markdown":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension.","body":"Thanks @TylerB - any thoughts on the fallback approach (2) above?  If we can do that cleanly we can try and generalize it as an extension."}],"answers":[{"tags":[],"owner":{"account_id":73144,"reputation":318,"user_id":210800,"display_name":"Tyler B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684160111,"creation_date":1684160111,"answer_id":76255007,"question_id":76230135,"body_markdown":"Since MDC is statically accessible, I believe you can implement a `SpanProcessor` that adds the desired attributes to `span` in the `onStart` method.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Since MDC is statically accessible, I believe you can implement a <code>SpanProcessor</code> that adds the desired attributes to <code>span</code> in the <code>onStart</code> method.</p>\n"}],"owner":{"account_id":8110945,"reputation":69,"user_id":16004993,"display_name":"James Courtney"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684160111,"creation_date":1683825589,"question_id":76230135,"body_markdown":"Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.\r\n\r\n1) Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I&#39;d be able to configure OTEL with a set of key pairs providing the name of the tag I&#39;d like to add to the Span and the MDC key who&#39;s associated value should be set as the value of the tag.\r\n\r\n2) If the configuration-based approach articulated isn&#39;t possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.\r\n\r\nIf there&#39;s another way to achieve tagging all spans for a request more or less implicitly I&#39;m all ears. \r\n\r\nThanks in advance for any help / guidance you can provide.","title":"Can OpenTelemetry (Java) be configured or otherwise convinced to tag spans with MDC values?","body":"<p>Requests to our application are associated with a customer ID.  This metadata value is available during the scope of the request via MDC (slf4j) and used for logging and a handful of other telemetry/observability/meta sorts of activities.  It would be useful for us to have that value as a tag on all OTEL spans.</p>\n<ol>\n<li><p>Is there a way to configure OTEL to automatically tag spans with values from MDC context.  Ideally I'd be able to configure OTEL with a set of key pairs providing the name of the tag I'd like to add to the Span and the MDC key who's associated value should be set as the value of the tag.</p>\n</li>\n<li><p>If the configuration-based approach articulated isn't possible, is there the ability to place a small amount of code at the start of a request (i.e. in a filter on a servlet container or similar) which would copy desired MDC values to OTEL context such that all spans created in the request thereafter would implicitly be created with / inherit those tags.</p>\n</li>\n</ol>\n<p>If there's another way to achieve tagging all spans for a request more or less implicitly I'm all ears.</p>\n<p>Thanks in advance for any help / guidance you can provide.</p>\n"},{"tags":["java","html","keycloak"],"comments":[{"owner":{"account_id":1973116,"reputation":9881,"user_id":1771556,"display_name":"Vadim Ashikhman"},"score":0,"creation_date":1566997893,"post_id":57692616,"comment_id":101830581,"body_markdown":"Did you create custom email theme and override `password-reset.ftl`?","body":"Did you create custom email theme and override <code>password-reset.ftl</code>?"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1567089113,"post_id":57692616,"comment_id":101867122,"body_markdown":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work","body":"Yes I did. I tried adding an image to theme/email/resources/img and reference to it by calling ${url.resourcePath}/img/myImage.jpg in img tag but still doesn&#39;t work"}],"answers":[{"comments":[{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1567089367,"post_id":57694584,"comment_id":101867264,"body_markdown":"Thanks for your reply but I&#39;ve already got all of my custom themes available in keycloak. The problem is just with adding a logo to the email related to password-reset","body":"Thanks for your reply but I&#39;ve already got all of my custom themes available in keycloak. The problem is just with adding a logo to the email related to password-reset"},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1567091840,"post_id":57694584,"comment_id":101868656,"body_markdown":"You need to modify your html/password-reset.ftl and add your logo in html code... I will try to complete the answer.","body":"You need to modify your html/password-reset.ftl and add your logo in html code... I will try to complete the answer."},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1567480081,"post_id":57694584,"comment_id":101964792,"body_markdown":"Hi @javamat, could you finally add the image? Could you solve it or have you got lost?","body":"Hi @javamat, could you finally add the image? Could you solve it or have you got lost?"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1568182522,"post_id":57694584,"comment_id":102188882,"body_markdown":"Hi, I decided to add an image by passing the URL to the service which is hosting the logo","body":"Hi, I decided to add an image by passing the URL to the service which is hosting the logo"},{"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"score":0,"creation_date":1568182611,"post_id":57694584,"comment_id":102188918,"body_markdown":"Unfortunately Gmail doesn&#39;t support base64 encoding","body":"Unfortunately Gmail doesn&#39;t support base64 encoding"},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1568204474,"post_id":57694584,"comment_id":102199664,"body_markdown":"You can place the image file in your template jar and reference it. I will search,  I think that I have an old sample about it.","body":"You can place the image file in your template jar and reference it. I will search,  I think that I have an old sample about it."},{"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"score":0,"creation_date":1568241029,"post_id":57694584,"comment_id":102215979,"body_markdown":"Hi @javamat, look at the info added and the link provided.","body":"Hi @javamat, look at the info added and the link provided."}],"tags":[],"owner":{"account_id":2909206,"reputation":5133,"user_id":2493852,"display_name":"Ariel Carrera"},"comment_count":7,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568240971,"creation_date":1567002050,"answer_id":57694584,"question_id":57692616,"body_markdown":"You need to create a custom theme.\r\nCheck Keycloak&#39;s docs chapter 3: [docs][1]\r\n\r\nThere are five types of themes/pages:\r\n\r\n - Account - Account management   \r\n - Admin - Admin console\r\n - **Email - Emails**\r\n - Login - Login forms    \r\n - Welcome - Welcome page\r\n\r\nYou can start with a checkout of this sample repository [kc themes sample][2], edit templates and deploy it in your keycloak.\r\n\r\nLike the link says... to deploy it:\r\n\r\n&gt; **Copy**\r\n&gt; \r\n&gt; Simplest way to deploy the themes is to copy\r\n&gt; src/main/resources/theme/* to themes/.\r\n&gt; \r\n&gt; **Module**\r\n&gt;\r\n&gt; Alternatively you can deploy as modules. This can be done by\r\n&gt; first running:\r\n&gt; \r\n&gt; `mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=&quot;module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar&quot;`\r\n&gt; \r\n&gt; Then open `standalone/configuration/standalone.xml`\r\n&gt; and register the theme module by adding:\r\n&gt; \r\n&gt;     &lt;theme&gt;\r\n&gt;         ...\r\n&gt;         &lt;modules&gt;\r\n&gt;             &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\r\n&gt;         &lt;/modules&gt;\r\n&gt;     &lt;/theme&gt;\r\n\r\nYou can copy other themes or extend it copying from [base templates][3] to your custom themes project.\r\n\r\nEmail base templates: [email templates][4]\r\n\r\nTake care to select same Keycloak version before checkout project and sources.\r\n\r\n**Steps to Add a logo to email template inside an existing custom theme**\r\n\r\n 1. Locate your template file: /html/password-reset.ftl (e.g. [base sample file][5])\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n        ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 2. Replace with your code. E.g. with a base64 image or a linked reference to your image file (https://static.myserver.com/image.png, etc ...)\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n        &lt;html&gt;\r\n        &lt;body&gt;\r\n            &lt;div&gt;\r\n                &lt;img src=&quot;data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n        AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n            9TXL0Y4OHwAAAABJRU5ErkJggg==&quot; alt=&quot;Red Logo&quot;&gt;\r\n            &lt;/div&gt;\r\n            &lt;div&gt;\r\n            ${kcSanitize(msg(&quot;passwordResetBodyHtml&quot;,link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n            &lt;/div&gt;\r\n        &lt;/body&gt;\r\n        &lt;/html&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n 3. Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]\r\n\r\n\r\n 4. Package and deploy your theme in Keycloak\r\n \r\n 5. Select your email template in Realm Configuration tab\r\n\r\n\r\nAs you can see in class [DefaultEmailSenderProvider.java][6] Keycloak will try to send a HTML email and if you don&#39;t define it uses text-plain (file: text/password-reset.ftl\r\n\r\n## Update:\r\n\r\nThere are currently some limitations imposed by some email clients.\r\nI advise you to read the following note about it ([read me][7]).\r\n\r\nAs it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).\r\n\r\nTherefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).\r\n\r\nSo, the best solution you can implement is to add your image as follows:\r\nEg.\r\n\r\n    &lt;img src = &quot;https://static.myserver.com/static/logo.png&quot; alt = &quot;img&quot; /&gt;\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/latest/server_development/index.html#_themes\r\n  [2]: https://github.com/keycloak/keycloak/tree/master/examples/themes\r\n  [3]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\r\n  [4]: https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\r\n  [5]: https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\r\n  [6]: https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\r\n  [7]: https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/","title":"Keycloak add company logo to the reset password email","body":"<p>You need to create a custom theme.\nCheck Keycloak's docs chapter 3: <a href=\"https://www.keycloak.org/docs/latest/server_development/index.html#_themes\" rel=\"nofollow noreferrer\">docs</a></p>\n\n<p>There are five types of themes/pages:</p>\n\n<ul>\n<li>Account - Account management   </li>\n<li>Admin - Admin console</li>\n<li><strong>Email - Emails</strong></li>\n<li>Login - Login forms    </li>\n<li>Welcome - Welcome page</li>\n</ul>\n\n<p>You can start with a checkout of this sample repository <a href=\"https://github.com/keycloak/keycloak/tree/master/examples/themes\" rel=\"nofollow noreferrer\">kc themes sample</a>, edit templates and deploy it in your keycloak.</p>\n\n<p>Like the link says... to deploy it:</p>\n\n<blockquote>\n  <p><strong>Copy</strong></p>\n  \n  <p>Simplest way to deploy the themes is to copy\n  src/main/resources/theme/* to themes/.</p>\n  \n  <p><strong>Module</strong></p>\n  \n  <p>Alternatively you can deploy as modules. This can be done by\n  first running:</p>\n  \n  <p><code>mvn clean install $KEYCLOAK_HOME/bin/jboss-cli.sh --command=\"module add --name=org.keycloak.example.themes --resources=target/keycloak-example-themes.jar\"</code></p>\n  \n  <p>Then open <code>standalone/configuration/standalone.xml</code>\n  and register the theme module by adding:</p>\n\n<pre><code>&lt;theme&gt;\n    ...\n    &lt;modules&gt;\n        &lt;module&gt;org.keycloak.example.themes&lt;/module&gt;\n    &lt;/modules&gt;\n&lt;/theme&gt;\n</code></pre>\n</blockquote>\n\n<p>You can copy other themes or extend it copying from <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base\" rel=\"nofollow noreferrer\">base templates</a> to your custom themes project.</p>\n\n<p>Email base templates: <a href=\"https://github.com/keycloak/keycloak/tree/master/themes/src/main/resources/theme/base/email/html\" rel=\"nofollow noreferrer\">email templates</a></p>\n\n<p>Take care to select same Keycloak version before checkout project and sources.</p>\n\n<p><strong>Steps to Add a logo to email template inside an existing custom theme</strong></p>\n\n<ol>\n<li>Locate your template file: /html/password-reset.ftl (e.g. <a href=\"https://github.com/keycloak/keycloak/blob/master/themes/src/main/resources/theme/base/email/html/password-reset.ftl\" rel=\"nofollow noreferrer\">base sample file</a>)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n    ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"2\">\n<li>Replace with your code. E.g. with a base64 image or a linked reference to your image file (<a href=\"https://static.myserver.com/image.png\" rel=\"nofollow noreferrer\">https://static.myserver.com/image.png</a>, etc ...)</li>\n</ol>\n\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>    &lt;html&gt;\r\n    &lt;body&gt;\r\n        &lt;div&gt;\r\n            &lt;img src=\"data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUA\r\n    AAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO\r\n        9TXL0Y4OHwAAAABJRU5ErkJggg==\" alt=\"Red Logo\"&gt;\r\n        &lt;/div&gt;\r\n        &lt;div&gt;\r\n        ${kcSanitize(msg(\"passwordResetBodyHtml\",link, linkExpiration, realmName, linkExpirationFormatter(linkExpiration)))?no_esc}\r\n        &lt;/div&gt;\r\n    &lt;/body&gt;\r\n    &lt;/html&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n\n<ol start=\"3\">\n<li><p>Update your plain-text template too (if you need because not all client support html). You cannot add the image here but if a text message [file text/password-reset.ftl]</p></li>\n<li><p>Package and deploy your theme in Keycloak</p></li>\n<li><p>Select your email template in Realm Configuration tab</p></li>\n</ol>\n\n<p>As you can see in class <a href=\"https://github.com/keycloak/keycloak/blob/3e4fbb5ecee52a842b5adfbd9a1108817140c1f7/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java#L113\" rel=\"nofollow noreferrer\">DefaultEmailSenderProvider.java</a> Keycloak will try to send a HTML email and if you don't define it uses text-plain (file: text/password-reset.ftl</p>\n\n<h2>Update:</h2>\n\n<p>There are currently some limitations imposed by some email clients.\nI advise you to read the following note about it (<a href=\"https://blog.mailtrap.io/embedding-images-in-html-email-have-the-rules-changed/\" rel=\"nofollow noreferrer\">read me</a>).</p>\n\n<p>As it says, many web clients do not display emails that contain more than one image in base64 embedded (or none of them).</p>\n\n<p>Therefore a good strategy with Keycloak emails is to use a reference to an image that is served from a static content server (if you do not have one of them, keycloak is over a wildfly that could also be configured as a static server).</p>\n\n<p>So, the best solution you can implement is to add your image as follows:\nEg.</p>\n\n<pre><code>&lt;img src = \"https://static.myserver.com/static/logo.png\" alt = \"img\" /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4341359,"reputation":36,"user_id":3544513,"display_name":"woocash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587543246,"creation_date":1587506773,"answer_id":61354069,"question_id":57692616,"body_markdown":"[`DefaultEmailSenderProvider`][1] class allows only for text and html content as `multipart/alternative`. This is not enough to have working well (in most mail clients) embedded image like logo or so. \r\n\r\nThe html part should be wrapped together with image(s) by the `multipart/related` section. Therefore, some custom `EmailSenderProvider` seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.\r\n\r\n    - alternative\r\n    -- text\r\n    -- related\r\n    --- html\r\n    --- inline image \r\n    --- inline image\r\n\r\nAs I have spent some time on research which haven&#39;t brought any result yet I plan to make a request to keycloak contributors. \r\n\r\n[Here][2] is a good explenation of how it works with link to interesting Apache project. \r\n\r\n\r\n  [1]: https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\r\n  [2]: https://stackoverflow.com/a/23853079/3544513","title":"Keycloak add company logo to the reset password email","body":"<p><a href=\"https://github.com/keycloak/keycloak/blob/master/services/src/main/java/org/keycloak/email/DefaultEmailSenderProvider.java\" rel=\"nofollow noreferrer\"><code>DefaultEmailSenderProvider</code></a> class allows only for text and html content as <code>multipart/alternative</code>. This is not enough to have working well (in most mail clients) embedded image like logo or so. </p>\n\n<p>The html part should be wrapped together with image(s) by the <code>multipart/related</code> section. Therefore, some custom <code>EmailSenderProvider</code> seems to be needed. It should expose another param for inline imagies which one could be embeded in html section. The result should be a structure similar to this below.</p>\n\n<pre><code>- alternative\n-- text\n-- related\n--- html\n--- inline image \n--- inline image\n</code></pre>\n\n<p>As I have spent some time on research which haven't brought any result yet I plan to make a request to keycloak contributors. </p>\n\n<p><a href=\"https://stackoverflow.com/a/23853079/3544513\">Here</a> is a good explenation of how it works with link to interesting Apache project. </p>\n"},{"comments":[{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663588128,"post_id":73152168,"comment_id":130267633,"body_markdown":"If you print `&lt;p&gt;${url.resourcesPath}/img/&lt;/p&gt;` the result will be `/auth/resources/t1chj/email/myTheme/img/`.","body":"If you print <code>&lt;p&gt;${url.resourcesPath}&#47;img&#47;&lt;&#47;p&gt;</code> the result will be <code>&#47;auth&#47;resources&#47;t1chj&#47;email&#47;myTheme&#47;img&#47;</code>."},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":1,"creation_date":1663590792,"post_id":73152168,"comment_id":130268541,"body_markdown":"@KevinO. on my instance of keycloak v18 it is `resources/xxxx/email/mytheme`","body":"@KevinO. on my instance of keycloak v18 it is <code>resources&#47;xxxx&#47;email&#47;mytheme</code>"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663679795,"post_id":73152168,"comment_id":130292905,"body_markdown":"I use Keycloak `v19`, seems that they changed it.","body":"I use Keycloak <code>v19</code>, seems that they changed it."},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":1,"creation_date":1663682702,"post_id":73152168,"comment_id":130294222,"body_markdown":"@KevinO. Are you using `v19.x.x-legacy`? I remember when we switched from `-legacy` to the new distribution some changes in the URLs too","body":"@KevinO. Are you using <code>v19.x.x-legacy</code>? I remember when we switched from <code>-legacy</code> to the new distribution some changes in the URLs too"},{"owner":{"account_id":12991286,"reputation":420,"user_id":9390432,"display_name":"Kevin O."},"score":0,"creation_date":1663700622,"post_id":73152168,"comment_id":130300539,"body_markdown":"Yes, `v19.x.x-legacy`","body":"Yes, <code>v19.x.x-legacy</code>"},{"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"score":0,"creation_date":1663747318,"post_id":73152168,"comment_id":130309583,"body_markdown":"Okay, I will add this to the answer, I think that is what is causing the difference","body":"Okay, I will add this to the answer, I think that is what is causing the difference"}],"tags":[],"owner":{"account_id":12646061,"reputation":1376,"user_id":9191773,"display_name":"josias"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1663748365,"creation_date":1659007920,"answer_id":73152168,"question_id":57692616,"body_markdown":"As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.\r\n\r\nBut instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:\r\n\r\n```html\r\n&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\r\n```\r\n\r\nFor the above code to work, you need to have a file in the following directory of your theme:\r\n\r\n`mytheme/email/resources/img/MyCompany_Logo.png`\r\n\r\n&gt; Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template\r\n\r\n**Note:**\r\n\r\nI have implemented this on v18.x.x keycloak, not v18.x.x-**legacy**.\r\n\r\nWith the legacy versions I don&#39;t know if the same result is possible, because there are differences in the `url.resourcesUrl` path that is returned","title":"Keycloak add company logo to the reset password email","body":"<p>As @Ariel Carrera already mentioned, inline data uri src for images are not well-supported by clients such as gmail.</p>\n<p>But instead of uploading your images somewhere externally to use it in the template, you can include an image that comes directly from your template, like so:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${url.resourcesUrl}/img/MyCompany_Logo.png&quot; title=&quot;MyCompany&quot; alt=&quot;MyCompany Logo&quot;&gt;\n</code></pre>\n<p>For the above code to work, you need to have a file in the following directory of your theme:</p>\n<p><code>mytheme/email/resources/img/MyCompany_Logo.png</code></p>\n<blockquote>\n<p>Note: SVGs also have less support by email clients. I would recommend a PNG and not an SVG for your email template</p>\n</blockquote>\n<p><strong>Note:</strong></p>\n<p>I have implemented this on v18.x.x keycloak, not v18.x.x-<strong>legacy</strong>.</p>\n<p>With the legacy versions I don't know if the same result is possible, because there are differences in the <code>url.resourcesUrl</code> path that is returned</p>\n"},{"tags":[],"owner":{"account_id":9336247,"reputation":1,"user_id":6930339,"display_name":"Kulla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669972816,"creation_date":1669641737,"answer_id":74601237,"question_id":57692616,"body_markdown":"A simple way to get the logo url correct in keycloak&#39;s reset password email is to use the `link` variable together with freemarker&#39;s built-in `keep_before`,  effectively removing `path` section from reset password link and then adding `url.resourcesPath` variable plus the path to your logo saved in email theme: \r\n\r\n```html\r\n&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\r\n```\r\n\r\n\r\n\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>A simple way to get the logo url correct in keycloak's reset password email is to use the <code>link</code> variable together with freemarker's built-in <code>keep_before</code>,  effectively removing <code>path</code> section from reset password link and then adding <code>url.resourcesPath</code> variable plus the path to your logo saved in email theme:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;img src=&quot;${link?keep_before(&quot;/auth/realms/&quot;)}${url.resourcesPath}/images/logo.png&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3159209,"reputation":636,"user_id":2670847,"display_name":"GLinBoy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1683121516,"creation_date":1683121516,"answer_id":76164610,"question_id":57692616,"body_markdown":"Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.\r\n\r\n **1.** First step is adding our logo to our theme:\r\n\r\n    themes/{THEME_NAME}/email/resources/images/logo.png\r\n\r\n **2.** Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use **KC_HOSTNAME_URL** and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our **theme.properties** (create this file if it doesn&#39;t exist). I can split this step into two steps:  \r\n  **2.1.** Create the theme.properties in the email directory (if doesn&#39;t exist)  \r\n\r\n    /themes/{THEME_NAME}/email/theme.properties  \r\n  **2.2.** Add a variable to set env. variable to it\r\n\r\n    hostnameUrl=${env.KC_HOSTNAME_URL} \r\n\r\n **3.** Now, you can use this variable in the src of your logo image:\r\n\r\n    src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\r\n\r\n\r\nPS: Don&#39;t forget to set ***KC_HOSTNAME_URL*** (or any env. variable you defined for this purpose) while running your Keycloak.\r\n","title":"Keycloak add company logo to the reset password email","body":"<p>Here is my solution for the Keycloak 21.x, hope to help somebody to save more time.</p>\n<p><strong>1.</strong> First step is adding our logo to our theme:</p>\n<pre><code>themes/{THEME_NAME}/email/resources/images/logo.png\n</code></pre>\n<p><strong>2.</strong> Then we need to access our hostname in the Keycloak. I am using Keycloak on the K8s environment so it is easy for me. I can use <strong>KC_HOSTNAME_URL</strong> and move forward. Afterward, we need to access this variable in our theme. So we need to define a variable in our <strong>theme.properties</strong> (create this file if it doesn't exist). I can split this step into two steps:<br />\n<strong>2.1.</strong> Create the theme.properties in the email directory (if doesn't exist)</p>\n<pre><code>/themes/{THEME_NAME}/email/theme.properties  \n</code></pre>\n<p><strong>2.2.</strong> Add a variable to set env. variable to it</p>\n<pre><code>hostnameUrl=${env.KC_HOSTNAME_URL} \n</code></pre>\n<p><strong>3.</strong> Now, you can use this variable in the src of your logo image:</p>\n<pre><code>src=&quot;${properties.hostnameUrl!}${url.resourcesPath}/images/logo.png&quot;\n</code></pre>\n<p>PS: Don't forget to set <em><strong>KC_HOSTNAME_URL</strong></em> (or any env. variable you defined for this purpose) while running your Keycloak.</p>\n"},{"tags":[],"owner":{"account_id":5576691,"reputation":1878,"user_id":4419882,"display_name":"Patrick"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684160098,"creation_date":1684159786,"answer_id":76254968,"question_id":57692616,"body_markdown":"I was dealing with a similar problem on Keycloak version `19.0.3` when I was trying to access an image from the `resources/img` directory of my custom email theme.\r\n\r\nInside `template.ftl`:\r\n```\r\n...\r\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\r\n...\r\n```\r\ncaused a NPE because `url` was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.\r\n\r\nI&#39;m unsure why this is the case because I was simply following the [docs][1] for version `19.0.3.` which describe to use `${url.resourcesPath}`.\r\n\r\nThe only thing that resolved my issue was to upgrade Keycloak to version `20.0.0.` (I tested it with `21.1.1.` as well).\r\n\r\nHope this helps someone out as well.\r\n\r\n\r\n  [1]: https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme","title":"Keycloak add company logo to the reset password email","body":"<p>I was dealing with a similar problem on Keycloak version <code>19.0.3</code> when I was trying to access an image from the <code>resources/img</code> directory of my custom email theme.</p>\n<p>Inside <code>template.ftl</code>:</p>\n<pre><code>...\n&lt;img src=&quot;${url.resourcesUrl}/img/logo.png&quot;&gt;\n...\n</code></pre>\n<p>caused a NPE because <code>url</code> was &quot;null or missing&quot; when trying to send a test email or when triggering an email after to a certain Keycloak event.</p>\n<p>I'm unsure why this is the case because I was simply following the <a href=\"https://www.keycloak.org/docs/19.0.3/server_development/index.html#adding-an-image-to-a-theme\" rel=\"nofollow noreferrer\">docs</a> for version <code>19.0.3.</code> which describe to use <code>${url.resourcesPath}</code>.</p>\n<p>The only thing that resolved my issue was to upgrade Keycloak to version <code>20.0.0.</code> (I tested it with <code>21.1.1.</code> as well).</p>\n<p>Hope this helps someone out as well.</p>\n"}],"owner":{"account_id":13871758,"reputation":129,"user_id":10014655,"display_name":"javamat"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15441,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":6,"score":5,"last_activity_date":1684160098,"creation_date":1566995904,"question_id":57692616,"body_markdown":"I&#39;m trying to display the company logo in the reset password email. \r\nI&#39;ve already checked keycloak docs and found out it&#39;s not supported by them. I also tried encoding an image into base64 but Gmail doesn&#39;t support that. How can i do that?","title":"Keycloak add company logo to the reset password email","body":"<p>I'm trying to display the company logo in the reset password email. \nI've already checked keycloak docs and found out it's not supported by them. I also tried encoding an image into base64 but Gmail doesn't support that. How can i do that?</p>\n"},{"tags":["java","spring-boot","rest","model-view-controller"],"comments":[{"owner":{"account_id":3595426,"reputation":1163,"user_id":3000316,"accept_rate":33,"display_name":"Monkey Supersonic"},"score":0,"creation_date":1518772619,"post_id":48823378,"comment_id":84650234,"body_markdown":"Have you tried changing the method parameter to `Map&lt;String,Map&lt;String,String&gt;&gt;`?","body":"Have you tried changing the method parameter to <code>Map&lt;String,Map&lt;String,String&gt;&gt;</code>?"},{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1518772858,"post_id":48823378,"comment_id":84650360,"body_markdown":"Not helping @MonkeySupersonic","body":"Not helping @MonkeySupersonic"}],"answers":[{"comments":[{"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"score":0,"creation_date":1518775906,"post_id":48823525,"comment_id":84652273,"body_markdown":"OK it worked. But then i wanted to take an integer value along with that. say i want to send Map&lt;String,String&gt; and an Integer. So now its taking that integer as well in the map. Ex. `a=ab&amp;b=bc&amp;integerVal=10`  it takes all 3 in map. i want `a=ab` , `b=bc` and `integer value=10` separately.","body":"OK it worked. But then i wanted to take an integer value along with that. say i want to send Map&lt;String,String&gt; and an Integer. So now its taking that integer as well in the map. Ex. <code>a=ab&amp;b=bc&amp;integerVal=10</code>  it takes all 3 in map. i want <code>a=ab</code> , <code>b=bc</code> and <code>integer value=10</code> separately."},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1518777476,"post_id":48823525,"comment_id":84653293,"body_markdown":"There&#39;s nobody stopping you from adding another `@RequestParam` for the integer separately. But the `Map&lt;String, String&gt;` **always** contains **all** parameters. If you specifically don&#39;t want the `integerValue` to be in there as well, you&#39;ll have to remove it by yourself. Considering that it&#39;s a `Map`, that&#39;s easily done, using `params.remove(&quot;integerValue&quot;)`. However, if you&#39;re looking for a dynamic list of integer parameters as well, then you&#39;ll have to parse those numbers by yourself.","body":"There&#39;s nobody stopping you from adding another <code>@RequestParam</code> for the integer separately. But the <code>Map&lt;String, String&gt;</code> <b>always</b> contains <b>all</b> parameters. If you specifically don&#39;t want the <code>integerValue</code> to be in there as well, you&#39;ll have to remove it by yourself. Considering that it&#39;s a <code>Map</code>, that&#39;s easily done, using <code>params.remove(&quot;integerValue&quot;)</code>. However, if you&#39;re looking for a dynamic list of integer parameters as well, then you&#39;ll have to parse those numbers by yourself."}],"tags":[],"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1518772849,"creation_date":1518772849,"answer_id":48823525,"question_id":48823378,"body_markdown":"This is documented in the [Spring MVC guide][1]:\r\n\r\n&gt; When an `@RequestParam` annotation is declared as `Map&lt;String, String&gt;` or `MultiValueMap&lt;String, String&gt;` argument, the map is populated with all request parameters.\r\n\r\nThis means that the response you currently get is the expected result. The `Map` contains a list of all parameters, and in your case, you only have a single parameter called `param`.\r\n\r\nIf you need a custom parameter mapping, you&#39;ll have to implement it by yourself. Since you&#39;re not using JSON either, you probably have to manually parse the parameter.\r\n\r\nHowever, if your goal is to have a dynamic map of parameters, you can still use the `Map&lt;String, String&gt;`, but you&#39;ll have to change your request into:\r\n\r\n    http://localhost:8080/test?a=abc&amp;b=bcd\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>This is documented in the <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/web.html#mvc-ann-requestparam\" rel=\"noreferrer\">Spring MVC guide</a>:</p>\n\n<blockquote>\n  <p>When an <code>@RequestParam</code> annotation is declared as <code>Map&lt;String, String&gt;</code> or <code>MultiValueMap&lt;String, String&gt;</code> argument, the map is populated with all request parameters.</p>\n</blockquote>\n\n<p>This means that the response you currently get is the expected result. The <code>Map</code> contains a list of all parameters, and in your case, you only have a single parameter called <code>param</code>.</p>\n\n<p>If you need a custom parameter mapping, you'll have to implement it by yourself. Since you're not using JSON either, you probably have to manually parse the parameter.</p>\n\n<p>However, if your goal is to have a dynamic map of parameters, you can still use the <code>Map&lt;String, String&gt;</code>, but you'll have to change your request into:</p>\n\n<pre><code>http://localhost:8080/test?a=abc&amp;b=bcd\n</code></pre>\n"}],"owner":{"account_id":11296302,"reputation":2929,"user_id":8283737,"accept_rate":89,"display_name":"Arun Gowda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30162,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":48823525,"answer_count":1,"score":7,"last_activity_date":1684159966,"creation_date":1518772314,"question_id":48823378,"body_markdown":"Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.\r\n\r\nI tried the following,\r\nMy controller method looks like this.\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    \tpublic ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\r\n    \t\t\r\n    \t\tLOG.info(&quot;inside test with map  &quot;+  params );\r\n    \t\t\t\t\r\n    \t\treturn new ResponseEntity&lt;String&gt;(&quot;MAP&quot;, HttpStatus.OK);\r\n    \t}\r\n\r\nAnd i sent the following request from postman\r\n\r\n    http://localhost:8080/test?params={a:abc,b:bcd}\r\n\r\nEverything works without errors and exceptions. But the map which i received looks like `key=params , value={a:abc,b:bcd}`\r\n\r\nI expected the received map to be like `key1=&quot;a&quot; value1=abc ,key2=&quot;b&quot; value2=&quot;bcd&quot;`","title":"How to send map(key-value pair) as request parameter in a GET call","body":"<p>Is it possible to send map as parameter in a GET call.? i searched and i could find for list and set collection. But did not find anything for map collection.</p>\n\n<p>I tried the following,\nMy controller method looks like this.</p>\n\n<pre><code>@GetMapping(\"/test\")\n    public ResponseEntity&lt;?&gt; mapTest(@RequestParam Map&lt;String,String&gt; params) {\n\n        LOG.info(\"inside test with map  \"+  params );\n\n        return new ResponseEntity&lt;String&gt;(\"MAP\", HttpStatus.OK);\n    }\n</code></pre>\n\n<p>And i sent the following request from postman</p>\n\n<pre><code>http://localhost:8080/test?params={a:abc,b:bcd}\n</code></pre>\n\n<p>Everything works without errors and exceptions. But the map which i received looks like <code>key=params , value={a:abc,b:bcd}</code></p>\n\n<p>I expected the received map to be like <code>key1=\"a\" value1=abc ,key2=\"b\" value2=\"bcd\"</code></p>\n"},{"tags":["java","spring","redis"],"owner":{"account_id":17974901,"reputation":542,"user_id":13062745,"display_name":"zxcisnoias"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684159769,"creation_date":1684159769,"question_id":76254961,"body_markdown":"This is how I declare and inject:\r\n```\r\n    private final RedisTemplate redisTemplate;\r\n    @Autowired\r\n    public SomeController(RedisTemplate redisTemplate) {\r\n        this.redisTemplate = redisTemplate;\r\n    }\r\n```\r\n\r\nThis is how I use it:\r\n```\r\nredisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\r\n\r\n```\r\nWhere key is of type String, and dtoList is of type List&lt;SomeClass&gt;; &lt;br&gt;\r\nbut the ide complains that ```Unchecked call to &#39;set(K, V, long, TimeUnit)&#39; as a member of raw type &#39;org.springframework.data.redis.core.ValueOperations&#39; ``` when I set the value. &lt;br&gt;&lt;br&gt;\r\n\r\nif instead, ```private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;``` were used, the warning is gone,; But I don&#39;t want to specifically enforce the type because I might be setting values of different types later.\r\n","title":"Raw use of parameterized class &#39;RedisTemplate&#39; warning","body":"<p>This is how I declare and inject:</p>\n<pre><code>    private final RedisTemplate redisTemplate;\n    @Autowired\n    public SomeController(RedisTemplate redisTemplate) {\n        this.redisTemplate = redisTemplate;\n    }\n</code></pre>\n<p>This is how I use it:</p>\n<pre><code>redisTemplate.opsForValue().set(key, dtoList, 60, TimeUnit.MINUTES);\n\n</code></pre>\n<p>Where key is of type String, and dtoList is of type List; <br>\nbut the ide complains that <code>Unchecked call to 'set(K, V, long, TimeUnit)' as a member of raw type 'org.springframework.data.redis.core.ValueOperations' </code> when I set the value. <br><br></p>\n<p>if instead, <code>private final RedisTemplate&lt;String, List&lt;?&gt;&gt; redisTemplate;</code> were used, the warning is gone,; But I don't want to specifically enforce the type because I might be setting values of different types later.</p>\n"},{"tags":["java","mysql","sql-server","hibernate"],"comments":[{"owner":{"account_id":20264817,"reputation":56105,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1684156722,"post_id":76254475,"comment_id":134471364,"body_markdown":"`and user_id = :userId` is not correct syntax, you need `and user_id = @userId`","body":"<code>and user_id = :userId</code> is not correct syntax, you need <code>and user_id = @userId</code>"},{"owner":{"account_id":20798008,"reputation":181,"user_id":15274669,"display_name":"majixin"},"score":0,"creation_date":1684156839,"post_id":76254475,"comment_id":134471399,"body_markdown":"This question appears to be a duplicate of: https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9","body":"This question appears to be a duplicate of: <a href=\"https://stackoverflow.com/questions/8991866/org-hibernate-mappingexception-no-dialect-mapping-for-jdbc-type-9\" title=\"org hibernate mappingexception no dialect mapping for jdbc type 9\">stackoverflow.com/questions/8991866/&hellip;</a>"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157380,"post_id":76254475,"comment_id":134471532,"body_markdown":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs","body":"you probably set wrong hibernate settings, you have to use correct dialects for different dbs"},{"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"score":0,"creation_date":1684157675,"post_id":76254475,"comment_id":134471599,"body_markdown":"@siggemannen \nHere I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect","body":"@siggemannen  Here I am using the dialect for SQL Server, hibernate.connection.driver_class=com.microsoft.sqlserver.jd&zwnj;&#8203;bc.SQLServerDriver hibernate.dialect=org.hibernate.dialect.SQLServerDialect  For MySql I am using, hibernate.connection.driver_class=com.mysql.jdbc.Driver hibernate.dialect=org.hibernate.dialect.MySQLDialect"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684157845,"post_id":76254475,"comment_id":134471635,"body_markdown":"@purush, add this info to the question instead!","body":"@purush, add this info to the question instead!"},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1684160759,"post_id":76254475,"comment_id":134472390,"body_markdown":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct.","body":"i have a feeling you&#39;re doing something wrong, because if ppl had problems using hibernate with NVARCHARs, i&#39;m pretty sure it would be fixed quite quickly. Perhaps your settings aren&#39;t correct."}],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684159518,"creation_date":1684159518,"answer_id":76254922,"question_id":76254475,"body_markdown":"Look, you have not given anywhere near enough information to help: \r\n\r\n- Where is the code which calls this query? \r\n- Where are the mapped entities? \r\n\r\n_However_, note that `-9` is the JDBC type code for the SQL type `NVARCHAR`, as defined by `java.sql.Types`.\r\n\r\nNow, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings _very differently_ to MySQL. So it&#39;s completely unsurprising when things related to `NVARCHAR` columns behave a bit differently between the two databases.\r\n\r\nThings which affect this in Hibernate include:\r\n\r\n1. the `@Nationalized` annotation, and\r\n2. the setting `hibernate.use_nationalized_character_data`.\r\n\r\nBeyond that there&#39;s not much I can tell you because you have not told us very much.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>Look, you have not given anywhere near enough information to help:</p>\n<ul>\n<li>Where is the code which calls this query?</li>\n<li>Where are the mapped entities?</li>\n</ul>\n<p><em>However</em>, note that <code>-9</code> is the JDBC type code for the SQL type <code>NVARCHAR</code>, as defined by <code>java.sql.Types</code>.</p>\n<p>Now, SQL Server handles &quot;nationalized&quot; (i.e. Unicode) strings <em>very differently</em> to MySQL. So it's completely unsurprising when things related to <code>NVARCHAR</code> columns behave a bit differently between the two databases.</p>\n<p>Things which affect this in Hibernate include:</p>\n<ol>\n<li>the <code>@Nationalized</code> annotation, and</li>\n<li>the setting <code>hibernate.use_nationalized_character_data</code>.</li>\n</ol>\n<p>Beyond that there's not much I can tell you because you have not told us very much.</p>\n"}],"owner":{"account_id":1089097,"reputation":359,"user_id":1084147,"display_name":"purush"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684159518,"creation_date":1684156570,"question_id":76254475,"body_markdown":"I have the following query,  and executing through hibernate.\r\n\r\n```\r\nString userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\r\n\t\t\t\t\t\t+ &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\r\n\t\t\t\t\t\t+ &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like &#39;%Report&#39;) )&quot;\r\n\t\t\t\t\t\t+ &quot; and user_id = :userId&quot;;\t\r\n```\r\n\r\nWhen I have connected to SQL Server, getting below error,\r\n\r\n```\r\norg.hibernate.MappingException: No Dialect mapping for JDBC type: -9\r\n```\r\n\r\nWhen I have connected to MySql, it working fine without any error.\r\n\r\n```\r\nHere I am using the dialect for SQL Server,\r\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\r\n\r\nFor MySql I am using,\r\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\r\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n```\r\n\r\nAny help/suggestions.","title":"Query in SQL Server giving error while running the same query with MySql working fine","body":"<p>I have the following query,  and executing through hibernate.</p>\n<pre><code>String userIdQueryString = &quot;select distinct user_id from l_catalog_user_object_access  where REPORT_HEADER_ID in (&quot;\n                        + &quot; select REPORT_HEADER_ID from l_report_header_data &quot;\n                        + &quot; where report_types_id in (select REPORT_TYPES_ID from l_report_types where display_value like '%Report') )&quot;\n                        + &quot; and user_id = :userId&quot;; \n</code></pre>\n<p>When I have connected to SQL Server, getting below error,</p>\n<pre><code>org.hibernate.MappingException: No Dialect mapping for JDBC type: -9\n</code></pre>\n<p>When I have connected to MySql, it working fine without any error.</p>\n<pre><code>Here I am using the dialect for SQL Server,\nhibernate.connection.driver_class=com.microsoft.sqlserver.jdbc.SQLServerDriver\nhibernate.dialect=org.hibernate.dialect.SQLServerDialect\n\nFor MySql I am using,\nhibernate.connection.driver_class=com.mysql.jdbc.Driver\nhibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>Any help/suggestions.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":8181388,"reputation":2251,"user_id":6158454,"display_name":"Patrick Mcvay"},"score":0,"creation_date":1683565675,"post_id":76199917,"comment_id":134382745,"body_markdown":"Do you have any control over the format that is returned from the API?","body":"Do you have any control over the format that is returned from the API?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1683586500,"post_id":76199917,"comment_id":134386590,"body_markdown":"Try looking at [Parse a nested JSON using gson](https://stackoverflow.com/q/8233542/16653700).","body":"Try looking at <a href=\"https://stackoverflow.com/q/8233542/16653700\">Parse a nested JSON using gson</a>."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076108,"post_id":76199917,"comment_id":134460525,"body_markdown":"Does this answer your question? [Jsonpath with Jackson or Gson](https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/34111276/jsonpath-with-jackson-or-gson\">Jsonpath with Jackson or Gson</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1684076250,"post_id":76199917,"comment_id":134460538,"body_markdown":"If you want to use your approach of having model classes, you can probably change the type of `results` to `Map&lt;String, List&lt;ZipcodeResult&gt;&gt;`, where the map keys are the ZIP codes, such as `&quot;94016&quot;`","body":"If you want to use your approach of having model classes, you can probably change the type of <code>results</code> to <code>Map&lt;String, List&lt;ZipcodeResult&gt;&gt;</code>, where the map keys are the ZIP codes, such as <code>&quot;94016&quot;</code>"}],"owner":{"account_id":11865637,"reputation":33,"user_id":8683235,"display_name":"Wes Graham"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158978,"creation_date":1683543696,"question_id":76199917,"body_markdown":"I have some JSON text from an API that will always come in this format.\r\n```json\r\n{\r\n    &quot;query&quot;: {\r\n        &quot;codes&quot;: [\r\n            &quot;94016&quot;\r\n        ],\r\n        &quot;country&quot;: &quot;US&quot;\r\n    },\r\n    &quot;results&quot;: {\r\n        &quot;94016&quot;: [\r\n            {\r\n                &quot;postal_code&quot;: &quot;94016&quot;,\r\n                &quot;country_code&quot;: &quot;US&quot;,\r\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\r\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\r\n                &quot;city&quot;: &quot;Daly City&quot;,\r\n                &quot;state&quot;: &quot;California&quot;,\r\n                &quot;city_en&quot;: &quot;Daly City&quot;,\r\n                &quot;state_en&quot;: &quot;California&quot;,\r\n                &quot;state_code&quot;: &quot;CA&quot;,\r\n                &quot;province&quot;: &quot;San Mateo&quot;,\r\n                &quot;province_code&quot;: &quot;081&quot;\r\n            }\r\n        ]\r\n    }\r\n}\r\n```\r\nThe above code block shows the output for using 94016 as a zip code. I&#39;m only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.\r\n\r\nI created 2 classes for using Gson later in my project with the following code:\r\n\r\n```java\r\npublic class ZipcodeResponse {\r\n    ZipcodeResult[] results;\r\n}\r\n    \r\n```\r\n\r\n```java\r\npublic class ZipcodeResult {\r\n    String[] ???;\r\n}\r\n```\r\nMy first problem is that I&#39;m not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there&#39;s a way I can skip over this value and only get the city, then that would be awesome.","title":"Is there a way to access nested values stored in JSON using Gson?","body":"<p>I have some JSON text from an API that will always come in this format.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;query&quot;: {\n        &quot;codes&quot;: [\n            &quot;94016&quot;\n        ],\n        &quot;country&quot;: &quot;US&quot;\n    },\n    &quot;results&quot;: {\n        &quot;94016&quot;: [\n            {\n                &quot;postal_code&quot;: &quot;94016&quot;,\n                &quot;country_code&quot;: &quot;US&quot;,\n                &quot;latitude&quot;: &quot;37.70580000&quot;,\n                &quot;longitude&quot;: &quot;-122.46190000&quot;,\n                &quot;city&quot;: &quot;Daly City&quot;,\n                &quot;state&quot;: &quot;California&quot;,\n                &quot;city_en&quot;: &quot;Daly City&quot;,\n                &quot;state_en&quot;: &quot;California&quot;,\n                &quot;state_code&quot;: &quot;CA&quot;,\n                &quot;province&quot;: &quot;San Mateo&quot;,\n                &quot;province_code&quot;: &quot;081&quot;\n            }\n        ]\n    }\n}\n</code></pre>\n<p>The above code block shows the output for using 94016 as a zip code. I'm only concerned with the city key and the value associated with it. For this example, the only text I want to return is &quot;Daly City&quot; without the quotes.</p>\n<p>I created 2 classes for using Gson later in my project with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResponse {\n    ZipcodeResult[] results;\n}\n    \n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class ZipcodeResult {\n    String[] ???;\n}\n</code></pre>\n<p>My first problem is that I'm not sure what to call my string array (presumably I would name it whatever zip code is searched), since the zipcode will be different each time and the value for it is stored in another class while the program executes. If there's a way I can skip over this value and only get the city, then that would be awesome.</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":6634565,"reputation":617,"user_id":5122077,"accept_rate":56,"display_name":"JavaLearner1"},"score":0,"creation_date":1684159439,"post_id":76254830,"comment_id":134472053,"body_markdown":"can you try with @Qualifier annotation along with Autowired, \n     Qualifier(TypeB.class)\n     List&lt;IValue&lt;TypeB&gt;&gt; values;","body":"can you try with @Qualifier annotation along with Autowired,       Qualifier(TypeB.class)      List&lt;IValue&lt;TypeB&gt;&gt; values;"},{"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"score":0,"creation_date":1684159731,"post_id":76254830,"comment_id":134472135,"body_markdown":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that.","body":"In truth my actual problem has multiple generic types, I&#39;m not sure how to qualify that."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1684163691,"post_id":76254830,"comment_id":134473159,"body_markdown":"A guess, but how about `List&lt;? extends IValue&lt;TypeB&gt;&gt;`?","body":"A guess, but how about <code>List&lt;? extends IValue&lt;TypeB&gt;&gt;</code>?"}],"owner":{"account_id":23417359,"reputation":25,"user_id":17478118,"display_name":"JavaStudent"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158839,"creation_date":1684158839,"question_id":76254830,"body_markdown":"Suppose I have an interface\r\n\r\n```\r\npublic interface IType {}\r\npublic class TypeA implements IType {}\r\npublic class TypeB implements IType {}\r\n```\r\n\r\nAnd another interface of which the above interface is a generic type\r\n\r\n```\r\npublic interface IValue&lt;T extends IType&gt; {}\r\n\r\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\r\n```\r\n\r\nAnd finally a class which uses these\r\n\r\n```\r\n@Component\r\npublic class DoThings\r\n{\r\n    @Autowired\r\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\r\n}\r\n```\r\n\r\nSpring throws a `NoSuchBeanDefinitionException` and doesn&#39;t seem to be finding the beans. What have I missed?","title":"Autowiring a list of Java generic classes","body":"<p>Suppose I have an interface</p>\n<pre><code>public interface IType {}\npublic class TypeA implements IType {}\npublic class TypeB implements IType {}\n</code></pre>\n<p>And another interface of which the above interface is a generic type</p>\n<pre><code>public interface IValue&lt;T extends IType&gt; {}\n\n@Component public class ValueA&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n@Component public class ValueB&lt;T extends IType&gt; implements IValue&lt;T&gt; {}\n</code></pre>\n<p>And finally a class which uses these</p>\n<pre><code>@Component\npublic class DoThings\n{\n    @Autowired\n    List&lt;IValue&lt;TypeB&gt;&gt; values;\n}\n</code></pre>\n<p>Spring throws a <code>NoSuchBeanDefinitionException</code> and doesn't seem to be finding the beans. What have I missed?</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-data-jpa"],"owner":{"account_id":28604849,"reputation":1,"user_id":21901006,"display_name":"Aone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158809,"creation_date":1684158809,"question_id":76254826,"body_markdown":"I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager&#39;s manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).\r\n\r\nEmployee class\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;EMPLOYEE&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @Column(name = &quot;ID&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\r\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\r\n    })\r\n    private FullName fullName;\r\n    @Enumerated(EnumType.STRING)\r\n    @Column(name=&quot;POSITION&quot;)\r\n    private Position position;\r\n    @Column(name=&quot;HIREDATE&quot;)\r\n    private LocalDate hired;\r\n    @Column(name=&quot;SALARY&quot;)\r\n    private BigDecimal salary;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;manager&quot;)\r\n    private Employee manager;\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;department&quot;)\r\n    private Department department;\r\n```\r\nSQL schema\r\n\r\n```\r\nCREATE TABLE DEPARTMENT\r\n(\r\n    ID       INTEGER PRIMARY KEY,\r\n    NAME     VARCHAR(14),\r\n    LOCATION VARCHAR(13)\r\n);\r\nCREATE TABLE EMPLOYEE\r\n(\r\n    ID         INTEGER PRIMARY KEY,\r\n    FIRSTNAME  VARCHAR(10),\r\n    LASTNAME   VARCHAR(10),\r\n    MIDDLENAME VARCHAR(10),\r\n    POSITION   VARCHAR(9),\r\n    MANAGER    INTEGER,\r\n    HIREDATE   DATE,\r\n    SALARY     DOUBLE,\r\n    DEPARTMENT INTEGER,\r\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\r\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\r\n);\r\nCOMMIT;\r\n```\r\nImplemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee&#39;s manager does not have a manager.\r\nOutput example\r\n\r\n```\r\n{\r\n  &quot;id&quot;: 7698,\r\n  &quot;fullName&quot;: {\r\n    &quot;firstName&quot;: &quot;JOHN&quot;,\r\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\r\n    &quot;middleName&quot;: &quot;MARIA&quot;\r\n  },\r\n  &quot;position&quot;: &quot;MANAGER&quot;,\r\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\r\n  &quot;salary&quot;: 2850.00000,\r\n  &quot;manager&quot;: {\r\n    &quot;id&quot;: 7839,\r\n    &quot;fullName&quot;: {\r\n      &quot;firstName&quot;: &quot;JOHN&quot;,\r\n      &quot;lastName&quot;: &quot;KING&quot;,\r\n      &quot;middleName&quot;: &quot;MARIA&quot;\r\n    },\r\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\r\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\r\n    &quot;salary&quot;: 5000.00000,\r\n    &quot;manager&quot;: null,\r\n    &quot;department&quot;: null\r\n  },\r\n  &quot;department&quot;: {\r\n    &quot;id&quot;: 30,\r\n    &quot;fullName&quot;: &quot;SALES&quot;,\r\n    &quot;position&quot;: &quot;CHICAGO&quot;\r\n  }\r\n}\r\n```\r\n","title":"Spring Data JPA. How to stop a recursive query?","body":"<p>I have a task. Create a web application similar to a REST employee directory stored in an embedded database. Each employee record should include information of his department and his manager. Manager's manager should be usually null.If parameter named full_chain exists and is set to true then full manager chain should be written (include employee`s manager, manager of manager, manager of manager of manager and so on up to the organization head).</p>\n<p>Employee class</p>\n<pre><code>@Entity\n@Table(name = &quot;EMPLOYEE&quot;)\npublic class Employee {\n    @Id\n    @Column(name = &quot;ID&quot;)\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride( name = &quot;firstName&quot;, column = @Column(name = &quot;FIRSTNAME&quot;)),\n            @AttributeOverride( name = &quot;lastName&quot;, column = @Column(name = &quot;LASTNAME&quot;)),\n            @AttributeOverride( name = &quot;middleName&quot;, column = @Column(name = &quot;MIDDLENAME&quot;))\n    })\n    private FullName fullName;\n    @Enumerated(EnumType.STRING)\n    @Column(name=&quot;POSITION&quot;)\n    private Position position;\n    @Column(name=&quot;HIREDATE&quot;)\n    private LocalDate hired;\n    @Column(name=&quot;SALARY&quot;)\n    private BigDecimal salary;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;manager&quot;)\n    private Employee manager;\n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;department&quot;)\n    private Department department;\n</code></pre>\n<p>SQL schema</p>\n<pre><code>CREATE TABLE DEPARTMENT\n(\n    ID       INTEGER PRIMARY KEY,\n    NAME     VARCHAR(14),\n    LOCATION VARCHAR(13)\n);\nCREATE TABLE EMPLOYEE\n(\n    ID         INTEGER PRIMARY KEY,\n    FIRSTNAME  VARCHAR(10),\n    LASTNAME   VARCHAR(10),\n    MIDDLENAME VARCHAR(10),\n    POSITION   VARCHAR(9),\n    MANAGER    INTEGER,\n    HIREDATE   DATE,\n    SALARY     DOUBLE,\n    DEPARTMENT INTEGER,\n    CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPARTMENT) REFERENCES DEPARTMENT (ID),\n    CONSTRAINT FK_EMPNO FOREIGN KEY (MANAGER) REFERENCES EMPLOYEE (ID)\n);\nCOMMIT;\n</code></pre>\n<p>Implemented via PagingAndSortingRepository. Now Employees are displayed with full_chain parameters. How do I set up the class config so that the Employee's manager does not have a manager.\nOutput example</p>\n<pre><code>{\n  &quot;id&quot;: 7698,\n  &quot;fullName&quot;: {\n    &quot;firstName&quot;: &quot;JOHN&quot;,\n    &quot;lastName&quot;: &quot;BLAKE&quot;,\n    &quot;middleName&quot;: &quot;MARIA&quot;\n  },\n  &quot;position&quot;: &quot;MANAGER&quot;,\n  &quot;hired&quot;: &quot;1981-05-01&quot;,\n  &quot;salary&quot;: 2850.00000,\n  &quot;manager&quot;: {\n    &quot;id&quot;: 7839,\n    &quot;fullName&quot;: {\n      &quot;firstName&quot;: &quot;JOHN&quot;,\n      &quot;lastName&quot;: &quot;KING&quot;,\n      &quot;middleName&quot;: &quot;MARIA&quot;\n    },\n    &quot;position&quot;: &quot;PRESIDENT&quot;,\n    &quot;hired&quot;: &quot;1981-11-17&quot;,\n    &quot;salary&quot;: 5000.00000,\n    &quot;manager&quot;: null,\n    &quot;department&quot;: null\n  },\n  &quot;department&quot;: {\n    &quot;id&quot;: 30,\n    &quot;fullName&quot;: &quot;SALES&quot;,\n    &quot;position&quot;: &quot;CHICAGO&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","kotlin","exception","ktor","ktor-client"],"comments":[{"owner":{"account_id":1675086,"reputation":33930,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1684164955,"post_id":76254805,"comment_id":134473538,"body_markdown":"What problem are you facing if you just don&#39;t do anything?","body":"What problem are you facing if you just don&#39;t do anything?"},{"owner":{"account_id":19118793,"reputation":5178,"user_id":13963150,"display_name":"Aleksei Tirman"},"score":0,"creation_date":1684398702,"post_id":76254805,"comment_id":134513113,"body_markdown":"I think the solution with wrapping into the `RuntimeException` is fine as long as you can access an original exception.","body":"I think the solution with wrapping into the <code>RuntimeException</code> is fine as long as you can access an original exception."}],"owner":{"account_id":9702664,"reputation":705,"user_id":7197120,"display_name":"chriptus13"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684158637,"creation_date":1684158637,"question_id":76254805,"body_markdown":"I&#39;m currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services. \r\n\r\nThe thing is I&#39;m calling this library from Java and I know Ktor calls (eg.: `httpClient.post(...)`) may throw some exceptions that are checked in Java. \r\n\r\nThe easy approach is to annotate all my functions with [`@Throws`](https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/) and specify which checked exceptions the function may throw (where [Kotlin does not care about checked exceptions](https://kotlinlang.org/docs/exceptions.html#checked-exceptions)).\r\n\r\nInstead of this I wanted to understand if it would make sense to use a response exception handler ([ref](https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819)) and wrap all checked exceptions into `RuntimeException`s.\r\n\r\nSomething like the following:\r\n\r\n```kotlin\r\nval httpClient = HttpClient {\r\n    install(HttpCallValidator) {\r\n        handleResponseExceptionWithRequest { ex, _ -&gt;\r\n            if(ex !is RuntimeException) throw RuntimeException(ex)\r\n        }\r\n    }\r\n}\r\n```","title":"Calling Ktor client from java - checked exceptions","body":"<p>I'm currently developing/using a library which uses Ktor HTTP client to expose common functions for calling other services.</p>\n<p>The thing is I'm calling this library from Java and I know Ktor calls (eg.: <code>httpClient.post(...)</code>) may throw some exceptions that are checked in Java.</p>\n<p>The easy approach is to annotate all my functions with <a href=\"https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.jvm/-throws/\" rel=\"nofollow noreferrer\"><code>@Throws</code></a> and specify which checked exceptions the function may throw (where <a href=\"https://kotlinlang.org/docs/exceptions.html#checked-exceptions\" rel=\"nofollow noreferrer\">Kotlin does not care about checked exceptions</a>).</p>\n<p>Instead of this I wanted to understand if it would make sense to use a response exception handler (<a href=\"https://api.ktor.io/ktor-client/ktor-client-core/io.ktor.client.plugins/-http-call-validator/-config/index.html#1007054276%2FFunctions%2F-1897681819\" rel=\"nofollow noreferrer\">ref</a>) and wrap all checked exceptions into <code>RuntimeException</code>s.</p>\n<p>Something like the following:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val httpClient = HttpClient {\n    install(HttpCallValidator) {\n        handleResponseExceptionWithRequest { ex, _ -&gt;\n            if(ex !is RuntimeException) throw RuntimeException(ex)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3449881,"reputation":3520,"user_id":2889760,"display_name":"Gavin King"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684158522,"creation_date":1684157734,"answer_id":76254650,"question_id":76253700,"body_markdown":"The correct query would be:\r\n\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND ROLE_CONSUMER member of m.roles\r\n```\r\n\r\nBut due to a bug in the query translator this does not work in the current release.\r\n\r\nThe workaround solution is:\r\n\r\n```hql\r\nSELECT m\r\nFROM Member m\r\nWHERE m.disabledOn IS NULL\r\n  AND &#39;ROLE_CONSUMER&#39; member of m.roles\r\n```\r\n\r\n### UPDATE\r\n\r\nIssue is here: &lt;https://hibernate.atlassian.net/browse/HHH-16604&gt;\r\n\r\nI already have a partial fix here: https://github.com/hibernate/hibernate-orm/pull/6573","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>The correct query would be:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND ROLE_CONSUMER member of m.roles\n</code></pre>\n<p>But due to a bug in the query translator this does not work in the current release.</p>\n<p>The workaround solution is:</p>\n<pre><code>SELECT m\nFROM Member m\nWHERE m.disabledOn IS NULL\n  AND 'ROLE_CONSUMER' member of m.roles\n</code></pre>\n<h3>UPDATE</h3>\n<p>Issue is here: <a href=\"https://hibernate.atlassian.net/browse/HHH-16604\" rel=\"nofollow noreferrer\">https://hibernate.atlassian.net/browse/HHH-16604</a></p>\n<p>I already have a partial fix here: <a href=\"https://github.com/hibernate/hibernate-orm/pull/6573\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/pull/6573</a></p>\n"}],"owner":{"account_id":81885,"reputation":487,"user_id":230638,"accept_rate":82,"display_name":"Jasper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76254650,"answer_count":1,"score":0,"last_activity_date":1684158522,"creation_date":1684150915,"question_id":76253700,"body_markdown":"I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\r\nGiven an entity with this attribute:\r\n\r\n```\r\n    @JsonIgnore\r\n    @ElementCollection(fetch = EAGER)\r\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\r\n    @Column(name = &quot;AUTHORITY&quot;)\r\n    @Enumerated(STRING)\r\n    private Set&lt;MemberRoleType&gt; roles;\r\n```\r\n\r\nWhen this query is executed:\r\n\r\n```\r\n    @Query(&quot;&quot;&quot;\r\n        SELECT m\r\n        FROM Member m\r\n        WHERE m.disabledOn IS NULL\r\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \r\n        &quot;&quot;&quot;)\r\n    Set&lt;Member&gt; findActiveMembers();\r\n```\r\n\r\nThen this exception occurs, that google doesn&#39;t know about:\r\n\r\n```\r\n2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)] with root cause\r\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader &#39;app&#39;)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\r\n\tat org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\r\n\tat org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\r\n\tat org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\r\n\tat org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\r\n\tat org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\r\n\tat org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\r\n\tat org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\r\n\tat org.hibernate.query.Query.getResultList(Query.java:94)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\r\n\tat org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\r\n\tat org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\r\n\tat jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\r\n\tat eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\r\n```\r\n\r\nI already tried variations like this, but didn&#39;t help.\r\n\r\n```\r\neu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\r\n```\r\n\r\nWhat can be wrong?","title":"Set&lt;Enum&gt; attribute in JPQL query returns exception at runtime","body":"<p>I migrated an application from Spring Boot 2 to Spring Boot 3. It worked before, but now I have a problem.\nGiven an entity with this attribute:</p>\n<pre><code>    @JsonIgnore\n    @ElementCollection(fetch = EAGER)\n    @CollectionTable(name = &quot;MEMBER_ROLES&quot;, joinColumns = @JoinColumn(name = &quot;MEMBER_ID&quot;))\n    @Column(name = &quot;AUTHORITY&quot;)\n    @Enumerated(STRING)\n    private Set&lt;MemberRoleType&gt; roles;\n</code></pre>\n<p>When this query is executed:</p>\n<pre><code>    @Query(&quot;&quot;&quot;\n        SELECT m\n        FROM Member m\n        WHERE m.disabledOn IS NULL\n            AND m.roles = eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER \n        &quot;&quot;&quot;)\n    Set&lt;Member&gt; findActiveMembers();\n</code></pre>\n<p>Then this exception occurs, that google doesn't know about:</p>\n<pre><code>2023-05-15 13:31:59,109 ERROR [http-nio-8888-exec-1] [] o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')] with root cause\njava.lang.ClassCastException: class org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl cannot be cast to class org.hibernate.metamodel.mapping.BasicValuedMapping (org.hibernate.metamodel.mapping.internal.PluralAttributeMappingImpl and org.hibernate.metamodel.mapping.BasicValuedMapping are in unnamed module of loader 'app')\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitEnumLiteral(BaseSqmToSqlAstConverter.java:6290)\n    at org.hibernate.query.sqm.tree.expression.SqmEnumLiteral.accept(SqmEnumLiteral.java:150)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:6557)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitComparisonPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmComparisonPredicate.accept(SqmComparisonPredicate.java:104)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:6364)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitJunctionPredicate(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.predicate.SqmJunctionPredicate.accept(SqmJunctionPredicate.java:74)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitWhereClause(BaseSqmToSqlAstConverter.java:2276)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:1823)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQuerySpec(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmQuerySpec.accept(SqmQuerySpec.java:122)\n    at org.hibernate.query.sqm.spi.BaseSemanticQueryWalker.visitQueryPart(BaseSemanticQueryWalker.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitQueryPart(BaseSqmToSqlAstConverter.java:1679)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:1477)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.visitSelectStatement(BaseSqmToSqlAstConverter.java:416)\n    at org.hibernate.query.sqm.tree.select.SqmSelectStatement.accept(SqmSelectStatement.java:213)\n    at org.hibernate.query.sqm.sql.BaseSqmToSqlAstConverter.translate(BaseSqmToSqlAstConverter.java:711)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.buildCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:380)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.withCacheableSqmInterpretation(ConcreteSqmSelectQueryPlan.java:300)\n    at org.hibernate.query.sqm.internal.ConcreteSqmSelectQueryPlan.performList(ConcreteSqmSelectQueryPlan.java:276)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.doList(QuerySqmImpl.java:571)\n    at org.hibernate.query.spi.AbstractSelectionQuery.list(AbstractSelectionQuery.java:363)\n    at org.hibernate.query.sqm.internal.QuerySqmImpl.list(QuerySqmImpl.java:1073)\n    at org.hibernate.query.Query.getResultList(Query.java:94)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution$CollectionExecution.doExecute(JpaQueryExecution.java:127)\n    at org.springframework.data.jpa.repository.query.JpaQueryExecution.execute(JpaQueryExecution.java:90)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.doExecute(AbstractJpaQuery.java:148)\n    at org.springframework.data.jpa.repository.query.AbstractJpaQuery.execute(AbstractJpaQuery.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:390)\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:134)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218)\n    at jdk.proxy3/jdk.proxy3.$Proxy202.findActiveMembers(Unknown Source)\n    at eu.company.backend.service.LoyaltyService.recalculateLoyaltyPointsAndTiers(LoyaltyService.java:97)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n\n</code></pre>\n<p>I already tried variations like this, but didn't help.</p>\n<pre><code>eu.company.backend.model.domain.enumeration.MemberRoleType.ROLE_CONSUMER MEMBER OF m.roles\n</code></pre>\n<p>What can be wrong?</p>\n"},{"tags":["java","maven","selenium-webdriver","github-actions","allure"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1684152362,"post_id":76253565,"comment_id":134470311,"body_markdown":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.\n\nAt least this is how it is done when using our self-hosted runners, but it is worth a try.","body":"Just a suggestion but from my experience, usually it requires that you create the folder allure-results and chmod it as well in a step prior to writting to it.  At least this is how it is done when using our self-hosted runners, but it is worth a try."},{"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"score":0,"creation_date":1684152897,"post_id":76253565,"comment_id":134470450,"body_markdown":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands.","body":"@JCompetence - Can you please share some reference how to do that? As I am not much good on yml and linux commands."}],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684157964,"creation_date":1684157964,"answer_id":76254695,"question_id":76253565,"body_markdown":"Try to add the step:\r\n\r\n **- name: Update allure-results folder permissions**\r\n\r\nas shown below.\r\n\r\n\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v3\r\n    - name: Set up JDK 11\r\n      uses: actions/setup-java@v3\r\n      with:\r\n        java-version: &#39;11&#39;\r\n        distribution: &#39;temurin&#39;\r\n        cache: maven\r\n    - name: Install Google Chrome #Using shell script to install Google Chrome\r\n      run:   |\r\n              chmod +x ./scripts/InstallChrome.sh\r\n                          ./scripts/InstallChrome.sh\r\n                          \r\n    - name: Build with Maven\r\n      run: mvn test -P placeOrder_stage -Denv=stage\r\n\r\n\r\n\r\n\r\n\r\n    - name: Update allure-results folder permissions\r\n      run: |\r\n             mkdir -p allure-results/Reports/\r\n             chmod 777 -R allure-results/Reports/\r\n                \r\n\r\n\r\n\r\n\r\n\r\n    - name: Test marketplace action\r\n      uses: simple-elf/allure-report-action@master\r\n      if: always()\r\n      id: allure-report\r\n      with:\r\n        allure_results: allure-results/Reports/*\r\n        gh_pages: gh-pages\r\n        allure_report: allure-report\r\n        allure_history: allure-history\r\n\r\n\r\n    - name: Deploy report to Github Pages\r\n      if: always()\r\n      uses: peaceiris/actions-gh-pages@v2\r\n      env:\r\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n        PUBLISH_BRANCH: gh-pages\r\n        PUBLISH_DIR: allure-history","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>Try to add the step:</p>\n<p><strong>- name: Update allure-results folder permissions</strong></p>\n<p>as shown below.</p>\n<p>jobs:\nbuild:</p>\n<pre><code>runs-on: ubuntu-latest\n\nsteps:\n- uses: actions/checkout@v3\n- name: Set up JDK 11\n  uses: actions/setup-java@v3\n  with:\n    java-version: '11'\n    distribution: 'temurin'\n    cache: maven\n- name: Install Google Chrome #Using shell script to install Google Chrome\n  run:   |\n          chmod +x ./scripts/InstallChrome.sh\n                      ./scripts/InstallChrome.sh\n                      \n- name: Build with Maven\n  run: mvn test -P placeOrder_stage -Denv=stage\n\n\n\n\n\n- name: Update allure-results folder permissions\n  run: |\n         mkdir -p allure-results/Reports/\n         chmod 777 -R allure-results/Reports/\n            \n\n\n\n\n\n- name: Test marketplace action\n  uses: simple-elf/allure-report-action@master\n  if: always()\n  id: allure-report\n  with:\n    allure_results: allure-results/Reports/*\n    gh_pages: gh-pages\n    allure_report: allure-report\n    allure_history: allure-history\n\n\n- name: Deploy report to Github Pages\n  if: always()\n  uses: peaceiris/actions-gh-pages@v2\n  env:\n    PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n    PUBLISH_BRANCH: gh-pages\n    PUBLISH_DIR: allure-history\n</code></pre>\n"}],"owner":{"account_id":5276537,"reputation":5302,"user_id":4213132,"accept_rate":86,"display_name":"Helping Hands"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684157964,"creation_date":1684149808,"question_id":76253565,"body_markdown":"I am having project where it is using following : \r\n\r\n1. Java - 11\r\n2. Maven\r\n3. TestNG\r\n4. Selenium Webdriver\r\n5. Allure Report\r\n\r\nEverything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.\r\n\r\nError is : \r\n\r\n     io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\r\n    Error:  \tat io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\r\n    Error:  \tat io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\r\n    Error:  \tat org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\r\n    Error:  \tat org.testng.SuiteRunner.run(SuiteRunner.java:332)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    Error:  \tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\r\n    Error:  \tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\r\n    Error:  \tat org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\r\n    Error:  \tat org.testng.TestNG.runSuites(TestNG.java:1099)\r\n    Error:  \tat org.testng.TestNG.run(TestNG.java:1067)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\r\n    Error:  \tat org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\r\n    Error:  \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\r\n    Error:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open0(Native Method)\r\n    Error:  \tat java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\r\n    Error:  \tat java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\r\n    Error:  \tat com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\r\n    Error:  \tat com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\r\n    Error:  \tat com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\r\n    Error:  \tat io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\r\n    Error:  \t... 16 more \r\n\r\n\r\nBelow is my Github YML file : \r\n\r\n    # This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\r\n    # For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\r\n    \r\n    # This workflow uses actions that are not certified by GitHub.\r\n    # They are provided by a third-party and are governed by\r\n    # separate terms of service, privacy policy, and support\r\n    # documentation.\r\n    \r\n    name: Stage - Automation\r\n    \r\n    on:\r\n      push:\r\n        branches: [ &quot;main&quot; ]\r\n      pull_request:\r\n        branches: [ &quot;main&quot; ]\r\n    \r\n    jobs:\r\n      build:\r\n    \r\n        runs-on: ubuntu-latest\r\n    \r\n        steps:\r\n        - uses: actions/checkout@v3\r\n        - name: Set up JDK 11\r\n          uses: actions/setup-java@v3\r\n          with:\r\n            java-version: &#39;11&#39;\r\n            distribution: &#39;temurin&#39;\r\n            cache: maven\r\n        - name: Install Google Chrome #Using shell script to install Google Chrome\r\n          run:   |\r\n                  chmod +x ./scripts/InstallChrome.sh\r\n                              ./scripts/InstallChrome.sh\r\n                              \r\n        - name: Build with Maven\r\n          run: mvn test -P placeOrder_stage -Denv=stage\r\n    \r\n    \r\n        - name: Test marketplace action\r\n          uses: simple-elf/allure-report-action@master\r\n          if: always()\r\n          id: allure-report\r\n          with:\r\n            allure_results: allure-results/Reports/*\r\n            gh_pages: gh-pages\r\n            allure_report: allure-report\r\n            allure_history: allure-history\r\n    \r\n    \r\n        - name: Deploy report to Github Pages\r\n          if: always()\r\n          uses: peaceiris/actions-gh-pages@v2\r\n          env:\r\n            PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\r\n            PUBLISH_BRANCH: gh-pages\r\n            PUBLISH_DIR: allure-history\r\n\r\n\r\n","title":"Github Actions - Getting Could not Write Error on Allure Report","body":"<p>I am having project where it is using following :</p>\n<ol>\n<li>Java - 11</li>\n<li>Maven</li>\n<li>TestNG</li>\n<li>Selenium Webdriver</li>\n<li>Allure Report</li>\n</ol>\n<p>Everything works fine on local machine but when I run on Github actions , I am getting error and allure report is not being generated.</p>\n<p>Error is :</p>\n<pre><code> io.qameta.allure.AllureResultsWriteException: Could not write Allure test result container\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:68)\nError:      at io.qameta.allure.AllureLifecycle.writeTestContainer(AllureLifecycle.java:170)\nError:      at io.qameta.allure.testng.AllureTestNg.onFinish(AllureTestNg.java:195)\nError:      at org.testng.SuiteRunner.invokeListeners(SuiteRunner.java:269)\nError:      at org.testng.SuiteRunner.run(SuiteRunner.java:332)\nError:      at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nError:      at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:95)\nError:      at org.testng.TestNG.runSuitesSequentially(TestNG.java:1256)\nError:      at org.testng.TestNG.runSuitesLocally(TestNG.java:1176)\nError:      at org.testng.TestNG.runSuites(TestNG.java:1099)\nError:      at org.testng.TestNG.run(TestNG.java:1067)\nError:      at org.apache.maven.surefire.testng.TestNGExecutor.run(TestNGExecutor.java:295)\nError:      at org.apache.maven.surefire.testng.TestNGXmlTestSuite.execute(TestNGXmlTestSuite.java:84)\nError:      at org.apache.maven.surefire.testng.TestNGProvider.invoke(TestNGProvider.java:90)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:203)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:155)\nError:      at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:103)\nError:  Caused by: java.io.FileNotFoundException: allure-results/94d424ca-48b8-454e-b49d-d398a77c5cab-container.json (Permission denied)\nError:      at java.base/java.io.FileOutputStream.open0(Native Method)\nError:      at java.base/java.io.FileOutputStream.open(FileOutputStream.java:298)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:237)\nError:      at java.base/java.io.FileOutputStream.&lt;init&gt;(FileOutputStream.java:187)\nError:      at com.fasterxml.jackson.core.TokenStreamFactory._fileOutputStream(TokenStreamFactory.java:278)\nError:      at com.fasterxml.jackson.core.JsonFactory.createGenerator(JsonFactory.java:1369)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.createGenerator(ObjectMapper.java:1230)\nError:      at com.fasterxml.jackson.databind.ObjectMapper.writeValue(ObjectMapper.java:3811)\nError:      at io.qameta.allure.FileSystemResultsWriter.write(FileSystemResultsWriter.java:66)\nError:      ... 16 more \n</code></pre>\n<p>Below is my Github YML file :</p>\n<pre><code># This workflow will build a Java project with Maven, and cache/restore any dependencies to improve the workflow execution time\n# For more information see: https://docs.github.com/en/actions/automating-builds-and-tests/building-and-testing-java-with-maven\n\n# This workflow uses actions that are not certified by GitHub.\n# They are provided by a third-party and are governed by\n# separate terms of service, privacy policy, and support\n# documentation.\n\nname: Stage - Automation\n\non:\n  push:\n    branches: [ &quot;main&quot; ]\n  pull_request:\n    branches: [ &quot;main&quot; ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v3\n    - name: Set up JDK 11\n      uses: actions/setup-java@v3\n      with:\n        java-version: '11'\n        distribution: 'temurin'\n        cache: maven\n    - name: Install Google Chrome #Using shell script to install Google Chrome\n      run:   |\n              chmod +x ./scripts/InstallChrome.sh\n                          ./scripts/InstallChrome.sh\n                          \n    - name: Build with Maven\n      run: mvn test -P placeOrder_stage -Denv=stage\n\n\n    - name: Test marketplace action\n      uses: simple-elf/allure-report-action@master\n      if: always()\n      id: allure-report\n      with:\n        allure_results: allure-results/Reports/*\n        gh_pages: gh-pages\n        allure_report: allure-report\n        allure_history: allure-history\n\n\n    - name: Deploy report to Github Pages\n      if: always()\n      uses: peaceiris/actions-gh-pages@v2\n      env:\n        PERSONAL_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n        PUBLISH_BRANCH: gh-pages\n        PUBLISH_DIR: allure-history\n</code></pre>\n"},{"tags":["java","java-8","java-9"],"comments":[{"owner":{"account_id":10759610,"reputation":12648,"user_id":7916438,"display_name":"tevemadar"},"score":2,"creation_date":1684149514,"post_id":76253470,"comment_id":134469623,"body_markdown":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119 - I think that may have happened in this answer once: https://stackoverflow.com/a/23276455/7916438","body":"You could &quot;steal&quot; it from a newer JDK, it&#39;s a couple lines of code: <a href=\"https://github.com/openjdk/jdk/blob/ad348a8cec50561d3e295b6289772530f541c6b1/src/java.base/share/classes/java/util/Enumeration.java#L119\" rel=\"nofollow noreferrer\">github.com/openjdk/jdk/blob/&hellip;</a> - I think that may have happened in this answer once: <a href=\"https://stackoverflow.com/a/23276455/7916438\">stackoverflow.com/a/23276455/7916438</a>"}],"answers":[{"comments":[{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":0,"creation_date":1684150649,"post_id":76253589,"comment_id":134469880,"body_markdown":"interface default method is feature of java 8 https://www.geeksforgeeks.org/default-methods-java/","body":"interface default method is feature of java 8 <a href=\"https://www.geeksforgeeks.org/default-methods-java/\" rel=\"nofollow noreferrer\">geeksforgeeks.org/default-methods-java</a>"},{"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"score":0,"creation_date":1684153763,"post_id":76253589,"comment_id":134470675,"body_markdown":"Thank you @k314159 but one more silly question. I&#39;m getting `Cannot resolve symbol &#39;E&#39;` how to get rid of it?","body":"Thank you @k314159 but one more silly question. I&#39;m getting <code>Cannot resolve symbol &#39;E&#39;</code> how to get rid of it?"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1684156342,"post_id":76253589,"comment_id":134471281,"body_markdown":"Thanks, @user16320675, I&#39;ve modified my answer with your correction.","body":"Thanks, @user16320675, I&#39;ve modified my answer with your correction."}],"tags":[],"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1684156309,"creation_date":1684150040,"answer_id":76253589,"question_id":76253470,"body_markdown":"To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of `asIterator`, so that you can copy it. You&#39;ll find it here:\r\n\r\nhttps://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\r\n\r\nThere you&#39;ll find `Enumeration.asIterator()`, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:\r\n\r\n    private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\r\n        return new Iterator&lt;&gt;() {\r\n            @Override public boolean hasNext() {\r\n                return enumeration.hasMoreElements();\r\n            }\r\n            @Override public E next() {\r\n                return enumeration.nextElement();\r\n            }\r\n        };\r\n    }\r\n\r\nand then use it like this:\r\n\r\n        Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\r\n\r\nHowever, @tevemadar commented with a link to an [answer to a related question][1] that might suit you better \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>To begin with, look up &quot;jdk source code&quot; in your favourite search engine to find the source of <code>asIterator</code>, so that you can copy it. You'll find it here:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Enumeration.java</a></p>\n<p>There you'll find <code>Enumeration.asIterator()</code>, which is an interface default method. You can define it locally as a method that takes an Enumeration argument:</p>\n<pre><code>private static &lt;E&gt; Iterator&lt;E&gt; asIterator(Enumeration&lt;E&gt; enumeration) {\n    return new Iterator&lt;&gt;() {\n        @Override public boolean hasNext() {\n            return enumeration.hasMoreElements();\n        }\n        @Override public E next() {\n            return enumeration.nextElement();\n        }\n    };\n}\n</code></pre>\n<p>and then use it like this:</p>\n<pre><code>    Iterator&lt;URL&gt; iterator = asIterator(cl.getResources(packageDir));\n</code></pre>\n<p>However, @tevemadar commented with a link to an <a href=\"https://stackoverflow.com/questions/23261803/iterate-an-enumeration-in-java-8/23276455#23276455\">answer to a related question</a> that might suit you better</p>\n"}],"owner":{"account_id":1835033,"reputation":5468,"user_id":1665592,"accept_rate":77,"display_name":"Swapnil Kotwal"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1684232460,"accepted_answer_id":76253589,"answer_count":1,"score":0,"last_activity_date":1684157822,"creation_date":1684149026,"question_id":76253470,"body_markdown":"Below piece of code is using `asIterator()` method from Java 9 can someone please help me to convert below code compatible with Java 8?\r\n\r\n``` \r\nprivate static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\r\n    return cl -&gt; {\r\n      try {\r\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\r\n        return StreamSupport.stream(\r\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\r\n      } catch (IOException e) {\r\n        throw new UnhandledIOException(e);\r\n      }\r\n    };\r\n```\r\n  ","title":"Java9 &#39;asIterator&#39; equivalent implementation in Java8","body":"<p>Below piece of code is using <code>asIterator()</code> method from Java 9 can someone please help me to convert below code compatible with Java 8?</p>\n<pre><code>private static Function&lt;ClassLoader, Stream&lt;URL&gt;&gt; asURLs(String packageDir) {\n    return cl -&gt; {\n      try {\n        Iterator&lt;URL&gt; iterator = cl.getResources(packageDir).asIterator();\n        return StreamSupport.stream(\n            Spliterators.spliteratorUnknownSize(iterator, Spliterator.ORDERED), false);\n      } catch (IOException e) {\n        throw new UnhandledIOException(e);\n      }\n    };\n</code></pre>\n"},{"tags":["java","android","json","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1684141685,"post_id":76252478,"comment_id":134467948,"body_markdown":"To understand better, you need a class with fields that can be mapped in the above database schmea?","body":"To understand better, you need a class with fields that can be mapped in the above database schmea?"}],"owner":{"account_id":26106749,"reputation":1,"user_id":19801339,"display_name":"Petar Barac"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684157434,"creation_date":1684141561,"question_id":76252478,"body_markdown":"I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?\r\n\r\n```json\r\n{\r\n  &quot;users&quot;: {\r\n    &quot;uid_1&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_1&quot;: {\r\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-15&quot;\r\n        },\r\n        &quot;task_id_2&quot;: {\r\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-16&quot;\r\n        }\r\n      }\r\n    },\r\n    &quot;uid_2&quot;: {\r\n      &quot;tasks&quot;: {\r\n        &quot;task_id_3&quot;: {\r\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-17&quot;\r\n        },\r\n        &quot;task_id_4&quot;: {\r\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\r\n          &quot;date&quot;: &quot;2023-05-18&quot;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI know I can add tasks like this:\r\n\r\n```java\r\npublic class User {\r\n    private String uid;\r\n    private List&lt;Task&gt; tasks;\r\n}\r\n```\r\n\r\nBut in that way I will get members of array list instead of uid as a parent for Task class.","title":"How do I need organize Java classes in order to save data to Firebase that has uid as parent of its children","body":"<p>I want to organize data in Firebase like this, also I want that task_id_1 is type UID. How do I need to organize Java classes in order to do that?</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;users&quot;: {\n    &quot;uid_1&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_1&quot;: {\n          &quot;name&quot;: &quot;Ime prvog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-15&quot;\n        },\n        &quot;task_id_2&quot;: {\n          &quot;name&quot;: &quot;Ime drugog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-16&quot;\n        }\n      }\n    },\n    &quot;uid_2&quot;: {\n      &quot;tasks&quot;: {\n        &quot;task_id_3&quot;: {\n          &quot;name&quot;: &quot;Ime trećeg taska&quot;,\n          &quot;date&quot;: &quot;2023-05-17&quot;\n        },\n        &quot;task_id_4&quot;: {\n          &quot;name&quot;: &quot;Ime cetvrtog taska&quot;,\n          &quot;date&quot;: &quot;2023-05-18&quot;\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I know I can add tasks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class User {\n    private String uid;\n    private List&lt;Task&gt; tasks;\n}\n</code></pre>\n<p>But in that way I will get members of array list instead of uid as a parent for Task class.</p>\n"},{"tags":["java","logging","log4j"],"answers":[{"comments":[{"owner":{"account_id":25281172,"reputation":1,"user_id":19109041,"display_name":"Kenneth Michael Haahr"},"score":0,"creation_date":1684159953,"post_id":76254567,"comment_id":134472179,"body_markdown":"its a RollingFileAppender so it should have the option to set up how it rolls.\ni found a lot of options on how to roll on date etc.","body":"its a RollingFileAppender so it should have the option to set up how it rolls. i found a lot of options on how to roll on date etc."}],"tags":[],"owner":{"account_id":5934812,"reputation":132,"user_id":4668201,"display_name":"L&#233;o"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684157164,"creation_date":1684157164,"answer_id":76254567,"question_id":76254397,"body_markdown":"As far as I know, this option does not exist. But you can extend the RollingFileAppender class to fit your needs","title":"Slf4j rolling file appender","body":"<p>As far as I know, this option does not exist. But you can extend the RollingFileAppender class to fit your needs</p>\n"}],"owner":{"account_id":25281172,"reputation":1,"user_id":19109041,"display_name":"Kenneth Michael Haahr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684157164,"creation_date":1684155988,"question_id":76254397,"body_markdown":"Hi i have an elder version of log4j that i cant seem to get to roll the log files correctly.\r\n\r\nthe log files are rolled as this... xxx.log --&gt; xxx.log.5 --&gt; xxx.log.4\r\n\r\ni want them to roll in the opposite direction so that when xxx.log reaches 200kb it rolls to xxx.log.1 and so forth till it reaches xxx.log.5\r\nafter that it should not roll further but delete the oldest file. \r\n\r\n\r\ni am using a logger.properties file\r\n\r\n    log4j.appender.fil=org.apache.log4j.RollingFileAppender\r\n    log4j.appender.fil.threshold=INFO\r\n    log4j.appender.fil.File=Logs/xxx.log\r\n    log4j.appender.fil.MaxFileSize=200kB\r\n    log4j.appender.fil.MaxBackupIndex=5\r\n\r\n\r\n\r\n\r\n\r\nhere i thought the solution would have been to add the folowing line to make it roll as i wanted \r\n    log4j.appender.fil.fileNamePattern=Logs/xxx.log.%i\r\n\r\n\r\nthanks in advance to anyone who might try and help me.","title":"Slf4j rolling file appender","body":"<p>Hi i have an elder version of log4j that i cant seem to get to roll the log files correctly.</p>\n<p>the log files are rolled as this... xxx.log --&gt; xxx.log.5 --&gt; xxx.log.4</p>\n<p>i want them to roll in the opposite direction so that when xxx.log reaches 200kb it rolls to xxx.log.1 and so forth till it reaches xxx.log.5\nafter that it should not roll further but delete the oldest file.</p>\n<p>i am using a logger.properties file</p>\n<pre><code>log4j.appender.fil=org.apache.log4j.RollingFileAppender\nlog4j.appender.fil.threshold=INFO\nlog4j.appender.fil.File=Logs/xxx.log\nlog4j.appender.fil.MaxFileSize=200kB\nlog4j.appender.fil.MaxBackupIndex=5\n</code></pre>\n<p>here i thought the solution would have been to add the folowing line to make it roll as i wanted\nlog4j.appender.fil.fileNamePattern=Logs/xxx.log.%i</p>\n<p>thanks in advance to anyone who might try and help me.</p>\n"},{"tags":["java","cucumber","cucumber-jvm"],"comments":[{"owner":{"account_id":16918250,"reputation":85,"user_id":12235678,"display_name":"Niks"},"score":0,"creation_date":1649678130,"post_id":18856458,"comment_id":126929128,"body_markdown":"Did you find a better solution for this?\ni am facing same issue.\nWhen i run TestRunner\n\n my feature file first scenario start with &quot;@before&quot; hook method with tag &quot;@Start&quot;and it start browser \nand last scenario in feature file with &quot;@teardown&quot; tag closes it with &quot;@after&quot; hook method \nNote; To make it work i had to use \nStatic Webdriver driver;\n\nThe problem is , It restrict me to run multiple feature file execution using same Test Runner.\nWhile Using testrunner for 2 featurefile.\nStatic Webdriver does not open browser session for 2nd feature file.","body":"Did you find a better solution for this? i am facing same issue. When i run TestRunner   my feature file first scenario start with &quot;@before&quot; hook method with tag &quot;@Start&quot;and it start browser  and last scenario in feature file with &quot;@teardown&quot; tag closes it with &quot;@after&quot; hook method  Note; To make it work i had to use  Static Webdriver driver;  The problem is , It restrict me to run multiple feature file execution using same Test Runner. While Using testrunner for 2 featurefile. Static Webdriver does not open browser session for 2nd feature file."}],"answers":[{"comments":[{"owner":{"account_id":159096,"reputation":2116,"user_id":378171,"accept_rate":72,"display_name":"Dave Novelli"},"score":0,"creation_date":1379447558,"post_id":18857234,"comment_id":27827467,"body_markdown":"If I understand correctly, in order to provide a specific setUp and tearDown for each feature, each feature would need it&#39;s own unit test class? It&#39;s not ideal, but a it&#39;s a reasonable solution.","body":"If I understand correctly, in order to provide a specific setUp and tearDown for each feature, each feature would need it&#39;s own unit test class? It&#39;s not ideal, but a it&#39;s a reasonable solution."},{"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"score":0,"creation_date":1379483943,"post_id":18857234,"comment_id":27838020,"body_markdown":"There is an alternative you might try, which I have never used, so don&#39;t know it works: Add tags to your feature definition and then use the cucumber before annotation like so @Before(&quot;tagname&quot;). This needs a bit of extra housekeeping, but then you don&#39;t need a testclass per feature so it seems.","body":"There is an alternative you might try, which I have never used, so don&#39;t know it works: Add tags to your feature definition and then use the cucumber before annotation like so @Before(&quot;tagname&quot;). This needs a bit of extra housekeeping, but then you don&#39;t need a testclass per feature so it seems."},{"owner":{"account_id":159096,"reputation":2116,"user_id":378171,"accept_rate":72,"display_name":"Dave Novelli"},"score":1,"creation_date":1379540934,"post_id":18857234,"comment_id":27869746,"body_markdown":"Another approach dawned on me that&#39;s even simpler. Just create scenarios for the setup and teardown. It may violate the intention of cucumber, but it&#39;s very straightforward and doesn&#39;t require any additional modifications","body":"Another approach dawned on me that&#39;s even simpler. Just create scenarios for the setup and teardown. It may violate the intention of cucumber, but it&#39;s very straightforward and doesn&#39;t require any additional modifications"},{"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"score":2,"creation_date":1379570531,"post_id":18857234,"comment_id":27876726,"body_markdown":"It&#39;s a nice quick&#39;ndirty solution :) Officially however the order of scenario&#39;s isn&#39;t guaranteed I think and I believe that you can even have the scenario&#39;s run in parallel, so you can&#39;t do that. Just something to keep in mind..","body":"It&#39;s a nice quick&#39;ndirty solution :) Officially however the order of scenario&#39;s isn&#39;t guaranteed I think and I believe that you can even have the scenario&#39;s run in parallel, so you can&#39;t do that. Just something to keep in mind.."},{"owner":{"account_id":7893896,"reputation":449,"user_id":5963217,"accept_rate":9,"display_name":"Julius"},"score":0,"creation_date":1496399979,"post_id":18857234,"comment_id":75657904,"body_markdown":"I&#39;m unable to run any methods in that class.","body":"I&#39;m unable to run any methods in that class."}],"tags":[],"owner":{"account_id":1742696,"reputation":3996,"user_id":1593654,"accept_rate":94,"display_name":"Wouter"},"comment_count":5,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1379442465,"creation_date":1379442465,"answer_id":18857234,"question_id":18856458,"body_markdown":"It is if you are using junit to run your tests. We use the annotations to create a unit test class and a separate steps class. The standard @Before stuff goes in the steps class, but the @BeforeClass annotation can be used in the main unit test class:\r\n\r\n    @RunWith(Cucumber.class)\r\n    @Cucumber.Options(format = {&quot;json&quot;, &quot;&lt;the report file&quot;},\r\n        features = {&quot;&lt;the feature file&gt;&quot;},\r\n        strict = false,\r\n        glue = {&quot;&lt;package with steps classes&quot;})\r\n    public class SomeTestIT {\r\n        @BeforeClass\r\n        public static void setUp(){\r\n           ...\r\n        }\r\n\r\n        @AfterClass\r\n        public static void tearDown(){\r\n           ...\r\n        }\r\n    }\r\n\r\n\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p>It is if you are using junit to run your tests. We use the annotations to create a unit test class and a separate steps class. The standard @Before stuff goes in the steps class, but the @BeforeClass annotation can be used in the main unit test class:</p>\n\n<pre><code>@RunWith(Cucumber.class)\n@Cucumber.Options(format = {\"json\", \"&lt;the report file\"},\n    features = {\"&lt;the feature file&gt;\"},\n    strict = false,\n    glue = {\"&lt;package with steps classes\"})\npublic class SomeTestIT {\n    @BeforeClass\n    public static void setUp(){\n       ...\n    }\n\n    @AfterClass\n    public static void tearDown(){\n       ...\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":29236,"reputation":4584,"user_id":78830,"display_name":"CodeMonkeyKing"},"score":0,"creation_date":1441069453,"post_id":20627384,"comment_id":52519045,"body_markdown":"[cucumber-jvm](https://github.com/cucumber/cucumber-jvm/issues/515) explains it better than the above article.","body":"<a href=\"https://github.com/cucumber/cucumber-jvm/issues/515\" rel=\"nofollow noreferrer\">cucumber-jvm</a> explains it better than the above article."},{"owner":{"account_id":3588415,"reputation":570,"user_id":2995001,"display_name":"Nikhil"},"score":0,"creation_date":1513821391,"post_id":20627384,"comment_id":82801764,"body_markdown":"Although if you have multiple feature file then Global Hook might be problematic","body":"Although if you have multiple feature file then Global Hook might be problematic"},{"owner":{"account_id":6197039,"reputation":6332,"user_id":4828060,"accept_rate":21,"display_name":"Jo&#227;o Matos"},"score":0,"creation_date":1522851675,"post_id":20627384,"comment_id":86315471,"body_markdown":"Note that the imports in that link are out-of-date. Instead of &#39;cucumber.annotation.{Before/After}&#39; you should import &#39;cucumber.api.java.{Before/After}&#39;","body":"Note that the imports in that link are out-of-date. Instead of &#39;cucumber.annotation.{Before/After}&#39; you should import &#39;cucumber.api.java.{Before/After}&#39;"}],"tags":[],"owner":{"account_id":125813,"reputation":23095,"user_id":321862,"accept_rate":84,"display_name":"Oh Chin Boon"},"comment_count":3,"down_vote_count":4,"up_vote_count":24,"is_accepted":true,"score":20,"last_activity_date":1387261495,"creation_date":1387261495,"answer_id":20627384,"question_id":18856458,"body_markdown":"Do you use cucumber-jvm? I found an article that fits your requirement. \r\n\r\nhttp://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\r\n\r\nBasically, do not use JUnit @BeforeClass and @AfterClass for this, as they are unaware of Cucumber Hook Tags. You would want Init and Teardown methods to run for certain scenarios only right?","title":"Execute Cucumber step before/after a specific feature","body":"<p>Do you use cucumber-jvm? I found an article that fits your requirement. </p>\n\n<p><a href=\"http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/\">http://zsoltfabok.com/blog/2012/09/cucumber-jvm-hooks/</a></p>\n\n<p>Basically, do not use JUnit @BeforeClass and @AfterClass for this, as they are unaware of Cucumber Hook Tags. You would want Init and Teardown methods to run for certain scenarios only right?</p>\n"},{"comments":[{"owner":{"account_id":117505,"reputation":1316,"user_id":307699,"accept_rate":56,"display_name":"nahab"},"score":1,"creation_date":1487860451,"post_id":34150850,"comment_id":71982555,"body_markdown":"there are no @Begin annotation in Cucumber","body":"there are no @Begin annotation in Cucumber"},{"owner":{"account_id":3588415,"reputation":570,"user_id":2995001,"display_name":"Nikhil"},"score":4,"creation_date":1513821317,"post_id":34150850,"comment_id":82801745,"body_markdown":"It will run for every scenario in that feature file.","body":"It will run for every scenario in that feature file."}],"tags":[],"owner":{"account_id":338617,"reputation":5261,"user_id":667586,"accept_rate":47,"display_name":"Abhishek Bedi"},"comment_count":2,"down_vote_count":6,"up_vote_count":11,"is_accepted":false,"score":5,"last_activity_date":1490159698,"creation_date":1449561953,"answer_id":34150850,"question_id":18856458,"body_markdown":"**Try this :** \r\n\r\n\r\n**In feature file :** \r\n\r\n    @tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\r\n    Feature : My new feature ....\r\n\r\n**In Stepdefinitions.java** : \r\n\r\n    @Before(&quot;@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly&quot;)\r\n    public void testStart() throws Throwable {\r\n    }\r\n    \r\n    @After(&quot;@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly&quot;)\r\n    public void testStart() throws Throwable {\r\n    }\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p><strong>Try this :</strong> </p>\n\n<p><strong>In feature file :</strong> </p>\n\n<pre><code>@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\nFeature : My new feature ....\n</code></pre>\n\n<p><strong>In Stepdefinitions.java</strong> : </p>\n\n<pre><code>@Before(\"@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\")\npublic void testStart() throws Throwable {\n}\n\n@After(\"@tagToIdentifyThatBeginAfterShouldRunForThisFeatureOnly\")\npublic void testStart() throws Throwable {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6079744,"reputation":425,"user_id":4745890,"display_name":"Utpal Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627248938,"creation_date":1627203046,"answer_id":68516990,"question_id":18856458,"body_markdown":"Well I had the same requirement as yours. As per cucumber-jvm documentantion - \r\n[Cucumber-JVM does not support running a hook only once.][1]\r\n\r\n\r\n  [1]: https://cucumber.io/docs/cucumber/api/#hooks\r\n\r\nSo I followed null-check approach for a specific variable which is outcome of @Before in cucumber step hook. Something like below.\r\n\r\n    private String token;\r\n    public String getToken(){\r\n         if (token == null) {\r\n            token = CucumberClass.executeMethod();\r\n          }\r\n    return token;\r\n    }\r\n\r\nIn above example let&#39;s suppose getToken() method gives you some token required before any scenario could run and you want token only once. This approach will execute your method only the first time i.e when it is null before any scenario starts executing. It significantly reduces the execution time also.\r\n\r\n","title":"Execute Cucumber step before/after a specific feature","body":"<p>Well I had the same requirement as yours. As per cucumber-jvm documentantion -\n<a href=\"https://cucumber.io/docs/cucumber/api/#hooks\" rel=\"nofollow noreferrer\">Cucumber-JVM does not support running a hook only once.</a></p>\n<p>So I followed null-check approach for a specific variable which is outcome of @Before in cucumber step hook. Something like below.</p>\n<pre><code>private String token;\npublic String getToken(){\n     if (token == null) {\n        token = CucumberClass.executeMethod();\n      }\nreturn token;\n}\n</code></pre>\n<p>In above example let's suppose getToken() method gives you some token required before any scenario could run and you want token only once. This approach will execute your method only the first time i.e when it is null before any scenario starts executing. It significantly reduces the execution time also.</p>\n"},{"tags":[],"owner":{"account_id":14112670,"reputation":121,"user_id":10195116,"display_name":"Jitendra Pisal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156950,"creation_date":1684156950,"answer_id":76254533,"question_id":18856458,"body_markdown":"Here is little programming hack.\r\nrefer following code \r\n\r\n    public class DemoSteps {\r\n\r\n    static boolean runOnlyOnce = true;\r\n\r\n    @Before(&quot;@home&quot;)\r\n    public static void setRunOnlyOnce() {\r\n        if (runOnlyOnce) {\r\n            System.out.println(&quot;Execute here&quot;);\r\n        }\r\n        runOnlyOnce = false;\r\n    }\r\n}\r\n\r\n    \r\n    @home\r\n    Business Need: home page\r\n\r\n    Scenario: test 1\r\n     Given test 1\r\n\r\n    Scenario: test 2\r\n     Given test 2\r\n\r\n\r\nIn above example, if condition in setRunOnlyOnce() method will run only once","title":"Execute Cucumber step before/after a specific feature","body":"<p>Here is little programming hack.\nrefer following code</p>\n<pre><code>public class DemoSteps {\n\nstatic boolean runOnlyOnce = true;\n\n@Before(&quot;@home&quot;)\npublic static void setRunOnlyOnce() {\n    if (runOnlyOnce) {\n        System.out.println(&quot;Execute here&quot;);\n    }\n    runOnlyOnce = false;\n}\n</code></pre>\n<p>}</p>\n<pre><code>@home\nBusiness Need: home page\n\nScenario: test 1\n Given test 1\n\nScenario: test 2\n Given test 2\n</code></pre>\n<p>In above example, if condition in setRunOnlyOnce() method will run only once</p>\n"}],"owner":{"account_id":159096,"reputation":2116,"user_id":378171,"accept_rate":72,"display_name":"Dave Novelli"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125313,"favorite_count":0,"down_vote_count":0,"up_vote_count":38,"accepted_answer_id":20627384,"answer_count":5,"score":38,"last_activity_date":1684156950,"creation_date":1379439798,"question_id":18856458,"body_markdown":"I want to specify certain setup and tear down steps for each specific feature file. I&#39;ve seen hooks that allows code to execute before every scenario, and hooks to execute code before each feature, but I want to specify code to run once before and after all scenarios run for one specific feature. \r\n\r\nIs this possible?","title":"Execute Cucumber step before/after a specific feature","body":"<p>I want to specify certain setup and tear down steps for each specific feature file. I've seen hooks that allows code to execute before every scenario, and hooks to execute code before each feature, but I want to specify code to run once before and after all scenarios run for one specific feature. </p>\n\n<p>Is this possible?</p>\n"},{"tags":["java","spring-boot","constructor"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1684155249,"post_id":76254266,"comment_id":134471033,"body_markdown":"What does it matter? Also, if you want to know, just put a breakpoint (or god forbid, a log statement) inside the constructor.","body":"What does it matter? Also, if you want to know, just put a breakpoint (or god forbid, a log statement) inside the constructor."}],"answers":[{"comments":[{"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"score":0,"creation_date":1684158147,"post_id":76254476,"comment_id":134471702,"body_markdown":"is there any way that I can get to know the flow of the program.","body":"is there any way that I can get to know the flow of the program."},{"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"score":0,"creation_date":1684158591,"post_id":76254476,"comment_id":134471813,"body_markdown":"if i have three classes and three constructors which constructor will be executed first.","body":"if i have three classes and three constructors which constructor will be executed first."},{"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"score":0,"creation_date":1684159696,"post_id":76254476,"comment_id":134472128,"body_markdown":"The order in which Spring beans are created depends on the dependencies between the beans, you can use a logger to investigate it further or put breakpoints to the constructor if you need this information for some reason.","body":"The order in which Spring beans are created depends on the dependencies between the beans, you can use a logger to investigate it further or put breakpoints to the constructor if you need this information for some reason."}],"tags":[],"owner":{"account_id":27816216,"reputation":306,"user_id":21237557,"display_name":"Ruslan Zinovyev"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156572,"creation_date":1684156572,"answer_id":76254476,"question_id":76254266,"body_markdown":"In Spring, if class is annotated with @Service, @RestController or any other stereotype annotation, it becomes a Spring bean, which means it&#39;s managed by the Spring IOC (Inversion of Control) container. It includes lifecycle management, so the initiation of these beans is handled by Spring.\r\n\r\nConstructor for such bean is executed when the bean is created by Spring IoC container. It usually happens at the startup of your application, because by default beans in Spring are singleton scoped, which means that one instance will be created for entire application.\r\n\r\nIn your case, the MessageController class is annotated with @RestController, making it a Spring Bean. The constructor for MessageController will be executed when the bean is created during application startup.\r\n\r\nThe RabbitMQProducer producer parameter in the constructor indicates that the MessageController bean depends on the RabbitMQProducer bean. Spring will automatically manage this dependency for you. This is a part of Spring&#39;s DI (dependency injection) feature. When the MessageController bean is created, the Spring container will also create an instance of RabbitMQProducer (if one doesn&#39;t already exist) and pass it to the MessageController constructor. This is how it works in general. ","title":"when the constructor will be executed in spring boot","body":"<p>In Spring, if class is annotated with @Service, @RestController or any other stereotype annotation, it becomes a Spring bean, which means it's managed by the Spring IOC (Inversion of Control) container. It includes lifecycle management, so the initiation of these beans is handled by Spring.</p>\n<p>Constructor for such bean is executed when the bean is created by Spring IoC container. It usually happens at the startup of your application, because by default beans in Spring are singleton scoped, which means that one instance will be created for entire application.</p>\n<p>In your case, the MessageController class is annotated with @RestController, making it a Spring Bean. The constructor for MessageController will be executed when the bean is created during application startup.</p>\n<p>The RabbitMQProducer producer parameter in the constructor indicates that the MessageController bean depends on the RabbitMQProducer bean. Spring will automatically manage this dependency for you. This is a part of Spring's DI (dependency injection) feature. When the MessageController bean is created, the Spring container will also create an instance of RabbitMQProducer (if one doesn't already exist) and pass it to the MessageController constructor. This is how it works in general.</p>\n"}],"owner":{"account_id":28602642,"reputation":1,"user_id":21899232,"display_name":"Aravind A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684156802,"creation_date":1684155125,"question_id":76254266,"body_markdown":"if a class is annotated `@Service`, `@RestController` or `@Configuration` if there is a constructor with or with our parameter.\r\n\r\nI just want to know when the constructor will be executed.\r\n\r\n\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class MessageController {\r\n\t\r\nprivate RabbitMQProducer producer;\r\n\r\npublic MessageController(RabbitMQProducer producer) {\r\n\tsuper();\r\n\tthis.producer = producer;\r\n}\r\n\r\n@GetMapping(&quot;/publish&quot;)\r\npublic ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;message&quot;) String message)\r\n{\r\n\tproducer.sendMessage(message);\r\n\treturn ResponseEntity.ok(&quot;message sent to the rabbitmq&quot;);\r\n}\r\n\t\r\n\t\r\n}\r\n```\r\n","title":"when the constructor will be executed in spring boot","body":"<p>if a class is annotated <code>@Service</code>, <code>@RestController</code> or <code>@Configuration</code> if there is a constructor with or with our parameter.</p>\n<p>I just want to know when the constructor will be executed.</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MessageController {\n    \nprivate RabbitMQProducer producer;\n\npublic MessageController(RabbitMQProducer producer) {\n    super();\n    this.producer = producer;\n}\n\n@GetMapping(&quot;/publish&quot;)\npublic ResponseEntity&lt;String&gt; sendMessage(@RequestParam(&quot;message&quot;) String message)\n{\n    producer.sendMessage(message);\n    return ResponseEntity.ok(&quot;message sent to the rabbitmq&quot;);\n}\n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc"],"answers":[{"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684156755,"creation_date":1684156755,"answer_id":76254505,"question_id":76254284,"body_markdown":"To put it simple: root context is global for all servlets and servlet context is for a particular servlet. The servlet settings can be different for each servlet.","title":"what is the difference between rootConfigClasses in spring and servlet context?","body":"<p>To put it simple: root context is global for all servlets and servlet context is for a particular servlet. The servlet settings can be different for each servlet.</p>\n"}],"owner":{"account_id":28586547,"reputation":1,"user_id":21886643,"display_name":"coder_Kamalesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684156755,"creation_date":1684155217,"question_id":76254284,"body_markdown":"I read that Root config class provide application specific configuration such as service class configuration,etc., My doubt is that why we need root config classes. And how servlet context is related to root config classes. \r\n\r\n\r\n\r\n```\r\npackage configuration;\r\n\r\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\r\n\r\npublic class FrontController extends AbstractAnnotationConfigDispatcherServletInitializer{\r\n\t\t\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getRootConfigClasses() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new Class[] {DaoConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected Class&lt;?&gt;[] getServletConfigClasses() {\r\n\t\treturn new Class[] {MvcConfig.class};\r\n\t}\r\n\r\n\t@Override\r\n\tprotected String[] getServletMappings() {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn new String[] {&quot;/&quot;};\r\n\t}\r\n\t\r\n\t\r\n\t\r\n}\r\n```\r\n","title":"what is the difference between rootConfigClasses in spring and servlet context?","body":"<p>I read that Root config class provide application specific configuration such as service class configuration,etc., My doubt is that why we need root config classes. And how servlet context is related to root config classes.</p>\n<pre><code>package configuration;\n\nimport org.springframework.web.servlet.support.AbstractAnnotationConfigDispatcherServletInitializer;\n\npublic class FrontController extends AbstractAnnotationConfigDispatcherServletInitializer{\n        \n\n    @Override\n    protected Class&lt;?&gt;[] getRootConfigClasses() {\n        // TODO Auto-generated method stub\n        return new Class[] {DaoConfig.class};\n    }\n\n    @Override\n    protected Class&lt;?&gt;[] getServletConfigClasses() {\n        return new Class[] {MvcConfig.class};\n    }\n\n    @Override\n    protected String[] getServletMappings() {\n        // TODO Auto-generated method stub\n        return new String[] {&quot;/&quot;};\n    }\n    \n    \n    \n}\n</code></pre>\n"},{"tags":["java","spring","google-cloud-platform","netty","pubs"],"answers":[{"comments":[{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":1,"creation_date":1676542513,"post_id":75470187,"comment_id":133159337,"body_markdown":"The problem is that I am not interacting with Netty directly. All these classes and methods are called by Spring-GCP-pubsub. When debug I can see Spring entering into all above!","body":"The problem is that I am not interacting with Netty directly. All these classes and methods are called by Spring-GCP-pubsub. When debug I can see Spring entering into all above!"},{"owner":{"account_id":2233383,"reputation":427,"user_id":1970670,"display_name":"Piotr Cierpich"},"score":0,"creation_date":1676553970,"post_id":75470187,"comment_id":133162773,"body_markdown":"@artsgard isn&#39;t there a nested exception maybe? looks like it&#39;s only netty on the stack. Can you paste the LEAK error with all the nested exceptions?","body":"@artsgard isn&#39;t there a nested exception maybe? looks like it&#39;s only netty on the stack. Can you paste the LEAK error with all the nested exceptions?"},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1676560898,"post_id":75470187,"comment_id":133165155,"body_markdown":"For the moment I can not produce the error anymore (running at the cloud/ not running locally), hmmmmm! But in previous cases the above listing was all I got even with the property paranoid added! When I get some more info I let you know, thanks!","body":"For the moment I can not produce the error anymore (running at the cloud/ not running locally), hmmmmm! But in previous cases the above listing was all I got even with the property paranoid added! When I get some more info I let you know, thanks!"},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1676882808,"post_id":75470187,"comment_id":133219982,"body_markdown":"The io.grpc:grpc-netty-shade contain classes that spring pubsub-template(-publish) uses heavily (running the the Netty server). I can see that when debugging.There is no way to hack that code with and extend and overwrite, it is the internal GCP-Spring code, right?","body":"The io.grpc:grpc-netty-shade contain classes that spring pubsub-template(-publish) uses heavily (running the the Netty server). I can see that when debugging.There is no way to hack that code with and extend and overwrite, it is the internal GCP-Spring code, right?"},{"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"score":0,"creation_date":1676882915,"post_id":75470187,"comment_id":133220018,"body_markdown":"But there is an other package, which we bring in ourself: io.netty:netty-codec:4.1.86.Final.\nThis package has the same classes as the other one! If we could pubsub to make use of this package we could overwrite things and maybe repair that strange Leak error? Anyway, since the error is part of the internal untouchable GCP-Spring code, I think the Leak-error really is a bug and we should register it at Github?","body":"But there is an other package, which we bring in ourself: io.netty:netty-codec:4.1.86.Final. This package has the same classes as the other one! If we could pubsub to make use of this package we could overwrite things and maybe repair that strange Leak error? Anyway, since the error is part of the internal untouchable GCP-Spring code, I think the Leak-error really is a bug and we should register it at Github?"},{"owner":{"account_id":2233383,"reputation":427,"user_id":1970670,"display_name":"Piotr Cierpich"},"score":0,"creation_date":1676887180,"post_id":75470187,"comment_id":133221170,"body_markdown":"it&#39;s hard to judge whether this is a bug or not without seeing the code; I had an impression you used spring-integration (MessagingMethodInvokerHelper on stack) to configure communication with pubsub, maybe there&#39;s something missing there that does the cleanup (just guessing). After checking your code, asking question on github is also an option worth considering. Not sure if code could be replaced without seeing it, if the troublesome piece is Spring&#39;s bean or called somewhere from Spring&#39;s bean it should be possible to replace it; actually netty itself can be replaced too","body":"it&#39;s hard to judge whether this is a bug or not without seeing the code; I had an impression you used spring-integration (MessagingMethodInvokerHelper on stack) to configure communication with pubsub, maybe there&#39;s something missing there that does the cleanup (just guessing). After checking your code, asking question on github is also an option worth considering. Not sure if code could be replaced without seeing it, if the troublesome piece is Spring&#39;s bean or called somewhere from Spring&#39;s bean it should be possible to replace it; actually netty itself can be replaced too"}],"tags":[],"owner":{"account_id":2233383,"reputation":427,"user_id":1970670,"display_name":"Piotr Cierpich"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676540660,"creation_date":1676539629,"answer_id":75470187,"question_id":75469888,"body_markdown":"Error log gives you a good explanation of what&#39;s the issue: somewhere in your code (might be spring code called by your application too, perhaps WebClient&#39;s with Netty?) there is ByteBuf used and it requires call to ByteBuf.release() to release memory it allocated. The way to resolve that is described in **Troubleshooting buffer leaks** section: https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks \r\nI recommend reading the docs above, but in short: use this VM parameter while running your application:\r\n\r\n    -Dio.netty.leakDetection.level=paranoid\r\n(advanced should work as well, but you need to wait bit more for the error) and if the error pops up check the stacktrace to find out where is the code that caused that. Note that in your code might be well hidden in the stack trace between Flux operators and neetty calls, so look carefully. In my case it looked like this:\r\n\r\n    16-02-2023 10:38:59.268 reactor-http-nio-3 trace: [ERROR]  ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\r\n    Recent access records:\r\n    #1:\r\n            io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\r\n            io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\r\n            reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\r\n            reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\r\n    ...\r\n    #2:\r\n            io.netty.buffer.AdvancedLeakAwareByteBuf.nioBuffer(AdvancedLeakAwareByteBuf.java:712)\r\n            org.springframework.core.io.buffer.NettyDataBuffer.asByteBuffer(NettyDataBuffer.java:273)\r\n            // there it is: com....CallerClass.lambda$responseFromWebClientExchange$12(CallerClass.java:150)\r\n            reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107)\r\n            reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:385)\r\n            reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)\r\n    ...\r\n\r\n Sample code that releases ByteBuffer and fixes the issue:\r\n\r\n    // called from webclient.exchange().flatMap(this::responseFromWebClientExchange)\r\n    private Mono&lt;byte[]&gt; responseFromWebClientExchange(ClientResponse response) { \r\n\treturn response\r\n\t\t\t.body(BodyExtractors.toDataBuffers())\r\n\t\t\t.map(dataBuffer -&gt; {\r\n\t\t\t\tByteBuffer byteBuffer = dataBuffer.asByteBuffer();\r\n\t\t\t\tbyte[] byteArray = new byte[byteBuffer.remaining()];\r\n\t\t\t\tbyteBuffer.get(byteArray); // do something with the response bytes, not important for this example\r\n\t\t\t\tDataBufferUtils.release(dataBuffer); // RELEASE the buffer, without this call memory will leak\r\n\t\t\t\treturn byteArray;\r\n\t\t\t})\r\n\t\t\t.reduce(Bytes::concat);\r\n    }\r\n    // called from \r\n    webClient\r\n\t  .get()\r\n\t  .uri(uri)\r\n\t  .exchange()\r\n\t  .flatMap(this::responseFromWebClientExchange)\r\n\r\nnote that it is the DataBufferUtils.release that calls the ByteBuf.release(), if it wasn&#39;t there, the code would generate this exception from time to time, by default 1% of ByteByfs are checked against leakages, if the io.netty.leakDetection.level is changed the checks will be more frequent. You just seem to be missing a call to DataBufferUtils.release (or just ByteBuf.release).","title":"SUBJECT: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>Error log gives you a good explanation of what's the issue: somewhere in your code (might be spring code called by your application too, perhaps WebClient's with Netty?) there is ByteBuf used and it requires call to ByteBuf.release() to release memory it allocated. The way to resolve that is described in <strong>Troubleshooting buffer leaks</strong> section: <a href=\"https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks\" rel=\"nofollow noreferrer\">https://netty.io/wiki/reference-counted-objects.html#troubleshooting-buffer-leaks</a>\nI recommend reading the docs above, but in short: use this VM parameter while running your application:</p>\n<pre><code>-Dio.netty.leakDetection.level=paranoid\n</code></pre>\n<p>(advanced should work as well, but you need to wait bit more for the error) and if the error pops up check the stacktrace to find out where is the code that caused that. Note that in your code might be well hidden in the stack trace between Flux operators and neetty calls, so look carefully. In my case it looked like this:</p>\n<pre><code>16-02-2023 10:38:59.268 reactor-http-nio-3 trace: [ERROR]  ResourceLeakDetector  - LEAK: ByteBuf.release() was not called before it's garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\nRecent access records:\n#1:\n        io.netty.handler.codec.http.DefaultHttpContent.release(DefaultHttpContent.java:92)\n        io.netty.util.ReferenceCountUtil.release(ReferenceCountUtil.java:88)\n        reactor.netty.channel.FluxReceive.onInboundNext(FluxReceive.java:340)\n        reactor.netty.channel.ChannelOperations.onInboundNext(ChannelOperations.java:358)\n...\n#2:\n        io.netty.buffer.AdvancedLeakAwareByteBuf.nioBuffer(AdvancedLeakAwareByteBuf.java:712)\n        org.springframework.core.io.buffer.NettyDataBuffer.asByteBuffer(NettyDataBuffer.java:273)\n        // there it is: com....CallerClass.lambda$responseFromWebClientExchange$12(CallerClass.java:150)\n        reactor.core.publisher.FluxMapFuseable$MapFuseableSubscriber.onNext(FluxMapFuseable.java:107)\n        reactor.core.publisher.FluxOnAssembly$OnAssemblySubscriber.onNext(FluxOnAssembly.java:385)\n        reactor.core.publisher.FluxMap$MapSubscriber.onNext(FluxMap.java:114)\n...\n</code></pre>\n<p>Sample code that releases ByteBuffer and fixes the issue:</p>\n<pre><code>// called from webclient.exchange().flatMap(this::responseFromWebClientExchange)\nprivate Mono&lt;byte[]&gt; responseFromWebClientExchange(ClientResponse response) { \nreturn response\n        .body(BodyExtractors.toDataBuffers())\n        .map(dataBuffer -&gt; {\n            ByteBuffer byteBuffer = dataBuffer.asByteBuffer();\n            byte[] byteArray = new byte[byteBuffer.remaining()];\n            byteBuffer.get(byteArray); // do something with the response bytes, not important for this example\n            DataBufferUtils.release(dataBuffer); // RELEASE the buffer, without this call memory will leak\n            return byteArray;\n        })\n        .reduce(Bytes::concat);\n}\n// called from \nwebClient\n  .get()\n  .uri(uri)\n  .exchange()\n  .flatMap(this::responseFromWebClientExchange)\n</code></pre>\n<p>note that it is the DataBufferUtils.release that calls the ByteBuf.release(), if it wasn't there, the code would generate this exception from time to time, by default 1% of ByteByfs are checked against leakages, if the io.netty.leakDetection.level is changed the checks will be more frequent. You just seem to be missing a call to DataBufferUtils.release (or just ByteBuf.release).</p>\n"}],"owner":{"account_id":19328780,"reputation":11,"user_id":14130839,"display_name":"artsgard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1684156740,"creation_date":1676538106,"question_id":75469888,"body_markdown":"We are running a simple GCP Pubsub publisher that makes use of the Java Spring library (pubSubTemplate):\r\n\r\npubSubTemplate.publish(topic, message);\r\n\r\nWhen sending lots of messages (about a million with a small payload of 6 primitive fields) The following Error messages appears:\r\n\r\nERROR [bsub-publisher4] i.g.n.s.i.n.util.ResourceLeakDetector&#160; &#160; : LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected. See https://netty.io/wiki/reference-counted-objects.html for more information.\r\n\r\n(BTW the message-payload is present at our DB and to avoid loading all in memory we paginate and send them out in batches of 1000. The complete process takes a little more than a minute, amazing!)\r\n\r\nSeveral Spring-boot starters:\r\n- org.springframework.boot:spring-boot-starter-actuator\r\n- com.google.cloud:spring-cloud-gcp-starter-pubsub\r\n- com.google.cloud:spring-cloud-gcp-starter-logging\r\n- com.google.cloud:spring-cloud-gcp-starter-metrics\r\n\r\npull in, and use, the library io.grpc.netty.shaded.io.netty (and grpc.netty) and that is where the problem lays!\r\n\r\nOur micro-service, that has the pubsub-publisher part, does not make use of the Java Reactor (mono/flux) async streams. We make use of a Tomcat (spring-boot web-starter) for our rest-services, and at our developed code there is no Netty server present!\r\n\r\nShould we consider this error as a BUG? It is caused by The Java Garbage-collector and the Netty object-count going out of sink somehow, right?\r\n\r\nThe question is: how to solve this problem, we need some help here?\r\n\r\nI did not find any solution browsing the net!\r\n\r\nI did use this property\r\n\r\nspring.netty.leak-detection=paranoid\r\n\r\nwhich gave me the next error\r\n```\r\n    Recent access records: \r\nCreated at:\r\n\tio.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:403)\r\n\tio.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\r\n\tio.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.allocate(SslHandler.java:2246)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1337)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)\r\n\tio.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\r\n\tio.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\r\n\tio.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\r\n\tio.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\r\n\tio.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\r\n\tio.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\r\n\tio.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\r\n\tio.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tio.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tjava.base/java.lang.Thread.run(Thread.java:829)\r\n2023-02-08 16:54:10.495  INFO [sub-subscriber1] o.s.i.h.s.MessagingMethodInvokerHelper   : Overriding default instance of MessageHandlerMethodFactory with provided one.\r\n```","title":"SUBJECT: LEAK: ByteBuf.release() was not called before it&#39;s garbage-collected","body":"<p>We are running a simple GCP Pubsub publisher that makes use of the Java Spring library (pubSubTemplate):</p>\n<p>pubSubTemplate.publish(topic, message);</p>\n<p>When sending lots of messages (about a million with a small payload of 6 primitive fields) The following Error messages appears:</p>\n<p>ERROR [bsub-publisher4] i.g.n.s.i.n.util.ResourceLeakDetector    : LEAK: ByteBuf.release() was not called before it's garbage-collected. See <a href=\"https://netty.io/wiki/reference-counted-objects.html\" rel=\"nofollow noreferrer\">https://netty.io/wiki/reference-counted-objects.html</a> for more information.</p>\n<p>(BTW the message-payload is present at our DB and to avoid loading all in memory we paginate and send them out in batches of 1000. The complete process takes a little more than a minute, amazing!)</p>\n<p>Several Spring-boot starters:</p>\n<ul>\n<li>org.springframework.boot:spring-boot-starter-actuator</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-pubsub</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-logging</li>\n<li>com.google.cloud:spring-cloud-gcp-starter-metrics</li>\n</ul>\n<p>pull in, and use, the library io.grpc.netty.shaded.io.netty (and grpc.netty) and that is where the problem lays!</p>\n<p>Our micro-service, that has the pubsub-publisher part, does not make use of the Java Reactor (mono/flux) async streams. We make use of a Tomcat (spring-boot web-starter) for our rest-services, and at our developed code there is no Netty server present!</p>\n<p>Should we consider this error as a BUG? It is caused by The Java Garbage-collector and the Netty object-count going out of sink somehow, right?</p>\n<p>The question is: how to solve this problem, we need some help here?</p>\n<p>I did not find any solution browsing the net!</p>\n<p>I did use this property</p>\n<p>spring.netty.leak-detection=paranoid</p>\n<p>which gave me the next error</p>\n<pre><code>    Recent access records: \nCreated at:\n    io.grpc.netty.shaded.io.netty.buffer.PooledByteBufAllocator.newDirectBuffer(PooledByteBufAllocator.java:403)\n    io.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:188)\n    io.grpc.netty.shaded.io.netty.buffer.AbstractByteBufAllocator.directBuffer(AbstractByteBufAllocator.java:179)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.allocate(SslHandler.java:2246)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.unwrap(SslHandler.java:1337)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decodeJdkCompatible(SslHandler.java:1235)\n    io.grpc.netty.shaded.io.netty.handler.ssl.SslHandler.decode(SslHandler.java:1284)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.decodeRemovalReentryProtection(ByteToMessageDecoder.java:510)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.callDecode(ByteToMessageDecoder.java:449)\n    io.grpc.netty.shaded.io.netty.handler.codec.ByteToMessageDecoder.channelRead(ByteToMessageDecoder.java:279)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:357)\n    io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:379)\n    io.grpc.netty.shaded.io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:365)\n    io.grpc.netty.shaded.io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    io.grpc.netty.shaded.io.netty.channel.nio.AbstractNioByteChannel$NioByteUnsafe.read(AbstractNioByteChannel.java:166)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKey(NioEventLoop.java:722)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeysOptimized(NioEventLoop.java:658)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.processSelectedKeys(NioEventLoop.java:584)\n    io.grpc.netty.shaded.io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:496)\n    io.grpc.netty.shaded.io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:995)\n    io.grpc.netty.shaded.io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    io.grpc.netty.shaded.io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    java.base/java.lang.Thread.run(Thread.java:829)\n2023-02-08 16:54:10.495  INFO [sub-subscriber1] o.s.i.h.s.MessagingMethodInvokerHelper   : Overriding default instance of MessageHandlerMethodFactory with provided one.\n</code></pre>\n"},{"tags":["java","jpa","plsql","oracle11g","eclipselink"],"comments":[{"owner":{"account_id":74118,"reputation":49342,"user_id":213136,"accept_rate":100,"display_name":"Bob Jarvis - Слава Україні"},"score":1,"creation_date":1409772000,"post_id":25649326,"comment_id":40083363,"body_markdown":"possible duplicate of [Calling an oracle function from JPA](http://stackoverflow.com/questions/5688152/calling-an-oracle-function-from-jpa)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/5688152/calling-an-oracle-function-from-jpa\">Calling an oracle function from JPA</a>"},{"owner":{"account_id":295230,"reputation":14501,"user_id":599528,"accept_rate":95,"display_name":"Jacob"},"score":1,"creation_date":1409814119,"post_id":25649326,"comment_id":40096447,"body_markdown":"Try [this](http://stackoverflow.com/a/14722588/599528)","body":"Try <a href=\"http://stackoverflow.com/a/14722588/599528\">this</a>"}],"answers":[{"comments":[{"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"score":0,"creation_date":1509952870,"post_id":47089511,"comment_id":81212810,"body_markdown":"Yes you can execute an SQL query that will call the function. But I&#39;m looking for a way to call the function directly, as you can do with stored procedures.","body":"Yes you can execute an SQL query that will call the function. But I&#39;m looking for a way to call the function directly, as you can do with stored procedures."},{"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"score":0,"creation_date":1509954209,"post_id":47089511,"comment_id":81213430,"body_markdown":"It can be achieved through JDBC API as shown in solution 2.","body":"It can be achieved through JDBC API as shown in solution 2."}],"tags":[],"owner":{"account_id":12109712,"reputation":387,"user_id":8847101,"display_name":"ukchaudhary"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509691564,"creation_date":1509689494,"answer_id":47089511,"question_id":25649326,"body_markdown":"**Sample Oracle Function:**\r\n\r\n    CREATE OR REPLACE FUNCTION f_get_random_number\r\n      RETURN NUMBER\r\n    AS\r\n    BEGIN\r\n      RETURN TRUNC(dbms_random.value(1,100));\r\n    END;\r\n**Solution 1: using SQL Query**\r\n\r\n    BigDecimal val = (BigDecimal)entityManager\r\n\t\t\t\t\t\t.createNativeQuery(&quot;SELECT f_get_random_number FROM DUAL&quot;)\r\n\t\t\t\t\t\t.getSingleResult();\r\n\r\n**Solution 2: using JDBC API**\r\n\r\n    Session session = entityManager.unwrap( Session.class );\t\t \r\n\t\tInteger out = session.doReturningWork( \r\n\t\t    connection -&gt; {\r\n\t\t    try (CallableStatement function = connection.prepareCall(&quot;{ ? = call f_get_random_number }&quot; )) {\r\n\t\t    \tfunction.registerOutParameter( 1, Types.INTEGER );\r\n\t\t    \tfunction.execute();\r\n\t\t        return function.getInt(1);\r\n\t\t    } \r\n\t\t} );","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p><strong>Sample Oracle Function:</strong></p>\n\n<pre><code>CREATE OR REPLACE FUNCTION f_get_random_number\n  RETURN NUMBER\nAS\nBEGIN\n  RETURN TRUNC(dbms_random.value(1,100));\nEND;\n</code></pre>\n\n<p><strong>Solution 1: using SQL Query</strong></p>\n\n<pre><code>BigDecimal val = (BigDecimal)entityManager\n                    .createNativeQuery(\"SELECT f_get_random_number FROM DUAL\")\n                    .getSingleResult();\n</code></pre>\n\n<p><strong>Solution 2: using JDBC API</strong></p>\n\n<pre><code>Session session = entityManager.unwrap( Session.class );         \n    Integer out = session.doReturningWork( \n        connection -&gt; {\n        try (CallableStatement function = connection.prepareCall(\"{ ? = call f_get_random_number }\" )) {\n            function.registerOutParameter( 1, Types.INTEGER );\n            function.execute();\n            return function.getInt(1);\n        } \n    } );\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"score":0,"creation_date":1684233823,"post_id":76254468,"comment_id":134484639,"body_markdown":"@Roland: Hey - a question almost ten years old, and my answer is accepted within hours. Thanks a lot!","body":"@Roland: Hey - a question almost ten years old, and my answer is accepted within hours. Thanks a lot!"}],"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1684156533,"creation_date":1684156533,"answer_id":76254468,"question_id":25649326,"body_markdown":"*As an addition to ukchaudhary&#39;s answer:*\r\n\r\n&gt; So I assume its not possible to call an Oracle function using\r\n&gt; StoredProcedureQuery?\r\n\r\nYes, exactly. Oracle has both *stored procedures* and *functions*. \r\n`StoredProcedureQuery` can be used to call stored procedures, but it cannot call stored functions, at least not on Oracle (hence the name).\r\n\r\nTo call a function, JPA offers the `FUNCTION` keyword in JPA. This allows invoking a function from inside a JPQL query. For example, a function &quot;hasGoodCredit&quot; is called like this:\r\n\r\n    SELECT c FROM Customer c\r\n    WHERE FUNCTION(‘hasGoodCredit’, c.balance, c.creditLimit)\r\n\r\nSee JPA specification, [Invocation of Predefined and User-defined Database Functions][1].\r\n\r\nHowever, `FUNCTION` only works inside a regular JPQL statement (SELECT, UPDATE, DELETE etc.), so it cannot be used for Oracle functions which perform data manipulation (DML), as these can only be invoked separately.\r\n\r\nTherefore, such functions cannot be invoked via JPA. You will have to use JDBC or a native query.\r\n\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5311","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p><em>As an addition to ukchaudhary's answer:</em></p>\n<blockquote>\n<p>So I assume its not possible to call an Oracle function using\nStoredProcedureQuery?</p>\n</blockquote>\n<p>Yes, exactly. Oracle has both <em>stored procedures</em> and <em>functions</em>.\n<code>StoredProcedureQuery</code> can be used to call stored procedures, but it cannot call stored functions, at least not on Oracle (hence the name).</p>\n<p>To call a function, JPA offers the <code>FUNCTION</code> keyword in JPA. This allows invoking a function from inside a JPQL query. For example, a function &quot;hasGoodCredit&quot; is called like this:</p>\n<pre><code>SELECT c FROM Customer c\nWHERE FUNCTION(‘hasGoodCredit’, c.balance, c.creditLimit)\n</code></pre>\n<p>See JPA specification, <a href=\"https://jakarta.ee/specifications/persistence/3.0/jakarta-persistence-spec-3.0.html#a5311\" rel=\"nofollow noreferrer\">Invocation of Predefined and User-defined Database Functions</a>.</p>\n<p>However, <code>FUNCTION</code> only works inside a regular JPQL statement (SELECT, UPDATE, DELETE etc.), so it cannot be used for Oracle functions which perform data manipulation (DML), as these can only be invoked separately.</p>\n<p>Therefore, such functions cannot be invoked via JPA. You will have to use JDBC or a native query.</p>\n"}],"owner":{"account_id":222360,"reputation":7615,"user_id":480894,"accept_rate":72,"display_name":"Roland"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76254468,"answer_count":2,"score":1,"last_activity_date":1684156533,"creation_date":1409761665,"question_id":25649326,"body_markdown":"I&#39;m trying to call an Oracle PL/SQL function using [javax.persistence.StoredProcedureQuery][1] and I get the error `PLS-00221: &#39;function_name&#39; is not a procedure or is undefined`\r\n\r\nSo I assume its not possible to call an Oracle function using [StoredProcedureQuery][1]?\r\n\r\nI don&#39;t see JPA offering an interface to call functions(as opposed to stored procedures). So how do I accomplish it?\r\n\r\n\r\n  [1]: https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html","title":"Calling Oracle function with StoredProcedureQuery?","body":"<p>I'm trying to call an Oracle PL/SQL function using <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html\" rel=\"nofollow noreferrer\">javax.persistence.StoredProcedureQuery</a> and I get the error <code>PLS-00221: 'function_name' is not a procedure or is undefined</code></p>\n\n<p>So I assume its not possible to call an Oracle function using <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/StoredProcedureQuery.html\" rel=\"nofollow noreferrer\">StoredProcedureQuery</a>?</p>\n\n<p>I don't see JPA offering an interface to call functions(as opposed to stored procedures). So how do I accomplish it?</p>\n"},{"tags":["java","reflections"],"answers":[{"tags":[],"owner":{"account_id":16585113,"reputation":109,"user_id":11984746,"display_name":"bigbang"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684156427,"creation_date":1684156427,"answer_id":76254454,"question_id":76254325,"body_markdown":"For anybody who is looking for a not so elegant fix, this is how I have currently excluded the test directory:\r\n\r\n```\r\nfinal Set&lt;Class&lt;? extends BaseClass&gt;&gt; subTypes =\r\n        new Reflections(new ConfigurationBuilder().forPackages(myPackage).filterInputsBy(new FilterBuilder().exclude(&quot;test&quot;)))\r\n            .getSubTypesOf(BaseClass.class);\r\n```","title":"getSubTypesOf returning anonymous types defined in tests","body":"<p>For anybody who is looking for a not so elegant fix, this is how I have currently excluded the test directory:</p>\n<pre><code>final Set&lt;Class&lt;? extends BaseClass&gt;&gt; subTypes =\n        new Reflections(new ConfigurationBuilder().forPackages(myPackage).filterInputsBy(new FilterBuilder().exclude(&quot;test&quot;)))\n            .getSubTypesOf(BaseClass.class);\n</code></pre>\n"}],"owner":{"account_id":16585113,"reputation":109,"user_id":11984746,"display_name":"bigbang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1684156427,"creation_date":1684155471,"question_id":76254325,"body_markdown":"The problem I am facing is the same as described in this github issue: [getSubTypesOf returning anonymous types defined in tests](https://github.com/ronmamo/reflections/issues/188)\r\n\r\nThe thread seems to have ended with only a couple of responses and nothing seems to be of help on the web. Can anybody help with an elegant fix for this? Thanks in advance.\r\n\r\nI have tried searching over SO, Github issues and other tutorials to read more about Reflections library and see if there&#39;s an option to exclude the test directory while scanning but couldn&#39;t find something.","title":"getSubTypesOf returning anonymous types defined in tests","body":"<p>The problem I am facing is the same as described in this github issue: <a href=\"https://github.com/ronmamo/reflections/issues/188\" rel=\"nofollow noreferrer\">getSubTypesOf returning anonymous types defined in tests</a></p>\n<p>The thread seems to have ended with only a couple of responses and nothing seems to be of help on the web. Can anybody help with an elegant fix for this? Thanks in advance.</p>\n<p>I have tried searching over SO, Github issues and other tutorials to read more about Reflections library and see if there's an option to exclude the test directory while scanning but couldn't find something.</p>\n"},{"tags":["java","mongodb","spring-boot","mongodb-query","spring-mongodb"],"owner":{"account_id":28216154,"reputation":1,"user_id":21567637,"display_name":"App"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684155455,"creation_date":1684155400,"question_id":76254318,"body_markdown":"I am trying to implement partial search. For that I have added regex also. But it&#39;s not working.If whole word is matching then only it&#39;s returning the matching contents.              \r\n\r\n\r\n```\r\npublic &lt;T&gt; Page&lt;T&gt; partialSearch(Class&lt;T&gt; t, SearchRequest request) {\r\nString partialSerchKey = &quot;.*&quot;+request.getSearchKey()+&quot;.*&quot;;\r\nTextCriteria criteria = TextCriteria.forDefaultLanguage().matchingAny(partialSerchKey);\r\nCriteria searchCriteria = buildCriteria(request.getSessionProfile().getCompanies().get(0), request.getFilterModel());\r\nQuery textQuery = Query.query(searchCriteria).addCriteria(criteria);\r\nSort sort = getSortModel(request.getSortModel());\r\nlog.debug(&quot;SORT : {}&quot;,sort);\r\nint pageSize = request.getEndRow() - request.getStartRow();\r\nint pageIndex = (request.getEndRow() / pageSize)-1;\r\n\r\nlog.debug(&quot;Page Index : {}, Page Size : {}&quot;, pageIndex, pageSize);\r\nPageable paging = (sort == null)? PageRequest.of(pageIndex, pageSize) : PageRequest.of(pageIndex, pageSize, sort);\r\nPage&lt;T&gt; irPage = PageableExecutionUtils.getPage(zportDBTemplate.find(textQuery.with(paging), t),\r\npaging,\r\n() -&gt; 0);\r\nreturn irPage;\r\n}\r\n\r\n```\r\n","title":"Partial Search using spring boot and MongoDB as a database","body":"<p>I am trying to implement partial search. For that I have added regex also. But it's not working.If whole word is matching then only it's returning the matching contents.</p>\n<pre><code>public &lt;T&gt; Page&lt;T&gt; partialSearch(Class&lt;T&gt; t, SearchRequest request) {\nString partialSerchKey = &quot;.*&quot;+request.getSearchKey()+&quot;.*&quot;;\nTextCriteria criteria = TextCriteria.forDefaultLanguage().matchingAny(partialSerchKey);\nCriteria searchCriteria = buildCriteria(request.getSessionProfile().getCompanies().get(0), request.getFilterModel());\nQuery textQuery = Query.query(searchCriteria).addCriteria(criteria);\nSort sort = getSortModel(request.getSortModel());\nlog.debug(&quot;SORT : {}&quot;,sort);\nint pageSize = request.getEndRow() - request.getStartRow();\nint pageIndex = (request.getEndRow() / pageSize)-1;\n\nlog.debug(&quot;Page Index : {}, Page Size : {}&quot;, pageIndex, pageSize);\nPageable paging = (sort == null)? PageRequest.of(pageIndex, pageSize) : PageRequest.of(pageIndex, pageSize, sort);\nPage&lt;T&gt; irPage = PageableExecutionUtils.getPage(zportDBTemplate.find(textQuery.with(paging), t),\npaging,\n() -&gt; 0);\nreturn irPage;\n}\n\n</code></pre>\n"},{"tags":["java","spring-mvc","environment-variables","ubuntu-22.04"],"answers":[{"comments":[{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684152793,"post_id":76253881,"comment_id":134470418,"body_markdown":"I used this but it still gives same error saying , \n\nFailed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\n```","body":"I used this but it still gives same error saying ,   Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39; ```"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684152910,"post_id":76253881,"comment_id":134470456,"body_markdown":"Do you have the mysql driver on the classpath, it doesn&#39;t appear so. You need to add it as a dependency. My code also contained a typo, I modified it (which is also what the error tells you and that is what you get when you are blindly copy/pasting code from StackOverflow :) ). .","body":"Do you have the mysql driver on the classpath, it doesn&#39;t appear so. You need to add it as a dependency. My code also contained a typo, I modified it (which is also what the error tells you and that is what you get when you are blindly copy/pasting code from StackOverflow :) ). ."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684153077,"post_id":76253881,"comment_id":134470502,"body_markdown":"&lt;dependency&gt;\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;8.0.28&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\nI have added this dependency","body":"&lt;dependency&gt; \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt; \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt; \t\t\t&lt;version&gt;8.0.28&lt;/version&gt; \t\t&lt;/dependency&gt;  I have added this dependency"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684153224,"post_id":76253881,"comment_id":134470543,"body_markdown":"Have you tried again with the proper URL?","body":"Have you tried again with the proper URL?"},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684153759,"post_id":76253881,"comment_id":134470673,"body_markdown":"Yes  &quot;jdbc:mysql://localhost:3306/mydb?useSSL=false&quot;","body":"Yes  &quot;jdbc:mysql://localhost:3306/mydb?useSSL=false&quot;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684153794,"post_id":76253881,"comment_id":134470679,"body_markdown":"And the error you get is? If it doesn&#39;t find the class, you haven&#39;t (properly) included the dependency.","body":"And the error you get is? If it doesn&#39;t find the class, you haven&#39;t (properly) included the dependency."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684154157,"post_id":76253881,"comment_id":134470778,"body_markdown":"Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;","body":"Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfi&zwnj;&#8203;guration$Hikari.clas&zwnj;&#8203;s]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684154200,"post_id":76253881,"comment_id":134470787,"body_markdown":"Why did you use `&quot;jdbc:mysql://localhost:3306/mydb?useSSL=false&quot;`? The value must not be quoted.","body":"Why did you use <code>&quot;jdbc:mysql:&#47;&#47;localhost:3306&#47;mydb?useSSL=false&quot;</code>? The value must not be quoted."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684154246,"post_id":76253881,"comment_id":134470804,"body_markdown":"I have set that in environment","body":"I have set that in environment"},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684154304,"post_id":76253881,"comment_id":134470817,"body_markdown":"export SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/mydb?useSSL=false\n\nexport SPRING_DATASOURCE_USERNAME=root \nexport SPRING_DATASOURCE_PASSWORD=root\n```\n\n\nspring.datasource.url=${SPRING_DATASOURCE_URL}\nspring.datasource.username=${SPRING_DATASOURCE_USERNAME}\nspring.datasource.password=${SPRING_DATASOURCE_PASSWORD}","body":"export SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/mydb?useSS&zwnj;&#8203;L=false  export SPRING_DATASOURCE_USERNAME=root  export SPRING_DATASOURCE_PASSWORD=root ```   spring.datasource.url=${SPRING_DATASOURCE_URL} spring.datasource.username=${SPRING_DATASOURCE_USERNAME} spring.datasource.password=${SPRING_DATASOURCE_PASSWORD}"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684154563,"post_id":76253881,"comment_id":134470879,"body_markdown":"Sigh... As I stated in the answer and my comment do not include those in your `application.properties`. Spring Boot will **automatically use them**.","body":"Sigh... As I stated in the answer and my comment do not include those in your <code>application.properties</code>. Spring Boot will <b>automatically use them</b>."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684161536,"post_id":76253881,"comment_id":134472579,"body_markdown":"okk... I tried that removing that from application.properties and now I am getting error  as\n\n&quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured.","body":"okk... I tried that removing that from application.properties and now I am getting error  as  &quot;Failed to configure a DataSource: &#39;url&#39; attribute is not specified and no embedded datasource could be configured."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684167341,"post_id":76253881,"comment_id":134474160,"body_markdown":"Tried running application using mvn -q spring-boot:run in terminal, it works. \nBut not through eclipse IDE.","body":"Tried running application using mvn -q spring-boot:run in terminal, it works.  But not through eclipse IDE."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684169109,"post_id":76253881,"comment_id":134474573,"body_markdown":"If you do `export` in a shell it will only apply to that shell instance. You will need to make it available globally.","body":"If you do <code>export</code> in a shell it will only apply to that shell instance. You will need to make it available globally."},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684213250,"post_id":76253881,"comment_id":134480506,"body_markdown":"&quot;By adding the export statements to the .bashrc file in your home directory, you are configuring the system to set those environment variables every time a new shell session is started. This makes the variables available globally within the user&#39;s environment.&quot;\n\nI have followed this and saved values in .bashrc file. But not working. \nMy aim is to get env values from .properties file","body":"&quot;By adding the export statements to the .bashrc file in your home directory, you are configuring the system to set those environment variables every time a new shell session is started. This makes the variables available globally within the user&#39;s environment.&quot;  I have followed this and saved values in .bashrc file. But not working.  My aim is to get env values from .properties file"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684214839,"post_id":76253881,"comment_id":134480670,"body_markdown":"Read... Again read... **SHELL ENVIRONMENT**... Eclipse is **NOT** a Shell Environment.","body":"Read... Again read... <b>SHELL ENVIRONMENT</b>... Eclipse is <b>NOT</b> a Shell Environment."}],"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":16,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684152878,"creation_date":1684152203,"answer_id":76253881,"question_id":76251394,"body_markdown":"Don&#39;t. You are really overcomplicating things. Leave the application context as is, don&#39;t change. Name the environment variables `SPRING_DATASOURCE_URL` (all uppercase) and Spring Boot will automatically use those instead of the values from the `application.properties`. \r\n\r\n```bash\r\nexport SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/abc?useSSL=false \r\nexport SPRING_DATASOURCE_USERNAME=root \r\nexport SPRING_DATASOURCE_PASSWORD=root\r\n```\r\n\r\nSpring Boot will automatically use these, instead of the ones from `application.properties`. ","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>Don't. You are really overcomplicating things. Leave the application context as is, don't change. Name the environment variables <code>SPRING_DATASOURCE_URL</code> (all uppercase) and Spring Boot will automatically use those instead of the values from the <code>application.properties</code>.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>export SPRING_DATASOURCE_URL=jdbc:mysql://localhost:3306/abc?useSSL=false \nexport SPRING_DATASOURCE_USERNAME=root \nexport SPRING_DATASOURCE_PASSWORD=root\n</code></pre>\n<p>Spring Boot will automatically use these, instead of the ones from <code>application.properties</code>.</p>\n"},{"comments":[{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684161725,"post_id":76254316,"comment_id":134472633,"body_markdown":"yes I verified it is registered in enviornment. I am directly setting in the &quot;application.properties&quot; file","body":"yes I verified it is registered in enviornment. I am directly setting in the &quot;application.properties&quot; file"},{"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"score":0,"creation_date":1684167480,"post_id":76254316,"comment_id":134474191,"body_markdown":"Tried running application using mvn -q spring-boot:run in terminal, it works. But not through eclipse IDE.","body":"Tried running application using mvn -q spring-boot:run in terminal, it works. But not through eclipse IDE."},{"owner":{"account_id":5851147,"reputation":34,"user_id":4609791,"display_name":"Vish"},"score":0,"creation_date":1684213829,"post_id":76254316,"comment_id":134480571,"body_markdown":"@GShares `mvn -q --  &quot;-q,--quiet  Quiet output - only show errors&quot;` with the `mvn -q  spring-boot:run` you are essentially booting the application with mvn which is better explained in below example and while running with eclipse IDE you need to look at the run configuration. Why you are referring the properties from environment variables and the properties file, you can do with either of them. \n[Execute spring boot mvn vs jar](https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar) \\ [Data source error solution](https://www.baeldung.com/spring-boot-failed-to-configure-data-source)","body":"@GShares <code>mvn -q --  &quot;-q,--quiet  Quiet output - only show errors&quot;</code> with the <code>mvn -q  spring-boot:run</code> you are essentially booting the application with mvn which is better explained in below example and while running with eclipse IDE you need to look at the run configuration. Why you are referring the properties from environment variables and the properties file, you can do with either of them.  <a href=\"https://www.baeldung.com/spring-boot-run-maven-vs-executable-jar\" rel=\"nofollow noreferrer\">Execute spring boot mvn vs jar</a> \\ <a href=\"https://www.baeldung.com/spring-boot-failed-to-configure-data-source\" rel=\"nofollow noreferrer\">Data source error solution</a>"}],"tags":[],"owner":{"account_id":5851147,"reputation":34,"user_id":4609791,"display_name":"Vish"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684155392,"creation_date":1684155392,"answer_id":76254316,"question_id":76251394,"body_markdown":"You can refer below website&#39;s detailed explanation:\\\r\n[Baledung - env variables](https://www.baeldung.com/spring-boot-properties-env-variables)\\\r\n[JavaRevisited -  env variables](https://javarevisited.blogspot.com/2022/04/how-to-use-environment-variables-in.html#axzz81mTBzn6P)\r\n\r\nOther things to consider are:\r\n 1. After executing your .bashrc, did you verify the exported variables are registered successfully and available to the application.\r\n 2. Which profile like dev,uat or these directly set in the &quot;application.properties&quot;?","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>You can refer below website's detailed explanation:<br />\n<a href=\"https://www.baeldung.com/spring-boot-properties-env-variables\" rel=\"nofollow noreferrer\">Baledung - env variables</a><br />\n<a href=\"https://javarevisited.blogspot.com/2022/04/how-to-use-environment-variables-in.html#axzz81mTBzn6P\" rel=\"nofollow noreferrer\">JavaRevisited -  env variables</a></p>\n<p>Other things to consider are:</p>\n<ol>\n<li>After executing your .bashrc, did you verify the exported variables are registered successfully and available to the application.</li>\n<li>Which profile like dev,uat or these directly set in the &quot;application.properties&quot;?</li>\n</ol>\n"}],"owner":{"account_id":28603017,"reputation":3,"user_id":21899527,"display_name":"G Shares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76253881,"answer_count":2,"score":0,"last_activity_date":1684155392,"creation_date":1684132171,"question_id":76251394,"body_markdown":"I am trying to set below values in enviornment (Ubuntu 22.04)\r\n\r\n\r\n```\r\nspring.datasource.url = jdbc:mysql://localhost:3306/abc?useSSL=false\r\nspring.datasource.username = root\r\nspring.datasource.password = root\r\n```\r\n\r\nI have set values in enviornment as\r\n\r\n```\r\nexport spring_datasource_url_prefix=mysql \r\nexport spring_datasource_host=localhost \r\nexport spring_datasource_port=3306 \r\nexport spring_datasource_database=abc \r\nexport spring_datasource_username=root \r\nexport spring_datasource_password=root\r\n```\r\n\r\nAnd in my Spring Boot `application.properties` file I have used it as\r\n\r\n```\r\nspring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\r\nspring.datasource.username=${spring_datasource_username}\r\nspring.datasource.password=${spring_datasource_password}\r\n```\r\n\r\nBut I am unable to fetch values using this. Am I missing anything or doing it wrong? I have tried setting enviornment through nano `.bashrc` and as mentioned above.\r\n\r\nI am getting error as \r\n```\r\nError creating bean with name &#39;inMemoryDatabaseShutdownExecutor&#39; defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;inMemoryDatabaseShutdownExecutor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with &#39;jdbc&#39;\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n\tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\r\n```\r\n\r\n\r\nI have also tried it as below\r\n\r\n```\r\nspring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\r\nspring.datasource.username=${spring_datasource_username}\r\nspring.datasource.password=${spring_datasource_password}\r\n\r\n```\r\n\r\nI am getting error as below\r\n\r\n```\r\nException encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;inMemoryDatabaseShutdownExecutor&#39; defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;inMemoryDatabaseShutdownExecutor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;dataSource&#39; defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method &#39;dataSource&#39; threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\r\n[2m2023-05-15 17:30:06.909[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\r\n[2m2023-05-15 17:30:06.929[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \r\n\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n[2m2023-05-15 17:30:06.931[0;39m [31mERROR[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nFailed to configure a DataSource: no embedded datasource could be configured.\r\n\r\nReason: Failed to determine a suitable driver class\r\n\r\n```","title":"Set values in environment for spring boot application in Ubuntu 22.04","body":"<p>I am trying to set below values in enviornment (Ubuntu 22.04)</p>\n<pre><code>spring.datasource.url = jdbc:mysql://localhost:3306/abc?useSSL=false\nspring.datasource.username = root\nspring.datasource.password = root\n</code></pre>\n<p>I have set values in enviornment as</p>\n<pre><code>export spring_datasource_url_prefix=mysql \nexport spring_datasource_host=localhost \nexport spring_datasource_port=3306 \nexport spring_datasource_database=abc \nexport spring_datasource_username=root \nexport spring_datasource_password=root\n</code></pre>\n<p>And in my Spring Boot <code>application.properties</code> file I have used it as</p>\n<pre><code>spring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\nspring.datasource.username=${spring_datasource_username}\nspring.datasource.password=${spring_datasource_password}\n</code></pre>\n<p>But I am unable to fetch values using this. Am I missing anything or doing it wrong? I have tried setting enviornment through nano <code>.bashrc</code> and as mentioned above.</p>\n<p>I am getting error as</p>\n<pre><code>Error creating bean with name 'inMemoryDatabaseShutdownExecutor' defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method 'inMemoryDatabaseShutdownExecutor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: URL must start with 'jdbc'\n    at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:797) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:538) ~[spring-beans-5.2.9.RELEASE.jar:5.2.9.RELEASE]\n</code></pre>\n<p>I have also tried it as below</p>\n<pre><code>spring.datasource.url=jdbc:${spring_datasource_url_prefix}://${spring_datasource_host}:${spring_datasource_port}/${spring_datasource_database}\nspring.datasource.username=${spring_datasource_username}\nspring.datasource.password=${spring_datasource_password}\n\n</code></pre>\n<p>I am getting error as below</p>\n<pre><code>Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'inMemoryDatabaseShutdownExecutor' defined in class path resource [org/springframework/boot/devtools/autoconfigure/DevToolsDataSourceAutoConfiguration.class]: Unsatisfied dependency expressed through method 'inMemoryDatabaseShutdownExecutor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception; nested exception is org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class\n[2m2023-05-15 17:30:06.909[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Stopping service [Tomcat]\n[2m2023-05-15 17:30:06.929[0;39m [32m INFO[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mConditionEvaluationReportLoggingListener[0;39m [2m:[0;39m \n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n[2m2023-05-15 17:30:06.931[0;39m [31mERROR[0;39m [35m2208925[0;39m [2m---[0;39m [2m[  restartedMain][0;39m [36mo.s.b.d.LoggingFailureAnalysisReporter  [0;39m [2m:[0;39m \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nFailed to configure a DataSource: no embedded datasource could be configured.\n\nReason: Failed to determine a suitable driver class\n\n</code></pre>\n"},{"tags":["java","maven","maven-shade-plugin","launch4j"],"owner":{"account_id":28555738,"reputation":11,"user_id":21859971,"display_name":"derYak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684155345,"creation_date":1684147754,"question_id":76253323,"body_markdown":"first: Please be gentle, I&#39;m very new to this.\r\n\r\nI have a java application which is a client connecting to a wildfly instance. Running this from IDE works. Now i want to wrap the client to an .EXE using akathist-launch4j-maven-plugin and the maven-shade-plugin. I&#39;m using those instead of jpackage since i dont want an installer, but a plain exe to run the programm. The wrapping works and runs until it tries to call java.util.AbstractMap().\r\n\r\nError message:\r\n`Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.AbstractMap() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @7e32c033`\r\n\r\n\r\nFrom https://stackoverflow.com/a/41265267/21859971 i gathered it would work if i passed &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; to the jvm.\r\n\r\nThe exclusion filters were added because before it would run into problems with the signed jars inside the shaded one.\r\n\r\nThe questions now are:\r\na) Is that the right way to go about it?\r\n\r\nb) If so, how do I modify the pom to include this argument?\r\n\r\nPom plugins excerpt:\r\n```\r\n   &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.4.1&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n\t\t    &lt;filters&gt;\r\n\t\t        &lt;filter&gt;\r\n\t\t            &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n\t\t            &lt;excludes&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n\t\t                &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n\t\t            &lt;/excludes&gt;\r\n\t\t        &lt;/filter&gt;\r\n\t\t    &lt;/filters&gt;\t\t\t\t\r\n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\r\n            &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\r\n            &lt;transformers&gt;\r\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n                    &lt;mainClass&gt;de/cni/client/gui/pages/main/StartApplication&lt;/mainClass&gt;                        \r\n                &lt;/transformer&gt;\r\n            &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;                                \r\n\t&lt;plugin&gt;\r\n\t    &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\r\n\t    &lt;version&gt;2.4.1&lt;/version&gt;\r\n\t    &lt;executions&gt;\r\n\t        &lt;execution&gt;\r\n\t            &lt;id&gt;l4j-clui&lt;/id&gt;\r\n\t            &lt;phase&gt;package&lt;/phase&gt;\r\n\t            &lt;goals&gt;\r\n\t                &lt;goal&gt;launch4j&lt;/goal&gt;\r\n\t            &lt;/goals&gt;\r\n\t            &lt;configuration&gt;\r\n\t                &lt;headerType&gt;console&lt;/headerType&gt;\r\n\t                &lt;jar&gt;${project.build.directory}/${project.artifactId}-${project.version}-shaded.jar&lt;/jar&gt;\r\n\t                &lt;outfile&gt;${project.build.directory}/app-client.exe&lt;/outfile&gt;\r\n\t                &lt;classPath&gt;\r\n\t                    &lt;mainClass&gt;[..]/client/gui/pages/main/StartApplication&lt;/mainClass&gt;\r\n\t                    &lt;preCp&gt;anything&lt;/preCp&gt;\r\n\t                &lt;/classPath&gt;\t\t                        \r\n\t\t\t\t  &lt;jre&gt;\r\n\t\t\t\t    &lt;path&gt;${java.home}/bin&lt;/path&gt;\r\n\t\t\t\t    &lt;minVersion&gt;17.0.2&lt;/minVersion&gt;\r\n\t\t\t\t    &lt;maxVersion&gt;&lt;/maxVersion&gt;\r\n\t\t\t\t    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\r\n\t\t\t\t    &lt;requires64Bit&gt;true&lt;/requires64Bit&gt;\t    \r\n\t\t\t\t  &lt;/jre&gt;\r\n\t            &lt;/configuration&gt;\r\n\t        &lt;/execution&gt;\r\n\t    &lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n```\r\n**Edit**:\r\nAs is tradition, an hour after posting this i tried something i did before and now it worked.\r\nI added:\r\n```\r\n\t\t\t\t    &lt;opts&gt;\r\n\t\t\t\t\t\t&lt;opt&gt;--add-opens java.base/java.util=ALL-UNNAMED&lt;/opt&gt;\r\n\t\t\t\t\t\t&lt;opt&gt;--add-opens java.base/java.util.concurrent=ALL-UNNAMED&lt;/opt&gt;\r\n\t\t\t\t\t&lt;/opts&gt;\r\n``` \r\nto the &lt;configuration&gt;&lt;jre&gt; of the launch4j plugin and now it is running.\r\n\r\nI&#39;m not going to put this as an answer since I&#39;m reasonably sure there is a better (correct) way to solve this.","title":"Maven Launch4j Plugin InaccessibleObject // add JVM argument to POM","body":"<p>first: Please be gentle, I'm very new to this.</p>\n<p>I have a java application which is a client connecting to a wildfly instance. Running this from IDE works. Now i want to wrap the client to an .EXE using akathist-launch4j-maven-plugin and the maven-shade-plugin. I'm using those instead of jpackage since i dont want an installer, but a plain exe to run the programm. The wrapping works and runs until it tries to call java.util.AbstractMap().</p>\n<p>Error message:\n<code>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected java.util.AbstractMap() accessible: module java.base does not &quot;opens java.util&quot; to unnamed module @7e32c033</code></p>\n<p>From <a href=\"https://stackoverflow.com/a/41265267/21859971\">https://stackoverflow.com/a/41265267/21859971</a> i gathered it would work if i passed &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot; to the jvm.</p>\n<p>The exclusion filters were added because before it would run into problems with the signed jars inside the shaded one.</p>\n<p>The questions now are:\na) Is that the right way to go about it?</p>\n<p>b) If so, how do I modify the pom to include this argument?</p>\n<p>Pom plugins excerpt:</p>\n<pre><code>   &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;shade&lt;/goal&gt;\n                &lt;/goals&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n            &lt;filters&gt;\n                &lt;filter&gt;\n                    &lt;artifact&gt;*:*&lt;/artifact&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/filter&gt;\n            &lt;/filters&gt;              \n            &lt;shadedArtifactAttached&gt;true&lt;/shadedArtifactAttached&gt;\n            &lt;shadedClassifierName&gt;shaded&lt;/shadedClassifierName&gt;\n            &lt;transformers&gt;\n                &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n                    &lt;mainClass&gt;de/cni/client/gui/pages/main/StartApplication&lt;/mainClass&gt;                        \n                &lt;/transformer&gt;\n            &lt;/transformers&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;                                \n    &lt;plugin&gt;\n        &lt;groupId&gt;com.akathist.maven.plugins.launch4j&lt;/groupId&gt;\n        &lt;artifactId&gt;launch4j-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;id&gt;l4j-clui&lt;/id&gt;\n                &lt;phase&gt;package&lt;/phase&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;launch4j&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;headerType&gt;console&lt;/headerType&gt;\n                    &lt;jar&gt;${project.build.directory}/${project.artifactId}-${project.version}-shaded.jar&lt;/jar&gt;\n                    &lt;outfile&gt;${project.build.directory}/app-client.exe&lt;/outfile&gt;\n                    &lt;classPath&gt;\n                        &lt;mainClass&gt;[..]/client/gui/pages/main/StartApplication&lt;/mainClass&gt;\n                        &lt;preCp&gt;anything&lt;/preCp&gt;\n                    &lt;/classPath&gt;                                \n                  &lt;jre&gt;\n                    &lt;path&gt;${java.home}/bin&lt;/path&gt;\n                    &lt;minVersion&gt;17.0.2&lt;/minVersion&gt;\n                    &lt;maxVersion&gt;&lt;/maxVersion&gt;\n                    &lt;requiresJdk&gt;true&lt;/requiresJdk&gt;\n                    &lt;requires64Bit&gt;true&lt;/requires64Bit&gt;     \n                  &lt;/jre&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;\n</code></pre>\n<p><strong>Edit</strong>:\nAs is tradition, an hour after posting this i tried something i did before and now it worked.\nI added:</p>\n<pre><code>                    &lt;opts&gt;\n                        &lt;opt&gt;--add-opens java.base/java.util=ALL-UNNAMED&lt;/opt&gt;\n                        &lt;opt&gt;--add-opens java.base/java.util.concurrent=ALL-UNNAMED&lt;/opt&gt;\n                    &lt;/opts&gt;\n</code></pre>\n<p>to the  of the launch4j plugin and now it is running.</p>\n<p>I'm not going to put this as an answer since I'm reasonably sure there is a better (correct) way to solve this.</p>\n"},{"tags":["java","android","flutter","gradle"],"answers":[{"tags":[],"owner":{"account_id":22951175,"reputation":131,"user_id":17082429,"display_name":"Taimoor Ghafar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684153515,"creation_date":1684153515,"answer_id":76254050,"question_id":76253966,"body_markdown":"In &#39;android/gradle/wrapper/gradle-wrapper.properties&#39;\r\nChange distributionUrl\r\n\r\n&gt; \tdistributionUrl=https\\://services.gradle.org/distributions/gradle-7.6-all.zip\r\n\r\nIn &#39;android/build.gradle&#39;,\r\nChange &#39;com.android.tools.build:gradle:****&#39; to\r\n\r\n&gt;  &#39;com.android.tools.build:gradle:7.2.1&#39;\r\n\r\n","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>In 'android/gradle/wrapper/gradle-wrapper.properties'\nChange distributionUrl</p>\n<blockquote>\n<p>distributionUrl=https://services.gradle.org/distributions/gradle-7.6-all.zip</p>\n</blockquote>\n<p>In 'android/build.gradle',\nChange 'com.android.tools.build:gradle:****' to</p>\n<blockquote>\n<p>'com.android.tools.build:gradle:7.2.1'</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16372615,"reputation":1003,"user_id":19303836,"display_name":"IonicFireBaseApp"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684155136,"creation_date":1684155136,"answer_id":76254270,"question_id":76253966,"body_markdown":"Try to update your gradle version to higher one.","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>Try to update your gradle version to higher one.</p>\n"}],"owner":{"account_id":22403261,"reputation":720,"user_id":16613306,"display_name":"mishalhaneef"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":861,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684155136,"creation_date":1684152895,"question_id":76253966,"body_markdown":"I encountered an issue while building my Flutter project with Gradle. The build failed with the following error message:\r\n\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nCould not open settings generic class cache for settings file &#39;/Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/settings.gradle&#39; (/Users/mishalhaneef/.gradle/caches/7.4.1/scripts/a7jtzc7d8e1ht64fuhmylehgj).\r\n&gt; BUG! exception in phase &#39;semantic analysis&#39; in source unit &#39;_BuildScript_&#39; Unsupported class file major version 64\r\n\r\n* Try:\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 1m 8s\r\n┌─ Flutter Fix ────────────────────────────────────────────────────────────────────────────────────┐\r\n│ [!] Your project&#39;s Gradle version is incompatible with the Java version that Flutter is using    │\r\n│ for Gradle.                                                                                      │\r\n│                                                                                                  │\r\n│ To fix this issue, first, check the Java version used by Flutter by running `flutter doctor      │\r\n│ --verbose`.                                                                                      │\r\n│                                                                                                  │\r\n│ Then, update the Gradle version specified in                                                     │\r\n│ /Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/gradle/wrapper/gradle-wrapper │\r\n│ .properties to be compatible with that Java version. See the link below for more information on  │\r\n│ compatible Java/Gradle versions:                                                                 │\r\n│ https://docs.gradle.org/current/userguide/compatibility.html#java                                │\r\n2\r\n│                                                                                                  │\r\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘\r\n```\r\n\r\nI&#39;m using Flutter for my project, and it seems that there is a compatibility issue between the Gradle version used and the required Java version.\r\n\r\nI have already checked the Java version used by Flutter by running flutter doctor --verbose and noted the version displayed. I also updated the Gradle version in ```gradle-wrapper.properties``` to be compatible with the Java version.\r\n\r\nDespite these steps, the error persists. I tried running the build with ```--stacktrace``` for a more detailed trace, as well as using ```--info``` and ```--debug```options for additional log output, but it didn&#39;t provide further insights.\r\n\r\n","title":"Gradle build failed with unsupported class file major version 64 in Flutter project","body":"<p>I encountered an issue while building my Flutter project with Gradle. The build failed with the following error message:</p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nCould not open settings generic class cache for settings file '/Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/settings.gradle' (/Users/mishalhaneef/.gradle/caches/7.4.1/scripts/a7jtzc7d8e1ht64fuhmylehgj).\n&gt; BUG! exception in phase 'semantic analysis' in source unit '_BuildScript_' Unsupported class file major version 64\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 1m 8s\n┌─ Flutter Fix ────────────────────────────────────────────────────────────────────────────────────┐\n│ [!] Your project's Gradle version is incompatible with the Java version that Flutter is using    │\n│ for Gradle.                                                                                      │\n│                                                                                                  │\n│ To fix this issue, first, check the Java version used by Flutter by running `flutter doctor      │\n│ --verbose`.                                                                                      │\n│                                                                                                  │\n│ Then, update the Gradle version specified in                                                     │\n│ /Users/mishalhaneef/Documents/flutter/Zartek/blind_crushes/android/gradle/wrapper/gradle-wrapper │\n│ .properties to be compatible with that Java version. See the link below for more information on  │\n│ compatible Java/Gradle versions:                                                                 │\n│ https://docs.gradle.org/current/userguide/compatibility.html#java                                │\n2\n│                                                                                                  │\n└──────────────────────────────────────────────────────────────────────────────────────────────────┘\n</code></pre>\n<p>I'm using Flutter for my project, and it seems that there is a compatibility issue between the Gradle version used and the required Java version.</p>\n<p>I have already checked the Java version used by Flutter by running flutter doctor --verbose and noted the version displayed. I also updated the Gradle version in <code>gradle-wrapper.properties</code> to be compatible with the Java version.</p>\n<p>Despite these steps, the error persists. I tried running the build with <code>--stacktrace</code> for a more detailed trace, as well as using <code>--info</code> and <code>--debug</code>options for additional log output, but it didn't provide further insights.</p>\n"},{"tags":["java","spring","postgresql","hibernate","kotlin"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684151607,"post_id":76253673,"comment_id":134470130,"body_markdown":"Because your test is managing the transaction, if you are using `@SpringBootTest` that has `@Transactional` so your test method is the transactional boundary and thus there already is a transaction (which is what the error message is telling you).","body":"Because your test is managing the transaction, if you are using <code>@SpringBootTest</code> that has <code>@Transactional</code> so your test method is the transactional boundary and thus there already is a transaction (which is what the error message is telling you)."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1684154949,"post_id":76253673,"comment_id":134470965,"body_markdown":"@M.Deinum yea, I get transactional management philosophy, but why is it failing even if I add required new strategy? In that case, whole new transaction just for my case should be created. Plus how can I, therefore, use Isolation level serializable for some method?","body":"@M.Deinum yea, I get transactional management philosophy, but why is it failing even if I add required new strategy? In that case, whole new transaction just for my case should be created. Plus how can I, therefore, use Isolation level serializable for some method?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684155407,"post_id":76253673,"comment_id":134471068,"body_markdown":"Make your test non-transactional. Although you can start a new transaction you cannot modify the isolation level, simply because that is (despite the place you can configure it) configured on the actual connection to the database. Once set you cannot change that inflight.","body":"Make your test non-transactional. Although you can start a new transaction you cannot modify the isolation level, simply because that is (despite the place you can configure it) configured on the actual connection to the database. Once set you cannot change that inflight."},{"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"score":0,"creation_date":1684156335,"post_id":76253673,"comment_id":134471279,"body_markdown":"@M.Deinum How Well I need to test it as it is- controller test that just testsbehaviour of that endpoint (that has internally only that one, isolated, transaction inside.  I&#180;ve now tried to call that endpoint manually (where the only transaction is that isolated one on the service method- no other calls from controller are not present) and I am getting the same error.","body":"@M.Deinum How Well I need to test it as it is- controller test that just testsbehaviour of that endpoint (that has internally only that one, isolated, transaction inside.  I&#180;ve now tried to call that endpoint manually (where the only transaction is that isolated one on the service method- no other calls from controller are not present) and I am getting the same error."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684156701,"post_id":76253673,"comment_id":134471358,"body_markdown":"I yield. There is too little information in your question to answer this. No test, no actual full stacktrace, or configuration.","body":"I yield. There is too little information in your question to answer this. No test, no actual full stacktrace, or configuration."}],"owner":{"account_id":8056656,"reputation":587,"user_id":6073577,"accept_rate":100,"display_name":"Johnczek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684154993,"creation_date":1684150760,"question_id":76253673,"body_markdown":"I&#180;ve been finding a solution for my issue of not working Spring Boot `@Serializable` and `@Transactional` on SO and I&#180;ve found [this solution][1] \r\n\r\nEverything works fine after removing `@Synchronized` and adding `@Transactional` with `SERIALIZABLE` isolation level on top of my method which causes problem in race condition. \r\n\r\nBut when I try to run `@SpringBootTest` I am getting error \r\n\r\n&gt; Could not open JPA EntityManager for transaction; nested exception is org.postgresql.util.PSQLException: Cannot change transaction isolation level in the middle of a transaction.\r\n\r\nI&#180;ve tried to add a `REQUIRES_NEW` propagation to force create a brand new transaction, but that did not work either.\r\n\r\nThe test is basically only calling a controller method using `MockMvc`. Controller method just calls service method (on top of that method is that Transactional method) and the method simply reads data and if the data are present, update of this data is performed, otherwise the new entity is created.\r\n\r\nAnd in the end I&#180;d like to add that I am using `PostgreSQL` database\r\n\r\n**Does anyone have a clue why this happens and how to possibly fix this issue?**\r\n\r\n  [1]: https://stackoverflow.com/a/41768214/6073577","title":"Spring Boot Test - Cannot change transaction isolation level in the middle of a transaction on SERIALIZABLE Isolation level","body":"<p>I´ve been finding a solution for my issue of not working Spring Boot <code>@Serializable</code> and <code>@Transactional</code> on SO and I´ve found <a href=\"https://stackoverflow.com/a/41768214/6073577\">this solution</a></p>\n<p>Everything works fine after removing <code>@Synchronized</code> and adding <code>@Transactional</code> with <code>SERIALIZABLE</code> isolation level on top of my method which causes problem in race condition.</p>\n<p>But when I try to run <code>@SpringBootTest</code> I am getting error</p>\n<blockquote>\n<p>Could not open JPA EntityManager for transaction; nested exception is org.postgresql.util.PSQLException: Cannot change transaction isolation level in the middle of a transaction.</p>\n</blockquote>\n<p>I´ve tried to add a <code>REQUIRES_NEW</code> propagation to force create a brand new transaction, but that did not work either.</p>\n<p>The test is basically only calling a controller method using <code>MockMvc</code>. Controller method just calls service method (on top of that method is that Transactional method) and the method simply reads data and if the data are present, update of this data is performed, otherwise the new entity is created.</p>\n<p>And in the end I´d like to add that I am using <code>PostgreSQL</code> database</p>\n<p><strong>Does anyone have a clue why this happens and how to possibly fix this issue?</strong></p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1444807201,"post_id":33118789,"comment_id":54051255,"body_markdown":"Is your problem just to handle problems of int parsing or you want to solve *any* jackson parsing problems?","body":"Is your problem just to handle problems of int parsing or you want to solve <i>any</i> jackson parsing problems?"},{"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"score":0,"creation_date":1444807345,"post_id":33118789,"comment_id":54051343,"body_markdown":"@AlexR I want to handle any mapping problem, including parsing and missing fields (i.e., if the json string had a key &#39;field3&#39; which doesn&#39;t map to any field in the Java object)","body":"@AlexR I want to handle any mapping problem, including parsing and missing fields (i.e., if the json string had a key &#39;field3&#39; which doesn&#39;t map to any field in the Java object)"}],"answers":[{"comments":[{"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"score":1,"creation_date":1444808389,"post_id":33119343,"comment_id":54052018,"body_markdown":"I don&#39;t want to ignore the missing field. I don&#39;t want the mapper to fail at the _first_ instance of error. If there are multiple missing fields, I want that the error shows _all_ the missing fields, and not just the first one.","body":"I don&#39;t want to ignore the missing field. I don&#39;t want the mapper to fail at the <i>first</i> instance of error. If there are multiple missing fields, I want that the error shows <i>all</i> the missing fields, and not just the first one."},{"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"score":0,"creation_date":1444809762,"post_id":33119343,"comment_id":54052812,"body_markdown":"So, use solution similar to referenced for unparsable types.","body":"So, use solution similar to referenced for unparsable types."},{"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"score":0,"creation_date":1444825555,"post_id":33119343,"comment_id":54062860,"body_markdown":"Thanks, but even using a similar strategy, the best I could do was ignore the error and return null for the value.\nI could think of storing the exceptions, but I want to keep the mapper thread-safe.","body":"Thanks, but even using a similar strategy, the best I could do was ignore the error and return null for the value. I could think of storing the exceptions, but I want to keep the mapper thread-safe."}],"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444808208,"creation_date":1444808208,"answer_id":33119343,"question_id":33118789,"body_markdown":"Well, IMHO the problem does not have one simple solution.\r\nHowever particular solutions can be found. \r\n\r\nIf you want to ignore missing fields just use annotation \r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n\r\nSupporting unparsable data is more complicated. Please take a look on correct answer from this discussion [enter link description here][1]. \r\n\r\nIt however will not help if your JSON is syntactically wrong, for example if coma or colon are missing. \r\n\r\n  [1]: https://stackoverflow.com/questions/9080904/jackson-deserialization-error-handling","title":"Aggregate all the errors while mapping json to java object using Jackson","body":"<p>Well, IMHO the problem does not have one simple solution.\nHowever particular solutions can be found. </p>\n\n<p>If you want to ignore missing fields just use annotation </p>\n\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\n</code></pre>\n\n<p>Supporting unparsable data is more complicated. Please take a look on correct answer from this discussion <a href=\"https://stackoverflow.com/questions/9080904/jackson-deserialization-error-handling\">enter link description here</a>. </p>\n\n<p>It however will not help if your JSON is syntactically wrong, for example if coma or colon are missing. </p>\n"}],"owner":{"account_id":6080875,"reputation":385,"user_id":4746692,"accept_rate":75,"display_name":"wittyameta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2019,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1684154934,"creation_date":1444806490,"question_id":33118789,"body_markdown":"I&#39;m trying to map a JSON string to a Java Object using Jackson ObjectMapper. If there is a mapping error, Jackson throws an exception when it first encounters the error. Is there a way to ask the ObjectMapper to map all the field while collecting the errors, and return all possible errors together?\r\n\r\nThe Java class\r\n\r\n    public class Test {\r\n        public int field1;\r\n        public int field2;\r\n        public Test() {}\r\n    }\r\n\r\nMapper Code snippet\r\n\r\n    String json = &quot;{\\&quot;field1\\&quot;:field, \\&quot;field2\\&quot;:anotherField}&quot;;\r\n    Test test = new ObjectMapper().readValue(json, Test.class);\r\nThe above code fails when it tries to parse &#39;field&#39; to int, and doesn&#39;t check for remaining fields. However, the in the code, neither field1 nor field2 can be parsed. Is there a way to get all the potential errors at once, so I don&#39;t have to fix 1 error at a time?","title":"Aggregate all the errors while mapping json to java object using Jackson","body":"<p>I'm trying to map a JSON string to a Java Object using Jackson ObjectMapper. If there is a mapping error, Jackson throws an exception when it first encounters the error. Is there a way to ask the ObjectMapper to map all the field while collecting the errors, and return all possible errors together?</p>\n\n<p>The Java class</p>\n\n<pre><code>public class Test {\n    public int field1;\n    public int field2;\n    public Test() {}\n}\n</code></pre>\n\n<p>Mapper Code snippet</p>\n\n<pre><code>String json = \"{\\\"field1\\\":field, \\\"field2\\\":anotherField}\";\nTest test = new ObjectMapper().readValue(json, Test.class);\n</code></pre>\n\n<p>The above code fails when it tries to parse 'field' to int, and doesn't check for remaining fields. However, the in the code, neither field1 nor field2 can be parsed. Is there a way to get all the potential errors at once, so I don't have to fix 1 error at a time?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1683733052,"post_id":76220222,"comment_id":134412851,"body_markdown":"There’s a `String` constructor that takes a `char[]` and `StringBuffer.toString` yields a string. But you could’ve found these out easily from Javadocs, so, I’m not sure if there’s another question that you meant to ask. If you’re using 3pp libraries that accept passwords as strings, there’s nothing you can do except use another library.","body":"There’s a <code>String</code> constructor that takes a <code>char[]</code> and <code>StringBuffer.toString</code> yields a string. But you could’ve found these out easily from Javadocs, so, I’m not sure if there’s another question that you meant to ask. If you’re using 3pp libraries that accept passwords as strings, there’s nothing you can do except use another library."},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1683733232,"post_id":76220222,"comment_id":134412901,"body_markdown":"@AbhijitSarkar The question wasn&#39;t how to convert, the question was how to convert w/o ending up in the same place.","body":"@AbhijitSarkar The question wasn&#39;t how to convert, the question was how to convert w/o ending up in the same place."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1683733310,"post_id":76220222,"comment_id":134412929,"body_markdown":"What is this “same place”? Is the question “how to convert to string without converting to string?”","body":"What is this “same place”? Is the question “how to convert to string without converting to string?”"},{"owner":{"account_id":18256279,"reputation":659,"user_id":13290159,"display_name":"0x150"},"score":3,"creation_date":1683733442,"post_id":76220222,"comment_id":134412955,"body_markdown":"@AbhijitSarkar the question was how to avoid a password stored as String being possibly gc&#39;d and showing up in a heap dump, which is a valid concern. to my knowledge tho, i don&#39;t think this is possible","body":"@AbhijitSarkar the question was how to avoid a password stored as String being possibly gc&#39;d and showing up in a heap dump, which is a valid concern. to my knowledge tho, i don&#39;t think this is possible"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1683733571,"post_id":76220222,"comment_id":134412994,"body_markdown":"@AbhijitSarkar It&#39;s unlikely you don&#39;t understand the question/concern. The last sentence of your comment is the correct answer and all that was necessary.","body":"@AbhijitSarkar It&#39;s unlikely you don&#39;t understand the question/concern. The last sentence of your comment is the correct answer and all that was necessary."},{"owner":{"display_name":"user15314575"},"score":1,"creation_date":1683733719,"post_id":76220222,"comment_id":134413043,"body_markdown":"The problem isn&#39;t the String object, it&#39;s the fact that there is a &#39;secret&#39; or password in there!","body":"The problem isn&#39;t the String object, it&#39;s the fact that there is a &#39;secret&#39; or password in there!"},{"owner":{"account_id":9365930,"reputation":470,"user_id":6950847,"display_name":"zeg"},"score":0,"creation_date":1683733779,"post_id":76220222,"comment_id":134413066,"body_markdown":"read the password from os.environment instead of placing it hardcoded into your application if possible. and do not store it in a string, but read it from os.env like needed. also you might want other libraries","body":"read the password from os.environment instead of placing it hardcoded into your application if possible. and do not store it in a string, but read it from os.env like needed. also you might want other libraries"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":1,"creation_date":1683734981,"post_id":76220222,"comment_id":134413361,"body_markdown":"You could use reflection, e.g. `field = String.class.getDeclaredField(&quot;value&quot;); field.setAccessible(true);` and then fill it with 0s, but to do that you have to relax the JVM security mechanisms to an extend that will make it more risky than if you just stored the password in the String.","body":"You could use reflection, e.g. <code>field = String.class.getDeclaredField(&quot;value&quot;); field.setAccessible(true);</code> and then fill it with 0s, but to do that you have to relax the JVM security mechanisms to an extend that will make it more risky than if you just stored the password in the String."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1683735175,"post_id":76220222,"comment_id":134413400,"body_markdown":"Only interned strings are in the string pool, and only string literals or strings explicitly interned with `String#intern()` are interned, so is this really a problem to focus on?","body":"Only interned strings are in the string pool, and only string literals or strings explicitly interned with <code>String#intern()</code> are interned, so is this really a problem to focus on?"}],"answers":[{"comments":[{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1683736652,"post_id":76220662,"comment_id":134413721,"body_markdown":"yeah this is what I was trying to convey in the question - that no matter how careful I am with the secret, as soon as I pass it off to some 3rd party libary/code that I don&#39;t have control over, they could convert it to a String, and we&#39;re right back at the same place.\n\nSo maybe the question becomes - how can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?","body":"yeah this is what I was trying to convey in the question - that no matter how careful I am with the secret, as soon as I pass it off to some 3rd party libary/code that I don&#39;t have control over, they could convert it to a String, and we&#39;re right back at the same place.  So maybe the question becomes - how can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":2,"creation_date":1683738049,"post_id":76220662,"comment_id":134414073,"body_markdown":"@BradParks Not every security finding needs to be addressed. I’ve dealt with security audits several times, and it is their job to find out even the smallest possible loophole. Your job is to consider the surface area of the attack, the probability of the attack happening, and the effort needed to close the hole.","body":"@BradParks Not every security finding needs to be addressed. I’ve dealt with security audits several times, and it is their job to find out even the smallest possible loophole. Your job is to consider the surface area of the attack, the probability of the attack happening, and the effort needed to close the hole."},{"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"score":0,"creation_date":1683742920,"post_id":76220662,"comment_id":134415092,"body_markdown":"The way it works at my job is there&#39;s a whole security team, that logs security bugs, and we basically have to address their requests, unless we can really refute them","body":"The way it works at my job is there&#39;s a whole security team, that logs security bugs, and we basically have to address their requests, unless we can really refute them"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1683792787,"post_id":76220662,"comment_id":134421682,"body_markdown":"@BradParks Acknowledging the potential issue and accepting it because the risk is low or there are other controls in place, like restricting access using firewalls to prevent exploitation if the secret is exfiltrated, and explicitly documenting it, is usually also accepted by security auditor.","body":"@BradParks Acknowledging the potential issue and accepting it because the risk is low or there are other controls in place, like restricting access using firewalls to prevent exploitation if the secret is exfiltrated, and explicitly documenting it, is usually also accepted by security auditor."}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1683736686,"creation_date":1683735728,"answer_id":76220662,"question_id":76220222,"body_markdown":"You can&#39;t avoid creating a `String` if you need to call an API that requires a `String`. As long as you avoid string literals or explicitly interned strings, strings don&#39;t end up in the string pool.\r\n\r\nThis is also an impossible problem to solve. For example, if this is a password for a database connection pool, the password needs to be available for the lifetime of the program to be able to create new connections. And even if you could provide the password in some clearable way like a `char[]`, `CharBuffer`, `StringBuilder`, etc., there is no guarantee that the API you&#39;re calling doesn&#39;t transform it to a string, or makes a copy, etc., etc.\r\n\r\nEven using a `char[]` does not guarantee that you&#39;re able to correctly purge it from memory: Java garbage collectors can and will move objects around, so it is entirely possible that your password is still in memory at a previous location, even if you explicitly zeroed that `char[]`. \r\n\r\nIf a threat actor has sufficient access to your system to inspect memory, make heapdumps, etc., you have bigger problems, and worrying about using a `String` vs `char[]` is just a waste of time, because that threat actor will have other means of finding your password, like finding configuration sources, modifying your program to record the password on a next run, etc.\r\n\r\nTo be clear, being able to quickly clear certain sensitive information can reduce the window of attack, but unless you&#39;re working in high-security environments, it is unlikely to be the right thing to focus on given all the caveats.","title":"How to avoid using String for passwords or secrets with 3rd party libraries that require a String?","body":"<p>You can't avoid creating a <code>String</code> if you need to call an API that requires a <code>String</code>. As long as you avoid string literals or explicitly interned strings, strings don't end up in the string pool.</p>\n<p>This is also an impossible problem to solve. For example, if this is a password for a database connection pool, the password needs to be available for the lifetime of the program to be able to create new connections. And even if you could provide the password in some clearable way like a <code>char[]</code>, <code>CharBuffer</code>, <code>StringBuilder</code>, etc., there is no guarantee that the API you're calling doesn't transform it to a string, or makes a copy, etc., etc.</p>\n<p>Even using a <code>char[]</code> does not guarantee that you're able to correctly purge it from memory: Java garbage collectors can and will move objects around, so it is entirely possible that your password is still in memory at a previous location, even if you explicitly zeroed that <code>char[]</code>.</p>\n<p>If a threat actor has sufficient access to your system to inspect memory, make heapdumps, etc., you have bigger problems, and worrying about using a <code>String</code> vs <code>char[]</code> is just a waste of time, because that threat actor will have other means of finding your password, like finding configuration sources, modifying your program to record the password on a next run, etc.</p>\n<p>To be clear, being able to quickly clear certain sensitive information can reduce the window of attack, but unless you're working in high-security environments, it is unlikely to be the right thing to focus on given all the caveats.</p>\n"}],"owner":{"account_id":13259,"reputation":67764,"user_id":26510,"accept_rate":99,"display_name":"Brad Parks"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76220662,"answer_count":1,"score":3,"last_activity_date":1684154252,"creation_date":1683732492,"question_id":76220222,"body_markdown":"I&#39;m working on a Java service that had a security bug logged against it, concerning a secret stored in a Java String object. \r\n\r\nThe concern is that once a password is stored in a `String`, it stays in the string pool until it&#39;s garbage collected, and could show up in a dump as clear text. \r\n\r\nI understand that Java&#39;s `String` class is immutable, and it is preferred that secrets or passwords be stored in a mutable class, so it can be removed from memory as soon as possible after use.\r\n\r\nReferences\r\n- [Why is char[] preferred over String for passwords?](https://stackoverflow.com/q/8881291/26510)\r\n- [Java equivalent of SecureString](https://stackoverflow.com/questions/51242150/java-equivalent-of-securestring)\r\n- [In Java, is there still a point in using char[] instead of String to store passwords?](https://stackoverflow.com/q/73968791/26510)\r\n- [Answer by StephenC to similar question](https://stackoverflow.com/a/12008117/26510)\r\n\r\n\r\nHowever, I find this impractical when working with 3rd party libraries, as many of them want the password or secret passed in the request as a String object, which no matter how safe I am, in my code, ultimately converts the `char[]` array into a `String`, which takes us back to the original problem, doesn&#39;t it?\r\n\r\n**So, is there anyway to convert a `char[]`, or `StringBuffer` to a `String`, without getting back to the original problem?**\r\n\r\nEDIT: As pointed out by the comments in this question and other similar questions, many believe this is not a real concern, as there&#39;s no easy way to avoid the issue if you don&#39;t own ALL the code in your application (ie don&#39;t pass secrets to any 3rd party libraries). So given this, maybe the question becomes \r\n\r\n**How can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?**\r\n","title":"How to avoid using String for passwords or secrets with 3rd party libraries that require a String?","body":"<p>I'm working on a Java service that had a security bug logged against it, concerning a secret stored in a Java String object.</p>\n<p>The concern is that once a password is stored in a <code>String</code>, it stays in the string pool until it's garbage collected, and could show up in a dump as clear text.</p>\n<p>I understand that Java's <code>String</code> class is immutable, and it is preferred that secrets or passwords be stored in a mutable class, so it can be removed from memory as soon as possible after use.</p>\n<p>References</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/q/8881291/26510\">Why is char[] preferred over String for passwords?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/51242150/java-equivalent-of-securestring\">Java equivalent of SecureString</a></li>\n<li><a href=\"https://stackoverflow.com/q/73968791/26510\">In Java, is there still a point in using char[] instead of String to store passwords?</a></li>\n<li><a href=\"https://stackoverflow.com/a/12008117/26510\">Answer by StephenC to similar question</a></li>\n</ul>\n<p>However, I find this impractical when working with 3rd party libraries, as many of them want the password or secret passed in the request as a String object, which no matter how safe I am, in my code, ultimately converts the <code>char[]</code> array into a <code>String</code>, which takes us back to the original problem, doesn't it?</p>\n<p><strong>So, is there anyway to convert a <code>char[]</code>, or <code>StringBuffer</code> to a <code>String</code>, without getting back to the original problem?</strong></p>\n<p>EDIT: As pointed out by the comments in this question and other similar questions, many believe this is not a real concern, as there's no easy way to avoid the issue if you don't own ALL the code in your application (ie don't pass secrets to any 3rd party libraries). So given this, maybe the question becomes</p>\n<p><strong>How can I refute the bug? is there a good solid reference from Oracle/Owasp or whoever that says &quot;unsolvable problem&quot; ?</strong></p>\n"},{"tags":["java","spring","spring-data"],"comments":[{"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"score":0,"creation_date":1513019709,"post_id":47759559,"comment_id":82480817,"body_markdown":"Try removing the &quot;from dual&quot; and remove the nativeQuery part.  It should work as a vanilla JPA query.","body":"Try removing the &quot;from dual&quot; and remove the nativeQuery part.  It should work as a vanilla JPA query."},{"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"score":0,"creation_date":1513020595,"post_id":47759559,"comment_id":82481274,"body_markdown":"That did not work unfortunatelly. Now I am getting this exception as the query is incomplete. `Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected end of subtree [select &#39;SampleEnumeration&#39;]`","body":"That did not work unfortunatelly. Now I am getting this exception as the query is incomplete. <code>Caused by: org.hibernate.hql.internal.ast.QuerySyntaxException: unexpected end of subtree [select &#39;SampleEnumeration&#39;]</code>"},{"owner":{"account_id":70039,"reputation":410,"user_id":203498,"display_name":"Lukas Bradley"},"score":0,"creation_date":1513021588,"post_id":47759559,"comment_id":82481778,"body_markdown":"I would have 100% swore I did this same thing on a personal project, but I can&#39;t find it right now.  I&#39;ll search more later tonight.  In the meantime, I&#39;d just leave the &quot;from dual&quot; and native on for now.","body":"I would have 100% swore I did this same thing on a personal project, but I can&#39;t find it right now.  I&#39;ll search more later tonight.  In the meantime, I&#39;d just leave the &quot;from dual&quot; and native on for now."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513061158,"creation_date":1513061158,"answer_id":47766735,"question_id":47759559,"body_markdown":"You can get the type arguments if they are bound to a type from the interface, using this answer: https://stackoverflow.com/a/1901275/66686\r\n\r\n    Class&lt;T&gt; persistentClass = (Class&lt;T&gt;)\r\n       ((ParameterizedType)yourRepo.getClass().getGenericSuperclass())\r\n          .getActualTypeArguments()[0];\r\n\r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>You can get the type arguments if they are bound to a type from the interface, using this answer: <a href=\"https://stackoverflow.com/a/1901275/66686\">https://stackoverflow.com/a/1901275/66686</a></p>\n\n<pre><code>Class&lt;T&gt; persistentClass = (Class&lt;T&gt;)\n   ((ParameterizedType)yourRepo.getClass().getGenericSuperclass())\n      .getActualTypeArguments()[0];\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1682695,"reputation":371,"user_id":1546611,"display_name":"N Dierauf"},"score":0,"creation_date":1544561009,"post_id":47773604,"comment_id":94317889,"body_markdown":"I had the same use case and this was very useful indeed. Thank you!","body":"I had the same use case and this was very useful indeed. Thank you!"},{"owner":{"account_id":8995690,"reputation":848,"user_id":6706195,"accept_rate":75,"display_name":"pavlee"},"score":0,"creation_date":1634220412,"post_id":47773604,"comment_id":122971221,"body_markdown":"For me it takes ~400ms to execute this block of code. Not the fastest solution but it does the job.","body":"For me it takes ~400ms to execute this block of code. Not the fastest solution but it does the job."}],"tags":[],"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1513084519,"creation_date":1513084519,"answer_id":47773604,"question_id":47759559,"body_markdown":"@jens-schauder &#39;s answer did not work in my case but it showed me the right direction.\r\n\r\nSpring injected me the implementation of my interface extending the spring `Repository` interface. Therefore I had to get all interfaces, filter out spring internal ones, so I ended up with the one I defined. This one however was not generic yet so I had to get **its** super interface that had the generic type.\r\n\r\nI don&#39;t really care about performance as this method is called only during Spring container initialization.\r\n\r\nFortunatelly polymorphism works quite well in this case. So I only had to implement default method on the super interface. Like this\r\n\r\n    @NoRepositoryBean\r\n    public interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\r\n    \r\n    \t// ...\r\n    \t\r\n    \tdefault Class&lt;T&gt; getEntityClass() {\r\n    \t\tType[] interfaces = getClass().getInterfaces();\r\n    \t\t\r\n    \t\tfor (Type t : interfaces) {\r\n    \t\t\tif (t instanceof Class&lt;?&gt;) {\r\n    \t\t\t\tClass&lt;?&gt; clazz = (Class&lt;?&gt;) t;\r\n    \t\t\t\t\r\n    \t\t\t\tif (clazz.getPackage().getName().startsWith(ApplicationConst.BASE_PACKAGE)) {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t// Repositories should implement only ONE interface from application packages\r\n    \t\t\t\t\t\r\n    \t\t\t\t\tType genericInterface = clazz.getGenericInterfaces()[0];\r\n    \t\t\t\t\t\r\n    \t\t\t\t\treturn (Class&lt;T&gt;) ((ParameterizedType) genericInterface).getActualTypeArguments()[0];\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI hope this might be useful to other users facing similar issues.","title":"Spring Data - get entity name/type from Repository","body":"<p>@jens-schauder 's answer did not work in my case but it showed me the right direction.</p>\n\n<p>Spring injected me the implementation of my interface extending the spring <code>Repository</code> interface. Therefore I had to get all interfaces, filter out spring internal ones, so I ended up with the one I defined. This one however was not generic yet so I had to get <strong>its</strong> super interface that had the generic type.</p>\n\n<p>I don't really care about performance as this method is called only during Spring container initialization.</p>\n\n<p>Fortunatelly polymorphism works quite well in this case. So I only had to implement default method on the super interface. Like this</p>\n\n<pre><code>@NoRepositoryBean\npublic interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\n\n    // ...\n\n    default Class&lt;T&gt; getEntityClass() {\n        Type[] interfaces = getClass().getInterfaces();\n\n        for (Type t : interfaces) {\n            if (t instanceof Class&lt;?&gt;) {\n                Class&lt;?&gt; clazz = (Class&lt;?&gt;) t;\n\n                if (clazz.getPackage().getName().startsWith(ApplicationConst.BASE_PACKAGE)) {\n\n                    // Repositories should implement only ONE interface from application packages\n\n                    Type genericInterface = clazz.getGenericInterfaces()[0];\n\n                    return (Class&lt;T&gt;) ((ParameterizedType) genericInterface).getActualTypeArguments()[0];\n                }\n            }\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n\n<p>I hope this might be useful to other users facing similar issues.</p>\n"},{"comments":[{"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"score":0,"creation_date":1626821282,"post_id":65248762,"comment_id":120994103,"body_markdown":"@Andrey how does it behave for you?","body":"@Andrey how does it behave for you?"}],"tags":[],"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1607678969,"creation_date":1607678969,"answer_id":65248762,"question_id":47759559,"body_markdown":"Try this\r\n\r\n\r\n    import com.fasterxml.classmate.ResolvedType;\r\n    import com.fasterxml.classmate.TypeResolver;\r\n    import org.springframework.aop.support.AopUtils;\r\n    import org.springframework.data.repository.Repository;\r\n    import org.springframework.util.Assert;\r\n    \r\n    import java.util.List;\r\n    \r\n    public class Repospector {\r\n        private static final TypeResolver RESOLVER = new TypeResolver();\r\n    \r\n        public Class&lt;?&gt; getEntityClass(Repository&lt;?, ?&gt; repository) {\r\n            Class&lt;?&gt; targetClass = AopUtils.getTargetClass(repository);\r\n            List&lt;ResolvedType&gt; types = RESOLVER.resolve(targetClass).typeParametersFor(Repository.class);\r\n            Assert.state(types.size() == 2, &quot;Call the whambulance!&quot;);\r\n            return types.get(0).getErasedType();\r\n        }\r\n    }","title":"Spring Data - get entity name/type from Repository","body":"<p>Try this</p>\n<pre><code>import com.fasterxml.classmate.ResolvedType;\nimport com.fasterxml.classmate.TypeResolver;\nimport org.springframework.aop.support.AopUtils;\nimport org.springframework.data.repository.Repository;\nimport org.springframework.util.Assert;\n\nimport java.util.List;\n\npublic class Repospector {\n    private static final TypeResolver RESOLVER = new TypeResolver();\n\n    public Class&lt;?&gt; getEntityClass(Repository&lt;?, ?&gt; repository) {\n        Class&lt;?&gt; targetClass = AopUtils.getTargetClass(repository);\n        List&lt;ResolvedType&gt; types = RESOLVER.resolve(targetClass).typeParametersFor(Repository.class);\n        Assert.state(types.size() == 2, &quot;Call the whambulance!&quot;);\n        return types.get(0).getErasedType();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11806551,"reputation":1,"user_id":8638887,"display_name":"ChenKeYu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632742532,"creation_date":1632742532,"answer_id":69345890,"question_id":47759559,"body_markdown":"I fix this problem by use typetools https://github.com/jhalterman/typetools\r\n\r\nthis is my code:\r\n\r\n    Class&lt;?&gt;[] classes = TypeResolver.resolveRawArguments(JpaRepository.class, jpaRepositoryInstance.getClass());\r\n    Class&lt;?&gt; entityClz = classes[0];\r\n\r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>I fix this problem by use typetools <a href=\"https://github.com/jhalterman/typetools\" rel=\"nofollow noreferrer\">https://github.com/jhalterman/typetools</a></p>\n<p>this is my code:</p>\n<pre><code>Class&lt;?&gt;[] classes = TypeResolver.resolveRawArguments(JpaRepository.class, jpaRepositoryInstance.getClass());\nClass&lt;?&gt; entityClz = classes[0];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9653946,"reputation":76,"user_id":7164184,"display_name":"Thiago Sperandio"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684154192,"creation_date":1683822150,"answer_id":76229720,"question_id":47759559,"body_markdown":"I&#39;ll duplicate [my answer here because it&#39;s the same as another similar question](https://stackoverflow.com/questions/14266089/how-to-retrieve-spring-data-repository-instance-for-given-domain-class/76229273#76229273):\r\n\r\n---\r\n\r\nIt&#39;s my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.\r\n\r\nAs [@ekcrisp said in his answer in similar question](https://stackoverflow.com/a/71701611/7164184):\r\n&gt; You can use Spring&#39;s GenericTypeResolver to get the Entity class from your Repository.\r\n\r\nMy experience: unfortunately the common ways of reflection don&#39;t work to get the `&lt;T&gt;` entity class in a  Spring Boot&#39;s repository. I tried in a lot of maneers. But this **`GenericTypeResolver`** actually could get the generics `&lt;T&gt;` type from `JpaRepository&lt;T, ID&gt;`.\r\n\r\nIn other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:\r\n\r\n    public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    }\r\n\r\nThis answer is about this stack and its versions:\r\n\r\nJDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.\r\n\r\n---\r\n\r\nIf you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get `&lt;T&gt;` or `&lt;ID&gt;` in `JpaRepository&lt;T, ID&gt;`:\r\n\r\n    @UtilityClass\r\n    public class ObjectUtil {\r\n        // ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t *\r\n    \t * @return the generic classes of the given param, based on class to get generics param.\r\n    \t *\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\r\n    \t\treturn GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param classInstance\r\n    \t * @param classToGetGenerics\r\n    \t * @param genericPosition\r\n    \t *\r\n    \t * @return the generic class of the given param, based on class to get generics and generic position params.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType\r\n    \t * @see GenericTypeResolver#resolveTypeArguments\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\r\n    \t\tClass&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\r\n    \t\tif( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\r\n    \t\t\treturn typeArguments[genericPosition];\r\n    \t\t}\r\n    \t\tthrow new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\r\n    \t}\r\n        \r\n        // ... \r\n    }\r\n\r\nSo we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):\r\n\r\n    @UtilityClass\r\n    public class QueryUtil {\r\n    \r\n    \t// ...\r\n    \r\n    \t/**\r\n    \t *\r\n    \t * @param repositoryClass\r\n    \t *\r\n    \t * @return the @Entity class of the given repository param.\r\n    \t *\r\n    \t * @see ObjectUtil#getGenericType(Class, Class, int)\r\n    \t * @see ObjectUtil#getGenericType(Class, Class)\r\n    \t */\r\n    \tpublic static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\r\n    \t\treturn ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\r\n    \t}\r\n    \r\n    }\r\n\r\n---\r\n\r\nI hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited. \r\n","title":"Spring Data - get entity name/type from Repository","body":"<p>I'll duplicate <a href=\"https://stackoverflow.com/questions/14266089/how-to-retrieve-spring-data-repository-instance-for-given-domain-class/76229273#76229273\">my answer here because it's the same as another similar question</a>:</p>\n<hr />\n<p>It's my opinion based on my recent experience to make reflection in some classes or interfaces in Spring Boot.</p>\n<p>As <a href=\"https://stackoverflow.com/a/71701611/7164184\">@ekcrisp said in his answer in similar question</a>:</p>\n<blockquote>\n<p>You can use Spring's GenericTypeResolver to get the Entity class from your Repository.</p>\n</blockquote>\n<p>My experience: unfortunately the common ways of reflection don't work to get the <code>&lt;T&gt;</code> entity class in a  Spring Boot's repository. I tried in a lot of maneers. But this <strong><code>GenericTypeResolver</code></strong> actually could get the generics <code>&lt;T&gt;</code> type from <code>JpaRepository&lt;T, ID&gt;</code>.</p>\n<p>In other words, the function below can provide all generic types of a class as an array. Then you can choose one of them:</p>\n<pre><code>public Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n    return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n}\n</code></pre>\n<p>This answer is about this stack and its versions:</p>\n<p>JDK 11, Spring Boot 2.7.11 with Spring MVC, Spring Data JPA, and others libs. Posted in 2023-05-11.</p>\n<hr />\n<p>If you want to add a solution in your &quot;ObjectUtil&quot; local solution, maybe these methods can be useful to get generic types, in any position, like get <code>&lt;T&gt;</code> or <code>&lt;ID&gt;</code> in <code>JpaRepository&lt;T, ID&gt;</code>:</p>\n<pre><code>@UtilityClass\npublic class ObjectUtil {\n    // ...\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     *\n     * @return the generic classes of the given param, based on class to get generics param.\n     *\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt;[] getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics ) {\n        return GenericTypeResolver.resolveTypeArguments( classInstance, classToGetGenerics );\n    }\n\n    /**\n     *\n     * @param classInstance\n     * @param classToGetGenerics\n     * @param genericPosition\n     *\n     * @return the generic class of the given param, based on class to get generics and generic position params.\n     *\n     * @see ObjectUtil#getGenericType\n     * @see GenericTypeResolver#resolveTypeArguments\n     */\n    public static Class&lt;?&gt; getGenericType( Class&lt;?&gt; classInstance, Class&lt;?&gt; classToGetGenerics, int genericPosition ) {\n        Class&lt;?&gt;[] typeArguments = getGenericType( classInstance, classToGetGenerics );\n        if( typeArguments != null &amp;&amp; typeArguments.length &gt;= genericPosition ) {\n            return typeArguments[genericPosition];\n        }\n        throw new IllegalArgumentException( &quot;Could not determine generic type for interface &quot; + classInstance.getName() );\n    }\n    \n    // ... \n}\n</code></pre>\n<p>So we can use like the example below (I created a QueryUtil to handle specifically persistence stuff):</p>\n<pre><code>@UtilityClass\npublic class QueryUtil {\n\n    // ...\n\n    /**\n     *\n     * @param repositoryClass\n     *\n     * @return the @Entity class of the given repository param.\n     *\n     * @see ObjectUtil#getGenericType(Class, Class, int)\n     * @see ObjectUtil#getGenericType(Class, Class)\n     */\n    public static Class&lt;?&gt; getRepositoryEntityType( Class&lt;?&gt; repositoryClass ) {\n        return ObjectUtil.getGenericType( repositoryClass, Repository.class, 0 );\n    }\n\n}\n</code></pre>\n<hr />\n<p>I hope this is still useful. Here it was used in a customized audit logic, made by aspects, so that the Entity is audited.</p>\n"}],"owner":{"account_id":7858487,"reputation":800,"user_id":5939566,"accept_rate":80,"display_name":"tkralik"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9444,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":47773604,"answer_count":5,"score":4,"last_activity_date":1684154192,"creation_date":1513018588,"question_id":47759559,"body_markdown":"I am looking for a way to get an entity type or class name from an instance implementing Spring Data JPA `Repository` interface.\r\n\r\nI have got a number of interfaces extending a base interface that extends `Repository` interface and that defines some base queries.\r\n\r\n    @NoRepositoryBean\r\n    public interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\r\n    \t// ...\r\n    }\r\n\r\n    public interface SampleEnumerationRepository extends EnumerationRepository&lt;SampleEnumeration&gt; {\r\n    \r\n    }\r\n\r\nSpring allows me to inject implementations of all these interfaces as a collection into a bean\r\n\r\n    @Autowired\r\n    private Collection&lt;EnumerationRepository&lt;? extends IDatabaseEnumeration&gt;&gt; repositories;\r\n\r\nI wanted to put all of these implementations into a `Map` for an easy access inside a generic method. I wanted to use the entity type or name as the key but I am not sure where to get it. Is there any way to get one of these attributes? Preferably the class type.\r\n\r\nI was able to achieve the desired behaviour with a query like this. But I would like to avoid this solution if possible as it creates a dependency on the underlying DB.\r\n\r\n    @Query(value = &quot;select &#39;#{#entityName}&#39; from dual&quot;, nativeQuery = true)\r\n    public String getEntityName();","title":"Spring Data - get entity name/type from Repository","body":"<p>I am looking for a way to get an entity type or class name from an instance implementing Spring Data JPA <code>Repository</code> interface.</p>\n\n<p>I have got a number of interfaces extending a base interface that extends <code>Repository</code> interface and that defines some base queries.</p>\n\n<pre><code>@NoRepositoryBean\npublic interface EnumerationRepository&lt;T extends IDatabaseEnumeration&gt; extends Repository&lt;T, String&gt; {\n    // ...\n}\n\npublic interface SampleEnumerationRepository extends EnumerationRepository&lt;SampleEnumeration&gt; {\n\n}\n</code></pre>\n\n<p>Spring allows me to inject implementations of all these interfaces as a collection into a bean</p>\n\n<pre><code>@Autowired\nprivate Collection&lt;EnumerationRepository&lt;? extends IDatabaseEnumeration&gt;&gt; repositories;\n</code></pre>\n\n<p>I wanted to put all of these implementations into a <code>Map</code> for an easy access inside a generic method. I wanted to use the entity type or name as the key but I am not sure where to get it. Is there any way to get one of these attributes? Preferably the class type.</p>\n\n<p>I was able to achieve the desired behaviour with a query like this. But I would like to avoid this solution if possible as it creates a dependency on the underlying DB.</p>\n\n<pre><code>@Query(value = \"select '#{#entityName}' from dual\", nativeQuery = true)\npublic String getEntityName();\n</code></pre>\n"},{"tags":["java","json","extjs","struts2"],"comments":[{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595580231,"post_id":63069879,"comment_id":111530273,"body_markdown":"Additionally, could anyone also explain me the data flow / control flow from extjs to struts2. I would be very thankful.","body":"Additionally, could anyone also explain me the data flow / control flow from extjs to struts2. I would be very thankful."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1595703067,"post_id":63069879,"comment_id":111568676,"body_markdown":"The framework has support for json via plugin. You may be missing [some](https://stackoverflow.com/a/47964971/573032) point in the configuration.","body":"The framework has support for json via plugin. You may be missing <a href=\"https://stackoverflow.com/a/47964971/573032\">some</a> point in the configuration."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595745058,"post_id":63069879,"comment_id":111576136,"body_markdown":"Hey Roman! Thanks for the reply. However, I already have the json plugin jar in my environment.","body":"Hey Roman! Thanks for the reply. However, I already have the json plugin jar in my environment."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1596000222,"post_id":63069879,"comment_id":111664311,"body_markdown":"The plugin is only one piece of cake. The linked answer explains how to serialize fields when json object is created.","body":"The plugin is only one piece of cake. The linked answer explains how to serialize fields when json object is created."}],"answers":[{"comments":[{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595604083,"post_id":63075749,"comment_id":111541884,"body_markdown":"Hey, Arthur! Thanks for the response.I will note the advice provided by you. However, I am unable to run the code using struts2 and thus the error. On using servlets, I am able to run the extjs code perfectly.","body":"Hey, Arthur! Thanks for the response.I will note the advice provided by you. However, I am unable to run the code using struts2 and thus the error. On using servlets, I am able to run the extjs code perfectly."},{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1595604635,"post_id":63075749,"comment_id":111542140,"body_markdown":"Look in the stores (Users and business..), there must be “rootProperty”, it is missing, In another store is missing the model. Fix your JSON, it must not be just an array of objects, it must be an object, have a look at the provided fiddle example. The error is in the stores config and json format.","body":"Look in the stores (Users and business..), there must be “rootProperty”, it is missing, In another store is missing the model. Fix your JSON, it must not be just an array of objects, it must be an object, have a look at the provided fiddle example. The error is in the stores config and json format."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":1,"creation_date":1595607546,"post_id":63075749,"comment_id":111543505,"body_markdown":"Will sure look into the fiddle provided by you. Thanks a lot for the help.","body":"Will sure look into the fiddle provided by you. Thanks a lot for the help."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595688910,"post_id":63075749,"comment_id":111564354,"body_markdown":"Hey Arthur. I went through the solution you provided. The folder structure is pretty neat. However, while running the code, I got another error called Cannot read property &#39;prototype&#39; of undefined at constructor.applyMainView. Shall I provide the whole error? And can you explain me why do we get this error?","body":"Hey Arthur. I went through the solution you provided. The folder structure is pretty neat. However, while running the code, I got another error called Cannot read property &#39;prototype&#39; of undefined at constructor.applyMainView. Shall I provide the whole error? And can you explain me why do we get this error?"},{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1595689469,"post_id":63075749,"comment_id":111564532,"body_markdown":"It is standard extjs folder structure.. nothing new.","body":"It is standard extjs folder structure.. nothing new."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595690033,"post_id":63075749,"comment_id":111564696,"body_markdown":"Okaay! But can you explain me this error?","body":"Okaay! But can you explain me this error?"},{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1595690147,"post_id":63075749,"comment_id":111564739,"body_markdown":"No, I have never seen such error. Maybe you have not included some classes..","body":"No, I have never seen such error. Maybe you have not included some classes.."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595767602,"post_id":63075749,"comment_id":111582123,"body_markdown":"Hey Arthur! Apart from the folder structure, I have changed everything you asked. However, I am still getting the same error. Any idea about the error?","body":"Hey Arthur! Apart from the folder structure, I have changed everything you asked. However, I am still getting the same error. Any idea about the error?"},{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1595768091,"post_id":63075749,"comment_id":111582314,"body_markdown":"Changed? Don‘t you use sencha cmd? https://www.extjs-tutorial.com/extjs/sencha-cmd","body":"Changed? Don‘t you use sencha cmd? <a href=\"https://www.extjs-tutorial.com/extjs/sencha-cmd\" rel=\"nofollow noreferrer\">extjs-tutorial.com/extjs/sencha-cmd</a>"},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595802364,"post_id":63075749,"comment_id":111592773,"body_markdown":"Aah. Sorry Arthur. But I don&#39;t use sencha cmd.  I, actually, have got all the plugins downloaded and included in my .jsp file.","body":"Aah. Sorry Arthur. But I don&#39;t use sencha cmd.  I, actually, have got all the plugins downloaded and included in my .jsp file."},{"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"score":0,"creation_date":1595840816,"post_id":63075749,"comment_id":111602706,"body_markdown":"It is better to to sencha cmd for building the project. Have a look at the sencha docs.","body":"It is better to to sencha cmd for building the project. Have a look at the sencha docs."},{"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"score":0,"creation_date":1595850931,"post_id":63075749,"comment_id":111607542,"body_markdown":"Sure! Will look into it.","body":"Sure! Will look into it."}],"tags":[],"owner":{"account_id":14114179,"reputation":4636,"user_id":10196301,"display_name":"Arthur Rubens"},"comment_count":12,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1595601172,"creation_date":1595601172,"answer_id":63075749,"question_id":63069879,"body_markdown":"[![enter image description here][1]][1]\r\nYou have forgotten the rootProperty in the store`s proxy and in your json. I have changed your code a little bit in the fiddle, it works with dummy jsons.\r\n\r\n[FIDDLE][2]\r\n\r\n**About the code**\r\nIt is better to split the code to models, stores and different views. The files must be as small as possible. (What can be class must be class). For example the popup window better to define in separate class (as it is done in fiddle sample). Even the toolbars of grid and popup window must be defined in separate classes.. \r\nYour grid columns has the same properties, it is better to move them in the &#39;defaults&#39; config property of the grid ( I have moved the labelWith: 150 there)..\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jNlHJ.png\r\n  [2]: https://fiddle.sencha.com/#view/editor&amp;fiddle/37od","title":"Cannot return json data back to extjs","body":"<p><a href=\"https://i.stack.imgur.com/jNlHJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jNlHJ.png\" alt=\"enter image description here\" /></a>\nYou have forgotten the rootProperty in the store`s proxy and in your json. I have changed your code a little bit in the fiddle, it works with dummy jsons.</p>\n<p><a href=\"https://fiddle.sencha.com/#view/editor&amp;fiddle/37od\" rel=\"nofollow noreferrer\">FIDDLE</a></p>\n<p><strong>About the code</strong>\nIt is better to split the code to models, stores and different views. The files must be as small as possible. (What can be class must be class). For example the popup window better to define in separate class (as it is done in fiddle sample). Even the toolbars of grid and popup window must be defined in separate classes..\nYour grid columns has the same properties, it is better to move them in the 'defaults' config property of the grid ( I have moved the labelWith: 150 there)..</p>\n"},{"tags":[],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1595802462,"creation_date":1595802462,"answer_id":63106401,"question_id":63069879,"body_markdown":"I was able to get the solution. After days of lookup, I found problem in my struts.xml file.\r\nThe corrected file is attached in the question itself. Thanks for all the help! &#128522;","title":"Cannot return json data back to extjs","body":"<p>I was able to get the solution. After days of lookup, I found problem in my struts.xml file.\nThe corrected file is attached in the question itself. Thanks for all the help! 😊</p>\n"}],"owner":{"account_id":15962962,"reputation":11,"user_id":11519465,"display_name":"Emperor"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":249,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1595872942,"accepted_answer_id":63106401,"answer_count":2,"score":0,"last_activity_date":1684154170,"creation_date":1595579562,"question_id":63069879,"body_markdown":"I am completely new to Extjs and struts2 and was trying a new project of my own. However, while passing the json data from struts action class, I am continuosly getting this error:\r\n**Ext.JSON.decode(): You&#39;re trying to decode an invalid JSON String**\r\nI am using:\r\nJDK 1.8&lt;br&gt;\r\nApache Tomcat 8.5.55 &lt;br&gt;\r\nExtjs 6.0.2&lt;br&gt;\r\nIDE Eclipse&lt;br&gt;\r\nMy struts.xml file is:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\t&lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;action \r\n\t\t\tname = &quot;generateCustomerJson&quot; \r\n\t\t\tclass = &quot;com.proj.Action.CustomerDataJsonCreator&quot;\r\n\t\t\tmethod = &quot;&quot;&gt;\r\n\t\t\t&lt;result name = &quot;Success&quot;&gt;/index.jsp\r\n\t\t\t&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n```\r\nMy action class is:\r\n```\r\npackage com.proj.Action;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport com.google.gson.JsonParser;\r\nimport com.proj.DAO.DBConnector;\r\nimport com.proj.SqlQueryGenerator;\r\n\r\npublic class CustomerDataJsonCreator {\r\n\t\r\n\tprivate Connection conn = null;\r\n\tprivate PreparedStatement preparedStatement = null;\r\n    private ResultSet resultSet = null;\r\n    private HashMap&lt;String,Object&gt; record= null;\r\n    private ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;();\r\n    private String data = null;\r\n    private JsonElement element = null;\r\n    private JsonObject object = new JsonObject();\r\n\r\n\r\n\t//connection to DB\r\n\tpublic CustomerDataJsonCreator() {\r\n\t\tconn = DBConnector.conDB();\r\n\t}\r\n\r\n\r\n\tpublic String execute() {\r\n\t\t\t\r\n\t\t\tsetPreparedStatement(SqlQueryGenerator.generator(&quot;Select&quot;));\r\n\t\t\tpreparedStatement = getPreparedStatement();\r\n\t\t\t\r\n\t\t\tsetResultSet(preparedStatement);\r\n\t\t\tresultSet = getResultSet();\r\n\t\t\r\n\t\ttry {\r\n\t\t\t\r\n\t\t\twhile (resultSet.next()) {\r\n\t\t\t\t record = new HashMap&lt;&gt;();\r\n\t\t\t\t record.put(&quot;pk_id&quot;,resultSet.getInt(1));\r\n\t\t\t\t record.put(&quot;acct_doc_header_id&quot;, resultSet.getInt(2));\r\n\t\t         record.put(&quot;company_id&quot;, resultSet.getInt(3));\r\n\t\t         record.put(&quot;document_number&quot;, resultSet.getInt(4));\r\n\t\t         record.put(&quot;document_number_norm&quot;, resultSet.getInt(5));\r\n\t\t         record.put(&quot;business_code&quot;, resultSet.getString(6));\r\n\t\t         record.put(&quot;create_year&quot;, resultSet.getString(7));\r\n\t\t         record.put(&quot;document_line_number&quot;, resultSet.getInt(8));\r\n\t\t         record.put(&quot;doctype&quot;, resultSet.getString(9));\r\n\t\t         record.put(&quot;customer_number&quot;, resultSet.getInt(10));\r\n\t\t         record.put(&quot;customer_number_norm&quot;, resultSet.getInt(11));\r\n\t\t         record.put(&quot;fk_customer_map_id&quot;, resultSet.getInt(12));\r\n\t\t         record.put(&quot;customer_name&quot;, resultSet.getString(13));\r\n\t\t         record.put(&quot;division&quot;, resultSet.getString(14));\r\n\t\t         record.put(&quot;document_create_date&quot;, resultSet.getDate(15));\r\n\t\t         record.put(&quot;document_create_date_norm&quot;, resultSet.getDate(16));\r\n\t\t         record.put(&quot;posting_date&quot;, resultSet.getDate(17));\r\n\t\t         record.put(&quot;posting_date_norm&quot;, resultSet.getDate(18));\r\n\t\t         record.put(&quot;posting_id&quot;, resultSet.getString(19));\r\n\t\t         record.put(&quot;due_date&quot;, resultSet.getDate(20));\r\n\t\t         record.put(&quot;due_date_norm&quot;, resultSet.getDate(21));\r\n\t\t         record.put(&quot;order_date&quot;, resultSet.getDate(22));\r\n\t\t         record.put(&quot;order_date_norm&quot;, resultSet.getDate(23));\r\n\t\t         record.put(&quot;invoice_id&quot;, resultSet.getInt(24));\r\n\t\t         record.put(&quot;invoice_id_norm&quot;, resultSet.getInt(25));\r\n\t\t         record.put(&quot;baseline_create_date&quot;, resultSet.getDate(26));\r\n\t\t         record.put(&quot;invoice_date_norm&quot;, resultSet.getDate(27));\r\n\t\t         record.put(&quot;total_open_amount&quot;, resultSet.getFloat(28));\r\n\t\t         record.put(&quot;total_open_amount_norm&quot;, resultSet.getFloat(29));\r\n\t\t         record.put(&quot;cust_payment_terms&quot;, resultSet.getInt(30));\r\n\t\t         record.put(&quot;business_area&quot;, resultSet.getString(31));\r\n\t\t         record.put(&quot;ship_date&quot;, resultSet.getDate(32));\r\n\t\t         record.put(&quot;ship_to&quot;, resultSet.getString(33));\r\n\t\t         record.put(&quot;clearing_date&quot;, resultSet.getDate(34));\r\n\t\t         record.put(&quot;clearing_date_norm&quot;, resultSet.getDate(35));\r\n\t\t         record.put(&quot;reason_code&quot;, resultSet.getString(36));\r\n\t\t         record.put(&quot;isOpen&quot;, resultSet.getInt(37));\r\n\t\t         record.put(&quot;discount_due_date_norm&quot;, resultSet.getDate(38));\r\n\t\t         record.put(&quot;debit_credit_indicator&quot;, resultSet.getString(39));\r\n\t\t         record.put(&quot;payment_method&quot;, resultSet.getString(40));\r\n\t\t         record.put(&quot;document_creation_date&quot;, resultSet.getDate(41));\r\n\t\t         record.put(&quot;invoice_amount_doc_currency&quot;, resultSet.getFloat(42));\r\n\t\t         record.put(&quot;document_id&quot;, resultSet.getInt(43));\r\n\t\t         record.put(&quot;actual_open_amount&quot;, resultSet.getFloat(44));\r\n\t\t         record.put(&quot;paid_amount&quot;, resultSet.getFloat(45));\r\n\t\t         record.put(&quot;dayspast_due&quot;, resultSet.getInt(46));\r\n\t\t         record.put(&quot;invoice_age&quot;, resultSet.getInt(47));\r\n\t\t         record.put(&quot;disputed_amount&quot;, resultSet.getFloat(48));\r\n\t\t         \r\n\t\t         setArrayList(record);\r\n\t\t\t}\r\n\t\t} catch\t(Exception e) {\r\n\t\t\tSystem.out.println(e.getMessage());\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\tgetArrayList();\r\n\t\t\r\n\t\tsetJsonData(getArrayList()); \r\n\t\tgetJsonData();\r\n        System.out.println(getJsonData());\r\n         \r\n\t\treturn \t&quot;Success&quot;;\r\n\t}\r\n\t\r\n\tpublic void setJsonData(ArrayList&lt;Object&gt; arrayList) {\r\n\t\tGson gson = new Gson();\r\n\t\tthis.element = new JsonParser().parse(gson.toJson(arrayList));\r\n\t\tobject.add(&quot;customerDetail&quot;, this.element);\r\n\t\tthis.data = object.toString();\r\n\t}\r\n\t\r\n\tpublic String getJsonData() {\r\n\t\treturn this.data;\r\n\t}\r\n\t\r\n\tpublic void setPreparedStatement(String value) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.preparedStatement = conn.prepareStatement(value);\r\n\t\t\t} catch (SQLException e) {\r\n\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t}\r\n\t\r\n\tpublic PreparedStatement getPreparedStatement() {\r\n\t\treturn this.preparedStatement;\r\n\t}\r\n\t\r\n\tpublic void setResultSet(PreparedStatement preparedStatement){\r\n\t\ttry {\r\n\t\t\tthis.resultSet = preparedStatement.executeQuery();\r\n\t\t} catch (SQLException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic ResultSet getResultSet() {\r\n\t\treturn this.resultSet;\r\n\t}\r\n\t\r\n\tpublic void setArrayList(HashMap&lt;String,Object&gt; record) {\r\n\t\tarrayList.add(record);\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic ArrayList&lt;Object&gt; getArrayList(){\r\n\t\treturn this.arrayList;\r\n\t}\r\n\r\n}\r\n\r\n```\r\nMy Extjs code is:\r\n```\r\nvar gridContainer = function() {\r\nExt.define(&#39;User&#39;, {\r\n   extend: &#39;Ext.data.Model&#39;,\r\n   fields: [\r\n      &#39;pkId&#39;,\r\n           &#39;acctDocHeaderId&#39;,\r\n  &#39;companyId&#39;,\r\n  &#39;documentNumber&#39;,\r\n  &#39;documentNumberNorm&#39;,\r\n  &#39;businessCode&#39;,\r\n  &#39;createYear&#39;,\r\n  &#39;documentLineNumber&#39;,\r\n  &#39;docType&#39;,\r\n  &#39;customerNumber&#39;,      \r\n  &#39;customerNumberNorm&#39;,      \r\n  &#39;fkCustomerMapId&#39;,\r\n  &#39;customerName&#39;,\r\n  &#39;division&#39;,\r\n  &#39;documentCreateDate&#39;,\r\n  &#39;documentCreateDateNorm&#39;,\r\n  &#39;postingDate&#39;,\r\n  &#39;postingDateNorm&#39;,\r\n  &#39;postingID&#39;,\r\n  &#39;dueDate&#39;,\r\n  &#39;dueDateNorm&#39;,\r\n  &#39;orderDate&#39;,\r\n  &#39;orderDateNorm&#39;,\r\n  &#39;invoiceID&#39;,\r\n  &#39;invoiceIDNorm&#39;,\r\n  &#39;baseLineCreateDate&#39;,\r\n  &#39;invoiceDateNorm&#39;,\r\n  &#39;totalOpenAmount&#39;,\r\n  &#39;totalOpenAmountNorm&#39;,\r\n  &#39;custPaymentTerms&#39;,\r\n  &#39;businessArea&#39;,\r\n  &#39;shipDate&#39;,\r\n  &#39;shipTo&#39;,\r\n  &#39;clearingDate&#39;,\r\n  &#39;clearingDateNorm&#39;,\r\n  &#39;reasonCode&#39;,\r\n  &#39;isOpen&#39;,\r\n  &#39;discountDueDateNorm&#39;,\r\n  &#39;debitCreditIndicator&#39;,\r\n  &#39;paymentMethod&#39;,\r\n  &#39;documentCreationDate&#39;,\r\n  &#39;invoiceAmountDocCurrency&#39;,\r\n  &#39;documentID&#39;,\r\n  &#39;actualOpenAmount&#39;,\r\n  &#39;paidAmount&#39;,\r\n  &#39;daysPastDue&#39;,\r\n  &#39;invoiceAge&#39;,\r\n  &#39;disputedAmount&#39;,\r\n  ]\r\n});\r\n\r\n//number of items in a page\r\nvar itemsPerPage = 5\r\n\r\n//user store\r\nvar userStore = Ext.create(&#39;Ext.data.Store&#39;, {\r\n   model: &#39;User&#39;,\r\n   pageSize: itemsPerPage,\r\n   storeId: &#39;userStore&#39;,\r\n   proxy: {\r\n    type: &#39;ajax&#39;,\r\n\turl: &#39;generateCustomerJson&#39;,\r\n   // url: &#39;http://localhost:8080/1705188/customerDataJsonCreator?value=&#39;.concat(),\r\n    reader: {\r\n\t    type: &#39;json&#39;,\r\n\t    totalProperty: &#39;total&#39;,\r\n        rootProperty: &#39;customerDetail&#39;,\r\n    }\r\n   },\r\n   autoLoad: true\r\n});\r\nconsole.log(userStore);\r\n\r\n//business store\r\nvar businessStore = Ext.create(&#39;Ext.data.Store&#39;, {\r\n     storeId: &#39;businessStore&#39;,\r\n     proxy: {\r\n    type: &#39;ajax&#39;,\r\n    url: &#39;http://localhost:8080/1705188/companyCodeJsonCreator&#39;,\r\n    reader: {\r\n    type: &#39;json&#39;,\r\n    totalProperty: &#39;total&#39;,\r\nrootProperty: &#39;customerCode&#39;\r\n    }\r\n   },\r\n   autoLoad: true\r\n  });\r\n\r\n//sending the data to the server\r\n// userStore.load({\r\n//params: {\r\n//start: 0,\r\n//limit: itemsPerPage,\r\n//}\r\n//});\r\n\r\n//grid\r\nExt.create(&#39;Ext.grid.Panel&#39;, {\r\nrenderTo: Ext.get(&#39;ext-js-grid&#39;),\r\n   store: userStore,\r\n   width: &#39;100%&#39;,\r\n   id: &#39;employee-list&#39;,\r\n   title: &#39;List of Employees&#39;,\r\n   selType: &#39;checkboxmodel&#39;,\r\n   autoLoad: true,\r\n   columns: [{\r\n       text: &#39;Company ID&#39;,\r\n       sortable: true,\r\n       dataIndex: &#39;pk_id&#39;,\r\n       flx: 3\r\n   }, {\r\n       text: &#39;Account Header ID&#39;,\r\n       dataIndex: &#39;acct_doc_header_id&#39;,\r\n       minWidth: 150\r\n   }, {\r\n    text: &#39;Document Number&#39;,\r\n    dataIndex: &#39;document_number&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Number Normalised&#39;,\r\n    dataIndex: &#39;document_number_norm&#39;,\r\n    minWidth: 250\r\n   }, {\r\n    text: &#39;Business Code&#39;,\r\n    dataIndex: &#39;business_code&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Create Year&#39;,\r\n    dataIndex: &#39;create_year&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Line number&#39;,\r\n    dataIndex: &#39;document_line_number&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Document Type&#39;,\r\n    dataIndex: &#39;doctype&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Customer Number&#39;,\r\n    dataIndex: &#39;customer_number&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Customer Number Normalised&#39;,\r\n    dataIndex: &#39;customer_number_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Customer Map ID&#39;,\r\n    dataIndex: &#39;fk_customer_map_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Name Of Customer&#39;,\r\n    dataIndex: &#39;customer_name&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Division&#39;,\r\n    dataIndex: &#39;division&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Create Date&#39;,\r\n    dataIndex: &#39;document_create_date&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Document Create Date Normalised&#39;,\r\n    dataIndex: &#39;document_create_date_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Posting date&#39;,\r\n    dataIndex: &#39;posting_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Posting Date Normalised&#39;,\r\n    dataIndex: &#39;posting_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Posting ID&#39;,\r\n    dataIndex: &#39;posting_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Due In Date&#39;,\r\n    dataIndex: &#39;due_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Due In Date Normalised&#39;,\r\n    dataIndex: &#39;due_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Order create Date&#39;,\r\n    dataIndex: &#39;order_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Order Create Date Normalised&#39;,\r\n    dataIndex: &#39;order_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Baseline Date&#39;,\r\n    dataIndex: &#39;baseline_create_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice Date&#39;,\r\n    dataIndex: &#39;invoice_date_norm&#39;,\r\n    minWidth: 150    \r\n   }, {\r\n    text: &#39;Invoice ID&#39;,\r\n    dataIndex: &#39;invoice_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice ID Normalised&#39;,\r\n    dataIndex: &#39;invoice_id_norm&#39;,\r\n    minWidth: 250\r\n   }, {\r\n    text: &#39;Total Open Amount&#39;,\r\n    dataIndex: &#39;total_open_amount&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Total Open Amount Normalised&#39;,\r\n    dataIndex: &#39;total_open_amount_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Customer Payment Terms&#39;,\r\n    dataIndex: &#39;cust_payment_terms&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Area of Business&#39;,\r\n    dataIndex: &#39;bsiness_area&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Clear Date&#39;,\r\n    dataIndex: &#39;clearing_date&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Clear Date Normalised&#39;,\r\n    dataIndex: &#39;clearing_date_norm&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Is Open Invoice&#39;,\r\n    dataIndex: &#39;isopen&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Shipping Date&#39;,\r\n    dataIndex: &#39;ship_date&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Shipping To&#39;,\r\n    dataIndex: &#39;ship_to&#39;,\r\n    minWidth: 150\r\n   },{\r\n    text: &#39;Reason Code&#39;,\r\n    dataIndex: &#39;reason_code&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Discount Due Date Normalised&#39;,\r\n    dataIndex: &#39;discount_due_date_norm&#39;,\r\n    minWidth: 300\r\n   }, {\r\n    text: &#39;Debit Credit Status&#39;,\r\n    dataIndex: &#39;debit_credit_indicator&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Payment Method&#39;,\r\n    dataIndex: &#39;payment_method&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Payment Amount&#39;,\r\n    dataIndex: &#39;paid_amount&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Days past Due date&#39;,\r\n    dataIndex: &#39;dayspast_due&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Doc Id&#39;,\r\n    dataIndex: &#39;document_id&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Document Create Date&#39;,\r\n    dataIndex: &#39;document_create_date&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Actual Amount Outstanding&#39;,\r\n    dataIndex: &#39;actual_open_amount&#39;,\r\n    minWidth: 350\r\n   }, {\r\n    text: &#39;Age of Invoice&#39;,\r\n    dataIndex: &#39;invoice_age&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Invoice Currency&#39;,\r\n    dataIndex: &#39;invoice_amount_doc_currency&#39;,\r\n    minWidth: 150\r\n   }, {\r\n    text: &#39;Dispute Amount&#39;,\r\n    dataIndex: &#39;disputed_amount&#39;,\r\n    minWidth: 150\r\n   },],\r\n   dockedItems: [{\r\n    xtype: &#39;pagingtoolbar&#39;,\r\n    store: &#39;userStore&#39;,\r\n    dock: &#39;bottom&#39;,\r\n    displayInfo: true\r\n   }],\r\n   buttons: [\r\n    {\r\n    text: &#39;Add&#39;,\r\n       handler: function () {\r\n           var userWindow = Ext.create(&#39;Ext.window.Window&#39;, {\r\n               title: &#39;Add Invoice Details&#39;,\r\n               height: 600,\r\n               width: 600,\r\n               layout: &#39;fit&#39;,\r\n               bodyPadding: &#39;8&#39;,\r\n               items: {\r\n                   xtype: &#39;form&#39;,\r\n                   border: false,\r\n                   defaultType: &#39;textfield&#39;,\r\n                   items: [{\r\n                       fieldLabel: &#39;Company Code&#39;,\r\n                       name: &#39;companyCode&#39;,\r\n                       id: &#39;companyCode&#39;,\r\n                       xtype: &#39;combobox&#39;,\r\n                       store: businessStore,\r\n                       displayField: &#39;business_code&#39;,\r\n                       queryMode: &#39;local&#39;,\r\n                       filterPickList :true,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, , {\r\n                       fieldLabel: &#39;Document Number&#39;,\r\n                       name: &#39;documentNumber&#39;,\r\n                       id: &#39;documentNumber&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       vtype: &#39;alphanum&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, {\r\n                       fieldLabel: &#39;Customer Name&#39;,\r\n                       name: &#39;customerName&#39;,\r\n                       id: &#39;customerName&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       vtype: &#39;alphanum&#39;,\r\n                       allowBlank: false\r\n                   }, {\r\n                       xtype: &#39;numberfield&#39;,\r\n                       fieldLabel: &#39;Invoice Id&#39;,\r\n                       name: &#39;invoiceId&#39;,\r\n                       id :&#39;invoiceId&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false\r\n                   }, {\r\n                       fieldLabel: &#39;Open Amount&#39;,\r\n                       name: &#39;openAmount&#39;,\r\n                       id: &#39;openAmount&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       disabled: true,\r\n                       allowBlank: false\r\n                   }, {\r\n                       xtype: &#39;fieldcontainer&#39;,\r\n                       fieldLabel: &#39;Is Open Invoice&#39;,\r\n                       defaultType: &#39;radiofield&#39;,\r\n                       id: &#39;isOpen&#39;,\r\n                       layout: &#39;hbox&#39;,\r\n                       labelWidth: 150,\r\n                       allowBlank: false,\r\n                       items: [{\r\n                           boxLabel: &#39;Yes&#39;,\r\n                           name: &#39;isOpenInvoice&#39;,\r\n                           inputValue: &#39;y&#39;,\r\n                           id: &#39;yesRadioButton&#39;,\r\n                           flex: 1\r\n                       }, {\r\n                           boxLabel: &#39;No&#39;,\r\n                           name: &#39;isOpenInvoice&#39;,\r\n                           inputValue: &#39;n&#39;,\r\n                           id: &#39;noRadioButton&#39;,\r\n                           flex: 1\r\n                       }]\r\n                   },{\r\n                       xtype: &#39;fieldcontainer&#39;,\r\n                       fieldLabel: &#39;Payment Method&#39;,\r\n                       defaultType: &#39;checkboxfield&#39;,\r\n                       id: &#39;paymentMethod&#39;,\r\n                       layout: &#39;hbox&#39;,\r\n                       allowBlank: false,\r\n                       labelWidth: 150,\r\n                       items: [\r\n                           {\r\n                               boxLabel  : &#39;Check&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;1&#39;,\r\n                               id        : &#39;checkCheckBox&#39;,\r\n                               checked   : true,\r\n                               flex: 1\r\n                           }, {\r\n                               boxLabel  : &#39;ACH&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;2&#39;,\r\n                               id        : &#39;achCheckBox&#39;,\r\n                               flex: 1\r\n                           }, {\r\n                               boxLabel  : &#39;Online&#39;,\r\n                               name      : &#39;paymentMethod&#39;,\r\n                               inputValue: &#39;3&#39;,\r\n                               id        : &#39;onlineCheckBox&#39;\r\n                           }\r\n                       ]\r\n                   }, {\r\n                       fieldLabel: &#39;Payment Amount&#39;,\r\n                       name: &#39;paymentAmount&#39;,\r\n                       id: &#39;paymentAmount&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       disabled: true\r\n                   }, {\r\n                       fieldLabel: &#39;Division&#39;,\r\n                       name: &#39;division&#39;,\r\n                       id: &#39;division&#39;,\r\n                       width: &#39;100%&#39;,\r\n                       labelWidth: 150,\r\n                       emptyText: &#39;Enter Division Email Id&#39;,\r\n                       vtype: &#39;email&#39;\r\n                   }],\r\n                   dockedItems: [{\r\n                       xtype: &#39;toolbar&#39;,\r\n                       dock: &#39;bottom&#39;,\r\n                        layout: {\r\n                       type: &#39;hbox&#39;,\r\n                       align: &#39;center&#39;,\r\n                       pack: &#39;middle&#39;\r\n                   },\r\n                       items: [{\r\n                           xtype: &#39;button&#39;,\r\n                           text: &#39;Save&#39;,\r\n                           formBind: true,\r\n                           disabled: true,\r\n                           handler: function() {\r\n                               var form = this.up(&#39;form&#39;).getForm().getValues();\r\n                               console.log(form);\r\n                               Ext.Ajax.request({\r\n                                url: &#39;http://localhost:8080/1705188/addInvoice&#39;,\r\n                                method: &#39;GET&#39;,\r\n                                params: {\r\n                                company_id: Ext.getCmp(&#39;companyCode&#39;).getValue(),\r\n                                document_number: Ext.getCmp(&#39;documentNumber&#39;).getValue(),\r\n                                customer_name: Ext.getCmp(&#39;customerName&#39;).getValue(),\r\n                                invoice_id: Ext.getCmp(&#39;invoiceId&#39;).getValue,\r\n                                total_open_amount: Ext.getCmp(&#39;openAmount&#39;).getValue(),\r\n                                isOpen: Ext.getCmp(&#39;yesRadioButton&#39;).getValue(),\r\n                                payment_method: Ext.getCmp(&#39;checkCheckBox&#39;).getValue(),\r\n                                paid_amount: Ext.getCmp(&#39;paymentAmount&#39;).getValue(),\r\n                                division: Ext.getCmp(&#39;division&#39;).getValue()\r\n                               },\r\n                               success: function(){\r\n                                Ext.Msg.alert(&#39;Saved&#39;,&#39;Your data has been added&#39;);\r\n                                Ext.getCmp(&#39;employee-list&#39;).getView().refresh();\r\n                               },\r\n                               failure: function(){\r\n                                Ext.Msg.alert(&#39;Error&#39;,&#39;Your data could not be saved&#39;);\r\n                               }\r\n                               });\r\n                               userWindow.close();\r\n                           }\r\n                       }, {\r\n                           xtype: &#39;button&#39;,\r\n                           text: &#39;Cancel&#39;\r\n                       }],\r\n                       \r\n                   }]\r\n               }\r\n           });\r\n\r\n           userWindow.show();\r\n       }\r\n   }]\r\n});\r\n};\r\n\r\nExt.onReady(gridContainer);\r\n```\r\nMy console output in Eclipse is:\r\n```\r\n{&quot;customerDetail&quot;:[{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:1,&quot;customer_number&quot;:228448,&quot;business_code&quot;:&quot;Faes6&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:544073954,&quot;customer_number_norm&quot;:228448,&quot;invoice_age&quot;:78,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:544073954,&quot;dayspast_due&quot;:18,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:48289611,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Apr 15, 2019&quot;,&quot;document_create_date_norm&quot;:&quot;Apr 15, 2019&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Jul 2, 2019&quot;,&quot;document_number&quot;:48289611,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Jul 2, 2019&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:48289611,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:48289611,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:8166.52,&quot;paid_amount&quot;:8166.52,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;Fatboy Industries&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:8166.52},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:2,&quot;customer_number&quot;:228089,&quot;business_code&quot;:&quot;cvrp1&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:540062945,&quot;customer_number_norm&quot;:228089,&quot;invoice_age&quot;:56,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:540062945,&quot;dayspast_due&quot;:-4,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:40134128,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Aug 3, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Aug 3, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 28, 2018&quot;,&quot;document_number&quot;:40134128,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 28, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:40134128,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:40134128,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5027.5,&quot;paid_amount&quot;:5027.5,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;cvMaker corp&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5027.5},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:3,&quot;customer_number&quot;:228098,&quot;business_code&quot;:&quot;skes8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537291313,&quot;customer_number_norm&quot;:228098,&quot;invoice_age&quot;:53,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537291313,&quot;dayspast_due&quot;:-7,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36548810,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 13, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 13, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 5, 2018&quot;,&quot;document_number&quot;:36548810,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 5, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36548810,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36548810,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:270.0,&quot;paid_amount&quot;:270.0,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;skynetpwc softwares&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:270.0},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:4,&quot;customer_number&quot;:218997,&quot;business_code&quot;:&quot;nuus8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:539694838,&quot;customer_number_norm&quot;:218997,&quot;invoice_age&quot;:63,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:539694838,&quot;dayspast_due&quot;:3,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:39579444,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Jul 11, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Jul 11, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 12, 2018&quot;,&quot;document_number&quot;:39579444,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 12, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:39579444,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:39579444,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:158.94,&quot;paid_amount&quot;:158.94,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;nucleus&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:158.94},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:5,&quot;customer_number&quot;:226550,&quot;business_code&quot;:&quot;syps7&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537094052,&quot;customer_number_norm&quot;:226550,&quot;invoice_age&quot;:62,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537094052,&quot;dayspast_due&quot;:2,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36266913,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 1, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 1, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 2, 2018&quot;,&quot;document_number&quot;:36266913,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 2, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36266913,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36266913,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5962.81,&quot;paid_amount&quot;:5962.81,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;system ops&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5962.81}]}\r\n```\r\nAnd the error I am getting on the browser while running the server is:\r\n[Output of the project][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rVCPx.png\r\n\r\nAny help would be appreciated.&lt;br&gt;\r\n**Edit:**&lt;br&gt;\r\nI actually figured out the root of the error. My struts2 action class is not returning the json data and hence, extjs is not able to decode it. I am fairly new to struts2, so I dont know how to do that.\r\n&lt;br&gt;\r\n**Edit:**&lt;br&gt; My error was resolved. Thanks for the help.&lt;br&gt;Actually, problem was in my struts.xml file.&lt;br&gt;\r\n**Edited struts.xml** file is given below:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE struts PUBLIC\r\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\r\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\r\n\r\n&lt;struts&gt;\r\n\t&lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\r\n\t\t&lt;action \r\n\t\t\tname = &quot;generateCustomerJson&quot; \r\n\t\t\tclass = &quot;com.proj.Action.CustomerDataJsonCreator&quot;&gt;\r\n\t\t\t&lt;result name = &quot;Success&quot; type=&quot;json&quot;&gt;\r\n\t\t\t\t&lt;param name = &quot;root&quot;&gt;arrayList&lt;/param&gt;\r\n\t\t\t&lt;/result&gt;\r\n\t\t&lt;/action&gt;\r\n\t&lt;/package&gt;\r\n&lt;/struts&gt;\r\n\r\n```","title":"Cannot return json data back to extjs","body":"<p>I am completely new to Extjs and struts2 and was trying a new project of my own. However, while passing the json data from struts action class, I am continuosly getting this error:\n<strong>Ext.JSON.decode(): You're trying to decode an invalid JSON String</strong>\nI am using:\nJDK 1.8<br>\nApache Tomcat 8.5.55 <br>\nExtjs 6.0.2<br>\nIDE Eclipse<br>\nMy struts.xml file is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\n        &lt;action \n            name = &quot;generateCustomerJson&quot; \n            class = &quot;com.proj.Action.CustomerDataJsonCreator&quot;\n            method = &quot;&quot;&gt;\n            &lt;result name = &quot;Success&quot;&gt;/index.jsp\n            &lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n</code></pre>\n<p>My action class is:</p>\n<pre><code>package com.proj.Action;\n\nimport java.sql.Connection;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.ArrayList;\nimport java.util.HashMap;\n\nimport com.google.gson.Gson;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport com.google.gson.JsonParser;\nimport com.proj.DAO.DBConnector;\nimport com.proj.SqlQueryGenerator;\n\npublic class CustomerDataJsonCreator {\n    \n    private Connection conn = null;\n    private PreparedStatement preparedStatement = null;\n    private ResultSet resultSet = null;\n    private HashMap&lt;String,Object&gt; record= null;\n    private ArrayList&lt;Object&gt; arrayList = new ArrayList&lt;Object&gt;();\n    private String data = null;\n    private JsonElement element = null;\n    private JsonObject object = new JsonObject();\n\n\n    //connection to DB\n    public CustomerDataJsonCreator() {\n        conn = DBConnector.conDB();\n    }\n\n\n    public String execute() {\n            \n            setPreparedStatement(SqlQueryGenerator.generator(&quot;Select&quot;));\n            preparedStatement = getPreparedStatement();\n            \n            setResultSet(preparedStatement);\n            resultSet = getResultSet();\n        \n        try {\n            \n            while (resultSet.next()) {\n                 record = new HashMap&lt;&gt;();\n                 record.put(&quot;pk_id&quot;,resultSet.getInt(1));\n                 record.put(&quot;acct_doc_header_id&quot;, resultSet.getInt(2));\n                 record.put(&quot;company_id&quot;, resultSet.getInt(3));\n                 record.put(&quot;document_number&quot;, resultSet.getInt(4));\n                 record.put(&quot;document_number_norm&quot;, resultSet.getInt(5));\n                 record.put(&quot;business_code&quot;, resultSet.getString(6));\n                 record.put(&quot;create_year&quot;, resultSet.getString(7));\n                 record.put(&quot;document_line_number&quot;, resultSet.getInt(8));\n                 record.put(&quot;doctype&quot;, resultSet.getString(9));\n                 record.put(&quot;customer_number&quot;, resultSet.getInt(10));\n                 record.put(&quot;customer_number_norm&quot;, resultSet.getInt(11));\n                 record.put(&quot;fk_customer_map_id&quot;, resultSet.getInt(12));\n                 record.put(&quot;customer_name&quot;, resultSet.getString(13));\n                 record.put(&quot;division&quot;, resultSet.getString(14));\n                 record.put(&quot;document_create_date&quot;, resultSet.getDate(15));\n                 record.put(&quot;document_create_date_norm&quot;, resultSet.getDate(16));\n                 record.put(&quot;posting_date&quot;, resultSet.getDate(17));\n                 record.put(&quot;posting_date_norm&quot;, resultSet.getDate(18));\n                 record.put(&quot;posting_id&quot;, resultSet.getString(19));\n                 record.put(&quot;due_date&quot;, resultSet.getDate(20));\n                 record.put(&quot;due_date_norm&quot;, resultSet.getDate(21));\n                 record.put(&quot;order_date&quot;, resultSet.getDate(22));\n                 record.put(&quot;order_date_norm&quot;, resultSet.getDate(23));\n                 record.put(&quot;invoice_id&quot;, resultSet.getInt(24));\n                 record.put(&quot;invoice_id_norm&quot;, resultSet.getInt(25));\n                 record.put(&quot;baseline_create_date&quot;, resultSet.getDate(26));\n                 record.put(&quot;invoice_date_norm&quot;, resultSet.getDate(27));\n                 record.put(&quot;total_open_amount&quot;, resultSet.getFloat(28));\n                 record.put(&quot;total_open_amount_norm&quot;, resultSet.getFloat(29));\n                 record.put(&quot;cust_payment_terms&quot;, resultSet.getInt(30));\n                 record.put(&quot;business_area&quot;, resultSet.getString(31));\n                 record.put(&quot;ship_date&quot;, resultSet.getDate(32));\n                 record.put(&quot;ship_to&quot;, resultSet.getString(33));\n                 record.put(&quot;clearing_date&quot;, resultSet.getDate(34));\n                 record.put(&quot;clearing_date_norm&quot;, resultSet.getDate(35));\n                 record.put(&quot;reason_code&quot;, resultSet.getString(36));\n                 record.put(&quot;isOpen&quot;, resultSet.getInt(37));\n                 record.put(&quot;discount_due_date_norm&quot;, resultSet.getDate(38));\n                 record.put(&quot;debit_credit_indicator&quot;, resultSet.getString(39));\n                 record.put(&quot;payment_method&quot;, resultSet.getString(40));\n                 record.put(&quot;document_creation_date&quot;, resultSet.getDate(41));\n                 record.put(&quot;invoice_amount_doc_currency&quot;, resultSet.getFloat(42));\n                 record.put(&quot;document_id&quot;, resultSet.getInt(43));\n                 record.put(&quot;actual_open_amount&quot;, resultSet.getFloat(44));\n                 record.put(&quot;paid_amount&quot;, resultSet.getFloat(45));\n                 record.put(&quot;dayspast_due&quot;, resultSet.getInt(46));\n                 record.put(&quot;invoice_age&quot;, resultSet.getInt(47));\n                 record.put(&quot;disputed_amount&quot;, resultSet.getFloat(48));\n                 \n                 setArrayList(record);\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n        \n        \n        getArrayList();\n        \n        setJsonData(getArrayList()); \n        getJsonData();\n        System.out.println(getJsonData());\n         \n        return  &quot;Success&quot;;\n    }\n    \n    public void setJsonData(ArrayList&lt;Object&gt; arrayList) {\n        Gson gson = new Gson();\n        this.element = new JsonParser().parse(gson.toJson(arrayList));\n        object.add(&quot;customerDetail&quot;, this.element);\n        this.data = object.toString();\n    }\n    \n    public String getJsonData() {\n        return this.data;\n    }\n    \n    public void setPreparedStatement(String value) {\n            try {\n                this.preparedStatement = conn.prepareStatement(value);\n            } catch (SQLException e) {\n                // TODO Auto-generated catch block\n                e.printStackTrace();\n            }\n    }\n    \n    public PreparedStatement getPreparedStatement() {\n        return this.preparedStatement;\n    }\n    \n    public void setResultSet(PreparedStatement preparedStatement){\n        try {\n            this.resultSet = preparedStatement.executeQuery();\n        } catch (SQLException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n    \n    public ResultSet getResultSet() {\n        return this.resultSet;\n    }\n    \n    public void setArrayList(HashMap&lt;String,Object&gt; record) {\n        arrayList.add(record);\n        \n    }\n    \n    public ArrayList&lt;Object&gt; getArrayList(){\n        return this.arrayList;\n    }\n\n}\n\n</code></pre>\n<p>My Extjs code is:</p>\n<pre><code>var gridContainer = function() {\nExt.define('User', {\n   extend: 'Ext.data.Model',\n   fields: [\n      'pkId',\n           'acctDocHeaderId',\n  'companyId',\n  'documentNumber',\n  'documentNumberNorm',\n  'businessCode',\n  'createYear',\n  'documentLineNumber',\n  'docType',\n  'customerNumber',      \n  'customerNumberNorm',      \n  'fkCustomerMapId',\n  'customerName',\n  'division',\n  'documentCreateDate',\n  'documentCreateDateNorm',\n  'postingDate',\n  'postingDateNorm',\n  'postingID',\n  'dueDate',\n  'dueDateNorm',\n  'orderDate',\n  'orderDateNorm',\n  'invoiceID',\n  'invoiceIDNorm',\n  'baseLineCreateDate',\n  'invoiceDateNorm',\n  'totalOpenAmount',\n  'totalOpenAmountNorm',\n  'custPaymentTerms',\n  'businessArea',\n  'shipDate',\n  'shipTo',\n  'clearingDate',\n  'clearingDateNorm',\n  'reasonCode',\n  'isOpen',\n  'discountDueDateNorm',\n  'debitCreditIndicator',\n  'paymentMethod',\n  'documentCreationDate',\n  'invoiceAmountDocCurrency',\n  'documentID',\n  'actualOpenAmount',\n  'paidAmount',\n  'daysPastDue',\n  'invoiceAge',\n  'disputedAmount',\n  ]\n});\n\n//number of items in a page\nvar itemsPerPage = 5\n\n//user store\nvar userStore = Ext.create('Ext.data.Store', {\n   model: 'User',\n   pageSize: itemsPerPage,\n   storeId: 'userStore',\n   proxy: {\n    type: 'ajax',\n    url: 'generateCustomerJson',\n   // url: 'http://localhost:8080/1705188/customerDataJsonCreator?value='.concat(),\n    reader: {\n        type: 'json',\n        totalProperty: 'total',\n        rootProperty: 'customerDetail',\n    }\n   },\n   autoLoad: true\n});\nconsole.log(userStore);\n\n//business store\nvar businessStore = Ext.create('Ext.data.Store', {\n     storeId: 'businessStore',\n     proxy: {\n    type: 'ajax',\n    url: 'http://localhost:8080/1705188/companyCodeJsonCreator',\n    reader: {\n    type: 'json',\n    totalProperty: 'total',\nrootProperty: 'customerCode'\n    }\n   },\n   autoLoad: true\n  });\n\n//sending the data to the server\n// userStore.load({\n//params: {\n//start: 0,\n//limit: itemsPerPage,\n//}\n//});\n\n//grid\nExt.create('Ext.grid.Panel', {\nrenderTo: Ext.get('ext-js-grid'),\n   store: userStore,\n   width: '100%',\n   id: 'employee-list',\n   title: 'List of Employees',\n   selType: 'checkboxmodel',\n   autoLoad: true,\n   columns: [{\n       text: 'Company ID',\n       sortable: true,\n       dataIndex: 'pk_id',\n       flx: 3\n   }, {\n       text: 'Account Header ID',\n       dataIndex: 'acct_doc_header_id',\n       minWidth: 150\n   }, {\n    text: 'Document Number',\n    dataIndex: 'document_number',\n    minWidth: 150\n   }, {\n    text: 'Document Number Normalised',\n    dataIndex: 'document_number_norm',\n    minWidth: 250\n   }, {\n    text: 'Business Code',\n    dataIndex: 'business_code',\n    minWidth: 150\n   }, {\n    text: 'Create Year',\n    dataIndex: 'create_year',\n    minWidth: 150\n   }, {\n    text: 'Document Line number',\n    dataIndex: 'document_line_number',\n    minWidth: 300\n   }, {\n    text: 'Document Type',\n    dataIndex: 'doctype',\n    minWidth: 150\n   },{\n    text: 'Customer Number',\n    dataIndex: 'customer_number',\n    minWidth: 150\n   },{\n    text: 'Customer Number Normalised',\n    dataIndex: 'customer_number_norm',\n    minWidth: 350\n   }, {\n    text: 'Customer Map ID',\n    dataIndex: 'fk_customer_map_id',\n    minWidth: 150\n   }, {\n    text: 'Name Of Customer',\n    dataIndex: 'customer_name',\n    minWidth: 150\n   }, {\n    text: 'Division',\n    dataIndex: 'division',\n    minWidth: 150\n   }, {\n    text: 'Document Create Date',\n    dataIndex: 'document_create_date',\n    minWidth: 300\n   }, {\n    text: 'Document Create Date Normalised',\n    dataIndex: 'document_create_date_norm',\n    minWidth: 350\n   }, {\n    text: 'Posting date',\n    dataIndex: 'posting_date',\n    minWidth: 150\n   }, {\n    text: 'Posting Date Normalised',\n    dataIndex: 'posting_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Posting ID',\n    dataIndex: 'posting_id',\n    minWidth: 150\n   }, {\n    text: 'Due In Date',\n    dataIndex: 'due_date',\n    minWidth: 150\n   }, {\n    text: 'Due In Date Normalised',\n    dataIndex: 'due_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Order create Date',\n    dataIndex: 'order_date',\n    minWidth: 150\n   }, {\n    text: 'Order Create Date Normalised',\n    dataIndex: 'order_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Baseline Date',\n    dataIndex: 'baseline_create_date',\n    minWidth: 150\n   }, {\n    text: 'Invoice Date',\n    dataIndex: 'invoice_date_norm',\n    minWidth: 150    \n   }, {\n    text: 'Invoice ID',\n    dataIndex: 'invoice_id',\n    minWidth: 150\n   }, {\n    text: 'Invoice ID Normalised',\n    dataIndex: 'invoice_id_norm',\n    minWidth: 250\n   }, {\n    text: 'Total Open Amount',\n    dataIndex: 'total_open_amount',\n    minWidth: 150\n   },{\n    text: 'Total Open Amount Normalised',\n    dataIndex: 'total_open_amount_norm',\n    minWidth: 350\n   }, {\n    text: 'Customer Payment Terms',\n    dataIndex: 'cust_payment_terms',\n    minWidth: 300\n   }, {\n    text: 'Area of Business',\n    dataIndex: 'bsiness_area',\n    minWidth: 150\n   }, {\n    text: 'Clear Date',\n    dataIndex: 'clearing_date',\n    minWidth: 150\n   },{\n    text: 'Clear Date Normalised',\n    dataIndex: 'clearing_date_norm',\n    minWidth: 350\n   }, {\n    text: 'Is Open Invoice',\n    dataIndex: 'isopen',\n    minWidth: 150\n   }, {\n    text: 'Shipping Date',\n    dataIndex: 'ship_date',\n    minWidth: 150\n   }, {\n    text: 'Shipping To',\n    dataIndex: 'ship_to',\n    minWidth: 150\n   },{\n    text: 'Reason Code',\n    dataIndex: 'reason_code',\n    minWidth: 150\n   }, {\n    text: 'Discount Due Date Normalised',\n    dataIndex: 'discount_due_date_norm',\n    minWidth: 300\n   }, {\n    text: 'Debit Credit Status',\n    dataIndex: 'debit_credit_indicator',\n    minWidth: 150\n   }, {\n    text: 'Payment Method',\n    dataIndex: 'payment_method',\n    minWidth: 150\n   }, {\n    text: 'Payment Amount',\n    dataIndex: 'paid_amount',\n    minWidth: 150\n   }, {\n    text: 'Days past Due date',\n    dataIndex: 'dayspast_due',\n    minWidth: 150\n   }, {\n    text: 'Doc Id',\n    dataIndex: 'document_id',\n    minWidth: 150\n   }, {\n    text: 'Document Create Date',\n    dataIndex: 'document_create_date',\n    minWidth: 350\n   }, {\n    text: 'Actual Amount Outstanding',\n    dataIndex: 'actual_open_amount',\n    minWidth: 350\n   }, {\n    text: 'Age of Invoice',\n    dataIndex: 'invoice_age',\n    minWidth: 150\n   }, {\n    text: 'Invoice Currency',\n    dataIndex: 'invoice_amount_doc_currency',\n    minWidth: 150\n   }, {\n    text: 'Dispute Amount',\n    dataIndex: 'disputed_amount',\n    minWidth: 150\n   },],\n   dockedItems: [{\n    xtype: 'pagingtoolbar',\n    store: 'userStore',\n    dock: 'bottom',\n    displayInfo: true\n   }],\n   buttons: [\n    {\n    text: 'Add',\n       handler: function () {\n           var userWindow = Ext.create('Ext.window.Window', {\n               title: 'Add Invoice Details',\n               height: 600,\n               width: 600,\n               layout: 'fit',\n               bodyPadding: '8',\n               items: {\n                   xtype: 'form',\n                   border: false,\n                   defaultType: 'textfield',\n                   items: [{\n                       fieldLabel: 'Company Code',\n                       name: 'companyCode',\n                       id: 'companyCode',\n                       xtype: 'combobox',\n                       store: businessStore,\n                       displayField: 'business_code',\n                       queryMode: 'local',\n                       filterPickList :true,\n                       width: '100%',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, , {\n                       fieldLabel: 'Document Number',\n                       name: 'documentNumber',\n                       id: 'documentNumber',\n                       width: '100%',\n                       vtype: 'alphanum',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, {\n                       fieldLabel: 'Customer Name',\n                       name: 'customerName',\n                       id: 'customerName',\n                       width: '100%',\n                       labelWidth: 150,\n                       vtype: 'alphanum',\n                       allowBlank: false\n                   }, {\n                       xtype: 'numberfield',\n                       fieldLabel: 'Invoice Id',\n                       name: 'invoiceId',\n                       id :'invoiceId',\n                       width: '100%',\n                       labelWidth: 150,\n                       allowBlank: false\n                   }, {\n                       fieldLabel: 'Open Amount',\n                       name: 'openAmount',\n                       id: 'openAmount',\n                       width: '100%',\n                       labelWidth: 150,\n                       disabled: true,\n                       allowBlank: false\n                   }, {\n                       xtype: 'fieldcontainer',\n                       fieldLabel: 'Is Open Invoice',\n                       defaultType: 'radiofield',\n                       id: 'isOpen',\n                       layout: 'hbox',\n                       labelWidth: 150,\n                       allowBlank: false,\n                       items: [{\n                           boxLabel: 'Yes',\n                           name: 'isOpenInvoice',\n                           inputValue: 'y',\n                           id: 'yesRadioButton',\n                           flex: 1\n                       }, {\n                           boxLabel: 'No',\n                           name: 'isOpenInvoice',\n                           inputValue: 'n',\n                           id: 'noRadioButton',\n                           flex: 1\n                       }]\n                   },{\n                       xtype: 'fieldcontainer',\n                       fieldLabel: 'Payment Method',\n                       defaultType: 'checkboxfield',\n                       id: 'paymentMethod',\n                       layout: 'hbox',\n                       allowBlank: false,\n                       labelWidth: 150,\n                       items: [\n                           {\n                               boxLabel  : 'Check',\n                               name      : 'paymentMethod',\n                               inputValue: '1',\n                               id        : 'checkCheckBox',\n                               checked   : true,\n                               flex: 1\n                           }, {\n                               boxLabel  : 'ACH',\n                               name      : 'paymentMethod',\n                               inputValue: '2',\n                               id        : 'achCheckBox',\n                               flex: 1\n                           }, {\n                               boxLabel  : 'Online',\n                               name      : 'paymentMethod',\n                               inputValue: '3',\n                               id        : 'onlineCheckBox'\n                           }\n                       ]\n                   }, {\n                       fieldLabel: 'Payment Amount',\n                       name: 'paymentAmount',\n                       id: 'paymentAmount',\n                       width: '100%',\n                       labelWidth: 150,\n                       disabled: true\n                   }, {\n                       fieldLabel: 'Division',\n                       name: 'division',\n                       id: 'division',\n                       width: '100%',\n                       labelWidth: 150,\n                       emptyText: 'Enter Division Email Id',\n                       vtype: 'email'\n                   }],\n                   dockedItems: [{\n                       xtype: 'toolbar',\n                       dock: 'bottom',\n                        layout: {\n                       type: 'hbox',\n                       align: 'center',\n                       pack: 'middle'\n                   },\n                       items: [{\n                           xtype: 'button',\n                           text: 'Save',\n                           formBind: true,\n                           disabled: true,\n                           handler: function() {\n                               var form = this.up('form').getForm().getValues();\n                               console.log(form);\n                               Ext.Ajax.request({\n                                url: 'http://localhost:8080/1705188/addInvoice',\n                                method: 'GET',\n                                params: {\n                                company_id: Ext.getCmp('companyCode').getValue(),\n                                document_number: Ext.getCmp('documentNumber').getValue(),\n                                customer_name: Ext.getCmp('customerName').getValue(),\n                                invoice_id: Ext.getCmp('invoiceId').getValue,\n                                total_open_amount: Ext.getCmp('openAmount').getValue(),\n                                isOpen: Ext.getCmp('yesRadioButton').getValue(),\n                                payment_method: Ext.getCmp('checkCheckBox').getValue(),\n                                paid_amount: Ext.getCmp('paymentAmount').getValue(),\n                                division: Ext.getCmp('division').getValue()\n                               },\n                               success: function(){\n                                Ext.Msg.alert('Saved','Your data has been added');\n                                Ext.getCmp('employee-list').getView().refresh();\n                               },\n                               failure: function(){\n                                Ext.Msg.alert('Error','Your data could not be saved');\n                               }\n                               });\n                               userWindow.close();\n                           }\n                       }, {\n                           xtype: 'button',\n                           text: 'Cancel'\n                       }],\n                       \n                   }]\n               }\n           });\n\n           userWindow.show();\n       }\n   }]\n});\n};\n\nExt.onReady(gridContainer);\n</code></pre>\n<p>My console output in Eclipse is:</p>\n<pre><code>{&quot;customerDetail&quot;:[{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:1,&quot;customer_number&quot;:228448,&quot;business_code&quot;:&quot;Faes6&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:544073954,&quot;customer_number_norm&quot;:228448,&quot;invoice_age&quot;:78,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:544073954,&quot;dayspast_due&quot;:18,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:48289611,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Apr 15, 2019&quot;,&quot;document_create_date_norm&quot;:&quot;Apr 15, 2019&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Jul 2, 2019&quot;,&quot;document_number&quot;:48289611,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Jul 2, 2019&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:48289611,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:48289611,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:8166.52,&quot;paid_amount&quot;:8166.52,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;Fatboy Industries&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:8166.52},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:2,&quot;customer_number&quot;:228089,&quot;business_code&quot;:&quot;cvrp1&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:540062945,&quot;customer_number_norm&quot;:228089,&quot;invoice_age&quot;:56,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:540062945,&quot;dayspast_due&quot;:-4,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:40134128,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Aug 3, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Aug 3, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 28, 2018&quot;,&quot;document_number&quot;:40134128,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 28, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:40134128,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:40134128,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5027.5,&quot;paid_amount&quot;:5027.5,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;cvMaker corp&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5027.5},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:3,&quot;customer_number&quot;:228098,&quot;business_code&quot;:&quot;skes8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537291313,&quot;customer_number_norm&quot;:228098,&quot;invoice_age&quot;:53,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537291313,&quot;dayspast_due&quot;:-7,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36548810,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 13, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 13, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 5, 2018&quot;,&quot;document_number&quot;:36548810,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 5, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36548810,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36548810,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:270.0,&quot;paid_amount&quot;:270.0,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;skynetpwc softwares&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:270.0},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:4,&quot;customer_number&quot;:218997,&quot;business_code&quot;:&quot;nuus8&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:539694838,&quot;customer_number_norm&quot;:218997,&quot;invoice_age&quot;:63,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:539694838,&quot;dayspast_due&quot;:3,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:39579444,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Jul 11, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Jul 11, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;Sep 12, 2018&quot;,&quot;document_number&quot;:39579444,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;Sep 12, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:39579444,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:39579444,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:158.94,&quot;paid_amount&quot;:158.94,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;nucleus&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:158.94},{&quot;total_open_amount_norm&quot;:0.0,&quot;pk_id&quot;:5,&quot;customer_number&quot;:226550,&quot;business_code&quot;:&quot;syps7&quot;,&quot;posting_id&quot;:&quot;&quot;,&quot;document_id&quot;:537094052,&quot;customer_number_norm&quot;:226550,&quot;invoice_age&quot;:62,&quot;division&quot;:&quot;&quot;,&quot;reason_code&quot;:&quot;&quot;,&quot;acct_doc_header_id&quot;:537094052,&quot;dayspast_due&quot;:2,&quot;debit_credit_indicator&quot;:&quot;&quot;,&quot;invoice_id&quot;:36266913,&quot;document_line_number&quot;:-1,&quot;document_create_date&quot;:&quot;Mar 1, 2018&quot;,&quot;document_create_date_norm&quot;:&quot;Mar 1, 2018&quot;,&quot;payment_method&quot;:&quot;&quot;,&quot;clearing_date&quot;:&quot;May 2, 2018&quot;,&quot;document_number&quot;:36266913,&quot;company_id&quot;:60,&quot;total_open_amount&quot;:0.0,&quot;clearing_date_norm&quot;:&quot;May 2, 2018&quot;,&quot;fk_customer_map_id&quot;:-1,&quot;business_area&quot;:&quot;&quot;,&quot;document_number_norm&quot;:36266913,&quot;doctype&quot;:&quot;RI&quot;,&quot;cust_payment_terms&quot;:60,&quot;isOpen&quot;:0,&quot;invoice_id_norm&quot;:36266913,&quot;create_year&quot;:&quot;&quot;,&quot;actual_open_amount&quot;:5962.81,&quot;paid_amount&quot;:5962.81,&quot;disputed_amount&quot;:0.0,&quot;customer_name&quot;:&quot;system ops&quot;,&quot;ship_to&quot;:&quot;&quot;,&quot;invoice_amount_doc_currency&quot;:5962.81}]}\n</code></pre>\n<p>And the error I am getting on the browser while running the server is:\n<a href=\"https://i.stack.imgur.com/rVCPx.png\" rel=\"nofollow noreferrer\">Output of the project</a></p>\n<p>Any help would be appreciated.<br>\n<strong>Edit:</strong><br>\nI actually figured out the root of the error. My struts2 action class is not returning the json data and hence, extjs is not able to decode it. I am fairly new to struts2, so I dont know how to do that.\n<br>\n<strong>Edit:</strong><br> My error was resolved. Thanks for the help.<br>Actually, problem was in my struts.xml file.<br>\n<strong>Edited struts.xml</strong> file is given below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE struts PUBLIC\n   &quot;-//Apache Software Foundation//DTD Struts Configuration 2.5//EN&quot;\n   &quot;http://struts.apache.org/dtds/struts-2.5.dtd&quot;&gt;\n\n&lt;struts&gt;\n    &lt;package name=&quot;default&quot; extends=&quot;json-default&quot;&gt;\n        &lt;action \n            name = &quot;generateCustomerJson&quot; \n            class = &quot;com.proj.Action.CustomerDataJsonCreator&quot;&gt;\n            &lt;result name = &quot;Success&quot; type=&quot;json&quot;&gt;\n                &lt;param name = &quot;root&quot;&gt;arrayList&lt;/param&gt;\n            &lt;/result&gt;\n        &lt;/action&gt;\n    &lt;/package&gt;\n&lt;/struts&gt;\n\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":3,"creation_date":1684153735,"post_id":76253996,"comment_id":134470669,"body_markdown":"Are you saying that method [removeIf](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)) is not sufficient?","body":"Are you saying that method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collection.html#removeIf(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">removeIf</a> is not sufficient?"},{"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"score":0,"creation_date":1684154075,"post_id":76253996,"comment_id":134470758,"body_markdown":"Considering some performance aspects removeIf might be inefficient ( Runtime POV ).","body":"Considering some performance aspects removeIf might be inefficient ( Runtime POV )."}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1684153869,"creation_date":1684153869,"answer_id":76254101,"question_id":76253996,"body_markdown":"`Stream`s cannot not modify the underlying list in-place. If you need to modify the collection itself, either use the `removeIf` method like you already mentioned, or use an iterator:\r\n\r\n```\r\nIterator&lt;Product&gt; iterator = products.iterator()\r\nwhile (iterator.hasNext()) {\r\n  Product next = iterator.next()\r\n  if (/* filter using next value */) iterator.remove()\r\n}\r\n```","title":"Inplace filter and collect to List","body":"<p><code>Stream</code>s cannot not modify the underlying list in-place. If you need to modify the collection itself, either use the <code>removeIf</code> method like you already mentioned, or use an iterator:</p>\n<pre><code>Iterator&lt;Product&gt; iterator = products.iterator()\nwhile (iterator.hasNext()) {\n  Product next = iterator.next()\n  if (/* filter using next value */) iterator.remove()\n}\n</code></pre>\n"}],"owner":{"account_id":15317666,"reputation":87,"user_id":11051112,"display_name":"amangupta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684153994,"creation_date":1684153172,"question_id":76253996,"body_markdown":"Required a snippet demonstrating how filtering and collecting can be done inplace on a list?\r\n\r\nFor example, I have:\r\n\r\n```\r\nfilteredProducts = Products.stream().filter(product -&gt; {\r\n  // filtering on some parameters\r\n}).collect(Collectors.toList());\r\n```\r\n\r\nI wanted to do something inplace filtering in the Products collection itself.\r\n\r\nSomething like (illegal): \r\n\r\n```\r\nProducts.stream().filter(product -&gt; {\r\n  // filtering on some parameters\r\n}).collect(\r\n  // collect to same list(collection)\r\n);\r\n```\r\n\r\nDo someone knows any legal way for doing inplace filtering on a collection? That will be helpful! Thanks a lot!\r\n\r\nPS: I already am using removeIf method, if that you were going to suggest!","title":"Inplace filter and collect to List","body":"<p>Required a snippet demonstrating how filtering and collecting can be done inplace on a list?</p>\n<p>For example, I have:</p>\n<pre><code>filteredProducts = Products.stream().filter(product -&gt; {\n  // filtering on some parameters\n}).collect(Collectors.toList());\n</code></pre>\n<p>I wanted to do something inplace filtering in the Products collection itself.</p>\n<p>Something like (illegal):</p>\n<pre><code>Products.stream().filter(product -&gt; {\n  // filtering on some parameters\n}).collect(\n  // collect to same list(collection)\n);\n</code></pre>\n<p>Do someone knows any legal way for doing inplace filtering on a collection? That will be helpful! Thanks a lot!</p>\n<p>PS: I already am using removeIf method, if that you were going to suggest!</p>\n"},{"tags":["java","oracle","mybatis","ibatis"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1684154439,"post_id":76254025,"comment_id":134470844,"body_markdown":"what is a [mcve]?","body":"what is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":26978029,"reputation":6997,"user_id":20542862,"display_name":"Paul W"},"score":0,"creation_date":1684155115,"post_id":76254025,"comment_id":134470998,"body_markdown":"Emmanuele, folks can&#39;t take the time to read through and digest this much code. Work on your issue until you get it down to the smallest amount of code possible and then if you still need help share that.","body":"Emmanuele, folks can&#39;t take the time to read through and digest this much code. Work on your issue until you get it down to the smallest amount of code possible and then if you still need help share that."},{"owner":{"account_id":1314580,"reputation":3299,"user_id":1261766,"display_name":"ave"},"score":0,"creation_date":1684160537,"post_id":76254025,"comment_id":134472336,"body_markdown":"@EmmanueleGuerriero This portable [project](https://github.com/harawata/mybatis-issues/tree/master/so-56834806) demonstrates what you are trying to achieve, I think. If not, please create a small project like that and share it on your GitHub repo so that we can reproduce the error on our end. And, like the experts say, try to minimize the number of objects/tables/columns/etc..","body":"@EmmanueleGuerriero This portable <a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-56834806\" rel=\"nofollow noreferrer\">project</a> demonstrates what you are trying to achieve, I think. If not, please create a small project like that and share it on your GitHub repo so that we can reproduce the error on our end. And, like the experts say, try to minimize the number of objects/tables/columns/etc.."}],"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684153369,"creation_date":1684153369,"question_id":76254025,"body_markdown":"i&#39;m trying to call a stored procedure with few parameter and one of them is a VARRAY of an OBJECT in Oracle DB. But i think the problem is with the parameters OUT. I&#39;m using MyBatis.\r\n\r\nThis is the procedure:\r\n```\r\nprocedure pr_log_admin(IN_nome_procedura in varchar2,\r\n                            IN_id_utente in number,\r\n                            IN_id_record in varchar2,\r\n                            IN_nome_tabella in varchar2,\r\n                            IN_altri_campi in V_ELENCO_CAMPI_MODIFICATI,\r\n                            err_text out varchar2,\r\n                            err_code out number)\r\n```\r\n\r\nThis the types:\r\n\r\n```\r\ncreate or replace TYPE          &quot;V_ELENCO_CAMPI_MODIFICATI&quot;                                          as varray(200) of ty_campi_modificati;\r\n```\r\n\r\n\r\n```\r\ncreate or replace TYPE          &quot;TY_CAMPI_MODIFICATI&quot;                                          AS OBJECT (\r\n\tnome_campo \t\tvarchar2(100),\r\n\tvalore_old\t\tvarchar2(100),\r\n\tvalore_new\t\tvarchar2(100)\r\n);\r\n\r\n```\r\n\r\n\r\nHere the mapper:\r\n\r\n```\r\n&lt;select id=&quot;log&quot; statementType=&quot;CALLABLE&quot;\r\n\t\tparameterType=&quot;com.ubiss.domain.logger.LoggedElement&quot;\r\n\t\tresultMap=&quot;loggedResult&quot;&gt;\r\n\t\t{call dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t#{nomeProcedura, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{idUser, mode=IN, jdbcType=NUMERIC},\r\n\t\t#{idRecord, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{nomeTabella, mode=IN, jdbcType=VARCHAR},\r\n\t\t#{altriCampi, mode=IN, jdbcType=ARRAY},\r\n\t\t#{errText,jdbcType=VARCHAR, javaType=java.lang.String, mode=OUT},\r\n\t\t#{errCode,jdbcType=NUMERIC, javaType=java.lang.Long, mode=OUT}\r\n\t\t)}\r\n\t&lt;/select&gt;\r\n\r\n\t&lt;resultMap id=&quot;loggedResult&quot;\r\n\t\ttype=&quot;com.ubiss.domain.logger.LoggedElement&quot;&gt;\r\n\t\t&lt;id column=&quot;IN_nome_procedura&quot; property=&quot;nomeProcedura&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_id_utente&quot; property=&quot;idUtente&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_id_record&quot; property=&quot;idRecord&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_nome_tabella&quot; property=&quot;nomeTabella&quot; /&gt;\r\n\t\t&lt;id column=&quot;IN_altri_campi&quot; property=&quot;altriCampi&quot; typeHandler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; /&gt;\r\n\t\t&lt;id column=&quot;err_text&quot; property=&quot;errText&quot; /&gt;\r\n\t\t&lt;id column=&quot;err_code&quot; property=&quot;errCode&quot; /&gt;\r\n\t&lt;/resultMap&gt;\r\n```\r\n\r\nHere Java classes:\r\n\r\n```\r\npublic interface LoggerDao {\r\n\t\r\n\tpublic LoggedElement log(LoggedElement elementLogged);\r\n}\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport com.ubiss.domain.BaseSpResult;\r\n\r\npublic class LoggedElement extends BaseSpResult{\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t\r\n\tprivate String nomeProcedura;\r\n\tprivate Long idUser;\r\n\tprivate String idRecord;\r\n\tprivate String nomeTabella;\r\n\tprivate ElencoCampiModificati altriCampi;\r\n\t\r\n\tpublic LoggedElement() {}\r\n\t\r\n\tpublic LoggedElement(String nomeProcedura, Long idUser, String idRecord, String nomeTabella,\r\n\t\t\tElencoCampiModificati altriCampi) {\r\n\t\tsuper();\r\n\t\tthis.nomeProcedura = nomeProcedura;\r\n\t\tthis.idUser = idUser;\r\n\t\tthis.idRecord = idRecord;\r\n\t\tthis.nomeTabella = nomeTabella;\r\n\t\tthis.altriCampi = altriCampi;\r\n\t}\r\n\tpublic String getNomeProcedura() {\r\n\t\treturn nomeProcedura;\r\n\t}\r\n\tpublic void setNomeProcedura(String nomeProcedura) {\r\n\t\tthis.nomeProcedura = nomeProcedura;\r\n\t}\r\n\tpublic Long getIdUser() {\r\n\t\treturn idUser;\r\n\t}\r\n\tpublic void setIdUser(Long idUser) {\r\n\t\tthis.idUser = idUser;\r\n\t}\r\n\tpublic String getIdRecord() {\r\n\t\treturn idRecord;\r\n\t}\r\n\tpublic void setIdRecord(String idRecord) {\r\n\t\tthis.idRecord = idRecord;\r\n\t}\r\n\tpublic String getNomeTabella() {\r\n\t\treturn nomeTabella;\r\n\t}\r\n\tpublic void setNomeTabella(String nomeTabella) {\r\n\t\tthis.nomeTabella = nomeTabella;\r\n\t}\r\n\tpublic ElencoCampiModificati getAltriCampi() {\r\n\t\treturn altriCampi;\r\n\t}\r\n\tpublic void setAltriCampi(ElencoCampiModificati altriCampi) {\r\n\t\tthis.altriCampi = altriCampi;\r\n\t}\r\n\tpublic static long getSerialversionuid() {\r\n\t\treturn serialVersionUID;\r\n\t}\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class BaseSpResult implements Serializable {\r\n\r\n\tprivate static final long serialVersionUID = 1L;\r\n\r\n\tprotected Long errCode;\r\n\tprotected String errText;\r\n\r\n\tpublic Long getErrCode() {\r\n\t\treturn errCode;\r\n\t}\r\n\r\n\tpublic void setErrCode(Long errCode) {\r\n\t\tthis.errCode = errCode;\r\n\t}\r\n\r\n\tpublic String getErrText() {\r\n\t\treturn errText;\r\n\t}\r\n\r\n\tpublic void setErrText(String errText) {\r\n\t\tthis.errText = errText;\r\n\t}\r\n\r\n\tpublic boolean isOk() {\r\n\t\treturn (errCode == null) || (errCode == 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Builds an error description using errCode: errText Deprecated: Use\r\n\t * {@link buildDescription()} instead\r\n\t * \r\n\t * @return\r\n\t */\r\n\t@Deprecated()\r\n\tpublic String buildErrorDescription() {\r\n\t\tString errMsg = &quot;&quot;;\r\n\t\tif (!isOk()) {\r\n\t\t\terrMsg = errCode.toString();\r\n\t\t\tif (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\r\n\t\t\t\terrMsg = errMsg + &quot;: &quot; + errText;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errMsg;\r\n\t}\r\n\r\n\t/**\r\n\t * Builds a return description message using errCode: errText. Note that errCode and errText will also carry success code and text. \r\n\t * @return\r\n\t */\r\n\tpublic String buildDescription() {\r\n\t\tString errMsg = &quot;&quot;;\r\n\t\tif (errCode != null) {\r\n\t\t\terrMsg = errCode.toString();\r\n\t\t\tif (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\r\n\t\t\t\terrMsg = errMsg + &quot;: &quot; + errText;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn errMsg;\r\n\t}\r\n\r\n\tpublic void cleanReturnCode() {\r\n\t\terrCode = null;\r\n\t\terrText = null;\r\n\t}\r\n\r\n\tpublic void buildGenericError() {\r\n\t\terrCode = -1L;\r\n\t\terrText = &quot;Errore generico&quot;;\r\n\t}\r\n\r\n\tpublic String toStatusString() {\r\n\t\treturn &quot;{errCode: &quot; + errCode + &quot;, errText: &quot; + errText + &quot;}&quot;;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\n\r\npublic class ElencoCampiModificati implements Array{\r\n\tprivate CampoModificato[] campiModificati;\r\n\t\r\n\tpublic ElencoCampiModificati() {}\r\n\r\n\tpublic ElencoCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\tpublic CampoModificato[] getCampiModificati() {\r\n\t\treturn campiModificati;\r\n\t}\r\n\r\n\tpublic void setCampiModificati(CampoModificato[] campiModificati) {\r\n\t\tthis.campiModificati = campiModificati;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getBaseTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getBaseType() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn this.getArray(index, count);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tthrow new UnsupportedOperationException();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void free() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.io.Serializable;\r\nimport java.sql.SQLData;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLInput;\r\nimport java.sql.SQLOutput;\r\n\r\npublic class CampoModificato implements SQLData, Serializable{\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate String nome_campo;\r\n\tprivate String valore_old;\r\n\tprivate String valore_new;\r\n\t\r\n\tpublic CampoModificato() {}\r\n\t\r\n\tpublic CampoModificato(String nome_campo, String valore_old, String valore_new) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t\tthis.valore_old = valore_old;\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\tpublic String getNomeCampo() {\r\n\t\treturn nome_campo;\r\n\t}\r\n\tpublic void setNomeCampo(String nome_campo) {\r\n\t\tthis.nome_campo = nome_campo;\r\n\t}\r\n\tpublic String getValoreOld() {\r\n\t\treturn valore_old;\r\n\t}\r\n\tpublic void setValoreOld(String valore_old) {\r\n\t\tthis.valore_old = valore_old;\r\n\t}\r\n\tpublic String getValoreNew() {\r\n\t\treturn valore_new;\r\n\t}\r\n\tpublic void setValoreNew(String valore_new) {\r\n\t\tthis.valore_new = valore_new;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getSQLTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn &quot;TY_CAMPI_MODIFICATI&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput stream) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.ubiss.domain.logger;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.util.Arrays;\r\n\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.apache.ibatis.type.TypeHandler;\r\n\r\nimport oracle.jdbc.driver.OracleConnection;\r\n\r\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt;{\r\n\r\n\t@Override\r\n\tpublic void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\r\n\t\t\tthrows SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tObject[] values = Arrays.stream(parameter.getCampiModificati()).toArray();\r\n\t\tArray arr = ps.getConnection().unwrap(OracleConnection.class).createARRAY(&quot;V_ELENCO_CAMPI_MODIFICATI&quot;, values);\r\n\t\tps.setArray(i, arr);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(ResultSet rs, String columnName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ElencoCampiModificati getResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\nThis is the call:\r\n```\r\nString procedura = &quot;director_man.PKG_ANAG_CLIENTI.pr_AnagCensisci ---&gt; parameters: &quot;;\r\n\t\tprocedura.concat(&quot;doTrigger=&quot; + res.getDoTrigger() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doMigra=&quot; + res.getDoMigra() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doInit=&quot; + res.getDoInit() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;doPulisci=&quot; + res.getDoPulisci() + &quot; - &quot;);\r\n\t\tprocedura.concat(&quot;ndgCoi=&quot; + res.getNdgCoi());\r\n\t\tCampoModificato mod = new CampoModificato(&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n\t\tCampoModificato[] arr = new CampoModificato[] {mod};\r\n\t\tElencoCampiModificati elenco = new ElencoCampiModificati(arr);\r\n\t\tLoggedElement logElement = new LoggedElement(procedura, Long.valueOf(1), &quot;&quot;, &quot;&quot;, elenco);\r\n\t\tloggerDao.log(logElement);\r\n```\r\n\r\n\r\n\r\nThis is the error:\r\n\r\n```\r\nCaused by: Error : 6550, Position : 6, Sql = BEGIN dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t:1 ,\r\n\t\t:2 ,\r\n\t\t:3 ,\r\n\t\t:4 ,\r\n\t\t:5 ,\r\n\t\t:6 ,\r\n\t\t:7 \r\n\t\t); END;, OriginalSql = {call dynapp.pkg_log_admin.pr_log_admin(\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?,\r\n\t\t?\r\n\t\t)}, Error Msg = ORA-06550: riga 1, colonna 7:\r\n```\r\n\r\n\r\n\r\nI tried to check the names of the parameters and their order to not differ between code and db side","title":"ORA-06550: row 1, column 7: PLS-00306: ORA-06550: wrong number or types of arguments","body":"<p>i'm trying to call a stored procedure with few parameter and one of them is a VARRAY of an OBJECT in Oracle DB. But i think the problem is with the parameters OUT. I'm using MyBatis.</p>\n<p>This is the procedure:</p>\n<pre><code>procedure pr_log_admin(IN_nome_procedura in varchar2,\n                            IN_id_utente in number,\n                            IN_id_record in varchar2,\n                            IN_nome_tabella in varchar2,\n                            IN_altri_campi in V_ELENCO_CAMPI_MODIFICATI,\n                            err_text out varchar2,\n                            err_code out number)\n</code></pre>\n<p>This the types:</p>\n<pre><code>create or replace TYPE          &quot;V_ELENCO_CAMPI_MODIFICATI&quot;                                          as varray(200) of ty_campi_modificati;\n</code></pre>\n<pre><code>create or replace TYPE          &quot;TY_CAMPI_MODIFICATI&quot;                                          AS OBJECT (\n    nome_campo      varchar2(100),\n    valore_old      varchar2(100),\n    valore_new      varchar2(100)\n);\n\n</code></pre>\n<p>Here the mapper:</p>\n<pre><code>&lt;select id=&quot;log&quot; statementType=&quot;CALLABLE&quot;\n        parameterType=&quot;com.ubiss.domain.logger.LoggedElement&quot;\n        resultMap=&quot;loggedResult&quot;&gt;\n        {call dynapp.pkg_log_admin.pr_log_admin(\n        #{nomeProcedura, mode=IN, jdbcType=VARCHAR},\n        #{idUser, mode=IN, jdbcType=NUMERIC},\n        #{idRecord, mode=IN, jdbcType=VARCHAR},\n        #{nomeTabella, mode=IN, jdbcType=VARCHAR},\n        #{altriCampi, mode=IN, jdbcType=ARRAY},\n        #{errText,jdbcType=VARCHAR, javaType=java.lang.String, mode=OUT},\n        #{errCode,jdbcType=NUMERIC, javaType=java.lang.Long, mode=OUT}\n        )}\n    &lt;/select&gt;\n\n    &lt;resultMap id=&quot;loggedResult&quot;\n        type=&quot;com.ubiss.domain.logger.LoggedElement&quot;&gt;\n        &lt;id column=&quot;IN_nome_procedura&quot; property=&quot;nomeProcedura&quot; /&gt;\n        &lt;id column=&quot;IN_id_utente&quot; property=&quot;idUtente&quot; /&gt;\n        &lt;id column=&quot;IN_id_record&quot; property=&quot;idRecord&quot; /&gt;\n        &lt;id column=&quot;IN_nome_tabella&quot; property=&quot;nomeTabella&quot; /&gt;\n        &lt;id column=&quot;IN_altri_campi&quot; property=&quot;altriCampi&quot; typeHandler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; /&gt;\n        &lt;id column=&quot;err_text&quot; property=&quot;errText&quot; /&gt;\n        &lt;id column=&quot;err_code&quot; property=&quot;errCode&quot; /&gt;\n    &lt;/resultMap&gt;\n</code></pre>\n<p>Here Java classes:</p>\n<pre><code>public interface LoggerDao {\n    \n    public LoggedElement log(LoggedElement elementLogged);\n}\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport com.ubiss.domain.BaseSpResult;\n\npublic class LoggedElement extends BaseSpResult{\n    private static final long serialVersionUID = 1L;\n    \n    private String nomeProcedura;\n    private Long idUser;\n    private String idRecord;\n    private String nomeTabella;\n    private ElencoCampiModificati altriCampi;\n    \n    public LoggedElement() {}\n    \n    public LoggedElement(String nomeProcedura, Long idUser, String idRecord, String nomeTabella,\n            ElencoCampiModificati altriCampi) {\n        super();\n        this.nomeProcedura = nomeProcedura;\n        this.idUser = idUser;\n        this.idRecord = idRecord;\n        this.nomeTabella = nomeTabella;\n        this.altriCampi = altriCampi;\n    }\n    public String getNomeProcedura() {\n        return nomeProcedura;\n    }\n    public void setNomeProcedura(String nomeProcedura) {\n        this.nomeProcedura = nomeProcedura;\n    }\n    public Long getIdUser() {\n        return idUser;\n    }\n    public void setIdUser(Long idUser) {\n        this.idUser = idUser;\n    }\n    public String getIdRecord() {\n        return idRecord;\n    }\n    public void setIdRecord(String idRecord) {\n        this.idRecord = idRecord;\n    }\n    public String getNomeTabella() {\n        return nomeTabella;\n    }\n    public void setNomeTabella(String nomeTabella) {\n        this.nomeTabella = nomeTabella;\n    }\n    public ElencoCampiModificati getAltriCampi() {\n        return altriCampi;\n    }\n    public void setAltriCampi(ElencoCampiModificati altriCampi) {\n        this.altriCampi = altriCampi;\n    }\n    public static long getSerialversionuid() {\n        return serialVersionUID;\n    }\n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain;\n\nimport java.io.Serializable;\n\npublic class BaseSpResult implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    protected Long errCode;\n    protected String errText;\n\n    public Long getErrCode() {\n        return errCode;\n    }\n\n    public void setErrCode(Long errCode) {\n        this.errCode = errCode;\n    }\n\n    public String getErrText() {\n        return errText;\n    }\n\n    public void setErrText(String errText) {\n        this.errText = errText;\n    }\n\n    public boolean isOk() {\n        return (errCode == null) || (errCode == 0);\n    }\n\n    /**\n     * Builds an error description using errCode: errText Deprecated: Use\n     * {@link buildDescription()} instead\n     * \n     * @return\n     */\n    @Deprecated()\n    public String buildErrorDescription() {\n        String errMsg = &quot;&quot;;\n        if (!isOk()) {\n            errMsg = errCode.toString();\n            if (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\n                errMsg = errMsg + &quot;: &quot; + errText;\n            }\n        }\n        return errMsg;\n    }\n\n    /**\n     * Builds a return description message using errCode: errText. Note that errCode and errText will also carry success code and text. \n     * @return\n     */\n    public String buildDescription() {\n        String errMsg = &quot;&quot;;\n        if (errCode != null) {\n            errMsg = errCode.toString();\n            if (!&quot;&quot;.equals(errText) &amp;&amp; errText != null) {\n                errMsg = errMsg + &quot;: &quot; + errText;\n            }\n        }\n        return errMsg;\n    }\n\n    public void cleanReturnCode() {\n        errCode = null;\n        errText = null;\n    }\n\n    public void buildGenericError() {\n        errCode = -1L;\n        errText = &quot;Errore generico&quot;;\n    }\n\n    public String toStatusString() {\n        return &quot;{errCode: &quot; + errCode + &quot;, errText: &quot; + errText + &quot;}&quot;;\n    }\n\n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class ElencoCampiModificati implements Array{\n    private CampoModificato[] campiModificati;\n    \n    public ElencoCampiModificati() {}\n\n    public ElencoCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    public CampoModificato[] getCampiModificati() {\n        return campiModificati;\n    }\n\n    public void setCampiModificati(CampoModificato[] campiModificati) {\n        this.campiModificati = campiModificati;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n         return campiModificati == null ? null : Arrays.copyOf(campiModificati, campiModificati.length);\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray();\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return campiModificati == null ? null : Arrays.copyOfRange(campiModificati, (int)index, (int)index + count );\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return this.getArray(index, count);\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        throw new UnsupportedOperationException();\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.io.Serializable;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\n\npublic class CampoModificato implements SQLData, Serializable{\n    /**\n     * \n     */\n    private static final long serialVersionUID = 1L;\n    private String nome_campo;\n    private String valore_old;\n    private String valore_new;\n    \n    public CampoModificato() {}\n    \n    public CampoModificato(String nome_campo, String valore_old, String valore_new) {\n        this.nome_campo = nome_campo;\n        this.valore_old = valore_old;\n        this.valore_new = valore_new;\n    }\n    public String getNomeCampo() {\n        return nome_campo;\n    }\n    public void setNomeCampo(String nome_campo) {\n        this.nome_campo = nome_campo;\n    }\n    public String getValoreOld() {\n        return valore_old;\n    }\n    public void setValoreOld(String valore_old) {\n        this.valore_old = valore_old;\n    }\n    public String getValoreNew() {\n        return valore_new;\n    }\n    public void setValoreNew(String valore_new) {\n        this.valore_new = valore_new;\n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return &quot;TY_CAMPI_MODIFICATI&quot;;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n    \n    \n}\n\n</code></pre>\n<pre><code>package com.ubiss.domain.logger;\n\nimport java.sql.Array;\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.util.Arrays;\n\nimport org.apache.ibatis.type.JdbcType;\nimport org.apache.ibatis.type.TypeHandler;\n\nimport oracle.jdbc.driver.OracleConnection;\n\npublic class ElencoCampiTypeHandler implements TypeHandler&lt;ElencoCampiModificati&gt;{\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, ElencoCampiModificati parameter, JdbcType jdbcType)\n            throws SQLException {\n        // TODO Auto-generated method stub\n        \n        Object[] values = Arrays.stream(parameter.getCampiModificati()).toArray();\n        Array arr = ps.getConnection().unwrap(OracleConnection.class).createARRAY(&quot;V_ELENCO_CAMPI_MODIFICATI&quot;, values);\n        ps.setArray(i, arr);\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(ResultSet rs, String columnName) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(ResultSet rs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ElencoCampiModificati getResult(CallableStatement cs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n}\n\n</code></pre>\n<p>This is the call:</p>\n<pre><code>String procedura = &quot;director_man.PKG_ANAG_CLIENTI.pr_AnagCensisci ---&gt; parameters: &quot;;\n        procedura.concat(&quot;doTrigger=&quot; + res.getDoTrigger() + &quot; - &quot;);\n        procedura.concat(&quot;doMigra=&quot; + res.getDoMigra() + &quot; - &quot;);\n        procedura.concat(&quot;doInit=&quot; + res.getDoInit() + &quot; - &quot;);\n        procedura.concat(&quot;doPulisci=&quot; + res.getDoPulisci() + &quot; - &quot;);\n        procedura.concat(&quot;ndgCoi=&quot; + res.getNdgCoi());\n        CampoModificato mod = new CampoModificato(&quot;&quot;,&quot;&quot;,&quot;&quot;);\n        CampoModificato[] arr = new CampoModificato[] {mod};\n        ElencoCampiModificati elenco = new ElencoCampiModificati(arr);\n        LoggedElement logElement = new LoggedElement(procedura, Long.valueOf(1), &quot;&quot;, &quot;&quot;, elenco);\n        loggerDao.log(logElement);\n</code></pre>\n<p>This is the error:</p>\n<pre><code>Caused by: Error : 6550, Position : 6, Sql = BEGIN dynapp.pkg_log_admin.pr_log_admin(\n        :1 ,\n        :2 ,\n        :3 ,\n        :4 ,\n        :5 ,\n        :6 ,\n        :7 \n        ); END;, OriginalSql = {call dynapp.pkg_log_admin.pr_log_admin(\n        ?,\n        ?,\n        ?,\n        ?,\n        ?,\n        ?,\n        ?\n        )}, Error Msg = ORA-06550: riga 1, colonna 7:\n</code></pre>\n<p>I tried to check the names of the parameters and their order to not differ between code and db side</p>\n"},{"tags":["java","eclipse","selenium-webdriver","jar"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1683970470,"post_id":76241996,"comment_id":134450528,"body_markdown":"Delete your `module-info.java` file (if needed you can recreate it later via right-click on project and _Configure_) or [in `module-info.java` add the required `requires ...;` statement](https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules).","body":"Delete your <code>module-info.java</code> file (if needed you can recreate it later via right-click on project and <i>Configure</i>) or <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System#Properties_of_modules\" rel=\"nofollow noreferrer\">in <code>module-info.java</code> add the required <code>requires ...;</code> statement</a>."},{"owner":{"account_id":14823704,"reputation":11,"user_id":10705228,"display_name":"Akash"},"score":0,"creation_date":1690573919,"post_id":76241996,"comment_id":135377815,"body_markdown":"Thank  You  so much  for the solution","body":"Thank  You  so much  for the solution"}],"owner":{"account_id":14823704,"reputation":11,"user_id":10705228,"display_name":"Akash"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690576639,"answer_count":0,"score":0,"last_activity_date":1684152234,"creation_date":1683970169,"question_id":76241996,"body_markdown":"I have tried to Selenium jar files using module path and class path but still the selenium function is not recognising\r\nPFA image\r\n\r\n[![pfa image][1]][1]\r\n\r\n\r\nI have followed the below step \r\n\r\nAdding Jar File in Module path \r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select modulepath and select add external jar\r\n4. Add all Jar file of Selenium\r\n5. Select Apply and close \r\n\r\nAdding Jar File in Module path \r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select classpath and select add external jar\r\n4. Add all Jar file of Selenium\r\n5. Select Apply and close \r\n\r\n\r\nAdding Jar File in Class path (User Library)\r\n\r\n1. Right click on project\r\n2. Select properties\r\n3. Under Java Build path Select classpath and select add Library\r\n4. Select user libraries, select new and add names\r\n5. From Add external Library add the library\r\n6. Select Apply and close and the finish it\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RcwAM.png","title":"Selenium package [org.openqa.selenium.chrome.ChromeDriver etc] is not accessible even after adding it","body":"<p>I have tried to Selenium jar files using module path and class path but still the selenium function is not recognising\nPFA image</p>\n<p><a href=\"https://i.stack.imgur.com/RcwAM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RcwAM.png\" alt=\"pfa image\" /></a></p>\n<p>I have followed the below step</p>\n<p>Adding Jar File in Module path</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select modulepath and select add external jar</li>\n<li>Add all Jar file of Selenium</li>\n<li>Select Apply and close</li>\n</ol>\n<p>Adding Jar File in Module path</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select classpath and select add external jar</li>\n<li>Add all Jar file of Selenium</li>\n<li>Select Apply and close</li>\n</ol>\n<p>Adding Jar File in Class path (User Library)</p>\n<ol>\n<li>Right click on project</li>\n<li>Select properties</li>\n<li>Under Java Build path Select classpath and select add Library</li>\n<li>Select user libraries, select new and add names</li>\n<li>From Add external Library add the library</li>\n<li>Select Apply and close and the finish it</li>\n</ol>\n"},{"tags":["java","maven","jpa","classpath"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1481311692,"post_id":41065744,"comment_id":69342162,"body_markdown":"Do you want to copy classes like the title and body are saying, or the source files, like the example is showing?","body":"Do you want to copy classes like the title and body are saying, or the source files, like the example is showing?"},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1481315556,"post_id":41065744,"comment_id":69343993,"body_markdown":"I wan&#39;t the compiler (including the aspectj weaving to be able to see the java files as if they were part of the same project.","body":"I wan&#39;t the compiler (including the aspectj weaving to be able to see the java files as if they were part of the same project."},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1481315795,"post_id":41065744,"comment_id":69344104,"body_markdown":"I did not understand that. Can you edit with your exact use-case, what you have, and what you want? How and when is aspectj coming to the table?","body":"I did not understand that. Can you edit with your exact use-case, what you have, and what you want? How and when is aspectj coming to the table?"},{"owner":{"account_id":7602879,"reputation":1099,"user_id":5766794,"accept_rate":100,"display_name":"Jay"},"score":0,"creation_date":1481316215,"post_id":41065744,"comment_id":69344349,"body_markdown":"I think that you&#39;re developing a project with multiple modules and want to *merge* them when you are doing your build tasks... You can refer to [this](http://stackoverflow.com/questions/35355029/modularized-maven-spring-project-dilemma) post if you want to...","body":"I think that you&#39;re developing a project with multiple modules and want to <i>merge</i> them when you are doing your build tasks... You can refer to <a href=\"http://stackoverflow.com/questions/35355029/modularized-maven-spring-project-dilemma\">this</a> post if you want to..."},{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":0,"creation_date":1481319714,"post_id":41065744,"comment_id":69345879,"body_markdown":"That is exactly what I want to do.","body":"That is exactly what I want to do."}],"answers":[{"comments":[{"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"score":1,"creation_date":1481315692,"post_id":41066414,"comment_id":69344059,"body_markdown":"This would work except that the aspectj weaving doesn&#39;t get done.","body":"This would work except that the aspectj weaving doesn&#39;t get done."}],"tags":[],"owner":{"account_id":279921,"reputation":7224,"user_id":575350,"accept_rate":91,"display_name":"qwazer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1481311733,"creation_date":1481306983,"answer_id":41066414,"question_id":41065744,"body_markdown":"Try \r\n[Unpacking specific artifacts][1]\r\n\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html\r\n\r\nSample config from docs:\r\n\r\n&gt;     &lt;project&gt;\r\n&gt;        [...]\r\n&gt;        &lt;build&gt;\r\n&gt;          &lt;plugins&gt;\r\n&gt;            &lt;plugin&gt;\r\n&gt;              &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n&gt;              &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n&gt;              &lt;version&gt;2.10&lt;/version&gt;\r\n&gt;              &lt;executions&gt;\r\n&gt;                &lt;execution&gt;\r\n&gt;                  &lt;id&gt;unpack&lt;/id&gt;\r\n&gt;                  &lt;phase&gt;package&lt;/phase&gt;\r\n&gt;                  &lt;goals&gt;\r\n&gt;                    &lt;goal&gt;unpack&lt;/goal&gt;\r\n&gt;                  &lt;/goals&gt;\r\n&gt;                  &lt;configuration&gt;\r\n&gt;                    &lt;artifactItems&gt;\r\n&gt;                      &lt;artifactItem&gt;\r\n&gt;                        &lt;groupId&gt;junit&lt;/groupId&gt;\r\n&gt;                        &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n&gt;                        &lt;version&gt;3.8.1&lt;/version&gt;\r\n&gt;                        &lt;type&gt;jar&lt;/type&gt;\r\n&gt;                        &lt;overWrite&gt;false&lt;/overWrite&gt;\r\n&gt;                        &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\r\n&gt;                        &lt;destFileName&gt;optional-new-name.jar&lt;/destFileName&gt;\r\n&gt;                        &lt;includes&gt;**/*.class,**/*.xml&lt;/includes&gt;\r\n&gt;                        &lt;excludes&gt;**/*test.class&lt;/excludes&gt;\r\n&gt;                      &lt;/artifactItem&gt;\r\n&gt;                    &lt;/artifactItems&gt;\r\n&gt;                    &lt;includes&gt;**/*.java&lt;/includes&gt;\r\n&gt;                    &lt;excludes&gt;**/*.properties&lt;/excludes&gt;\r\n&gt;                    &lt;outputDirectory&gt;${project.build.directory}/wars&lt;/outputDirectory&gt;\r\n&gt;                    &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n&gt;                    &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\r\n&gt;                  &lt;/configuration&gt;\r\n&gt;                &lt;/execution&gt;\r\n&gt;              &lt;/executions&gt;\r\n&gt;            &lt;/plugin&gt;\r\n&gt;          &lt;/plugins&gt;\r\n&gt;        &lt;/build&gt;\r\n&gt;        [...]\r\n&gt;      &lt;/project&gt;","title":"How to make maven copy all classes from another project?","body":"<p>Try \n<a href=\"http://maven.apache.org/plugins/maven-dependency-plugin/examples/unpacking-artifacts.html\" rel=\"nofollow noreferrer\">Unpacking specific artifacts</a></p>\n\n<p>Sample config from docs:</p>\n\n<blockquote>\n<pre><code>&lt;project&gt;\n   [...]\n   &lt;build&gt;\n     &lt;plugins&gt;\n       &lt;plugin&gt;\n         &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n         &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n         &lt;version&gt;2.10&lt;/version&gt;\n         &lt;executions&gt;\n           &lt;execution&gt;\n             &lt;id&gt;unpack&lt;/id&gt;\n             &lt;phase&gt;package&lt;/phase&gt;\n             &lt;goals&gt;\n               &lt;goal&gt;unpack&lt;/goal&gt;\n             &lt;/goals&gt;\n             &lt;configuration&gt;\n               &lt;artifactItems&gt;\n                 &lt;artifactItem&gt;\n                   &lt;groupId&gt;junit&lt;/groupId&gt;\n                   &lt;artifactId&gt;junit&lt;/artifactId&gt;\n                   &lt;version&gt;3.8.1&lt;/version&gt;\n                   &lt;type&gt;jar&lt;/type&gt;\n                   &lt;overWrite&gt;false&lt;/overWrite&gt;\n                   &lt;outputDirectory&gt;${project.build.directory}/alternateLocation&lt;/outputDirectory&gt;\n                   &lt;destFileName&gt;optional-new-name.jar&lt;/destFileName&gt;\n                   &lt;includes&gt;**/*.class,**/*.xml&lt;/includes&gt;\n                   &lt;excludes&gt;**/*test.class&lt;/excludes&gt;\n                 &lt;/artifactItem&gt;\n               &lt;/artifactItems&gt;\n               &lt;includes&gt;**/*.java&lt;/includes&gt;\n               &lt;excludes&gt;**/*.properties&lt;/excludes&gt;\n               &lt;outputDirectory&gt;${project.build.directory}/wars&lt;/outputDirectory&gt;\n               &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n               &lt;overWriteSnapshots&gt;true&lt;/overWriteSnapshots&gt;\n             &lt;/configuration&gt;\n           &lt;/execution&gt;\n         &lt;/executions&gt;\n       &lt;/plugin&gt;\n     &lt;/plugins&gt;\n   &lt;/build&gt;\n   [...]\n &lt;/project&gt;\n</code></pre>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6489384,"reputation":11,"user_id":5023923,"display_name":"Albert Farre"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684152115,"creation_date":1684152066,"answer_id":76253859,"question_id":41065744,"body_markdown":"You can try to use **[copysource-maven-plugin](https://github.com/bytemechanics/copysource-maven-plugin)**:\r\n\r\n    (...)\r\n    &lt;build&gt;\r\n       &lt;plugins&gt;\r\n          (...)\r\n          &lt;plugin&gt;\r\n             &lt;groupId&gt;org.bytemechanics.maven&lt;/groupId&gt;\r\n             &lt;artifactId&gt;copysource-maven-plugin&lt;/artifactId&gt;\r\n             &lt;version&gt;X.X.X&lt;/version&gt;\r\n             &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                   &lt;goals&gt;\r\n                      &lt;goal&gt;copy-classes&lt;/goal&gt;\r\n                   &lt;/goals&gt;\r\n                   &lt;configuration&gt;\r\n                      &lt;copies&gt;\r\n                         &lt;copy&gt;\r\n                            &lt;artifact&gt;[source-groupId]:[source-artifactId]:[source-version]&lt;/artifact&gt;\r\n                            &lt;classes&gt;\r\n                               &lt;class&gt;[cannonical-name-of-origin-source. Example:org.bytemechanics.commons.functional.LambdaUnchecker]&lt;/class&gt;\r\n                               (...)\r\n                            &lt;/classes&gt;\r\n                            &lt;fromPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.commons]&lt;/fromPackage&gt;\r\n                            &lt;toPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.standalone.ignite.internal.commons]&lt;/toPackage&gt;\r\n                         &lt;/copy&gt;\r\n                      &lt;/copies&gt;\r\n                   &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n             &lt;/executions&gt;\r\n          &lt;/plugin&gt;\t\t\r\n          (...)\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\t\r\n    (...)\r\n\r\n","title":"How to make maven copy all classes from another project?","body":"<p>You can try to use <strong><a href=\"https://github.com/bytemechanics/copysource-maven-plugin\" rel=\"nofollow noreferrer\">copysource-maven-plugin</a></strong>:</p>\n<pre><code>(...)\n&lt;build&gt;\n   &lt;plugins&gt;\n      (...)\n      &lt;plugin&gt;\n         &lt;groupId&gt;org.bytemechanics.maven&lt;/groupId&gt;\n         &lt;artifactId&gt;copysource-maven-plugin&lt;/artifactId&gt;\n         &lt;version&gt;X.X.X&lt;/version&gt;\n         &lt;executions&gt;\n            &lt;execution&gt;\n               &lt;goals&gt;\n                  &lt;goal&gt;copy-classes&lt;/goal&gt;\n               &lt;/goals&gt;\n               &lt;configuration&gt;\n                  &lt;copies&gt;\n                     &lt;copy&gt;\n                        &lt;artifact&gt;[source-groupId]:[source-artifactId]:[source-version]&lt;/artifact&gt;\n                        &lt;classes&gt;\n                           &lt;class&gt;[cannonical-name-of-origin-source. Example:org.bytemechanics.commons.functional.LambdaUnchecker]&lt;/class&gt;\n                           (...)\n                        &lt;/classes&gt;\n                        &lt;fromPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.commons]&lt;/fromPackage&gt;\n                        &lt;toPackage&gt;[package-segment-to-replace. Example: org.bytemechanics.standalone.ignite.internal.commons]&lt;/toPackage&gt;\n                     &lt;/copy&gt;\n                  &lt;/copies&gt;\n               &lt;/configuration&gt;\n            &lt;/execution&gt;\n         &lt;/executions&gt;\n      &lt;/plugin&gt;     \n      (...)\n    &lt;/plugins&gt;\n&lt;/build&gt;    \n(...)\n</code></pre>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1906,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1684152115,"creation_date":1481304283,"question_id":41065744,"body_markdown":"I have a number of Entity classes in a shared project.\n\nIn order to get JPA working properly, I need these class files in the classes folder and not inside the jar.\n\nHow would I go about doing this in maven?\nIs there a specific maven plugin I can use?\n\n## Source:\n\n    project1/src/main/java/org/something/SomeClass.java\n    \n    project2/src/main/java/org/somethingElse/SomeEntity.java\n\nTarget:\n\n    project1/target/classes/org/something/SomeClass.java\n    project1/target/classes/org/somethingElse/SomeEntity.java\n\nAlternative approaches are also OK.\n\n## Update:\nUse Case:\n\nI have multiple projects.  \nOne project is the core library for all things shared.  \nThis includes a bunch of entity classes that have PersistanceUnit Entity Managers injected.\n\nThe issue arises when i try to use these entity classes because the entity manager is no longer injected. Additionally when I manually specify the entity manager, it doesn&#39;t recognize any of the entity classes in the shared jar.","title":"How to make maven copy all classes from another project?","body":"<p>I have a number of Entity classes in a shared project.</p>\n<p>In order to get JPA working properly, I need these class files in the classes folder and not inside the jar.</p>\n<p>How would I go about doing this in maven?\nIs there a specific maven plugin I can use?</p>\n<h2>Source:</h2>\n<pre><code>project1/src/main/java/org/something/SomeClass.java\n\nproject2/src/main/java/org/somethingElse/SomeEntity.java\n</code></pre>\n<p>Target:</p>\n<pre><code>project1/target/classes/org/something/SomeClass.java\nproject1/target/classes/org/somethingElse/SomeEntity.java\n</code></pre>\n<p>Alternative approaches are also OK.</p>\n<h2>Update:</h2>\n<p>Use Case:</p>\n<p>I have multiple projects.<br />\nOne project is the core library for all things shared.<br />\nThis includes a bunch of entity classes that have PersistanceUnit Entity Managers injected.</p>\n<p>The issue arises when i try to use these entity classes because the entity manager is no longer injected. Additionally when I manually specify the entity manager, it doesn't recognize any of the entity classes in the shared jar.</p>\n"},{"tags":["java","date","time","timestamp"],"answers":[{"comments":[{"owner":{"account_id":1331440,"reputation":1684,"user_id":1275274,"accept_rate":36,"display_name":"Prem"},"score":3,"creation_date":1332389204,"post_id":1908419,"comment_id":12504978,"body_markdown":"@cletus, Is it possible to remove the time from Date object. I want pure date like 2008-01-01 no time portion.","body":"@cletus, Is it possible to remove the time from Date object. I want pure date like 2008-01-01 no time portion."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1403285182,"post_id":1908419,"comment_id":37614311,"body_markdown":"I would not say java.util.Calendar is recommended. Sun/Oracle supplanted that class in Java 8 with the new java.time package. Use either that or Joda-Time.","body":"I would not say java.util.Calendar is recommended. Sun/Oracle supplanted that class in Java 8 with the new java.time package. Use either that or Joda-Time."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":3,"creation_date":1452692176,"post_id":1908419,"comment_id":57280997,"body_markdown":"Calendar is no longer recommended. See http://stackoverflow.com/a/28868089/40064 if you are using Java 8.","body":"Calendar is no longer recommended. See <a href=\"http://stackoverflow.com/a/28868089/40064\">stackoverflow.com/a/28868089/40064</a> if you are using Java 8."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1504374775,"post_id":1908419,"comment_id":78993004,"body_markdown":"FYI, the troublesome old date-time classes such as [`java.util.Calendar`](https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html) are now [legacy](https://en.wikipedia.org/wiki/Legacy_system), supplanted by the [java.time](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the troublesome old date-time classes such as <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\"><code>java.util.Calendar</code></a> are now <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"nofollow noreferrer\">legacy</a>, supplanted by the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"tags":[],"owner":{"account_id":9867,"reputation":618201,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"comment_count":4,"down_vote_count":3,"up_vote_count":188,"is_accepted":true,"score":185,"last_activity_date":1260894910,"creation_date":1260892737,"answer_id":1908419,"question_id":1908387,"body_markdown":"The *recommended* way to do date/time manipulation is to use a [`Calendar`][1] object:\r\n\r\n    Calendar cal = Calendar.getInstance(); // locale-specific\r\n    cal.setTime(dateObject);\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    long time = cal.getTimeInMillis();\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"Java Date cut off time information","body":"<p>The <em>recommended</em> way to do date/time manipulation is to use a <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a> object:</p>\n\n<pre><code>Calendar cal = Calendar.getInstance(); // locale-specific\ncal.setTime(dateObject);\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);\nlong time = cal.getTimeInMillis();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9193,"reputation":343123,"user_id":16883,"accept_rate":83,"display_name":"Michael Borgwardt"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1260892767,"creation_date":1260892767,"answer_id":1908422,"question_id":1908387,"body_markdown":"Use the [Calendar][1] class&#39;s `set()` method to set the `HOUR_OF_DAY, MINUTE, SECOND` and `MILLISECOND` fields to zero.\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/api/java/util/Calendar.html","title":"Java Date cut off time information","body":"<p>Use the <a href=\"http://java.sun.com/javase/6/docs/api/java/util/Calendar.html\" rel=\"nofollow noreferrer\">Calendar</a> class's <code>set()</code> method to set the <code>HOUR_OF_DAY, MINUTE, SECOND</code> and <code>MILLISECOND</code> fields to zero.</p>\n"},{"tags":[],"owner":{"account_id":42065,"reputation":53627,"user_id":122428,"display_name":"jitter"},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1260892873,"creation_date":1260892873,"answer_id":1908438,"question_id":1908387,"body_markdown":"    Date date = new Date();\r\n    Calendar cal = Calendar.getInstance();\r\n    cal.setTime(date);\r\n    cal.set(Calendar.HOUR_OF_DAY, 0);\r\n    cal.set(Calendar.MINUTE, 0);\r\n    cal.set(Calendar.SECOND, 0);\r\n    cal.set(Calendar.MILLISECOND, 0);\r\n    date = cal.getTime();","title":"Java Date cut off time information","body":"<pre><code>Date date = new Date();\nCalendar cal = Calendar.getInstance();\ncal.setTime(date);\ncal.set(Calendar.HOUR_OF_DAY, 0);\ncal.set(Calendar.MINUTE, 0);\ncal.set(Calendar.SECOND, 0);\ncal.set(Calendar.MILLISECOND, 0);\ndate = cal.getTime();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":12,"creation_date":1260895083,"post_id":1908647,"comment_id":1812959,"body_markdown":"I believe it does. It&#39;s a recommendation to use a better library rather than battle with the broken java.util classes (as evidenced by the question)","body":"I believe it does. It&#39;s a recommendation to use a better library rather than battle with the broken java.util classes (as evidenced by the question)"},{"owner":{"account_id":24075,"reputation":29658,"user_id":60956,"accept_rate":85,"display_name":"Joel"},"score":10,"creation_date":1260895480,"post_id":1908647,"comment_id":1813012,"body_markdown":"Of course it relates, Joda is THE library for date,time &amp; calendar manipulation in Java. It would be a dereliction of duty not to recommend it.","body":"Of course it relates, Joda is THE library for date,time &amp; calendar manipulation in Java. It would be a dereliction of duty not to recommend it."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1260895646,"post_id":1908647,"comment_id":1813028,"body_markdown":"I confess I was faintly surprised not to find anyone else mentioning it. Thanks for emphasising that.","body":"I confess I was faintly surprised not to find anyone else mentioning it. Thanks for emphasising that."},{"owner":{"account_id":112092,"reputation":1455,"user_id":295802,"accept_rate":64,"display_name":"Mark Bennett"},"score":1,"creation_date":1320442888,"post_id":1908647,"comment_id":9810028,"body_markdown":"The thread safety issue is very interesting, I found this post researching an Oracle/Hibernate error &quot;IllegalArgumentException, sun.util.calendar.ZoneInfo.getOffset(ZoneInfo), oracle.jdbc.driver.DateCommonBinder.zoneOffset(OraclePreparedStatement)&quot;. This talks about another Oracle problems only appearing w heavy load https://forums.oracle.com/forums/thread.jspa?threadID=325576 It&#39;s really hard to even create an object with invalid milliseconds in normal code. For me, I think I&#39;ll downcast in my thread using Joda, rather than let Oracle use the possibly-suspect non-joda stuff.","body":"The thread safety issue is very interesting, I found this post researching an Oracle/Hibernate error &quot;IllegalArgumentException, sun.util.calendar.ZoneInfo.getOffset(ZoneInfo), oracle.jdbc.driver.DateCommonBinder.zoneOffset(OraclePrepare&zwnj;&#8203;dStatement)&quot;. This talks about another Oracle problems only appearing w heavy load <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=325576\" rel=\"nofollow noreferrer\">forums.oracle.com/forums/thread.jspa?threadID=325576</a> It&#39;s really hard to even create an object with invalid milliseconds in normal code. For me, I think I&#39;ll downcast in my thread using Joda, rather than let Oracle use the possibly-suspect non-joda stuff."},{"owner":{"account_id":453694,"reputation":729,"user_id":850830,"accept_rate":78,"display_name":"Ryan"},"score":4,"creation_date":1385021245,"post_id":1908647,"comment_id":29974922,"body_markdown":"I wish I could downvote everybody who up-voted this.  Who are all these people who +1 a reply that doesn&#39;t even attempt to answer the question?  An answer using Joda would be more than welcome, but this isn&#39;t it...","body":"I wish I could downvote everybody who up-voted this.  Who are all these people who +1 a reply that doesn&#39;t even attempt to answer the question?  An answer using Joda would be more than welcome, but this isn&#39;t it..."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1403285784,"post_id":1908647,"comment_id":37614551,"body_markdown":"@Ryan How is this answer not relevant? The Question asked for the date without a time-of-day. This answer presents a class whose sole purpose is representing a date without a time-of-day.","body":"@Ryan How is this answer not relevant? The Question asked for the date without a time-of-day. This answer presents a class whose sole purpose is representing a date without a time-of-day."},{"owner":{"account_id":453694,"reputation":729,"user_id":850830,"accept_rate":78,"display_name":"Ryan"},"score":0,"creation_date":1403298335,"post_id":1908647,"comment_id":37620140,"body_markdown":"At first I was thinking I was just being a frustrated prick until I thought about it. The poster asked about modifying a Java `java.util.Date` object.  The resultant object in this answer is not a `Date` nor  can it be (effortlessly) used in a `Date`.  `Date` has time fields, `LocalDate` does not. I probably literally needed &#39;00:00:00&#39; like in the question.","body":"At first I was thinking I was just being a frustrated prick until I thought about it. The poster asked about modifying a Java <code>java.util.Date</code> object.  The resultant object in this answer is not a <code>Date</code> nor  can it be (effortlessly) used in a <code>Date</code>.  <code>Date</code> has time fields, <code>LocalDate</code> does not. I probably literally needed &#39;00:00:00&#39; like in the question."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1403312617,"post_id":1908647,"comment_id":37623376,"body_markdown":"@Ryan As I mentioned in [my answer](http://stackoverflow.com/a/24332866/642706), the question is not clear. Does the person want (a) no time-of-day as suggested by title, or (b) does the person want first moment of the day (&quot;midnight&quot;) as suggested by the example `00:00:00`? My supposition, like Brian Agnew, is that the person asking wants a date-only with no time-of-day but with only java.util.Date as a frame of reference does not know how to ask otherwise. Before Java 8, there is **no built-in way to truly represent date-only**. `LocalDate` in Joda-Time &amp; java.time is a legitimate solution.","body":"@Ryan As I mentioned in <a href=\"http://stackoverflow.com/a/24332866/642706\">my answer</a>, the question is not clear. Does the person want (a) no time-of-day as suggested by title, or (b) does the person want first moment of the day (&quot;midnight&quot;) as suggested by the example <code>00:00:00</code>? My supposition, like Brian Agnew, is that the person asking wants a date-only with no time-of-day but with only java.util.Date as a frame of reference does not know how to ask otherwise. Before Java 8, there is <b>no built-in way to truly represent date-only</b>. <code>LocalDate</code> in Joda-Time &amp; java.time is a legitimate solution."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1522196098,"post_id":1908647,"comment_id":86054323,"body_markdown":"FYI, the [*Joda-Time*](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."},{"owner":{"account_id":220145,"reputation":3091,"user_id":477399,"accept_rate":53,"display_name":"PlexQ"},"score":0,"creation_date":1616951289,"post_id":1908647,"comment_id":118157263,"body_markdown":"This answer is irrelevant. If you&#39;re trying to manipulate dates dealing with JDBC information, you don&#39;t have the choice of using JodaTime really. JDBC STILL uses java.util.Date, despite it being horribly broken.","body":"This answer is irrelevant. If you&#39;re trying to manipulate dates dealing with JDBC information, you don&#39;t have the choice of using JodaTime really. JDBC STILL uses java.util.Date, despite it being horribly broken."},{"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"score":0,"creation_date":1616954529,"post_id":1908647,"comment_id":118158229,"body_markdown":"@PlexQ no mention of JDBC in the question, I’m afraid","body":"@PlexQ no mention of JDBC in the question, I’m afraid"}],"tags":[],"owner":{"account_id":7450,"reputation":269220,"user_id":12960,"display_name":"Brian Agnew"},"comment_count":11,"down_vote_count":3,"up_vote_count":44,"is_accepted":false,"score":41,"last_activity_date":1260895278,"creation_date":1260894606,"answer_id":1908647,"question_id":1908387,"body_markdown":"Have you looked at [Joda][1] ? It&#39;s a *much* easier and more intuitive way to work with dates and times. For instance you can convert trivially between (say) [LocalDateTime][2] and [LocalDate][3] objects.\r\n\r\ne.g. (to illustrate the API)\r\n\r\n    LocalDate date = new LocalDateTime(milliseconds).toLocalDate()\r\n\r\nAdditionally it solves some thread-safety issues with date/time formatters and is to be strongly recommended for working with any date/time issues in Java.\r\n\r\n  [1]: http://joda-time.sourceforge.net/\r\n  [2]: http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\r\n  [3]: http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDate.html","title":"Java Date cut off time information","body":"<p>Have you looked at <a href=\"http://joda-time.sourceforge.net/\" rel=\"noreferrer\">Joda</a> ? It's a <em>much</em> easier and more intuitive way to work with dates and times. For instance you can convert trivially between (say) <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDateTime.html\" rel=\"noreferrer\">LocalDateTime</a> and <a href=\"http://joda-time.sourceforge.net/apidocs/org/joda/time/LocalDate.html\" rel=\"noreferrer\">LocalDate</a> objects.</p>\n\n<p>e.g. (to illustrate the API)</p>\n\n<pre><code>LocalDate date = new LocalDateTime(milliseconds).toLocalDate()\n</code></pre>\n\n<p>Additionally it solves some thread-safety issues with date/time formatters and is to be strongly recommended for working with any date/time issues in Java.</p>\n"},{"comments":[{"owner":{"account_id":7539,"reputation":21506,"user_id":13140,"accept_rate":89,"display_name":"Ogre Psalm33"},"score":10,"creation_date":1391202036,"post_id":1908955,"comment_id":32438205,"body_markdown":"Updated link again (come on Apache!  Quit movin your docs around!)","body":"Updated link again (come on Apache!  Quit movin your docs around!)"},{"owner":{"account_id":1231052,"reputation":983,"user_id":1195632,"display_name":"Cloud"},"score":6,"creation_date":1443607775,"post_id":1908955,"comment_id":53559135,"body_markdown":"Minus of this approach that timezone in what truncate operation is performed is always local PC timezone. So if you working with calendar and dates in UTC timezone or in any timezone other than local timezone - it could truncate date not as intended.","body":"Minus of this approach that timezone in what truncate operation is performed is always local PC timezone. So if you working with calendar and dates in UTC timezone or in any timezone other than local timezone - it could truncate date not as intended."},{"owner":{"account_id":78924,"reputation":4734,"user_id":224239,"accept_rate":71,"display_name":"Jaroslav Z&#225;ruba"},"score":0,"creation_date":1507472349,"post_id":1908955,"comment_id":80213480,"body_markdown":"as @Cloud pointed out, the fact that i don&#39;t see the Calendar instance here (have no control over it) makes me a bit nervous :)","body":"as @Cloud pointed out, the fact that i don&#39;t see the Calendar instance here (have no control over it) makes me a bit nervous :)"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1535018891,"post_id":1908955,"comment_id":90916007,"body_markdown":"That method is surprisingly long and had at least two bugfixes.","body":"That method is surprisingly long and had at least two bugfixes."},{"owner":{"account_id":4439246,"reputation":912,"user_id":3614211,"display_name":"Chad Lehman"},"score":0,"creation_date":1618942766,"post_id":1908955,"comment_id":118754196,"body_markdown":"I like simple, elegant solutions like this one. With Calendar, you have to make 6 different api calls. When your application is always, always only ever going to run in one time zone--because it is deployed on a server and it is for the State government--you can feel pretty safe that you won&#39;t have problems with timezone.","body":"I like simple, elegant solutions like this one. With Calendar, you have to make 6 different api calls. When your application is always, always only ever going to run in one time zone--because it is deployed on a server and it is for the State government--you can feel pretty safe that you won&#39;t have problems with timezone."}],"tags":[],"owner":{"account_id":4675,"reputation":7713,"user_id":7144,"accept_rate":71,"display_name":"A_M"},"comment_count":5,"down_vote_count":3,"up_vote_count":171,"is_accepted":false,"score":168,"last_activity_date":1391202013,"creation_date":1260897137,"answer_id":1908955,"question_id":1908387,"body_markdown":"Have you looked at the [DateUtils][1] truncate method in Apache Commons Lang?\r\n\r\n\r\n    Date truncatedDate = DateUtils.truncate(new Date(), Calendar.DATE);\r\n\r\nwill remove the time element.\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html","title":"Java Date cut off time information","body":"<p>Have you looked at the <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-2.6/org/apache/commons/lang/time/DateUtils.html\" rel=\"noreferrer\">DateUtils</a> truncate method in Apache Commons Lang?</p>\n\n<pre><code>Date truncatedDate = DateUtils.truncate(new Date(), Calendar.DATE);\n</code></pre>\n\n<p>will remove the time element.</p>\n"},{"tags":[],"owner":{"account_id":114256,"reputation":2333,"user_id":300538,"display_name":"Sunil Manheri"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1335437566,"creation_date":1335437566,"answer_id":10331946,"question_id":1908387,"body_markdown":"From java.util.Date JavaDocs:\r\n\r\n&gt; The class Date represents a specific instant in time, with millisecond precision\r\n\r\nand from the java.sql.Date JavaDocs:\r\n\r\n&gt;To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be &#39;normalized&#39; by setting the hours, minutes, seconds, and milliseconds to zero in the particular time zone with which the instance is associated.\r\n\r\nSo, the best approach is to use java.sql.Date if you are not in need of the time part\r\n\r\n    java.util.Date utilDate = new java.util.Date();\r\n    java.sql.Date sqlDate = new java.sql.Date(System.currentTimeMillis());\r\n    \r\nand the output is:\r\n\r\n    java.util.Date : Thu Apr 26 16:22:53 PST 2012\r\n    java.sql.Date  : 2012-04-26","title":"Java Date cut off time information","body":"<p>From java.util.Date JavaDocs:</p>\n\n<blockquote>\n  <p>The class Date represents a specific instant in time, with millisecond precision</p>\n</blockquote>\n\n<p>and from the java.sql.Date JavaDocs:</p>\n\n<blockquote>\n  <p>To conform with the definition of SQL DATE, the millisecond values wrapped by a java.sql.Date instance must be 'normalized' by setting the hours, minutes, seconds, and milliseconds to zero in the particular time zone with which the instance is associated.</p>\n</blockquote>\n\n<p>So, the best approach is to use java.sql.Date if you are not in need of the time part</p>\n\n<pre><code>java.util.Date utilDate = new java.util.Date();\njava.sql.Date sqlDate = new java.sql.Date(System.currentTimeMillis());\n</code></pre>\n\n<p>and the output is:</p>\n\n<pre><code>java.util.Date : Thu Apr 26 16:22:53 PST 2012\njava.sql.Date  : 2012-04-26\n</code></pre>\n"},{"comments":[{"owner":{"account_id":706860,"reputation":9592,"user_id":601844,"display_name":"epox"},"score":0,"creation_date":1594438954,"post_id":11783634,"comment_id":111133924,"body_markdown":"This will truncate in local TimeZone, not in UTC that Date (getTime) represents.","body":"This will truncate in local TimeZone, not in UTC that Date (getTime) represents."}],"tags":[],"owner":{"account_id":1714980,"reputation":61,"user_id":1572272,"display_name":"Byron Marambio Troncoso"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343932260,"creation_date":1343932260,"answer_id":11783634,"question_id":1908387,"body_markdown":"Use DateUtils from Apache, with truncate, like this:\r\n\r\n    DateUtils.truncate(Calendar.getInstance().getTime(), Calendar.DATE);\r\n","title":"Java Date cut off time information","body":"<p>Use DateUtils from Apache, with truncate, like this:</p>\n\n<pre><code>DateUtils.truncate(Calendar.getInstance().getTime(), Calendar.DATE);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":345151,"reputation":6511,"user_id":1811719,"accept_rate":78,"display_name":"Stan"},"score":3,"creation_date":1386883265,"post_id":16473059,"comment_id":30739353,"body_markdown":"There is an tiny error in this code - the left bracket in not placed correctly, it must be timestamp -= timestamp % (24 * 60 * 60 * 1000). This will cut off the time part. And Im sure this way is more sufficient than creating Caledar object and playing with its methods or even using any other 3rd party libraries","body":"There is an tiny error in this code - the left bracket in not placed correctly, it must be timestamp -= timestamp % (24 * 60 * 60 * 1000). This will cut off the time part. And Im sure this way is more sufficient than creating Caledar object and playing with its methods or even using any other 3rd party libraries"},{"owner":{"account_id":2141570,"reputation":3307,"user_id":1900071,"accept_rate":45,"display_name":"Drew"},"score":2,"creation_date":1459410362,"post_id":16473059,"comment_id":60276797,"body_markdown":"No, this is NOT the correct solution, BEWARE. This is the same as rounding the date value to floor, that is - you may get 28 March for timestamp of 29 March (in your locale). So Calendar-based solutions (Apache&#39;s DateUtils uses Calendar, too) is the only way","body":"No, this is NOT the correct solution, BEWARE. This is the same as rounding the date value to floor, that is - you may get 28 March for timestamp of 29 March (in your locale). So Calendar-based solutions (Apache&#39;s DateUtils uses Calendar, too) is the only way"},{"owner":{"account_id":2714938,"reputation":6041,"user_id":2342529,"accept_rate":98,"display_name":"Alexandru Severin"},"score":0,"creation_date":1484312610,"post_id":16473059,"comment_id":70470138,"body_markdown":"This will also not work when the time changes due to Daylight saving time.","body":"This will also not work when the time changes due to Daylight saving time."}],"tags":[],"owner":{"account_id":2748311,"reputation":469,"user_id":2368223,"display_name":"Gan Quan"},"comment_count":3,"down_vote_count":4,"up_vote_count":10,"is_accepted":false,"score":6,"last_activity_date":1421446678,"creation_date":1368143630,"answer_id":16473059,"question_id":1908387,"body_markdown":"For timestamps:\r\n\r\n    timestamp -= timestamp % (24 * 60 * 60 * 1000)","title":"Java Date cut off time information","body":"<p>For timestamps:</p>\n\n<pre><code>timestamp -= timestamp % (24 * 60 * 60 * 1000)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":460516,"reputation":1391,"user_id":861661,"display_name":"Arcao"},"score":0,"creation_date":1372339793,"post_id":17053543,"comment_id":25164483,"body_markdown":"This doesn&#39;t work, because `calendar.clear(Calendar.HOUR_OF_DAY);` doesn&#39;t clear hours. The solution from @cletus works OK.","body":"This doesn&#39;t work, because <code>calendar.clear(Calendar.HOUR_OF_DAY);</code> doesn&#39;t clear hours. The solution from @cletus works OK."},{"owner":{"account_id":1278271,"reputation":361,"user_id":1233021,"display_name":"m190"},"score":0,"creation_date":1372403116,"post_id":17053543,"comment_id":25190634,"body_markdown":"Sorry, you are right, I corrected it, for hours you should set the value. In general it almost the same way how to truncate date...","body":"Sorry, you are right, I corrected it, for hours you should set the value. In general it almost the same way how to truncate date..."}],"tags":[],"owner":{"account_id":1278271,"reputation":361,"user_id":1233021,"display_name":"m190"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1567159600,"creation_date":1370983699,"answer_id":17053543,"question_id":1908387,"body_markdown":"Just `clear()` redundant fields.\r\n\r\n    Calendar calendar = Calendar.getInstance();\r\n    calendar.setTime(date);\r\n    calendar.set(Calendar.HOUR_OF_DAY, 0);\r\n    calendar.clear(Calendar.MINUTE);\r\n    calendar.clear(Calendar.SECOND);\r\n    calendar.clear(Calendar.MILLISECOND);\r\n    Date truncatedDate = calendar.getTime();\r\n\r\nFrom Java 8 a better option is to use `truncatedTo` method of `LocalDateTime`, e.g.:\r\n\r\n```\r\nLocalDateTime.now().truncatedTo(ChronoUnit.DAYS)\r\n```","title":"Java Date cut off time information","body":"<p>Just <code>clear()</code> redundant fields.</p>\n\n<pre><code>Calendar calendar = Calendar.getInstance();\ncalendar.setTime(date);\ncalendar.set(Calendar.HOUR_OF_DAY, 0);\ncalendar.clear(Calendar.MINUTE);\ncalendar.clear(Calendar.SECOND);\ncalendar.clear(Calendar.MILLISECOND);\nDate truncatedDate = calendar.getTime();\n</code></pre>\n\n<p>From Java 8 a better option is to use <code>truncatedTo</code> method of <code>LocalDateTime</code>, e.g.:</p>\n\n<pre><code>LocalDateTime.now().truncatedTo(ChronoUnit.DAYS)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":6,"creation_date":1403285339,"post_id":17053747,"comment_id":37614387,"body_markdown":"The midnight-related methods and classes in Joda-Time are now deprecated. The developers recommend against using them. Instead use the method `withTimeAtStartOfDay`.","body":"The midnight-related methods and classes in Joda-Time are now deprecated. The developers recommend against using them. Instead use the method <code>withTimeAtStartOfDay</code>."},{"owner":{"account_id":1674355,"reputation":4984,"user_id":1540197,"accept_rate":60,"display_name":"h7r"},"score":0,"creation_date":1423600315,"post_id":17053747,"comment_id":45212092,"body_markdown":"Thank you for pointing out. Updated the answer to consider this.","body":"Thank you for pointing out. Updated the answer to consider this."},{"owner":{"account_id":1122900,"reputation":864,"user_id":1110820,"accept_rate":88,"display_name":"Charles Wood"},"score":0,"creation_date":1448993729,"post_id":17053747,"comment_id":55809773,"body_markdown":"You can also use `toLocalDate` to get an object that doesn&#39;t even have a time component.","body":"You can also use <code>toLocalDate</code> to get an object that doesn&#39;t even have a time component."},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1522196138,"post_id":17053747,"comment_id":86054331,"body_markdown":"FYI, the [*Joda-Time*](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes. See [Tutorial by Oracle](https://docs.oracle.com/javase/tutorial/datetime/TOC.html).","body":"FYI, the <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\"><i>Joda-Time</i></a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><i>java.time</i></a> classes. See <a href=\"https://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"nofollow noreferrer\">Tutorial by Oracle</a>."}],"tags":[],"owner":{"account_id":1674355,"reputation":4984,"user_id":1540197,"accept_rate":60,"display_name":"h7r"},"comment_count":4,"down_vote_count":1,"up_vote_count":23,"is_accepted":false,"score":22,"last_activity_date":1443275734,"creation_date":1370984485,"answer_id":17053747,"question_id":1908387,"body_markdown":"With Joda you can easily get the expected date.\r\n\r\nAs of version 2.7 (maybe since some previous version greater than 2.2), as a commenter notes, `toDateMidnight` has been deprecated in favor or the aptly named `withTimeAtStartOfDay()`, making the convenient\r\n\r\n    DateTime.now().withTimeAtStartOfDay()\r\n\r\npossible.\r\n\r\nBenefit added of a way nicer API.\r\n\r\nWith older versions, you can do\r\n\r\n    new DateTime(new Date()).toDateMidnight().toDate()","title":"Java Date cut off time information","body":"<p>With Joda you can easily get the expected date.</p>\n\n<p>As of version 2.7 (maybe since some previous version greater than 2.2), as a commenter notes, <code>toDateMidnight</code> has been deprecated in favor or the aptly named <code>withTimeAtStartOfDay()</code>, making the convenient</p>\n\n<pre><code>DateTime.now().withTimeAtStartOfDay()\n</code></pre>\n\n<p>possible.</p>\n\n<p>Benefit added of a way nicer API.</p>\n\n<p>With older versions, you can do</p>\n\n<pre><code>new DateTime(new Date()).toDateMidnight().toDate()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1561405,"reputation":3143,"user_id":1451197,"display_name":"Dave"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1380030180,"creation_date":1379607089,"answer_id":18899843,"question_id":1908387,"body_markdown":"It really annoyed me that the new &quot;improved&quot; calendar constructor doesn&#39;t take an int for milliseconds like the &quot;awful&quot; old Date one.\r\nI then got really cross and wrote this:\r\n\r\n    long stuffYou = startTime.getTimeInMillis() % 1000;\r\n    startTime.setTimeInMillis(startTime.getTimeInMillis() - stuffYou);\r\n\r\nI didn&#39;t use the word &quot;stuff&quot; at the time, but\r\nthen I discovered the happiness of this:\r\n\r\n    startTime.set(Calendar.MILLISECOND, 0);\r\n\r\nBut I&#39;m still quite cross about it.\r\n","title":"Java Date cut off time information","body":"<p>It really annoyed me that the new \"improved\" calendar constructor doesn't take an int for milliseconds like the \"awful\" old Date one.\nI then got really cross and wrote this:</p>\n\n<pre><code>long stuffYou = startTime.getTimeInMillis() % 1000;\nstartTime.setTimeInMillis(startTime.getTimeInMillis() - stuffYou);\n</code></pre>\n\n<p>I didn't use the word \"stuff\" at the time, but\nthen I discovered the happiness of this:</p>\n\n<pre><code>startTime.set(Calendar.MILLISECOND, 0);\n</code></pre>\n\n<p>But I'm still quite cross about it.</p>\n"},{"tags":[],"owner":{"account_id":3403188,"reputation":103,"user_id":2854920,"display_name":"Alex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403268780,"creation_date":1403268780,"answer_id":24327753,"question_id":1908387,"body_markdown":"Might be a late response but here is a way to do it in one line without using any libraries:\r\n\r\n    new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).parse(new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(YOUR_TIMESTAMP))","title":"Java Date cut off time information","body":"<p>Might be a late response but here is a way to do it in one line without using any libraries:</p>\n\n<pre><code>new SimpleDateFormat(\"yyyy-MM-dd\").parse(new SimpleDateFormat(\"yyyy-MM-dd\").format(YOUR_TIMESTAMP))\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1044865,"reputation":5045,"user_id":1891566,"display_name":"Clint Eastwood"},"score":0,"creation_date":1411134944,"post_id":24332866,"comment_id":40601953,"body_markdown":"This is the definitive answer (assuming that one can and wants to use Joda Time)","body":"This is the definitive answer (assuming that one can and wants to use Joda Time)"}],"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1522196910,"creation_date":1403286240,"answer_id":24332866,"question_id":1908387,"body_markdown":"The question is contradictory. It asks for a date without a time of day yet displays an example with a time of `00:00:00`.\r\n\r\n\r\n\r\n## Joda-Time\r\n\r\n**UPDATE:** The [Joda-Time](http://www.joda.org/joda-time/) project is now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), with the team advising migration to the [java.time](http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) classes. See [my other Answer](https://stackoverflow.com/a/38065059/642706) for java.time solution.\r\n\r\nIf instead you want the time-of-day set to the first moment of the day, use a [`DateTime`][8] object on the Joda-Time library and call its [`withTimeAtStartOfDay`][9] method. Be aware that the first moment may not be the time `00:00:00` because of Daylight Saving Time or perhaps other anomalies.\r\n\r\n\r\n  [8]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\r\n  [9]: http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()","title":"Java Date cut off time information","body":"<p>The question is contradictory. It asks for a date without a time of day yet displays an example with a time of <code>00:00:00</code>.</p>\n\n<h2>Joda-Time</h2>\n\n<p><strong>UPDATE:</strong> The <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">Joda-Time</a> project is now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"nofollow noreferrer\">maintenance mode</a>, with the team advising migration to the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\">java.time</a> classes. See <a href=\"https://stackoverflow.com/a/38065059/642706\">my other Answer</a> for java.time solution.</p>\n\n<p>If instead you want the time-of-day set to the first moment of the day, use a <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html\" rel=\"nofollow noreferrer\"><code>DateTime</code></a> object on the Joda-Time library and call its <a href=\"http://www.joda.org/joda-time/apidocs/org/joda/time/DateTime.html#withTimeAtStartOfDay()\" rel=\"nofollow noreferrer\"><code>withTimeAtStartOfDay</code></a> method. Be aware that the first moment may not be the time <code>00:00:00</code> because of Daylight Saving Time or perhaps other anomalies.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1404802056,"post_id":24623614,"comment_id":38163635,"body_markdown":"[A] Your answer is redundant. Already [posted by Brian Agnew](http://stackoverflow.com/a/1908647/642706). [B] Your code is incorrect, as it ignores time zone, the very issue raised in the question.","body":"[A] Your answer is redundant. Already <a href=\"http://stackoverflow.com/a/1908647/642706\">posted by Brian Agnew</a>. [B] Your code is incorrect, as it ignores time zone, the very issue raised in the question."},{"owner":{"account_id":3320855,"reputation":402,"user_id":2792078,"display_name":"lamusique"},"score":0,"creation_date":1404804172,"post_id":24623614,"comment_id":38164747,"body_markdown":"Could be redundant but I just put a simpler example here because I recognized an answer shouldn&#39;t be in comments.\n\nYes, java.util.Date ignores TimeZone but the original question was with `a Java Date object` thus I used `java.util.Date`.\nMoreover it doesn&#39;t explain how his timezone is problematic with java.util.Date (when? where?) although he can&#39;t help using other than `Date`.","body":"Could be redundant but I just put a simpler example here because I recognized an answer shouldn&#39;t be in comments.  Yes, java.util.Date ignores TimeZone but the original question was with <code>a Java Date object</code> thus I used <code>java.util.Date</code>. Moreover it doesn&#39;t explain how his timezone is problematic with java.util.Date (when? where?) although he can&#39;t help using other than <code>Date</code>."}],"tags":[],"owner":{"account_id":3320855,"reputation":402,"user_id":2792078,"display_name":"lamusique"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1404793491,"creation_date":1404793000,"answer_id":24623614,"question_id":1908387,"body_markdown":"With [Joda-Time][1] since version 2.0 you can use `LocalDate.toDate()`.\r\n\r\nSimply\r\n&lt;!-- language: java --&gt;\r\n\r\n    // someDatetime is whatever java.util.Date you have.\r\n    Date someDay = new LocalDate(someDatetime).toDate();\r\n\r\n\r\n  [1]: http://www.joda.org/joda-time/","title":"Java Date cut off time information","body":"<p>With <a href=\"http://www.joda.org/joda-time/\" rel=\"nofollow\">Joda-Time</a> since version 2.0 you can use <code>LocalDate.toDate()</code>.</p>\n\n<p>Simply\n</p>\n\n<pre><code>// someDatetime is whatever java.util.Date you have.\nDate someDay = new LocalDate(someDatetime).toDate();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":139814,"reputation":16854,"user_id":345648,"accept_rate":48,"display_name":"Alexander Taylor"},"score":0,"creation_date":1422406251,"post_id":26097351,"comment_id":44734834,"body_markdown":"keywords:  java.time, Java 8, LocalDateTime.truncatedTo()","body":"keywords:  java.time, Java 8, LocalDateTime.truncatedTo()"},{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1466209921,"post_id":26097351,"comment_id":63238620,"body_markdown":"This answer only produces dates for the context of UTC time zone.","body":"This answer only produces dates for the context of UTC time zone."}],"tags":[],"owner":{"account_id":1820944,"reputation":192,"user_id":1655029,"display_name":"Sergio Kosik"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1411985224,"creation_date":1411985224,"answer_id":26097351,"question_id":1908387,"body_markdown":"I did the truncation with new java8 API. I faced up with one strange thing but in general it&#39;s truncate...\r\n\r\n    Instant instant = date.toInstant();\r\n    instant = instant.truncatedTo(ChronoUnit.DAYS);\r\n    date = Date.from(instant);","title":"Java Date cut off time information","body":"<p>I did the truncation with new java8 API. I faced up with one strange thing but in general it's truncate...</p>\n\n<pre><code>Instant instant = date.toInstant();\ninstant = instant.truncatedTo(ChronoUnit.DAYS);\ndate = Date.from(instant);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1434014508,"post_id":28868089,"comment_id":49603699,"body_markdown":"You can only use ChronoUnits up to DAYS - higher units will throw an exception.","body":"You can only use ChronoUnits up to DAYS - higher units will throw an exception."}],"tags":[],"owner":{"account_id":5886931,"reputation":503,"user_id":4634634,"display_name":"Adam Berry"},"comment_count":1,"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1564422925,"creation_date":1425516698,"answer_id":28868089,"question_id":1908387,"body_markdown":"Just a quick update in light of the [java.time][1] classes now built into Java 8 and later.\r\n\r\n[`LocalDateTime`][2] has a [`truncatedTo`][3] method that effectively addresses what you are talking about here:\r\n\r\n    LocalDateTime.now().truncatedTo(ChronoUnit.MINUTES)\r\n\r\nThis will express the current time down to minutes only:\r\n\r\n    2015-03-05T11:47\r\n\r\nYou may use a [`ChronoUnit`][4] (or a [`TemporalUnit`][5]) smaller than DAYS to execute the truncation (as the truncation is applied only to the time part of LocalDateTime, not to the date part).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#truncatedTo-java.time.temporal.TemporalUnit-\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html","title":"Java Date cut off time information","body":"<p>Just a quick update in light of the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes now built into Java 8 and later.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> has a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html#truncatedTo-java.time.temporal.TemporalUnit-\" rel=\"noreferrer\"><code>truncatedTo</code></a> method that effectively addresses what you are talking about here:</p>\n\n<pre><code>LocalDateTime.now().truncatedTo(ChronoUnit.MINUTES)\n</code></pre>\n\n<p>This will express the current time down to minutes only:</p>\n\n<pre><code>2015-03-05T11:47\n</code></pre>\n\n<p>You may use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/ChronoUnit.html\" rel=\"noreferrer\"><code>ChronoUnit</code></a> (or a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/temporal/TemporalUnit.html\" rel=\"noreferrer\"><code>TemporalUnit</code></a>) smaller than DAYS to execute the truncation (as the truncation is applied only to the time part of LocalDateTime, not to the date part).</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1466209775,"post_id":37857964,"comment_id":63238595,"body_markdown":"The `java.sql.Date` class pretends to represent a date-only value but actually does have a time-of-day adjusted for UTC time zone. So not really a fit solution to the Question.","body":"The <code>java.sql.Date</code> class pretends to represent a date-only value but actually does have a time-of-day adjusted for UTC time zone. So not really a fit solution to the Question."}],"tags":[],"owner":{"account_id":8647706,"reputation":1,"user_id":6474446,"display_name":"Guest"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1466077267,"creation_date":1466076790,"answer_id":37857964,"question_id":1908387,"body_markdown":"For all the answers using Calendar, you should use it like this instead\r\n\r\n   \tpublic static Date truncateDate(Date date) {\r\n\t\tCalendar c = Calendar.getInstance();\r\n\t\tc.setTime(date);\r\n\t\tc.set(Calendar.HOUR_OF_DAY, c.getActualMinimum(Calendar.HOUR_OF_DAY));\r\n\t\tc.set(Calendar.MINUTE, c.getActualMinimum(Calendar.MINUTE));\r\n\t\tc.set(Calendar.SECOND, c.getActualMinimum(Calendar.SECOND));\r\n\t\tc.set(Calendar.MILLISECOND, c.getActualMinimum(Calendar.MILLISECOND));\r\n\t\treturn c.getTime();\r\n\t}\r\n\r\nBut I prefer this:\r\n\r\n\tpublic static Date truncateDate(Date date) {\r\n\t\treturn new java.sql.Date(date.getTime());\r\n\t}\r\n","title":"Java Date cut off time information","body":"<p>For all the answers using Calendar, you should use it like this instead</p>\n\n<pre><code>public static Date truncateDate(Date date) {\n    Calendar c = Calendar.getInstance();\n    c.setTime(date);\n    c.set(Calendar.HOUR_OF_DAY, c.getActualMinimum(Calendar.HOUR_OF_DAY));\n    c.set(Calendar.MINUTE, c.getActualMinimum(Calendar.MINUTE));\n    c.set(Calendar.SECOND, c.getActualMinimum(Calendar.SECOND));\n    c.set(Calendar.MILLISECOND, c.getActualMinimum(Calendar.MILLISECOND));\n    return c.getTime();\n}\n</code></pre>\n\n<p>But I prefer this:</p>\n\n<pre><code>public static Date truncateDate(Date date) {\n    return new java.sql.Date(date.getTime());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1522196664,"creation_date":1467072289,"answer_id":38065059,"question_id":1908387,"body_markdown":"# tl;dr\r\n\r\n    LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\r\n        &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Alter input string to comply with ISO 8601 standard format.\r\n    )\r\n    .toLocalDate()                                  // Extract a date-only value.\r\n    .atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\r\n        ZoneId.of( &quot;Europe/Paris&quot; )                 // Determining a specific start-of-day requires a time zone.\r\n    )                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\r\n    .toString()                                     // Generate a String in standard ISO 8601 format, wisely extended to append the name of the time zone in square brackets.\r\n\r\n&gt;2008-01-01T00:00+01:00[Europe/Paris]\r\n\r\nTo generate a String in your desired format, pass a [`DateTimeFormatter`][1]. \r\n\r\n    LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\r\n        &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; )  // Alter input string to comply with ISO 8601 standard format.\r\n    )\r\n    .toLocalDate()                                  // Extract a date-only value.\r\n    .atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\r\n        ZoneId.of( &quot;Europe/Paris&quot; )                 // Determining a specific start-of-day requires a time zone.\r\n    )                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\r\n    .format(                                        // Generate a String representing the object’s value.\r\n        DateTimeFormatter.ISO_LOCAL_DATE_TIME       // Built-in predefined formatter close to what you want. \r\n    )\r\n    .replace( &quot;T&quot; , &quot; &quot; )                           // Replace the standard’s use of a &#39;T&#39; in the middle with your desired SPACE character.\r\n\r\n&gt;2008-01-01 00:00:00\r\n    \r\n\r\n# Details\r\n\r\n\r\nOther Answers are correct, but use old date-time classes now outmoded by the java.time framework.\r\n\r\n# java.time\r\n\r\nThe java.time framework is built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 ([ThreeTen-Backport][2]) and further adapted to Android ([ThreeTenABP][3]).\r\n\r\nFirst alter the input string to comply with the canonical version of ISO 8601 format. The standard [ISO 8601][4] formats are used by default in java.time classes for parsing/generating strings that represent date-time values. We need to replace that SPACE in the middle with a `T`.\r\n\r\n    String input = &quot;2008-01-01 13:15:00&quot;.replace( &quot; &quot; , &quot;T&quot; );  // → 2008-01-01T13:15:00\r\n\r\nNow we can parse it as a [`LocalDateTime`][5], where “Local” means no specific locality. The input lacks any [offset-from-UTC][6] or time zone info.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( input );\r\n\r\n&gt;ldt.toString()… 2008-01-01T13:15:00\r\n\r\nIf you do not care about time-of-day nor time zone, then convert to a [`LocalDate`][7].\r\n\r\n    LocalDate ld = ldt.toLocalDate();\r\n\r\n&gt;ld.toString()… 2008-01-01\r\n\r\n# First Moment Of Day\r\n\r\nIf instead you want the time-of-day set to the first moment of the day, use a [`ZonedDateTime`][8] class, then convert to a `LocalDate` object to call its [`atStartOfDay`][9] method. Be aware that the first moment may not be the time `00:00:00` because of Daylight Saving Time or perhaps other anomalies.\r\n\r\nThe time zone is crucial because for any given moment the date varies around the world by zone. For example, a few moments after midnight in Paris is a new day for Parisians but is still “yesterday” in Montr&#233;al for the Canadians.\r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ldt.atZone( zoneId );\r\n    LocalDate ldFromZdt = zdt.toLocalDate();\r\n    ZonedDateTime zdtStartOfDay = ldFromZdt.atStartOfDay( zoneId );\r\n\r\n&gt; zdtStartOfDay.toString()… 2008-01-01T00:00:00-05:00[America/Montreal]\r\n\r\n# UTC\r\n\r\nTo see that moment through the lens of the [UTC][10] time zone, extract a [`Instant`][11] object. Both the `ZonedDateTime` and `Instant` will represent the same moment on the timeline but appear as two different [wall-clock times][12].\r\n\r\nAn `Instant` is the basic building-block class in java.time, always in UTC by definition. Use this class frequently, as you should generally be doing your business logic, data storage, and data exchange in UTC.\r\n\r\n    Instant instant = zdtStartOfDay.toInstant();\r\n\r\n&gt;instant.toString()… 2008-01-01T05:00:00Z\r\n\r\nWe see 5 AM rather than stroke-of-midnight. In standard format, the `Z` on the end is short for `Zulu` and means “UTC”.\r\n\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/javase/9/docs/api/java/util/Date.html), [`Calendar`](https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html), &amp; [`SimpleDateFormat`](http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html) classes.\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), and later\r\n  - Built-in. \r\n  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Much of the java.time functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the java.time classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts *ThreeTen-Backport* (mentioned above). See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\nThe [**ThreeTen-Extra**](http://www.threeten.org/threeten-extra/) project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as [`Interval`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html), [`YearWeek`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html), [`YearQuarter`](http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html), and [more](http://www.threeten.org/threeten-extra/apidocs/index.html).\r\n\r\n\r\n    \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\r\n  [2]: http://www.threeten.org/threetenbp/\r\n  [3]: https://github.com/JakeWharton/ThreeTenABP\r\n  [4]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [6]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [8]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [9]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\r\n  [10]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [11]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [12]: https://en.wikipedia.org/wiki/Wall_clock_time","title":"Java Date cut off time information","body":"<h1>tl;dr</h1>\n\n<pre><code>LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\n    \"2008-01-01 13:15:00\".replace( \" \" , \"T\" )  // Alter input string to comply with ISO 8601 standard format.\n)\n.toLocalDate()                                  // Extract a date-only value.\n.atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\n    ZoneId.of( \"Europe/Paris\" )                 // Determining a specific start-of-day requires a time zone.\n)                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\n.toString()                                     // Generate a String in standard ISO 8601 format, wisely extended to append the name of the time zone in square brackets.\n</code></pre>\n\n<blockquote>\n  <p>2008-01-01T00:00+01:00[Europe/Paris]</p>\n</blockquote>\n\n<p>To generate a String in your desired format, pass a <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a>. </p>\n\n<pre><code>LocalDateTime.parse(                            // Lacking an offset or time zone, parse as a `LocalDateTime`. *Not* a specific moment in time.\n    \"2008-01-01 13:15:00\".replace( \" \" , \"T\" )  // Alter input string to comply with ISO 8601 standard format.\n)\n.toLocalDate()                                  // Extract a date-only value.\n.atStartOfDay(                                  // Do not assume the day starts at 00:00:00. Let class determine start-of-day.\n    ZoneId.of( \"Europe/Paris\" )                 // Determining a specific start-of-day requires a time zone.\n)                                               // Result is a `ZonedDateTime` object. At this point we have a specific moment in time, a point on the timeline.\n.format(                                        // Generate a String representing the object’s value.\n    DateTimeFormatter.ISO_LOCAL_DATE_TIME       // Built-in predefined formatter close to what you want. \n)\n.replace( \"T\" , \" \" )                           // Replace the standard’s use of a 'T' in the middle with your desired SPACE character.\n</code></pre>\n\n<blockquote>\n  <p>2008-01-01 00:00:00</p>\n</blockquote>\n\n<h1>Details</h1>\n\n<p>Other Answers are correct, but use old date-time classes now outmoded by the java.time framework.</p>\n\n<h1>java.time</h1>\n\n<p>The java.time framework is built into Java 8 and later. Much of the java.time functionality is back-ported to Java 6 &amp; 7 (<a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a>) and further adapted to Android (<a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a>).</p>\n\n<p>First alter the input string to comply with the canonical version of ISO 8601 format. The standard <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"noreferrer\">ISO 8601</a> formats are used by default in java.time classes for parsing/generating strings that represent date-time values. We need to replace that SPACE in the middle with a <code>T</code>.</p>\n\n<pre><code>String input = \"2008-01-01 13:15:00\".replace( \" \" , \"T\" );  // → 2008-01-01T13:15:00\n</code></pre>\n\n<p>Now we can parse it as a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>, where “Local” means no specific locality. The input lacks any <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> or time zone info.</p>\n\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( input );\n</code></pre>\n\n<blockquote>\n  <p>ldt.toString()… 2008-01-01T13:15:00</p>\n</blockquote>\n\n<p>If you do not care about time-of-day nor time zone, then convert to a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a>.</p>\n\n<pre><code>LocalDate ld = ldt.toLocalDate();\n</code></pre>\n\n<blockquote>\n  <p>ld.toString()… 2008-01-01</p>\n</blockquote>\n\n<h1>First Moment Of Day</h1>\n\n<p>If instead you want the time-of-day set to the first moment of the day, use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> class, then convert to a <code>LocalDate</code> object to call its <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay--\" rel=\"noreferrer\"><code>atStartOfDay</code></a> method. Be aware that the first moment may not be the time <code>00:00:00</code> because of Daylight Saving Time or perhaps other anomalies.</p>\n\n<p>The time zone is crucial because for any given moment the date varies around the world by zone. For example, a few moments after midnight in Paris is a new day for Parisians but is still “yesterday” in Montréal for the Canadians.</p>\n\n<pre><code>ZoneId zoneId = ZoneId.of( \"America/Montreal\" );\nZonedDateTime zdt = ldt.atZone( zoneId );\nLocalDate ldFromZdt = zdt.toLocalDate();\nZonedDateTime zdtStartOfDay = ldFromZdt.atStartOfDay( zoneId );\n</code></pre>\n\n<blockquote>\n  <p>zdtStartOfDay.toString()… 2008-01-01T00:00:00-05:00[America/Montreal]</p>\n</blockquote>\n\n<h1>UTC</h1>\n\n<p>To see that moment through the lens of the <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> time zone, extract a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a> object. Both the <code>ZonedDateTime</code> and <code>Instant</code> will represent the same moment on the timeline but appear as two different <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"noreferrer\">wall-clock times</a>.</p>\n\n<p>An <code>Instant</code> is the basic building-block class in java.time, always in UTC by definition. Use this class frequently, as you should generally be doing your business logic, data storage, and data exchange in UTC.</p>\n\n<pre><code>Instant instant = zdtStartOfDay.toInstant();\n</code></pre>\n\n<blockquote>\n  <p>instant.toString()… 2008-01-01T05:00:00Z</p>\n</blockquote>\n\n<p>We see 5 AM rather than stroke-of-midnight. In standard format, the <code>Z</code> on the end is short for <code>Zulu</code> and means “UTC”.</p>\n\n<hr>\n\n<h1>About <em>java.time</em></h1>\n\n<p>The <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"http://docs.oracle.com/javase/9/docs/api/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"http://docs.oracle.com/javase/9/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n\n<p>Where to obtain the java.time classes? </p>\n\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, and later\n\n<ul>\n<li>Built-in. </li>\n<li>Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n\n<ul>\n<li>Much of the java.time functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><strong><em>ThreeTen-Backport</em></strong></a>.</li>\n</ul></li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n\n<ul>\n<li>Later versions of Android bundle implementations of the java.time classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><strong><em>ThreeTenABP</em></strong></a> project adapts <em>ThreeTen-Backport</em> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul></li>\n</ul>\n\n<p>The <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\"><strong>ThreeTen-Extra</strong></a> project extends java.time with additional classes. This project is a proving ground for possible future additions to java.time. You may find some useful classes here such as <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/Interval.html\" rel=\"noreferrer\"><code>Interval</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearWeek.html\" rel=\"noreferrer\"><code>YearWeek</code></a>, <a href=\"http://www.threeten.org/threeten-extra/apidocs/org/threeten/extra/YearQuarter.html\" rel=\"noreferrer\"><code>YearQuarter</code></a>, and <a href=\"http://www.threeten.org/threeten-extra/apidocs/index.html\" rel=\"noreferrer\">more</a>.</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1514356149,"post_id":47985406,"comment_id":82943478,"body_markdown":"FYI, this Answer uses troublesome old date-time classes supplanted years ago by the *java.time* classes.","body":"FYI, this Answer uses troublesome old date-time classes supplanted years ago by the <i>java.time</i> classes."}],"tags":[],"owner":{"account_id":9585895,"reputation":11,"user_id":7118682,"display_name":"Gelbert"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515031632,"creation_date":1514339206,"answer_id":47985406,"question_id":1908387,"body_markdown":" I fixed the issue like this(in Eastern eight zone(Beijing time)):\r\n  \r\n\r\n    private Date getTruncatedDate(Date d) {\r\n    \tif (d == null) {\r\n    \t\treturn null;\r\n    \t}\r\n    \tlong h = 60 * 60 * 1000L;\r\n    \tlong dateStamp = d.getTime() - (d.getTime() + 8 * h) % (24 * h);\r\n    \treturn new Date(dateStamp);\r\n    }\r\n\r\n-----------------------------\r\nFirst of all, you should be clear what is time stamp.\r\nTime stamp is the total milliseconds from Jan 01 00:00:00 1970 of GMT(same as UTC), or Thu Jan 01 08:00:00 CST 1970 to now. \r\n\r\n**Remember: Time stamp is independent of time zone.**\r\n\r\nSo you get same result with the following statement in differnt time zones:\r\n\r\n    System.out.println(new Date().getTime());\r\nAnd \r\n\r\n    System.out.println(new Date(0));\r\n\r\nprints diferent time info in different time zones:\r\nIf you set your pc time zone as UTC, you get \r\n\r\n    Thu Jan 01 00:00:00 UTC 1970\r\nBut if you set the time zone as (UTC +8:00) Beijing, Chongqing, HongKong, Urumq, you get:\r\n\r\n    Thu Jan 01 08:00:00 CST 1970\r\n\r\nJava gets the time stamp, then displays date and time info according on the time zone.\r\n\r\n\r\nFor the introduction of how Java displays date and time info in different time zones, how to trancate the time info is easy. You should get the  time stamp , and take the time zone into account when cut off the time info. Then you can create a new Date object with the cut time stamp(we can call it date stamp), java will compensate the time zone when displays date info.\r\n\r\nAs in  Eastern eight zone(Beijing time), the Beijing time is earlier 8 hours than   GMT, so you should subtract more 8 hours when you do the modulo operation. \r\nThat&#39;s to say, you should get the GMT time first, then Java will add 8 hours when display time based on your pc&#39;s time zone setting.\r\n\r\n\r\n--------------------------\r\nThe time zone issue  is obscure, and also puzzles me for a long time. Now I make it clear.\r\nHope helps.\r\n\r\n----------------------------------------------------------------------\r\n2018-01-04\r\nThe method below also works.\r\n\r\n    private Date getTruncatedDate2(Date d) {\r\n    \tCalendar cal = Calendar.getInstance(); // locale-specific\r\n    \tcal.setTime(d);\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \t\r\n\r\n    return cal.getTime();\r\n\r\n}","title":"Java Date cut off time information","body":"<p>I fixed the issue like this(in Eastern eight zone(Beijing time)):</p>\n\n<pre><code>private Date getTruncatedDate(Date d) {\n    if (d == null) {\n        return null;\n    }\n    long h = 60 * 60 * 1000L;\n    long dateStamp = d.getTime() - (d.getTime() + 8 * h) % (24 * h);\n    return new Date(dateStamp);\n}\n</code></pre>\n\n<hr>\n\n<p>First of all, you should be clear what is time stamp.\nTime stamp is the total milliseconds from Jan 01 00:00:00 1970 of GMT(same as UTC), or Thu Jan 01 08:00:00 CST 1970 to now. </p>\n\n<p><strong>Remember: Time stamp is independent of time zone.</strong></p>\n\n<p>So you get same result with the following statement in differnt time zones:</p>\n\n<pre><code>System.out.println(new Date().getTime());\n</code></pre>\n\n<p>And </p>\n\n<pre><code>System.out.println(new Date(0));\n</code></pre>\n\n<p>prints diferent time info in different time zones:\nIf you set your pc time zone as UTC, you get </p>\n\n<pre><code>Thu Jan 01 00:00:00 UTC 1970\n</code></pre>\n\n<p>But if you set the time zone as (UTC +8:00) Beijing, Chongqing, HongKong, Urumq, you get:</p>\n\n<pre><code>Thu Jan 01 08:00:00 CST 1970\n</code></pre>\n\n<p>Java gets the time stamp, then displays date and time info according on the time zone.</p>\n\n<p>For the introduction of how Java displays date and time info in different time zones, how to trancate the time info is easy. You should get the  time stamp , and take the time zone into account when cut off the time info. Then you can create a new Date object with the cut time stamp(we can call it date stamp), java will compensate the time zone when displays date info.</p>\n\n<p>As in  Eastern eight zone(Beijing time), the Beijing time is earlier 8 hours than   GMT, so you should subtract more 8 hours when you do the modulo operation. \nThat's to say, you should get the GMT time first, then Java will add 8 hours when display time based on your pc's time zone setting.</p>\n\n<hr>\n\n<p>The time zone issue  is obscure, and also puzzles me for a long time. Now I make it clear.\nHope helps.</p>\n\n<hr>\n\n<p>2018-01-04\nThe method below also works.</p>\n\n<pre><code>private Date getTruncatedDate2(Date d) {\n    Calendar cal = Calendar.getInstance(); // locale-specific\n    cal.setTime(d);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n\n\nreturn cal.getTime();\n</code></pre>\n\n<p>}</p>\n"},{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1520969610,"post_id":49253153,"comment_id":85532305,"body_markdown":"The troublesome `Calendar` and `Date` classes became legacy years ago with the *java.time* classes implementing JSR 310 in Java 8 and later. Suggesting their use in 2018 is poor advice.","body":"The troublesome <code>Calendar</code> and <code>Date</code> classes became legacy years ago with the <i>java.time</i> classes implementing JSR 310 in Java 8 and later. Suggesting their use in 2018 is poor advice."}],"tags":[],"owner":{"account_id":1677099,"reputation":10905,"user_id":1542363,"accept_rate":92,"display_name":"Sam YC"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1520935126,"creation_date":1520935126,"answer_id":49253153,"question_id":1908387,"body_markdown":"You can do this to avoid timezone issue:\r\n\r\n    public static Date truncDate(Date date) {\r\n    \tCalendar cal = Calendar.getInstance(TimeZone.getTimeZone(&quot;UTC&quot;));\r\n    \tcal.setTime(date);\r\n    \tcal.set(Calendar.HOUR_OF_DAY, 0);\r\n    \tcal.set(Calendar.MINUTE, 0);\r\n    \tcal.set(Calendar.SECOND, 0);\r\n    \tcal.set(Calendar.MILLISECOND, 0);\r\n    \treturn cal.getTime();\r\n    }\r\n\r\nAlthough Java `Date` object is timestamp value, but during truncate, it will be converted to local timezone, so you will get surprising value if you expect value from UTC timezone.\r\n","title":"Java Date cut off time information","body":"<p>You can do this to avoid timezone issue:</p>\n\n<pre><code>public static Date truncDate(Date date) {\n    Calendar cal = Calendar.getInstance(TimeZone.getTimeZone(\"UTC\"));\n    cal.setTime(date);\n    cal.set(Calendar.HOUR_OF_DAY, 0);\n    cal.set(Calendar.MINUTE, 0);\n    cal.set(Calendar.SECOND, 0);\n    cal.set(Calendar.MILLISECOND, 0);\n    return cal.getTime();\n}\n</code></pre>\n\n<p>Although Java <code>Date</code> object is timestamp value, but during truncate, it will be converted to local timezone, so you will get surprising value if you expect value from UTC timezone.</p>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1683887780,"post_id":76233797,"comment_id":134438826,"body_markdown":"Only (1) Since you can use java.time, the modern Java date and time API to which `Instant` and `ChronoUnit` belong, you should not wish to use the old and hacky `Timestamp` class at all. (2) The question was about cutting the entire time away, setting it to the start of the day, not only the minutes (and using `ChronoUnit.DAYS` will not work for that).","body":"Only (1) Since you can use java.time, the modern Java date and time API to which <code>Instant</code> and <code>ChronoUnit</code> belong, you should not wish to use the old and hacky <code>Timestamp</code> class at all. (2) The question was about cutting the entire time away, setting it to the start of the day, not only the minutes (and using <code>ChronoUnit.DAYS</code> will not work for that)."}],"tags":[],"owner":{"account_id":385199,"reputation":744,"user_id":742192,"display_name":"justCurious"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151961,"creation_date":1683874332,"answer_id":76233797,"question_id":1908387,"body_markdown":"Solution:\r\ne.g: for truncating the timestamp to minutes, use:   \r\n\r\n \r\n\r\n    Timestamp timestamp=  Timestamp.from(Instant.now());\r\n    \r\n                  Timestamp.from(timestamp.toInstant().truncatedTo(ChronoUnit.MINUTES);","title":"Java Date cut off time information","body":"<p>Solution:\ne.g: for truncating the timestamp to minutes, use:</p>\n<pre><code>Timestamp timestamp=  Timestamp.from(Instant.now());\n\n              Timestamp.from(timestamp.toInstant().truncatedTo(ChronoUnit.MINUTES);\n</code></pre>\n"}],"owner":{"account_id":574749,"reputation":2015,"user_id":219553,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":257115,"favorite_count":0,"down_vote_count":0,"up_vote_count":137,"accepted_answer_id":1908419,"answer_count":21,"score":137,"last_activity_date":1684151961,"creation_date":1260892520,"question_id":1908387,"body_markdown":"I have a Java Date object containing date and time information. I want to write a method that cuts off the time information, truncates the hours-minutes-seconds, so I only have the date left.\r\n\r\nExample input:\r\n\r\n    2008-01-01 13:15:00\r\n\r\nExpected output:\r\n\r\n    2008-01-01 00:00:00\r\n\r\nDo you have a tip? I tried doing something like this:\r\n\r\n    (timestamp / (24 * 60 * 60 * 1000)) * (24 * 60 * 60 * 1000)\r\n\r\nbut I ran into problems with the timezone.","title":"Java Date cut off time information","body":"<p>I have a Java Date object containing date and time information. I want to write a method that cuts off the time information, truncates the hours-minutes-seconds, so I only have the date left.</p>\n\n<p>Example input:</p>\n\n<pre><code>2008-01-01 13:15:00\n</code></pre>\n\n<p>Expected output:</p>\n\n<pre><code>2008-01-01 00:00:00\n</code></pre>\n\n<p>Do you have a tip? I tried doing something like this:</p>\n\n<pre><code>(timestamp / (24 * 60 * 60 * 1000)) * (24 * 60 * 60 * 1000)\n</code></pre>\n\n<p>but I ran into problems with the timezone.</p>\n"},{"tags":["java","css","javafx","fxml","hbox"],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152335,"user_id":1155209,"display_name":"jewelsea"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1684151946,"creation_date":1684127725,"answer_id":76251035,"question_id":76250960,"body_markdown":"**Why your current approach fails**\r\n\r\nLook at the [CSS documentation][1].  \r\n\r\nFor [HBox](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#hbox) \r\n\r\n&gt; Style class: empty by default\r\n\r\nFor [Label](https://stackoverflow.com/questions/76250960/cannot-style-hbox-or-vbox) \r\n\r\n&gt; Style class: label  \r\n\r\nSo there is no such style class as &quot;.hbox&quot; for a HBox unless you add one, which you have not done.\r\n\r\n**Background on CSS selectors and JavaFX**\r\n\r\nRead the section titled [&quot;CSS and the JavaFX Scene Graph&quot;](https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#introscenegraph):\r\n\r\n&gt; CSS selectors are used to match styles to scene‑graph nodes. The\r\n&gt; relationship of a Node to a CSS selector is as follows:\r\n&gt; \r\n&gt; * Node&#39;s getTypeSelector method returns a String which is analogous to a\r\n&gt; CSS Type Selector. By default, this method returns the simple name of\r\n&gt; the class. Note that the simple name of an inner class or of an\r\n&gt; anonymous class may not be usable as a type selector. In such a case,\r\n&gt; this method should be overridden to return a meaningful value. \r\n&gt; * Each\r\n&gt; node in the scene‑graph has a styleClass property. Note that a node\r\n&gt; may have more than one style‑class. A Node&#39;s styleClass is analogous\r\n&gt; to the class=&quot;...&quot; attribute that can appear on HTML elements. See\r\n&gt; Class Selectors. \r\n&gt; * Each node in the scene‑graph has an id variable, a\r\n&gt; string. This is analogous to the id=&quot;...&quot; attribute that can appear\r\n&gt; HTML elements. See ID Selectors.\r\n\r\n**Application examples**\r\n\r\nSo there are three ways you can fix this:\r\n\r\n1. Use a **type selector** in your CSS file:\r\n\r\n       HBox { &lt;css rules&gt; }\r\n\r\n2. Apply a **style class** in your CSS file:\r\n\r\n       .my-hbox-styleclass { &lt;css rules&gt; }\r\n\r\n   And in FXML write:\r\n\r\n       &lt;HBox styleClass=&quot;my-hbox-styleclass&quot;&gt;\r\n\r\n   OR in code write:\r\n\r\n       myHBox.getStyleClass().add(&quot;my-hbox-styleclass&quot;);\r\n\r\n3. Apply a **style id** in your CSS file:\r\n\r\n       #my-hbox-id { &lt;css rules&gt; }\r\n\r\n   And in FXML write:\r\n\r\n       &lt;HBox id=&quot;my-hbox-id&quot;&gt;\r\n\r\n   OR in code write:\r\n\r\n       myHBox.setId(&quot;my-hbox-id&quot;);\r\n\r\n**Selector scope differences**\r\n   \r\nThere are differences in the meaning for the standard application of each approach:\r\n\r\n 1. The **type selector** will apply to all HBox types in your UI.\r\n 2. The **class selector** will apply to anything which has the given style class applied.\r\n 3. The **id selector** is usually used for a single node in the UI, rather than a type or class of node.  It should be unique within an FXML document or scene graph tree, though this is not enforced.\r\n\r\n  [1]: https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html","title":"Cannot style hbox or vbox","body":"<p><strong>Why your current approach fails</strong></p>\n<p>Look at the <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html\" rel=\"nofollow noreferrer\">CSS documentation</a>.</p>\n<p>For <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#hbox\" rel=\"nofollow noreferrer\">HBox</a></p>\n<blockquote>\n<p>Style class: empty by default</p>\n</blockquote>\n<p>For <a href=\"https://stackoverflow.com/questions/76250960/cannot-style-hbox-or-vbox\">Label</a></p>\n<blockquote>\n<p>Style class: label</p>\n</blockquote>\n<p>So there is no such style class as &quot;.hbox&quot; for a HBox unless you add one, which you have not done.</p>\n<p><strong>Background on CSS selectors and JavaFX</strong></p>\n<p>Read the section titled <a href=\"https://openjfx.io/javadoc/20/javafx.graphics/javafx/scene/doc-files/cssref.html#introscenegraph\" rel=\"nofollow noreferrer\">&quot;CSS and the JavaFX Scene Graph&quot;</a>:</p>\n<blockquote>\n<p>CSS selectors are used to match styles to scene‑graph nodes. The\nrelationship of a Node to a CSS selector is as follows:</p>\n<ul>\n<li>Node's getTypeSelector method returns a String which is analogous to a\nCSS Type Selector. By default, this method returns the simple name of\nthe class. Note that the simple name of an inner class or of an\nanonymous class may not be usable as a type selector. In such a case,\nthis method should be overridden to return a meaningful value.</li>\n<li>Each\nnode in the scene‑graph has a styleClass property. Note that a node\nmay have more than one style‑class. A Node's styleClass is analogous\nto the class=&quot;...&quot; attribute that can appear on HTML elements. See\nClass Selectors.</li>\n<li>Each node in the scene‑graph has an id variable, a\nstring. This is analogous to the id=&quot;...&quot; attribute that can appear\nHTML elements. See ID Selectors.</li>\n</ul>\n</blockquote>\n<p><strong>Application examples</strong></p>\n<p>So there are three ways you can fix this:</p>\n<ol>\n<li><p>Use a <strong>type selector</strong> in your CSS file:</p>\n<pre><code>HBox { &lt;css rules&gt; }\n</code></pre>\n</li>\n<li><p>Apply a <strong>style class</strong> in your CSS file:</p>\n<pre><code>.my-hbox-styleclass { &lt;css rules&gt; }\n</code></pre>\n<p>And in FXML write:</p>\n<pre><code>&lt;HBox styleClass=&quot;my-hbox-styleclass&quot;&gt;\n</code></pre>\n<p>OR in code write:</p>\n<pre><code>myHBox.getStyleClass().add(&quot;my-hbox-styleclass&quot;);\n</code></pre>\n</li>\n<li><p>Apply a <strong>style id</strong> in your CSS file:</p>\n<pre><code>#my-hbox-id { &lt;css rules&gt; }\n</code></pre>\n<p>And in FXML write:</p>\n<pre><code>&lt;HBox id=&quot;my-hbox-id&quot;&gt;\n</code></pre>\n<p>OR in code write:</p>\n<pre><code>myHBox.setId(&quot;my-hbox-id&quot;);\n</code></pre>\n</li>\n</ol>\n<p><strong>Selector scope differences</strong></p>\n<p>There are differences in the meaning for the standard application of each approach:</p>\n<ol>\n<li>The <strong>type selector</strong> will apply to all HBox types in your UI.</li>\n<li>The <strong>class selector</strong> will apply to anything which has the given style class applied.</li>\n<li>The <strong>id selector</strong> is usually used for a single node in the UI, rather than a type or class of node.  It should be unique within an FXML document or scene graph tree, though this is not enforced.</li>\n</ol>\n"}],"owner":{"account_id":28602575,"reputation":21,"user_id":21899187,"display_name":"DenisShanghai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1684151946,"creation_date":1684126560,"question_id":76250960,"body_markdown":"Quite frustrating as I follow guidelines and basic tutorial. I can apply CSS styles to differnt elements but not to vbox or hbox.\r\n\r\nI have the following simple Apps creating a simple scene using a FMXL and CSS:\r\n\r\n```\r\nimport java.net.URL;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.Scene;\r\n\r\n\r\npublic class BingRen extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n    \tParent root = null;\r\n    \tFXMLLoader loader = new FXMLLoader();\r\n    \tURL xmlUrl = getClass().getResource(&quot;/BingRen.fxml&quot;);\r\n    \tloader.setLocation(xmlUrl);\r\n\t\ttry {\r\n\t\t\troot = loader.load();\r\n\t\t\tScene scene = new Scene(root,400,400);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;BingRen.css&quot;).toExternalForm());\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n```\r\n\r\nWith FXML, creating just a BordPane and 2 HBox containing one label each. Almost as simple as HellopApp :\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import java.lang.*?&gt;\r\n&lt;?import java.util.*?&gt;\r\n&lt;?import javafx.scene.*?&gt;\r\n&lt;?import javafx.scene.control.*?&gt;\r\n&lt;?import javafx.scene.layout.*?&gt;\r\n&lt;?import javafx.geometry.*?&gt;\r\n\r\n\r\n&lt;BorderPane fx:id=&quot;rootBorderPane&quot;\r\n\t\txmlns=&quot;http://javafx.com/javafx&quot;\r\n\t\txmlns:fx=&quot;http://javafx.com/fxml&quot;\r\n\t\tfx:controller=&quot;MainControler&quot;&gt;\r\n\t&lt;top&gt;\r\n\t\t&lt;HBox&gt;\r\n\t\t\t&lt;Label text=&quot;BingRen app&quot; /&gt;\r\n\t\t&lt;/HBox&gt;\r\n\t&lt;/top&gt;\r\n\t&lt;bottom&gt;\r\n\t\t&lt;HBox&gt;\r\n\t\t\t&lt;Label text=&quot;Status bar&quot; /&gt;\r\n\t\t&lt;/HBox&gt;\r\n\t&lt;/bottom&gt;\r\n\t&lt;center&gt;\r\n\t&lt;/center&gt;\r\n&lt;/BorderPane&gt;\r\n```\r\n\r\nAnd CSS to set some basic properties:\r\n\r\n```\r\n.hbox {\r\n\t-fx-background-color: #00ff00;\r\n    -fx-border-color: #00ff00;\r\n    -fx-border-width: 2px;\r\n    -fx-padding: 10;\r\n    -fx-spacing: 8;\r\n}\r\n\r\n.label {\r\n    -fx-text-fill: #0000ff;\r\n}\r\n```\r\n\r\nLabel properly turn blue but not of the hbox style are applied\r\n\r\n---\r\n\r\nIn fact none of the suggestion worked.\r\n\r\nI tried :\r\n\r\n - Change .hbox to .Hbox in css file\r\n - Make a #allbox in css file and add fx-id=&quot;allbox&quot; and fxml file\r\n\r\nFor every change, I change the color for label to ensure the new version of css is read through.\r\n\r\nLabel always change color but I never get backgroung or paddings in the Hboxes","title":"Cannot style hbox or vbox","body":"<p>Quite frustrating as I follow guidelines and basic tutorial. I can apply CSS styles to differnt elements but not to vbox or hbox.</p>\n<p>I have the following simple Apps creating a simple scene using a FMXL and CSS:</p>\n<pre><code>import java.net.URL;\n\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.stage.Stage;\nimport javafx.scene.Parent;\nimport javafx.scene.Scene;\n\n\npublic class BingRen extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        Parent root = null;\n        FXMLLoader loader = new FXMLLoader();\n        URL xmlUrl = getClass().getResource(&quot;/BingRen.fxml&quot;);\n        loader.setLocation(xmlUrl);\n        try {\n            root = loader.load();\n            Scene scene = new Scene(root,400,400);\n            scene.getStylesheets().add(getClass().getResource(&quot;BingRen.css&quot;).toExternalForm());\n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>With FXML, creating just a BordPane and 2 HBox containing one label each. Almost as simple as HellopApp :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import java.lang.*?&gt;\n&lt;?import java.util.*?&gt;\n&lt;?import javafx.scene.*?&gt;\n&lt;?import javafx.scene.control.*?&gt;\n&lt;?import javafx.scene.layout.*?&gt;\n&lt;?import javafx.geometry.*?&gt;\n\n\n&lt;BorderPane fx:id=&quot;rootBorderPane&quot;\n        xmlns=&quot;http://javafx.com/javafx&quot;\n        xmlns:fx=&quot;http://javafx.com/fxml&quot;\n        fx:controller=&quot;MainControler&quot;&gt;\n    &lt;top&gt;\n        &lt;HBox&gt;\n            &lt;Label text=&quot;BingRen app&quot; /&gt;\n        &lt;/HBox&gt;\n    &lt;/top&gt;\n    &lt;bottom&gt;\n        &lt;HBox&gt;\n            &lt;Label text=&quot;Status bar&quot; /&gt;\n        &lt;/HBox&gt;\n    &lt;/bottom&gt;\n    &lt;center&gt;\n    &lt;/center&gt;\n&lt;/BorderPane&gt;\n</code></pre>\n<p>And CSS to set some basic properties:</p>\n<pre><code>.hbox {\n    -fx-background-color: #00ff00;\n    -fx-border-color: #00ff00;\n    -fx-border-width: 2px;\n    -fx-padding: 10;\n    -fx-spacing: 8;\n}\n\n.label {\n    -fx-text-fill: #0000ff;\n}\n</code></pre>\n<p>Label properly turn blue but not of the hbox style are applied</p>\n<hr />\n<p>In fact none of the suggestion worked.</p>\n<p>I tried :</p>\n<ul>\n<li>Change .hbox to .Hbox in css file</li>\n<li>Make a #allbox in css file and add fx-id=&quot;allbox&quot; and fxml file</li>\n</ul>\n<p>For every change, I change the color for label to ensure the new version of css is read through.</p>\n<p>Label always change color but I never get backgroung or paddings in the Hboxes</p>\n"},{"tags":["java","sonarqube","sonarqube-scan","sonar-runner"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1684155625,"post_id":76253837,"comment_id":134471125,"body_markdown":"Sonar is for scanning Java source code. Java source code can&#39;t contain preprocessor conditions. Or put differently: if your source file contains preprocessor statements, then it isn&#39;t Java source code. Using preprocessors is exceedingly rare in the Java world, so you&#39;ll be hard-pressed to find many tools that support it (and most tools that handle Java source code won&#39;t consider it a bug if they don&#39;t support it).","body":"Sonar is for scanning Java source code. Java source code can&#39;t contain preprocessor conditions. Or put differently: if your source file contains preprocessor statements, then it isn&#39;t Java source code. Using preprocessors is exceedingly rare in the Java world, so you&#39;ll be hard-pressed to find many tools that support it (and most tools that handle Java source code won&#39;t consider it a bug if they don&#39;t support it)."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":0,"creation_date":1689594880,"post_id":76253837,"comment_id":135230933,"body_markdown":"Thanks for Reply @JoachimSauer. My situation is that we have single code base which supports on-prem VM and Cloud and different libraries and method signatures as part of it.  The code has Pre-processors based IF/ELSE  like  #if profile=VM  else if profile=CLOUD.  i can&#39;t remove the pre-processors as the build fails because we have single code base/class for both the logics (VM and cloud).  Is there any solution ?  Does it mean sonar doesn&#39;t support pre-processors ?","body":"Thanks for Reply @JoachimSauer. My situation is that we have single code base which supports on-prem VM and Cloud and different libraries and method signatures as part of it.  The code has Pre-processors based IF/ELSE  like  #if profile=VM  else if profile=CLOUD.  i can&#39;t remove the pre-processors as the build fails because we have single code base/class for both the logics (VM and cloud).  Is there any solution ?  Does it mean sonar doesn&#39;t support pre-processors ?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1689596553,"post_id":76253837,"comment_id":135231328,"body_markdown":"Yeah, I&#39;m pretty sure Sonar doesn&#39;t support pre-processors. The usual way to solve your kind of problem in the Java world is to design some interfaces that have different implementations based on the target platform/capability. This would mean that your entire build could be &quot;real Java&quot; and has the added benefit that switching/picking the profile at runtime becomes possible (as opposed to having to recompile to target a different profile).","body":"Yeah, I&#39;m pretty sure Sonar doesn&#39;t support pre-processors. The usual way to solve your kind of problem in the Java world is to design some interfaces that have different implementations based on the target platform/capability. This would mean that your entire build could be &quot;real Java&quot; and has the added benefit that switching/picking the profile at runtime becomes possible (as opposed to having to recompile to target a different profile)."},{"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"score":1,"creation_date":1689838808,"post_id":76253837,"comment_id":135270803,"body_markdown":"For those who ran into same issue as me : - Fortunately , i had only 2 java files which has pre-processors in my entire project. So as a workaround , i just excluded those 2 files form scan using sonar.exlclusions=&#39;**/Test.java&#39;,&#39;**/Test2.java&#39; and the scan went fine. \nHowever , i admit that whatever way @JoachimSauer suggested is good approach in longer run.","body":"For those who ran into same issue as me : - Fortunately , i had only 2 java files which has pre-processors in my entire project. So as a workaround , i just excluded those 2 files form scan using sonar.exlclusions=&#39;**/Test.java&#39;,&#39;**/Test2.java&#39; and the scan went fine.  However , i admit that whatever way @JoachimSauer suggested is good approach in longer run."}],"owner":{"account_id":2085695,"reputation":1023,"user_id":1856744,"accept_rate":4,"display_name":"Stunner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684151891,"creation_date":1684151891,"question_id":76253837,"body_markdown":"When running sonar on my java project  ,the sonar run fails because of a preprocessor usage in java code. Below is the exception\r\n\r\n  \r\n\r\n      ERROR: Error during SonarQube Scanner execution\r\n        java.lang.IllegalStateException: Can not execute Checkstyle\r\n        Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing SomeClass.java\r\n\r\nIt appears that in the java file , sonar failed to identify or ignore the pre-processor conditions \r\n\r\n    #if SOMEVAR!=&quot;abc&quot;\r\n    \r\n    #endif\r\n\r\nIs there any way to tell sonar to ignore or identify the preprocessors in java code.  I want sonar to continue with the scan.","title":"Tell Sonar to ignore or recoginze preprocessor in java","body":"<p>When running sonar on my java project  ,the sonar run fails because of a preprocessor usage in java code. Below is the exception</p>\n<pre><code>  ERROR: Error during SonarQube Scanner execution\n    java.lang.IllegalStateException: Can not execute Checkstyle\n    Caused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing SomeClass.java\n</code></pre>\n<p>It appears that in the java file , sonar failed to identify or ignore the pre-processor conditions</p>\n<pre><code>#if SOMEVAR!=&quot;abc&quot;\n\n#endif\n</code></pre>\n<p>Is there any way to tell sonar to ignore or identify the preprocessors in java code.  I want sonar to continue with the scan.</p>\n"},{"tags":["java","spring-boot","prometheus","jmx","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684152642,"post_id":76253833,"comment_id":134470382,"body_markdown":"For the application nothing changes. It all depends on the fact if you actually use JMX or not, that is the question that you need to answer yourself.","body":"For the application nothing changes. It all depends on the fact if you actually use JMX or not, that is the question that you need to answer yourself."},{"owner":{"account_id":4712117,"reputation":48,"user_id":3812323,"display_name":"kars89"},"score":0,"creation_date":1684231117,"post_id":76253833,"comment_id":134484044,"body_markdown":"@M.Deinum, I dont directly use the JMX, I wanted to know, if prometheus/actuator works  if I disable them.","body":"@M.Deinum, I dont directly use the JMX, I wanted to know, if prometheus/actuator works  if I disable them."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1684231160,"post_id":76253833,"comment_id":134484053,"body_markdown":"As stated that depends if there are other parts in your system (not necessarily your application) use JMX. Prometheus and the Actuator can work regardless of JMX. However this has been enabled for some reason, figure out that reason.","body":"As stated that depends if there are other parts in your system (not necessarily your application) use JMX. Prometheus and the Actuator can work regardless of JMX. However this has been enabled for some reason, figure out that reason."}],"owner":{"account_id":4712117,"reputation":48,"user_id":3812323,"display_name":"kars89"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684151844,"creation_date":1684151844,"question_id":76253833,"body_markdown":"I tried to browse and understand the JMX use case. But couldn&#39;t get much around it.\r\n\r\nIssue: we have the spring boot application which has the JMX ssl sniffing issue.  The JMX remote is enabled but without SSL.\r\n\r\n```\r\nJAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote\r\n    -Dcom.sun.management.jmxremote.ssl=false\r\n    -Dcom.sun.management.jmxremote.authenticate=false\r\n    -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\r\n    \r\n```\r\n\r\nThere are 2 ways to resolve them.\r\n\r\n1. One is to enable SSL\r\n\r\n2. Remove the JMX\r\n\r\nLet&#39;s say I removed the JMX params in the Java Opts, what would be the effect of this on the spring boot 2.x application?\r\n\r\nThe spring boot actuator can still expose the metrics?\r\n\r\ntried to enable the SSL, but had ran into some issues.\r\n\r\nremoved the java opts, the sniffing issue is resolved.","title":"How JMX, actuator and prometheus connected?","body":"<p>I tried to browse and understand the JMX use case. But couldn't get much around it.</p>\n<p>Issue: we have the spring boot application which has the JMX ssl sniffing issue.  The JMX remote is enabled but without SSL.</p>\n<pre><code>JAVA_OPTS=&quot;$JAVA_OPTS -Dcom.sun.management.jmxremote\n    -Dcom.sun.management.jmxremote.ssl=false\n    -Dcom.sun.management.jmxremote.authenticate=false\n    -Dcom.sun.management.jmxremote.port=$JMX_PORT&quot;\n    \n</code></pre>\n<p>There are 2 ways to resolve them.</p>\n<ol>\n<li><p>One is to enable SSL</p>\n</li>\n<li><p>Remove the JMX</p>\n</li>\n</ol>\n<p>Let's say I removed the JMX params in the Java Opts, what would be the effect of this on the spring boot 2.x application?</p>\n<p>The spring boot actuator can still expose the metrics?</p>\n<p>tried to enable the SSL, but had ran into some issues.</p>\n<p>removed the java opts, the sniffing issue is resolved.</p>\n"},{"tags":["java","python"],"answers":[{"comments":[{"owner":{"account_id":5727199,"reputation":153,"user_id":4523862,"display_name":"Ankit Veer Singh"},"score":0,"creation_date":1649681638,"post_id":20253427,"comment_id":126930599,"body_markdown":"do you really need deepcopy() here? couldn&#39;t it be done simply as `foo[0:4] = [x for x in baz[0:4]]`","body":"do you really need deepcopy() here? couldn&#39;t it be done simply as <code>foo[0:4] = [x for x in baz[0:4]]</code>"},{"owner":{"account_id":5727199,"reputation":153,"user_id":4523862,"display_name":"Ankit Veer Singh"},"score":0,"creation_date":1649682211,"post_id":20253427,"comment_id":126930848,"body_markdown":"In Python 3, range returns a lazy sequence object - it does not return a list. so need to convert foo to a list as `foo = list(range(10))`. \nelse it throws an error `TypeError: &#39;range&#39; object does not support item assignment`","body":"In Python 3, range returns a lazy sequence object - it does not return a list. so need to convert foo to a list as <code>foo = list(range(10))</code>.  else it throws an error <code>TypeError: &#39;range&#39; object does not support item assignment</code>"},{"owner":{"account_id":2708733,"reputation":36521,"user_id":2337736,"display_name":"Peter DeGlopper"},"score":0,"creation_date":1649693157,"post_id":20253427,"comment_id":126935340,"body_markdown":"True! The example is from Python 2 days - slice assignment works the same, but it&#39;s probably clearer now if I write out the example lists as literals.","body":"True! The example is from Python 2 days - slice assignment works the same, but it&#39;s probably clearer now if I write out the example lists as literals."},{"owner":{"account_id":2708733,"reputation":36521,"user_id":2337736,"display_name":"Peter DeGlopper"},"score":1,"creation_date":1649693451,"post_id":20253427,"comment_id":126935421,"body_markdown":"As for whether you need deepcopy or not - it depends what the contents of your list are! You wouldn&#39;t want to do the list comprehension as your first comment shows it, in that case slice assignment is better. But if your list contains mutable objects, you&#39;ll care a lot about whether you&#39;ve copied the _contents_ of those objects or just a reference to the original! And either slice assignment or the list comprehension copy the references rather than the contents.","body":"As for whether you need deepcopy or not - it depends what the contents of your list are! You wouldn&#39;t want to do the list comprehension as your first comment shows it, in that case slice assignment is better. But if your list contains mutable objects, you&#39;ll care a lot about whether you&#39;ve copied the <i>contents</i> of those objects or just a reference to the original! And either slice assignment or the list comprehension copy the references rather than the contents."}],"tags":[],"owner":{"account_id":2708733,"reputation":36521,"user_id":2337736,"display_name":"Peter DeGlopper"},"comment_count":4,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1649693284,"creation_date":1385587765,"answer_id":20253427,"question_id":20253391,"body_markdown":"If I follow the described behavior, slice assignment is the Pythonic way to do this:\r\n\r\n    foo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\r\n    bar = foo\r\n    baz = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\r\n    foo[0:4] = baz[0:4]\r\n\r\n    &gt;&gt;&gt; foo\r\n    [10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\r\n    &gt;&gt;&gt; bar\r\n    [10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\r\n\r\nIf the source contains object references, that will assign references to the same objects into the destination - if you want to deep copy the source data I think you&#39;d have to do something like:\r\n\r\n    foo[0:4] = [copy.deepcopy(x) for x in baz[0:4]]\r\n","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>If I follow the described behavior, slice assignment is the Pythonic way to do this:</p>\n<pre><code>foo = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]\nbar = foo\nbaz = [10, 9, 8, 7, 6, 5, 4, 3, 2, 1]\nfoo[0:4] = baz[0:4]\n\n&gt;&gt;&gt; foo\n[10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\n&gt;&gt;&gt; bar\n[10, 9, 8, 7, 4, 5, 6, 7, 8, 9]\n</code></pre>\n<p>If the source contains object references, that will assign references to the same objects into the destination - if you want to deep copy the source data I think you'd have to do something like:</p>\n<pre><code>foo[0:4] = [copy.deepcopy(x) for x in baz[0:4]]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":71043,"reputation":30960,"user_id":205521,"accept_rate":89,"display_name":"Thomas Ahle"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1385588391,"creation_date":1385587843,"answer_id":20253451,"question_id":20253391,"body_markdown":"**Update:** Peter DeGlopper&#39;s method is way better. Go for that one.\r\n\r\nSorry, this is the best you get:\r\n\r\n    def arrayCopy(src, srcPos, dest, destPos, length):\r\n        for i in range(length):\r\n            dest[i + destPos] = src[i + srcPos]","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p><strong>Update:</strong> Peter DeGlopper's method is way better. Go for that one.</p>\n\n<p>Sorry, this is the best you get:</p>\n\n<pre><code>def arrayCopy(src, srcPos, dest, destPos, length):\n    for i in range(length):\n        dest[i + destPos] = src[i + srcPos]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17206710,"reputation":1,"user_id":12457105,"display_name":"Louis Shi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1599628703,"creation_date":1599628703,"answer_id":63805170,"question_id":20253391,"body_markdown":"    def array_copy(src: bytes, src_pos: int, dest: bytes, dest_pos: int, length: int) -&gt; bytes:\r\n    return dest[:dest_pos]+src[src_pos:length]+dest[dest_pos+length:]\r\n","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<pre><code>def array_copy(src: bytes, src_pos: int, dest: bytes, dest_pos: int, length: int) -&gt; bytes:\nreturn dest[:dest_pos]+src[src_pos:length]+dest[dest_pos+length:]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8967536,"reputation":582,"user_id":6687477,"display_name":"6harat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151323,"creation_date":1684151323,"answer_id":76253760,"question_id":20253391,"body_markdown":"If in case you are using a byte-like object (which support buffer protocol), in that case you can use `memoryview`\r\n\r\n```\r\nk = [3, 4, 1, 1, 9, 7, 6]\r\nbk = bytearray(k)\r\nmk = memoryview(bk)\r\nmk.obj\r\nmk[3:5] = b&quot;hu&quot;\r\nmk.obj\r\n```\r\n\r\nthis allows for faster mutations.  \r\nread more: https://docs.python.org/3/library/stdtypes.html#memoryview","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>If in case you are using a byte-like object (which support buffer protocol), in that case you can use <code>memoryview</code></p>\n<pre><code>k = [3, 4, 1, 1, 9, 7, 6]\nbk = bytearray(k)\nmk = memoryview(bk)\nmk.obj\nmk[3:5] = b&quot;hu&quot;\nmk.obj\n</code></pre>\n<p>this allows for faster mutations.<br />\nread more: <a href=\"https://docs.python.org/3/library/stdtypes.html#memoryview\" rel=\"nofollow noreferrer\">https://docs.python.org/3/library/stdtypes.html#memoryview</a></p>\n"}],"owner":{"account_id":57869,"reputation":3260,"user_id":173355,"accept_rate":86,"display_name":"JeffHeaton"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3458,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":20253427,"answer_count":4,"score":5,"last_activity_date":1684151323,"creation_date":1385587634,"question_id":20253391,"body_markdown":"Does Python have anything like Java&#39;s System.arraycopy? I don&#39;t want to just copy the reference (shallow copy) nor do I want to slice it (deep copy w/new ref).  I want to keep the target&#39;s reference (as I have multiple variables pointing to the same list) and copy the individual cells from the source to the target.  Exactly like Java&#39;s arraycopy.  So far the only way I can find to do this in Python is to write my own.  In Java it is more performant to use System.arraycopy than rolling your own, not sure if that is the case in Python.","title":"Does Python have anything like Java&#39;s System.arraycopy?","body":"<p>Does Python have anything like Java's System.arraycopy? I don't want to just copy the reference (shallow copy) nor do I want to slice it (deep copy w/new ref).  I want to keep the target's reference (as I have multiple variables pointing to the same list) and copy the individual cells from the source to the target.  Exactly like Java's arraycopy.  So far the only way I can find to do this in Python is to write my own.  In Java it is more performant to use System.arraycopy than rolling your own, not sure if that is the case in Python.</p>\n"},{"tags":["java","maven","wsdl","cxf","wsdl2java"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":1,"creation_date":1348674522,"post_id":12605379,"comment_id":16991432,"body_markdown":"Don&#39;t define the packagename let cxf-codegen-plugin do the work.","body":"Don&#39;t define the packagename let cxf-codegen-plugin do the work."}],"answers":[{"comments":[{"owner":{"account_id":79645,"reputation":1302,"user_id":225683,"accept_rate":44,"display_name":"Gopal"},"score":3,"creation_date":1348728257,"post_id":12606266,"comment_id":17007527,"body_markdown":"thanks for the response. Can you please let me know if it is possible to specify a prefix to all the packages that are generated?","body":"thanks for the response. Can you please let me know if it is possible to specify a prefix to all the packages that are generated?"},{"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"score":0,"creation_date":1348732338,"post_id":12606266,"comment_id":17009084,"body_markdown":"What do you mean prefix for packages?","body":"What do you mean prefix for packages?"},{"owner":{"account_id":79645,"reputation":1302,"user_id":225683,"accept_rate":44,"display_name":"Gopal"},"score":0,"creation_date":1348732804,"post_id":12606266,"comment_id":17009272,"body_markdown":"@Paulius..Imagine I allow JibX to respect schema, I want all the package generated to be under a root package jibx.x.y.z. The actual problem is I have a cxf-code-gen plugin generating code using same schema. So effectively I have two classes with same package structure and name. Hence, I want to place all the classes generated by jibx under a different root.","body":"@Paulius..Imagine I allow JibX to respect schema, I want all the package generated to be under a root package jibx.x.y.z. The actual problem is I have a cxf-code-gen plugin generating code using same schema. So effectively I have two classes with same package structure and name. Hence, I want to place all the classes generated by jibx under a different root."},{"owner":{"account_id":1453271,"reputation":1303,"user_id":1369566,"accept_rate":20,"display_name":"cosmincalistru"},"score":2,"creation_date":1424456570,"post_id":12606266,"comment_id":45571152,"body_markdown":"best solution. almost worried there when it didn&#39;t work but it was because of the `/` before the `=`. The pattern is `namespace=desired_package`","body":"best solution. almost worried there when it didn&#39;t work but it was because of the <code>&#47;</code> before the <code>=</code>. The pattern is <code>namespace=desired_package</code>"}],"tags":[],"owner":{"account_id":1170165,"reputation":23155,"user_id":1147529,"accept_rate":95,"display_name":"Paulius Matulionis"},"comment_count":4,"down_vote_count":0,"up_vote_count":61,"is_accepted":true,"score":61,"last_activity_date":1350039676,"creation_date":1348676871,"answer_id":12606266,"question_id":12605379,"body_markdown":"If you want to generate package depending on the namespace here is the solution:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;generate-sources&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;sourceRoot&gt;${basedir}/target/generated/src/main/java&lt;/sourceRoot&gt;\r\n                    &lt;wsdlOptions&gt;\r\n                        &lt;wsdlOption&gt;\r\n                            &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\r\n                            &lt;extraargs&gt;\r\n                                &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;http://your.namespace/services/=your.package&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;-p&lt;/extraarg&gt;\r\n                                &lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;\r\n                            &lt;/extraargs&gt;\r\n                        &lt;/wsdlOption&gt;\r\n                    &lt;/wsdlOptions&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;wsdl2java&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;\r\n\r\nThis `&lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;` will map your namespace with the package you want.","title":"Custom package names cxf-codegen-plugin","body":"<p>If you want to generate package depending on the namespace here is the solution:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n    &lt;artifactId&gt;cxf-codegen-plugin&lt;/artifactId&gt;\n    &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;generate-sources&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;sourceRoot&gt;${basedir}/target/generated/src/main/java&lt;/sourceRoot&gt;\n                &lt;wsdlOptions&gt;\n                    &lt;wsdlOption&gt;\n                        &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\n                        &lt;extraargs&gt;\n                            &lt;extraarg&gt;-client&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                            &lt;extraarg&gt;http://your.namespace/services/=your.package&lt;/extraarg&gt;\n                            &lt;extraarg&gt;-p&lt;/extraarg&gt;\n                            &lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;\n                        &lt;/extraargs&gt;\n                    &lt;/wsdlOption&gt;\n                &lt;/wsdlOptions&gt;\n            &lt;/configuration&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;wsdl2java&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This <code>&lt;extraarg&gt;http://your.namespace2/services2/=your.package2&lt;/extraarg&gt;</code> will map your namespace with the package you want.</p>\n"},{"tags":[],"owner":{"account_id":5650328,"reputation":1113,"user_id":4471199,"display_name":"RoBeaToZ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684151187,"creation_date":1684151187,"answer_id":76253742,"question_id":12605379,"body_markdown":"You can use the `packagenames` configuration, too:\r\n\r\n```xml\r\n&lt;wsdlOption&gt;\r\n    &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\r\n    &lt;extraargs&gt;\r\n        &lt;extraarg&gt;-client&lt;/extraarg&gt;\r\n        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\r\n    &lt;/extraargs&gt;\r\n    &lt;packagenames&gt;\r\n        &lt;packagename&gt;http://your.namespace/services/=your.package&lt;/packagename&gt;\r\n        &lt;packagename&gt;http://your.namespace2/services2/=your.package2&lt;/packagename&gt;\r\n    &lt;/packagenames&gt;\r\n&lt;/wsdlOption&gt;\r\n```\r\n\r\nI use the version `3.5.5` of `cxf-codegen-plugin`","title":"Custom package names cxf-codegen-plugin","body":"<p>You can use the <code>packagenames</code> configuration, too:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;wsdlOption&gt;\n    &lt;wsdl&gt;yourWsdl.wsld&lt;/wsdl&gt;\n    &lt;extraargs&gt;\n        &lt;extraarg&gt;-client&lt;/extraarg&gt;\n        &lt;extraarg&gt;-verbose&lt;/extraarg&gt;\n    &lt;/extraargs&gt;\n    &lt;packagenames&gt;\n        &lt;packagename&gt;http://your.namespace/services/=your.package&lt;/packagename&gt;\n        &lt;packagename&gt;http://your.namespace2/services2/=your.package2&lt;/packagename&gt;\n    &lt;/packagenames&gt;\n&lt;/wsdlOption&gt;\n</code></pre>\n<p>I use the version <code>3.5.5</code> of <code>cxf-codegen-plugin</code></p>\n"}],"owner":{"account_id":79645,"reputation":1302,"user_id":225683,"accept_rate":44,"display_name":"Gopal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31990,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":12606266,"answer_count":2,"score":23,"last_activity_date":1684151187,"creation_date":1348673784,"question_id":12605379,"body_markdown":"Imagine this scenario.\r\n\r\nI have a wsdl file with namespace a/b/c and it imports another wsdl whose namespace is m/n/o.\r\nUnfortunately, both of them have same ComplexTypes XYZ defined in them. Now, when I use  cxf-codegen-plugin to generate Java code and use custom package name &quot;com.qsrs.uvw&quot;, only one class is retained in the final code that is generated. Can someone help me out here?","title":"Custom package names cxf-codegen-plugin","body":"<p>Imagine this scenario.</p>\n\n<p>I have a wsdl file with namespace a/b/c and it imports another wsdl whose namespace is m/n/o.\nUnfortunately, both of them have same ComplexTypes XYZ defined in them. Now, when I use  cxf-codegen-plugin to generate Java code and use custom package name \"com.qsrs.uvw\", only one class is retained in the final code that is generated. Can someone help me out here?</p>\n"},{"tags":["java","spring-boot","logback","syslog"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1606633725,"post_id":65057439,"comment_id":115016085,"body_markdown":"You might be looking for http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/Configurator.html","body":"You might be looking for <a href=\"http://logback.qos.ch/apidocs/ch/qos/logback/classic/spi/Configurator.html\" rel=\"nofollow noreferrer\">logback.qos.ch/apidocs/ch/qos/logback/classic/spi/&hellip;</a>"},{"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"score":1,"creation_date":1606722664,"post_id":65057439,"comment_id":115036794,"body_markdown":"Thank you for the reply. If you have any sample code to use the above, that will be very helpful.","body":"Thank you for the reply. If you have any sample code to use the above, that will be very helpful."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1606774775,"post_id":65057439,"comment_id":115059298,"body_markdown":"I&#39;ve never used it. The only reason I know it exists is because [this documentation](http://logback.qos.ch/manual/configuration.html) mentions it, though I couldn&#39;t find good examples (but maybe I missed something). If you read the Javadoc of `Configurator`, `LoggerContext`, and `Logger` (and possibly some other interfaces/classes) you should be able to work out what to do. For example, you add an appender to a logger with `Logger#addAppender(Appender)`.","body":"I&#39;ve never used it. The only reason I know it exists is because <a href=\"http://logback.qos.ch/manual/configuration.html\" rel=\"nofollow noreferrer\">this documentation</a> mentions it, though I couldn&#39;t find good examples (but maybe I missed something). If you read the Javadoc of <code>Configurator</code>, <code>LoggerContext</code>, and <code>Logger</code> (and possibly some other interfaces/classes) you should be able to work out what to do. For example, you add an appender to a logger with <code>Logger#addAppender(Appender)</code>."}],"answers":[{"comments":[{"owner":{"account_id":7421543,"reputation":2874,"user_id":5645656,"accept_rate":100,"display_name":"Cardinal System"},"score":1,"creation_date":1690484206,"post_id":65117149,"comment_id":135364098,"body_markdown":"First answer that actually works. Been looking for five hours. Thank you! +1","body":"First answer that actually works. Been looking for five hours. Thank you! +1"}],"tags":[],"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1684150297,"creation_date":1606948381,"answer_id":65117149,"question_id":65057439,"body_markdown":"Yes it is possible to configure logback programmatically, you need to extend ContextAwareBase and implement Configurator, like code below\r\n\r\n    public class MyLogbackConfigurer extends ContextAwareBase implements Configurator {\r\n        @Override\r\n        public void configure(LoggerContext lc) {\r\n            addInfo(&quot;Setting up default configuration.&quot;);\r\n    \r\n            ConsoleAppender&lt;ILoggingEvent&gt; ca = new ConsoleAppender&lt;ILoggingEvent&gt;();\r\n            ca.setContext(lc);\r\n            ca.setName(&quot;console&quot;);\r\n            LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;ILoggingEvent&gt;();\r\n            encoder.setContext(lc);\r\n    \r\n    \r\n            // same as\r\n            // PatternLayout layout = new PatternLayout();\r\n            // layout.setPattern(&quot;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;);\r\n            TTLLLayout layout = new TTLLLayout();\r\n    \r\n            layout.setContext(lc);\r\n            layout.start();\r\n            encoder.setLayout(layout);\r\n    \r\n            ca.setEncoder(encoder);\r\n            ca.start();\r\n    \r\n            FileAppender f=new FileAppender();\r\n            f.setEncoder(encoder);\r\n            f.setLayout(layout);\r\n            f.setContext(lc);\r\n            f.setFile(&quot;log.log&quot;);\r\n            f.setAppend(true);\r\n            f.setName(&quot;logFile&quot;);\r\n            f.start();\r\n    \r\n            Logger rootLogger = lc.getLogger(Logger.ROOT_LOGGER_NAME);\r\n            rootLogger.addAppender(ca);\r\n            rootLogger.addAppender(f);\r\n    \r\n    \r\n            Logger springLogger = lc.getLogger(&quot;org.springframework&quot;);\r\n            springLogger.setLevel(Level.WARN);\r\n    \r\n        }\r\n    }\r\n\r\nand you will need to create a file under **src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator** which will have the class name of your configurer. Here is my [example][1] and for the [config][2].\r\n\r\nI did not use SyslogAppender before but you can change the example I gave and you can use **System.getProperty(&quot;proName&quot;)** or **System.getenv(&quot;envName&quot;)** \r\n\r\nBefore start implementing everything from scratch, have you tried to change xml like below ?\r\n\r\n     &lt;syslogHost&gt;${SYSLOG}&lt;/syslogHost&gt;\r\n\r\nAnd run the jar like this &quot;java -jar yourjarpath.jar -DSYSLOG=localhost:8080&quot; this way you will not need to write that configure class [detailed doc][3].\r\n\r\n\r\n  [1]: https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator\r\n  [2]: https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/java/com/mascix/demo/MyLogbackConfigurer.java\r\n  [3]: http://logback.qos.ch/manual/configuration.html#variableSubstitution","title":"Is it possible to setup logback configuration programmatically?","body":"<p>Yes it is possible to configure logback programmatically, you need to extend ContextAwareBase and implement Configurator, like code below</p>\n<pre><code>public class MyLogbackConfigurer extends ContextAwareBase implements Configurator {\n    @Override\n    public void configure(LoggerContext lc) {\n        addInfo(&quot;Setting up default configuration.&quot;);\n\n        ConsoleAppender&lt;ILoggingEvent&gt; ca = new ConsoleAppender&lt;ILoggingEvent&gt;();\n        ca.setContext(lc);\n        ca.setName(&quot;console&quot;);\n        LayoutWrappingEncoder&lt;ILoggingEvent&gt; encoder = new LayoutWrappingEncoder&lt;ILoggingEvent&gt;();\n        encoder.setContext(lc);\n\n\n        // same as\n        // PatternLayout layout = new PatternLayout();\n        // layout.setPattern(&quot;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n&quot;);\n        TTLLLayout layout = new TTLLLayout();\n\n        layout.setContext(lc);\n        layout.start();\n        encoder.setLayout(layout);\n\n        ca.setEncoder(encoder);\n        ca.start();\n\n        FileAppender f=new FileAppender();\n        f.setEncoder(encoder);\n        f.setLayout(layout);\n        f.setContext(lc);\n        f.setFile(&quot;log.log&quot;);\n        f.setAppend(true);\n        f.setName(&quot;logFile&quot;);\n        f.start();\n\n        Logger rootLogger = lc.getLogger(Logger.ROOT_LOGGER_NAME);\n        rootLogger.addAppender(ca);\n        rootLogger.addAppender(f);\n\n\n        Logger springLogger = lc.getLogger(&quot;org.springframework&quot;);\n        springLogger.setLevel(Level.WARN);\n\n    }\n}\n</code></pre>\n<p>and you will need to create a file under <strong>src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator</strong> which will have the class name of your configurer. Here is my <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/resources/META-INF/services/ch.qos.logback.classic.spi.Configurator\" rel=\"nofollow noreferrer\">example</a> and for the <a href=\"https://github.com/ozkanpakdil/spring-examples/blob/master/logback-code-config/src/main/java/com/mascix/demo/MyLogbackConfigurer.java\" rel=\"nofollow noreferrer\">config</a>.</p>\n<p>I did not use SyslogAppender before but you can change the example I gave and you can use <strong>System.getProperty(&quot;proName&quot;)</strong> or <strong>System.getenv(&quot;envName&quot;)</strong></p>\n<p>Before start implementing everything from scratch, have you tried to change xml like below ?</p>\n<pre><code> &lt;syslogHost&gt;${SYSLOG}&lt;/syslogHost&gt;\n</code></pre>\n<p>And run the jar like this &quot;java -jar yourjarpath.jar -DSYSLOG=localhost:8080&quot; this way you will not need to write that configure class <a href=\"http://logback.qos.ch/manual/configuration.html#variableSubstitution\" rel=\"nofollow noreferrer\">detailed doc</a>.</p>\n"}],"owner":{"account_id":12913491,"reputation":415,"user_id":9338509,"display_name":"lakshmiravali rimmalapudi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2545,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1684150297,"creation_date":1606629418,"question_id":65057439,"body_markdown":"I am new to logback, I want configure logback programmatically. Currently I am using static configuration like below:\r\n```\r\n&lt;configuration&gt;\r\n    &lt;appender name=&quot;KIWI&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\r\n        &lt;syslogHost&gt;localhost:8080&lt;/syslogHost&gt;\r\n        &lt;facility&gt;LOCAL0&lt;/facility&gt;\r\n        &lt;suffixPattern&gt;%thread: %-5level %logger{36} - %msg%n&lt;/suffixPattern&gt;\r\n    &lt;/appender&gt;\r\n    \r\n    &lt;logger name=&quot;com.javacodegeeks.examples.logbacksyslogexample.message.kiwi&quot; level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;KIWI&quot; /&gt;\r\n    &lt;/logger&gt;\r\n&lt;/configuration&gt;\r\n```\r\nIs it possible to set the syslogHost dynamically?","title":"Is it possible to setup logback configuration programmatically?","body":"<p>I am new to logback, I want configure logback programmatically. Currently I am using static configuration like below:</p>\n<pre><code>&lt;configuration&gt;\n    &lt;appender name=&quot;KIWI&quot; class=&quot;ch.qos.logback.classic.net.SyslogAppender&quot;&gt;\n        &lt;syslogHost&gt;localhost:8080&lt;/syslogHost&gt;\n        &lt;facility&gt;LOCAL0&lt;/facility&gt;\n        &lt;suffixPattern&gt;%thread: %-5level %logger{36} - %msg%n&lt;/suffixPattern&gt;\n    &lt;/appender&gt;\n    \n    &lt;logger name=&quot;com.javacodegeeks.examples.logbacksyslogexample.message.kiwi&quot; level=&quot;INFO&quot;&gt;\n        &lt;appender-ref ref=&quot;KIWI&quot; /&gt;\n    &lt;/logger&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>Is it possible to set the syslogHost dynamically?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"score":0,"creation_date":1684139190,"post_id":76252046,"comment_id":134467457,"body_markdown":"we need to see the controller(me.jake.skriptdnd.Controller)...","body":"we need to see the controller(me.jake.skriptdnd.Controller)..."},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1684143101,"post_id":76252046,"comment_id":134468281,"body_markdown":"It has been added","body":"It has been added"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":3,"creation_date":1684151335,"post_id":76252046,"comment_id":134470043,"body_markdown":"Don&#39;t mix AWT and JavaFX unnecessarily. There is no need to use `MouseInfo` here; use the appropriate mouse event API from JavaFX. Don&#39;t use lookups to access elements defined in the FXML; use controller injection in the usual way.","body":"Don&#39;t mix AWT and JavaFX unnecessarily. There is no need to use <code>MouseInfo</code> here; use the appropriate mouse event API from JavaFX. Don&#39;t use lookups to access elements defined in the FXML; use controller injection in the usual way."},{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1684152929,"post_id":76252046,"comment_id":134470464,"body_markdown":"Could you please elaborate on what you mean with Controller Injection? @James_D","body":"Could you please elaborate on what you mean with Controller Injection? @James_D"},{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1684157597,"post_id":76252046,"comment_id":134471578,"body_markdown":"Just the usual: define fields in the controller with field names matching the `fx:id` from the FXML, and annotate them `@FXML`. Then move all the initialization code that&#39;s currently in your `Application` class (which is not where it should be) using (fragile) lookups to the controller&#39;s `initialize` method. Any basic FXML tutorial should show you how to do this.","body":"Just the usual: define fields in the controller with field names matching the <code>fx:id</code> from the FXML, and annotate them <code>@FXML</code>. Then move all the initialization code that&#39;s currently in your <code>Application</code> class (which is not where it should be) using (fragile) lookups to the controller&#39;s <code>initialize</code> method. Any basic FXML tutorial should show you how to do this."},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1684158144,"post_id":76252046,"comment_id":134471701,"body_markdown":"This is an `FXML` app, yet you got a lot going on in your `Main` class `SkriptDnD`.  The only thing it should be doing is maybe loading data and that data to your controller(s).","body":"This is an <code>FXML</code> app, yet you got a lot going on in your <code>Main</code> class <code>SkriptDnD</code>.  The only thing it should be doing is maybe loading data and that data to your controller(s)."}],"answers":[{"comments":[{"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"score":0,"creation_date":1684312652,"post_id":76253608,"comment_id":134498469,"body_markdown":"I&#39;ve implemented this into what I already had, thanks a lot!","body":"I&#39;ve implemented this into what I already had, thanks a lot!"}],"tags":[],"owner":{"account_id":9829579,"reputation":927,"user_id":7281658,"display_name":"Sarel Foyerlicht"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684150147,"creation_date":1684150147,"answer_id":76253608,"question_id":76252046,"body_markdown":"the issue is that you use Window to calculate the location.\r\nyou need to use always the same X,Y when calculating, for example if you want to do it based on the Scene\r\n\r\n    import javafx.geometry.Bounds;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.scene.layout.Region;\r\n    import javafx.stage.Window;\r\n    \r\n    import java.awt.*;\r\n    import java.util.ArrayList;\r\n    \r\n    public class DragPane extends Pane {\r\n        public Point lastValid = new Point();\r\n        public Point current = new Point();\r\n        public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\r\n        public Pane myPane;\r\n        public DragPane(boolean draggable,Pane myPane) {//get the pane to use for calculate location\r\n            this.myPane = myPane;\r\n            if (draggable) {\r\n                addEventFilter(\r\n                        MouseEvent.MOUSE_PRESSED,\r\n                        mouseEvent -&gt; {\r\n                            Bounds boundsInScene = this.localToScene(this.getBoundsInLocal());\r\n                            current.setLocation(boundsInScene.getMinX(), boundsInScene.getMinY());//use the same place always no where the click is on the shape\r\n                        }\r\n                );\r\n    \r\n                setOnMouseDragged(mouseEvent -&gt; {\r\n                    Bounds boundsInScene = myPane.localToScene(myPane.getBoundsInLocal());\r\n                    int windowX = (int) boundsInScene.getMinX();\r\n                    int windowY = (int) boundsInScene.getMinY();\r\n                    int windowWidth = (int) myPane.getWidth();\r\n                    int windowHeight = (int) myPane.getHeight();\r\n                    if(mouseEvent.getEventType() != MouseEvent.MOUSE_DRAGGED){\r\n                        return;\r\n                    }\r\n                    int mouseX = (int)mouseEvent.getSceneX() - (int) boundsInScene.getMinX();\r\n                    int mouseY = (int)mouseEvent.getSceneY() - (int) boundsInScene.getMinY();\r\n                    System.out.println(&quot;sx: &quot; + mouseEvent.getSceneX() + &quot; sy: &quot; + mouseEvent.getSceneY());\r\n                    System.out.println(&quot;x: &quot; + mouseX + &quot; y: &quot; + mouseY);\r\n                    System.out.println(&quot;cx: &quot; + current.x + &quot; cy: &quot; + current.y);\r\n                    int futureX =  mouseX;\r\n                    int futureY =  mouseY;\r\n                    if(futureX + getWidth()/2 &lt; windowX || futureX &gt; windowWidth){\r\n                        futureX = 0; //todo: take care of futureX &gt; windowWidth\r\n                    }\r\n                    if(futureY + getHeight()/2 &lt; windowY || futureY &gt; windowHeight){\r\n                        futureY = 0; //todo: take care of futureY &gt; windowHeight\r\n                    }\r\n                    Point futurePoint = new Point(futureX, futureY);\r\n                    translate(futurePoint);\r\n                    current.setLocation(futureX, futureY);\r\n                });\r\n            }\r\n        }\r\n    \r\n        public void translate(Point point) {\r\n            setTranslateX(point.x); //this is by Scene - 0 is in myPane.boundsInScene.getMinX()\r\n            setTranslateY(point.y); //this is by Scene - 0 is in myPane.boundsInScene.getMinY()\r\n        }\r\n    \r\n        public void addIntersects(Region region) {\r\n            intersects.add(region);\r\n        }\r\n    \r\n        public void clearIntersects() {\r\n            intersects.clear();\r\n        }\r\n    \r\n    }","title":"JavaFX Inaccurate Coordinates","body":"<p>the issue is that you use Window to calculate the location.\nyou need to use always the same X,Y when calculating, for example if you want to do it based on the Scene</p>\n<pre><code>import javafx.geometry.Bounds;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class DragPane extends Pane {\n    public Point lastValid = new Point();\n    public Point current = new Point();\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\n    public Pane myPane;\n    public DragPane(boolean draggable,Pane myPane) {//get the pane to use for calculate location\n        this.myPane = myPane;\n        if (draggable) {\n            addEventFilter(\n                    MouseEvent.MOUSE_PRESSED,\n                    mouseEvent -&gt; {\n                        Bounds boundsInScene = this.localToScene(this.getBoundsInLocal());\n                        current.setLocation(boundsInScene.getMinX(), boundsInScene.getMinY());//use the same place always no where the click is on the shape\n                    }\n            );\n\n            setOnMouseDragged(mouseEvent -&gt; {\n                Bounds boundsInScene = myPane.localToScene(myPane.getBoundsInLocal());\n                int windowX = (int) boundsInScene.getMinX();\n                int windowY = (int) boundsInScene.getMinY();\n                int windowWidth = (int) myPane.getWidth();\n                int windowHeight = (int) myPane.getHeight();\n                if(mouseEvent.getEventType() != MouseEvent.MOUSE_DRAGGED){\n                    return;\n                }\n                int mouseX = (int)mouseEvent.getSceneX() - (int) boundsInScene.getMinX();\n                int mouseY = (int)mouseEvent.getSceneY() - (int) boundsInScene.getMinY();\n                System.out.println(&quot;sx: &quot; + mouseEvent.getSceneX() + &quot; sy: &quot; + mouseEvent.getSceneY());\n                System.out.println(&quot;x: &quot; + mouseX + &quot; y: &quot; + mouseY);\n                System.out.println(&quot;cx: &quot; + current.x + &quot; cy: &quot; + current.y);\n                int futureX =  mouseX;\n                int futureY =  mouseY;\n                if(futureX + getWidth()/2 &lt; windowX || futureX &gt; windowWidth){\n                    futureX = 0; //todo: take care of futureX &gt; windowWidth\n                }\n                if(futureY + getHeight()/2 &lt; windowY || futureY &gt; windowHeight){\n                    futureY = 0; //todo: take care of futureY &gt; windowHeight\n                }\n                Point futurePoint = new Point(futureX, futureY);\n                translate(futurePoint);\n                current.setLocation(futureX, futureY);\n            });\n        }\n    }\n\n    public void translate(Point point) {\n        setTranslateX(point.x); //this is by Scene - 0 is in myPane.boundsInScene.getMinX()\n        setTranslateY(point.y); //this is by Scene - 0 is in myPane.boundsInScene.getMinY()\n    }\n\n    public void addIntersects(Region region) {\n        intersects.add(region);\n    }\n\n    public void clearIntersects() {\n        intersects.clear();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":28386551,"reputation":25,"user_id":21712941,"display_name":"Jake"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76253608,"answer_count":1,"score":0,"last_activity_date":1684150147,"creation_date":1684138039,"question_id":76252046,"body_markdown":"The title is a bit broad but I don&#39;t know how to describe this issue in fewer words.\r\n\r\nI&#39;m making an application in JavaFX with Scene Builder, the point of this application is to have a list of elements to choose from (whichever element you choose doesn&#39;t change anything at the moment since I&#39;ve been trying to fix this major issue along a few others) and to add to the main area in the middle by pressing the insert button, those elements are draggable once added and this is what it looks like once you add one:\r\n[![enter image description here](https://i.stack.imgur.com/Z4SbR.png)](https://i.stack.imgur.com/Z4SbR.png)\r\n\r\nThe header at the top is not part of the main area where those elements will be moved around and so I&#39;ve made a system that is supposed to stop the draggable pane from intersecting with other Regions of choice.\r\n\r\n[![enter image description here](https://i.stack.imgur.com/WKruO.png)](https://i.stack.imgur.com/WKruO.png)\r\nThe issue I&#39;m having is that this header&#39;s coordinates don&#39;t align with the shown rectangle, what I mean by that is that in the image above the draggable pane cannot go higher than that, it&#39;s stopped from doing that, but it can go and move freely within the area where the header actually is:\r\n[![enter image description here](https://i.stack.imgur.com/vUFW0.png)](https://i.stack.imgur.com/vUFW0.png)\r\n\r\n\r\n\r\n\r\n\r\nHere&#39;s the code I&#39;m using:\r\n\r\nMain Class: (This Application uses a Json api thing that I have stored in my project, remove anything that has to do with it such as the Gson Stuff for testing)\r\n```java\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.JsonArray;\r\nimport com.google.gson.JsonElement;\r\nimport com.google.gson.JsonObject;\r\nimport javafx.application.Application;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.ComboBox;\r\nimport javafx.scene.input.MouseButton;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.stage.Window;\r\n\r\nimport java.awt.*;\r\nimport java.io.IOException;\r\nimport java.io.Reader;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\nimport java.util.ArrayList;\r\nimport java.util.TreeMap;\r\n\r\npublic class SkriptDnD extends Application {\r\n    public static TreeMap&lt;String, JsonObject&gt; skriptElements = new TreeMap&lt;&gt;();\r\n    public static TreeMap&lt;String, ArrayList&lt;String&gt;&gt; skriptTypeElementNames;\r\n\r\n    TreeMap&lt;String, Color&gt; skriptTypeColors;\r\n\r\n    {\r\n        try {\r\n            skriptTypeColors = new TreeMap&lt;&gt;() {{\r\n                put(&quot;Event&quot;, Color.rgb(146, 44, 255));\r\n                put(&quot;Expression&quot;, Color.rgb(123, 250, 36));\r\n                put(&quot;Effect&quot;, Color.rgb(36, 136, 250));\r\n                put(&quot;Condition&quot;, Color.rgb(255, 52, 52));\r\n                put(&quot;Type&quot;, Color.rgb(255, 184, 30));\r\n                put(&quot;Function&quot;, Color.rgb(168, 168, 168));\r\n                put(&quot;Section&quot;, Color.rgb(104, 204, 192));\r\n            }};\r\n            Gson gson = new Gson();\r\n            Reader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/me/jake/skriptdnd/skript.json&quot;));\r\n            skriptTypeElementNames = new TreeMap&lt;&gt;();\r\n            JsonArray jsonArray = gson.fromJson(reader, JsonArray.class);\r\n            for (JsonElement element : jsonArray) {\r\n                JsonObject object = element.getAsJsonObject();\r\n                String name = object.get(&quot;title&quot;).getAsString();\r\n                skriptElements.put(name, object);\r\n                String doc = object.get(&quot;syntax_type&quot;).getAsString().toLowerCase();\r\n                if (!skriptTypeElementNames.containsKey(doc)) {\r\n                    skriptTypeElementNames.put(doc, new ArrayList&lt;&gt;());\r\n                }\r\n                skriptTypeElementNames.get(doc).add(name);\r\n            }\r\n            reader.close();\r\n        } catch (Exception exception) {\r\n            try {\r\n                throw exception;\r\n            } catch (IOException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    @Override\r\n    public void start(Stage stage) throws IOException{\r\n        try {\r\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\r\n            Scene scene = new Scene(fxmlLoader.load());\r\n\r\n            String css = getClass().getResource(&quot;SkriptDnD.css&quot;).toExternalForm();\r\n            scene.getStylesheets().add(css);\r\n\r\n            stage.setTitle(&quot;SkriptDnD&quot;);\r\n            stage.setScene(scene);\r\n            stage.setMinHeight(550);\r\n            stage.setMinWidth(800);\r\n\r\n\r\n            StackPane header = (StackPane) scene.lookup(&quot;#header&quot;);\r\n            Pane sidebar = (Pane) scene.lookup(&quot;#sidebar&quot;);\r\n\r\n\r\n            ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\r\n            ObservableList&lt;String&gt; types = typeComboBox.getItems();\r\n            types.add(&quot;All&quot;);\r\n            types.addAll(skriptTypeColors.keySet());\r\n            typeComboBox.getSelectionModel().selectFirst();\r\n\r\n            ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\r\n            elementComboBox.getItems().addAll(skriptElements.keySet());\r\n            elementComboBox.getSelectionModel().selectFirst();\r\n\r\n            Pane canvasPane = (Pane) scene.lookup(&quot;#canvasPane&quot;);\r\n            canvasPane.setOnMousePressed(mouseEvent2 -&gt; {\r\n                Point location = MouseInfo.getPointerInfo().getLocation();\r\n                int mouseX = location.x;\r\n                int mouseY = location.y;\r\n                Window window = scene.getWindow();\r\n                int windowX = (int) window.getX();\r\n                int windowY = (int) window.getY();\r\n                System.out.print(&quot;\\n&quot;+new Point(mouseX-windowX,mouseY-windowY));\r\n            });\r\n            Button insertButton = (Button) scene.lookup(&quot;#insertButton&quot;);\r\n            insertButton.setOnMousePressed(mouseEvent -&gt; {\r\n                DragPane elementPane = new DragPane(true);\r\n                elementPane.setTranslateX(300);\r\n                elementPane.setTranslateY(300);\r\n                elementPane.setPrefWidth(100);\r\n                elementPane.setPrefHeight(100);\r\n                elementPane.addIntersects(header);\r\n                System.out.print(Utils.getRectangle(header));\r\n                //elementPane.addIntersects(sidebar);\r\n                Rectangle rectangle = new Rectangle(100,100,Color.rgb(100,100,100));\r\n                rectangle.setX(0);\r\n                rectangle.setY(0);\r\n                rectangle.setArcWidth(10);\r\n                rectangle.setArcHeight(10);\r\n                elementPane.setOnMousePressed(mouseEvent12 -&gt; {\r\n                    if (mouseEvent12.getButton() == MouseButton.MIDDLE) {\r\n                        canvasPane.getChildren().remove(elementPane);\r\n                    }\r\n                });\r\n                elementPane.getChildren().add(rectangle);\r\n                canvasPane.getChildren().add(elementPane);\r\n\r\n            });\r\n            stage.show();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\n\r\nDragPane Class:\r\n```java\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.input.MouseEvent;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.Region;\r\nimport javafx.stage.Window;\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class DragPane extends Pane {\r\n    public Point lastValid = new Point();\r\n    public Point offset = new Point();\r\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\r\n\r\n    public DragPane(boolean draggable) {\r\n        if (draggable) {\r\n            addEventFilter(\r\n                    MouseEvent.MOUSE_PRESSED,\r\n                    mouseEvent -&gt; {\r\n                        Point location = MouseInfo.getPointerInfo().getLocation();\r\n                        offset.setLocation(location.x, location.y);\r\n                    }\r\n            );\r\n\r\n            setOnMouseDragged(mouseEvent -&gt; {\r\n                Node source = (Node) mouseEvent.getSource();\r\n                Scene scene = source.getScene();\r\n                Window window = scene.getWindow();\r\n                int windowX = (int) window.getX();\r\n                int windowY = (int) window.getY();\r\n                int windowWidth = (int) window.getWidth();\r\n                int windowHeight = (int) window.getHeight();\r\n                Rectangle windowRectangle = new Rectangle(windowX, windowY, windowWidth, windowHeight);\r\n                Point location = MouseInfo.getPointerInfo().getLocation();\r\n                int mouseX = location.x;\r\n                int mouseY = location.y;\r\n                Point futurePoint = new Point(mouseX - offset.x, mouseY - offset.y);\r\n                if (windowRectangle.contains(location)) {\r\n                    if (Utils.intersects(Utils.offset(this, futurePoint),intersects)) {\r\n                        translate(futurePoint);\r\n                        offset.setLocation(mouseX, mouseY);\r\n                        lastValid.setLocation(futurePoint);\r\n                    } else {\r\n                        Point lastValidXPoint = new Point(futurePoint);\r\n                        lastValidXPoint.x = lastValid.x;\r\n                        Point lastValidYPoint = new Point(futurePoint);\r\n                        lastValidYPoint.y = lastValid.y;\r\n                        if (Utils.intersects(Utils.offset(this, lastValidXPoint),intersects)) {\r\n                            translate(lastValidXPoint);\r\n                        } else if (Utils.intersects(Utils.offset(this, lastValidYPoint),intersects)) {\r\n                            translate(lastValidYPoint);\r\n                        }\r\n\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    public void translate(Point point) {\r\n        setTranslateX(getTranslateX() + point.x);\r\n        setTranslateY(getTranslateY() + point.y);\r\n    }\r\n\r\n    public void addIntersects(Region region) {\r\n        intersects.add(region);\r\n    }\r\n\r\n    public void clearIntersects() {\r\n        intersects.clear();\r\n    }\r\n\r\n}\r\n```\r\n\r\nUtils Class:\r\n```java\r\nimport javafx.scene.layout.Region;\r\n\r\nimport java.awt.*;\r\nimport java.util.ArrayList;\r\n\r\npublic class Utils {\r\n    public static Rectangle getRectangle(Region region) {\r\n        return new Rectangle((int) region.getLayoutX(), (int) region.getLayoutY(), (int) region.getWidth(), (int) region.getHeight());\r\n    }\r\n\r\n    public static Rectangle offset(Region region, Point offset) {\r\n        double x = region.getTranslateX()+offset.x;\r\n        double y = region.getTranslateY()+offset.y;\r\n        double w = region.getWidth();\r\n        double h = region.getHeight();\r\n        return new Rectangle((int) x, (int) y, (int) w, (int) h);\r\n    }\r\n\r\n    public static boolean intersects(Rectangle rectangle, ArrayList&lt;Region&gt; intersects) {\r\n        return intersects.stream().noneMatch((other) -&gt; Utils.getRectangle(other).intersects(rectangle));\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\nController Class:\r\n```java\r\nimport javafx.collections.FXCollections;\r\nimport javafx.collections.ObservableList;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.ComboBox;\r\n\r\nimport java.util.Collections;\r\nimport java.util.Objects;\r\n\r\npublic class Controller {\r\n\r\n    public void typeSelect(ActionEvent event) {\r\n        Node source = (Node) event.getSource();\r\n        Scene scene = source.getScene();\r\n        ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\r\n        ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\r\n        String selected = typeComboBox.getSelectionModel().getSelectedItem().toLowerCase();\r\n        ObservableList&lt;String&gt; list = FXCollections.observableArrayList();\r\n        if (Objects.equals(selected, &quot;all&quot;)) {\r\n            list.setAll(SkriptDnD.skriptElements.keySet().stream().toList());\r\n        } else {\r\n            list.setAll(SkriptDnD.skriptTypeElementNames.get(selected));\r\n        }\r\n        Collections.sort(list);\r\n        elementComboBox.getItems().setAll(list);\r\n        elementComboBox.getSelectionModel().selectFirst();\r\n    }\r\n\r\n    public void elementSelect(ActionEvent event) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nFXML File:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;?import javafx.geometry.Insets?&gt;\r\n&lt;?import javafx.geometry.Point3D?&gt;\r\n&lt;?import javafx.scene.control.Button?&gt;\r\n&lt;?import javafx.scene.control.ComboBox?&gt;\r\n&lt;?import javafx.scene.control.Label?&gt;\r\n&lt;?import javafx.scene.control.ToggleButton?&gt;\r\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n&lt;?import javafx.scene.layout.BorderPane?&gt;\r\n&lt;?import javafx.scene.layout.HBox?&gt;\r\n&lt;?import javafx.scene.layout.Pane?&gt;\r\n&lt;?import javafx.scene.layout.StackPane?&gt;\r\n&lt;?import javafx.scene.text.Font?&gt;\r\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\r\n\r\n&lt;AnchorPane fx:id=&quot;anchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;550.0&quot; minWidth=&quot;800.0&quot; prefHeight=&quot;550.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;me.jake.skriptdnd.Controller&quot;&gt;\r\n   &lt;children&gt;\r\n      &lt;BorderPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n         &lt;top&gt;\r\n            &lt;StackPane fx:id=&quot;header&quot; alignment=&quot;CENTER_RIGHT&quot; prefHeight=&quot;59.0&quot; prefWidth=&quot;800.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane prefHeight=&quot;59.0&quot; prefWidth=&quot;538.0&quot; style=&quot;-fx-background-color: #2c2b2b;&quot;&gt;\r\n                     &lt;rotationAxis&gt;\r\n                        &lt;Point3D /&gt;\r\n                     &lt;/rotationAxis&gt;&lt;/Pane&gt;\r\n                  &lt;Label fx:id=&quot;label1&quot; text=&quot;SkriptDnD&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; StackPane.alignment=&quot;CENTER_LEFT&quot;&gt;\r\n                     &lt;font&gt;\r\n                        &lt;Font name=&quot;Arial Bold&quot; size=&quot;18.0&quot; /&gt;\r\n                     &lt;/font&gt;\r\n                     &lt;StackPane.margin&gt;\r\n                        &lt;Insets left=&quot;40.0&quot; /&gt;\r\n                     &lt;/StackPane.margin&gt;\r\n                  &lt;/Label&gt;\r\n                  &lt;HBox alignment=&quot;CENTER_RIGHT&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;Button fx:id=&quot;insertButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Insert&quot; textOverrun=&quot;CLIP&quot;&gt;\r\n                           &lt;HBox.margin&gt;\r\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\r\n                           &lt;/HBox.margin&gt;\r\n                           &lt;font&gt;\r\n                              &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\r\n                           &lt;/font&gt;\r\n                        &lt;/Button&gt;\r\n                        &lt;ComboBox fx:id=&quot;typeComboBox&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; onAction=&quot;#typeSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Type&quot; visibleRowCount=&quot;7&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\r\n                           &lt;opaqueInsets&gt;\r\n                              &lt;Insets /&gt;\r\n                           &lt;/opaqueInsets&gt;\r\n                           &lt;HBox.margin&gt;\r\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\r\n                           &lt;/HBox.margin&gt;\r\n                        &lt;/ComboBox&gt;\r\n                        &lt;ComboBox fx:id=&quot;elementComboBox&quot; onAction=&quot;#elementSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Element&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                     &lt;opaqueInsets&gt;\r\n                        &lt;Insets /&gt;\r\n                     &lt;/opaqueInsets&gt;\r\n                     &lt;padding&gt;\r\n                        &lt;Insets right=&quot;50.0&quot; /&gt;\r\n                     &lt;/padding&gt;\r\n                  &lt;/HBox&gt;\r\n               &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n         &lt;/top&gt;\r\n         &lt;left&gt;\r\n            &lt;StackPane prefHeight=&quot;491.0&quot; prefWidth=&quot;40.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\r\n               &lt;children&gt;\r\n                  &lt;Pane fx:id=&quot;sidebar&quot; prefHeight=&quot;491.0&quot; prefWidth=&quot;34.0&quot; style=&quot;-fx-background-color: #ebebeb; -fx-border-color: #cfcece; -fx-border-style: solid; -fx-border-width: 0 1px 0 0;&quot;&gt;\r\n                     &lt;children&gt;\r\n                        &lt;ToggleButton layoutX=&quot;-3.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;38.0&quot; prefWidth=&quot;2.0&quot; style=&quot;-fx-background-color: #ebebeb;&quot; /&gt;\r\n                        &lt;FontIcon iconLiteral=&quot;far-arrow-alt-circle-right&quot; iconSize=&quot;30&quot; layoutX=&quot;5.0&quot; layoutY=&quot;30.0&quot; /&gt;\r\n                     &lt;/children&gt;\r\n                  &lt;/Pane&gt;\r\n               &lt;/children&gt;\r\n            &lt;/StackPane&gt;\r\n         &lt;/left&gt;\r\n         &lt;center&gt;\r\n            &lt;Pane fx:id=&quot;canvasPane&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\r\n         &lt;/center&gt;\r\n      &lt;/BorderPane&gt;\r\n   &lt;/children&gt;\r\n&lt;/AnchorPane&gt;\r\n```\r\n\r\nScene Builder Hierarchy + Preview:\r\n[![enter image description here](https://i.stack.imgur.com/41ZGV.png)](https://i.stack.imgur.com/41ZGV.png)","title":"JavaFX Inaccurate Coordinates","body":"<p>The title is a bit broad but I don't know how to describe this issue in fewer words.</p>\n<p>I'm making an application in JavaFX with Scene Builder, the point of this application is to have a list of elements to choose from (whichever element you choose doesn't change anything at the moment since I've been trying to fix this major issue along a few others) and to add to the main area in the middle by pressing the insert button, those elements are draggable once added and this is what it looks like once you add one:\n<a href=\"https://i.stack.imgur.com/Z4SbR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Z4SbR.png\" alt=\"enter image description here\" /></a></p>\n<p>The header at the top is not part of the main area where those elements will be moved around and so I've made a system that is supposed to stop the draggable pane from intersecting with other Regions of choice.</p>\n<p><a href=\"https://i.stack.imgur.com/WKruO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WKruO.png\" alt=\"enter image description here\" /></a>\nThe issue I'm having is that this header's coordinates don't align with the shown rectangle, what I mean by that is that in the image above the draggable pane cannot go higher than that, it's stopped from doing that, but it can go and move freely within the area where the header actually is:\n<a href=\"https://i.stack.imgur.com/vUFW0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUFW0.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the code I'm using:</p>\n<p>Main Class: (This Application uses a Json api thing that I have stored in my project, remove anything that has to do with it such as the Gson Stuff for testing)</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.google.gson.Gson;\nimport com.google.gson.JsonArray;\nimport com.google.gson.JsonElement;\nimport com.google.gson.JsonObject;\nimport javafx.application.Application;\nimport javafx.collections.ObservableList;\nimport javafx.fxml.FXMLLoader;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.ComboBox;\nimport javafx.scene.input.MouseButton;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.util.ArrayList;\nimport java.util.TreeMap;\n\npublic class SkriptDnD extends Application {\n    public static TreeMap&lt;String, JsonObject&gt; skriptElements = new TreeMap&lt;&gt;();\n    public static TreeMap&lt;String, ArrayList&lt;String&gt;&gt; skriptTypeElementNames;\n\n    TreeMap&lt;String, Color&gt; skriptTypeColors;\n\n    {\n        try {\n            skriptTypeColors = new TreeMap&lt;&gt;() {{\n                put(&quot;Event&quot;, Color.rgb(146, 44, 255));\n                put(&quot;Expression&quot;, Color.rgb(123, 250, 36));\n                put(&quot;Effect&quot;, Color.rgb(36, 136, 250));\n                put(&quot;Condition&quot;, Color.rgb(255, 52, 52));\n                put(&quot;Type&quot;, Color.rgb(255, 184, 30));\n                put(&quot;Function&quot;, Color.rgb(168, 168, 168));\n                put(&quot;Section&quot;, Color.rgb(104, 204, 192));\n            }};\n            Gson gson = new Gson();\n            Reader reader = Files.newBufferedReader(Paths.get(&quot;src/main/resources/me/jake/skriptdnd/skript.json&quot;));\n            skriptTypeElementNames = new TreeMap&lt;&gt;();\n            JsonArray jsonArray = gson.fromJson(reader, JsonArray.class);\n            for (JsonElement element : jsonArray) {\n                JsonObject object = element.getAsJsonObject();\n                String name = object.get(&quot;title&quot;).getAsString();\n                skriptElements.put(name, object);\n                String doc = object.get(&quot;syntax_type&quot;).getAsString().toLowerCase();\n                if (!skriptTypeElementNames.containsKey(doc)) {\n                    skriptTypeElementNames.put(doc, new ArrayList&lt;&gt;());\n                }\n                skriptTypeElementNames.get(doc).add(name);\n            }\n            reader.close();\n        } catch (Exception exception) {\n            try {\n                throw exception;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    @SuppressWarnings(&quot;unchecked&quot;)\n    @Override\n    public void start(Stage stage) throws IOException{\n        try {\n            FXMLLoader fxmlLoader = new FXMLLoader(getClass().getResource(&quot;Main.fxml&quot;));\n            Scene scene = new Scene(fxmlLoader.load());\n\n            String css = getClass().getResource(&quot;SkriptDnD.css&quot;).toExternalForm();\n            scene.getStylesheets().add(css);\n\n            stage.setTitle(&quot;SkriptDnD&quot;);\n            stage.setScene(scene);\n            stage.setMinHeight(550);\n            stage.setMinWidth(800);\n\n\n            StackPane header = (StackPane) scene.lookup(&quot;#header&quot;);\n            Pane sidebar = (Pane) scene.lookup(&quot;#sidebar&quot;);\n\n\n            ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\n            ObservableList&lt;String&gt; types = typeComboBox.getItems();\n            types.add(&quot;All&quot;);\n            types.addAll(skriptTypeColors.keySet());\n            typeComboBox.getSelectionModel().selectFirst();\n\n            ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\n            elementComboBox.getItems().addAll(skriptElements.keySet());\n            elementComboBox.getSelectionModel().selectFirst();\n\n            Pane canvasPane = (Pane) scene.lookup(&quot;#canvasPane&quot;);\n            canvasPane.setOnMousePressed(mouseEvent2 -&gt; {\n                Point location = MouseInfo.getPointerInfo().getLocation();\n                int mouseX = location.x;\n                int mouseY = location.y;\n                Window window = scene.getWindow();\n                int windowX = (int) window.getX();\n                int windowY = (int) window.getY();\n                System.out.print(&quot;\\n&quot;+new Point(mouseX-windowX,mouseY-windowY));\n            });\n            Button insertButton = (Button) scene.lookup(&quot;#insertButton&quot;);\n            insertButton.setOnMousePressed(mouseEvent -&gt; {\n                DragPane elementPane = new DragPane(true);\n                elementPane.setTranslateX(300);\n                elementPane.setTranslateY(300);\n                elementPane.setPrefWidth(100);\n                elementPane.setPrefHeight(100);\n                elementPane.addIntersects(header);\n                System.out.print(Utils.getRectangle(header));\n                //elementPane.addIntersects(sidebar);\n                Rectangle rectangle = new Rectangle(100,100,Color.rgb(100,100,100));\n                rectangle.setX(0);\n                rectangle.setY(0);\n                rectangle.setArcWidth(10);\n                rectangle.setArcHeight(10);\n                elementPane.setOnMousePressed(mouseEvent12 -&gt; {\n                    if (mouseEvent12.getButton() == MouseButton.MIDDLE) {\n                        canvasPane.getChildren().remove(elementPane);\n                    }\n                });\n                elementPane.getChildren().add(rectangle);\n                canvasPane.getChildren().add(elementPane);\n\n            });\n            stage.show();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>DragPane Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.Region;\nimport javafx.stage.Window;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class DragPane extends Pane {\n    public Point lastValid = new Point();\n    public Point offset = new Point();\n    public ArrayList&lt;Region&gt; intersects = new ArrayList&lt;&gt;();\n\n    public DragPane(boolean draggable) {\n        if (draggable) {\n            addEventFilter(\n                    MouseEvent.MOUSE_PRESSED,\n                    mouseEvent -&gt; {\n                        Point location = MouseInfo.getPointerInfo().getLocation();\n                        offset.setLocation(location.x, location.y);\n                    }\n            );\n\n            setOnMouseDragged(mouseEvent -&gt; {\n                Node source = (Node) mouseEvent.getSource();\n                Scene scene = source.getScene();\n                Window window = scene.getWindow();\n                int windowX = (int) window.getX();\n                int windowY = (int) window.getY();\n                int windowWidth = (int) window.getWidth();\n                int windowHeight = (int) window.getHeight();\n                Rectangle windowRectangle = new Rectangle(windowX, windowY, windowWidth, windowHeight);\n                Point location = MouseInfo.getPointerInfo().getLocation();\n                int mouseX = location.x;\n                int mouseY = location.y;\n                Point futurePoint = new Point(mouseX - offset.x, mouseY - offset.y);\n                if (windowRectangle.contains(location)) {\n                    if (Utils.intersects(Utils.offset(this, futurePoint),intersects)) {\n                        translate(futurePoint);\n                        offset.setLocation(mouseX, mouseY);\n                        lastValid.setLocation(futurePoint);\n                    } else {\n                        Point lastValidXPoint = new Point(futurePoint);\n                        lastValidXPoint.x = lastValid.x;\n                        Point lastValidYPoint = new Point(futurePoint);\n                        lastValidYPoint.y = lastValid.y;\n                        if (Utils.intersects(Utils.offset(this, lastValidXPoint),intersects)) {\n                            translate(lastValidXPoint);\n                        } else if (Utils.intersects(Utils.offset(this, lastValidYPoint),intersects)) {\n                            translate(lastValidYPoint);\n                        }\n\n                    }\n                }\n            });\n        }\n    }\n\n    public void translate(Point point) {\n        setTranslateX(getTranslateX() + point.x);\n        setTranslateY(getTranslateY() + point.y);\n    }\n\n    public void addIntersects(Region region) {\n        intersects.add(region);\n    }\n\n    public void clearIntersects() {\n        intersects.clear();\n    }\n\n}\n</code></pre>\n<p>Utils Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.scene.layout.Region;\n\nimport java.awt.*;\nimport java.util.ArrayList;\n\npublic class Utils {\n    public static Rectangle getRectangle(Region region) {\n        return new Rectangle((int) region.getLayoutX(), (int) region.getLayoutY(), (int) region.getWidth(), (int) region.getHeight());\n    }\n\n    public static Rectangle offset(Region region, Point offset) {\n        double x = region.getTranslateX()+offset.x;\n        double y = region.getTranslateY()+offset.y;\n        double w = region.getWidth();\n        double h = region.getHeight();\n        return new Rectangle((int) x, (int) y, (int) w, (int) h);\n    }\n\n    public static boolean intersects(Rectangle rectangle, ArrayList&lt;Region&gt; intersects) {\n        return intersects.stream().noneMatch((other) -&gt; Utils.getRectangle(other).intersects(rectangle));\n    }\n\n}\n</code></pre>\n<p>Controller Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javafx.collections.FXCollections;\nimport javafx.collections.ObservableList;\nimport javafx.event.ActionEvent;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.ComboBox;\n\nimport java.util.Collections;\nimport java.util.Objects;\n\npublic class Controller {\n\n    public void typeSelect(ActionEvent event) {\n        Node source = (Node) event.getSource();\n        Scene scene = source.getScene();\n        ComboBox&lt;String&gt; typeComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#typeComboBox&quot;);\n        ComboBox&lt;String&gt; elementComboBox = (ComboBox&lt;String&gt;) scene.lookup(&quot;#elementComboBox&quot;);\n        String selected = typeComboBox.getSelectionModel().getSelectedItem().toLowerCase();\n        ObservableList&lt;String&gt; list = FXCollections.observableArrayList();\n        if (Objects.equals(selected, &quot;all&quot;)) {\n            list.setAll(SkriptDnD.skriptElements.keySet().stream().toList());\n        } else {\n            list.setAll(SkriptDnD.skriptTypeElementNames.get(selected));\n        }\n        Collections.sort(list);\n        elementComboBox.getItems().setAll(list);\n        elementComboBox.getSelectionModel().selectFirst();\n    }\n\n    public void elementSelect(ActionEvent event) {\n\n    }\n}\n</code></pre>\n<p>FXML File:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.geometry.Point3D?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ComboBox?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.control.ToggleButton?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.BorderPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.StackPane?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n&lt;?import org.kordamp.ikonli.javafx.FontIcon?&gt;\n\n&lt;AnchorPane fx:id=&quot;anchorPane&quot; maxHeight=&quot;-Infinity&quot; maxWidth=&quot;-Infinity&quot; minHeight=&quot;550.0&quot; minWidth=&quot;800.0&quot; prefHeight=&quot;550.0&quot; prefWidth=&quot;800.0&quot; xmlns=&quot;http://javafx.com/javafx/19&quot; xmlns:fx=&quot;http://javafx.com/fxml/1&quot; fx:controller=&quot;me.jake.skriptdnd.Controller&quot;&gt;\n   &lt;children&gt;\n      &lt;BorderPane prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;top&gt;\n            &lt;StackPane fx:id=&quot;header&quot; alignment=&quot;CENTER_RIGHT&quot; prefHeight=&quot;59.0&quot; prefWidth=&quot;800.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane prefHeight=&quot;59.0&quot; prefWidth=&quot;538.0&quot; style=&quot;-fx-background-color: #2c2b2b;&quot;&gt;\n                     &lt;rotationAxis&gt;\n                        &lt;Point3D /&gt;\n                     &lt;/rotationAxis&gt;&lt;/Pane&gt;\n                  &lt;Label fx:id=&quot;label1&quot; text=&quot;SkriptDnD&quot; textAlignment=&quot;CENTER&quot; textFill=&quot;WHITE&quot; wrapText=&quot;true&quot; StackPane.alignment=&quot;CENTER_LEFT&quot;&gt;\n                     &lt;font&gt;\n                        &lt;Font name=&quot;Arial Bold&quot; size=&quot;18.0&quot; /&gt;\n                     &lt;/font&gt;\n                     &lt;StackPane.margin&gt;\n                        &lt;Insets left=&quot;40.0&quot; /&gt;\n                     &lt;/StackPane.margin&gt;\n                  &lt;/Label&gt;\n                  &lt;HBox alignment=&quot;CENTER_RIGHT&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot;&gt;\n                     &lt;children&gt;\n                        &lt;Button fx:id=&quot;insertButton&quot; mnemonicParsing=&quot;false&quot; text=&quot;Insert&quot; textOverrun=&quot;CLIP&quot;&gt;\n                           &lt;HBox.margin&gt;\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\n                           &lt;/HBox.margin&gt;\n                           &lt;font&gt;\n                              &lt;Font name=&quot;Arial Bold&quot; size=&quot;12.0&quot; /&gt;\n                           &lt;/font&gt;\n                        &lt;/Button&gt;\n                        &lt;ComboBox fx:id=&quot;typeComboBox&quot; nodeOrientation=&quot;LEFT_TO_RIGHT&quot; onAction=&quot;#typeSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Type&quot; visibleRowCount=&quot;7&quot; HBox.hgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;opaqueInsets&gt;\n                              &lt;Insets /&gt;\n                           &lt;/opaqueInsets&gt;\n                           &lt;HBox.margin&gt;\n                              &lt;Insets right=&quot;20.0&quot; /&gt;\n                           &lt;/HBox.margin&gt;\n                        &lt;/ComboBox&gt;\n                        &lt;ComboBox fx:id=&quot;elementComboBox&quot; onAction=&quot;#elementSelect&quot; prefHeight=&quot;17.0&quot; prefWidth=&quot;150.0&quot; promptText=&quot;Element&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\n                     &lt;/children&gt;\n                     &lt;opaqueInsets&gt;\n                        &lt;Insets /&gt;\n                     &lt;/opaqueInsets&gt;\n                     &lt;padding&gt;\n                        &lt;Insets right=&quot;50.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/HBox&gt;\n               &lt;/children&gt;\n            &lt;/StackPane&gt;\n         &lt;/top&gt;\n         &lt;left&gt;\n            &lt;StackPane prefHeight=&quot;491.0&quot; prefWidth=&quot;40.0&quot; BorderPane.alignment=&quot;CENTER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane fx:id=&quot;sidebar&quot; prefHeight=&quot;491.0&quot; prefWidth=&quot;34.0&quot; style=&quot;-fx-background-color: #ebebeb; -fx-border-color: #cfcece; -fx-border-style: solid; -fx-border-width: 0 1px 0 0;&quot;&gt;\n                     &lt;children&gt;\n                        &lt;ToggleButton layoutX=&quot;-3.0&quot; mnemonicParsing=&quot;false&quot; prefHeight=&quot;38.0&quot; prefWidth=&quot;2.0&quot; style=&quot;-fx-background-color: #ebebeb;&quot; /&gt;\n                        &lt;FontIcon iconLiteral=&quot;far-arrow-alt-circle-right&quot; iconSize=&quot;30&quot; layoutX=&quot;5.0&quot; layoutY=&quot;30.0&quot; /&gt;\n                     &lt;/children&gt;\n                  &lt;/Pane&gt;\n               &lt;/children&gt;\n            &lt;/StackPane&gt;\n         &lt;/left&gt;\n         &lt;center&gt;\n            &lt;Pane fx:id=&quot;canvasPane&quot; BorderPane.alignment=&quot;CENTER&quot; /&gt;\n         &lt;/center&gt;\n      &lt;/BorderPane&gt;\n   &lt;/children&gt;\n&lt;/AnchorPane&gt;\n</code></pre>\n<p>Scene Builder Hierarchy + Preview:\n<a href=\"https://i.stack.imgur.com/41ZGV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/41ZGV.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate","lazy-loading","jhipster"],"comments":[{"owner":{"account_id":113908,"reputation":3110,"user_id":299787,"display_name":"Redlab"},"score":0,"creation_date":1485430053,"post_id":41872327,"comment_id":70926509,"body_markdown":"Is it not due to `@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE) ` that allows a tiny window where cache and database will be out of sync ?","body":"Is it not due to <code>@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE) </code> that allows a tiny window where cache and database will be out of sync ?"},{"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"score":0,"creation_date":1485430519,"post_id":41872327,"comment_id":70926738,"body_markdown":"I deleted this lines (in parent and in child entities), but result the same","body":"I deleted this lines (in parent and in child entities), but result the same"},{"owner":{"account_id":322284,"reputation":16565,"user_id":641627,"display_name":"alexbt"},"score":0,"creation_date":1485432770,"post_id":41872327,"comment_id":70927941,"body_markdown":"As we can see from the stacktrace `msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)` =&gt; `getPassport` is called after your delete. We just need the complete stacktrace to see where the call is coming from..","body":"As we can see from the stacktrace <code>msd.keeper.web.rest.passport.PassportResource.getPassport(Pa&zwnj;&#8203;ssportResource.java:&zwnj;&#8203;239)</code> =&gt; <code>getPassport</code> is called after your delete. We just need the complete stacktrace to see where the call is coming from.."},{"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"score":0,"creation_date":1485433790,"post_id":41872327,"comment_id":70928478,"body_markdown":"I added stacktrace. I found that after i turn off second level cache (hibernate.cache.use_second_level_cache: false) lazy initialization work without exception","body":"I added stacktrace. I found that after i turn off second level cache (hibernate.cache.use_second_level_cache: false) lazy initialization work without exception"},{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1485434956,"post_id":41872327,"comment_id":70929137,"body_markdown":"So the basic problem description then is that the delete action does not clear the entry from the cache.","body":"So the basic problem description then is that the delete action does not clear the entry from the cache."}],"answers":[{"tags":[],"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1485525833,"creation_date":1485525833,"answer_id":41895784,"question_id":41872327,"body_markdown":"I solved this problem this way:\r\n\r\nI remove parent collection cache in child controller functions\r\n\r\nExamples:\r\n\r\n    @DeleteMapping(&quot;/slaves/{id}&quot;)\r\n    @Transactional\r\n    @Timed\r\n    public ResponseEntity&lt;Void&gt; deleteSlave(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to delete Slave : {}&quot;, id);\r\n        Slave slave = slaveRepository.getOne(id);\r\n        Cache c = cacheManager.getCache(&quot;test.domain.Master.slaves&quot;);\r\n        if (c != null) {\r\n            c.removeAll();\r\n        }\r\n        slaveRepository.delete(id);\r\n\r\n        return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(&quot;slave&quot;, id.toString())).build();\r\n    }\r\n\r\nor\r\n\r\n    @PostMapping(&quot;/slaves&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;Slave&gt; createSlave(@RequestBody Slave slave) throws URISyntaxException {\r\n        log.debug(&quot;REST request to save Slave : {}&quot;, slave);\r\n        if (slave.getId() != null) {\r\n            return ResponseEntity.badRequest().headers(HeaderUtil.createFailureAlert(&quot;slave&quot;, &quot;idexists&quot;, &quot;A new slave cannot already have an ID&quot;)).body(null);\r\n        }\r\n        Slave result = slaveRepository.save(slave);\r\n        Cache c = cacheManager.getCache(&quot;test.domain.Master.slaves&quot;);\r\n        if (c != null) {\r\n            c.removeAll();\r\n        }\r\n        return ResponseEntity.created(new URI(&quot;/api/slaves/&quot; + result.getId()))\r\n            .headers(HeaderUtil.createEntityCreationAlert(&quot;slave&quot;, result.getId().toString()))\r\n            .body(result);\r\n    }\r\n\r\nAnd method `Hibernate.initialize(master.getSlaves());` work without exception and with changes in child controller actions","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I solved this problem this way:</p>\n\n<p>I remove parent collection cache in child controller functions</p>\n\n<p>Examples:</p>\n\n<pre><code>@DeleteMapping(\"/slaves/{id}\")\n@Transactional\n@Timed\npublic ResponseEntity&lt;Void&gt; deleteSlave(@PathVariable Long id) {\n    log.debug(\"REST request to delete Slave : {}\", id);\n    Slave slave = slaveRepository.getOne(id);\n    Cache c = cacheManager.getCache(\"test.domain.Master.slaves\");\n    if (c != null) {\n        c.removeAll();\n    }\n    slaveRepository.delete(id);\n\n    return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(\"slave\", id.toString())).build();\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>@PostMapping(\"/slaves\")\n@Timed\npublic ResponseEntity&lt;Slave&gt; createSlave(@RequestBody Slave slave) throws URISyntaxException {\n    log.debug(\"REST request to save Slave : {}\", slave);\n    if (slave.getId() != null) {\n        return ResponseEntity.badRequest().headers(HeaderUtil.createFailureAlert(\"slave\", \"idexists\", \"A new slave cannot already have an ID\")).body(null);\n    }\n    Slave result = slaveRepository.save(slave);\n    Cache c = cacheManager.getCache(\"test.domain.Master.slaves\");\n    if (c != null) {\n        c.removeAll();\n    }\n    return ResponseEntity.created(new URI(\"/api/slaves/\" + result.getId()))\n        .headers(HeaderUtil.createEntityCreationAlert(\"slave\", result.getId().toString()))\n        .body(result);\n}\n</code></pre>\n\n<p>And method <code>Hibernate.initialize(master.getSlaves());</code> work without exception and with changes in child controller actions</p>\n"},{"tags":[],"owner":{"account_id":28496116,"reputation":31,"user_id":21807988,"display_name":"Radu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684149920,"creation_date":1684149920,"answer_id":76253578,"question_id":41872327,"body_markdown":"I found that you can remove the cached invalid entry from the &lt;b&gt;@OneToMany&lt;/b&gt; list using &lt;b&gt;DefaultDeleteEventListener&lt;/b&gt;.\r\n\r\n```\r\n@Component\r\npublic class DeleteListener extends DefaultDeleteEventListener {\r\n\r\n    @Override\r\n    public void onDelete(DeleteEvent event) throws HibernateException {\r\n        super.onDelete(event);\r\n\r\n        Object entity = event.getObject();\r\n        if (entity instanceof PassportRow passportRow) {\r\n            Passport passport = passportRow.getPassport();\r\n            passport.getPassportRows().remove(passportRow);\r\n        }\r\n    }\r\n}\r\n```\r\nRegister the listener like this:\r\n\r\n```\r\n@Component\r\npublic class EntityEventListenerRegistry {\r\n\r\n    @PersistenceUnit\r\n    private EntityManagerFactory emf;\r\n\r\n    private final DefaultDeleteEventListener defaultDeleteEventListener;\r\n\r\n    public EntityEventListenerRegistry(DefaultDeleteEventListener defaultDeleteEventListener) {\r\n        this.defaultDeleteEventListener = defaultDeleteEventListener;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void registerListeners() {\r\n        SessionFactoryImpl sessionFactory = emf.unwrap(SessionFactoryImpl.class);\r\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\r\n        registry.getEventListenerGroup(EventType.DELETE).appendListener(defaultDeleteEventListener);\r\n    }\r\n}\r\n```","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I found that you can remove the cached invalid entry from the <b>@OneToMany</b> list using <b>DefaultDeleteEventListener</b>.</p>\n<pre><code>@Component\npublic class DeleteListener extends DefaultDeleteEventListener {\n\n    @Override\n    public void onDelete(DeleteEvent event) throws HibernateException {\n        super.onDelete(event);\n\n        Object entity = event.getObject();\n        if (entity instanceof PassportRow passportRow) {\n            Passport passport = passportRow.getPassport();\n            passport.getPassportRows().remove(passportRow);\n        }\n    }\n}\n</code></pre>\n<p>Register the listener like this:</p>\n<pre><code>@Component\npublic class EntityEventListenerRegistry {\n\n    @PersistenceUnit\n    private EntityManagerFactory emf;\n\n    private final DefaultDeleteEventListener defaultDeleteEventListener;\n\n    public EntityEventListenerRegistry(DefaultDeleteEventListener defaultDeleteEventListener) {\n        this.defaultDeleteEventListener = defaultDeleteEventListener;\n    }\n\n    @PostConstruct\n    public void registerListeners() {\n        SessionFactoryImpl sessionFactory = emf.unwrap(SessionFactoryImpl.class);\n        EventListenerRegistry registry = sessionFactory.getServiceRegistry().getService(EventListenerRegistry.class);\n        registry.getEventListenerGroup(EventType.DELETE).appendListener(defaultDeleteEventListener);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2149491,"reputation":137,"user_id":1906311,"display_name":"filatvital"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41895784,"answer_count":2,"score":3,"last_activity_date":1684149920,"creation_date":1485429557,"question_id":41872327,"body_markdown":"I have javax.persistence.EntityNotFoundException when i delete child entity from child recource controller\r\n\r\n\r\nParent entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;passport&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class Passport implements Serializable {\r\n         //@NotFound(action = NotFoundAction.IGNORE)\r\n         @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;passport&quot;,orphanRemoval = true)\r\n         @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n         @JsonIgnoreProperties(value=&quot;passport&quot;, allowSetters=true)\r\n         private List&lt;PassportRow&gt; passportRows = new ArrayList&lt;&gt;();\r\n         ...\r\n    }\r\n\r\nChild entity\r\n\r\n    @Entity\r\n    @Table(name = &quot;passport_row&quot;)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    public class PassportRow implements Serializable {\r\n\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;passport_id&quot;)\r\n        @JsonIgnoreProperties(value=&quot;passportRows&quot;, allowSetters=true)\r\n        @NotNull\r\n        private Passport passport = new Passport();\r\n        ...\r\n     }\r\n\r\n\r\nAfter deleting child entity in controller through repository\r\n\r\n    @DeleteMapping(&quot;/passport-rows/{id}&quot;)\r\n    @Transactional\r\n    @Timed\r\n    public ResponseEntity&lt;Void&gt; deletePassportRow(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to delete PassportRow : {}&quot;, id);\r\n        passportRowRepository.delete(id);\r\n        return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(&quot;passportRow&quot;, id.toString())).build();\r\n    }\r\n\r\nAnd initialize lazy collection in GET controller\r\n\r\n    @Transactional\r\n    @GetMapping(&quot;/passports/{id}&quot;)\r\n    @Timed\r\n    public ResponseEntity&lt;Passport&gt; getPassport(@PathVariable Long id) {\r\n        log.debug(&quot;REST request to get Passport : {}&quot;, id);\r\n        Passport passport = passportRepository.findOne(id);\r\n\r\n        if (passport != null)\r\n            Hibernate.initialize(passport.getPassportRows());\r\n    ...\r\n\r\nI have javax.persistence.EntityNotFoundException\r\n\r\n    javax.persistence.EntityNotFoundException: Unable to find msd.keeper.domain.passport.PassportRow with id 1127\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:155)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\r\n\tat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\r\n\tat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219)\r\n\tat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1102)\r\n\tat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:646)\r\n\tat org.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:266)\r\n\tat org.hibernate.collection.internal.PersistentBag.initializeFromCache(PersistentBag.java:176)\r\n\tat org.hibernate.cache.spi.entry.CollectionCacheEntry.assemble(CollectionCacheEntry.java:58)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.initializeCollectionFromCache(DefaultInitializeCollectionEventListener.java:144)\r\n\tat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:59)\r\n\tat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2151)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:565)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:247)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:561)\r\n\tat org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:729)\r\n\tat org.hibernate.Hibernate.initialize(Hibernate.java:64)\r\n\tat msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)\r\n\tat msd.keeper.web.rest.passport.PassportResource$$FastClassBySpringCGLIB$$7f42bf08.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n\tat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\r\n\tat msd.keeper.aop.logging.LoggingAspect.logAround(LoggingAspect.java:64)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\r\n\tat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\r\n\tat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\r\n\tat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\r\n\tat com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\r\n\tat msd.keeper.web.rest.passport.PassportResource$$EnhancerBySpringCGLIB$$6a1ec50c.getPassport(&lt;generated&gt;)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:497)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\r\n\tat com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:104)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\r\n\tat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\nWhen i turn off second level cache lazy loading work without exception \r\n\r\n    jpa:\r\n        properties:\r\n            hibernate.cache.use_second_level_cache: false\r\n\r\nI use Jhipster application on spring-boot-starter-parent 1.4.2.RELEASE. Hibernate version 5.2.4.Final\r\n\r\nHow i can correctly delete my child entity? ","title":"JHipster. Second level cache. EntityNotFoundException","body":"<p>I have javax.persistence.EntityNotFoundException when i delete child entity from child recource controller</p>\n\n<p>Parent entity</p>\n\n<pre><code>@Entity\n@Table(name = \"passport\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class Passport implements Serializable {\n     //@NotFound(action = NotFoundAction.IGNORE)\n     @OneToMany(fetch = FetchType.LAZY, mappedBy = \"passport\",orphanRemoval = true)\n     @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n     @JsonIgnoreProperties(value=\"passport\", allowSetters=true)\n     private List&lt;PassportRow&gt; passportRows = new ArrayList&lt;&gt;();\n     ...\n}\n</code></pre>\n\n<p>Child entity</p>\n\n<pre><code>@Entity\n@Table(name = \"passport_row\")\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\npublic class PassportRow implements Serializable {\n\n    @ManyToOne\n    @JoinColumn(name = \"passport_id\")\n    @JsonIgnoreProperties(value=\"passportRows\", allowSetters=true)\n    @NotNull\n    private Passport passport = new Passport();\n    ...\n }\n</code></pre>\n\n<p>After deleting child entity in controller through repository</p>\n\n<pre><code>@DeleteMapping(\"/passport-rows/{id}\")\n@Transactional\n@Timed\npublic ResponseEntity&lt;Void&gt; deletePassportRow(@PathVariable Long id) {\n    log.debug(\"REST request to delete PassportRow : {}\", id);\n    passportRowRepository.delete(id);\n    return ResponseEntity.ok().headers(HeaderUtil.createEntityDeletionAlert(\"passportRow\", id.toString())).build();\n}\n</code></pre>\n\n<p>And initialize lazy collection in GET controller</p>\n\n<pre><code>@Transactional\n@GetMapping(\"/passports/{id}\")\n@Timed\npublic ResponseEntity&lt;Passport&gt; getPassport(@PathVariable Long id) {\n    log.debug(\"REST request to get Passport : {}\", id);\n    Passport passport = passportRepository.findOne(id);\n\n    if (passport != null)\n        Hibernate.initialize(passport.getPassportRows());\n...\n</code></pre>\n\n<p>I have javax.persistence.EntityNotFoundException</p>\n\n<pre><code>javax.persistence.EntityNotFoundException: Unable to find msd.keeper.domain.passport.PassportRow with id 1127\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl$JpaEntityNotFoundDelegate.handleEntityNotFound(EntityManagerFactoryBuilderImpl.java:155)\nat org.hibernate.event.internal.DefaultLoadEventListener.load(DefaultLoadEventListener.java:227)\nat org.hibernate.event.internal.DefaultLoadEventListener.proxyOrLoad(DefaultLoadEventListener.java:278)\nat org.hibernate.event.internal.DefaultLoadEventListener.doOnLoad(DefaultLoadEventListener.java:121)\nat org.hibernate.event.internal.DefaultLoadEventListener.onLoad(DefaultLoadEventListener.java:89)\nat org.hibernate.internal.SessionImpl.fireLoad(SessionImpl.java:1219)\nat org.hibernate.internal.SessionImpl.internalLoad(SessionImpl.java:1102)\nat org.hibernate.type.EntityType.resolveIdentifier(EntityType.java:646)\nat org.hibernate.type.ManyToOneType.assemble(ManyToOneType.java:266)\nat org.hibernate.collection.internal.PersistentBag.initializeFromCache(PersistentBag.java:176)\nat org.hibernate.cache.spi.entry.CollectionCacheEntry.assemble(CollectionCacheEntry.java:58)\nat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.initializeCollectionFromCache(DefaultInitializeCollectionEventListener.java:144)\nat org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:59)\nat org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:2151)\nat org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:565)\nat org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:247)\nat org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:561)\nat org.hibernate.collection.internal.AbstractPersistentCollection.forceInitialization(AbstractPersistentCollection.java:729)\nat org.hibernate.Hibernate.initialize(Hibernate.java:64)\nat msd.keeper.web.rest.passport.PassportResource.getPassport(PassportResource.java:239)\nat msd.keeper.web.rest.passport.PassportResource$$FastClassBySpringCGLIB$$7f42bf08.invoke(&lt;generated&gt;)\nat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:204)\nat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:720)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\nat org.springframework.aop.aspectj.MethodInvocationProceedingJoinPoint.proceed(MethodInvocationProceedingJoinPoint.java:85)\nat msd.keeper.aop.logging.LoggingAspect.logAround(LoggingAspect.java:64)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethodWithGivenArgs(AbstractAspectJAdvice.java:629)\nat org.springframework.aop.aspectj.AbstractAspectJAdvice.invokeAdviceMethod(AbstractAspectJAdvice.java:618)\nat org.springframework.aop.aspectj.AspectJAroundAdvice.invoke(AspectJAroundAdvice.java:70)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.aspectj.AspectJAfterThrowingAdvice.invoke(AspectJAfterThrowingAdvice.java:62)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)\nat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:282)\nat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:48)\nat com.ryantenney.metrics.spring.TimedMethodInterceptor.invoke(TimedMethodInterceptor.java:34)\nat com.ryantenney.metrics.spring.AbstractMetricMethodInterceptor.invoke(AbstractMetricMethodInterceptor.java:59)\nat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\nat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:655)\nat msd.keeper.web.rest.passport.PassportResource$$EnhancerBySpringCGLIB$$6a1ec50c.getPassport(&lt;generated&gt;)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:497)\nat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:220)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:134)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:116)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:827)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:738)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:963)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:897)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:970)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:861)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:687)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:846)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:129)\nat com.codahale.metrics.servlet.AbstractInstrumentedFilter.doFilter(AbstractInstrumentedFilter.java:104)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.web.filter.ApplicationContextHeaderFilter.doFilterInternal(ApplicationContextHeaderFilter.java:55)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.boot.actuate.trace.WebRequestTraceFilter.doFilterInternal(WebRequestTraceFilter.java:105)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:317)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:127)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:91)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:115)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:137)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:111)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:158)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:169)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:200)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:121)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.csrf.CsrfFilter.doFilterInternal(CsrfFilter.java:100)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:66)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:105)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:56)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:331)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:214)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:177)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:99)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.HttpPutFormContentFilter.doFilterInternal(HttpPutFormContentFilter.java:89)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.HiddenHttpMethodFilter.doFilterInternal(HiddenHttpMethodFilter.java:77)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:197)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:61)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:131)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:84)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:62)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:57)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:46)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:64)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:60)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:77)\nat io.undertow.security.handlers.AbstractSecurityContextAssociationHandler.handleRequest(AbstractSecurityContextAssociationHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.SessionRestoringHandler.handleRequest(SessionRestoringHandler.java:119)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:285)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:264)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:81)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:175)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:207)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:802)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p>When i turn off second level cache lazy loading work without exception </p>\n\n<pre><code>jpa:\n    properties:\n        hibernate.cache.use_second_level_cache: false\n</code></pre>\n\n<p>I use Jhipster application on spring-boot-starter-parent 1.4.2.RELEASE. Hibernate version 5.2.4.Final</p>\n\n<p>How i can correctly delete my child entity? </p>\n"},{"tags":["java","stanford-nlp","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":28604172,"reputation":1,"user_id":21900458,"display_name":"KratosZombie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684145863,"creation_date":1684145863,"answer_id":76253076,"question_id":76252917,"body_markdown":"Yes you can use Java for NPL, especially if you want to be faster than Python.\r\nThe best toolkit you can use is OpenNLP Apache, with this you can do a pipeline just like Spacy in Python.\r\n","title":"Java NLP - Insight from Text Data","body":"<p>Yes you can use Java for NPL, especially if you want to be faster than Python.\nThe best toolkit you can use is OpenNLP Apache, with this you can do a pipeline just like Spacy in Python.</p>\n"},{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684149146,"creation_date":1684149146,"answer_id":76253481,"question_id":76252917,"body_markdown":"(DL4J maintainer here):\r\n\r\nDeeplearning4j would be useful if you want to directly use transformers and other models. If you are just looking for an out of the box toolkit with models I would suggest stanford nlp and other similar frameworks.","title":"Java NLP - Insight from Text Data","body":"<p>(DL4J maintainer here):</p>\n<p>Deeplearning4j would be useful if you want to directly use transformers and other models. If you are just looking for an out of the box toolkit with models I would suggest stanford nlp and other similar frameworks.</p>\n"},{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684149863,"creation_date":1684149863,"answer_id":76253572,"question_id":76252917,"body_markdown":"I think the best choice is Apache openNLP\r\n\r\n[Here][1] is the complete project documentation and here is a [working example][2]\r\nYou can find hundreds of sample projects like this on [GitHub][3]\r\n\r\n\r\n  [1]: https://opennlp.apache.org/\r\n  [2]: https://www.baeldung.com/apache-open-nlp\r\n  [3]: https://github.com/mmm0469/apache-opennlp-examples","title":"Java NLP - Insight from Text Data","body":"<p>I think the best choice is Apache openNLP</p>\n<p><a href=\"https://opennlp.apache.org/\" rel=\"nofollow noreferrer\">Here</a> is the complete project documentation and here is a <a href=\"https://www.baeldung.com/apache-open-nlp\" rel=\"nofollow noreferrer\">working example</a>\nYou can find hundreds of sample projects like this on <a href=\"https://github.com/mmm0469/apache-opennlp-examples\" rel=\"nofollow noreferrer\">GitHub</a></p>\n"}],"owner":{"account_id":14428183,"reputation":137,"user_id":10422248,"display_name":"Sabari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1684149863,"creation_date":1684144732,"question_id":76252917,"body_markdown":"We would like to do a POC that uses Java based NLP libraries like Stanford Core NLP and/or Deeplearning4J to train/use models that can extract insight / meaning / summary and provide answers to user queries against a custom document repository / DB (NoSQL DB / CSV). Is there any good documentation/simple code examples that illustrates this capability of these Java NLP libraries? ","title":"Java NLP - Insight from Text Data","body":"<p>We would like to do a POC that uses Java based NLP libraries like Stanford Core NLP and/or Deeplearning4J to train/use models that can extract insight / meaning / summary and provide answers to user queries against a custom document repository / DB (NoSQL DB / CSV). Is there any good documentation/simple code examples that illustrates this capability of these Java NLP libraries?</p>\n"},{"tags":["java","jpa","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":1,"creation_date":1684160526,"post_id":76253462,"comment_id":134472333,"body_markdown":"What happens if you search by ID? How are you sure that your entity is actually saved - did you check the database directly? Could it be the transaction isn&#39;t committed, or you are not in a transaction? Try turning on EclipseLink SQL logging and see what is generated for your findbyName query to see that it matches what you expect on the DB.","body":"What happens if you search by ID? How are you sure that your entity is actually saved - did you check the database directly? Could it be the transaction isn&#39;t committed, or you are not in a transaction? Try turning on EclipseLink SQL logging and see what is generated for your findbyName query to see that it matches what you expect on the DB."},{"owner":{"account_id":28557231,"reputation":13,"user_id":21861275,"display_name":"Michl"},"score":0,"creation_date":1686471957,"post_id":76253462,"comment_id":134800787,"body_markdown":"I had an error in my config nevermind","body":"I had an error in my config nevermind"}],"owner":{"account_id":28557231,"reputation":13,"user_id":21861275,"display_name":"Michl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148973,"creation_date":1684148973,"question_id":76253462,"body_markdown":"I am using eclipselink as JPA and I have this Problem:\r\nThe entity i do save is not found right after saving when I try to load it with the entity manager\r\n\r\nI have following classes: \r\nUser.java\r\n```\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\npublic class User implements DbObject {\r\n\r\n   @Transient\r\n   private static final long serialVersionUID = 1L;\r\n   @Id\r\n   @GeneratedValue(strategy = GenerationType.AUTO)\r\n   @Column(nullable = false, updatable = false)\r\n   private long id;\r\n   @Column(nullable = false)\r\n   private String password;\r\n   @ManyToMany\r\n   @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\r\n   private Set&lt;Role&gt; roles;\r\n   @Column(name = &quot;username&quot;, nullable = false, unique = true, updatable = false)\r\n   private String username;\r\n\r\n   public User() {\r\n   }\r\n\r\n   public User(long id, String username, String password, Set&lt;Role&gt; roles) {\r\n      this.id = id;\r\n      this.username = username;\r\n      this.password = password;\r\n      this.roles = roles;\r\n   }\r\n\r\n   @Override\r\n   public Object clone() {\r\n      return id == 0 &amp;&amp; StringUtils.isNullOrEmpty(username) &amp;&amp; StringUtils.isNullOrEmpty(password) &amp;&amp; roles.isEmpty()\r\n            ? new User()\r\n            : new User(id, username, password, roles);\r\n   }\r\n\r\n   @Override\r\n   public boolean equals(Object o) {\r\n      if (o == this) {\r\n         return true;\r\n      }\r\n      if (o instanceof User) {\r\n         final User u = (User) o;\r\n         // only check name, since role names should be unique across an entire\r\n         // application:\r\n         return getUsername() != null ? getUsername().equals(u.getUsername()) : u.getUsername() == null;\r\n      }\r\n      return false;\r\n   }\r\n\r\n   @Override\r\n   public long getId() {\r\n      return id;\r\n   }\r\n\r\n   public String getPassword() {\r\n      return password;\r\n   }\r\n\r\n   public Set&lt;Role&gt; getRoles() {\r\n      return roles;\r\n   }\r\n\r\n   public String getUsername() {\r\n      return username;\r\n   }\r\n\r\n   @Override\r\n   public int hashCode() {\r\n      return getUsername() != null ? getUsername().hashCode() : 0;\r\n   }\r\n\r\n   @Override\r\n   public void setId(long id) {\r\n      this.id = id;\r\n   }\r\n\r\n   public void setPassword(String password) {\r\n      this.password = password;\r\n   }\r\n\r\n   public void setRoles(Set&lt;Role&gt; roles) {\r\n      this.roles = roles;\r\n   }\r\n\r\n   public void setUsername(String username) {\r\n      this.username = username;\r\n   }\r\n\r\n   @Override\r\n   public String toString() {\r\n      return getUsername();\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nwith A Service which tries to load the Entity by column name\r\nUserService.java\r\n\r\n```\r\npublic class UserServiceImpl implements UserService {\r\n\r\n   private final UserRepository userRepository;\r\n\r\n   @Inject\r\n   public UserServiceImpl(final UserRepository userRepository) {\r\n      this.userRepository = userRepository;\r\n   }\r\n\r\n   @Override\r\n   public Optional&lt;User&gt; findByName(final String username) {\r\n      return userRepository.findByColumnValue(&quot;username&quot;, username).stream().findAny();\r\n   }\r\n\r\n   @Override\r\n   public AbstractJpaRepository&lt;User, Long&gt; getRepository() {\r\n      return userRepository;\r\n   }\r\n\r\n}\r\n```\r\n\r\nand a UserRepository extending this AbstractJpaRepository interface:\r\n\r\n```\r\npublic interface AbstractJpaRepository&lt;T, ID&gt; {\r\n\r\n   default void delete(ID id) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      final T toBeRemoved = entityManager.getReference(getType(), id);\r\n      entityManager.remove(toBeRemoved);\r\n   }\r\n\r\n   default ObservableList&lt;T&gt; findAll() {\r\n      final EntityManager entityManager = getEntityManager();\r\n\r\n      final CriteriaQuery&lt;T&gt; criteriaQuery = entityManager.getCriteriaBuilder().createQuery(getType());\r\n      criteriaQuery.from(getType());\r\n\r\n      final ObservableList&lt;T&gt; list = FXCollections\r\n            .observableArrayList(entityManager.createQuery(criteriaQuery).getResultList());\r\n      return list;\r\n   }\r\n\r\n   default List&lt;T&gt; findByColumnValue(final String columnHeader, final String columnValue) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\r\n\r\n      final CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(getType());\r\n\r\n      final Root&lt;T&gt; from = criteriaQuery.from(getType());\r\n\r\n      criteriaQuery.select(from);\r\n      criteriaQuery.where(criteriaBuilder.equal(from.get(columnHeader), columnValue));\r\n\r\n      final TypedQuery&lt;T&gt; typed = entityManager.createQuery(criteriaQuery);\r\n      return typed.getResultStream().collect(Collectors.toList());\r\n   }\r\n\r\n   default Optional&lt;T&gt; findById(final ID id) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      return Optional.ofNullable(entityManager.find(getType(), id));\r\n   }\r\n\r\n   EntityManager getEntityManager();\r\n\r\n   Class&lt;T&gt; getType();\r\n\r\n   default T save(final T t) {\r\n      final EntityManager entityManager = getEntityManager();\r\n      for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\r\n         System.out.println(dbf.getName());\r\n      }\r\n      return entityManager.merge(t);\r\n   }\r\n\r\n}\r\n```\r\n\r\nAs you can see I iterate over the DatabaseFields of the entity and there the expected columnname is present. But when I try to load an User Entity by the Columnname username it does not find the expected entity, which I save just before. When I assign an entity to the return object of the save it seems like everything worked so I assume there is no Problem there. Does anyone know of eclipselink since the jakarta update if it has a bug? since I updated my poms versions in this project and I have a this new project which I set up just alike juts with an outdated eclipselink version, which has ciritical vulnaerabilities. You can clone the whole project at https://github.com/mitvitaminen/crowear_hp to have the whole source code which I expect to be too much for this post to actually be of help. Checkout the testdataserviceimpl where I create a user with username testUser1 and testUser1 as PW so you can try out to login but it throws an exception since the entity User with testUser1 as username is not found. \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI iterated like this when saving \r\n\r\n```\r\nfor (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\r\n         System.out.println(dbf.getName());\r\n      }\r\n```\r\nwhere the correct column name is displayed. But when I try to get the entity back from the db it just wont load and an empty optional is returned.\r\n\r\nAny help appreciated\r\n\r\nKind regards Chris","title":"JPA can not load Entity becuase it can not find an instance of it with columnname present in entity and saving works","body":"<p>I am using eclipselink as JPA and I have this Problem:\nThe entity i do save is not found right after saving when I try to load it with the entity manager</p>\n<p>I have following classes:\nUser.java</p>\n<pre><code>@Entity\n@Table(name = &quot;users&quot;)\npublic class User implements DbObject {\n\n   @Transient\n   private static final long serialVersionUID = 1L;\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   @Column(nullable = false, updatable = false)\n   private long id;\n   @Column(nullable = false)\n   private String password;\n   @ManyToMany\n   @JoinTable(name = &quot;users_roles&quot;, joinColumns = @JoinColumn(name = &quot;users_id&quot;), inverseJoinColumns = @JoinColumn(name = &quot;roles_id&quot;))\n   private Set&lt;Role&gt; roles;\n   @Column(name = &quot;username&quot;, nullable = false, unique = true, updatable = false)\n   private String username;\n\n   public User() {\n   }\n\n   public User(long id, String username, String password, Set&lt;Role&gt; roles) {\n      this.id = id;\n      this.username = username;\n      this.password = password;\n      this.roles = roles;\n   }\n\n   @Override\n   public Object clone() {\n      return id == 0 &amp;&amp; StringUtils.isNullOrEmpty(username) &amp;&amp; StringUtils.isNullOrEmpty(password) &amp;&amp; roles.isEmpty()\n            ? new User()\n            : new User(id, username, password, roles);\n   }\n\n   @Override\n   public boolean equals(Object o) {\n      if (o == this) {\n         return true;\n      }\n      if (o instanceof User) {\n         final User u = (User) o;\n         // only check name, since role names should be unique across an entire\n         // application:\n         return getUsername() != null ? getUsername().equals(u.getUsername()) : u.getUsername() == null;\n      }\n      return false;\n   }\n\n   @Override\n   public long getId() {\n      return id;\n   }\n\n   public String getPassword() {\n      return password;\n   }\n\n   public Set&lt;Role&gt; getRoles() {\n      return roles;\n   }\n\n   public String getUsername() {\n      return username;\n   }\n\n   @Override\n   public int hashCode() {\n      return getUsername() != null ? getUsername().hashCode() : 0;\n   }\n\n   @Override\n   public void setId(long id) {\n      this.id = id;\n   }\n\n   public void setPassword(String password) {\n      this.password = password;\n   }\n\n   public void setRoles(Set&lt;Role&gt; roles) {\n      this.roles = roles;\n   }\n\n   public void setUsername(String username) {\n      this.username = username;\n   }\n\n   @Override\n   public String toString() {\n      return getUsername();\n   }\n\n}\n\n</code></pre>\n<p>with A Service which tries to load the Entity by column name\nUserService.java</p>\n<pre><code>public class UserServiceImpl implements UserService {\n\n   private final UserRepository userRepository;\n\n   @Inject\n   public UserServiceImpl(final UserRepository userRepository) {\n      this.userRepository = userRepository;\n   }\n\n   @Override\n   public Optional&lt;User&gt; findByName(final String username) {\n      return userRepository.findByColumnValue(&quot;username&quot;, username).stream().findAny();\n   }\n\n   @Override\n   public AbstractJpaRepository&lt;User, Long&gt; getRepository() {\n      return userRepository;\n   }\n\n}\n</code></pre>\n<p>and a UserRepository extending this AbstractJpaRepository interface:</p>\n<pre><code>public interface AbstractJpaRepository&lt;T, ID&gt; {\n\n   default void delete(ID id) {\n      final EntityManager entityManager = getEntityManager();\n      final T toBeRemoved = entityManager.getReference(getType(), id);\n      entityManager.remove(toBeRemoved);\n   }\n\n   default ObservableList&lt;T&gt; findAll() {\n      final EntityManager entityManager = getEntityManager();\n\n      final CriteriaQuery&lt;T&gt; criteriaQuery = entityManager.getCriteriaBuilder().createQuery(getType());\n      criteriaQuery.from(getType());\n\n      final ObservableList&lt;T&gt; list = FXCollections\n            .observableArrayList(entityManager.createQuery(criteriaQuery).getResultList());\n      return list;\n   }\n\n   default List&lt;T&gt; findByColumnValue(final String columnHeader, final String columnValue) {\n      final EntityManager entityManager = getEntityManager();\n      final CriteriaBuilder criteriaBuilder = entityManager.getCriteriaBuilder();\n\n      final CriteriaQuery&lt;T&gt; criteriaQuery = criteriaBuilder.createQuery(getType());\n\n      final Root&lt;T&gt; from = criteriaQuery.from(getType());\n\n      criteriaQuery.select(from);\n      criteriaQuery.where(criteriaBuilder.equal(from.get(columnHeader), columnValue));\n\n      final TypedQuery&lt;T&gt; typed = entityManager.createQuery(criteriaQuery);\n      return typed.getResultStream().collect(Collectors.toList());\n   }\n\n   default Optional&lt;T&gt; findById(final ID id) {\n      final EntityManager entityManager = getEntityManager();\n      return Optional.ofNullable(entityManager.find(getType(), id));\n   }\n\n   EntityManager getEntityManager();\n\n   Class&lt;T&gt; getType();\n\n   default T save(final T t) {\n      final EntityManager entityManager = getEntityManager();\n      for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\n         System.out.println(dbf.getName());\n      }\n      return entityManager.merge(t);\n   }\n\n}\n</code></pre>\n<p>As you can see I iterate over the DatabaseFields of the entity and there the expected columnname is present. But when I try to load an User Entity by the Columnname username it does not find the expected entity, which I save just before. When I assign an entity to the return object of the save it seems like everything worked so I assume there is no Problem there. Does anyone know of eclipselink since the jakarta update if it has a bug? since I updated my poms versions in this project and I have a this new project which I set up just alike juts with an outdated eclipselink version, which has ciritical vulnaerabilities. You can clone the whole project at <a href=\"https://github.com/mitvitaminen/crowear_hp\" rel=\"nofollow noreferrer\">https://github.com/mitvitaminen/crowear_hp</a> to have the whole source code which I expect to be too much for this post to actually be of help. Checkout the testdataserviceimpl where I create a user with username testUser1 and testUser1 as PW so you can try out to login but it throws an exception since the entity User with testUser1 as username is not found.</p>\n<p>I iterated like this when saving</p>\n<pre><code>for (final DatabaseField dbf : entityManager.unwrap(Session.class).getDescriptor(User.class).getFields()) {\n         System.out.println(dbf.getName());\n      }\n</code></pre>\n<p>where the correct column name is displayed. But when I try to get the entity back from the db it just wont load and an empty optional is returned.</p>\n<p>Any help appreciated</p>\n<p>Kind regards Chris</p>\n"},{"tags":["java","validation","java.util.scanner","numeric"],"comments":[{"owner":{"account_id":16732777,"reputation":91,"user_id":12094709,"display_name":"GreenChicken"},"score":0,"creation_date":1684148193,"post_id":76253318,"comment_id":134469373,"body_markdown":"because you always set the checkF to true no matter the input","body":"because you always set the checkF to true no matter the input"},{"owner":{"account_id":9735171,"reputation":2264,"user_id":7218656,"accept_rate":75,"display_name":"Arun Sudhakaran"},"score":1,"creation_date":1684148511,"post_id":76253318,"comment_id":134469434,"body_markdown":"First thing, you have to do the numeric validation after the `nameF` is inputted, you are validating the occurrence before getting the `nameF`, but it is still `&quot;null&quot;`. The second thing is to check the difference between `&quot;null&quot;` (literal null) and `null` (keyword null). The third thing is to check what is regex and how to validate a String that contains a numeric value. Finally `if(true)` makes no sense, it will be always executed, do the validation inside the `while` loop, and set the value of `checkF` properly.","body":"First thing, you have to do the numeric validation after the <code>nameF</code> is inputted, you are validating the occurrence before getting the <code>nameF</code>, but it is still <code>&quot;null&quot;</code>. The second thing is to check the difference between <code>&quot;null&quot;</code> (literal null) and <code>null</code> (keyword null). The third thing is to check what is regex and how to validate a String that contains a numeric value. Finally <code>if(true)</code> makes no sense, it will be always executed, do the validation inside the <code>while</code> loop, and set the value of <code>checkF</code> properly."}],"answers":[{"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1684148559,"post_id":76253380,"comment_id":134469441,"body_markdown":"Or `while (!nameF.matches(&quot;\\\\D+&quot;)) {`","body":"Or <code>while (!nameF.matches(&quot;\\\\D+&quot;)) {</code>"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684148751,"post_id":76253380,"comment_id":134469475,"body_markdown":"@ElliottFrisch `&quot;\\\\D+&quot;` would accept `&quot;&#128512;&#128169;&#128561;&quot;`. Society is not there yet.","body":"@ElliottFrisch <code>&quot;\\\\D+&quot;</code> would accept <code>&quot;😀💩😱&quot;</code>. Society is not there yet."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684148903,"post_id":76253380,"comment_id":134469501,"body_markdown":"The late artist formerly known as Prince would like a word.","body":"The late artist formerly known as Prince would like a word."},{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1684149311,"post_id":76253380,"comment_id":134469577,"body_markdown":"&quot;You should never write words using numbers unless you&#39;re seven or your name is Prince&quot; -- Word Crimes - Weird Al","body":"&quot;You should never write words using numbers unless you&#39;re seven or your name is Prince&quot; -- Word Crimes - Weird Al"},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1684149756,"post_id":76253380,"comment_id":134469674,"body_markdown":"@Elliott Agreed. Even [Seven of Nine](https://en.wikipedia.org/wiki/Seven_of_Nine) eschewed digits.","body":"@Elliott Agreed. Even <a href=\"https://en.wikipedia.org/wiki/Seven_of_Nine\" rel=\"nofollow noreferrer\">Seven of Nine</a> eschewed digits."},{"owner":{"account_id":15197153,"reputation":1,"user_id":10966135,"display_name":"Abdullah El Emam"},"score":0,"creation_date":1684310111,"post_id":76253380,"comment_id":134497924,"body_markdown":"Aha. This is the first time I hear of &quot;regex&quot;. Maybe I was too hurried with Java but thanks! I will try it straight away and see what goes.","body":"Aha. This is the first time I hear of &quot;regex&quot;. Maybe I was too hurried with Java but thanks! I will try it straight away and see what goes."}],"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684148556,"creation_date":1684148224,"answer_id":76253380,"question_id":76253318,"body_markdown":"Your current code is only checking for a `&quot;9&quot;`, because all other checks are over written.\r\n\r\nTo fix your code (without changing it much), you must do a logical `AND`, so in English it would read like *nameF doesn&#39;t contain &quot;0&quot; AND doesn&#39;t contain &quot;1&quot; AND ...*, like this:\r\n\r\n    boolean checkF=true;\r\n    checkF &amp;= nameF.contains(&quot;0&quot;);\r\n    checkF &amp;= nameF.contains(&quot;1&quot;);\r\n    // etc\r\n\r\nBut what about non-letter non-digits, like a comma? You&#39;ve not preventing that.\r\n\r\nThere&#39;s an easier way if you use regex:\r\n\r\n    String nameF = &quot;&quot;;\r\n    while (!nameF.matches(&quot;[a-zA-Z]+&quot;)) {\r\n        System.out.println(&quot;Please type in your first name: &quot;);\r\n        nameF = inputs.nextLine();\r\n    }\r\n\r\nThis keeps looping until `nameF` is comprised of one or more letter characters. Because `nameF` is initialized to a blank, it always executes the loop at least once.","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>Your current code is only checking for a <code>&quot;9&quot;</code>, because all other checks are over written.</p>\n<p>To fix your code (without changing it much), you must do a logical <code>AND</code>, so in English it would read like <em>nameF doesn't contain &quot;0&quot; AND doesn't contain &quot;1&quot; AND ...</em>, like this:</p>\n<pre><code>boolean checkF=true;\ncheckF &amp;= nameF.contains(&quot;0&quot;);\ncheckF &amp;= nameF.contains(&quot;1&quot;);\n// etc\n</code></pre>\n<p>But what about non-letter non-digits, like a comma? You've not preventing that.</p>\n<p>There's an easier way if you use regex:</p>\n<pre><code>String nameF = &quot;&quot;;\nwhile (!nameF.matches(&quot;[a-zA-Z]+&quot;)) {\n    System.out.println(&quot;Please type in your first name: &quot;);\n    nameF = inputs.nextLine();\n}\n</code></pre>\n<p>This keeps looping until <code>nameF</code> is comprised of one or more letter characters. Because <code>nameF</code> is initialized to a blank, it always executes the loop at least once.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684148299,"creation_date":1684148299,"answer_id":76253389,"question_id":76253318,"body_markdown":"First, you can&#39;t change the signature of `main` (it takes a `String[]`). Second, you could use a *regular expression* to determine if any part of the `String` is a digit. Assuming you intend to check `nameL` doesn&#39;t contain digits as well, I would suggest you use a `Pattern`. A pair of infinite loops and something like,\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t// Initializing variables\r\n\t\t// Setting up scanner\r\n\t\tScanner inputs = new Scanner(System.in);\r\n\t\tString nameF = &quot;null&quot;;\r\n\t\tString nameL = &quot;null&quot;;\r\n\t\tString gender = &quot;null&quot;;\r\n\t\tint age = 0;\r\n\r\n\t\tPattern containsDigit = Pattern.compile(&quot;.*[0-9].*&quot;); // .*\\\\d.* also works\r\n\t\t// Initiating user input\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Please type in your first name.&quot;);\r\n\t\t\tnameF = inputs.nextLine();\r\n\t\t\tif (!containsDigit.matcher(nameF).matches()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\twhile (true) {\r\n\t\t\tSystem.out.println(&quot;Please type in your last name.&quot;);\r\n\t\t\tnameL = inputs.nextLine();\r\n\t\t\tif (!containsDigit.matcher(nameL).matches()) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.printf(&quot;Hello %s %s%n&quot;, nameF, nameL);\r\n\t}\r\n","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>First, you can't change the signature of <code>main</code> (it takes a <code>String[]</code>). Second, you could use a <em>regular expression</em> to determine if any part of the <code>String</code> is a digit. Assuming you intend to check <code>nameL</code> doesn't contain digits as well, I would suggest you use a <code>Pattern</code>. A pair of infinite loops and something like,</p>\n<pre><code>public static void main(String[] args) {\n    // Initializing variables\n    // Setting up scanner\n    Scanner inputs = new Scanner(System.in);\n    String nameF = &quot;null&quot;;\n    String nameL = &quot;null&quot;;\n    String gender = &quot;null&quot;;\n    int age = 0;\n\n    Pattern containsDigit = Pattern.compile(&quot;.*[0-9].*&quot;); // .*\\\\d.* also works\n    // Initiating user input\n    while (true) {\n        System.out.println(&quot;Please type in your first name.&quot;);\n        nameF = inputs.nextLine();\n        if (!containsDigit.matcher(nameF).matches()) {\n            break;\n        }\n    }\n    while (true) {\n        System.out.println(&quot;Please type in your last name.&quot;);\n        nameL = inputs.nextLine();\n        if (!containsDigit.matcher(nameL).matches()) {\n            break;\n        }\n    }\n    System.out.printf(&quot;Hello %s %s%n&quot;, nameF, nameL);\n}\n</code></pre>\n"}],"owner":{"account_id":15197153,"reputation":1,"user_id":10966135,"display_name":"Abdullah El Emam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1684148831,"creation_date":1684147725,"question_id":76253318,"body_markdown":"Essentially, I am asking user to type in their name and I am attempting to check whether they typed in a digit amongst their name so that the program prints out &quot;Please type in your first name.&quot; once more. It is very hard to handle that issue (or is it exception? sorry I am new to this). Here is my code so far:\r\n\r\n---\r\n\r\n```\r\nimport java.util.Scanner;\r\nimport java.util.InputMismatchException;\r\nimport java.util.Arrays;\r\nimport javax.swing.*;\r\nimport javax.swing.table.*;\r\n\r\npublic class scannerTrial {\r\n    public static void main() {\r\n        //Initializing variables\r\n        //Setting up scanner\r\n        Scanner inputs=new Scanner(System.in);\r\n        String nameF=&quot;null&quot;;\r\n        String nameL=&quot;null&quot;;\r\n        String gender=&quot;null&quot;;\r\n        int age=0;\r\n        \r\n        //Setting up digit checker\r\n        boolean checkF=true;\r\n        checkF=nameF.contains(&quot;0&quot;);\r\n        checkF=nameF.contains(&quot;1&quot;);\r\n        checkF=nameF.contains(&quot;2&quot;);\r\n        checkF=nameF.contains(&quot;3&quot;);\r\n        checkF=nameF.contains(&quot;4&quot;);\r\n        checkF=nameF.contains(&quot;5&quot;);\r\n        checkF=nameF.contains(&quot;6&quot;);\r\n        checkF=nameF.contains(&quot;7&quot;);\r\n        checkF=nameF.contains(&quot;8&quot;);\r\n        checkF=nameF.contains(&quot;9&quot;);\r\n        \r\n        //Initiating user input\r\n        while(!checkF) {\r\n            System.out.println(&quot;Please type in your name.&quot;);\r\n            nameF=inputs.nextLine();\r\n            if(true) {\r\n                checkF=true;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n---\r\n\r\nWhat I tried to do was make a boolean for whether the input contains any of the number and if it did find a number, it would return true. Then, I would go into a loop where if the boolean is true then it loops back until the user understands and it returns false, then it breaks out of the loop. For some reason though, when I run the program after compiling it, the program just gets out of the loop even after typing in something such as &quot;n0&quot;.","title":"How to check if scanner input contains any digit(s) from 0-9?","body":"<p>Essentially, I am asking user to type in their name and I am attempting to check whether they typed in a digit amongst their name so that the program prints out &quot;Please type in your first name.&quot; once more. It is very hard to handle that issue (or is it exception? sorry I am new to this). Here is my code so far:</p>\n<hr />\n<pre><code>import java.util.Scanner;\nimport java.util.InputMismatchException;\nimport java.util.Arrays;\nimport javax.swing.*;\nimport javax.swing.table.*;\n\npublic class scannerTrial {\n    public static void main() {\n        //Initializing variables\n        //Setting up scanner\n        Scanner inputs=new Scanner(System.in);\n        String nameF=&quot;null&quot;;\n        String nameL=&quot;null&quot;;\n        String gender=&quot;null&quot;;\n        int age=0;\n        \n        //Setting up digit checker\n        boolean checkF=true;\n        checkF=nameF.contains(&quot;0&quot;);\n        checkF=nameF.contains(&quot;1&quot;);\n        checkF=nameF.contains(&quot;2&quot;);\n        checkF=nameF.contains(&quot;3&quot;);\n        checkF=nameF.contains(&quot;4&quot;);\n        checkF=nameF.contains(&quot;5&quot;);\n        checkF=nameF.contains(&quot;6&quot;);\n        checkF=nameF.contains(&quot;7&quot;);\n        checkF=nameF.contains(&quot;8&quot;);\n        checkF=nameF.contains(&quot;9&quot;);\n        \n        //Initiating user input\n        while(!checkF) {\n            System.out.println(&quot;Please type in your name.&quot;);\n            nameF=inputs.nextLine();\n            if(true) {\n                checkF=true;\n                break;\n            }\n        }\n    }\n}\n</code></pre>\n<hr />\n<p>What I tried to do was make a boolean for whether the input contains any of the number and if it did find a number, it would return true. Then, I would go into a loop where if the boolean is true then it loops back until the user understands and it returns false, then it breaks out of the loop. For some reason though, when I run the program after compiling it, the program just gets out of the loop even after typing in something such as &quot;n0&quot;.</p>\n"},{"tags":["java","regex","string"],"comments":[{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":1,"creation_date":1684134672,"post_id":76251455,"comment_id":134466529,"body_markdown":"Note that you should not always go for the shortest solution. Your goal should be to make it as readable as possible.","body":"Note that you should not always go for the shortest solution. Your goal should be to make it as readable as possible."}],"answers":[{"tags":[],"owner":{"account_id":16208985,"reputation":918,"user_id":11703509,"display_name":"psybrg"},"comment_count":0,"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1684134188,"creation_date":1684134188,"answer_id":76251590,"question_id":76251455,"body_markdown":"Following JAVA code snippet should work fine :\r\n\r\n    String str = &quot;HELLO - DI&amp;RIC&quot;;\r\n    String noSpaceString = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    String alphabetsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\r\n    String alphabetsAndDigitsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\r\n\r\nI have used extra variables for readability purposes. You can remove them to make it a one-line code, like following :\r\n\r\n    String str = &quot;HELLO - DI&amp;RIC&quot;;\r\n    String alphabetsAndDigitsOnly = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;).replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\r\n\r\n","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>Following JAVA code snippet should work fine :</p>\n<pre><code>String str = &quot;HELLO - DI&amp;RIC&quot;;\nString noSpaceString = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\nString alphabetsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\nString alphabetsAndDigitsOnly = noSpaceString.replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\n</code></pre>\n<p>I have used extra variables for readability purposes. You can remove them to make it a one-line code, like following :</p>\n<pre><code>String str = &quot;HELLO - DI&amp;RIC&quot;;\nString alphabetsAndDigitsOnly = str.toLowerCase().replaceAll(&quot;\\\\s&quot;, &quot;&quot;).replaceAll(&quot;[^a-zA-Z0-9]+&quot;, &quot;-&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684134568,"creation_date":1684134239,"answer_id":76251597,"question_id":76251455,"body_markdown":"You should look into the [replaceAll()][1] method.\r\nIt accepts a Regular Expression and replace string.\r\nI would probably first call [toLowerCase()][2] and then [replaceAll()][1] for whitespaces separated from the special characters. For the Regular Expression you probably want to use `\\s` and `\\W`, depends on your exact requirements.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#toLowerCase()","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>You should look into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll()</a> method.\nIt accepts a Regular Expression and replace string.\nI would probably first call <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#toLowerCase()\" rel=\"nofollow noreferrer\">toLowerCase()</a> and then <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">replaceAll()</a> for whitespaces separated from the special characters. For the Regular Expression you probably want to use <code>\\s</code> and <code>\\W</code>, depends on your exact requirements.</p>\n"},{"comments":[{"owner":{"account_id":6856568,"reputation":147,"user_id":5271958,"display_name":"Nimrod"},"score":0,"creation_date":1684142440,"post_id":76251599,"comment_id":134468126,"body_markdown":"this is good, but I&#39;m looking for a more generic solution, not just for the &#39;&amp;&#39; sign, but for all the special characters. E.g. It should also be working on the name HELLO - DI%RIC","body":"this is good, but I&#39;m looking for a more generic solution, not just for the &#39;&amp;&#39; sign, but for all the special characters. E.g. It should also be working on the name HELLO - DI%RIC"},{"owner":{"account_id":22112469,"reputation":74,"user_id":16367144,"display_name":"SquidXTV"},"score":0,"creation_date":1684144873,"post_id":76251599,"comment_id":134468728,"body_markdown":"@Nimrod you should be able to change it yourself using regex, though I am not sure if `replaceEach` uses regex and you might want to use Strings `replaceAll` method","body":"@Nimrod you should be able to change it yourself using regex, though I am not sure if <code>replaceEach</code> uses regex and you might want to use Strings <code>replaceAll</code> method"}],"tags":[],"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"comment_count":2,"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1684134674,"creation_date":1684134245,"answer_id":76251599,"question_id":76251455,"body_markdown":" a good fit for the requirements is Apache&#39;s [`StringUtils.replaceEach()`][1]\r\n\r\nit allows to specify multiple search strings and corresponding replacements, and eliminate the need to fiddle with obscure regex patterns. \r\nHowever, transformation to lowercase is probably easiest with the purpose made `String` method \r\n\r\n    String result = StringUtils.replaceEach(&quot;HELLO - DI&amp;RIC&quot;,\r\n        new String[]{&quot; &quot;, &quot;&amp;&quot;},\r\n        new String[]{&quot;&quot;,  &quot;-&quot;}\r\n    );\r\n    result = result.toLowerCase();\r\n\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\r\n","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>a good fit for the requirements is Apache's <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/StringUtils.html#replaceEach-java.lang.String-java.lang.String:A-java.lang.String:A-\" rel=\"nofollow noreferrer\"><code>StringUtils.replaceEach()</code></a></p>\n<p>it allows to specify multiple search strings and corresponding replacements, and eliminate the need to fiddle with obscure regex patterns.\nHowever, transformation to lowercase is probably easiest with the purpose made <code>String</code> method</p>\n<pre><code>String result = StringUtils.replaceEach(&quot;HELLO - DI&amp;RIC&quot;,\n    new String[]{&quot; &quot;, &quot;&amp;&quot;},\n    new String[]{&quot;&quot;,  &quot;-&quot;}\n);\nresult = result.toLowerCase();\n</code></pre>\n"}],"owner":{"account_id":6856568,"reputation":147,"user_id":5271958,"display_name":"Nimrod"},"comment_count":1,"delete_vote_count":2,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1684148600,"answer_count":3,"score":-3,"last_activity_date":1684148596,"creation_date":1684132863,"question_id":76251455,"body_markdown":"I want to remove all special characters in a certain string and replace them with hyphen. All spaces need to be remove and also lowercase. is it possible to do it with 1 line?\r\n\r\nAn example: &quot;HELLO - DI&amp;RIC&quot; -&gt; should become: &quot;hello-di-ric&quot;","title":"How to replace all special characters with hyphen and also remove all spaces?","body":"<p>I want to remove all special characters in a certain string and replace them with hyphen. All spaces need to be remove and also lowercase. is it possible to do it with 1 line?</p>\n<p>An example: &quot;HELLO - DI&amp;RIC&quot; -&gt; should become: &quot;hello-di-ric&quot;</p>\n"},{"tags":["java","selenium-webdriver","katalon-studio"],"comments":[{"owner":{"account_id":4046845,"reputation":148,"user_id":3327823,"display_name":"Rakesh"},"score":0,"creation_date":1684146887,"post_id":76252692,"comment_id":134469145,"body_markdown":"Use WebUI.Sendkeys() to send the files.","body":"Use WebUI.Sendkeys() to send the files."}],"owner":{"account_id":28604097,"reputation":1,"user_id":21900399,"display_name":"Al Khawarismi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148298,"creation_date":1684143047,"question_id":76252692,"body_markdown":"i want to automate upload multiple files (Katalon Studio), but there is no attribute &quot;multiple&quot; like this\r\n\r\n```\r\n&lt;input type=&quot;file&quot; multiple&gt;\r\n```\r\nbut instead like the img1 below.\r\n[img1](https://i.stack.imgur.com/yqyle.png)\r\n\r\nwhat i want to achieve is like\r\n[img2][1]\r\n\r\nI&#39;ve tried to make it like this, the steps produce passed but no files are uploaded\r\n\r\n```\r\ndef documentsPath = [&#39;E:\\\\\\\\FfzsHZJUcAEvXrs.jpeg&#39;, &#39;E:\\\\\\\\FeNebInVIAApKzh.jpg&#39;, &#39;E:\\\\\\\\FeNebZTVIAADXR5.jpg&#39;, &#39;E:\\\\\\\\FfzsWUPVQAAO-SL.jpeg&#39;]\r\n\r\nfor (path in documentsPath) {\r\n\tWebUI.uploadFile(findTestObject(&#39;homepage/pemasaranku/register supplier/ipt_dokumen_supplier&#39;), path, FailureHandling.STOP_ON_FAILURE)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aGXZP.png","title":"How to automate upload multiple files (Katalon Studio) when there is no attribute &quot;multiple&quot; in tag input?","body":"<p>i want to automate upload multiple files (Katalon Studio), but there is no attribute &quot;multiple&quot; like this</p>\n<pre><code>&lt;input type=&quot;file&quot; multiple&gt;\n</code></pre>\n<p>but instead like the img1 below.\n<a href=\"https://i.stack.imgur.com/yqyle.png\" rel=\"nofollow noreferrer\">img1</a></p>\n<p>what i want to achieve is like\n<a href=\"https://i.stack.imgur.com/aGXZP.png\" rel=\"nofollow noreferrer\">img2</a></p>\n<p>I've tried to make it like this, the steps produce passed but no files are uploaded</p>\n<pre><code>def documentsPath = ['E:\\\\\\\\FfzsHZJUcAEvXrs.jpeg', 'E:\\\\\\\\FeNebInVIAApKzh.jpg', 'E:\\\\\\\\FeNebZTVIAADXR5.jpg', 'E:\\\\\\\\FfzsWUPVQAAO-SL.jpeg']\n\nfor (path in documentsPath) {\n    WebUI.uploadFile(findTestObject('homepage/pemasaranku/register supplier/ipt_dokumen_supplier'), path, FailureHandling.STOP_ON_FAILURE)\n}\n</code></pre>\n"},{"tags":["java","netbeans","jar"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684155034,"post_id":76253158,"comment_id":134470980,"body_markdown":"A .jar file is *one file.*  The entries in that one file are not files, they’re part of the .jar file.  The correct way to read those fonts is with [getResourceAsStream](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)).  For example, `try (InputStream fontSource = login.class.getResourceAsStream(&quot;/8-BIT WONDER.TTF&quot;)) { bitWon = Font.createFont(Font.TRUETYPE_FONT, fontSource); }`","body":"A .jar file is <i>one file.</i>  The entries in that one file are not files, they’re part of the .jar file.  The correct way to read those fonts is with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Class.html#getResourceAsStream(java.lang.String)\" rel=\"nofollow noreferrer\">getResourceAsStream</a>.  For example, <code>try (InputStream fontSource = login.class.getResourceAsStream(&quot;&#47;8-BIT WONDER.TTF&quot;)) { bitWon = Font.createFont(Font.TRUETYPE_FONT, fontSource); }</code>"},{"owner":{"account_id":468855,"reputation":5925,"user_id":875083,"display_name":"Joachim Rohde"},"score":0,"creation_date":1684155135,"post_id":76253158,"comment_id":134471005,"body_markdown":"Take a look at getResource() : https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource","body":"Take a look at getResource() : <a href=\"https://stackoverflow.com/questions/2593154/get-a-resource-using-getresource\" title=\"get a resource using getresource\">stackoverflow.com/questions/2593154/&hellip;</a>"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684155603,"post_id":76253158,"comment_id":134471114,"body_markdown":"Also, **never** write an empty catch block.  In this case, it should contain `throw new RuntimeException(e);`.  (Do you really want your program to continue running if the proper fonts couldn’t be loaded?)","body":"Also, <b>never</b> write an empty catch block.  In this case, it should contain <code>throw new RuntimeException(e);</code>.  (Do you really want your program to continue running if the proper fonts couldn’t be loaded?)"},{"owner":{"account_id":14657616,"reputation":96,"user_id":10585748,"display_name":"Eugene Makarenko"},"score":0,"creation_date":1684306094,"post_id":76253158,"comment_id":134497067,"body_markdown":"Check if .jar file contains font files. If no - read them from system but use proper paths. You can place these files in same folder as .jar file is, then the path will be relative(./somefont.TTF), or use absolute paths. If your .jar file contains font files use getResource() as guys mentioned previously","body":"Check if .jar file contains font files. If no - read them from system but use proper paths. You can place these files in same folder as .jar file is, then the path will be relative(./somefont.TTF), or use absolute paths. If your .jar file contains font files use getResource() as guys mentioned previously"}],"owner":{"account_id":28604436,"reputation":1,"user_id":21900677,"display_name":"Velinity Ballestine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684148224,"creation_date":1684146475,"question_id":76253158,"body_markdown":"When I run the jar file it turns into a default font, unlike when I run it in netbeans the code works perfectly fine.\r\n\r\nThis is my code:\r\n\r\n\r\n```\r\npublic class login extends javax.swing.JFrame {\r\n\r\n    /**\r\n     * Creates new form login\r\n     */\r\n    Font bitWon;\r\n    Font deMono;\r\n    Font deSans;\r\n    Font dotumChe;\r\n    \r\n    public login() {\r\n        initComponents();\r\n        \r\n        try {\r\n            bitWon = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)).deriveFont(36f);\r\n            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)));\r\n            \r\n            jLabel2.setFont(bitWon);\r\n            \r\n            deMono = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)).deriveFont(24f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)));\r\n            \r\n            jLabel3.setFont(deMono);\r\n            jLabel4.setFont(new Font(deMono.getName(), Font.PLAIN, 18));\r\n            jButton1.setFont(new Font(deMono.getName(), Font.PLAIN, 24));\r\n            \r\n            deSans = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)).deriveFont(14f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)));\r\n            \r\n            jPasswordField1.setFont(deSans);\r\n            jTextField1.setFont(deSans);\r\n            \r\n            dotumChe = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)).deriveFont(10f);\r\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)));\r\n            \r\n            jLabel7.setFont(dotumChe);\r\n        }\r\n        catch(IOException | FontFormatException e){\r\n            \r\n        }\r\n```\r\n\r\nThe fonts (ttf) is placed in the default package, with my main class.\r\n\r\nI tried using the inputstream but it only made it not work in netbeans and the jar file too. ","title":"Jar file doesn&#39;t read custom fonts but works fine when I run file in netbeans","body":"<p>When I run the jar file it turns into a default font, unlike when I run it in netbeans the code works perfectly fine.</p>\n<p>This is my code:</p>\n<pre><code>public class login extends javax.swing.JFrame {\n\n    /**\n     * Creates new form login\n     */\n    Font bitWon;\n    Font deMono;\n    Font deSans;\n    Font dotumChe;\n    \n    public login() {\n        initComponents();\n        \n        try {\n            bitWon = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)).deriveFont(36f);\n            GraphicsEnvironment ge = GraphicsEnvironment.getLocalGraphicsEnvironment();\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/8-BIT WONDER.TTF&quot;)));\n            \n            jLabel2.setFont(bitWon);\n            \n            deMono = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)).deriveFont(24f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationmonoweb-webfont.ttf&quot;)));\n            \n            jLabel3.setFont(deMono);\n            jLabel4.setFont(new Font(deMono.getName(), Font.PLAIN, 18));\n            jButton1.setFont(new Font(deMono.getName(), Font.PLAIN, 24));\n            \n            deSans = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)).deriveFont(14f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/determinationsansweb-webfont.ttf&quot;)));\n            \n            jPasswordField1.setFont(deSans);\n            jTextField1.setFont(deSans);\n            \n            dotumChe = Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)).deriveFont(10f);\n            ge.registerFont(Font.createFont(Font.TRUETYPE_FONT, new File(&quot;src/dotumche-pixel.ttf&quot;)));\n            \n            jLabel7.setFont(dotumChe);\n        }\n        catch(IOException | FontFormatException e){\n            \n        }\n</code></pre>\n<p>The fonts (ttf) is placed in the default package, with my main class.</p>\n<p>I tried using the inputstream but it only made it not work in netbeans and the jar file too.</p>\n"},{"tags":["java","spring-boot","jdbctemplate","rowmapper"],"answers":[{"tags":[],"owner":{"account_id":25909017,"reputation":554,"user_id":19633625,"display_name":"Louis"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1684064172,"creation_date":1684064172,"answer_id":76247264,"question_id":76247090,"body_markdown":"It looks like that you have the problem with your SQL query for fetching the courses. You are querying the mst_question table to get the list of courses, which will return all the courses even if there are no questions associated with them.\r\n\r\nYou need to change your SQL query to fetch only those courses that have at least one question associated with them. You can do this by using a subquery to count the number of questions associated with each course and filter out courses that have no questions.\r\n\r\n```sql\r\nSELECT c.course_id, c.course_name\r\nFROM mst_course c\r\nWHERE c.is_active = true\r\nAND EXISTS (\r\n  SELECT 1 FROM mst_question q WHERE q.is_active = true AND q.course_id = c.course_id\r\n)\r\n```\r\n\r\nI hope this query will help you!","title":"How to use jdbcTemplate and rowmapper, if my dto class contains list in it?","body":"<p>It looks like that you have the problem with your SQL query for fetching the courses. You are querying the mst_question table to get the list of courses, which will return all the courses even if there are no questions associated with them.</p>\n<p>You need to change your SQL query to fetch only those courses that have at least one question associated with them. You can do this by using a subquery to count the number of questions associated with each course and filter out courses that have no questions.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT c.course_id, c.course_name\nFROM mst_course c\nWHERE c.is_active = true\nAND EXISTS (\n  SELECT 1 FROM mst_question q WHERE q.is_active = true AND q.course_id = c.course_id\n)\n</code></pre>\n<p>I hope this query will help you!</p>\n"}],"owner":{"account_id":28073957,"reputation":1,"user_id":21446127,"display_name":"donthamsetty yashashwini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684147963,"creation_date":1684061680,"question_id":76247090,"body_markdown":"I want to use rowMapper or jdbctemplate for one-to-many relation. \r\nMy dto class contains List of questions in course dto.\r\n\r\n    public class CourseQuestionsDto {\r\n    \r\n        \t@NotNull(message=&quot;Course Id cannot be null.&quot;)\r\n        \tprivate Integer courseId;\r\n        \t\r\n        \t@NotBlank(message=&quot;Course name cannot be blank.&quot;)\r\n        \tprivate String courseName;\r\n        \t\r\n        \tprivate List&lt;QuestionDto&gt; questionsDto;\r\n        }\r\n\r\nAnd my question dto has few required fields, and also I have course dto class to get course details\r\n\r\n\r\nI want to display all the questions under course in the format of &quot;COURSEQUESTIONSDTO class&quot; using jdbcTemplate.\r\n\r\nI have tried something like this.\r\n\r\n    public List&lt;CourseQuestionsDto&gt; getActiveQuestion(){\r\n    \t\tString courseSql=&quot;select course_id,course_name from mst_question where is_active=true&quot;;\r\n    \t\tString questionSql=&quot;select * from mst_question where is_active=true and course_id=:courseId&quot;;\r\n    \t\tString optionSql=&quot;select * from mst_question_option where question_id=:questionId&quot;;\r\n    \t\treturn getQuestion(courseSql,questionSql,optionSql);\r\n    \t}\r\n\r\nand `getQuestion()` method.\r\n\r\n    public List&lt;CourseQuestionsDto&gt; getQuestion(String courseSql,String questionSql,String optionSql){\r\n    \t\t\r\n    \t\tList&lt;CourseDto&gt; courseList= namedJdbcTemplate.query(courseSql, new CourseRowMapper());\r\n    \t\tList&lt;CourseQuestionsDto&gt; courseQues =new ArrayList&lt;CourseQuestionsDto&gt;();\r\n    \t\tMap&lt;String,Object&gt; courseMap=new HashMap&lt;String, Object&gt;();\r\n    \t\t\r\n    \t\tfor(CourseDto course:courseList) {\r\n    \t\t\tCourseQuestionsDto setCourse=new CourseQuestionsDto();\r\n    \t\t\tcourseMap.put(&quot;courseId&quot;,course.getCourseId());\r\n    \t\t\tList&lt;QuestionDto&gt; questionList=namedJdbcTemplate.query(questionSql,courseMap, new QuestionRowMapper());\r\n    \t\t\tList&lt;QuestionDto&gt; questionListReturn = new ArrayList&lt;QuestionDto&gt;();\r\n    \t\t\t\r\n    \t\t\tfor(QuestionDto question:questionList) {\r\n    \t\t\t\tSqlParameterSource questionMap=new MapSqlParameterSource(&quot;questionId&quot;,question.getQuestionId());\r\n    \t\t\t\tList&lt;QuestionOptionsDto&gt; optionList=namedJdbcTemplate.query(optionSql,questionMap, new QuestionOptionRowMapper());\r\n    \t\t\t\t\r\n    \t\t\t\tquestion.setQuestionOptionsDto(optionList);\r\n    \t\t\t\tquestionListReturn.add(question);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tsetCourse.setCourseId(course.getCourseId());\r\n    \t\t\tsetCourse.setCourseName(course.getCourseName());\r\n    \t\t\tsetCourse.setQuestionsDto(questionListReturn);\r\n    \t\t\tcourseQues.add(setCourse);\r\n    \t\t}\r\n    \t\t\r\n    \t\treturn courseQues;\r\n    \t}\r\n\r\nPlease help me with it, I have tried so many ways to do it but I couldn&#39;t.\r\nThe above code is working fine, but it displays the courses that are not present in questions table.\r\n\r\n\r\n\r\n\r\nI have tried above code. It displaying the courses that are not present in my question table.\r\nsomething like this.\r\n\r\n    &quot;response&quot;: [\r\n        {\r\n          &quot;courseId&quot;: 1,\r\n          &quot;courseName&quot;: &quot;Induction&quot;,\r\n          &quot;questionsDto&quot;: [\r\n            {\r\n              &quot;questionId&quot;: 2,\r\n              &quot;question&quot;: &quot;How are you&quot;\r\n              &quot;questionOptionsDto&quot;: [\r\n                {\r\n                  &quot;optionId&quot;: 1,\r\n                  &quot;optionName&quot;: &quot;string 1&quot;,\r\n                  &quot;isActive&quot;: true,\r\n                  &quot;isDeleted&quot;: false\r\n                }\r\n              ]\r\n    },\r\n    {\r\n          &quot;courseId&quot;: 2,\r\n          &quot;courseName&quot;: &quot;string&quot;,\r\n          &quot;questionsDto&quot;: []\r\n        }\r\n      ]\r\n\r\n","title":"How to use jdbcTemplate and rowmapper, if my dto class contains list in it?","body":"<p>I want to use rowMapper or jdbctemplate for one-to-many relation.\nMy dto class contains List of questions in course dto.</p>\n<pre><code>public class CourseQuestionsDto {\n\n        @NotNull(message=&quot;Course Id cannot be null.&quot;)\n        private Integer courseId;\n        \n        @NotBlank(message=&quot;Course name cannot be blank.&quot;)\n        private String courseName;\n        \n        private List&lt;QuestionDto&gt; questionsDto;\n    }\n</code></pre>\n<p>And my question dto has few required fields, and also I have course dto class to get course details</p>\n<p>I want to display all the questions under course in the format of &quot;COURSEQUESTIONSDTO class&quot; using jdbcTemplate.</p>\n<p>I have tried something like this.</p>\n<pre><code>public List&lt;CourseQuestionsDto&gt; getActiveQuestion(){\n        String courseSql=&quot;select course_id,course_name from mst_question where is_active=true&quot;;\n        String questionSql=&quot;select * from mst_question where is_active=true and course_id=:courseId&quot;;\n        String optionSql=&quot;select * from mst_question_option where question_id=:questionId&quot;;\n        return getQuestion(courseSql,questionSql,optionSql);\n    }\n</code></pre>\n<p>and <code>getQuestion()</code> method.</p>\n<pre><code>public List&lt;CourseQuestionsDto&gt; getQuestion(String courseSql,String questionSql,String optionSql){\n        \n        List&lt;CourseDto&gt; courseList= namedJdbcTemplate.query(courseSql, new CourseRowMapper());\n        List&lt;CourseQuestionsDto&gt; courseQues =new ArrayList&lt;CourseQuestionsDto&gt;();\n        Map&lt;String,Object&gt; courseMap=new HashMap&lt;String, Object&gt;();\n        \n        for(CourseDto course:courseList) {\n            CourseQuestionsDto setCourse=new CourseQuestionsDto();\n            courseMap.put(&quot;courseId&quot;,course.getCourseId());\n            List&lt;QuestionDto&gt; questionList=namedJdbcTemplate.query(questionSql,courseMap, new QuestionRowMapper());\n            List&lt;QuestionDto&gt; questionListReturn = new ArrayList&lt;QuestionDto&gt;();\n            \n            for(QuestionDto question:questionList) {\n                SqlParameterSource questionMap=new MapSqlParameterSource(&quot;questionId&quot;,question.getQuestionId());\n                List&lt;QuestionOptionsDto&gt; optionList=namedJdbcTemplate.query(optionSql,questionMap, new QuestionOptionRowMapper());\n                \n                question.setQuestionOptionsDto(optionList);\n                questionListReturn.add(question);\n                \n            }\n            setCourse.setCourseId(course.getCourseId());\n            setCourse.setCourseName(course.getCourseName());\n            setCourse.setQuestionsDto(questionListReturn);\n            courseQues.add(setCourse);\n        }\n        \n        return courseQues;\n    }\n</code></pre>\n<p>Please help me with it, I have tried so many ways to do it but I couldn't.\nThe above code is working fine, but it displays the courses that are not present in questions table.</p>\n<p>I have tried above code. It displaying the courses that are not present in my question table.\nsomething like this.</p>\n<pre><code>&quot;response&quot;: [\n    {\n      &quot;courseId&quot;: 1,\n      &quot;courseName&quot;: &quot;Induction&quot;,\n      &quot;questionsDto&quot;: [\n        {\n          &quot;questionId&quot;: 2,\n          &quot;question&quot;: &quot;How are you&quot;\n          &quot;questionOptionsDto&quot;: [\n            {\n              &quot;optionId&quot;: 1,\n              &quot;optionName&quot;: &quot;string 1&quot;,\n              &quot;isActive&quot;: true,\n              &quot;isDeleted&quot;: false\n            }\n          ]\n},\n{\n      &quot;courseId&quot;: 2,\n      &quot;courseName&quot;: &quot;string&quot;,\n      &quot;questionsDto&quot;: []\n    }\n  ]\n</code></pre>\n"},{"tags":["java","spring","database","dao","jdbctemplate"],"comments":[{"owner":{"account_id":428023,"reputation":15099,"user_id":810077,"accept_rate":83,"display_name":"Chetan Kinger"},"score":0,"creation_date":1684076135,"post_id":76248090,"comment_id":134460528,"body_markdown":"What does your pom.xml and application.properties look like?","body":"What does your pom.xml and application.properties look like?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684131071,"post_id":76248090,"comment_id":134465921,"body_markdown":"Is this your actual code or some dumbed down version of your code not showing everything there is in play?","body":"Is this your actual code or some dumbed down version of your code not showing everything there is in play?"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1684131039,"post_id":76248602,"comment_id":134465916,"body_markdown":"No you don&#39;t need setters, and one should prefer constructor injection over field injection.","body":"No you don&#39;t need setters, and one should prefer constructor injection over field injection."}],"tags":[],"owner":{"account_id":10753100,"reputation":364,"user_id":7911790,"display_name":"Navnath Adsul"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1684082365,"creation_date":1684082365,"answer_id":76248602,"question_id":76248090,"body_markdown":"in your code, you have used the setter method, and it&#39;s used for setting extra properties to objects or customizing objects with specific logic.\r\n\r\n\r\nIf you don&#39;t want any extra customization then, use `@Autowired` annotation to initiate the property with declatrion. for e.g.\r\n\r\n    @Autowired\r\n    private JdbcTemplate jdbcTemplate;\r\n\r\n","title":"Java Spring, jdbcTemplate. jdbcTemplate is null and throws null pointer exception","body":"<p>in your code, you have used the setter method, and it's used for setting extra properties to objects or customizing objects with specific logic.</p>\n<p>If you don't want any extra customization then, use <code>@Autowired</code> annotation to initiate the property with declatrion. for e.g.</p>\n<pre><code>@Autowired\nprivate JdbcTemplate jdbcTemplate;\n</code></pre>\n"}],"owner":{"account_id":25775130,"reputation":11,"user_id":19522134,"display_name":"murakami w slancah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":885,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684131082,"answer_count":1,"score":1,"last_activity_date":1684147933,"creation_date":1684075776,"question_id":76248090,"body_markdown":"jdbcTemplate is null and throws null pointer exception\r\n\r\nHi, maybe can someone explain why thist jdbc DAO method doesn&#39;t work and throws this exception?\r\n\r\nController\r\n```\r\n@Controller\r\npublic class MainPageController {\r\n    private final VehicleDAO vehicleDAO;\r\n    private final UserDAO userDAO;\r\n\r\n    @Autowired\r\n    public MainPageController(VehicleDAO vehicleDAO, UserDAO userDAO) {\r\n        this.vehicleDAO = vehicleDAO;\r\n        this.userDAO = userDAO;\r\n    }\r\n    @GetMapping(&quot;/main&quot;)\r\n    public String index(UserDAO user, Model model) {\r\n        model.addAttribute(&quot;vehicles&quot;, vehicleDAO.index());\r\n        model.addAttribute(&quot;user&quot;, userDAO.currentUser());\r\n        return &quot;main&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/new-vehicle&quot;)\r\n    public String newCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle) {\r\n        return &quot;new-vehicle&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/new-vehicle&quot;)\r\n    public String addCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle,\r\n                         VehicleDAO vehicleDAO) {\r\n        vehicleDAO.add(vehicle);\r\n        return &quot;redirect:/main&quot;;\r\n    }\r\n}\r\n```\r\n\r\nThe problem is in the &quot;add&quot; method.\r\n\r\n```\r\n@Component\r\npublic class VehicleDAO {\r\n    private final JdbcTemplate jdbcTemplate;\r\n\r\n    @Autowired\r\n    public VehicleDAO(JdbcTemplate jdbcTemplate) {\r\n        this.jdbcTemplate = jdbcTemplate;\r\n    }\r\n\r\n    public List&lt;Vehicle&gt; index() {\r\n        return jdbcTemplate.query(&quot;SELECT * FROM vehicles&quot;, new BeanPropertyRowMapper&lt;&gt;(Vehicle.class));\r\n    }\r\n\r\n    public void add(Vehicle vehicle) {\r\n        jdbcTemplate.update(&quot;INSERT INTO vehicles (car_brand, car_year, price_rent) VALUES(?, ?, ?)&quot;, vehicle.getCAR_BRAND(),\r\n                vehicle.getCAR_YEAR(), vehicle.getPRICE_RENT()); // here the problem\r\n    }\r\n```\r\n\r\nVehicle object\r\n\r\n```\r\npublic class Vehicle {\r\n    private int CAR_ID;\r\n    private String CAR_BRAND;\r\n    private int PRICE_RENT;\r\n    private int CAR_YEAR;\r\n\r\n    public Vehicle() {\r\n    }\r\n\r\n    public String getCAR_BRAND() {\r\n        return CAR_BRAND;\r\n    }\r\n\r\n    public void setCAR_BRAND(String CAR_BRAND) {\r\n        this.CAR_BRAND = CAR_BRAND;\r\n    }\r\n\r\n    public int getPRICE_RENT() {\r\n        return PRICE_RENT;\r\n    }\r\n\r\n    public void setPRICE_RENT(int PRICE_RENT) {\r\n        this.PRICE_RENT = PRICE_RENT;\r\n    }\r\n\r\n    public int getCAR_YEAR() {\r\n        return CAR_YEAR;\r\n    }\r\n\r\n    public void setCAR_YEAR(int CAR_YEAR) {\r\n        this.CAR_YEAR = CAR_YEAR;\r\n    }\r\n\r\n    public int getCAR_ID() {\r\n        return CAR_ID;\r\n    }\r\n\r\n    public void setCAR_ID(int CAR_ID) {\r\n        this.CAR_ID = CAR_ID;\r\n    }\r\n\r\n    public Vehicle(String CAR_BRAND, int PRICE_RENT, int CAR_YEAR, int CAR_ID) {\r\n        this.CAR_BRAND = CAR_BRAND;\r\n        this.PRICE_RENT = PRICE_RENT;\r\n        this.CAR_YEAR = CAR_YEAR;\r\n        this.CAR_ID = CAR_ID;\r\n    }\r\n}\r\n```\r\nPOM.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;pl.messages&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;web&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;web&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;8.0.0.Final&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;RELEASE&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n```\r\n\r\nProperties\r\n\r\n    spring.datasource.url=jdbc:postgresql://localhost:5432/CoolStoreDB\r\n    spring.datasource.username=user\r\n    spring.datasource.password=user\r\n\r\nConsole\r\n```\r\n2023-05-14T18:51:03.496+02:00  INFO 9688 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\r\n2023-05-14T18:51:03.549+02:00  INFO 9688 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n2023-05-14T18:51:03.563+02:00  INFO 9688 --- [  restartedMain] pl.messages.web.WebApplication           : Started WebApplication in 4.326 seconds (process running for 5.201)\r\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n2023-05-14T18:51:18.618+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\r\n2023-05-14T18:51:18.707+02:00 ERROR 9688 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null\r\n\tat pl.messages.web.dao.VehicleDAO.add(VehicleDAO.java:22) ~[classes/:na]\r\n\tat pl.messages.web.controller.MainPageController.addCar(MainPageController.java:41) ~[classes/:na]\r\n```\r\n\r\nI have tried change my sql command and debugged everything. Values came to the method but however throws me null of jdbcTemplayte for some reason.\r\n","title":"Java Spring, jdbcTemplate. jdbcTemplate is null and throws null pointer exception","body":"<p>jdbcTemplate is null and throws null pointer exception</p>\n<p>Hi, maybe can someone explain why thist jdbc DAO method doesn't work and throws this exception?</p>\n<p>Controller</p>\n<pre><code>@Controller\npublic class MainPageController {\n    private final VehicleDAO vehicleDAO;\n    private final UserDAO userDAO;\n\n    @Autowired\n    public MainPageController(VehicleDAO vehicleDAO, UserDAO userDAO) {\n        this.vehicleDAO = vehicleDAO;\n        this.userDAO = userDAO;\n    }\n    @GetMapping(&quot;/main&quot;)\n    public String index(UserDAO user, Model model) {\n        model.addAttribute(&quot;vehicles&quot;, vehicleDAO.index());\n        model.addAttribute(&quot;user&quot;, userDAO.currentUser());\n        return &quot;main&quot;;\n    }\n\n    @GetMapping(&quot;/new-vehicle&quot;)\n    public String newCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle) {\n        return &quot;new-vehicle&quot;;\n    }\n\n    @PostMapping(&quot;/new-vehicle&quot;)\n    public String addCar(@ModelAttribute(&quot;vehicle&quot;) Vehicle vehicle,\n                         VehicleDAO vehicleDAO) {\n        vehicleDAO.add(vehicle);\n        return &quot;redirect:/main&quot;;\n    }\n}\n</code></pre>\n<p>The problem is in the &quot;add&quot; method.</p>\n<pre><code>@Component\npublic class VehicleDAO {\n    private final JdbcTemplate jdbcTemplate;\n\n    @Autowired\n    public VehicleDAO(JdbcTemplate jdbcTemplate) {\n        this.jdbcTemplate = jdbcTemplate;\n    }\n\n    public List&lt;Vehicle&gt; index() {\n        return jdbcTemplate.query(&quot;SELECT * FROM vehicles&quot;, new BeanPropertyRowMapper&lt;&gt;(Vehicle.class));\n    }\n\n    public void add(Vehicle vehicle) {\n        jdbcTemplate.update(&quot;INSERT INTO vehicles (car_brand, car_year, price_rent) VALUES(?, ?, ?)&quot;, vehicle.getCAR_BRAND(),\n                vehicle.getCAR_YEAR(), vehicle.getPRICE_RENT()); // here the problem\n    }\n</code></pre>\n<p>Vehicle object</p>\n<pre><code>public class Vehicle {\n    private int CAR_ID;\n    private String CAR_BRAND;\n    private int PRICE_RENT;\n    private int CAR_YEAR;\n\n    public Vehicle() {\n    }\n\n    public String getCAR_BRAND() {\n        return CAR_BRAND;\n    }\n\n    public void setCAR_BRAND(String CAR_BRAND) {\n        this.CAR_BRAND = CAR_BRAND;\n    }\n\n    public int getPRICE_RENT() {\n        return PRICE_RENT;\n    }\n\n    public void setPRICE_RENT(int PRICE_RENT) {\n        this.PRICE_RENT = PRICE_RENT;\n    }\n\n    public int getCAR_YEAR() {\n        return CAR_YEAR;\n    }\n\n    public void setCAR_YEAR(int CAR_YEAR) {\n        this.CAR_YEAR = CAR_YEAR;\n    }\n\n    public int getCAR_ID() {\n        return CAR_ID;\n    }\n\n    public void setCAR_ID(int CAR_ID) {\n        this.CAR_ID = CAR_ID;\n    }\n\n    public Vehicle(String CAR_BRAND, int PRICE_RENT, int CAR_YEAR, int CAR_ID) {\n        this.CAR_BRAND = CAR_BRAND;\n        this.PRICE_RENT = PRICE_RENT;\n        this.CAR_YEAR = CAR_YEAR;\n        this.CAR_ID = CAR_ID;\n    }\n}\n</code></pre>\n<p>POM.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;pl.messages&lt;/groupId&gt;\n    &lt;artifactId&gt;web&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;web&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;8.0.0.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n            &lt;version&gt;RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n</code></pre>\n<p>Properties</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/CoolStoreDB\nspring.datasource.username=user\nspring.datasource.password=user\n</code></pre>\n<p>Console</p>\n<pre><code>2023-05-14T18:51:03.496+02:00  INFO 9688 --- [  restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729\n2023-05-14T18:51:03.549+02:00  INFO 9688 --- [  restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2023-05-14T18:51:03.563+02:00  INFO 9688 --- [  restartedMain] pl.messages.web.WebApplication           : Started WebApplication in 4.326 seconds (process running for 5.201)\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2023-05-14T18:51:18.616+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2023-05-14T18:51:18.618+02:00  INFO 9688 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms\n2023-05-14T18:51:18.707+02:00 ERROR 9688 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: java.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;org.springframework.jdbc.core.JdbcTemplate.update(String, Object[])&quot; because &quot;this.jdbcTemplate&quot; is null\n    at pl.messages.web.dao.VehicleDAO.add(VehicleDAO.java:22) ~[classes/:na]\n    at pl.messages.web.controller.MainPageController.addCar(MainPageController.java:41) ~[classes/:na]\n</code></pre>\n<p>I have tried change my sql command and debugged everything. Values came to the method but however throws me null of jdbcTemplayte for some reason.</p>\n"},{"tags":["javascript","java","android","android-studio","android-webview"],"comments":[{"owner":{"account_id":5144572,"reputation":3474,"user_id":4120911,"accept_rate":40,"display_name":"Cliff Burton"},"score":0,"creation_date":1678883761,"post_id":75744746,"comment_id":133618836,"body_markdown":"what is the exception you are getting from executing this?","body":"what is the exception you are getting from executing this?"},{"owner":{"account_id":28023188,"reputation":13,"user_id":21403638,"display_name":"Cyber fahad"},"score":0,"creation_date":1678884153,"post_id":75744746,"comment_id":133618947,"body_markdown":"user is able to upload add image or file from web url but through webview app the buttons not working even i tried all possible solutions also download button of files not working","body":"user is able to upload add image or file from web url but through webview app the buttons not working even i tried all possible solutions also download button of files not working"}],"answers":[{"tags":[],"owner":{"account_id":11636383,"reputation":1,"user_id":8522487,"display_name":"Ateeq Rehman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678885645,"creation_date":1678885645,"answer_id":75745163,"question_id":75744746,"body_markdown":"If you are using android 13, make sure you add READ_MEDIA_IMAGES permissions.","title":"web view file download and upload file issue","body":"<p>If you are using android 13, make sure you add READ_MEDIA_IMAGES permissions.</p>\n"},{"tags":[],"owner":{"account_id":26401260,"reputation":16,"user_id":20051685,"display_name":"michael emad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684147332,"creation_date":1684010892,"answer_id":76244816,"question_id":75744746,"body_markdown":"Using android 13 I had the same issue, it wouldn&#39;t open storage, so I added permissions in manifest :\r\n\r\n    uses-permission android:name= android.permission.READ_MEDIA_IMAGES\r\n    uses-permission android:name= android.permission.READ_MEDIA_VIDEO\r\n    uses-permission android:name= android.permission.READ_MEDIA_AUDIO\r\n\r\n\r\n ","title":"web view file download and upload file issue","body":"<p>Using android 13 I had the same issue, it wouldn't open storage, so I added permissions in manifest :</p>\n<pre><code>uses-permission android:name= android.permission.READ_MEDIA_IMAGES\nuses-permission android:name= android.permission.READ_MEDIA_VIDEO\nuses-permission android:name= android.permission.READ_MEDIA_AUDIO\n</code></pre>\n"}],"owner":{"account_id":28023188,"reputation":13,"user_id":21403638,"display_name":"Cyber fahad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":981,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76244816,"answer_count":2,"score":1,"last_activity_date":1684147332,"creation_date":1678883598,"question_id":75744746,"body_markdown":"i convert my website to webview apk using android studio but the upload and download functionality not working, i added all necessary permission but still facing this issue below is my Mainactivity.java code \r\n```\r\n`\r\n\r\npackage com.example.eprepareacademy2o;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.net.ConnectivityManager;\r\nimport android.net.NetworkInfo;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.Window;\r\nimport android.webkit.DownloadListener;\r\nimport android.webkit.ValueCallback;\r\nimport android.webkit.WebChromeClient;\r\nimport android.webkit.WebView;\r\nimport android.webkit.WebViewClient;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    String websiteURL = &quot;xyz.com/&quot;; // sets web url\r\n\r\n    private WebView webview;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\r\n        {\r\n            //if there is no internet do this\r\n            setContentView(R.layout.activity_main);\r\n\r\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                    .setTitle(&quot;No internet connection available&quot;)\r\n                    .setMessage(&quot;Please Check you&#39;re Mobile data or Wifi network.&quot;)\r\n                    .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            finish();\r\n                        }\r\n                    })\r\n                    .show();\r\n\r\n        }\r\n        else\r\n        {\r\n            //Webview stuff\r\n            webview = findViewById(R.id.webView);\r\n            webview.getSettings().setJavaScriptEnabled(true);\r\n            webview.getSettings().setAllowFileAccess(true);\r\n            webview.getSettings().setAllowFileAccess(true);\r\n            webview.getSettings().setAllowFileAccessFromFileURLs(true);\r\n            webview.getSettings().setAllowUniversalAccessFromFileURLs(true);\r\n            webview.setWebChromeClient(new WebChromeClient() {\r\n                public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\r\n                    // Handle file upload\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            webview.setDownloadListener(new DownloadListener() {\r\n                public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\r\n                    // Handle file download\r\n                }\r\n            });\r\n\r\n            webview.setWebViewClient(new WebViewClient() {\r\n                public boolean shouldOverrideUrlLoading(WebView webView, String url) {\r\n                    if (url.endsWith(&quot;.pdf&quot;)) {\r\n                        // Handle PDF file download\r\n                        return true;\r\n                    }\r\n                    // Handle other types of file downloads\r\n                    return false;\r\n                }\r\n            });\r\n\r\n            webview.loadUrl(&quot;xyz.com/&quot;);\r\n\r\n            webview.getSettings().setDomStorageEnabled(true);\r\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\r\n            webview.loadUrl(websiteURL);\r\n            webview.setWebViewClient(new WebViewClientDemo());\r\n            webview.setWebChromeClient(new WebChromeClient() {\r\n\r\n\r\n                @Override\r\n                public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\r\n                    // Handle file upload\r\n                    return true;\r\n                }\r\n            });\r\n\r\n\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    private class WebViewClientDemo extends WebViewClient {\r\n        @Override\r\n        //Keep webview in app when clicking links\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            if (url.startsWith(&quot;http:&quot;) || url.startsWith(&quot;https:&quot;)) {\r\n                view.loadUrl(url);\r\n                return true;\r\n            } else {\r\n                //Handle internal links\r\n                view.loadUrl(websiteURL + url);\r\n                return true;\r\n            }\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onBackPressed() { //if user presses the back button do this\r\n        if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\r\n            webview.goBack(); //go back in webview\r\n        } else { //do this if the webview cannot go back any further\r\n\r\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\r\n                    .setTitle(&quot;EXIT&quot;)\r\n                    .setMessage(&quot;Are you sure. You want to close this app?&quot;)\r\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            finish();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(&quot;No&quot;, null)\r\n                    .show();\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n\r\nclass CheckNetwork {\r\n\r\n    private static final String TAG = CheckNetwork.class.getSimpleName();\r\n\r\n    public static boolean isInternetAvailable(Context context)\r\n    {\r\n        NetworkInfo info = (NetworkInfo) ((ConnectivityManager)\r\n                context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\r\n\r\n        if (info == null)\r\n        {\r\n            Log.d(TAG,&quot;no internet connection&quot;);\r\n            return false;\r\n        }\r\n        else\r\n        {\r\n            if(info.isConnected())\r\n            {\r\n                Log.d(TAG,&quot; internet connection available...&quot;);\r\n                return true;\r\n            }\r\n            else\r\n            {\r\n                Log.d(TAG,&quot; internet connection&quot;);\r\n                return true;\r\n            }\r\n\r\n\r\n\r\n        }\r\n    }\r\n\r\n    private class WebViewClientDemo extends WebViewClient {\r\n        @Override\r\n        //Keep webview in app when clicking links\r\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n\r\n        @Override\r\n        public void onPageFinished(WebView view, String url) {\r\n            super.onPageFinished(view, url);\r\n            // Enable full screen for embedded items\r\n            view.loadUrl(&quot;javascript:(function() { &quot; +\r\n                    &quot;var videos = document.getElementsByTagName(&#39;video&#39;); &quot; +\r\n                    &quot;for(var i=0;i&lt;videos.length;i++) { &quot; +\r\n                    &quot;videos[i].setAttribute(&#39;webkit-playsinline&#39;, &#39;&#39;); &quot; +\r\n                    &quot;videos[i].setAttribute(&#39;playsinline&#39;, &#39;&#39;); &quot; +\r\n                    &quot;videos[i].setAttribute(&#39;controls&#39;, &#39;&#39;); &quot; +\r\n                    &quot;videos[i].setAttribute(&#39;style&#39;, &#39;max-width:100%; height:auto;&#39;); &quot; +\r\n                    &quot;}&quot; +\r\n                    &quot;var iframes = document.getElementsByTagName(&#39;iframe&#39;);&quot; +\r\n                    &quot;for(var i=0;i&lt;iframes.length;i++){&quot; +\r\n                    &quot;if(iframes[i].src.includes(&#39;youtube&#39;) || iframes[i].src.includes(&#39;vimeo&#39;)) {&quot; +\r\n                    &quot;iframes[i].setAttribute(&#39;frameborder&#39;, &#39;0&#39;);&quot; +\r\n                    &quot;iframes[i].setAttribute(&#39;allowfullscreen&#39;, &#39;&#39;);&quot; +\r\n                    &quot;iframes[i].setAttribute(&#39;webkitallowfullscreen&#39;, &#39;&#39;);&quot; +\r\n                    &quot;iframes[i].setAttribute(&#39;mozallowfullscreen&#39;, &#39;&#39;);&quot; +\r\n                    &quot;iframes[i].setAttribute(&#39;style&#39;, &#39;width:100%; height:100%;&#39;);&quot; +\r\n                    &quot;}&quot; +\r\n                    &quot;}&quot; +\r\n                    &quot;})()&quot;);\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n`\r\n```\r\n\r\nalso here is Androidminifist folder which contain necessary permission   \r\n`&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n\r\n\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n\r\n    &lt;application\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@drawable/ic_launcher_foreground&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.EprepareAcademy2O&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;false&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.SplashActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;`\r\n\r\ni convert my website to a webview apk using android studio, it working properly but the upload and download files button not working.\r\ntried more than 50+ videos on youtube and many articles but still issue with these","title":"web view file download and upload file issue","body":"<p>i convert my website to webview apk using android studio but the upload and download functionality not working, i added all necessary permission but still facing this issue below is my Mainactivity.java code</p>\n<pre><code>`\n\npackage com.example.eprepareacademy2o;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.net.ConnectivityManager;\nimport android.net.NetworkInfo;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.Window;\nimport android.webkit.DownloadListener;\nimport android.webkit.ValueCallback;\nimport android.webkit.WebChromeClient;\nimport android.webkit.WebView;\nimport android.webkit.WebViewClient;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    String websiteURL = &quot;xyz.com/&quot;; // sets web url\n\n    private WebView webview;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        if( ! CheckNetwork.isInternetAvailable(this)) //returns true if internet available\n        {\n            //if there is no internet do this\n            setContentView(R.layout.activity_main);\n\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                    .setTitle(&quot;No internet connection available&quot;)\n                    .setMessage(&quot;Please Check you're Mobile data or Wifi network.&quot;)\n                    .setPositiveButton(&quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            finish();\n                        }\n                    })\n                    .show();\n\n        }\n        else\n        {\n            //Webview stuff\n            webview = findViewById(R.id.webView);\n            webview.getSettings().setJavaScriptEnabled(true);\n            webview.getSettings().setAllowFileAccess(true);\n            webview.getSettings().setAllowFileAccess(true);\n            webview.getSettings().setAllowFileAccessFromFileURLs(true);\n            webview.getSettings().setAllowUniversalAccessFromFileURLs(true);\n            webview.setWebChromeClient(new WebChromeClient() {\n                public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\n                    // Handle file upload\n                    return true;\n                }\n            });\n\n            webview.setDownloadListener(new DownloadListener() {\n                public void onDownloadStart(String url, String userAgent, String contentDisposition, String mimetype, long contentLength) {\n                    // Handle file download\n                }\n            });\n\n            webview.setWebViewClient(new WebViewClient() {\n                public boolean shouldOverrideUrlLoading(WebView webView, String url) {\n                    if (url.endsWith(&quot;.pdf&quot;)) {\n                        // Handle PDF file download\n                        return true;\n                    }\n                    // Handle other types of file downloads\n                    return false;\n                }\n            });\n\n            webview.loadUrl(&quot;xyz.com/&quot;);\n\n            webview.getSettings().setDomStorageEnabled(true);\n            webview.setOverScrollMode(WebView.OVER_SCROLL_NEVER);\n            webview.loadUrl(websiteURL);\n            webview.setWebViewClient(new WebViewClientDemo());\n            webview.setWebChromeClient(new WebChromeClient() {\n\n\n                @Override\n                public boolean onShowFileChooser(WebView webView, ValueCallback&lt;Uri[]&gt; filePathCallback, WebChromeClient.FileChooserParams fileChooserParams) {\n                    // Handle file upload\n                    return true;\n                }\n            });\n\n\n        }\n    }\n\n\n\n\n\n\n    private class WebViewClientDemo extends WebViewClient {\n        @Override\n        //Keep webview in app when clicking links\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            if (url.startsWith(&quot;http:&quot;) || url.startsWith(&quot;https:&quot;)) {\n                view.loadUrl(url);\n                return true;\n            } else {\n                //Handle internal links\n                view.loadUrl(websiteURL + url);\n                return true;\n            }\n        }\n\n\n    }\n\n\n\n    @Override\n    public void onBackPressed() { //if user presses the back button do this\n        if (webview.isFocused() &amp;&amp; webview.canGoBack()) { //check if in webview and the user can go back\n            webview.goBack(); //go back in webview\n        } else { //do this if the webview cannot go back any further\n\n            new AlertDialog.Builder(this) //alert the person knowing they are about to close\n                    .setTitle(&quot;EXIT&quot;)\n                    .setMessage(&quot;Are you sure. You want to close this app?&quot;)\n                    .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                        @Override\n                        public void onClick(DialogInterface dialog, int which) {\n                            finish();\n                        }\n                    })\n                    .setNegativeButton(&quot;No&quot;, null)\n                    .show();\n        }\n    }\n\n\n\n\n}\n\nclass CheckNetwork {\n\n    private static final String TAG = CheckNetwork.class.getSimpleName();\n\n    public static boolean isInternetAvailable(Context context)\n    {\n        NetworkInfo info = (NetworkInfo) ((ConnectivityManager)\n                context.getSystemService(Context.CONNECTIVITY_SERVICE)).getActiveNetworkInfo();\n\n        if (info == null)\n        {\n            Log.d(TAG,&quot;no internet connection&quot;);\n            return false;\n        }\n        else\n        {\n            if(info.isConnected())\n            {\n                Log.d(TAG,&quot; internet connection available...&quot;);\n                return true;\n            }\n            else\n            {\n                Log.d(TAG,&quot; internet connection&quot;);\n                return true;\n            }\n\n\n\n        }\n    }\n\n    private class WebViewClientDemo extends WebViewClient {\n        @Override\n        //Keep webview in app when clicking links\n        public boolean shouldOverrideUrlLoading(WebView view, String url) {\n            view.loadUrl(url);\n            return true;\n        }\n\n        @Override\n        public void onPageFinished(WebView view, String url) {\n            super.onPageFinished(view, url);\n            // Enable full screen for embedded items\n            view.loadUrl(&quot;javascript:(function() { &quot; +\n                    &quot;var videos = document.getElementsByTagName('video'); &quot; +\n                    &quot;for(var i=0;i&lt;videos.length;i++) { &quot; +\n                    &quot;videos[i].setAttribute('webkit-playsinline', ''); &quot; +\n                    &quot;videos[i].setAttribute('playsinline', ''); &quot; +\n                    &quot;videos[i].setAttribute('controls', ''); &quot; +\n                    &quot;videos[i].setAttribute('style', 'max-width:100%; height:auto;'); &quot; +\n                    &quot;}&quot; +\n                    &quot;var iframes = document.getElementsByTagName('iframe');&quot; +\n                    &quot;for(var i=0;i&lt;iframes.length;i++){&quot; +\n                    &quot;if(iframes[i].src.includes('youtube') || iframes[i].src.includes('vimeo')) {&quot; +\n                    &quot;iframes[i].setAttribute('frameborder', '0');&quot; +\n                    &quot;iframes[i].setAttribute('allowfullscreen', '');&quot; +\n                    &quot;iframes[i].setAttribute('webkitallowfullscreen', '');&quot; +\n                    &quot;iframes[i].setAttribute('mozallowfullscreen', '');&quot; +\n                    &quot;iframes[i].setAttribute('style', 'width:100%; height:100%;');&quot; +\n                    &quot;}&quot; +\n                    &quot;}&quot; +\n                    &quot;})()&quot;);\n\n        }\n\n\n\n\n    }\n\n\n\n\n}\n`\n</code></pre>\n<p>also here is Androidminifist folder which contain necessary permission<br />\n`</p>\n<p></p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot; /&gt;\n&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n\n\n&lt;application\n    android:usesCleartextTraffic=&quot;true&quot;\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@drawable/ic_launcher_foreground&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.EprepareAcademy2O&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;false&quot; /&gt;\n    &lt;activity\n        android:name=&quot;.SplashActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n<p>`</p>\n<p>i convert my website to a webview apk using android studio, it working properly but the upload and download files button not working.\ntried more than 50+ videos on youtube and many articles but still issue with these</p>\n"},{"tags":["java","mmap"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1521680710,"post_id":49418904,"comment_id":85839407,"body_markdown":"Sounds like a bug in hugetlbfs.","body":"Sounds like a bug in hugetlbfs."},{"owner":{"account_id":9979308,"reputation":11,"user_id":7382758,"display_name":"user7382758"},"score":0,"creation_date":1525530011,"post_id":49418904,"comment_id":87397632,"body_markdown":"I found out that it is because of &quot;Invalid argument&quot;, the mmap start and length must be a multiple of page size","body":"I found out that it is because of &quot;Invalid argument&quot;, the mmap start and length must be a multiple of page size"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1525539055,"post_id":49418904,"comment_id":87400570,"body_markdown":"I would post this as an answer.","body":"I would post this as an answer."}],"owner":{"account_id":9979308,"reputation":11,"user_id":7382758,"display_name":"user7382758"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684147317,"creation_date":1521680524,"question_id":49418904,"body_markdown":"I am moving a Java project to use hugetlbfs in Linux, I use mmap to read/write files in hugetlbfs, I found 2 weird things:\r\n1. The file size in hugetlbfs must be a multiple of page size\r\n2. You cannot use Cleaner to unmap a MappedByteBuffer which mapped from a hugetlbfs file. It says GC will take care of the clean, so I leave it unmmaped, but then I sometimes run to this error\r\n\r\n    `java.lang.Error: Cleaner terminated abnormally\r\n    \tat sun.misc.Cleaner$1.run(Cleaner.java:147)\r\n    \tat sun.misc.Cleaner$1.run(Cleaner.java:144)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.misc.Cleaner.clean(Cleaner.java:144)\r\n    \tat java.lang.ref.Reference$ReferenceHandler.run(Reference.java:141)\r\n    Caused by: java.io.IOException: Invalid argument\r\n    \tat sun.nio.ch.FileChannelImpl.unmap0(Native Method)\r\n    \tat sun.nio.ch.FileChannelImpl.access$000(FileChannelImpl.java:40)\r\n    \tat sun.nio.ch.FileChannelImpl$Unmapper.run(FileChannelImpl.java:787)\r\n    \tat sun.misc.Cleaner.clean(Cleaner.java:142)` \r\n\r\nI don&#39;t know where the Cleaner is called, because I never call Cleaner.clean in my code, can anyone help me debug this problem?","title":"java mmap in hugetlbfs","body":"<p>I am moving a Java project to use hugetlbfs in Linux, I use mmap to read/write files in hugetlbfs, I found 2 weird things:\n1. The file size in hugetlbfs must be a multiple of page size\n2. You cannot use Cleaner to unmap a MappedByteBuffer which mapped from a hugetlbfs file. It says GC will take care of the clean, so I leave it unmmaped, but then I sometimes run to this error</p>\n\n<pre><code>`java.lang.Error: Cleaner terminated abnormally\n    at sun.misc.Cleaner$1.run(Cleaner.java:147)\n    at sun.misc.Cleaner$1.run(Cleaner.java:144)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.misc.Cleaner.clean(Cleaner.java:144)\n    at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:141)\nCaused by: java.io.IOException: Invalid argument\n    at sun.nio.ch.FileChannelImpl.unmap0(Native Method)\n    at sun.nio.ch.FileChannelImpl.access$000(FileChannelImpl.java:40)\n    at sun.nio.ch.FileChannelImpl$Unmapper.run(FileChannelImpl.java:787)\n    at sun.misc.Cleaner.clean(Cleaner.java:142)` \n</code></pre>\n\n<p>I don't know where the Cleaner is called, because I never call Cleaner.clean in my code, can anyone help me debug this problem?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1684141162,"post_id":76252355,"comment_id":134467847,"body_markdown":"Can you provide some code? According online documentation it should be possible.","body":"Can you provide some code? According online documentation it should be possible."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1684147582,"post_id":76252355,"comment_id":134469261,"body_markdown":"Probably for the same reason that `Collection.contains()` takes an `Object` and not a `T`.","body":"Probably for the same reason that <code>Collection.contains()</code> takes an <code>Object</code> and not a <code>T</code>."}],"answers":[{"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1684141587,"creation_date":1684141587,"answer_id":76252480,"question_id":76252355,"body_markdown":"Because the only method on the element types required by the method is `Object.equals`, which, obviously, is implemented by all types. I.e. the method doesn&#39;t require the types have any commonality other than `Object`, so there is no need for the element types to be the same.\r\n\r\nIf you prefer, you can define your own wrapper method to enforce the requirement that the element types are the same:\r\n\r\n    public static &lt;T&gt; boolean containsAny(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2) {\r\n        return CollectionsUtils.containsAny(coll1, coll2);\r\n    }\r\n","title":"Why Apache CollectionUtils.containsAny does not require Collection of same type","body":"<p>Because the only method on the element types required by the method is <code>Object.equals</code>, which, obviously, is implemented by all types. I.e. the method doesn't require the types have any commonality other than <code>Object</code>, so there is no need for the element types to be the same.</p>\n<p>If you prefer, you can define your own wrapper method to enforce the requirement that the element types are the same:</p>\n<pre><code>public static &lt;T&gt; boolean containsAny(Collection&lt;T&gt; coll1, Collection&lt;T&gt; coll2) {\n    return CollectionsUtils.containsAny(coll1, coll2);\n}\n</code></pre>\n"}],"owner":{"account_id":1812764,"reputation":839,"user_id":1648495,"accept_rate":100,"display_name":"Davide C"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1684147302,"accepted_answer_id":76252480,"answer_count":1,"score":1,"last_activity_date":1684147284,"creation_date":1684140664,"question_id":76252355,"body_markdown":"Why containsAny method of Apache CollectionUtils does not strictly require two list with same generic type? In my experience I always have to check collections of same type and it would help me to have a strict type parameters. Is this a way to give developers more flexibility or is there another reason?\r\n","title":"Why Apache CollectionUtils.containsAny does not require Collection of same type","body":"<p>Why containsAny method of Apache CollectionUtils does not strictly require two list with same generic type? In my experience I always have to check collections of same type and it would help me to have a strict type parameters. Is this a way to give developers more flexibility or is there another reason?</p>\n"},{"tags":["java","spring-mvc","spring-security","oauth-2.0"],"comments":[{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1441374680,"post_id":29797721,"comment_id":52667565,"body_markdown":"Hi @Marek ! \nDid you find a solution to your problem ? Same issue here ...","body":"Hi @Marek !  Did you find a solution to your problem ? Same issue here ..."},{"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"score":0,"creation_date":1441376128,"post_id":29797721,"comment_id":52668710,"body_markdown":"Unfortunately no, as far as I remember I spent some time with this but the solution was too complicated and finally not worth to implement. I use @Configuration to manually do that :( In my case this is not so painful, but I can imagine that there are cases where it could be.","body":"Unfortunately no, as far as I remember I spent some time with this but the solution was too complicated and finally not worth to implement. I use @Configuration to manually do that :( In my case this is not so painful, but I can imagine that there are cases where it could be."},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":0,"creation_date":1441377279,"post_id":29797721,"comment_id":52669436,"body_markdown":"ok thanks for your answer","body":"ok thanks for your answer"},{"owner":{"account_id":4640,"reputation":6242,"user_id":7059,"accept_rate":90,"display_name":"S&#233;bastien Nussbaumer"},"score":1,"creation_date":1441614560,"post_id":29797721,"comment_id":52733180,"body_markdown":"I juste filed an issue here : https://github.com/spring-projects/spring-boot/issues/3910","body":"I juste filed an issue here : <a href=\"https://github.com/spring-projects/spring-boot/issues/3910\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/3910</a>"},{"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"score":0,"creation_date":1442415146,"post_id":29797721,"comment_id":53074777,"body_markdown":"@S&#233;bastienNussbaumer check the answer below. I have just found the solution by working on a different problem. It works fine for me.","body":"@S&#233;bastienNussbaumer check the answer below. I have just found the solution by working on a different problem. It works fine for me."}],"answers":[{"comments":[{"owner":{"account_id":1221477,"reputation":4119,"user_id":1188047,"accept_rate":60,"display_name":"Ben"},"score":0,"creation_date":1459119829,"post_id":32612004,"comment_id":60137119,"body_markdown":"I have the same issue. Tried this, but it didn&#39;t help. Could someone please share some source code?","body":"I have the same issue. Tried this, but it didn&#39;t help. Could someone please share some source code?"},{"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"score":2,"creation_date":1459123179,"post_id":32612004,"comment_id":60137880,"body_markdown":"What does it mean &#39;it didn&#39;t help&#39;? Have the @Configuration class been loaded and createExpressionHandler() method ever been called? If &#39;yes&#39; check in a debugger if your AspectJMethodSecurityInterceptor really uses OAuth2MethodSecurityExpressionHandler. If &#39;no&#39; investigate why.","body":"What does it mean &#39;it didn&#39;t help&#39;? Have the @Configuration class been loaded and createExpressionHandler() method ever been called? If &#39;yes&#39; check in a debugger if your AspectJMethodSecurityInterceptor really uses OAuth2MethodSecurityExpressionHandler. If &#39;no&#39; investigate why."},{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1564155914,"post_id":32612004,"comment_id":100951004,"body_markdown":"Adding the override to `createExpressionHandler` works fine for me. The other solutions that claim that you can just add the `spring-security-oauth2-autoconfigure` dependency do not work for me (At least no in my unit test, did not check my application itself).","body":"Adding the override to <code>createExpressionHandler</code> works fine for me. The other solutions that claim that you can just add the <code>spring-security-oauth2-autoconfigure</code> dependency do not work for me (At least no in my unit test, did not check my application itself)."}],"tags":[],"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"comment_count":3,"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1684147062,"creation_date":1442415047,"answer_id":32612004,"question_id":29797721,"body_markdown":"To enable `#oAuth2` security expressions it is only needed to set the default expression handler as `OAuth2MethodSecurityExpressionHandler` instead of `DefaultMethodSecurityExpressionHandler`. Because `OAuth2MethodSecurityExpressionHandler` extends it anyway, then the whole previous functionality remains the same. In my configuration I use both `GlobalMethodSecurityConfiguration` and `WebSecurityConfigurerAdapter`.\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity\r\n    public class MethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n    \r\n      @Override\r\n      protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n        return new OAuth2MethodSecurityExpressionHandler();\r\n      }\r\n    }\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class SecurityConfiguration extends WebSecurityConfigurerAdapter {\r\n      ...\r\n    }\r\n\r\n\r\n    @Configuration\r\n    @Import({ SecurityConfiguration.class, MethodSecurityConfiguration.class })\r\n    public class AppConfiguration {\r\n      ...\r\n    }","title":"#oauth2 security expressions on method level","body":"<p>To enable <code>#oAuth2</code> security expressions it is only needed to set the default expression handler as <code>OAuth2MethodSecurityExpressionHandler</code> instead of <code>DefaultMethodSecurityExpressionHandler</code>. Because <code>OAuth2MethodSecurityExpressionHandler</code> extends it anyway, then the whole previous functionality remains the same. In my configuration I use both <code>GlobalMethodSecurityConfiguration</code> and <code>WebSecurityConfigurerAdapter</code>.</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity\npublic class MethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n\n  @Override\n  protected MethodSecurityExpressionHandler createExpressionHandler() {\n    return new OAuth2MethodSecurityExpressionHandler();\n  }\n}\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfiguration extends WebSecurityConfigurerAdapter {\n  ...\n}\n\n\n@Configuration\n@Import({ SecurityConfiguration.class, MethodSecurityConfiguration.class })\npublic class AppConfiguration {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13209145,"reputation":51,"user_id":9539953,"display_name":"thygesen"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1521804405,"creation_date":1521803443,"answer_id":49448368,"question_id":29797721,"body_markdown":"I think you also need to add:\r\n@EnableGlobalMethodSecurity(**prePostEnabled = true**) in order to get it to work.\r\n\r\n[Answered on deferent page][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/33638850/how-to-protect-spring-security-oauth-resources-using-preauthorize-based-on-scop","title":"#oauth2 security expressions on method level","body":"<p>I think you also need to add:\n@EnableGlobalMethodSecurity(<strong>prePostEnabled = true</strong>) in order to get it to work.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/33638850/how-to-protect-spring-security-oauth-resources-using-preauthorize-based-on-scop\">Answered on deferent page</a></p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538644667,"creation_date":1527335786,"answer_id":50542509,"question_id":29797721,"body_markdown":"I had the same problem, but only in a unit test (`@WebMvcTest`). I had to add `@EnableGlobalMethodSecurity` on the inner class that defined the configuration for the test:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @WebMvcTest(MyController.class)\r\n    public class MyControllerTest {\r\n\r\n      @TestConfiguration\r\n      @Import({JacksonCustomizations.class,SecuritySettings.class,\r\n            OAuth2ServerConfiguration.class, WebSecurityConfiguration.class,\r\n            TokenGrantersConfiguration.class})\r\n      @EnableGlobalMethodSecurity\r\n      public static class TestConfig {\r\n      }\r\n    }\r\n\r\nUPDATE: In Spring Boot 2.x, you might get:\r\n\r\n&gt; java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated\r\n\r\nThe reason is that you added `@EnableGlobalMethodSecurity` without actually enabling anything. To fix it, set at least one of the properties of the annotation to true. E.g:\r\n\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)","title":"#oauth2 security expressions on method level","body":"<p>I had the same problem, but only in a unit test (<code>@WebMvcTest</code>). I had to add <code>@EnableGlobalMethodSecurity</code> on the inner class that defined the configuration for the test:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@WebMvcTest(MyController.class)\npublic class MyControllerTest {\n\n  @TestConfiguration\n  @Import({JacksonCustomizations.class,SecuritySettings.class,\n        OAuth2ServerConfiguration.class, WebSecurityConfiguration.class,\n        TokenGrantersConfiguration.class})\n  @EnableGlobalMethodSecurity\n  public static class TestConfig {\n  }\n}\n</code></pre>\n\n<p>UPDATE: In Spring Boot 2.x, you might get:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: In the composition of all global method configuration, no annotation support was actually activated</p>\n</blockquote>\n\n<p>The reason is that you added <code>@EnableGlobalMethodSecurity</code> without actually enabling anything. To fix it, set at least one of the properties of the annotation to true. E.g:</p>\n\n<pre><code>@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4884379,"reputation":766,"user_id":3937252,"accept_rate":50,"display_name":"kelgwiin"},"score":0,"creation_date":1561067592,"post_id":52832621,"comment_id":99953885,"body_markdown":"I had to delete the configuration related to GlobalMethodSecurityConfiguration class and I added this dependency then it worked.","body":"I had to delete the configuration related to GlobalMethodSecurityConfiguration class and I added this dependency then it worked."}],"tags":[],"owner":{"account_id":1248262,"reputation":2068,"user_id":1209256,"display_name":"JohanB"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1539683268,"creation_date":1539683268,"answer_id":52832621,"question_id":29797721,"body_markdown":"A simpler solution would be to let Spring Boot autoconfigure. Adding the following dependency solved this for me:\r\n\r\n    compile(&#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE&#39;)","title":"#oauth2 security expressions on method level","body":"<p>A simpler solution would be to let Spring Boot autoconfigure. Adding the following dependency solved this for me:</p>\n\n<pre><code>compile('org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":257549,"reputation":4998,"user_id":539048,"accept_rate":66,"display_name":"GreenGiant"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602889401,"creation_date":1602889401,"answer_id":64397462,"question_id":29797721,"body_markdown":"For me, it was the combination of [this answer][1]\r\n\r\n    // spring configuration class annotation\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n\r\nand [this other answer][2]\r\n\r\n    // gradle dependencuy\r\n    compile(&#39;org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE&#39;)\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49448368/539048\r\n  [2]: https://stackoverflow.com/a/52832621/539048","title":"#oauth2 security expressions on method level","body":"<p>For me, it was the combination of <a href=\"https://stackoverflow.com/a/49448368/539048\">this answer</a></p>\n<pre><code>// spring configuration class annotation\n@EnableGlobalMethodSecurity(prePostEnabled = true)\n</code></pre>\n<p>and <a href=\"https://stackoverflow.com/a/52832621/539048\">this other answer</a></p>\n<pre><code>// gradle dependencuy\ncompile('org.springframework.security.oauth.boot:spring-security-oauth2-autoconfigure:2.0.4.RELEASE')\n</code></pre>\n"},{"tags":[],"owner":{"account_id":229597,"reputation":4087,"user_id":492647,"accept_rate":57,"display_name":"Janek Olszak"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613733980,"creation_date":1613733980,"answer_id":66276692,"question_id":29797721,"body_markdown":"This is an old question, things have changed. With Spring Security 5 one should use:\r\n\r\n    .hasAuthority(&quot;SCOPE_scopename&quot;)\r\n\r\n**Spring adds authorities to the principal based on the scopes it received from the provider, prefixed with “SCOPE_“.**\r\n\r\nMore info: https://www.baeldung.com/spring-security-openid-connect","title":"#oauth2 security expressions on method level","body":"<p>This is an old question, things have changed. With Spring Security 5 one should use:</p>\n<pre><code>.hasAuthority(&quot;SCOPE_scopename&quot;)\n</code></pre>\n<p><strong>Spring adds authorities to the principal based on the scopes it received from the provider, prefixed with “SCOPE_“.</strong></p>\n<p>More info: <a href=\"https://www.baeldung.com/spring-security-openid-connect\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-security-openid-connect</a></p>\n"}],"owner":{"account_id":3905146,"reputation":3076,"user_id":3232040,"accept_rate":72,"display_name":"Marek Raki"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18239,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":32612004,"answer_count":6,"score":16,"last_activity_date":1684147062,"creation_date":1429705993,"question_id":29797721,"body_markdown":"What should I do to be able to use #oauth2 security expressions on method level like on the example below?\r\n\r\n    @RequestMapping(value = &quot;email&quot;, method = RequestMethod.GET)\r\n      @ResponseBody\r\n      @PreAuthorize(&quot;#oauth2.hasScope(&#39;read&#39;)&quot;)\r\n      public String email() {\r\n    \r\n        return &quot;test@email.com&quot;;\r\n      }\r\n\r\nIf I do a request to that resource I receive\r\n\r\n        [INFO] java.lang.IllegalArgumentException: Failed to evaluate expression &#39;#oauth2.hasScope(&#39;read&#39;)&#39;\r\n    [INFO] \tat org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:14)\r\n    [INFO] \tat org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:44)\r\n    [INFO] \tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:57)\r\n    [INFO] \tat org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:25)\r\n    [INFO] \tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:62)\r\n    [INFO] \tat org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:232)\r\n    [INFO] \tat org.springframework.security.access.intercept.aspectj.AspectJMethodSecurityInterceptor.invoke(AspectJMethodSecurityInterceptor.java:43)\r\n    [INFO] \tat org.springframework.security.access.intercept.aspectj.aspect.AnnotationSecurityAspect.ajc$around$org_springframework_security_access_intercept_aspectj_aspect_AnnotationSecurityAspect$1$c4d57a2b(AnnotationSecurityAspect.aj:63)\r\n    [INFO] \tat pl.insert.controllers.ResourceController.email(ResourceController.java:22)\r\n\r\nThe same thing works well if I specify the access in my ResourceServerConfiguration instead of @Controllers&#39; methods\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\r\n    \r\n      @Override\r\n      public void configure(HttpSecurity http) throws Exception {\r\n        http.requestMatchers().antMatchers(&quot;/oauth/resources/**&quot;);\r\n        http.authorizeRequests().anyRequest().access(&quot;#oauth2.hasScope(&#39;read&#39;)&quot;);\r\n      }\r\n    }\r\n\r\nStandard security expressions like @PreAuthorize(&quot;permitAll&quot;) or @PreAuthorize(&quot;denyAll&quot;) work as expected. So, probably I have to tell somehow to my AspectJMethodSecurityInterceptor to use OAuth2WebSecurityExpressionHandler. Any ideas? \r\n","title":"#oauth2 security expressions on method level","body":"<p>What should I do to be able to use #oauth2 security expressions on method level like on the example below?</p>\n\n<pre><code>@RequestMapping(value = \"email\", method = RequestMethod.GET)\n  @ResponseBody\n  @PreAuthorize(\"#oauth2.hasScope('read')\")\n  public String email() {\n\n    return \"test@email.com\";\n  }\n</code></pre>\n\n<p>If I do a request to that resource I receive</p>\n\n<pre><code>    [INFO] java.lang.IllegalArgumentException: Failed to evaluate expression '#oauth2.hasScope('read')'\n[INFO]  at org.springframework.security.access.expression.ExpressionUtils.evaluateAsBoolean(ExpressionUtils.java:14)\n[INFO]  at org.springframework.security.access.expression.method.ExpressionBasedPreInvocationAdvice.before(ExpressionBasedPreInvocationAdvice.java:44)\n[INFO]  at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:57)\n[INFO]  at org.springframework.security.access.prepost.PreInvocationAuthorizationAdviceVoter.vote(PreInvocationAuthorizationAdviceVoter.java:25)\n[INFO]  at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:62)\n[INFO]  at org.springframework.security.access.intercept.AbstractSecurityInterceptor.beforeInvocation(AbstractSecurityInterceptor.java:232)\n[INFO]  at org.springframework.security.access.intercept.aspectj.AspectJMethodSecurityInterceptor.invoke(AspectJMethodSecurityInterceptor.java:43)\n[INFO]  at org.springframework.security.access.intercept.aspectj.aspect.AnnotationSecurityAspect.ajc$around$org_springframework_security_access_intercept_aspectj_aspect_AnnotationSecurityAspect$1$c4d57a2b(AnnotationSecurityAspect.aj:63)\n[INFO]  at pl.insert.controllers.ResourceController.email(ResourceController.java:22)\n</code></pre>\n\n<p>The same thing works well if I specify the access in my ResourceServerConfiguration instead of @Controllers' methods</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfiguration extends ResourceServerConfigurerAdapter {\n\n  @Override\n  public void configure(HttpSecurity http) throws Exception {\n    http.requestMatchers().antMatchers(\"/oauth/resources/**\");\n    http.authorizeRequests().anyRequest().access(\"#oauth2.hasScope('read')\");\n  }\n}\n</code></pre>\n\n<p>Standard security expressions like @PreAuthorize(\"permitAll\") or @PreAuthorize(\"denyAll\") work as expected. So, probably I have to tell somehow to my AspectJMethodSecurityInterceptor to use OAuth2WebSecurityExpressionHandler. Any ideas? </p>\n"},{"tags":["java","spring","spring-boot","logback","sax"],"answers":[{"comments":[{"owner":{"account_id":391620,"reputation":2118,"user_id":752385,"accept_rate":38,"display_name":"Strinder"},"score":3,"creation_date":1643109773,"post_id":70327292,"comment_id":125247387,"body_markdown":"The implementation to use also can be defined via &quot;-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xerces.internal.jaxp.SAXParserFactoryImpl&quot; as java command line argument","body":"The implementation to use also can be defined via &quot;-Djavax.xml.parsers.SAXParserFactory=com.sun.org.apache.xer&zwnj;&#8203;ces.internal.jaxp.SA&zwnj;&#8203;XParserFactoryImpl&quot; as java command line argument"},{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":3,"creation_date":1656082419,"post_id":70327292,"comment_id":128492490,"body_markdown":"In case someone likes to know, I fixed it by adding `xerces:xercesImpl:2.12.2`. In my case the error was caused because I need the `com.oracle.database.xml:xmlparserv2` dependency. The xerces was added as the first dependency in the pom.","body":"In case someone likes to know, I fixed it by adding <code>xerces:xercesImpl:2.12.2</code>. In my case the error was caused because I need the <code>com.oracle.database.xml:xmlparserv2</code> dependency. The xerces was added as the first dependency in the pom."}],"tags":[],"owner":{"account_id":23628203,"reputation":136,"user_id":17660376,"display_name":"Snappy"},"comment_count":2,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1639339804,"creation_date":1639339804,"answer_id":70327292,"question_id":70255734,"body_markdown":"Had the same issue during an upgrade. It wasn&#39;t a Spring issue, and you don&#39;t want to override the implementation yourself.\r\n\r\n`SAXParserFactory` is an abstract class - it can have multiple implementations. The `newInstance` method picks the last/top implementation on the classpath.\r\n\r\nI had found that I had an &quot;extra&quot; implementation on my classpath due to a dependency having their own implementation of `SAXParserFactory` rather than the &#39;typical&#39; implementation that Logback expects. And this &quot;extra&quot; `SAXParserFactory` did not support the feature that Logback is trying to enable.\r\n\r\nI had to explicitly declare a xerces implementation higher in my dependencies in order for a &quot;real&quot; implementation to take precedence over the other &quot;extra&quot; implementation on the classpath.\r\n\r\nSo my advice is for you to see what implementations of this abstract class you have (I could easily see this using the IntelliJ IDE), then manage/re-arrange your dependencies so that a proper implementation supporting the feature has a higher precedence on your classpath.","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>Had the same issue during an upgrade. It wasn't a Spring issue, and you don't want to override the implementation yourself.</p>\n<p><code>SAXParserFactory</code> is an abstract class - it can have multiple implementations. The <code>newInstance</code> method picks the last/top implementation on the classpath.</p>\n<p>I had found that I had an &quot;extra&quot; implementation on my classpath due to a dependency having their own implementation of <code>SAXParserFactory</code> rather than the 'typical' implementation that Logback expects. And this &quot;extra&quot; <code>SAXParserFactory</code> did not support the feature that Logback is trying to enable.</p>\n<p>I had to explicitly declare a xerces implementation higher in my dependencies in order for a &quot;real&quot; implementation to take precedence over the other &quot;extra&quot; implementation on the classpath.</p>\n<p>So my advice is for you to see what implementations of this abstract class you have (I could easily see this using the IntelliJ IDE), then manage/re-arrange your dependencies so that a proper implementation supporting the feature has a higher precedence on your classpath.</p>\n"},{"tags":[],"owner":{"account_id":1741623,"reputation":676,"user_id":1592861,"accept_rate":0,"display_name":"matzeihnsein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650974991,"creation_date":1650966315,"answer_id":72011781,"question_id":70255734,"body_markdown":"for me it was that we used an old dependency \r\n```\r\n &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\r\n &lt;version&gt;12.1.0.2&lt;/version&gt;\r\n```\r\nupdating to\r\n```\r\n&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\r\n&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n&lt;version&gt;12.2.0.1&lt;/version&gt;\r\n```\r\nojdbc8 solved my issue!\r\n","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>for me it was that we used an old dependency</p>\n<pre><code> &lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n &lt;artifactId&gt;ojdbc7&lt;/artifactId&gt;\n &lt;version&gt;12.1.0.2&lt;/version&gt;\n</code></pre>\n<p>updating to</p>\n<pre><code>&lt;groupId&gt;com.oracle.jdbc&lt;/groupId&gt;\n&lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n&lt;version&gt;12.2.0.1&lt;/version&gt;\n</code></pre>\n<p>ojdbc8 solved my issue!</p>\n"},{"tags":[],"owner":{"account_id":27188305,"reputation":21,"user_id":20722475,"display_name":"Nik Korn"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684146599,"creation_date":1684095798,"answer_id":76249523,"question_id":70255734,"body_markdown":"May be it is not exactly what you&#39;re looking for, but for my project we made a decision to exclude this parser:\r\n```\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\r\n\t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n\t\t\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nBut if you really need it, I suggest you to look at @matzeihnsein&#39;s answer and to upgrade your version. Doing so also helped me.","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>May be it is not exactly what you're looking for, but for my project we made a decision to exclude this parser:</p>\n<pre><code>    &lt;dependency&gt;\n            &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8-production&lt;/artifactId&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n        \n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.oracle.database.xml&lt;/groupId&gt;\n                    &lt;artifactId&gt;xmlparserv2&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But if you really need it, I suggest you to look at @matzeihnsein's answer and to upgrade your version. Doing so also helped me.</p>\n"}],"owner":{"account_id":16415765,"reputation":2950,"user_id":11857981,"display_name":"Himanshu Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10070,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70327292,"answer_count":3,"score":5,"last_activity_date":1684146599,"creation_date":1638858324,"question_id":70255734,"body_markdown":"Spring boot 2.6.1 supports logback 1.2.7\r\n\r\nI&#39;ve added the following dependencies in project\r\n```xml\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut the build fails with below exception:\r\n```\r\nCaused by: javax.xml.parsers.ParserConfigurationException: SAX feature &#39;http://xml.org/sax/features/external-general-entities&#39; not supported.\r\n\tat oracle.xml.jaxp.JXSAXParserFactory.setFeature(JXSAXParserFactory.java:272)\r\n\tat ch.qos.logback.core.joran.event.SaxEventRecorder.buildSaxParser(SaxEventRecorder.java:82)\r\n\t... 44 more\r\n```\r\n\r\nIn SaxEventRecorder.class, it fails while building the SAX parser\r\n\r\n```java\r\n    private SAXParser buildSaxParser() throws JoranException {\r\n        try {\r\n            SAXParserFactory spf = SAXParserFactory.newInstance();\r\n            spf.setValidating(false);\r\n            //spf.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\r\n            spf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\r\n            spf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\r\n            spf.setNamespaceAware(true);\r\n            return spf.newSAXParser();\r\n        } catch (Exception pce) {\r\n            String errMsg = &quot;Parser configuration error occurred&quot;;\r\n            addError(errMsg, pce);\r\n            throw new JoranException(errMsg, pce);\r\n        }\r\n    }\r\n```\r\n\r\nIs there a way to override the implementation?\r\n\r\nThanks :) ","title":"SAX Feature Not Supported in Spring Boot 2.6.1","body":"<p>Spring boot 2.6.1 supports logback 1.2.7</p>\n<p>I've added the following dependencies in project</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But the build fails with below exception:</p>\n<pre><code>Caused by: javax.xml.parsers.ParserConfigurationException: SAX feature 'http://xml.org/sax/features/external-general-entities' not supported.\n    at oracle.xml.jaxp.JXSAXParserFactory.setFeature(JXSAXParserFactory.java:272)\n    at ch.qos.logback.core.joran.event.SaxEventRecorder.buildSaxParser(SaxEventRecorder.java:82)\n    ... 44 more\n</code></pre>\n<p>In SaxEventRecorder.class, it fails while building the SAX parser</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private SAXParser buildSaxParser() throws JoranException {\n        try {\n            SAXParserFactory spf = SAXParserFactory.newInstance();\n            spf.setValidating(false);\n            //spf.setFeature(&quot;http://apache.org/xml/features/disallow-doctype-decl&quot;, true);\n            spf.setFeature(&quot;http://xml.org/sax/features/external-general-entities&quot;, false);\n            spf.setFeature(&quot;http://xml.org/sax/features/external-parameter-entities&quot;, false);\n            spf.setNamespaceAware(true);\n            return spf.newSAXParser();\n        } catch (Exception pce) {\n            String errMsg = &quot;Parser configuration error occurred&quot;;\n            addError(errMsg, pce);\n            throw new JoranException(errMsg, pce);\n        }\n    }\n</code></pre>\n<p>Is there a way to override the implementation?</p>\n<p>Thanks :)</p>\n"},{"tags":["java","headless-browser","google-chrome-headless","selenide"],"answers":[{"tags":[],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1536741599,"creation_date":1536741599,"answer_id":52290954,"question_id":51854423,"body_markdown":"It turned out that in order to run Selenide in headless mode we need to add system property `selenide.headless=true` ","title":"Selenide - How to run it with a headless Chrome?","body":"<p>It turned out that in order to run Selenide in headless mode we need to add system property <code>selenide.headless=true</code> </p>\n"},{"tags":[],"owner":{"account_id":344662,"reputation":862,"user_id":677096,"display_name":"silver_mx"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543138236,"creation_date":1543138236,"answer_id":53466206,"question_id":51854423,"body_markdown":"You could do also:\r\n\r\n     Configuration.headless = true;","title":"Selenide - How to run it with a headless Chrome?","body":"<p>You could do also:</p>\n\n<pre><code> Configuration.headless = true;\n</code></pre>\n"}],"owner":{"account_id":7141303,"reputation":6636,"user_id":5458827,"accept_rate":0,"display_name":"riorio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5999,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1684145864,"creation_date":1534317342,"question_id":51854423,"body_markdown":"We are trying to developer an automation test, and we found [Selenide][1] an interesting and easy framework for running the UI tests.\r\n\r\nSelenide needs as an input the browser to use.\r\n\r\nSo we are passing 2 arguments to the program:\r\n\r\n    selenide.browser=Chrome\r\n    webdriver.chrome.driver=C:\\\\chromedriver_win32\\\\chromedriver.exe\r\n\r\n\r\nAnd the code looks something like that:\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,inputParams.get(&quot;webdriver.chrome.driver&quot;));\r\n    System.setProperty(&quot;selenide.browser&quot;, inputParams.get(&quot;selenide.browser&quot;));\r\n\r\n    open(&quot;http://example.com:8080/myPages&quot;);\r\n\r\nAll works fine, but we also need it to run in headless mode.\r\n\r\n\r\nWe tried several ways to run it in headless mode, (different param in the **selenide.browser**, **PhantomJs** and some other combinations, but with not success till now.\r\n\r\n\r\n  [1]: http://selenide.org/","title":"Selenide - How to run it with a headless Chrome?","body":"<p>We are trying to developer an automation test, and we found <a href=\"http://selenide.org/\" rel=\"nofollow noreferrer\">Selenide</a> an interesting and easy framework for running the UI tests.</p>\n<p>Selenide needs as an input the browser to use.</p>\n<p>So we are passing 2 arguments to the program:</p>\n<pre><code>selenide.browser=Chrome\nwebdriver.chrome.driver=C:\\\\chromedriver_win32\\\\chromedriver.exe\n</code></pre>\n<p>And the code looks something like that:</p>\n<pre><code>System.setProperty(&quot;webdriver.chrome.driver&quot;,inputParams.get(&quot;webdriver.chrome.driver&quot;));\nSystem.setProperty(&quot;selenide.browser&quot;, inputParams.get(&quot;selenide.browser&quot;));\n\nopen(&quot;http://example.com:8080/myPages&quot;);\n</code></pre>\n<p>All works fine, but we also need it to run in headless mode.</p>\n<p>We tried several ways to run it in headless mode, (different param in the <strong>selenide.browser</strong>, <strong>PhantomJs</strong> and some other combinations, but with not success till now.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1683890733,"post_id":76229400,"comment_id":134439518,"body_markdown":"Have you tried https://stackoverflow.com/a/55513723/2504224?","body":"Have you tried <a href=\"https://stackoverflow.com/a/55513723/2504224\">stackoverflow.com/a/55513723/2504224</a>?"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":1,"creation_date":1683893138,"post_id":76229400,"comment_id":134440059,"body_markdown":"Yup, and it worked.:) I forgot to mention the results in this question. Thanks for the reminder!","body":"Yup, and it worked.:) I forgot to mention the results in this question. Thanks for the reminder!"},{"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"score":0,"creation_date":1683893174,"post_id":76229400,"comment_id":134440069,"body_markdown":"@geoand feel free to post your comment as an answer.:)","body":"@geoand feel free to post your comment as an answer.:)"}],"answers":[{"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684145779,"creation_date":1684145779,"answer_id":76253067,"question_id":76229400,"body_markdown":"Yes, it can, the only caveat is that you tell Quarkus to &quot;index&quot; that dependency. https://stackoverflow.com/a/55513723/2504224 provides a few different way that can be achieved ","title":"Can the Quarkus Main method be defined in a dependency?","body":"<p>Yes, it can, the only caveat is that you tell Quarkus to &quot;index&quot; that dependency. <a href=\"https://stackoverflow.com/a/55513723/2504224\">https://stackoverflow.com/a/55513723/2504224</a> provides a few different way that can be achieved</p>\n"}],"owner":{"account_id":1057328,"reputation":1255,"user_id":1059744,"accept_rate":71,"display_name":"Haris Osmanagić"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76253067,"answer_count":1,"score":2,"last_activity_date":1684145779,"creation_date":1683819698,"question_id":76229400,"body_markdown":"I&#39;m building an SDK using [Quarkus][1]. I want to have two main features in the SDK:\r\n1. the SDK provides a high-level API to work with a 3rd party system\r\n2. the SDK makes it possible to build a native image\r\n\r\nUsing Quarkus in a project directly makes all of that possible. However, I started having some problem when using Quarkus as a transitive dependency. Example source code can be found [here][2].\r\n\r\nHere, `test-sdk` is the SDK itself, providing the API. \r\n\r\n`test-parent` is a parent POM, which makes it possible to build a native image. \r\n\r\n`test-project` a project which uses `test-parent` and `test-sdk`. I&#39;d like `test-project` to be unaware of Quarkus.\r\n\r\nWhen I run `mvn clean package -Dnative` in `test-project`, a native image is built. However, when I run it, I don&#39;t see the expected stdout logs from `test-sdk` [here][3].\r\n\r\nWhen all of this is a single project, I get the expected output. So it looks like `@QuarkusMain` defined in the dependency ([here][4]) doesn&#39;t really work.\r\n\r\nMy question is: are my expectations wrong? Is there a way to make it work this way?\r\n\r\n\r\n  [1]: https://quarkus.io\r\n  [2]: https://github.com/hariso/quarkus\r\n  [3]: https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L17\r\n  [4]: https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L8","title":"Can the Quarkus Main method be defined in a dependency?","body":"<p>I'm building an SDK using <a href=\"https://quarkus.io\" rel=\"nofollow noreferrer\">Quarkus</a>. I want to have two main features in the SDK:</p>\n<ol>\n<li>the SDK provides a high-level API to work with a 3rd party system</li>\n<li>the SDK makes it possible to build a native image</li>\n</ol>\n<p>Using Quarkus in a project directly makes all of that possible. However, I started having some problem when using Quarkus as a transitive dependency. Example source code can be found <a href=\"https://github.com/hariso/quarkus\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>Here, <code>test-sdk</code> is the SDK itself, providing the API.</p>\n<p><code>test-parent</code> is a parent POM, which makes it possible to build a native image.</p>\n<p><code>test-project</code> a project which uses <code>test-parent</code> and <code>test-sdk</code>. I'd like <code>test-project</code> to be unaware of Quarkus.</p>\n<p>When I run <code>mvn clean package -Dnative</code> in <code>test-project</code>, a native image is built. However, when I run it, I don't see the expected stdout logs from <code>test-sdk</code> <a href=\"https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L17\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p>When all of this is a single project, I get the expected output. So it looks like <code>@QuarkusMain</code> defined in the dependency (<a href=\"https://github.com/hariso/quarkus/blob/main/test-sdk/src/main/java/org/example/Main.java#L8\" rel=\"nofollow noreferrer\">here</a>) doesn't really work.</p>\n<p>My question is: are my expectations wrong? Is there a way to make it work this way?</p>\n"},{"tags":["java","flyway"],"answers":[{"tags":[],"owner":{"account_id":17677451,"reputation":176,"user_id":12832159,"display_name":"Philip Liddell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598953169,"creation_date":1598953169,"answer_id":63685144,"question_id":63670781,"body_markdown":"You are looking for the `flyway.target` option (`.target()` in the api). See https://flywaydb.org/documentation/commandline/migrate#target.\r\n\r\nThis config parameter sets the version to migrate to. So if you have 3 migrations `V1__, v2__, v3__` use `flyway.target=2` to migrate just `V1__` and `v2__`.","title":"How to do partial migration in Flyway for testing?","body":"<p>You are looking for the <code>flyway.target</code> option (<code>.target()</code> in the api). See <a href=\"https://flywaydb.org/documentation/commandline/migrate#target\" rel=\"nofollow noreferrer\">https://flywaydb.org/documentation/commandline/migrate#target</a>.</p>\n<p>This config parameter sets the version to migrate to. So if you have 3 migrations <code>V1__, v2__, v3__</code> use <code>flyway.target=2</code> to migrate just <code>V1__</code> and <code>v2__</code>.</p>\n"},{"tags":[],"owner":{"account_id":7123154,"reputation":647,"user_id":5447028,"accept_rate":66,"display_name":"bob dylan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1598953623,"creation_date":1598953623,"answer_id":63685270,"question_id":63670781,"body_markdown":"In the end I replaced the \r\n\r\n    var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\r\n    initialUserRepository.saveAndFlush(initialUserMappingEntity);\r\n\r\nwith an insertion script located in: `/db/testdata/V2.1__insert_user_data.sql`\r\nand then just did one migration until the end.\r\n\r\nSo you basically need to add an insertion script that comes before the final script that you want to test in your `/db/migration` and then modify your `spring.flyway.locations` to have these two base path","title":"How to do partial migration in Flyway for testing?","body":"<p>In the end I replaced the</p>\n<pre><code>var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\ninitialUserRepository.saveAndFlush(initialUserMappingEntity);\n</code></pre>\n<p>with an insertion script located in: <code>/db/testdata/V2.1__insert_user_data.sql</code>\nand then just did one migration until the end.</p>\n<p>So you basically need to add an insertion script that comes before the final script that you want to test in your <code>/db/migration</code> and then modify your <code>spring.flyway.locations</code> to have these two base path</p>\n"},{"tags":[],"owner":{"account_id":6901450,"reputation":21,"user_id":5300940,"display_name":"Milan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684145235,"creation_date":1684145235,"answer_id":76252997,"question_id":63670781,"body_markdown":"In your Spring boot test, you could add property `flyway.target`\r\n\r\n```\r\n@SpringBootTest(\r\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\r\n    properties = {&quot;spring.flyway.clean-disabled=false&quot;, &quot;spring.flyway.target=2&quot;}\r\n)\r\nclass MyTest {...}\r\n```\r\nThis would, for the purpose of this test, execute all migrations until and including version 2, ignoring later ones.","title":"How to do partial migration in Flyway for testing?","body":"<p>In your Spring boot test, you could add property <code>flyway.target</code></p>\n<pre><code>@SpringBootTest(\n    webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,\n    properties = {&quot;spring.flyway.clean-disabled=false&quot;, &quot;spring.flyway.target=2&quot;}\n)\nclass MyTest {...}\n</code></pre>\n<p>This would, for the purpose of this test, execute all migrations until and including version 2, ignoring later ones.</p>\n"}],"owner":{"account_id":7123154,"reputation":647,"user_id":5447028,"accept_rate":66,"display_name":"bob dylan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":966,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63685270,"answer_count":3,"score":3,"last_activity_date":1684145235,"creation_date":1598876695,"question_id":63670781,"body_markdown":"I am trying to write a test to validate whether my new migration script (located in src/main/resources/db/migration) executes correctly on the existing data in my Postgres DB. \r\n\r\nI have 5 migration scripts where the 2nd one creates the initial `Users` table with some columns and the 5th one adds onto that existing `Users` table with a new column and default values for that new column.\r\n\r\nFirst, I would like to only migrate up to the script, so that the initial version of `Users` table, then I will populate it normally, and finally, complete the migration by running the 5th script, and then check if the 5th script actually updated the existing data or not. However, I do not understand exactly how I can just migrate only to some version, and then later on migrate to the remaining versions...\r\n\r\n\r\nHere is what I have so far:\r\n\r\nActual Test\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    class MigrationTest extends ComponentTest {\r\n    \r\n      private static final String USER_ID = &quot;1337&quot;;\r\n    \r\n      @Autowired\r\n      private InitialUserRepository initialUserRepository;\r\n      @Autowired\r\n      private UserRepository userRepository;\r\n    \r\n      @Autowired\r\n      private Flyway flyway;\r\n    \r\n      @Transactional\r\n      @Test\r\n      public void test() {\r\n    \r\n        flyway.baseline(); // default 1\r\n        flyway.migrate(); // this will migrate to the final script/version where it will add the new column\r\n        // replace the above line, flyway.migrate(), with a partial migration to version 2 ONLY, something like flyway.migrate(2)\r\n    \r\n        var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\r\n        initialUserRepository.saveAndFlush(initialUserMappingEntity);\r\n    \r\n        var user = initialUserRepository.findById(USER_ID);\r\n        assertTrue(user.isPresent());\r\n    \r\n        // complete the full migration here, something like flyway.migrate(5)\r\n    \r\n        var updatedUser = userRepository.findById(USER_ID);\r\n        assertTrue(updatedUser.isPresent());\r\n        assertNotNull(updatedUser.get().getNewColumn());\r\n      }\r\n    }\r\n\r\nEmptyMigrationStrategyConfig\r\n\r\n    @Configuration\r\n    public class EmptyMigrationStrategyConfig {\r\n    \r\n      @Bean\r\n      public FlywayMigrationStrategy flywayMigrationStrategy() {\r\n        return flyway -&gt; {\r\n          // do nothing\r\n        };\r\n      }\r\n    }\r\n\r\napplication-test.yaml\r\n\r\n    spring:\r\n      flyway:\r\n        locations: classpath:/db/migration","title":"How to do partial migration in Flyway for testing?","body":"<p>I am trying to write a test to validate whether my new migration script (located in src/main/resources/db/migration) executes correctly on the existing data in my Postgres DB.</p>\n<p>I have 5 migration scripts where the 2nd one creates the initial <code>Users</code> table with some columns and the 5th one adds onto that existing <code>Users</code> table with a new column and default values for that new column.</p>\n<p>First, I would like to only migrate up to the script, so that the initial version of <code>Users</code> table, then I will populate it normally, and finally, complete the migration by running the 5th script, and then check if the 5th script actually updated the existing data or not. However, I do not understand exactly how I can just migrate only to some version, and then later on migrate to the remaining versions...</p>\n<p>Here is what I have so far:</p>\n<p>Actual Test</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest\nclass MigrationTest extends ComponentTest {\n\n  private static final String USER_ID = &quot;1337&quot;;\n\n  @Autowired\n  private InitialUserRepository initialUserRepository;\n  @Autowired\n  private UserRepository userRepository;\n\n  @Autowired\n  private Flyway flyway;\n\n  @Transactional\n  @Test\n  public void test() {\n\n    flyway.baseline(); // default 1\n    flyway.migrate(); // this will migrate to the final script/version where it will add the new column\n    // replace the above line, flyway.migrate(), with a partial migration to version 2 ONLY, something like flyway.migrate(2)\n\n    var initialUserMappingEntity = new InitialUserMappingEntity(USER_ID, &quot;some other data&quot;);\n    initialUserRepository.saveAndFlush(initialUserMappingEntity);\n\n    var user = initialUserRepository.findById(USER_ID);\n    assertTrue(user.isPresent());\n\n    // complete the full migration here, something like flyway.migrate(5)\n\n    var updatedUser = userRepository.findById(USER_ID);\n    assertTrue(updatedUser.isPresent());\n    assertNotNull(updatedUser.get().getNewColumn());\n  }\n}\n</code></pre>\n<p>EmptyMigrationStrategyConfig</p>\n<pre><code>@Configuration\npublic class EmptyMigrationStrategyConfig {\n\n  @Bean\n  public FlywayMigrationStrategy flywayMigrationStrategy() {\n    return flyway -&gt; {\n      // do nothing\n    };\n  }\n}\n</code></pre>\n<p>application-test.yaml</p>\n<pre><code>spring:\n  flyway:\n    locations: classpath:/db/migration\n</code></pre>\n"},{"tags":["java","android","kotlin","kotlin-multiplatform"],"comments":[{"owner":{"account_id":14415942,"reputation":156,"user_id":10413396,"display_name":"Arkadii Ivanov"},"score":0,"creation_date":1684193915,"post_id":76252989,"comment_id":134478758,"body_markdown":"I couldn&#39;t reproduce the issue. Would you be able to provide a complete reproducer code?","body":"I couldn&#39;t reproduce the issue. Would you be able to provide a complete reproducer code?"},{"owner":{"account_id":468443,"reputation":10976,"user_id":2064171,"accept_rate":91,"display_name":"AndreiBogdan"},"score":0,"creation_date":1684225450,"post_id":76252989,"comment_id":134482648,"body_markdown":"hmm, unless I write something from scratch ... i don&#39;t see how. Quick google meetup session ? :))\nI&#39;ll think about it and get back to you ...","body":"hmm, unless I write something from scratch ... i don&#39;t see how. Quick google meetup session ? :)) I&#39;ll think about it and get back to you ..."}],"owner":{"account_id":468443,"reputation":10976,"user_id":2064171,"accept_rate":91,"display_name":"AndreiBogdan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684145142,"creation_date":1684145142,"question_id":76252989,"body_markdown":"I my KMM project:\r\n\r\nI have the following interop method to convert from `Single` from `Reaktive` to a `Single` from `io.reactivex.`...\r\n\r\n    fun &lt;T : Any&gt; Single&lt;T&gt;.asRxJava2Single(): io.reactivex.Single&lt;T&gt; =\r\n        object : io.reactivex.Single&lt;T&gt;() {\r\n            override fun subscribeActual(observer: io.reactivex.SingleObserver&lt;in T&gt;) {\r\n                this@asRxJava2Single.subscribe(observer.asReaktiveSingleObserver())\r\n            }\r\n        }\r\n\r\n...and for this method which is places in the shared module...\r\n\r\n    fun getAssignedBooks(): SingleWrapper&lt;List&lt;String&gt;&gt; {\r\n        return singleFromCoroutine {\r\n            bookRepository.callAssignedBooks()\r\n        }\r\n            .subscribeOn(ioScheduler)\r\n            .observeOn(mainScheduler)\r\n            .onErrorReturn { t -&gt;\r\n                Console.apiError.log(&quot;getAssignedBooks :: &quot; + t.message)\r\n                listOf()\r\n            }\r\n            .wrap()\r\n    }\r\n\r\n...when I apply the interop method on the Android side...\r\n\r\n    .flatMap( pair -&gt;\r\n                            SingleInteropKt.asRxJava2Single(\r\n                                    new SharedBookService().getAssignedBooks()\r\n                            ).map( list -&gt;\r\n                                    new Pair&lt;&gt;(pair, (List&lt;String&gt;)list)// !!!!: Why need cast ?!                            )\r\n    ) .flatMap(pair -&gt; ..... //Here, pair.second is seen as Object if I don&#39;t manually cast above\r\n    //.....\r\n\r\n... I need to specifically cast it to `List&lt;String&gt;` otherwise it sees it as `Object`. I tried to do `SingleInteropKt.asRxJava2Single&lt;List&lt;String&gt;&gt;(...)` and other variants like that but it doesn&#39;t work.\r\n\r\nAny idea how I can make it work without a cast? \r\n\r\nThis specific case allows for specific casting, but I have another case where I need to link multiple `rxJava` method and that&#39;s where this &quot;manual&quot; casting doesn&#39;t work anymore.","title":"Return type is seen as generic Object instead of required type","body":"<p>I my KMM project:</p>\n<p>I have the following interop method to convert from <code>Single</code> from <code>Reaktive</code> to a <code>Single</code> from <code>io.reactivex.</code>...</p>\n<pre><code>fun &lt;T : Any&gt; Single&lt;T&gt;.asRxJava2Single(): io.reactivex.Single&lt;T&gt; =\n    object : io.reactivex.Single&lt;T&gt;() {\n        override fun subscribeActual(observer: io.reactivex.SingleObserver&lt;in T&gt;) {\n            this@asRxJava2Single.subscribe(observer.asReaktiveSingleObserver())\n        }\n    }\n</code></pre>\n<p>...and for this method which is places in the shared module...</p>\n<pre><code>fun getAssignedBooks(): SingleWrapper&lt;List&lt;String&gt;&gt; {\n    return singleFromCoroutine {\n        bookRepository.callAssignedBooks()\n    }\n        .subscribeOn(ioScheduler)\n        .observeOn(mainScheduler)\n        .onErrorReturn { t -&gt;\n            Console.apiError.log(&quot;getAssignedBooks :: &quot; + t.message)\n            listOf()\n        }\n        .wrap()\n}\n</code></pre>\n<p>...when I apply the interop method on the Android side...</p>\n<pre><code>.flatMap( pair -&gt;\n                        SingleInteropKt.asRxJava2Single(\n                                new SharedBookService().getAssignedBooks()\n                        ).map( list -&gt;\n                                new Pair&lt;&gt;(pair, (List&lt;String&gt;)list)// !!!!: Why need cast ?!                            )\n) .flatMap(pair -&gt; ..... //Here, pair.second is seen as Object if I don't manually cast above\n//.....\n</code></pre>\n<p>... I need to specifically cast it to <code>List&lt;String&gt;</code> otherwise it sees it as <code>Object</code>. I tried to do <code>SingleInteropKt.asRxJava2Single&lt;List&lt;String&gt;&gt;(...)</code> and other variants like that but it doesn't work.</p>\n<p>Any idea how I can make it work without a cast?</p>\n<p>This specific case allows for specific casting, but I have another case where I need to link multiple <code>rxJava</code> method and that's where this &quot;manual&quot; casting doesn't work anymore.</p>\n"},{"tags":["java","android","android-recyclerview","bitmap"],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684145055,"creation_date":1684145055,"question_id":76252978,"body_markdown":"i am showing 0 - 10 images in recylclerview for edit those images with filters and change background  to all images at a time. its like editing multiple images at a time. Here everthing is fine but when im trying to save those images after changes made i want save those each image as different image in gallery. saving code also working fine but when i am changing recycler view as bitmap from activity its getting only which view images are getting. item count was coming correct. ex... item count was 10 and 2 images visble in my recycler view those two images saving.\r\n      \r\n\r\nthis my code from activity \r\n \r\n```\r\nclass SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\r\n\r\n        SaveBitmap() {\r\n\r\n        }\r\n\r\n        public void onPreExecute() {\r\n            // customLoader.hide();\r\n            //  customLoader.show();\r\n        }\r\n\r\n        public List&lt;String&gt; doInBackground(Void... voids) {\r\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\r\n\r\n            RecyclerView.Adapter adapter = multiFitRecyclerView.getAdapter();\r\n        if (adapter != null){\r\n            int itemCount = adapter.getItemCount();\r\n            for (int position = 0; position&lt;itemCount; position++){\r\n                \r\n            }\r\n        }\r\n\r\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\r\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\r\n                if (holder != null) {\r\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\r\n                    Canvas canvas = new Canvas(bitmap1);\r\n                    holder.pvEditor.draw(canvas);\r\n\r\n                    try {\r\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\r\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\r\n                        if (file != null) {\r\n                            filePaths.add(file.getAbsolutePath());\r\n                        }\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n\r\n            return filePaths;\r\n        }\r\n\r\n        public void onPostExecute(List&lt;String&gt; filePaths) {\r\n            // customLoader.hide();\r\n            if (filePaths == null || filePaths.isEmpty()) {\r\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\r\n                return;\r\n            }\r\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\r\n//            i.putExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\r\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\r\n            startActivity(i);\r\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\r\n        }\r\n\r\n    }\r\n```\r\n\r\n\r\nand this code of adapter class \r\n```\r\npublic class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\r\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\r\n    Context context;\r\n\r\n    String selectedFilterConfig;\r\n\r\n    String selectedAdjustConfig;\r\n    private boolean isColor;\r\n    private float mScaleSize;\r\n    private Bitmap bitmapBackground;\r\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\r\n\r\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, Bitmap bitmapBackground, boolean isColor, float mScaleSize) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        this.context = context;\r\n        this.isColor = isColor;\r\n        this.bitmapBackground = bitmapBackground;\r\n        this.mScaleSize = mScaleSize;\r\n        this.selectedAdjustConfig = &quot;&quot;;\r\n        this.selectedFilterConfig = &quot;&quot;;\r\n    }\r\n\r\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\r\n        this.selectedBitmaps = selectedBitmaps;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void setBitmapBackground(Bitmap bitmapBackground) {\r\n        this.bitmapBackground = bitmapBackground;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n    public void setmScaleSize(float mScaleSize) {\r\n        this.mScaleSize = mScaleSize;\r\n    }\r\n\r\n    public void setColor(boolean color) {\r\n        isColor = color;\r\n    }\r\n\r\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\r\n        this.backgroundImgList = backgroundImgList;\r\n        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MultifitRecyclerViewAdapter.ViewHolder holder, int position) {\r\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\r\n\r\n\r\n                if (isColor){\r\n\r\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\r\n                }else {\r\n                    holder.ivFrame.setImageBitmap(bitmapBackground);\r\n\r\n                }\r\n\r\n\r\n\r\n\r\n            holder.ivCover.setScaleX(mScaleSize);\r\n            holder.ivCover.setScaleY(mScaleSize);\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return selectedBitmaps.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        public PhotoEditorView pvEditor;\r\n        RectangularLayout rectangularLayout;\r\n        public ImageView ivFrame, ivCover;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\r\n            ivFrame = itemView.findViewById(R.id.ivFrame);\r\n            ivCover = itemView.findViewById(R.id.ivCover);\r\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\r\n        }\r\n    }\r\n}\r\n```","title":"How to get all recyclerview view items when i change somthing from activity","body":"<p>i am showing 0 - 10 images in recylclerview for edit those images with filters and change background  to all images at a time. its like editing multiple images at a time. Here everthing is fine but when im trying to save those images after changes made i want save those each image as different image in gallery. saving code also working fine but when i am changing recycler view as bitmap from activity its getting only which view images are getting. item count was coming correct. ex... item count was 10 and 2 images visble in my recycler view those two images saving.</p>\n<p>this my code from activity</p>\n<pre><code>class SaveBitmap extends AsyncTask&lt;Void, String, List&lt;String&gt;&gt; {\n\n        SaveBitmap() {\n\n        }\n\n        public void onPreExecute() {\n            // customLoader.hide();\n            //  customLoader.show();\n        }\n\n        public List&lt;String&gt; doInBackground(Void... voids) {\n            List&lt;String&gt; filePaths = new ArrayList&lt;&gt;();\n\n            RecyclerView.Adapter adapter = multiFitRecyclerView.getAdapter();\n        if (adapter != null){\n            int itemCount = adapter.getItemCount();\n            for (int position = 0; position&lt;itemCount; position++){\n                \n            }\n        }\n\n            for (int i = 0; i &lt; multifitRecyclerViewAdapter.getItemCount(); i++) {\n                MultifitRecyclerViewAdapter.ViewHolder holder = (MultifitRecyclerViewAdapter.ViewHolder) multiFitRecyclerView.findViewHolderForAdapterPosition(i);\n                if (holder != null) {\n                    Bitmap bitmap1 = Bitmap.createBitmap(holder.pvEditor.getWidth(), holder.pvEditor.getHeight(), Bitmap.Config.ARGB_8888);\n                    Canvas canvas = new Canvas(bitmap1);\n                    holder.pvEditor.draw(canvas);\n\n                    try {\n                        String filename = new SimpleDateFormat(&quot;yyyyMMdd_HHmmss&quot;, Locale.ENGLISH).format(new Date());\n                        File file = SaveFileUtils.saveBitmapFileRemoveBg(MultifitActivity.this, bitmap1, filename, null);\n                        if (file != null) {\n                            filePaths.add(file.getAbsolutePath());\n                        }\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n\n            return filePaths;\n        }\n\n        public void onPostExecute(List&lt;String&gt; filePaths) {\n            // customLoader.hide();\n            if (filePaths == null || filePaths.isEmpty()) {\n                Toast.makeText(getApplicationContext(), R.string.went_wrong, Toast.LENGTH_LONG).show();\n                return;\n            }\n            Intent i = new Intent(MultifitActivity.this, MultiShareActivity.class);\n//            i.putExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\n            i.putStringArrayListExtra(&quot;path&quot;, (ArrayList&lt;String&gt;) filePaths);\n            startActivity(i);\n            AdsManager.showAdmobInterstitialAd(MultifitActivity.this, &quot;PhotoEditor&quot;);\n        }\n\n    }\n</code></pre>\n<p>and this code of adapter class</p>\n<pre><code>public class MultifitRecyclerViewAdapter extends RecyclerView.Adapter&lt;MultifitRecyclerViewAdapter.ViewHolder&gt; {\n    ArrayList&lt;Bitmap&gt; selectedBitmaps;\n    Context context;\n\n    String selectedFilterConfig;\n\n    String selectedAdjustConfig;\n    private boolean isColor;\n    private float mScaleSize;\n    private Bitmap bitmapBackground;\n    private ArrayList&lt;Bitmap&gt; backgroundImgList;\n\n    public MultifitRecyclerViewAdapter(ArrayList&lt;Bitmap&gt; selectedBitmaps, Context context, Bitmap bitmapBackground, boolean isColor, float mScaleSize) {\n        this.selectedBitmaps = selectedBitmaps;\n        this.context = context;\n        this.isColor = isColor;\n        this.bitmapBackground = bitmapBackground;\n        this.mScaleSize = mScaleSize;\n        this.selectedAdjustConfig = &quot;&quot;;\n        this.selectedFilterConfig = &quot;&quot;;\n    }\n\n    public void setSelectedBitmaps(ArrayList&lt;Bitmap&gt; selectedBitmaps) {\n        this.selectedBitmaps = selectedBitmaps;\n        notifyDataSetChanged();\n    }\n\n    public void setBitmapBackground(Bitmap bitmapBackground) {\n        this.bitmapBackground = bitmapBackground;\n        notifyDataSetChanged();\n    }\n\n    public void setmScaleSize(float mScaleSize) {\n        this.mScaleSize = mScaleSize;\n    }\n\n    public void setColor(boolean color) {\n        isColor = color;\n    }\n\n    public void setBackgroundImgList(ArrayList&lt;Bitmap&gt; backgroundImgList) {\n        this.backgroundImgList = backgroundImgList;\n        notifyDataSetChanged();\n    }\n\n\n    @NonNull\n    @Override\n    public MultifitRecyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.multifit_item, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MultifitRecyclerViewAdapter.ViewHolder holder, int position) {\n            holder.ivCover.setImageBitmap(this.selectedBitmaps.get(position));\n\n\n                if (isColor){\n\n                    holder.ivFrame.setImageBitmap(backgroundImgList.get(position));\n                }else {\n                    holder.ivFrame.setImageBitmap(bitmapBackground);\n\n                }\n\n\n\n\n            holder.ivCover.setScaleX(mScaleSize);\n            holder.ivCover.setScaleY(mScaleSize);\n    }\n\n    @Override\n    public int getItemCount() {\n        return selectedBitmaps.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        public PhotoEditorView pvEditor;\n        RectangularLayout rectangularLayout;\n        public ImageView ivFrame, ivCover;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            pvEditor = itemView.findViewById(R.id.photo_editor_view);\n            ivFrame = itemView.findViewById(R.id.ivFrame);\n            ivCover = itemView.findViewById(R.id.ivCover);\n            rectangularLayout = itemView.findViewById(R.id.relative_layout_wrapper_photo);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","file","fortify"],"comments":[{"owner":{"account_id":4181375,"reputation":5121,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1684145529,"post_id":76229865,"comment_id":134468854,"body_markdown":"you seem to need stop using that kind of poor quality software, if it generates false positives for such simple cases that only means it does not work at all, it is highly likely it may miss real vulnerabilities","body":"you seem to need stop using that kind of poor quality software, if it generates false positives for such simple cases that only means it does not work at all, it is highly likely it may miss real vulnerabilities"}],"answers":[{"tags":[],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684144930,"creation_date":1684144930,"answer_id":76252959,"question_id":76229865,"body_markdown":"The issue is reported in the line , \r\nSystem.getProperty(&quot;java.io.tmpdir&quot;)\r\n\r\nInstead of creating the temp directory under the the default system tmp directory path , I used the below code and it solved the fortify issue\r\n\r\n  Path path = Files.createTempDirectory(&quot;tmpdir&quot;);","title":"Fortify Vulnerability + Path Manipulation","body":"<p>The issue is reported in the line ,\nSystem.getProperty(&quot;java.io.tmpdir&quot;)</p>\n<p>Instead of creating the temp directory under the the default system tmp directory path , I used the below code and it solved the fortify issue</p>\n<p>Path path = Files.createTempDirectory(&quot;tmpdir&quot;);</p>\n"}],"owner":{"account_id":10653893,"reputation":199,"user_id":7843970,"display_name":"RagaSGNur"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684144930,"creation_date":1683823271,"question_id":76229865,"body_markdown":"I am getting Path Manipulation issue in Fortify analysis tool. \r\n\r\n    private static final String ALLOWABLE_CHARS= &quot;[\\\\\\\\/a-zA-Z0-9_\\\\-~:]+&quot;;\r\n    public static void generateZipFile(MultipartFile file) {\r\n            File tempFile;\r\n            try {\r\n                String path = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n          \r\n            // Reject any file path not containing any of the provided characters\r\n            if (path.matches(ALLOWABLE_CHARS)) {\r\n                tempFile = Files.createTempFile(Paths.get(path).normalize(), &quot;prefix&quot;, &quot;suffix&quot;).toFile();\r\n                //Rest of the code\r\n                .\r\n                .\r\n                .\r\n}\r\n\r\n**The vulnerability details from the tool:**\r\n\r\nAttackers can control the file system path argument to get() , which allows them to access or modify otherwise protected files.\r\n\r\n    getProperty(return) -&gt; Assignment to path -&gt;  get(0)\r\n    Paths.get(path) -&gt; String path = System.getProperty(&quot;java.io.tmpdir&quot;)\r\n\r\n\r\n**In the above code , I tried two options to eliminate the vulnerability.** \r\n\r\n1. I used normalize method for the path\r\n2. Set the allowable chars in regular expression and tried to validate the path with that regex.\r\n\r\nBoth of the attempts do not solve the issue .  Anyone has any thoughts to solve this vulnerability issue?\r\n\r\n\r\n","title":"Fortify Vulnerability + Path Manipulation","body":"<p>I am getting Path Manipulation issue in Fortify analysis tool.</p>\n<pre><code>private static final String ALLOWABLE_CHARS= &quot;[\\\\\\\\/a-zA-Z0-9_\\\\-~:]+&quot;;\npublic static void generateZipFile(MultipartFile file) {\n        File tempFile;\n        try {\n            String path = System.getProperty(&quot;java.io.tmpdir&quot;);\n      \n        // Reject any file path not containing any of the provided characters\n        if (path.matches(ALLOWABLE_CHARS)) {\n            tempFile = Files.createTempFile(Paths.get(path).normalize(), &quot;prefix&quot;, &quot;suffix&quot;).toFile();\n            //Rest of the code\n            .\n            .\n            .\n</code></pre>\n<p>}</p>\n<p><strong>The vulnerability details from the tool:</strong></p>\n<p>Attackers can control the file system path argument to get() , which allows them to access or modify otherwise protected files.</p>\n<pre><code>getProperty(return) -&gt; Assignment to path -&gt;  get(0)\nPaths.get(path) -&gt; String path = System.getProperty(&quot;java.io.tmpdir&quot;)\n</code></pre>\n<p><strong>In the above code , I tried two options to eliminate the vulnerability.</strong></p>\n<ol>\n<li>I used normalize method for the path</li>\n<li>Set the allowable chars in regular expression and tried to validate the path with that regex.</li>\n</ol>\n<p>Both of the attempts do not solve the issue .  Anyone has any thoughts to solve this vulnerability issue?</p>\n"},{"tags":["java","android","c++","kotlin"],"comments":[{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1647338461,"post_id":71480215,"comment_id":126340439,"body_markdown":"for the whole system? You can&#39;t do that","body":"for the whole system? You can&#39;t do that"},{"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"score":0,"creation_date":1647339000,"post_id":71480215,"comment_id":126340630,"body_markdown":"but, the Dumpster app does this","body":"but, the Dumpster app does this"},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1647339639,"post_id":71480215,"comment_id":126340849,"body_markdown":"That App scans &quot;hard disk&quot; sectors for REALLY DELETED files. It&#39;s not a recycle-bin App but a RECOVERY Tool for &quot;already destroyed files&quot;. Files, in the Storage, are just &quot;marked&quot; as deleted but their bytes still persist on the &quot;disk&quot; for a lot of time, and this App recovers them if same &quot;disk area&quot; is not overwritten in the meanwhile.","body":"That App scans &quot;hard disk&quot; sectors for REALLY DELETED files. It&#39;s not a recycle-bin App but a RECOVERY Tool for &quot;already destroyed files&quot;. Files, in the Storage, are just &quot;marked&quot; as deleted but their bytes still persist on the &quot;disk&quot; for a lot of time, and this App recovers them if same &quot;disk area&quot; is not overwritten in the meanwhile."},{"owner":{"account_id":7195349,"reputation":33494,"user_id":5494370,"display_name":"Alan Birtles"},"score":0,"creation_date":1647341706,"post_id":71480215,"comment_id":126341587,"body_markdown":"Sounds like dumpster is a nasty hack:https://www.quora.com/How-exactly-does-the-Dumpster-recycle-bin-for-Android-catch-up-deleted-files can&#39;t imagine it does much for the performance or battery life of your phone","body":"Sounds like dumpster is a nasty hack:<a href=\"https://www.quora.com/How-exactly-does-the-Dumpster-recycle-bin-for-Android-catch-up-deleted-files\" rel=\"nofollow noreferrer\">quora.com/&hellip;</a> can&#39;t imagine it does much for the performance or battery life of your phone"},{"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"score":0,"creation_date":1647341855,"post_id":71480215,"comment_id":126341646,"body_markdown":"@emandt, i tested Dumpster - This only works if the files were deleted while the application was running: if you delete the file while the application is disabled, and then run it, it will not detect the deleted file.\nEven the &quot;Dumpster&quot; notification says that it intercepted the deleted file.","body":"@emandt, i tested Dumpster - This only works if the files were deleted while the application was running: if you delete the file while the application is disabled, and then run it, it will not detect the deleted file. Even the &quot;Dumpster&quot; notification says that it intercepted the deleted file."},{"owner":{"account_id":6696437,"reputation":2557,"user_id":5164318,"display_name":"emandt"},"score":0,"creation_date":1647342378,"post_id":71480215,"comment_id":126341824,"body_markdown":"There could be different causes for this. The first is because this App could OBSERVES folder changes and store them in a Database. FileObservers, however, works with Permissions so if you App don&#39;t have right Permissions that folder cannot be observed. On newer Android 10/11+ a non-system-App cannot read/write/observe folders that it don&#39;t owns. The only workaroud is to Target a lower SDK (&lt; 29) but it cannot be uploaded in the Store starting from few months ago. Please read documentation for FileObserver and Android 10+ to know if you can do what you try to achieve.","body":"There could be different causes for this. The first is because this App could OBSERVES folder changes and store them in a Database. FileObservers, however, works with Permissions so if you App don&#39;t have right Permissions that folder cannot be observed. On newer Android 10/11+ a non-system-App cannot read/write/observe folders that it don&#39;t owns. The only workaroud is to Target a lower SDK (&lt; 29) but it cannot be uploaded in the Store starting from few months ago. Please read documentation for FileObserver and Android 10+ to know if you can do what you try to achieve."}],"owner":{"account_id":18653032,"reputation":1,"user_id":13596073,"display_name":"Альтрон Старксон"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684144913,"creation_date":1647338289,"question_id":71480215,"body_markdown":"I want to make an application of the &quot;recycle bin&quot; type, but I can&#39;t find any information on *how to intercept files before deleting*. \r\nAnything at all. Or at least where I should look.","title":"How to listen to the deletion of files before deleting them in Android","body":"<p>I want to make an application of the &quot;recycle bin&quot; type, but I can't find any information on <em>how to intercept files before deleting</em>.\nAnything at all. Or at least where I should look.</p>\n"},{"tags":["java","if-statement","collections","java-8","java-stream"],"comments":[{"owner":{"account_id":8361573,"reputation":573,"user_id":6279677,"display_name":"Suchandra T"},"score":1,"creation_date":1684125438,"post_id":76250736,"comment_id":134465351,"body_markdown":"Sure you can do that but it will just destroy the readability of code.","body":"Sure you can do that but it will just destroy the readability of code."}],"answers":[{"tags":[],"owner":{"account_id":14794402,"reputation":1,"user_id":10684385,"display_name":"Soheil Babadi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684131292,"creation_date":1684131292,"answer_id":76251311,"question_id":76250736,"body_markdown":"If I want to write this code, I will first create a stream of colorsList and then filter it. If the filter condition is true, the item will be added to the output.\r\nNext, we use flatMap() to flatten the nested lists into a single stream of strings.\r\n\r\n\r\n    List&lt;String&gt; listReturn = colorsList.stream()\r\n            .filter(innerList -&gt; var1 == 5 &amp;&amp; innerList.contains(&quot;blue&quot;)\r\n                    || var1 == 10 &amp;&amp; (innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)))\r\n            .flatMap(Collection::stream)\r\n            .collect(Collectors.toList());","title":"using collection and if else statement in java in optimize way","body":"<p>If I want to write this code, I will first create a stream of colorsList and then filter it. If the filter condition is true, the item will be added to the output.\nNext, we use flatMap() to flatten the nested lists into a single stream of strings.</p>\n<pre><code>List&lt;String&gt; listReturn = colorsList.stream()\n        .filter(innerList -&gt; var1 == 5 &amp;&amp; innerList.contains(&quot;blue&quot;)\n                || var1 == 10 &amp;&amp; (innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)))\n        .flatMap(Collection::stream)\n        .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684136671,"post_id":76251395,"comment_id":134466956,"body_markdown":"I don’t think that there is a reason to suggest an additional `null`-check here, but the suggestion to move the `5 == var1`/`10 == var1` check out of the iteration is pointing into the right direction.","body":"I don’t think that there is a reason to suggest an additional <code>null</code>-check here, but the suggestion to move the <code>5 == var1</code>/<code>10 == var1</code> check out of the iteration is pointing into the right direction."}],"tags":[],"owner":{"account_id":14544626,"reputation":129,"user_id":10505187,"display_name":"fixcer"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684132197,"creation_date":1684132197,"answer_id":76251395,"question_id":76250736,"body_markdown":"You can refer to the following code, you should also check colorsList is null or not\r\n\r\n```java\r\nList&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n        List.of(&quot;blue&quot;, &quot;skyblue&quot;),\r\n        List.of(&quot;pink&quot;));\r\n\r\nint var1 = 5;\r\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\r\n\r\nif (5 == var1) {\r\n    colorsList.stream()\r\n            .filter(innerList -&gt; innerList.contains(&quot;blue&quot;))\r\n            .forEach(listReturn::addAll);\r\n} else if (10 == var1) {\r\n    colorsList.stream()\r\n            .filter(innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;))\r\n            .forEach(listReturn::addAll);\r\n}\r\n\r\n```","title":"using collection and if else statement in java in optimize way","body":"<p>You can refer to the following code, you should also check colorsList is null or not</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\n        List.of(&quot;blue&quot;, &quot;skyblue&quot;),\n        List.of(&quot;pink&quot;));\n\nint var1 = 5;\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\n\nif (5 == var1) {\n    colorsList.stream()\n            .filter(innerList -&gt; innerList.contains(&quot;blue&quot;))\n            .forEach(listReturn::addAll);\n} else if (10 == var1) {\n    colorsList.stream()\n            .filter(innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;))\n            .forEach(listReturn::addAll);\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1684223309,"post_id":76252955,"comment_id":134482167,"body_markdown":"The original code doesn’t accept all when `var1` is neither `5` nor `10`, but none. So it’s preferable not to iterate over the original list in this case, when the result predictably will be an empty list.","body":"The original code doesn’t accept all when <code>var1</code> is neither <code>5</code> nor <code>10</code>, but none. So it’s preferable not to iterate over the original list in this case, when the result predictably will be an empty list."},{"owner":{"account_id":6472722,"reputation":548,"user_id":5016741,"accept_rate":60,"display_name":"usr_11"},"score":0,"creation_date":1684867125,"post_id":76252955,"comment_id":134579235,"body_markdown":"This seems better way but I am using Java 11 and its not allowing to use switch expression in predicate","body":"This seems better way but I am using Java 11 and its not allowing to use switch expression in predicate"},{"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":0,"creation_date":1685434398,"post_id":76252955,"comment_id":134655351,"body_markdown":"@usr_11 Switch expressions are a new feature of Java 14, so you can&#39;t use them in Java 11. You might want to see if you can upgrade to Java 17 (the current long-term support version of Java).","body":"@usr_11 Switch expressions are a new feature of Java 14, so you can&#39;t use them in Java 11. You might want to see if you can upgrade to Java 17 (the current long-term support version of Java)."}],"tags":[],"owner":{"account_id":45934,"reputation":203679,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684144906,"creation_date":1684144906,"answer_id":76252955,"question_id":76250736,"body_markdown":"You could factor out the predicate, this way you don&#39;t have to repeat the code of going over and filtering the list:\r\n\r\n    List&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n            List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n            List.of(&quot;blue, skyblue&quot;),\r\n            List.of(&quot;pink&quot;));\r\n\r\n    int var1 = 5;\r\n\r\n    // switch expression\r\n    Predicate&lt;List&lt;String&gt;&gt; predicate = switch (var1) {\r\n        case 5 -&gt; innerList -&gt; innerList.contains(&quot;blue&quot;);\r\n        case 10 -&gt; innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;);\r\n        default -&gt; innerList -&gt; true; // if something else than 5 or 10 accept all\r\n    };\r\n\r\n    List&lt;String&gt; listReturn = colorsList.stream()\r\n                   .filter(predicate).flatMap(List::stream).toList();\r\n","title":"using collection and if else statement in java in optimize way","body":"<p>You could factor out the predicate, this way you don't have to repeat the code of going over and filtering the list:</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n        List.of(&quot;red&quot;,&quot;maroon&quot;),\n        List.of(&quot;blue, skyblue&quot;),\n        List.of(&quot;pink&quot;));\n\nint var1 = 5;\n\n// switch expression\nPredicate&lt;List&lt;String&gt;&gt; predicate = switch (var1) {\n    case 5 -&gt; innerList -&gt; innerList.contains(&quot;blue&quot;);\n    case 10 -&gt; innerList -&gt; innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;);\n    default -&gt; innerList -&gt; true; // if something else than 5 or 10 accept all\n};\n\nList&lt;String&gt; listReturn = colorsList.stream()\n               .filter(predicate).flatMap(List::stream).toList();\n</code></pre>\n"}],"owner":{"account_id":6472722,"reputation":548,"user_id":5016741,"accept_rate":60,"display_name":"usr_11"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76252955,"answer_count":3,"score":0,"last_activity_date":1684144906,"creation_date":1684121589,"question_id":76250736,"body_markdown":"I have a below code which is working as expected and I want to optimize it, possibly if using  methods of stream.\r\n\r\n    List&lt;List&lt;String&gt;&gt; colorsList = List.of(\r\n       List.of(&quot;red&quot;,&quot;maroon&quot;),\r\n       List.of(&quot;blue, skyblue&quot;),\r\n       List.of(&quot;pink&quot;));\r\n    \r\n    int var1 = 5;\r\n    List&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\r\n    \r\n    for(List&lt;String&gt; innerList: colorsList){\r\n    \tif(var1 == 5){\r\n    \t\tif(innerList.contains(&quot;blue&quot;)){\r\n    \t\t\tlistReturn.addAll(innerList);\r\n    \t\t}\r\n        }else if(var1 == 10){\r\n    \t\tif(innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)){\r\n    \t\t\tlistReturn.addAll(innerList);\r\n    \t\t}\r\n    \t}\r\n      }\r\n    }\r\n\r\nBasically I am returning a single List&lt;String&gt; listReturn combining 1 or more List&lt;String&gt; from original colorsList based on conditions.\r\nIs there a better and optimized way to write above?","title":"using collection and if else statement in java in optimize way","body":"<p>I have a below code which is working as expected and I want to optimize it, possibly if using  methods of stream.</p>\n<pre><code>List&lt;List&lt;String&gt;&gt; colorsList = List.of(\n   List.of(&quot;red&quot;,&quot;maroon&quot;),\n   List.of(&quot;blue, skyblue&quot;),\n   List.of(&quot;pink&quot;));\n\nint var1 = 5;\nList&lt;String&gt; listReturn = new ArrayList&lt;&gt;();\n\nfor(List&lt;String&gt; innerList: colorsList){\n    if(var1 == 5){\n        if(innerList.contains(&quot;blue&quot;)){\n            listReturn.addAll(innerList);\n        }\n    }else if(var1 == 10){\n        if(innerList.contains(&quot;pink&quot;) || innerList.contains(&quot;red&quot;)){\n            listReturn.addAll(innerList);\n        }\n    }\n  }\n}\n</code></pre>\n<p>Basically I am returning a single List listReturn combining 1 or more List from original colorsList based on conditions.\nIs there a better and optimized way to write above?</p>\n"},{"tags":["java","jquery","json","spring-boot","gzip"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1684144835,"post_id":76252892,"comment_id":134468715,"body_markdown":"Perhaps you intended to base64 encode the GZIP? A GZIP stream is NOT a String, this line will corrupt the GZIP bytes as there is unlikely to be a conversion back with `data = baos.toString()`. Return binary instead","body":"Perhaps you intended to base64 encode the GZIP? A GZIP stream is NOT a String, this line will corrupt the GZIP bytes as there is unlikely to be a conversion back with <code>data = baos.toString()</code>. Return binary instead"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1684146628,"post_id":76252892,"comment_id":134469089,"body_markdown":"@DuncG Encoding in base64 makes no sense, as that would be invalid for the specified content type. The OP needs to return the raw bytes (i.e. `baos.toByteArray()`, although streaming directly would probably make sense, or leaving the gzip encoding/decoding up to the HTTP server itself.","body":"@DuncG Encoding in base64 makes no sense, as that would be invalid for the specified content type. The OP needs to return the raw bytes (i.e. <code>baos.toByteArray()</code>, although streaming directly would probably make sense, or leaving the gzip encoding/decoding up to the HTTP server itself."},{"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"score":0,"creation_date":1684160788,"post_id":76252892,"comment_id":134472397,"body_markdown":"Thank you both for explanations and suggestions! I&#39;ll dig related subjects to find the appropriate solution.","body":"Thank you both for explanations and suggestions! I&#39;ll dig related subjects to find the appropriate solution."}],"owner":{"account_id":19627912,"reputation":58,"user_id":14368358,"display_name":"V-CHO"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684144525,"creation_date":1684144525,"question_id":76252892,"body_markdown":"Spring @Controller:\r\n```\r\n@GetMapping(&quot;/accounts/list/all&quot;)\r\npublic ResponseEntity&lt;String&gt; getClients(){\r\n\t\r\n\tList&lt;AccountResponseDTO&gt; clients = accountService.getAll();\r\n\tString json = null;\r\n\ttry {\r\n\t\tjson = mapper.writeValueAsString(clients);\r\n\t}\r\n\tcatch (JsonProcessingException exc) {\r\n\t\tlog.warn(exc.getMessage(), exc);\r\n\t}\r\n\t\t\t\r\n\tbyte[] bytes = json.getBytes(StandardCharsets.UTF_8);\r\n\tString data = null;\r\n\ttry(ByteArrayOutputStream baos = new ByteArrayOutputStream(json.length());\r\n\t\t\tGZIPOutputStream gzip = new GZIPOutputStream(baos, bytes.length);){\r\n\t\tgzip.write(bytes);\r\n\t\tgzip.flush();\r\n\t\tdata = baos.toString();\r\n\t}\r\n\tcatch(IOException exc) {\r\n\t\tlog.warn(exc.getMessage(), exc);\r\n\t}\r\n\t\r\n\treturn ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN)\r\n\t\t\t.header(HttpHeaders.CONTENT_ENCODING, &quot;gzip&quot;).body(data);\r\n}\r\n```\r\nAJAX request:\r\n```\r\n$(document).ready(function(){\r\n$(&#39;#clients_table tbody&#39;).empty();\r\n\t$.ajax({\r\n\t\ttype: &#39;GET&#39;,\r\n\t\turl: &#39;/bankdemo/accounts/list/all&#39;,\r\n//\t\theaders: {&#39;Accept-Encoding&#39; : &#39;gzip&#39;},\r\n\t\tdataType: &quot;text&quot;,\r\n\t\tsuccess: function(response) {\r\n\t\t\tconst json = JSON.parse(response);\r\n\t\t\t$.each(json, function(key, value){\t\r\n\t\t\tvar account = &#39;&lt;tr&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.id+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.name+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.surname+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.phone+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td&gt;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.birthday+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;td class=align-middle align=center&gt;&#39;+value.active+&#39;&lt;/td&gt;&#39;\r\n\t\t\t\t+ &#39;&lt;/tr&gt;&#39;;\r\n\t\t\t$(account).appendTo(&#39;#clients_table tbody&#39;);\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n});\r\n```\r\nand recieving **net::ERR_CONTENT_DECODING_FAILED 200**\r\n\r\nIf I uncomment *headers: {&#39;Accept-Encoding&#39; : &#39;gzip&#39;}* then getting **Refused to set unsafe header**\r\n\r\nCant figure out what&#39;s wrong with the code?","title":"Cant decode JSON string from GZIP back to plain","body":"<p>Spring @Controller:</p>\n<pre><code>@GetMapping(&quot;/accounts/list/all&quot;)\npublic ResponseEntity&lt;String&gt; getClients(){\n    \n    List&lt;AccountResponseDTO&gt; clients = accountService.getAll();\n    String json = null;\n    try {\n        json = mapper.writeValueAsString(clients);\n    }\n    catch (JsonProcessingException exc) {\n        log.warn(exc.getMessage(), exc);\n    }\n            \n    byte[] bytes = json.getBytes(StandardCharsets.UTF_8);\n    String data = null;\n    try(ByteArrayOutputStream baos = new ByteArrayOutputStream(json.length());\n            GZIPOutputStream gzip = new GZIPOutputStream(baos, bytes.length);){\n        gzip.write(bytes);\n        gzip.flush();\n        data = baos.toString();\n    }\n    catch(IOException exc) {\n        log.warn(exc.getMessage(), exc);\n    }\n    \n    return ResponseEntity.ok().contentType(MediaType.TEXT_PLAIN)\n            .header(HttpHeaders.CONTENT_ENCODING, &quot;gzip&quot;).body(data);\n}\n</code></pre>\n<p>AJAX request:</p>\n<pre><code>$(document).ready(function(){\n$('#clients_table tbody').empty();\n    $.ajax({\n        type: 'GET',\n        url: '/bankdemo/accounts/list/all',\n//      headers: {'Accept-Encoding' : 'gzip'},\n        dataType: &quot;text&quot;,\n        success: function(response) {\n            const json = JSON.parse(response);\n            $.each(json, function(key, value){  \n            var account = '&lt;tr&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.id+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.name+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.surname+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.phone+'&lt;/td&gt;'\n                + '&lt;td&gt;&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.birthday+'&lt;/td&gt;'\n                + '&lt;td class=align-middle align=center&gt;'+value.active+'&lt;/td&gt;'\n                + '&lt;/tr&gt;';\n            $(account).appendTo('#clients_table tbody');\n            });\n        }\n    });\n});\n</code></pre>\n<p>and recieving <strong>net::ERR_CONTENT_DECODING_FAILED 200</strong></p>\n<p>If I uncomment <em>headers: {'Accept-Encoding' : 'gzip'}</em> then getting <strong>Refused to set unsafe header</strong></p>\n<p>Cant figure out what's wrong with the code?</p>\n"},{"tags":["java","tomcat8"],"answers":[{"comments":[{"owner":{"account_id":2851226,"reputation":2669,"user_id":2448399,"accept_rate":86,"display_name":"JimmyD"},"score":0,"creation_date":1530165941,"post_id":51075720,"comment_id":89140370,"body_markdown":"Tried that multiple times, no luck on this.","body":"Tried that multiple times, no luck on this."}],"tags":[],"owner":{"account_id":8794729,"reputation":15307,"user_id":6572971,"display_name":"Alien"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1530165909,"creation_date":1530165909,"answer_id":51075720,"question_id":51075696,"body_markdown":"1.Try removing server and add it again.\r\n\r\n2.Clean the project.","title":"No naming context bound to this class loader","body":"<p>1.Try removing server and add it again.</p>\n\n<p>2.Clean the project.</p>\n"},{"tags":[],"owner":{"account_id":18944262,"reputation":1,"user_id":13823558,"display_name":"Tushar Khutale"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593247764,"creation_date":1593247548,"answer_id":62607790,"question_id":51075696,"body_markdown":"You have to ensure that.. your Dynamic Web Module Version is proper. \r\n\r\nGo to:\r\n\r\n 1) right click on project\r\n 2) click Build path\r\n 3) select Project Facts\r\n 4) select Dynamic Web Module (Checkbox) with proper version","title":"No naming context bound to this class loader","body":"<p>You have to ensure that.. your Dynamic Web Module Version is proper.</p>\n<p>Go to:</p>\n<ol>\n<li>right click on project</li>\n<li>click Build path</li>\n<li>select Project Facts</li>\n<li>select Dynamic Web Module (Checkbox) with proper version</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":6897357,"reputation":1507,"user_id":5298806,"accept_rate":100,"display_name":"Pado"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593683312,"creation_date":1593682455,"answer_id":62693273,"question_id":51075696,"body_markdown":"I had, in my tomcat configuration, two modules: the actual model I wanted to run and another one I accidentally add. The second model was referring to a project that was &quot;closed&quot; in my workspace, this was causing the issue for me.  \r\n\r\nTry:\r\n - double-click on your server under the &quot;Servers&quot; tab in Eclipse\r\n - on the window that opens up go to &quot;Modules&quot; in the lower left corner\r\n - Remove the module(s) that you do not need \r\n - save\r\n\r\neventually clean your server and restart\r\n\r\n ","title":"No naming context bound to this class loader","body":"<p>I had, in my tomcat configuration, two modules: the actual model I wanted to run and another one I accidentally add. The second model was referring to a project that was &quot;closed&quot; in my workspace, this was causing the issue for me.</p>\n<p>Try:</p>\n<ul>\n<li>double-click on your server under the &quot;Servers&quot; tab in Eclipse</li>\n<li>on the window that opens up go to &quot;Modules&quot; in the lower left corner</li>\n<li>Remove the module(s) that you do not need</li>\n<li>save</li>\n</ul>\n<p>eventually clean your server and restart</p>\n"},{"tags":[],"owner":{"account_id":4156256,"reputation":80,"user_id":3407477,"display_name":"Robert Fornesdale"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600450690,"creation_date":1600450690,"answer_id":63960436,"question_id":51075696,"body_markdown":"In my case, it was that I had TWO restcontrollers with the same urlPattern... like:\r\n\r\n    @WebServlet(urlPatterns = { &quot;/ws/user/login&quot;, &quot;/ws/user/logout&quot; })\r\n\r\nin two different controllers. This has led to the above error message. \r\n\r\nThese utils and frameworks would be so much better, if the developers would implement less confusing error messages! Spring and many of it&#39;s modules are full of these misleading errors. This makes it pretty hard for beginners to get into it.","title":"No naming context bound to this class loader","body":"<p>In my case, it was that I had TWO restcontrollers with the same urlPattern... like:</p>\n<pre><code>@WebServlet(urlPatterns = { &quot;/ws/user/login&quot;, &quot;/ws/user/logout&quot; })\n</code></pre>\n<p>in two different controllers. This has led to the above error message.</p>\n<p>These utils and frameworks would be so much better, if the developers would implement less confusing error messages! Spring and many of it's modules are full of these misleading errors. This makes it pretty hard for beginners to get into it.</p>\n"},{"tags":[],"owner":{"account_id":22479996,"reputation":1,"user_id":16679198,"display_name":"Rits Pro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629166836,"creation_date":1629116390,"answer_id":68802709,"question_id":51075696,"body_markdown":"In my case on the servlet page the name I mentioned in the \r\n`@WebServlet(&quot;/ServletName&quot;)` was not the same as the class name.\r\n\r\nClass name was `CreatePage`, but I forgot to change the same in `@WebServlet(&quot;/ServletName&quot;)`.\r\n\r\nIt should be changed to match the class name: `@WebServlet(&quot;/CreatePage&quot;)`\r\n","title":"No naming context bound to this class loader","body":"<p>In my case on the servlet page the name I mentioned in the\n<code>@WebServlet(&quot;/ServletName&quot;)</code> was not the same as the class name.</p>\n<p>Class name was <code>CreatePage</code>, but I forgot to change the same in <code>@WebServlet(&quot;/ServletName&quot;)</code>.</p>\n<p>It should be changed to match the class name: <code>@WebServlet(&quot;/CreatePage&quot;)</code></p>\n"}],"owner":{"account_id":2851226,"reputation":2669,"user_id":2448399,"accept_rate":86,"display_name":"JimmyD"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19939,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51075720,"answer_count":5,"score":6,"last_activity_date":1684144308,"creation_date":1530165805,"question_id":51075696,"body_markdown":"I have created a Dynamic web project in Eclipse. When I try to run it on a local Tomcat from in Eclipse we are getting error:\r\n\r\n&gt; No naming context bound to this class loader\r\n\r\nI tried everything: running the application on another Tomcat version, another Eclipe version, ...\r\n\r\nCan someone help me with this? This is currently a blocker for further developments because of no debug capabilities. \r\n\r\nThe full error log is:\r\n\r\n    WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PCT_TO_CPQ]] so no cleanup was performed for that container\r\n    javax.naming.NamingException: No naming context bound to this class loader\r\n    \tat org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:268)\r\n    \tat org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:993)\r\n    \tat org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:976)\r\n    \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\r\n    \tat org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5492)\r\n    \tat org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\r\n    \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\r\n    \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\r\n    \tat org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:585)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:883)\r\n    \tat org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\r\n    \tat org.apache.catalina.startup.Catalina.start(Catalina.java:685)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n    \tat java.lang.reflect.Method.invoke(Unknown Source)\r\n    \tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)","title":"No naming context bound to this class loader","body":"<p>I have created a Dynamic web project in Eclipse. When I try to run it on a local Tomcat from in Eclipse we are getting error:</p>\n\n<blockquote>\n  <p>No naming context bound to this class loader</p>\n</blockquote>\n\n<p>I tried everything: running the application on another Tomcat version, another Eclipe version, ...</p>\n\n<p>Can someone help me with this? This is currently a blocker for further developments because of no debug capabilities. </p>\n\n<p>The full error log is:</p>\n\n<pre><code>WARNING: Failed to retrieve JNDI naming context for container [StandardEngine[Catalina].StandardHost[localhost].StandardContext[/PCT_TO_CPQ]] so no cleanup was performed for that container\njavax.naming.NamingException: No naming context bound to this class loader\n    at org.apache.naming.ContextBindings.getClassLoader(ContextBindings.java:268)\n    at org.apache.catalina.deploy.NamingResourcesImpl.cleanUp(NamingResourcesImpl.java:993)\n    at org.apache.catalina.deploy.NamingResourcesImpl.stopInternal(NamingResourcesImpl.java:976)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\n    at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5492)\n    at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:226)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:264)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.ContainerBase.removeChild(ContainerBase.java:856)\n    at org.apache.catalina.core.ContainerBase.destroyInternal(ContainerBase.java:1038)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardService.destroyInternal(StandardService.java:585)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.core.StandardServer.destroyInternal(StandardServer.java:883)\n    at org.apache.catalina.util.LifecycleBase.destroy(LifecycleBase.java:297)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:685)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:353)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:493)\n</code></pre>\n"},{"tags":["java","spring-boot","resttemplate","jackson-dataformat-xml","spring-resttemplate"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684144127,"post_id":73203000,"comment_id":134468557,"body_markdown":"You can&#39;t serialize streams, any more than you can fax a fax machine, or send your phone via SMS.","body":"You can&#39;t serialize streams, any more than you can fax a fax machine, or send your phone via SMS."}],"answers":[{"tags":[],"owner":{"account_id":6966136,"reputation":718,"user_id":5344089,"display_name":"Nadeeshani William"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684144060,"creation_date":1684144060,"answer_id":76252836,"question_id":73203000,"body_markdown":"This works for me. You need to disable FAIL_ON_EMPTY_BEANS in Jackson.\r\n\r\n   \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    @Configuration\r\n    public class ObjectMapperConfiguration {\r\n    \r\n      @Bean\r\n      public ObjectMapper objectMapper() {\r\n        return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n      }\r\n    }","title":"No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer","body":"<p>This works for me. You need to disable FAIL_ON_EMPTY_BEANS in Jackson.</p>\n<pre><code>import com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class ObjectMapperConfiguration {\n\n  @Bean\n  public ObjectMapper objectMapper() {\n    return new ObjectMapper().disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":892560,"reputation":4440,"user_id":930544,"accept_rate":76,"display_name":"Nidheesh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":761,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1684144060,"creation_date":1659422408,"question_id":73203000,"body_markdown":"I am trying to upload a file as xlsx to a document. \r\n\r\n    @Autowired\r\n    HttpHeaders headers;\r\n        \r\n\r\n            headers.setContentType(MediaType.MULTIPART_FORM_DATA);    \t\t\r\n    \t\tMultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;String, Object&gt;();\r\n    \t\tFile fileToUpload = new File(attachmentLocation); // /tmp/xyz.xlsx\r\n    \t\tbody.add(&quot;file&quot;, new FileSystemResource(fileToUpload));    \r\n    \t\tHttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);    \r\n    \t\ttry {\r\n    \t\t\tResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(myURL,\r\n    \t\t\t\t\tHttpMethod.POST, requestEntity, byte[].class);\r\n    \t\t}\r\n    \t\tcatch (RestClientException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n\r\nI&#39;m getting the following error message:\r\n\r\n    org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.ArrayList[0]-&gt;org.springframework.core.io.FileSystemResource[&quot;inputStream&quot;])\r\n\r\n\r\n\r\n ","title":"No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer","body":"<p>I am trying to upload a file as xlsx to a document.</p>\n<pre><code>@Autowired\nHttpHeaders headers;\n    \n\n        headers.setContentType(MediaType.MULTIPART_FORM_DATA);          \n        MultiValueMap&lt;String, Object&gt; body = new LinkedMultiValueMap&lt;String, Object&gt;();\n        File fileToUpload = new File(attachmentLocation); // /tmp/xyz.xlsx\n        body.add(&quot;file&quot;, new FileSystemResource(fileToUpload));    \n        HttpEntity&lt;MultiValueMap&lt;String, Object&gt;&gt; requestEntity = new HttpEntity&lt;&gt;(body, headers);    \n        try {\n            ResponseEntity&lt;byte[]&gt; response = restTemplate.exchange(myURL,\n                    HttpMethod.POST, requestEntity, byte[].class);\n        }\n        catch (RestClientException e) {\n            e.printStackTrace();\n        }\n</code></pre>\n<p>I'm getting the following error message:</p>\n<pre><code>org.springframework.http.converter.HttpMessageConversionException: Type definition error: [simple type, class sun.nio.ch.ChannelInputStream]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class sun.nio.ch.ChannelInputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS) (through reference chain: org.springframework.util.LinkedMultiValueMap[&quot;file&quot;]-&gt;java.util.ArrayList[0]-&gt;org.springframework.core.io.FileSystemResource[&quot;inputStream&quot;])\n</code></pre>\n"},{"tags":["java","azure-functions","azure-blob-storage"],"comments":[{"owner":{"account_id":7611366,"reputation":9515,"user_id":5772095,"display_name":"Skin"},"score":0,"creation_date":1684026533,"post_id":76245400,"comment_id":134456195,"body_markdown":"Does this help?  https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable#create-a-blobcontainerclient","body":"Does this help?  <a href=\"https://learn.microsoft.com/en-us/java/api/overview/azure/storage-blob-readme?view=azure-java-stable#create-a-blobcontainerclient\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/java/api/overview/azure/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":26618602,"reputation":1336,"user_id":20237646,"display_name":"Dasari Kamali"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684143972,"creation_date":1684143972,"answer_id":76252820,"question_id":76245400,"body_markdown":"Firstly, I created a container in my storage account and uploaded a **blob** like below,\r\n![enter image description here](https://i.imgur.com/DHkLGp7.png)\r\n\r\nThen, I created another container in my storage account and uploaded a **blob** as below,\r\n![enter image description here](https://i.imgur.com/4eaDkBr.png)\r\n\r\nWhen I download the **blob** from **firstcontainer** like below,\r\n![enter image description here](https://i.imgur.com/bL1c9XK.png)\r\n\r\n**Blob** looks like the below,\r\n\r\n![enter image description here](https://i.imgur.com/iAfi4wM.png)\r\n\r\nThen, I download **blob** from **secondcontainer** and it&#39;s look like below,\r\n![enter image description here](https://i.imgur.com/xWW4Aul.png)\r\n\r\nI followed the [Github-document](https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/storage/blobs/storage-quickstart-blobs-java.md?plain=1) with the same code can able to copy a **blob** from one container to another,\r\n\r\n**Code:**\r\n```java\r\nString sourceSasUri = &quot;sourceSASUri&quot;;\r\nString destinationContainerSasUri = &quot;destinationSASUri&quot;;\r\nString destinationBlobName = &quot;kam.txt&quot;;\r\n\r\nBlobServiceClient sourceBlobServiceClient = new BlobServiceClientBuilder()\r\n                .connectionString(sourceSasUri)\r\n                .buildClient();\r\n\r\nBlobClient sourceBlobClient = new BlobClientBuilder()\r\n                .connectionString(sourceSasUri)\r\n                .blobName(&quot;type.txt&quot;)\r\n                .buildClient();\r\n\r\nBlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                .connectionString(destinationContainerSasUri)\r\n                .buildClient();\r\n\r\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(destinationBlobName);\r\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(sourceBlobClient.getBlobUrl(), Duration.ofSeconds(2));\r\n        poller.waitForCompletion();\r\n```\r\n**SAS Uri** formate is as below,\r\n```java    \r\nDefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=&lt;storageaccountkey&gt;;EndpointSuffix=core.windows.net/&lt;containername&gt;\r\n```\r\n\r\n**Output:**\r\n\r\nIt ran successfully as below,\r\n![enter image description here](https://i.imgur.com/Zzqdn6h.png)\r\n\r\nThen, I downloaded the blob from **firstcontainer** and it&#39;s look like below,\r\n![enter image description here](https://i.imgur.com/OlmSY1d.png)\r\n\r\nAnd I downloaded the **blob** from **secondcontainer**, it&#39;s look like below,\r\nIt successfully copied the text from **blob** in **firstcontainer** shown as below,\r\n\r\n![enter image description here](https://i.imgur.com/liFdeM7.png)","title":"BlobContainerClient from Azure SAS URI","body":"<p>Firstly, I created a container in my storage account and uploaded a <strong>blob</strong> like below,\n<img src=\"https://i.imgur.com/DHkLGp7.png\" alt=\"enter image description here\" /></p>\n<p>Then, I created another container in my storage account and uploaded a <strong>blob</strong> as below,\n<img src=\"https://i.imgur.com/4eaDkBr.png\" alt=\"enter image description here\" /></p>\n<p>When I download the <strong>blob</strong> from <strong>firstcontainer</strong> like below,\n<img src=\"https://i.imgur.com/bL1c9XK.png\" alt=\"enter image description here\" /></p>\n<p><strong>Blob</strong> looks like the below,</p>\n<p><img src=\"https://i.imgur.com/iAfi4wM.png\" alt=\"enter image description here\" /></p>\n<p>Then, I download <strong>blob</strong> from <strong>secondcontainer</strong> and it's look like below,\n<img src=\"https://i.imgur.com/xWW4Aul.png\" alt=\"enter image description here\" /></p>\n<p>I followed the <a href=\"https://github.com/MicrosoftDocs/azure-docs/blob/main/articles/storage/blobs/storage-quickstart-blobs-java.md?plain=1\" rel=\"nofollow noreferrer\">Github-document</a> with the same code can able to copy a <strong>blob</strong> from one container to another,</p>\n<p><strong>Code:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>String sourceSasUri = &quot;sourceSASUri&quot;;\nString destinationContainerSasUri = &quot;destinationSASUri&quot;;\nString destinationBlobName = &quot;kam.txt&quot;;\n\nBlobServiceClient sourceBlobServiceClient = new BlobServiceClientBuilder()\n                .connectionString(sourceSasUri)\n                .buildClient();\n\nBlobClient sourceBlobClient = new BlobClientBuilder()\n                .connectionString(sourceSasUri)\n                .blobName(&quot;type.txt&quot;)\n                .buildClient();\n\nBlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .connectionString(destinationContainerSasUri)\n                .buildClient();\n\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(destinationBlobName);\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(sourceBlobClient.getBlobUrl(), Duration.ofSeconds(2));\n        poller.waitForCompletion();\n</code></pre>\n<p><strong>SAS Uri</strong> formate is as below,</p>\n<pre class=\"lang-java prettyprint-override\"><code>DefaultEndpointsProtocol=https;AccountName=&lt;storageaccountname&gt;;AccountKey=&lt;storageaccountkey&gt;;EndpointSuffix=core.windows.net/&lt;containername&gt;\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>It ran successfully as below,\n<img src=\"https://i.imgur.com/Zzqdn6h.png\" alt=\"enter image description here\" /></p>\n<p>Then, I downloaded the blob from <strong>firstcontainer</strong> and it's look like below,\n<img src=\"https://i.imgur.com/OlmSY1d.png\" alt=\"enter image description here\" /></p>\n<p>And I downloaded the <strong>blob</strong> from <strong>secondcontainer</strong>, it's look like below,\nIt successfully copied the text from <strong>blob</strong> in <strong>firstcontainer</strong> shown as below,</p>\n<p><img src=\"https://i.imgur.com/liFdeM7.png\" alt=\"enter image description here\" /></p>\n"}],"owner":{"account_id":98618,"reputation":13889,"user_id":266827,"accept_rate":78,"display_name":"Sandy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684143972,"creation_date":1684025140,"question_id":76245400,"body_markdown":"I am working on a POC to copy file from one azure storage account to another. What I have is SAS URI of source file and `SAS URI` of destination container. I trying to achieve this through Azure function app with `java`. What I tried `connectionString()` method of `BlobContainerClientBuilder` to connect to destination container but it threw error `java.lang.IllegalArgumentException: Invalid connection string.`\r\n\r\n    BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                    .connectionString(containerSasUri)\r\n                    .buildClient();\r\n\r\n \r\n    BlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(&quot;newDirectory/test.txt&quot;);\r\n\r\n\r\n    SyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(data.getFileUrl(), Duration.ofSeconds(2));\r\n    poller.waitForCompletion();\r\n\r\n\r\nI even tried `endpoint()` method of `BlobContainerClientBuilder` for instantiation of connection to destination container but that threw error `java.lang.IllegalArgumentException: Invalid Date String: 2022-05-10.`\r\n\r\n    BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\r\n                    .endpoint(containerSasUri)\r\n                    .buildClient();\r\n\r\nThe destination SAS URI looks like this `https://xxxxxxx.blob.core.windows.net/&lt;contsin_name&gt;?sv=2018-11-09&amp;sr=c&amp;st=2022-05-10&amp;se=2025-05-09T16%1A66%3B09X&amp;sp=racwdl&amp;spr=https&amp;rsct=application%2Foctet-stream&amp;sig=%2Bba37rfqAeHCR%2BX8hU1yfqSgojB40`\r\n\r\nAfter tryin to instantiate `BlobClient`, `BlonbServiceClient` and all failed with same errors, now I am wondering if instantiation using SAS URI is even possible or not, or I need service principal.","title":"BlobContainerClient from Azure SAS URI","body":"<p>I am working on a POC to copy file from one azure storage account to another. What I have is SAS URI of source file and <code>SAS URI</code> of destination container. I trying to achieve this through Azure function app with <code>java</code>. What I tried <code>connectionString()</code> method of <code>BlobContainerClientBuilder</code> to connect to destination container but it threw error <code>java.lang.IllegalArgumentException: Invalid connection string.</code></p>\n<pre><code>BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .connectionString(containerSasUri)\n                .buildClient();\n\n\nBlobClient destinationBlobClient = destinationBlobContainerClient.getBlobClient(&quot;newDirectory/test.txt&quot;);\n\n\nSyncPoller&lt;BlobCopyInfo, Void&gt; poller = destinationBlobClient.beginCopy(data.getFileUrl(), Duration.ofSeconds(2));\npoller.waitForCompletion();\n</code></pre>\n<p>I even tried <code>endpoint()</code> method of <code>BlobContainerClientBuilder</code> for instantiation of connection to destination container but that threw error <code>java.lang.IllegalArgumentException: Invalid Date String: 2022-05-10.</code></p>\n<pre><code>BlobContainerClient destinationBlobContainerClient = new BlobContainerClientBuilder()\n                .endpoint(containerSasUri)\n                .buildClient();\n</code></pre>\n<p>The destination SAS URI looks like this <code>https://xxxxxxx.blob.core.windows.net/&lt;contsin_name&gt;?sv=2018-11-09&amp;sr=c&amp;st=2022-05-10&amp;se=2025-05-09T16%1A66%3B09X&amp;sp=racwdl&amp;spr=https&amp;rsct=application%2Foctet-stream&amp;sig=%2Bba37rfqAeHCR%2BX8hU1yfqSgojB40</code></p>\n<p>After tryin to instantiate <code>BlobClient</code>, <code>BlonbServiceClient</code> and all failed with same errors, now I am wondering if instantiation using SAS URI is even possible or not, or I need service principal.</p>\n"},{"tags":["java","installation","config","java-web-start","system-administration"],"comments":[{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1446573143,"post_id":33484452,"comment_id":54795110,"body_markdown":"Can anyone help or suggest a possible solution, please?","body":"Can anyone help or suggest a possible solution, please?"},{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1446670112,"post_id":33484452,"comment_id":54844980,"body_markdown":"I have looked at the event log trying to determine if there are any O/S issues surfacing.   I saw none.","body":"I have looked at the event log trying to determine if there are any O/S issues surfacing.   I saw none."}],"answers":[{"comments":[{"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"score":0,"creation_date":1446514256,"post_id":33484527,"comment_id":54764542,"body_markdown":"Thank you for answering.  I tried this.  It did now work :-(","body":"Thank you for answering.  I tried this.  It did now work :-("}],"tags":[],"owner":{"account_id":6671029,"reputation":2067,"user_id":5147160,"display_name":"Vivek Singh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446489350,"creation_date":1446489350,"answer_id":33484527,"question_id":33484452,"body_markdown":"The path you have given should be in below format\r\n\r\n\t\r\n    deployment.system.config=file:/C:/Windows/Sun/Java/Deployment/deployment.proper‌​ties","title":"Java System Level deployment Malformed deployment.config file","body":"<p>The path you have given should be in below format</p>\n\n<pre><code>deployment.system.config=file:/C:/Windows/Sun/Java/Deployment/deployment.proper‌​ties\n</code></pre>\n"},{"tags":[],"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1449850507,"creation_date":1448465005,"answer_id":33920240,"question_id":33484452,"body_markdown":"I got the install to work correctly.  What I did was put the deployment.config file in the C:\\Windows\\Sun\\Java\\Deployment directory.  The property in the file was setup as so:\r\n\r\n    deployment.system.config=file\\:C\\:\\\\Sup\\\\Java\\\\UPGRADE\\\\Deployment\\\\deployment.properties\r\n\r\nThe exceptionlist file was in the same directory as the deployment.properties file. ","title":"Java System Level deployment Malformed deployment.config file","body":"<p>I got the install to work correctly.  What I did was put the deployment.config file in the C:\\Windows\\Sun\\Java\\Deployment directory.  The property in the file was setup as so:</p>\n\n<pre><code>deployment.system.config=file\\:C\\:\\\\Sup\\\\Java\\\\UPGRADE\\\\Deployment\\\\deployment.properties\n</code></pre>\n\n<p>The exceptionlist file was in the same directory as the deployment.properties file. </p>\n"},{"tags":[],"owner":{"account_id":4497828,"reputation":178,"user_id":3657200,"display_name":"Kintaro"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684143784,"creation_date":1684143784,"answer_id":76252802,"question_id":33484452,"body_markdown":"Is not needed to explicitly say to the installer to look at it if you are using the default system wide config location. Simply deploy the config files in the directory\r\n\r\n    C:\\Windows\\Sun\\Java\\Deployment\r\n\r\nand Java is going to load it. If that path doesn&#39;t exists create it.\r\n\r\nFrom the Oracle Java deploy guide:\r\n21.1.2 System Level\r\n\r\nThe deployment.config file is used for specifying the system-level deployment.properties in the infrastructure. By default no deployment.config file exists, so no system-wide deployment.properties file exists. If the deployment.config file exists, it is located in one of the directories shown in the following table.\r\n\r\nSource:\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html","title":"Java System Level deployment Malformed deployment.config file","body":"<p>Is not needed to explicitly say to the installer to look at it if you are using the default system wide config location. Simply deploy the config files in the directory</p>\n<pre><code>C:\\Windows\\Sun\\Java\\Deployment\n</code></pre>\n<p>and Java is going to load it. If that path doesn't exists create it.</p>\n<p>From the Oracle Java deploy guide:\n21.1.2 System Level</p>\n<p>The deployment.config file is used for specifying the system-level deployment.properties in the infrastructure. By default no deployment.config file exists, so no system-wide deployment.properties file exists. If the deployment.config file exists, it is located in one of the directories shown in the following table.</p>\n<p>Source:\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/deploy/properties.html</a></p>\n"}],"owner":{"account_id":190518,"reputation":480,"user_id":430542,"accept_rate":55,"display_name":"rray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1630,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":33920240,"answer_count":3,"score":0,"last_activity_date":1684143784,"creation_date":1446489036,"question_id":33484452,"body_markdown":"I am trying to install Java jre 1.8u31 from the command line. I am using system level install configuration by using the deployment.config file and deployment.properties. \r\n  [![Batch script for install java jre][1]][1] \r\n\r\n I have tried the following:\r\n\r\n    deployment.system.config=file\\:C\\:/WINDOWS/Sun/Java/Deployment/deployment.properties\r\n    deployment.system.config.mandatory=true\r\n\r\nI have also tried the following \r\n\r\n    deployment.system.config=file:///C:/Windows/Sun/Java/Deployment/deployment.properties\r\n    deployment.system.config.mandatory=true\r\n\r\nI have swapped the entries around in hopes of getting a better error describing what I am doing wrong.  I have also made the first line blank in the deployment.config file.  I have googled and tried all examples I could find online.  In all the cases, I am being presented a dialog box with an error that states the deployment.config file&#39;s line 1 is malformed.   \r\n\r\n[![enter image description here][2]][2]\r\n\r\nAny suggestions would be greatly appreciated. \r\n\r\nRuss\r\n\r\nI have tried all of these formats:\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/KO4j4.png\r\n  [2]: http://i.stack.imgur.com/hfn4P.png\r\n  [3]: http://i.stack.imgur.com/G3Kuz.png","title":"Java System Level deployment Malformed deployment.config file","body":"<p>I am trying to install Java jre 1.8u31 from the command line. I am using system level install configuration by using the deployment.config file and deployment.properties. \n  <a href=\"https://i.stack.imgur.com/KO4j4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KO4j4.png\" alt=\"Batch script for install java jre\"></a> </p>\n\n<p>I have tried the following:</p>\n\n<pre><code>deployment.system.config=file\\:C\\:/WINDOWS/Sun/Java/Deployment/deployment.properties\ndeployment.system.config.mandatory=true\n</code></pre>\n\n<p>I have also tried the following </p>\n\n<pre><code>deployment.system.config=file:///C:/Windows/Sun/Java/Deployment/deployment.properties\ndeployment.system.config.mandatory=true\n</code></pre>\n\n<p>I have swapped the entries around in hopes of getting a better error describing what I am doing wrong.  I have also made the first line blank in the deployment.config file.  I have googled and tried all examples I could find online.  In all the cases, I am being presented a dialog box with an error that states the deployment.config file's line 1 is malformed.   </p>\n\n<p><a href=\"https://i.stack.imgur.com/hfn4P.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hfn4P.png\" alt=\"enter image description here\"></a></p>\n\n<p>Any suggestions would be greatly appreciated. </p>\n\n<p>Russ</p>\n\n<p>I have tried all of these formats:\n<a href=\"https://i.stack.imgur.com/G3Kuz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3Kuz.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":5245126,"reputation":888,"user_id":4191101,"accept_rate":67,"display_name":"Majestic"},"score":0,"creation_date":1683897439,"post_id":76236670,"comment_id":134441143,"body_markdown":"Where are your breakpoints set ?","body":"Where are your breakpoints set ?"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897603,"post_id":76236670,"comment_id":134441194,"body_markdown":"in page object model","body":"in page object model"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1683897620,"post_id":76236670,"comment_id":134441205,"body_markdown":"Did you muted breakpoints? Its icon in the debugging window is a red circle with a white line running from the bottom-left to the top-right through it.","body":"Did you muted breakpoints? Its icon in the debugging window is a red circle with a white line running from the bottom-left to the top-right through it."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683897689,"post_id":76236670,"comment_id":134441230,"body_markdown":"easiest: don&#39;t use maven(..for this, but &quot;debug test in IDE&quot; ..as (poorly) described [here](https://cucumber.io/docs/cucumber/debugging/?lang=java)), when with maven, (i fear) you have to stick with https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html ... duplicate(unanswerd): https://stackoverflow.com/q/52221703/592355","body":"easiest: don&#39;t use maven(..for this, but &quot;debug test in IDE&quot; ..as (poorly) described <a href=\"https://cucumber.io/docs/cucumber/debugging/?lang=java\" rel=\"nofollow noreferrer\">here</a>), when with maven, (i fear) you have to stick with <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a> ... duplicate(unanswerd): <a href=\"https://stackoverflow.com/q/52221703/592355\">stackoverflow.com/q/52221703/592355</a>"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897698,"post_id":76236670,"comment_id":134441231,"body_markdown":"Breakpoints are red, but icon to run debug mode is green","body":"Breakpoints are red, but icon to run debug mode is green"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":1,"creation_date":1683897761,"post_id":76236670,"comment_id":134441249,"body_markdown":"if not maven runner - how to run this in junit runner in debug mode with maven options ?","body":"if not maven runner - how to run this in junit runner in debug mode with maven options ?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":0,"creation_date":1683897762,"post_id":76236670,"comment_id":134441250,"body_markdown":"Why did you show us a compilation run configuration (`mvn verify` desdn&#39;t run your program)? Do you want to debug the java compiler? :D","body":"Why did you show us a compilation run configuration (<code>mvn verify</code> desdn&#39;t run your program)? Do you want to debug the java compiler? :D"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1683897806,"post_id":76236670,"comment_id":134441261,"body_markdown":"I want the test to stop at red breakpoints in java code","body":"I want the test to stop at red breakpoints in java code"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1683897821,"post_id":76236670,"comment_id":134441267,"body_markdown":"for the surefire+forked case, also consider: you will need a (maven) &quot;run(test) configuration&quot; + a (debug) &quot;attach configuration&quot; (remote/attached debugging!)","body":"for the surefire+forked case, also consider: you will need a (maven) &quot;run(test) configuration&quot; + a (debug) &quot;attach configuration&quot; (remote/attached debugging!)"},{"owner":{"account_id":5245126,"reputation":888,"user_id":4191101,"accept_rate":67,"display_name":"Majestic"},"score":0,"creation_date":1683897832,"post_id":76236670,"comment_id":134441269,"body_markdown":"Can you provide a screenshot of your breakpoint ?","body":"Can you provide a screenshot of your breakpoint ?"},{"owner":{"account_id":9531412,"reputation":2010,"user_id":7082956,"display_name":"Valerij Dobler"},"score":2,"creation_date":1683897841,"post_id":76236670,"comment_id":134441271,"body_markdown":"`&gt; how to debug junit?` Click the gutter on the left side of your test method (or -class) and select debug instead of run.","body":"<code>&gt; how to debug junit?</code> Click the gutter on the left side of your test method (or -class) and select debug instead of run."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1683975369,"post_id":76236670,"comment_id":134450990,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684142972,"creation_date":1684142972,"answer_id":76252679,"question_id":76236670,"body_markdown":"The problem seems to stem from the fact that you are using a Maven Goal to debug your Project.\r\n\r\nIf you want to keep using Maven for debugging check Maven&#39;s [(1)][1] and IDEA&#39;s  [(1)][2] [(2)][3] documentation on this topic.\r\n\r\nYou can make the debugging process much easier, if you use a dedicated Cucumber Run/Debug Config:\r\n\r\n[![dedicated Cucumber Run/Debug Config][4]][4]\r\n\r\n\r\n  [1]: https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\r\n  [2]: https://www.jetbrains.com/help/idea/2020.2/run-debug-configuration-remote-debug.html\r\n  [3]: https://www.jetbrains.com/help/idea/2023.1/attaching-to-local-process.html\r\n  [4]: https://i.stack.imgur.com/O5jcR.png","title":"Intellij - maven runner does not stop at breakpoints in debug mode","body":"<p>The problem seems to stem from the fact that you are using a Maven Goal to debug your Project.</p>\n<p>If you want to keep using Maven for debugging check Maven's <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/debugging.html\" rel=\"nofollow noreferrer\">(1)</a> and IDEA's  <a href=\"https://www.jetbrains.com/help/idea/2020.2/run-debug-configuration-remote-debug.html\" rel=\"nofollow noreferrer\">(1)</a> <a href=\"https://www.jetbrains.com/help/idea/2023.1/attaching-to-local-process.html\" rel=\"nofollow noreferrer\">(2)</a> documentation on this topic.</p>\n<p>You can make the debugging process much easier, if you use a dedicated Cucumber Run/Debug Config:</p>\n<p><a href=\"https://i.stack.imgur.com/O5jcR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O5jcR.png\" alt=\"dedicated Cucumber Run/Debug Config\" /></a></p>\n"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684142972,"creation_date":1683897027,"question_id":76236670,"body_markdown":"I have java cucumber project. In Intellij - maven runner does not stop at breakpoints in debug mode.\r\nDo you know what shoulb be changed ?\r\n\r\nHere is the link to the screenshot \r\n[enter image description here][1]\r\n![IntelliJ-maven-run-config][2]\r\n\r\n\r\nI Intellij I click green icon &quot;debug&quot; at the top of the screen and tests starts but does not stop at breakpoints.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FdG5v.jpg\r\n  [2]: https://i.stack.imgur.com/4sEyl.jpg","title":"Intellij - maven runner does not stop at breakpoints in debug mode","body":"<p>I have java cucumber project. In Intellij - maven runner does not stop at breakpoints in debug mode.\nDo you know what shoulb be changed ?</p>\n<p>Here is the link to the screenshot\n<a href=\"https://i.stack.imgur.com/FdG5v.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>\n<img src=\"https://i.stack.imgur.com/4sEyl.jpg\" alt=\"IntelliJ-maven-run-config\" /></p>\n<p>I Intellij I click green icon &quot;debug&quot; at the top of the screen and tests starts but does not stop at breakpoints.</p>\n"},{"tags":["java","lambda","compiler-errors"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":7,"creation_date":1684138729,"post_id":76252105,"comment_id":134467376,"body_markdown":"Your lambda `c -&gt; { ... }`  is implementing the functional interface `GridComponent`. i.e. `c -&gt; { ... }` is an implementation of `String getEncoding()`. So it should take nothing and return a string. The compiler is complaining that it doesn&#39;t know what `c` is. Your actual outer function is more like a `Function&lt;Character, GridComponent&gt;`. That itself is not a GridComponent; it&#39;s something that *can give you* a GridComponent if you give it a character first.","body":"Your lambda <code>c -&gt; { ... }</code>  is implementing the functional interface <code>GridComponent</code>. i.e. <code>c -&gt; { ... }</code> is an implementation of <code>String getEncoding()</code>. So it should take nothing and return a string. The compiler is complaining that it doesn&#39;t know what <code>c</code> is. Your actual outer function is more like a <code>Function&lt;Character, GridComponent&gt;</code>. That itself is not a GridComponent; it&#39;s something that <i>can give you</i> a GridComponent if you give it a character first."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139023,"post_id":76252105,"comment_id":134467424,"body_markdown":"All you need here is `c -&gt; return c;`. Unclear why you think you need this, once it is simplified this much.","body":"All you need here is <code>c -&gt; return c;</code>. Unclear why you think you need this, once it is simplified this much."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139209,"post_id":76252105,"comment_id":134467459,"body_markdown":"@Michael I see a lot of upvotes on your comment but I am not sure what you mean, how do I check weather it is an &#39;o&#39; or a &#39;w&#39; ?","body":"@Michael I see a lot of upvotes on your comment but I am not sure what you mean, how do I check weather it is an &#39;o&#39; or a &#39;w&#39; ?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1684139243,"post_id":76252105,"comment_id":134467468,"body_markdown":"@user207421 That&#39;s invalid syntax FYI. Either `c -&gt; { return c; }` or (preferably) `c -&gt; c` or  `Function.identity()`","body":"@user207421 That&#39;s invalid syntax FYI. Either <code>c -&gt; { return c; }</code> or (preferably) <code>c -&gt; c</code> or  <code>Function.identity()</code>"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139354,"post_id":76252105,"comment_id":134467486,"body_markdown":"@Michael Yes indeed.","body":"@Michael Yes indeed."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139374,"post_id":76252105,"comment_id":134467491,"body_markdown":"@Michael Hi Michael, but how do I check weather it is &#39;o&#39; or &#39;w&#39;, my return is &quot;o&quot; and &quot;w&quot;","body":"@Michael Hi Michael, but how do I check weather it is &#39;o&#39; or &#39;w&#39;, my return is &quot;o&quot; and &quot;w&quot;"},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139559,"post_id":76252105,"comment_id":134467524,"body_markdown":"@user207421 I am taking char but returning string? How can I solve this ?","body":"@user207421 I am taking char but returning string? How can I solve this ?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1684139608,"post_id":76252105,"comment_id":134467537,"body_markdown":"I don&#39;t understand the follow-up question, sorry. I re-read my initial explanation and I don&#39;t currently see how I can improve on it. Suffices to say `c -&gt; {...}` cannot be assigned to GridComponent, because `c -&gt; {}` takes 1 argument and GridComponent&#39;s single abstract method (getEncoding) takes none.","body":"I don&#39;t understand the follow-up question, sorry. I re-read my initial explanation and I don&#39;t currently see how I can improve on it. Suffices to say <code>c -&gt; {...}</code> cannot be assigned to GridComponent, because <code>c -&gt; {}</code> takes 1 argument and GridComponent&#39;s single abstract method (getEncoding) takes none."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139631,"post_id":76252105,"comment_id":134467542,"body_markdown":"What I think you mean here is `GridComponent getGridComponent(char c) { if (c == &#39;o&#39; || c == &#39;w&#39;) return () -&gt; String.valueOf(c); else return null; }`. Putting the test inside the lambda just defers the inevitable: there is no benefit.","body":"What I think you mean here is <code>GridComponent getGridComponent(char c) { if (c == &#39;o&#39; || c == &#39;w&#39;) return () -&gt; String.valueOf(c); else return null; }</code>. Putting the test inside the lambda just defers the inevitable: there is no benefit."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684139867,"post_id":76252105,"comment_id":134467581,"body_markdown":"@user207421 but is that still a lambda function or is it just a function now?","body":"@user207421 but is that still a lambda function or is it just a function now?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684139886,"post_id":76252105,"comment_id":134467587,"body_markdown":"It is a function that returns a lambda. But I haven&#39;t compiled it ...","body":"It is a function that returns a lambda. But I haven&#39;t compiled it ..."},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684141933,"post_id":76252105,"comment_id":134468013,"body_markdown":"@Michael, Hi Michael I have added additional information as to what I want to achieve, maybe I was describing what I wanted incorrectly, I think it is what you said? Can you please confirm?","body":"@Michael, Hi Michael I have added additional information as to what I want to achieve, maybe I was describing what I wanted incorrectly, I think it is what you said? Can you please confirm?"},{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684142002,"post_id":76252105,"comment_id":134468025,"body_markdown":"@user207421 I have added some more information about what I want. But I dont think it was what you described","body":"@user207421 I have added some more information about what I want. But I dont think it was what you described"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1684143372,"post_id":76252105,"comment_id":134468356,"body_markdown":"I don&#39;t see anything in your edit that either invokes your original code or invalidates my suggestion. &quot;I want to create a lambda function that will create the GridComponent object that returns the encoding&quot;: no, I don&#39;t think you do. You want to create a function that returns a `GridComponent` lambda that returns the encoding. Which I provided. You&#39;re using a lambda where you don&#39;t need one, and you&#39;re not using one where you do. Perhaps you want the lambda to be `() -&gt; return &quot;ERROR&quot;` in the case that `c` is invalid, instead of null, but it&#39;s anybody&#39;s guess really.","body":"I don&#39;t see anything in your edit that either invokes your original code or invalidates my suggestion. &quot;I want to create a lambda function that will create the GridComponent object that returns the encoding&quot;: no, I don&#39;t think you do. You want to create a function that returns a <code>GridComponent</code> lambda that returns the encoding. Which I provided. You&#39;re using a lambda where you don&#39;t need one, and you&#39;re not using one where you do. Perhaps you want the lambda to be <code>() -&gt; return &quot;ERROR&quot;</code> in the case that <code>c</code> is invalid, instead of null, but it&#39;s anybody&#39;s guess really."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684174359,"post_id":76252105,"comment_id":134475691,"body_markdown":"It&#39;s important you realize that a lambda expression is essentially just &quot;syntactic sugar&quot; (i.e., shorthand) for defining an implementation of a functional interface, which an interface with a single abstract method (SAM). In this case, you&#39;re trying to implement `GridComponent` whose SAM is `getEncoding()`. That means the lambda expression will have **no parameters** and must return a `String`. But the lambda you have in the question is defining a single parameter `c` and trying to return `GridComponent`. See the problem?","body":"It&#39;s important you realize that a lambda expression is essentially just &quot;syntactic sugar&quot; (i.e., shorthand) for defining an implementation of a functional interface, which an interface with a single abstract method (SAM). In this case, you&#39;re trying to implement <code>GridComponent</code> whose SAM is <code>getEncoding()</code>. That means the lambda expression will have <b>no parameters</b> and must return a <code>String</code>. But the lambda you have in the question is defining a single parameter <code>c</code> and trying to return <code>GridComponent</code>. See the problem?"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1684174840,"post_id":76252105,"comment_id":134475775,"body_markdown":"Perhaps if you try to implement what you want using anonymous classes first, then you can at least get everything working like you want. Then convert the anonymous classes to lambda expressions (your IDE might provide an &quot;action&quot; that does such a conversion for you).","body":"Perhaps if you try to implement what you want using anonymous classes first, then you can at least get everything working like you want. Then convert the anonymous classes to lambda expressions (your IDE might provide an &quot;action&quot; that does such a conversion for you)."}],"answers":[{"comments":[{"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"score":0,"creation_date":1684141830,"post_id":76252402,"comment_id":134467990,"body_markdown":"jon hanson, thanks for the reponse, I have added additional information about what I want to active","body":"jon hanson, thanks for the reponse, I have added additional information about what I want to active"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684143828,"post_id":76252402,"comment_id":134468475,"body_markdown":"@SarahV.P Well that makes two people with the same suggestion. Please state clearly which of your objectives it fails to meet.","body":"@SarahV.P Well that makes two people with the same suggestion. Please state clearly which of your objectives it fails to meet."}],"tags":[],"owner":{"account_id":30898,"reputation":8927,"user_id":84538,"accept_rate":100,"display_name":"jon hanson"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684141005,"creation_date":1684141005,"answer_id":76252402,"question_id":76252105,"body_markdown":"It seems what you want is something like this:\r\n\r\n    GridComponent createGridComponent(char c) {\r\n        if (c == &#39;o&#39;) {\r\n            return () -&gt; &quot;o&quot;;\r\n        } else if (c == &#39;w&#39;) {\r\n            return () -&gt; &quot;w&quot;;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\nDepending on the version of Java you&#39;re using, this could be further simplified, e.g. (Java &gt;= 12):\r\n\r\n    GridComponent createGridComponentEncoder(char c) {\r\n        return switch (c) {\r\n            case &#39;o&#39; -&gt; () -&gt; &quot;o&quot;;\r\n            case &#39;w&#39; -&gt; () -&gt; &quot;w&quot;;\r\n            default -&gt; null;\r\n        };\r\n    }","title":"How to create Lamba function in Java confusion","body":"<p>It seems what you want is something like this:</p>\n<pre><code>GridComponent createGridComponent(char c) {\n    if (c == 'o') {\n        return () -&gt; &quot;o&quot;;\n    } else if (c == 'w') {\n        return () -&gt; &quot;w&quot;;\n    } else {\n        return null;\n    }\n}\n</code></pre>\n<p>Depending on the version of Java you're using, this could be further simplified, e.g. (Java &gt;= 12):</p>\n<pre><code>GridComponent createGridComponentEncoder(char c) {\n    return switch (c) {\n        case 'o' -&gt; () -&gt; &quot;o&quot;;\n        case 'w' -&gt; () -&gt; &quot;w&quot;;\n        default -&gt; null;\n    };\n}\n</code></pre>\n"}],"owner":{"account_id":14293744,"reputation":121,"user_id":13192651,"display_name":"Sarah V.P"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1684147340,"answer_count":1,"score":-1,"last_activity_date":1684142909,"creation_date":1684138504,"question_id":76252105,"body_markdown":"I have an interface called `GridComponent`:\r\n\r\n```\r\npackage lms.grid;\r\n\r\n/**\r\n * An interface for components that can be encoded as strings and placed in a grid.\r\n *\r\n * @provided\r\n */\r\npublic interface GridComponent {\r\n\r\n    /**\r\n     * Returns an encoding of this component as a string.\r\n     *\r\n     * @return the encoding of this component as a string.\r\n     */\r\n    String getEncoding();\r\n}\r\n\r\n```\r\n\r\nand I have a class called GameGrid and please scroll to the generate method, you can see that it uses a lambda function to put &quot;ERROR&quot; into the grid at every coordinate. Like I want to do the same thing but with &#39;o&#39; and &#39;w&#39;, I want to insert a lambda into the grid that returns the appropriate character code &quot;o&quot; and &quot;w&quot;\r\n```\r\npackage lms.grid;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\n/**\r\n * The GameGrid is responsible for managing the state and initialisation of the game&#39;s grid.\r\n * It provides the Map structure to hold the coordinates of each node in the grid. It also\r\n * maintains the size of the grid using a range variable. The range value donates how many\r\n * nodes each hexagonal grid node extends to.\r\n *\r\n * &lt;p&gt;\r\n * Summary: Initializes a grid of the game.\r\n *\r\n */\r\npublic class GameGrid {\r\n    /** The grid of the game */\r\n    private Map&lt;Coordinate, GridComponent&gt; grid;\r\n    /** The range of the grid. */\r\n    private int range;\r\n\r\n    /**\r\n     * Create a new GameGrid with the given range, stored in a Map.\r\n     * A private helper method, generate() has been provided to assist you with the logic of the hexagonal coordinate system.\r\n     *\r\n     * @param range The range of the grid.\r\n     * @requires range &gt; 0\r\n     */\r\n    public GameGrid(int range) {\r\n        if (range &lt;= 0) {\r\n            throw new IllegalArgumentException(&quot;Range must be greater than 0&quot;);\r\n        }\r\n        this.range = range;\r\n        this.grid = generate(range);\r\n    }\r\n\r\n    /**\r\n     * Get a copy of the grid of the game.\r\n     *\r\n     * @return A copy of the grid of the game.\r\n     */\r\n    public Map&lt;Coordinate, GridComponent&gt; getGrid() {\r\n        return new HashMap&lt;&gt;(this.grid);\r\n    }\r\n\r\n    /**\r\n     * Get the range of the grid.\r\n     *\r\n     * @return The range of the grid.\r\n     */\r\n    public int getRange() {\r\n        return this.range;\r\n    }\r\n\r\n    /**\r\n     * Helper method:\r\n     * Generates a grid with the given range, starting from the origin (the centre) and maintaining a\r\n     * balanced shape for the entire mapping structure.\r\n     * This has been provided to support you with the hexagonal coordinate logic.\r\n     * @param range The range of the map.\r\n     * @provided\r\n     */\r\n    private Map&lt;Coordinate, GridComponent&gt; generate(int range) {\r\n        Map&lt;Coordinate, GridComponent&gt; tempGrid = new HashMap&lt;&gt;();\r\n        for (int q = -range; q &lt;= range; q++) { // From negative to positive (inclusive)\r\n            for (int r = -range; r &lt;= range; r++) { // From negative to positive (inclusive)\r\n                for (int s = -range; s &lt;= range; s++) { // From negative to positive (inclusive)\r\n                    if (q + r + s == 0) {\r\n                        // Useful to default to error\r\n                        tempGrid.put(new Coordinate(q, r, s), () -&gt; &quot;ERROR&quot;);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return tempGrid;\r\n    }\r\n\r\n    /**\r\n     * Set the GridComponent at the given coordinate.\r\n     *\r\n     * @param coordinate The coordinate of the GridComponent.\r\n     * @param component  The GridComponent to be set.\r\n     */\r\n    public void setCoordinate(Coordinate coordinate, GridComponent component) {\r\n        this.grid.put(coordinate, component);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThe encoding is just a letter like &quot;o&quot; or &quot;w&quot;\r\n\r\nFor my project I am analyzing and parsing data from a txt file. My file contains &#39;o&#39; and &#39;w&#39;. \r\n\r\nHow can I do this? \r\n\r\nI have tried the following:\r\n\r\n\r\n```\r\nGridComponent gridLambda = c -&gt; {\r\n    if (c == &#39;o&#39;) {\r\n        return new GridComponent() {\r\n            @Override\r\n            public String getEncoding() {\r\n                return &quot;o&quot;;\r\n            }\r\n        };\r\n    } else if (c == &#39;w&#39;) {\r\n        return new GridComponent() {\r\n            @Override\r\n            public String getEncoding() {\r\n                return &quot;w&quot;;\r\n            }\r\n        };\r\n    } else {\r\n        return null;\r\n    }\r\n};\r\n```\r\n\r\nBut this code has errors:\r\n\r\n    operator &quot;==&quot; cannot be applied to &lt;lamba parameter&gt;, &#39;char&#39;? ","title":"How to create Lamba function in Java confusion","body":"<p>I have an interface called <code>GridComponent</code>:</p>\n<pre><code>package lms.grid;\n\n/**\n * An interface for components that can be encoded as strings and placed in a grid.\n *\n * @provided\n */\npublic interface GridComponent {\n\n    /**\n     * Returns an encoding of this component as a string.\n     *\n     * @return the encoding of this component as a string.\n     */\n    String getEncoding();\n}\n\n</code></pre>\n<p>and I have a class called GameGrid and please scroll to the generate method, you can see that it uses a lambda function to put &quot;ERROR&quot; into the grid at every coordinate. Like I want to do the same thing but with 'o' and 'w', I want to insert a lambda into the grid that returns the appropriate character code &quot;o&quot; and &quot;w&quot;</p>\n<pre><code>package lms.grid;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\n/**\n * The GameGrid is responsible for managing the state and initialisation of the game's grid.\n * It provides the Map structure to hold the coordinates of each node in the grid. It also\n * maintains the size of the grid using a range variable. The range value donates how many\n * nodes each hexagonal grid node extends to.\n *\n * &lt;p&gt;\n * Summary: Initializes a grid of the game.\n *\n */\npublic class GameGrid {\n    /** The grid of the game */\n    private Map&lt;Coordinate, GridComponent&gt; grid;\n    /** The range of the grid. */\n    private int range;\n\n    /**\n     * Create a new GameGrid with the given range, stored in a Map.\n     * A private helper method, generate() has been provided to assist you with the logic of the hexagonal coordinate system.\n     *\n     * @param range The range of the grid.\n     * @requires range &gt; 0\n     */\n    public GameGrid(int range) {\n        if (range &lt;= 0) {\n            throw new IllegalArgumentException(&quot;Range must be greater than 0&quot;);\n        }\n        this.range = range;\n        this.grid = generate(range);\n    }\n\n    /**\n     * Get a copy of the grid of the game.\n     *\n     * @return A copy of the grid of the game.\n     */\n    public Map&lt;Coordinate, GridComponent&gt; getGrid() {\n        return new HashMap&lt;&gt;(this.grid);\n    }\n\n    /**\n     * Get the range of the grid.\n     *\n     * @return The range of the grid.\n     */\n    public int getRange() {\n        return this.range;\n    }\n\n    /**\n     * Helper method:\n     * Generates a grid with the given range, starting from the origin (the centre) and maintaining a\n     * balanced shape for the entire mapping structure.\n     * This has been provided to support you with the hexagonal coordinate logic.\n     * @param range The range of the map.\n     * @provided\n     */\n    private Map&lt;Coordinate, GridComponent&gt; generate(int range) {\n        Map&lt;Coordinate, GridComponent&gt; tempGrid = new HashMap&lt;&gt;();\n        for (int q = -range; q &lt;= range; q++) { // From negative to positive (inclusive)\n            for (int r = -range; r &lt;= range; r++) { // From negative to positive (inclusive)\n                for (int s = -range; s &lt;= range; s++) { // From negative to positive (inclusive)\n                    if (q + r + s == 0) {\n                        // Useful to default to error\n                        tempGrid.put(new Coordinate(q, r, s), () -&gt; &quot;ERROR&quot;);\n                    }\n                }\n            }\n        }\n        return tempGrid;\n    }\n\n    /**\n     * Set the GridComponent at the given coordinate.\n     *\n     * @param coordinate The coordinate of the GridComponent.\n     * @param component  The GridComponent to be set.\n     */\n    public void setCoordinate(Coordinate coordinate, GridComponent component) {\n        this.grid.put(coordinate, component);\n    }\n}\n\n</code></pre>\n<p>The encoding is just a letter like &quot;o&quot; or &quot;w&quot;</p>\n<p>For my project I am analyzing and parsing data from a txt file. My file contains 'o' and 'w'.</p>\n<p>How can I do this?</p>\n<p>I have tried the following:</p>\n<pre><code>GridComponent gridLambda = c -&gt; {\n    if (c == 'o') {\n        return new GridComponent() {\n            @Override\n            public String getEncoding() {\n                return &quot;o&quot;;\n            }\n        };\n    } else if (c == 'w') {\n        return new GridComponent() {\n            @Override\n            public String getEncoding() {\n                return &quot;w&quot;;\n            }\n        };\n    } else {\n        return null;\n    }\n};\n</code></pre>\n<p>But this code has errors:</p>\n<pre><code>operator &quot;==&quot; cannot be applied to &lt;lamba parameter&gt;, 'char'? \n</code></pre>\n"},{"tags":["java","methods","parameters","runtime-error"],"owner":{"account_id":11496511,"reputation":31,"user_id":8425678,"display_name":"Martyn Corsair"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684142831,"creation_date":1684142831,"question_id":76252652,"body_markdown":"I&#39;m working on a minecraft plugin where I&#39;m using [CommandAPI][1] to add commands.\r\n\r\nI&#39;ve registered a command for opening a menu, and in order to open this menu, I am doing a call to my InterfaceManager class, which has an open() method that takes some parameters for which interface to open.\r\n\r\nHowever, when executing the command ingame, it appears to me as if the open() method is completely being ignored. By that I mean that the line InterfaceManager.open() might as well have been commented out, because that&#39;s how the code is being treated.\r\n\r\nThis is extremely confusing to me, as this is not at all behaviour that I am used to from Java. Which is why I would be extremely delighted if someone can explain to me what I&#39;m doing wrong.\r\n\r\nHere is how I have defined the code for executing the command:\r\n\r\n\t\texecutesPlayer((sender, args) -&gt; {\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] test123&quot;);\r\n\t\t\tMain.test();\r\n\t\t\tInterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\r\n\t\t});\r\n\t\t\r\nHere is the InterfaceManager.open() method:\r\n\r\n    \r\n\t\r\n\tpublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\r\n\t\tbuild(label, player, args, true);\r\n\t}\r\n\r\nThese are the results in the console after doing /menu:\r\n\r\n    [10:50:09] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [10:50:09] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [10:50:09] [Server thread/INFO]: [MenuCommand] test123\r\n    [10:50:09] [Server thread/INFO]: [Main] testing method call\r\n    [10:50:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThe test() method in the Main class is simply there to confirm that the code is capable of executing static methods defined in other classes.\r\n\r\nI would expect that, regardless of any errors that would exist at later points in the code, that it would at least print &quot;[InterfaceManager] test123&quot; and then the following line which shows the given parameters. But the whole method is skipped, as if it&#39;s simply not being called. I&#39;ve never seen this type of behaviour before, which is why I&#39;m very confused.\r\n\r\nActually, after a bit more testing, I made these changes:\r\n\r\n\tpublic static void test() {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] testing method call&quot;);\r\n\t}\r\n\t\r\n\tpublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\r\n\t\t//build(label, player, args, true);\r\n\t}\r\n\r\nBasically, moving the test() method from Main to InterfaceManager, just to check if it&#39;s possible to execute generic static methods from that class. Then I also commented out the build() method, just in case there are any errors there.\r\n\r\nThe resulting logs of this are:\r\n\r\n    [11:10:04] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [11:10:04] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [11:10:04] [Server thread/INFO]: [MenuCommand] test123\r\n    [11:10:04] [Server thread/INFO]: [InterfaceManager] testing method call\r\n    [11:10:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThe only conclusion I can draw from this is, I guess something is wrong with the parameters that are being passed to the open() method? Because that is basically the only difference at this point between test() and open(), other than that they are just both printing statements and nothing more. However, it&#39;s a shame it&#39;s not providing me with an error where I can actually find the details of what&#39;s going wrong.\r\n\r\nI checked this by adding another method:\r\n\r\n\t\r\n\tpublic static void opentest(Player player, String... args) {\r\n\t\tMain.logger().info(&quot;[InterfaceManager] test123&quot;);\r\n\t\tMain.logger().info(&quot;[InterfaceManager] opening interface: &quot; + player);\r\n\t\t//build(label, player, args, true);\r\n\t}\r\n\r\nAnd calling it as such:\r\n\r\n    executesPlayer((sender, args) -&gt; {\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] test123&quot;);\r\n\t\t\tInterfaceManager.test();\r\n\t\t\tInterfaceManager.opentest(sender, &quot;test&quot;);\r\n\t\t\tInterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\r\n\t\t\tMain.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\r\n\t\t});\r\n\r\nNow I got these results:\r\n\r\n    [11:21:36] [Server thread/INFO]: Pizzanakin issued server command: /menu\r\n    [11:21:36] [Server thread/INFO]: [MenuCommand] player executes menu command\r\n    [11:21:36] [Server thread/INFO]: [MenuCommand] test123\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] testing method call\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] test123\r\n    [11:21:36] [Server thread/INFO]: [InterfaceManager] opening interface: CraftPlayer{name=Pizzanakin}\r\n    [11:21:41] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\r\n\r\nThat basically confirms my assumptions that it will have to do with how InterfaceLabel is set up. If anyone could give an insight as to what could be wrong with the class, that would be appreciated. Although I understand if that&#39;s difficult, because I haven&#39;t shared the class files. Considering this is quite a large project, and I doubt someone would actually spend the energy to go through all of my classes just to find the problem, I&#39;m just looking for a hunch to focus my attention to.\r\n\r\nThanks in advance!\r\n\r\n  [1]: https://commandapi.jorel.dev/","title":"Passing a faulty object as a parameter makes Java completely ignore method calls without an error statement. What can cause this?","body":"<p>I'm working on a minecraft plugin where I'm using <a href=\"https://commandapi.jorel.dev/\" rel=\"nofollow noreferrer\">CommandAPI</a> to add commands.</p>\n<p>I've registered a command for opening a menu, and in order to open this menu, I am doing a call to my InterfaceManager class, which has an open() method that takes some parameters for which interface to open.</p>\n<p>However, when executing the command ingame, it appears to me as if the open() method is completely being ignored. By that I mean that the line InterfaceManager.open() might as well have been commented out, because that's how the code is being treated.</p>\n<p>This is extremely confusing to me, as this is not at all behaviour that I am used to from Java. Which is why I would be extremely delighted if someone can explain to me what I'm doing wrong.</p>\n<p>Here is how I have defined the code for executing the command:</p>\n<pre><code>    executesPlayer((sender, args) -&gt; {\n        Main.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\n        Main.logger().info(&quot;[MenuCommand] test123&quot;);\n        Main.test();\n        InterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\n        Main.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\n    });\n    \n</code></pre>\n<p>Here is the InterfaceManager.open() method:</p>\n<pre><code>public static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\n    build(label, player, args, true);\n}\n</code></pre>\n<p>These are the results in the console after doing /menu:</p>\n<pre><code>[10:50:09] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[10:50:09] [Server thread/INFO]: [MenuCommand] player executes menu command\n[10:50:09] [Server thread/INFO]: [MenuCommand] test123\n[10:50:09] [Server thread/INFO]: [Main] testing method call\n[10:50:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>The test() method in the Main class is simply there to confirm that the code is capable of executing static methods defined in other classes.</p>\n<p>I would expect that, regardless of any errors that would exist at later points in the code, that it would at least print &quot;[InterfaceManager] test123&quot; and then the following line which shows the given parameters. But the whole method is skipped, as if it's simply not being called. I've never seen this type of behaviour before, which is why I'm very confused.</p>\n<p>Actually, after a bit more testing, I made these changes:</p>\n<pre><code>public static void test() {\n    Main.logger().info(&quot;[InterfaceManager] testing method call&quot;);\n}\n\npublic static void open(InterfaceLabel&lt;?&gt; label, Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + label + &quot; &quot; + player);\n    //build(label, player, args, true);\n}\n</code></pre>\n<p>Basically, moving the test() method from Main to InterfaceManager, just to check if it's possible to execute generic static methods from that class. Then I also commented out the build() method, just in case there are any errors there.</p>\n<p>The resulting logs of this are:</p>\n<pre><code>[11:10:04] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[11:10:04] [Server thread/INFO]: [MenuCommand] player executes menu command\n[11:10:04] [Server thread/INFO]: [MenuCommand] test123\n[11:10:04] [Server thread/INFO]: [InterfaceManager] testing method call\n[11:10:10] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>The only conclusion I can draw from this is, I guess something is wrong with the parameters that are being passed to the open() method? Because that is basically the only difference at this point between test() and open(), other than that they are just both printing statements and nothing more. However, it's a shame it's not providing me with an error where I can actually find the details of what's going wrong.</p>\n<p>I checked this by adding another method:</p>\n<pre><code>public static void opentest(Player player, String... args) {\n    Main.logger().info(&quot;[InterfaceManager] test123&quot;);\n    Main.logger().info(&quot;[InterfaceManager] opening interface: &quot; + player);\n    //build(label, player, args, true);\n}\n</code></pre>\n<p>And calling it as such:</p>\n<pre><code>executesPlayer((sender, args) -&gt; {\n        Main.logger().info(&quot;[MenuCommand] player executes menu command&quot;);\n        Main.logger().info(&quot;[MenuCommand] test123&quot;);\n        InterfaceManager.test();\n        InterfaceManager.opentest(sender, &quot;test&quot;);\n        InterfaceManager.open(DefaultInterfaceLabels.MAIN_MENU, sender);\n        Main.logger().info(&quot;[MenuCommand] InterfaceManager open() called&quot;);\n    });\n</code></pre>\n<p>Now I got these results:</p>\n<pre><code>[11:21:36] [Server thread/INFO]: Pizzanakin issued server command: /menu\n[11:21:36] [Server thread/INFO]: [MenuCommand] player executes menu command\n[11:21:36] [Server thread/INFO]: [MenuCommand] test123\n[11:21:36] [Server thread/INFO]: [InterfaceManager] testing method call\n[11:21:36] [Server thread/INFO]: [InterfaceManager] test123\n[11:21:36] [Server thread/INFO]: [InterfaceManager] opening interface: CraftPlayer{name=Pizzanakin}\n[11:21:41] [atlantispool housekeeper/DEBUG]: [com.zaxxer.hikari.pool.HikariPool] atlantispool - Before cleanup stats (total=6, active=0, idle=6, waiting=0)\n</code></pre>\n<p>That basically confirms my assumptions that it will have to do with how InterfaceLabel is set up. If anyone could give an insight as to what could be wrong with the class, that would be appreciated. Although I understand if that's difficult, because I haven't shared the class files. Considering this is quite a large project, and I doubt someone would actually spend the energy to go through all of my classes just to find the problem, I'm just looking for a hunch to focus my attention to.</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","spring-boot","spring-security"],"answers":[{"comments":[{"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"score":0,"creation_date":1683901553,"post_id":76237131,"comment_id":134442166,"body_markdown":"I can not see how concise the second way is. Both ways have the same number of lines.","body":"I can not see how concise the second way is. Both ways have the same number of lines."},{"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"score":0,"creation_date":1683903102,"post_id":76237131,"comment_id":134442550,"body_markdown":"yes you are correct, in this code lines are may not appear to be significantly more concise than the first way. But let&#39;s take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code.\n\nList&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);\n\none line of code:\n integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList()).forEach(System.out::println);","body":"yes you are correct, in this code lines are may not appear to be significantly more concise than the first way. But let&#39;s take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code.  List&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);  one line of code:  integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList(&zwnj;&#8203;)).forEach(System.ou&zwnj;&#8203;t::println);"}],"tags":[],"owner":{"account_id":8362258,"reputation":1639,"user_id":6280135,"display_name":"Maninder"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683903362,"creation_date":1683900460,"answer_id":76237131,"question_id":76236883,"body_markdown":"Both ways are equivalent in functionality wise and doing the same thing. The first way you used is the traditional way of configuring security. \r\n\r\nThe second way introduced in spring security 5. \r\n\r\nThe benefit of using the lambda function to make your code concise and easy to read. \r\n\r\nIn your code lines are may not appear to be significantly more concise than the first way. \r\n\r\nBut let&#39;s take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code\r\n\r\n\r\n    public class MinImp {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);\r\n    \r\n            //Traditional way to achieve it\r\n            for(int i=0; i&lt;integers.size();i++){\r\n                if(integers.get(i)&gt;10){\r\n                    System.out.println(&quot;Integer is: &quot;+integers.get(i));\r\n                }\r\n            }\r\n    \r\n            //Using Streams and lamba function, you can do it in one line of code.\r\n            integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList()).forEach(System.out::println);","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>Both ways are equivalent in functionality wise and doing the same thing. The first way you used is the traditional way of configuring security.</p>\n<p>The second way introduced in spring security 5.</p>\n<p>The benefit of using the lambda function to make your code concise and easy to read.</p>\n<p>In your code lines are may not appear to be significantly more concise than the first way.</p>\n<p>But let's take an example. You have a list of integers and you want only that numbers which are greater than 10 so how much you get it. One way is to use the if condition inside the for-loop and say if no is greater than 10 then save it in new list but same thing you can achieve in one line of code</p>\n<pre><code>public class MinImp {\n\n    public static void main(String[] args) {\n        List&lt;Integer&gt; integers = Arrays.asList(1,10,4,50,70);\n\n        //Traditional way to achieve it\n        for(int i=0; i&lt;integers.size();i++){\n            if(integers.get(i)&gt;10){\n                System.out.println(&quot;Integer is: &quot;+integers.get(i));\n            }\n        }\n\n        //Using Streams and lamba function, you can do it in one line of code.\n        integers.stream().filter(a-&gt;a&gt;10).collect(Collectors.toList()).forEach(System.out::println);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684142751,"creation_date":1684142751,"answer_id":76252640,"question_id":76236883,"body_markdown":"The second way, according to this [article][1]:\r\n\r\n&gt; It is a new approach to configure web security in Spring projects using lambda expressions. One of the main benefits of it is to avoid chaining using the and() method. It also promotes cleaner coding style in my opinion.\r\nOf course, the chaining style is still valid and the use of lambda expressions is optional.\r\n\r\n\r\n  [1]: https://dev.to/noelopez/spring-security-lambda-dsl-1a4m#:~:text=It%20is%20a%20new%20approach,of%20lambda%20expresions%20is%20optional.","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>The second way, according to this <a href=\"https://dev.to/noelopez/spring-security-lambda-dsl-1a4m#:%7E:text=It%20is%20a%20new%20approach,of%20lambda%20expresions%20is%20optional.\" rel=\"nofollow noreferrer\">article</a>:</p>\n<blockquote>\n<p>It is a new approach to configure web security in Spring projects using lambda expressions. One of the main benefits of it is to avoid chaining using the and() method. It also promotes cleaner coding style in my opinion.\nOf course, the chaining style is still valid and the use of lambda expressions is optional.</p>\n</blockquote>\n"}],"owner":{"account_id":28470071,"reputation":35,"user_id":21785522,"display_name":"Mahmoud Reda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76252640,"answer_count":2,"score":1,"last_activity_date":1684142751,"creation_date":1683898677,"question_id":76236883,"body_markdown":"First way:\r\n\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests()\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;);\r\n \r\n    http.httpBasic();\r\n \r\n    http.csrf().disable();\r\n \r\n    return http.build();\r\n}\r\n```\r\n\r\nSecond way:\r\n```\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.authorizeHttpRequests(configurer -&gt; \r\n            configurer.requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\r\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\r\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;));\r\n \r\n    http.httpBasic();\r\n \r\n    http.csrf().disable();\r\n \r\n    return http.build();\r\n}\r\n```\r\n\r\n\r\nI was trying to restrict access to Rest APIs based on Roles using Spring Security.\r\nI found there are two ways to do so. Both are working fine, but I want to know if there is a difference.\r\n","title":"What is the difference between restricting URLs based on Roles in the following two ways in spring security?","body":"<p>First way:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests()\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;);\n \n    http.httpBasic();\n \n    http.csrf().disable();\n \n    return http.build();\n}\n</code></pre>\n<p>Second way:</p>\n<pre><code>@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.authorizeHttpRequests(configurer -&gt; \n            configurer.requestMatchers(HttpMethod.GET, &quot;/api/employees&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.GET, &quot;/api/employees/**&quot;).hasRole(&quot;EMPLOYEE&quot;)\n            .requestMatchers(HttpMethod.POST, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.PUT, &quot;/api/employees&quot;).hasRole(&quot;MANAGER&quot;)\n            .requestMatchers(HttpMethod.DELETE, &quot;/api/employees/**&quot;).hasRole(&quot;ADMIN&quot;));\n \n    http.httpBasic();\n \n    http.csrf().disable();\n \n    return http.build();\n}\n</code></pre>\n<p>I was trying to restrict access to Rest APIs based on Roles using Spring Security.\nI found there are two ways to do so. Both are working fine, but I want to know if there is a difference.</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1510925374,"post_id":47351266,"comment_id":81655519,"body_markdown":"See https://stackoverflow.com/questions/34822029/apache-poi-3-13-offline-offset-elements-for-a-doc/34825848#34825848","body":"See <a href=\"https://stackoverflow.com/questions/34822029/apache-poi-3-13-offline-offset-elements-for-a-doc/34825848#34825848\" title=\"apache poi 3 13 offline offset elements for a doc\">stackoverflow.com/questions/34822029/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":4671410,"reputation":49,"user_id":3783115,"display_name":"Preetam"},"score":0,"creation_date":1511187259,"post_id":47374834,"comment_id":81741060,"body_markdown":"Thanks a lot. I did got the above solution from the link u shared previously. Was a gr8 help. :)","body":"Thanks a lot. I did got the above solution from the link u shared previously. Was a gr8 help. :)"}],"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1684142726,"creation_date":1511078752,"answer_id":47374834,"question_id":47351266,"body_markdown":"The [XWPFTableRow.setCantSplitRow](https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFTableRow.html#setCantSplitRow-boolean-) does only control whether the table row itself may be divided by a page break. \r\n\r\nBut what you wants is [Keep text together](https://support.office.com/en-us/article/Keep-text-together-af94e5b8-3a5a-4cb0-9c53-dea56b43d96d). So we need to use `CTPPrBase.addNewKeepNext`. If this is set `ON` or `true`, then this paragraph should not be divided from the next paragraph. Also we schould set `CTPPrBase.addNewKeepLines` to `ON` or `true`. This means: Don&#39;t split the paragraph itself.\r\n\r\nExample:\r\n\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.xwpf.usermodel.*;\r\n    \r\n    //import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff; // up to Apache POI 4\r\n    \r\n    import java.util.Random;\r\n    \r\n    public class CreateWordTableKeepTogether {\r\n    \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      int numtables = 5;\r\n      int numrows;\r\n      Random random = new Random();\r\n      int numcols = 5;\r\n    \r\n      XWPFDocument document = new XWPFDocument();\r\n    \r\n      XWPFParagraph paragraph = document.createParagraph();\r\n      XWPFRun run = paragraph.createRun();\r\n      run.setText(&quot;The tables:&quot;);\r\n    \r\n      for (int t = 0; t &lt; numtables; t++) {\r\n    \r\n       numrows = random.nextInt(10) + 3;\r\n    \r\n       paragraph = document.createParagraph();\r\n       run = paragraph.createRun();\r\n       run.setText(&quot;Table &quot; + (t+1));\r\n    \r\n       //don&#39;t split the paragraph itself\r\n       //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\r\n       paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\r\n       //keep this paragraph together with the next paragraph\r\n       //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\r\n       paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\r\n    \r\n       XWPFTable table = document.createTable();\r\n    \r\n       for (int r = 0; r &lt; numrows; r++) {\r\n        XWPFTableRow row = table.getRow(r);\r\n        if (row == null) row = table.createRow();\r\n    \r\n        //don&#39;t divide this row\r\n        row.setCantSplitRow(true);\r\n    \r\n        for (int c = 0; c &lt; numcols; c++) {\r\n         XWPFTableCell cell = row.getCell(c);\r\n         if (cell == null) cell = row.createCell();\r\n         paragraph = cell.getParagraphArray(0);\r\n         if (paragraph == null) paragraph = cell.addParagraph();\r\n         run = paragraph.createRun();\r\n         run.setText(&quot;T&quot; + (t+1) + &quot;R&quot; + (r+1) + &quot;C&quot; + (c+1));\r\n    \r\n         if (c == 0) { //only necessary for column one, since further columns in this row are protected by setCantSplitRow\r\n          //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\r\n          //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\r\n          paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\r\n          paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\r\n         }\r\n    \r\n        }  \r\n       }\r\n    \r\n       //this is necessary, since it is the only paragraph which allows page breaks\r\n       paragraph = document.createParagraph();\r\n    \r\n      }\r\n      \r\n      FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableKeepTogether.docx&quot;);\r\n      document.write(out);\r\n      out.close();\r\n      document.close();\r\n    \r\n     }\r\n    }","title":"Avoid dynamic table rows with different number of rows to flow to different pages in an XWPFDocument(Apache POI)","body":"<p>The <a href=\"https://poi.apache.org/apidocs/org/apache/poi/xwpf/usermodel/XWPFTableRow.html#setCantSplitRow-boolean-\" rel=\"nofollow noreferrer\">XWPFTableRow.setCantSplitRow</a> does only control whether the table row itself may be divided by a page break.</p>\n<p>But what you wants is <a href=\"https://support.office.com/en-us/article/Keep-text-together-af94e5b8-3a5a-4cb0-9c53-dea56b43d96d\" rel=\"nofollow noreferrer\">Keep text together</a>. So we need to use <code>CTPPrBase.addNewKeepNext</code>. If this is set <code>ON</code> or <code>true</code>, then this paragraph should not be divided from the next paragraph. Also we schould set <code>CTPPrBase.addNewKeepLines</code> to <code>ON</code> or <code>true</code>. This means: Don't split the paragraph itself.</p>\n<p>Example:</p>\n<pre><code>import java.io.FileOutputStream;\n\nimport org.apache.poi.xwpf.usermodel.*;\n\n//import org.openxmlformats.schemas.wordprocessingml.x2006.main.STOnOff; // up to Apache POI 4\n\nimport java.util.Random;\n\npublic class CreateWordTableKeepTogether {\n\n public static void main(String[] args) throws Exception {\n\n  int numtables = 5;\n  int numrows;\n  Random random = new Random();\n  int numcols = 5;\n\n  XWPFDocument document = new XWPFDocument();\n\n  XWPFParagraph paragraph = document.createParagraph();\n  XWPFRun run = paragraph.createRun();\n  run.setText(&quot;The tables:&quot;);\n\n  for (int t = 0; t &lt; numtables; t++) {\n\n   numrows = random.nextInt(10) + 3;\n\n   paragraph = document.createParagraph();\n   run = paragraph.createRun();\n   run.setText(&quot;Table &quot; + (t+1));\n\n   //don't split the paragraph itself\n   //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\n   paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\n   //keep this paragraph together with the next paragraph\n   //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\n   paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\n\n   XWPFTable table = document.createTable();\n\n   for (int r = 0; r &lt; numrows; r++) {\n    XWPFTableRow row = table.getRow(r);\n    if (row == null) row = table.createRow();\n\n    //don't divide this row\n    row.setCantSplitRow(true);\n\n    for (int c = 0; c &lt; numcols; c++) {\n     XWPFTableCell cell = row.getCell(c);\n     if (cell == null) cell = row.createCell();\n     paragraph = cell.getParagraphArray(0);\n     if (paragraph == null) paragraph = cell.addParagraph();\n     run = paragraph.createRun();\n     run.setText(&quot;T&quot; + (t+1) + &quot;R&quot; + (r+1) + &quot;C&quot; + (c+1));\n\n     if (c == 0) { //only necessary for column one, since further columns in this row are protected by setCantSplitRow\n      //paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(STOnOff.ON); // up to Apache POI 4\n      //paragraph.getCTP().getPPr().addNewKeepNext().setVal(STOnOff.ON); // up to Apache POI 4\n      paragraph.getCTP().addNewPPr().addNewKeepLines().setVal(true); // since Apache POI 5\n      paragraph.getCTP().getPPr().addNewKeepNext().setVal(true); // since Apache POI 5\n     }\n\n    }  \n   }\n\n   //this is necessary, since it is the only paragraph which allows page breaks\n   paragraph = document.createParagraph();\n\n  }\n  \n  FileOutputStream out = new FileOutputStream(&quot;./CreateWordTableKeepTogether.docx&quot;);\n  document.write(out);\n  out.close();\n  document.close();\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":4671410,"reputation":49,"user_id":3783115,"display_name":"Preetam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1809,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":47374834,"answer_count":1,"score":2,"last_activity_date":1684142726,"creation_date":1510923660,"question_id":47351266,"body_markdown":"I have created a code to create a word document on the fly using Apache POI API.\r\nThe document is expected to have some tables with varying number of rows(number of columns are fixed).\r\nCurrently I have placed each table onto different pages.\r\nI need to know or is there any way to start placing tables one below another, if a page break is found, shift that table on next page and then subsequent table continues below?\r\nI tried the below(where document is XWPFDocument), but it didn&#39;t worked\r\n\r\n    XWPFTable table1 = document.createTable();\r\n    XWPFTableRow tableRow1 = table1.createRow();\r\n    tableRow1.setCantSplitRow(true);","title":"Avoid dynamic table rows with different number of rows to flow to different pages in an XWPFDocument(Apache POI)","body":"<p>I have created a code to create a word document on the fly using Apache POI API.\nThe document is expected to have some tables with varying number of rows(number of columns are fixed).\nCurrently I have placed each table onto different pages.\nI need to know or is there any way to start placing tables one below another, if a page break is found, shift that table on next page and then subsequent table continues below?\nI tried the below(where document is XWPFDocument), but it didn't worked</p>\n\n<pre><code>XWPFTable table1 = document.createTable();\nXWPFTableRow tableRow1 = table1.createRow();\ntableRow1.setCantSplitRow(true);\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","flutter-dependencies"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1684181072,"post_id":76252474,"comment_id":134477039,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"comments":[{"owner":{"account_id":21228313,"reputation":1,"user_id":15613551,"display_name":"JULIUS BANDA M"},"score":0,"creation_date":1684144626,"post_id":76252591,"comment_id":134468679,"body_markdown":"have added \ndependencies {\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\n\n    def multidex_version = &quot;2.0.1&quot;\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\n\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.aar&#39;, &#39;*.jar&#39;])\n    implementation (&#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;) { transitive false }\n    implementation &#39;com.google.zxing:core:3.5.1&#39;\n}\n\nam still getting the same error","body":"have added  dependencies {     implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;      def multidex_version = &quot;2.0.1&quot;     coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;     implementation &quot;androidx.multidex:multidex:$multidex_version&quot;      implementation fileTree(dir: &#39;libs&#39;, include: [&#39;<i>.aar&#39;, &#39;</i>.jar&#39;])     implementation (&#39;com.journeyapps:zxing-android-embedded:4.3.0&#39;) { transitive false }     implementation &#39;com.google.zxing:core:3.5.1&#39; }  am still getting the same error"}],"tags":[],"owner":{"account_id":25688940,"reputation":162,"user_id":19525299,"display_name":"Harshil"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684142446,"creation_date":1684142446,"answer_id":76252591,"question_id":76252474,"body_markdown":"Try This one,\r\n\r\n    implementation (&#39;com.journeyapps:zxing-android-embedded:3.6.0&#39;) { transitive false }\r\n\r\n","title":"Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0(core-3.1.0.jar)and jetified-core-3.5.0(com.google.zxing:core:3.5.0","body":"<p>Try This one,</p>\n<pre><code>implementation ('com.journeyapps:zxing-android-embedded:3.6.0') { transitive false }\n</code></pre>\n"}],"owner":{"account_id":21228313,"reputation":1,"user_id":15613551,"display_name":"JULIUS BANDA M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684142446,"creation_date":1684141549,"question_id":76252474,"body_markdown":"my dependencies in app/app/build.gradle\r\n\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;\r\n\r\n    def multidex_version = &quot;2.0.1&quot;\r\n    implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.aar&#39;, &#39;*.jar&#39;])\r\n    coreLibraryDesugaring &#39;com.android.tools:desugar_jdk_libs:1.1.5&#39;\r\n    implementation &quot;androidx.multidex:multidex:$multidex_version&quot;\r\n    implementation &#39;com.journeyapps:zxing-android-embedded:4.3.0@aar&#39;\r\n    implementation &#39;com.google.zxing:core:3.5.1&#39;\r\n}\r\n\r\nafter add implementation &#39;com.google.zxing:core:3.5.1&#39; to app/build.gradle, when i try to build i get the error below\r\n\r\n\r\nBuild failed with an exception.\r\n\r\n* What went wrong:\r\nExecution failed for task &#39;:app:checkDevelopmentDebugDuplicateClasses&#39;.\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n   &gt; Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Binarizer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.BinaryBitmap found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n Duplicate class com.google.zxing.ChecksumException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.DecodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Dimension found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.EncodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.FormatException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.InvertedLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.LuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.MultiFormatReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.MultiFormatWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.NotFoundException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.PlanarYUVLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.RGBLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.Reader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ReaderException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Result found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.ResultMetadataType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ResultPoint found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.ResultPointCallback found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.Writer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.WriterException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\nDuplicate class com.google.zxing.aztec.AztecDetectorResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.AztecReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.AztecWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.decoder.Decoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.decoder.Decoder$Table found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.detector.Detector found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.detector.Detector$Point found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.AztecCode found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.BinaryShiftToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.Encoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.HighLevelEncoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.HighLevelEncoder$1 found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.SimpleToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.State found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.aztec.encoder.Token found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AbstractDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookAUResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.AddressBookParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.BizcardResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.BookmarkDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.CalendarParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailAddressParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailAddressResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.EmailDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ExpandedProductParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ExpandedProductResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.GeoParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.GeoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ISBNParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ISBNResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n     Duplicate class com.google.zxing.client.result.ParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\r\n\r\n\r\n\r\n\r\n\r\ndeleted .gradle\r\nupdated gradle\r\nflutter clean\r\nflutter pub cache repair\r\nflutter upgrade\r\nflutter pub get\r\n./gradlew clean                                                               ","title":"Duplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0(core-3.1.0.jar)and jetified-core-3.5.0(com.google.zxing:core:3.5.0","body":"<p>my dependencies in app/app/build.gradle</p>\n<p>dependencies {\nimplementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:$kotlin_version&quot;</p>\n<pre><code>def multidex_version = &quot;2.0.1&quot;\nimplementation fileTree(dir: 'libs', include: ['*.aar', '*.jar'])\ncoreLibraryDesugaring 'com.android.tools:desugar_jdk_libs:1.1.5'\nimplementation &quot;androidx.multidex:multidex:$multidex_version&quot;\nimplementation 'com.journeyapps:zxing-android-embedded:4.3.0@aar'\nimplementation 'com.google.zxing:core:3.5.1'\n</code></pre>\n<p>}</p>\n<p>after add implementation 'com.google.zxing:core:3.5.1' to app/build.gradle, when i try to build i get the error below</p>\n<p>Build failed with an exception.</p>\n<ul>\n<li>What went wrong:\nExecution failed for task ':app:checkDevelopmentDebugDuplicateClasses'.</li>\n</ul>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\nDuplicate class com.google.zxing.BarcodeFormat found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Binarizer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.BinaryBitmap found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ChecksumException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.DecodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Dimension found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.EncodeHintType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.FormatException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.InvertedLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.LuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.MultiFormatReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.MultiFormatWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.NotFoundException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.PlanarYUVLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.RGBLuminanceSource found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Reader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ReaderException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Result found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultMetadataType found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultPoint found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.ResultPointCallback found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.Writer found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.WriterException found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecDetectorResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecReader found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.AztecWriter found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.decoder.Decoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.decoder.Decoder$Table found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.detector.Detector found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.detector.Detector$Point found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.AztecCode found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.BinaryShiftToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.Encoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.HighLevelEncoder found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.HighLevelEncoder$1 found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.SimpleToken found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.State found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.aztec.encoder.Token found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AbstractDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookAUResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.AddressBookParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.BizcardResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.BookmarkDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.CalendarParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailAddressParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailAddressResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.EmailDoCoMoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ExpandedProductParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ExpandedProductResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.GeoParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.GeoResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ISBNParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ISBNResultParser found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)\nDuplicate class com.google.zxing.client.result.ParsedResult found in modules jetified-core-3.1.0 (core-3.1.0.jar) and jetified-core-3.5.0 (com.google.zxing:core:3.5.0)</p>\n</blockquote>\n<p>deleted .gradle\nupdated gradle\nflutter clean\nflutter pub cache repair\nflutter upgrade\nflutter pub get\n./gradlew clean</p>\n"},{"tags":["java","api"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":2,"creation_date":1684139750,"post_id":76251646,"comment_id":134467563,"body_markdown":"You tag your question with #restassured but you do not have any restassured code in your example. Only some custom `restUtils` which can also have issues with implementation. Also why you convert your object to `String`? you can post POJOs with RA straight away.","body":"You tag your question with #restassured but you do not have any restassured code in your example. Only some custom <code>restUtils</code> which can also have issues with implementation. Also why you convert your object to <code>String</code>? you can post POJOs with RA straight away."}],"owner":{"account_id":27098413,"reputation":21,"user_id":20645326,"display_name":"Deviprasath A"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684141962,"creation_date":1684134618,"question_id":76251646,"body_markdown":"```java\r\npublic void SetThePlan(Map&lt;String, String&gt; testData, long numbers, String timeStamp) \r\n{\r\n    String payLoad = this.gson.toJson(new BillingPOJO().setPlan(testData, numbers, timeStamp));\r\n    Response response = this.restUtils.post(payLoad,testData.get(&quot;api_url&quot;));\r\n\r\n    int statusCode = response.getStatusCode();\r\n    Assert.assertEquals(statusCode,200);\r\n\r\n    String responseBody = response.getBody().asString();\r\n    System.out.println(responseBody);\r\n}\r\n```\r\n\r\nThis is the code I&#39;m using to setThePlan on api.  \r\n\r\nBut, after recieving the response, the status code is 200, but it is not showing the appropriate response body.  Instead, it is showing this response body.\r\n```json\r\n{\r\n    &quot;status&quot;: &quot;failed&quot;,\r\n    &quot;message&quot;: &quot;{&#39;_schema&#39;: [&#39;Invalid input type.&#39;]}&quot;\r\n}\r\n```\r\nI&#39;ve checked every payload values, it is ok.  It is hitting the api and getting the success message on the postman when done manually.  but it is not happening on the intelliJ.  why?\r\n\r\nI&#39;ve tried, computed diff to check whether the postman payload and the actual payload of my automation is similar.  yes it is simialr.","title":"API Testing, &quot;message&quot;: &quot;{&#39;_schema&#39;: [&#39;Invalid input type.&#39;]}&quot;","body":"<pre class=\"lang-java prettyprint-override\"><code>public void SetThePlan(Map&lt;String, String&gt; testData, long numbers, String timeStamp) \n{\n    String payLoad = this.gson.toJson(new BillingPOJO().setPlan(testData, numbers, timeStamp));\n    Response response = this.restUtils.post(payLoad,testData.get(&quot;api_url&quot;));\n\n    int statusCode = response.getStatusCode();\n    Assert.assertEquals(statusCode,200);\n\n    String responseBody = response.getBody().asString();\n    System.out.println(responseBody);\n}\n</code></pre>\n<p>This is the code I'm using to setThePlan on api.</p>\n<p>But, after recieving the response, the status code is 200, but it is not showing the appropriate response body.  Instead, it is showing this response body.</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;status&quot;: &quot;failed&quot;,\n    &quot;message&quot;: &quot;{'_schema': ['Invalid input type.']}&quot;\n}\n</code></pre>\n<p>I've checked every payload values, it is ok.  It is hitting the api and getting the success message on the postman when done manually.  but it is not happening on the intelliJ.  why?</p>\n<p>I've tried, computed diff to check whether the postman payload and the actual payload of my automation is similar.  yes it is simialr.</p>\n"},{"tags":["java","file","networking","file-exists"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":1,"creation_date":1683880412,"post_id":76234436,"comment_id":134437266,"body_markdown":"I suppose you have already veryfied that the user running the java code can access the file? I.e. have you tested with the same credentials on all machines? All in all, this sounds more like a OS/Networking configuration issue than a programming issue.","body":"I suppose you have already veryfied that the user running the java code can access the file? I.e. have you tested with the same credentials on all machines? All in all, this sounds more like a OS/Networking configuration issue than a programming issue."},{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1683884706,"post_id":76234436,"comment_id":134438196,"body_markdown":"You are calling an old API, for some operations Files gives more details. If you believe the path really should exist try `Files.readAttributes(file.toPath(), BasicFileAttributes.class)` which might report an exception which shows details of an underlying issue rather than true/false.","body":"You are calling an old API, for some operations Files gives more details. If you believe the path really should exist try <code>Files.readAttributes(file.toPath(), BasicFileAttributes.class)</code> which might report an exception which shows details of an underlying issue rather than true/false."},{"owner":{"account_id":13203350,"reputation":868,"user_id":9535950,"display_name":"Thomas Behr"},"score":0,"creation_date":1683885980,"post_id":76234436,"comment_id":134438480,"body_markdown":"Also check if you are running the exact same version of Java on all the machines on which you run your code.","body":"Also check if you are running the exact same version of Java on all the machines on which you run your code."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1683895044,"post_id":76234436,"comment_id":134440535,"body_markdown":"The File class should be avoided as much as possible.  Use [Path](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html) and [Files](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html) instead.  They are more likely to be accurate and they will generate more informative exceptions.","body":"The File class should be avoided as much as possible.  Use <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/nio/file/Files.html\" rel=\"nofollow noreferrer\">Files</a> instead.  They are more likely to be accurate and they will generate more informative exceptions."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141716,"post_id":76234436,"comment_id":134467958,"body_markdown":"@Hulk, yes, I think the same thing too, but I need to figure out what exactly the root cause is :|","body":"@Hulk, yes, I think the same thing too, but I need to figure out what exactly the root cause is :|"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141743,"post_id":76234436,"comment_id":134467966,"body_markdown":"@DuncG, please check my UPDATE section above","body":"@DuncG, please check my UPDATE section above"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141787,"post_id":76234436,"comment_id":134467979,"body_markdown":"@ThomasBehr, yes, I use the same install standalone JDK 1.8 to set up for those machines.","body":"@ThomasBehr, yes, I use the same install standalone JDK 1.8 to set up for those machines."},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684141885,"post_id":76234436,"comment_id":134468002,"body_markdown":"@VGR, please check my UPDATE section above.","body":"@VGR, please check my UPDATE section above."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1684150583,"post_id":76234436,"comment_id":134469867,"body_markdown":"If the same code works from the command line, but not in a server process, I am inclined to believe user permissions are the culprit.  Do you know if the server process is running as the same user whom you used to open the command window?","body":"If the same code works from the command line, but not in a server process, I am inclined to believe user permissions are the culprit.  Do you know if the server process is running as the same user whom you used to open the command window?"},{"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"score":0,"creation_date":1684207515,"post_id":76234436,"comment_id":134480038,"body_markdown":"@VGR, they are using the same user login Administrator.","body":"@VGR, they are using the same user login Administrator."}],"owner":{"account_id":3061204,"reputation":927,"user_id":2593799,"accept_rate":40,"display_name":"NoName"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1684141537,"creation_date":1683879885,"question_id":76234436,"body_markdown":"On my Windows Server (2012 R2), I added a shared folder from another server to a Mapped Network Drive (X:) as in the image below.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThen, I have this snipper code to get files from a specified directory. \r\n\r\n\r\n    public void getFiles(String fileLocation) throws Exception {\r\n        File file = new File(fileLocation);\r\n        if (file.exists()) {\r\n            if (file.isDirectory()) {                \r\n                //get files from dir\r\n            } else {\r\n                //get file\r\n            }\r\n        } else {\r\n            logger.info(&quot;Not found directory: &quot; + fileLocation);\r\n        }\r\n    }\r\n\r\n\r\nNow, the weird issue is, on this Windows Server (2012 R2), when I pass `X:\\` as the input parameter for the `getFiles()` method, `file.exist()` is then always **false**.\r\n\r\nHowever, If I run the same snipper code with the same input value on other servers (test on another Windows Server 2012 R2, or Windows 10 Pro - my PC), it returns **true** as I expected.\r\n\r\nAll those machines are joined to the same domain, and of course, they add the same shared resource to the same Map Network Drive (X:)\r\n\r\nDoes anyone know what could expose this issue?\r\n\r\n**UPDATE**\r\n\r\nI changed the code to use JAVA 8 API `Files`, but still got the same issue on that Windows 2012 R2 server.\r\n\r\nHere is the code running on the server.\r\n\r\n    public void upload(String fileLocation) throws Exception {\r\n        Path filePath = Paths.get(fileLocation);\r\n        if (Files.exists(filePath)) {\r\n            if (Files.isDirectory(filePath)) {\r\n                //get and process multiple files\r\n    \r\n            } else {\r\n                //process a single file\r\n            }\r\n        } else {\r\n            logger.info(&quot;Not found directory &#39;&quot; + fileLocation + &quot;&#39;. Skip uploading files!&quot;);\r\n        }\r\n    }\r\n\r\nDebug log of the `upload()` method\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nThen, I create a sample console app to test the same logic code on the same server, and it works normally.\r\nThe sample console code.\r\n\r\n    import java.io.File;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Paths;\r\n    import java.nio.file.attribute.BasicFileAttributes;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String fileLocation = &quot;Y:\\\\&quot;;\r\n    \r\n            try {\r\n                File file = new File(fileLocation);\r\n                Files.readAttributes(file.toPath(), BasicFileAttributes.class);\r\n    \r\n                if (Files.exists(Paths.get(fileLocation))) {\r\n                    System.out.println(&quot;Found: &quot; + fileLocation);\r\n    \r\n                    if (Files.isDirectory(Paths.get(fileLocation))) {\r\n                        System.out.println(fileLocation + &quot; is a directory&quot;);\r\n                    } else {\r\n                        System.out.println(fileLocation + &quot; is a file&quot;);\r\n                    }\r\n    \r\n                } else {\r\n                    System.out.println(&quot;Not Found: &quot; + fileLocation);\r\n                }\r\n    \r\n            } catch (Exception e) {\r\n                System.out.println(&quot;Error while checking file location: &quot; + fileLocation);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Wc2W.png\r\n  [2]: https://i.stack.imgur.com/479kc.png\r\n  [3]: https://i.stack.imgur.com/IO5QE.png","title":"File.exists() always returns false when using Map Network Drive for a shared folder","body":"<p>On my Windows Server (2012 R2), I added a shared folder from another server to a Mapped Network Drive (X:) as in the image below.</p>\n<p><a href=\"https://i.stack.imgur.com/4Wc2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Wc2W.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, I have this snipper code to get files from a specified directory.</p>\n<pre><code>public void getFiles(String fileLocation) throws Exception {\n    File file = new File(fileLocation);\n    if (file.exists()) {\n        if (file.isDirectory()) {                \n            //get files from dir\n        } else {\n            //get file\n        }\n    } else {\n        logger.info(&quot;Not found directory: &quot; + fileLocation);\n    }\n}\n</code></pre>\n<p>Now, the weird issue is, on this Windows Server (2012 R2), when I pass <code>X:\\</code> as the input parameter for the <code>getFiles()</code> method, <code>file.exist()</code> is then always <strong>false</strong>.</p>\n<p>However, If I run the same snipper code with the same input value on other servers (test on another Windows Server 2012 R2, or Windows 10 Pro - my PC), it returns <strong>true</strong> as I expected.</p>\n<p>All those machines are joined to the same domain, and of course, they add the same shared resource to the same Map Network Drive (X:)</p>\n<p>Does anyone know what could expose this issue?</p>\n<p><strong>UPDATE</strong></p>\n<p>I changed the code to use JAVA 8 API <code>Files</code>, but still got the same issue on that Windows 2012 R2 server.</p>\n<p>Here is the code running on the server.</p>\n<pre><code>public void upload(String fileLocation) throws Exception {\n    Path filePath = Paths.get(fileLocation);\n    if (Files.exists(filePath)) {\n        if (Files.isDirectory(filePath)) {\n            //get and process multiple files\n\n        } else {\n            //process a single file\n        }\n    } else {\n        logger.info(&quot;Not found directory '&quot; + fileLocation + &quot;'. Skip uploading files!&quot;);\n    }\n}\n</code></pre>\n<p>Debug log of the <code>upload()</code> method</p>\n<p><a href=\"https://i.stack.imgur.com/479kc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/479kc.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, I create a sample console app to test the same logic code on the same server, and it works normally.\nThe sample console code.</p>\n<pre><code>import java.io.File;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\nimport java.nio.file.attribute.BasicFileAttributes;\n\npublic class Main {\n    public static void main(String[] args) {\n        String fileLocation = &quot;Y:\\\\&quot;;\n\n        try {\n            File file = new File(fileLocation);\n            Files.readAttributes(file.toPath(), BasicFileAttributes.class);\n\n            if (Files.exists(Paths.get(fileLocation))) {\n                System.out.println(&quot;Found: &quot; + fileLocation);\n\n                if (Files.isDirectory(Paths.get(fileLocation))) {\n                    System.out.println(fileLocation + &quot; is a directory&quot;);\n                } else {\n                    System.out.println(fileLocation + &quot; is a file&quot;);\n                }\n\n            } else {\n                System.out.println(&quot;Not Found: &quot; + fileLocation);\n            }\n\n        } catch (Exception e) {\n            System.out.println(&quot;Error while checking file location: &quot; + fileLocation);\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/IO5QE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IO5QE.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","jvm","jvm-arguments"],"comments":[{"owner":{"account_id":23121,"reputation":527376,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":0,"creation_date":1314548670,"post_id":7221028,"comment_id":8681401,"body_markdown":"You have over 100 questions without an accepted answer.  Perhaps you could ask more questions which can be answered or follow up answers so they can be accepted.","body":"You have over 100 questions without an accepted answer.  Perhaps you could ask more questions which can be answered or follow up answers so they can be accepted."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684142817,"post_id":7221028,"comment_id":134468218,"body_markdown":"Java compiler options are irrelevant to &#39;any Java process&#39;. They are only relevant to Java *compiler* processes. Please fix your title, or make up your mind.","body":"Java compiler options are irrelevant to &#39;any Java process&#39;. They are only relevant to Java <i>compiler</i> processes. Please fix your title, or make up your mind."}],"answers":[{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1684142828,"post_id":7222257,"comment_id":134468223,"body_markdown":"That defines JVM options, not Java compiler options.","body":"That defines JVM options, not Java compiler options."}],"tags":[],"owner":{"account_id":246,"reputation":107913,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1314549461,"creation_date":1314549461,"answer_id":7222257,"question_id":7221028,"body_markdown":"You can try using the [`_JAVA_OPTIONS`][1] environment variable.\r\n\r\n\r\n  [1]: http://mindprod.com/jgloss/javaexe.html#JAVAOPTIONS","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>You can try using the <a href=\"http://mindprod.com/jgloss/javaexe.html#JAVAOPTIONS\" rel=\"nofollow\"><code>_JAVA_OPTIONS</code></a> environment variable.</p>\n"},{"tags":[],"owner":{"account_id":1111737,"reputation":1626,"user_id":5497822,"display_name":"Fairoz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684141470,"creation_date":1684141470,"answer_id":76252458,"question_id":7221028,"body_markdown":"You can use PrintFlagsFinal to get all runtime VM options\r\nexample `java -XX:+PrintFlagsFinal -version | grep &quot;Flag you want to search for&quot;` ","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>You can use PrintFlagsFinal to get all runtime VM options\nexample <code>java -XX:+PrintFlagsFinal -version | grep &quot;Flag you want to search for&quot;</code></p>\n"}],"owner":{"account_id":29567,"reputation":59708,"user_id":80002,"accept_rate":64,"display_name":"mark"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":387,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":7222257,"answer_count":2,"score":0,"last_activity_date":1684141470,"creation_date":1314535198,"question_id":7221028,"body_markdown":"Following http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7 I wish to set the `-XX:-UseLoopPredicate` JVM option globally, so that it is seen by all the java processes running on my machine.\r\n\r\nHow do I do it?\r\n\r\nThanks.\r\n","title":"Where can I define java compiler options so that they are seen by any java process running on the machine?","body":"<p>Following <a href=\"http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7\" rel=\"nofollow\">http://lucene.apache.org/java/docs/index.html#28+July+2011+-+WARNING%3A+Index+corruption+and+crashes+in+Apache+Lucene+Core+%2F+Apache+Solr+with+Java+7</a> I wish to set the <code>-XX:-UseLoopPredicate</code> JVM option globally, so that it is seen by all the java processes running on my machine.</p>\n\n<p>How do I do it?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1684141511,"post_id":76252399,"comment_id":134467909,"body_markdown":"Is this a Maven plugin? If not, why do you need the local repository?","body":"Is this a Maven plugin? If not, why do you need the local repository?"},{"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"score":0,"creation_date":1684141724,"post_id":76252399,"comment_id":134467961,"body_markdown":"We have a helper program which deploys jars once it is built into foundry Palantir. I havent written it, so done know the full details, but that is the general idea. I can do some tweaks, but wont be able to re-engineer the existing solution unfortunately.","body":"We have a helper program which deploys jars once it is built into foundry Palantir. I havent written it, so done know the full details, but that is the general idea. I can do some tweaks, but wont be able to re-engineer the existing solution unfortunately."}],"owner":{"account_id":4196227,"reputation":781,"user_id":3437575,"accept_rate":72,"display_name":"asb"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1684140976,"creation_date":1684140976,"question_id":76252399,"body_markdown":"I have used [this][1] solution to get the local repository path in my java code and everything was working fine until my employer added &quot;JAVA_TOOL_OPTIONS&quot; to the system environment variables (in windows). Now my output looks something like \r\n\r\n    Picked up JAVA_TOOL_OPTIONS:\r\n    c:\\users\\me\\.m2\\repository\r\n\r\nGiven that I cant unset this environment variable (i tried to put a single space in user environment variables but from my java code it just re instates the environment variable each time the process is re-run) is there any option to mute this?\r\n\r\nBelow is the command i used in my java code\r\n\r\n    mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout\r\n\r\n[I know][2] from my code i can trim out everything from &quot;Picked up&quot; to new line. But is there a better way?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5916157/how-to-get-the-maven-local-repo-location\r\n  [2]: https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message\r\n","title":"How to get maven local repository location from java code","body":"<p>I have used <a href=\"https://stackoverflow.com/questions/5916157/how-to-get-the-maven-local-repo-location\">this</a> solution to get the local repository path in my java code and everything was working fine until my employer added &quot;JAVA_TOOL_OPTIONS&quot; to the system environment variables (in windows). Now my output looks something like</p>\n<pre><code>Picked up JAVA_TOOL_OPTIONS:\nc:\\users\\me\\.m2\\repository\n</code></pre>\n<p>Given that I cant unset this environment variable (i tried to put a single space in user environment variables but from my java code it just re instates the environment variable each time the process is re-run) is there any option to mute this?</p>\n<p>Below is the command i used in my java code</p>\n<pre><code>mvn help:evaluate -Dexpression=settings.localRepository -q -DforceStdout\n</code></pre>\n<p><a href=\"https://superuser.com/questions/585695/suppressing-the-picked-up-java-options-message\">I know</a> from my code i can trim out everything from &quot;Picked up&quot; to new line. But is there a better way?</p>\n"},{"tags":["java","logback"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1682446047,"post_id":76103897,"comment_id":134216090,"body_markdown":"How much time did you run it? Are log entries being generated?","body":"How much time did you run it? Are log entries being generated?"},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1682485057,"post_id":76103897,"comment_id":134221459,"body_markdown":"@aled Yes, the log entries are generated correctly, and the service is running more than 2 weeks.","body":"@aled Yes, the log entries are generated correctly, and the service is running more than 2 weeks."}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684140974,"creation_date":1684140974,"answer_id":76252398,"question_id":76103897,"body_markdown":"Shame on me! As so often, the problem often lies between the ears.\r\nIn my project, I moved the log files to another directory. I changed the file tag of the appender but not the fileNamePattern of the rolling policy.\r\n\r\nTo avoid such mistakes, I suggest to work consistently with variables! Example:\r\n\r\n\t&lt;property name=&quot;log_path&quot; value=&quot;/var/log/app-name&quot;/&gt;\r\n    &lt;property name=&quot;log_name&quot; value=&quot;myLog&quot;/&gt;\r\n    &lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n\t\t&lt;property name=&quot;app_log&quot; value=&quot;${log_path}/${log_name}&quot;/&gt;\r\n\t\t&lt;file&gt;${app_log}.log&lt;/file&gt;\r\n\t\t&lt;encoder&gt;\r\n\t\t\t&lt;pattern&gt;%d [%t] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\r\n\t\t&lt;/encoder&gt;\r\n\t\t&lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n\t\t\t&lt;fileNamePattern&gt;${app_log}.%d{yyyy-MM}.log.gz&lt;/fileNamePattern&gt;\r\n\t\t\t&lt;maxHistory&gt;12&lt;/maxHistory&gt;\r\n\t\t&lt;/rollingPolicy&gt;\r\n\t&lt;/appender&gt;\r\n","title":"logback: Correct file name pattern for weekly rolling","body":"<p>Shame on me! As so often, the problem often lies between the ears.\nIn my project, I moved the log files to another directory. I changed the file tag of the appender but not the fileNamePattern of the rolling policy.</p>\n<p>To avoid such mistakes, I suggest to work consistently with variables! Example:</p>\n<pre><code>&lt;property name=&quot;log_path&quot; value=&quot;/var/log/app-name&quot;/&gt;\n&lt;property name=&quot;log_name&quot; value=&quot;myLog&quot;/&gt;\n&lt;appender name=&quot;file&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;property name=&quot;app_log&quot; value=&quot;${log_path}/${log_name}&quot;/&gt;\n    &lt;file&gt;${app_log}.log&lt;/file&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d [%t] %-5level %logger{50} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;${app_log}.%d{yyyy-MM}.log.gz&lt;/fileNamePattern&gt;\n        &lt;maxHistory&gt;12&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n&lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76252398,"answer_count":1,"score":0,"last_activity_date":1684140974,"creation_date":1682443616,"question_id":76103897,"body_markdown":"I&#39;ve tried the following rollingPolicy, but the log file didn&#39;t roll:\r\n\r\n        &lt;rollingPolicy\r\n          class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n          &lt;fileNamePattern&gt;log-%d{yyyy-ww}.log.gz&lt;/fileNamePattern&gt;\r\n          &lt;maxHistory&gt;26&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\nThe ```fileNamePattern``` correspondes to the file definition of the appender.\r\n\r\nIs my file name pattern wrong?","title":"logback: Correct file name pattern for weekly rolling","body":"<p>I've tried the following rollingPolicy, but the log file didn't roll:</p>\n<pre><code>    &lt;rollingPolicy\n      class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n      &lt;fileNamePattern&gt;log-%d{yyyy-ww}.log.gz&lt;/fileNamePattern&gt;\n      &lt;maxHistory&gt;26&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n</code></pre>\n<p>The <code>fileNamePattern</code> correspondes to the file definition of the appender.</p>\n<p>Is my file name pattern wrong?</p>\n"},{"tags":["java","android"],"owner":{"account_id":25958395,"reputation":27,"user_id":19675414,"display_name":"Wonster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684140408,"creation_date":1684140210,"question_id":76252301,"body_markdown":"I&#39;m creating a small app using Java in Android Studio.\r\n\r\nI have a `edittext` which is for the url input and there&#39;s an Intent, and it&#39;s the only intent of the whole app, for it to pass the url to the next activity. But I can&#39;t get the text input. Once I click on the `edittext`, I got this error:\r\n\r\n\r\n```none\r\n!!! FAILED BINDER TRANSACTION !!!  (parcel size = 112)\r\n2023-05-15 18:36:49.421 25271-25271 InputMetho...ionWrapper com.example.itube                    W  IME died\r\n\r\nandroid.os.DeadObjectException: Transaction failed on small parcel; remote process probably died\r\n\tat android.os.BinderProxy.transactNative(Native Method)\r\n\tat android.os.BinderProxy.transact(BinderProxy.java:571)\r\n\tat com.android.internal.view.IInputMethodSession$Stub$Proxy.viewClicked(IInputMethodSession.java:341)\r\n\tat android.view.inputmethod.InputMethodSessionWrapper.viewClicked(InputMethodSessionWrapper.java:119)\r\n\tat android.view.inputmethod.InputMethodManager.viewClicked(InputMethodManager.java:2284)\r\n\tat android.widget.TextView.viewClicked(TextView.java:13303)\r\n\tat android.widget.TextView.onTouchEvent(TextView.java:11212)\r\n\tat android.view.View.dispatchTouchEvent(View.java:14540)\r\n```\r\n\r\nThis is the code:\r\n\r\n```\r\n//       get video url\r\n        if (binding.url.getText() != null) {\r\n            videoUrl = binding.url.getText().toString();\r\n        }\r\n\r\n//        play button\r\n        binding.playBtn.setOnClickListener(view -&gt; {\r\n            Log.v(&quot;url pre&quot;, videoUrl);\r\n//            Intent toPlay = new Intent(getApplicationContext(), PlayActivity.class);\r\n//            toPlay.putExtra(&quot;url&quot;,  videoUrl);\r\n//            startActivity(toPlay);\r\n        });\r\n```\r\n\r\nI can&#39;t get the result of `Log.v()` either.","title":"How to solve &quot; !!! FAILED BINDER TRANSACTION !!! (parcel size = 112)&quot; problem?","body":"<p>I'm creating a small app using Java in Android Studio.</p>\n<p>I have a <code>edittext</code> which is for the url input and there's an Intent, and it's the only intent of the whole app, for it to pass the url to the next activity. But I can't get the text input. Once I click on the <code>edittext</code>, I got this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>!!! FAILED BINDER TRANSACTION !!!  (parcel size = 112)\n2023-05-15 18:36:49.421 25271-25271 InputMetho...ionWrapper com.example.itube                    W  IME died\n\nandroid.os.DeadObjectException: Transaction failed on small parcel; remote process probably died\n    at android.os.BinderProxy.transactNative(Native Method)\n    at android.os.BinderProxy.transact(BinderProxy.java:571)\n    at com.android.internal.view.IInputMethodSession$Stub$Proxy.viewClicked(IInputMethodSession.java:341)\n    at android.view.inputmethod.InputMethodSessionWrapper.viewClicked(InputMethodSessionWrapper.java:119)\n    at android.view.inputmethod.InputMethodManager.viewClicked(InputMethodManager.java:2284)\n    at android.widget.TextView.viewClicked(TextView.java:13303)\n    at android.widget.TextView.onTouchEvent(TextView.java:11212)\n    at android.view.View.dispatchTouchEvent(View.java:14540)\n</code></pre>\n<p>This is the code:</p>\n<pre><code>//       get video url\n        if (binding.url.getText() != null) {\n            videoUrl = binding.url.getText().toString();\n        }\n\n//        play button\n        binding.playBtn.setOnClickListener(view -&gt; {\n            Log.v(&quot;url pre&quot;, videoUrl);\n//            Intent toPlay = new Intent(getApplicationContext(), PlayActivity.class);\n//            toPlay.putExtra(&quot;url&quot;,  videoUrl);\n//            startActivity(toPlay);\n        });\n</code></pre>\n<p>I can't get the result of <code>Log.v()</code> either.</p>\n"},{"tags":["java","maven","selenium4"],"answers":[{"tags":[],"owner":{"account_id":19556316,"reputation":93,"user_id":14310603,"display_name":"Eugen FLOCEA"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1684140019,"creation_date":1684140019,"answer_id":76252275,"question_id":76210121,"body_markdown":"Actually the problem was about the zoom of the element and this is a known problem, that if the zoom is different than 100%, the method `moveToElement` might not work as expected. More details [here][1]\r\n\r\n\r\n  [1]: https://bugs.chromium.org/p/chromedriver/issues/detail?id=628","title":"No hover performed after upgrade to Selenium 4.8.3","body":"<p>Actually the problem was about the zoom of the element and this is a known problem, that if the zoom is different than 100%, the method <code>moveToElement</code> might not work as expected. More details <a href=\"https://bugs.chromium.org/p/chromedriver/issues/detail?id=628\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":19556316,"reputation":93,"user_id":14310603,"display_name":"Eugen FLOCEA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1684140019,"creation_date":1683640557,"question_id":76210121,"body_markdown":"After upgrade of Selenium from 3 to 4, the hover is not anymore performed in the following method: \r\n\r\n```\r\npublic void mouseMoveToRightEdge(Element element) {\r\n        executeAction(element, new EventType(EventType.Message.ACTION_HOVER), (by, failedEx) -&gt; {\r\n            WebElement webElement = driverServices.getDriver().findElement(by);\r\n            Dimension d = webElement.getSize();\r\n\r\n            int xOffset = d.width - 2; //Works on remote running (maven/selenoid) only when reducing 2 pixels\r\n            int yOffset = d.height / 2;\r\n\r\n            org.openqa.selenium.interactions.Actions builder = new org.openqa.selenium.interactions.Actions(driverServices.getDriver());\r\n            org.openqa.selenium.interactions.Actions hoverOverRightEdge = builder.moveToElement(webElement, xOffset, yOffset);\r\n            hoverOverRightEdge.perform();\r\n            return true;\r\n        });\r\n    }\r\n```\r\nIs there any better way in Selenium 4 to perform the hover to certain offsets? Are the offsets seen different in Selenium 4?\r\n\r\nI tried to change the offsets to other values from the element and it didn&#39;t work. I tried to use clickAndHold method insetead moveToElement and it wasn&#39;t working either.","title":"No hover performed after upgrade to Selenium 4.8.3","body":"<p>After upgrade of Selenium from 3 to 4, the hover is not anymore performed in the following method:</p>\n<pre><code>public void mouseMoveToRightEdge(Element element) {\n        executeAction(element, new EventType(EventType.Message.ACTION_HOVER), (by, failedEx) -&gt; {\n            WebElement webElement = driverServices.getDriver().findElement(by);\n            Dimension d = webElement.getSize();\n\n            int xOffset = d.width - 2; //Works on remote running (maven/selenoid) only when reducing 2 pixels\n            int yOffset = d.height / 2;\n\n            org.openqa.selenium.interactions.Actions builder = new org.openqa.selenium.interactions.Actions(driverServices.getDriver());\n            org.openqa.selenium.interactions.Actions hoverOverRightEdge = builder.moveToElement(webElement, xOffset, yOffset);\n            hoverOverRightEdge.perform();\n            return true;\n        });\n    }\n</code></pre>\n<p>Is there any better way in Selenium 4 to perform the hover to certain offsets? Are the offsets seen different in Selenium 4?</p>\n<p>I tried to change the offsets to other values from the element and it didn't work. I tried to use clickAndHold method insetead moveToElement and it wasn't working either.</p>\n"},{"tags":["java","android","android-studio","android-layout"],"answers":[{"tags":[],"owner":{"account_id":346515,"reputation":398,"user_id":680091,"accept_rate":0,"display_name":"pseudozach"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642720295,"creation_date":1642720295,"answer_id":70794537,"question_id":69877752,"body_markdown":"it&#39;s answered here:\r\nhttps://stackoverflow.com/a/61402339/680091\r\n\r\nLooks like you need to separately handle these types of links because webview does not know how to handle them.","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>it's answered here:\n<a href=\"https://stackoverflow.com/a/61402339/680091\">https://stackoverflow.com/a/61402339/680091</a></p>\n<p>Looks like you need to separately handle these types of links because webview does not know how to handle them.</p>\n"},{"tags":[],"owner":{"account_id":14895235,"reputation":1,"user_id":21893107,"display_name":"Anishk Kumar Yadav"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684139975,"creation_date":1684135086,"answer_id":76251699,"question_id":69877752,"body_markdown":"Add this code under shouldovrrideurlLoading in webviewclient Must install telegram before running this code\r\n\r\n\r\n\r\n                if (url.startsWith(&quot;tg:&quot;)) {\r\n           \r\n                    Intent telegramIntent = new Intent(Intent.ACTION_VIEW,Uri.parse(url));\r\n                    telegramIntent.setPackage(&quot;org.telegram.messenger&quot;);\r\n\r\n                    try {\r\n                        startActivity(telegramIntent);\r\n                        return true;\r\n\r\n                    } catch (ActivityNotFoundException e) {\r\n\r\n                        // Telegram app not installed, open in browser\r\n\r\n                        webView.loadUrl(&quot;https://telegram.org/&quot;);\r\n\r\n                        return true;\r\n                    }\r\n                }","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>Add this code under shouldovrrideurlLoading in webviewclient Must install telegram before running this code</p>\n<pre><code>            if (url.startsWith(&quot;tg:&quot;)) {\n       \n                Intent telegramIntent = new Intent(Intent.ACTION_VIEW,Uri.parse(url));\n                telegramIntent.setPackage(&quot;org.telegram.messenger&quot;);\n\n                try {\n                    startActivity(telegramIntent);\n                    return true;\n\n                } catch (ActivityNotFoundException e) {\n\n                    // Telegram app not installed, open in browser\n\n                    webView.loadUrl(&quot;https://telegram.org/&quot;);\n\n                    return true;\n                }\n            }\n</code></pre>\n"}],"owner":{"account_id":16788632,"reputation":1,"user_id":12136891,"display_name":"chami2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1684139975,"creation_date":1636333782,"question_id":69877752,"body_markdown":"I have problem Android webview App, When I click a link to whatsapp and tellegram , I get this error: `net::ERR_UNKNOWN_URL_SCHEME` error image `ERR_UNKNOWN_URL_SCHEME`. This is my `MainActivity.java` full\r\n\r\nmy main activity java code is this\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        webView = findViewById(R.id.myWebView);\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n        webView.setWebViewClient(new WebViewClient());\r\n        webView.loadUrl(&quot;https://example.com&quot;);\r\n    }\r\n    @Override\r\n\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()){\r\n            webView.goBack();\r\n        }\r\n        else\r\n            super.onBackPressed();\r\n    }\r\n}\r\n```\r\n\r\n\r\nWhat do I need to add to this code? Please help. Thanks.","title":"how to add whatsap and telegram Android Webview ERR_UNKNOWN_URL_SCHEME Error","body":"<p>I have problem Android webview App, When I click a link to whatsapp and tellegram , I get this error: <code>net::ERR_UNKNOWN_URL_SCHEME</code> error image <code>ERR_UNKNOWN_URL_SCHEME</code>. This is my <code>MainActivity.java</code> full</p>\n<p>my main activity java code is this</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        webView = findViewById(R.id.myWebView);\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n        webView.setWebViewClient(new WebViewClient());\n        webView.loadUrl(&quot;https://example.com&quot;);\n    }\n    @Override\n\n    public void onBackPressed() {\n        if (webView.canGoBack()){\n            webView.goBack();\n        }\n        else\n            super.onBackPressed();\n    }\n}\n</code></pre>\n<p>What do I need to add to this code? Please help. Thanks.</p>\n"},{"tags":["java","scala","option-type"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1552036428,"post_id":55059934,"comment_id":96868252,"body_markdown":"Sure you can do something like this, it would be more syntax though as Java doesn&#39;t have first class functional programming support.","body":"Sure you can do something like this, it would be more syntax though as Java doesn&#39;t have first class functional programming support."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1552037271,"post_id":55059934,"comment_id":96868689,"body_markdown":"To increase the chance of getting more helpful answers, you can explain what the scala code does, so that people who don&#39;t know scala can see what you are trying to do.","body":"To increase the chance of getting more helpful answers, you can explain what the scala code does, so that people who don&#39;t know scala can see what you are trying to do."},{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":1,"creation_date":1552043389,"post_id":55059934,"comment_id":96871882,"body_markdown":"@Sweeper It is perfectly reasonable to ask how to convert from one language to another without having to explain how those languages work. If you don&#39;t understand one of the languages then don&#39;t answer the question.","body":"@Sweeper It is perfectly reasonable to ask how to convert from one language to another without having to explain how those languages work. If you don&#39;t understand one of the languages then don&#39;t answer the question."},{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1552043475,"post_id":55059934,"comment_id":96871923,"body_markdown":"@Tim I never said it is unreasonable to ask a question like this. I said “to get more helpful answers”.","body":"@Tim I never said it is unreasonable to ask a question like this. I said “to get more helpful answers”."},{"owner":{"account_id":10391539,"reputation":26838,"user_id":7662670,"display_name":"Tim"},"score":0,"creation_date":1552047093,"post_id":55059934,"comment_id":96873898,"body_markdown":"@Sweeper You won&#39;t get a more helpful answer from someone who doesn&#39;t understand Scala.","body":"@Sweeper You won&#39;t get a more helpful answer from someone who doesn&#39;t understand Scala."}],"answers":[{"comments":[{"owner":{"account_id":8326,"reputation":258555,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1552050101,"post_id":55061395,"comment_id":96875408,"body_markdown":"I&#39;d probably write it like that in Scala, too :-)","body":"I&#39;d probably write it like that in Scala, too :-)"},{"owner":{"account_id":5168023,"reputation":529,"user_id":4137443,"display_name":"Random dude"},"score":6,"creation_date":1582939217,"post_id":55061395,"comment_id":106960488,"body_markdown":"You don&#39;t seem to realize the significance of Scala&#39;s for-comprehension or Haskell&#39;s do notation. The point is that Scala&#39;s for-comprehension provides a neat syntax for long chains of `flatMap` and `map` calls. In Java you&#39;d end up with a right-skewed chain of method calls with tons of parentheses making the code untidy and hard to follow.","body":"You don&#39;t seem to realize the significance of Scala&#39;s for-comprehension or Haskell&#39;s do notation. The point is that Scala&#39;s for-comprehension provides a neat syntax for long chains of <code>flatMap</code> and <code>map</code> calls. In Java you&#39;d end up with a right-skewed chain of method calls with tons of parentheses making the code untidy and hard to follow."}],"tags":[],"owner":{"account_id":10081405,"reputation":3033,"user_id":7451566,"display_name":"senjin.hajrulahovic"},"comment_count":2,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1552041475,"creation_date":1552041475,"answer_id":55061395,"question_id":55059934,"body_markdown":"This would be the appropriate alternative:\r\n\r\n    Optional&lt;String&gt; maybeXY = maybeX.flatMap(x -&gt; maybeY.map(y -&gt; x + y));\r\n\r\nThe `scala` for comprehension is just syntactic sugar for `map`, `flatMap` and `filter` calls. \r\n\r\nHere&#39;s a good example:\r\n[How to convert map/flatMap to for comprehension][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/12792595/how-to-convert-this-map-flatmap-into-a-for-comprehension-in-scala","title":"Java For Comprehension","body":"<p>This would be the appropriate alternative:</p>\n\n<pre><code>Optional&lt;String&gt; maybeXY = maybeX.flatMap(x -&gt; maybeY.map(y -&gt; x + y));\n</code></pre>\n\n<p>The <code>scala</code> for comprehension is just syntactic sugar for <code>map</code>, <code>flatMap</code> and <code>filter</code> calls. </p>\n\n<p>Here's a good example:\n<a href=\"https://stackoverflow.com/questions/12792595/how-to-convert-this-map-flatmap-into-a-for-comprehension-in-scala\">How to convert map/flatMap to for comprehension</a></p>\n"}],"owner":{"account_id":1894053,"reputation":141,"user_id":1711397,"display_name":"Lasse Frandsen"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3023,"favorite_count":0,"down_vote_count":2,"up_vote_count":13,"accepted_answer_id":55061395,"answer_count":1,"score":11,"last_activity_date":1684139839,"creation_date":1552036267,"question_id":55059934,"body_markdown":"In Scala i can write a short method like this: \r\n\r\n    def xy(\r\n      maybeX: Option[String],\r\n      maybeY: Option[String]): Option[String] = {\r\n\r\n      for {\r\n        x &lt;- maybeX\r\n        y &lt;- maybeY\r\n      } yield {\r\n        s&quot;X: $x Y: $y&quot;\r\n      }\r\n    }\r\n\r\nDoes Java have something similar, when it comes to two or more `Optional&lt;&gt;` variables? ","title":"Java For Comprehension","body":"<p>In Scala i can write a short method like this: </p>\n\n<pre><code>def xy(\n  maybeX: Option[String],\n  maybeY: Option[String]): Option[String] = {\n\n  for {\n    x &lt;- maybeX\n    y &lt;- maybeY\n  } yield {\n    s\"X: $x Y: $y\"\n  }\n}\n</code></pre>\n\n<p>Does Java have something similar, when it comes to two or more <code>Optional&lt;&gt;</code> variables? </p>\n"},{"tags":["java","android","android-studio","gradle","jenkins"],"owner":{"account_id":7580297,"reputation":464,"user_id":5751174,"accept_rate":0,"display_name":"livemaker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1684139120,"creation_date":1684132255,"question_id":76251401,"body_markdown":"I have multiple build varient running in my Jenkins System, Am getting issue only on the release version. with the build error. \r\n\r\nCaused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n\r\n&gt; Task :app:packageReleaseBundle FAILED\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n \r\n\r\n    What went wrong:\r\n    Execution failed for task &#39;:app:packageReleaseBundle&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\r\n    &gt; java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\ZipBuilder-16934840937813588277.zip.tmp\r\n    \r\n    \r\n    This only occurs on Generating bundle aab file, Doesn&#39;t occur on apk genration.\r\n    \r\n    \r\n    Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:packageReleaseBundle&#39;.\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\r\n            at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\r\n            at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:31)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:93)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\r\n            at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n            at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n            at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n            at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n            at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n            at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n            at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n            at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n            at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n            at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n            at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n            at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n            at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n            at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n            at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n            at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n            at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n            at org.gradle.internal.Either$Right.fold(Either.java:175)\r\n            at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n            at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n            at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\r\n            at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\r\n            at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n            at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n            at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n            at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n            at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n            at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n            at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n            at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n            at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n            at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n            at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\r\n            at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\r\n            at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\r\n            at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\r\n            at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n            at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n            at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n            at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n            at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n            at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n            at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n            at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n            at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n            at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\r\n            at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\r\n            at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n            at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n            at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n            at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n            at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n            at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\r\n            at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\r\n            at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\r\n            at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n            at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    Caused by: java.io.UncheckedIOException: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n            at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:271)\r\n            at com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction.run(PackageBundleTask.kt:420)\r\n            at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n            at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n            at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n            at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n            at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n            at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n            at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n            at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n            at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n            at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\r\n            at org.gradle.internal.Factories$1.create(Factories.java:31)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\r\n            at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\r\n            at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\r\n            ... 2 more\r\n    Caused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\r\n            at com.android.tools.build.bundletool.io.ZipBuilder.writeTo(ZipBuilder.java:118)\r\n            at com.android.tools.build.bundletool.io.AppBundleSerializer.writeToDisk(AppBundleSerializer.java:123)\r\n            at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:269)\r\n            ... 31 more\r\n\r\n","title":"Build Failed for release bundle - Caused by: java.nio.file.AccessDeniedException: C:\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp","body":"<p>I have multiple build varient running in my Jenkins System, Am getting issue only on the release version. with the build error.</p>\n<p>Caused by: java.nio.file.AccessDeniedException: C:\\Users...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp</p>\n<blockquote>\n<p>Task :app:packageReleaseBundle FAILED</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<pre><code>What went wrong:\nExecution failed for task ':app:packageReleaseBundle'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\n&gt; java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\ZipBuilder-16934840937813588277.zip.tmp\n\n\nThis only occurs on Generating bundle aab file, Doesn't occur on apk genration.\n\n\nException is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:packageReleaseBundle'.\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:147)\n        at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:145)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction\n        at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:339)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.lambda$waitForItemsAndGatherFailures$2(DefaultAsyncWorkTracker.java:131)\n        at org.gradle.internal.Factories$1.create(Factories.java:31)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:341)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withoutLocks(DefaultWorkerLeaseService.java:326)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:127)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:93)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:79)\n        at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:67)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$3.run(TaskExecution.java:250)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:227)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:210)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:193)\n        at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:171)\n        at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n        at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n        at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n        at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n        at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n        at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n        at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n        at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n        at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n        at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n        at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n        at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n        at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:180)\n        at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n        at org.gradle.internal.Either$Right.fold(Either.java:175)\n        at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n        at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:36)\n        at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:25)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n        at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:110)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n        at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n        at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n        at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n        at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n        at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.executeWithNoEmptySources(SkipEmptyWorkStep.java:249)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:86)\n        at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:54)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:32)\n        at org.gradle.internal.execution.steps.RemoveUntrackedExecutionStateStep.execute(RemoveUntrackedExecutionStateStep.java:21)\n        at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n        at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n        at org.gradle.api.internal.tasks.execution.TaskExecution$4.withWorkspace(TaskExecution.java:287)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n        at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n        at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n        at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n        at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:144)\n        at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:133)\n        at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n        at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n        at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n        at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n        at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n        at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:333)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:320)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:313)\n        at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:299)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:143)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:227)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:218)\n        at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:140)\n        at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n        at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\nCaused by: java.io.UncheckedIOException: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\n        at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:271)\n        at com.android.build.gradle.internal.tasks.PackageBundleTask$BundleToolWorkAction.run(PackageBundleTask.kt:420)\n        at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n        at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n        at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n        at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n        at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n        at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n        at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n        at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n        at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:205)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:187)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.access$700(DefaultConditionalExecutionQueue.java:120)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner$1.run(DefaultConditionalExecutionQueue.java:162)\n        at org.gradle.internal.Factories$1.create(Factories.java:31)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:270)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:119)\n        at org.gradle.internal.work.DefaultWorkerLeaseService.runAsWorkerThread(DefaultWorkerLeaseService.java:124)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:157)\n        at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:126)\n        ... 2 more\nCaused by: java.nio.file.AccessDeniedException: C:\\Users\\...\\AppData\\Local\\Temp\\2\\ZipBuilder-8158157307155606556.zip.tmp\n        at com.android.tools.build.bundletool.io.ZipBuilder.writeTo(ZipBuilder.java:118)\n        at com.android.tools.build.bundletool.io.AppBundleSerializer.writeToDisk(AppBundleSerializer.java:123)\n        at com.android.tools.build.bundletool.commands.BuildBundleCommand.execute(BuildBundleCommand.java:269)\n        ... 31 more\n</code></pre>\n"},{"tags":["java","regex","filter","pattern-matching","log4j2"],"answers":[{"comments":[{"owner":{"account_id":13611679,"reputation":43,"user_id":9818971,"display_name":"DeeP"},"score":0,"creation_date":1526999127,"post_id":50441899,"comment_id":87953567,"body_markdown":"Dear Robin, thanks a lot for your answer. I tried the suggestion, first deleting the useRawMsg=&quot;true&quot; parameter and then also setting it explicitly to false. Unfortunately no change, still the pattern does not match... Best regards, Dirk","body":"Dear Robin, thanks a lot for your answer. I tried the suggestion, first deleting the useRawMsg=&quot;true&quot; parameter and then also setting it explicitly to false. Unfortunately no change, still the pattern does not match... Best regards, Dirk"},{"owner":{"account_id":13611679,"reputation":43,"user_id":9818971,"display_name":"DeeP"},"score":1,"creation_date":1527086799,"post_id":50441899,"comment_id":87995554,"body_markdown":"Dear Robin, thanks a lot for your answer, that was it. I missed the point, that the &quot;TimingFilter&quot; from my log entries were due to the &quot;%c{1}&quot; part of my pattern and did not belong to the message. So if I wanted to use RegEx I would have to go for the &quot;Request Time&quot; string at the beginning of the message. But your solution is even better. Thanks a ton for your help :-) Dirk  PS: I tried to upvote, but due to my still low reputation, it doesn&#39;t show.","body":"Dear Robin, thanks a lot for your answer, that was it. I missed the point, that the &quot;TimingFilter&quot; from my log entries were due to the &quot;%c{1}&quot; part of my pattern and did not belong to the message. So if I wanted to use RegEx I would have to go for the &quot;Request Time&quot; string at the beginning of the message. But your solution is even better. Thanks a ton for your help :-) Dirk  PS: I tried to upvote, but due to my still low reputation, it doesn&#39;t show."}],"tags":[],"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1684138956,"creation_date":1526875851,"answer_id":50441899,"question_id":50435243,"body_markdown":"&lt;s&gt;This happens because you have `useRawMsg=&quot;true&quot;` switch it to useRawMsg=&quot;false&quot;. See the [log4j2 manual][1]: \r\n\r\n&gt; If true the unformatted message will be used, otherwise the formatted\r\n&gt; message will be used. The default value is false.\r\n&lt;/s&gt;\r\n\r\n**EDIT:** \r\n\r\nI didn&#39;t look closely enough at your configuration and your output, so I apologize for that. The reason the `RegexFilter` does not work for you is that you&#39;re using it to try to filter based on the [name of the logger][2]. As per the [log4j2 manual][1]: \r\n\r\n&gt; The RegexFilter allows the formatted or unformatted **message** to be\r\n&gt; compared against a regular expression.\r\n\r\nTo prevent a logger from logging any messages you have several options. I will illustrate one of them with some sample code below.\r\n\r\nHere is a main class that runs a `TimingFilter` class: \r\n\r\n```java\r\npackage example;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class Main {\r\n\r\nprivate static final Logger log = LogManager.getLogger();\r\n    \r\n    public static void main(String[] args){\r\n        log.info(&quot;Here&#39;s some info!&quot;);\r\n        log.error(&quot;Some erorr happened!&quot;);\r\n        TimingFilter.main(null);\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the TimingFilter class: \r\n\r\n```java\r\npackage example;\r\n\r\nimport org.apache.logging.log4j.LogManager;\r\nimport org.apache.logging.log4j.Logger;\r\n\r\npublic class TimingFilter {\r\n\r\n    private static final Logger log = LogManager.getLogger();\r\n    \r\n    public static void main(String[] args){\r\n        log.info(&quot;Here&#39;s some info!&quot;);\r\n        log.error(&quot;Some erorr happened!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHere is a sample log4j2.xml file:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt; \r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Logger level=&quot;off&quot; name=&quot;example.TimingFilter&quot;&gt;\r\n        &lt;/Logger&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nNotice how I have configured the `example.TimingFilter` logger so that its level is &quot;off&quot;. This prevents any logging from this logger. \r\n\r\nWhen I run the `Main` class the output only contains messages from `Main`: \r\n\r\n```\r\n[INFO ] 2018-05-22 23:23:30.473 [main] Main - Here&#39;s some info!\r\n[ERROR] 2018-05-22 23:23:30.474 [main] Main - Some erorr happened!\r\n```\r\n\r\n  [1]: https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\r\n  [2]: https://logging.apache.org/log4j/2.0/manual/layouts.html#PatternLayout\r\n\r\n\r\n","title":"Log4j2 RegexFilter pattern does not match","body":"<p><s>This happens because you have <code>useRawMsg=&quot;true&quot;</code> switch it to useRawMsg=&quot;false&quot;. See the <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\" rel=\"nofollow noreferrer\">log4j2 manual</a>:</p>\n<blockquote>\n<p>If true the unformatted message will be used, otherwise the formatted\nmessage will be used. The default value is false.\n</s></p>\n</blockquote>\n<p><strong>EDIT:</strong></p>\n<p>I didn't look closely enough at your configuration and your output, so I apologize for that. The reason the <code>RegexFilter</code> does not work for you is that you're using it to try to filter based on the <a href=\"https://logging.apache.org/log4j/2.0/manual/layouts.html#PatternLayout\" rel=\"nofollow noreferrer\">name of the logger</a>. As per the <a href=\"https://logging.apache.org/log4j/2.x/manual/filters.html#RegexFilter\" rel=\"nofollow noreferrer\">log4j2 manual</a>:</p>\n<blockquote>\n<p>The RegexFilter allows the formatted or unformatted <strong>message</strong> to be\ncompared against a regular expression.</p>\n</blockquote>\n<p>To prevent a logger from logging any messages you have several options. I will illustrate one of them with some sample code below.</p>\n<p>Here is a main class that runs a <code>TimingFilter</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class Main {\n\nprivate static final Logger log = LogManager.getLogger();\n    \n    public static void main(String[] args){\n        log.info(&quot;Here's some info!&quot;);\n        log.error(&quot;Some erorr happened!&quot;);\n        TimingFilter.main(null);\n    }\n\n}\n</code></pre>\n<p>Here is the TimingFilter class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package example;\n\nimport org.apache.logging.log4j.LogManager;\nimport org.apache.logging.log4j.Logger;\n\npublic class TimingFilter {\n\n    private static final Logger log = LogManager.getLogger();\n    \n    public static void main(String[] args){\n        log.info(&quot;Here's some info!&quot;);\n        log.error(&quot;Some erorr happened!&quot;);\n    }\n}\n</code></pre>\n<p>Here is a sample log4j2.xml file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt; \n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Logger level=&quot;off&quot; name=&quot;example.TimingFilter&quot;&gt;\n        &lt;/Logger&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>Notice how I have configured the <code>example.TimingFilter</code> logger so that its level is &quot;off&quot;. This prevents any logging from this logger.</p>\n<p>When I run the <code>Main</code> class the output only contains messages from <code>Main</code>:</p>\n<pre><code>[INFO ] 2018-05-22 23:23:30.473 [main] Main - Here's some info!\n[ERROR] 2018-05-22 23:23:30.474 [main] Main - Some erorr happened!\n</code></pre>\n"}],"owner":{"account_id":13611679,"reputation":43,"user_id":9818971,"display_name":"DeeP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9637,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":50441899,"answer_count":1,"score":4,"last_activity_date":1684139042,"creation_date":1526822309,"question_id":50435243,"body_markdown":"I&#39;ve got the following lines in my log that I want to exclude, so I wanted to use a `RegexFilter` to do so:\r\n\r\n```\r\n[INFO ] 2018-05-20 14:52:15.993 [qtp22844606-20] TimingFilter -\r\nRequest time: 16 ms\r\n\r\n[INFO ] 2018-05-20 14:52:18.998 [qtp22844606-17] TimingFilter -\r\nRequest time: 15 ms\r\n\r\n[INFO ] 2018-05-20 14:52:22.001 [qtp22844606-20] TimingFilter -\r\nRequest time: 0 ms\r\n\r\n[INFO ] 2018-05-20 14:52:24.992 [qtp22844606-17] TimingFilter -\r\nRequest time: 0 ms\r\n```\r\n\r\nMy config looks as such:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Configuration status=&quot;WARN&quot;&gt;\r\n    &lt;Appenders&gt; \r\n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n            &lt;RegexFilter regex=&quot;.*TimingFilter.*&quot; useRawMsg=&quot;true&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\r\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\r\n        &lt;/Console&gt;\r\n    &lt;/Appenders&gt;\r\n    &lt;Loggers&gt;\r\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\r\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\r\n        &lt;/Root&gt;\r\n    &lt;/Loggers&gt;\r\n&lt;/Configuration&gt;\r\n```\r\n\r\nWhen switching &quot;ACCEPT&quot; and &quot;DENY&quot; no message gets through, so the RegexFilter per se seems to get picked up. I also tried &quot;\\bTimingFilter\\b&quot;, &quot;.\\*\\bTimingFilter\\b.\\*&quot; without success.\r\n\r\nI&#39;m using Log4J 2.11.\r\n\r\nCan you give any hints what I do wrong? I checked all other `RegexFilter` related questions here and also other sites (that&#39;s where I got the suggestions for the Regex Patterns I tried), but nothing seems to work.\r\nI also checked the patterns on https://regex101.com/ against my log and there they matched correctly.","title":"Log4j2 RegexFilter pattern does not match","body":"<p>I've got the following lines in my log that I want to exclude, so I wanted to use a <code>RegexFilter</code> to do so:</p>\n<pre><code>[INFO ] 2018-05-20 14:52:15.993 [qtp22844606-20] TimingFilter -\nRequest time: 16 ms\n\n[INFO ] 2018-05-20 14:52:18.998 [qtp22844606-17] TimingFilter -\nRequest time: 15 ms\n\n[INFO ] 2018-05-20 14:52:22.001 [qtp22844606-20] TimingFilter -\nRequest time: 0 ms\n\n[INFO ] 2018-05-20 14:52:24.992 [qtp22844606-17] TimingFilter -\nRequest time: 0 ms\n</code></pre>\n<p>My config looks as such:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;WARN&quot;&gt;\n    &lt;Appenders&gt; \n        &lt;Console name=&quot;console&quot; target=&quot;SYSTEM_OUT&quot;&gt;\n            &lt;RegexFilter regex=&quot;.*TimingFilter.*&quot; useRawMsg=&quot;true&quot; onMatch=&quot;DENY&quot; onMismatch=&quot;ACCEPT&quot;/&gt;\n            &lt;PatternLayout   pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss.SSS} [%t] %c{1} - %msg%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;info&quot; additivity=&quot;false&quot;&gt;\n            &lt;appender-ref ref=&quot;console&quot; /&gt;\n        &lt;/Root&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>When switching &quot;ACCEPT&quot; and &quot;DENY&quot; no message gets through, so the RegexFilter per se seems to get picked up. I also tried &quot;\\bTimingFilter\\b&quot;, &quot;.*\\bTimingFilter\\b.*&quot; without success.</p>\n<p>I'm using Log4J 2.11.</p>\n<p>Can you give any hints what I do wrong? I checked all other <code>RegexFilter</code> related questions here and also other sites (that's where I got the suggestions for the Regex Patterns I tried), but nothing seems to work.\nI also checked the patterns on <a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">https://regex101.com/</a> against my log and there they matched correctly.</p>\n"},{"tags":["java","android","android-nestedscrollview"],"answers":[{"comments":[{"owner":{"display_name":"user21742102"},"score":0,"creation_date":1684135150,"post_id":76251552,"comment_id":134466644,"body_markdown":"Can I use the same logic for scrolling down?","body":"Can I use the same logic for scrolling down?"},{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1684135192,"post_id":76251552,"comment_id":134466657,"body_markdown":"@naive_6198 You should be able to use it for scrolling down too.","body":"@naive_6198 You should be able to use it for scrolling down too."},{"owner":{"display_name":"user21742102"},"score":0,"creation_date":1684135487,"post_id":76251552,"comment_id":134466721,"body_markdown":"Strangely, when I scroll down using the code `ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  View.FOCUS_DOWN).setDuration(800).start();` it doesn&#39;t scroll all the way down to the bottom.","body":"Strangely, when I scroll down using the code <code>ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  View.FOCUS_DOWN).setDuration(800).start();</code> it doesn&#39;t scroll all the way down to the bottom."},{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1684138654,"post_id":76251552,"comment_id":134467362,"body_markdown":"@naive_6198 Instead of using `View.FOCUS_DOWN`, you can use `scroll_1.getBottom()` to scroll to the bottom using ObjectAnimator. I have edited my answer to include the same.","body":"@naive_6198 Instead of using <code>View.FOCUS_DOWN</code>, you can use <code>scroll_1.getBottom()</code> to scroll to the bottom using ObjectAnimator. I have edited my answer to include the same."},{"owner":{"display_name":"user21742102"},"score":0,"creation_date":1684144735,"post_id":76251552,"comment_id":134468696,"body_markdown":"it doesn&#39;t even scroll a bit when I use `scroll_1.getBottom`","body":"it doesn&#39;t even scroll a bit when I use <code>scroll_1.getBottom</code>"},{"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"score":0,"creation_date":1684145252,"post_id":76251552,"comment_id":134468805,"body_markdown":"That’s strange. I used ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;, scroll_1.getBottom()).setDuration(1000).start(); and it worked exactly as it’s supposed to","body":"That’s strange. I used ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;, scroll_1.getBottom()).setDuration(1000).start(); and it worked exactly as it’s supposed to"}],"tags":[],"owner":{"account_id":28020964,"reputation":1207,"user_id":21401783,"display_name":"Dinux"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1684138778,"creation_date":1684133824,"answer_id":76251552,"question_id":76251435,"body_markdown":"To solve your problem, replace the statement:\r\n```\r\nscroll_1.smoothScrollTo(0,0);\r\n```\r\n\r\nwith the following:\r\n```\r\nObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  SCROLL_TO).setDuration(SCROLL_DURATION).start();\r\n```\r\nYou have to replace `SCROLL_TO` with the position where you want to scroll to. If you want to scroll to the top, you can put `0` as the value. \r\n\r\n`SCROLL_DURATION` is the duration in milliseconds that you want the `ScrollView` to take to scroll to a certain position.\r\n\r\nIf you want to scroll to the bottom, then you have to use `ScrollView.getBottom()`. Example code:\r\n```\r\nObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,scroll_1.getBottom()).setDuration(SCROLL_DURATION).start();\r\n```","title":"How do I scroll down and up in my Nestedscrollview programatically with some delay?","body":"<p>To solve your problem, replace the statement:</p>\n<pre><code>scroll_1.smoothScrollTo(0,0);\n</code></pre>\n<p>with the following:</p>\n<pre><code>ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,  SCROLL_TO).setDuration(SCROLL_DURATION).start();\n</code></pre>\n<p>You have to replace <code>SCROLL_TO</code> with the position where you want to scroll to. If you want to scroll to the top, you can put <code>0</code> as the value.</p>\n<p><code>SCROLL_DURATION</code> is the duration in milliseconds that you want the <code>ScrollView</code> to take to scroll to a certain position.</p>\n<p>If you want to scroll to the bottom, then you have to use <code>ScrollView.getBottom()</code>. Example code:</p>\n<pre><code>ObjectAnimator.ofInt(scroll_1, &quot;scrollY&quot;,scroll_1.getBottom()).setDuration(SCROLL_DURATION).start();\n</code></pre>\n"}],"owner":{"display_name":"user21742102"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76251552,"answer_count":1,"score":0,"last_activity_date":1684138778,"creation_date":1684132641,"question_id":76251435,"body_markdown":"I want to scroll down once and then up programatically. The scrolling should be slow and smooth. This is my code:\r\n```\r\nscroll_1.post(() -&gt; scroll_1.fullScroll(View.FOCUS_DOWN));\r\nscroll_1.postDelayed(() -&gt; {\r\n    scroll_1.smoothScrollTo(0,0);\r\n},1000);\r\n```\r\nWhen I run the code, it scrolls down and up so fast, how do I fix this?","title":"How do I scroll down and up in my Nestedscrollview programatically with some delay?","body":"<p>I want to scroll down once and then up programatically. The scrolling should be slow and smooth. This is my code:</p>\n<pre><code>scroll_1.post(() -&gt; scroll_1.fullScroll(View.FOCUS_DOWN));\nscroll_1.postDelayed(() -&gt; {\n    scroll_1.smoothScrollTo(0,0);\n},1000);\n</code></pre>\n<p>When I run the code, it scrolls down and up so fast, how do I fix this?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9790,"page":435,"page_size":100}
