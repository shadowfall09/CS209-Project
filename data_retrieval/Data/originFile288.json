{"items":[{"tags":["java","android","json","retrofit"],"answers":[{"tags":[],"owner":{"account_id":17601943,"reputation":91,"user_id":12771724,"display_name":"Enes Birisik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690286069,"creation_date":1690286069,"answer_id":76762444,"question_id":76759184,"body_markdown":"I think you can use Interceptor with spring boot. You can check all response with postHandle method.\r\n\r\n\r\nYou can visit this page https://www.tutorialspoint.com/spring_boot/spring_boot_interceptor.htm\r\n","title":"How to check response body value?","body":"<p>I think you can use Interceptor with spring boot. You can check all response with postHandle method.</p>\n<p>You can visit this page <a href=\"https://www.tutorialspoint.com/spring_boot/spring_boot_interceptor.htm\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/spring_boot/spring_boot_interceptor.htm</a></p>\n"}],"owner":{"account_id":29037980,"reputation":13,"user_id":22243408,"display_name":"Pathumi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76762444,"answer_count":1,"score":1,"last_activity_date":1690286069,"creation_date":1690253841,"question_id":76759184,"body_markdown":"Hi i want to check json response id with user login id stored in share preference\r\nhere is my json response\r\n\r\n```\r\n{&quot;code&quot;:1,&quot;message&quot;:&quot;Success&quot;,&quot;result&quot;:[{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;Albert Einstein&quot;,&quot;description&quot;:&quot;Albert Einstein was a German-born theoretical physicist.&quot;,&quot;galaxy&quot;:&quot;Cartwheel&quot;,&quot;star&quot;:&quot;0008&quot;,&quot;dob&quot;:&quot;1905-05-13&quot;,&quot;died&quot;:&quot;1973-04-06&quot;}]}\r\n```\r\n\r\nAnd here is where i check response body empty or not\r\n\r\n```\r\n retrievedData.enqueue(new Callback&lt;ResponseModel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;ResponseModel&gt; call, Response&lt;ResponseModel&gt;\r\n                    response) {\r\n                if(response == null || response.body() == null){\r\n                    showInfoDialog(ScientistsActivity.this,&quot;ERROR&quot;,&quot;Response or Response Body is null. \\n Recheck Your PHP code.&quot;);\r\n                    return;\r\n                }\r\n                if(response == null || response.body() == null){\r\n                    showInfoDialog(ScientistsActivity.this,&quot;ERROR&quot;,&quot;Response or Response Body is null. \\n Recheck Your PHP code.&quot;);\r\n                    return;\r\n                }\r\n                List&lt;Scientist&gt; currentPageScientists = response.body().getResult();\r\n\r\n                if (currentPageScientists != null &amp;&amp; currentPageScientists.size() &gt; 0) {\r\n                    if (action.equalsIgnoreCase(&quot;GET_PAGINATED_SEARCH&quot;)) {\r\n                        allPagesScientists.clear();\r\n                    }\r\n                    allPagesScientists.addAll(currentPageScientists);\r\n                    // show(ScientistsActivity.this,currentPageScientists.size()+&quot; Scientists Found&quot;);\r\n                } else {\r\n                    if (action.equalsIgnoreCase(&quot;GET_PAGINATED_SEARCH&quot;)) {\r\n                        allPagesScientists.clear();\r\n                    }\r\n                    show(ScientistsActivity.this,&quot;Hey! Reached End. No more Found&quot;);\r\n                }\r\n                mAdapter.notifyDataSetChanged();\r\n                hideProgressBar(mProgressBar);\r\n            }\r\n```\r\n\r\n\r\nI dont have any idea about how to do it","title":"How to check response body value?","body":"<p>Hi i want to check json response id with user login id stored in share preference\nhere is my json response</p>\n<pre><code>{&quot;code&quot;:1,&quot;message&quot;:&quot;Success&quot;,&quot;result&quot;:[{&quot;id&quot;:&quot;1&quot;,&quot;name&quot;:&quot;Albert Einstein&quot;,&quot;description&quot;:&quot;Albert Einstein was a German-born theoretical physicist.&quot;,&quot;galaxy&quot;:&quot;Cartwheel&quot;,&quot;star&quot;:&quot;0008&quot;,&quot;dob&quot;:&quot;1905-05-13&quot;,&quot;died&quot;:&quot;1973-04-06&quot;}]}\n</code></pre>\n<p>And here is where i check response body empty or not</p>\n<pre><code> retrievedData.enqueue(new Callback&lt;ResponseModel&gt;() {\n            @Override\n            public void onResponse(Call&lt;ResponseModel&gt; call, Response&lt;ResponseModel&gt;\n                    response) {\n                if(response == null || response.body() == null){\n                    showInfoDialog(ScientistsActivity.this,&quot;ERROR&quot;,&quot;Response or Response Body is null. \\n Recheck Your PHP code.&quot;);\n                    return;\n                }\n                if(response == null || response.body() == null){\n                    showInfoDialog(ScientistsActivity.this,&quot;ERROR&quot;,&quot;Response or Response Body is null. \\n Recheck Your PHP code.&quot;);\n                    return;\n                }\n                List&lt;Scientist&gt; currentPageScientists = response.body().getResult();\n\n                if (currentPageScientists != null &amp;&amp; currentPageScientists.size() &gt; 0) {\n                    if (action.equalsIgnoreCase(&quot;GET_PAGINATED_SEARCH&quot;)) {\n                        allPagesScientists.clear();\n                    }\n                    allPagesScientists.addAll(currentPageScientists);\n                    // show(ScientistsActivity.this,currentPageScientists.size()+&quot; Scientists Found&quot;);\n                } else {\n                    if (action.equalsIgnoreCase(&quot;GET_PAGINATED_SEARCH&quot;)) {\n                        allPagesScientists.clear();\n                    }\n                    show(ScientistsActivity.this,&quot;Hey! Reached End. No more Found&quot;);\n                }\n                mAdapter.notifyDataSetChanged();\n                hideProgressBar(mProgressBar);\n            }\n</code></pre>\n<p>I dont have any idea about how to do it</p>\n"},{"tags":["java","jquery","postgresql","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690284877,"post_id":76762026,"comment_id":135328985,"body_markdown":"Hello and welcome. As you are using Spring Boot and Hibernate already there is no need to implement SQL queries yourself. There is a Spring Boot framework called JPA. It allows to map the database tables to Java objects called entities. This entities can have relationships to each others. Just have a look to any tutorial or blog like Baeldung for details and examples.","body":"Hello and welcome. As you are using Spring Boot and Hibernate already there is no need to implement SQL queries yourself. There is a Spring Boot framework called JPA. It allows to map the database tables to Java objects called entities. This entities can have relationships to each others. Just have a look to any tutorial or blog like Baeldung for details and examples."}],"answers":[{"tags":[],"owner":{"account_id":18178272,"reputation":55,"user_id":13226583,"display_name":"Rishabh Kabra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690285671,"creation_date":1690285671,"answer_id":76762397,"question_id":76762026,"body_markdown":"Hopefully you have an experience with JPA. If not, then please follow below link.\r\n\r\n[https://spring.io/guides/gs/accessing-data-jpa/][1]\r\n\r\nAll you need to do is create a repository which will fetch data from Database. You will require to write query in Repository using @Query annotation. Below link will guide you on using Query with JPA.\r\n[https://www.baeldung.com/spring-data-jpa-query][2]\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/accessing-data-jpa/\r\n  [2]: https://www.baeldung.com/spring-data-jpa-query","title":"Query at Spring Boot Project when data base is PostgreSQL","body":"<p>Hopefully you have an experience with JPA. If not, then please follow below link.</p>\n<p><a href=\"https://spring.io/guides/gs/accessing-data-jpa/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/accessing-data-jpa/</a></p>\n<p>All you need to do is create a repository which will fetch data from Database. You will require to write query in Repository using @Query annotation. Below link will guide you on using Query with JPA.\n<a href=\"https://www.baeldung.com/spring-data-jpa-query\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-data-jpa-query</a></p>\n"}],"owner":{"account_id":25430473,"reputation":1,"user_id":19234975,"display_name":"Yakup &#214;zdemir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690285671,"creation_date":1690282702,"question_id":76762026,"body_markdown":"I am working on a beginner level Java Spring Boot project. My java application is connected to my database with hibernate which is PostgreSQL. `&quot;POST&quot;` and `&quot;GET&quot;` methods are working without any problem. Now I have to join some variables from `&quot;a&quot;` class to `&quot;b&quot;` class. Based on my researches, I saw that I have to use a method called inner join. In order to do that I have to write a query. Where should I write the query. \r\n\r\nShould I write the query at db query section or inside the controller class of Java Project?\r\n\r\nI wrote the necessary query for joining the tables but I don&#39;t know where to write it on the project.","title":"Query at Spring Boot Project when data base is PostgreSQL","body":"<p>I am working on a beginner level Java Spring Boot project. My java application is connected to my database with hibernate which is PostgreSQL. <code>&quot;POST&quot;</code> and <code>&quot;GET&quot;</code> methods are working without any problem. Now I have to join some variables from <code>&quot;a&quot;</code> class to <code>&quot;b&quot;</code> class. Based on my researches, I saw that I have to use a method called inner join. In order to do that I have to write a query. Where should I write the query.</p>\n<p>Should I write the query at db query section or inside the controller class of Java Project?</p>\n<p>I wrote the necessary query for joining the tables but I don't know where to write it on the project.</p>\n"},{"tags":["java","python","ubuntu","debian","operating-system"],"comments":[{"owner":{"account_id":70910,"reputation":22937,"user_id":205212,"accept_rate":40,"display_name":"ʇsәɹoɈ"},"score":8,"creation_date":1275851791,"post_id":2985426,"comment_id":3047628,"body_markdown":"I disagree with closing this as subjective and argumentative.  There are some real, objective (if subtle) differences between the two distributions, and none of the answers I&#39;ve read so far are argumentative.","body":"I disagree with closing this as subjective and argumentative.  There are some real, objective (if subtle) differences between the two distributions, and none of the answers I&#39;ve read so far are argumentative."},{"owner":{"account_id":29634,"reputation":12494,"user_id":80243,"accept_rate":46,"display_name":"L̲̳o̲̳̳n̲̳̳g̲̳̳p̲̳o̲̳̳k̲̳̳e̲̳̳"},"score":0,"creation_date":1275852207,"post_id":2985426,"comment_id":3047661,"body_markdown":"@Forest: no, every *nix distribution is almost exactly the same.","body":"@Forest: no, every *nix distribution is almost exactly the same."},{"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"score":1,"creation_date":1275878478,"post_id":2985426,"comment_id":3049284,"body_markdown":"@Longpoke: I&#39;ve used Slackware in the mid-90s, then Debian, Corel Linux, Red Hat, Fedora, Ubuntu and now back to Debian.  There&#39;s **NO WAY** all Linux distribution are almost exactly the same.  Let alone every *nix distribution.  (OS X is fully POSIX compliant Un*x and you&#39;re smoking heavy stuff if you think OS X, Open Solaris, and all the Linux distros are *almost exactly the same*)","body":"@Longpoke: I&#39;ve used Slackware in the mid-90s, then Debian, Corel Linux, Red Hat, Fedora, Ubuntu and now back to Debian.  There&#39;s <b>NO WAY</b> all Linux distribution are almost exactly the same.  Let alone every <i>nix distribution.  (OS X is fully POSIX compliant Un</i>x and you&#39;re smoking heavy stuff if you think OS X, Open Solaris, and all the Linux distros are <i>almost exactly the same</i>)"},{"owner":{"account_id":131131,"reputation":4248,"user_id":330913,"accept_rate":87,"display_name":"NoozNooz42"},"score":0,"creation_date":1275878577,"post_id":2985426,"comment_id":3049289,"body_markdown":"@Longpoke: Read Forest&#39;s answer (+1 to Forest btw)","body":"@Longpoke: Read Forest&#39;s answer (+1 to Forest btw)"},{"owner":{"account_id":29634,"reputation":12494,"user_id":80243,"accept_rate":46,"display_name":"L̲̳o̲̳̳n̲̳̳g̲̳̳p̲̳o̲̳̳k̲̳̳e̲̳̳"},"score":0,"creation_date":1275880704,"post_id":2985426,"comment_id":3049378,"body_markdown":"nah, see Bryan Oakley&#39;s answer.","body":"nah, see Bryan Oakley&#39;s answer."},{"owner":{"account_id":3888822,"reputation":1032,"user_id":3351881,"display_name":"superUser"},"score":0,"creation_date":1473628989,"post_id":2985426,"comment_id":66203875,"body_markdown":"Debian is more stable... ubuntu not that much... if you are somebody who likes stability... then choose debian","body":"Debian is more stable... ubuntu not that much... if you are somebody who likes stability... then choose debian"}],"answers":[{"tags":[],"owner":{"account_id":5686,"reputation":8878,"user_id":9296,"accept_rate":81,"display_name":"Tzury Bar Yochay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275850168,"creation_date":1275850168,"answer_id":2985442,"question_id":2985426,"body_markdown":"java and python would most likely run the same on both.\r\n\r\nWith Ubuntu you get additional space of support and active community, and perhaps larger user base. \r\n\r\nSo if and when you face a particular problem, chances are with Ubuntu, the solution will appear faster. \r\n\r\n(although, whatever works on this should work on the other as well in theory) ","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>java and python would most likely run the same on both.</p>\n\n<p>With Ubuntu you get additional space of support and active community, and perhaps larger user base. </p>\n\n<p>So if and when you face a particular problem, chances are with Ubuntu, the solution will appear faster. </p>\n\n<p>(although, whatever works on this should work on the other as well in theory) </p>\n"},{"tags":[],"owner":{"account_id":147367,"reputation":43816,"user_id":358438,"accept_rate":73,"display_name":"Skizit"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275850249,"creation_date":1275850249,"answer_id":2985450,"question_id":2985426,"body_markdown":"Both use Debian packages and Ubuntu is based on Debian but is more user friendly. Everything yo can do on one you can do on the other. I&#39;d recommend Ubuntu if your new to linux on a Desktop. Though when it comes to servers I&#39;d recommend Debian as it has less stuff &quot;taken out&quot; basically.","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>Both use Debian packages and Ubuntu is based on Debian but is more user friendly. Everything yo can do on one you can do on the other. I'd recommend Ubuntu if your new to linux on a Desktop. Though when it comes to servers I'd recommend Debian as it has less stuff \"taken out\" basically.</p>\n"},{"tags":[],"owner":{"account_id":145570,"reputation":3550,"user_id":355461,"display_name":"Marc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1275850307,"creation_date":1275850307,"answer_id":2985456,"question_id":2985426,"body_markdown":"In Ubuntu it is a bit easier to install packages for Java development, but it doesn&#39;t really matter that much. Remember that Ubuntu is based on Debian, so it works the same. Ubuntu just adds more user-friendly GUI&#39;s.","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>In Ubuntu it is a bit easier to install packages for Java development, but it doesn't really matter that much. Remember that Ubuntu is based on Debian, so it works the same. Ubuntu just adds more user-friendly GUI's.</p>\n"},{"tags":[],"owner":{"account_id":127804,"reputation":712,"user_id":325228,"accept_rate":89,"display_name":"mmirate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1275850362,"creation_date":1275850362,"answer_id":2985463,"question_id":2985426,"body_markdown":"Ubuntu is the more user-friendly of the two (I think Ubuntu is actually one of **the** most newbie-friendly Linux distros), so if you are new to Linux, Ubuntu is the way to go.  Otherwise, the packages are mostly the same except for branding, so it&#39;s pretty much your choice.","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>Ubuntu is the more user-friendly of the two (I think Ubuntu is actually one of <strong>the</strong> most newbie-friendly Linux distros), so if you are new to Linux, Ubuntu is the way to go.  Otherwise, the packages are mostly the same except for branding, so it's pretty much your choice.</p>\n"},{"tags":[],"owner":{"account_id":4815,"reputation":374334,"user_id":7432,"accept_rate":94,"display_name":"Bryan Oakley"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1275850421,"creation_date":1275850421,"answer_id":2985472,"question_id":2985426,"body_markdown":"Neither is better. They both support the same tools and libraries. They are both linux. Anything and everything you can do on one you can do on the other. \r\n","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>Neither is better. They both support the same tools and libraries. They are both linux. Anything and everything you can do on one you can do on the other. </p>\n"},{"tags":[],"owner":{"account_id":70910,"reputation":22937,"user_id":205212,"accept_rate":40,"display_name":"ʇsәɹoɈ"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1690285564,"creation_date":1275851442,"answer_id":2985533,"question_id":2985426,"body_markdown":"Since Ubuntu is based on Debian, development is almost exactly the same for both.  They&#39;re both quite suitable for server machines.  The fundamental difference is that Debian follows a Free software ideology, while Ubuntu sacrifices that purity for practicality when no Free equivalent exists for important proprietary software.\r\n\r\nIf you choose Debian, you will have a choice of distribution series (&quot;unstable&quot; / &quot;testing&quot;) that may get you newer releases of pre-packaged software a few months sooner than Ubuntu.  Unless your development projects require bleeding-edge kernel or support libraries, this probably won&#39;t matter to you at all.\r\n\r\nIf you choose Ubuntu, certain proprietary software might be easier to install because it will be available through package repositories.  For example, nVidia&#39;s proprietary video driver.  That&#39;s not to say you can&#39;t make such things work on Debian; they will simply be easier on Ubuntu.\r\n\r\nI used Ubuntu for years, for these reasons:\r\n\r\n- Ubuntu has a free multi-platform build farm and software hosting system called [Personal Package Archives][1].  (Only to be used for freely redistributable software, of course.)\r\n- The Ubuntu bug reporting/tracking system is far more user friendly than Debian&#39;s.\r\n- Software packages I develop are guaranteed to work (with no extra dependency testing) for Ubuntu users, of which there are many.\r\n\r\nAfter replacing my Nvidia GPU with an AMD (for better drivers) and finding package repository tools that fit my workflow, I eventually switched to Debian.\r\n\r\n  [1]: https://help.launchpad.net/Packaging/PPA\r\n","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>Since Ubuntu is based on Debian, development is almost exactly the same for both.  They're both quite suitable for server machines.  The fundamental difference is that Debian follows a Free software ideology, while Ubuntu sacrifices that purity for practicality when no Free equivalent exists for important proprietary software.</p>\n<p>If you choose Debian, you will have a choice of distribution series (&quot;unstable&quot; / &quot;testing&quot;) that may get you newer releases of pre-packaged software a few months sooner than Ubuntu.  Unless your development projects require bleeding-edge kernel or support libraries, this probably won't matter to you at all.</p>\n<p>If you choose Ubuntu, certain proprietary software might be easier to install because it will be available through package repositories.  For example, nVidia's proprietary video driver.  That's not to say you can't make such things work on Debian; they will simply be easier on Ubuntu.</p>\n<p>I used Ubuntu for years, for these reasons:</p>\n<ul>\n<li>Ubuntu has a free multi-platform build farm and software hosting system called <a href=\"https://help.launchpad.net/Packaging/PPA\" rel=\"nofollow noreferrer\">Personal Package Archives</a>.  (Only to be used for freely redistributable software, of course.)</li>\n<li>The Ubuntu bug reporting/tracking system is far more user friendly than Debian's.</li>\n<li>Software packages I develop are guaranteed to work (with no extra dependency testing) for Ubuntu users, of which there are many.</li>\n</ul>\n<p>After replacing my Nvidia GPU with an AMD (for better drivers) and finding package repository tools that fit my workflow, I eventually switched to Debian.</p>\n"}],"owner":{"account_id":109465,"reputation":7286,"user_id":290036,"accept_rate":89,"display_name":"Horatiu Jeflea"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24100,"favorite_count":0,"down_vote_count":1,"up_vote_count":12,"closed_date":1275850650,"accepted_answer_id":2985533,"answer_count":6,"score":11,"last_activity_date":1690285564,"creation_date":1275849898,"question_id":2985426,"body_markdown":"Are there any real differences between them?\r\n\r\nI want to program in java and python. And of corse be a normal user: internet, etc\r\n\r\nWhich one will give me less headaches/more satisfaction ? \r\n\r\nAnd which is better for a server machine ?\r\n\r\nThank you","title":"Which os is better for development : Debian or Ubuntu?","body":"<p>Are there any real differences between them?</p>\n\n<p>I want to program in java and python. And of corse be a normal user: internet, etc</p>\n\n<p>Which one will give me less headaches/more satisfaction ? </p>\n\n<p>And which is better for a server machine ?</p>\n\n<p>Thank you</p>\n"},{"tags":["java","sql","database","postgresql","hashmap"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1575537651,"post_id":59191605,"comment_id":104602483,"body_markdown":"Write a simple query, execute it via JDBC and create the `Map&lt;String, List&lt;String&gt;&gt;` from the `ResultSet` if you can&#39;t / mustn&#39;t use frameworks.","body":"Write a simple query, execute it via JDBC and create the <code>Map&lt;String, List&lt;String&gt;&gt;</code> from the <code>ResultSet</code> if you can&#39;t / mustn&#39;t use frameworks."}],"answers":[{"tags":[],"owner":{"account_id":11641764,"reputation":7,"user_id":8525935,"display_name":"Ivan Vishnyak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575538018,"creation_date":1575536972,"answer_id":59191652,"question_id":59191605,"body_markdown":"you can use jdbc, example:\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\r\n        try (Connection connection = DriverManager.getConnection(&quot;jdbc:postgresql://localhost:5432/example&quot;, &quot;postgres&quot;, &quot;postgres&quot;)) {\r\n\r\n            Statement statement = connection.createStatement();\r\n\r\n            ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM public.parentAndChildrens&quot;);\r\n            while (resultSet.next()) {\r\n                System.out.println(&quot;parent is: &quot; + resultSet.getString(&quot;ParentName&quot;) + &quot;childrenis: &quot; + resultSet.getString(&quot;ChildrenName&quot;));\r\n            }    \r\n        } catch (SQLException e) {\r\n            System.out.println(&quot;Connection failure.&quot;);\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAnd than you can fill your map.","title":"Java + Postgresql : How to store Parent and List of all children in a HashMap&lt;String,ArrayList&lt;String&gt;&gt;","body":"<p>you can use jdbc, example:</p>\n\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, List&lt;String&gt;&gt; map = new HashMap&lt;&gt;();\n    try (Connection connection = DriverManager.getConnection(\"jdbc:postgresql://localhost:5432/example\", \"postgres\", \"postgres\")) {\n\n        Statement statement = connection.createStatement();\n\n        ResultSet resultSet = statement.executeQuery(\"SELECT * FROM public.parentAndChildrens\");\n        while (resultSet.next()) {\n            System.out.println(\"parent is: \" + resultSet.getString(\"ParentName\") + \"childrenis: \" + resultSet.getString(\"ChildrenName\"));\n        }    \n    } catch (SQLException e) {\n        System.out.println(\"Connection failure.\");\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>And than you can fill your map.</p>\n"},{"tags":[],"owner":{"account_id":43555,"reputation":1891,"user_id":127400,"accept_rate":88,"display_name":"Augunrik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1575537845,"creation_date":1575537845,"answer_id":59191872,"question_id":59191605,"body_markdown":"So, in the end you always need to create the objects (if you are not using JPA mapping). Therefore there is not a real &quot;do it in java or sql&quot; difference here.\r\nYou should also be aware of how much data you are selecting, you can easily reach the memory limit of your laptop or server.\r\n\r\nI would suggest you select pages of data from the database and transform them in your needed object structure.\r\n\r\nThe select would something like this:\r\n\r\n    SELECT * FROM parent, child WHERE child.parent_id = parent.id ORDER BY parent.id LIMIT 0, 100\r\n\r\nYou would then have to write Java code with loops over the returned results and only stops, if there are no more results returned.\r\n\r\nIf you need more, then please ask. You are very vague with your question on how the result should look like. (Do you need for SQL or Java Code? Do you need help with the general algorithm? How much data do we speak of?)","title":"Java + Postgresql : How to store Parent and List of all children in a HashMap&lt;String,ArrayList&lt;String&gt;&gt;","body":"<p>So, in the end you always need to create the objects (if you are not using JPA mapping). Therefore there is not a real \"do it in java or sql\" difference here.\nYou should also be aware of how much data you are selecting, you can easily reach the memory limit of your laptop or server.</p>\n\n<p>I would suggest you select pages of data from the database and transform them in your needed object structure.</p>\n\n<p>The select would something like this:</p>\n\n<pre><code>SELECT * FROM parent, child WHERE child.parent_id = parent.id ORDER BY parent.id LIMIT 0, 100\n</code></pre>\n\n<p>You would then have to write Java code with loops over the returned results and only stops, if there are no more results returned.</p>\n\n<p>If you need more, then please ask. You are very vague with your question on how the result should look like. (Do you need for SQL or Java Code? Do you need help with the general algorithm? How much data do we speak of?)</p>\n"},{"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1575540648,"creation_date":1575538298,"answer_id":59192000,"question_id":59191605,"body_markdown":"**Concerning your second option:  \r\nGet all data from the database with a simple query and map the data in Java**\r\n\r\nYou can do it like this (read the code comments):\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// provide a query as String\r\n\tString query = &quot;SELECT ParentName, ChildName FROM some_table&quot;;\r\n\t// provide the data structure\r\n\tMap&lt;String, List&lt;String&gt;&gt; results = new HashMap&lt;&gt;();\r\n\t// connect to your database\r\n\tConnection connection; // this has to be created using a suitable JDBC implementation\r\n\t\r\n\ttry (PreparedStatement ps = connection.prepareStatement(query)) {\r\n\t\tResultSet rs = ps.executeQuery();\r\n\t\t\r\n\t\twhile (rs.next()) {\r\n\t\t\tString parentName = rs.getString(1);\r\n\t\t\tString childName = rs.getString(2);\r\n\t\t\t\r\n\t\t\t// add them to the map\r\n\t\t\tif (results.containsKey(parentName)) {\r\n\t\t\t\t/* \r\n\t\t\t\t * if the key already exists in the map, \r\n\t\t\t\t * just add the current name to its value(s)\r\n\t\t\t\t */\r\n\t\t\t\tresults.get(parentName).add(childName);\r\n\t\t\t} else {\r\n\t\t\t\t// create a new list as the value for the new key\r\n\t\t\t\tList&lt;String&gt; childNames = new ArrayList&lt;&gt;();\r\n\t\t\t\t// add the current child name to it\r\n\t\t\t\tchildNames.add(childName);\r\n\t\t\t\t// and put the new key and value in the map\r\n\t\t\t\tresults.put(parentName, childNames);\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\t\r\n\t// print the results\r\n\tresults.forEach((p, c) -&gt; System.out.println(p + &quot;: &quot; + String.join(&quot;, &quot;, c)));\r\n}\r\n```","title":"Java + Postgresql : How to store Parent and List of all children in a HashMap&lt;String,ArrayList&lt;String&gt;&gt;","body":"<p><strong>Concerning your second option:<br>\nGet all data from the database with a simple query and map the data in Java</strong></p>\n\n<p>You can do it like this (read the code comments):</p>\n\n<pre><code>public static void main(String[] args) {\n    // provide a query as String\n    String query = \"SELECT ParentName, ChildName FROM some_table\";\n    // provide the data structure\n    Map&lt;String, List&lt;String&gt;&gt; results = new HashMap&lt;&gt;();\n    // connect to your database\n    Connection connection; // this has to be created using a suitable JDBC implementation\n\n    try (PreparedStatement ps = connection.prepareStatement(query)) {\n        ResultSet rs = ps.executeQuery();\n\n        while (rs.next()) {\n            String parentName = rs.getString(1);\n            String childName = rs.getString(2);\n\n            // add them to the map\n            if (results.containsKey(parentName)) {\n                /* \n                 * if the key already exists in the map, \n                 * just add the current name to its value(s)\n                 */\n                results.get(parentName).add(childName);\n            } else {\n                // create a new list as the value for the new key\n                List&lt;String&gt; childNames = new ArrayList&lt;&gt;();\n                // add the current child name to it\n                childNames.add(childName);\n                // and put the new key and value in the map\n                results.put(parentName, childNames);\n            }\n        }\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n    // print the results\n    results.forEach((p, c) -&gt; System.out.println(p + \": \" + String.join(\", \", c)));\n}\n</code></pre>\n"}],"owner":{"account_id":8304691,"reputation":91,"user_id":6242206,"display_name":"sonan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":763,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59192000,"answer_count":3,"score":1,"last_activity_date":1690285560,"creation_date":1575536822,"question_id":59191605,"body_markdown":"I have an sql table Children :\r\n\r\n```lang-none\r\n| ParentName | ChildrenName |\r\n ———————————————————————————\r\n| parent 1   | child 1      |\r\n| parent 1   | child 2      |\r\n| parent 2   | child 3      |\r\n| parent 1   | child 4      |\r\n| ...        | ....         |\r\n```\r\n\r\nMy goal is to construct a java `HashMap&lt;String , ArrayList&lt;String&gt;&gt;` that contains ParentName as key and a list of `ChildrenName` as value.\r\n\r\nShould I perform the processing by using an sql query? Or select all data and process it via java?","title":"Java + Postgresql : How to store Parent and List of all children in a HashMap&lt;String,ArrayList&lt;String&gt;&gt;","body":"<p>I have an sql table Children :</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>| ParentName | ChildrenName |\n ———————————————————————————\n| parent 1   | child 1      |\n| parent 1   | child 2      |\n| parent 2   | child 3      |\n| parent 1   | child 4      |\n| ...        | ....         |\n</code></pre>\n\n<p>My goal is to construct a java <code>HashMap&lt;String , ArrayList&lt;String&gt;&gt;</code> that contains ParentName as key and a list of <code>ChildrenName</code> as value.</p>\n\n<p>Should I perform the processing by using an sql query? Or select all data and process it via java?</p>\n"},{"tags":["java","printing","dialog"],"answers":[{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690285547,"creation_date":1690285547,"answer_id":76762382,"question_id":76760674,"body_markdown":"The following worked for me, since I have a printer called &quot;PDF&quot;. It would seem that I cannot choose its output file name, but that might not be the case for you, but it *does* save the file, and *without* showing a dialog:\r\n\r\n```\r\nimport java.awt.print.PrinterJob;\r\nimport javax.print.PrintService;\r\nimport javax.print.DocFlavor;\r\nimport javax.print.DocPrintJob;\r\nimport javax.print.Doc;\r\nimport javax.print.SimpleDoc;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.util.Arrays;\r\nimport java.io.InputStream;\r\nimport javax.print.attribute.PrintRequestAttributeSet;\r\nimport javax.print.attribute.HashPrintRequestAttributeSet;\r\nimport javax.print.attribute.standard.Copies;\r\nimport javax.print.attribute.standard.MediaSizeName;\r\nimport javax.print.attribute.Attribute;\r\n\r\npublic class PdfPrinter {\r\n    public static void main(String[] args) throws Exception {\r\n        final String PDF_SERVICE = &quot;PDF&quot;;\r\n        PrintService[] services = PrinterJob.lookupPrintServices();\r\n        PrintService pdfService = Arrays.stream(services).filter(s -&gt; PDF_SERVICE.equals(s.getName())).findFirst()\r\n                .orElseThrow();\r\n        /*\r\n         If you want some info\r\n        System.out.println(pdfService.getAttributes());\r\n        Attribute[] attrs = pdfService.getAttributes().toArray();\r\n        Arrays.stream(attrs).\r\n            forEach(a -&gt;System.out.printf(&quot;%s=%s%n&quot;, a.getName(), a));\r\n        */\r\n        try (InputStream fis = Files.newInputStream(Path.of(args[0]))) {\r\n            DocFlavor flavor = DocFlavor.INPUT_STREAM.PDF;\r\n            DocPrintJob job = pdfService.createPrintJob();\r\n            PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\r\n            aset.add(new Copies(1));\r\n            aset.add(MediaSizeName.ISO_A4);\r\n            Doc doc = new SimpleDoc(fis, flavor, null);\r\n            job.print(doc, aset);\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"Virtual standard printer without dialog","body":"<p>The following worked for me, since I have a printer called &quot;PDF&quot;. It would seem that I cannot choose its output file name, but that might not be the case for you, but it <em>does</em> save the file, and <em>without</em> showing a dialog:</p>\n<pre><code>import java.awt.print.PrinterJob;\nimport javax.print.PrintService;\nimport javax.print.DocFlavor;\nimport javax.print.DocPrintJob;\nimport javax.print.Doc;\nimport javax.print.SimpleDoc;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.Arrays;\nimport java.io.InputStream;\nimport javax.print.attribute.PrintRequestAttributeSet;\nimport javax.print.attribute.HashPrintRequestAttributeSet;\nimport javax.print.attribute.standard.Copies;\nimport javax.print.attribute.standard.MediaSizeName;\nimport javax.print.attribute.Attribute;\n\npublic class PdfPrinter {\n    public static void main(String[] args) throws Exception {\n        final String PDF_SERVICE = &quot;PDF&quot;;\n        PrintService[] services = PrinterJob.lookupPrintServices();\n        PrintService pdfService = Arrays.stream(services).filter(s -&gt; PDF_SERVICE.equals(s.getName())).findFirst()\n                .orElseThrow();\n        /*\n         If you want some info\n        System.out.println(pdfService.getAttributes());\n        Attribute[] attrs = pdfService.getAttributes().toArray();\n        Arrays.stream(attrs).\n            forEach(a -&gt;System.out.printf(&quot;%s=%s%n&quot;, a.getName(), a));\n        */\n        try (InputStream fis = Files.newInputStream(Path.of(args[0]))) {\n            DocFlavor flavor = DocFlavor.INPUT_STREAM.PDF;\n            DocPrintJob job = pdfService.createPrintJob();\n            PrintRequestAttributeSet aset = new HashPrintRequestAttributeSet();\n            aset.add(new Copies(1));\n            aset.add(MediaSizeName.ISO_A4);\n            Doc doc = new SimpleDoc(fis, flavor, null);\n            job.print(doc, aset);\n        }\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18194209,"reputation":15,"user_id":13239577,"display_name":"ralle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690285547,"creation_date":1690272618,"question_id":76760674,"body_markdown":"I would like to write a program that uses the default printer from the system (in this case a virtual PDF printer). The program should print one file (= inputFilePath).  After printing a new PDF file shall be created (= outputFilePath).\r\n\r\nWith all attempts I always get a dialog, which I don&#39;t want. Or printing with the virtual printer does not work.\r\n\r\nSo far I have experimented a lot with the class &quot;PrintJob&quot;, but have not been able to get anything usable. Currently the code below gives the best result (unfortunately also with dialog). \r\n\r\n  \r\n\r\n\r\n\r\n\r\n    \tpublic static void main(String[] args) throws Exception {\r\n\t\t\tString inputFilePath = &quot;C://TEST//test.msg&quot;;\r\n\t\t\tString outputFilePath =&quot;C://TEST//test.pdf&quot;;\r\n\t\t \tDesktop desktop = Desktop.getDesktop();\r\n \r\n\t\t \tdesktop.print(new File(inputFilePath));\r\n         \r\n         \tSystem.exit(0);\r\n\t\t}\r\n\r\nbest regards","title":"Virtual standard printer without dialog","body":"<p>I would like to write a program that uses the default printer from the system (in this case a virtual PDF printer). The program should print one file (= inputFilePath).  After printing a new PDF file shall be created (= outputFilePath).</p>\n<p>With all attempts I always get a dialog, which I don't want. Or printing with the virtual printer does not work.</p>\n<p>So far I have experimented a lot with the class &quot;PrintJob&quot;, but have not been able to get anything usable. Currently the code below gives the best result (unfortunately also with dialog).</p>\n<pre><code>    public static void main(String[] args) throws Exception {\n        String inputFilePath = &quot;C://TEST//test.msg&quot;;\n        String outputFilePath =&quot;C://TEST//test.pdf&quot;;\n        Desktop desktop = Desktop.getDesktop();\n\n        desktop.print(new File(inputFilePath));\n     \n        System.exit(0);\n    }\n</code></pre>\n<p>best regards</p>\n"},{"tags":["java","android","firebase","retrofit2"],"comments":[{"owner":{"account_id":6770336,"reputation":1873,"user_id":5213857,"display_name":"Swayangjit"},"score":0,"creation_date":1592149574,"post_id":62374704,"comment_id":110314940,"body_markdown":"Can you please let us know what is this Response and Pengirim class ?","body":"Can you please let us know what is this Response and Pengirim class ?"}],"answers":[{"tags":[],"owner":{"account_id":18803074,"reputation":55,"user_id":13712998,"display_name":"Azizah"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1592200999,"creation_date":1592200999,"answer_id":62382254,"question_id":62374704,"body_markdown":"my problem solved, I make mistake in the code\r\n\r\n    @Override\r\n    public void onResponse(Call&lt;Response&gt; call, Response&lt;Response&gt; response) {\r\n    Toast.makeText(ChatAct.this, &quot;&quot;+response.message(), Toast.LENGTH_SHORT).show();\r\n     }\r\n\r\nCall&lt;Response&gt; replace to Call&lt;Respon&gt; because the class named Respon not Response.","title":"java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)","body":"<p>my problem solved, I make mistake in the code</p>\n\n<pre><code>@Override\npublic void onResponse(Call&lt;Response&gt; call, Response&lt;Response&gt; response) {\nToast.makeText(ChatAct.this, \"\"+response.message(), Toast.LENGTH_SHORT).show();\n }\n</code></pre>\n\n<p>Call replace to Call because the class named Respon not Response.</p>\n"},{"tags":[],"owner":{"account_id":371835,"reputation":190,"user_id":720585,"display_name":"Daniel.W"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1689929147,"creation_date":1687344978,"answer_id":76522515,"question_id":62374704,"body_markdown":"This submit fixed the issue, proguard issue, added a proguard rule\r\n\r\nhttps://github.com/square/retrofit/pull/3910/files/9831d5c3f9d28c61d29078d89645bce8ea258366#diff-50d428633d98e235831f5f9b75d7aa48897d5edc2bed30c55c9bb9ec20b36f82","title":"java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)","body":"<p>This submit fixed the issue, proguard issue, added a proguard rule</p>\n<p><a href=\"https://github.com/square/retrofit/pull/3910/files/9831d5c3f9d28c61d29078d89645bce8ea258366#diff-50d428633d98e235831f5f9b75d7aa48897d5edc2bed30c55c9bb9ec20b36f82\" rel=\"nofollow noreferrer\">https://github.com/square/retrofit/pull/3910/files/9831d5c3f9d28c61d29078d89645bce8ea258366#diff-50d428633d98e235831f5f9b75d7aa48897d5edc2bed30c55c9bb9ec20b36f82</a></p>\n"},{"tags":[],"owner":{"account_id":19400960,"reputation":1653,"user_id":14187529,"display_name":"Kamal Nayan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690285512,"creation_date":1689439598,"answer_id":76694828,"question_id":62374704,"body_markdown":"Extending the [Daniel.W answer][1],\r\n\r\n**This rule is not mentioned yet in the retrofit&#39;s [official proguard guide][2]. You must mention this in your proguard rules**\r\n\r\n    # R8 full mode strips generic signatures from return types if not kept.\r\n    -keep,allowobfuscation,allowshrinking class retrofit2.Response\r\n\r\n **Final proguard rules for retrofit is :**\r\n\r\n\r\n\r\n        \r\n    # Retrofit does reflection on method and parameter annotations.\r\n    -keepattributes RuntimeVisibleAnnotations, RuntimeVisibleParameterAnnotations\r\n    \r\n    # Keep annotation default values (e.g., retrofit2.http.Field.encoded).\r\n    -keepattributes AnnotationDefault\r\n    \r\n    # Retain service method parameters when optimizing.\r\n    -keepclassmembers,allowshrinking,allowobfuscation interface * {\r\n        @retrofit2.http.* &lt;methods&gt;;\r\n    }\r\n    \r\n    # Ignore annotation used for build tooling.\r\n    -dontwarn org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement\r\n    \r\n    # Ignore JSR 305 annotations for embedding nullability information.\r\n    -dontwarn javax.annotation.**\r\n    \r\n    # Guarded by a NoClassDefFoundError try/catch and only used when on the classpath.\r\n    -dontwarn kotlin.Unit\r\n    \r\n    # Top-level functions that can only be used by Kotlin.\r\n    -dontwarn retrofit2.KotlinExtensions\r\n    -dontwarn retrofit2.KotlinExtensions$*\r\n    \r\n    # With R8 full mode, it sees no subtypes of Retrofit interfaces since they are created with a Proxy\r\n    # and replaces all potential values with null. Explicitly keeping the interfaces prevents this.\r\n    -if interface * { @retrofit2.http.* &lt;methods&gt;; }\r\n    -keep,allowobfuscation interface &lt;1&gt;\r\n    \r\n    # Keep inherited services.\r\n    -if interface * { @retrofit2.http.* &lt;methods&gt;; }\r\n    -keep,allowobfuscation interface * extends &lt;1&gt;\r\n    \r\n    # With R8 full mode generic signatures are stripped for classes that are not\r\n    # kept. Suspend functions are wrapped in continuations where the type argument\r\n    # is used.\r\n    -keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation\r\n    \r\n    # R8 full mode strips generic signatures from return types if not kept.\r\n    -if interface * { @retrofit2.http.* public *** *(...); }\r\n    -keep,allowoptimization,allowshrinking,allowobfuscation class &lt;3&gt;\r\n    \r\n    # R8 full mode strips generic signatures from return types if not kept.\r\n    -keep,allowobfuscation,allowshrinking class retrofit2.Response\r\n\r\n----------\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/76522515/14187529\r\n  [2]: https://github.com/square/retrofit/blob/master/retrofit/src/main/resources/META-INF/proguard/retrofit2.pro","title":"java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)","body":"<p>Extending the <a href=\"https://stackoverflow.com/a/76522515/14187529\">Daniel.W answer</a>,</p>\n<p><strong>This rule is not mentioned yet in the retrofit's <a href=\"https://github.com/square/retrofit/blob/master/retrofit/src/main/resources/META-INF/proguard/retrofit2.pro\" rel=\"nofollow noreferrer\">official proguard guide</a>. You must mention this in your proguard rules</strong></p>\n<pre><code># R8 full mode strips generic signatures from return types if not kept.\n-keep,allowobfuscation,allowshrinking class retrofit2.Response\n</code></pre>\n<p><strong>Final proguard rules for retrofit is :</strong></p>\n<pre><code># Retrofit does reflection on method and parameter annotations.\n-keepattributes RuntimeVisibleAnnotations, RuntimeVisibleParameterAnnotations\n\n# Keep annotation default values (e.g., retrofit2.http.Field.encoded).\n-keepattributes AnnotationDefault\n\n# Retain service method parameters when optimizing.\n-keepclassmembers,allowshrinking,allowobfuscation interface * {\n    @retrofit2.http.* &lt;methods&gt;;\n}\n\n# Ignore annotation used for build tooling.\n-dontwarn org.codehaus.mojo.animal_sniffer.IgnoreJRERequirement\n\n# Ignore JSR 305 annotations for embedding nullability information.\n-dontwarn javax.annotation.**\n\n# Guarded by a NoClassDefFoundError try/catch and only used when on the classpath.\n-dontwarn kotlin.Unit\n\n# Top-level functions that can only be used by Kotlin.\n-dontwarn retrofit2.KotlinExtensions\n-dontwarn retrofit2.KotlinExtensions$*\n\n# With R8 full mode, it sees no subtypes of Retrofit interfaces since they are created with a Proxy\n# and replaces all potential values with null. Explicitly keeping the interfaces prevents this.\n-if interface * { @retrofit2.http.* &lt;methods&gt;; }\n-keep,allowobfuscation interface &lt;1&gt;\n\n# Keep inherited services.\n-if interface * { @retrofit2.http.* &lt;methods&gt;; }\n-keep,allowobfuscation interface * extends &lt;1&gt;\n\n# With R8 full mode generic signatures are stripped for classes that are not\n# kept. Suspend functions are wrapped in continuations where the type argument\n# is used.\n-keep,allowobfuscation,allowshrinking class kotlin.coroutines.Continuation\n\n# R8 full mode strips generic signatures from return types if not kept.\n-if interface * { @retrofit2.http.* public *** *(...); }\n-keep,allowoptimization,allowshrinking,allowobfuscation class &lt;3&gt;\n\n# R8 full mode strips generic signatures from return types if not kept.\n-keep,allowobfuscation,allowshrinking class retrofit2.Response\n</code></pre>\n<hr />\n"}],"owner":{"account_id":18803074,"reputation":55,"user_id":13712998,"display_name":"Azizah"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1988,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1690285512,"creation_date":1592149156,"question_id":62374704,"body_markdown":"Error when I send a chat to others.\r\n\r\n   \r\n\r\n \r\n\r\n    java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)\r\n                for method APIService.sendnotif\r\n                \r\n    at retrofit2.Utils.methodError(Utils.java:54)\r\n    \r\n    at retrofit2.Utils.methodError(Utils.java:43)\r\n    \r\n    at retrofit2.HttpServiceMethod.parseAnnotations(HttpServiceMethod.java:77)\r\n    \r\n    at retrofit2.ServiceMethod.parseAnnotations(ServiceMethod.java:39)\r\n                at retrofit2.Retrofit.loadServiceMethod(Retrofit.java:202)\r\n                at retrofit2.Retrofit$1.invoke(Retrofit.java:160)\r\n                at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\r\n                at $Proxy0.sendnotif(Unknown Source)\r\n                at com.azizah.msocial.ChatAct$7.onDataChange(ChatAct.java:297)\r\n              \r\n\r\nclass interface ApiService\r\n\r\n   \r\n\r\n    public interface APIService {\r\n    \r\n    @Headers({\r\n            &quot;Content-Type:application/json&quot;,\r\n            &quot;Authorization:key=Lhghhkvhvhffgv&quot;\r\n    })\r\n    \r\n    @POST(&quot;fcm/send&quot;)\r\n    Call&lt;Response&gt; sendnotif(@Body Pengirim body);\r\n    }\r\n\r\nsendnotif.class\r\nERROR in line apiService.sendnotif\r\nmust include generic type in here. can u explain to me to make generic type retrofit?\r\n        \r\n    private void sendnotif(final String hisUid, final String name, final String pesan) {\r\n    \r\n    DatabaseReference alltoken = FirebaseDatabase.getInstance().getReference(&quot;Tokens&quot;);\r\n    Query query = alltoken.orderByKey().equalTo(hisUid);\r\n            query.addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n    \r\n                    for(DataSnapshot ds: dataSnapshot.getChildren()){\r\n                        Tokenclass tokenclass = ds.getValue(Tokenclass.class);\r\n                        Datanotif data = new Datanotif(myUid, name+&quot;:&quot;+pesan, &quot;Pesan Baru&quot;, hisUid, R.drawable.ic_usr_name);\r\n                        Pengirim pengirim = new Pengirim(data, tokenclass.getToken());\r\n                         apiService.sendnotif(pengirim)\r\n                            .enqueue(new Callback&lt;Response&gt;() {\r\n                                @Override\r\n                                public void onResponse(Call&lt;Response&gt; call, Response&lt;Response&gt; response) {\r\n                                    Toast.makeText(ChatAct.this, &quot;&quot;+response.message(), Toast.LENGTH_SHORT).show();\r\n                                }\r\n\r\n                                @Override\r\n                                public void onFailure(Call&lt;Response&gt; call, Throwable t) {\r\n\r\n                                }\r\n                            });\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n\r\n    }\r\nerror in apiService.sendnotif(pengirim)\r\n\r\nplease help me, It makes app force close \r\n","title":"java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)","body":"<p>Error when I send a chat to others.</p>\n\n<pre><code>java.lang.IllegalArgumentException: Response must include generic type (e.g., Response&lt;String&gt;)\n            for method APIService.sendnotif\n\nat retrofit2.Utils.methodError(Utils.java:54)\n\nat retrofit2.Utils.methodError(Utils.java:43)\n\nat retrofit2.HttpServiceMethod.parseAnnotations(HttpServiceMethod.java:77)\n\nat retrofit2.ServiceMethod.parseAnnotations(ServiceMethod.java:39)\n            at retrofit2.Retrofit.loadServiceMethod(Retrofit.java:202)\n            at retrofit2.Retrofit$1.invoke(Retrofit.java:160)\n            at java.lang.reflect.Proxy.invoke(Proxy.java:1006)\n            at $Proxy0.sendnotif(Unknown Source)\n            at com.azizah.msocial.ChatAct$7.onDataChange(ChatAct.java:297)\n</code></pre>\n\n<p>class interface ApiService</p>\n\n<pre><code>public interface APIService {\n\n@Headers({\n        \"Content-Type:application/json\",\n        \"Authorization:key=Lhghhkvhvhffgv\"\n})\n\n@POST(\"fcm/send\")\nCall&lt;Response&gt; sendnotif(@Body Pengirim body);\n}\n</code></pre>\n\n<p>sendnotif.class\nERROR in line apiService.sendnotif\nmust include generic type in here. can u explain to me to make generic type retrofit?</p>\n\n<pre><code>private void sendnotif(final String hisUid, final String name, final String pesan) {\n\nDatabaseReference alltoken = FirebaseDatabase.getInstance().getReference(\"Tokens\");\nQuery query = alltoken.orderByKey().equalTo(hisUid);\n        query.addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n\n                for(DataSnapshot ds: dataSnapshot.getChildren()){\n                    Tokenclass tokenclass = ds.getValue(Tokenclass.class);\n                    Datanotif data = new Datanotif(myUid, name+\":\"+pesan, \"Pesan Baru\", hisUid, R.drawable.ic_usr_name);\n                    Pengirim pengirim = new Pengirim(data, tokenclass.getToken());\n                     apiService.sendnotif(pengirim)\n                        .enqueue(new Callback&lt;Response&gt;() {\n                            @Override\n                            public void onResponse(Call&lt;Response&gt; call, Response&lt;Response&gt; response) {\n                                Toast.makeText(ChatAct.this, \"\"+response.message(), Toast.LENGTH_SHORT).show();\n                            }\n\n                            @Override\n                            public void onFailure(Call&lt;Response&gt; call, Throwable t) {\n\n                            }\n                        });\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError databaseError) {\n\n        }\n    });\n\n}\n</code></pre>\n\n<p>error in apiService.sendnotif(pengirim)</p>\n\n<p>please help me, It makes app force close </p>\n"},{"tags":["java","hashmap","tuples"],"comments":[{"owner":{"account_id":6500168,"reputation":930,"user_id":5116356,"accept_rate":100,"display_name":"luca.vercelli"},"score":0,"creation_date":1553852481,"post_id":55414407,"comment_id":97547896,"body_markdown":"you are talking about javax.persistence.Tuple, aren&#39;t you?","body":"you are talking about javax.persistence.Tuple, aren&#39;t you?"},{"owner":{"account_id":15599599,"reputation":1,"user_id":11254076,"display_name":"rzz24118"},"score":0,"creation_date":1553852600,"post_id":55414407,"comment_id":97547965,"body_markdown":"@luca.vercelli yes","body":"@luca.vercelli yes"}],"answers":[{"tags":[],"owner":{"account_id":6994397,"reputation":2809,"user_id":5362510,"accept_rate":50,"display_name":"Ondra K."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1553853414,"creation_date":1553852508,"answer_id":55414491,"question_id":55414407,"body_markdown":"The `element.getAlias()` you&#39;re using as the key for the hashmap is probably same for some of the elements.\r\n\r\n`Map` keys are unique, meaning, if you insert entries (1, &quot;one&quot;) and then (1, &quot;two&quot;), the first value will be overridden by the latter. If you want to have multiple values mapped to one key, use `Map&lt;String, Collection&lt;Object&gt;&gt;`, or a `Multimap` from Guava, which is exactly the same thing.\r\n\r\nYou can insert into multimap with this function - if the key is not in the map, create a new `ArrayList` and add it to the map, otherwise return the existing one. Then, insert the value to the list:\r\n\r\n    values\r\n        .computeIfAbsent(element.getAlias, k -&gt; new ArrayList&lt;&gt;())\r\n        .add(tuple.get(element));","title":"Can&#39;t convert tuple list to hashmap java","body":"<p>The <code>element.getAlias()</code> you're using as the key for the hashmap is probably same for some of the elements.</p>\n\n<p><code>Map</code> keys are unique, meaning, if you insert entries (1, \"one\") and then (1, \"two\"), the first value will be overridden by the latter. If you want to have multiple values mapped to one key, use <code>Map&lt;String, Collection&lt;Object&gt;&gt;</code>, or a <code>Multimap</code> from Guava, which is exactly the same thing.</p>\n\n<p>You can insert into multimap with this function - if the key is not in the map, create a new <code>ArrayList</code> and add it to the map, otherwise return the existing one. Then, insert the value to the list:</p>\n\n<pre><code>values\n    .computeIfAbsent(element.getAlias, k -&gt; new ArrayList&lt;&gt;())\n    .add(tuple.get(element));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15043220,"reputation":195,"user_id":10857151,"display_name":"Michael Cauduro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1592901206,"creation_date":1592899682,"answer_id":62530208,"question_id":55414407,"body_markdown":"with java 8 is simply :\r\n\r\n    return data.stream()\r\n        .collect(Collectors.toMap(\r\n            t -&gt; t.get(0, String.class),\r\n            t -&gt; t.get(1, Object.class)));","title":"Can&#39;t convert tuple list to hashmap java","body":"<p>with java 8 is simply :</p>\n<pre><code>return data.stream()\n    .collect(Collectors.toMap(\n        t -&gt; t.get(0, String.class),\n        t -&gt; t.get(1, Object.class)));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22325547,"reputation":199,"user_id":16547619,"display_name":"user16547619"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1629972206,"creation_date":1629890271,"answer_id":68921902,"question_id":55414407,"body_markdown":"Seems to be working :\r\n\r\n```\r\npublic static List&lt;Map&lt;String/*UPPERCASE*/, Object&gt;&gt; jpaTuplesToMaps(\r\n  List&lt;javax.persistence.Tuple&gt; data\r\n){\r\n\treturn data.stream()\r\n\t\t.map(tuple -&gt; { // per each tuple of the input List\r\n            // creating a new HashMap\r\n\t\t\tMap&lt;String, Object&gt; resultItem =  new HashMap&lt;&gt;();\r\n\t\t\t// filling the created HashMap with values of\r\n\t\t\ttuple.getElements().forEach( // each column of the tuple\r\n\t\t\t\tcol -&gt; { resultItem.put(col.getAlias(), tuple.get(col)); } \r\n\t\t\t);\r\n            // returning the created HashMap instead of  the current Tuple\r\n\t\t\treturn resultItem;\r\n\t\t})\r\n         // collecting &amp; returning all the created HashMap-s as a List\r\n\t\t.collect(Collectors.toList());\r\n}\r\n```\r\n\r\nBut usualy both single &amp; list conversions are required, so let&#39;s combine them :\r\n\r\n```\r\npublic static Map&lt;String/*UPPERCASE*/, Object&gt; jpaTupleToMap(\r\n\tjavax.persistence.Tuple data /*CASE INSENSITIVE*/\r\n){\r\n\tMap&lt;String, Object&gt; result = \r\n\t\tnew HashMap&lt;&gt;(); // exactly HashMap since it can handle NULL keys &amp; values\r\n\tdata.getElements().forEach(\r\n\t\tcol -&gt; { result.put(col.getAlias(), data.get(col)); } \r\n\t);\r\n\treturn result;\r\n}\r\n\r\n//-------------------------\r\n\t\r\npublic static List&lt;Map&lt;String/*UPPERCASE*/, Object&gt;&gt; jpaTuplesToMaps(\r\n\tList&lt;javax.persistence.Tuple&gt; data /*CASE INSENSITIVE*/\r\n){\r\n\treturn data.stream() // List&lt;Tuple&gt; -&gt; Tuple1,..TupleN\r\n\t\t.map(tuple -&gt; jpaTupleToMap(tuple)) // Tuple1 -&gt; HashMap1,..TupleN -&gt; HashMapN\r\n\t\t.collect(Collectors.toList()); // HashMap1,..HashMapN -&gt; List\r\n}\r\n\r\n","title":"Can&#39;t convert tuple list to hashmap java","body":"<p>Seems to be working :</p>\n<pre><code>public static List&lt;Map&lt;String/*UPPERCASE*/, Object&gt;&gt; jpaTuplesToMaps(\n  List&lt;javax.persistence.Tuple&gt; data\n){\n    return data.stream()\n        .map(tuple -&gt; { // per each tuple of the input List\n            // creating a new HashMap\n            Map&lt;String, Object&gt; resultItem =  new HashMap&lt;&gt;();\n            // filling the created HashMap with values of\n            tuple.getElements().forEach( // each column of the tuple\n                col -&gt; { resultItem.put(col.getAlias(), tuple.get(col)); } \n            );\n            // returning the created HashMap instead of  the current Tuple\n            return resultItem;\n        })\n         // collecting &amp; returning all the created HashMap-s as a List\n        .collect(Collectors.toList());\n}\n</code></pre>\n<p>But usualy both single &amp; list conversions are required, so let's combine them :</p>\n<pre><code>public static Map&lt;String/*UPPERCASE*/, Object&gt; jpaTupleToMap(\n    javax.persistence.Tuple data /*CASE INSENSITIVE*/\n){\n    Map&lt;String, Object&gt; result = \n        new HashMap&lt;&gt;(); // exactly HashMap since it can handle NULL keys &amp; values\n    data.getElements().forEach(\n        col -&gt; { result.put(col.getAlias(), data.get(col)); } \n    );\n    return result;\n}\n\n//-------------------------\n    \npublic static List&lt;Map&lt;String/*UPPERCASE*/, Object&gt;&gt; jpaTuplesToMaps(\n    List&lt;javax.persistence.Tuple&gt; data /*CASE INSENSITIVE*/\n){\n    return data.stream() // List&lt;Tuple&gt; -&gt; Tuple1,..TupleN\n        .map(tuple -&gt; jpaTupleToMap(tuple)) // Tuple1 -&gt; HashMap1,..TupleN -&gt; HashMapN\n        .collect(Collectors.toList()); // HashMap1,..HashMapN -&gt; List\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14948971,"reputation":321,"user_id":10793332,"display_name":"Avinash Dewangan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690285346,"creation_date":1690285346,"answer_id":76762362,"question_id":55414407,"body_markdown":" \r\n**You can convert List of Tuple to HashMap**\r\n\r\nMap&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n            \r\nfor (TupleElement tupleElement: listOfObject.get(0).getElements()) {\r\n                 map.put(tupleElement.getAlias(),listOfObject.get(0).get(tupleElement.getAlias()));\r\n            }","title":"Can&#39;t convert tuple list to hashmap java","body":"<p><strong>You can convert List of Tuple to HashMap</strong></p>\n<p>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();</p>\n<p>for (TupleElement tupleElement: listOfObject.get(0).getElements()) {\nmap.put(tupleElement.getAlias(),listOfObject.get(0).get(tupleElement.getAlias()));\n}</p>\n"}],"owner":{"account_id":15599599,"reputation":1,"user_id":11254076,"display_name":"rzz24118"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1690285346,"creation_date":1553852236,"question_id":55414407,"body_markdown":"I want to convert a `javax.persistence.Tuple` into a `HashMap`, but like this, it inserts the last element of the tuple and takes also the alias and data type. How can I improve this method so it takes values of the tuple?\r\n    \r\n```\r\npublic Map&lt;String, Object&gt; tuplesToMap(List&lt;Tuple&gt; data){\r\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\r\n    data.forEach(tuple -&gt; {\r\n        tuple.getElements().forEach(\r\n            element -&gt; {\r\n                values.put(element.getAlias(), tuple.get(element));\r\n            }\r\n        );\r\n    });\r\n    return values;\r\n}\r\n```","title":"Can&#39;t convert tuple list to hashmap java","body":"<p>I want to convert a <code>javax.persistence.Tuple</code> into a <code>HashMap</code>, but like this, it inserts the last element of the tuple and takes also the alias and data type. How can I improve this method so it takes values of the tuple?</p>\n\n<pre><code>public Map&lt;String, Object&gt; tuplesToMap(List&lt;Tuple&gt; data){\n    Map&lt;String, Object&gt; values = new HashMap&lt;&gt;();\n    data.forEach(tuple -&gt; {\n        tuple.getElements().forEach(\n            element -&gt; {\n                values.put(element.getAlias(), tuple.get(element));\n            }\n        );\n    });\n    return values;\n}\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1690283860,"post_id":76762156,"comment_id":135328774,"body_markdown":"you are trying to access the first element of an empty list/array. First check whether or not there are elements to access","body":"you are trying to access the first element of an empty list/array. First check whether or not there are elements to access"},{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690283928,"post_id":76762156,"comment_id":135328786,"body_markdown":"You cannot use the `set(int index, E element)` method of List to set Elements at indexes that don&#39;t yet exist. Lists don&#39;t work like that, you can&#39;t insert an element at index 0 in an empty list with that method. And your List is empty when you create it. You add new elements with the add method and use the set method to replace elements.","body":"You cannot use the <code>set(int index, E element)</code> method of List to set Elements at indexes that don&#39;t yet exist. Lists don&#39;t work like that, you can&#39;t insert an element at index 0 in an empty list with that method. And your List is empty when you create it. You add new elements with the add method and use the set method to replace elements."},{"owner":{"account_id":12256232,"reputation":617,"user_id":8945198,"display_name":"AP11"},"score":0,"creation_date":1690284395,"post_id":76762156,"comment_id":135328882,"body_markdown":"That `List` is empty, so instead of setting the elements on `index i`, just add them to the list.","body":"That <code>List</code> is empty, so instead of setting the elements on <code>index i</code>, just add them to the list."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690284660,"post_id":76762156,"comment_id":135328944,"body_markdown":"You&#39;ve made the assumption that the parameter you pass to `new ArrayList` is the size of the list, as it would be with `new Boolean[size]`, but it isn&#39;t, it&#39;s the number of items you can add to the list before it resizes itself internally. The list is created empty.","body":"You&#39;ve made the assumption that the parameter you pass to <code>new ArrayList</code> is the size of the list, as it would be with <code>new Boolean[size]</code>, but it isn&#39;t, it&#39;s the number of items you can add to the list before it resizes itself internally. The list is created empty."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690285061,"creation_date":1690285061,"answer_id":76762324,"question_id":76762156,"body_markdown":"You can&#39;t set elements of an empty `List` like that, you need to actually add the elements to populate an empty list. Here, you seem to be checking if each-value in the input array is within a threshold; use that as the value to add. And I would calculate the threshold once. Like,\r\n\r\n\tpublic List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\r\n\t\tArrays.sort(candies);\r\n\t\tint max = candies[candies.length - 1] - extraCandies;\r\n\t\tList&lt;Boolean&gt; res = new ArrayList&lt;&gt;(candies.length);\r\n\t\tfor (int v : candies) {\r\n\t\t\tres.add(v &gt; max);\r\n\t\t}\r\n\t\treturn res;\r\n\t}\r\n","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 when using lists","body":"<p>You can't set elements of an empty <code>List</code> like that, you need to actually add the elements to populate an empty list. Here, you seem to be checking if each-value in the input array is within a threshold; use that as the value to add. And I would calculate the threshold once. Like,</p>\n<pre><code>public List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\n    Arrays.sort(candies);\n    int max = candies[candies.length - 1] - extraCandies;\n    List&lt;Boolean&gt; res = new ArrayList&lt;&gt;(candies.length);\n    for (int v : candies) {\n        res.add(v &gt; max);\n    }\n    return res;\n}\n</code></pre>\n"}],"owner":{"display_name":"user21285927"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690285061,"creation_date":1690283752,"question_id":76762156,"body_markdown":"    class Solution {\r\n        public List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\r\n    \r\n        Arrays.sort(candies);\r\n            int max =candies[candies.length-1];\r\n            List &lt;Boolean&gt; res = new ArrayList&lt;Boolean&gt;(candies.length);\r\n            for(int i =0;i&lt;candies.length;i++){\r\n                if(candies[i]+extraCandies &gt; max){\r\n                    res.set(i, true);\r\n                }\r\n               else{\r\n                   res.set(i,false);\r\n                }\r\n            }\r\n        return res;\r\n        }            \r\n     }\r\n\r\n\r\n\r\nI am getting an error of java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0. Can anyone suggest me where i am going wrong.","title":"java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0 when using lists","body":"<pre><code>class Solution {\n    public List&lt;Boolean&gt; kidsWithCandies(int[] candies, int extraCandies) {\n\n    Arrays.sort(candies);\n        int max =candies[candies.length-1];\n        List &lt;Boolean&gt; res = new ArrayList&lt;Boolean&gt;(candies.length);\n        for(int i =0;i&lt;candies.length;i++){\n            if(candies[i]+extraCandies &gt; max){\n                res.set(i, true);\n            }\n           else{\n               res.set(i,false);\n            }\n        }\n    return res;\n    }            \n }\n</code></pre>\n<p>I am getting an error of java.lang.IndexOutOfBoundsException: Index 0 out of bounds for length 0. Can anyone suggest me where i am going wrong.</p>\n"},{"tags":["java","inheritance","openapi"],"owner":{"account_id":3366819,"reputation":2646,"user_id":2827181,"display_name":"Marc Le Bihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690285008,"creation_date":1690259774,"question_id":76759484,"body_markdown":"To create a report of Financial Balances of Cities (shown at the bottom of the question), I&#39;m using classes that inherits each from the other:\r\n\r\n```java\r\n/** Comptes avec montant, montant par habitant, strate, taux vot&#233; et taux moyen strate. */\r\n@Schema(description = &quot;Comptes avec total, par habitant, moyenne strate, total r&#233;duction vot&#233;e, r&#233;duction par habitant, r&#233;duction moyenne strate&quot;, \r\n   allOf = ComptesAvecReductionVotee.class, \r\n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\r\npublic class ComptesAvecStrateEtTauxVoteEtStrate extends ComptesAvecTauxVote {\r\n   /** Moyenne de strate */\r\n   private Double moyenneStrate;\r\n\r\n   /** Taux de la strate */\r\n   private Double tauxStrate;\r\n   [...]\r\n```\r\n\r\nwith:\r\n\r\n```java\r\n/** Comptes avec montant, montant par habitant, taux vot&#233;. */\r\n@Schema(description = &quot;Comptes avec total, par habitant, total r&#233;duction vot&#233;e, r&#233;duction par habitant, r&#233;duction moyenne strate&quot;, \r\n   allOf = ComptesTotalOuBaseEtParHabitant.class,\r\n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\r\npublic class ComptesAvecTauxVote extends ComptesTotalOuBaseEtParHabitant {\r\n   /** Taux vot&#233; */\r\n   private Double tauxVote;\r\n   [...]\r\n```\r\n\r\nand:\r\n\r\n```java\r\n/** Forme de comptes individuels : comptes total ou base, et par habitant. */\r\n@Schema(description = &quot;Forme de comptes individuels : comptes total ou base, et par habitant&quot;,\r\n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\r\npublic class ComptesTotalOuBaseEtParHabitant implements Serializable {\r\n   /** Type de compte Individuel */\r\n   @Schema(description = &quot;Type de compte individuel&quot;, required = true)\r\n   private String typeCompteIndividuel = getClass().getSimpleName();\r\n\r\n   /** Montant total ou base */\r\n   private Double montant;\r\n\r\n   /** Montant par habitant */\r\n   private Double parHabitant;\r\n\r\n   /** Libell&#233; de l&#39;analyse apport&#233;e par cette ligne de comptes individuels. */\r\n   private String libelleAnalyse;\r\n\r\n   /**\r\n    * Renvoyer le type de compte Individuel\r\n    * @return Type de compte Individuel\r\n    */\r\n   public String getTypeCompteIndividuel() {\r\n      return this.typeCompteIndividuel;\r\n   }\r\n\r\n   /**\r\n    * Fixer le type de compte Individuel\r\n    * @param typeCompteIndividuel Type de compte Individuel\r\n    */\r\n   public void setTypeCompteIndividuel(String typeCompteIndividuel) {\r\n      this.typeCompteIndividuel = typeCompteIndividuel;\r\n   }\r\n   [...]\r\n```\r\n\r\nBecause an individual accounts of cities report have such repetitive structures, and individual accounts of local authorities, departments or regions also have them, sometimes with average calculations, sometimes not.  \r\n\r\nThese inherited classes make it convenient to do some calculations on the same basis.\r\n\r\nEverything is written in _Java_, as you can see. But, when I generate through `org.springdoc:springdoc-openapi-maven-plugin`, configured like this: \r\n\r\n```xml\r\n&lt;configuration&gt; \r\n   &lt;apiDocsUrl&gt;http://localhost:9090/v3/api-docs&lt;/apiDocsUrl&gt; \r\n   &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt; \r\n   &lt;outputDir&gt;target/openapi&lt;/outputDir&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nthe `openapi.json` file containing many classes of my application,\r\n\r\nand that a further project, being a client of it and written in _Java_ too, generates for its use the classes from that `openapi.json`, with `org.openapitools:openapi-generator-maven-plugin` configured this way:\r\n\r\n```xml\r\n&lt;configuration&gt;\r\n\t&lt;inputSpec&gt;${openapi}&lt;/inputSpec&gt;\r\n\t&lt;output&gt;target/generated-sources/swagger/java&lt;/output&gt;\r\n\r\n\t&lt;generatorName&gt;spring&lt;/generatorName&gt;\r\n\t&lt;modelPackage&gt;${client.base.package.name}.model&lt;/modelPackage&gt;\r\n\t&lt;apiPackage&gt;${client.base.package.name}.api&lt;/apiPackage&gt;\r\n\t&lt;invokerPackage&gt;${client.base.package.name}.invoker&lt;/invokerPackage&gt;\r\n\t&lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\r\n\r\n\t&lt;additionalProperties&gt;\r\n\t\t&lt;version&gt;1.0.0&lt;/version&gt;\r\n\t\t&lt;appVersion&gt;1.0.0&lt;/appVersion&gt;\r\n\t&lt;/additionalProperties&gt;\r\n\r\n\t&lt;configOptions&gt;\r\n\t\t&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\r\n\t\t&lt;artifactVersion&gt;${project.version}&lt;/artifactVersion&gt;\r\n\t\t&lt;oas3&gt;true&lt;/oas3&gt;\r\n\t&lt;/configOptions&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nthe inheritance of these classes isn&#39;t respected. Here&#39;s what is generated:\r\n\r\n```java\r\n@Schema(\r\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;,\r\n   description = &quot;Comptes avec total, par habitant, moyenne strate, total r&#233;duction vot&#233;e, r&#233;duction par habitant, r&#233;duction moyenne strate&quot;\r\n)\r\npublic class ComptesAvecStrateEtReductionVotee extends ComptesAvecReductionVotee {\r\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\r\n   private String typeCompteIndividuel;\r\n   @JsonProperty(&quot;montant&quot;)\r\n   private Double montant;\r\n   @JsonProperty(&quot;parHabitant&quot;)\r\n   private Double parHabitant;\r\n   @JsonProperty(&quot;libelleAnalyse&quot;)\r\n   private String libelleAnalyse;\r\n   @JsonProperty(&quot;reductionVotee&quot;)\r\n   private Double reductionVotee;\r\n   @JsonProperty(&quot;moyenneStrate&quot;)\r\n   private Double moyenneStrate;\r\n   @JsonProperty(&quot;reductionVoteeParHabitant&quot;)\r\n   private Double reductionVoteeParHabitant;\r\n   @JsonProperty(&quot;reductionVoteeMoyenneStrate&quot;)\r\n   private Double reductionVoteeMoyenneStrate;\r\n   [...]\r\n``` \r\n\r\n```java\r\n@Schema(\r\n   name = &quot;ComptesAvecReductionVotee&quot;,\r\n   description = &quot;Comptes avec total, par habitant, total r&#233;duction vot&#233;e, r&#233;duction par habitant, r&#233;duction moyenne strate&quot;\r\n)\r\n@JsonIgnoreProperties(\r\n   value = {&quot;typeCompteIndividuel&quot;},\r\n   allowSetters = true\r\n)\r\n@JsonTypeInfo(\r\n   use = Id.NAME,\r\n   include = As.PROPERTY,\r\n   property = &quot;typeCompteIndividuel&quot;,\r\n   visible = true\r\n)\r\n@JsonSubTypes({@Type(\r\n   value = ComptesAvecStrateEtReductionVotee.class,\r\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;\r\n)})\r\npublic class ComptesAvecReductionVotee extends ComptesTotalOuBaseEtParHabitant {\r\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\r\n   private String typeCompteIndividuel;\r\n   @JsonProperty(&quot;montant&quot;)\r\n   private Double montant;\r\n   @JsonProperty(&quot;parHabitant&quot;)\r\n   private Double parHabitant;\r\n   @JsonProperty(&quot;libelleAnalyse&quot;)\r\n   private String libelleAnalyse;\r\n   @JsonProperty(&quot;reductionVotee&quot;)\r\n   private Double reductionVotee;\r\n   [...]\r\n```\r\n\r\n```java\r\n@Schema(\r\n   name = &quot;ComptesTotalOuBaseEtParHabitant&quot;,\r\n   description = &quot;Forme de comptes individuels : comptes total ou base, et par habitant&quot;\r\n)\r\n@JsonIgnoreProperties(\r\n   value = {&quot;typeCompteIndividuel&quot;},\r\n   allowSetters = true\r\n)\r\n@JsonTypeInfo(\r\n   use = Id.NAME,\r\n   include = As.PROPERTY,\r\n   property = &quot;typeCompteIndividuel&quot;,\r\n   visible = true\r\n)\r\n@JsonSubTypes({@Type(\r\n   value = ComptesAvecReductionVotee.class,\r\n   name = &quot;ComptesAvecReductionVotee&quot;\r\n), @Type(\r\n   value = ComptesAvecStrateEtReductionVotee.class,\r\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;\r\n)})\r\npublic class ComptesTotalOuBaseEtParHabitant {\r\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\r\n   private String typeCompteIndividuel;\r\n   @JsonProperty(&quot;montant&quot;)\r\n   private Double montant;\r\n   @JsonProperty(&quot;parHabitant&quot;)\r\n   private Double parHabitant;\r\n   @JsonProperty(&quot;libelleAnalyse&quot;)\r\n   private String libelleAnalyse;\r\n   [...]\r\n```\r\n\r\nIt does only a part of what it should...\r\n\r\nOpenAPI wrote few classes having some `extends`, yes, but subclasses still duplicate the fields `typeCompteIndividuel`, `montant`, `parHabitant`, for example. This client compiles, but it isn&#39;t the way I&#39;m looking for, and I&#39;m in the middle of things.\r\n\r\n1. How do I define such discriminator in my POJO classes?  \r\nI&#39;ve attempted it, but it doesn&#39;t really work.\r\n\r\n2. And... Am I required to?  \r\nCan OpenAPI do that as boilerplate generation, like: \r\n\r\n   - using the class name for discriminator on generation from server classes \r\n   - and using it too for client classes?\r\n\r\nwithout I have any change to do in my POJO classes? Because adding a field in each able to inherit is cumbersome.\r\n\r\n---\r\n\r\nThe report that the inherited classes help to create (on the _Java_ server):\r\n\r\n```txt\r\nLibell&#233; du budget : Douarnenez\r\nPopulation l&#233;gale en vigueur au 1er janvier de l&#39;exercice : 14520\tBudget principal seul\r\nStrate : Strate commune&#160;: communes de 10 000 &#224; 20 000 hab\t\tType groupement&#160;d&#39;appartenance : appartenant &#224; un groupement fiscalis&#233; (FPU)\r\nExercice&#160;: 2019\t\tN&#176; de d&#233;partement&#160;: 29\t\tN&#176; insee de la commune&#160;: 29046\t\tN&#176; de r&#233;gion&#160;: 53\r\n\r\n\r\nANALYSE DES EQUILIBRES FINANCIERS FONDAMENTAUX\r\n\r\nEn milliers d&#39;Euros\tEuros par habitant\tMoyenne de la strate\tOPERATIONS DE FONCTIONNEMENT\tRatios de structure\tMoyenne de la strate (en %% des produits)\r\n\r\n\r\n\t\t\t\t\t\tOPERATIONS DE FONCTIONNEMENT\r\n\r\n     21442\t      1477\t      1354\tTOTAL DES PRODUITS DE FONCTIONNEMENT = A\t\t\ten % des produits CAF\r\n     21240\t      1463\t      1303\t\tPRODUITS DE FONCTIONNEMENT CAF\r\n     12379\t       853\t       563\t\t\tdont : Imp&#244;ts Locaux\t\t\t     58,28\t     43,19\r\n      1418\t        98\t       115\t\t\tAutres imp&#244;ts et taxes\t\t\t        nu\t      8,82\r\n      1794\t       124\t       177\t\t\tDotation globale de fonctionnement\t      8,44\t     13,57\r\n\r\n     20000\t      1377\t      1213\tTOTAL DES CHARGES DE FONCTIONNEMENT = B\t\t\t\ten % des charges CAF\r\n     18156\t      1250\t      1107\t\tCharges de fonctionnement CAF\r\n     11226\t       773\t       655\t\t\tdont : Charges de personnel\t\t     61,83\t     59,18\r\n      4493\t       309\t       272\t\t\tachats et charges externes\t\t     24,75\t     24,58\r\n       911\t        63\t        24\t\t\tCharges financi&#232;res\t\t\t      5,02\t      2,14\r\n       229\t        16\t        33\t\t\tContingents\t\t\t\t      1,26\t      2,98\r\n      1024\t        71\t        89\t\t\tSubventions vers&#233;es\t\t\t      5,64\t      8,02\r\n      1442\t        99\t       141\tR&#233;sultat comptable = A - B = R\r\n\r\n\r\n\t\t\t\t\t\tOPERATIONS D&#39;INVESTISSEMENT\r\n\r\n      7099\t       489\t       482\tTOTAL DES RESSOURCES D&#39;INVESTISSEMENT = C\t\t\ten % des ressources\r\n      1800\t       124\t        79\t\tdont : Emprunts bancaires et dettes assimil&#233;es\t     25,36\t     16,33\r\n       526\t        36\t        72\t\tSubventions re&#231;ues\t\t\t\t      7,42\t     14,84\r\n       450\t        31\t        40\t\tFonds de compensation de la TVA (FCTVA)\t\t      6,34\t      8,28\r\n         0\t         0\t         0\t\tRetour de biens affect&#233;s, conc&#233;d&#233;s, ...\t\t      0,00\t      0,00\r\n\r\n      6481\t       446\t       500\tTOTAL DES EMPLOIS D&#39;INVESTISSEMENT = D\t\t\t\ten % des emplois\r\n      4515\t       311\t       376\t\tdont : D&#233;penses d&#39;&#233;quipement\t\t\t     69,66\t     75,37\r\n      1926\t       133\t        86\t\tRemboursement d&#39;emprunts et dettes assimil&#233;es\t     29,72\t     17,18\r\n         0\t         0\t         1\t\tCharges &#224; r&#233;partir\t\t\t\t      0,00\t      0,11\r\n         0\t         0\t         0\t\tImmobilisations affect&#233;es, conc&#233;d&#233;es, ...\t      0,00\t      0,00\r\n\r\n      -618\t       -43\t        17\tBesoin ou capacit&#233; de financement r&#233;siduel de la section d&#39;investissement = D - C\r\n         0\t         0\t         1\t+ Solde des op&#233;rations pour le compte de tiers\r\n      -617\t       -43\t        18\tBesoin ou capacit&#233; de financement de la section d&#39;investissement = E\r\n      2059\t       142\t       123\tR&#233;sultat d&#39;ensemble = R - E\r\n\r\n\r\n\t\t\t\t\t\tAUTOFINANCEMENT\t\t\t\t\t\t\ten % des produits CAF\r\n\r\n      3855\t       266\t       214\tExc&#233;dent brut de fonctionnement\t\t\t\t     18,15\t     16,43\r\n      3084\t       212\t       196\tCapacit&#233; d&#39;autofinancement = CAF\t\t\t     14,52\t     15,01\r\n      1158\t        80\t       110\tCAF nette du remboursement en capital des emprunts\t      5,45\t      8,43\r\n\r\n\t\t\t\t\t\tENDETTEMENT\t\t\t\t\t\t\ten % des produits CAF\r\n     25092\t      1728\t       850\tEncours total de la dette au 31 d&#233;cembre N\t\t    118,13\t     65,23\r\n     25092\t      1728\t       837\tEncours des dettes bancaires et assimil&#233;es\t\t    118,13\t     64,27\r\n     25064\t      1726\t       828\tEncours des dettes bancaires net de l&#39;aide du fonds de soutien pour la sortie des emprunts toxiques\t    118,00\t     63,52\r\n      2837\t       195\t       108\tAnnuit&#233; de la dette\t\t\t\t\t     13,36\t      8,28\r\n      1516\t       104\t       286\tFONDS DE ROULEMENT\r\n\r\n\r\n\t\t\t\t\t\tELEMENTS DE FISCALITE DIRECTE LOCALE\r\nLes bases impos&#233;es et les r&#233;ductions (exon&#233;rations, abattements) accord&#233;es sur d&#233;lib&#233;rations\r\nBases nettes impos&#233;es au profit de la commune               Taxe\t\t\t\t\tR&#233;ductions de base accord&#233;es sur d&#233;lib&#233;rations\r\nEn milliers d&#39;Euros  Euros par habitant\t\tMoyenne de la strate\t\t\tEn milliers d&#39;Euros     Euros par habitant   Moyenne de la strate\r\n     25249\t      1739\t      1441\tTaxe d&#39;habitation (y compris THLV)\t\t\t      2142\t       148\t       116\r\n     23211\t      1599\t      1384\tTaxe fonci&#232;re sur les propri&#233;t&#233;s b&#226;ties\t\t\t         0\t         0\t         1\r\n       177\t        12\t        11\tTaxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\t\t         0\t         0\t         0\r\n         0\t         0\t         0\tTaxe additionnelle &#224; la taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\r\n         0\t         0\t         0\tCotisation fonci&#232;re des entreprises\t\t\t         0\t         0\t         0\r\n\r\nLes taux et les produits de la fiscalit&#233; directe locale\r\nProduits des imp&#244;ts locaux            Taxe\t\t\t\t\t\t\t\tTaux vot&#233; (%)\tTaux moyen de la strate (%)\r\n      6133\t       422\t       240\tTaxe d&#39;habitation (y compris THLV)\t\t\t     24,27\t     16,66\r\n      6135\t       423\t       313\tTaxe fonci&#232;re sur les propri&#233;t&#233;s b&#226;ties\t\t\t     26,38\t     22,58\r\n       116\t         8\t         6\tTaxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\t\t     65,39\t     53,69\r\n         0\t         0\t         0\tTaxe additionnelle &#224; la taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\t\t      0,00\t      0,00\r\n         0\t         0\t         0\tCotisation fonci&#232;re des entreprises\t\t\t      0,00\t      0,00\r\n\r\nLes produits des imp&#244;ts de r&#233;partition\r\nProduits des imp&#244;ts de r&#233;partition      Taxe\r\n         0\t         0\t         0\tCotisation sur la valeur ajout&#233;e des entreprises\r\n         0\t         0\t         0\tImposition forfaitaire sur les entreprises de r&#233;seau\r\n         0\t         0\t         0\tTaxe sur les surfaces commerciales\r\n```\r\n\r\n---\r\n\r\nWhat _OpenAPI_ REST service call currently respond, if a client calls it:\r\n\r\n```json\r\n{\r\n  &quot;anneeExercice&quot;: 2019,\r\n  &quot;population&quot;: 14520,\r\n  &quot;siren&quot;: &quot;212900468&quot;,\r\n  &quot;code&quot;: &quot;29046&quot;,\r\n  &quot;nom&quot;: &quot;Douarnenez&quot;,\r\n  &quot;produitsDeFonctionnement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 21441.85,\r\n    &quot;parHabitant&quot;: 1476.71,\r\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES PRODUITS DE FONCTIONNEMENT = A\\t\\t\\ten % des produits CAF&quot;,\r\n    &quot;moyenneStrate&quot;: 1354.49\r\n  },\r\n  &quot;produitsDeFonctionnementCAF&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 21240.31,\r\n    &quot;parHabitant&quot;: 1462.83,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tPRODUITS DE FONCTIONNEMENT CAF&quot;,\r\n    &quot;moyenneStrate&quot;: 1302.89\r\n  },\r\n  &quot;produitsDeFonctionnementCAFImpotsLocaux&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 12378.83,\r\n    &quot;parHabitant&quot;: 852.54,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tdont : Imp&#244;ts Locaux\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 58.28,\r\n    &quot;moyenneStrate&quot;: 562.74,\r\n    &quot;ratioStrate&quot;: 43.19\r\n  },\r\n  &quot;produitsDeFonctionnementCAFAutresImpotsEtTaxes&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 1417.63,\r\n    &quot;parHabitant&quot;: 97.63,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tAutres imp&#244;ts et taxes\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: null,\r\n    &quot;moyenneStrate&quot;: 114.91,\r\n    &quot;ratioStrate&quot;: 8.82\r\n  },\r\n  &quot;produitsDeFonctionnementCAFDGF&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 1793.63,\r\n    &quot;parHabitant&quot;: 123.53,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tDotation globale de fonctionnement&quot;,\r\n    &quot;ratioStructure&quot;: 8.44,\r\n    &quot;moyenneStrate&quot;: 176.8,\r\n    &quot;ratioStrate&quot;: 13.57\r\n  },\r\n  &quot;chargesDeFonctionnement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 19999.67,\r\n    &quot;parHabitant&quot;: 1377.39,\r\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES CHARGES DE FONCTIONNEMENT = B\\t\\t\\t\\ten % des charges CAF&quot;,\r\n    &quot;moyenneStrate&quot;: 1213.14\r\n  },\r\n  &quot;chargesDeFonctionnementCAF&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 18156.46,\r\n    &quot;parHabitant&quot;: 1250.44,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tCharges de fonctionnement CAF&quot;,\r\n    &quot;moyenneStrate&quot;: 1107.32\r\n  },\r\n  &quot;chargesDeFonctionnementCAFChargesDePersonnel&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 11226.09,\r\n    &quot;parHabitant&quot;: 773.15,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tdont : Charges de personnel\\t&quot;,\r\n    &quot;ratioStructure&quot;: 61.83,\r\n    &quot;moyenneStrate&quot;: 655.33,\r\n    &quot;ratioStrate&quot;: 59.18\r\n  },\r\n  &quot;chargesDeFonctionnementCAFAchatsEtChargesExternes&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 4493.45,\r\n    &quot;parHabitant&quot;: 309.47,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tachats et charges externes\\t&quot;,\r\n    &quot;ratioStructure&quot;: 24.75,\r\n    &quot;moyenneStrate&quot;: 272.19,\r\n    &quot;ratioStrate&quot;: 24.58\r\n  },\r\n  &quot;chargesDeFonctionnementCAFChargesFinancieres&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 910.77,\r\n    &quot;parHabitant&quot;: 62.73,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tCharges financi&#232;res\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 5.02,\r\n    &quot;moyenneStrate&quot;: 23.73,\r\n    &quot;ratioStrate&quot;: 2.14\r\n  },\r\n  &quot;chargesDeFonctionnementCAFSubventionsVersees&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 1024.37,\r\n    &quot;parHabitant&quot;: 70.55,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tSubventions vers&#233;es\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 5.64,\r\n    &quot;moyenneStrate&quot;: 88.79,\r\n    &quot;ratioStrate&quot;: 8.02\r\n  },\r\n  &quot;resultatComptable&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 1442.19,\r\n    &quot;parHabitant&quot;: 99.32,\r\n    &quot;libelleAnalyse&quot;: &quot;R&#233;sultat comptable = A - B = R&quot;,\r\n    &quot;moyenneStrate&quot;: 141.35\r\n  },\r\n  &quot;ressourcesInvestissement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 7099.06,\r\n    &quot;parHabitant&quot;: 488.92,\r\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES RESSOURCES D&#39;INVESTISSEMENT = C\\t\\t\\ten % des ressources&quot;,\r\n    &quot;moyenneStrate&quot;: 482.4\r\n  },\r\n  &quot;ressourcesInvestissementEmpruntsBancairesDettesAssimilees&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 1800,\r\n    &quot;parHabitant&quot;: 123.97,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tdont : Emprunts bancaires et dettes assimil&#233;es&quot;,\r\n    &quot;ratioStructure&quot;: 25.36,\r\n    &quot;moyenneStrate&quot;: 78.77,\r\n    &quot;ratioStrate&quot;: 16.33\r\n  },\r\n  &quot;ressourcesInvestissementSubventionsRecues&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 526.43,\r\n    &quot;parHabitant&quot;: 36.26,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tSubventions re&#231;ues\\t\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 7.42,\r\n    &quot;moyenneStrate&quot;: 71.58,\r\n    &quot;ratioStrate&quot;: 14.84\r\n  },\r\n  &quot;ressourcesInvestissementFCTVA&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 450.22,\r\n    &quot;parHabitant&quot;: 31.01,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tFonds de compensation de la TVA (FCTVA)\\t&quot;,\r\n    &quot;ratioStructure&quot;: 6.34,\r\n    &quot;moyenneStrate&quot;: 39.93,\r\n    &quot;ratioStrate&quot;: 8.28\r\n  },\r\n  &quot;emploisInvestissement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 6481.48,\r\n    &quot;parHabitant&quot;: 446.38,\r\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES EMPLOIS D&#39;INVESTISSEMENT = D\\t\\t\\t\\ten % des emplois&quot;,\r\n    &quot;moyenneStrate&quot;: 499.52\r\n  },\r\n  &quot;emploisInvestissementDepensesEquipement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 4514.68,\r\n    &quot;parHabitant&quot;: 310.93,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tdont : D&#233;penses d&#39;&#233;quipement\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 69.66,\r\n    &quot;moyenneStrate&quot;: 376.48,\r\n    &quot;ratioStrate&quot;: 75.37\r\n  },\r\n  &quot;emploisInvestissementRemboursementEmpruntsDettesAssimilees&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 1926.02,\r\n    &quot;parHabitant&quot;: 132.65,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tRemboursement d&#39;emprunts et dettes assimil&#233;es&quot;,\r\n    &quot;ratioStructure&quot;: 29.72,\r\n    &quot;moyenneStrate&quot;: 85.8,\r\n    &quot;ratioStrate&quot;: 17.18\r\n  },\r\n  &quot;autoFinancementCAF&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 3083.85,\r\n    &quot;parHabitant&quot;: 212.39,\r\n    &quot;libelleAnalyse&quot;: &quot;Capacit&#233; d&#39;autofinancement = CAF\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 14.52,\r\n    &quot;moyenneStrate&quot;: 195.58,\r\n    &quot;ratioStrate&quot;: 15.01\r\n  },\r\n\r\n  &quot;endettementEncoursDetteBancaireNetteSoutienSortieEmpruntsToxiques&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 25064.14,\r\n    &quot;parHabitant&quot;: 1726.18,\r\n    &quot;libelleAnalyse&quot;: &quot;Encours des dettes bancaires net de l&#39;aide du fonds de soutien pour la sortie des emprunts toxiques&quot;,\r\n    &quot;ratioStructure&quot;: 118,\r\n    &quot;moyenneStrate&quot;: 827.62,\r\n    &quot;ratioStrate&quot;: 63.52\r\n  },\r\n  &quot;endettementAnnuiteDette&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 2836.79,\r\n    &quot;parHabitant&quot;: 195.37,\r\n    &quot;libelleAnalyse&quot;: &quot;Annuit&#233; de la dette\\t\\t\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 13.36,\r\n    &quot;moyenneStrate&quot;: 107.83,\r\n    &quot;ratioStrate&quot;: 8.28\r\n  },\r\n  &quot;fiscLocalBaseNetteTaxeHabitation&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\r\n    &quot;montant&quot;: 25248.77,\r\n    &quot;parHabitant&quot;: 1738.9,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe d&#39;habitation (y compris THLV)\\t\\t&quot;,\r\n    &quot;reductionVotee&quot;: 2142.17,\r\n    &quot;moyenneStrate&quot;: 1441.29,\r\n    &quot;reductionVoteeParHabitant&quot;: 147.53,\r\n    &quot;reductionVoteeMoyenneStrate&quot;: 116.45\r\n  },\r\n  &quot;fiscLocalBaseNetteTaxeFonciereProprietesBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\r\n    &quot;montant&quot;: 23211.43,\r\n    &quot;parHabitant&quot;: 1598.58,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe fonci&#232;re sur les propri&#233;t&#233;s b&#226;ties\\t\\t&quot;,\r\n    &quot;reductionVotee&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 1384.36,\r\n    &quot;reductionVoteeParHabitant&quot;: 0,\r\n    &quot;reductionVoteeMoyenneStrate&quot;: 0.86\r\n  },\r\n  &quot;fiscLocalBaseNetteTaxeFonciereProprietesNonBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\r\n    &quot;montant&quot;: 177.14,\r\n    &quot;parHabitant&quot;: 12.2,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\\t&quot;,\r\n    &quot;reductionVotee&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 10.59,\r\n    &quot;reductionVoteeParHabitant&quot;: 0,\r\n    &quot;reductionVoteeMoyenneStrate&quot;: 0.02\r\n  },\r\n  &quot;fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe additionnelle &#224; la taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties&quot;,\r\n    &quot;moyenneStrate&quot;: 0\r\n  },\r\n  &quot;fiscLocalBaseNetteCotisationFonciereEntreprises&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Cotisation fonci&#232;re des entreprises\\t\\t&quot;,\r\n    &quot;reductionVotee&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0,\r\n    &quot;reductionVoteeParHabitant&quot;: 0,\r\n    &quot;reductionVoteeMoyenneStrate&quot;: 0\r\n  },\r\n  &quot;impotsLocauxTaxeHabitation&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\r\n    &quot;montant&quot;: 6133.04,\r\n    &quot;parHabitant&quot;: 422.39,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe d&#39;habitation (y compris THLV)\\t\\t&quot;,\r\n    &quot;tauxVote&quot;: 24.27,\r\n    &quot;moyenneStrate&quot;: 240.18,\r\n    &quot;tauxStrate&quot;: 16.66\r\n  },\r\n  &quot;impotsLocauxTaxeFonciereProprietesBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\r\n    &quot;montant&quot;: 6135.35,\r\n    &quot;parHabitant&quot;: 422.54,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe fonci&#232;re sur les propri&#233;t&#233;s b&#226;ties\\t\\t&quot;,\r\n    &quot;tauxVote&quot;: 26.38,\r\n    &quot;moyenneStrate&quot;: 312.61,\r\n    &quot;tauxStrate&quot;: 22.58\r\n  },\r\n  &quot;impotsLocauxTaxeFonciereProprietesNonBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\r\n    &quot;montant&quot;: 115.92,\r\n    &quot;parHabitant&quot;: 7.98,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\\t&quot;,\r\n    &quot;tauxVote&quot;: 65.39,\r\n    &quot;moyenneStrate&quot;: 5.69,\r\n    &quot;tauxStrate&quot;: 53.69\r\n  },\r\n  &quot;impotsLocauxCotisationFonciereEntreprises&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Cotisation fonci&#232;re des entreprises\\t\\t&quot;,\r\n    &quot;tauxVote&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0,\r\n    &quot;tauxStrate&quot;: 0\r\n  },\r\n  &quot;impotsLocauxTaxeAdditionnelleFonciereProprietesNonBaties&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe additionnelle &#224; la taxe fonci&#232;re sur les propri&#233;t&#233;s non b&#226;ties\\t&quot;,\r\n    &quot;tauxVote&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0,\r\n    &quot;tauxStrate&quot;: 0\r\n  },\r\n  &quot;produitsImpotsRepartitionCotisationValeurAjouteeEntreprises&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Cotisation sur la valeur ajout&#233;e des entreprises&quot;,\r\n    &quot;moyenneStrate&quot;: 0\r\n  },\r\n  &quot;produitsImpotsRepartitionImpositionForfaitaireEntreprisesReseau&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Imposition forfaitaire sur les entreprises de r&#233;seau&quot;,\r\n    &quot;moyenneStrate&quot;: 0\r\n  },\r\n  &quot;produitsImpotsRepartitionTaxeSurfacesCommerciales&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;Taxe sur les surfaces commerciales&quot;,\r\n    &quot;moyenneStrate&quot;: 0\r\n  },\r\n  &quot;ratiosNiveauxEtStructure&quot;: {\r\n    &quot;annulationLogique&quot;: false,\r\n    &quot;capaciteDesendettement&quot;: 8.136469024109473,\r\n    &quot;depensesReellesFonctionnementSurPopulation&quot;: null\r\n  },\r\n  &quot;codeRegion&quot;: &quot;53&quot;,\r\n  &quot;codeDepartement&quot;: &quot;29&quot;,\r\n  &quot;typeGroupementAppartenance&quot;: &quot;appartenant &#224; un groupement fiscalis&#233; (FPU)&quot;,\r\n  &quot;libelleStrateCommune&quot;: &quot;communes de 10 000 &#224; 20 000 hab&quot;,\r\n  &quot;chargesDeFonctionnementCAFContingents&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 228.89,\r\n    &quot;parHabitant&quot;: 15.76,\r\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tContingents\\t\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 1.26,\r\n    &quot;moyenneStrate&quot;: 33.02,\r\n    &quot;ratioStrate&quot;: 2.98\r\n  },\r\n  &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tRetour de biens affect&#233;s, conc&#233;d&#233;s, ...\\t&quot;,\r\n    &quot;ratioStructure&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0,\r\n    &quot;ratioStrate&quot;: 0\r\n  },\r\n  &quot;emploisInvestissementChargesARepartir&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tCharges &#224; r&#233;partir\\t\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0.53,\r\n    &quot;ratioStrate&quot;: 0.11\r\n  },\r\n  &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 0,\r\n    &quot;parHabitant&quot;: 0,\r\n    &quot;libelleAnalyse&quot;: &quot;\\tImmobilisations affect&#233;es, conc&#233;d&#233;es, ...&quot;,\r\n    &quot;ratioStructure&quot;: 0,\r\n    &quot;moyenneStrate&quot;: 0,\r\n    &quot;ratioStrate&quot;: 0\r\n  },\r\n  &quot;autoFinancementExcedentBrutDeFonctionnement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\r\n    &quot;montant&quot;: 3855,\r\n    &quot;parHabitant&quot;: 265.5,\r\n    &quot;libelleAnalyse&quot;: &quot;Exc&#233;dent brut de fonctionnement\\t\\t\\t&quot;,\r\n    &quot;ratioStructure&quot;: 18.15,\r\n    &quot;moyenneStrate&quot;: 214.1,\r\n    &quot;ratioStrate&quot;: 16.43\r\n  },\r\n  &quot;endettementFondsDeRoulement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 1516.15,\r\n    &quot;parHabitant&quot;: 104.42,\r\n    &quot;libelleAnalyse&quot;: &quot;FONDS DE ROULEMENT&quot;,\r\n    &quot;moyenneStrate&quot;: 285.78\r\n  },\r\n  &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: -617.58,\r\n    &quot;parHabitant&quot;: -42.53,\r\n    &quot;libelleAnalyse&quot;: &quot;Besoin ou capacit&#233; de financement r&#233;siduel de la section d&#39;investissement = D - C&quot;,\r\n    &quot;moyenneStrate&quot;: 17.12\r\n  },\r\n  &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 0.28,\r\n    &quot;parHabitant&quot;: 0.02,\r\n    &quot;libelleAnalyse&quot;: &quot;+ Solde des op&#233;rations pour le compte de tiers&quot;,\r\n    &quot;moyenneStrate&quot;: 0.86\r\n  },\r\n  &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: -617.3,\r\n    &quot;parHabitant&quot;: -42.51,\r\n    &quot;libelleAnalyse&quot;: &quot;Besoin ou capacit&#233; de financement de la section d&#39;investissement = E&quot;,\r\n    &quot;moyenneStrate&quot;: 17.98\r\n  },\r\n  &quot;operationsInvestissementResultatEnsemble&quot;: {\r\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\r\n    &quot;montant&quot;: 2059.49,\r\n    &quot;parHabitant&quot;: 141.84,\r\n    &quot;libelleAnalyse&quot;: &quot;R&#233;sultat d&#39;ensemble = R - E&quot;,\r\n    &quot;moyenneStrate&quot;: 123.37\r\n  },\r\n  &quot;codeCommune&quot;: &quot;29046&quot;,\r\n  &quot;nomCommune&quot;: &quot;Douarnenez&quot;,\r\n  &quot;sirenCommune&quot;: &quot;212900468&quot;,\r\n  &quot;populationCommune&quot;: 14520\r\n}\r\n```\r\n\r\n(It&#39;s the output of a container class, `ComptesIndividuelsCommune`, holding the classes I&#39;ve described, and starting that way:\r\n\r\n```java\r\npublic class ComptesIndividuelsCommune {\r\n   @JsonProperty(&quot;anneeExercice&quot;)\r\n   private Integer anneeExercice;\r\n\r\n   @JsonProperty(&quot;population&quot;)\r\n   private Integer population;\r\n\r\n   @JsonProperty(&quot;siren&quot;)\r\n   private String siren;\r\n\r\n   @JsonProperty(&quot;code&quot;)\r\n   private String code;\r\n\r\n   @JsonProperty(&quot;nom&quot;)\r\n   private String nom;\r\n\r\n   @JsonProperty(&quot;produitsDeFonctionnement&quot;)\r\n   private ComptesAvecMoyenneStrate produitsDeFonctionnement;\r\n\r\n   [...]\r\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeHabitation&quot;)\r\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteTaxeHabitation;\r\n\r\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeFonciereProprietesBaties&quot;)\r\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteTaxeFonciereProprietesBaties;\r\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties&quot;)\r\n   private ComptesAvecMoyenneStrate fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties;\r\n\r\n   @JsonProperty(&quot;fiscLocalBaseNetteCotisationFonciereEntreprises&quot;)\r\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteCotisationFonciereEntreprises;\r\n   [...])\r\n```","title":"Java inheriting POJO classes -&gt; OpenAPI generator -&gt; openapi.json. Then: openapi.json -&gt; OpenAPI generation of Java client classes -&gt; inheritance lost","body":"<p>To create a report of Financial Balances of Cities (shown at the bottom of the question), I'm using classes that inherits each from the other:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Comptes avec montant, montant par habitant, strate, taux voté et taux moyen strate. */\n@Schema(description = &quot;Comptes avec total, par habitant, moyenne strate, total réduction votée, réduction par habitant, réduction moyenne strate&quot;, \n   allOf = ComptesAvecReductionVotee.class, \n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\npublic class ComptesAvecStrateEtTauxVoteEtStrate extends ComptesAvecTauxVote {\n   /** Moyenne de strate */\n   private Double moyenneStrate;\n\n   /** Taux de la strate */\n   private Double tauxStrate;\n   [...]\n</code></pre>\n<p>with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Comptes avec montant, montant par habitant, taux voté. */\n@Schema(description = &quot;Comptes avec total, par habitant, total réduction votée, réduction par habitant, réduction moyenne strate&quot;, \n   allOf = ComptesTotalOuBaseEtParHabitant.class,\n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\npublic class ComptesAvecTauxVote extends ComptesTotalOuBaseEtParHabitant {\n   /** Taux voté */\n   private Double tauxVote;\n   [...]\n</code></pre>\n<p>and:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/** Forme de comptes individuels : comptes total ou base, et par habitant. */\n@Schema(description = &quot;Forme de comptes individuels : comptes total ou base, et par habitant&quot;,\n   discriminatorProperty = &quot;typeCompteIndividuel&quot;)\npublic class ComptesTotalOuBaseEtParHabitant implements Serializable {\n   /** Type de compte Individuel */\n   @Schema(description = &quot;Type de compte individuel&quot;, required = true)\n   private String typeCompteIndividuel = getClass().getSimpleName();\n\n   /** Montant total ou base */\n   private Double montant;\n\n   /** Montant par habitant */\n   private Double parHabitant;\n\n   /** Libellé de l'analyse apportée par cette ligne de comptes individuels. */\n   private String libelleAnalyse;\n\n   /**\n    * Renvoyer le type de compte Individuel\n    * @return Type de compte Individuel\n    */\n   public String getTypeCompteIndividuel() {\n      return this.typeCompteIndividuel;\n   }\n\n   /**\n    * Fixer le type de compte Individuel\n    * @param typeCompteIndividuel Type de compte Individuel\n    */\n   public void setTypeCompteIndividuel(String typeCompteIndividuel) {\n      this.typeCompteIndividuel = typeCompteIndividuel;\n   }\n   [...]\n</code></pre>\n<p>Because an individual accounts of cities report have such repetitive structures, and individual accounts of local authorities, departments or regions also have them, sometimes with average calculations, sometimes not.</p>\n<p>These inherited classes make it convenient to do some calculations on the same basis.</p>\n<p>Everything is written in <em>Java</em>, as you can see. But, when I generate through <code>org.springdoc:springdoc-openapi-maven-plugin</code>, configured like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt; \n   &lt;apiDocsUrl&gt;http://localhost:9090/v3/api-docs&lt;/apiDocsUrl&gt; \n   &lt;outputFileName&gt;openapi.json&lt;/outputFileName&gt; \n   &lt;outputDir&gt;target/openapi&lt;/outputDir&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>the <code>openapi.json</code> file containing many classes of my application,</p>\n<p>and that a further project, being a client of it and written in <em>Java</em> too, generates for its use the classes from that <code>openapi.json</code>, with <code>org.openapitools:openapi-generator-maven-plugin</code> configured this way:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;inputSpec&gt;${openapi}&lt;/inputSpec&gt;\n    &lt;output&gt;target/generated-sources/swagger/java&lt;/output&gt;\n\n    &lt;generatorName&gt;spring&lt;/generatorName&gt;\n    &lt;modelPackage&gt;${client.base.package.name}.model&lt;/modelPackage&gt;\n    &lt;apiPackage&gt;${client.base.package.name}.api&lt;/apiPackage&gt;\n    &lt;invokerPackage&gt;${client.base.package.name}.invoker&lt;/invokerPackage&gt;\n    &lt;skipValidateSpec&gt;true&lt;/skipValidateSpec&gt;\n\n    &lt;additionalProperties&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;appVersion&gt;1.0.0&lt;/appVersion&gt;\n    &lt;/additionalProperties&gt;\n\n    &lt;configOptions&gt;\n        &lt;groupId&gt;${project.groupId}&lt;/groupId&gt;\n        &lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;\n        &lt;artifactVersion&gt;${project.version}&lt;/artifactVersion&gt;\n        &lt;oas3&gt;true&lt;/oas3&gt;\n    &lt;/configOptions&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>the inheritance of these classes isn't respected. Here's what is generated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;,\n   description = &quot;Comptes avec total, par habitant, moyenne strate, total réduction votée, réduction par habitant, réduction moyenne strate&quot;\n)\npublic class ComptesAvecStrateEtReductionVotee extends ComptesAvecReductionVotee {\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\n   private String typeCompteIndividuel;\n   @JsonProperty(&quot;montant&quot;)\n   private Double montant;\n   @JsonProperty(&quot;parHabitant&quot;)\n   private Double parHabitant;\n   @JsonProperty(&quot;libelleAnalyse&quot;)\n   private String libelleAnalyse;\n   @JsonProperty(&quot;reductionVotee&quot;)\n   private Double reductionVotee;\n   @JsonProperty(&quot;moyenneStrate&quot;)\n   private Double moyenneStrate;\n   @JsonProperty(&quot;reductionVoteeParHabitant&quot;)\n   private Double reductionVoteeParHabitant;\n   @JsonProperty(&quot;reductionVoteeMoyenneStrate&quot;)\n   private Double reductionVoteeMoyenneStrate;\n   [...]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(\n   name = &quot;ComptesAvecReductionVotee&quot;,\n   description = &quot;Comptes avec total, par habitant, total réduction votée, réduction par habitant, réduction moyenne strate&quot;\n)\n@JsonIgnoreProperties(\n   value = {&quot;typeCompteIndividuel&quot;},\n   allowSetters = true\n)\n@JsonTypeInfo(\n   use = Id.NAME,\n   include = As.PROPERTY,\n   property = &quot;typeCompteIndividuel&quot;,\n   visible = true\n)\n@JsonSubTypes({@Type(\n   value = ComptesAvecStrateEtReductionVotee.class,\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;\n)})\npublic class ComptesAvecReductionVotee extends ComptesTotalOuBaseEtParHabitant {\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\n   private String typeCompteIndividuel;\n   @JsonProperty(&quot;montant&quot;)\n   private Double montant;\n   @JsonProperty(&quot;parHabitant&quot;)\n   private Double parHabitant;\n   @JsonProperty(&quot;libelleAnalyse&quot;)\n   private String libelleAnalyse;\n   @JsonProperty(&quot;reductionVotee&quot;)\n   private Double reductionVotee;\n   [...]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Schema(\n   name = &quot;ComptesTotalOuBaseEtParHabitant&quot;,\n   description = &quot;Forme de comptes individuels : comptes total ou base, et par habitant&quot;\n)\n@JsonIgnoreProperties(\n   value = {&quot;typeCompteIndividuel&quot;},\n   allowSetters = true\n)\n@JsonTypeInfo(\n   use = Id.NAME,\n   include = As.PROPERTY,\n   property = &quot;typeCompteIndividuel&quot;,\n   visible = true\n)\n@JsonSubTypes({@Type(\n   value = ComptesAvecReductionVotee.class,\n   name = &quot;ComptesAvecReductionVotee&quot;\n), @Type(\n   value = ComptesAvecStrateEtReductionVotee.class,\n   name = &quot;ComptesAvecStrateEtReductionVotee&quot;\n)})\npublic class ComptesTotalOuBaseEtParHabitant {\n   @JsonProperty(&quot;typeCompteIndividuel&quot;)\n   private String typeCompteIndividuel;\n   @JsonProperty(&quot;montant&quot;)\n   private Double montant;\n   @JsonProperty(&quot;parHabitant&quot;)\n   private Double parHabitant;\n   @JsonProperty(&quot;libelleAnalyse&quot;)\n   private String libelleAnalyse;\n   [...]\n</code></pre>\n<p>It does only a part of what it should...</p>\n<p>OpenAPI wrote few classes having some <code>extends</code>, yes, but subclasses still duplicate the fields <code>typeCompteIndividuel</code>, <code>montant</code>, <code>parHabitant</code>, for example. This client compiles, but it isn't the way I'm looking for, and I'm in the middle of things.</p>\n<ol>\n<li><p>How do I define such discriminator in my POJO classes?<br />\nI've attempted it, but it doesn't really work.</p>\n</li>\n<li><p>And... Am I required to?<br />\nCan OpenAPI do that as boilerplate generation, like:</p>\n<ul>\n<li>using the class name for discriminator on generation from server classes</li>\n<li>and using it too for client classes?</li>\n</ul>\n</li>\n</ol>\n<p>without I have any change to do in my POJO classes? Because adding a field in each able to inherit is cumbersome.</p>\n<hr />\n<p>The report that the inherited classes help to create (on the <em>Java</em> server):</p>\n<pre><code>Libellé du budget : Douarnenez\nPopulation légale en vigueur au 1er janvier de l'exercice : 14520   Budget principal seul\nStrate : Strate commune : communes de 10 000 à 20 000 hab       Type groupement d'appartenance : appartenant à un groupement fiscalisé (FPU)\nExercice : 2019     N° de département : 29      N° insee de la commune : 29046      N° de région : 53\n\n\nANALYSE DES EQUILIBRES FINANCIERS FONDAMENTAUX\n\nEn milliers d'Euros Euros par habitant  Moyenne de la strate    OPERATIONS DE FONCTIONNEMENT    Ratios de structure Moyenne de la strate (en %% des produits)\n\n\n                        OPERATIONS DE FONCTIONNEMENT\n\n     21442        1477        1354  TOTAL DES PRODUITS DE FONCTIONNEMENT = A            en % des produits CAF\n     21240        1463        1303      PRODUITS DE FONCTIONNEMENT CAF\n     12379         853         563          dont : Impôts Locaux                 58,28       43,19\n      1418          98         115          Autres impôts et taxes                  nu        8,82\n      1794         124         177          Dotation globale de fonctionnement        8,44       13,57\n\n     20000        1377        1213  TOTAL DES CHARGES DE FONCTIONNEMENT = B             en % des charges CAF\n     18156        1250        1107      Charges de fonctionnement CAF\n     11226         773         655          dont : Charges de personnel          61,83       59,18\n      4493         309         272          achats et charges externes           24,75       24,58\n       911          63          24          Charges financières               5,02        2,14\n       229          16          33          Contingents                   1,26        2,98\n      1024          71          89          Subventions versées               5,64        8,02\n      1442          99         141  Résultat comptable = A - B = R\n\n\n                        OPERATIONS D'INVESTISSEMENT\n\n      7099         489         482  TOTAL DES RESSOURCES D'INVESTISSEMENT = C           en % des ressources\n      1800         124          79      dont : Emprunts bancaires et dettes assimilées       25,36       16,33\n       526          36          72      Subventions reçues                    7,42       14,84\n       450          31          40      Fonds de compensation de la TVA (FCTVA)           6,34        8,28\n         0           0           0      Retour de biens affectés, concédés, ...           0,00        0,00\n\n      6481         446         500  TOTAL DES EMPLOIS D'INVESTISSEMENT = D              en % des emplois\n      4515         311         376      dont : Dépenses d'équipement                 69,66       75,37\n      1926         133          86      Remboursement d'emprunts et dettes assimilées        29,72       17,18\n         0           0           1      Charges à répartir                    0,00        0,11\n         0           0           0      Immobilisations affectées, concédées, ...         0,00        0,00\n\n      -618         -43          17  Besoin ou capacité de financement résiduel de la section d'investissement = D - C\n         0           0           1  + Solde des opérations pour le compte de tiers\n      -617         -43          18  Besoin ou capacité de financement de la section d'investissement = E\n      2059         142         123  Résultat d'ensemble = R - E\n\n\n                        AUTOFINANCEMENT                         en % des produits CAF\n\n      3855         266         214  Excédent brut de fonctionnement                  18,15       16,43\n      3084         212         196  Capacité d'autofinancement = CAF                 14,52       15,01\n      1158          80         110  CAF nette du remboursement en capital des emprunts        5,45        8,43\n\n                        ENDETTEMENT                         en % des produits CAF\n     25092        1728         850  Encours total de la dette au 31 décembre N          118,13       65,23\n     25092        1728         837  Encours des dettes bancaires et assimilées          118,13       64,27\n     25064        1726         828  Encours des dettes bancaires net de l'aide du fonds de soutien pour la sortie des emprunts toxiques     118,00       63,52\n      2837         195         108  Annuité de la dette                      13,36        8,28\n      1516         104         286  FONDS DE ROULEMENT\n\n\n                        ELEMENTS DE FISCALITE DIRECTE LOCALE\nLes bases imposées et les réductions (exonérations, abattements) accordées sur délibérations\nBases nettes imposées au profit de la commune               Taxe                    Réductions de base accordées sur délibérations\nEn milliers d'Euros  Euros par habitant     Moyenne de la strate            En milliers d'Euros     Euros par habitant   Moyenne de la strate\n     25249        1739        1441  Taxe d'habitation (y compris THLV)                2142         148         116\n     23211        1599        1384  Taxe foncière sur les propriétés bâties                  0           0           1\n       177          12          11  Taxe foncière sur les propriétés non bâties              0           0           0\n         0           0           0  Taxe additionnelle à la taxe foncière sur les propriétés non bâties\n         0           0           0  Cotisation foncière des entreprises                  0           0           0\n\nLes taux et les produits de la fiscalité directe locale\nProduits des impôts locaux            Taxe                              Taux voté (%)   Taux moyen de la strate (%)\n      6133         422         240  Taxe d'habitation (y compris THLV)               24,27       16,66\n      6135         423         313  Taxe foncière sur les propriétés bâties              26,38       22,58\n       116           8           6  Taxe foncière sur les propriétés non bâties          65,39       53,69\n         0           0           0  Taxe additionnelle à la taxe foncière sur les propriétés non bâties           0,00        0,00\n         0           0           0  Cotisation foncière des entreprises               0,00        0,00\n\nLes produits des impôts de répartition\nProduits des impôts de répartition      Taxe\n         0           0           0  Cotisation sur la valeur ajoutée des entreprises\n         0           0           0  Imposition forfaitaire sur les entreprises de réseau\n         0           0           0  Taxe sur les surfaces commerciales\n</code></pre>\n<hr />\n<p>What <em>OpenAPI</em> REST service call currently respond, if a client calls it:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;anneeExercice&quot;: 2019,\n  &quot;population&quot;: 14520,\n  &quot;siren&quot;: &quot;212900468&quot;,\n  &quot;code&quot;: &quot;29046&quot;,\n  &quot;nom&quot;: &quot;Douarnenez&quot;,\n  &quot;produitsDeFonctionnement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 21441.85,\n    &quot;parHabitant&quot;: 1476.71,\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES PRODUITS DE FONCTIONNEMENT = A\\t\\t\\ten % des produits CAF&quot;,\n    &quot;moyenneStrate&quot;: 1354.49\n  },\n  &quot;produitsDeFonctionnementCAF&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 21240.31,\n    &quot;parHabitant&quot;: 1462.83,\n    &quot;libelleAnalyse&quot;: &quot;\\tPRODUITS DE FONCTIONNEMENT CAF&quot;,\n    &quot;moyenneStrate&quot;: 1302.89\n  },\n  &quot;produitsDeFonctionnementCAFImpotsLocaux&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 12378.83,\n    &quot;parHabitant&quot;: 852.54,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tdont : Impôts Locaux\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 58.28,\n    &quot;moyenneStrate&quot;: 562.74,\n    &quot;ratioStrate&quot;: 43.19\n  },\n  &quot;produitsDeFonctionnementCAFAutresImpotsEtTaxes&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 1417.63,\n    &quot;parHabitant&quot;: 97.63,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tAutres impôts et taxes\\t\\t&quot;,\n    &quot;ratioStructure&quot;: null,\n    &quot;moyenneStrate&quot;: 114.91,\n    &quot;ratioStrate&quot;: 8.82\n  },\n  &quot;produitsDeFonctionnementCAFDGF&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 1793.63,\n    &quot;parHabitant&quot;: 123.53,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tDotation globale de fonctionnement&quot;,\n    &quot;ratioStructure&quot;: 8.44,\n    &quot;moyenneStrate&quot;: 176.8,\n    &quot;ratioStrate&quot;: 13.57\n  },\n  &quot;chargesDeFonctionnement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 19999.67,\n    &quot;parHabitant&quot;: 1377.39,\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES CHARGES DE FONCTIONNEMENT = B\\t\\t\\t\\ten % des charges CAF&quot;,\n    &quot;moyenneStrate&quot;: 1213.14\n  },\n  &quot;chargesDeFonctionnementCAF&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 18156.46,\n    &quot;parHabitant&quot;: 1250.44,\n    &quot;libelleAnalyse&quot;: &quot;\\tCharges de fonctionnement CAF&quot;,\n    &quot;moyenneStrate&quot;: 1107.32\n  },\n  &quot;chargesDeFonctionnementCAFChargesDePersonnel&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 11226.09,\n    &quot;parHabitant&quot;: 773.15,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tdont : Charges de personnel\\t&quot;,\n    &quot;ratioStructure&quot;: 61.83,\n    &quot;moyenneStrate&quot;: 655.33,\n    &quot;ratioStrate&quot;: 59.18\n  },\n  &quot;chargesDeFonctionnementCAFAchatsEtChargesExternes&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 4493.45,\n    &quot;parHabitant&quot;: 309.47,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tachats et charges externes\\t&quot;,\n    &quot;ratioStructure&quot;: 24.75,\n    &quot;moyenneStrate&quot;: 272.19,\n    &quot;ratioStrate&quot;: 24.58\n  },\n  &quot;chargesDeFonctionnementCAFChargesFinancieres&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 910.77,\n    &quot;parHabitant&quot;: 62.73,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tCharges financières\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 5.02,\n    &quot;moyenneStrate&quot;: 23.73,\n    &quot;ratioStrate&quot;: 2.14\n  },\n  &quot;chargesDeFonctionnementCAFSubventionsVersees&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 1024.37,\n    &quot;parHabitant&quot;: 70.55,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tSubventions versées\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 5.64,\n    &quot;moyenneStrate&quot;: 88.79,\n    &quot;ratioStrate&quot;: 8.02\n  },\n  &quot;resultatComptable&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 1442.19,\n    &quot;parHabitant&quot;: 99.32,\n    &quot;libelleAnalyse&quot;: &quot;Résultat comptable = A - B = R&quot;,\n    &quot;moyenneStrate&quot;: 141.35\n  },\n  &quot;ressourcesInvestissement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 7099.06,\n    &quot;parHabitant&quot;: 488.92,\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES RESSOURCES D'INVESTISSEMENT = C\\t\\t\\ten % des ressources&quot;,\n    &quot;moyenneStrate&quot;: 482.4\n  },\n  &quot;ressourcesInvestissementEmpruntsBancairesDettesAssimilees&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 1800,\n    &quot;parHabitant&quot;: 123.97,\n    &quot;libelleAnalyse&quot;: &quot;\\tdont : Emprunts bancaires et dettes assimilées&quot;,\n    &quot;ratioStructure&quot;: 25.36,\n    &quot;moyenneStrate&quot;: 78.77,\n    &quot;ratioStrate&quot;: 16.33\n  },\n  &quot;ressourcesInvestissementSubventionsRecues&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 526.43,\n    &quot;parHabitant&quot;: 36.26,\n    &quot;libelleAnalyse&quot;: &quot;\\tSubventions reçues\\t\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 7.42,\n    &quot;moyenneStrate&quot;: 71.58,\n    &quot;ratioStrate&quot;: 14.84\n  },\n  &quot;ressourcesInvestissementFCTVA&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 450.22,\n    &quot;parHabitant&quot;: 31.01,\n    &quot;libelleAnalyse&quot;: &quot;\\tFonds de compensation de la TVA (FCTVA)\\t&quot;,\n    &quot;ratioStructure&quot;: 6.34,\n    &quot;moyenneStrate&quot;: 39.93,\n    &quot;ratioStrate&quot;: 8.28\n  },\n  &quot;emploisInvestissement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 6481.48,\n    &quot;parHabitant&quot;: 446.38,\n    &quot;libelleAnalyse&quot;: &quot;TOTAL DES EMPLOIS D'INVESTISSEMENT = D\\t\\t\\t\\ten % des emplois&quot;,\n    &quot;moyenneStrate&quot;: 499.52\n  },\n  &quot;emploisInvestissementDepensesEquipement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 4514.68,\n    &quot;parHabitant&quot;: 310.93,\n    &quot;libelleAnalyse&quot;: &quot;\\tdont : Dépenses d'équipement\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 69.66,\n    &quot;moyenneStrate&quot;: 376.48,\n    &quot;ratioStrate&quot;: 75.37\n  },\n  &quot;emploisInvestissementRemboursementEmpruntsDettesAssimilees&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 1926.02,\n    &quot;parHabitant&quot;: 132.65,\n    &quot;libelleAnalyse&quot;: &quot;\\tRemboursement d'emprunts et dettes assimilées&quot;,\n    &quot;ratioStructure&quot;: 29.72,\n    &quot;moyenneStrate&quot;: 85.8,\n    &quot;ratioStrate&quot;: 17.18\n  },\n  &quot;autoFinancementCAF&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 3083.85,\n    &quot;parHabitant&quot;: 212.39,\n    &quot;libelleAnalyse&quot;: &quot;Capacité d'autofinancement = CAF\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 14.52,\n    &quot;moyenneStrate&quot;: 195.58,\n    &quot;ratioStrate&quot;: 15.01\n  },\n\n  &quot;endettementEncoursDetteBancaireNetteSoutienSortieEmpruntsToxiques&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 25064.14,\n    &quot;parHabitant&quot;: 1726.18,\n    &quot;libelleAnalyse&quot;: &quot;Encours des dettes bancaires net de l'aide du fonds de soutien pour la sortie des emprunts toxiques&quot;,\n    &quot;ratioStructure&quot;: 118,\n    &quot;moyenneStrate&quot;: 827.62,\n    &quot;ratioStrate&quot;: 63.52\n  },\n  &quot;endettementAnnuiteDette&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 2836.79,\n    &quot;parHabitant&quot;: 195.37,\n    &quot;libelleAnalyse&quot;: &quot;Annuité de la dette\\t\\t\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 13.36,\n    &quot;moyenneStrate&quot;: 107.83,\n    &quot;ratioStrate&quot;: 8.28\n  },\n  &quot;fiscLocalBaseNetteTaxeHabitation&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\n    &quot;montant&quot;: 25248.77,\n    &quot;parHabitant&quot;: 1738.9,\n    &quot;libelleAnalyse&quot;: &quot;Taxe d'habitation (y compris THLV)\\t\\t&quot;,\n    &quot;reductionVotee&quot;: 2142.17,\n    &quot;moyenneStrate&quot;: 1441.29,\n    &quot;reductionVoteeParHabitant&quot;: 147.53,\n    &quot;reductionVoteeMoyenneStrate&quot;: 116.45\n  },\n  &quot;fiscLocalBaseNetteTaxeFonciereProprietesBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\n    &quot;montant&quot;: 23211.43,\n    &quot;parHabitant&quot;: 1598.58,\n    &quot;libelleAnalyse&quot;: &quot;Taxe foncière sur les propriétés bâties\\t\\t&quot;,\n    &quot;reductionVotee&quot;: 0,\n    &quot;moyenneStrate&quot;: 1384.36,\n    &quot;reductionVoteeParHabitant&quot;: 0,\n    &quot;reductionVoteeMoyenneStrate&quot;: 0.86\n  },\n  &quot;fiscLocalBaseNetteTaxeFonciereProprietesNonBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\n    &quot;montant&quot;: 177.14,\n    &quot;parHabitant&quot;: 12.2,\n    &quot;libelleAnalyse&quot;: &quot;Taxe foncière sur les propriétés non bâties\\t&quot;,\n    &quot;reductionVotee&quot;: 0,\n    &quot;moyenneStrate&quot;: 10.59,\n    &quot;reductionVoteeParHabitant&quot;: 0,\n    &quot;reductionVoteeMoyenneStrate&quot;: 0.02\n  },\n  &quot;fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Taxe additionnelle à la taxe foncière sur les propriétés non bâties&quot;,\n    &quot;moyenneStrate&quot;: 0\n  },\n  &quot;fiscLocalBaseNetteCotisationFonciereEntreprises&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtReductionVotee&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Cotisation foncière des entreprises\\t\\t&quot;,\n    &quot;reductionVotee&quot;: 0,\n    &quot;moyenneStrate&quot;: 0,\n    &quot;reductionVoteeParHabitant&quot;: 0,\n    &quot;reductionVoteeMoyenneStrate&quot;: 0\n  },\n  &quot;impotsLocauxTaxeHabitation&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\n    &quot;montant&quot;: 6133.04,\n    &quot;parHabitant&quot;: 422.39,\n    &quot;libelleAnalyse&quot;: &quot;Taxe d'habitation (y compris THLV)\\t\\t&quot;,\n    &quot;tauxVote&quot;: 24.27,\n    &quot;moyenneStrate&quot;: 240.18,\n    &quot;tauxStrate&quot;: 16.66\n  },\n  &quot;impotsLocauxTaxeFonciereProprietesBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\n    &quot;montant&quot;: 6135.35,\n    &quot;parHabitant&quot;: 422.54,\n    &quot;libelleAnalyse&quot;: &quot;Taxe foncière sur les propriétés bâties\\t\\t&quot;,\n    &quot;tauxVote&quot;: 26.38,\n    &quot;moyenneStrate&quot;: 312.61,\n    &quot;tauxStrate&quot;: 22.58\n  },\n  &quot;impotsLocauxTaxeFonciereProprietesNonBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\n    &quot;montant&quot;: 115.92,\n    &quot;parHabitant&quot;: 7.98,\n    &quot;libelleAnalyse&quot;: &quot;Taxe foncière sur les propriétés non bâties\\t&quot;,\n    &quot;tauxVote&quot;: 65.39,\n    &quot;moyenneStrate&quot;: 5.69,\n    &quot;tauxStrate&quot;: 53.69\n  },\n  &quot;impotsLocauxCotisationFonciereEntreprises&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Cotisation foncière des entreprises\\t\\t&quot;,\n    &quot;tauxVote&quot;: 0,\n    &quot;moyenneStrate&quot;: 0,\n    &quot;tauxStrate&quot;: 0\n  },\n  &quot;impotsLocauxTaxeAdditionnelleFonciereProprietesNonBaties&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtTauxVoteEtStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Taxe additionnelle à la taxe foncière sur les propriétés non bâties\\t&quot;,\n    &quot;tauxVote&quot;: 0,\n    &quot;moyenneStrate&quot;: 0,\n    &quot;tauxStrate&quot;: 0\n  },\n  &quot;produitsImpotsRepartitionCotisationValeurAjouteeEntreprises&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Cotisation sur la valeur ajoutée des entreprises&quot;,\n    &quot;moyenneStrate&quot;: 0\n  },\n  &quot;produitsImpotsRepartitionImpositionForfaitaireEntreprisesReseau&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Imposition forfaitaire sur les entreprises de réseau&quot;,\n    &quot;moyenneStrate&quot;: 0\n  },\n  &quot;produitsImpotsRepartitionTaxeSurfacesCommerciales&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;Taxe sur les surfaces commerciales&quot;,\n    &quot;moyenneStrate&quot;: 0\n  },\n  &quot;ratiosNiveauxEtStructure&quot;: {\n    &quot;annulationLogique&quot;: false,\n    &quot;capaciteDesendettement&quot;: 8.136469024109473,\n    &quot;depensesReellesFonctionnementSurPopulation&quot;: null\n  },\n  &quot;codeRegion&quot;: &quot;53&quot;,\n  &quot;codeDepartement&quot;: &quot;29&quot;,\n  &quot;typeGroupementAppartenance&quot;: &quot;appartenant à un groupement fiscalisé (FPU)&quot;,\n  &quot;libelleStrateCommune&quot;: &quot;communes de 10 000 à 20 000 hab&quot;,\n  &quot;chargesDeFonctionnementCAFContingents&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 228.89,\n    &quot;parHabitant&quot;: 15.76,\n    &quot;libelleAnalyse&quot;: &quot;\\t\\tContingents\\t\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 1.26,\n    &quot;moyenneStrate&quot;: 33.02,\n    &quot;ratioStrate&quot;: 2.98\n  },\n  &quot;ressourcesInvestissementRetourDeBiensAffectesConcedes&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;\\tRetour de biens affectés, concédés, ...\\t&quot;,\n    &quot;ratioStructure&quot;: 0,\n    &quot;moyenneStrate&quot;: 0,\n    &quot;ratioStrate&quot;: 0\n  },\n  &quot;emploisInvestissementChargesARepartir&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;\\tCharges à répartir\\t\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 0,\n    &quot;moyenneStrate&quot;: 0.53,\n    &quot;ratioStrate&quot;: 0.11\n  },\n  &quot;emploisInvestissementImmobilisationsAffecteesConcedees&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 0,\n    &quot;parHabitant&quot;: 0,\n    &quot;libelleAnalyse&quot;: &quot;\\tImmobilisations affectées, concédées, ...&quot;,\n    &quot;ratioStructure&quot;: 0,\n    &quot;moyenneStrate&quot;: 0,\n    &quot;ratioStrate&quot;: 0\n  },\n  &quot;autoFinancementExcedentBrutDeFonctionnement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecStrateEtRatioStructureEtStrate&quot;,\n    &quot;montant&quot;: 3855,\n    &quot;parHabitant&quot;: 265.5,\n    &quot;libelleAnalyse&quot;: &quot;Excédent brut de fonctionnement\\t\\t\\t&quot;,\n    &quot;ratioStructure&quot;: 18.15,\n    &quot;moyenneStrate&quot;: 214.1,\n    &quot;ratioStrate&quot;: 16.43\n  },\n  &quot;endettementFondsDeRoulement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 1516.15,\n    &quot;parHabitant&quot;: 104.42,\n    &quot;libelleAnalyse&quot;: &quot;FONDS DE ROULEMENT&quot;,\n    &quot;moyenneStrate&quot;: 285.78\n  },\n  &quot;operationsInvestissementBesoinOuCapaciteFinancementResiduelSectionInvestissement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: -617.58,\n    &quot;parHabitant&quot;: -42.53,\n    &quot;libelleAnalyse&quot;: &quot;Besoin ou capacité de financement résiduel de la section d'investissement = D - C&quot;,\n    &quot;moyenneStrate&quot;: 17.12\n  },\n  &quot;operationsInvestissementSoldeDesOperationsPourCompteDeTiers&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 0.28,\n    &quot;parHabitant&quot;: 0.02,\n    &quot;libelleAnalyse&quot;: &quot;+ Solde des opérations pour le compte de tiers&quot;,\n    &quot;moyenneStrate&quot;: 0.86\n  },\n  &quot;operationsInvestissementBesoinOuCapaciteFinancementSectionInvestissement&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: -617.3,\n    &quot;parHabitant&quot;: -42.51,\n    &quot;libelleAnalyse&quot;: &quot;Besoin ou capacité de financement de la section d'investissement = E&quot;,\n    &quot;moyenneStrate&quot;: 17.98\n  },\n  &quot;operationsInvestissementResultatEnsemble&quot;: {\n    &quot;typeCompteIndividuel&quot;: &quot;ComptesAvecMoyenneStrate&quot;,\n    &quot;montant&quot;: 2059.49,\n    &quot;parHabitant&quot;: 141.84,\n    &quot;libelleAnalyse&quot;: &quot;Résultat d'ensemble = R - E&quot;,\n    &quot;moyenneStrate&quot;: 123.37\n  },\n  &quot;codeCommune&quot;: &quot;29046&quot;,\n  &quot;nomCommune&quot;: &quot;Douarnenez&quot;,\n  &quot;sirenCommune&quot;: &quot;212900468&quot;,\n  &quot;populationCommune&quot;: 14520\n}\n</code></pre>\n<p>(It's the output of a container class, <code>ComptesIndividuelsCommune</code>, holding the classes I've described, and starting that way:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ComptesIndividuelsCommune {\n   @JsonProperty(&quot;anneeExercice&quot;)\n   private Integer anneeExercice;\n\n   @JsonProperty(&quot;population&quot;)\n   private Integer population;\n\n   @JsonProperty(&quot;siren&quot;)\n   private String siren;\n\n   @JsonProperty(&quot;code&quot;)\n   private String code;\n\n   @JsonProperty(&quot;nom&quot;)\n   private String nom;\n\n   @JsonProperty(&quot;produitsDeFonctionnement&quot;)\n   private ComptesAvecMoyenneStrate produitsDeFonctionnement;\n\n   [...]\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeHabitation&quot;)\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteTaxeHabitation;\n\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeFonciereProprietesBaties&quot;)\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteTaxeFonciereProprietesBaties;\n   @JsonProperty(&quot;fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties&quot;)\n   private ComptesAvecMoyenneStrate fiscLocalBaseNetteTaxeAdditionnelleFonciereProprietesNonBaties;\n\n   @JsonProperty(&quot;fiscLocalBaseNetteCotisationFonciereEntreprises&quot;)\n   private ComptesAvecStrateEtReductionVotee fiscLocalBaseNetteCotisationFonciereEntreprises;\n   [...])\n</code></pre>\n"},{"tags":["java","selenium-webdriver","self-healing","healenium"],"owner":{"account_id":5505051,"reputation":31,"user_id":4373122,"display_name":"Neeraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690284894,"creation_date":1690280481,"question_id":76761725,"body_markdown":"**Healenium Web version**\r\n&lt;version&gt;3.3.1&lt;/version&gt;\r\n\r\n**Healenium Backend version**\r\nhealenium/hlm-backend:3.3.0\r\n\r\n**Selenium version**\r\n4.8.0\r\n\r\n**Platform**\r\nJava\r\n\r\n**healenium.properties file**\r\n\r\n    recovery-tries=1 \r\n    score-cap=0.7 \r\n    heal-enable=true \r\n    serverHost=localhost \r\n    serverPort=7878 \r\n    imitatePort=8000\r\n\r\n **Logs appeared during using Healenium**\r\n\r\nTrying to heal...\r\n[main] WARN com.epam.healenium.client.RestClient - Failed to make response of &#39;getLastHealingData&#39; request. \r\njava.io.IOException: unexpected end of stream on http://localhost:7878/...","title":"WARN com.epam.healenium.client.RestClient - Failed to make response of &#39;getLastHealingData&#39; request","body":"<p><strong>Healenium Web version</strong>\n3.3.1</p>\n<p><strong>Healenium Backend version</strong>\nhealenium/hlm-backend:3.3.0</p>\n<p><strong>Selenium version</strong>\n4.8.0</p>\n<p><strong>Platform</strong>\nJava</p>\n<p><strong>healenium.properties file</strong></p>\n<pre><code>recovery-tries=1 \nscore-cap=0.7 \nheal-enable=true \nserverHost=localhost \nserverPort=7878 \nimitatePort=8000\n</code></pre>\n<p><strong>Logs appeared during using Healenium</strong></p>\n<p>Trying to heal...\n[main] WARN com.epam.healenium.client.RestClient - Failed to make response of 'getLastHealingData' request.\njava.io.IOException: unexpected end of stream on http://localhost:7878/...</p>\n"},{"tags":["java","selenium","parallel-processing","execution"],"comments":[{"owner":{"account_id":3932036,"reputation":9944,"user_id":3250126,"accept_rate":93,"display_name":"loki"},"score":0,"creation_date":1508828701,"post_id":46904109,"comment_id":80754971,"body_markdown":"What have your tried so far?","body":"What have your tried so far?"},{"owner":{"account_id":7513612,"reputation":1945,"user_id":5707795,"accept_rate":48,"display_name":"Pradeep"},"score":0,"creation_date":1508828723,"post_id":46904109,"comment_id":80754983,"body_markdown":"I think u can go with setting priorities to test methods which returns values synchronously. https://www.guru99.com/test-case-priority-testng.html","body":"I think u can go with setting priorities to test methods which returns values synchronously. <a href=\"https://www.guru99.com/test-case-priority-testng.html\" rel=\"nofollow noreferrer\">guru99.com/test-case-priority-testng.html</a>"},{"owner":{"account_id":12066664,"reputation":61,"user_id":8823444,"display_name":"Kris"},"score":0,"creation_date":1508834988,"post_id":46904109,"comment_id":80758781,"body_markdown":"Thanks for your responses Pradeep &amp; Loki .. got the solution , actually in our scenario same test cases runs in 10 browsers , at run time we capture an id and pass to further execution , as quoted sequential working fine but at parallel execution id&#39;s variable getting overlapped with another one which is failing , but now with thread local variable this is fixed","body":"Thanks for your responses Pradeep &amp; Loki .. got the solution , actually in our scenario same test cases runs in 10 browsers , at run time we capture an id and pass to further execution , as quoted sequential working fine but at parallel execution id&#39;s variable getting overlapped with another one which is failing , but now with thread local variable this is fixed"}],"answers":[{"tags":[],"owner":{"account_id":12066664,"reputation":61,"user_id":8823444,"display_name":"Kris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1508835051,"creation_date":1508834712,"answer_id":46905948,"question_id":46904109,"body_markdown":"Thanks ..! Got the solutions went with the  ThreadLocal variables concept \r\n\r\nMost of the environment specific values in my framework are defined as STATIC.\r\n\r\nIn Java, Static variables are used to share the data between the threads which means these variable are same across the threads. In that case, when second thread assigns a value to the static variable it overrides the value set by first thread. This causes the problem.\r\n\r\nTo overcome the above problem, there are two approaches we can consider.\r\n\r\n1) All the local variables in java are stored in Stack memory And each thread has it&#39;s own stack. So if you change the variables to local variables, it will solves the problem.\r\n\r\n2) with the above approach in the existing framework lot of dependencies will break. And it&#39;s always not easy to make variables to local. So we have to look for better solution. For this type of situations, we have ThreadLocal variables in java.\r\n\r\nhttp://learn-testing-urself.blogspot.in/2015/05/importance-of-threadlocal-in-parallel.html","title":"How to store runtime variables in parallel execution selenium java ?","body":"<p>Thanks ..! Got the solutions went with the  ThreadLocal variables concept </p>\n\n<p>Most of the environment specific values in my framework are defined as STATIC.</p>\n\n<p>In Java, Static variables are used to share the data between the threads which means these variable are same across the threads. In that case, when second thread assigns a value to the static variable it overrides the value set by first thread. This causes the problem.</p>\n\n<p>To overcome the above problem, there are two approaches we can consider.</p>\n\n<p>1) All the local variables in java are stored in Stack memory And each thread has it's own stack. So if you change the variables to local variables, it will solves the problem.</p>\n\n<p>2) with the above approach in the existing framework lot of dependencies will break. And it's always not easy to make variables to local. So we have to look for better solution. For this type of situations, we have ThreadLocal variables in java.</p>\n\n<p><a href=\"http://learn-testing-urself.blogspot.in/2015/05/importance-of-threadlocal-in-parallel.html\" rel=\"nofollow noreferrer\">http://learn-testing-urself.blogspot.in/2015/05/importance-of-threadlocal-in-parallel.html</a></p>\n"}],"owner":{"account_id":12066664,"reputation":61,"user_id":8823444,"display_name":"Kris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1512,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690284079,"creation_date":1508828423,"question_id":46904109,"body_markdown":"Actually i need to capture run time values and pass it over for the further execution. In sequentially execution its working perfectly but when i do remote executions  (in sauce labs) , at that juncture run time values are interchanged between the browser , which leads to failure.  (Because each browser will have to get separate value)\r\n\r\nCan you please throw me the light in this  ? \r\n\r\nThanks, Kris. ","title":"How to store runtime variables in parallel execution selenium java ?","body":"<p>Actually i need to capture run time values and pass it over for the further execution. In sequentially execution its working perfectly but when i do remote executions  (in sauce labs) , at that juncture run time values are interchanged between the browser , which leads to failure.  (Because each browser will have to get separate value)</p>\n\n<p>Can you please throw me the light in this  ? </p>\n\n<p>Thanks, Kris. </p>\n"},{"tags":["java","arrays","recursion"],"answers":[{"tags":[],"owner":{"account_id":3232181,"reputation":79,"user_id":2727182,"display_name":"ismaro3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458589121,"creation_date":1458589121,"answer_id":36140083,"question_id":36139881,"body_markdown":"The problem is that one version of the variable &quot;count&quot; is created on every call of &quot;smallest&quot; and getting 0 assigned to it, so it doesn&#39;t matter you increase its value before calling &quot;smallest&quot; again.\r\nVariables created inside of a function are not shared between function calls.\r\n\r\nThe problem you has is caused because &quot;count&quot; is always 0 and the recursion never ends, so it ends in a stack overflow error.\r\n\r\nTo solve that you have to add another parameter, &quot;count&quot;, that will hold the iterations of the algorithm.\r\n\r\n    public static void main(String[] args) {\r\n\r\n\r\n    int[] array = {5,3,1,0,4,7};\r\n    int smallest = array[0];\r\n    System.out.println(smallest(array,smallest,0));\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    private static int smallest(int[] array, int smallest, int count){\r\n\r\n    if(array[count] &lt; smallest){\r\n        smallest = array[count];\r\n    }\r\n    else if(array[count] == array[array.length-1]){\r\n        return smallest;\r\n    }\r\n   \r\n    return smallest(array,smallest,count+1);\r\n\r\n    }\r\n\r\n","title":"Using recursion to find the smallest int an array?","body":"<p>The problem is that one version of the variable \"count\" is created on every call of \"smallest\" and getting 0 assigned to it, so it doesn't matter you increase its value before calling \"smallest\" again.\nVariables created inside of a function are not shared between function calls.</p>\n\n<p>The problem you has is caused because \"count\" is always 0 and the recursion never ends, so it ends in a stack overflow error.</p>\n\n<p>To solve that you have to add another parameter, \"count\", that will hold the iterations of the algorithm.</p>\n\n<pre><code>public static void main(String[] args) {\n\n\nint[] array = {5,3,1,0,4,7};\nint smallest = array[0];\nSystem.out.println(smallest(array,smallest,0));\n\n\n\n}\n\n\nprivate static int smallest(int[] array, int smallest, int count){\n\nif(array[count] &lt; smallest){\n    smallest = array[count];\n}\nelse if(array[count] == array[array.length-1]){\n    return smallest;\n}\n\nreturn smallest(array,smallest,count+1);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7562599,"reputation":6043,"user_id":6083675,"accept_rate":29,"display_name":"Laurel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458589220,"creation_date":1458589220,"answer_id":36140114,"question_id":36139881,"body_markdown":"Unless your code enters into the `if` or `else if` blocks, it will continue to go forward and call smallest, again. Since you are passing the exact same parameters, you are getting the exact same result. **Remember count is a local variable.** \r\n\r\n\r\nAlso, I think you may want `if` instead of `else if` because if the last number is smaller, you will likely get an exception.","title":"Using recursion to find the smallest int an array?","body":"<p>Unless your code enters into the <code>if</code> or <code>else if</code> blocks, it will continue to go forward and call smallest, again. Since you are passing the exact same parameters, you are getting the exact same result. <strong>Remember count is a local variable.</strong> </p>\n\n<p>Also, I think you may want <code>if</code> instead of <code>else if</code> because if the last number is smaller, you will likely get an exception.</p>\n"},{"tags":[],"owner":{"account_id":1504666,"reputation":302,"user_id":1408360,"display_name":"Peter L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458589651,"creation_date":1458589651,"answer_id":36140233,"question_id":36139881,"body_markdown":"When you have two numbers, you just need to compare them to find the smallest. So, if you split your array into two, find a smallest in each half, then just compare the results to find the smallest. Here is the outline of your recursion (note: I did not compile or test it):\r\n\r\n`int getSmallest(ArrayList&lt;Integer&gt; numbers) {\r\n    if (numbers.size() == 1) return numbers.get(0);\r\n    int leftMin = getSmallest(numbers.subList(0, numbers.size()/2);\r\n    int rightMin = getSmallest(numbers.subList(numbers.size()/2, numbers.size());\r\n    return leftMin &lt; rightMin ? leftMin : rightMin;\r\n}`\r\n\r\nIf you need to use int[], you can still use the same approach, it just needs some tweaking :)","title":"Using recursion to find the smallest int an array?","body":"<p>When you have two numbers, you just need to compare them to find the smallest. So, if you split your array into two, find a smallest in each half, then just compare the results to find the smallest. Here is the outline of your recursion (note: I did not compile or test it):</p>\n\n<p><code>int getSmallest(ArrayList&lt;Integer&gt; numbers) {\n    if (numbers.size() == 1) return numbers.get(0);\n    int leftMin = getSmallest(numbers.subList(0, numbers.size()/2);\n    int rightMin = getSmallest(numbers.subList(numbers.size()/2, numbers.size());\n    return leftMin &lt; rightMin ? leftMin : rightMin;\n}</code></p>\n\n<p>If you need to use int[], you can still use the same approach, it just needs some tweaking :)</p>\n"}],"owner":{"account_id":6364023,"reputation":11,"user_id":4938544,"display_name":"EidA5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690283168,"creation_date":1458588445,"question_id":36139881,"body_markdown":"Here is my code.\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t\r\n\t\tint[] array = {5,3,1,0,4,7};\r\n\t\tint smallest = array[0];\r\n\t\tSystem.out.println(smallest(array,smallest));\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tprivate static int smallest(int[] array, int smallest){\r\n\t\t\r\n\t\tint count = 0;\r\n\t\tif(array[count] &lt; smallest){\r\n\t\t\tsmallest = array[count];\r\n\t\t}\r\n\t\telse if(array[count] == array[array.length-1]){\r\n\t\t\treturn smallest;\r\n\t\t}\r\n\t\tcount++;\r\n\t\treturn smallest(array,smallest);\r\n\t\t\r\n\t}\r\n\t\r\n\r\n\r\nI need to use Java to find the smallest int in an array using RECURSION, I know how to use iteration to find it, but this is strictly recursion. Any help would be apperciated.. the error seems to me this line here.\r\n\r\n--&gt; return smallest(array,smallest);\r\n\r\n\r\n\t\t","title":"Using recursion to find the smallest int an array?","body":"<p>Here is my code.</p>\n<pre><code>public static void main(String[] args) {\n    \n    \n    int[] array = {5,3,1,0,4,7};\n    int smallest = array[0];\n    System.out.println(smallest(array,smallest));\n    \n    \n    \n}\n\n\nprivate static int smallest(int[] array, int smallest){\n    \n    int count = 0;\n    if(array[count] &lt; smallest){\n        smallest = array[count];\n    }\n    else if(array[count] == array[array.length-1]){\n        return smallest;\n    }\n    count++;\n    return smallest(array,smallest);\n    \n}\n</code></pre>\n<p>I need to use Java to find the smallest int in an array using RECURSION, I know how to use iteration to find it, but this is strictly recursion. Any help would be apperciated.. the error seems to me this line here.</p>\n<p>--&gt; return smallest(array,smallest);</p>\n"},{"tags":["java",".net","azure"],"answers":[{"tags":[],"owner":{"account_id":26619036,"reputation":1003,"user_id":20238030,"display_name":"Suresh Chikkam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690283009,"creation_date":1690283009,"answer_id":76762069,"question_id":76760718,"body_markdown":"- It is not possible to mix different runtime stacks in a single App Service instance directly.\r\n\r\n&gt;Creating a Java App Service is not a good solution for us.\r\n\r\n- As following to the condition without creating a separate app service we can containerize both the .NET Core and Java applications using Docker container. You can package the .NET Core 7 Mass Transit host and the Java executable (DoSomeThing.jar) into a single container, check the template below.\r\n\r\n```docker\r\n# Set the base image to a Linux distribution that supports both .NET Core and Java\r\nFROM mcr.microsoft.com/dotnet/aspnet:7.0-jdk11\r\n\r\n# Set the working directory inside the container\r\nWORKDIR /app\r\n\r\n# Copy the .NET Core project files to the container\r\nCOPY MyMassTransitHost.csproj .\r\n\r\n# Restore the .NET Core dependencies\r\nRUN dotnet restore\r\n\r\n# Copy the entire project to the container\r\nCOPY . .\r\n\r\n# Build the .NET Core application\r\nRUN dotnet publish -c Release -o out\r\n\r\n# Copy the Java application (DoSomeThing.jar) to the container\r\nCOPY DoSomeThing.jar .\r\n\r\n# Set the entry point to start both the .NET Core MassTransit Host and the Java application\r\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;dotnet /app/out/MyMassTransitHost.dll &amp; java -jar /app/DoSomeThing.jar&quot;]\r\n```\r\n\r\n- Push the Docker Image to a Container Registry. while creating app service in the portal the runtime can be .Net and publish should be Docker container.\r\n\r\n![enter image description here](https://i.imgur.com/glEoIfz.png)\r\n\r\n- Deploy the .NET Core App Service using the custom Docker image.\r\n\r\n- Once your .NET Core App Service is running with the custom Docker image, update your MassTransit command handler to execute the Java command.\r\n\r\n```c#\r\nusing System.Diagnostics;\r\n\r\npublic class MyCommandHandler\r\n{\r\n    public void HandleCommand()\r\n    {\r\n        // Replace &quot;/path/to/java&quot; with the appropriate path to the Java executable in the container\r\n        string javaExecutable = &quot;/path/to/java&quot;;\r\n        \r\n        // Replace &quot;/app/DoSomeThing.jar&quot; with the actual path to the JAR file inside the container\r\n        string jarFile = &quot;/app/DoSomeThing.jar&quot;;\r\n        \r\n        // Replace &quot;YourJavaOptions&quot; with any additional Java options you want to pass\r\n        string javaOptions = &quot;YourJavaOptions&quot;;\r\n        \r\n        ProcessStartInfo startInfo = new ProcessStartInfo\r\n        {\r\n            FileName = javaExecutable,\r\n            Arguments = $&quot;{javaOptions} -jar {jarFile}&quot;,\r\n            RedirectStandardOutput = true,\r\n            RedirectStandardError = true,\r\n            UseShellExecute = false,\r\n            CreateNoWindow = true\r\n        };\r\n        \r\n        using (Process process = new Process())\r\n        {\r\n            process.StartInfo = startInfo;\r\n            process.Start();\r\n            \r\n            // You can optionally read the process output if needed\r\n            string output = process.StandardOutput.ReadToEnd();\r\n            string error = process.StandardError.ReadToEnd();\r\n            \r\n            process.WaitForExit();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBy this we able to execute the Java JAR file directly within the same App Service.","title":"Windows Azure App Service running a NET Core 7 App with with MassTransit running a &quot;jar&quot; file, HOW?","body":"<ul>\n<li>It is not possible to mix different runtime stacks in a single App Service instance directly.</li>\n</ul>\n<blockquote>\n<p>Creating a Java App Service is not a good solution for us.</p>\n</blockquote>\n<ul>\n<li>As following to the condition without creating a separate app service we can containerize both the .NET Core and Java applications using Docker container. You can package the .NET Core 7 Mass Transit host and the Java executable (DoSomeThing.jar) into a single container, check the template below.</li>\n</ul>\n<pre><code># Set the base image to a Linux distribution that supports both .NET Core and Java\nFROM mcr.microsoft.com/dotnet/aspnet:7.0-jdk11\n\n# Set the working directory inside the container\nWORKDIR /app\n\n# Copy the .NET Core project files to the container\nCOPY MyMassTransitHost.csproj .\n\n# Restore the .NET Core dependencies\nRUN dotnet restore\n\n# Copy the entire project to the container\nCOPY . .\n\n# Build the .NET Core application\nRUN dotnet publish -c Release -o out\n\n# Copy the Java application (DoSomeThing.jar) to the container\nCOPY DoSomeThing.jar .\n\n# Set the entry point to start both the .NET Core MassTransit Host and the Java application\nCMD [&quot;sh&quot;, &quot;-c&quot;, &quot;dotnet /app/out/MyMassTransitHost.dll &amp; java -jar /app/DoSomeThing.jar&quot;]\n</code></pre>\n<ul>\n<li>Push the Docker Image to a Container Registry. while creating app service in the portal the runtime can be .Net and publish should be Docker container.</li>\n</ul>\n<p><img src=\"https://i.imgur.com/glEoIfz.png\" alt=\"enter image description here\" /></p>\n<ul>\n<li><p>Deploy the .NET Core App Service using the custom Docker image.</p>\n</li>\n<li><p>Once your .NET Core App Service is running with the custom Docker image, update your MassTransit command handler to execute the Java command.</p>\n</li>\n</ul>\n<pre class=\"lang-cs prettyprint-override\"><code>using System.Diagnostics;\n\npublic class MyCommandHandler\n{\n    public void HandleCommand()\n    {\n        // Replace &quot;/path/to/java&quot; with the appropriate path to the Java executable in the container\n        string javaExecutable = &quot;/path/to/java&quot;;\n        \n        // Replace &quot;/app/DoSomeThing.jar&quot; with the actual path to the JAR file inside the container\n        string jarFile = &quot;/app/DoSomeThing.jar&quot;;\n        \n        // Replace &quot;YourJavaOptions&quot; with any additional Java options you want to pass\n        string javaOptions = &quot;YourJavaOptions&quot;;\n        \n        ProcessStartInfo startInfo = new ProcessStartInfo\n        {\n            FileName = javaExecutable,\n            Arguments = $&quot;{javaOptions} -jar {jarFile}&quot;,\n            RedirectStandardOutput = true,\n            RedirectStandardError = true,\n            UseShellExecute = false,\n            CreateNoWindow = true\n        };\n        \n        using (Process process = new Process())\n        {\n            process.StartInfo = startInfo;\n            process.Start();\n            \n            // You can optionally read the process output if needed\n            string output = process.StandardOutput.ReadToEnd();\n            string error = process.StandardError.ReadToEnd();\n            \n            process.WaitForExit();\n        }\n    }\n}\n</code></pre>\n<p>By this we able to execute the Java JAR file directly within the same App Service.</p>\n"}],"owner":{"account_id":1133728,"reputation":5,"user_id":1119225,"display_name":"Xavier Casals"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76762069,"answer_count":1,"score":0,"last_activity_date":1690283009,"creation_date":1690272992,"question_id":76760718,"body_markdown":"So, we have a .NET Core 7 MassTransit host running in a Azure App Service and one of the command handlers should make a &quot;**java.exe -jar DoSomeThing.jar**&quot; call. Our question is, how can we make this work in the App Service?\r\n\r\n - Installing Java SDK somehow when deploying the app?\r\n - Copying the Java SDK as embedded files in a folder (as we do with the .jar)\r\n - Embedding the SDK with the .jar (don&#39;t really know if this is even possible)\r\n - Any other suggestion\r\n\r\nCreating a Java App Service is not a good solution for us, as MassTransit handlers are managing this calls and retrieving the results. Any suggestion will be really appreciated.\r\n\r\nThanks.\r\n\r\n\r\n","title":"Windows Azure App Service running a NET Core 7 App with with MassTransit running a &quot;jar&quot; file, HOW?","body":"<p>So, we have a .NET Core 7 MassTransit host running in a Azure App Service and one of the command handlers should make a &quot;<strong>java.exe -jar DoSomeThing.jar</strong>&quot; call. Our question is, how can we make this work in the App Service?</p>\n<ul>\n<li>Installing Java SDK somehow when deploying the app?</li>\n<li>Copying the Java SDK as embedded files in a folder (as we do with the .jar)</li>\n<li>Embedding the SDK with the .jar (don't really know if this is even possible)</li>\n<li>Any other suggestion</li>\n</ul>\n<p>Creating a Java App Service is not a good solution for us, as MassTransit handlers are managing this calls and retrieving the results. Any suggestion will be really appreciated.</p>\n<p>Thanks.</p>\n"},{"tags":["java","modelmapper"],"owner":{"account_id":21087910,"reputation":125,"user_id":15500553,"display_name":"CleanCodeOnline"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690282896,"creation_date":1690282896,"question_id":76762047,"body_markdown":"I have a source class to map as UserDao. I want to map this source class to UserViewModel destination class, there I need to skip the permissions property of RoleViewModel collection property in UserViewModel destination class. Is there any built in method possible. I tried with property map as well as converters and couldn&#39;t find a way. Helps would be appreciated.\r\n\r\n**UserViewModel**\r\n```\r\npublic class UserViewModel {\r\n    private int id;\r\n    private List&lt;RoleViewModel&gt; roles;\r\n}\r\n```\r\n\r\n**RoleViewModel**\r\n```\r\npublic class RoleViewModel {\r\n\r\n    private int id;\r\n    private String name;\r\n    private List&lt;PermissionViewModel&gt; permissions;\r\n}\r\n```\r\n\r\nThese are the corresponding source class objects.\r\n**UserDao**\r\n```\r\npublic class UserDao {\r\n    private int id;\r\n    private Set&lt;RoleDao&gt; roles;\r\n}\r\n```\r\n\r\n**RoleDao**\r\n```\r\npublic class RoleDao {\r\n    private int id;\r\n    private String roleName;\r\n    private Set&lt;PermissionDao&gt; permissions;\r\n}\r\n```","title":"Skipping properties of nested collections when mapping with model mapper","body":"<p>I have a source class to map as UserDao. I want to map this source class to UserViewModel destination class, there I need to skip the permissions property of RoleViewModel collection property in UserViewModel destination class. Is there any built in method possible. I tried with property map as well as converters and couldn't find a way. Helps would be appreciated.</p>\n<p><strong>UserViewModel</strong></p>\n<pre><code>public class UserViewModel {\n    private int id;\n    private List&lt;RoleViewModel&gt; roles;\n}\n</code></pre>\n<p><strong>RoleViewModel</strong></p>\n<pre><code>public class RoleViewModel {\n\n    private int id;\n    private String name;\n    private List&lt;PermissionViewModel&gt; permissions;\n}\n</code></pre>\n<p>These are the corresponding source class objects.\n<strong>UserDao</strong></p>\n<pre><code>public class UserDao {\n    private int id;\n    private Set&lt;RoleDao&gt; roles;\n}\n</code></pre>\n<p><strong>RoleDao</strong></p>\n<pre><code>public class RoleDao {\n    private int id;\n    private String roleName;\n    private Set&lt;PermissionDao&gt; permissions;\n}\n</code></pre>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":1754145,"reputation":43950,"user_id":1602555,"display_name":"Karol Dowbecki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690282861,"creation_date":1523261847,"answer_id":49728363,"question_id":49728157,"body_markdown":"Although the Spring context initialization is performed in a single thread there could be other application threads that want to use it. For example the application thread could by calling `ConfigurableApplicationContext#getBeanFactory()` or `ConfigurableApplicationContext#close()` which are both implemented by `AbstractRefreshableApplicationContext`. Because of that it&#39;s important to synchronize the access to `beanFactory` field which state could be shared between threads.\r\n\r\n\r\nThis particular line [was committed in 2008][1] and maybe will be revisited as part of [SPR-8767 Parallel bean initialization during startup][2].\r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-framework/blame/5f4d1a4628513ab34098fa3f92ba03aa20fc4204/spring-context/src/main/java/org/springframework/context/support/AbstractRefreshableApplicationContext.java#L132\r\n  [2]: https://jira.spring.io/browse/SPR-8767","title":"Why must this code line be in synchronized() in spring core?","body":"<p>Although the Spring context initialization is performed in a single thread there could be other application threads that want to use it. For example the application thread could by calling <code>ConfigurableApplicationContext#getBeanFactory()</code> or <code>ConfigurableApplicationContext#close()</code> which are both implemented by <code>AbstractRefreshableApplicationContext</code>. Because of that it's important to synchronize the access to <code>beanFactory</code> field which state could be shared between threads.</p>\n<p>This particular line <a href=\"https://github.com/spring-projects/spring-framework/blame/5f4d1a4628513ab34098fa3f92ba03aa20fc4204/spring-context/src/main/java/org/springframework/context/support/AbstractRefreshableApplicationContext.java#L132\" rel=\"nofollow noreferrer\">was committed in 2008</a> and maybe will be revisited as part of <a href=\"https://jira.spring.io/browse/SPR-8767\" rel=\"nofollow noreferrer\">SPR-8767 Parallel bean initialization during startup</a>.</p>\n"}],"owner":{"account_id":10198625,"reputation":13,"user_id":7529701,"display_name":"Young Chan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":49728363,"answer_count":1,"score":1,"last_activity_date":1690282861,"creation_date":1523261107,"question_id":49728157,"body_markdown":"    @Override\r\n\tprotected final void refreshBeanFactory() throws BeansException {\r\n\t\tif (hasBeanFactory()) {\r\n\t\t\tdestroyBeans();\r\n\t\t\tcloseBeanFactory();\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tDefaultListableBeanFactory beanFactory = createBeanFactory();\r\n\t\t\tbeanFactory.setSerializationId(getId());\r\n\t\t\tcustomizeBeanFactory(beanFactory);\r\n\t\t\tloadBeanDefinitions(beanFactory);\r\n\t\t\tsynchronized (this.beanFactoryMonitor) {\r\n\t\t\t\tthis.beanFactory = beanFactory;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (IOException ex) {\r\n\t\t\tthrow new ApplicationContextException(&quot;I/O error parsing bean definition source for &quot; + getDisplayName(), ex);\r\n\t\t}\r\n\t}\r\n\r\nThe code above is from spring-core (`AbstractRefreshableApplicationContext.refreshBeanFactory`). Why must the line\r\n\r\n    this.beanFactory = beanFactory;\r\n\r\nfrom the code above be in synchronized()?\r\n","title":"Why must this code line be in synchronized() in spring core?","body":"<pre><code>@Override\nprotected final void refreshBeanFactory() throws BeansException {\n    if (hasBeanFactory()) {\n        destroyBeans();\n        closeBeanFactory();\n    }\n    try {\n        DefaultListableBeanFactory beanFactory = createBeanFactory();\n        beanFactory.setSerializationId(getId());\n        customizeBeanFactory(beanFactory);\n        loadBeanDefinitions(beanFactory);\n        synchronized (this.beanFactoryMonitor) {\n            this.beanFactory = beanFactory;\n        }\n    }\n    catch (IOException ex) {\n        throw new ApplicationContextException(\"I/O error parsing bean definition source for \" + getDisplayName(), ex);\n    }\n}\n</code></pre>\n\n<p>The code above is from spring-core (<code>AbstractRefreshableApplicationContext.refreshBeanFactory</code>). Why must the line</p>\n\n<pre><code>this.beanFactory = beanFactory;\n</code></pre>\n\n<p>from the code above be in synchronized()?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1690282679,"post_id":76761998,"comment_id":135328528,"body_markdown":"On the login route you only allow POST.","body":"On the login route you only allow POST."},{"owner":{"account_id":17762638,"reputation":47,"user_id":12898286,"display_name":"TiKi"},"score":0,"creation_date":1690282798,"post_id":76761998,"comment_id":135328549,"body_markdown":"I didn&#39;t post the controller, but it&#39;s just the /login route...and it is in post: @RequestMapping(value = &quot;/login&quot; , method = RequestMethod.POST)\n    public void log(@RequestBody User user) {}","body":"I didn&#39;t post the controller, but it&#39;s just the /login route...and it is in post: @RequestMapping(value = &quot;/login&quot; , method = RequestMethod.POST)     public void log(@RequestBody User user) {}"},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1690282877,"post_id":76761998,"comment_id":135328565,"body_markdown":"Which version of Spring Boot are you using?","body":"Which version of Spring Boot are you using?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690283641,"post_id":76761998,"comment_id":135328722,"body_markdown":"For starters your `InitialAuthenticationFilter` is breaking things. You are consuming the request meaning there is nothing left for others to read. You are reading the inputstream. I don&#39;t see why you need a custom authentication manager only a provider which works with your custom authentication. Looking at what your custom provider does I even doubt you need this one. Only your filter which checks if it needs to authenticate or not.","body":"For starters your <code>InitialAuthenticationFilter</code> is breaking things. You are consuming the request meaning there is nothing left for others to read. You are reading the inputstream. I don&#39;t see why you need a custom authentication manager only a provider which works with your custom authentication. Looking at what your custom provider does I even doubt you need this one. Only your filter which checks if it needs to authenticate or not."},{"owner":{"account_id":17762638,"reputation":47,"user_id":12898286,"display_name":"TiKi"},"score":0,"creation_date":1690287152,"post_id":76761998,"comment_id":135329460,"body_markdown":"@SimonMartinelli 3.1.2...@M. Deinum if I don&#39;t inject the authManager and call the authenticate method to delegate which provider to use, my custom provider is not picked up. What I wanna have essentially is two authentications(User/pass and User/otp). So in the custom filter I wanna check the body of the request and choose which authentication to use, then use the manager to deleger it&#39;s own provider.","body":"@SimonMartinelli 3.1.2...@M. Deinum if I don&#39;t inject the authManager and call the authenticate method to delegate which provider to use, my custom provider is not picked up. What I wanna have essentially is two authentications(User/pass and User/otp). So in the custom filter I wanna check the body of the request and choose which authentication to use, then use the manager to deleger it&#39;s own provider."},{"owner":{"account_id":6904832,"reputation":127,"user_id":5954437,"display_name":"ganeshram"},"score":1,"creation_date":1690293174,"post_id":76761998,"comment_id":135331030,"body_markdown":"I do not understand why you even need this filter  &quot;InitialAuthenticationFilter&quot;, just remove this and you will be fine","body":"I do not understand why you even need this filter  &quot;InitialAuthenticationFilter&quot;, just remove this and you will be fine"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690296653,"post_id":76761998,"comment_id":135331901,"body_markdown":"if this is your first time using spring security, why are you not reading the spring security documentation?","body":"if this is your first time using spring security, why are you not reading the spring security documentation?"}],"owner":{"account_id":17762638,"reputation":47,"user_id":12898286,"display_name":"TiKi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690282457,"creation_date":1690282457,"question_id":76761998,"body_markdown":"Can someone explain to me why this authentication logic is not working? Ty\r\n\r\n\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\n@RequiredArgsConstructor\r\npublic class WebSecurityConfig {\r\n\r\n    private final InitialAuthenticationFilter initialAuthenticationFilter;\r\n    private final CustomAuthenticationProvider authenticationProvider;\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n\r\n        http.authenticationProvider(authenticationProvider)\r\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\r\n                        .addFilterAt(initialAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\n\r\n        http.authorizeHttpRequests(authorization -&gt;\r\n                authorization\r\n//                        .requestMatchers(HttpMethod.POST, &quot;/register&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n                        .anyRequest().authenticated());\r\n\r\n        return http.build();\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    private final AuthenticationManager authenticationManager;\r\n\r\n    @Override\r\n    protected void doFilterInternal(\r\n            HttpServletRequest request,\r\n            HttpServletResponse response,\r\n            FilterChain filterChain\r\n    ) throws ServletException, IOException {\r\n        byte[] body = StreamUtils.copyToByteArray(request.getInputStream());\r\n        Map&lt;String, Object&gt; jsonRequest = new ObjectMapper().readValue(body, Map.class);\r\n\r\n        String email = jsonRequest.get(&quot;email&quot;).toString();\r\n        String password = jsonRequest.get(&quot;password&quot;).toString();\r\n\r\n        UsernamePasswordAuthenticationToken authentication =\r\n                new UsernamePasswordAuthenticationToken(email, password);\r\n\r\n        authenticationManager.authenticate(authentication);\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    @Override\r\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\r\n        return !request.getServletPath().equals(&quot;/login&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CustomAuthenticationManager implements AuthenticationManager {\r\n\r\n    private final CustomAuthenticationProvider authenticationProvider;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        return authenticationProvider.authenticate(authentication);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\n@Component\r\n@RequiredArgsConstructor\r\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\r\n\r\n    private final UserDetailsService userDetailsService;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    @Override\r\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n        String username = authentication.getName();\r\n        String password = String.valueOf(authentication.getCredentials());\r\n\r\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\r\n\r\n        if(passwordEncoder.matches(password, userDetails.getPassword())) {\r\n            UsernamePasswordAuthenticationToken authenticationToken =\r\n                    new UsernamePasswordAuthenticationToken(\r\n                            userDetails,\r\n                            null,\r\n                            userDetails.getAuthorities());\r\n\r\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\r\n\r\n            return authenticationToken;\r\n\r\n        } else {\r\n            throw new BadCredentialsException(&quot;Authentication failed&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean supports(Class&lt;?&gt; authentication) {\r\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nEverything that I came up with. I need this custom authentication filter because I wanna have 2 providers(1 for user/pass authentication and 1 for otp authentication).\r\n\r\nAfter I tried debugging, it seems like my user is being authenticated in the end, but I still get a 403 on the /login route. Can someone explain me why?","title":"Why is my authentication login not working?","body":"<p>Can someone explain to me why this authentication logic is not working? Ty</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RequiredArgsConstructor\npublic class WebSecurityConfig {\n\n    private final InitialAuthenticationFilter initialAuthenticationFilter;\n    private final CustomAuthenticationProvider authenticationProvider;\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable);\n\n        http.authenticationProvider(authenticationProvider)\n                .sessionManagement(session -&gt; session.sessionCreationPolicy(SessionCreationPolicy.STATELESS))\n                        .addFilterAt(initialAuthenticationFilter, UsernamePasswordAuthenticationFilter.class);\n\n\n        http.authorizeHttpRequests(authorization -&gt;\n                authorization\n//                        .requestMatchers(HttpMethod.POST, &quot;/register&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\n                        .anyRequest().authenticated());\n\n        return http.build();\n    }\n}\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class InitialAuthenticationFilter extends OncePerRequestFilter {\n\n    private final AuthenticationManager authenticationManager;\n\n    @Override\n    protected void doFilterInternal(\n            HttpServletRequest request,\n            HttpServletResponse response,\n            FilterChain filterChain\n    ) throws ServletException, IOException {\n        byte[] body = StreamUtils.copyToByteArray(request.getInputStream());\n        Map&lt;String, Object&gt; jsonRequest = new ObjectMapper().readValue(body, Map.class);\n\n        String email = jsonRequest.get(&quot;email&quot;).toString();\n        String password = jsonRequest.get(&quot;password&quot;).toString();\n\n        UsernamePasswordAuthenticationToken authentication =\n                new UsernamePasswordAuthenticationToken(email, password);\n\n        authenticationManager.authenticate(authentication);\n\n        filterChain.doFilter(request, response);\n    }\n\n    @Override\n    protected boolean shouldNotFilter(HttpServletRequest request) throws ServletException {\n        return !request.getServletPath().equals(&quot;/login&quot;);\n    }\n}\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CustomAuthenticationManager implements AuthenticationManager {\n\n    private final CustomAuthenticationProvider authenticationProvider;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        return authenticationProvider.authenticate(authentication);\n    }\n}\n</code></pre>\n<pre><code>@Component\n@RequiredArgsConstructor\npublic class CustomAuthenticationProvider implements AuthenticationProvider {\n\n    private final UserDetailsService userDetailsService;\n    private final PasswordEncoder passwordEncoder;\n\n    @Override\n    public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n        String username = authentication.getName();\n        String password = String.valueOf(authentication.getCredentials());\n\n        UserDetails userDetails = userDetailsService.loadUserByUsername(username);\n\n        if(passwordEncoder.matches(password, userDetails.getPassword())) {\n            UsernamePasswordAuthenticationToken authenticationToken =\n                    new UsernamePasswordAuthenticationToken(\n                            userDetails,\n                            null,\n                            userDetails.getAuthorities());\n\n            SecurityContextHolder.getContext().setAuthentication(authenticationToken);\n\n            return authenticationToken;\n\n        } else {\n            throw new BadCredentialsException(&quot;Authentication failed&quot;);\n        }\n    }\n\n    @Override\n    public boolean supports(Class&lt;?&gt; authentication) {\n        return authentication.equals(UsernamePasswordAuthenticationToken.class);\n    }\n}\n</code></pre>\n<p>Everything that I came up with. I need this custom authentication filter because I wanna have 2 providers(1 for user/pass authentication and 1 for otp authentication).</p>\n<p>After I tried debugging, it seems like my user is being authenticated in the end, but I still get a 403 on the /login route. Can someone explain me why?</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":430272,"reputation":4294,"user_id":813618,"accept_rate":82,"display_name":"Rakesh"},"score":0,"creation_date":1371714943,"post_id":17208146,"comment_id":24926196,"body_markdown":"can you show the stacktrace ?","body":"can you show the stacktrace ?"},{"owner":{"account_id":2545112,"reputation":1873,"user_id":2210064,"accept_rate":80,"display_name":"Rajesh Hatwar"},"score":0,"creation_date":1371719406,"post_id":17208146,"comment_id":24928552,"body_markdown":"i am getting like error: java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;192.168.1.37&#39; (using password: NO)","body":"i am getting like error: java.sql.SQLException: Access denied for user &#39;root&#39;@&#39;192.168.1.37&#39; (using password: NO)"}],"answers":[{"tags":[],"owner":{"account_id":2023007,"reputation":2962,"user_id":1808743,"accept_rate":88,"display_name":"Joshua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371715069,"creation_date":1371715069,"answer_id":17208235,"question_id":17208146,"body_markdown":"If it&#39;s really `password=&quot;&quot;` what stands in your properties file, then `&quot;&quot;` will be sent as password. Not an empty string but the two quote signs.","title":"Mysql Connection with out password using corejava program","body":"<p>If it's really <code>password=\"\"</code> what stands in your properties file, then <code>\"\"</code> will be sent as password. Not an empty string but the two quote signs.</p>\n"},{"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371715961,"creation_date":1371715146,"answer_id":17208269,"question_id":17208146,"body_markdown":"Pass `null` as password instead of an empty String. That should make it work.\r\n\r\n    con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null);\r\n\r\nFrom what I see right now, you&#39;re actually not using the values from the properties file.","title":"Mysql Connection with out password using corejava program","body":"<p>Pass <code>null</code> as password instead of an empty String. That should make it work.</p>\n\n<pre><code>con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",null);\n</code></pre>\n\n<p>From what I see right now, you're actually not using the values from the properties file.</p>\n"},{"tags":[],"owner":{"account_id":2921966,"reputation":3572,"user_id":2504013,"accept_rate":86,"display_name":"JREN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371715223,"creation_date":1371715223,"answer_id":17208295,"question_id":17208146,"body_markdown":"Remove the 2 quotes after password in your properties file.\r\nSo `password=&quot;&quot;`should be `password=`","title":"Mysql Connection with out password using corejava program","body":"<p>Remove the 2 quotes after password in your properties file.\nSo <code>password=\"\"</code>should be <code>password=</code></p>\n"},{"tags":[],"owner":{"account_id":1773932,"reputation":11088,"user_id":1618135,"accept_rate":78,"display_name":"blackpanther"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1371715323,"creation_date":1371715323,"answer_id":17208321,"question_id":17208146,"body_markdown":"The password argument should be set to `null` because even an empty String `&quot;&quot;` implies that there is a password.\r\n\r\n    DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null)","title":"Mysql Connection with out password using corejava program","body":"<p>The password argument should be set to <code>null</code> because even an empty String <code>\"\"</code> implies that there is a password.</p>\n\n<pre><code>DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",null)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":239222,"reputation":1447,"user_id":508662,"accept_rate":83,"display_name":"sachin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1371715868,"creation_date":1371715483,"answer_id":17208373,"question_id":17208146,"body_markdown":"    URL=jdbc\\:mysql\\://192.168.1.51:3306/easylibdb1\r\n    USER=root\r\n    PASSWD=\r\n    DRIVER=com.mysql.jdbc.Driver\r\n\r\nPlease set ur PASSWORD Field as blank.. Don&#39;t put quote.","title":"Mysql Connection with out password using corejava program","body":"<pre><code>URL=jdbc\\:mysql\\://192.168.1.51:3306/easylibdb1\nUSER=root\nPASSWD=\nDRIVER=com.mysql.jdbc.Driver\n</code></pre>\n\n<p>Please set ur PASSWORD Field as blank.. Don't put quote.</p>\n"},{"tags":[],"owner":{"account_id":430272,"reputation":4294,"user_id":813618,"accept_rate":82,"display_name":"Rakesh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1371721042,"creation_date":1371721042,"answer_id":17210278,"question_id":17208146,"body_markdown":"`using password: NO` - this means the program is **not** passing any password, in your case that is correct.\r\n\r\nSince you mention that you are reading the values from the properties file, I don&#39;t see you doing that in the code you have posted. If you are really **reading the values from the properties file in your actual code**, and the MySQL server is a **remote server**, then make sure that you **grant relevant permissions** on the remote MySQL server with the below statement\r\n\r\n`grant all privileges on easylibdb1.* to &#39;root&#39;@&#39;192.168.1.51&#39;` to allow connections originating from 192.168.1.51\r\n\r\nor \r\n\r\n`grant all privileges on easylibdb1.* to &#39;root&#39;@&#39;%&#39;` to allow connections originating from anywhere\r\n","title":"Mysql Connection with out password using corejava program","body":"<p><code>using password: NO</code> - this means the program is <strong>not</strong> passing any password, in your case that is correct.</p>\n\n<p>Since you mention that you are reading the values from the properties file, I don't see you doing that in the code you have posted. If you are really <strong>reading the values from the properties file in your actual code</strong>, and the MySQL server is a <strong>remote server</strong>, then make sure that you <strong>grant relevant permissions</strong> on the remote MySQL server with the below statement</p>\n\n<p><code>grant all privileges on easylibdb1.* to 'root'@'192.168.1.51'</code> to allow connections originating from 192.168.1.51</p>\n\n<p>or </p>\n\n<p><code>grant all privileges on easylibdb1.* to 'root'@'%'</code> to allow connections originating from anywhere</p>\n"},{"tags":[],"owner":{"account_id":3870675,"reputation":472,"user_id":3206014,"accept_rate":100,"display_name":"Tilak Raj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1403794150,"creation_date":1403794150,"answer_id":24433631,"question_id":17208146,"body_markdown":"    con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null);","title":"Mysql Connection with out password using corejava program","body":"<pre><code>con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",null);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15442966,"reputation":1,"user_id":11140924,"display_name":"Samaresh Maiti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582694834,"creation_date":1581868206,"answer_id":60250244,"question_id":17208146,"body_markdown":"According to you, you are passing username as root and password as empty string.And your connection is established through\r\n\r\n    con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,&quot;&quot;);\r\n\r\nSo change your function as \r\n\r\n    con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null);\r\n\r\nThen it will work.\r\nOr change the password in the `application.properties` file as \r\n\r\n    password=","title":"Mysql Connection with out password using corejava program","body":"<p>According to you, you are passing username as root and password as empty string.And your connection is established through</p>\n\n<pre><code>con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",\"\");\n</code></pre>\n\n<p>So change your function as </p>\n\n<pre><code>con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",null);\n</code></pre>\n\n<p>Then it will work.\nOr change the password in the <code>application.properties</code> file as </p>\n\n<pre><code>password=\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14838134,"reputation":1,"user_id":10715592,"display_name":"Sujata R"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690282266,"creation_date":1687928184,"answer_id":76570155,"question_id":17208146,"body_markdown":"You have left the password field empty. However, for connecting to a MySQL database, you typically need to provide a valid password. \r\n\r\nIn your case, you can pass &quot;null&quot; as the password and it should do the trick.\r\n\r\n    con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null)\r\n\r\nBut generally, having a password improves security. Hope this helps!\r\n\r\n","title":"Mysql Connection with out password using corejava program","body":"<p>You have left the password field empty. However, for connecting to a MySQL database, you typically need to provide a valid password.</p>\n<p>In your case, you can pass &quot;null&quot; as the password and it should do the trick.</p>\n<pre><code>con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,null)\n</code></pre>\n<p>But generally, having a password improves security. Hope this helps!</p>\n"}],"owner":{"account_id":2545112,"reputation":1873,"user_id":2210064,"accept_rate":80,"display_name":"Rajesh Hatwar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7333,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":17210278,"answer_count":9,"score":4,"last_activity_date":1690282266,"creation_date":1371714814,"question_id":17208146,"body_markdown":"I want to connect to a MySQL database. While installing MySQL I did not give any password, so in my program I did the same but I am getting error on connection. I am using properties file to get the driver, URL, username and password. Help me pleas.\r\n\r\nThis is my code:\r\n\r\n  \ttry\r\n\t{\r\n\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n\t\tcon=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/easylibdb1&quot;,&quot;root&quot;,&quot;&quot;);\r\n\t} \r\n\tcatch (Exception e) \r\n\t{\r\n\t\tSystem.out.println(&quot;Got Error While Connecting To Database...!&quot;);\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\nThis is my properties file content:\r\n\r\n    driver=com.mysql.jdbc.Driver\r\n    url=jdbc:mysql://192.168.1.51:3306/easylibdb1\r\n    user=root\r\n    password=&quot;&quot;","title":"Mysql Connection with out password using corejava program","body":"<p>I want to connect to a MySQL database. While installing MySQL I did not give any password, so in my program I did the same but I am getting error on connection. I am using properties file to get the driver, URL, username and password. Help me pleas.</p>\n\n<p>This is my code:</p>\n\n<pre><code>try\n{\n    Class.forName(\"com.mysql.jdbc.Driver\");\n    con=DriverManager.getConnection(\"jdbc:mysql://localhost:3306/easylibdb1\",\"root\",\"\");\n} \ncatch (Exception e) \n{\n    System.out.println(\"Got Error While Connecting To Database...!\");\n    e.printStackTrace();\n}\n</code></pre>\n\n<p>This is my properties file content:</p>\n\n<pre><code>driver=com.mysql.jdbc.Driver\nurl=jdbc:mysql://192.168.1.51:3306/easylibdb1\nuser=root\npassword=\"\"\n</code></pre>\n"},{"tags":["java","jdbc","cnosdb"],"comments":[{"owner":{"account_id":14376658,"reputation":383,"user_id":10384954,"display_name":"Wladimir Diskowski"},"score":0,"creation_date":1690289196,"post_id":76761954,"comment_id":135329983,"body_markdown":"You can set maxFieldSize if your current Statement Implementation supports that. For Instance here\n https://github.com/apache/calcite-avatica/blob/main/core/src/main/java/org/apache/calcite/avatica/AvaticaStatement.java#L286\nyou will get similar Exception","body":"You can set maxFieldSize if your current Statement Implementation supports that. For Instance here  <a href=\"https://github.com/apache/calcite-avatica/blob/main/core/src/main/java/org/apache/calcite/avatica/AvaticaStatement.java#L286\" rel=\"nofollow noreferrer\">github.com/apache/calcite-avatica/blob/main/core/src/main/ja&zwnj;&#8203;va/&hellip;</a> you will get similar Exception"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690296422,"post_id":76761954,"comment_id":135331853,"body_markdown":"This is the driver, because in the JDBC API, `Statement` is an interface, and `setMaxFieldSize` does not have a default implementation, so any errors are provided by the implementation (i.e. the JDBC driver). However, I&#39;d be curious to know **why** are you trying to set it? In general, there is no good reason to set it (and support between JDBC drivers is spotty at best).","body":"This is the driver, because in the JDBC API, <code>Statement</code> is an interface, and <code>setMaxFieldSize</code> does not have a default implementation, so any errors are provided by the implementation (i.e. the JDBC driver). However, I&#39;d be curious to know <b>why</b> are you trying to set it? In general, there is no good reason to set it (and support between JDBC drivers is spotty at best)."}],"owner":{"account_id":19518277,"reputation":143,"user_id":14280692,"display_name":"Baker X"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690282069,"creation_date":1690282069,"question_id":76761954,"body_markdown":"I am adding cnosdb jdbc use case, the code as follow\r\n\r\n```\r\n    @Test\r\n    public void test_Jdbc_field_size() throws SQLException {\r\n        String url = &quot;jdbc:arrow-flight-sql://localhost:8904&quot;;\r\n        final Properties properties = new Properties();\r\n        properties.put(&quot;user&quot;, &quot;root&quot;); //用户名\r\n        properties.put(&quot;password&quot;, &quot;&quot;);  //密码\r\n        properties.put(&quot;tenant&quot;, &quot;cnosdb&quot;);//租户\r\n        properties.put(&quot;db&quot;, &quot;public&quot;);// db\r\n        properties.put(&quot;useEncryption&quot;, false);\r\n        Connection conn = DriverManager.getConnection(url, properties);\r\n        Statement stmt = conn.createStatement();\r\n        int rs003 = stmt.getMaxFieldSize();\r\n        assertTrue(rs003 == 0);\r\n        stmt.setMaxFieldSize(1024);\r\n        \r\n        stmt.close();\r\n        conn.close();\r\n    }\r\n```\r\n\r\nthe result always, as follow\r\n\r\n```\r\nSQL illegal maxField value: 1024\r\n```\r\n\r\nI check the doc,as\r\n\r\n`The maxFieldSize limit (in bytes) is set to limit the size of data that can be returned for any column value; it only applies to BINARY, VARBINARY, LONGVARBINARY, CHAR, VARCHAR, and LONGVARCHAR fields. If the limit is exceeded, the excess data is silently discarded. For maximum portability use values greater than 256.`\r\n\r\nflight-sql-jdbc-driver:12.0.1, arrow-jdbc:12.0.1","title":"SQL illegal maxField value: 1024, Is it jdbc issue or cnosdb issue?","body":"<p>I am adding cnosdb jdbc use case, the code as follow</p>\n<pre><code>    @Test\n    public void test_Jdbc_field_size() throws SQLException {\n        String url = &quot;jdbc:arrow-flight-sql://localhost:8904&quot;;\n        final Properties properties = new Properties();\n        properties.put(&quot;user&quot;, &quot;root&quot;); //用户名\n        properties.put(&quot;password&quot;, &quot;&quot;);  //密码\n        properties.put(&quot;tenant&quot;, &quot;cnosdb&quot;);//租户\n        properties.put(&quot;db&quot;, &quot;public&quot;);// db\n        properties.put(&quot;useEncryption&quot;, false);\n        Connection conn = DriverManager.getConnection(url, properties);\n        Statement stmt = conn.createStatement();\n        int rs003 = stmt.getMaxFieldSize();\n        assertTrue(rs003 == 0);\n        stmt.setMaxFieldSize(1024);\n        \n        stmt.close();\n        conn.close();\n    }\n</code></pre>\n<p>the result always, as follow</p>\n<pre><code>SQL illegal maxField value: 1024\n</code></pre>\n<p>I check the doc,as</p>\n<p><code>The maxFieldSize limit (in bytes) is set to limit the size of data that can be returned for any column value; it only applies to BINARY, VARBINARY, LONGVARBINARY, CHAR, VARCHAR, and LONGVARCHAR fields. If the limit is exceeded, the excess data is silently discarded. For maximum portability use values greater than 256.</code></p>\n<p>flight-sql-jdbc-driver:12.0.1, arrow-jdbc:12.0.1</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1313130325,"post_id":7036324,"comment_id":8407735,"body_markdown":"Do you want to accept, for example, `076`?","body":"Do you want to accept, for example, <code>076</code>?"},{"owner":{"account_id":78651,"reputation":10536,"user_id":223686,"accept_rate":82,"display_name":"Zeemee"},"score":0,"creation_date":1313130841,"post_id":7036324,"comment_id":8407835,"body_markdown":"@Karl Knechtel: But I can sacrifice this feature for the sake of simplicity.","body":"@Karl Knechtel: But I can sacrifice this feature for the sake of simplicity."},{"owner":{"account_id":106337,"reputation":30941,"user_id":283311,"accept_rate":76,"display_name":"Ken"},"score":3,"creation_date":1398661386,"post_id":7036324,"comment_id":35728606,"body_markdown":"“Any positive integer, excluding 0” note that 0 is not a positive integer.","body":"“Any positive integer, excluding 0” note that 0 is not a positive integer."}],"answers":[{"tags":[],"owner":{"account_id":299251,"reputation":335905,"user_id":605744,"accept_rate":100,"display_name":"Tomasz Nurkiewicz"},"down_vote_count":5,"up_vote_count":228,"is_accepted":true,"score":223,"last_activity_date":1564483513,"creation_date":1313130289,"answer_id":7036361,"question_id":7036324,"body_markdown":"Try this:\r\n\r\n    ^[1-9]\\d*$\r\n\r\n...and some padding to exceed 30 character SO answer limit :-).\r\n\r\n\r\n[Here is Demo\r\n][1]\r\n\r\n\r\n  [1]: https://regex101.com/r/BlHg0v/1","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Try this:</p>\n\n<pre><code>^[1-9]\\d*$\n</code></pre>\n\n<p>...and some padding to exceed 30 character SO answer limit :-).</p>\n\n<p><a href=\"https://regex101.com/r/BlHg0v/1\" rel=\"noreferrer\">Here is Demo\n</a></p>\n"},{"tags":[],"owner":{"account_id":78651,"reputation":10536,"user_id":223686,"accept_rate":82,"display_name":"Zeemee"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313130309,"creation_date":1313130309,"answer_id":7036362,"question_id":7036324,"body_markdown":"Got this one:\r\n\r\n    ^[1-9]|[0-9]{2,}$\r\n\r\nSomeone beats it? :)","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Got this one:</p>\n\n<pre><code>^[1-9]|[0-9]{2,}$\n</code></pre>\n\n<p>Someone beats it? :)</p>\n"},{"tags":[],"owner":{"account_id":118410,"reputation":62909,"user_id":309412,"accept_rate":74,"display_name":"Lie Ryan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313206689,"creation_date":1313130484,"answer_id":7036391,"question_id":7036324,"body_markdown":"You might want this (edit: allow number of the form `0123`):\r\n \r\n    ^\\\\+?[1-9]$|^\\\\+?\\d+$\r\n\r\nhowever, if it were me, I would instead do \r\n\r\n    int x = Integer.parseInt(s)\r\n    if (x &gt; 0) {...}","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>You might want this (edit: allow number of the form <code>0123</code>):</p>\n\n<pre><code>^\\\\+?[1-9]$|^\\\\+?\\d+$\n</code></pre>\n\n<p>however, if it were me, I would instead do </p>\n\n<pre><code>int x = Integer.parseInt(s)\nif (x &gt; 0) {...}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"down_vote_count":0,"up_vote_count":82,"is_accepted":false,"score":82,"last_activity_date":1313130677,"creation_date":1313130677,"answer_id":7036407,"question_id":7036324,"body_markdown":"Sorry to come in late but the OP wants to allow `076` but probably does NOT want to allow `0000000000`.\r\n\r\nSo in this case we want a _string of one or more digits containing at least one non-zero_.  That is\r\n\r\n    ^[0-9]*[1-9][0-9]*$\r\n\r\n","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Sorry to come in late but the OP wants to allow <code>076</code> but probably does NOT want to allow <code>0000000000</code>.</p>\n\n<p>So in this case we want a <em>string of one or more digits containing at least one non-zero</em>.  That is</p>\n\n<pre><code>^[0-9]*[1-9][0-9]*$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6186,"reputation":30259,"user_id":10311,"display_name":"porges"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1313130768,"creation_date":1313130768,"answer_id":7036419,"question_id":7036324,"body_markdown":"Just for fun, another alternative using lookaheads:\r\n\r\n    ^(?=\\d*[1-9])\\d+$\r\n\r\nAs many digits as you want, but at least one must be `[1-9]`. ","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Just for fun, another alternative using lookaheads:</p>\n\n<pre><code>^(?=\\d*[1-9])\\d+$\n</code></pre>\n\n<p>As many digits as you want, but at least one must be <code>[1-9]</code>. </p>\n"},{"tags":[],"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1313130773,"creation_date":1313130773,"answer_id":7036420,"question_id":7036324,"body_markdown":"You might try a negative lookahead assertion:\r\n\r\n    ^(?!0+$)\\d+$","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>You might try a negative lookahead assertion:</p>\n\n<pre><code>^(?!0+$)\\d+$\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user3038487"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1385504963,"creation_date":1385504963,"answer_id":20229343,"question_id":7036324,"body_markdown":"^[1-9]*$ is the simplest I can think of","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>^[1-9]*$ is the simplest I can think of</p>\n"},{"tags":[],"owner":{"account_id":1770112,"reputation":3541,"user_id":1615100,"accept_rate":25,"display_name":"manoj"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1440596701,"creation_date":1440596701,"answer_id":32228415,"question_id":7036324,"body_markdown":"`^\\d*[1-9]\\d*$`   \r\n\r\nthis can include all positive values, even if it is padded by Zero in the front\r\n\r\nAllows\r\n\r\n1\r\n\r\n01\r\n\r\n10\r\n\r\n11  etc\r\n\r\ndo not allow\r\n\r\n0 \r\n\r\n00\r\n\r\n000 etc..\r\n","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p><code>^\\d*[1-9]\\d*$</code>   </p>\n\n<p>this can include all positive values, even if it is padded by Zero in the front</p>\n\n<p>Allows</p>\n\n<p>1</p>\n\n<p>01</p>\n\n<p>10</p>\n\n<p>11  etc</p>\n\n<p>do not allow</p>\n\n<p>0 </p>\n\n<p>00</p>\n\n<p>000 etc..</p>\n"},{"tags":[],"owner":{"account_id":7312529,"reputation":376,"user_id":5571236,"display_name":"Palash Kanti Kundu"},"down_vote_count":2,"up_vote_count":21,"is_accepted":false,"score":19,"last_activity_date":1457935436,"creation_date":1457935436,"answer_id":35980519,"question_id":7036324,"body_markdown":"Try this one, this one works best to suffice the requiremnt.\r\n\r\n    [1-9][0-9]*\r\n\r\nHere is the sample output\r\n\r\n    String 0 matches regex: false\r\n    String 1 matches regex: true\r\n    String 2 matches regex: true\r\n    String 3 matches regex: true\r\n    String 4 matches regex: true\r\n    String 5 matches regex: true\r\n    String 6 matches regex: true\r\n    String 7 matches regex: true\r\n    String 8 matches regex: true\r\n    String 9 matches regex: true\r\n    String 10 matches regex: true\r\n    String 11 matches regex: true\r\n    String 12 matches regex: true\r\n    String 13 matches regex: true\r\n    String 14 matches regex: true\r\n    String 15 matches regex: true\r\n    String 16 matches regex: true\r\n    String 999 matches regex: true\r\n    String 2654 matches regex: true\r\n    String 25633 matches regex: true\r\n    String 254444 matches regex: true\r\n    String 0.1 matches regex: false\r\n    String 0.2 matches regex: false\r\n    String 0.3 matches regex: false\r\n    String -1 matches regex: false\r\n    String -2 matches regex: false\r\n    String -5 matches regex: false\r\n    String -6 matches regex: false\r\n    String -6.8 matches regex: false\r\n    String -9 matches regex: false\r\n    String -54 matches regex: false\r\n    String -29 matches regex: false\r\n    String 1000 matches regex: true\r\n    String 100000 matches regex: true\r\n\r\n","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Try this one, this one works best to suffice the requiremnt.</p>\n\n<pre><code>[1-9][0-9]*\n</code></pre>\n\n<p>Here is the sample output</p>\n\n<pre><code>String 0 matches regex: false\nString 1 matches regex: true\nString 2 matches regex: true\nString 3 matches regex: true\nString 4 matches regex: true\nString 5 matches regex: true\nString 6 matches regex: true\nString 7 matches regex: true\nString 8 matches regex: true\nString 9 matches regex: true\nString 10 matches regex: true\nString 11 matches regex: true\nString 12 matches regex: true\nString 13 matches regex: true\nString 14 matches regex: true\nString 15 matches regex: true\nString 16 matches regex: true\nString 999 matches regex: true\nString 2654 matches regex: true\nString 25633 matches regex: true\nString 254444 matches regex: true\nString 0.1 matches regex: false\nString 0.2 matches regex: false\nString 0.3 matches regex: false\nString -1 matches regex: false\nString -2 matches regex: false\nString -5 matches regex: false\nString -6 matches regex: false\nString -6.8 matches regex: false\nString -9 matches regex: false\nString -54 matches regex: false\nString -29 matches regex: false\nString 1000 matches regex: true\nString 100000 matches regex: true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":95220,"reputation":7,"user_id":259469,"display_name":"user259469"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1483899865,"creation_date":1483899748,"answer_id":41536185,"question_id":7036324,"body_markdown":"This should only allow decimals &gt; 0 \r\n\r\n    ^([0-9]\\.\\d+)|([1-9]\\d*\\.?\\d*)$\r\n","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>This should only allow decimals > 0 </p>\n\n<pre><code>^([0-9]\\.\\d+)|([1-9]\\d*\\.?\\d*)$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15828994,"reputation":11,"user_id":11420950,"display_name":"Alexander Hammans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556398099,"creation_date":1556397943,"answer_id":55884738,"question_id":7036324,"body_markdown":"This RegEx matches any Integer positive out of 0: \r\n\r\n    (?&lt;!-)(?&lt;!\\d)[1-9][0-9]*\r\n\r\nIt works with two negative lookbehinds, which search for a minus before a number, which indicates it is a negative number. It also works for any negative number larger than -9 (e.g. -22).","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>This RegEx matches any Integer positive out of 0: </p>\n\n<pre><code>(?&lt;!-)(?&lt;!\\d)[1-9][0-9]*\n</code></pre>\n\n<p>It works with two negative lookbehinds, which search for a minus before a number, which indicates it is a negative number. It also works for any negative number larger than -9 (e.g. -22).</p>\n"},{"tags":[],"owner":{"account_id":15562122,"reputation":80,"user_id":11226973,"display_name":"OleksiiMLD"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556550512,"creation_date":1556550512,"answer_id":55906156,"question_id":7036324,"body_markdown":"My pattern is complicated, but it covers exactly &quot;Any positive integer, excluding 0&quot; (1 - 2147483647, not long). \r\nIt&#39;s for decimal numbers and doesn&#39;t allow leading zeros.\r\n\r\n    ^((1?[1-9][0-9]{0,8})|20[0-9]{8}|(21[0-3][0-9]{7})|(214[0-6][0-9]{6})\r\n    |(2147[0-3][0-9]{5})|(21474[0-7][0-9]{4})|(214748[0-2][0-9]{3})\r\n    |(2147483[0-5][0-9]{2})|(21474836[0-3][0-9])|(214748364[0-7]))$\r\n","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>My pattern is complicated, but it covers exactly \"Any positive integer, excluding 0\" (1 - 2147483647, not long). \nIt's for decimal numbers and doesn't allow leading zeros.</p>\n\n<pre><code>^((1?[1-9][0-9]{0,8})|20[0-9]{8}|(21[0-3][0-9]{7})|(214[0-6][0-9]{6})\n|(2147[0-3][0-9]{5})|(21474[0-7][0-9]{4})|(214748[0-2][0-9]{3})\n|(2147483[0-5][0-9]{2})|(21474836[0-3][0-9])|(214748364[0-7]))$\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16413717,"reputation":41,"user_id":11856357,"display_name":"user11856357"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1564477682,"creation_date":1564475196,"answer_id":57267358,"question_id":7036324,"body_markdown":"Any positive integer, excluding 0: `^\\+?[1-9]\\d*$`   &lt;br&gt;\r\nAny positive integer, including 0: `^(0|\\+?[1-9]\\d*)$`","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Any positive integer, excluding 0: <code>^\\+?[1-9]\\d*$</code>   <br>\nAny positive integer, including 0: <code>^(0|\\+?[1-9]\\d*)$</code></p>\n"},{"tags":[],"owner":{"account_id":15582606,"reputation":319,"user_id":11241975,"display_name":"Dima"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690282050,"creation_date":1690281527,"answer_id":76761872,"question_id":7036324,"body_markdown":"Ugly, but match the exact range 1..2147483647\r\n\r\n    ^(214748364[0-7]|21474836[0-3]\\d|2147483[0-5]\\d{2}|214748[0-2]\\d{3}|21474[0-7]\\d{4}|2147[0-3]\\d{5}|214[0-6]\\d{6}|21[0-3]\\d{7}|20\\d{8}|1\\d{9}|[1-9]\\d{0,8})$\r\n\r\nNote:\r\n - 2000000000 to 2147483647 -&gt; `214748364[0-7]|21474836[0-3]\\d|2147483[0-5]\\d{2}|214748[0-2]\\d{3}|21474[0-7]\\d{4}|2147[0-3]\\d{5}|214[0-6]\\d{6}|21[0-3]\\d{7}|20\\d{8}`\r\n - 1000000000 to 1999999999 -&gt; `1\\d{9}`\r\n - 1 to 999999999 -&gt; `[1-9]\\d{0,8}`","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>Ugly, but match the exact range 1..2147483647</p>\n<pre><code>^(214748364[0-7]|21474836[0-3]\\d|2147483[0-5]\\d{2}|214748[0-2]\\d{3}|21474[0-7]\\d{4}|2147[0-3]\\d{5}|214[0-6]\\d{6}|21[0-3]\\d{7}|20\\d{8}|1\\d{9}|[1-9]\\d{0,8})$\n</code></pre>\n<p>Note:</p>\n<ul>\n<li>2000000000 to 2147483647 -&gt; <code>214748364[0-7]|21474836[0-3]\\d|2147483[0-5]\\d{2}|214748[0-2]\\d{3}|21474[0-7]\\d{4}|2147[0-3]\\d{5}|214[0-6]\\d{6}|21[0-3]\\d{7}|20\\d{8}</code></li>\n<li>1000000000 to 1999999999 -&gt; <code>1\\d{9}</code></li>\n<li>1 to 999999999 -&gt; <code>[1-9]\\d{0,8}</code></li>\n</ul>\n"}],"owner":{"account_id":78651,"reputation":10536,"user_id":223686,"accept_rate":82,"display_name":"Zeemee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208593,"favorite_count":0,"down_vote_count":0,"up_vote_count":117,"accepted_answer_id":7036361,"answer_count":14,"score":117,"last_activity_date":1690282050,"creation_date":1313130124,"question_id":7036324,"body_markdown":"How can `^\\d+$` be improved to disallow `0`?\r\n\r\nEDIT (Make it more concrete):  \r\n\r\n**Examples to allow:**  \r\n1  \r\n30  \r\n111  \r\n**Examples to disallow:**  \r\n0  \r\n00  \r\n-22\r\n\r\nIt doesn&#39;t matter if positive numbers with a leading zero are allowed or not (e.g. `022`).\r\n\r\nThis is for Java JDK Regex implementation.","title":"What is the regex for &quot;Any positive integer, excluding 0&quot;","body":"<p>How can <code>^\\d+$</code> be improved to disallow <code>0</code>?</p>\n\n<p>EDIT (Make it more concrete):  </p>\n\n<p><strong>Examples to allow:</strong><br>\n1<br>\n30<br>\n111<br>\n<strong>Examples to disallow:</strong><br>\n0<br>\n00<br>\n-22</p>\n\n<p>It doesn't matter if positive numbers with a leading zero are allowed or not (e.g. <code>022</code>).</p>\n\n<p>This is for Java JDK Regex implementation.</p>\n"},{"tags":["java","multithreading"],"answers":[{"tags":[],"owner":{"account_id":52827,"reputation":16482,"user_id":157921,"accept_rate":79,"display_name":"MarkPowell"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1261061989,"creation_date":1261061989,"answer_id":1922298,"question_id":1922290,"body_markdown":"There is a static method on the `Thread` Class that will return the number of active threads controlled by the JVM:\r\n\r\n`Thread.activeCount()`\r\n\r\n&gt; Returns the number of active threads in the current thread&#39;s thread group.\r\n\r\nAdditionally, external debuggers should list all active threads (and allow you to suspend any number of them) if you wish to monitor them in real-time.","title":"How to get the number of threads in a Java process","body":"<p>There is a static method on the <code>Thread</code> Class that will return the number of active threads controlled by the JVM:</p>\n\n<p><code>Thread.activeCount()</code></p>\n\n<blockquote>\n  <p>Returns the number of active threads in the current thread's thread group.</p>\n</blockquote>\n\n<p>Additionally, external debuggers should list all active threads (and allow you to suspend any number of them) if you wish to monitor them in real-time.</p>\n"},{"tags":[],"owner":{"account_id":32277,"reputation":183150,"user_id":89391,"accept_rate":79,"display_name":"miku"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1690281994,"creation_date":1261062001,"answer_id":1922300,"question_id":1922290,"body_markdown":"    java.lang.Thread.activeCount()\r\n\r\nIt will return the number of active threads in the **current thread&#39;s thread group**.\r\n\r\ndocs: http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#activeCount()\r\n\r\nNote from the docs:\r\n\r\n&gt; The value returned is only an **estimate** because the number of threads may change dynamically while this method traverses internal data structures, and might be affected by the presence of certain system threads. This method is intended primarily for debugging and monitoring purposes.","title":"How to get the number of threads in a Java process","body":"<pre><code>java.lang.Thread.activeCount()\n</code></pre>\n<p>It will return the number of active threads in the <strong>current thread's thread group</strong>.</p>\n<p>docs: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#activeCount()\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/lang/Thread.html#activeCount()</a></p>\n<p>Note from the docs:</p>\n<blockquote>\n<p>The value returned is only an <strong>estimate</strong> because the number of threads may change dynamically while this method traverses internal data structures, and might be affected by the presence of certain system threads. This method is intended primarily for debugging and monitoring purposes.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":37139,"reputation":7302,"user_id":106114,"accept_rate":94,"display_name":"laura"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1261062062,"creation_date":1261062062,"answer_id":1922305,"question_id":1922290,"body_markdown":"Useful tool for debugging java programs, it gives the number of threads and other relevant info on them:\r\n\r\n`jconsole &lt;process-id&gt;`","title":"How to get the number of threads in a Java process","body":"<p>Useful tool for debugging java programs, it gives the number of threads and other relevant info on them:</p>\n\n<p><code>jconsole &lt;process-id&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":23461,"reputation":5971,"user_id":58811,"accept_rate":100,"display_name":"Upul Bandara"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1397120028,"creation_date":1261062445,"answer_id":1922348,"question_id":1922290,"body_markdown":"        public class MainClass {\r\n\r\n    \t\tpublic static void main(String args[]) {\r\n\r\n      \t\t  Thread t = Thread.currentThread();\r\n      \t\t  t.setName(&quot;My Thread&quot;);\r\n\r\n      \t\t  t.setPriority(1);\r\n\r\n    \t\t  System.out.println(&quot;current thread: &quot; + t);\r\n\r\n    \t\t  int active = Thread.activeCount();\r\n    \t\t  System.out.println(&quot;currently active threads: &quot; + active);\r\n    \t\t  Thread all[] = new Thread[active];\r\n    \t\t  Thread.enumerate(all);\r\n\r\n    \t\t  for (int i = 0; i &lt; active; i++) {\r\n      \t\t     System.out.println(i + &quot;: &quot; + all[i]);\r\n   \t\t      }\r\n   \t\t   }\r\n\t   }\r\n","title":"How to get the number of threads in a Java process","body":"<pre><code>    public class MainClass {\n\n        public static void main(String args[]) {\n\n          Thread t = Thread.currentThread();\n          t.setName(\"My Thread\");\n\n          t.setPriority(1);\n\n          System.out.println(\"current thread: \" + t);\n\n          int active = Thread.activeCount();\n          System.out.println(\"currently active threads: \" + active);\n          Thread all[] = new Thread[active];\n          Thread.enumerate(all);\n\n          for (int i = 0; i &lt; active; i++) {\n             System.out.println(i + \": \" + all[i]);\n          }\n       }\n   }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23503,"reputation":28545,"user_id":58956,"accept_rate":91,"display_name":"gustafc"},"down_vote_count":0,"up_vote_count":86,"is_accepted":false,"score":86,"last_activity_date":1261062682,"creation_date":1261062682,"answer_id":1922383,"question_id":1922290,"body_markdown":"[`ManagementFactory.getThreadMXBean().getThreadCount()`][1] doesn&#39;t limit itself to thread groups as `Thread.activeCount()` does.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ManagementFactory.html#getThreadMXBean()","title":"How to get the number of threads in a Java process","body":"<p><a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/lang/management/ManagementFactory.html#getThreadMXBean()\" rel=\"noreferrer\"><code>ManagementFactory.getThreadMXBean().getThreadCount()</code></a> doesn't limit itself to thread groups as <code>Thread.activeCount()</code> does.</p>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1469946235,"creation_date":1463831776,"answer_id":37362606,"question_id":1922290,"body_markdown":"I have written a program to iterate all `Threads` created and printing `getState()` of each `Thread`\r\n\r\n   \r\n    import java.util.Set;\r\n\r\n    public class ThreadStatus {\r\n        public static void main(String args[]) throws Exception{\r\n    \t\tfor ( int i=0; i&lt; 5; i++){\r\n    \t\t\tThread t = new Thread(new MyThread());\r\n    \t\t\tt.setName(&quot;MyThread:&quot;+i);\r\n    \t\t\tt.start();\r\n    \t\t}\r\n    \t\tint threadCount = 0;\r\n    \t\tSet&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\r\n    \t\tfor ( Thread t : threadSet){\r\n    \t\t\tif ( t.getThreadGroup() == Thread.currentThread().getThreadGroup()){\r\n    \t\t\t\tSystem.out.println(&quot;Thread :&quot;+t+&quot;:&quot;+&quot;state:&quot;+t.getState());\r\n    \t\t\t\t++threadCount;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;Thread count started by Main thread:&quot;+threadCount);\r\n    \t}\r\n    }\r\n    \r\n    class MyThread implements Runnable{\r\n    \tpublic void run(){\r\n    \t\ttry{\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t}catch(Exception err){\r\n    \t\t\terr.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nOutput:\r\n\r\n    java ThreadStatus\r\n    \r\n    Thread :Thread[MyThread:0,5,main]:state:TIMED_WAITING\r\n    Thread :Thread[main,5,main]:state:RUNNABLE\r\n    Thread :Thread[MyThread:1,5,main]:state:TIMED_WAITING\r\n    Thread :Thread[MyThread:4,5,main]:state:TIMED_WAITING\r\n    Thread :Thread[MyThread:2,5,main]:state:TIMED_WAITING\r\n    Thread :Thread[MyThread:3,5,main]:state:TIMED_WAITING\r\n    Thread count started by Main thread:6\r\n\r\nIf you remove below condition\r\n\r\n    if ( t.getThreadGroup() == Thread.currentThread().getThreadGroup())\r\n\r\nYou will get below threads in output too, which have been started by system.\r\n\r\n   `Reference Handler, Signal Dispatcher,Attach Listener and Finalizer`. \r\n\r\n","title":"How to get the number of threads in a Java process","body":"<p>I have written a program to iterate all <code>Threads</code> created and printing <code>getState()</code> of each <code>Thread</code></p>\n\n<pre><code>import java.util.Set;\n\npublic class ThreadStatus {\n    public static void main(String args[]) throws Exception{\n        for ( int i=0; i&lt; 5; i++){\n            Thread t = new Thread(new MyThread());\n            t.setName(\"MyThread:\"+i);\n            t.start();\n        }\n        int threadCount = 0;\n        Set&lt;Thread&gt; threadSet = Thread.getAllStackTraces().keySet();\n        for ( Thread t : threadSet){\n            if ( t.getThreadGroup() == Thread.currentThread().getThreadGroup()){\n                System.out.println(\"Thread :\"+t+\":\"+\"state:\"+t.getState());\n                ++threadCount;\n            }\n        }\n        System.out.println(\"Thread count started by Main thread:\"+threadCount);\n    }\n}\n\nclass MyThread implements Runnable{\n    public void run(){\n        try{\n            Thread.sleep(2000);\n        }catch(Exception err){\n            err.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>java ThreadStatus\n\nThread :Thread[MyThread:0,5,main]:state:TIMED_WAITING\nThread :Thread[main,5,main]:state:RUNNABLE\nThread :Thread[MyThread:1,5,main]:state:TIMED_WAITING\nThread :Thread[MyThread:4,5,main]:state:TIMED_WAITING\nThread :Thread[MyThread:2,5,main]:state:TIMED_WAITING\nThread :Thread[MyThread:3,5,main]:state:TIMED_WAITING\nThread count started by Main thread:6\n</code></pre>\n\n<p>If you remove below condition</p>\n\n<pre><code>if ( t.getThreadGroup() == Thread.currentThread().getThreadGroup())\n</code></pre>\n\n<p>You will get below threads in output too, which have been started by system.</p>\n\n<p><code>Reference Handler, Signal Dispatcher,Attach Listener and Finalizer</code>. </p>\n"},{"tags":[],"owner":{"account_id":94740,"reputation":1041,"user_id":258489,"display_name":"Felipe Oliveira"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1487115556,"creation_date":1487115556,"answer_id":42238247,"question_id":1922290,"body_markdown":"Generic solution that doesn&#39;t require a GUI like jconsole (doesn&#39;t work on remote terminals), ps works for non-java processes, doesn&#39;t require a JVM installed. \r\n\r\n```ps -o nlwp &lt;pid&gt;```\r\n","title":"How to get the number of threads in a Java process","body":"<p>Generic solution that doesn't require a GUI like jconsole (doesn't work on remote terminals), ps works for non-java processes, doesn't require a JVM installed. </p>\n\n<p><code>ps -o nlwp &lt;pid&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":4174610,"reputation":4104,"user_id":4460737,"display_name":"Alihossein shahabi"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1526663578,"creation_date":1506932448,"answer_id":46521868,"question_id":1922290,"body_markdown":"Using Linux `Top` command\r\n\r\n`top -H -p (process id)`\r\n\r\nyou could get process id of one program by this method :\r\n\r\n`ps aux | grep (your program name)`\r\n\r\nfor example : \r\n\r\n`ps aux | grep user.py`","title":"How to get the number of threads in a Java process","body":"<p>Using Linux <code>Top</code> command</p>\n\n<p><code>top -H -p (process id)</code></p>\n\n<p>you could get process id of one program by this method :</p>\n\n<p><code>ps aux | grep (your program name)</code></p>\n\n<p>for example : </p>\n\n<p><code>ps aux | grep user.py</code></p>\n"},{"tags":[],"owner":{"account_id":2161668,"reputation":632,"user_id":1915711,"display_name":"jpozorio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606738811,"creation_date":1601582436,"answer_id":64162421,"question_id":1922290,"body_markdown":"Get number of threads using jstack\r\n\r\n    jstack &lt;PID&gt; | grep &#39;java.lang.Thread.State&#39; | wc -l\r\n\r\nThe result of the above code is quite different from `top -H -p &lt;PID&gt;` or `ps -o nlwp &lt;PID&gt;` because jstack gets only threads from created by the application.\r\n\r\nIn other words, jstack will not get GC threads\r\n\r\n","title":"How to get the number of threads in a Java process","body":"<p>Get number of threads using jstack</p>\n<pre><code>jstack &lt;PID&gt; | grep 'java.lang.Thread.State' | wc -l\n</code></pre>\n<p>The result of the above code is quite different from <code>top -H -p &lt;PID&gt;</code> or <code>ps -o nlwp &lt;PID&gt;</code> because jstack gets only threads from created by the application.</p>\n<p>In other words, jstack will not get GC threads</p>\n"},{"tags":[],"owner":{"account_id":9860832,"reputation":408,"user_id":7303912,"display_name":"Jose1755"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1614884641,"creation_date":1614884230,"answer_id":66481343,"question_id":1922290,"body_markdown":"   ` $ ps -p &lt;pid&gt; -lfT | wc -l `\r\n\r\nYou can get the pid using:\r\n\r\n   ` $ top  `\r\n    or \r\n    ` $ ps aux | grep (your program name) `\r\n\r\nTo get all threads, not only for one process\r\n\r\n   ` $ ps -elfT | wc -l  `\r\n\r\nThis is for centOS / Red Hat machines, it may or not work on other linux machines\r\n\r\n","title":"How to get the number of threads in a Java process","body":"<p><code>$ ps -p &lt;pid&gt; -lfT | wc -l</code></p>\n<p>You can get the pid using:</p>\n<p><code>$ top </code>\nor\n<code>$ ps aux | grep (your program name)</code></p>\n<p>To get all threads, not only for one process</p>\n<p><code>$ ps -elfT | wc -l </code></p>\n<p>This is for centOS / Red Hat machines, it may or not work on other linux machines</p>\n"},{"tags":[],"owner":{"account_id":9430455,"reputation":11,"user_id":16691224,"display_name":"Nachiketa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629227744,"creation_date":1629227744,"answer_id":68822891,"question_id":1922290,"body_markdown":"Another way:\r\nGet the process name using jps command and use that in below script snippet:\r\n\r\n```\r\n# Get the process id\r\nprocessPid=$(jps -l | grep &quot;Process Name&quot; | awk &#39;{print $1}&#39;); \r\n# Use process id to get number of threads using ps command \r\nps -M $processPid| wc -l\r\n```\r\nTested on macOS.","title":"How to get the number of threads in a Java process","body":"<p>Another way:\nGet the process name using jps command and use that in below script snippet:</p>\n<pre><code># Get the process id\nprocessPid=$(jps -l | grep &quot;Process Name&quot; | awk '{print $1}'); \n# Use process id to get number of threads using ps command \nps -M $processPid| wc -l\n</code></pre>\n<p>Tested on macOS.</p>\n"}],"owner":{"account_id":82582,"reputation":1881,"user_id":232089,"accept_rate":44,"display_name":"ndemir"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132454,"favorite_count":0,"down_vote_count":0,"up_vote_count":86,"accepted_answer_id":1922305,"answer_count":11,"score":86,"last_activity_date":1690281994,"creation_date":1261061861,"question_id":1922290,"body_markdown":"How can I see the number of threads in a Java process? ","title":"How to get the number of threads in a Java process","body":"<p>How can I see the number of threads in a Java process? </p>\n"},{"tags":["java","mysql","spring-boot"],"comments":[{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1690282232,"post_id":76761858,"comment_id":135328436,"body_markdown":"It is not clear your intentions either you want to store an user data to the db, or retrieve it. I. The first case you should use insert statement to add data. In the second case the db should already be filled up.","body":"It is not clear your intentions either you want to store an user data to the db, or retrieve it. I. The first case you should use insert statement to add data. In the second case the db should already be filled up."}],"answers":[{"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690281743,"creation_date":1690281743,"answer_id":76761912,"question_id":76761858,"body_markdown":"Seems that the form in your HTML is missing the name attribute in the input fields. The name attribute is crucial for sending the form data to the backend server. Without it, the form data will not be mapped correctly to the BookEntity class in your Spring Boot application.\r\n\r\nTo fix the issue, make sure to add the name attribute to each input field like\r\n\r\n```\r\n &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;author&quot; name=&quot;author&quot;&gt;\r\n```","title":"issue on database returning empty value , framework spring boot and MySQL , thymeleaf","body":"<p>Seems that the form in your HTML is missing the name attribute in the input fields. The name attribute is crucial for sending the form data to the backend server. Without it, the form data will not be mapped correctly to the BookEntity class in your Spring Boot application.</p>\n<p>To fix the issue, make sure to add the name attribute to each input field like</p>\n<pre><code> &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;author&quot; name=&quot;author&quot;&gt;\n</code></pre>\n"}],"owner":{"account_id":29086931,"reputation":1,"user_id":22281658,"display_name":"Kim kim"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690281743,"creation_date":1690281434,"question_id":76761858,"body_markdown":"i im working on a simple bookstore web application, back-end with spring-boot  , major issues  , code  seem to  run well  with no error but  the  database is  unable  to  receive the input data from  the  forum  user ,  database only return empty value like (?,?,?), \r\ncode below &gt;&gt;\r\n\r\n my expected result i wanted  the  given  value  to  be  store at mysql database \r\n\r\n`\r\n\r\n```\r\n&lt;div class=&quot;container my-5 p-5&quot; style=&quot;border: 1px solid black;&quot;&gt;\r\n    &lt;h4 class=&quot;text-centre&quot;&gt;New Book Register&lt;/h4&gt;\r\n    &lt;form class=&quot;col-md-4 offset-md-4&quot; th:action=&quot;@{/save}&quot;  method=&quot;post&quot;&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;author&quot; class=&quot;form-label&quot;&gt;Author&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;author&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;mb-3&quot;&gt;\r\n            &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;name&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot;&gt;\r\n        &lt;/div&gt;\r\n        &lt;div class=&quot;mb-3 form-check&quot;&gt;\r\n            &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;price&lt;/label&gt;\r\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot;&gt;\r\n        &lt;/div&gt;\r\n      &lt;div style=&quot;text-align: centre;&quot;&gt;&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;&lt;/div&gt;\r\n    &lt;/form&gt;\r\n\r\nback end---------------------\r\n@Entity\r\n\r\n@Table(name = &quot;Book&quot;)\r\npublic class BookEntity {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\r\n    private int id;\r\n    private String name;\r\n    private String author;\r\n    private String price;\r\n    public BookEntity(int id, String name, String author, String price) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.author = author;\r\n        this.price = price;\r\n    }\r\n    \r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getAuthor() {\r\n        return author;\r\n    }\r\n\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n\r\n    public String getPrice() {\r\n        return price;\r\n    }\r\n\r\n    public void set Price(String price) {\r\n        this.price = price;\r\n    }\r\n    \r\n    public Book Entity() {\r\n\r\n    }\r\n------------------------------\r\n@Controller\r\n\r\npublic class BookController {\r\n\r\n    @Autowired\r\n    private BookService service;\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\npublic   String home(){\r\n\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/book_register&quot;)\r\n    public   String bookRegister(){\r\n\r\n        return &quot;bookRegister&quot;;\r\n    }\r\n\r\n    @Get Mapping(&quot;/Available_Book&quot;)\r\n    public String AvailableBook()\r\n    {\r\n\r\n        return &quot;AvailableBook&quot;;\r\n    }\r\n\r\n     @PostMapping(&quot;/save&quot;)\r\n    public  String addBook(@ModelAttribute BookEntity b){\r\n        service.save(b);\r\n        return &quot;redirect:/Available_Book&quot;;\r\n     }\r\n\r\n\r\n@Service\r\npublic class Book Service {\r\n    @Autowired\r\n    private Book Repository repository;\r\n\r\n    public void save(Book Entity b){\r\n        repository.save(b);\r\n\r\n    }\r\n```\r\n`","title":"issue on database returning empty value , framework spring boot and MySQL , thymeleaf","body":"<p>i im working on a simple bookstore web application, back-end with spring-boot  , major issues  , code  seem to  run well  with no error but  the  database is  unable  to  receive the input data from  the  forum  user ,  database only return empty value like (?,?,?),\ncode below &gt;&gt;</p>\n<p>my expected result i wanted  the  given  value  to  be  store at mysql database</p>\n<p>`</p>\n<pre><code>&lt;div class=&quot;container my-5 p-5&quot; style=&quot;border: 1px solid black;&quot;&gt;\n    &lt;h4 class=&quot;text-centre&quot;&gt;New Book Register&lt;/h4&gt;\n    &lt;form class=&quot;col-md-4 offset-md-4&quot; th:action=&quot;@{/save}&quot;  method=&quot;post&quot;&gt;\n        &lt;div class=&quot;mb-3&quot;&gt;\n            &lt;label for=&quot;author&quot; class=&quot;form-label&quot;&gt;Author&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;author&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;mb-3&quot;&gt;\n            &lt;label for=&quot;name&quot; class=&quot;form-label&quot;&gt;name&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;name&quot;&gt;\n        &lt;/div&gt;\n        &lt;div class=&quot;mb-3 form-check&quot;&gt;\n            &lt;label for=&quot;price&quot; class=&quot;form-label&quot;&gt;price&lt;/label&gt;\n            &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;price&quot;&gt;\n        &lt;/div&gt;\n      &lt;div style=&quot;text-align: centre;&quot;&gt;&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Submit&lt;/button&gt;&lt;/div&gt;\n    &lt;/form&gt;\n\nback end---------------------\n@Entity\n\n@Table(name = &quot;Book&quot;)\npublic class BookEntity {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n\n    private int id;\n    private String name;\n    private String author;\n    private String price;\n    public BookEntity(int id, String name, String author, String price) {\n        this.id = id;\n        this.name = name;\n        this.author = author;\n        this.price = price;\n    }\n    \n    public int getId() {\n        return id;\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getAuthor() {\n        return author;\n    }\n\n    public void setAuthor(String author) {\n        this.author = author;\n    }\n\n    public String getPrice() {\n        return price;\n    }\n\n    public void set Price(String price) {\n        this.price = price;\n    }\n    \n    public Book Entity() {\n\n    }\n------------------------------\n@Controller\n\npublic class BookController {\n\n    @Autowired\n    private BookService service;\n\n    @RequestMapping(&quot;/&quot;)\npublic   String home(){\n\n        return &quot;home&quot;;\n    }\n\n    @GetMapping(&quot;/book_register&quot;)\n    public   String bookRegister(){\n\n        return &quot;bookRegister&quot;;\n    }\n\n    @Get Mapping(&quot;/Available_Book&quot;)\n    public String AvailableBook()\n    {\n\n        return &quot;AvailableBook&quot;;\n    }\n\n     @PostMapping(&quot;/save&quot;)\n    public  String addBook(@ModelAttribute BookEntity b){\n        service.save(b);\n        return &quot;redirect:/Available_Book&quot;;\n     }\n\n\n@Service\npublic class Book Service {\n    @Autowired\n    private Book Repository repository;\n\n    public void save(Book Entity b){\n        repository.save(b);\n\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring","unit-testing","authentication","lombok"],"comments":[{"owner":{"account_id":10235034,"reputation":10879,"user_id":7554328,"display_name":"Darren Forsythe"},"score":1,"creation_date":1603738595,"post_id":64543266,"comment_id":114126069,"body_markdown":"https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html","body":"<a href=\"https://docs.spring.io/spring-security/site/docs/5.2.x/reference/html/test.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.x/reference/htm&zwnj;&#8203;l/&hellip;</a>"},{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":1,"creation_date":1604347402,"post_id":64543266,"comment_id":114315161,"body_markdown":"Can you share the method to be tested and the test you want to perform? What and how to mock?","body":"Can you share the method to be tested and the test you want to perform? What and how to mock?"},{"owner":{"account_id":14401561,"reputation":582,"user_id":10403022,"display_name":"Sam"},"score":1,"creation_date":1604395190,"post_id":64543266,"comment_id":114327863,"body_markdown":"If you&#39;re using mockito you could do                                                                       \n\n    Authentication authentication = mock(Authentication.class);\n    SecurityContext securityContext = mock(SecurityContext.class);\n    when(securityContext.getAuthentication()).thenReturn(authentication);\n    SecurityContextHolder.setContext(securityContext);\n    when(SecurityContextHolder.getContext().getAuthentication().getPrincipal())\n        .thenReturn(currentUser()); \n\nwhere the currentUser() method returns the user object","body":"If you&#39;re using mockito you could do                                                                             Authentication authentication = mock(Authentication.class);     SecurityContext securityContext = mock(SecurityContext.class);     when(securityContext.getAuthentication()).thenReturn(authent&zwnj;&#8203;ication);     SecurityContextHolder.setContext(securityContext);     when(SecurityContextHolder.getContext().getAuthentication().&zwnj;&#8203;getPrincipal())         .thenReturn(currentUser());   where the currentUser() method returns the user object"}],"answers":[{"tags":[],"owner":{"account_id":3146381,"reputation":1657,"user_id":2660789,"display_name":"Aman"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1603992024,"creation_date":1603992024,"answer_id":64596161,"question_id":64543266,"body_markdown":"The easiest solution that comes to mind is `@WithMockUser`. It does what you asked for. But, in case you are not satisfied with it, you can create an annotation and tune it to your needs.\r\n\r\nI am assuming that you have tried `@WithMockUser` and it **really** didn&#39;t fit your needs.\r\n\r\nThere are three important tasks. The first is *creating an annotation* followed by creating a class that represents a *user* of your system and finally creating *SecurityContextFactory*.\r\n\r\n1. Let&#39;s start with the annotation\r\n```\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\n\r\nimport org.springframework.security.test.context.support.WithSecurityContext;\r\n\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@WithSecurityContext(factory = WithMockAaronSecurityContextFactory.class)\r\npublic @interface WithAaronUser {\r\n\tString username() default &quot;TestUser&quot;;\r\n\tString[] roles() default { &quot;ROLE_ADMIN&quot; };\r\n}\r\n\r\n```\r\n2. A mock user class\r\n```\r\nimport java.util.Collection;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n\r\npublic class MockUserDetails {\r\n\r\n\tprivate String username;\r\n\tprivate Collection&lt;? extends GrantedAuthority&gt; authorities;\r\n\t\r\n\tpublic MockUserDetails(String username, String[] roles) {\r\n\t\tthis.username = username;\r\n\t\tthis.authorities = Stream.of(roles)\r\n\t\t\t\t.map(role -&gt; new SimpleGrantedAuthority(role)).collect(Collectors.toSet());\r\n\t}\r\n\r\n\tpublic String getUsername() {\r\n\t\treturn username;\r\n\t}\r\n\r\n\tpublic Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n\t\treturn authorities;\r\n\t}\r\n}\r\n```\r\n\r\n3 Finally the *SecurityContextFactory*. Note that the implementation uses the same factory class (`WithSecurityContextFactory`) that `@WithMockUser` uses. \r\n```\r\nimport java.io.Serializable;\r\nimport java.util.Collections;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport org.springframework.mock.web.MockHttpServletRequest;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.AuthorityUtils;\r\nimport org.springframework.security.core.context.SecurityContext;\r\nimport org.springframework.security.core.context.SecurityContextHolder;\r\nimport org.springframework.security.oauth2.provider.OAuth2Authentication;\r\nimport org.springframework.security.oauth2.provider.OAuth2Request;\r\nimport org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationDetails;\r\nimport org.springframework.security.test.context.support.WithSecurityContextFactory;\r\n\r\npublic class WithMockAaronSecurityContextFactory implements WithSecurityContextFactory&lt;WithAaronUser&gt; {\r\n\r\n\t@Override\r\n\tpublic SecurityContext createSecurityContext(WithAaronUser user) {\r\n\r\n\t\tMockUserDetails principal = new MockUserDetails(user.username(), user.roles());\r\n\r\n\t\tMockHttpServletRequest request = new MockHttpServletRequest();\r\n\t    request.setServerName(&quot;www.example.com&quot;);\r\n\t    request.setRequestURI(&quot;/token&quot;);\r\n\t    request.setQueryString(&quot;param1=value1&amp;param&quot;);\r\n\t    request.setAttribute(OAuth2AuthenticationDetails.ACCESS_TOKEN_VALUE, &quot;mocked_token&quot;);\r\n\t    OAuth2AuthenticationDetails authDetails = new OAuth2AuthenticationDetails(request);\r\n\t\t\r\n\t    Map&lt;String, String&gt; decodedDetails = new HashMap&lt;&gt;();\r\n\t    decodedDetails.put(&quot;first_name&quot;, &quot;Jean-Claude&quot;);\r\n\t    decodedDetails.put(&quot;last_name&quot;, &quot;Van Damme&quot;);\r\n\t    authDetails.setDecodedDetails(decodedDetails);\r\n\t\t\r\n\t\t\r\n\t    UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(principal.getUsername(), &quot;password&quot;, principal.getAuthorities());\r\n\t\tauth.setDetails(authDetails);\r\n\t\t\r\n\t\t\r\n\t\tList&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(&quot;ROLE_ADMIN&quot;);\r\n\t\tOAuth2Request oAuth2Request = new OAuth2Request(Collections.emptyMap(), &quot;&quot;, authorities, true, Collections.emptySet(), Collections.emptySet(), &quot;http://somethig.com&quot;, Collections.emptySet(), Collections.emptyMap());\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\tOAuth2Authentication oAuth = new OAuth2Authentication(getOauth2Request(), auth);\r\n\t    oAuth.setDetails(authDetails);\r\n\t        \r\n\t\tSecurityContext context = SecurityContextHolder.createEmptyContext();\r\n\t\tcontext.setAuthentication(oAuth);\r\n\t\treturn context;\r\n\t}\r\n}\r\n```\r\n ","title":"Mocking @AuthenticationPrincipal for a unit test","body":"<p>The easiest solution that comes to mind is <code>@WithMockUser</code>. It does what you asked for. But, in case you are not satisfied with it, you can create an annotation and tune it to your needs.</p>\n<p>I am assuming that you have tried <code>@WithMockUser</code> and it <strong>really</strong> didn't fit your needs.</p>\n<p>There are three important tasks. The first is <em>creating an annotation</em> followed by creating a class that represents a <em>user</em> of your system and finally creating <em>SecurityContextFactory</em>.</p>\n<ol>\n<li>Let's start with the annotation</li>\n</ol>\n<pre><code>import java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\n\nimport org.springframework.security.test.context.support.WithSecurityContext;\n\n@Retention(RetentionPolicy.RUNTIME)\n@WithSecurityContext(factory = WithMockAaronSecurityContextFactory.class)\npublic @interface WithAaronUser {\n    String username() default &quot;TestUser&quot;;\n    String[] roles() default { &quot;ROLE_ADMIN&quot; };\n}\n\n</code></pre>\n<ol start=\"2\">\n<li>A mock user class</li>\n</ol>\n<pre><code>import java.util.Collection;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\n\npublic class MockUserDetails {\n\n    private String username;\n    private Collection&lt;? extends GrantedAuthority&gt; authorities;\n    \n    public MockUserDetails(String username, String[] roles) {\n        this.username = username;\n        this.authorities = Stream.of(roles)\n                .map(role -&gt; new SimpleGrantedAuthority(role)).collect(Collectors.toSet());\n    }\n\n    public String getUsername() {\n        return username;\n    }\n\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        return authorities;\n    }\n}\n</code></pre>\n<p>3 Finally the <em>SecurityContextFactory</em>. Note that the implementation uses the same factory class (<code>WithSecurityContextFactory</code>) that <code>@WithMockUser</code> uses.</p>\n<pre><code>import java.io.Serializable;\nimport java.util.Collections;\nimport java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\n\nimport org.springframework.mock.web.MockHttpServletRequest;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.AuthorityUtils;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.oauth2.provider.OAuth2Authentication;\nimport org.springframework.security.oauth2.provider.OAuth2Request;\nimport org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationDetails;\nimport org.springframework.security.test.context.support.WithSecurityContextFactory;\n\npublic class WithMockAaronSecurityContextFactory implements WithSecurityContextFactory&lt;WithAaronUser&gt; {\n\n    @Override\n    public SecurityContext createSecurityContext(WithAaronUser user) {\n\n        MockUserDetails principal = new MockUserDetails(user.username(), user.roles());\n\n        MockHttpServletRequest request = new MockHttpServletRequest();\n        request.setServerName(&quot;www.example.com&quot;);\n        request.setRequestURI(&quot;/token&quot;);\n        request.setQueryString(&quot;param1=value1&amp;param&quot;);\n        request.setAttribute(OAuth2AuthenticationDetails.ACCESS_TOKEN_VALUE, &quot;mocked_token&quot;);\n        OAuth2AuthenticationDetails authDetails = new OAuth2AuthenticationDetails(request);\n        \n        Map&lt;String, String&gt; decodedDetails = new HashMap&lt;&gt;();\n        decodedDetails.put(&quot;first_name&quot;, &quot;Jean-Claude&quot;);\n        decodedDetails.put(&quot;last_name&quot;, &quot;Van Damme&quot;);\n        authDetails.setDecodedDetails(decodedDetails);\n        \n        \n        UsernamePasswordAuthenticationToken auth = new UsernamePasswordAuthenticationToken(principal.getUsername(), &quot;password&quot;, principal.getAuthorities());\n        auth.setDetails(authDetails);\n        \n        \n        List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(&quot;ROLE_ADMIN&quot;);\n        OAuth2Request oAuth2Request = new OAuth2Request(Collections.emptyMap(), &quot;&quot;, authorities, true, Collections.emptySet(), Collections.emptySet(), &quot;http://somethig.com&quot;, Collections.emptySet(), Collections.emptyMap());\n                    \n                    \n        OAuth2Authentication oAuth = new OAuth2Authentication(getOauth2Request(), auth);\n        oAuth.setDetails(authDetails);\n            \n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(oAuth);\n        return context;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":364348,"reputation":4420,"user_id":708678,"accept_rate":81,"display_name":"Aaron"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1424,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":64596161,"answer_count":1,"score":2,"last_activity_date":1690281563,"creation_date":1603738320,"question_id":64543266,"body_markdown":"I am new to spring and lombok. I am working on a unit test for a controller where the method uses `@AuthenticationPrincipal`. From what I have read it passes the information of the authenticated user into the method.  Is there a way to mock this for the unit test?","title":"Mocking @AuthenticationPrincipal for a unit test","body":"<p>I am new to spring and lombok. I am working on a unit test for a controller where the method uses <code>@AuthenticationPrincipal</code>. From what I have read it passes the information of the authenticated user into the method.  Is there a way to mock this for the unit test?</p>\n"},{"tags":["java","mysql","hibernate","spring-data-jpa"],"comments":[{"owner":{"account_id":3795830,"reputation":6437,"user_id":3150948,"accept_rate":70,"display_name":"Amer Qarabsa"},"score":0,"creation_date":1491466185,"post_id":43249308,"comment_id":73567778,"body_markdown":"Are you sure sampleDB is created?","body":"Are you sure sampleDB is created?"}],"answers":[{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1491466629,"creation_date":1491466154,"answer_id":43249370,"question_id":43249308,"body_markdown":"You connect to the database `sampleDB` which is not automatically created by mysql in contrast to h2.\r\n\r\n\r\nYou have to create it by yourself using `mysql -u &lt;user&gt; -p -e &quot;create database sampleDB&quot;`","title":"Cant create a mysql database using Spring Boot","body":"<p>You connect to the database <code>sampleDB</code> which is not automatically created by mysql in contrast to h2.</p>\n\n<p>You have to create it by yourself using <code>mysql -u &lt;user&gt; -p -e \"create database sampleDB\"</code></p>\n"},{"tags":[],"owner":{"account_id":2398734,"reputation":1036,"user_id":2096977,"accept_rate":60,"display_name":"Zubair Nabi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491466317,"creation_date":1491466317,"answer_id":43249435,"question_id":43249308,"body_markdown":"You need to create the database first. ","title":"Cant create a mysql database using Spring Boot","body":"<p>You need to create the database first. </p>\n"},{"tags":[],"owner":{"account_id":4243102,"reputation":3047,"user_id":5784939,"display_name":"Eugene Maysyuk"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1668350110,"creation_date":1522961565,"answer_id":49681336,"question_id":43249308,"body_markdown":"Neither the Spring Boot nor the Hibernate will not create database instead of you.\r\n\r\n\r\nThe setting below just creates tables and expects that DB already exists:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\n\r\n\r\nHowever when you are using embedded DB (HSQLDB, H2 ...) the database will be created automatically. This is vendor specific behavior.\r\n\r\nFor MySQL you can use the following configuration to create DB automatically:\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?createDatabaseIfNotExist=true\r\n\r\nPay attention to the connection parameter.\r\n\r\nIn this case database will be created automatically during connection.\r\n\r\n\r\n\r\n","title":"Cant create a mysql database using Spring Boot","body":"<p>Neither the Spring Boot nor the Hibernate will not create database instead of you.</p>\n<p>The setting below just creates tables and expects that DB already exists:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>However when you are using embedded DB (HSQLDB, H2 ...) the database will be created automatically. This is vendor specific behavior.</p>\n<p>For MySQL you can use the following configuration to create DB automatically:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?createDatabaseIfNotExist=true\n</code></pre>\n<p>Pay attention to the connection parameter.</p>\n<p>In this case database will be created automatically during connection.</p>\n"},{"tags":[],"owner":{"account_id":7555169,"reputation":153,"user_id":5735113,"display_name":"Nail Khaled Beneloualid"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1632759516,"creation_date":1632759516,"answer_id":69349995,"question_id":43249308,"body_markdown":"you need to add this to your configuration :\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/yourDbName?createDatabaseIfNotExist=true\r\n\r\nWrite your database name and spring will create the database automatically ","title":"Cant create a mysql database using Spring Boot","body":"<p>you need to add this to your configuration :</p>\n<p>spring.datasource.url=jdbc:mysql://localhost:3306/yourDbName?createDatabaseIfNotExist=true</p>\n<p>Write your database name and spring will create the database automatically</p>\n"},{"tags":[],"owner":{"account_id":19542335,"reputation":1,"user_id":14299847,"display_name":"Nasser Benoudi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671495980,"creation_date":1671280140,"answer_id":74834074,"question_id":43249308,"body_markdown":"In your application.properties change the line : \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB  \r\n\r\nto \r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?use=sampleDB\r\n\r\nMfG.","title":"Cant create a mysql database using Spring Boot","body":"<p>In your application.properties change the line :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB  \n</code></pre>\n<p>to</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?use=sampleDB\n</code></pre>\n<p>MfG.</p>\n"},{"tags":[],"owner":{"account_id":28761618,"reputation":61,"user_id":22027389,"display_name":"Thusitha Bandara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686218344,"creation_date":1686218344,"answer_id":76430693,"question_id":43249308,"body_markdown":"Solution 1:\r\n\r\nIn your application.properties change the line :\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB\r\nto\r\n\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?createDatabaseIfNotExist=true\r\n\r\nSolution 2:\r\n\r\nYou need to create the database first.","title":"Cant create a mysql database using Spring Boot","body":"<p>Solution 1:</p>\n<p>In your application.properties change the line :</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB\n</code></pre>\n<p>to</p>\n<pre><code>spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB?createDatabaseIfNotExist=true\n</code></pre>\n<p>Solution 2:</p>\n<p>You need to create the database first.</p>\n"},{"tags":[],"owner":{"account_id":24685526,"reputation":1,"user_id":18578768,"display_name":"Muzaffer Yenice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690281123,"creation_date":1689854449,"answer_id":76729642,"question_id":43249308,"body_markdown":"If you use `.yml` file you should do like below.\r\n\r\n\tjpa:\r\n\t\thibernate:\r\n\t\tddl-auto: create\r\n\t\tshow-sql: true\r\n\t\tdatabase-platform: org.hibernate.dialect.MySQL8Dialect\r\n\t\tproperties:\r\n\t\t&#39;[hibernate.format_sql]&#39;: true  ","title":"Cant create a mysql database using Spring Boot","body":"<p>If you use <code>.yml</code> file you should do like below.</p>\n<pre><code>jpa:\n    hibernate:\n    ddl-auto: create\n    show-sql: true\n    database-platform: org.hibernate.dialect.MySQL8Dialect\n    properties:\n    '[hibernate.format_sql]': true  \n</code></pre>\n"}],"owner":{"account_id":10362590,"reputation":207,"user_id":7642616,"accept_rate":25,"display_name":"jon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15187,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":43249370,"answer_count":7,"score":13,"last_activity_date":1690281123,"creation_date":1491465989,"question_id":43249308,"body_markdown":"I was trying to implement Spring Boot without embedded database like h2 and derby but instead with mysql. I keep getting unknown database error.\r\n\r\npom.xml:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!--\t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;--&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;5.1.38&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\napplication.properties:\r\n\r\n    #Database Configuration\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/sampleDB\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driverClassName=com.mysql.jdbc.Driver\r\n    spring.jpa.generate-ddl=true\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.jpa.show-sql=true\r\n\r\nerror:\r\n\r\n    com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database &#39;sampledb&#39;\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_111]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_111]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_111]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_111]\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.Util.getInstance(Util.java:387) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.SQLError.createSQLException(SQLError.java:939) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:871) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1215) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2255) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2286) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2085) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:795) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_111]\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_111]\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_111]\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_111]\r\n    \tat com.mysql.jdbc.Util.handleNewInstance(Util.java:404) ~[mysql-connector-java-5.1.38.jar:5.1.38]\r\n\r\nIf I use an embedded database like h2 then it is working without anything mentioned in the application.properties file but if I use MySQL I get this error. Please help.","title":"Cant create a mysql database using Spring Boot","body":"<p>I was trying to implement Spring Boot without embedded database like h2 and derby but instead with mysql. I keep getting unknown database error.</p>\n\n<p>pom.xml:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.2.RELEASE&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;!--        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;--&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n        &lt;version&gt;5.1.38&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>application.properties:</p>\n\n<pre><code>#Database Configuration\nspring.datasource.url=jdbc:mysql://localhost:3306/sampleDB\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driverClassName=com.mysql.jdbc.Driver\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.show-sql=true\n</code></pre>\n\n<p>error:</p>\n\n<pre><code>com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Unknown database 'sampledb'\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_111]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_111]\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:404) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.Util.getInstance(Util.java:387) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:939) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3878) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3814) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:871) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.MysqlIO.proceedHandshakeWithPluggableAuthentication(MysqlIO.java:1694) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.MysqlIO.doHandshake(MysqlIO.java:1215) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.ConnectionImpl.coreConnect(ConnectionImpl.java:2255) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:2286) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2085) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:795) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:44) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:1.8.0_111]\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:1.8.0_111]\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:1.8.0_111]\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423) ~[na:1.8.0_111]\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:404) ~[mysql-connector-java-5.1.38.jar:5.1.38]\n</code></pre>\n\n<p>If I use an embedded database like h2 then it is working without anything mentioned in the application.properties file but if I use MySQL I get this error. Please help.</p>\n"},{"tags":["java","selenium-webdriver","sendkeys"],"comments":[{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1690192695,"post_id":76753118,"comment_id":135314187,"body_markdown":"Does this answer your question? [Selenium Java clear method will not clear the input field?](https://stackoverflow.com/questions/69666100/selenium-java-clear-method-will-not-clear-the-input-field)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/69666100/selenium-java-clear-method-will-not-clear-the-input-field\">Selenium Java clear method will not clear the input field?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690195119,"creation_date":1690195119,"answer_id":76753659,"question_id":76753118,"body_markdown":"Try to use Actions.\r\n\r\nThis code should solve your problem:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    public void inputGross(String gross){\r\n      Actions actions = new Actions(driver);\r\n      inputGross.click();\r\n      for (char ch: gross.toCharArray()) {\r\n                actions.sendKeys(Keys.BACK_SPACE).perform();\r\n            }\r\n      actions.sendKeys(inputGross, gross).perform();\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Java Selenium delete default input field value and add own values","body":"<p>Try to use Actions.</p>\n<p>This code should solve your problem:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>public void inputGross(String gross){\n  Actions actions = new Actions(driver);\n  inputGross.click();\n  for (char ch: gross.toCharArray()) {\n            actions.sendKeys(Keys.BACK_SPACE).perform();\n        }\n  actions.sendKeys(inputGross, gross).perform();\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":23996527,"reputation":21,"user_id":17981983,"display_name":"Killig"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76753659,"answer_count":1,"score":0,"last_activity_date":1690281101,"creation_date":1690191080,"question_id":76753118,"body_markdown":"I&#39;m currently having to venture into Selenium due to a project. \r\nI&#39;m supposed to load a page automatically, log in, click and then fill in a table.\r\n\r\nEverything works until I fill out the table.\r\nMy Code:\r\n```\r\npublic void inputGross(String gross){\r\ninputGross.sendKeys(Keys.DELETE, gros);\r\n```\r\n\r\nThe problem is that the input field already contains the amount `&quot;0.00 €&quot;`. \r\nWith the Clear command, the field empties, but since it first leaves the cell and then enters again, the default value `&quot;0.00 €&quot;` is created again.\r\n\r\nWhat I have already tried:\r\n```\r\ninputGross.clear()\r\ninputGross.sendKeys(gross)\r\n\r\ninputGriss.sendKeys(Keys.chord(Keyes.CONTROLL, &quot;a&quot;), Keys.DELETE, gross));\r\n\r\ninputGriss.sendKeys(Keys.chord(Keys.CONTROLL, &quot;a&quot;), Keys.DELETE, gross, Keys.RETURN));\r\n\r\ninputGriss.sendKeys(Keys.DELETE, Keys.DELETE, Keys.DELETE, Keys.DELETE, gross, Keys.RETURN));\r\n```\r\nI have no more ideas.\r\n\r\nI also tried using `Keys.ARROW_LEFT` to go to the left side and then delete everything. But that doesn&#39;t work either.\r\n\r\nI really need help\r\n\r\n\r\n","title":"Java Selenium delete default input field value and add own values","body":"<p>I'm currently having to venture into Selenium due to a project.\nI'm supposed to load a page automatically, log in, click and then fill in a table.</p>\n<p>Everything works until I fill out the table.\nMy Code:</p>\n<pre><code>public void inputGross(String gross){\ninputGross.sendKeys(Keys.DELETE, gros);\n</code></pre>\n<p>The problem is that the input field already contains the amount <code>&quot;0.00 €&quot;</code>.\nWith the Clear command, the field empties, but since it first leaves the cell and then enters again, the default value <code>&quot;0.00 €&quot;</code> is created again.</p>\n<p>What I have already tried:</p>\n<pre><code>inputGross.clear()\ninputGross.sendKeys(gross)\n\ninputGriss.sendKeys(Keys.chord(Keyes.CONTROLL, &quot;a&quot;), Keys.DELETE, gross));\n\ninputGriss.sendKeys(Keys.chord(Keys.CONTROLL, &quot;a&quot;), Keys.DELETE, gross, Keys.RETURN));\n\ninputGriss.sendKeys(Keys.DELETE, Keys.DELETE, Keys.DELETE, Keys.DELETE, gross, Keys.RETURN));\n</code></pre>\n<p>I have no more ideas.</p>\n<p>I also tried using <code>Keys.ARROW_LEFT</code> to go to the left side and then delete everything. But that doesn't work either.</p>\n<p>I really need help</p>\n"},{"tags":["java","android-permissions","android-external-storage","android-storage","android-13"],"owner":{"account_id":28802482,"reputation":1,"user_id":22059025,"display_name":"Jaldeep Joshi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":249,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690281026,"creation_date":1687337952,"question_id":76521586,"body_markdown":"I am trying to store image bitmap to External Storage.\r\n\r\nAs per documentation we need only read media image permission but in real device it shows permission required to write into storage.\r\n\r\nI can read gallery images but not able to write to external storage.","title":"Android 13 read media image permission not working","body":"<p>I am trying to store image bitmap to External Storage.</p>\n<p>As per documentation we need only read media image permission but in real device it shows permission required to write into storage.</p>\n<p>I can read gallery images but not able to write to external storage.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1690249546,"post_id":76758956,"comment_id":135323730,"body_markdown":"Possible [XY Problem](https://xyproblem.info/). `getIcon` should probably not be static, but it&#39;s hard to say without more context.","body":"Possible <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>. <code>getIcon</code> should probably not be static, but it&#39;s hard to say without more context."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690250416,"post_id":76758956,"comment_id":135323794,"body_markdown":"Can you change `getIcon` to return an `Optional&lt;ImageIcon&gt;` instead?","body":"Can you change <code>getIcon</code> to return an <code>Optional&lt;ImageIcon&gt;</code> instead?"}],"answers":[{"tags":[],"owner":{"account_id":20520987,"reputation":11,"user_id":15060579,"display_name":"lonewolf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690280801,"creation_date":1690280801,"answer_id":76761775,"question_id":76758956,"body_markdown":"Have the functional references in a list and try with that.\r\nfor example:\r\n\r\n    List&lt;BiFunction&lt;String, Boolean, ImageIcon&gt;&gt; functions = List.of(EvolutionGallery::getIcon, BerryGallery::getIcon, EventItemGallery::getIcon, BattleItemGallery::getIcon);\r\n    ImageIcon imageIcon = null;\r\n    for(BiFunction&lt;String, Boolean, ImageIcon&gt; function: functions) {\r\n        try{\r\n            imageIcon = function.apply(item, false);\r\n        } catch(RuntimeException ignored){}\r\n    }\r\n    if(Objects.isNull(imageIcon)) {\r\n        // handle condition\r\n    }\r\n\r\nI can&#39;t comment on the logic inside the functions without the knowledge of the system, but if there are multiple cases where an exception is thrown in case of resource not being present, i.e., absent `imageIcon` try replacing the return value with an `Optional&lt;ImageIcon&gt;` or simply return `null`.\r\nThis is generally a better practice compared to throwing an exception and would help you debug in case any issue arises in the future.\r\n\r\nif you want to throw an exception, throw it in the **if block** written in the above example so that the source of the exception can be pinpointed better.\r\n\r\n----------------------------------------------------------------\r\n[BiFunction documentation][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html","title":"Cycle through class files with identical functions","body":"<p>Have the functional references in a list and try with that.\nfor example:</p>\n<pre><code>List&lt;BiFunction&lt;String, Boolean, ImageIcon&gt;&gt; functions = List.of(EvolutionGallery::getIcon, BerryGallery::getIcon, EventItemGallery::getIcon, BattleItemGallery::getIcon);\nImageIcon imageIcon = null;\nfor(BiFunction&lt;String, Boolean, ImageIcon&gt; function: functions) {\n    try{\n        imageIcon = function.apply(item, false);\n    } catch(RuntimeException ignored){}\n}\nif(Objects.isNull(imageIcon)) {\n    // handle condition\n}\n</code></pre>\n<p>I can't comment on the logic inside the functions without the knowledge of the system, but if there are multiple cases where an exception is thrown in case of resource not being present, i.e., absent <code>imageIcon</code> try replacing the return value with an <code>Optional&lt;ImageIcon&gt;</code> or simply return <code>null</code>.\nThis is generally a better practice compared to throwing an exception and would help you debug in case any issue arises in the future.</p>\n<p>if you want to throw an exception, throw it in the <strong>if block</strong> written in the above example so that the source of the exception can be pinpointed better.</p>\n<hr />\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/BiFunction.html\" rel=\"nofollow noreferrer\">BiFunction documentation</a></p>\n"}],"owner":{"account_id":25188076,"reputation":23,"user_id":19028647,"display_name":"GamingLegion"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690280801,"creation_date":1690249468,"question_id":76758956,"body_markdown":"I was wondering for a way to cycle through multiple different class files with identical functions and paramaters. I have a way of doing it below, but I was hoping for a better way of going about it.\r\n\r\n```\r\nString item = &quot;item&quot;;\r\nImageIcon ii = null;\r\n\t\t\ttry {\r\n\t\t\t\tii = BattleItemGallery.getIcon(item, false);\r\n\t\t\t} catch (Exception e1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tii = BerryGallery.getIcon(item, false);\r\n\t\t\t\t} catch (Exception e2) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tii = EventItemGallery.getIcon(item, false);\r\n\t\t\t\t\t} catch (Exception e3) {\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\tii = EvolutionGallery.getIcon(item, false);\r\n\t\t\t\t\t\t} catch (Exception e4) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n```\r\nBasically the code is to try and look for an ImageIcon in the class file and if it throws an error, aka can&#39;t find it, then it will try the next file, so on so forth. I was thinking of maybe finding a way to put the class files in an ArrayList somehow without having to initialize an object for each.\r\n\r\nIf anyone has any better ideas that would be awesome.\r\n","title":"Cycle through class files with identical functions","body":"<p>I was wondering for a way to cycle through multiple different class files with identical functions and paramaters. I have a way of doing it below, but I was hoping for a better way of going about it.</p>\n<pre><code>String item = &quot;item&quot;;\nImageIcon ii = null;\n            try {\n                ii = BattleItemGallery.getIcon(item, false);\n            } catch (Exception e1) {\n                try {\n                    ii = BerryGallery.getIcon(item, false);\n                } catch (Exception e2) {\n                    try {\n                        ii = EventItemGallery.getIcon(item, false);\n                    } catch (Exception e3) {\n                        try {\n                            ii = EvolutionGallery.getIcon(item, false);\n                        } catch (Exception e4) {\n\n                        }\n                    }\n                }\n            }\n</code></pre>\n<p>Basically the code is to try and look for an ImageIcon in the class file and if it throws an error, aka can't find it, then it will try the next file, so on so forth. I was thinking of maybe finding a way to put the class files in an ArrayList somehow without having to initialize an object for each.</p>\n<p>If anyone has any better ideas that would be awesome.</p>\n"},{"tags":["java","jackson","objectmapper","jackson-databind","jackson2"],"comments":[{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":1,"creation_date":1636459360,"post_id":69896898,"comment_id":123557387,"body_markdown":"Probably putting `JsonCreator` over the new constructor can help, please include json examples  you cannot deserialize.","body":"Probably putting <code>JsonCreator</code> over the new constructor can help, please include json examples  you cannot deserialize."},{"owner":{"account_id":10084495,"reputation":167,"user_id":7453611,"display_name":"darth_vader"},"score":0,"creation_date":1636521133,"post_id":69896898,"comment_id":123576471,"body_markdown":"@dariosicily I have added the json in which issue was faced. I have tried `JsonCreator` with `JsonProperty` and it did not help faced the same issue .","body":"@dariosicily I have added the json in which issue was faced. I have tried <code>JsonCreator</code> with <code>JsonProperty</code> and it did not help faced the same issue ."},{"owner":{"account_id":7339562,"reputation":558,"user_id":5589683,"display_name":"pratap"},"score":0,"creation_date":1636525882,"post_id":69896898,"comment_id":123577344,"body_markdown":"value of &#39;b&#39; is of type Long. In the example JSON, its &#39;ex1&#39;. can you try changing that?","body":"value of &#39;b&#39; is of type Long. In the example JSON, its &#39;ex1&#39;. can you try changing that?"},{"owner":{"account_id":16211352,"reputation":4324,"user_id":11713777,"display_name":"dariosicily"},"score":0,"creation_date":1636539809,"post_id":69896898,"comment_id":123582027,"body_markdown":"I tried both jsons and they work fine.","body":"I tried both jsons and they work fine."}],"answers":[{"tags":[],"owner":{"account_id":4086375,"reputation":41,"user_id":3356874,"display_name":"Joao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690277845,"creation_date":1690274328,"answer_id":76760897,"question_id":69896898,"body_markdown":"I&#39;m probably late to the party, but this may help someone.\r\n\r\nAs of version 2.15.2, the `@JsonProperty` can be used in the constructor params as well as in random vars in your class, however, if you do use `@JsonCreator` on a constructor, then you **must** annotate the constructor params with `@JsonProperty` to deserialize (*unless you also create your custom deserializer, but that&#39;s outside the scope of the question*).\r\n\r\nAlso you don&#39;t need to use `TypeReference` in your case.\r\nYou would want to use `TypeReference` if your class was defined with generics like `ABC&lt;T&gt;`. Then you&#39;d use `TypeReference&lt;ABC&lt;T&gt;&gt;`.\r\n\r\nOtherwise you can just: `objectMapper.readValue(json, ABC.class)` ","title":"Unable to deserialize using ObjectMapper when Object has multiple constructors","body":"<p>I'm probably late to the party, but this may help someone.</p>\n<p>As of version 2.15.2, the <code>@JsonProperty</code> can be used in the constructor params as well as in random vars in your class, however, if you do use <code>@JsonCreator</code> on a constructor, then you <strong>must</strong> annotate the constructor params with <code>@JsonProperty</code> to deserialize (<em>unless you also create your custom deserializer, but that's outside the scope of the question</em>).</p>\n<p>Also you don't need to use <code>TypeReference</code> in your case.\nYou would want to use <code>TypeReference</code> if your class was defined with generics like <code>ABC&lt;T&gt;</code>. Then you'd use <code>TypeReference&lt;ABC&lt;T&gt;&gt;</code>.</p>\n<p>Otherwise you can just: <code>objectMapper.readValue(json, ABC.class)</code></p>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690280338,"creation_date":1690280338,"answer_id":76761704,"question_id":69896898,"body_markdown":"I just ran your test with Jackson 2.15.2 and it worked fine. As is. I was able to deserialize your String `{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1,&quot;c&quot;:&quot;ex2&quot;}` into your ABC class. Just small changes that I did - I don&#39;t use lomboc so I added to your class getters and setters and all args constructor and no args constructor and `toString()` method. Here is the code I ran:\r\n\r\n        ABC abc = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;id\\&quot;:\\&quot;123\\&quot;,\\&quot;a\\&quot;:\\&quot;example\\&quot;,\\&quot;b\\&quot;:1,\\&quot;c\\&quot;:\\&quot;ex2\\&quot;}&quot;, ABC.class);\r\n        System.out.println(abc);\r\n\r\n\r\nHere is the output:\r\n\r\n    ABC{id=&#39;123&#39;, number=&#39;null&#39;, a=&#39;example&#39;, b=1, c=&#39;ex2&#39;}\r\nJust to clarify - class JsonUtils is a thin wrapper over ObjectMapper class. This class comes with Open Source MgntUtils library written and maintained by me. You can try it if you want. Here is [JsonUtils javadoc][1], and the library could be obtained as [maven artifact from Maven central][2] or from [Github][3] (including source code and javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Unable to deserialize using ObjectMapper when Object has multiple constructors","body":"<p>I just ran your test with Jackson 2.15.2 and it worked fine. As is. I was able to deserialize your String <code>{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1,&quot;c&quot;:&quot;ex2&quot;}</code> into your ABC class. Just small changes that I did - I don't use lomboc so I added to your class getters and setters and all args constructor and no args constructor and <code>toString()</code> method. Here is the code I ran:</p>\n<pre><code>    ABC abc = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;id\\&quot;:\\&quot;123\\&quot;,\\&quot;a\\&quot;:\\&quot;example\\&quot;,\\&quot;b\\&quot;:1,\\&quot;c\\&quot;:\\&quot;ex2\\&quot;}&quot;, ABC.class);\n    System.out.println(abc);\n</code></pre>\n<p>Here is the output:</p>\n<pre><code>ABC{id='123', number='null', a='example', b=1, c='ex2'}\n</code></pre>\n<p>Just to clarify - class JsonUtils is a thin wrapper over ObjectMapper class. This class comes with Open Source MgntUtils library written and maintained by me. You can try it if you want. Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">JsonUtils javadoc</a>, and the library could be obtained as <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">maven artifact from Maven central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including source code and javadoc)</p>\n"}],"owner":{"account_id":10084495,"reputation":167,"user_id":7453611,"display_name":"darth_vader"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":540,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690280338,"creation_date":1636455376,"question_id":69896898,"body_markdown":"I am getting the following error while deserialising the object .\r\n\r\n    (no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\r\n\r\nMy Object Definition is \r\n\r\n        @Getter\r\n        @Setter\r\n        @ToString\r\n        @Document(collection = &quot;abc&quot;)\r\n        @NoArgsConstructor\r\n        @AllArgsConstructor\r\n        public class ABC implements Serializable {\r\n        \r\n          @Id\r\n          private String id;\r\n          @Indexed\r\n          private String number;\r\n          private String a;\r\n          private Long b;\r\n          //added later \r\n          private String c;\r\n          public ABC(Long b) {\r\n            this.b=b;\r\n          }\r\n          public ABC(String a,Long b) {\r\n            this.b=b;\r\n            this.a=a;\r\n          }\r\n          //added later\r\n          public ABC(String a,Long b,String c) {\r\n            this.b=b;\r\n            this.a=a;\r\n            this.c=c;\r\n         }\r\n      }\r\n\r\nI was using `objectMapper.readValue(json, new TypeReference&lt;ABC&gt;() {})` to convert json to ABC object . It was working fine before adding variable c and the new constructor. I have to add a new consturctor to maintain compatibility with exisiting code. After adding variable c it is throwing the above error. I was able to deserialize `{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1}`. I was unable to deserialize `{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1,&quot;c&quot;:&quot;ex2&quot;}` . Does objectMapper in Jackson use custom constructor or default constructor with setters for deserialisations .\r\n","title":"Unable to deserialize using ObjectMapper when Object has multiple constructors","body":"<p>I am getting the following error while deserialising the object .</p>\n<pre><code>(no Creators, like default construct, exist): cannot deserialize from Object value (no delegate- or property-based Creator)\n</code></pre>\n<p>My Object Definition is</p>\n<pre><code>    @Getter\n    @Setter\n    @ToString\n    @Document(collection = &quot;abc&quot;)\n    @NoArgsConstructor\n    @AllArgsConstructor\n    public class ABC implements Serializable {\n    \n      @Id\n      private String id;\n      @Indexed\n      private String number;\n      private String a;\n      private Long b;\n      //added later \n      private String c;\n      public ABC(Long b) {\n        this.b=b;\n      }\n      public ABC(String a,Long b) {\n        this.b=b;\n        this.a=a;\n      }\n      //added later\n      public ABC(String a,Long b,String c) {\n        this.b=b;\n        this.a=a;\n        this.c=c;\n     }\n  }\n</code></pre>\n<p>I was using <code>objectMapper.readValue(json, new TypeReference&lt;ABC&gt;() {})</code> to convert json to ABC object . It was working fine before adding variable c and the new constructor. I have to add a new consturctor to maintain compatibility with exisiting code. After adding variable c it is throwing the above error. I was able to deserialize <code>{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1}</code>. I was unable to deserialize <code>{&quot;id&quot;:&quot;123&quot;,&quot;a&quot;:&quot;example&quot;,&quot;b&quot;:1,&quot;c&quot;:&quot;ex2&quot;}</code> . Does objectMapper in Jackson use custom constructor or default constructor with setters for deserialisations .</p>\n"},{"tags":["java","junit","mockito","completable-future","mockstatic"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1689169748,"post_id":76669455,"comment_id":135175566,"body_markdown":"It sounds like you should redesign the code you&#39;re testing to make it easier to test.","body":"It sounds like you should redesign the code you&#39;re testing to make it easier to test."}],"answers":[{"tags":[],"owner":{"account_id":3465142,"reputation":31,"user_id":2900930,"display_name":"Santiago Ordax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690280208,"creation_date":1690280208,"answer_id":76761695,"question_id":76669455,"body_markdown":"Assuming the class you want to test looks like this\r\n\r\n```\r\nclass ABCSupplier {\r\n\r\n\tvoid supply() {\r\n\r\n\t\tCompletableFuture.supplyAsync(XYZ::getFieldABC);\r\n\t}\r\n}\r\n```\r\n\r\nYou can mock statics with Mockito like this:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass ABCSupplierTest {\r\n\r\n\t@InjectMocks\r\n\tABCSupplier abcSupplier;\r\n\r\n\t@Captor\r\n\tprivate ArgumentCaptor&lt;Supplier&lt;ABC&gt;&gt; supplierArgumentCaptor;\r\n\r\n\t@Test\r\n\tvoid it_should_supply_ABC_field() {\r\n\r\n\t\tfinal ABC abc = new ABC();\r\n\r\n\t\ttry (var completableFutureMockedStatic = Mockito.mockStatic(CompletableFuture.class);\r\n\t\t\tvar xyzMockedStatic = Mockito.mockStatic(XYZ.class)) {\r\n\r\n\t\t\txyzMockedStatic.when(XYZ::getFieldABC)\r\n\t\t\t\t.thenReturn(abc);\r\n\r\n\t\t\tthis.abcSupplier.supply();\r\n\r\n\t\t\tcompletableFutureMockedStatic.verify(() -&gt; CompletableFuture.supplyAsync(this.supplierArgumentCaptor.capture()));\r\n\r\n\t\t\tAssertions.assertThat(this.supplierArgumentCaptor.getValue().get())\r\n\t\t\t\t.isEqualTo(abc);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n","title":"Mocking static objects under completable future supply async","body":"<p>Assuming the class you want to test looks like this</p>\n<pre><code>class ABCSupplier {\n\n    void supply() {\n\n        CompletableFuture.supplyAsync(XYZ::getFieldABC);\n    }\n}\n</code></pre>\n<p>You can mock statics with Mockito like this:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ABCSupplierTest {\n\n    @InjectMocks\n    ABCSupplier abcSupplier;\n\n    @Captor\n    private ArgumentCaptor&lt;Supplier&lt;ABC&gt;&gt; supplierArgumentCaptor;\n\n    @Test\n    void it_should_supply_ABC_field() {\n\n        final ABC abc = new ABC();\n\n        try (var completableFutureMockedStatic = Mockito.mockStatic(CompletableFuture.class);\n            var xyzMockedStatic = Mockito.mockStatic(XYZ.class)) {\n\n            xyzMockedStatic.when(XYZ::getFieldABC)\n                .thenReturn(abc);\n\n            this.abcSupplier.supply();\n\n            completableFutureMockedStatic.verify(() -&gt; CompletableFuture.supplyAsync(this.supplierArgumentCaptor.capture()));\n\n            Assertions.assertThat(this.supplierArgumentCaptor.getValue().get())\n                .isEqualTo(abc);\n        }\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":29001394,"reputation":21,"user_id":22214880,"display_name":"Jay Patel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":278,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690280208,"creation_date":1689156657,"question_id":76669455,"body_markdown":"Consider below code snippet:\r\n\r\n```\r\nclass XYZ {\r\n  public static getFieldABC(){\r\n    return new ABC();\r\n  }\r\n}\r\n\r\n...\r\nCompletableFuture.supplyAsync(() -&gt; XYZ.getFieldABC())\r\n...\r\n\r\n```\r\nI need to unit test this piece of code.\r\n\r\nI have a static method `getFieldABC` which returns an object of a particular class `ABC`. I want to mock this static method call using Mockito.mockStatic and then return mockObject using `when()`.\r\n\r\n\r\n\r\nThe catch here is that this method call is under CompletableFuture.supplyAsync. \r\nSince, its running in a different thread, the call to the static method, instead of calling the mock, its  invoking the actual method call.","title":"Mocking static objects under completable future supply async","body":"<p>Consider below code snippet:</p>\n<pre><code>class XYZ {\n  public static getFieldABC(){\n    return new ABC();\n  }\n}\n\n...\nCompletableFuture.supplyAsync(() -&gt; XYZ.getFieldABC())\n...\n\n</code></pre>\n<p>I need to unit test this piece of code.</p>\n<p>I have a static method <code>getFieldABC</code> which returns an object of a particular class <code>ABC</code>. I want to mock this static method call using Mockito.mockStatic and then return mockObject using <code>when()</code>.</p>\n<p>The catch here is that this method call is under CompletableFuture.supplyAsync.\nSince, its running in a different thread, the call to the static method, instead of calling the mock, its  invoking the actual method call.</p>\n"},{"tags":["java","java-stream","rx-java","reactive-programming"],"answers":[{"tags":[],"owner":{"account_id":26312379,"reputation":16,"user_id":19975712,"display_name":"C7K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690280165,"creation_date":1664896216,"answer_id":73949996,"question_id":73920331,"body_markdown":"It seems that you expect httpStatus.set(HttpStatus.NO_CONTENT) to be run, and after running, the status can be read with the correct statuscode. I&#39;m not very familiar with reactive, but by looking at Completable.java I don&#39;t think the Action that you provide in Completable::fromAction is run right away.  \r\n\r\nThere is probably a more reactive-like way to solve the problem, but I can&#39;t help you there. Instead, here&#39;s a solution that might work (or at least get you going in the right direction). Just set the value of the status explicitly yourself before returning your Flowable:\r\n    \r\n    public Flowable&lt;Person&gt; personList(AtomicReference&lt;HttpStatus&gt; reference) {\r\n        List&lt;Person&gt; repositoryList = List.of();\r\n\r\n        return repositoryList\r\n                .stream()\r\n                .collect(Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n                    if (list.isEmpty()) {\r\n                        reference.set(HttpStatus.NO_CONTENT);\r\n                        return Flowable.empty();\r\n                    }\r\n                    return Flowable.fromIterable(list);\r\n                }));\r\n    }\r\n\r\n    public Maybe&lt;ResponseEntity&lt;Flowable&lt;Person&gt;&gt;&gt; controllerMethod() {\r\n        var httpStatus = new AtomicReference&lt;&gt;(HttpStatus.OK);\r\n\r\n        return Maybe.just(personList(httpStatus))\r\n                .map(person -&gt; ResponseEntity.status(httpStatus.get()))\r\n                .body(person));\r\n    }","title":"Always return HttpStatus 200 (OK)","body":"<p>It seems that you expect httpStatus.set(HttpStatus.NO_CONTENT) to be run, and after running, the status can be read with the correct statuscode. I'm not very familiar with reactive, but by looking at Completable.java I don't think the Action that you provide in Completable::fromAction is run right away.</p>\n<p>There is probably a more reactive-like way to solve the problem, but I can't help you there. Instead, here's a solution that might work (or at least get you going in the right direction). Just set the value of the status explicitly yourself before returning your Flowable:</p>\n<pre><code>public Flowable&lt;Person&gt; personList(AtomicReference&lt;HttpStatus&gt; reference) {\n    List&lt;Person&gt; repositoryList = List.of();\n\n    return repositoryList\n            .stream()\n            .collect(Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n                if (list.isEmpty()) {\n                    reference.set(HttpStatus.NO_CONTENT);\n                    return Flowable.empty();\n                }\n                return Flowable.fromIterable(list);\n            }));\n}\n\npublic Maybe&lt;ResponseEntity&lt;Flowable&lt;Person&gt;&gt;&gt; controllerMethod() {\n    var httpStatus = new AtomicReference&lt;&gt;(HttpStatus.OK);\n\n    return Maybe.just(personList(httpStatus))\n            .map(person -&gt; ResponseEntity.status(httpStatus.get()))\n            .body(person));\n}\n</code></pre>\n"}],"owner":{"account_id":25328595,"reputation":17,"user_id":19148797,"display_name":"mclc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":196,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690280165,"creation_date":1664644701,"question_id":73920331,"body_markdown":"We obtain a list of data from a SQL Server database. I want to return the list when there is data, but when there is not, I want to return a &quot;No Content&quot; status. My code:\r\n\r\n\r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        var main = new Main();\r\n        var result = main.controllerMethod();\r\n        System.out.println(&quot;Result: &quot; + result.blockingGet());\r\n      }\r\n  \r\n      public Flowable&lt;Person&gt; personList(){\r\n        List&lt;Person&gt; repositoryList = List.of();\r\n  \r\n        return repositoryList\r\n            .stream()\r\n            .collect(Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\r\n              if(list.isEmpty()) return Flowable.empty();\r\n              else return Flowable.fromIterable(list);\r\n            }));\r\n      }\r\n  \r\n      public Maybe&lt;ResponseEntity&lt;Flowable&lt;Person&gt;&gt;&gt; controllerMethod(){\r\n        var httpStatus =\r\n            new AtomicReference&lt;&gt;(HttpStatus.OK);\r\n  \r\n        return Maybe.just(personList()\r\n            .switchIfEmpty(subs -&gt; Completable.fromAction(() -&gt;\r\n                    httpStatus.set(HttpStatus.NO_CONTENT)).toFlowable()))\r\n            .map(person -&gt; ResponseEntity.status(httpStatus.get())\r\n                .body(person));\r\n      }\r\n    }\r\n\r\nresult:\r\n\r\n&gt; Result: &lt;200 OK OK,io.reactivex.rxjava3.internal.operators.flowable.FlowableSwitchIfEmpty@35f983a6,[]&gt;","title":"Always return HttpStatus 200 (OK)","body":"<p>We obtain a list of data from a SQL Server database. I want to return the list when there is data, but when there is not, I want to return a &quot;No Content&quot; status. My code:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    var main = new Main();\n    var result = main.controllerMethod();\n    System.out.println(&quot;Result: &quot; + result.blockingGet());\n  }\n\n  public Flowable&lt;Person&gt; personList(){\n    List&lt;Person&gt; repositoryList = List.of();\n\n    return repositoryList\n        .stream()\n        .collect(Collectors.collectingAndThen(Collectors.toList(), list -&gt; {\n          if(list.isEmpty()) return Flowable.empty();\n          else return Flowable.fromIterable(list);\n        }));\n  }\n\n  public Maybe&lt;ResponseEntity&lt;Flowable&lt;Person&gt;&gt;&gt; controllerMethod(){\n    var httpStatus =\n        new AtomicReference&lt;&gt;(HttpStatus.OK);\n\n    return Maybe.just(personList()\n        .switchIfEmpty(subs -&gt; Completable.fromAction(() -&gt;\n                httpStatus.set(HttpStatus.NO_CONTENT)).toFlowable()))\n        .map(person -&gt; ResponseEntity.status(httpStatus.get())\n            .body(person));\n  }\n}\n</code></pre>\n<p>result:</p>\n<blockquote>\n<p>Result: &lt;200 OK OK,io.reactivex.rxjava3.internal.operators.flowable.FlowableSwitchIfEmpty@35f983a6,[]&gt;</p>\n</blockquote>\n"},{"tags":["java","servlets","tomcat9","tomcat10","jakarta-migration"],"comments":[{"owner":{"account_id":1307115,"reputation":22745,"user_id":1255873,"accept_rate":86,"display_name":"Abion47"},"score":1,"creation_date":1621364096,"post_id":67592237,"comment_id":119472631,"body_markdown":"This might be answerable here, but I _think_ it would be more suited to [SuperUser](https://superuser.com/).","body":"This might be answerable here, but I <i>think</i> it would be more suited to <a href=\"https://superuser.com/\">SuperUser</a>."},{"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"score":1,"creation_date":1621368052,"post_id":67592237,"comment_id":119474203,"body_markdown":"Do you provide a library or an application? You can provide both `javax.*` and `jakarta.*` classes and use a `ServletContainerInitializer` to start up your application (actually two :-) ). How many of your classes use `javax.servlet.*` classes?","body":"Do you provide a library or an application? You can provide both <code>javax.*</code> and <code>jakarta.*</code> classes and use a <code>ServletContainerInitializer</code> to start up your application (actually two :-) ). How many of your classes use <code>javax.servlet.*</code> classes?"},{"owner":{"account_id":1168188,"reputation":307,"user_id":1145995,"accept_rate":14,"display_name":"Brian"},"score":0,"creation_date":1621368242,"post_id":67592237,"comment_id":119474264,"body_markdown":"Piotr it is a library.  That is my plan if no one can give me a better answer.\n\nI got 6 classes.","body":"Piotr it is a library.  That is my plan if no one can give me a better answer.  I got 6 classes."}],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1621369937,"creation_date":1621369937,"answer_id":67593553,"question_id":67592237,"body_markdown":"The behavior you describe can be achieved with a [`ClassFileTransformer`](https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html) like the one provided by the [Tomcat Migration Tool](https://tomcat.apache.org/download-migration.cgi). Every copy of Tomcat 10 is bundled with the shaded version of the migration tool, so you don&#39;t need to distribute it independently.\r\n\r\nYou can create a `jakarta.servlet.ServletContainerInitializer` which will inject the `ClassFileTransformer` upon the web application startup:\r\n\r\n```lang-java\r\nimport java.util.Set;\r\nimport jakarta.servlet.ServletContext;\r\nimport jakarta.servlet.ServletException;\r\nimport org.apache.tomcat.InstrumentableClassLoader;\r\nimport org.apache.tomcat.jakartaee.ClassConverter;\r\n\r\npublic class JavaEEContainerInitializer implements javax.servlet.ServletContainerInitializer {\r\n\r\n    @Override\r\n    public void onStartup(Set&lt;Class&lt; ? &gt;&gt; c, ServletContext ctx) throws ServletException {\r\n        final ClassLoader cl = Thread.currentThread().getContextClassLoader();\r\n        if (cl instanceof InstrumentableClassLoader) {\r\n            final InstrumentableClassLoader instrumentableCl = (InstrumentableClassLoader) cl;\r\n            instrumentableCl.addTransformer(new ClassConverter());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nHowever in the case of a library I would rather distribute two versions of it, so the library does not have to mess with the class loader of the application. E.g. [`openwebbeans`](https://mvnrepository.com/artifact/org.apache.openwebbeans/openwebbeans-web/2.0.22) provides two versions of the same artifact: a Java EE version and a Jakarta EE version with the `jakarta` classifier.\r\n\r\nThe aforementioned Tomcat Migration Tool can automatically generate the Jakarta EE version of the jar.","title":"Create a jar file that supports javax.* and jakarta.*","body":"<p>The behavior you describe can be achieved with a <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.instrument/java/lang/instrument/Instrumentation.html\" rel=\"nofollow noreferrer\"><code>ClassFileTransformer</code></a> like the one provided by the <a href=\"https://tomcat.apache.org/download-migration.cgi\" rel=\"nofollow noreferrer\">Tomcat Migration Tool</a>. Every copy of Tomcat 10 is bundled with the shaded version of the migration tool, so you don't need to distribute it independently.</p>\n<p>You can create a <code>jakarta.servlet.ServletContainerInitializer</code> which will inject the <code>ClassFileTransformer</code> upon the web application startup:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Set;\nimport jakarta.servlet.ServletContext;\nimport jakarta.servlet.ServletException;\nimport org.apache.tomcat.InstrumentableClassLoader;\nimport org.apache.tomcat.jakartaee.ClassConverter;\n\npublic class JavaEEContainerInitializer implements javax.servlet.ServletContainerInitializer {\n\n    @Override\n    public void onStartup(Set&lt;Class&lt; ? &gt;&gt; c, ServletContext ctx) throws ServletException {\n        final ClassLoader cl = Thread.currentThread().getContextClassLoader();\n        if (cl instanceof InstrumentableClassLoader) {\n            final InstrumentableClassLoader instrumentableCl = (InstrumentableClassLoader) cl;\n            instrumentableCl.addTransformer(new ClassConverter());\n        }\n    }\n}\n</code></pre>\n<p>However in the case of a library I would rather distribute two versions of it, so the library does not have to mess with the class loader of the application. E.g. <a href=\"https://mvnrepository.com/artifact/org.apache.openwebbeans/openwebbeans-web/2.0.22\" rel=\"nofollow noreferrer\"><code>openwebbeans</code></a> provides two versions of the same artifact: a Java EE version and a Jakarta EE version with the <code>jakarta</code> classifier.</p>\n<p>The aforementioned Tomcat Migration Tool can automatically generate the Jakarta EE version of the jar.</p>\n"}],"owner":{"account_id":1168188,"reputation":307,"user_id":1145995,"accept_rate":14,"display_name":"Brian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":913,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67593553,"answer_count":1,"score":3,"last_activity_date":1690279597,"creation_date":1621363502,"question_id":67592237,"body_markdown":"As you probably know, javax had to change it&#39;s name to jakarta due to a trademark issue.  Right now my company has gives our customers two .jar files, one for those using Tomcat 9 or earlier (javax) and one for Tomcat 10 (jakarta).  \r\n\r\nIs it possible to create one jar file that can see which Tomcat is used and for every import choose either javax or jakarta?  This project does not use Spring.\r\n\r\nI already found how to tell which Tomcat version is used. \r\n\r\nI see JAVA does not have preprocessor directives like C++. Is there something similar that will allow me to swap the imports?\r\n\r\nI also see that I don&#39;t have to use imports and just call the class using the whole path.  This seems like a lot of work, but a possible solution.  I just want to know if there is a quicker easier solution.","title":"Create a jar file that supports javax.* and jakarta.*","body":"<p>As you probably know, javax had to change it's name to jakarta due to a trademark issue.  Right now my company has gives our customers two .jar files, one for those using Tomcat 9 or earlier (javax) and one for Tomcat 10 (jakarta).</p>\n<p>Is it possible to create one jar file that can see which Tomcat is used and for every import choose either javax or jakarta?  This project does not use Spring.</p>\n<p>I already found how to tell which Tomcat version is used.</p>\n<p>I see JAVA does not have preprocessor directives like C++. Is there something similar that will allow me to swap the imports?</p>\n<p>I also see that I don't have to use imports and just call the class using the whole path.  This seems like a lot of work, but a possible solution.  I just want to know if there is a quicker easier solution.</p>\n"},{"tags":["java","intellij-idea","nullable"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690277204,"post_id":76761165,"comment_id":135327419,"body_markdown":"I don&#39;t think you can do much about this. How about making a new `propertyA` in the subclass? If you can&#39;t, please show some code illustrating why.","body":"I don&#39;t think you can do much about this. How about making a new <code>propertyA</code> in the subclass? If you can&#39;t, please show some code illustrating why."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1690278117,"post_id":76761165,"comment_id":135327632,"body_markdown":"You can suppress the inspection for the whole class by annotating the class with `@SuppressWarnings({&quot;DataFlowIssue&quot;})`. Is that a &quot;good&quot; way in your opinion?","body":"You can suppress the inspection for the whole class by annotating the class with <code>@SuppressWarnings({&quot;DataFlowIssue&quot;})</code>. Is that a &quot;good&quot; way in your opinion?"},{"owner":{"account_id":5860066,"reputation":13475,"user_id":4616087,"display_name":"Marvin"},"score":0,"creation_date":1690278244,"post_id":76761165,"comment_id":135327652,"body_markdown":"IntelliJ also accepts a `//noinspection DataFlowIssue` line just above your check. But IMHO an assertion feels easier to understand.","body":"IntelliJ also accepts a <code>&#47;&#47;noinspection DataFlowIssue</code> line just above your check. But IMHO an assertion feels easier to understand."}],"answers":[{"tags":[],"owner":{"account_id":15013161,"reputation":71,"user_id":10836980,"display_name":"Azn9"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690279359,"creation_date":1690279359,"answer_id":76761580,"question_id":76761165,"body_markdown":"The value you&#39;re getting by calling &quot;propertyA&quot; in your doSomething method is the property in the class A, which is annotated with @Nullable.\r\n\r\nIf you really want to avoid this, you can use a getter, and override it in the B class with a @NotNull annotaiton, but you would just duplicate your code.\r\n\r\nAnd be aware that the @NotNull annotation doesn&#39;t prevent a value from being nullable, it is only used for code warnings in IJ! You should add a check in your B constructor to validate that the value is really not null.","title":"How to supress nullpointer warning in IntelliJ","body":"<p>The value you're getting by calling &quot;propertyA&quot; in your doSomething method is the property in the class A, which is annotated with @Nullable.</p>\n<p>If you really want to avoid this, you can use a getter, and override it in the B class with a @NotNull annotaiton, but you would just duplicate your code.</p>\n<p>And be aware that the @NotNull annotation doesn't prevent a value from being nullable, it is only used for code warnings in IJ! You should add a check in your B constructor to validate that the value is really not null.</p>\n"}],"owner":{"account_id":450787,"reputation":1364,"user_id":846300,"accept_rate":50,"display_name":"Lukas Hanacek"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690279359,"creation_date":1690276213,"question_id":76761165,"body_markdown":"I have a parent class with final variable that can be null. It is annotated with Nullable.\r\nThe parent class is extended by multiple classes, some of them have this variable as Nullable but some of them as NonNull. Now when I am using the variable in the subclass I see the warning about NullPointerException. It seems redundant to enclose the variable with if/null when I know it cannot be null (in the subclass constructor it is annotated as NonNull). How to make it clear for anyone reading the code that it cannot be null and make it clear to IDE as well ? My take is to preceed the usage with assert property != null. But I wonder if that is a good way.\r\n\r\n    class A {\r\n\r\n      @Nullable\r\n      final String propertyA;\r\n\r\n      public A (@Nullable String propertyA) {\r\n          this.propertyA = propertyA;\r\n      }\r\n    }\r\n    \r\n      class B extends A {\r\n\r\n      public B (@NotNull String propertyA) {\r\n          super(propertyA);\r\n      }\r\n\r\n      public void doSomething() {\r\n          //Here is the warning from IntelliJ but I know it is not null.\r\n          propertyA.equals(null);\r\n      }\r\n    }","title":"How to supress nullpointer warning in IntelliJ","body":"<p>I have a parent class with final variable that can be null. It is annotated with Nullable.\nThe parent class is extended by multiple classes, some of them have this variable as Nullable but some of them as NonNull. Now when I am using the variable in the subclass I see the warning about NullPointerException. It seems redundant to enclose the variable with if/null when I know it cannot be null (in the subclass constructor it is annotated as NonNull). How to make it clear for anyone reading the code that it cannot be null and make it clear to IDE as well ? My take is to preceed the usage with assert property != null. But I wonder if that is a good way.</p>\n<pre><code>class A {\n\n  @Nullable\n  final String propertyA;\n\n  public A (@Nullable String propertyA) {\n      this.propertyA = propertyA;\n  }\n}\n\n  class B extends A {\n\n  public B (@NotNull String propertyA) {\n      super(propertyA);\n  }\n\n  public void doSomething() {\n      //Here is the warning from IntelliJ but I know it is not null.\n      propertyA.equals(null);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":8653469,"reputation":72,"user_id":6478449,"display_name":"Ranjan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690279035,"creation_date":1690260268,"answer_id":76759515,"question_id":76759464,"body_markdown":"Yes, you can move the StatusConverter into the data class User as an inner class. However, when using inner classes as converters, you need to ensure that the inner class is declared as static. This is because JPA requires attribute converters to be stateless, and declaring the inner class as static ensures that it doesn&#39;t have a reference to the outer class instance.\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;status&quot;, nullable = false)\r\n  private Status status;\r\n\r\n  @Getter\r\n  public enum Status {\r\n    Active(&quot;A&quot;),\r\n    Inactive(&quot;I&quot;),\r\n    ;\r\n\r\n    private String shortCode;\r\n\r\n    Status(String s){\r\n      this.shortCode= s;\r\n    }\r\n\r\n    public static Status of(String s) {\r\n       for (Status _enum: Status.values()) {\r\n         if (_enum.getType().equals(s.trim())) {\r\n           return _enum;\r\n         }\r\n       }\r\n       return null;\r\n    }\r\n  }\r\n\r\n  @Converter(autoApply = true)\r\n  public class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\r\n\r\n      @Override\r\n      public String convertToDatabaseColumn(User.Status status) {\r\n          return status.getType();\r\n      }\r\n\r\n      @Override\r\n      public User.Status convertToEntityAttribute(String s) {\r\n          return User.Status.of(s);\r\n      }\r\n  }\r\n}\r\n\r\n```\r\n","title":"Can I put AttributeConverter into data entity?","body":"<p>Yes, you can move the StatusConverter into the data class User as an inner class. However, when using inner classes as converters, you need to ensure that the inner class is declared as static. This is because JPA requires attribute converters to be stateless, and declaring the inner class as static ensures that it doesn't have a reference to the outer class instance.</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;status&quot;, nullable = false)\n  private Status status;\n\n  @Getter\n  public enum Status {\n    Active(&quot;A&quot;),\n    Inactive(&quot;I&quot;),\n    ;\n\n    private String shortCode;\n\n    Status(String s){\n      this.shortCode= s;\n    }\n\n    public static Status of(String s) {\n       for (Status _enum: Status.values()) {\n         if (_enum.getType().equals(s.trim())) {\n           return _enum;\n         }\n       }\n       return null;\n    }\n  }\n\n  @Converter(autoApply = true)\n  public class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\n\n      @Override\n      public String convertToDatabaseColumn(User.Status status) {\n          return status.getType();\n      }\n\n      @Override\n      public User.Status convertToEntityAttribute(String s) {\n          return User.Status.of(s);\n      }\n  }\n}\n\n</code></pre>\n"}],"owner":{"account_id":21815810,"reputation":55,"user_id":16112643,"display_name":"Fanny"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76759515,"answer_count":1,"score":0,"last_activity_date":1690279035,"creation_date":1690259524,"question_id":76759464,"body_markdown":"I am using AttributeConverter for converting enum short code in DB. Everything work fine. And the sample is here:\r\n\r\nData class(User):\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;status&quot;, nullable = false)\r\n  @Convert(converter = StatusConverter.class)\r\n  private Status status;\r\n\r\n  @Getter\r\n  public enum Status {\r\n    Active(&quot;A&quot;),\r\n    Inactive(&quot;I&quot;),\r\n    ;\r\n\r\n    private String shortCode;\r\n\r\n    Status(String s){\r\n      this.shortCode= s;\r\n    }\r\n\r\n    public static Status of(String s) {\r\n       for (Status _enum: Status.values()) {\r\n         if (_enum.getType().equals(s.trim())) {\r\n           return _enum;\r\n         }\r\n       }\r\n       return null;\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nUser&#39;s StatusConverter class(User):\r\n```\r\n@Converter\r\npublic class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(User.Status status) {\r\n        return status.getType();\r\n    }\r\n\r\n    @Override\r\n    public User.Status convertToEntityAttribute(String s) {\r\n        return User.Status.of(s);\r\n    }\r\n}\r\n```\r\n\r\nEverything is working fine.\r\n\r\nBut if I have another data class with its own status like this:\r\n```\r\n// Example Only\r\n@Data\r\n@Entity\r\n@Table(name = &quot;case&quot;)\r\npublic class Case {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;status&quot;, nullable = false)\r\n  @Convert(converter = StatusConverter.class) // There should be fail to convert\r\n  private Case.Status status;\r\n\r\n  @Getter\r\n  public enum Status {\r\n    Waiting(&quot;W&quot;),\r\n    Processing(&quot;P&quot;),\r\n    Closed(&quot;C&quot;),\r\n    Cancelled(&quot;X&quot;),\r\n    ;\r\n\r\n    private String shortCode;\r\n\r\n    Status(String s){\r\n      this.shortCode= s;\r\n    }\r\n\r\n    public static Status of(String s) {\r\n       for (Status _enum: Status.values()) {\r\n         if (_enum.getType().equals(s.trim())) {\r\n           return _enum;\r\n         }\r\n       }\r\n       return null;\r\n    }\r\n  }\r\n}\r\n```\r\nAlthough the easiest solution is that create an AttributeConverter named &quot;CaseStatusConverter&quot; for Case Status, the User StatusConverter is used for User Status. So I think it should be moved into the User data class as an inner class like this:\r\n```\r\n@Data\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  @Column(name = &quot;ID&quot;, nullable = false)\r\n  private Long id;\r\n\r\n  @Enumerated(EnumType.STRING)\r\n  @Column(name = &quot;status&quot;, nullable = false)\r\n  @Convert(converter = StatusConverter.class)\r\n  private Status status;\r\n\r\n  @Getter\r\n  public enum Status {\r\n    Active(&quot;A&quot;),\r\n    Inactive(&quot;I&quot;),\r\n    ;\r\n\r\n    private String shortCode;\r\n\r\n    Status(String s){\r\n      this.shortCode= s;\r\n    }\r\n\r\n    public static Status of(String s) {\r\n       for (Status _enum: Status.values()) {\r\n         if (_enum.getType().equals(s.trim())) {\r\n           return _enum;\r\n         }\r\n       }\r\n       return null;\r\n    }\r\n  }\r\n\r\n  @Converter\r\n  public class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\r\n\r\n      @Override\r\n      public String convertToDatabaseColumn(User.Status status) {\r\n          return status.getType();\r\n      }\r\n\r\n      @Override\r\n      public User.Status convertToEntityAttribute(String s) {\r\n          return User.Status.of(s);\r\n      }\r\n  }\r\n  \r\n}\r\n```\r\n\r\nAfter moving, the User StatusConverter is no longer working. Can I move the StatusConverter into the data class as a inner class?","title":"Can I put AttributeConverter into data entity?","body":"<p>I am using AttributeConverter for converting enum short code in DB. Everything work fine. And the sample is here:</p>\n<p>Data class(User):</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;status&quot;, nullable = false)\n  @Convert(converter = StatusConverter.class)\n  private Status status;\n\n  @Getter\n  public enum Status {\n    Active(&quot;A&quot;),\n    Inactive(&quot;I&quot;),\n    ;\n\n    private String shortCode;\n\n    Status(String s){\n      this.shortCode= s;\n    }\n\n    public static Status of(String s) {\n       for (Status _enum: Status.values()) {\n         if (_enum.getType().equals(s.trim())) {\n           return _enum;\n         }\n       }\n       return null;\n    }\n  }\n}\n</code></pre>\n<p>User's StatusConverter class(User):</p>\n<pre><code>@Converter\npublic class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\n\n    @Override\n    public String convertToDatabaseColumn(User.Status status) {\n        return status.getType();\n    }\n\n    @Override\n    public User.Status convertToEntityAttribute(String s) {\n        return User.Status.of(s);\n    }\n}\n</code></pre>\n<p>Everything is working fine.</p>\n<p>But if I have another data class with its own status like this:</p>\n<pre><code>// Example Only\n@Data\n@Entity\n@Table(name = &quot;case&quot;)\npublic class Case {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;status&quot;, nullable = false)\n  @Convert(converter = StatusConverter.class) // There should be fail to convert\n  private Case.Status status;\n\n  @Getter\n  public enum Status {\n    Waiting(&quot;W&quot;),\n    Processing(&quot;P&quot;),\n    Closed(&quot;C&quot;),\n    Cancelled(&quot;X&quot;),\n    ;\n\n    private String shortCode;\n\n    Status(String s){\n      this.shortCode= s;\n    }\n\n    public static Status of(String s) {\n       for (Status _enum: Status.values()) {\n         if (_enum.getType().equals(s.trim())) {\n           return _enum;\n         }\n       }\n       return null;\n    }\n  }\n}\n</code></pre>\n<p>Although the easiest solution is that create an AttributeConverter named &quot;CaseStatusConverter&quot; for Case Status, the User StatusConverter is used for User Status. So I think it should be moved into the User data class as an inner class like this:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  @Column(name = &quot;ID&quot;, nullable = false)\n  private Long id;\n\n  @Enumerated(EnumType.STRING)\n  @Column(name = &quot;status&quot;, nullable = false)\n  @Convert(converter = StatusConverter.class)\n  private Status status;\n\n  @Getter\n  public enum Status {\n    Active(&quot;A&quot;),\n    Inactive(&quot;I&quot;),\n    ;\n\n    private String shortCode;\n\n    Status(String s){\n      this.shortCode= s;\n    }\n\n    public static Status of(String s) {\n       for (Status _enum: Status.values()) {\n         if (_enum.getType().equals(s.trim())) {\n           return _enum;\n         }\n       }\n       return null;\n    }\n  }\n\n  @Converter\n  public class StatusConverter implements AttributeConverter&lt;User.Status, String&gt; {\n\n      @Override\n      public String convertToDatabaseColumn(User.Status status) {\n          return status.getType();\n      }\n\n      @Override\n      public User.Status convertToEntityAttribute(String s) {\n          return User.Status.of(s);\n      }\n  }\n  \n}\n</code></pre>\n<p>After moving, the User StatusConverter is no longer working. Can I move the StatusConverter into the data class as a inner class?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1690263003,"post_id":76759672,"comment_id":135324826,"body_markdown":"The crash is in CustomAdapter, which might be the only class you didn&#39;t post.","body":"The crash is in CustomAdapter, which might be the only class you didn&#39;t post."},{"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"score":0,"creation_date":1690263045,"post_id":76759672,"comment_id":135324830,"body_markdown":"Also-  ListView is deprecated and has been for a decade.  You should be using RecyclerView.","body":"Also-  ListView is deprecated and has been for a decade.  You should be using RecyclerView."},{"owner":{"account_id":29003332,"reputation":13,"user_id":22216464,"display_name":"CheeChunWaiGabriel"},"score":0,"creation_date":1690265108,"post_id":76759672,"comment_id":135325074,"body_markdown":"@GabeSechan\n\nOk, I&#39;ll put that in now.","body":"@GabeSechan  Ok, I&#39;ll put that in now."}],"owner":{"account_id":29003332,"reputation":13,"user_id":22216464,"display_name":"CheeChunWaiGabriel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690278872,"answer_count":0,"score":0,"last_activity_date":1690278862,"creation_date":1690262815,"question_id":76759672,"body_markdown":"So this is actually an update to my previous (now deleted) subpar post about the custom adapter-for some reason it thinks I&#39;m generating null object references for it and won&#39;t work as a result.\r\n\r\nThese are the components of my project:\r\n\r\nDBHelper-supplementary section:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport android.content.ContentValues;\r\nimport android.content.Context;\r\nimport android.database.Cursor;\r\nimport android.database.sqlite.SQLiteDatabase;\r\nimport android.database.sqlite.SQLiteOpenHelper;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.Nullable;\r\n\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\r\n    // increment by 1 whenever db schema changes.\r\n    private static final int DATABASE_VER = 1;\r\n    private static final String TABLE_SONG = &quot;song&quot;;\r\n    private static final String COLUMN_ID = &quot;id&quot;;\r\n    private static final String COLUMN_TITLE = &quot;title&quot;;\r\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\r\n    private static final String COLUMN_YEAR=&quot;year&quot;;\r\n    private static final String COLUMN_STARS=&quot;stars&quot;;\r\n    // Filename of the database\r\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\r\n\r\n    public DBHelper(@Nullable Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VER);\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(SQLiteDatabase db) {\r\n        String dropTableSql = &quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG;\r\n        db.execSQL(dropTableSql);\r\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\r\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\r\n                + COLUMN_TITLE + &quot; TEXT,&quot;\r\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\r\n                + COLUMN_YEAR + &quot; INTEGER ,&quot;\r\n                + COLUMN_STARS+ &quot; INTEGER )&quot;;\r\n        db.execSQL(createTableSql);\r\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        // Drop older table if existed\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\r\n        // Create table(s) again\r\n        onCreate(db);\r\n\r\n\r\n    }\r\n    public void insertSong(String title, String singers, int year, int stars){\r\n\r\n        // Get an instance of the database for writing\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        // We use ContentValues object to store the values for\r\n        //  the db operation\r\n        ContentValues values = new ContentValues();\r\n        // Store the column name as key and the description as value\r\n        values.put(COLUMN_TITLE, title);\r\n        values.put(COLUMN_SINGERS, singers);\r\n        values.put(COLUMN_YEAR, year);\r\n        values.put(COLUMN_STARS, stars);\r\n\r\n        // Store the column name as key and the date as value\r\n\r\n        // Insert the row into the TABLE_TASK\r\n       db.insert(TABLE_SONG, null, values);\r\n        // Close the database connection\r\n        db.close();\r\n    }\r\n    public ArrayList&lt;song&gt; getAllSongs() {\r\n        ArrayList&lt;song&gt; songlist = new ArrayList&lt;&gt;();\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n\r\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null,\r\n                null, null, null, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getInt(0);\r\n                String title=cursor.getString(1);\r\n                String singers = cursor.getString(2);\r\n                int year=cursor.getInt(3);\r\n                int stars=cursor.getInt(4);\r\n                song Song = new song(id,title,singers,year,stars);\r\n                songlist.add(Song);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n        return songlist;\r\n    }\r\n    public ArrayList&lt;song&gt; getBestSongs() {\r\n        ArrayList&lt;song&gt; bestsonglist = new ArrayList&lt;&gt;();\r\n\r\n        SQLiteDatabase db = this.getReadableDatabase();\r\n\r\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\r\n        String condition = COLUMN_STARS + &quot;= ?&quot;;\r\n        String[] args = {&quot;5&quot;};\r\n        Cursor cursor = db.query(TABLE_SONG, columns, condition, args,\r\n                null, null, null, null);\r\n\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                int id = cursor.getInt(0);\r\n                String title=cursor.getString(1);\r\n                String singers = cursor.getString(2);\r\n                int year=cursor.getInt(3);\r\n                int stars=cursor.getInt(4);\r\n                song Song = new song(id,title,singers,year,stars);\r\n                bestsonglist.add(Song);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n        db.close();\r\n        return bestsonglist;\r\n    }\r\n    public int updateSong(song Song) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        ContentValues values = new ContentValues();\r\n        values.put(COLUMN_TITLE, Song.getTitle());\r\n        values.put(COLUMN_SINGERS, Song.getSingers());\r\n        values.put(COLUMN_YEAR, Song.getYear());\r\n        values.put(COLUMN_STARS, Song.getStars());\r\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\r\n        String[] whereArgs = {String.valueOf(Song.getId())};\r\n        int result=db.update(TABLE_SONG, values, whereClause, whereArgs);\r\n\r\n        if (result &lt; 1) {\r\n            Log.d(&quot;DBHelper&quot;, &quot;Update failed&quot;);\r\n\r\n            db.close();\r\n            return result;\r\n        }\r\n\r\n\r\n        return result;\r\n    }\r\n    public void deleteSong(int songId) {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\r\n        String[] whereArgs = {String.valueOf(songId)};\r\n       db.delete(TABLE_SONG, whereClause, whereArgs);\r\n       db.close();\r\n    }}\r\n```\r\n\r\nMainActivity-where the initial processing is done:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.ToggleButton;\r\n\r\nimport java.util.ArrayList;\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button btnInsert, btnGetSongs;\r\n    TextView tvResults;\r\n\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        btnInsert = findViewById(R.id.btnInsert);\r\n        btnGetSongs = findViewById(R.id.btnGetTasks);\r\n        //List View-&gt;\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n\r\n        btnInsert.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                DBHelper db = new DBHelper(MainActivity.this);\r\n                String title=SongInput.getText().toString();\r\n                String singers=SingerInput.getText().toString();\r\n                int year=Integer.parseInt(YearInput.getText().toString());\r\n\r\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\r\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\r\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\r\n                db.insertSong(title,singers,year,rating);\r\n\r\n                SongInput.setText(&quot;&quot;);\r\n                SingerInput.setText(&quot;&quot;);\r\n                YearInput.setText(&quot;&quot;);\r\n                RadioGroupRating.clearCheck();\r\n            }\r\n        });\r\n\r\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View v) {\r\n                // Create the DBHelper object, passing in the\r\n                // activity&#39;s Context\r\n\r\n                // Insert a task\r\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\r\n                //Label the actual editactivity EditActivity2\r\n                startActivity(intent);\r\n\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n\r\n}\r\n```\r\n\r\nEditActivity:Where the list is displayed:\r\n\r\n```\r\n{\r\n    ListView lv;\r\n    ArrayList&lt;song&gt; songsList;\r\n    //ArrayAdapter&lt;song&gt; adapter;\r\n    CustomAdapter adapter;\r\n    Button fivestarsongs;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_edit);\r\n\r\n        lv = findViewById(R.id.list_view);\r\n        fivestarsongs = findViewById(R.id.btnShow5starsongs);\r\n        DBHelper db = new DBHelper(EditActivity.this);\r\n        songsList = db.getAllSongs();\r\n\r\n        //ArrayAdapter&lt;song&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, songs);\r\n\r\n        if (songsList != null &amp;&amp; !songsList.isEmpty()) {\r\n            adapter = new CustomAdapter(this, android.R.layout.simple_list_item_1, songsList); // Remove the CustomAdapter declaration here\r\n            lv.setAdapter(adapter);\r\n        }\r\n\r\n        fivestarsongs.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                ArrayList&lt;song&gt; BestSongs = db.getBestSongs();\r\n                adapter.clear();\r\n                adapter.addAll(BestSongs);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int\r\n                    position, long id) {\r\n                song ClickedSong = songsList.get(position);\r\n                Intent i = new Intent(EditActivity.this,\r\n                        MainActivity2.class);\r\n                i.putExtra(&quot;song&quot;, ClickedSong);\r\n                startActivity(i);\r\n            }\r\n        });\r\n    }\r\n\r\n}\r\n```\r\n\r\nMainActivity2-supposed to handle delete/update:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.RadioButton;\r\nimport android.widget.RadioGroup;\r\n\r\n\r\npublic class MainActivity2 extends AppCompatActivity {\r\n\r\n    Button btnUpdate,btnCancel,btnDelete;\r\n    EditText YearInput;\r\n    EditText SongInput;\r\n    EditText SingerInput;\r\n    RadioGroup RadioGroupRating;\r\n\r\n    song selectedSong;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n        DBHelper db = new DBHelper(MainActivity2.this);\r\n        Intent intent = getIntent();\r\n        song clickedSong = (song) intent.getSerializableExtra(&quot;song&quot;);\r\n\r\n        btnUpdate=findViewById(R.id.btnupdate);\r\n        btnCancel=findViewById(R.id.btnCancel);\r\n        btnDelete=findViewById(R.id.btndelete);\r\n        YearInput=findViewById(R.id.insertYear);\r\n        SongInput=findViewById(R.id.insertTitle);\r\n        SingerInput=findViewById(R.id.insertSingers);\r\n\r\n        RadioGroupRating=findViewById(R.id.radio_group);\r\n\r\n        selectedSong = clickedSong;\r\n        YearInput.setText(String.valueOf(clickedSong.getYear()));\r\n        SongInput.setText(clickedSong.getTitle());\r\n        SingerInput.setText(clickedSong.getSingers());\r\n        setStarsSelection(selectedSong.getStars());\r\n\r\n\r\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                selectedSong.setTitle(SongInput.getText().toString());\r\n                selectedSong.setSingers(SingerInput.getText().toString());\r\n                selectedSong.setYear(Integer.parseInt(YearInput.getText().toString()));\r\n                selectedSong.setStars(getSelectedStars());\r\n                db.updateSong(selectedSong);\r\n                db.close();\r\n                finish();\r\n            }\r\n        });\r\n        btnDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                db.deleteSong(selectedSong.getId());\r\n                db.close();\r\n                finish();\r\n            }\r\n        });\r\n        btnCancel.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(MainActivity2.this, MainActivity.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n\r\n}\r\n\r\n    private int getSelectedStars() {\r\n        int selectedId = RadioGroupRating.getCheckedRadioButtonId();\r\n        RadioButton rbSelected = findViewById(selectedId);\r\n        return Integer.parseInt(rbSelected.getText().toString());\r\n    }\r\n    private void setStarsSelection(int stars) {\r\n        int radioButtonId = 0;\r\n        switch (stars) {\r\n            case 1:\r\n                radioButtonId = R.id.radio_1;\r\n                break;\r\n            case 2:\r\n                radioButtonId = R.id.radio_2;\r\n                break;\r\n            case 3:\r\n                radioButtonId = R.id.radio_3;\r\n                break;\r\n            case 4:\r\n                radioButtonId = R.id.radio_4;\r\n                break;\r\n            case 5:\r\n                radioButtonId = R.id.radio_5;\r\n                break;\r\n        }\r\n        RadioGroupRating.check(radioButtonId);\r\n    }\r\n\r\n\r\n    }\r\n```\r\n\r\nSong-class involved in all this:\r\n\r\n```\r\npackage com.myapplicationdev.android.songdbmanager;\r\n\r\nimport androidx.annotation.NonNull;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class song implements Serializable {\r\n    private int id;\r\n    private String title;\r\n    private String singers;\r\n    private int year;\r\n    private int stars;\r\n\r\n\r\n    public void setSingers(String singers) {\r\n        this.singers = singers;\r\n    }\r\n\r\n    public void setStars(int stars) {\r\n        this.stars = stars;\r\n    }\r\n\r\n    public void setTitle(String title) {\r\n        this.title = title;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public song (\r\n                 String title,\r\n                 String singers,\r\n                 int year,\r\n                 int stars\r\n    ){\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public song (\r\n            int id,\r\n            String title,\r\n            String singers,\r\n            int year,\r\n            int stars\r\n    ){\r\n        this.id=id;\r\n        this.title=title;\r\n        this.singers=singers;\r\n        this.year=year;\r\n        this.stars=stars;\r\n    }\r\n    public String getTitle() {\r\n        return title;\r\n    }\r\n    public int getId(){\r\n        return id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public int getStars() {\r\n        return stars;\r\n    }\r\n\r\n    public String getSingers() {\r\n        return singers;\r\n    }\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public String toString() {\r\n        return\r\n                &quot;title=&#39;&quot; + title + &#39;\\&#39;&#39; +\r\n                &quot;, singers=&#39;&quot; + singers + &#39;\\&#39;&#39; +\r\n                &quot;, year=&quot; + year +\r\n                &quot;, stars=&quot; + stars\r\n               ;\r\n    }\r\n}\r\n```\r\n\r\nCustomAdapter:\r\n```\r\npublic class CustomAdapter extends ArrayAdapter {\r\n    private Context context;\r\n    private int layoutResourceId;\r\n    private ArrayList&lt;song&gt; songList;\r\n\r\n    public CustomAdapter(Context context, int resource, ArrayList&lt;song&gt; objects) {\r\n        super(context, resource, objects);\r\n        this.context = context;\r\n        this.layoutResourceId = resource;\r\n        this.songList = objects;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public View getView(int position, View rowView, ViewGroup parent) {\r\n        if (rowView == null) {\r\n            LayoutInflater inflater = LayoutInflater.from(context);\r\n            rowView = inflater.inflate(layoutResourceId, parent, false);\r\n        }\r\n\r\n        song currentSong = songList.get(position);\r\n\r\n        TextView yearInput = rowView.findViewById(R.id.insertYear);\r\n        TextView singerInput = rowView.findViewById(R.id.insertSingers);\r\n        TextView titleInput = rowView.findViewById(R.id.insertTitle);\r\n        RadioGroup radioGroupRating =rowView.findViewById(R.id.radio_group);\r\n\r\n        titleInput.setText(currentSong.getTitle());\r\n        singerInput.setText(currentSong.getSingers());\r\n        yearInput.setText(String.valueOf(currentSong.getYear()));\r\n\r\n        int selectedValue = currentSong.getStars();\r\n        int radioButtonId = 0;\r\n        switch (selectedValue) {\r\n            case 1:\r\n                radioButtonId = R.id.radio_1;\r\n                break;\r\n            case 2:\r\n                radioButtonId = R.id.radio_2;\r\n                break;\r\n            case 3:\r\n                radioButtonId = R.id.radio_3;\r\n                break;\r\n            case 4:\r\n                radioButtonId = R.id.radio_4;\r\n                break;\r\n            case 5:\r\n                radioButtonId = R.id.radio_5;\r\n                break;\r\n        }\r\n        radioGroupRating.check(radioButtonId);\r\n\r\n        return rowView;\r\n\r\n\r\n}}\r\n```\r\n\r\nAnd here&#39;s the error message associated with these (I&#39;d share the full stack but the text limit likely won&#39;t allow me):\r\n\r\nIt refers to the line where I set the year in the adapter, which is otherwise working as intended.\r\n\r\n```\r\nFATAL EXCEPTION: main\r\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 27730\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n                                                                                                    \tat com.myapplicationdev.android.songdbmanager.CustomAdapter.getView(CustomAdapter.java:44)\r\n                                                                                                    \tat android.widget.AbsListView.obtainView(AbsListView.java:2387)\r\n                                                                                                    \tat android.widget.ListView.makeAndAddView(ListView.java:2067)\r\n                                                                                                    \tat android.widget.ListView.fillDown(ListView.java:793)\r\n                                                                                                    \tat android.widget.ListView.fillFromTop(ListView.java:855)\r\n                                                                                                    \tat android.widget.ListView.layoutChildren(ListView.java:1838)\r\n                                                                                                    \tat android.widget.AbsListView.onLayout(AbsListView.java:2184)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n                                                                                                    \tat android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1818)\r\n                                                                                                    \tat android.widget.LinearLayout.onLayout(LinearLayout.java:1584)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n                                                                                                    \tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n                                                                                                    \tat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n                                                                                                    \tat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n                                                                                                    \tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\r\n                                                                                                    \tat android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\r\n                                                                                                    \tat android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\r\n                                                                                                    \tat android.widget.FrameLayout.onLayout(FrameLayout.java:270)\r\n                                                                                                    \tat com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\r\n                                                                                                    \tat android.view.View.layout(View.java:22844)\r\n                                                                                                    \tat android.view.ViewGroup.layout(ViewGroup.java:6389)\r\n                                                                                                    \tat android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\r\n                                                                                                    \tat android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\r\n                                                                                                    \tat android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\r\n                                                                                                    \tat android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\r\n                                                                                                    \tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\r\n                                                                                                    \tat android.view.Choreographer.doCallbacks(Choreographer.java:796)\r\n                                                                                                    \tat android.view.Choreographer.doFrame(Choreographer.java:731)\r\n                                                                                                    \tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\r\n                                                                                                    \tat android.os.Handler.handleCallback(Handler.java:938)\r\n                                                                                                    \tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n                                                                                                    \tat android.os.Looper.loop(Looper.java:223)\r\n                                                                                                    \tat android.app.ActivityThread.main(ActivityThread.java:7656)\r\n                                                                                                    \tat java.lang.reflect.Method.invoke(Native Method)\r\n                                                                                                    \tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n                                                                                                    \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nI tried editing the code to check for nulls and even making an object just to check if that&#39;s causing the glitch.\r\n\r\nNeither of them had much of an effect.","title":"Custom Adapter generates Null Point Exceptions","body":"<p>So this is actually an update to my previous (now deleted) subpar post about the custom adapter-for some reason it thinks I'm generating null object references for it and won't work as a result.</p>\n<p>These are the components of my project:</p>\n<p>DBHelper-supplementary section:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport android.content.ContentValues;\nimport android.content.Context;\nimport android.database.Cursor;\nimport android.database.sqlite.SQLiteDatabase;\nimport android.database.sqlite.SQLiteOpenHelper;\nimport android.util.Log;\n\nimport androidx.annotation.Nullable;\n\nimport java.util.ArrayList;\n\n\npublic class DBHelper extends SQLiteOpenHelper {    // Start version with 1\n    // increment by 1 whenever db schema changes.\n    private static final int DATABASE_VER = 1;\n    private static final String TABLE_SONG = &quot;song&quot;;\n    private static final String COLUMN_ID = &quot;id&quot;;\n    private static final String COLUMN_TITLE = &quot;title&quot;;\n    private static final String COLUMN_SINGERS = &quot;singers&quot;;\n    private static final String COLUMN_YEAR=&quot;year&quot;;\n    private static final String COLUMN_STARS=&quot;stars&quot;;\n    // Filename of the database\n    private static final String DATABASE_NAME = &quot;songs.db&quot;;\n\n    public DBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VER);\n    }\n\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        String dropTableSql = &quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG;\n        db.execSQL(dropTableSql);\n        String createTableSql = &quot;CREATE TABLE &quot; + TABLE_SONG +  &quot;(&quot;\n                + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT,&quot;\n                + COLUMN_TITLE + &quot; TEXT,&quot;\n                + COLUMN_SINGERS+ &quot; TEXT ,&quot;\n                + COLUMN_YEAR + &quot; INTEGER ,&quot;\n                + COLUMN_STARS+ &quot; INTEGER )&quot;;\n        db.execSQL(createTableSql);\n        Log.i(&quot;info&quot; ,&quot;created tables&quot;);\n\n\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        // Drop older table if existed\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_SONG);\n        // Create table(s) again\n        onCreate(db);\n\n\n    }\n    public void insertSong(String title, String singers, int year, int stars){\n\n        // Get an instance of the database for writing\n        SQLiteDatabase db = this.getWritableDatabase();\n        // We use ContentValues object to store the values for\n        //  the db operation\n        ContentValues values = new ContentValues();\n        // Store the column name as key and the description as value\n        values.put(COLUMN_TITLE, title);\n        values.put(COLUMN_SINGERS, singers);\n        values.put(COLUMN_YEAR, year);\n        values.put(COLUMN_STARS, stars);\n\n        // Store the column name as key and the date as value\n\n        // Insert the row into the TABLE_TASK\n       db.insert(TABLE_SONG, null, values);\n        // Close the database connection\n        db.close();\n    }\n    public ArrayList&lt;song&gt; getAllSongs() {\n        ArrayList&lt;song&gt; songlist = new ArrayList&lt;&gt;();\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n\n        Cursor cursor = db.query(TABLE_SONG, columns, null, null,\n                null, null, null, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getInt(0);\n                String title=cursor.getString(1);\n                String singers = cursor.getString(2);\n                int year=cursor.getInt(3);\n                int stars=cursor.getInt(4);\n                song Song = new song(id,title,singers,year,stars);\n                songlist.add(Song);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n        return songlist;\n    }\n    public ArrayList&lt;song&gt; getBestSongs() {\n        ArrayList&lt;song&gt; bestsonglist = new ArrayList&lt;&gt;();\n\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        String[] columns= {COLUMN_ID, COLUMN_TITLE, COLUMN_SINGERS,COLUMN_YEAR,COLUMN_STARS};\n        String condition = COLUMN_STARS + &quot;= ?&quot;;\n        String[] args = {&quot;5&quot;};\n        Cursor cursor = db.query(TABLE_SONG, columns, condition, args,\n                null, null, null, null);\n\n        if (cursor.moveToFirst()) {\n            do {\n                int id = cursor.getInt(0);\n                String title=cursor.getString(1);\n                String singers = cursor.getString(2);\n                int year=cursor.getInt(3);\n                int stars=cursor.getInt(4);\n                song Song = new song(id,title,singers,year,stars);\n                bestsonglist.add(Song);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n        db.close();\n        return bestsonglist;\n    }\n    public int updateSong(song Song) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues values = new ContentValues();\n        values.put(COLUMN_TITLE, Song.getTitle());\n        values.put(COLUMN_SINGERS, Song.getSingers());\n        values.put(COLUMN_YEAR, Song.getYear());\n        values.put(COLUMN_STARS, Song.getStars());\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\n        String[] whereArgs = {String.valueOf(Song.getId())};\n        int result=db.update(TABLE_SONG, values, whereClause, whereArgs);\n\n        if (result &lt; 1) {\n            Log.d(&quot;DBHelper&quot;, &quot;Update failed&quot;);\n\n            db.close();\n            return result;\n        }\n\n\n        return result;\n    }\n    public void deleteSong(int songId) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        String whereClause = COLUMN_ID + &quot;=?&quot;;\n        String[] whereArgs = {String.valueOf(songId)};\n       db.delete(TABLE_SONG, whereClause, whereArgs);\n       db.close();\n    }}\n</code></pre>\n<p>MainActivity-where the initial processing is done:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ListView;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\nimport android.widget.TextView;\nimport android.widget.ToggleButton;\n\nimport java.util.ArrayList;\npublic class MainActivity extends AppCompatActivity {\n\n    Button btnInsert, btnGetSongs;\n    TextView tvResults;\n\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        btnInsert = findViewById(R.id.btnInsert);\n        btnGetSongs = findViewById(R.id.btnGetTasks);\n        //List View-&gt;\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n\n        btnInsert.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                DBHelper db = new DBHelper(MainActivity.this);\n                String title=SongInput.getText().toString();\n                String singers=SingerInput.getText().toString();\n                int year=Integer.parseInt(YearInput.getText().toString());\n\n                int selectedRatingId=RadioGroupRating.getCheckedRadioButtonId();\n                RadioButton selectedRatingButton=findViewById(selectedRatingId);\n                int rating=Integer.parseInt(selectedRatingButton.getText().toString());\n                db.insertSong(title,singers,year,rating);\n\n                SongInput.setText(&quot;&quot;);\n                SingerInput.setText(&quot;&quot;);\n                YearInput.setText(&quot;&quot;);\n                RadioGroupRating.clearCheck();\n            }\n        });\n\n        btnGetSongs.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View v) {\n                // Create the DBHelper object, passing in the\n                // activity's Context\n\n                // Insert a task\n                Intent intent = new Intent(MainActivity.this, EditActivity.class);\n                //Label the actual editactivity EditActivity2\n                startActivity(intent);\n\n\n            }\n        });\n    }\n\n\n\n}\n</code></pre>\n<p>EditActivity:Where the list is displayed:</p>\n<pre><code>{\n    ListView lv;\n    ArrayList&lt;song&gt; songsList;\n    //ArrayAdapter&lt;song&gt; adapter;\n    CustomAdapter adapter;\n    Button fivestarsongs;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_edit);\n\n        lv = findViewById(R.id.list_view);\n        fivestarsongs = findViewById(R.id.btnShow5starsongs);\n        DBHelper db = new DBHelper(EditActivity.this);\n        songsList = db.getAllSongs();\n\n        //ArrayAdapter&lt;song&gt; adapter = new ArrayAdapter&lt;&gt;(this, android.R.layout.simple_list_item_1, songs);\n\n        if (songsList != null &amp;&amp; !songsList.isEmpty()) {\n            adapter = new CustomAdapter(this, android.R.layout.simple_list_item_1, songsList); // Remove the CustomAdapter declaration here\n            lv.setAdapter(adapter);\n        }\n\n        fivestarsongs.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                ArrayList&lt;song&gt; BestSongs = db.getBestSongs();\n                adapter.clear();\n                adapter.addAll(BestSongs);\n                adapter.notifyDataSetChanged();\n            }\n        });\n        lv.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view, int\n                    position, long id) {\n                song ClickedSong = songsList.get(position);\n                Intent i = new Intent(EditActivity.this,\n                        MainActivity2.class);\n                i.putExtra(&quot;song&quot;, ClickedSong);\n                startActivity(i);\n            }\n        });\n    }\n\n}\n</code></pre>\n<p>MainActivity2-supposed to handle delete/update:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.RadioButton;\nimport android.widget.RadioGroup;\n\n\npublic class MainActivity2 extends AppCompatActivity {\n\n    Button btnUpdate,btnCancel,btnDelete;\n    EditText YearInput;\n    EditText SongInput;\n    EditText SingerInput;\n    RadioGroup RadioGroupRating;\n\n    song selectedSong;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n        DBHelper db = new DBHelper(MainActivity2.this);\n        Intent intent = getIntent();\n        song clickedSong = (song) intent.getSerializableExtra(&quot;song&quot;);\n\n        btnUpdate=findViewById(R.id.btnupdate);\n        btnCancel=findViewById(R.id.btnCancel);\n        btnDelete=findViewById(R.id.btndelete);\n        YearInput=findViewById(R.id.insertYear);\n        SongInput=findViewById(R.id.insertTitle);\n        SingerInput=findViewById(R.id.insertSingers);\n\n        RadioGroupRating=findViewById(R.id.radio_group);\n\n        selectedSong = clickedSong;\n        YearInput.setText(String.valueOf(clickedSong.getYear()));\n        SongInput.setText(clickedSong.getTitle());\n        SingerInput.setText(clickedSong.getSingers());\n        setStarsSelection(selectedSong.getStars());\n\n\n        btnUpdate.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                selectedSong.setTitle(SongInput.getText().toString());\n                selectedSong.setSingers(SingerInput.getText().toString());\n                selectedSong.setYear(Integer.parseInt(YearInput.getText().toString()));\n                selectedSong.setStars(getSelectedStars());\n                db.updateSong(selectedSong);\n                db.close();\n                finish();\n            }\n        });\n        btnDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                db.deleteSong(selectedSong.getId());\n                db.close();\n                finish();\n            }\n        });\n        btnCancel.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(MainActivity2.this, MainActivity.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n\n\n}\n\n    private int getSelectedStars() {\n        int selectedId = RadioGroupRating.getCheckedRadioButtonId();\n        RadioButton rbSelected = findViewById(selectedId);\n        return Integer.parseInt(rbSelected.getText().toString());\n    }\n    private void setStarsSelection(int stars) {\n        int radioButtonId = 0;\n        switch (stars) {\n            case 1:\n                radioButtonId = R.id.radio_1;\n                break;\n            case 2:\n                radioButtonId = R.id.radio_2;\n                break;\n            case 3:\n                radioButtonId = R.id.radio_3;\n                break;\n            case 4:\n                radioButtonId = R.id.radio_4;\n                break;\n            case 5:\n                radioButtonId = R.id.radio_5;\n                break;\n        }\n        RadioGroupRating.check(radioButtonId);\n    }\n\n\n    }\n</code></pre>\n<p>Song-class involved in all this:</p>\n<pre><code>package com.myapplicationdev.android.songdbmanager;\n\nimport androidx.annotation.NonNull;\n\nimport java.io.Serializable;\n\npublic class song implements Serializable {\n    private int id;\n    private String title;\n    private String singers;\n    private int year;\n    private int stars;\n\n\n    public void setSingers(String singers) {\n        this.singers = singers;\n    }\n\n    public void setStars(int stars) {\n        this.stars = stars;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public song (\n                 String title,\n                 String singers,\n                 int year,\n                 int stars\n    ){\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public song (\n            int id,\n            String title,\n            String singers,\n            int year,\n            int stars\n    ){\n        this.id=id;\n        this.title=title;\n        this.singers=singers;\n        this.year=year;\n        this.stars=stars;\n    }\n    public String getTitle() {\n        return title;\n    }\n    public int getId(){\n        return id;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public int getStars() {\n        return stars;\n    }\n\n    public String getSingers() {\n        return singers;\n    }\n\n\n    @NonNull\n    @Override\n    public String toString() {\n        return\n                &quot;title='&quot; + title + '\\'' +\n                &quot;, singers='&quot; + singers + '\\'' +\n                &quot;, year=&quot; + year +\n                &quot;, stars=&quot; + stars\n               ;\n    }\n}\n</code></pre>\n<p>CustomAdapter:</p>\n<pre><code>public class CustomAdapter extends ArrayAdapter {\n    private Context context;\n    private int layoutResourceId;\n    private ArrayList&lt;song&gt; songList;\n\n    public CustomAdapter(Context context, int resource, ArrayList&lt;song&gt; objects) {\n        super(context, resource, objects);\n        this.context = context;\n        this.layoutResourceId = resource;\n        this.songList = objects;\n    }\n\n    @NonNull\n    @Override\n    public View getView(int position, View rowView, ViewGroup parent) {\n        if (rowView == null) {\n            LayoutInflater inflater = LayoutInflater.from(context);\n            rowView = inflater.inflate(layoutResourceId, parent, false);\n        }\n\n        song currentSong = songList.get(position);\n\n        TextView yearInput = rowView.findViewById(R.id.insertYear);\n        TextView singerInput = rowView.findViewById(R.id.insertSingers);\n        TextView titleInput = rowView.findViewById(R.id.insertTitle);\n        RadioGroup radioGroupRating =rowView.findViewById(R.id.radio_group);\n\n        titleInput.setText(currentSong.getTitle());\n        singerInput.setText(currentSong.getSingers());\n        yearInput.setText(String.valueOf(currentSong.getYear()));\n\n        int selectedValue = currentSong.getStars();\n        int radioButtonId = 0;\n        switch (selectedValue) {\n            case 1:\n                radioButtonId = R.id.radio_1;\n                break;\n            case 2:\n                radioButtonId = R.id.radio_2;\n                break;\n            case 3:\n                radioButtonId = R.id.radio_3;\n                break;\n            case 4:\n                radioButtonId = R.id.radio_4;\n                break;\n            case 5:\n                radioButtonId = R.id.radio_5;\n                break;\n        }\n        radioGroupRating.check(radioButtonId);\n\n        return rowView;\n\n\n}}\n</code></pre>\n<p>And here's the error message associated with these (I'd share the full stack but the text limit likely won't allow me):</p>\n<p>It refers to the line where I set the year in the adapter, which is otherwise working as intended.</p>\n<pre><code>FATAL EXCEPTION: main\n                                                                                                    Process: com.myapplicationdev.android.songdbmanager, PID: 27730\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n                                                                                                        at com.myapplicationdev.android.songdbmanager.CustomAdapter.getView(CustomAdapter.java:44)\n                                                                                                        at android.widget.AbsListView.obtainView(AbsListView.java:2387)\n                                                                                                        at android.widget.ListView.makeAndAddView(ListView.java:2067)\n                                                                                                        at android.widget.ListView.fillDown(ListView.java:793)\n                                                                                                        at android.widget.ListView.fillFromTop(ListView.java:855)\n                                                                                                        at android.widget.ListView.layoutChildren(ListView.java:1838)\n                                                                                                        at android.widget.AbsListView.onLayout(AbsListView.java:2184)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n                                                                                                        at android.widget.LinearLayout.layoutHorizontal(LinearLayout.java:1818)\n                                                                                                        at android.widget.LinearLayout.onLayout(LinearLayout.java:1584)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n                                                                                                        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n                                                                                                        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n                                                                                                        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n                                                                                                        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1829)\n                                                                                                        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1673)\n                                                                                                        at android.widget.LinearLayout.onLayout(LinearLayout.java:1582)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:332)\n                                                                                                        at android.widget.FrameLayout.onLayout(FrameLayout.java:270)\n                                                                                                        at com.android.internal.policy.DecorView.onLayout(DecorView.java:784)\n                                                                                                        at android.view.View.layout(View.java:22844)\n                                                                                                        at android.view.ViewGroup.layout(ViewGroup.java:6389)\n                                                                                                        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:3470)\n                                                                                                        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2938)\n                                                                                                        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1952)\n                                                                                                        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:8171)\n                                                                                                        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:972)\n                                                                                                        at android.view.Choreographer.doCallbacks(Choreographer.java:796)\n                                                                                                        at android.view.Choreographer.doFrame(Choreographer.java:731)\n                                                                                                        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:957)\n                                                                                                        at android.os.Handler.handleCallback(Handler.java:938)\n                                                                                                        at android.os.Handler.dispatchMessage(Handler.java:99)\n                                                                                                        at android.os.Looper.loop(Looper.java:223)\n                                                                                                        at android.app.ActivityThread.main(ActivityThread.java:7656)\n                                                                                                        at java.lang.reflect.Method.invoke(Native Method)\n                                                                                                        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n                                                                                                        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>I tried editing the code to check for nulls and even making an object just to check if that's causing the glitch.</p>\n<p>Neither of them had much of an effect.</p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","spring-security"],"comments":[{"owner":{"account_id":11699537,"reputation":299,"user_id":8565131,"accept_rate":100,"display_name":"Joss MT"},"score":0,"creation_date":1529771986,"post_id":51002289,"comment_id":88999861,"body_markdown":"Perhaps there is some filter management required in my web.xml file?","body":"Perhaps there is some filter management required in my web.xml file?"}],"answers":[{"tags":[],"owner":{"account_id":11699537,"reputation":299,"user_id":8565131,"accept_rate":100,"display_name":"Joss MT"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1529772410,"creation_date":1529772410,"answer_id":51003195,"question_id":51002289,"body_markdown":"Found the problem.\r\n\r\nI had to include a reference to the filter in my web.xml file, this isn&#39;t picked up automatically using component scanner.\r\n\r\nsomething like:\r\n\r\n    &lt;filter&gt;\r\n        &lt;filter-name&gt;jwtFilter&lt;/filter-name&gt;\r\n        &lt;filter-class&gt;com.path.to.JwtFilter&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n\r\n    &lt;filter-mapping&gt;\r\n        &lt;filter-name&gt;jwtFilter&lt;/filter-name&gt;\r\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;","title":"JWT authentication filter not being triggered in Spring Security","body":"<p>Found the problem.</p>\n\n<p>I had to include a reference to the filter in my web.xml file, this isn't picked up automatically using component scanner.</p>\n\n<p>something like:</p>\n\n<pre><code>&lt;filter&gt;\n    &lt;filter-name&gt;jwtFilter&lt;/filter-name&gt;\n    &lt;filter-class&gt;com.path.to.JwtFilter&lt;/filter-class&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n    &lt;filter-name&gt;jwtFilter&lt;/filter-name&gt;\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10131694,"reputation":1907,"user_id":7484853,"display_name":"Hasee Amarathunga"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690278398,"creation_date":1690278398,"answer_id":76761453,"question_id":51002289,"body_markdown":"This issue occurred due to adding some `additional filters` into the **web.xml** file in the tomcat **conf** path. After removing that filters the authentication will be worked. \r\n\r\n If you can&#39;t find the additional filters, better to try with a new tomcat or replace the web.xml file with **default** values.","title":"JWT authentication filter not being triggered in Spring Security","body":"<p>This issue occurred due to adding some <code>additional filters</code> into the <strong>web.xml</strong> file in the tomcat <strong>conf</strong> path. After removing that filters the authentication will be worked.</p>\n<p>If you can't find the additional filters, better to try with a new tomcat or replace the web.xml file with <strong>default</strong> values.</p>\n"}],"owner":{"account_id":11699537,"reputation":299,"user_id":8565131,"accept_rate":100,"display_name":"Joss MT"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5264,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51003195,"answer_count":2,"score":1,"last_activity_date":1690278398,"creation_date":1529765393,"question_id":51002289,"body_markdown":"I have created a JWT authentication filter for my Spring Rest backend. Creating a JWT doesn&#39;t appear to be an issue, however with my current setup, any request is authenticated, no request triggers a 401 despite the fact that the client is not passing any tokens in the header.\r\n\r\nMy WebSecurityConfig:\r\n\r\n\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true,\r\n        jsr250Enabled = true, prePostEnabled = true)\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    private JwtAuthenticationEntryPoint unauthorizedHandler;\r\n\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    @Autowired\r\n    public WebSecurityConfig(final JwtAuthenticationEntryPoint unauthorizedHandler,\r\n                             final CustomUserDetailsService customUserDetailsService) {\r\n        this.unauthorizedHandler = unauthorizedHandler;\r\n        this.customUserDetailsService = customUserDetailsService;\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationFilter jwtAuthenticationFilter() {\r\n        return new JwtAuthenticationFilter();\r\n    }\r\n\r\n    @Bean\r\n    public JwtAuthenticationSuccessHandler jwtAuthenticationSuccessHandler() {\r\n        return new JwtAuthenticationSuccessHandler();\r\n    }\r\n\r\n    @Override\r\n    public void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n        authenticationManagerBuilder\r\n                .userDetailsService(customUserDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n\r\n    @Bean(BeanIds.AUTHENTICATION_MANAGER)\r\n    @Override\r\n    public AuthenticationManager authenticationManagerBean() throws Exception {\r\n        return super.authenticationManagerBean();\r\n    }\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    /**\r\n     * {@inheritDoc}\r\n     */\r\n    @Override\r\n    protected void configure(final HttpSecurity http) throws Exception {\r\n\r\n        http\r\n                .csrf()\r\n                .disable()\r\n                .cors()\r\n                .and()\r\n                .exceptionHandling()\r\n                .authenticationEntryPoint(unauthorizedHandler)\r\n                .and()\r\n                .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                .and()\r\n                .antMatcher(&quot;/api&quot;)\r\n                .authorizeRequests()\r\n                .anyRequest()\r\n                .authenticated()\r\n\r\n                .and()\r\n                .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n    }\r\n\r\n    /**\r\n     * Sets security evaluation context.\r\n     *\r\n     * @return {@link SecurityEvaluationContextExtension}\r\n     */\r\n    @Bean\r\n    public SecurityEvaluationContextExtension securityEvaluationContextExtension() {\r\n        return new SecurityEvaluationContextExtension();\r\n    }\r\n    }\r\n\r\n\r\nI have set this up such that all requests require authorisation. My JwtAuthenticationEntryPoint is as expected: a generic 401 error being thrown.\r\n\r\nMy  JwtAuthenticationFilter:\r\n\r\n\r\n    @Component\r\n    public class JwtAuthenticationFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private JwtTokenProvider tokenProvider;\r\n\r\n    @Autowired\r\n    private CustomUserDetailsService customUserDetailsService;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationFilter.class);\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain\r\n            filterChain) throws ServletException, IOException {\r\n\r\n        logger.debug(&quot;Filtering request for JWT header verification&quot;);\r\n\r\n        try {\r\n            String jwt = getJwtFromRequest(request);\r\n\r\n            if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\r\n                String username = tokenProvider.getUserIdFromJWT(jwt);\r\n\r\n                UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\r\n                UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken\r\n                        (userDetails, null, userDetails.getAuthorities());\r\n                authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\r\n\r\n                SecurityContextHolder.getContext().setAuthentication(authentication);\r\n            }\r\n        } catch (Exception ex) {\r\n            logger.error(&quot;Could not set user authentication in security context&quot;, ex);\r\n        }\r\n\r\n        filterChain.doFilter(request, response);\r\n    }\r\n\r\n    private String getJwtFromRequest(HttpServletRequest request) {\r\n\r\n        logger.debug(&quot;Attempting to get token from request header&quot;);\r\n\r\n        String bearerToken = request.getHeader(&quot;Authorization&quot;);\r\n        if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(&quot;Bearer &quot;)) {\r\n            return bearerToken.substring(7, bearerToken.length());\r\n        }\r\n        return null;\r\n    }\r\n     }\r\n\r\n","title":"JWT authentication filter not being triggered in Spring Security","body":"<p>I have created a JWT authentication filter for my Spring Rest backend. Creating a JWT doesn't appear to be an issue, however with my current setup, any request is authenticated, no request triggers a 401 despite the fact that the client is not passing any tokens in the header.</p>\n\n<p>My WebSecurityConfig:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true,\n    jsr250Enabled = true, prePostEnabled = true)\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n\nprivate JwtAuthenticationEntryPoint unauthorizedHandler;\n\nprivate CustomUserDetailsService customUserDetailsService;\n\n@Autowired\npublic WebSecurityConfig(final JwtAuthenticationEntryPoint unauthorizedHandler,\n                         final CustomUserDetailsService customUserDetailsService) {\n    this.unauthorizedHandler = unauthorizedHandler;\n    this.customUserDetailsService = customUserDetailsService;\n}\n\n@Bean\npublic JwtAuthenticationFilter jwtAuthenticationFilter() {\n    return new JwtAuthenticationFilter();\n}\n\n@Bean\npublic JwtAuthenticationSuccessHandler jwtAuthenticationSuccessHandler() {\n    return new JwtAuthenticationSuccessHandler();\n}\n\n@Override\npublic void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n    authenticationManagerBuilder\n            .userDetailsService(customUserDetailsService)\n            .passwordEncoder(passwordEncoder());\n}\n\n@Bean(BeanIds.AUTHENTICATION_MANAGER)\n@Override\npublic AuthenticationManager authenticationManagerBean() throws Exception {\n    return super.authenticationManagerBean();\n}\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n    return new BCryptPasswordEncoder();\n}\n\n/**\n * {@inheritDoc}\n */\n@Override\nprotected void configure(final HttpSecurity http) throws Exception {\n\n    http\n            .csrf()\n            .disable()\n            .cors()\n            .and()\n            .exceptionHandling()\n            .authenticationEntryPoint(unauthorizedHandler)\n            .and()\n            .sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .antMatcher(\"/api\")\n            .authorizeRequests()\n            .anyRequest()\n            .authenticated()\n\n            .and()\n            .addFilterBefore(jwtAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n}\n\n/**\n * Sets security evaluation context.\n *\n * @return {@link SecurityEvaluationContextExtension}\n */\n@Bean\npublic SecurityEvaluationContextExtension securityEvaluationContextExtension() {\n    return new SecurityEvaluationContextExtension();\n}\n}\n</code></pre>\n\n<p>I have set this up such that all requests require authorisation. My JwtAuthenticationEntryPoint is as expected: a generic 401 error being thrown.</p>\n\n<p>My  JwtAuthenticationFilter:</p>\n\n<pre><code>@Component\npublic class JwtAuthenticationFilter extends OncePerRequestFilter {\n\n@Autowired\nprivate JwtTokenProvider tokenProvider;\n\n@Autowired\nprivate CustomUserDetailsService customUserDetailsService;\n\nprivate static final Logger logger = LoggerFactory.getLogger(JwtAuthenticationFilter.class);\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain\n        filterChain) throws ServletException, IOException {\n\n    logger.debug(\"Filtering request for JWT header verification\");\n\n    try {\n        String jwt = getJwtFromRequest(request);\n\n        if (StringUtils.hasText(jwt) &amp;&amp; tokenProvider.validateToken(jwt)) {\n            String username = tokenProvider.getUserIdFromJWT(jwt);\n\n            UserDetails userDetails = customUserDetailsService.loadUserByUsername(username);\n            UsernamePasswordAuthenticationToken authentication = new UsernamePasswordAuthenticationToken\n                    (userDetails, null, userDetails.getAuthorities());\n            authentication.setDetails(new WebAuthenticationDetailsSource().buildDetails(request));\n\n            SecurityContextHolder.getContext().setAuthentication(authentication);\n        }\n    } catch (Exception ex) {\n        logger.error(\"Could not set user authentication in security context\", ex);\n    }\n\n    filterChain.doFilter(request, response);\n}\n\nprivate String getJwtFromRequest(HttpServletRequest request) {\n\n    logger.debug(\"Attempting to get token from request header\");\n\n    String bearerToken = request.getHeader(\"Authorization\");\n    if (StringUtils.hasText(bearerToken) &amp;&amp; bearerToken.startsWith(\"Bearer \")) {\n        return bearerToken.substring(7, bearerToken.length());\n    }\n    return null;\n}\n }\n</code></pre>\n"},{"tags":["java","amazon-s3","aws-sdk","aws-ssm"],"answers":[{"tags":[],"owner":{"account_id":2438972,"reputation":1330,"user_id":2128047,"accept_rate":50,"display_name":"nLee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1670953149,"creation_date":1670953149,"answer_id":74788866,"question_id":74788773,"body_markdown":"Looks like you will have to exclude one of the versions of ``http-client`` in your ``pom``\r\n\r\n    implementation(&#39;&lt;dependency&gt;&#39;) {\r\n        exclude group: &#39;&lt;group&gt;&#39;, module: &#39;&lt;module&gt;&#39;\r\n    }\r\n\r\nwhere ``dependency`` is one of:\r\n\r\n    &#39;software.amazon.lambda:powertools-parameters:1.12.3&#39;\r\n    &#39;software.amazon.awssdk:sns:2.15.0&#39;\r\n\r\nYou can run `` gradle dependencies `` to see the dependency tree to figure out which one you want to exclude from","title":"How can I resolve this runtime error &quot;Multiple HTTP implementations were found on the classpath&quot; using software.amazon.awssdk.http.service.impl","body":"<p>Looks like you will have to exclude one of the versions of <code>http-client</code> in your <code>pom</code></p>\n<pre><code>implementation('&lt;dependency&gt;') {\n    exclude group: '&lt;group&gt;', module: '&lt;module&gt;'\n}\n</code></pre>\n<p>where <code>dependency</code> is one of:</p>\n<pre><code>'software.amazon.lambda:powertools-parameters:1.12.3'\n'software.amazon.awssdk:sns:2.15.0'\n</code></pre>\n<p>You can run <code>gradle dependencies</code> to see the dependency tree to figure out which one you want to exclude from</p>\n"},{"tags":[],"owner":{"account_id":24581810,"reputation":1,"user_id":18486820,"display_name":"Mr.OPK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683645935,"creation_date":1683645841,"answer_id":76210959,"question_id":74788773,"body_markdown":"Can you try explicitly setting below to ensure specific http is used.\r\n\r\n    System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.apache.ApacheSdkHttpService&quot;);","title":"How can I resolve this runtime error &quot;Multiple HTTP implementations were found on the classpath&quot; using software.amazon.awssdk.http.service.impl","body":"<p>Can you try explicitly setting below to ensure specific http is used.</p>\n<pre><code>System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;, &quot;software.amazon.awssdk.http.apache.ApacheSdkHttpService&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5600200,"reputation":11,"user_id":4436692,"display_name":"rako"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690278126,"creation_date":1690278126,"answer_id":76761408,"question_id":74788773,"body_markdown":"I have experienced the same problem. \r\nThe blog post about AWS SDK turned out to be useful: \r\n&lt;https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/&gt;\r\n\r\nThe following one was best in my use case:\r\n\r\n    System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;,&quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);","title":"How can I resolve this runtime error &quot;Multiple HTTP implementations were found on the classpath&quot; using software.amazon.awssdk.http.service.impl","body":"<p>I have experienced the same problem.\nThe blog post about AWS SDK turned out to be useful:\n<a href=\"https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/\" rel=\"nofollow noreferrer\">https://aws.amazon.com/blogs/developer/aws-sdk-for-java-2-x-released/</a></p>\n<p>The following one was best in my use case:</p>\n<pre><code>System.setProperty(&quot;software.amazon.awssdk.http.service.impl&quot;,&quot;software.amazon.awssdk.http.urlconnection.UrlConnectionSdkHttpService&quot;);\n</code></pre>\n"}],"owner":{"account_id":27242816,"reputation":11,"user_id":20768684,"display_name":"Lebo Mccallum"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690278126,"creation_date":1670952696,"question_id":74788773,"body_markdown":"Im having trouble resolving the following runtime error: &quot;Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath&quot;\r\n\r\nI have the following two dependencies in my gradle.build : \r\n```\r\nimplementation &#39;software.amazon.lambda:powertools-parameters:1.12.3&#39;\r\nimplementation &#39;software.amazon.awssdk:sns:2.15.0&#39;\r\n```\r\nThey both seem to use the default HTTP client and compiler cannot determine which one to use. See below the declaration and use of them in code:\r\n\r\n```\r\n\r\nprivate static SsmClient = SsmClient.builder().region(Region.of((region == null) ? Regions.US_EAST_1.getName() : region)).build();\r\n\r\nprivate static SSMProvider ssmProvider = ParamManager.getSsmProvider(client);\r\n\r\nstatic SnsClient sns = SnsClient.builder().credentialsProvider(DefaultCredentialsProvider.builder().build())\r\n      .region((region == null) ? Region.US_EAST_1 : Region.of(region)).build();\r\n```\r\n\r\n\r\nI cannot remove one from the class path since I need both for my application and I have not succesfully been able to define an awssdk client via the builders.\r\n\r\n\r\n\r\nI tried this but still got same runtime error:\r\n\r\n\r\n```\r\nclient = SsmClient.builder().httpClientBuilder(new SdkHttpClient() {\r\n   @Override\r\n   public void close() {\r\n\r\n   }\r\n\r\n   @Override\r\n   public ExecutableHttpRequest prepareRequest(HttpExecuteRequest request) {\r\n      return null;\r\n   }\r\n})\r\n```\r\n","title":"How can I resolve this runtime error &quot;Multiple HTTP implementations were found on the classpath&quot; using software.amazon.awssdk.http.service.impl","body":"<p>Im having trouble resolving the following runtime error: &quot;Multiple HTTP implementations were found on the classpath. To avoid non-deterministic loading implementations, please explicitly provide an HTTP client via the client builders, set the software.amazon.awssdk.http.service.impl system property with the FQCN of the HTTP service to use as the default, or remove all but one HTTP implementation from the classpath&quot;</p>\n<p>I have the following two dependencies in my gradle.build :</p>\n<pre><code>implementation 'software.amazon.lambda:powertools-parameters:1.12.3'\nimplementation 'software.amazon.awssdk:sns:2.15.0'\n</code></pre>\n<p>They both seem to use the default HTTP client and compiler cannot determine which one to use. See below the declaration and use of them in code:</p>\n<pre><code>\nprivate static SsmClient = SsmClient.builder().region(Region.of((region == null) ? Regions.US_EAST_1.getName() : region)).build();\n\nprivate static SSMProvider ssmProvider = ParamManager.getSsmProvider(client);\n\nstatic SnsClient sns = SnsClient.builder().credentialsProvider(DefaultCredentialsProvider.builder().build())\n      .region((region == null) ? Region.US_EAST_1 : Region.of(region)).build();\n</code></pre>\n<p>I cannot remove one from the class path since I need both for my application and I have not succesfully been able to define an awssdk client via the builders.</p>\n<p>I tried this but still got same runtime error:</p>\n<pre><code>client = SsmClient.builder().httpClientBuilder(new SdkHttpClient() {\n   @Override\n   public void close() {\n\n   }\n\n   @Override\n   public ExecutableHttpRequest prepareRequest(HttpExecuteRequest request) {\n      return null;\n   }\n})\n</code></pre>\n"},{"tags":["java","mysql","hibernate","jdbc"],"comments":[{"owner":{"account_id":19279659,"reputation":332,"user_id":14091920,"display_name":"Fran Na Jaya"},"score":0,"creation_date":1670444381,"post_id":72565479,"comment_id":131880388,"body_markdown":"is there any update related to this question, I facing the same problem but with different constraint","body":"is there any update related to this question, I facing the same problem but with different constraint"}],"answers":[{"tags":[],"owner":{"account_id":7108067,"reputation":732,"user_id":5437055,"accept_rate":100,"display_name":"Ruslan  Gabbazov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665410816,"creation_date":1665410224,"answer_id":74016049,"question_id":72565479,"body_markdown":"It seems your &quot;OBSOLETE&quot; is passed as Serealized instead of as String cause it&#39;s an Object, which saved as String in the Database. Try to use simple &quot;toString()&quot; by passing this parameter.","title":"Cannot convert string &#39;\\xAC\\xED\\x00\\x05~r...&#39; from binary to utf8mb3","body":"<p>It seems your &quot;OBSOLETE&quot; is passed as Serealized instead of as String cause it's an Object, which saved as String in the Database. Try to use simple &quot;toString()&quot; by passing this parameter.</p>\n"}],"owner":{"account_id":19064371,"reputation":441,"user_id":13919748,"display_name":"javaistaucheineinsel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4548,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1690277785,"creation_date":1654801943,"question_id":72565479,"body_markdown":"I am getting an exception whenever I run this piece of code :\r\n\r\n    StringBuilder sqlQuery = new StringBuilder(&quot;SELECT this_.id as id, this_.number_of_hours as number_of_hours, this_.date_start as date_start, this_.date_end as date_end, this_.date_created as date_created, this_.obsolete as obsolete FROM (&quot;);\r\n    sqlQuery.append(&quot; select tt.* from employee_tracking tt &quot;)\r\n            .append(&quot; inner join contract c on tt.contract_id=c.id &quot;)\r\n            .append(&quot; where tt.obsolete = :OBSOLETE &quot;);\r\n        \r\n    // UNION\r\n    sqlQuery.append(&quot; UNION &quot;);\r\n\r\n    sqlQuery.append(&quot; select tt_.* from employee_tracking tt_ &quot;)\r\n            .append(&quot; inner join contract_extension ce_ on tt_.contract_extension_id=ce_.id &quot;)\r\n            .append(&quot; where tt_.obsolete = :OBSOLETE &quot;);\r\n        \r\n    sqlQuery.append(&quot;) AS this_ ORDER BY id ASC &quot;);\r\n    \r\n    \r\n    SQLQuery query = getSessionFactory().getCurrentSession().createSQLQuery(sqlQuery.toString());\r\n    query.setParameter(&quot;OBSOLETE&quot;, 0);\r\n        \r\n    query.addEntity(EmployeeTracking.class);\r\n    \r\n    List lst = query.list();\r\n\r\nThe exception stack trace :\r\n\r\n    WARN  SqlExceptionHelper - SQL Error: 3854, SQLState: HY000\r\n    ERROR SqlExceptionHelper - Cannot convert string &#39;\\xAC\\xED\\x00\\x05~r...&#39; from binary to utf8mb3\r\n\r\nThis is my server character set config :\r\n\r\n    mysql&gt; use lambda;\r\n    Reading table information for completion of table and column names\r\n    You can turn off this feature to get a quicker startup with -A\r\n    \r\n    Database changed\r\n\r\n    mysql&gt; SHOW VARIABLES WHERE Variable_name LIKE &#39;character\\_set\\_%&#39; OR Variable_name LIKE &#39;collation%&#39;;\r\n    +--------------------------+--------------------+\r\n    | Variable_name            | Value              |\r\n    +--------------------------+--------------------+\r\n    | character_set_client     | utf8mb4            |\r\n    | character_set_connection | utf8mb4            |\r\n    | character_set_database   | utf8mb3            |\r\n    | character_set_filesystem | binary             |\r\n    | character_set_results    | utf8mb4            |\r\n    | character_set_server     | utf8mb4            |\r\n    | character_set_system     | utf8mb3            |\r\n    | collation_connection     | utf8mb4_0900_ai_ci |\r\n    | collation_database       | utf8_danish_ci     |\r\n    | collation_server         | utf8mb4_0900_ai_ci |\r\n    +--------------------------+--------------------+\r\n    10 rows in set (0,00 sec)\r\n\r\n    mysql&gt; SELECT CCSA.character_set_name FROM information_schema.`TABLES` T, information_schema.`COLLATION_CHARACTER_SET_APPLICABILITY` CCSA\r\n        -&gt; WHERE CCSA.collation_name = T.table_collation AND T.table_schema = &quot;lambda&quot; AND T.table_name = &quot;employee_tracking&quot;;\r\n    +--------------------+\r\n    | CHARACTER_SET_NAME |\r\n    +--------------------+\r\n    | utf8mb4            |\r\n    +--------------------+\r\n    1 row in set (0,01 sec)\r\n\r\nMy jdbcUrl :\r\n\r\n    jdbc:mysql://localhost:3306/lambda?jdbcCompliantTruncation=false&amp;serverTimezone=Europe/Berlin&amp;allowPublicKeyRetrieval=true&amp;useSSL=false&amp;zeroDateTimeBehavior=round\r\n\r\nI am using the following MySQL Server version : \r\n\r\n    ~ % /usr/local/mysql/bin/mysql --version   \r\n    /usr/local/mysql/bin/mysql  Ver 8.0.27 for macos11 on x86_64 (MySQL Community Server - GPL)\r\n\r\nAny help please will be more than appreciated.","title":"Cannot convert string &#39;\\xAC\\xED\\x00\\x05~r...&#39; from binary to utf8mb3","body":"<p>I am getting an exception whenever I run this piece of code :</p>\n<pre><code>StringBuilder sqlQuery = new StringBuilder(&quot;SELECT this_.id as id, this_.number_of_hours as number_of_hours, this_.date_start as date_start, this_.date_end as date_end, this_.date_created as date_created, this_.obsolete as obsolete FROM (&quot;);\nsqlQuery.append(&quot; select tt.* from employee_tracking tt &quot;)\n        .append(&quot; inner join contract c on tt.contract_id=c.id &quot;)\n        .append(&quot; where tt.obsolete = :OBSOLETE &quot;);\n    \n// UNION\nsqlQuery.append(&quot; UNION &quot;);\n\nsqlQuery.append(&quot; select tt_.* from employee_tracking tt_ &quot;)\n        .append(&quot; inner join contract_extension ce_ on tt_.contract_extension_id=ce_.id &quot;)\n        .append(&quot; where tt_.obsolete = :OBSOLETE &quot;);\n    \nsqlQuery.append(&quot;) AS this_ ORDER BY id ASC &quot;);\n\n\nSQLQuery query = getSessionFactory().getCurrentSession().createSQLQuery(sqlQuery.toString());\nquery.setParameter(&quot;OBSOLETE&quot;, 0);\n    \nquery.addEntity(EmployeeTracking.class);\n\nList lst = query.list();\n</code></pre>\n<p>The exception stack trace :</p>\n<pre><code>WARN  SqlExceptionHelper - SQL Error: 3854, SQLState: HY000\nERROR SqlExceptionHelper - Cannot convert string '\\xAC\\xED\\x00\\x05~r...' from binary to utf8mb3\n</code></pre>\n<p>This is my server character set config :</p>\n<pre><code>mysql&gt; use lambda;\nReading table information for completion of table and column names\nYou can turn off this feature to get a quicker startup with -A\n\nDatabase changed\n\nmysql&gt; SHOW VARIABLES WHERE Variable_name LIKE 'character\\_set\\_%' OR Variable_name LIKE 'collation%';\n+--------------------------+--------------------+\n| Variable_name            | Value              |\n+--------------------------+--------------------+\n| character_set_client     | utf8mb4            |\n| character_set_connection | utf8mb4            |\n| character_set_database   | utf8mb3            |\n| character_set_filesystem | binary             |\n| character_set_results    | utf8mb4            |\n| character_set_server     | utf8mb4            |\n| character_set_system     | utf8mb3            |\n| collation_connection     | utf8mb4_0900_ai_ci |\n| collation_database       | utf8_danish_ci     |\n| collation_server         | utf8mb4_0900_ai_ci |\n+--------------------------+--------------------+\n10 rows in set (0,00 sec)\n\nmysql&gt; SELECT CCSA.character_set_name FROM information_schema.`TABLES` T, information_schema.`COLLATION_CHARACTER_SET_APPLICABILITY` CCSA\n    -&gt; WHERE CCSA.collation_name = T.table_collation AND T.table_schema = &quot;lambda&quot; AND T.table_name = &quot;employee_tracking&quot;;\n+--------------------+\n| CHARACTER_SET_NAME |\n+--------------------+\n| utf8mb4            |\n+--------------------+\n1 row in set (0,01 sec)\n</code></pre>\n<p>My jdbcUrl :</p>\n<pre><code>jdbc:mysql://localhost:3306/lambda?jdbcCompliantTruncation=false&amp;serverTimezone=Europe/Berlin&amp;allowPublicKeyRetrieval=true&amp;useSSL=false&amp;zeroDateTimeBehavior=round\n</code></pre>\n<p>I am using the following MySQL Server version :</p>\n<pre><code>~ % /usr/local/mysql/bin/mysql --version   \n/usr/local/mysql/bin/mysql  Ver 8.0.27 for macos11 on x86_64 (MySQL Community Server - GPL)\n</code></pre>\n<p>Any help please will be more than appreciated.</p>\n"},{"tags":["java","maven","continuous-integration","cicd","circleci"],"answers":[{"tags":[],"owner":{"account_id":323478,"reputation":605,"user_id":643516,"display_name":"zmarkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690277157,"creation_date":1689855040,"answer_id":76729710,"question_id":76717216,"body_markdown":"Looks like the project expects JDK 17, which isn&#39;t available in the executor.\r\n\r\nAs per the [docs in the maven orb for CircleCI][1], you can pass in an executor which can specify JDK version, you should specify JDK 17.\r\n\r\n \r\n\r\n    version: 2.1\r\n    orbs:\r\n      maven: circleci/maven@1.4.1\r\n      slack: circleci/slack@4.4.4\r\n      docker: circleci/docker@2.2.0\r\n    \r\n    workflows:\r\n      maven:\r\n        jobs:\r\n          - maven/test:\r\n              executor: \r\n                name: maven/default\r\n                tag: &#39;17.0&#39;\r\n              maven_command: mvn\r\n              command: clean install\r\n              settings_file: settings.xml\r\n              verify_dependencies: false\r\n\r\n\r\nWhere the maven/default executor is the cimg/openjdj convenience Docker image, with these available tags: https://circleci.com/developer/images/image/cimg/openjdk\r\n\r\nHope this helps!\r\n\r\n  [1]: https://circleci.com/developer/orbs/orb/circleci/maven\r\n\r\n","title":"Maven clean install in CircleCI","body":"<p>Looks like the project expects JDK 17, which isn't available in the executor.</p>\n<p>As per the <a href=\"https://circleci.com/developer/orbs/orb/circleci/maven\" rel=\"nofollow noreferrer\">docs in the maven orb for CircleCI</a>, you can pass in an executor which can specify JDK version, you should specify JDK 17.</p>\n<pre><code>version: 2.1\norbs:\n  maven: circleci/maven@1.4.1\n  slack: circleci/slack@4.4.4\n  docker: circleci/docker@2.2.0\n\nworkflows:\n  maven:\n    jobs:\n      - maven/test:\n          executor: \n            name: maven/default\n            tag: '17.0'\n          maven_command: mvn\n          command: clean install\n          settings_file: settings.xml\n          verify_dependencies: false\n</code></pre>\n<p>Where the maven/default executor is the cimg/openjdj convenience Docker image, with these available tags: <a href=\"https://circleci.com/developer/images/image/cimg/openjdk\" rel=\"nofollow noreferrer\">https://circleci.com/developer/images/image/cimg/openjdk</a></p>\n<p>Hope this helps!</p>\n"}],"owner":{"account_id":7856545,"reputation":1696,"user_id":5938195,"accept_rate":73,"display_name":"Kuldeep Yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690277157,"creation_date":1689725670,"question_id":76717216,"body_markdown":"I am trying CircleCI to set build pipeline for my maven project.\r\nThe intent is to run `mvn clean install -s settings.xml`\r\n\r\n\r\n\r\nmy config.yml looks like following\r\n\r\n```\r\nversion: 2.1\r\norbs:\r\n  maven: circleci/maven@1.4.1\r\n  slack: circleci/slack@4.4.4\r\n  docker: circleci/docker@2.2.0\r\n\r\nworkflows:\r\n  maven:\r\n    jobs:\r\n      - maven/test:\r\n          maven_command: mvn\r\n          command: clean install\r\n          settings_file: settings.xml\r\n          verify_dependencies: false\r\n```\r\n\r\nBut it is failing because of wrong target version 17\r\n\r\n```\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 334 source files to /home/circleci/project/target/classes\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  04:30 min\r\n[INFO] Finished at: 2023-07-19T00:11:16Z\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project *****: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n```\r\n\r\nWhat should I change into my config to use java17?","title":"Maven clean install in CircleCI","body":"<p>I am trying CircleCI to set build pipeline for my maven project.\nThe intent is to run <code>mvn clean install -s settings.xml</code></p>\n<p>my config.yml looks like following</p>\n<pre><code>version: 2.1\norbs:\n  maven: circleci/maven@1.4.1\n  slack: circleci/slack@4.4.4\n  docker: circleci/docker@2.2.0\n\nworkflows:\n  maven:\n    jobs:\n      - maven/test:\n          maven_command: mvn\n          command: clean install\n          settings_file: settings.xml\n          verify_dependencies: false\n</code></pre>\n<p>But it is failing because of wrong target version 17</p>\n<pre><code>[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 334 source files to /home/circleci/project/target/classes\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  04:30 min\n[INFO] Finished at: 2023-07-19T00:11:16Z\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project *****: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>What should I change into my config to use java17?</p>\n"},{"tags":["javascript","java","amazon-web-services","spring-mvc","amazon-ec2"],"comments":[{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1690272024,"post_id":76760163,"comment_id":135326279,"body_markdown":"do the alert need to be fired from inside the JVM application? An OFM exception indicates that the application is not running as expected any more - so the altering system should be outside the ecosystem of the JVM. You can use for example the ELK-Stack from Elastic: https://www.elastic.co/what-is/elk-stack","body":"do the alert need to be fired from inside the JVM application? An OFM exception indicates that the application is not running as expected any more - so the altering system should be outside the ecosystem of the JVM. You can use for example the ELK-Stack from Elastic: <a href=\"https://www.elastic.co/what-is/elk-stack\" rel=\"nofollow noreferrer\">elastic.co/what-is/elk-stack</a>"},{"owner":{"account_id":17634420,"reputation":89,"user_id":12797947,"display_name":"bateda"},"score":0,"creation_date":1690273582,"post_id":76760163,"comment_id":135326612,"body_markdown":"No for the alert i have to use Cloudwatch Metrics so when i will get the error in logs i have to put that on Cloudwatch Metrics.","body":"No for the alert i have to use Cloudwatch Metrics so when i will get the error in logs i have to put that on Cloudwatch Metrics."},{"owner":{"account_id":13055830,"reputation":173,"user_id":9434729,"display_name":"Jelmen"},"score":0,"creation_date":1690273735,"post_id":76760163,"comment_id":135326647,"body_markdown":"than you should add this context information to the question. I can not help you with Cloudwatch","body":"than you should add this context information to the question. I can not help you with Cloudwatch"},{"owner":{"account_id":17634420,"reputation":89,"user_id":12797947,"display_name":"bateda"},"score":0,"creation_date":1690274163,"post_id":76760163,"comment_id":135326727,"body_markdown":"Alert work i can do that, my doubt is how i can catch the Out of Memory in java class as it can be throw from any class in the project i can&#39;t update each class with Out of Memory check.","body":"Alert work i can do that, my doubt is how i can catch the Out of Memory in java class as it can be throw from any class in the project i can&#39;t update each class with Out of Memory check."}],"owner":{"account_id":17634420,"reputation":89,"user_id":12797947,"display_name":"bateda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690277086,"creation_date":1690268434,"question_id":76760163,"body_markdown":"We have one requirement where if we get the Out of Memory from JVM then we have to create the Alert. now my issue is Out of Memory error we can get from any java class and my requirement is when we get Out of Memory in console logs i have to create the alert.\r\nis there any way to read the run time logs and found specific error and create a alert. \r\n\r\nBasically In my project I want to put global try catch for Out of Memory check.","title":"How to read runtime log file and create a alert","body":"<p>We have one requirement where if we get the Out of Memory from JVM then we have to create the Alert. now my issue is Out of Memory error we can get from any java class and my requirement is when we get Out of Memory in console logs i have to create the alert.\nis there any way to read the run time logs and found specific error and create a alert.</p>\n<p>Basically In my project I want to put global try catch for Out of Memory check.</p>\n"},{"tags":["java","spring-boot","sdk","open-telemetry","jaeger"],"comments":[{"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"score":1,"creation_date":1687530607,"post_id":76538610,"comment_id":134954520,"body_markdown":"Not sure why you&#39;re getting more spans.\nHowever, have you tried using existing instrumentation libraries, like https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/kafka/kafka-clients/kafka-clients-2.6/library for kafka?","body":"Not sure why you&#39;re getting more spans. However, have you tried using existing instrumentation libraries, like <a href=\"https://github.com/open-telemetry/opentelemetry-java-instrumentation/tree/main/instrumentation/kafka/kafka-clients/kafka-clients-2.6/library\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-java-instrumentation&zwnj;&#8203;/&hellip;</a> for kafka?"}],"answers":[{"tags":[],"owner":{"display_name":"user20174493"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688476868,"creation_date":1688476868,"answer_id":76613082,"question_id":76538610,"body_markdown":"Late but i solved: I stupidly setted the exporter as receiver so it stucks itself into a loop! :(","title":"Continuosly making spans until shutdown","body":"<p>Late but i solved: I stupidly setted the exporter as receiver so it stucks itself into a loop! :(</p>\n"}],"owner":{"display_name":"user20174493"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76613082,"answer_count":1,"score":0,"last_activity_date":1690276778,"creation_date":1687511150,"question_id":76538610,"body_markdown":"Hi I&#39;m learning Opentelemtry using Java SpringBoot, I faced an issue when generating spans and exporting them to JaegerUI.\r\nThis is my service:\r\n\r\n    \r\n        // Iterates with a cursor a list of documents and returns them in json\r\n        // then produces a message with kafka and exports telemetry datas.\r\n        @Override\r\n        public List&lt;InsaccatiModel&gt; findAll() {\r\n    \r\n            List&lt;InsaccatiModel&gt; insaccatiModels = new ArrayList&lt;&gt;();\r\n            MongoCursor&lt;Document&gt; cursor = null;\r\n    \r\n            try {\r\n                cursor = mongoCollection.find().iterator();\r\n    \r\n                while (cursor.hasNext()) {\r\n                    Document document = cursor.next();\r\n                    insaccatiModels.add(mapper.readValue(document.toJson(), InsaccatiModel.class));\r\n                }\r\n            } catch (JsonProcessingException e) {\r\n                throw new RuntimeException(e);\r\n            } finally {\r\n                cursor.close();\r\n            }\r\n    \r\n            // kafka producer\r\n            Producer producer = new Producer();\r\n            producer.producerMethod(kafkaServer, message);\r\n    \r\n            // instrumentation: spans\r\n            Span span = tracer.spanBuilder(&quot;GET span&quot;).setSpanKind(SpanKind.PRODUCER).startSpan()\r\n            .setAttribute(&quot;http.method&quot;, &quot;GET&quot;)\r\n            .setAttribute(&quot;http.url&quot;, &quot;http://localhost:8080/app/all&quot;);\r\n            span.end();\r\n    \r\n            // instrumentation: metrics\r\n            LongCounter counter = meter\r\n                    .counterBuilder(&quot;processed&quot;)\r\n                    .setDescription(&quot;Description&quot;)\r\n                    .setUnit(&quot;1&quot;)\r\n                    .build();\r\n    \r\n            Attributes attributes = Attributes.of(AttributeKey.stringKey(&quot;Key&quot;), &quot;qualcosa&quot;);\r\n            counter.add(123, attributes);\r\n    \r\n            return insaccatiModels;\r\n        }\r\n\r\nAnd this is my OpenTelemetryConfig:\r\n\r\n\r\n\r\n\r\n        @Bean\r\n        public OpenTelemetry openTelemetry() {\r\n            Resource resource = Resource.getDefault()\r\n                    .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;insaccati&quot;)));\r\n    \r\n            SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\r\n                    .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\r\n                    .setResource(resource)\r\n                    .build();\r\n    \r\n            SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\r\n                    .registerMetricReader(PeriodicMetricReader.builder(OtlpGrpcMetricExporter.builder().build()).build())\r\n                    .setResource(resource)\r\n                    .build();\r\n    \r\n            OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\r\n                    .setTracerProvider(sdkTracerProvider)\r\n                    .setMeterProvider(sdkMeterProvider)\r\n                    .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\r\n                    .buildAndRegisterGlobal();\r\n    \r\n            return openTelemetry;\r\n        }\r\n    }\r\n\r\nThe issue is that every time I make a GET request using Insomnia the code generates continuosly spans into JaegerUI until i shutdown my service.\r\nI tried to shutdown my SdkTracerProvider using:\r\n\r\n    SdkTracerProvider.shutdown();\r\n\r\nBut it makes my service not generating spans, where can it be the problem? Sorry for my English. :)","title":"Continuosly making spans until shutdown","body":"<p>Hi I'm learning Opentelemtry using Java SpringBoot, I faced an issue when generating spans and exporting them to JaegerUI.\nThis is my service:</p>\n<pre><code>    // Iterates with a cursor a list of documents and returns them in json\n    // then produces a message with kafka and exports telemetry datas.\n    @Override\n    public List&lt;InsaccatiModel&gt; findAll() {\n\n        List&lt;InsaccatiModel&gt; insaccatiModels = new ArrayList&lt;&gt;();\n        MongoCursor&lt;Document&gt; cursor = null;\n\n        try {\n            cursor = mongoCollection.find().iterator();\n\n            while (cursor.hasNext()) {\n                Document document = cursor.next();\n                insaccatiModels.add(mapper.readValue(document.toJson(), InsaccatiModel.class));\n            }\n        } catch (JsonProcessingException e) {\n            throw new RuntimeException(e);\n        } finally {\n            cursor.close();\n        }\n\n        // kafka producer\n        Producer producer = new Producer();\n        producer.producerMethod(kafkaServer, message);\n\n        // instrumentation: spans\n        Span span = tracer.spanBuilder(&quot;GET span&quot;).setSpanKind(SpanKind.PRODUCER).startSpan()\n        .setAttribute(&quot;http.method&quot;, &quot;GET&quot;)\n        .setAttribute(&quot;http.url&quot;, &quot;http://localhost:8080/app/all&quot;);\n        span.end();\n\n        // instrumentation: metrics\n        LongCounter counter = meter\n                .counterBuilder(&quot;processed&quot;)\n                .setDescription(&quot;Description&quot;)\n                .setUnit(&quot;1&quot;)\n                .build();\n\n        Attributes attributes = Attributes.of(AttributeKey.stringKey(&quot;Key&quot;), &quot;qualcosa&quot;);\n        counter.add(123, attributes);\n\n        return insaccatiModels;\n    }\n</code></pre>\n<p>And this is my OpenTelemetryConfig:</p>\n<pre><code>    @Bean\n    public OpenTelemetry openTelemetry() {\n        Resource resource = Resource.getDefault()\n                .merge(Resource.create(Attributes.of(ResourceAttributes.SERVICE_NAME, &quot;insaccati&quot;)));\n\n        SdkTracerProvider sdkTracerProvider = SdkTracerProvider.builder()\n                .addSpanProcessor(BatchSpanProcessor.builder(OtlpGrpcSpanExporter.builder().build()).build())\n                .setResource(resource)\n                .build();\n\n        SdkMeterProvider sdkMeterProvider = SdkMeterProvider.builder()\n                .registerMetricReader(PeriodicMetricReader.builder(OtlpGrpcMetricExporter.builder().build()).build())\n                .setResource(resource)\n                .build();\n\n        OpenTelemetry openTelemetry = OpenTelemetrySdk.builder()\n                .setTracerProvider(sdkTracerProvider)\n                .setMeterProvider(sdkMeterProvider)\n                .setPropagators(ContextPropagators.create(W3CTraceContextPropagator.getInstance()))\n                .buildAndRegisterGlobal();\n\n        return openTelemetry;\n    }\n}\n</code></pre>\n<p>The issue is that every time I make a GET request using Insomnia the code generates continuosly spans into JaegerUI until i shutdown my service.\nI tried to shutdown my SdkTracerProvider using:</p>\n<pre><code>SdkTracerProvider.shutdown();\n</code></pre>\n<p>But it makes my service not generating spans, where can it be the problem? Sorry for my English. :)</p>\n"},{"tags":["java","android","unity-game-engine","java-home"],"comments":[{"owner":{"account_id":19259266,"reputation":1853,"user_id":14075508,"display_name":"Alex Vergara"},"score":0,"creation_date":1689849057,"post_id":76720878,"comment_id":135272841,"body_markdown":"check if some of your paths contains white spaces (I am assuming that you&#39;re talking about Windows), that they typically are found in the username. P.ej: `C:/Users/Slim Hidri/...` sometimes Windows struggles with those paths, so be careful to correctly scape them","body":"check if some of your paths contains white spaces (I am assuming that you&#39;re talking about Windows), that they typically are found in the username. P.ej: <code>C:&#47;Users&#47;Slim Hidri&#47;...</code> sometimes Windows struggles with those paths, so be careful to correctly scape them"}],"answers":[{"tags":[],"owner":{"account_id":9476185,"reputation":1,"user_id":7045470,"display_name":"Slim Hidri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690276760,"creation_date":1689767982,"answer_id":76721070,"question_id":76720878,"body_markdown":"I just did the poorest solution, just copy the new editor&#39;s OpenJDK and create a fake directory exact same as the problem pointing to it, and just paste it there. If there&#39;s any better solutions just let me know !","title":"Unity, Android Resovler, JDK Path won&#39;t update to new directory","body":"<p>I just did the poorest solution, just copy the new editor's OpenJDK and create a fake directory exact same as the problem pointing to it, and just paste it there. If there's any better solutions just let me know !</p>\n"}],"owner":{"account_id":9476185,"reputation":1,"user_id":7045470,"display_name":"Slim Hidri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690276760,"creation_date":1689766557,"question_id":76720878,"body_markdown":"I know this question was asked a couple of times before, but I just cant get it to work for a couple of days now.\r\n\r\nI just opened a project with a different version of Unity, (my fault), the JDK still pointing at the old directory and it just won&#39;t update no matter what i do !\r\n\r\n[Here&#39;s an idea of what&#39;s going on](https://i.stack.imgur.com/Uf5VT.png)\r\n\r\n\r\n\r\nI&#39;ve tried installing the JDK from their website and pointing to it, nope\r\n\r\nI&#39;ve updated the environment variables pointing to the Unity OpenJDK, nothing new.\r\n\r\nI&#39;ve followed some threads suggesting to uncheck then check again the JDK part in &quot;External tools&quot;, nothing new.\r\n\r\nCmd `echo %JAVA_HOME%` is pointing to the right location\r\n\r\nI&#39;ve even deleted UnityHub and UnityEditor and reinstalled them, nothing has changed.\r\n\r\nIs there like a temp file somewhere storing the information of the location of JDK somewhere maybe i can change it manually?\r\n\r\nor what else can I try?\r\n\r\nI assume if i install the same version of the currently pointed location,\r\nand put it in the same path it might work, but there must be a different way!","title":"Unity, Android Resovler, JDK Path won&#39;t update to new directory","body":"<p>I know this question was asked a couple of times before, but I just cant get it to work for a couple of days now.</p>\n<p>I just opened a project with a different version of Unity, (my fault), the JDK still pointing at the old directory and it just won't update no matter what i do !</p>\n<p><a href=\"https://i.stack.imgur.com/Uf5VT.png\" rel=\"nofollow noreferrer\">Here's an idea of what's going on</a></p>\n<p>I've tried installing the JDK from their website and pointing to it, nope</p>\n<p>I've updated the environment variables pointing to the Unity OpenJDK, nothing new.</p>\n<p>I've followed some threads suggesting to uncheck then check again the JDK part in &quot;External tools&quot;, nothing new.</p>\n<p>Cmd <code>echo %JAVA_HOME%</code> is pointing to the right location</p>\n<p>I've even deleted UnityHub and UnityEditor and reinstalled them, nothing has changed.</p>\n<p>Is there like a temp file somewhere storing the information of the location of JDK somewhere maybe i can change it manually?</p>\n<p>or what else can I try?</p>\n<p>I assume if i install the same version of the currently pointed location,\nand put it in the same path it might work, but there must be a different way!</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","mockito"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1603285942,"post_id":64463733,"comment_id":113988508,"body_markdown":"did you add mockito-inline as dependencies ?","body":"did you add mockito-inline as dependencies ?"},{"owner":{"account_id":17294609,"reputation":257,"user_id":12525549,"display_name":"Ehrakis"},"score":0,"creation_date":1603285999,"post_id":64463733,"comment_id":113988536,"body_markdown":"Yes I did, I will edit my question to add my POM.xml file.","body":"Yes I did, I will edit my question to add my POM.xml file."}],"answers":[{"tags":[],"owner":{"account_id":3345492,"reputation":4077,"user_id":2810730,"display_name":"Oleksii Zghurskyi"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1603300750,"creation_date":1603287672,"answer_id":64464855,"question_id":64463733,"body_markdown":"In general mocking static calls is the last resort, that is not supposed to be used as default approach. \r\n\r\nFor example, for testing the code, that works with file system, there are better means. E.g. depending on the `junit` version either use [`TemporaryFolder` rule](https://junit.org/junit4/javadoc/4.13/org/junit/rules/TemporaryFolder.html) or [`@TempDir` annotation](https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/io/TempDir.html).\r\n\r\nAlso, please note, that `Mockito.mockStatic` might significantly slow down your tests (e.g. look at the notes below).\r\n\r\nHaving said the caution above, find the snippet below, that shows how to test, that file got removed.\r\n\r\n```\r\nclass FileRemover {\r\n    public static void deleteFile(Path filePath) throws IOException {\r\n        Files.delete(filePath);\r\n    }\r\n}\r\n\r\nclass FileRemoverTest {\r\n\r\n    @TempDir\r\n    Path directory;\r\n\r\n    @Test\r\n    void fileIsRemovedWithTemporaryDirectory() throws IOException {\r\n        Path fileToDelete = directory.resolve(&quot;fileToDelete&quot;);\r\n        Files.createFile(fileToDelete);\r\n\r\n        FileRemover.deleteFile(fileToDelete);\r\n\r\n        assertFalse(Files.exists(fileToDelete));\r\n    }\r\n\r\n    @Test\r\n    void fileIsRemovedWithMockStatic() throws IOException {\r\n        Path fileToDelete = Paths.get(&quot;fileToDelete&quot;);\r\n        try (MockedStatic&lt;Files&gt; removerMock = Mockito.mockStatic(Files.class)) {\r\n            removerMock.when(() -&gt; Files.delete(fileToDelete)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\r\n            // alternatively\r\n            // removerMock.when(() -&gt; Files.delete(fileToDelete)).thenAnswer(Answers.RETURNS_DEFAULTS);\r\n\r\n            FileRemover.deleteFile(fileToDelete);\r\n\r\n            removerMock.verify(() -&gt; Files.delete(fileToDelete));\r\n        }\r\n    }\r\n}\r\n```\r\n**Notes:**\r\n\r\n1. `Mockito.mockStatic` is available in Mockito 3.4 and above, so check you&#39;re using correct version.\r\n\r\n2. The snippet deliberatly shows two approaches: `@TempDir` and `Mockito.mockStatic`. When run both tests you&#39;ll notice that `Mockito.mockStatic` is much slower. E.g. on my system test with `Mockito.mockStatic` runs around 900 msec vs 10 msec for `@TempDir`.\r\n","title":"Mockito Mock a static void method with Mockito.mockStatic()","body":"<p>In general mocking static calls is the last resort, that is not supposed to be used as default approach.</p>\n<p>For example, for testing the code, that works with file system, there are better means. E.g. depending on the <code>junit</code> version either use <a href=\"https://junit.org/junit4/javadoc/4.13/org/junit/rules/TemporaryFolder.html\" rel=\"noreferrer\"><code>TemporaryFolder</code> rule</a> or <a href=\"https://junit.org/junit5/docs/5.4.0/api/org/junit/jupiter/api/io/TempDir.html\" rel=\"noreferrer\"><code>@TempDir</code> annotation</a>.</p>\n<p>Also, please note, that <code>Mockito.mockStatic</code> might significantly slow down your tests (e.g. look at the notes below).</p>\n<p>Having said the caution above, find the snippet below, that shows how to test, that file got removed.</p>\n<pre><code>class FileRemover {\n    public static void deleteFile(Path filePath) throws IOException {\n        Files.delete(filePath);\n    }\n}\n\nclass FileRemoverTest {\n\n    @TempDir\n    Path directory;\n\n    @Test\n    void fileIsRemovedWithTemporaryDirectory() throws IOException {\n        Path fileToDelete = directory.resolve(&quot;fileToDelete&quot;);\n        Files.createFile(fileToDelete);\n\n        FileRemover.deleteFile(fileToDelete);\n\n        assertFalse(Files.exists(fileToDelete));\n    }\n\n    @Test\n    void fileIsRemovedWithMockStatic() throws IOException {\n        Path fileToDelete = Paths.get(&quot;fileToDelete&quot;);\n        try (MockedStatic&lt;Files&gt; removerMock = Mockito.mockStatic(Files.class)) {\n            removerMock.when(() -&gt; Files.delete(fileToDelete)).thenAnswer((Answer&lt;Void&gt;) invocation -&gt; null);\n            // alternatively\n            // removerMock.when(() -&gt; Files.delete(fileToDelete)).thenAnswer(Answers.RETURNS_DEFAULTS);\n\n            FileRemover.deleteFile(fileToDelete);\n\n            removerMock.verify(() -&gt; Files.delete(fileToDelete));\n        }\n    }\n}\n</code></pre>\n<p><strong>Notes:</strong></p>\n<ol>\n<li><p><code>Mockito.mockStatic</code> is available in Mockito 3.4 and above, so check you're using correct version.</p>\n</li>\n<li><p>The snippet deliberatly shows two approaches: <code>@TempDir</code> and <code>Mockito.mockStatic</code>. When run both tests you'll notice that <code>Mockito.mockStatic</code> is much slower. E.g. on my system test with <code>Mockito.mockStatic</code> runs around 900 msec vs 10 msec for <code>@TempDir</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5705595,"reputation":6905,"user_id":4509268,"accept_rate":94,"display_name":"Jad Chahine"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690276716,"creation_date":1690276716,"answer_id":76761225,"question_id":64463733,"body_markdown":"Use mockStatic and then specify the mock in the returned instance.\r\n\r\n```\r\ntry (MockedStatic&lt;Files&gt; mockFiles = Mockito.mockStatic(Files.class)) {\r\n    mockFiles.when(() -&gt; Files.delete(anyString()))\r\n                     .then(invocationOnMock -&gt; null);\r\n}\r\n```\r\n","title":"Mockito Mock a static void method with Mockito.mockStatic()","body":"<p>Use mockStatic and then specify the mock in the returned instance.</p>\n<pre><code>try (MockedStatic&lt;Files&gt; mockFiles = Mockito.mockStatic(Files.class)) {\n    mockFiles.when(() -&gt; Files.delete(anyString()))\n                     .then(invocationOnMock -&gt; null);\n}\n</code></pre>\n"}],"owner":{"account_id":17294609,"reputation":257,"user_id":12525549,"display_name":"Ehrakis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29235,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":64464855,"answer_count":2,"score":16,"last_activity_date":1690276716,"creation_date":1603283953,"question_id":64463733,"body_markdown":"I&#39;m using Spring Boot and in one of my unit test, I need to mock the `Files.delete(somePath)` function. Which is a static void method.\r\n\r\nI know that with Mockito it is possible to mock void method:\r\n```Java\r\ndoNothing().when(MyClass.class).myVoidMethod()\r\n```\r\n\r\nAnd since July 10th 2020, it is possible to mock static method:\r\n```Java\r\ntry (MockedStatic&lt;MyStaticClass&gt; mockedStaticClass = Mockito.mockStatic(MyStaticClass.class)) {\r\n    mockedStaticClass.when(MyStaticClass::giveMeANumber).thenReturn(1L);\r\n    assertThat(MyStaticClass.giveMeANumber()).isEqualTo(1L);\r\n  }\r\n```\r\n\r\nBut I can&#39;t manage to mock a static void mehtod such as `Files.delete(somePath)`.\r\n\r\nThis is my pom.xml file (only test related dependencies):\r\n```yml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.5.15&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.5.15&lt;/version&gt;\r\n\t&lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    &lt;version&gt;3.5.15&lt;/version&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    &lt;scope&gt;test&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nIs there a way to mock static void methods without using PowerMockito ?  \r\nIf it is possible, what is the correct syntax to do so ?","title":"Mockito Mock a static void method with Mockito.mockStatic()","body":"<p>I'm using Spring Boot and in one of my unit test, I need to mock the <code>Files.delete(somePath)</code> function. Which is a static void method.</p>\n<p>I know that with Mockito it is possible to mock void method:</p>\n<pre><code>doNothing().when(MyClass.class).myVoidMethod()\n</code></pre>\n<p>And since July 10th 2020, it is possible to mock static method:</p>\n<pre><code>try (MockedStatic&lt;MyStaticClass&gt; mockedStaticClass = Mockito.mockStatic(MyStaticClass.class)) {\n    mockedStaticClass.when(MyStaticClass::giveMeANumber).thenReturn(1L);\n    assertThat(MyStaticClass.giveMeANumber()).isEqualTo(1L);\n  }\n</code></pre>\n<p>But I can't manage to mock a static void mehtod such as <code>Files.delete(somePath)</code>.</p>\n<p>This is my pom.xml file (only test related dependencies):</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n    &lt;version&gt;3.5.15&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n    &lt;version&gt;3.5.15&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n    &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n    &lt;version&gt;3.5.15&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n    &lt;version&gt;2.2.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Is there a way to mock static void methods without using PowerMockito ?<br />\nIf it is possible, what is the correct syntax to do so ?</p>\n"},{"tags":["java","stream"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679386001,"post_id":75798141,"comment_id":133707801,"body_markdown":"I don’t see any point in forcing stream operations into this code. It’s just fine as it was. If you want, you may replace the inner loop with `order.getProducts(),forEach(product -&gt; product.setOrderDate(order.getCreated()));`.","body":"I don’t see any point in forcing stream operations into this code. It’s just fine as it was. If you want, you may replace the inner loop with <code>order.getProducts(),forEach(product -&gt; product.setOrderDate(order.getCreated()));</code>."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690276457,"creation_date":1690276457,"answer_id":76761193,"question_id":75798141,"body_markdown":"Extracting the required value which needs to be mapped and holding it for all sub-records and then flattening the sub-records works out.For holding the common required value you could use apache utilities like [this](https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html) or use inbuilt jdk entry\r\n```\r\n        orders.stream()\r\n                .flatMap(order-&gt;order.getProducts()\r\n                                        .stream()\r\n                                        .map(product-&gt;new AbstractMap.SimpleEntry&lt;String, Product&gt;(order.getOrderDate(),product)))\r\n                .forEach(entry-&gt;entry.getValue().setOrderDate(entry.getKey()));\r\n```","title":"Set the order date of a product from an order","body":"<p>Extracting the required value which needs to be mapped and holding it for all sub-records and then flattening the sub-records works out.For holding the common required value you could use apache utilities like <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/tuple/Pair.html\" rel=\"nofollow noreferrer\">this</a> or use inbuilt jdk entry</p>\n<pre><code>        orders.stream()\n                .flatMap(order-&gt;order.getProducts()\n                                        .stream()\n                                        .map(product-&gt;new AbstractMap.SimpleEntry&lt;String, Product&gt;(order.getOrderDate(),product)))\n                .forEach(entry-&gt;entry.getValue().setOrderDate(entry.getKey()));\n</code></pre>\n"}],"owner":{"display_name":"user12312852"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690276457,"creation_date":1679382132,"question_id":75798141,"body_markdown":"I got a list with orders and each order has a list of products. What I try to do is to set the &quot;orderDate&quot; attribute of the product with the &quot;created&quot; attribute of the order. I done this using a for loop but I want to do this by using a stream and I don&#39;t know how to access the previous elements from the stream. \r\n\r\nHere is my code:\r\n\r\n    //FOR EVERY PRODUCT SET THE ORDER CREATE DATE\r\n        for(Order order:orders){\r\n            for(Product product : order.getProducts()){\r\n                product.setOrderDate(order.getCreated());\r\n            }\r\n        }\r\n\r\n        orders.stream()\r\n                .map(Order::getProducts)\r\n                .flatMap(Collection::stream)\r\n                .map(product -&gt; {product.setOrderDate(Order::getCreated)}\r\n\r\n","title":"Set the order date of a product from an order","body":"<p>I got a list with orders and each order has a list of products. What I try to do is to set the &quot;orderDate&quot; attribute of the product with the &quot;created&quot; attribute of the order. I done this using a for loop but I want to do this by using a stream and I don't know how to access the previous elements from the stream.</p>\n<p>Here is my code:</p>\n<pre><code>//FOR EVERY PRODUCT SET THE ORDER CREATE DATE\n    for(Order order:orders){\n        for(Product product : order.getProducts()){\n            product.setOrderDate(order.getCreated());\n        }\n    }\n\n    orders.stream()\n            .map(Order::getProducts)\n            .flatMap(Collection::stream)\n            .map(product -&gt; {product.setOrderDate(Order::getCreated)}\n</code></pre>\n"},{"tags":["java","quarkus","content-type","rest-client","microprofile"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1659439649,"post_id":73206353,"comment_id":129290352,"body_markdown":"Have you tried using a `ClientRequestFilter`?","body":"Have you tried using a <code>ClientRequestFilter</code>?"},{"owner":{"account_id":25956606,"reputation":21,"user_id":19673856,"display_name":"Sevenby7"},"score":0,"creation_date":1659511741,"post_id":73206353,"comment_id":129309408,"body_markdown":"@geonand have you a suggestion how this could work?I have worked with ClientRequestFilters in the past to overwrite HTTP Headers but in this case I need to set a specific Content-Type per method call. I could add an Header like &quot;ContentType&quot; use this in ClientRequestFilter and set the value afterwards to &quot;Content-Type&quot; Header but this seems to be hacky.","body":"@geonand have you a suggestion how this could work?I have worked with ClientRequestFilters in the past to overwrite HTTP Headers but in this case I need to set a specific Content-Type per method call. I could add an Header like &quot;ContentType&quot; use this in ClientRequestFilter and set the value afterwards to &quot;Content-Type&quot; Header but this seems to be hacky."},{"owner":{"account_id":25956606,"reputation":21,"user_id":19673856,"display_name":"Sevenby7"},"score":0,"creation_date":1659689459,"post_id":73206353,"comment_id":129358771,"body_markdown":"@geoand have tried, Content-Type will be still overwritten. Have tried is as following:","body":"@geoand have tried, Content-Type will be still overwritten. Have tried is as following:"},{"owner":{"account_id":25956606,"reputation":21,"user_id":19673856,"display_name":"Sevenby7"},"score":0,"creation_date":1659689524,"post_id":73206353,"comment_id":129358791,"body_markdown":"&#39;&#39;&#39;\nimport javax.inject.Inject;\nimport javax.ws.rs.client.ClientRequestContext;\nimport javax.ws.rs.client.ClientRequestFilter;\nimport javax.ws.rs.ext.Provider;\n\nimport io.vertx.core.http.HttpServerRequest;\n\n@ Provider\npublic class MyFilter implements ClientRequestFilter {\n    \n    @ Inject\n    HttpServerRequest httpServerRequest;\n\n    @ Override\n    public void filter(ClientRequestContext requestContext)  {\n        httpServerRequest.headers().remove(&quot;Content-Type&quot;);\n        httpServerRequest.headers().set(&quot;Content-Type&quot;, &quot;image/jpg&quot;);\n    }\n}\n&#39;&#39;&#39;","body":"&#39;&#39;&#39; import javax.inject.Inject; import javax.ws.rs.client.ClientRequestContext; import javax.ws.rs.client.ClientRequestFilter; import javax.ws.rs.ext.Provider;  import io.vertx.core.http.HttpServerRequest;  @ Provider public class MyFilter implements ClientRequestFilter {          @ Inject     HttpServerRequest httpServerRequest;      @ Override     public void filter(ClientRequestContext requestContext)  {         httpServerRequest.headers().remove(&quot;Content-Type&quot;);         httpServerRequest.headers().set(&quot;Content-Type&quot;, &quot;image/jpg&quot;);     } } &#39;&#39;&#39;"},{"owner":{"account_id":25956606,"reputation":21,"user_id":19673856,"display_name":"Sevenby7"},"score":0,"creation_date":1659689563,"post_id":73206353,"comment_id":129358802,"body_markdown":"If I set an other http header like &quot;sample&quot; it will be added to the request","body":"If I set an other http header like &quot;sample&quot; it will be added to the request"},{"owner":{"account_id":6859918,"reputation":1134,"user_id":5274291,"accept_rate":75,"display_name":"Jo&#227;o Pedro Schmitt"},"score":0,"creation_date":1665665763,"post_id":73206353,"comment_id":130756058,"body_markdown":"@geoand do you have any other idea how to solve this problem?","body":"@geoand do you have any other idea how to solve this problem?"}],"answers":[{"tags":[],"owner":{"account_id":235169,"reputation":19,"user_id":3369593,"display_name":"HermanW"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690275809,"creation_date":1690275809,"answer_id":76761103,"question_id":73206353,"body_markdown":"i just found the solution for this question.\r\n\r\nYou need to set annotation `@Consumes(MediaType.MEDIA_TYPE_WILDCARD)`\r\n\r\n    @POST\r\n    @Consumes(MediaType.MEDIA_TYPE_WILDCARD)\r\n    Response post(@Nullable Object bodyRq);\r\n\r\nthen set the Content-Type while register header\r\n\r\n     var call = RestClientBuilder.newBuilder()\r\n                .baseUri(new URI(uri))\r\n                .register(new HeaderAddingFilter(headersRq)) // Content-Type: Application/xml for example\r\n                .build(GenericOperation.class);\r\n\r\nso then the resteasy-client will sent the `content-type` header following the value set on `headerRq`.\r\n\r\n\r\nhope this help other who facing same usecase.","title":"How to set Content-Type Header in Java MicroProfile RestClient during method call","body":"<p>i just found the solution for this question.</p>\n<p>You need to set annotation <code>@Consumes(MediaType.MEDIA_TYPE_WILDCARD)</code></p>\n<pre><code>@POST\n@Consumes(MediaType.MEDIA_TYPE_WILDCARD)\nResponse post(@Nullable Object bodyRq);\n</code></pre>\n<p>then set the Content-Type while register header</p>\n<pre><code> var call = RestClientBuilder.newBuilder()\n            .baseUri(new URI(uri))\n            .register(new HeaderAddingFilter(headersRq)) // Content-Type: Application/xml for example\n            .build(GenericOperation.class);\n</code></pre>\n<p>so then the resteasy-client will sent the <code>content-type</code> header following the value set on <code>headerRq</code>.</p>\n<p>hope this help other who facing same usecase.</p>\n"}],"owner":{"account_id":25956606,"reputation":21,"user_id":19673856,"display_name":"Sevenby7"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690275809,"creation_date":1659437786,"question_id":73206353,"body_markdown":"I am currently using the Java MicroProfile RestClient and have following problem:\r\n- Backend provides an api to receive binary files\r\n- Backend would be happy to receive a Content-Type header containing the Mime-Type of the binary file\r\n- I am not able to set Content-Type per method parameter\r\n\r\nI have following code on client-side:\r\n\r\n```\r\nimport javax.ws.rs.HeaderParam;\r\nimport javax.ws.rs.POST;\r\nimport javax.ws.rs.Path;\r\n\r\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\r\n\r\nimport io.smallrye.mutiny.Uni;\r\n\r\n@RegisterRestClient\r\npublic interface RestClient {\r\n    @POST\r\n    @Path(&quot;/api/path/v1&quot;)\r\n    Uni&lt;String&gt; createResource(@HeaderParam(&quot;Content-Type&quot;) String contentType, byte[] body);\r\n}\r\n```\r\n\r\nThe @HeaderParam(&quot;Content-Type&quot;) will always be overwritten with &quot;application/json&quot;.\r\n\r\nIf I set the @Consumes Property the Content-Type would always be the same but I want to set it during the method call. (byte[] could contain image, video, text ...)\r\n\r\nHas anyone an idea how I could archive this?\r\nMay there is a better option instead of using a simple byte[] as body?\r\n\r\nBest thanks!","title":"How to set Content-Type Header in Java MicroProfile RestClient during method call","body":"<p>I am currently using the Java MicroProfile RestClient and have following problem:</p>\n<ul>\n<li>Backend provides an api to receive binary files</li>\n<li>Backend would be happy to receive a Content-Type header containing the Mime-Type of the binary file</li>\n<li>I am not able to set Content-Type per method parameter</li>\n</ul>\n<p>I have following code on client-side:</p>\n<pre><code>import javax.ws.rs.HeaderParam;\nimport javax.ws.rs.POST;\nimport javax.ws.rs.Path;\n\nimport org.eclipse.microprofile.rest.client.inject.RegisterRestClient;\n\nimport io.smallrye.mutiny.Uni;\n\n@RegisterRestClient\npublic interface RestClient {\n    @POST\n    @Path(&quot;/api/path/v1&quot;)\n    Uni&lt;String&gt; createResource(@HeaderParam(&quot;Content-Type&quot;) String contentType, byte[] body);\n}\n</code></pre>\n<p>The @HeaderParam(&quot;Content-Type&quot;) will always be overwritten with &quot;application/json&quot;.</p>\n<p>If I set the @Consumes Property the Content-Type would always be the same but I want to set it during the method call. (byte[] could contain image, video, text ...)</p>\n<p>Has anyone an idea how I could archive this?\nMay there is a better option instead of using a simple byte[] as body?</p>\n<p>Best thanks!</p>\n"},{"tags":["java","continuous-integration","devops","fortify"],"answers":[{"tags":[],"owner":{"account_id":29085282,"reputation":9,"user_id":22280286,"display_name":"Parag Mehta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690275463,"creation_date":1690275463,"answer_id":76761060,"question_id":76758503,"body_markdown":"Add the vulnerability to the Fortify suppression list.\r\n\r\nIt will be done within Fortify itself by editing the scan project settings.\r\n\r\nAny vulnerability with an ID on the suppression list will be ignored during scanning.","title":"How to exclude warnings in Fortify","body":"<p>Add the vulnerability to the Fortify suppression list.</p>\n<p>It will be done within Fortify itself by editing the scan project settings.</p>\n<p>Any vulnerability with an ID on the suppression list will be ignored during scanning.</p>\n"}],"owner":{"account_id":27943354,"reputation":1,"user_id":21884827,"display_name":"llrichardll"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690275463,"creation_date":1690239755,"question_id":76758503,"body_markdown":"good day, I have the following question I need fortify not to detect a vulnerability in this case an example that I have in java\r\n\r\n```\r\n// suppresses validation in sonar \r\n@SuppresWarnings({&quot;squid:S6654&quot;})\r\npublic static String decryptCbc(String key){\r\n..\r\n..\r\n}\r\n```\r\n\r\neffectively in sonar I don&#39;t get the warning but when I pass the analysis in fortify it shows me the vulnerability is there any way to suppress the validation in fortify as it does in sonar from the code or I have to do something from the pipeline that deploys the application or from fortify itself.\r\n\r\nI hope you can give me some idea of how I can solve this problem.","title":"How to exclude warnings in Fortify","body":"<p>good day, I have the following question I need fortify not to detect a vulnerability in this case an example that I have in java</p>\n<pre><code>// suppresses validation in sonar \n@SuppresWarnings({&quot;squid:S6654&quot;})\npublic static String decryptCbc(String key){\n..\n..\n}\n</code></pre>\n<p>effectively in sonar I don't get the warning but when I pass the analysis in fortify it shows me the vulnerability is there any way to suppress the validation in fortify as it does in sonar from the code or I have to do something from the pipeline that deploys the application or from fortify itself.</p>\n<p>I hope you can give me some idea of how I can solve this problem.</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690274817,"post_id":76760937,"comment_id":135326872,"body_markdown":"Your regex already doesn&#39;t match those characters.","body":"Your regex already doesn&#39;t match those characters."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690274955,"creation_date":1690274955,"answer_id":76760989,"question_id":76760937,"body_markdown":"You can exclude specific characters from the detection by adding them to your regex, like this:\r\n\r\n    &quot;[^a-z\\\\d &#39;/\\&quot;]&quot;","title":"Exclude double quote and single quote from detecting as special character","body":"<p>You can exclude specific characters from the detection by adding them to your regex, like this:</p>\n<pre><code>&quot;[^a-z\\\\d '/\\&quot;]&quot;\n</code></pre>\n"}],"owner":{"account_id":4828806,"reputation":889,"user_id":3897544,"accept_rate":25,"display_name":"Renz Manacmol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76760989,"answer_count":1,"score":0,"last_activity_date":1690274955,"creation_date":1690274633,"question_id":76760937,"body_markdown":"Currently im detecting special character using the code below\r\n\r\n\r\n     val specialChars: Pattern = Pattern.compile(&quot;[^a-z\\\\d ]&quot;, Pattern.CASE_INSENSITIVE)\r\n                val specialCharMatcher: Matcher = specialChars.matcher(text)\r\n                val hasSpecialChar = specialCharMatcher.find()\r\n\r\n\r\nIs there a way to exclude quote `&quot; &quot;` , single quote `&#39;` , and slash `/` from the detection?","title":"Exclude double quote and single quote from detecting as special character","body":"<p>Currently im detecting special character using the code below</p>\n<pre><code> val specialChars: Pattern = Pattern.compile(&quot;[^a-z\\\\d ]&quot;, Pattern.CASE_INSENSITIVE)\n            val specialCharMatcher: Matcher = specialChars.matcher(text)\n            val hasSpecialChar = specialCharMatcher.find()\n</code></pre>\n<p>Is there a way to exclude quote <code>&quot; &quot;</code> , single quote <code>'</code> , and slash <code>/</code> from the detection?</p>\n"},{"tags":["java","kotlin","visual-studio-code","github-codespaces"],"comments":[{"owner":{"account_id":1187233,"reputation":2871,"user_id":1160959,"display_name":"asm0dey"},"score":0,"creation_date":1690200188,"post_id":76753552,"comment_id":135315676,"body_markdown":"I&#39;m afraid it&#39;s not something you can fix; it&#39;s more of an issue in the mixed Java-Kotlin projects in VSCode (and codespaces). You should report it in their issue tracker.","body":"I&#39;m afraid it&#39;s not something you can fix; it&#39;s more of an issue in the mixed Java-Kotlin projects in VSCode (and codespaces). You should report it in their issue tracker."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690274848,"creation_date":1690274848,"answer_id":76760974,"question_id":76753552,"body_markdown":"Make sure the correct **JDK** path is set, you can clean and rebuild the project with the following commands.\r\n\r\n```\r\n./gradlew clean\r\n./gradlew build\r\n```\r\n\r\nAlso try &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;P&lt;/kbd&gt; --&gt; `Java: Clean Java Language Server Workspace` and restart vscode.","title":"Java and Kotlin interoperability in github codespaces","body":"<p>Make sure the correct <strong>JDK</strong> path is set, you can clean and rebuild the project with the following commands.</p>\n<pre><code>./gradlew clean\n./gradlew build\n</code></pre>\n<p>Also try <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>P</kbd> --&gt; <code>Java: Clean Java Language Server Workspace</code> and restart vscode.</p>\n"}],"owner":{"account_id":16729952,"reputation":1,"user_id":12092589,"display_name":"Adam Kaźmierczak"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690274848,"creation_date":1690194298,"question_id":76753552,"body_markdown":"I&#39;m running a gradle project with Kotlin and Java source code. I need to configure the testing environment in GitHub codespaces with VS code, I cannot use JetBrains Gateway. Even though the Gradle tasks are running successfully, the project is being built, etc. Whenever I try to run a test or work in the IDE, I receive errors.\r\n\r\n```\r\nimport something.from.kotlin.KotlinCode;\r\nimport something.from.java.JavaCodeTwo;\r\n\r\nclass JavaCode {\r\n\r\n    public void method() {\r\n        KotlinCode kc = new KotlinCode(); // this line does not work\r\n    }\r\n\r\n}\r\n```\r\n\r\n* \r\n\r\nOn the first line vs code shows the red error: The import something.from.kotlin.KotlinCode cannot be resolved\\*\r\n\r\nAny ideas on how can I make it up and running? Right now I can only run tests using ./gradlew test I would like to be able to run and debug them using vs co\r\n\r\nI have the following extensions installed:\r\n\r\n- Extension Pack for Java - &lt;https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack&gt;\r\n\r\n- Gradle for Java - &lt;https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle&gt;\r\n\r\n- Java Kotlin integration *-* &lt;https://marketplace.visualstudio.com/items?itemName=MarkNefedov.vscode-java-kotlin-mn-fork&gt;\r\n\r\n- *Kotlin -* &lt;https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin&gt;\r\n\r\n- *Kotlin Language -* &lt;https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin&gt;\r\n\r\nNone of those solved my issue.  \r\n  \r\nIn order to at least run some test with the debugger I&#39;ve prepared a script:\r\n\r\n```\r\n#!/bin/bash\r\nexport GRADLE_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:5005&quot;\r\necho &#39;here&#39;\r\n ../gradlew -p .. clean test --tests &#39;*SomeTest*&#39;\r\n```\r\n\r\n[enter image description here](https://i.stack.imgur.com/oK99f.png)\r\n\r\nTest runs in the debug mode on 5005, later I&#39;m attaching a debugger using vs code and this launch.json config:\r\n\r\n```\r\n{\r\n            &quot;type&quot;: &quot;java&quot;,\r\n            &quot;name&quot;: &quot;Attach to Remote Program&quot;,\r\n            &quot;request&quot;: &quot;attach&quot;,\r\n            &quot;projectName&quot;: &quot;projectName&quot;, // the name is correct\r\n            &quot;hostName&quot;: &quot;localhost&quot;,\r\n            &quot;port&quot;: &quot;5005&quot;        \r\n        },\r\n```\r\n\r\nand even though I can stop the program from the debug panel, none of my breakpoints work:  \r\n[enter image description here](https://i.stack.imgur.com/qcENW.png)  \r\n  \r\nany idea how could I fix the kotlin + java interoperability in the github codespace running vs code, or at least configure the debugger so I could set up the breakpoints ?","title":"Java and Kotlin interoperability in github codespaces","body":"<p>I'm running a gradle project with Kotlin and Java source code. I need to configure the testing environment in GitHub codespaces with VS code, I cannot use JetBrains Gateway. Even though the Gradle tasks are running successfully, the project is being built, etc. Whenever I try to run a test or work in the IDE, I receive errors.</p>\n<pre><code>import something.from.kotlin.KotlinCode;\nimport something.from.java.JavaCodeTwo;\n\nclass JavaCode {\n\n    public void method() {\n        KotlinCode kc = new KotlinCode(); // this line does not work\n    }\n\n}\n</code></pre>\n<ul>\n<li></li>\n</ul>\n<p>On the first line vs code shows the red error: The import something.from.kotlin.KotlinCode cannot be resolved*</p>\n<p>Any ideas on how can I make it up and running? Right now I can only run tests using ./gradlew test I would like to be able to run and debug them using vs co</p>\n<p>I have the following extensions installed:</p>\n<ul>\n<li><p>Extension Pack for Java - <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack</a></p>\n</li>\n<li><p>Gradle for Java - <a href=\"https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle</a></p>\n</li>\n<li><p>Java Kotlin integration <em>-</em> <a href=\"https://marketplace.visualstudio.com/items?itemName=MarkNefedov.vscode-java-kotlin-mn-fork\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=MarkNefedov.vscode-java-kotlin-mn-fork</a></p>\n</li>\n<li><p><em>Kotlin -</em> <a href=\"https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=fwcd.kotlin</a></p>\n</li>\n<li><p><em>Kotlin Language -</em> <a href=\"https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin\" rel=\"nofollow noreferrer\">https://marketplace.visualstudio.com/items?itemName=mathiasfrohlich.Kotlin</a></p>\n</li>\n</ul>\n<p>None of those solved my issue.</p>\n<p>In order to at least run some test with the debugger I've prepared a script:</p>\n<pre><code>#!/bin/bash\nexport GRADLE_OPTS=&quot;-agentlib:jdwp=transport=dt_socket,server=y,suspend=y,address=*:5005&quot;\necho 'here'\n ../gradlew -p .. clean test --tests '*SomeTest*'\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/oK99f.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Test runs in the debug mode on 5005, later I'm attaching a debugger using vs code and this launch.json config:</p>\n<pre><code>{\n            &quot;type&quot;: &quot;java&quot;,\n            &quot;name&quot;: &quot;Attach to Remote Program&quot;,\n            &quot;request&quot;: &quot;attach&quot;,\n            &quot;projectName&quot;: &quot;projectName&quot;, // the name is correct\n            &quot;hostName&quot;: &quot;localhost&quot;,\n            &quot;port&quot;: &quot;5005&quot;        \n        },\n</code></pre>\n<p>and even though I can stop the program from the debug panel, none of my breakpoints work:<br />\n<a href=\"https://i.stack.imgur.com/qcENW.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>any idea how could I fix the kotlin + java interoperability in the github codespace running vs code, or at least configure the debugger so I could set up the breakpoints ?</p>\n"},{"tags":["java","multithreading","jvm"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1689847701,"post_id":76728746,"comment_id":135272567,"body_markdown":"Why would you be creating a lot of Thread objects without starting them? That doesn&#39;t make sense, unless you&#39;re making the classic mistake of extending `Thread` instead of implementing `Runnable`.","body":"Why would you be creating a lot of Thread objects without starting them? That doesn&#39;t make sense, unless you&#39;re making the classic mistake of extending <code>Thread</code> instead of implementing <code>Runnable</code>."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1689847840,"post_id":76728746,"comment_id":135272590,"body_markdown":"Sounds like you need a scalable thread pool","body":"Sounds like you need a scalable thread pool"},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1689848452,"post_id":76728746,"comment_id":135272712,"body_markdown":"@MarkRotteveel it&#39;s due to an API that is beyond my control. I do totally agree that this sucks, but that&#39;s what I have to deal with... :(","body":"@MarkRotteveel it&#39;s due to an API that is beyond my control. I do totally agree that this sucks, but that&#39;s what I have to deal with... :("},{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1689849058,"post_id":76728746,"comment_id":135272842,"body_markdown":"@MarkRotteveel only if I can prove to my client that this will scale much worse (for example due to such special JVM/OS resources being pre-allocated), then **MAYBE** they will consider changing it, hence this question (but I&#39;m afraid they will actually say &quot;don&#39;t worry, we will buy more server resources&quot;, because it will be easier for them due to their corporate politics...)","body":"@MarkRotteveel only if I can prove to my client that this will scale much worse (for example due to such special JVM/OS resources being pre-allocated), then <b>MAYBE</b> they will consider changing it, hence this question (but I&#39;m afraid they will actually say &quot;don&#39;t worry, we will buy more server resources&quot;, because it will be easier for them due to their corporate politics...)"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690274748,"creation_date":1689849422,"answer_id":76729036,"question_id":76728746,"body_markdown":"Although the `Thread` constructor does quite some checks and initialization, it will not bind the `Thread` instance to a native OS thread. That will only happen on `Thread.start()`, so in that sense an unstarted Thread is not a &quot;heavy&quot; object (by which I mean, it doesn&#39;t have a native peer).\r\n\r\nProbably the most expensive part is if the `Thread` is constructed with `inheritThreadLocals` set to `true` (which happens in a lot of the usual constructors of `Thread`), and the creating thread has a lot of thread local values in its map.\r\n\r\nThat said, and reiterating the point of my comment on the question, creating a lot of threads without starting them is unusual, and generally indicates you&#39;re doing something wrong (e.g. extending `Thread` instead of implementing `Runnable`), you may want to look for alternatives.","title":"how heavy are Thread objects before they are started?","body":"<p>Although the <code>Thread</code> constructor does quite some checks and initialization, it will not bind the <code>Thread</code> instance to a native OS thread. That will only happen on <code>Thread.start()</code>, so in that sense an unstarted Thread is not a &quot;heavy&quot; object (by which I mean, it doesn't have a native peer).</p>\n<p>Probably the most expensive part is if the <code>Thread</code> is constructed with <code>inheritThreadLocals</code> set to <code>true</code> (which happens in a lot of the usual constructors of <code>Thread</code>), and the creating thread has a lot of thread local values in its map.</p>\n<p>That said, and reiterating the point of my comment on the question, creating a lot of threads without starting them is unusual, and generally indicates you're doing something wrong (e.g. extending <code>Thread</code> instead of implementing <code>Runnable</code>), you may want to look for alternatives.</p>\n"}],"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690274748,"creation_date":1689847242,"question_id":76728746,"body_markdown":"I&#39;m wondering whether before `start()` method is called, instances of `Thread` are merely a standard Java objects or if some special JVM/OS level resources are allocated right from the moment they are created (like for example pre-allocated memory for their stack etc). Based on a preliminary research, they seem like ordinary objects, but it would be awesome if some JVM experts could confirm this.\r\n\r\nI&#39;m mostly concerned regarding previously mentioned thread&#39;s stack memory, as [the JVM spec](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.2) states *&quot;Each Java Virtual Machine thread has a private Java Virtual Machine stack, created at the same time as the thread&quot;*. I wonder if *&quot;created&quot;* here refers to a call to `start()` method or a `Thread` instance being constructed (I&#39;m honestly not up2date with the exact relation between OS threads, JVM threads and `Thread` objects, hence my confusion. Also I think I might have heard it changed a bit during last few years, but I can&#39;t recall exactly). Furthermore, I&#39;m **guessing**, that even in the case some OS virtual memory is allocated at the moment a `Thread` instance is constructed, actual physical memory pages for its stack will be allocated only after the thread starts to use, which, I guess again, is only after it is `start()`-ed.\r\n\r\nThis is the &quot;change I might have heard about&quot;: [jep-425](https://openjdk.org/jeps/425) introduced in java-19. It changes the mapping between OS threads and JVM threads to M:N. I&#39;m however still not sure about the mapping between `Thread` objects and JVM threads (I&#39;m **almost** sure that mapping between `start()`-ed `Thread` objects and JVM threads is 1:1, but not sure if a JVM thread is created on `Thread` instance creation or on `start()`. I&#39;ve asked  [another question regarding this](https://stackoverflow.com/questions/76729903/relation-between-jvm-threads-and-thread-instances))","title":"how heavy are Thread objects before they are started?","body":"<p>I'm wondering whether before <code>start()</code> method is called, instances of <code>Thread</code> are merely a standard Java objects or if some special JVM/OS level resources are allocated right from the moment they are created (like for example pre-allocated memory for their stack etc). Based on a preliminary research, they seem like ordinary objects, but it would be awesome if some JVM experts could confirm this.</p>\n<p>I'm mostly concerned regarding previously mentioned thread's stack memory, as <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-2.html#jvms-2.5.2\" rel=\"nofollow noreferrer\">the JVM spec</a> states <em>&quot;Each Java Virtual Machine thread has a private Java Virtual Machine stack, created at the same time as the thread&quot;</em>. I wonder if <em>&quot;created&quot;</em> here refers to a call to <code>start()</code> method or a <code>Thread</code> instance being constructed (I'm honestly not up2date with the exact relation between OS threads, JVM threads and <code>Thread</code> objects, hence my confusion. Also I think I might have heard it changed a bit during last few years, but I can't recall exactly). Furthermore, I'm <strong>guessing</strong>, that even in the case some OS virtual memory is allocated at the moment a <code>Thread</code> instance is constructed, actual physical memory pages for its stack will be allocated only after the thread starts to use, which, I guess again, is only after it is <code>start()</code>-ed.</p>\n<p>This is the &quot;change I might have heard about&quot;: <a href=\"https://openjdk.org/jeps/425\" rel=\"nofollow noreferrer\">jep-425</a> introduced in java-19. It changes the mapping between OS threads and JVM threads to M:N. I'm however still not sure about the mapping between <code>Thread</code> objects and JVM threads (I'm <strong>almost</strong> sure that mapping between <code>start()</code>-ed <code>Thread</code> objects and JVM threads is 1:1, but not sure if a JVM thread is created on <code>Thread</code> instance creation or on <code>start()</code>. I've asked  <a href=\"https://stackoverflow.com/questions/76729903/relation-between-jvm-threads-and-thread-instances\">another question regarding this</a>)</p>\n"},{"tags":["java","eclipse","vert.x","vertx-verticle","vert.x-webclient"],"comments":[{"owner":{"account_id":2446461,"reputation":8725,"user_id":2133695,"display_name":"tsegismont"},"score":0,"creation_date":1689838871,"post_id":76722937,"comment_id":135270816,"body_markdown":"What&#39;s in the logs?","body":"What&#39;s in the logs?"}],"answers":[{"tags":[],"owner":{"account_id":175525,"reputation":1174,"user_id":405613,"display_name":"Oliver Marienfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690274493,"creation_date":1690274493,"answer_id":76760918,"question_id":76722937,"body_markdown":"What you run in Eclipse is very likely your own main class you showed above, which also closes Vert.x.\r\n\r\nWhen you run the jar however, the `Main-Class` might be `io.vertx.core.Launcher` - depending on how you set up your build. Take a look in the jar&#39;s `META-INF/MANIFEST.MF` file. \r\n\r\nIf you see an entry there like `Main-Class: io.vertx.core.Launcher`, then the jar is run with Vert.x launcher. \r\n\r\nAnd then your `MainVerticle` just sends a request and logs the response but does not close Vert.x - and that&#39;s what you coded.","title":"Vert.x application closes when run with Eclipse but does not close when run as a jar","body":"<p>What you run in Eclipse is very likely your own main class you showed above, which also closes Vert.x.</p>\n<p>When you run the jar however, the <code>Main-Class</code> might be <code>io.vertx.core.Launcher</code> - depending on how you set up your build. Take a look in the jar's <code>META-INF/MANIFEST.MF</code> file.</p>\n<p>If you see an entry there like <code>Main-Class: io.vertx.core.Launcher</code>, then the jar is run with Vert.x launcher.</p>\n<p>And then your <code>MainVerticle</code> just sends a request and logs the response but does not close Vert.x - and that's what you coded.</p>\n"}],"owner":{"account_id":15990006,"reputation":3,"user_id":11539449,"display_name":"Dominator_007"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76760918,"answer_count":1,"score":0,"last_activity_date":1690274493,"creation_date":1689780641,"question_id":76722937,"body_markdown":"Here is my code for main class:\r\n\r\n```\r\n\tpublic static void main(String[] args) {\r\n\t\tVertx vertx = Vertx.vertx();\r\n\t\tvertx.deployVerticle(new MainVerticle(), whenDeployed -&gt; {\r\n\t\t\t\tvertx.close();\r\n//\t\t\t\tSystem.exit(0);\r\n\t\t\t});\r\n\t}\r\n```\r\n\r\nBelow is the code for main verticle:\r\n```\r\npublic class MainVerticle extends AbstractVerticle {\r\n\r\n\tprivate static final ObjectMapper mapper = new ObjectMapper();\r\n\tprivate static final Logger log = LoggerFactory.getLogger(MainVerticle.class);\r\n\t\r\n\t@Override\r\n\tpublic void start(Promise&lt;Void&gt; startPromise) throws Exception {\r\n\t\t\r\n\t\tConfiguration config = null;\r\n\t\t\r\n\t\ttry(FileInputStream fin = new FileInputStream(&quot;/opt/vertex-proxy/config.json&quot;)){\r\n\t\t\tconfig = mapper.readValue(fin, Configuration.class);\r\n\t\t\t\r\n\t\t} catch(Exception e) {\r\n\t\t\tlog.error(&quot;Invalid configuration\\n{}&quot;, e.getCause());\r\n\t\t}\r\n\t\t\r\n\t\tlog.info(&quot;Started application\\n&quot;);\r\n\t\t\r\n\t\tProxyOptions proxyOptions = new ProxyOptions()\r\n\t\t        .setHost(config.getProxy().getIp())\r\n\t\t        .setPort(config.getProxy().getPort());\r\n\t\t        \r\n        WebClientOptions options = new WebClientOptions().setUserAgent(&quot;Yash client&quot;)\r\n\t\t\t\t.setProtocolVersion(HttpVersion.HTTP_2).setHttp2ClearTextUpgrade(false)\r\n\t\t\t\t.setConnectTimeout(config.getTarget().getConnectionTimeout())\r\n\t\t\t\t.setProxyOptions(proxyOptions);\r\n\t\t\r\n        WebClient client = WebClient.create(vertx, options);\r\n\r\n\t\t\r\n\t\tHttpRequest&lt;Buffer&gt; req = client.get(config.getTarget().getPort(), config.getTarget().getIp(), config.getTarget().getUri());\r\n\t\t\r\n\t\treq.send().onSuccess(response -&gt; {\r\n\t\t\tlog.info(&quot;Received response with status code: &quot; + response.statusCode());\r\n\t\t\tlog.info(&quot;Response:\\n&quot; + response.bodyAsString());\r\n\t\t\tstartPromise.complete();\r\n\t\t\t\r\n\t\t}).onFailure(err -&gt; {\r\n\t\t\tlog.error(&quot;Something went wrong\\n&quot; + err.getCause());\r\n\t\t\tstartPromise.complete();\r\n\t\t});\r\n\t\t\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void stop() throws Exception {\r\n\t\tSystem.out.println(&quot;\\nStopping application&quot;);\r\n\t}\r\n\r\n}\r\n```\r\nWhen I run the above code in Eclipse it performs perfectly fine and the program shuts down after execution. But when I build a maven jar out of this and try to run the jar using the command `java -jar application.jar` then the program executes and shows the response but it does not exits unless interupted manually.\r\n\r\nCould anyone suggest a proper way to resolve this so it behaves the same in Eclipse as well as a jar?\r\n\r\n\r\nI even tried using java.lang.System.exit() in the onSuccess and onFailure blocks and also in whenDeployed block in the main class and inside the stop() method too but still observed similar behaviour.","title":"Vert.x application closes when run with Eclipse but does not close when run as a jar","body":"<p>Here is my code for main class:</p>\n<pre><code>    public static void main(String[] args) {\n        Vertx vertx = Vertx.vertx();\n        vertx.deployVerticle(new MainVerticle(), whenDeployed -&gt; {\n                vertx.close();\n//              System.exit(0);\n            });\n    }\n</code></pre>\n<p>Below is the code for main verticle:</p>\n<pre><code>public class MainVerticle extends AbstractVerticle {\n\n    private static final ObjectMapper mapper = new ObjectMapper();\n    private static final Logger log = LoggerFactory.getLogger(MainVerticle.class);\n    \n    @Override\n    public void start(Promise&lt;Void&gt; startPromise) throws Exception {\n        \n        Configuration config = null;\n        \n        try(FileInputStream fin = new FileInputStream(&quot;/opt/vertex-proxy/config.json&quot;)){\n            config = mapper.readValue(fin, Configuration.class);\n            \n        } catch(Exception e) {\n            log.error(&quot;Invalid configuration\\n{}&quot;, e.getCause());\n        }\n        \n        log.info(&quot;Started application\\n&quot;);\n        \n        ProxyOptions proxyOptions = new ProxyOptions()\n                .setHost(config.getProxy().getIp())\n                .setPort(config.getProxy().getPort());\n                \n        WebClientOptions options = new WebClientOptions().setUserAgent(&quot;Yash client&quot;)\n                .setProtocolVersion(HttpVersion.HTTP_2).setHttp2ClearTextUpgrade(false)\n                .setConnectTimeout(config.getTarget().getConnectionTimeout())\n                .setProxyOptions(proxyOptions);\n        \n        WebClient client = WebClient.create(vertx, options);\n\n        \n        HttpRequest&lt;Buffer&gt; req = client.get(config.getTarget().getPort(), config.getTarget().getIp(), config.getTarget().getUri());\n        \n        req.send().onSuccess(response -&gt; {\n            log.info(&quot;Received response with status code: &quot; + response.statusCode());\n            log.info(&quot;Response:\\n&quot; + response.bodyAsString());\n            startPromise.complete();\n            \n        }).onFailure(err -&gt; {\n            log.error(&quot;Something went wrong\\n&quot; + err.getCause());\n            startPromise.complete();\n        });\n        \n    }\n    \n    @Override\n    public void stop() throws Exception {\n        System.out.println(&quot;\\nStopping application&quot;);\n    }\n\n}\n</code></pre>\n<p>When I run the above code in Eclipse it performs perfectly fine and the program shuts down after execution. But when I build a maven jar out of this and try to run the jar using the command <code>java -jar application.jar</code> then the program executes and shows the response but it does not exits unless interupted manually.</p>\n<p>Could anyone suggest a proper way to resolve this so it behaves the same in Eclipse as well as a jar?</p>\n<p>I even tried using java.lang.System.exit() in the onSuccess and onFailure blocks and also in whenDeployed block in the main class and inside the stop() method too but still observed similar behaviour.</p>\n"},{"tags":["java","sonarqube","sonarscanner"],"owner":{"account_id":29085566,"reputation":9,"user_id":22280522,"display_name":"Anusha jesuraj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690274019,"creation_date":1690269094,"question_id":76760233,"body_markdown":"While analysing test files using junit pre-defined rules. Except this rule “TestCases should contain tests” , none of the junit rule is getting applied to the Junit test files. Why?\r\n\r\n```\r\ncommand = [&#39;java&#39;, \r\n          &#39;-jar&#39;, \r\n          sonar_scanner_jar, \r\n          &#39;-Dsonar.projectKey={}&#39;.format(project_name), \r\n          &#39;-Dsonar.host.url=http://localhost:9000&#39;,\r\n          &#39;-Dsonar.sources={}&#39;.format(src_directory),\r\n          &#39;-Dsonar.tests={}&#39;.format(test_directory),\r\n          &#39;-Dsonar.language=java&#39;, \r\n          &#39;-Dsonar.sourceEncoding=UTF-8&#39;, \r\n          &#39;-Dsonar.java.binaries={}&#39;.format(binfile), \r\n          &#39;-Dsonar.java.tests.binaries={}&#39;.format(test_binfile),\r\n          &#39;-Dsonar.login=admin&#39;, \r\n          &#39;-Dsonar.password=****&#39;, \r\n          &#39;-Dsonar.inclusions={}&#39;.format(&#39;,&#39;.join(srcfiles)),\r\n          &#39;-Dsonar.test.inclusions={}&#39;.format(&#39;,&#39;.join(junitfiles)),\r\n          &#39;-Dsonar.projectBaseDir={}&#39;.format(source_directory),\r\n          &#39;-Dsonar.java.libraries={}&#39;.format(cur_dir+&quot;/sonaranalysis/lib&quot;),\r\n          &#39;-Dsonar.java.test.libraries={}&#39;.format(cur_dir+&quot;/sonaranalysis/test_lib&quot;)\r\n          ]\r\n```\r\n\r\n\r\nThis is the command that I’m using. Pre-defined rules are working perfectly for the source files but not for the junit files.\r\n\r\n- Sonarqube server version : 8.x\r\n- Sonar-scanner-cli : 4.8\r\n- Java version to run the server : 17\r\n- Java version to run the files : 8","title":"While analysing test files , junit pre-defined rules are not getting applied","body":"<p>While analysing test files using junit pre-defined rules. Except this rule “TestCases should contain tests” , none of the junit rule is getting applied to the Junit test files. Why?</p>\n<pre><code>command = ['java', \n          '-jar', \n          sonar_scanner_jar, \n          '-Dsonar.projectKey={}'.format(project_name), \n          '-Dsonar.host.url=http://localhost:9000',\n          '-Dsonar.sources={}'.format(src_directory),\n          '-Dsonar.tests={}'.format(test_directory),\n          '-Dsonar.language=java', \n          '-Dsonar.sourceEncoding=UTF-8', \n          '-Dsonar.java.binaries={}'.format(binfile), \n          '-Dsonar.java.tests.binaries={}'.format(test_binfile),\n          '-Dsonar.login=admin', \n          '-Dsonar.password=****', \n          '-Dsonar.inclusions={}'.format(','.join(srcfiles)),\n          '-Dsonar.test.inclusions={}'.format(','.join(junitfiles)),\n          '-Dsonar.projectBaseDir={}'.format(source_directory),\n          '-Dsonar.java.libraries={}'.format(cur_dir+&quot;/sonaranalysis/lib&quot;),\n          '-Dsonar.java.test.libraries={}'.format(cur_dir+&quot;/sonaranalysis/test_lib&quot;)\n          ]\n</code></pre>\n<p>This is the command that I’m using. Pre-defined rules are working perfectly for the source files but not for the junit files.</p>\n<ul>\n<li>Sonarqube server version : 8.x</li>\n<li>Sonar-scanner-cli : 4.8</li>\n<li>Java version to run the server : 17</li>\n<li>Java version to run the files : 8</li>\n</ul>\n"},{"tags":["java","mysql","spring","jdbc"],"owner":{"account_id":28480293,"reputation":95,"user_id":21794356,"display_name":"Emiya Elien"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":302,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690273851,"creation_date":1690273851,"question_id":76760823,"body_markdown":"I have already finish dlock by wrapping redisson, and I&#39;m trying to impl it on database, exactly on mysql.\r\n\r\nI&#39;m using JdbcTemplate And DataSourceTransactionManager to start a tx, my plans can be show in 3 parts:\r\n\r\n 1. using `select ... for update` to query the record and lock\r\n 2. if the record is not exist, then `insert into values` add a record\r\n 3. do bussiness, and finally `delete from where` remove this record and release lock\r\n\r\nit work well in single-thread, but when comes to a concurrent enviroment, exceptions occurs:\r\n\r\n&gt; org.springframework.dao.DeadlockLoserDataAccessException: PreparedStatementCallback; SQL [ insert into lock1 ( lock_key, holder, created_time, expired_time )  values ( ?, ?, ?, ? ); ]; Deadlock found when trying to get lock; try restarting transaction; nested exception is com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction\r\n\r\nI realized that there is no need to excute `select ... for update` for `lock()` method, so I removed it and directly using `insert into values` with `try catch`.\r\n\r\nBut anoter problem occurs, I also had a `tryLock(time, unit)` method, and I&#39;m using `select ... for update skip locked` to do fast-check. However, if record wasn&#39;t exist in the begin, it also would be trapped in `deadlock`\r\n\r\n\r\nSo, how to design the distribute lock in database, at least achieve `lock(), unlock(), tryLock(), tryLock(time, unit)`?\r\n","title":"How to make the Distributed-Lock on Database ( mainly on mysql )","body":"<p>I have already finish dlock by wrapping redisson, and I'm trying to impl it on database, exactly on mysql.</p>\n<p>I'm using JdbcTemplate And DataSourceTransactionManager to start a tx, my plans can be show in 3 parts:</p>\n<ol>\n<li>using <code>select ... for update</code> to query the record and lock</li>\n<li>if the record is not exist, then <code>insert into values</code> add a record</li>\n<li>do bussiness, and finally <code>delete from where</code> remove this record and release lock</li>\n</ol>\n<p>it work well in single-thread, but when comes to a concurrent enviroment, exceptions occurs:</p>\n<blockquote>\n<p>org.springframework.dao.DeadlockLoserDataAccessException: PreparedStatementCallback; SQL [ insert into lock1 ( lock_key, holder, created_time, expired_time )  values ( ?, ?, ?, ? ); ]; Deadlock found when trying to get lock; try restarting transaction; nested exception is com.mysql.cj.jdbc.exceptions.MySQLTransactionRollbackException: Deadlock found when trying to get lock; try restarting transaction</p>\n</blockquote>\n<p>I realized that there is no need to excute <code>select ... for update</code> for <code>lock()</code> method, so I removed it and directly using <code>insert into values</code> with <code>try catch</code>.</p>\n<p>But anoter problem occurs, I also had a <code>tryLock(time, unit)</code> method, and I'm using <code>select ... for update skip locked</code> to do fast-check. However, if record wasn't exist in the begin, it also would be trapped in <code>deadlock</code></p>\n<p>So, how to design the distribute lock in database, at least achieve <code>lock(), unlock(), tryLock(), tryLock(time, unit)</code>?</p>\n"},{"tags":["java","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":14751517,"reputation":27,"user_id":10653484,"display_name":"Sany"},"score":0,"creation_date":1689861191,"post_id":76729061,"comment_id":135275555,"body_markdown":"no Exeption on IntelliJ, but on the browser I have \n\nWhitelabel Error Page\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.","body":"no Exeption on IntelliJ, but on the browser I have   Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback."},{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689877954,"post_id":76729061,"comment_id":135279339,"body_markdown":"this article might be helpful to you \n https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error","body":"this article might be helpful to you   <a href=\"https://stackoverflow.com/questions/31134333/this-application-has-no-explicit-mapping-for-error\" title=\"this application has no explicit mapping for error\">stackoverflow.com/questions/31134333/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":15454059,"reputation":228,"user_id":11148688,"display_name":"Avinash Gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1689860849,"creation_date":1689860849,"answer_id":76730555,"question_id":76729061,"body_markdown":"Make sure that your main class is in a root package above other classes.\r\n\r\nWhen you run a Spring Boot Application, (i.e. a class annotated with @SpringBootApplication), Spring will only scan the classes below your main class package.\r\n\r\n```\r\ncom\r\n   +- APP\r\n         +- Application.java  &lt;--- your main class should be here, above your controller classes\r\n         |\r\n         +- model\r\n         |   +- user.java\r\n         +- controller\r\n             +- UserController.java\r\n```","title":"Create an object inserting his parentID from the table of the same object","body":"<p>Make sure that your main class is in a root package above other classes.</p>\n<p>When you run a Spring Boot Application, (i.e. a class annotated with @SpringBootApplication), Spring will only scan the classes below your main class package.</p>\n<pre><code>com\n   +- APP\n         +- Application.java  &lt;--- your main class should be here, above your controller classes\n         |\n         +- model\n         |   +- user.java\n         +- controller\n             +- UserController.java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14751517,"reputation":27,"user_id":10653484,"display_name":"Sany"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690273814,"creation_date":1690273814,"answer_id":76760816,"question_id":76729061,"body_markdown":"Sorry If I took a lot of time to answer, for this code, I was doing something showing me that I didn&#39;t understand the concept of injection.\r\n\r\nfinally, this was the code I was suppose to put in my Controller, something very simple:\r\n\r\n\r\n    @PostMapping(&quot;/savingx/{parentId}&quot;)\r\n    public String savingxx(@ModelAttribute(&quot;section&quot;) SectionDTO sectionDTO, @PathVariable Long parentId, BindingResult bindingResult, Model model){\r\n        sectionService.addSectionByParent(sectionDTO, parentId);\r\n            returnValue= &quot;redirect:/product/detail/by/parent/{parentId}&quot;;\r\n    }\r\n\r\nThanks a lot for your contributions","title":"Create an object inserting his parentID from the table of the same object","body":"<p>Sorry If I took a lot of time to answer, for this code, I was doing something showing me that I didn't understand the concept of injection.</p>\n<p>finally, this was the code I was suppose to put in my Controller, something very simple:</p>\n<pre><code>@PostMapping(&quot;/savingx/{parentId}&quot;)\npublic String savingxx(@ModelAttribute(&quot;section&quot;) SectionDTO sectionDTO, @PathVariable Long parentId, BindingResult bindingResult, Model model){\n    sectionService.addSectionByParent(sectionDTO, parentId);\n        returnValue= &quot;redirect:/product/detail/by/parent/{parentId}&quot;;\n}\n</code></pre>\n<p>Thanks a lot for your contributions</p>\n"}],"owner":{"account_id":14751517,"reputation":27,"user_id":10653484,"display_name":"Sany"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690273814,"creation_date":1689849616,"question_id":76729061,"body_markdown":"I&#39;m new on Java environment (Spring Boot), and try to manipulate the injections.\r\nI have a table Section, a Section can have a ***parent*** or not, but if a Section Object is ***parent*** we have to be able to list of its childrenSection.\r\n\r\n\r\n\r\nThis is my Service\r\n\r\n&gt; \r\n```\r\n@Override\r\n    public SectionDTO addSectionByParent(SectionDTO sectionDTO, Long parentId) {\r\n        log.warn(&quot; Checking the theParentSectionId:={}&quot;,parentId);\r\n        Section parent = sectionRepository.findById(parentId).orElseThrow(() -&gt; new RuntimeException(&quot;SectionParent not found exception&quot;));\r\n        Section section = sectionMapper.fromSectionDTO(sectionDTO);\r\n        section.setParentSection(parent);\r\n        Section addSection = sectionRepository.save(section);\r\n        return sectionMapper.fromSection(addSection);\r\n    }\r\n```\r\n\r\n\r\nThis is my Controller\r\n\r\n\r\n```\r\n@GetMapping(&quot;/newa/{varId}&quot;)\r\n    public ModelAndView newSectionByParentId(@PathVariable Long varId){\r\n        ModelAndView mav = new ModelAndView(&quot;detail/forma&quot;);\r\n        SectionDTO sectionDTO = new SectionDTO();\r\n        SectionDTO sectionParent = sectionService.showSection(varId);\r\n\r\n        mav.addObject(&quot;detail&quot;,sectionDTO);\r\n        mav.addObject(&quot;pro&quot;,sectionParent);\r\n        return mav;\r\n    }\r\n```\r\n\r\n\r\n```\r\n@PostMapping(&quot;/savingx&quot;)\r\n    public String savingx(@ModelAttribute(&quot;section&quot;) @Valid SectionDTO sectionDTO, BindingResult bindingResult, @RequestParam(value = &quot;parentId&quot;, required = false) Long parentId){\r\n        SectionDTO sectionParent = sectionService.showSection(parentId);\r\n      \r\n        String returnValue;\r\n        if (bindingResult.hasErrors()) {\r\n            return &quot;project/forma&quot;;\r\n        }\r\n        System.out.println(&quot;******************* parentId : &quot;+ parentId);\r\n        if (sectionParent != null) {\r\n            sectionDTO.setParentId(sectionParent.getParentId());\r\n            sectionService.addSectionByParent(sectionDTO, sectionParent.getProductId());\r\n        } \r\n\r\n        returnValue = &quot;redirect:/product/detail/by/parent/{sectionId}&quot;;\r\n\r\n        return returnValue;\r\n    }\r\n```\r\n\r\n\r\nWhen running this Controller, this is the error I have\r\n\r\n`Whitelabel Error Page\r\nThis application has no explicit mapping for /error, so you are seeing this as a fallback.`\r\n\r\nnothing explicit\r\n\r\nPlease may u explain me what&#39;s going wrong ??","title":"Create an object inserting his parentID from the table of the same object","body":"<p>I'm new on Java environment (Spring Boot), and try to manipulate the injections.\nI have a table Section, a Section can have a <em><strong>parent</strong></em> or not, but if a Section Object is <em><strong>parent</strong></em> we have to be able to list of its childrenSection.</p>\n<p>This is my Service</p>\n<blockquote>\n</blockquote>\n<pre><code>@Override\n    public SectionDTO addSectionByParent(SectionDTO sectionDTO, Long parentId) {\n        log.warn(&quot; Checking the theParentSectionId:={}&quot;,parentId);\n        Section parent = sectionRepository.findById(parentId).orElseThrow(() -&gt; new RuntimeException(&quot;SectionParent not found exception&quot;));\n        Section section = sectionMapper.fromSectionDTO(sectionDTO);\n        section.setParentSection(parent);\n        Section addSection = sectionRepository.save(section);\n        return sectionMapper.fromSection(addSection);\n    }\n</code></pre>\n<p>This is my Controller</p>\n<pre><code>@GetMapping(&quot;/newa/{varId}&quot;)\n    public ModelAndView newSectionByParentId(@PathVariable Long varId){\n        ModelAndView mav = new ModelAndView(&quot;detail/forma&quot;);\n        SectionDTO sectionDTO = new SectionDTO();\n        SectionDTO sectionParent = sectionService.showSection(varId);\n\n        mav.addObject(&quot;detail&quot;,sectionDTO);\n        mav.addObject(&quot;pro&quot;,sectionParent);\n        return mav;\n    }\n</code></pre>\n<pre><code>@PostMapping(&quot;/savingx&quot;)\n    public String savingx(@ModelAttribute(&quot;section&quot;) @Valid SectionDTO sectionDTO, BindingResult bindingResult, @RequestParam(value = &quot;parentId&quot;, required = false) Long parentId){\n        SectionDTO sectionParent = sectionService.showSection(parentId);\n      \n        String returnValue;\n        if (bindingResult.hasErrors()) {\n            return &quot;project/forma&quot;;\n        }\n        System.out.println(&quot;******************* parentId : &quot;+ parentId);\n        if (sectionParent != null) {\n            sectionDTO.setParentId(sectionParent.getParentId());\n            sectionService.addSectionByParent(sectionDTO, sectionParent.getProductId());\n        } \n\n        returnValue = &quot;redirect:/product/detail/by/parent/{sectionId}&quot;;\n\n        return returnValue;\n    }\n</code></pre>\n<p>When running this Controller, this is the error I have</p>\n<p><code>Whitelabel Error Page This application has no explicit mapping for /error, so you are seeing this as a fallback.</code></p>\n<p>nothing explicit</p>\n<p>Please may u explain me what's going wrong ??</p>\n"},{"tags":["java","linux","jacoco","tomcat9"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689937248,"post_id":76736755,"comment_id":135287057,"body_markdown":"rt.jar contains the &#39;bootstrap&#39; Core SE classes in the JRE runtime , However , first point is the class name $JaCoCo probably should not start with &quot;$&quot; its usually the start of a nested subclass name!    $JaCoCo is the &quot;target&quot;   InvocationTargetException    ,  too if it needs to be placed amongst the java.base/ in the Core classes then the name should be changed and java.base configuration for the add in should be notified to the bootstrap on startup.","body":"rt.jar contains the &#39;bootstrap&#39; Core SE classes in the JRE runtime , However , first point is the class name $JaCoCo probably should not start with &quot;$&quot; its usually the start of a nested subclass name!    $JaCoCo is the &quot;target&quot;   InvocationTargetException    ,  too if it needs to be placed amongst the java.base/ in the Core classes then the name should be changed and java.base configuration for the add in should be notified to the bootstrap on startup."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689938324,"post_id":76736755,"comment_id":135287257,"body_markdown":"java.lang.LinkageError , it failed to copy the class file for $JaCoCo from the java.lang folder after rt.jar was expanded , perhaps after jvm startup put the class in before calling the main class or put it to the head of the jar list on the command line to extract it before it is called for use. Appears more the first thought ffor the LinkageError","body":"java.lang.LinkageError , it failed to copy the class file for $JaCoCo from the java.lang folder after rt.jar was expanded , perhaps after jvm startup put the class in before calling the main class or put it to the head of the jar list on the command line to extract it before it is called for use. Appears more the first thought ffor the LinkageError"}],"answers":[{"tags":[],"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690014650,"creation_date":1690014650,"answer_id":76742927,"question_id":76736755,"body_markdown":"Usage of more than one JaCoCo agent in one JVM is not allowed.\r\n\r\nFor example execution of\r\n\r\n```\r\njava -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -version\r\n```\r\n\r\nleads to\r\n\r\n```\r\nopenjdk version &quot;11.0.17&quot; 2022-10-18\r\nOpenJDK Runtime Environment Temurin-11.0.17+8 (build 11.0.17+8)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.17+8 (build 11.0.17+8, mixed mode)\r\n```\r\n\r\nwhereas execution of\r\n\r\n```\r\njava -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -version\r\n```\r\n\r\nleads to exactly the same error that you see\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime$Lookup.defineClass(InjectedClassRuntime.java:134)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime.startup(InjectedClassRuntime.java:54)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.PreMain.premain(PreMain.java:50)\r\n        ... 6 more\r\nCaused by: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.$JaCoCo. (java.lang.$JaCoCo is in module java.base of loader &#39;bootstrap&#39;)\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.System$2.defineClass(System.java:2131)\r\n        at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\r\n        ... 13 more\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at ./src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n```\r\n\r\nThus search what in your configuration leads to several `-javaagent`","title":"Jacoco agent faild to start on tomcat9: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.$JaCoCo","body":"<p>Usage of more than one JaCoCo agent in one JVM is not allowed.</p>\n<p>For example execution of</p>\n<pre><code>java -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -version\n</code></pre>\n<p>leads to</p>\n<pre><code>openjdk version &quot;11.0.17&quot; 2022-10-18\nOpenJDK Runtime Environment Temurin-11.0.17+8 (build 11.0.17+8)\nOpenJDK 64-Bit Server VM Temurin-11.0.17+8 (build 11.0.17+8, mixed mode)\n</code></pre>\n<p>whereas execution of</p>\n<pre><code>java -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -javaagent:jacoco-0.8.10/lib/jacocoagent.jar -version\n</code></pre>\n<p>leads to exactly the same error that you see</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime$Lookup.defineClass(InjectedClassRuntime.java:134)\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime.startup(InjectedClassRuntime.java:54)\n        at org.jacoco.agent.rt.internal_4a7f17c.PreMain.premain(PreMain.java:50)\n        ... 6 more\nCaused by: java.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.$JaCoCo. (java.lang.$JaCoCo is in module java.base of loader 'bootstrap')\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.System$2.defineClass(System.java:2131)\n        at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\n        ... 13 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at ./src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n</code></pre>\n<p>Thus search what in your configuration leads to several <code>-javaagent</code></p>\n"},{"tags":[],"owner":{"account_id":29062852,"reputation":1,"user_id":22263121,"display_name":"Mathieu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690273023,"creation_date":1690273023,"answer_id":76760723,"question_id":76736755,"body_markdown":"Thanks for your help. I solved my problem by changing:\r\n\r\n    export JAVA_OPTS=&quot;$JAVA_OPTS -Dlogback.ContextSelector=JNDI -Xms2G -Xmx16G -javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=com.worldline.*,address=localhost,append=false&quot;\r\n\r\nBy:\r\n\r\n    export CATALINA_OPTS=&quot;-Dlogback.ContextSelector=JNDI -Xms2G -Xmx16G -javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=com.worldline.*,address=localhost,append=false","title":"Jacoco agent faild to start on tomcat9: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.$JaCoCo","body":"<p>Thanks for your help. I solved my problem by changing:</p>\n<pre><code>export JAVA_OPTS=&quot;$JAVA_OPTS -Dlogback.ContextSelector=JNDI -Xms2G -Xmx16G -javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=com.worldline.*,address=localhost,append=false&quot;\n</code></pre>\n<p>By:</p>\n<pre><code>export CATALINA_OPTS=&quot;-Dlogback.ContextSelector=JNDI -Xms2G -Xmx16G -javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=com.worldline.*,address=localhost,append=false\n</code></pre>\n"}],"owner":{"account_id":29062852,"reputation":1,"user_id":22263121,"display_name":"Mathieu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76760723,"answer_count":2,"score":0,"last_activity_date":1690273023,"creation_date":1689931965,"question_id":76736755,"body_markdown":"When I try to start my tomcat 9 server on linux I have this error:\r\n\r\n```\r\nNOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\r\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime$Lookup.defineClass(InjectedClassRuntime.java:134)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime.startup(InjectedClassRuntime.java:54)\r\n        at org.jacoco.agent.rt.internal_4a7f17c.PreMain.premain(PreMain.java:50)\r\n        ... 6 more\r\nCaused by: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.$JaCoCo. (java.lang.$JaCoCo is in module java.base of loader &#39;bootstrap&#39;)\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.System$2.defineClass(System.java:2131)\r\n        at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\r\n        ... 13 more\r\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\r\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\r\n```\r\n\r\nI use this command line:\r\n`-javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=myPackage.*,append=false`\r\n\r\nI am using OpenJDK 64-Bit Server VM Corretto-11.0.19.7.1, the latest version of tomcat9 and jacoco 0.8.10. \r\n\r\nI have the same configuration on windows and it works fine. My application is a war buit with maven and I don&#39;t have any problems on windows. \r\n\r\nI tried to change my tomcat version and my JDK version but I still have the same problem. I don&#39;t find any solutions on the web.\r\nI have no Jacoco dependencies in my pom.xml","title":"Jacoco agent faild to start on tomcat9: java.lang.LinkageError: loader &#39;bootstrap&#39; attempted duplicate class definition for java.lang.$JaCoCo","body":"<p>When I try to start my tomcat 9 server on linux I have this error:</p>\n<pre><code>NOTE: Picked up JDK_JAVA_OPTIONS:  --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.io=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.util.concurrent=ALL-UNNAMED --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\nException in thread &quot;main&quot; java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndStartAgent(InstrumentationImpl.java:513)\n        at java.instrument/sun.instrument.InstrumentationImpl.loadClassAndCallPremain(InstrumentationImpl.java:525)\nCaused by: java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime$Lookup.defineClass(InjectedClassRuntime.java:134)\n        at org.jacoco.agent.rt.internal_4a7f17c.core.runtime.InjectedClassRuntime.startup(InjectedClassRuntime.java:54)\n        at org.jacoco.agent.rt.internal_4a7f17c.PreMain.premain(PreMain.java:50)\n        ... 6 more\nCaused by: java.lang.LinkageError: loader 'bootstrap' attempted duplicate class definition for java.lang.$JaCoCo. (java.lang.$JaCoCo is in module java.base of loader 'bootstrap')\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.System$2.defineClass(System.java:2131)\n        at java.base/java.lang.invoke.MethodHandles$Lookup.defineClass(MethodHandles.java:962)\n        ... 13 more\n*** java.lang.instrument ASSERTION FAILED ***: &quot;result&quot; with message agent load/premain call failed at src/java.instrument/share/native/libinstrument/JPLISAgent.c line: 422\nFATAL ERROR in native method: processing of -javaagent failed, processJavaStart failed\n</code></pre>\n<p>I use this command line:\n<code>-javaagent:/home/jenkins/tools/jacoco/lib/jacocoagent.jar=port=6300,destfile=/home/jenkins/jacoco/jacoco.exec,output=tcpserver,includes=myPackage.*,append=false</code></p>\n<p>I am using OpenJDK 64-Bit Server VM Corretto-11.0.19.7.1, the latest version of tomcat9 and jacoco 0.8.10.</p>\n<p>I have the same configuration on windows and it works fine. My application is a war buit with maven and I don't have any problems on windows.</p>\n<p>I tried to change my tomcat version and my JDK version but I still have the same problem. I don't find any solutions on the web.\nI have no Jacoco dependencies in my pom.xml</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1675164389,"post_id":75296179,"comment_id":132865242,"body_markdown":"It sounds like you should look at the `msedge.exe` options when you start it from the command line. Maybe there is an option to have it start a new window? What you&#39;re currently doing, you should probably use [Desktop.browse](https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Desktop.html#browse(java.net.URI)) Although I don&#39;t think it will create a new window. It will also use your default browser and not necessarily edge.","body":"It sounds like you should look at the <code>msedge.exe</code> options when you start it from the command line. Maybe there is an option to have it start a new window? What you&#39;re currently doing, you should probably use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.desktop/java/awt/Desktop.html#browse(java.net.URI)\" rel=\"nofollow noreferrer\">Desktop.browse</a> Although I don&#39;t think it will create a new window. It will also use your default browser and not necessarily edge."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1675164994,"creation_date":1675164994,"answer_id":75296545,"question_id":75296179,"body_markdown":"[ProcessBuilder][1] is not a terminal emulator. You don&#39;t need `cmd.exe`. You can run `msedge.exe` directly.\r\n\r\nI first searched Google for **microsoft edge command line options** which led me to:\r\n\r\n[Get list of Edge command line switches][2]\r\n\r\nand that led me to:\r\n\r\n[List of Chromium Command Line Switches][3]\r\n\r\nand that contained:\r\n```none\r\n--new-window\r\n```\r\nSo the minimal code required is:\r\n```java\r\nProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;,\r\n                                       &quot;--new-window&quot;,\r\n                                       &quot;C:\\\\MyView.html&quot;); \r\ntry {\r\n    pb.start();\r\n}\r\ncatch (IOException xIo) {\r\n    xIo.printStackTrace();\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\r\n  [2]: https://answers.microsoft.com/en-us/microsoftedge/forum/all/get-list-of-edge-command-line-switches/519d9efd-03df-4815-9cc7-b8f51d1bc932\r\n  [3]: https://peter.sh/experiments/chromium-command-line-switches/","title":"Open a local HTML File in a new window in Edge using Java","body":"<p><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html\" rel=\"nofollow noreferrer\">ProcessBuilder</a> is not a terminal emulator. You don't need <code>cmd.exe</code>. You can run <code>msedge.exe</code> directly.</p>\n<p>I first searched Google for <strong>microsoft edge command line options</strong> which led me to:</p>\n<p><a href=\"https://answers.microsoft.com/en-us/microsoftedge/forum/all/get-list-of-edge-command-line-switches/519d9efd-03df-4815-9cc7-b8f51d1bc932\" rel=\"nofollow noreferrer\">Get list of Edge command line switches</a></p>\n<p>and that led me to:</p>\n<p><a href=\"https://peter.sh/experiments/chromium-command-line-switches/\" rel=\"nofollow noreferrer\">List of Chromium Command Line Switches</a></p>\n<p>and that contained:</p>\n<pre class=\"lang-none prettyprint-override\"><code>--new-window\n</code></pre>\n<p>So the minimal code required is:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ProcessBuilder pb = new ProcessBuilder(&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot;,\n                                       &quot;--new-window&quot;,\n                                       &quot;C:\\\\MyView.html&quot;); \ntry {\n    pb.start();\n}\ncatch (IOException xIo) {\n    xIo.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":23781564,"reputation":7,"user_id":17794172,"display_name":"Mahesh M"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":325,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75296545,"answer_count":1,"score":-1,"last_activity_date":1690272460,"creation_date":1675163105,"question_id":75296179,"body_markdown":"How to open a local HTML file in a new window in Edge? I tried the code below, but the HTML file opened in the same window in a different tab. I need to open the HTML file in a separate window. please do the needful\r\n\r\n    Process p = rt.exec(&quot;cmd.exe /C start \\&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot; C:\\\\MyView.html&quot;);\r\n\t\t\t","title":"Open a local HTML File in a new window in Edge using Java","body":"<p>How to open a local HTML file in a new window in Edge? I tried the code below, but the HTML file opened in the same window in a different tab. I need to open the HTML file in a separate window. please do the needful</p>\n<pre><code>Process p = rt.exec(&quot;cmd.exe /C start \\&quot;C:\\\\Program Files (x86)\\\\Microsoft\\\\Edge\\\\Application\\\\msedge.exe&quot; C:\\\\MyView.html&quot;);\n        \n</code></pre>\n"},{"tags":["java","caching","comparator","treemap","kryo"],"owner":{"account_id":2453858,"reputation":307,"user_id":2139509,"accept_rate":35,"display_name":"nahid"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690272376,"creation_date":1690272376,"question_id":76760633,"body_markdown":"I&#39;m using Kryo 5.2 to serialize the following TreeMap with Comparator:\r\n```\r\npublic class Library {\r\n    NavigableMap&lt;Book, String&gt; books = new TreeMap(Book.getComparator());\r\n}\r\n\r\n@Getter\r\n@Setter\r\nclass Book {\r\n    int date;\r\n    String author;\r\n\r\n    public static Comparator&lt;Book&gt; getComparator() {\r\n        return Comparator.comparingInt(Book::getDate)\r\n                .thenComparing(Book::getAuthor);\r\n    }\r\n}\r\n```\r\nI have tried registering the Library class and using the following Serialization ways, but still get the error\r\n\r\n`\r\nKryo Serializer\r\n`\r\n```\r\npublic class Library implements KryoSerializable {\r\n    NavigableMap&lt;Book, String&gt; books = new TreeMap(Book.getComparator());\r\n\r\n    @Override\r\n    public void write(Kryo kryo, Output output) {\r\n        kryo.writeClassAndObject(output, books);\r\n    }\r\n\r\n    @Override\r\n    public void read(Kryo kryo, Input input) {\r\n        books = (NavigableMap&lt;Book, String&gt;)kryo.readClassAndObject(input);\r\n    }\r\n}\r\n\r\nkryo.register(Library.class);\r\n```\r\n\r\n`Custom Serializer`\r\n\r\n```\r\nclass LibrarySerializer extends Serializer&lt;Library&gt; {\r\n    @Override\r\n    public void write(Kryo kryo, Output output, Library library) {\r\n        kryo.writeClassAndObject(output, library.books);\r\n    }\r\n\r\n    @Override\r\n    public Library read(Kryo kryo, Input input, Class&lt;Library&gt; type) {\r\n        Library library = new Library();\r\n        library.books = (NavigableMap&lt;Book, String&gt;)kryo.readClassAndObjcet(input);\r\n        return library;\r\n    }\r\n}\r\n\r\nkryo.register(Library.class, new LibrarySerializer());\r\n```\r\n\r\nP.S. Since I need to cache this object I can&#39;t use transient on the Map.\r\n\r\n","title":"Kryo - Serialization of TreeMap with a Comparator - InaccessibleObjectException: Unable to make field private final java.util.Comparator","body":"<p>I'm using Kryo 5.2 to serialize the following TreeMap with Comparator:</p>\n<pre><code>public class Library {\n    NavigableMap&lt;Book, String&gt; books = new TreeMap(Book.getComparator());\n}\n\n@Getter\n@Setter\nclass Book {\n    int date;\n    String author;\n\n    public static Comparator&lt;Book&gt; getComparator() {\n        return Comparator.comparingInt(Book::getDate)\n                .thenComparing(Book::getAuthor);\n    }\n}\n</code></pre>\n<p>I have tried registering the Library class and using the following Serialization ways, but still get the error</p>\n<p><code>Kryo Serializer</code></p>\n<pre><code>public class Library implements KryoSerializable {\n    NavigableMap&lt;Book, String&gt; books = new TreeMap(Book.getComparator());\n\n    @Override\n    public void write(Kryo kryo, Output output) {\n        kryo.writeClassAndObject(output, books);\n    }\n\n    @Override\n    public void read(Kryo kryo, Input input) {\n        books = (NavigableMap&lt;Book, String&gt;)kryo.readClassAndObject(input);\n    }\n}\n\nkryo.register(Library.class);\n</code></pre>\n<p><code>Custom Serializer</code></p>\n<pre><code>class LibrarySerializer extends Serializer&lt;Library&gt; {\n    @Override\n    public void write(Kryo kryo, Output output, Library library) {\n        kryo.writeClassAndObject(output, library.books);\n    }\n\n    @Override\n    public Library read(Kryo kryo, Input input, Class&lt;Library&gt; type) {\n        Library library = new Library();\n        library.books = (NavigableMap&lt;Book, String&gt;)kryo.readClassAndObjcet(input);\n        return library;\n    }\n}\n\nkryo.register(Library.class, new LibrarySerializer());\n</code></pre>\n<p>P.S. Since I need to cache this object I can't use transient on the Map.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676369638,"creation_date":1676369638,"answer_id":75446339,"question_id":75435550,"body_markdown":"It looks like `WorkstationUserInfo#id` is null. Initialize it to an empty embeddable object and then this should work e.g. like this:\r\n\r\n        @EmbeddedId\r\n        private WorkstationUserInfoKey id = new WorkstationUserInfoKey();","title":"Insert in many to many JPA table fails with : Could not set value of type [java.lang.String]","body":"<p>It looks like <code>WorkstationUserInfo#id</code> is null. Initialize it to an empty embeddable object and then this should work e.g. like this:</p>\n<pre><code>    @EmbeddedId\n    private WorkstationUserInfoKey id = new WorkstationUserInfoKey();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28248018,"reputation":1,"user_id":21594731,"display_name":"Ho&#224;ng Vũ văn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690272308,"creation_date":1690272308,"answer_id":76760622,"question_id":75435550,"body_markdown":"I also got the same error as you, can I suggest you that you can drop the `@Builder` in the WorkStationUserInfor class and add `WorkStationUserInfoKey id = new WorkStationUserInfoKey();`","title":"Insert in many to many JPA table fails with : Could not set value of type [java.lang.String]","body":"<p>I also got the same error as you, can I suggest you that you can drop the <code>@Builder</code> in the WorkStationUserInfor class and add <code>WorkStationUserInfoKey id = new WorkStationUserInfoKey();</code></p>\n"}],"owner":{"account_id":22257965,"reputation":59,"user_id":16489856,"display_name":"Centuri0n"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690272308,"creation_date":1676289287,"question_id":75435550,"body_markdown":"I have a many to many association implemented in JPA, between class User and Workstation.\r\n\r\nWorkstation Class:\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\n@ToString\r\n@Entity\r\npublic class Workstation {\r\n\r\n    @Id\r\n    private String name;\r\n    private String ipv4;\r\n    private String operating_system;\r\n\r\n    \r\n\r\n    @OneToMany(mappedBy = &quot;workstation&quot;, cascade = CascadeType.ALL)\r\n    @JsonIgnore\r\n    @ToString.Exclude\r\n    private List&lt;WorkstationUserInfo&gt; registered_users;\r\n    \r\n\r\n}\r\n```\r\n\r\nUser class:\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\n\r\n@Entity\r\n@Table(name=&quot;user_&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    private String email;\r\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\r\n    private List&lt;WorkstationUserInfo&gt; workstations;\r\n\r\n\r\n}\r\n\r\n```\r\nMany to many class:\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Getter\r\n@Setter\r\n@ToString\r\n\r\n\r\n@Entity\r\n@Table(uniqueConstraints = {\r\n        @UniqueConstraint(name = &quot;UniqueUsernameOnWorkstation&quot;, columnNames = {&quot;workstation_name&quot;, &quot;username&quot;})})\r\npublic class WorkstationUserInfo {\r\n        @EmbeddedId\r\n        private WorkstationUserInfoKey id;\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;workstation_name&quot;)\r\n        @JoinColumn(name = &quot;workstation_name&quot;)\r\n        private Workstation workstation;\r\n\r\n        @ManyToOne\r\n        @MapsId(&quot;user_email&quot;)\r\n        @JoinColumn(name = &quot;user_email&quot;)\r\n        private User user;\r\n\r\n        private String username;\r\n\r\n}\r\n```\r\n\r\nEmbeddable class:\r\n```\r\n@RequiredArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Data\r\n\r\n@Embeddable\r\npublic class WorkstationUserInfoKey implements Serializable {\r\n    private String workstation_name;\r\n\r\n    private String user_email;\r\n\r\n}\r\n```\r\nWorkstationUserInfoRepository class:\r\n```\r\npublic interface WorkstationUserInfoRepository extends JpaRepository&lt;WorkstationUserInfo, WorkstationUserInfoKey&gt; {\r\n}\r\n\r\n```\r\nI am new to hibernate, perhaps I have misconfigured something. The problem is that when I call:\r\n```\r\nuser_info_repository.save(user_info);\r\n```\r\nIt fails with:\r\n```\r\n2023-02-13T12:29:02.425+01:00 ERROR 25140 --- [nio-6970-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.String] : `com.cinicolo.workstationreservationservice.model.WorkstationUserInfoKey.user_email` (setter)] with root cause\r\n\r\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\r\n\tat java.base/jdk.internal.reflect.MethodHandleFieldAccessorImpl.ensureObj(MethodHandleFieldAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.MethodHandleObjectFieldAccessorImpl.set(MethodHandleObjectFieldAccessorImpl.java:101) ~[na:na]\r\n\tat java.base/java.lang.reflect.Field.set(Field.java:820) ~[na:na]\r\n\tat org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:53) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.3.jar:6.0.3]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.3.jar:6.0.3]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:636) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy128.saveAll(Unknown Source) ~[na:na]\r\n\tat com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl.lambda$saveUsersOnWorkstations$1(WorkstationServiceImpl.java:65) ~[classes/:na]\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\r\n\tat com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl.saveUsersOnWorkstations(WorkstationServiceImpl.java:58) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\r\n\tat com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl$$SpringCGLIB$$0.saveUsersOnWorkstations(&lt;generated&gt;) ~[classes/:na]\r\n\tat com.cinicolo.workstationreservationservice.controller.WorkstationController.saveUsersOnWorkstations(WorkstationController.java:46) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\r\n\tat jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\r\n\tat java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\r\n```\r\nCan anyone help?\r\n\r\n","title":"Insert in many to many JPA table fails with : Could not set value of type [java.lang.String]","body":"<p>I have a many to many association implemented in JPA, between class User and Workstation.</p>\n<p>Workstation Class:</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n@Setter\n@ToString\n@Entity\npublic class Workstation {\n\n    @Id\n    private String name;\n    private String ipv4;\n    private String operating_system;\n\n    \n\n    @OneToMany(mappedBy = &quot;workstation&quot;, cascade = CascadeType.ALL)\n    @JsonIgnore\n    @ToString.Exclude\n    private List&lt;WorkstationUserInfo&gt; registered_users;\n    \n\n}\n</code></pre>\n<p>User class:</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n@Setter\n\n@Entity\n@Table(name=&quot;user_&quot;)\npublic class User {\n\n    @Id\n    private String email;\n    @OneToMany(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL)\n    private List&lt;WorkstationUserInfo&gt; workstations;\n\n\n}\n\n</code></pre>\n<p>Many to many class:</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Getter\n@Setter\n@ToString\n\n\n@Entity\n@Table(uniqueConstraints = {\n        @UniqueConstraint(name = &quot;UniqueUsernameOnWorkstation&quot;, columnNames = {&quot;workstation_name&quot;, &quot;username&quot;})})\npublic class WorkstationUserInfo {\n        @EmbeddedId\n        private WorkstationUserInfoKey id;\n\n        @ManyToOne\n        @MapsId(&quot;workstation_name&quot;)\n        @JoinColumn(name = &quot;workstation_name&quot;)\n        private Workstation workstation;\n\n        @ManyToOne\n        @MapsId(&quot;user_email&quot;)\n        @JoinColumn(name = &quot;user_email&quot;)\n        private User user;\n\n        private String username;\n\n}\n</code></pre>\n<p>Embeddable class:</p>\n<pre><code>@RequiredArgsConstructor\n@AllArgsConstructor\n@Builder\n@Data\n\n@Embeddable\npublic class WorkstationUserInfoKey implements Serializable {\n    private String workstation_name;\n\n    private String user_email;\n\n}\n</code></pre>\n<p>WorkstationUserInfoRepository class:</p>\n<pre><code>public interface WorkstationUserInfoRepository extends JpaRepository&lt;WorkstationUserInfo, WorkstationUserInfoKey&gt; {\n}\n\n</code></pre>\n<p>I am new to hibernate, perhaps I have misconfigured something. The problem is that when I call:</p>\n<pre><code>user_info_repository.save(user_info);\n</code></pre>\n<p>It fails with:</p>\n<pre><code>2023-02-13T12:29:02.425+01:00 ERROR 25140 --- [nio-6970-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.orm.jpa.JpaSystemException: Could not set value of type [java.lang.String] : `com.cinicolo.workstationreservationservice.model.WorkstationUserInfoKey.user_email` (setter)] with root cause\n\njava.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot; because &quot;o&quot; is null\n    at java.base/jdk.internal.reflect.MethodHandleFieldAccessorImpl.ensureObj(MethodHandleFieldAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.MethodHandleObjectFieldAccessorImpl.set(MethodHandleObjectFieldAccessorImpl.java:101) ~[na:na]\n    at java.base/java.lang.reflect.Field.set(Field.java:820) ~[na:na]\n    at org.hibernate.property.access.spi.SetterFieldImpl.set(SetterFieldImpl.java:53) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.mapping.Component$ValueGenerationPlan.execute(Component.java:538) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.id.CompositeNestedGeneratedValueGenerator.generate(CompositeNestedGeneratedValueGenerator.java:113) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:114) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:184) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:129) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:53) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:107) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:737) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:721) ~[hibernate-core-6.1.6.Final.jar:6.1.6.Final]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:360) ~[spring-orm-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:307) ~[spring-orm-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy119.persist(Unknown Source) ~[na:na]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:610) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAll(SimpleJpaRepository.java:636) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:288) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:136) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:120) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:516) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:628) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:168) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:143) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:77) ~[spring-data-commons-3.0.0.jar:3.0.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:163) ~[spring-data-jpa-3.0.0.jar:3.0.0]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:218) ~[spring-aop-6.0.3.jar:6.0.3]\n    at jdk.proxy2/jdk.proxy2.$Proxy128.saveAll(Unknown Source) ~[na:na]\n    at com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl.lambda$saveUsersOnWorkstations$1(WorkstationServiceImpl.java:65) ~[classes/:na]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511) ~[na:na]\n    at com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl.saveUsersOnWorkstations(WorkstationServiceImpl.java:58) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:196) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119) ~[spring-tx-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:184) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:752) ~[spring-aop-6.0.3.jar:6.0.3]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703) ~[spring-aop-6.0.3.jar:6.0.3]\n    at com.cinicolo.workstationreservationservice.service.WorkstationServiceImpl$$SpringCGLIB$$0.saveUsersOnWorkstations(&lt;generated&gt;) ~[classes/:na]\n    at com.cinicolo.workstationreservationservice.controller.WorkstationController.saveUsersOnWorkstations(WorkstationController.java:46) ~[classes/:na]\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\n    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:207) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:152) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:797) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1080) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:973) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1010) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:913) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:731) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:884) ~[spring-webmvc-6.0.3.jar:6.0.3]\n    at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:814) ~[tomcat-embed-core-10.1.4.jar:6.0]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:223) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53) ~[tomcat-embed-websocket-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:145) ~[spring-security-oauth2-resource-server-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.0.1.jar:6.0.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:351) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.3.jar:6.0.3]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:185) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:158) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:177) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:119) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:400) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:859) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1734) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.4.jar:10.1.4]\n    at java.base/java.lang.Thread.run(Thread.java:1589) ~[na:na]\n</code></pre>\n<p>Can anyone help?</p>\n"},{"tags":["java","json","rest","pojo","payload"],"comments":[{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690242999,"post_id":76758228,"comment_id":135323167,"body_markdown":"How are you &quot;logging&quot; it? Also, please delete as much code as possible from your question unless it&#39;s absolutely required to describe your problem. For example, all the `toString()` methods can be deleted because they are irrelevant. Please make an effort to curate the code you share to so the community doesn&#39;t have to wade through reams of irrelevant code to help you.","body":"How are you &quot;logging&quot; it? Also, please delete as much code as possible from your question unless it&#39;s absolutely required to describe your problem. For example, all the <code>toString()</code> methods can be deleted because they are irrelevant. Please make an effort to curate the code you share to so the community doesn&#39;t have to wade through reams of irrelevant code to help you."}],"answers":[{"tags":[],"owner":{"account_id":7975532,"reputation":103,"user_id":6018837,"display_name":"Daniel Matev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690271735,"creation_date":1690271735,"answer_id":76760550,"question_id":76758228,"body_markdown":"The default naming strategy that Jackson uses is `LOWER_CAMEL_CASE` which would explain why chaning the name of the object properties is not reflected in the output json. Also it&#39;s not a very good practice to have all uppercase properties unless they&#39;re constants so in your case I&#39;d suggest using the `@JsonProperty(value=&lt;your-value&gt;)` annotation.","title":"Changes in POJO are not reflecting in JSON payload in java","body":"<p>The default naming strategy that Jackson uses is <code>LOWER_CAMEL_CASE</code> which would explain why chaning the name of the object properties is not reflected in the output json. Also it's not a very good practice to have all uppercase properties unless they're constants so in your case I'd suggest using the <code>@JsonProperty(value=&lt;your-value&gt;)</code> annotation.</p>\n"}],"owner":{"account_id":25027286,"reputation":23,"user_id":18885373,"display_name":"Muazzam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690271735,"creation_date":1690235385,"question_id":76758228,"body_markdown":"I am using POJO to create a JSON message for API input. Some of the fields from the JSON message were in lower case and I changed them to upper case but when I log the payload it the fields are still in lower case. Changes are not applied somehow. \r\n\r\nI tried rebuilding , invalidating cache, deleting older builds and removing target file. \r\n\r\n\r\nThe fields in question are , DED, MOP,MPP,LFE and SCR. \r\nWhat am I missing ? \r\n\r\nBelow is the child POJO\r\n\r\n    package com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite;\r\n    \r\n    \r\n    public class AccumCopayDetails {\r\n    \r\n    \r\n       private DED DED;\r\n       private MOP MOP;\r\n       private MPP MPP;\r\n       private LFE LFE;\r\n       private SCR SCR;\r\n    \r\n  \r\n    \r\n       public AccumCopayDetails(com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED DED, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.MOP MOP, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.MPP MPP, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.LFE LFE, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.SCR SCR) {\r\n           this.DED = DED;\r\n           this.MOP = MOP;\r\n           this.MPP = MPP;\r\n           this.LFE = LFE;\r\n           this.SCR = SCR;\r\n       }\r\n    \r\n    \r\n       @Override\r\n       public String toString() {\r\n           return &quot;AccumCopayDetails{&quot; +\r\n                   &quot;DED=&quot; + DED +\r\n                   &quot;, MOP=&quot; + MOP +\r\n                   &quot;, MPP=&quot; + MPP +\r\n                   &quot;, LFE=&quot; + LFE +\r\n                   &quot;, SCR=&quot; + SCR +\r\n                   &#39;}&#39;;\r\n       }\r\n    \r\n    \r\n       public com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED getDED() {\r\n           return DED;\r\n       }\r\n    \r\n    \r\n       public void setDED(com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED DED) {\r\n           this.DED = DED;\r\n       }\r\n\r\n\r\nParent/Main POJO\r\n\r\n    package com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite;\r\n    \r\n    \r\n    import com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.CSR.HimClaimPricingDetails;\r\n    \r\n    \r\n    public class AccumWriteInput {\r\n       private ClaimCore claimCore;\r\n       private PricingSegment pricingSegment;\r\n       private ClaimPricingDetails claimPricingDetails;\r\n       private AccumCopayDetails accumCopayDetails;\r\n       private InsuranceSegment insuranceSegment;\r\n       private String schema;\r\n       private String caseId;\r\n       private String medicalRxIndicator;\r\n       private String networkIndicator;\r\n       private String retailMailOrderIndicator;\r\n       private String brandGenericIndicator;\r\n    \r\n    \r\n    \r\n    \r\n       @Override\r\n       public String toString() {\r\n           return &quot;AccumWriteInput{&quot; +\r\n                   &quot;claimCore=&quot; + claimCore +\r\n                   &quot;, pricingSegment=&quot; + pricingSegment +\r\n                   &quot;, claimPricingDetails=&quot; + claimPricingDetails +\r\n                   &quot;, accumCopayDetails=&quot; + accumCopayDetails +\r\n                   &quot;, insuranceSegment=&quot; + insuranceSegment +\r\n                   &quot;, schema=&#39;&quot; + schema + &#39;\\&#39;&#39; +\r\n                   &quot;, caseId=&#39;&quot; + caseId + &#39;\\&#39;&#39; +\r\n                   &quot;, medicalRxIndicator=&#39;&quot; + medicalRxIndicator + &#39;\\&#39;&#39; +\r\n                   &quot;, networkIndicator=&#39;&quot; + networkIndicator + &#39;\\&#39;&#39; +\r\n                   &quot;, retailMailOrderIndicator=&#39;&quot; + retailMailOrderIndicator + &#39;\\&#39;&#39; +\r\n                   &quot;, brandGenericIndicator=&#39;&quot; + brandGenericIndicator + &#39;\\&#39;&#39; +\r\n                   &#39;}&#39;;\r\n       }\r\n\r\nThis is where the POJO is called and used as payload \r\n\r\n    ClaimCore claimCore = new ClaimCore(1625, 1, 33, 779, 659, &quot;2016-01-10&quot;, &quot;000000021284450100&quot;);\r\n       InsuranceSegment insuranceSegment = new InsuranceSegment(\r\n               &quot;21284450100&quot;, &quot;GLORIA&quot;, &quot;DELGADO&quot;, &quot;P1234567&quot;, 1,\r\n               &quot;33&quot;, &quot;00&quot;, 1, &quot;MO&quot;, &quot;Y&quot;);\r\n    \r\n    \r\n       DED DED = new DED(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\r\n       MOP MOP = new MOP(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\r\n       MPP MPP = new MPP(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\r\n       LFE LFE = new LFE(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\r\n       SCR SCR = new SCR(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\r\n    \r\n    \r\n       AccumCopayDetails accumCopayDetails = new AccumCopayDetails(DED, MOP, MPP, LFE, SCR);\r\n    \r\n    \r\n       PricingSegment pricingSegment = new PricingSegment(300.00, 0, 300.00);\r\n       com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.ClaimPricingDetails claimPricingDetails = new com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.ClaimPricingDetails(\r\n               100.00, 100.00, 0.00,\r\n               200.00, 0.00,\r\n               0.00, 0.00,\r\n               0.00, 0.00,\r\n               0.16, 100.00, &quot;B&quot;,\r\n               0.00, 0.00);\r\n    \r\n    \r\n       AccumWriteInput accumWriteInput = new AccumWriteInput(claimCore, pricingSegment, claimPricingDetails, accumCopayDetails, insuranceSegment,\r\n               &quot; &quot;, &quot;000000000212844501&quot;, &quot;P&quot;, &quot;I&quot;, &quot;R&quot;, &quot;G&quot;);\r\n    \r\n    \r\n       S68_1Response = SerenityRest.given().auth().oauth2(DomaniRx_RestAssuredOAuth2.access_token_code)\r\n               .header(&quot;platform&quot;, &quot;DR2&quot;)\r\n               .contentType(&quot;application/json&quot;)\r\n               .header(&quot;Accept&quot;, &quot;application/json&quot;)\r\n               .log().body()\r\n               .body(accumWriteInput)\r\n               .post(accumWrite)\r\n               .then()\r\n               .statusCode(200)\r\n               .extract().response();\r\n    \r\n    \r\n    }\r\n\r\n\r\nBelow is the product/payload that is logged and the words in question are still lower case: MOP,MPP,DED,LFE,SCR\r\n\r\n \r\n\r\n    &quot;accumCopayDetails&quot;: {\r\n            &quot;mop&quot;: {\r\n                &quot;copayUsedType&quot;: &quot;D&quot;,\r\n                &quot;accumulatorMetCopay&quot;: 0,\r\n                &quot;accumulatorMetCoinsurance&quot;: 0,\r\n                &quot;accumulatorMetMinimumCopay&quot;: 0,\r\n                &quot;accumulatorMetMaximumCopay&quot;: 0,\r\n                &quot;accumulatorMetCopayType&quot;: &quot; &quot;\r\n            },\r\n            &quot;mpp&quot;: {\r\n                &quot;copayUsedType&quot;: &quot;D&quot;,\r\n                &quot;accumulatorMetCopay&quot;: 0,\r\n                &quot;accumulatorMetCoinsurance&quot;: 0,\r\n                &quot;accumulatorMetMinimumCopay&quot;: 0,\r\n                &quot;accumulatorMetMaximumCopay&quot;: 0,\r\n                &quot;accumulatorMetCopayType&quot;: &quot; &quot;\r\n            },\r\n            &quot;ded&quot;: {\r\n                &quot;copayUsedType&quot;: &quot;D&quot;,\r\n                &quot;accumulatorMetCopay&quot;: 0,\r\n                &quot;accumulatorMetCoinsurance&quot;: 0,\r\n                &quot;accumulatorMetMinimumCopay&quot;: 0,\r\n                &quot;accumulatorMetMaximumCopay&quot;: 0,\r\n                &quot;accumulatorMetCopayType&quot;: &quot; &quot;\r\n            },\r\n            &quot;scr&quot;: {\r\n                &quot;copayUsedType&quot;: &quot;D&quot;,\r\n                &quot;accumulatorMetCopay&quot;: 0,\r\n                &quot;accumulatorMetCoinsurance&quot;: 0,\r\n                &quot;accumulatorMetMinimumCopay&quot;: 0,\r\n                &quot;accumulatorMetMaximumCopay&quot;: 0,\r\n                &quot;accumulatorMetCopayType&quot;: &quot; &quot;\r\n            },\r\n            &quot;lfe&quot;: {\r\n                &quot;copayUsedType&quot;: &quot;D&quot;,\r\n                &quot;accumulatorMetCopay&quot;: 0,\r\n                &quot;accumulatorMetCoinsurance&quot;: 0,\r\n                &quot;accumulatorMetMinimumCopay&quot;: 0,\r\n                &quot;accumulatorMetMaximumCopay&quot;: 0,\r\n                &quot;accumulatorMetCopayType&quot;: &quot; &quot;\r\n            }\r\n        },\r\n\r\n\r\n\r\n\r\n","title":"Changes in POJO are not reflecting in JSON payload in java","body":"<p>I am using POJO to create a JSON message for API input. Some of the fields from the JSON message were in lower case and I changed them to upper case but when I log the payload it the fields are still in lower case. Changes are not applied somehow.</p>\n<p>I tried rebuilding , invalidating cache, deleting older builds and removing target file.</p>\n<p>The fields in question are , DED, MOP,MPP,LFE and SCR.\nWhat am I missing ?</p>\n<p>Below is the child POJO</p>\n<pre><code>package com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite;\n\n\npublic class AccumCopayDetails {\n\n\n   private DED DED;\n   private MOP MOP;\n   private MPP MPP;\n   private LFE LFE;\n   private SCR SCR;\n\n\n\n   public AccumCopayDetails(com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED DED, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.MOP MOP, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.MPP MPP, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.LFE LFE, com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.SCR SCR) {\n       this.DED = DED;\n       this.MOP = MOP;\n       this.MPP = MPP;\n       this.LFE = LFE;\n       this.SCR = SCR;\n   }\n\n\n   @Override\n   public String toString() {\n       return &quot;AccumCopayDetails{&quot; +\n               &quot;DED=&quot; + DED +\n               &quot;, MOP=&quot; + MOP +\n               &quot;, MPP=&quot; + MPP +\n               &quot;, LFE=&quot; + LFE +\n               &quot;, SCR=&quot; + SCR +\n               '}';\n   }\n\n\n   public com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED getDED() {\n       return DED;\n   }\n\n\n   public void setDED(com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.DED DED) {\n       this.DED = DED;\n   }\n</code></pre>\n<p>Parent/Main POJO</p>\n<pre><code>package com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite;\n\n\nimport com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.CSR.HimClaimPricingDetails;\n\n\npublic class AccumWriteInput {\n   private ClaimCore claimCore;\n   private PricingSegment pricingSegment;\n   private ClaimPricingDetails claimPricingDetails;\n   private AccumCopayDetails accumCopayDetails;\n   private InsuranceSegment insuranceSegment;\n   private String schema;\n   private String caseId;\n   private String medicalRxIndicator;\n   private String networkIndicator;\n   private String retailMailOrderIndicator;\n   private String brandGenericIndicator;\n\n\n\n\n   @Override\n   public String toString() {\n       return &quot;AccumWriteInput{&quot; +\n               &quot;claimCore=&quot; + claimCore +\n               &quot;, pricingSegment=&quot; + pricingSegment +\n               &quot;, claimPricingDetails=&quot; + claimPricingDetails +\n               &quot;, accumCopayDetails=&quot; + accumCopayDetails +\n               &quot;, insuranceSegment=&quot; + insuranceSegment +\n               &quot;, schema='&quot; + schema + '\\'' +\n               &quot;, caseId='&quot; + caseId + '\\'' +\n               &quot;, medicalRxIndicator='&quot; + medicalRxIndicator + '\\'' +\n               &quot;, networkIndicator='&quot; + networkIndicator + '\\'' +\n               &quot;, retailMailOrderIndicator='&quot; + retailMailOrderIndicator + '\\'' +\n               &quot;, brandGenericIndicator='&quot; + brandGenericIndicator + '\\'' +\n               '}';\n   }\n</code></pre>\n<p>This is where the POJO is called and used as payload</p>\n<pre><code>ClaimCore claimCore = new ClaimCore(1625, 1, 33, 779, 659, &quot;2016-01-10&quot;, &quot;000000021284450100&quot;);\n   InsuranceSegment insuranceSegment = new InsuranceSegment(\n           &quot;21284450100&quot;, &quot;GLORIA&quot;, &quot;DELGADO&quot;, &quot;P1234567&quot;, 1,\n           &quot;33&quot;, &quot;00&quot;, 1, &quot;MO&quot;, &quot;Y&quot;);\n\n\n   DED DED = new DED(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\n   MOP MOP = new MOP(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\n   MPP MPP = new MPP(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\n   LFE LFE = new LFE(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\n   SCR SCR = new SCR(&quot;D&quot;, 0, 0, 0, 0, &quot; &quot;);\n\n\n   AccumCopayDetails accumCopayDetails = new AccumCopayDetails(DED, MOP, MPP, LFE, SCR);\n\n\n   PricingSegment pricingSegment = new PricingSegment(300.00, 0, 300.00);\n   com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.ClaimPricingDetails claimPricingDetails = new com.domanirx.automation.adjudication.adjcpe.commerc.accum.pojos.AccumCalcWrite.ClaimPricingDetails(\n           100.00, 100.00, 0.00,\n           200.00, 0.00,\n           0.00, 0.00,\n           0.00, 0.00,\n           0.16, 100.00, &quot;B&quot;,\n           0.00, 0.00);\n\n\n   AccumWriteInput accumWriteInput = new AccumWriteInput(claimCore, pricingSegment, claimPricingDetails, accumCopayDetails, insuranceSegment,\n           &quot; &quot;, &quot;000000000212844501&quot;, &quot;P&quot;, &quot;I&quot;, &quot;R&quot;, &quot;G&quot;);\n\n\n   S68_1Response = SerenityRest.given().auth().oauth2(DomaniRx_RestAssuredOAuth2.access_token_code)\n           .header(&quot;platform&quot;, &quot;DR2&quot;)\n           .contentType(&quot;application/json&quot;)\n           .header(&quot;Accept&quot;, &quot;application/json&quot;)\n           .log().body()\n           .body(accumWriteInput)\n           .post(accumWrite)\n           .then()\n           .statusCode(200)\n           .extract().response();\n\n\n}\n</code></pre>\n<p>Below is the product/payload that is logged and the words in question are still lower case: MOP,MPP,DED,LFE,SCR</p>\n<pre><code>&quot;accumCopayDetails&quot;: {\n        &quot;mop&quot;: {\n            &quot;copayUsedType&quot;: &quot;D&quot;,\n            &quot;accumulatorMetCopay&quot;: 0,\n            &quot;accumulatorMetCoinsurance&quot;: 0,\n            &quot;accumulatorMetMinimumCopay&quot;: 0,\n            &quot;accumulatorMetMaximumCopay&quot;: 0,\n            &quot;accumulatorMetCopayType&quot;: &quot; &quot;\n        },\n        &quot;mpp&quot;: {\n            &quot;copayUsedType&quot;: &quot;D&quot;,\n            &quot;accumulatorMetCopay&quot;: 0,\n            &quot;accumulatorMetCoinsurance&quot;: 0,\n            &quot;accumulatorMetMinimumCopay&quot;: 0,\n            &quot;accumulatorMetMaximumCopay&quot;: 0,\n            &quot;accumulatorMetCopayType&quot;: &quot; &quot;\n        },\n        &quot;ded&quot;: {\n            &quot;copayUsedType&quot;: &quot;D&quot;,\n            &quot;accumulatorMetCopay&quot;: 0,\n            &quot;accumulatorMetCoinsurance&quot;: 0,\n            &quot;accumulatorMetMinimumCopay&quot;: 0,\n            &quot;accumulatorMetMaximumCopay&quot;: 0,\n            &quot;accumulatorMetCopayType&quot;: &quot; &quot;\n        },\n        &quot;scr&quot;: {\n            &quot;copayUsedType&quot;: &quot;D&quot;,\n            &quot;accumulatorMetCopay&quot;: 0,\n            &quot;accumulatorMetCoinsurance&quot;: 0,\n            &quot;accumulatorMetMinimumCopay&quot;: 0,\n            &quot;accumulatorMetMaximumCopay&quot;: 0,\n            &quot;accumulatorMetCopayType&quot;: &quot; &quot;\n        },\n        &quot;lfe&quot;: {\n            &quot;copayUsedType&quot;: &quot;D&quot;,\n            &quot;accumulatorMetCopay&quot;: 0,\n            &quot;accumulatorMetCoinsurance&quot;: 0,\n            &quot;accumulatorMetMinimumCopay&quot;: 0,\n            &quot;accumulatorMetMaximumCopay&quot;: 0,\n            &quot;accumulatorMetCopayType&quot;: &quot; &quot;\n        }\n    },\n</code></pre>\n"},{"tags":["java","telegram-bot"],"owner":{"account_id":24487300,"reputation":21,"user_id":18404816,"display_name":"Kim jon stack"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690270780,"creation_date":1690270780,"question_id":76760433,"body_markdown":" I&#39;m Trying build my APK using  \r\n&gt;implementation &#39;com.github.rubenlagus:TelegramBots:6.7.0&#39;\r\n\r\n**this is my dependency**\r\n```\r\ndependencies {\r\n    implementation &#39;com.android.support:support-compat:28.0.0&#39;\r\n    implementation &#39;com.github.rubenlagus:TelegramBots:6.7.0&#39;\r\n\r\n}\r\n```\r\nand i got error like this \r\n\r\n\r\n\r\n./gradlew assembleRelease\r\n\r\nStarting a Gradle Daemon, 2 incompatible and 1 stopped Daemons could not be reused, use --status for details\r\n\r\nConfiguration on demand is an incubating feature.\r\n\r\n&gt; Configure project :app\r\n\r\nWARNING:The option setting &#39;android.aapt2FromMavenOverride=/data/data/com.termux/files/usr/share/android-sdk/build-tools/33.0.0/aapt2&#39; is experimental.\r\n\r\n&gt; Task :app:preBuild UP-TO-DATE\r\n\r\n&gt; Task :app:preReleaseBuild UP-TO-DATE\r\n\r\n&gt; Task :app:mergeReleaseJniLibFolders UP-TO-DATE\r\n\r\n&gt; Task :app:mergeReleaseNativeLibs NO-SOURCE\r\n\r\n&gt; Task :app:stripReleaseDebugSymbols NO-SOURCE\r\n\r\n&gt; Task :app:extractReleaseNativeSymbolTables NO-SOURCE\r\n\r\n&gt; Task :app:mergeReleaseNativeDebugMetadata NO-SOURCE\r\n\r\n&gt; Task :app:mergeReleaseArtProfile UP-TO-DATE\r\n\r\n&gt; Task :app:compileReleaseAidl NO-SOURCE\r\n\r\n&gt; Task :app:compileReleaseRenderscript NO-SOURCE\r\n\r\n&gt; Task :app:generateReleaseBuildConfig UP-TO-DATE\r\n\r\n&gt; Task :app:javaPreCompileRelease UP-TO-DATE\r\n\r\n&gt; Task :app:checkReleaseAarMetadata UP-TO-DATE\r\n\r\n&gt; Task :app:checkReleaseDuplicateClasses FAILED\r\n\r\n&gt; Task :app:generateReleaseResValues FROM-CACHE\r\n\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\n\r\nExecution failed for task &#39;:app:checkReleaseDuplicateClasses&#39;.\r\n\r\n&gt; A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable\r\n\r\n   &gt; Duplicate class org.aopalliance.aop.Advice found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.aop.AspectException found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.ConstructorInterceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.ConstructorInvocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.Interceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.Invocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.Joinpoint found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.MethodInterceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.aopalliance.intercept.MethodInvocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\r\n\r\n     Duplicate class org.apache.commons.logging.Log found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\r\n\r\n     Duplicate class org.apache.commons.logging.LogFactory found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\r\n\r\n     Duplicate class org.apache.commons.logging.LogFactory$1 found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\r\n\r\n     Duplicate class org.apache.commons.logging.impl.NoOpLog found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\r\n\r\n     Duplicate class org.apache.commons.logging.impl.SimpleLog found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\r\n\r\n     Duplicate class org.apache.shiro.ShiroException found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.AbstractCacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.Cache found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.CacheException found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.CacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.CacheManagerAware found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.MapCache found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.MemoryConstrainedCacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.cache.package-info found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.Base64 found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.CodecException found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.CodecSupport found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.H64 found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.Hex found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.codec.package-info found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.CommonsInterpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ConfigurationException found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.DefaultInterpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.Ini found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.Ini$1 found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.Ini$Section found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.Interpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder$1 found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder$AssignmentStatement found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder$BeanConfiguration found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\r\n\r\n     Duplicate class org.apache.shiro.config.ReflectionBuilder$InstantiationStatement found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10. 0)\r\n.\r\n.\r\n.\r\n\r\n\r\nDuplicate class org.telegram.telegrambots.util.WebhookUtils found in modules jetified-telegrambots-6.7.0 (com.github.rubenlagus.TelegramBots:telegrambots:6.7.0) and jetified-telegrambots-6.7.0 (org.telegram:telegrambots:6.7.0)\r\n\r\n     Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\r\n\r\n* Try:\r\n\r\n&gt; Run with --stacktrace option to get the stack trace.\r\n\r\n&gt; Run with --info or --debug option to get more log output.\r\n\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nDeprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.\r\n\r\nYou can use &#39;--warning-mode all&#39; to show the individual deprecation warnings and determine if they come from your own scripts or plugins.\r\n\r\nSee https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\r\n\r\nBUILD FAILED in 6s\r\n\r\n\r\n\r\nWhats wrong ?","title":"implementation &#39;com.github.rubenlagus:TelegramBots:6.7.0&#39; Build APK getting Error","body":"<p>I'm Trying build my APK using</p>\n<blockquote>\n<p>implementation 'com.github.rubenlagus:TelegramBots:6.7.0'</p>\n</blockquote>\n<p><strong>this is my dependency</strong></p>\n<pre><code>dependencies {\n    implementation 'com.android.support:support-compat:28.0.0'\n    implementation 'com.github.rubenlagus:TelegramBots:6.7.0'\n\n}\n</code></pre>\n<p>and i got error like this</p>\n<p>./gradlew assembleRelease</p>\n<p>Starting a Gradle Daemon, 2 incompatible and 1 stopped Daemons could not be reused, use --status for details</p>\n<p>Configuration on demand is an incubating feature.</p>\n<blockquote>\n<p>Configure project :app</p>\n</blockquote>\n<p>WARNING:The option setting 'android.aapt2FromMavenOverride=/data/data/com.termux/files/usr/share/android-sdk/build-tools/33.0.0/aapt2' is experimental.</p>\n<blockquote>\n<p>Task :app:preBuild UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:preReleaseBuild UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:mergeReleaseJniLibFolders UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:mergeReleaseNativeLibs NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:stripReleaseDebugSymbols NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:extractReleaseNativeSymbolTables NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:mergeReleaseNativeDebugMetadata NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:mergeReleaseArtProfile UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:compileReleaseAidl NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:compileReleaseRenderscript NO-SOURCE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:generateReleaseBuildConfig UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:javaPreCompileRelease UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:checkReleaseAarMetadata UP-TO-DATE</p>\n</blockquote>\n<blockquote>\n<p>Task :app:checkReleaseDuplicateClasses FAILED</p>\n</blockquote>\n<blockquote>\n<p>Task :app:generateReleaseResValues FROM-CACHE</p>\n</blockquote>\n<p>FAILURE: Build failed with an exception.</p>\n<ul>\n<li>What went wrong:</li>\n</ul>\n<p>Execution failed for task ':app:checkReleaseDuplicateClasses'.</p>\n<blockquote>\n<p>A failure occurred while executing com.android.build.gradle.internal.tasks.CheckDuplicatesRunnable</p>\n</blockquote>\n<blockquote>\n<p>Duplicate class org.aopalliance.aop.Advice found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)</p>\n</blockquote>\n<pre><code> Duplicate class org.aopalliance.aop.AspectException found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.ConstructorInterceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.ConstructorInvocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.Interceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.Invocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.Joinpoint found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.MethodInterceptor found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.aopalliance.intercept.MethodInvocation found in modules jetified-aopalliance-repackaged-2.6.1 (org.glassfish.hk2.external:aopalliance-repackaged:2.6.1) and jetified-spring-aop-5.3.27 (org.springframework:spring-aop:5.3.27)\n\n Duplicate class org.apache.commons.logging.Log found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\n\n Duplicate class org.apache.commons.logging.LogFactory found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\n\n Duplicate class org.apache.commons.logging.LogFactory$1 found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\n\n Duplicate class org.apache.commons.logging.impl.NoOpLog found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\n\n Duplicate class org.apache.commons.logging.impl.SimpleLog found in modules jetified-commons-logging-1.2 (commons-logging:commons-logging:1.2) and jetified-spring-jcl-5.3.27 (org.springframework:spring-jcl:5.3.27)\n\n Duplicate class org.apache.shiro.ShiroException found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.cache.AbstractCacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.Cache found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.CacheException found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.CacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.CacheManagerAware found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.MapCache found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.MemoryConstrainedCacheManager found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.cache.package-info found in modules jetified-shiro-cache-1.10.0 (org.apache.shiro:shiro-cache:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.codec.Base64 found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.codec.CodecException found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.codec.CodecSupport found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.codec.H64 found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.codec.Hex found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.codec.package-info found in modules jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0) and jetified-shiro-lang-1.10.0 (org.apache.shiro:shiro-lang:1.10.0)\n\n Duplicate class org.apache.shiro.config.CommonsInterpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ConfigurationException found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.DefaultInterpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.Ini found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.Ini$1 found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.Ini$Section found in the following modules: jetified-shiro-config-core-1.10.0 (org.apache.shiro:shiro-config-core:1.10.0), jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.Interpolator found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder$1 found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder$AssignmentStatement found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder$BeanConfiguration found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder$BeanConfigurationProcessor found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10.0)\n\n Duplicate class org.apache.shiro.config.ReflectionBuilder$InstantiationStatement found in modules jetified-shiro-config-ogdl-1.10.0 (org.apache.shiro:shiro-config-ogdl:1.10.0) and jetified-shiro-core-1.10.0 (org.apache.shiro:shiro-core:1.10. 0)\n</code></pre>\n<p>.\n.\n.</p>\n<p>Duplicate class org.telegram.telegrambots.util.WebhookUtils found in modules jetified-telegrambots-6.7.0 (com.github.rubenlagus.TelegramBots:telegrambots:6.7.0) and jetified-telegrambots-6.7.0 (org.telegram:telegrambots:6.7.0)</p>\n<pre><code> Go to the documentation to learn how to &lt;a href=&quot;d.android.com/r/tools/classpath-sync-errors&quot;&gt;Fix dependency resolution errors&lt;/a&gt;.\n</code></pre>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --stacktrace option to get the stack trace.</p>\n</blockquote>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.</p>\n</blockquote>\n<blockquote>\n<p>Run with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Get more help at <a href=\"https://help.gradle.org\" rel=\"nofollow noreferrer\">https://help.gradle.org</a></li>\n</ul>\n<p>Deprecated Gradle features were used in this build, making it incompatible with Gradle 8.0.</p>\n<p>You can use '--warning-mode all' to show the individual deprecation warnings and determine if they come from your own scripts or plugins.</p>\n<p>See <a href=\"https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.4.2/userguide/command_line_interface.html#sec:command_line_warnings</a></p>\n<p>BUILD FAILED in 6s</p>\n<p>Whats wrong ?</p>\n"},{"tags":["java","android","retrofit"],"answers":[{"tags":[],"owner":{"account_id":26267089,"reputation":49,"user_id":19937474,"display_name":"viswareddy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690270720,"creation_date":1690270720,"answer_id":76760424,"question_id":76760167,"body_markdown":"Retrieve the user ID from SharedPreferences:\r\n\r\n \r\n\r\n       SharedPreferences sharedPreferences = getSharedPreferences(&quot;YOUR_PREF_NAME&quot;, Context.MODE_PRIVATE);\r\n    String userId = sharedPreferences.getString(&quot;user_id&quot;, &quot;&quot;);\r\n\r\nUpdate your API interface to use @Path instead of @Field for the user ID:\r\n\r\n    @FormUrlEncoded\r\n    @POST(&quot;user.php/**{user_id}**&quot;)\r\n    Call&lt;UpdateUserResponse&gt; sentUserUpdateddata(\r\n            @Field(&quot;first_name&quot;) String first_name,\r\n            @Field(&quot;last_name&quot;) String last_name,\r\n            @Field(&quot;email&quot;) String email,\r\n            @Field(&quot;password&quot;) String password,\r\n            @path(&quot;user_id&quot;) String user_id\r\n    );\r\n\r\nWhen making the API call, pass the retrieved user ID as an argument:\r\n\r\n        Call&lt;UpdateUserResponse&gt; call = yourApiService.sentUserUpdatedData(firstName, lastName, email, password, userId);\r\n    call.enqueue(new Callback&lt;UpdateUserResponse&gt;() {\r\n        // Handle the response\r\n        // ...\r\n    });","title":"How to pass sharedpreferences value with url?","body":"<p>Retrieve the user ID from SharedPreferences:</p>\n<pre><code>   SharedPreferences sharedPreferences = getSharedPreferences(&quot;YOUR_PREF_NAME&quot;, Context.MODE_PRIVATE);\nString userId = sharedPreferences.getString(&quot;user_id&quot;, &quot;&quot;);\n</code></pre>\n<p>Update your API interface to use @Path instead of @Field for the user ID:</p>\n<pre><code>@FormUrlEncoded\n@POST(&quot;user.php/**{user_id}**&quot;)\nCall&lt;UpdateUserResponse&gt; sentUserUpdateddata(\n        @Field(&quot;first_name&quot;) String first_name,\n        @Field(&quot;last_name&quot;) String last_name,\n        @Field(&quot;email&quot;) String email,\n        @Field(&quot;password&quot;) String password,\n        @path(&quot;user_id&quot;) String user_id\n);\n</code></pre>\n<p>When making the API call, pass the retrieved user ID as an argument:</p>\n<pre><code>    Call&lt;UpdateUserResponse&gt; call = yourApiService.sentUserUpdatedData(firstName, lastName, email, password, userId);\ncall.enqueue(new Callback&lt;UpdateUserResponse&gt;() {\n    // Handle the response\n    // ...\n});\n</code></pre>\n"}],"owner":{"account_id":29031748,"reputation":13,"user_id":22238473,"display_name":"Pasindu Hettiarachchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76760424,"answer_count":1,"score":1,"last_activity_date":1690270720,"creation_date":1690268479,"question_id":76760167,"body_markdown":"Hi i want to pass sharedpreferences value (ex:user id saved in shared pref)URL in api interface android or is there any way to do that.i am new to programming \r\n\r\n \r\n```\r\n @FormUrlEncoded\r\n    @POST(&quot;user.php/**{user_id}**&quot;)\r\n    Call&lt;UpdateUserResponse&gt; sentUserUpdateddata(\r\n            @Field(&quot;first_name&quot;) String first_name,\r\n            @Field(&quot;last_name&quot;) String last_name,\r\n            @Field(&quot;email&quot;) String email,\r\n            @Field(&quot;password&quot;) String password,\r\n            @Field(&quot;user_id&quot;) String user_id\r\n    );\r\n```\r\n\r\nI dont have any idea about how to do this","title":"How to pass sharedpreferences value with url?","body":"<p>Hi i want to pass sharedpreferences value (ex:user id saved in shared pref)URL in api interface android or is there any way to do that.i am new to programming</p>\n<pre><code> @FormUrlEncoded\n    @POST(&quot;user.php/**{user_id}**&quot;)\n    Call&lt;UpdateUserResponse&gt; sentUserUpdateddata(\n            @Field(&quot;first_name&quot;) String first_name,\n            @Field(&quot;last_name&quot;) String last_name,\n            @Field(&quot;email&quot;) String email,\n            @Field(&quot;password&quot;) String password,\n            @Field(&quot;user_id&quot;) String user_id\n    );\n</code></pre>\n<p>I dont have any idea about how to do this</p>\n"},{"tags":["java","android","git","github"],"comments":[{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1690270110,"post_id":76759656,"comment_id":135325898,"body_markdown":"Is it related to `git` somehow? Doesn&#39;t look like that.","body":"Is it related to <code>git</code> somehow? Doesn&#39;t look like that."},{"owner":{"account_id":2837108,"reputation":27339,"user_id":2437508,"accept_rate":25,"display_name":"eftshift0"},"score":0,"creation_date":1690270152,"post_id":76759656,"comment_id":135325904,"body_markdown":"...... and, in general, is there a question?","body":"...... and, in general, is there a question?"},{"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"score":0,"creation_date":1690270662,"post_id":76759656,"comment_id":135326000,"body_markdown":"@eftshift0 i ahve edited the question. the problem arises after pushing my code on github. so i think it is somewhat related to github","body":"@eftshift0 i ahve edited the question. the problem arises after pushing my code on github. so i think it is somewhat related to github"}],"owner":{"account_id":13254053,"reputation":4146,"user_id":9570734,"display_name":"Engr.Aftab Ufaq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690270592,"creation_date":1690262471,"question_id":76759656,"body_markdown":"When i try to sync react-native project with gradle or when i tried to build react-native project i am getting these warnings.  \r\n\r\n[this][1] is a question on stakeover flow but it didnt answer my question.  \r\n\r\n    Mapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/02 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/repository2/03 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/03 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\r\n    Mapping new ns http://schemas.android.com/repository/android/common/02 to old ns http://schemas.android.com/repository/android/common/01\r\n    Mapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\r\n    Mapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/66992420/when-i-try-to-sync-project-with-gradle-files-a-warning-pops-up","title":"Warning: Mapping new ns when sync with gradle react-native","body":"<p>When i try to sync react-native project with gradle or when i tried to build react-native project i am getting these warnings.</p>\n<p><a href=\"https://stackoverflow.com/questions/66992420/when-i-try-to-sync-project-with-gradle-files-a-warning-pops-up\">this</a> is a question on stakeover flow but it didnt answer my question.</p>\n<pre><code>Mapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\nMapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/repository2/02 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/repository2/03 to old ns http://schemas.android.com/sdk/android/repo/repository2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/03 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/sys-img2/02 to old ns http://schemas.android.com/sdk/android/repo/sys-img2/01\nMapping new ns http://schemas.android.com/repository/android/common/02 to old ns http://schemas.android.com/repository/android/common/01\nMapping new ns http://schemas.android.com/repository/android/generic/02 to old ns http://schemas.android.com/repository/android/generic/01\nMapping new ns http://schemas.android.com/sdk/android/repo/addon2/02 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\nMapping new ns http://schemas.android.com/sdk/android/repo/addon2/03 to old ns http://schemas.android.com/sdk/android/repo/addon2/01\n</code></pre>\n"},{"tags":["java","hibernate","jpa","hql","jpql"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690270529,"post_id":76760321,"comment_id":135325974,"body_markdown":"You would forget the same if you wouldn&#39;t use a named query. So even with only `@NamedQuery` you would have the same problem.","body":"You would forget the same if you wouldn&#39;t use a named query. So even with only <code>@NamedQuery</code> you would have the same problem."},{"owner":{"account_id":4745435,"reputation":943,"user_id":3836927,"accept_rate":89,"display_name":"Werner de Groot"},"score":0,"creation_date":1690270738,"post_id":76760321,"comment_id":135326018,"body_markdown":"Regarding &quot;So even with only @NamedQuery you would have the same problem.&quot; The issue is that even if you remembered to activate the `@Filter`, the filter will (silently) not be applied when you use `EntityManager.find`. I find that so misleading to be dangerous (to my use case).","body":"Regarding &quot;So even with only @NamedQuery you would have the same problem.&quot; The issue is that even if you remembered to activate the <code>@Filter</code>, the filter will (silently) not be applied when you use <code>EntityManager.find</code>. I find that so misleading to be dangerous (to my use case)."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690270908,"post_id":76760321,"comment_id":135326042,"body_markdown":"But that doesn&#39;t change if you forget to use your `@NamedQuery` and use  `find`. so in both situations nothing will be filtered. But to my knowledge there is no reuse of `@NamedQuery`, the only thing you could do (and which might or might not work) is to pull out the check part and put that into a constant which you append to each query manually. But the risk is the same. The filter could be activated with AOP so you cannot forget it.","body":"But that doesn&#39;t change if you forget to use your <code>@NamedQuery</code> and use  <code>find</code>. so in both situations nothing will be filtered. But to my knowledge there is no reuse of <code>@NamedQuery</code>, the only thing you could do (and which might or might not work) is to pull out the check part and put that into a constant which you append to each query manually. But the risk is the same. The filter could be activated with AOP so you cannot forget it."}],"owner":{"account_id":4745435,"reputation":943,"user_id":3836927,"accept_rate":89,"display_name":"Werner de Groot"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690270452,"creation_date":1690269865,"question_id":76760321,"body_markdown":"I have a somewhat complicated `@NamedQuery` that queries the following entity:\r\n\r\n```\r\n@Entity\r\nclass Employee {\r\n  @Id\r\n  String id;\r\n\r\n  LocalDate dateOfBirth;\r\n\r\n  String companyId;\r\n}\r\n```\r\n\r\nIt includes several joins and a whole bunch of where conditions to check if a user can access that `Employee` (they can access it if they work for the same company, or if the user works for a company that has a contract with the `Employee`&#39;s company, etc.)\r\n\r\nI would like to reuse that query for searches (based on `companyId` or a range of `dateOfBirth`s) and for fetching the `Employee` by its `id`. Is there a way to do that, or do I need to resort to a Criteria query or something similar?\r\n\r\n(I&#39;m using Quarkus with Panache if that makes it easier/harder)\r\n\r\nEdit: I also considered using a `@Filter` annotation on the entity but (from the Hibernate docs):\r\n\r\n&gt; Filters apply to entity queries, but not to direct fetching. Therefore, in the following example, the filter is not taken into consideration when fetching an entity from the Persistence Context.\r\n\r\nOf course I don&#39;t want to accidentally forget the authorization check if I happen to use `EntityManager.find`...","title":"JPA/Hibernate: how to re-use JPQL query","body":"<p>I have a somewhat complicated <code>@NamedQuery</code> that queries the following entity:</p>\n<pre><code>@Entity\nclass Employee {\n  @Id\n  String id;\n\n  LocalDate dateOfBirth;\n\n  String companyId;\n}\n</code></pre>\n<p>It includes several joins and a whole bunch of where conditions to check if a user can access that <code>Employee</code> (they can access it if they work for the same company, or if the user works for a company that has a contract with the <code>Employee</code>'s company, etc.)</p>\n<p>I would like to reuse that query for searches (based on <code>companyId</code> or a range of <code>dateOfBirth</code>s) and for fetching the <code>Employee</code> by its <code>id</code>. Is there a way to do that, or do I need to resort to a Criteria query or something similar?</p>\n<p>(I'm using Quarkus with Panache if that makes it easier/harder)</p>\n<p>Edit: I also considered using a <code>@Filter</code> annotation on the entity but (from the Hibernate docs):</p>\n<blockquote>\n<p>Filters apply to entity queries, but not to direct fetching. Therefore, in the following example, the filter is not taken into consideration when fetching an entity from the Persistence Context.</p>\n</blockquote>\n<p>Of course I don't want to accidentally forget the authorization check if I happen to use <code>EntityManager.find</code>...</p>\n"},{"tags":["java","gradle","ide","neovim"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690270599,"post_id":76760328,"comment_id":135325984,"body_markdown":"The easiest option would be to update your Gradle version...","body":"The easiest option would be to update your Gradle version..."},{"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"score":0,"creation_date":1690271421,"post_id":76760328,"comment_id":135326141,"body_markdown":"Sadly no. New Gradle requires new flyway (among others) requires new MySQL server (among others) etc. As it is only a maintenance project in that case the easiest solution would be not to use NeoVim if it does not work that way.","body":"Sadly no. New Gradle requires new flyway (among others) requires new MySQL server (among others) etc. As it is only a maintenance project in that case the easiest solution would be not to use NeoVim if it does not work that way."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690271601,"post_id":76760328,"comment_id":135326184,"body_markdown":"Perhaps you can extract whatever `jdtls` is doing to an external process, that you can call from Gradle? Gradle 6 isn&#39;t going to run with Java 17, it&#39;s just not [compatible](https://docs.gradle.org/current/userguide/compatibility.html).","body":"Perhaps you can extract whatever <code>jdtls</code> is doing to an external process, that you can call from Gradle? Gradle 6 isn&#39;t going to run with Java 17, it&#39;s just not <a href=\"https://docs.gradle.org/current/userguide/compatibility.html\" rel=\"nofollow noreferrer\">compatible</a>."},{"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"score":0,"creation_date":1690271712,"post_id":76760328,"comment_id":135326210,"body_markdown":"Yes I know. But isn&#39;t that what the runtimes are for? I thought the Java version of jdtls can be different from the one the project is using. Otherwise that would be quite a big limitation.","body":"Yes I know. But isn&#39;t that what the runtimes are for? I thought the Java version of jdtls can be different from the one the project is using. Otherwise that would be quite a big limitation."},{"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"score":0,"creation_date":1690282719,"post_id":76760328,"comment_id":135328540,"body_markdown":"It seems that setting a default runtime (by adding `default = true,`) seems to solve the problem. So I guess that there is some kind of option to set the runtime to be used on a project level (don&#39;t know how) but as I&#39;m missing that setting the default works.","body":"It seems that setting a default runtime (by adding <code>default = true,</code>) seems to solve the problem. So I guess that there is some kind of option to set the runtime to be used on a project level (don&#39;t know how) but as I&#39;m missing that setting the default works."}],"owner":{"account_id":921313,"reputation":2055,"user_id":952968,"accept_rate":75,"display_name":"Werzi2001"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690269910,"creation_date":1690269910,"question_id":76760328,"body_markdown":"I&#39;m trying to use NeoVim for an older Java project that still uses Gradle (Wrapper) 6.8.3. As Gradle 6.8.3 is not compatible with Java 17 but Java 17 is needed to run `jdtls` I get this error in the log:\r\n```\r\nCan&#39;t use Java 17.0.6 and Gradle 6.8.3 to import Gradle project webapp.\r\n```\r\nBecause of that I don&#39;t get auto complete etc.\r\n\r\nI configured another Java runtime like that\r\n```\r\n    settings = {\r\n        java = {\r\n            configuration = {\r\n                runtimes = {\r\n                    {\r\n                        name = &#39;JavaSE-1.8&#39;,\r\n                        path = &#39;/usr/lib/jvm/java-1.8.0/&#39;,\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n```\r\nbut that didn&#39;t have any effect (still the error about Java 17). Do I have to configure somewhere/somehow that this runtime should be used to import the Gradle project?","title":"Use different Java version to import Gradle project in nvim","body":"<p>I'm trying to use NeoVim for an older Java project that still uses Gradle (Wrapper) 6.8.3. As Gradle 6.8.3 is not compatible with Java 17 but Java 17 is needed to run <code>jdtls</code> I get this error in the log:</p>\n<pre><code>Can't use Java 17.0.6 and Gradle 6.8.3 to import Gradle project webapp.\n</code></pre>\n<p>Because of that I don't get auto complete etc.</p>\n<p>I configured another Java runtime like that</p>\n<pre><code>    settings = {\n        java = {\n            configuration = {\n                runtimes = {\n                    {\n                        name = 'JavaSE-1.8',\n                        path = '/usr/lib/jvm/java-1.8.0/',\n                    }\n                }\n            }\n        }\n    },\n</code></pre>\n<p>but that didn't have any effect (still the error about Java 17). Do I have to configure somewhere/somehow that this runtime should be used to import the Gradle project?</p>\n"},{"tags":["java","swing","design-patterns","guice","mvp"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1689543612,"post_id":76700506,"comment_id":135224671,"body_markdown":"This doesn&#39;t make sense to me - isn&#39;t the view suppose to be de-coupled from the presenter?  If so, then creating the presenter inside the view seems like the wrong thing to do - shouldn&#39;t the presenter be either creating it or have it passed to it via dependency injection? Communication between the view and presenter should be handled via an observer pattern - please be kind, I only have a passing knowledge of MVP, as the last project I worked on that had was in the process of removing it due to code bloat","body":"This doesn&#39;t make sense to me - isn&#39;t the view suppose to be de-coupled from the presenter?  If so, then creating the presenter inside the view seems like the wrong thing to do - shouldn&#39;t the presenter be either creating it or have it passed to it via dependency injection? Communication between the view and presenter should be handled via an observer pattern - please be kind, I only have a passing knowledge of MVP, as the last project I worked on that had was in the process of removing it due to code bloat"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1689557090,"post_id":76700506,"comment_id":135225603,"body_markdown":"Generally, with Java Swing, you use a model-view-controller pattern.","body":"Generally, with Java Swing, you use a model-view-controller pattern."},{"owner":{"account_id":1188690,"reputation":6496,"user_id":1162077,"accept_rate":80,"display_name":"David Osborne"},"score":0,"creation_date":1689578224,"post_id":76700506,"comment_id":135227602,"body_markdown":"I agree with @MadProgrammer, the view should be abstract and injected into the presenter via that abstraction. In my experience, that&#39;s usually an interface. This supports, what I believe to be, one of the key advantages of the pattern: testability.","body":"I agree with @MadProgrammer, the view should be abstract and injected into the presenter via that abstraction. In my experience, that&#39;s usually an interface. This supports, what I believe to be, one of the key advantages of the pattern: testability."},{"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"score":0,"creation_date":1689583532,"post_id":76700506,"comment_id":135228612,"body_markdown":"@MadProgrammer In my question I tried to ask how do de-couple the view from the presenter. Please see my updated question.","body":"@MadProgrammer In my question I tried to ask how do de-couple the view from the presenter. Please see my updated question."}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690269761,"creation_date":1690269761,"answer_id":76760312,"question_id":76700506,"body_markdown":"You are indeed manually instantiating the `Presenter` in the `View` and you would ideally want this to be done by [Guice](https://github.com/google/guice) through dependency injection. That is a circular dependency issue because `Presenter` depends on `View` and... `View` depends on `Presenter`.\r\n\r\nThe simplest solution is to use a [method called &#39;injecting providers&#39;](https://github.com/google/guice/wiki/InjectingProviders). In Guice, providers are simple interfaces that provide instances of a type `T`. You can leverage this to decouple the view and presenter creation logic.\r\n\r\n`View`: (using [provider binding](https://github.com/google/guice/wiki/ProviderBindings))\r\n\r\n``` java\r\npublic class View {\r\n\r\n    private final Provider&lt;Presenter&gt; presenterProvider;\r\n    private Presenter presenter;\r\n\r\n    private JLabel statusLabel;\r\n    private JTextField inputField;\r\n\r\n    @Inject\r\n    public View(Provider&lt;Presenter&gt; presenterProvider) {\r\n        this.presenterProvider = presenterProvider;\r\n    }\r\n\r\n    // Lazy initialization of Presenter.\r\n    private Presenter getPresenter() {\r\n        if (presenter == null) {\r\n            presenter = presenterProvider.get();\r\n        }\r\n        return presenter;\r\n    }\r\n\r\n    public void createUI() {\r\n        // Here you should use getPresenter() instead of presenter\r\n        // removed\r\n    }\r\n\r\n    //called by the presenter to update the status label\r\n    public void updateStatusLabel(final String text) {\r\n        statusLabel.setText(text);\r\n    }\r\n}\r\n```\r\n\r\n\r\n`Presenter`:\r\n\r\n``` java\r\n@RequiredArgsConstructor(onConstructor = @__(@Inject))\r\npublic class Presenter {\r\n\r\n    private final View view;\r\n    private final Model model;\r\n\r\n    public void login(final String password) {\r\n\r\n        final String result = model.getPassword().equals(password)\r\n                ? &quot;Correct password&quot; : &quot;Incorrect password&quot;;\r\n\r\n        view.updateStatusLabel(result);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThen you will need to bind these dependencies in Guice&#39;s module:\r\n\r\n``` java\r\npublic class ApplicationModule extends AbstractModule {\r\n    @Override\r\n    protected void configure() {\r\n        bind(View.class).in(Singleton.class);\r\n        bind(Presenter.class);\r\n        bind(Model.class);\r\n    }\r\n}\r\n```\r\n\r\nAnd then finally, your `main` class should use this module:\r\n\r\n``` java\r\npublic class Main {\r\n\r\n    private final View view;\r\n\r\n    @Inject\r\n    public Main(View view) {\r\n        this.view = view;\r\n    }\r\n\r\n    public static void main(final String[] args) {\r\n        Injector injector = Guice.createInjector(new ApplicationModule());\r\n        final Main main = injector.getInstance(Main.class);\r\n\r\n        SwingUtilities.invokeLater(main.view::createUI);\r\n    }\r\n}\r\n```\r\n\r\n\r\nThat setup will make sure that `Presenter` is injected into `View` lazily (on the first call of `getPresenter()`), breaking the circular dependency.\r\n\r\nIt uses [Just-In-Time Bindings](https://github.com/google/guice/wiki/JustInTimeBindings): These are the bindings that you have not explicitly defined in your module, but Guice can still inject them because it knows how to build them.  \r\nWhen you are injecting `View` into `Main` and `Presenter` into `View` using a `Provider`, you are not creating explicit bindings for them in the `ApplicationModule`. But Guice can still make these injections because it can build `View` and `Presenter` using their injectable constructors (i.e., constructors that are annotated with `@Inject`), effectively performing just-in-time bindings. ","title":"Guice and MVP pattern: decouple the view from the presenter","body":"<p>You are indeed manually instantiating the <code>Presenter</code> in the <code>View</code> and you would ideally want this to be done by <a href=\"https://github.com/google/guice\" rel=\"nofollow noreferrer\">Guice</a> through dependency injection. That is a circular dependency issue because <code>Presenter</code> depends on <code>View</code> and... <code>View</code> depends on <code>Presenter</code>.</p>\n<p>The simplest solution is to use a <a href=\"https://github.com/google/guice/wiki/InjectingProviders\" rel=\"nofollow noreferrer\">method called 'injecting providers'</a>. In Guice, providers are simple interfaces that provide instances of a type <code>T</code>. You can leverage this to decouple the view and presenter creation logic.</p>\n<p><code>View</code>: (using <a href=\"https://github.com/google/guice/wiki/ProviderBindings\" rel=\"nofollow noreferrer\">provider binding</a>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class View {\n\n    private final Provider&lt;Presenter&gt; presenterProvider;\n    private Presenter presenter;\n\n    private JLabel statusLabel;\n    private JTextField inputField;\n\n    @Inject\n    public View(Provider&lt;Presenter&gt; presenterProvider) {\n        this.presenterProvider = presenterProvider;\n    }\n\n    // Lazy initialization of Presenter.\n    private Presenter getPresenter() {\n        if (presenter == null) {\n            presenter = presenterProvider.get();\n        }\n        return presenter;\n    }\n\n    public void createUI() {\n        // Here you should use getPresenter() instead of presenter\n        // removed\n    }\n\n    //called by the presenter to update the status label\n    public void updateStatusLabel(final String text) {\n        statusLabel.setText(text);\n    }\n}\n</code></pre>\n<p><code>Presenter</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\npublic class Presenter {\n\n    private final View view;\n    private final Model model;\n\n    public void login(final String password) {\n\n        final String result = model.getPassword().equals(password)\n                ? &quot;Correct password&quot; : &quot;Incorrect password&quot;;\n\n        view.updateStatusLabel(result);\n    }\n}\n</code></pre>\n<p>Then you will need to bind these dependencies in Guice's module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ApplicationModule extends AbstractModule {\n    @Override\n    protected void configure() {\n        bind(View.class).in(Singleton.class);\n        bind(Presenter.class);\n        bind(Model.class);\n    }\n}\n</code></pre>\n<p>And then finally, your <code>main</code> class should use this module:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n\n    private final View view;\n\n    @Inject\n    public Main(View view) {\n        this.view = view;\n    }\n\n    public static void main(final String[] args) {\n        Injector injector = Guice.createInjector(new ApplicationModule());\n        final Main main = injector.getInstance(Main.class);\n\n        SwingUtilities.invokeLater(main.view::createUI);\n    }\n}\n</code></pre>\n<p>That setup will make sure that <code>Presenter</code> is injected into <code>View</code> lazily (on the first call of <code>getPresenter()</code>), breaking the circular dependency.</p>\n<p>It uses <a href=\"https://github.com/google/guice/wiki/JustInTimeBindings\" rel=\"nofollow noreferrer\">Just-In-Time Bindings</a>: These are the bindings that you have not explicitly defined in your module, but Guice can still inject them because it knows how to build them.<br />\nWhen you are injecting <code>View</code> into <code>Main</code> and <code>Presenter</code> into <code>View</code> using a <code>Provider</code>, you are not creating explicit bindings for them in the <code>ApplicationModule</code>. But Guice can still make these injections because it can build <code>View</code> and <code>Presenter</code> using their injectable constructors (i.e., constructors that are annotated with <code>@Inject</code>), effectively performing just-in-time bindings.</p>\n"}],"owner":{"account_id":3142733,"reputation":616,"user_id":2657875,"accept_rate":77,"display_name":"menteith"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76760312,"answer_count":1,"score":2,"last_activity_date":1690269761,"creation_date":1689543236,"question_id":76700506,"body_markdown":"I&#39;m writing an application in Swing and I&#39;d like to make use of Model–view–presenter pattern. I found a sample application using this pattern and then I alter it to make use of Guice to do dependency injection. I was able to make it work with albeit with one problematic piece of code. Let me first show my code and later on the piece of code I find problematic.\r\n\r\n`Application starting point`:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n    public class Main {\r\n    \r\n        private final View view;\r\n    \r\n        public static void main(final String[] args) {\r\n    \r\n            final Main main = Guice.createInjector().getInstance(Main.class);\r\n    \r\n            SwingUtilities.invokeLater(main.view::createUI);\r\n        }\r\n    }\r\n\r\n`Model`:\r\n\r\n    public class Model {\r\n    \r\n        public String getPassword() {\r\n            return &quot;password&quot;;\r\n        }\r\n    }\r\n\r\n\r\n`Presenter`:\r\n\r\n    @RequiredArgsConstructor(onConstructor = @__(@Inject))\r\n    public class Presenter {\r\n    \r\n        private final View view;\r\n        private final Model model;\r\n    \r\n        public void login(final String password) {\r\n    \r\n            final String result = model.getPassword().equals(password)\r\n                    ? &quot;Correct password&quot; : &quot;Incorrect password&quot;;\r\n    \r\n            view.updateStatusLabel(result);\r\n        }\r\n    }\r\n\r\nUntil this point everything seems to be fine.\r\n\r\nThe problem is in the `View` constructor. I manually create instance of `Presenter` using `this` (due to some coupling involved in MVP pattern) instead of letting `Guice` does it job.\r\n\r\n**EDIT**\r\n\r\n**How do I overcome this problem? As per comments,I find this code incorrect and I&#39;d like to rewrite it so that the view could be injected into the presenter via dependency injection.**\r\n\r\n`Guice` has this somewhat covered how to do this in  its documentation, however, I find it really difficult to understand the docs.\r\n\r\n    public class View {\r\n    \r\n        private final Presenter presenter;\r\n    \r\n        private JLabel statusLabel;\r\n        private JTextField inputField;\r\n    \r\n        public View() {\r\n            // manually adding this, should be DI\r\n            this.presenter = new Presenter(this, new Model());\r\n        }\r\n    \r\n    \r\n        public void createUI() {\r\n            // removed\r\n        }\r\n    \r\n        //called by the presenter to update the status label\r\n        public void updateStatusLabel(final String text) {\r\n            statusLabel.setText(text);\r\n        }\r\n    }","title":"Guice and MVP pattern: decouple the view from the presenter","body":"<p>I'm writing an application in Swing and I'd like to make use of Model–view–presenter pattern. I found a sample application using this pattern and then I alter it to make use of Guice to do dependency injection. I was able to make it work with albeit with one problematic piece of code. Let me first show my code and later on the piece of code I find problematic.</p>\n<p><code>Application starting point</code>:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\npublic class Main {\n\n    private final View view;\n\n    public static void main(final String[] args) {\n\n        final Main main = Guice.createInjector().getInstance(Main.class);\n\n        SwingUtilities.invokeLater(main.view::createUI);\n    }\n}\n</code></pre>\n<p><code>Model</code>:</p>\n<pre><code>public class Model {\n\n    public String getPassword() {\n        return &quot;password&quot;;\n    }\n}\n</code></pre>\n<p><code>Presenter</code>:</p>\n<pre><code>@RequiredArgsConstructor(onConstructor = @__(@Inject))\npublic class Presenter {\n\n    private final View view;\n    private final Model model;\n\n    public void login(final String password) {\n\n        final String result = model.getPassword().equals(password)\n                ? &quot;Correct password&quot; : &quot;Incorrect password&quot;;\n\n        view.updateStatusLabel(result);\n    }\n}\n</code></pre>\n<p>Until this point everything seems to be fine.</p>\n<p>The problem is in the <code>View</code> constructor. I manually create instance of <code>Presenter</code> using <code>this</code> (due to some coupling involved in MVP pattern) instead of letting <code>Guice</code> does it job.</p>\n<p><strong>EDIT</strong></p>\n<p><strong>How do I overcome this problem? As per comments,I find this code incorrect and I'd like to rewrite it so that the view could be injected into the presenter via dependency injection.</strong></p>\n<p><code>Guice</code> has this somewhat covered how to do this in  its documentation, however, I find it really difficult to understand the docs.</p>\n<pre><code>public class View {\n\n    private final Presenter presenter;\n\n    private JLabel statusLabel;\n    private JTextField inputField;\n\n    public View() {\n        // manually adding this, should be DI\n        this.presenter = new Presenter(this, new Model());\n    }\n\n\n    public void createUI() {\n        // removed\n    }\n\n    //called by the presenter to update the status label\n    public void updateStatusLabel(final String text) {\n        statusLabel.setText(text);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","material-components-android","android-chips"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602308951,"creation_date":1602308951,"answer_id":64290420,"question_id":64289851,"body_markdown":"You can use the the method: [`chipGroup.check(id)`][1]. It works with the `id` of the chip to select.\r\n\r\nYou can use: \r\n\r\n    chipGroup.check(chip.getId());\r\n\r\nor if you don&#39;t have the id\r\n\r\n    chipGroup.check(chipGroup.getChildAt(0).getId());\r\n\r\n\r\n  [1]: https://developer.android.com/reference/com/google/android/material/chip/ChipGroup#check","title":"How to Select first chip as default progrmatically in Android Java?","body":"<p>You can use the the method: <a href=\"https://developer.android.com/reference/com/google/android/material/chip/ChipGroup#check\" rel=\"nofollow noreferrer\"><code>chipGroup.check(id)</code></a>. It works with the <code>id</code> of the chip to select.</p>\n<p>You can use:</p>\n<pre><code>chipGroup.check(chip.getId());\n</code></pre>\n<p>or if you don't have the id</p>\n<pre><code>chipGroup.check(chipGroup.getChildAt(0).getId());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12409382,"reputation":141,"user_id":9042411,"display_name":"Abdul Basit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690269676,"creation_date":1690269676,"answer_id":76760304,"question_id":64289851,"body_markdown":"you can simply use \r\n\r\n\r\n  \r\n\r\n   \r\n\r\n     val firstChipId = chipGroup.getChildAt(0)?.id ?: View.NO_ID      \r\n        chipGroup.check(firstChipId) ","title":"How to Select first chip as default progrmatically in Android Java?","body":"<p>you can simply use</p>\n<pre><code> val firstChipId = chipGroup.getChildAt(0)?.id ?: View.NO_ID      \n    chipGroup.check(firstChipId) \n</code></pre>\n"}],"owner":{"account_id":19506627,"reputation":47,"user_id":14271508,"display_name":"Darshil Shah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690269676,"creation_date":1602302667,"question_id":64289851,"body_markdown":"I have defined my chipgroup in my XML and adding chips programtically as below:\r\n\r\n  \r\n\r\n    chip_group_filter.removeAllViews();\r\n            for(FilterModel filterModel : Common.categorySelected.getFilters()){\r\n                Chip chip = (Chip) getLayoutInflater().inflate(R.layout.layout_filter_item, null);\r\n                chip.setText(new StringBuilder(filterModel.getName()));\r\n                chip.setCheckedIconVisible(false);\r\n                chip_group_filter.addView(chip);\r\n                chip.setChipBackgroundColorResource(R.color.lightGray);\r\n                chip.setTextColor(getResources().getColor(android.R.color.black));\r\n                chip.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                    @Override\r\n                    public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\r\n                        if (isChecked) {\r\n                            seeSelectedChip(chip);\r\n                            serviceListViewModel.loadServicesByFilter(chip.getText().toString());\r\n                        }\r\n                    }\r\n                });\r\n\r\nI want to select first chip as default chip and want to execute checkChangedListener event for the same. How to write that logic?\r\n\r\n","title":"How to Select first chip as default progrmatically in Android Java?","body":"<p>I have defined my chipgroup in my XML and adding chips programtically as below:</p>\n<pre><code>chip_group_filter.removeAllViews();\n        for(FilterModel filterModel : Common.categorySelected.getFilters()){\n            Chip chip = (Chip) getLayoutInflater().inflate(R.layout.layout_filter_item, null);\n            chip.setText(new StringBuilder(filterModel.getName()));\n            chip.setCheckedIconVisible(false);\n            chip_group_filter.addView(chip);\n            chip.setChipBackgroundColorResource(R.color.lightGray);\n            chip.setTextColor(getResources().getColor(android.R.color.black));\n            chip.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n                @Override\n                public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {\n                    if (isChecked) {\n                        seeSelectedChip(chip);\n                        serviceListViewModel.loadServicesByFilter(chip.getText().toString());\n                    }\n                }\n            });\n</code></pre>\n<p>I want to select first chip as default chip and want to execute checkChangedListener event for the same. How to write that logic?</p>\n"},{"tags":["java","android","callblocking"],"owner":{"account_id":20664931,"reputation":11,"user_id":15172031,"display_name":"curious07"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690269434,"creation_date":1690102706,"question_id":76747400,"body_markdown":"I am trying to develop an application which would add 1800+ numbers to the phone and mark them as blocked.\r\n\r\nThese are spam calls and few scam calls that we as a group received and would like to share this app within our group to not receive the calls.\r\n\r\nAny help is much appreciated.\r\n\r\n\r\n\r\nI am able to add the contacts from a file to the contacts app but not able to mark them as blocked.\r\n\r\nBelow is the code snippet for adding the contacts\r\n\r\n\r\n```\r\n\r\n\r\nimport android.Manifest;\r\nimport android.content.ContentProviderOperation;\r\nimport android.content.ContentValues;\r\nimport android.content.pm.PackageManager;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\nimport android.provider.BlockedNumberContract;\r\nimport android.provider.ContactsContract;\r\nimport android.util.Log;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.core.content.ContextCompat;\r\n\r\nimport java.io.BufferedReader;\r\nimport java.io.IOException;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\nimport java.util.ArrayList;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final int READ_CONTACTS_PERMISSION_REQUEST = 1;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Request READ_CONTACTS and WRITE_CONTACTS permissions if not granted\r\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS)\r\n                != PackageManager.PERMISSION_GRANTED ||\r\n                ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_CONTACTS)\r\n                        != PackageManager.PERMISSION_GRANTED) {\r\n            ActivityCompat.requestPermissions(this,\r\n                    new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.WRITE_CONTACTS},\r\n                    READ_CONTACTS_PERMISSION_REQUEST);\r\n        } else {\r\n            addBlockedNumbersToContacts();\r\n        }\r\n    }\r\n\r\n    private void addBlockedNumbersToContacts() {\r\n        try {\r\n            InputStream inputStream = getAssets().open(&quot;numbers.txt&quot;);\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\r\n\r\n            ArrayList&lt;String&gt; blockedNumbers = new ArrayList&lt;&gt;();\r\n            String line;\r\n            while ((line = reader.readLine()) != null) {\r\n                String normalizedNumber = line.trim();\r\n                if (!normalizedNumber.isEmpty()) {\r\n                    blockedNumbers.add(normalizedNumber);\r\n                }\r\n            }\r\n\r\n            reader.close();\r\n\r\n            for (String number : blockedNumbers) {\r\n                // Add the number to contacts with a custom label &quot;Blocked&quot;\r\n                addNumberToContacts(number, &quot;Blocked&quot;);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void addNumberToContacts(String phoneNumber, String label) {\r\n        // Prepare the contact values\r\n        ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;&gt;();\r\n        int rawContactInsertIndex = ops.size();\r\n\r\n        ops.add(ContentProviderOperation.newInsert(ContactsContract.RawContacts.CONTENT_URI)\r\n                .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)\r\n                .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)\r\n                .build());\r\n\r\n        // Add the phone number to the contact data with the custom label\r\n        ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\r\n                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, rawContactInsertIndex)\r\n                .withValue(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)\r\n                .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, phoneNumber)\r\n                .withValue(ContactsContract.CommonDataKinds.Phone.TYPE, ContactsContract.CommonDataKinds.Phone.TYPE_CUSTOM)\r\n                .withValue(ContactsContract.CommonDataKinds.Phone.LABEL, label)\r\n                .build());\r\n\r\n\r\n        try {\r\n            getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\r\n            Log.d(&quot;Contact&quot;, &quot;Number added to contacts: &quot; + phoneNumber);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\r\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\r\n        if (requestCode == READ_CONTACTS_PERMISSION_REQUEST) {\r\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\r\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\r\n                addBlockedNumbersToContacts();\r\n            } else {\r\n               \r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n\r\n```\r\nNow how do I mark the numbers as blocked ?","title":"Programmatically add a list of numbers to phone and mark them as blocked","body":"<p>I am trying to develop an application which would add 1800+ numbers to the phone and mark them as blocked.</p>\n<p>These are spam calls and few scam calls that we as a group received and would like to share this app within our group to not receive the calls.</p>\n<p>Any help is much appreciated.</p>\n<p>I am able to add the contacts from a file to the contacts app but not able to mark them as blocked.</p>\n<p>Below is the code snippet for adding the contacts</p>\n<pre><code>\n\nimport android.Manifest;\nimport android.content.ContentProviderOperation;\nimport android.content.ContentValues;\nimport android.content.pm.PackageManager;\nimport android.net.Uri;\nimport android.os.Bundle;\nimport android.provider.BlockedNumberContract;\nimport android.provider.ContactsContract;\nimport android.util.Log;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.core.app.ActivityCompat;\nimport androidx.core.content.ContextCompat;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.util.ArrayList;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final int READ_CONTACTS_PERMISSION_REQUEST = 1;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Request READ_CONTACTS and WRITE_CONTACTS permissions if not granted\n        if (ContextCompat.checkSelfPermission(this, Manifest.permission.READ_CONTACTS)\n                != PackageManager.PERMISSION_GRANTED ||\n                ContextCompat.checkSelfPermission(this, Manifest.permission.WRITE_CONTACTS)\n                        != PackageManager.PERMISSION_GRANTED) {\n            ActivityCompat.requestPermissions(this,\n                    new String[]{Manifest.permission.READ_CONTACTS, Manifest.permission.WRITE_CONTACTS},\n                    READ_CONTACTS_PERMISSION_REQUEST);\n        } else {\n            addBlockedNumbersToContacts();\n        }\n    }\n\n    private void addBlockedNumbersToContacts() {\n        try {\n            InputStream inputStream = getAssets().open(&quot;numbers.txt&quot;);\n            BufferedReader reader = new BufferedReader(new InputStreamReader(inputStream));\n\n            ArrayList&lt;String&gt; blockedNumbers = new ArrayList&lt;&gt;();\n            String line;\n            while ((line = reader.readLine()) != null) {\n                String normalizedNumber = line.trim();\n                if (!normalizedNumber.isEmpty()) {\n                    blockedNumbers.add(normalizedNumber);\n                }\n            }\n\n            reader.close();\n\n            for (String number : blockedNumbers) {\n                // Add the number to contacts with a custom label &quot;Blocked&quot;\n                addNumberToContacts(number, &quot;Blocked&quot;);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void addNumberToContacts(String phoneNumber, String label) {\n        // Prepare the contact values\n        ArrayList&lt;ContentProviderOperation&gt; ops = new ArrayList&lt;&gt;();\n        int rawContactInsertIndex = ops.size();\n\n        ops.add(ContentProviderOperation.newInsert(ContactsContract.RawContacts.CONTENT_URI)\n                .withValue(ContactsContract.RawContacts.ACCOUNT_TYPE, null)\n                .withValue(ContactsContract.RawContacts.ACCOUNT_NAME, null)\n                .build());\n\n        // Add the phone number to the contact data with the custom label\n        ops.add(ContentProviderOperation.newInsert(ContactsContract.Data.CONTENT_URI)\n                .withValueBackReference(ContactsContract.Data.RAW_CONTACT_ID, rawContactInsertIndex)\n                .withValue(ContactsContract.Data.MIMETYPE, ContactsContract.CommonDataKinds.Phone.CONTENT_ITEM_TYPE)\n                .withValue(ContactsContract.CommonDataKinds.Phone.NUMBER, phoneNumber)\n                .withValue(ContactsContract.CommonDataKinds.Phone.TYPE, ContactsContract.CommonDataKinds.Phone.TYPE_CUSTOM)\n                .withValue(ContactsContract.CommonDataKinds.Phone.LABEL, label)\n                .build());\n\n\n        try {\n            getContentResolver().applyBatch(ContactsContract.AUTHORITY, ops);\n            Log.d(&quot;Contact&quot;, &quot;Number added to contacts: &quot; + phoneNumber);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onRequestPermissionsResult(int requestCode, @NonNull String[] permissions, @NonNull int[] grantResults) {\n        super.onRequestPermissionsResult(requestCode, permissions, grantResults);\n        if (requestCode == READ_CONTACTS_PERMISSION_REQUEST) {\n            if (grantResults.length &gt; 0 &amp;&amp; grantResults[0] == PackageManager.PERMISSION_GRANTED\n                    &amp;&amp; grantResults[1] == PackageManager.PERMISSION_GRANTED) {\n                addBlockedNumbersToContacts();\n            } else {\n               \n            }\n        }\n    }\n}\n\n\n</code></pre>\n<p>Now how do I mark the numbers as blocked ?</p>\n"},{"tags":["java","intellij-idea","java-8"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":0,"creation_date":1690186884,"post_id":76742990,"comment_id":135312900,"body_markdown":"Try do download the JDK right from the IDE. Go to `File | Project Structure | SDKs` Click `+ | Download JDK` After downloading was finished setup this JDK under `File | Project Structure | Project` and click OK. Wait for the indexing to be completed and try to navigate","body":"Try do download the JDK right from the IDE. Go to <code>File | Project Structure | SDKs</code> Click <code>+ | Download JDK</code> After downloading was finished setup this JDK under <code>File | Project Structure | Project</code> and click OK. Wait for the indexing to be completed and try to navigate"}],"answers":[{"tags":[],"owner":{"account_id":8247406,"reputation":129,"user_id":6203077,"display_name":"Vin Qin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690269228,"creation_date":1690256001,"answer_id":76759282,"question_id":76742990,"body_markdown":"I fixed it by installing jdk8 in WSL2.0\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MryB9.png","title":"Intellij IDEA 2021.2.2 (Ultimate Edition) cannot read jdk8 source","body":"<p>I fixed it by installing jdk8 in WSL2.0</p>\n<p><a href=\"https://i.stack.imgur.com/MryB9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MryB9.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8247406,"reputation":129,"user_id":6203077,"display_name":"Vin Qin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690269228,"creation_date":1690015767,"question_id":76742990,"body_markdown":"1. IDEA version:\\\r\n[![enter image description here][1]][1]\r\n\r\n\r\n2. OS version:\\\r\nWindows 10 19045.3208\r\n\r\n3. Problems:\\\r\nIdea decompiles the class automatically instead of reading the source when I ctrl + click the String.java\\\r\n[![enter image description here][2]][2]\r\n\r\n\r\n4. Idea setting:\\\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PgZUO.png\r\n  [2]: https://i.stack.imgur.com/958uN.png\r\n  [3]: https://i.stack.imgur.com/8lL2z.png","title":"Intellij IDEA 2021.2.2 (Ultimate Edition) cannot read jdk8 source","body":"<ol>\n<li><p>IDEA version:<br />\n<a href=\"https://i.stack.imgur.com/PgZUO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PgZUO.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>OS version:<br />\nWindows 10 19045.3208</p>\n</li>\n<li><p>Problems:<br />\nIdea decompiles the class automatically instead of reading the source when I ctrl + click the String.java<br />\n<a href=\"https://i.stack.imgur.com/958uN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/958uN.png\" alt=\"enter image description here\" /></a></p>\n</li>\n<li><p>Idea setting:<br />\n<a href=\"https://i.stack.imgur.com/8lL2z.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8lL2z.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n"},{"tags":["java","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690269334,"post_id":76760246,"comment_id":135325730,"body_markdown":"You need to mock y","body":"You need to mock y"},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":1,"creation_date":1690269410,"post_id":76760246,"comment_id":135325746,"body_markdown":"If `y` is created in the class `Foo` using `new` operator, you stop doing that and pass it in the constructor instead. It&#39;s called &quot;dependency injection&quot;. Google the words in the quotes to know more.","body":"If <code>y</code> is created in the class <code>Foo</code> using <code>new</code> operator, you stop doing that and pass it in the constructor instead. It&#39;s called &quot;dependency injection&quot;. Google the words in the quotes to know more."},{"owner":{"account_id":11324157,"reputation":41,"user_id":12067644,"display_name":"dan k"},"score":0,"creation_date":1690269619,"post_id":76760246,"comment_id":135325788,"body_markdown":"y is a private field in Foo class and do not being created by new keyword.","body":"y is a private field in Foo class and do not being created by new keyword."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690270168,"post_id":76760246,"comment_id":135325910,"body_markdown":"@dank Then the suggested solution still applies. Pass your `y` as a parameter in your `Foo` constructor, so you can pass in a mock during test, then have `y.callExternalMethod()` return your `Ent` mock.","body":"@dank Then the suggested solution still applies. Pass your <code>y</code> as a parameter in your <code>Foo</code> constructor, so you can pass in a mock during test, then have <code>y.callExternalMethod()</code> return your <code>Ent</code> mock."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690273116,"post_id":76760246,"comment_id":135326506,"body_markdown":"You need to show more of your code: where does y come from?","body":"You need to show more of your code: where does y come from?"},{"owner":{"account_id":11324157,"reputation":41,"user_id":12067644,"display_name":"dan k"},"score":0,"creation_date":1690283579,"post_id":76760246,"comment_id":135328706,"body_markdown":"i finally did it: created y object as a spy, then added Mockito.doReturn(neededValue).when(y).callExternalMethod. Thanks for attempts to help)","body":"i finally did it: created y object as a spy, then added Mockito.doReturn(neededValue).when(y).callExternalMethod. Thanks for attempts to help)"},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":1,"creation_date":1690315198,"post_id":76760246,"comment_id":135335658,"body_markdown":"`@Mock Ent ent = new Ent(someData);` is redundant. You can either assign a value or you can use the `@Mock` annotation. You cannot do both and it will confuse `@InjectMocks`; also see [Why are my mocked methods not called when executing a unit test?](https://stackoverflow.com/q/74027324/112968) for more insights and a several solutions how to implement &quot;dependency injection&quot;. (I&#39;m not VTC as dupe, because this question is different, but still very similar (or is it?))","body":"<code>@Mock Ent ent = new Ent(someData);</code> is redundant. You can either assign a value or you can use the <code>@Mock</code> annotation. You cannot do both and it will confuse <code>@InjectMocks</code>; also see <a href=\"https://stackoverflow.com/q/74027324/112968\">Why are my mocked methods not called when executing a unit test?</a> for more insights and a several solutions how to implement &quot;dependency injection&quot;. (I&#39;m not VTC as dupe, because this question is different, but still very similar (or is it?))"}],"owner":{"account_id":11324157,"reputation":41,"user_id":12067644,"display_name":"dan k"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690269206,"creation_date":1690269206,"question_id":76760246,"body_markdown":"For example, i have such class:\r\n\r\n  \r\n\r\n \r\n\r\n             class Foo {\r\n              public String xMethod() {\r\n                  Ent ent = y.callExternalMethod();\r\n                  if(ent.equals(&quot;&quot;)){\r\n                  ...\r\n                  }\r\n                   ...\r\n              }\r\n\r\nAnd a test class:\r\n\r\n    class FooTest {\r\n       \r\n    @Mock\r\n    Ent ent = new Ent(someData);\r\n    \r\n    @InjectMocks\r\n    Foo f;\r\n    \r\n    public void checkFooWithMock() {\r\n      ...\r\n    }\r\n    }\r\n\r\nI need to use mocked ent instance in this case, how can i do that?\r\n\r\n","title":"Is there any way in Mockito to use mock object that not being called directly?","body":"<p>For example, i have such class:</p>\n<pre><code>         class Foo {\n          public String xMethod() {\n              Ent ent = y.callExternalMethod();\n              if(ent.equals(&quot;&quot;)){\n              ...\n              }\n               ...\n          }\n</code></pre>\n<p>And a test class:</p>\n<pre><code>class FooTest {\n   \n@Mock\nEnt ent = new Ent(someData);\n\n@InjectMocks\nFoo f;\n\npublic void checkFooWithMock() {\n  ...\n}\n}\n</code></pre>\n<p>I need to use mocked ent instance in this case, how can i do that?</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1690251626,"post_id":76758145,"comment_id":135323900,"body_markdown":"Do you have both of these `FilterChain` beans defined simultaneously?  That certainly won&#39;t work, and to be honest, I&#39;m surprised Spring didn&#39;t toss an exception.  What I believe you&#39;re trying to accomplish is different behavior for a user based on their login, this is usually controlled through roles and privileges.","body":"Do you have both of these <code>FilterChain</code> beans defined simultaneously?  That certainly won&#39;t work, and to be honest, I&#39;m surprised Spring didn&#39;t toss an exception.  What I believe you&#39;re trying to accomplish is different behavior for a user based on their login, this is usually controlled through roles and privileges."},{"owner":{"account_id":27301847,"reputation":11,"user_id":20818449,"display_name":"ResulAksu"},"score":0,"creation_date":1690273396,"post_id":76758145,"comment_id":135326564,"body_markdown":"Ah should i define different Roles for each User-Group ?","body":"Ah should i define different Roles for each User-Group ?"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1690294248,"post_id":76758145,"comment_id":135331327,"body_markdown":"yeah, have a single login page and define roles for your users that control what actions the users can take once they&#39;ve logged in.","body":"yeah, have a single login page and define roles for your users that control what actions the users can take once they&#39;ve logged in."}],"owner":{"account_id":27301847,"reputation":11,"user_id":20818449,"display_name":"ResulAksu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690268968,"creation_date":1690234370,"question_id":76758145,"body_markdown":"**When I try to login in the second formLogin() i get &#39;POST&#39; not supported but not in the first.**\r\n\r\nthis is my code\r\ncan you merge the two or is any other way to do it?\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    private final AppUserService trainerAppUserService;\r\n    private final AppUserService vereinAppUserService;\r\n\r\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\r\n\r\n    public WebSecurityConfig(\r\n            @Qualifier(&quot;trainer&quot;) AppUserService trainerAppUserService,\r\n            @Qualifier(&quot;verein&quot;) AppUserService vereinAppUserService, BCryptPasswordEncoder bCryptPasswordEncoder) {\r\n        this.trainerAppUserService = trainerAppUserService;\r\n        this.vereinAppUserService = vereinAppUserService;\r\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n        authenticationManagerBuilder.authenticationProvider(vereinDaoAuthenticationProvider());\r\n\r\n\r\n        http.csrf()\r\n                .disable()\r\n                .httpBasic()\r\n                .disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/Verein/**/*.*&quot;).authenticated() // Zugriff auf /Verein/Homepage nur f&#252;r authentifizierte Benutzer erlauben\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .formLogin()\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .loginPage(&quot;/Verein/LogIn&quot;)\r\n                .loginProcessingUrl(&quot;/Verein/LogIn&quot;)\r\n                .successHandler((request, response, authentication) -&gt; response.sendRedirect(&quot;/Verein/Homepage&quot;))\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/Verein/LogOut&quot;)\r\n                .logoutSuccessUrl(&quot;/Verein/LogIn&quot;)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n\r\n    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\r\n\r\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\r\n\r\n        authenticationManagerBuilder.authenticationProvider(trainerDaoAuthenticationProvider());\r\n\r\n\r\n        http.csrf()\r\n                .disable()\r\n                .httpBasic()\r\n                .disable()\r\n                .authorizeRequests()\r\n                .antMatchers(&quot;/Trainer/**/*.*&quot;).authenticated()\r\n                .anyRequest().permitAll()\r\n                .and()\r\n                .formLogin()\r\n                .usernameParameter(&quot;email&quot;)\r\n                .passwordParameter(&quot;password&quot;)\r\n                .loginPage(&quot;/Trainer/LogIn&quot;)\r\n                .loginProcessingUrl(&quot;/Trainer/LogIn&quot;)\r\n                .successHandler((request, response, authentication) -&gt; response.sendRedirect(&quot;/Trainer/Homepage&quot;))\r\n                .permitAll()\r\n                .and()\r\n                .logout()\r\n                .logoutUrl(&quot;/Trainer/LogOut&quot;)\r\n                .logoutSuccessUrl(&quot;/Trainer/LogIn&quot;)\r\n                .deleteCookies(&quot;JSESSIONID&quot;)\r\n                .permitAll();\r\n\r\n        return http.build();\r\n    }\r\n\r\n\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider trainerDaoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(trainerAppUserService);\r\n        return provider;\r\n    }\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider vereinDaoAuthenticationProvider() {\r\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\r\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\r\n        provider.setUserDetailsService(vereinAppUserService);\r\n        return provider;\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried making different Orders and Seperating in different Classes, don&#39;t know what to do anymore.","title":"Can&#39;t Post on second formLogin()","body":"<p><strong>When I try to login in the second formLogin() i get 'POST' not supported but not in the first.</strong></p>\n<p>this is my code\ncan you merge the two or is any other way to do it?</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    private final AppUserService trainerAppUserService;\n    private final AppUserService vereinAppUserService;\n\n    private final BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    public WebSecurityConfig(\n            @Qualifier(&quot;trainer&quot;) AppUserService trainerAppUserService,\n            @Qualifier(&quot;verein&quot;) AppUserService vereinAppUserService, BCryptPasswordEncoder bCryptPasswordEncoder) {\n        this.trainerAppUserService = trainerAppUserService;\n        this.vereinAppUserService = vereinAppUserService;\n        this.bCryptPasswordEncoder = bCryptPasswordEncoder;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n        authenticationManagerBuilder.authenticationProvider(vereinDaoAuthenticationProvider());\n\n\n        http.csrf()\n                .disable()\n                .httpBasic()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/Verein/**/*.*&quot;).authenticated() // Zugriff auf /Verein/Homepage nur für authentifizierte Benutzer erlauben\n                .anyRequest().permitAll()\n                .and()\n                .formLogin()\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .loginPage(&quot;/Verein/LogIn&quot;)\n                .loginProcessingUrl(&quot;/Verein/LogIn&quot;)\n                .successHandler((request, response, authentication) -&gt; response.sendRedirect(&quot;/Verein/Homepage&quot;))\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/Verein/LogOut&quot;)\n                .logoutSuccessUrl(&quot;/Verein/LogIn&quot;)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll();\n\n        return http.build();\n    }\n\n    @Bean\n\n    public SecurityFilterChain filterChain2(HttpSecurity http) throws Exception {\n\n        AuthenticationManagerBuilder authenticationManagerBuilder = http.getSharedObject(AuthenticationManagerBuilder.class);\n\n        authenticationManagerBuilder.authenticationProvider(trainerDaoAuthenticationProvider());\n\n\n        http.csrf()\n                .disable()\n                .httpBasic()\n                .disable()\n                .authorizeRequests()\n                .antMatchers(&quot;/Trainer/**/*.*&quot;).authenticated()\n                .anyRequest().permitAll()\n                .and()\n                .formLogin()\n                .usernameParameter(&quot;email&quot;)\n                .passwordParameter(&quot;password&quot;)\n                .loginPage(&quot;/Trainer/LogIn&quot;)\n                .loginProcessingUrl(&quot;/Trainer/LogIn&quot;)\n                .successHandler((request, response, authentication) -&gt; response.sendRedirect(&quot;/Trainer/Homepage&quot;))\n                .permitAll()\n                .and()\n                .logout()\n                .logoutUrl(&quot;/Trainer/LogOut&quot;)\n                .logoutSuccessUrl(&quot;/Trainer/LogIn&quot;)\n                .deleteCookies(&quot;JSESSIONID&quot;)\n                .permitAll();\n\n        return http.build();\n    }\n\n\n\n    @Bean\n    public DaoAuthenticationProvider trainerDaoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(trainerAppUserService);\n        return provider;\n    }\n\n    @Bean\n    public DaoAuthenticationProvider vereinDaoAuthenticationProvider() {\n        DaoAuthenticationProvider provider = new DaoAuthenticationProvider();\n        provider.setPasswordEncoder(bCryptPasswordEncoder);\n        provider.setUserDetailsService(vereinAppUserService);\n        return provider;\n    }\n\n}\n</code></pre>\n<p>I tried making different Orders and Seperating in different Classes, don't know what to do anymore.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1690266966,"post_id":76759981,"comment_id":135325337,"body_markdown":"Nested calls from the same class will not work asynchronously using Async annotation. The call must come from another class.","body":"Nested calls from the same class will not work asynchronously using Async annotation. The call must come from another class."},{"owner":{"account_id":3969619,"reputation":155,"user_id":3274529,"accept_rate":75,"display_name":"Triffids"},"score":0,"creation_date":1690268402,"post_id":76759981,"comment_id":135325575,"body_markdown":"Yes, writeBatchLog() the only method in the BatchLogGateway service and calls come from separated BatchGateway service","body":"Yes, writeBatchLog() the only method in the BatchLogGateway service and calls come from separated BatchGateway service"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690271119,"post_id":76759981,"comment_id":135326082,"body_markdown":"Is BatchGateway also annotated as Spring component? And with auto-wired BatchLogGateway?","body":"Is BatchGateway also annotated as Spring component? And with auto-wired BatchLogGateway?"},{"owner":{"account_id":3969619,"reputation":155,"user_id":3274529,"accept_rate":75,"display_name":"Triffids"},"score":0,"creation_date":1690275131,"post_id":76759981,"comment_id":135326950,"body_markdown":"Yes,  BatchGateway annotated as Service, the only nuance -   BatchGateway use BatchLogGateway only if business logic service catch exception and stacktrace need to be written. But all beans in call chain are Spring components and marked as Service","body":"Yes,  BatchGateway annotated as Service, the only nuance -   BatchGateway use BatchLogGateway only if business logic service catch exception and stacktrace need to be written. But all beans in call chain are Spring components and marked as Service"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690275661,"post_id":76759981,"comment_id":135327090,"body_markdown":"Please share the relevant code where you call the async method. Not just the pseudo code.","body":"Please share the relevant code where you call the async method. Not just the pseudo code."}],"owner":{"account_id":3969619,"reputation":155,"user_id":3274529,"accept_rate":75,"display_name":"Triffids"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690268440,"creation_date":1690266624,"question_id":76759981,"body_markdown":"Configuration with EnableAsync exists, @Async working great from @RestController, but nested call, when I&#39;m trying to call from my services BatchLogGateway#writeBatchLog(), Spring executing INSERT in same thread, I see &quot;ASYNC-xxx&quot; thread number in Spring logs.\r\n\r\n```\r\n@Configuration\r\n@EnableAsync\r\npublic class ThreadConfig {\r\n\r\n    @Bean\r\n    public Executor taskExecutor() {\r\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\r\n        executor.setCorePoolSize(60);\r\n        executor.setMaxPoolSize(200);\r\n        //other proeprties to be set here\r\n        executor.setThreadNamePrefix(&quot;ASYNC-&quot;);\r\n        executor.initialize();\r\n        return executor;\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@Service\r\npublic class BatchLogGateway {\r\n    @Autowired\r\n    private NamedParameterJdbcTemplate jdbcTemplate;\r\n\r\n    private static final Logger logger = LoggerFactory.getLogger(BatchLogGateway.class);\r\n\r\n    @Async\r\n    public void writeBatchLog(int batchNo, String errorTxt) {\r\n        MapSqlParameterSource namedParameters = new MapSqlParameterSource();\r\n        namedParameters.addValue(&quot;batchNo&quot;, batchNo);\r\n        namedParameters.addValue(&quot;error&quot;, errorTxt);\r\n        try {\r\n            jdbcTemplate.update(&quot;INSERT INTO batches_error_log (error_log, batch_no) values (:error, :batchNo)&quot;, namedParameters);\r\n        } catch (Exception e) {\r\n            logger.error(&quot;writing into batchLog {} was unsuccessful&quot;, batchNo);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSpring boot 3.1.2, jdk 20.","title":"Spring boot @Async is not working at some places","body":"<p>Configuration with EnableAsync exists, @Async working great from @RestController, but nested call, when I'm trying to call from my services BatchLogGateway#writeBatchLog(), Spring executing INSERT in same thread, I see &quot;ASYNC-xxx&quot; thread number in Spring logs.</p>\n<pre><code>@Configuration\n@EnableAsync\npublic class ThreadConfig {\n\n    @Bean\n    public Executor taskExecutor() {\n        ThreadPoolTaskExecutor executor = new ThreadPoolTaskExecutor();\n        executor.setCorePoolSize(60);\n        executor.setMaxPoolSize(200);\n        //other proeprties to be set here\n        executor.setThreadNamePrefix(&quot;ASYNC-&quot;);\n        executor.initialize();\n        return executor;\n    }\n}\n</code></pre>\n<pre><code>@Service\npublic class BatchLogGateway {\n    @Autowired\n    private NamedParameterJdbcTemplate jdbcTemplate;\n\n    private static final Logger logger = LoggerFactory.getLogger(BatchLogGateway.class);\n\n    @Async\n    public void writeBatchLog(int batchNo, String errorTxt) {\n        MapSqlParameterSource namedParameters = new MapSqlParameterSource();\n        namedParameters.addValue(&quot;batchNo&quot;, batchNo);\n        namedParameters.addValue(&quot;error&quot;, errorTxt);\n        try {\n            jdbcTemplate.update(&quot;INSERT INTO batches_error_log (error_log, batch_no) values (:error, :batchNo)&quot;, namedParameters);\n        } catch (Exception e) {\n            logger.error(&quot;writing into batchLog {} was unsuccessful&quot;, batchNo);\n        }\n    }\n}\n</code></pre>\n<p>Spring boot 3.1.2, jdk 20.</p>\n"},{"tags":["java","postgresql"],"comments":[{"owner":{"account_id":9513375,"reputation":16512,"user_id":7070613,"display_name":"Adrian Klaver"},"score":0,"creation_date":1690038005,"post_id":76744337,"comment_id":135298610,"body_markdown":"Then the column `exploration_Table.wlbNCS`  is not capitalized that way. Use `psql` to connect to the database and see how the table and column names are actually capitalized. I&#39;m guessing they where not double quoted when defined and are actually lower case.","body":"Then the column <code>exploration_Table.wlbNCS</code>  is not capitalized that way. Use <code>psql</code> to connect to the database and see how the table and column names are actually capitalized. I&#39;m guessing they where not double quoted when defined and are actually lower case."}],"answers":[{"tags":[],"owner":{"account_id":28258276,"reputation":466,"user_id":21603421,"display_name":"Nnaemeka Daniel John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690267664,"creation_date":1690267664,"answer_id":76760077,"question_id":76744337,"body_markdown":"You need to find out the exact way the tables are in the database, in terms of lower/upper case, then apply that to your query.\r\n\r\nAlso you should consider using back ticks instead of double quotes to preserve column names.","title":"org.postgresql.util.PSQLException: ERROR: column &quot;Table&quot;.&quot;Col&quot; does not exist, when using double quotes","body":"<p>You need to find out the exact way the tables are in the database, in terms of lower/upper case, then apply that to your query.</p>\n<p>Also you should consider using back ticks instead of double quotes to preserve column names.</p>\n"}],"owner":{"account_id":25437832,"reputation":29,"user_id":19241292,"display_name":"نظام الارشاد الطلابي"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690267664,"creation_date":1690036917,"question_id":76744337,"body_markdown":"\r\nI&#39;m writing a Java application to automatically build and run SQL queries using Postgres. Many queries work fine, however when I use double quotes in table and column names it throw an exception. Here one example: \r\n\r\n    SELECT &quot;exploration_Table&quot;.&quot;wlbNCS&quot; as wea_wlbNCS,&quot;well_Top&quot;.&quot;lsuStrat&quot; as wea_lsuStrat FROM &quot;exploration_Table&quot;, well_Top WHERE &quot;well_Top&quot;.&quot;lsuStrat&quot;=&quot;exploration_Table&quot;.&quot;wlbFormationID&quot; \r\n\r\nI need the double quotes to preserve the capitalisation of tables and columns names, but it shows this error: \r\n\r\n    org.postgresql.util.PSQLException: ERROR: column exploration_Table.wlbNCS does not exist\r\n\r\n  \r\n\r\nThe table and column name are exist in the database and they are correct, How could I avoid this error?\r\n","title":"org.postgresql.util.PSQLException: ERROR: column &quot;Table&quot;.&quot;Col&quot; does not exist, when using double quotes","body":"<p>I'm writing a Java application to automatically build and run SQL queries using Postgres. Many queries work fine, however when I use double quotes in table and column names it throw an exception. Here one example:</p>\n<pre><code>SELECT &quot;exploration_Table&quot;.&quot;wlbNCS&quot; as wea_wlbNCS,&quot;well_Top&quot;.&quot;lsuStrat&quot; as wea_lsuStrat FROM &quot;exploration_Table&quot;, well_Top WHERE &quot;well_Top&quot;.&quot;lsuStrat&quot;=&quot;exploration_Table&quot;.&quot;wlbFormationID&quot; \n</code></pre>\n<p>I need the double quotes to preserve the capitalisation of tables and columns names, but it shows this error:</p>\n<pre><code>org.postgresql.util.PSQLException: ERROR: column exploration_Table.wlbNCS does not exist\n</code></pre>\n<p>The table and column name are exist in the database and they are correct, How could I avoid this error?</p>\n"},{"tags":["java","spring","spring-boot","job-scheduling","job-queue"],"answers":[{"tags":[],"owner":{"account_id":12003034,"reputation":1,"user_id":8782206,"display_name":"Shuvajyoti Deb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556218065,"creation_date":1556200625,"answer_id":55851029,"question_id":55850821,"body_markdown":"You can use Spring&#39;s [`RetryTemplate`](https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/support/RetryTemplate.java), which is easy to configure.\r\n\r\nYou can use a [`SimpleRetryPolicy`](https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/policy/SimpleRetryPolicy.java) with a [`FixedBackOffPolicy`](https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/backoff/FixedBackOffPolicy.java) in your case. \r\nMax retry attempts can be configured with the `backOffPeriod` property present in the `SimpleRetryPolicy` according to your requirements (2 min in your case).\r\n\r\nThis retry mechanism is easy to plug into Spring Boot projects.","title":"Suggestions for distributed task scheduling and Job queue in spring boot","body":"<p>You can use Spring's <a href=\"https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/support/RetryTemplate.java\" rel=\"nofollow noreferrer\"><code>RetryTemplate</code></a>, which is easy to configure.</p>\n\n<p>You can use a <a href=\"https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/policy/SimpleRetryPolicy.java\" rel=\"nofollow noreferrer\"><code>SimpleRetryPolicy</code></a> with a <a href=\"https://github.com/spring-projects/spring-retry/blob/master/src/main/java/org/springframework/retry/backoff/FixedBackOffPolicy.java\" rel=\"nofollow noreferrer\"><code>FixedBackOffPolicy</code></a> in your case. \nMax retry attempts can be configured with the <code>backOffPeriod</code> property present in the <code>SimpleRetryPolicy</code> according to your requirements (2 min in your case).</p>\n\n<p>This retry mechanism is easy to plug into Spring Boot projects.</p>\n"},{"tags":[],"owner":{"account_id":1239585,"reputation":816,"user_id":1202506,"display_name":"NicuMarasoiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690267522,"creation_date":1690267522,"answer_id":76760059,"question_id":55850821,"body_markdown":"Alternatives for distributed tasks include \r\n- Raft libs for JVM\r\n- Hazelcast used in CP mode (which uses Raft)\r\n- k8s (which uses etcd)\r\n- spring cloud consul\r\n- dbscheduler\r\n- akka has a singleton\r\n","title":"Suggestions for distributed task scheduling and Job queue in spring boot","body":"<p>Alternatives for distributed tasks include</p>\n<ul>\n<li>Raft libs for JVM</li>\n<li>Hazelcast used in CP mode (which uses Raft)</li>\n<li>k8s (which uses etcd)</li>\n<li>spring cloud consul</li>\n<li>dbscheduler</li>\n<li>akka has a singleton</li>\n</ul>\n"}],"owner":{"account_id":2218649,"reputation":1059,"user_id":1958669,"accept_rate":88,"display_name":"shashantrika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1490,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690267522,"creation_date":1556200031,"question_id":55850821,"body_markdown":"**REQUIREMENT :**\r\n\r\nIn my project(runs in distributed environment) we have requirement to for a job to be scheduled at fixed time with initial delay of 1 min and it will retry if the job execution failed and it can do a max retry of 10 times with 2 mins delay between each . \r\n\r\n**TOOLS WITH WHICH WE CAN ACHIEVE THE SAME:**\r\n\r\nI can achieve the same needed functionality with ***`spring-retry`***. But, there are multiple containers available (distributed environment). Tools like `Rabbit-MQ`, `Amazon-sqs`, `Redis-quartz` supports this features. But Im not sure which one is better for springboot. \r\n\r\n**FACTORS FOR CONSIDERATION :**\r\n\r\nBelow are the stuffs that needs to be considered for choosing right tools :\r\n\r\n&gt; Distributed environment   \r\n&gt; Consistency        \r\n&gt; Fault Tolerance      \r\n&gt; Ease of configuration           \r\n&gt; Async processing\r\n\r\n**QUESTION**\r\n\r\nBasically Im looking for something similar to Resqueue and sidekiq ruby implementation equivalent in Java(springBoot). Has anyone achieved the same functionality in their application ? If so , what would be the better choice /way provided with the pros and cons . Suggestions are welcome .","title":"Suggestions for distributed task scheduling and Job queue in spring boot","body":"<p><strong>REQUIREMENT :</strong></p>\n\n<p>In my project(runs in distributed environment) we have requirement to for a job to be scheduled at fixed time with initial delay of 1 min and it will retry if the job execution failed and it can do a max retry of 10 times with 2 mins delay between each . </p>\n\n<p><strong>TOOLS WITH WHICH WE CAN ACHIEVE THE SAME:</strong></p>\n\n<p>I can achieve the same needed functionality with <strong><em><code>spring-retry</code></em></strong>. But, there are multiple containers available (distributed environment). Tools like <code>Rabbit-MQ</code>, <code>Amazon-sqs</code>, <code>Redis-quartz</code> supports this features. But Im not sure which one is better for springboot. </p>\n\n<p><strong>FACTORS FOR CONSIDERATION :</strong></p>\n\n<p>Below are the stuffs that needs to be considered for choosing right tools :</p>\n\n<blockquote>\n  <p>Distributed environment<br>\n  Consistency<br>\n  Fault Tolerance<br>\n  Ease of configuration<br>\n  Async processing</p>\n</blockquote>\n\n<p><strong>QUESTION</strong></p>\n\n<p>Basically Im looking for something similar to Resqueue and sidekiq ruby implementation equivalent in Java(springBoot). Has anyone achieved the same functionality in their application ? If so , what would be the better choice /way provided with the pros and cons . Suggestions are welcome .</p>\n"},{"tags":["java","excel","gradle","ms-word","apache-poi"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1690299126,"post_id":76760041,"comment_id":135332449,"body_markdown":"Have you looked at [Issue  #27: _Support writing to separate files_](https://github.com/centic9/poi-mail-merge/issues/27)?","body":"Have you looked at <a href=\"https://github.com/centic9/poi-mail-merge/issues/27\" rel=\"nofollow noreferrer\">Issue  #27: <i>Support writing to separate files</i></a>?"},{"owner":{"account_id":27686991,"reputation":11,"user_id":21134567,"display_name":"kheder47"},"score":0,"creation_date":1690456015,"post_id":76760041,"comment_id":135357832,"body_markdown":"Thanks @trashgod, totally overlooked to Issues :)","body":"Thanks @trashgod, totally overlooked to Issues :)"}],"owner":{"account_id":27686991,"reputation":11,"user_id":21134567,"display_name":"kheder47"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690267326,"creation_date":1690267326,"question_id":76760041,"body_markdown":"I&#39;ve endlessly been working on a Java application that utilizes Apache POI to perform mail-merge functionality by replacing placeholders in a Microsoft Word template with data from a CSV/Excel file. The codebase is based on the provided GitHub repository (https://github.com/centic9/poi-mail-merge.git).\r\n\r\nCurrently, the application successfully replaces the markers in the template with data from the CSV/Excel file and stores the results for each line in a single Word document. However, I want to enhance the application to generate a separate Word document for each line in the CSV/Excel file and assign dynamic filenames to each document.\r\n\r\nHere&#39;s a simplified snippet of the current code in the **`MailMerge`** class from the provided GitHub repository:\r\n\r\n```\r\npublic class MailMerge {\r\n    public void merge(String templateFile, String csvFile, String outputDir) {\r\n        // Method to perform mail-merge functionality by replacing markers in Word template with CSV data\r\n    }\r\n\r\n    private void replaceMarkers(XWPFDocument document, CSVRecord record) {\r\n        // Method to replace markers in the Word document with corresponding data from CSV record\r\n    }\r\n}\r\n```\r\n\r\nWhat changes should I make to the application to create a separate Word document for each line in the CSV/Excel file and traverse the &quot;filename&quot; column(not added yet to Github repository) in the CSV/Excel data and use the diverse filenames in each row to name the corresponding Word document??\r\n\r\nAs a note, I am using Gradle as the build tool for my project.\r\n\r\nAny guidance, code snippets, or suggestions on how to modify the **application** in the provided GitHub repository to achieve this feature would be greatly appreciated. Thank you for your expertise!","title":"How to Generate Separate Word Documents with Unique Filenames from Excel Data using Apache POI and Gradle","body":"<p>I've endlessly been working on a Java application that utilizes Apache POI to perform mail-merge functionality by replacing placeholders in a Microsoft Word template with data from a CSV/Excel file. The codebase is based on the provided GitHub repository (<a href=\"https://github.com/centic9/poi-mail-merge.git\" rel=\"nofollow noreferrer\">https://github.com/centic9/poi-mail-merge.git</a>).</p>\n<p>Currently, the application successfully replaces the markers in the template with data from the CSV/Excel file and stores the results for each line in a single Word document. However, I want to enhance the application to generate a separate Word document for each line in the CSV/Excel file and assign dynamic filenames to each document.</p>\n<p>Here's a simplified snippet of the current code in the <strong><code>MailMerge</code></strong> class from the provided GitHub repository:</p>\n<pre><code>public class MailMerge {\n    public void merge(String templateFile, String csvFile, String outputDir) {\n        // Method to perform mail-merge functionality by replacing markers in Word template with CSV data\n    }\n\n    private void replaceMarkers(XWPFDocument document, CSVRecord record) {\n        // Method to replace markers in the Word document with corresponding data from CSV record\n    }\n}\n</code></pre>\n<p>What changes should I make to the application to create a separate Word document for each line in the CSV/Excel file and traverse the &quot;filename&quot; column(not added yet to Github repository) in the CSV/Excel data and use the diverse filenames in each row to name the corresponding Word document??</p>\n<p>As a note, I am using Gradle as the build tool for my project.</p>\n<p>Any guidance, code snippets, or suggestions on how to modify the <strong>application</strong> in the provided GitHub repository to achieve this feature would be greatly appreciated. Thank you for your expertise!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1212429,"reputation":19082,"user_id":1180720,"accept_rate":74,"display_name":"gefei"},"score":1,"creation_date":1365665747,"post_id":15943053,"comment_id":22716387,"body_markdown":"your code seems to be fine. it should work. I would check what encryptText looks like","body":"your code seems to be fine. it should work. I would check what encryptText looks like"},{"owner":{"account_id":2557352,"reputation":361,"user_id":2219041,"display_name":"Abhinaba Basu"},"score":0,"creation_date":1365665762,"post_id":15943053,"comment_id":22716393,"body_markdown":"could you please share the input string? because str.replaceAll(&quot;\\\\s&quot;, &quot;&quot;); should work. You can also try str.replaceAll(&quot; &quot;, &quot;&quot;);","body":"could you please share the input string? because str.replaceAll(&quot;\\\\s&quot;, &quot;&quot;); should work. You can also try str.replaceAll(&quot; &quot;, &quot;&quot;);"},{"owner":{"account_id":1522580,"reputation":2347,"user_id":1421864,"accept_rate":100,"display_name":"Luigi Massa Gallerano"},"score":0,"creation_date":1365665769,"post_id":15943053,"comment_id":22716398,"body_markdown":"You should add the error you get or an example of why the solution you posted doesn&#39;t work or your question seems to be a duplicate of this one: http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java","body":"You should add the error you get or an example of why the solution you posted doesn&#39;t work or your question seems to be a duplicate of this one: <a href=\"http://stackoverflow.com/questions/5455794/removing-whitespace-from-strings-in-java\" title=\"removing whitespace from strings in java\">stackoverflow.com/questions/5455794/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":416547,"reputation":91914,"user_id":791998,"accept_rate":80,"display_name":"Petar Ivanov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365665615,"creation_date":1365665615,"answer_id":15943077,"question_id":15943053,"body_markdown":"    String output = new String(encryptText);\r\n    output = output.replaceAll(&quot; &quot;, &quot;&quot;);\r\n    return output;\r\n","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<pre><code>String output = new String(encryptText);\noutput = output.replaceAll(\" \", \"\");\nreturn output;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169521,"reputation":37107,"user_id":395659,"accept_rate":90,"display_name":"CloudyMarble"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365666531,"creation_date":1365665724,"answer_id":15943106,"question_id":15943053,"body_markdown":"Your code works fine for me, see [here][1]\r\n\r\nAnyway you can use the [StringUtils.trimAllWhitespace][2] from the [spring framework][3]:\r\n\r\n    output = StringUtils.trimAllWhitespace(output);\r\n\r\n\r\n  [1]: http://ideone.com/mNTPN3\r\n  [2]: http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimAllWhitespace%28java.lang.String%29\r\n  [3]: http://www.springsource.org/spring-community-download","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<p>Your code works fine for me, see <a href=\"http://ideone.com/mNTPN3\" rel=\"nofollow\">here</a></p>\n\n<p>Anyway you can use the <a href=\"http://static.springsource.org/spring/docs/current/javadoc-api/org/springframework/util/StringUtils.html#trimAllWhitespace%28java.lang.String%29\" rel=\"nofollow\">StringUtils.trimAllWhitespace</a> from the <a href=\"http://www.springsource.org/spring-community-download\" rel=\"nofollow\">spring framework</a>:</p>\n\n<pre><code>output = StringUtils.trimAllWhitespace(output);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2124262,"reputation":2634,"user_id":1886855,"display_name":"Marco Forberg"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1365665927,"creation_date":1365665927,"answer_id":15943161,"question_id":15943053,"body_markdown":"You could use the non-regex-version replace to do the job:\r\n\r\n    output = output.replace(&quot; &quot;, &quot;&quot;);","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<p>You could use the non-regex-version replace to do the job:</p>\n\n<pre><code>output = output.replace(\" \", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":441056,"reputation":11115,"user_id":830964,"accept_rate":50,"display_name":"Deepak Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365666392,"creation_date":1365666392,"answer_id":15943307,"question_id":15943053,"body_markdown":"Use `String.replaceAll(&quot; &quot;,&quot;&quot;)` or if you want to do it yourself without a lib call, use this.\r\n\r\n            String encryptedString = &quot;The quick brown fox &quot;;\r\n            char[] charArray = encryptedString.toCharArray();\r\n            char [] copy = new char[charArray.length];\r\n            int counter = 0;\r\n            for (char c : charArray)\r\n            {\r\n                if(c != &#39; &#39;)\r\n                {\r\n                    copy[counter] = c;\r\n                    counter++;\r\n                }\r\n            }\r\n            char[] result = Arrays.copyOf(copy, counter);\r\n            System.out.println(new String(result));","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<p>Use <code>String.replaceAll(\" \",\"\")</code> or if you want to do it yourself without a lib call, use this.</p>\n\n<pre><code>        String encryptedString = \"The quick brown fox \";\n        char[] charArray = encryptedString.toCharArray();\n        char [] copy = new char[charArray.length];\n        int counter = 0;\n        for (char c : charArray)\n        {\n            if(c != ' ')\n            {\n                copy[counter] = c;\n                counter++;\n            }\n        }\n        char[] result = Arrays.copyOf(copy, counter);\n        System.out.println(new String(result));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5651346,"reputation":125,"user_id":4471829,"accept_rate":67,"display_name":"Aakash Mangal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1441840855,"creation_date":1441840855,"answer_id":32490632,"question_id":15943053,"body_markdown":"I was facing the same problem then I searched a lot and found that, it is not a space character but a null value which is transformed into string from character array. This resolved the issue for me - \r\n\r\n    output.replaceAll(String.valueOf((char) 0), &quot;&quot;);","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<p>I was facing the same problem then I searched a lot and found that, it is not a space character but a null value which is transformed into string from character array. This resolved the issue for me - </p>\n\n<pre><code>output.replaceAll(String.valueOf((char) 0), \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27339135,"reputation":1,"user_id":20850092,"display_name":"Shainky Jain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690267308,"creation_date":1689875867,"answer_id":76732564,"question_id":15943053,"body_markdown":"    z = z.replaceAll(&quot; &quot;, &quot;&quot;);\r\n\r\neasiest and the simplest way for removing white spaces from the char [];","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<pre><code>z = z.replaceAll(&quot; &quot;, &quot;&quot;);\n</code></pre>\n<p>easiest and the simplest way for removing white spaces from the char [];</p>\n"}],"owner":{"account_id":2621275,"reputation":13,"user_id":2269239,"display_name":"sdfasdfw"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14393,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":6,"score":1,"last_activity_date":1690267308,"creation_date":1365665538,"question_id":15943053,"body_markdown":"    String output = new String(encryptText);\r\n    output = output.replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n    return output;\r\n\r\n`replaceAll(&quot;\\\\s&quot;, &quot;&quot;);` doesn&#39;t work","title":"In java when converting a char array with spaces to a String how to remove the spaces in that String?","body":"<pre><code>String output = new String(encryptText);\noutput = output.replaceAll(\"\\\\s\", \"\");\nreturn output;\n</code></pre>\n\n<p><code>replaceAll(\"\\\\s\", \"\");</code> doesn't work</p>\n"},{"tags":["java","amazon-web-services","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":10345313,"reputation":330,"user_id":7630468,"display_name":"SwathiP"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690266601,"creation_date":1690266496,"answer_id":76759968,"question_id":76759031,"body_markdown":"Since you added AllArgsConstructor, it will include all the member fields in the constructor including your @Value fields. Change the `AllArgsConstructor` to `RequiredArgsConstructor`.  In this case, Lombok will generate a constructor based on &#39;required&#39; final fields as arguments. \r\n\r\nReplace this if you want to use constructor injection:\r\n\r\n    @Autowired\r\n        private SsmClient ssmClient;\r\n\r\nwith \r\n\r\n    private final SsmClient ssmClient;\r\n\r\nFinally make sure that the properties `ssm.preset-path` and `amazon.aws.region` are defined application.properties. \r\n\r\n","title":"Parameter 0 of constructor required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>Since you added AllArgsConstructor, it will include all the member fields in the constructor including your @Value fields. Change the <code>AllArgsConstructor</code> to <code>RequiredArgsConstructor</code>.  In this case, Lombok will generate a constructor based on 'required' final fields as arguments.</p>\n<p>Replace this if you want to use constructor injection:</p>\n<pre><code>@Autowired\n    private SsmClient ssmClient;\n</code></pre>\n<p>with</p>\n<pre><code>private final SsmClient ssmClient;\n</code></pre>\n<p>Finally make sure that the properties <code>ssm.preset-path</code> and <code>amazon.aws.region</code> are defined application.properties.</p>\n"}],"owner":{"account_id":505659,"reputation":147,"user_id":1648558,"accept_rate":0,"display_name":"alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690266601,"creation_date":1690250688,"question_id":76759031,"body_markdown":"My springboot application fails to start with below error:\r\n\r\nParameter 0 of constructor in com.mydump.digital.aws.ParameterStore required a bean of type &#39;java.lang.String&#39; that could not be found.\r\n\r\nI can see both the values &quot;ssm.preset-path&quot; and &quot;amazon.aws.region&quot; configured in my application.yml file.\r\nPlease help what is going wrong here ?\r\n\r\nspringboot 3.1.1\r\ngradle 8.1.1\r\n\r\n````\r\n@Component\r\n@AllArgsConstructor\r\n@Slf4j\r\npublic class ParameterStore {\r\n\r\n    @Value(&quot;${ssm.preset-path}&quot;)\r\n    private String presetPath;\r\n\r\n    @Value(&quot;${amazon.aws.region}&quot;)\r\n    private String region;\r\n\r\n    @Autowired\r\n    private SsmClient ssmClient;\r\n\r\n    private static List&lt;Parameter&gt; parameterList;\r\n\r\n    public ParameterStore() {\r\n    }\r\n\r\n    public List&lt;String&gt; getParameterConfiguration(final String preset) {\r\n       /*\r\n       some code\r\n       */\r\n    }\r\n\r\n    //read aws ssm parameters store and get all parameters by path\r\n    public void populatePresetParameters() {\r\n        parameterList = ssmClient.getParametersByPath(request -&gt; request.path(presetPath)).parameters();\r\n    }\r\n\r\n}\r\n````","title":"Parameter 0 of constructor required a bean of type &#39;java.lang.String&#39; that could not be found","body":"<p>My springboot application fails to start with below error:</p>\n<p>Parameter 0 of constructor in com.mydump.digital.aws.ParameterStore required a bean of type 'java.lang.String' that could not be found.</p>\n<p>I can see both the values &quot;ssm.preset-path&quot; and &quot;amazon.aws.region&quot; configured in my application.yml file.\nPlease help what is going wrong here ?</p>\n<p>springboot 3.1.1\ngradle 8.1.1</p>\n<pre><code>@Component\n@AllArgsConstructor\n@Slf4j\npublic class ParameterStore {\n\n    @Value(&quot;${ssm.preset-path}&quot;)\n    private String presetPath;\n\n    @Value(&quot;${amazon.aws.region}&quot;)\n    private String region;\n\n    @Autowired\n    private SsmClient ssmClient;\n\n    private static List&lt;Parameter&gt; parameterList;\n\n    public ParameterStore() {\n    }\n\n    public List&lt;String&gt; getParameterConfiguration(final String preset) {\n       /*\n       some code\n       */\n    }\n\n    //read aws ssm parameters store and get all parameters by path\n    public void populatePresetParameters() {\n        parameterList = ssmClient.getParametersByPath(request -&gt; request.path(presetPath)).parameters();\n    }\n\n}\n</code></pre>\n"},{"tags":["java","php","architecture","integration","frontend"],"comments":[{"owner":{"account_id":95417,"reputation":4933,"user_id":259889,"accept_rate":76,"display_name":"Sid"},"score":0,"creation_date":1284527572,"post_id":3713960,"comment_id":3919867,"body_markdown":"The database layer can have Hibernate or Spring JDBC for cleaner and efficient DB call handling, that is, if you are using Java.","body":"The database layer can have Hibernate or Spring JDBC for cleaner and efficient DB call handling, that is, if you are using Java."}],"answers":[{"tags":[],"owner":{"account_id":17461,"reputation":9900,"user_id":39094,"accept_rate":78,"display_name":"Adrian K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1284513173,"creation_date":1284513173,"answer_id":3714017,"question_id":3713960,"body_markdown":"Sounds fine to me, and you have the option of sucking info out of the (java?) BL both at the server-side and client-side (via AJAX).\r\n\r\n&gt; I think UI logic is all frontend\r\n&gt; should do.\r\n\r\nYep - you&#39;re definately thinking straight :)","title":"Frontend architecture","body":"<p>Sounds fine to me, and you have the option of sucking info out of the (java?) BL both at the server-side and client-side (via AJAX).</p>\n\n<blockquote>\n  <p>I think UI logic is all frontend\n  should do.</p>\n</blockquote>\n\n<p>Yep - you're definately thinking straight :)</p>\n"},{"tags":[],"owner":{"account_id":173050,"reputation":1855,"user_id":401492,"accept_rate":75,"display_name":"Jords"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1284515399,"creation_date":1284515399,"answer_id":3714140,"question_id":3713960,"body_markdown":"You may want to look into node.js for your frontend - it&#39;s new, but it has a really cool asynchronous (ie nonblocking) architecture.  Does mean leaving PHP behind, but if your doing a major rewrite anyway that&#39;s not going to add too much new work.","title":"Frontend architecture","body":"<p>You may want to look into node.js for your frontend - it's new, but it has a really cool asynchronous (ie nonblocking) architecture.  Does mean leaving PHP behind, but if your doing a major rewrite anyway that's not going to add too much new work.</p>\n"},{"tags":[],"owner":{"account_id":13641196,"reputation":66,"user_id":9841188,"display_name":"Adarsh Somasundar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1537102117,"creation_date":1537102117,"answer_id":52354295,"question_id":3713960,"body_markdown":"You can go with the below architecture.\r\n\r\n1. You can go with any of the JS framework like Angular 4 or ReactJS as both has server side rendering. This will work for Single/Multiple Application as well.\r\n2. Define the RestFul API with PHP where all business logics will be there. The API should be hosted in different server.\r\n3. To make API secured you can have OAuth authentication.\r\n4. If you use PHP, I suggest to use stored procedure instead of hard coded SQL queries or any ORM.","title":"Frontend architecture","body":"<p>You can go with the below architecture.</p>\n\n<ol>\n<li>You can go with any of the JS framework like Angular 4 or ReactJS as both has server side rendering. This will work for Single/Multiple Application as well.</li>\n<li>Define the RestFul API with PHP where all business logics will be there. The API should be hosted in different server.</li>\n<li>To make API secured you can have OAuth authentication.</li>\n<li>If you use PHP, I suggest to use stored procedure instead of hard coded SQL queries or any ORM.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":26026414,"reputation":1,"user_id":19733273,"display_name":"samandar jabborov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690266469,"creation_date":1690266469,"answer_id":76759966,"question_id":3713960,"body_markdown":"1.You can go with any of the JS framework like Angular 4 or ReactJS as both has server side rendering. This will work for Single/Multiple Application as well.\r\n2.Define the RestFul API with PHP where all business logics will be there. The API should be hosted in different server.\r\n3.To make API secured you can have OAuth authentication.\r\n4.If you use PHP, I suggest to use stored procedure instead of hard coded SQL queries or any ORM.","title":"Frontend architecture","body":"<p>1.You can go with any of the JS framework like Angular 4 or ReactJS as both has server side rendering. This will work for Single/Multiple Application as well.\n2.Define the RestFul API with PHP where all business logics will be there. The API should be hosted in different server.\n3.To make API secured you can have OAuth authentication.\n4.If you use PHP, I suggest to use stored procedure instead of hard coded SQL queries or any ORM.</p>\n"}],"owner":{"account_id":21918,"reputation":9785,"user_id":53658,"accept_rate":80,"display_name":"Denis Bazhenov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1690266469,"creation_date":1284512119,"question_id":3713960,"body_markdown":"For now we have very heavyweight frontend (frontend+backend in one application actually). Frontend contains all the logic: UI, business logic, persistence logic and so on. It&#39;s very complicated and hard to maintain, because of some platform problems (it&#39;s written in PHP) like absence of connection pooling, for example.\r\n\r\nSo I came up with an idea to separate frontend and backend. Backend can be written in some more convinient platform (we plan to use Java), and frontend can continue use PHP.\r\n\r\nI think UI logic is all frontend should do. And some limitations should be applied to codebase which is executed here:\r\n\r\n1. No direct database calls. DB calls are hard to scale and hard to provide SLA.\r\n2. Nonblocking integration plotocol to backend. If frontend asks something to backend, frontend should be able not to block on this request. It can help us in two ways:\r\n\r\n a. we can send parallel requests to backend (parallelize I/O);\r\n \r\n b. we can provide timeout for requests (SLA). Sometimes it&#39;s better to fail quickly and do not block client.\r\n\r\nSo, considering all above, I think the best architecture for frontend (in my case, i&#39;m not propagate silver bullet) is UI logic which is communicates only to REST/SOAP backend in nonblocking way. What do you think about this stuff?","title":"Frontend architecture","body":"<p>For now we have very heavyweight frontend (frontend+backend in one application actually). Frontend contains all the logic: UI, business logic, persistence logic and so on. It's very complicated and hard to maintain, because of some platform problems (it's written in PHP) like absence of connection pooling, for example.</p>\n\n<p>So I came up with an idea to separate frontend and backend. Backend can be written in some more convinient platform (we plan to use Java), and frontend can continue use PHP.</p>\n\n<p>I think UI logic is all frontend should do. And some limitations should be applied to codebase which is executed here:</p>\n\n<ol>\n<li>No direct database calls. DB calls are hard to scale and hard to provide SLA.</li>\n<li><p>Nonblocking integration plotocol to backend. If frontend asks something to backend, frontend should be able not to block on this request. It can help us in two ways:</p>\n\n<p>a. we can send parallel requests to backend (parallelize I/O);</p>\n\n<p>b. we can provide timeout for requests (SLA). Sometimes it's better to fail quickly and do not block client.</p></li>\n</ol>\n\n<p>So, considering all above, I think the best architecture for frontend (in my case, i'm not propagate silver bullet) is UI logic which is communicates only to REST/SOAP backend in nonblocking way. What do you think about this stuff?</p>\n"},{"tags":["java","spring","hibernate","jpa"],"owner":{"account_id":18516979,"reputation":1,"user_id":13490911,"display_name":"Tarush Goyal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690266103,"creation_date":1690266103,"question_id":76759928,"body_markdown":"I have an entity class as follows:\r\n\r\n```\r\n\r\nimport org.hibernate.annotations.UpdateTimestamp;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Date;\r\n\r\n@Entity\r\n@Table(name = &quot;view&quot;)\r\n@SuppressWarnings(&quot;unused&quot;)\r\npublic class View {\r\n\r\n    @Column(name = &quot;widget_id&quot;)\r\n    private int widgetId;\r\n\r\n    @Id\r\n    @Column(name = &quot;view_id&quot;)\r\n    private int viewId;\r\n\r\n    @Column(name = &quot;view_name&quot;)\r\n    private String viewName;\r\n\r\n    @Column(name = &quot;view_label&quot;)\r\n    private String viewLabel;\r\n\r\n    @Column(name = &quot;view_type&quot;)\r\n    private String viewType;\r\n\r\n    @Column(name = &quot;product&quot;)\r\n    private String product;\r\n\r\n    @UpdateTimestamp\r\n    @Column(name = &quot;updation_date&quot;,insertable = false)\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    private Date updationDate;\r\n\r\n    public int getViewId() {\r\n        return viewId;\r\n    }\r\n\r\n    public String getViewName() {\r\n        return viewName;\r\n    }\r\n\r\n    public String getViewLabel() {\r\n        return viewLabel;\r\n    }\r\n\r\n    public void setWidgetId(int widgetId) {\r\n        this.widgetId = widgetId;\r\n    }\r\n\r\n    public void setViewId(int viewId) {\r\n        this.viewId = viewId;\r\n    }\r\n\r\n    public void setViewName(String viewName) {\r\n        this.viewName = viewName;\r\n    }\r\n\r\n    public void setViewLabel(String viewLabel) {\r\n        this.viewLabel = viewLabel;\r\n    }\r\n\r\n    public void setViewType(String viewType) {\r\n        this.viewType = viewType;\r\n    }\r\n\r\n    public void setProduct(String product) {\r\n        this.product = product;\r\n    }\r\n\r\n    public String getViewType() {\r\n        return viewType;\r\n    }\r\n\r\n    public String getProduct() {\r\n        return product;\r\n    }\r\n\r\n    public Date getUpdationDate() {\r\n        return updationDate;\r\n    }\r\n}\r\n\r\n```\r\n\r\nIn my view table, that I have mentioned above in @Table, the column view_id is unique and on auto-increment. \r\n\r\nand I have an interface as follows:\r\n\r\n\r\n```\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.CrudRepository;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport javax.transaction.Transactional;\r\nimport java.util.List;\r\n\r\n\r\n@Repository\r\n@Transactional\r\npublic interface ViewDao extends CrudRepository&lt;View, Integer&gt; {\r\n\r\n    View findByWidgetIdAndRetailerAndViewLabel(int widgetId,String retailer,String viewLabel);\r\n\r\n    List&lt;View&gt; findAllByWidgetId(int widgetId);\r\n\r\n    View findByWidgetIdAndRetailer(int widgetId,String retailer);\r\n\r\n    @Query(value = &quot;select max(viewId) from View&quot;)\r\n    Integer getMaxViewId();\r\n\r\n    List&lt;View&gt; findByViewNameIn(List&lt;String&gt; viewNames);\r\n\r\n    @Modifying\r\n    @Query(value = &quot;update view set widget_id = :widgetId where view_name = :viewName&quot;, nativeQuery = true)\r\n    void updateBYViewName(@Param(&quot;widgetId&quot;) int widgetId, @Param(&quot;viewName&quot;) String viewName);\r\n\r\n}\r\n```\r\n\r\nNow when I am trying to make an updation to the above entity by the following line: \r\n```\r\n    @Override\r\n    @Transactional(propagation = Propagation.REQUIRED)\r\n    public Response personalizeDashboardViews(Map&lt;WidgetPersonalizeAction, List&lt;View&gt;&gt; personalizedViews, DashboardAction dashboardAction, RequestParams requestParams, int pageId) {\r\n        Response response = new Response();\r\n\r\n        if (null != personalizedViews &amp;&amp; !personalizedViews.isEmpty()){\r\n            for (Map.Entry&lt;WidgetPersonalizeAction,List&lt;View&gt;&gt; personalizeActionListEntry : personalizedViews.entrySet()){\r\n                if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.UPDATE) ||\r\n                        personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.DELETE)){\r\n                    //Delete the existing views\r\n                    viewDao.deleteAll(personalizeActionListEntry.getValue());\r\n                    //create the personalized views\r\n                    viewDao.saveAll(personalizeActionListEntry.getValue()); //issue is here\r\n                    response.setMessage(&quot;Views successfully updated&quot;);\r\n                }else if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.REORDER_UPDATE)){\r\n                    List&lt;View&gt; viewList = personalizeActionListEntry.getValue();\r\n                    for (View view:viewList){\r\n                        viewDao.updateBYViewName(view.getWidgetId(), view.getViewName());\r\n                    }\r\n                } else if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.CLONE)){\r\n                    viewDao.saveAll(personalizeActionListEntry.getValue());\r\n                    response.setMessage(&quot;News view successfully created&quot;);\r\n                }else {\r\n                    response.setMessage(personalizeActionListEntry.getKey()+&quot; invalid view personalize action&quot;);\r\n                    break;\r\n                }\r\n\r\n            }\r\n            response.setSuccess(true);\r\n        }\r\n        return response;\r\n    }\r\n}\r\n```\r\n\r\nI get an error as:\r\n```\r\nERROR\r\norg.springframework.dao.DataIntegrityViolationException: A different object with the same identifier value was already associated with the session : [View#0]; nested exception is javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [View#0]\r\n```\r\n\r\n\r\n\r\n\r\nThis error does not come on each updation, but only on a few specific view_id updations. Please help.","title":"Spring JPA javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session","body":"<p>I have an entity class as follows:</p>\n<pre><code>\nimport org.hibernate.annotations.UpdateTimestamp;\n\nimport javax.persistence.*;\nimport java.util.Date;\n\n@Entity\n@Table(name = &quot;view&quot;)\n@SuppressWarnings(&quot;unused&quot;)\npublic class View {\n\n    @Column(name = &quot;widget_id&quot;)\n    private int widgetId;\n\n    @Id\n    @Column(name = &quot;view_id&quot;)\n    private int viewId;\n\n    @Column(name = &quot;view_name&quot;)\n    private String viewName;\n\n    @Column(name = &quot;view_label&quot;)\n    private String viewLabel;\n\n    @Column(name = &quot;view_type&quot;)\n    private String viewType;\n\n    @Column(name = &quot;product&quot;)\n    private String product;\n\n    @UpdateTimestamp\n    @Column(name = &quot;updation_date&quot;,insertable = false)\n    @Temporal(TemporalType.TIMESTAMP)\n    private Date updationDate;\n\n    public int getViewId() {\n        return viewId;\n    }\n\n    public String getViewName() {\n        return viewName;\n    }\n\n    public String getViewLabel() {\n        return viewLabel;\n    }\n\n    public void setWidgetId(int widgetId) {\n        this.widgetId = widgetId;\n    }\n\n    public void setViewId(int viewId) {\n        this.viewId = viewId;\n    }\n\n    public void setViewName(String viewName) {\n        this.viewName = viewName;\n    }\n\n    public void setViewLabel(String viewLabel) {\n        this.viewLabel = viewLabel;\n    }\n\n    public void setViewType(String viewType) {\n        this.viewType = viewType;\n    }\n\n    public void setProduct(String product) {\n        this.product = product;\n    }\n\n    public String getViewType() {\n        return viewType;\n    }\n\n    public String getProduct() {\n        return product;\n    }\n\n    public Date getUpdationDate() {\n        return updationDate;\n    }\n}\n\n</code></pre>\n<p>In my view table, that I have mentioned above in @Table, the column view_id is unique and on auto-increment.</p>\n<p>and I have an interface as follows:</p>\n<pre><code>import org.springframework.data.jpa.repository.Modifying;\nimport org.springframework.data.jpa.repository.Query;\nimport org.springframework.data.repository.CrudRepository;\nimport org.springframework.data.repository.query.Param;\nimport org.springframework.stereotype.Repository;\n\nimport javax.transaction.Transactional;\nimport java.util.List;\n\n\n@Repository\n@Transactional\npublic interface ViewDao extends CrudRepository&lt;View, Integer&gt; {\n\n    View findByWidgetIdAndRetailerAndViewLabel(int widgetId,String retailer,String viewLabel);\n\n    List&lt;View&gt; findAllByWidgetId(int widgetId);\n\n    View findByWidgetIdAndRetailer(int widgetId,String retailer);\n\n    @Query(value = &quot;select max(viewId) from View&quot;)\n    Integer getMaxViewId();\n\n    List&lt;View&gt; findByViewNameIn(List&lt;String&gt; viewNames);\n\n    @Modifying\n    @Query(value = &quot;update view set widget_id = :widgetId where view_name = :viewName&quot;, nativeQuery = true)\n    void updateBYViewName(@Param(&quot;widgetId&quot;) int widgetId, @Param(&quot;viewName&quot;) String viewName);\n\n}\n</code></pre>\n<p>Now when I am trying to make an updation to the above entity by the following line:</p>\n<pre><code>    @Override\n    @Transactional(propagation = Propagation.REQUIRED)\n    public Response personalizeDashboardViews(Map&lt;WidgetPersonalizeAction, List&lt;View&gt;&gt; personalizedViews, DashboardAction dashboardAction, RequestParams requestParams, int pageId) {\n        Response response = new Response();\n\n        if (null != personalizedViews &amp;&amp; !personalizedViews.isEmpty()){\n            for (Map.Entry&lt;WidgetPersonalizeAction,List&lt;View&gt;&gt; personalizeActionListEntry : personalizedViews.entrySet()){\n                if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.UPDATE) ||\n                        personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.DELETE)){\n                    //Delete the existing views\n                    viewDao.deleteAll(personalizeActionListEntry.getValue());\n                    //create the personalized views\n                    viewDao.saveAll(personalizeActionListEntry.getValue()); //issue is here\n                    response.setMessage(&quot;Views successfully updated&quot;);\n                }else if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.REORDER_UPDATE)){\n                    List&lt;View&gt; viewList = personalizeActionListEntry.getValue();\n                    for (View view:viewList){\n                        viewDao.updateBYViewName(view.getWidgetId(), view.getViewName());\n                    }\n                } else if (personalizeActionListEntry.getKey().equals(WidgetPersonalizeAction.CLONE)){\n                    viewDao.saveAll(personalizeActionListEntry.getValue());\n                    response.setMessage(&quot;News view successfully created&quot;);\n                }else {\n                    response.setMessage(personalizeActionListEntry.getKey()+&quot; invalid view personalize action&quot;);\n                    break;\n                }\n\n            }\n            response.setSuccess(true);\n        }\n        return response;\n    }\n}\n</code></pre>\n<p>I get an error as:</p>\n<pre><code>ERROR\norg.springframework.dao.DataIntegrityViolationException: A different object with the same identifier value was already associated with the session : [View#0]; nested exception is javax.persistence.EntityExistsException: A different object with the same identifier value was already associated with the session : [View#0]\n</code></pre>\n<p>This error does not come on each updation, but only on a few specific view_id updations. Please help.</p>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":5048364,"reputation":27671,"user_id":4053652,"display_name":"Stanislav"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555072445,"creation_date":1555072445,"answer_id":55651743,"question_id":55650241,"body_markdown":"You can try to do something like:\r\n\r\n    import java.time.*;\r\n\r\n    task rel {\r\n        doLast {\r\n            ant.propertyfile(file: &quot;gradle.properties&quot;) {\r\n                entry( key: &quot;date&quot;, value: LocalDateTime.now())\r\n            }\r\n        }\r\n    }\r\n\r\nSuppose, `rel` is your `release` task or any other task, which execution means, that you release was made. You have to add to it&#39;s configuration a `doLast` closure to run some code after task is executed. In this closure you are modifying some property in properties file.\r\n\r\n`LocalDateTime` and it&#39;s import are added just for example, you can use another method to get current date fo sure.\r\n\r\nIn your case it could look like:\r\n\r\n    task changeDate() {\r\n        doLast {\r\n            ant.propertyfile(file: &quot;gradle.properties&quot;) {\r\n                entry( key: &quot;date&quot;, value: LocalDateTime.now())\r\n            }\r\n        }\r\n    }\r\n\r\nBut you have to make your `changeDate` executed somehow, if it&#39;s not.","title":"how to write variables to gradle property file when you execute task?","body":"<p>You can try to do something like:</p>\n\n<pre><code>import java.time.*;\n\ntask rel {\n    doLast {\n        ant.propertyfile(file: \"gradle.properties\") {\n            entry( key: \"date\", value: LocalDateTime.now())\n        }\n    }\n}\n</code></pre>\n\n<p>Suppose, <code>rel</code> is your <code>release</code> task or any other task, which execution means, that you release was made. You have to add to it's configuration a <code>doLast</code> closure to run some code after task is executed. In this closure you are modifying some property in properties file.</p>\n\n<p><code>LocalDateTime</code> and it's import are added just for example, you can use another method to get current date fo sure.</p>\n\n<p>In your case it could look like:</p>\n\n<pre><code>task changeDate() {\n    doLast {\n        ant.propertyfile(file: \"gradle.properties\") {\n            entry( key: \"date\", value: LocalDateTime.now())\n        }\n    }\n}\n</code></pre>\n\n<p>But you have to make your <code>changeDate</code> executed somehow, if it's not.</p>\n"},{"tags":[],"owner":{"account_id":4902670,"reputation":13795,"user_id":3950370,"accept_rate":100,"display_name":"Lukas K&#246;rfer"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1612489874,"creation_date":1555093944,"answer_id":55657654,"question_id":55650241,"body_markdown":"The methods `getProperty`, `findProperty` and `setProperty` are not directly related to the `gradle.properties` file. Instead, they provide access to properties in the scope of the [`Project`](https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html) instance against which the `build.gradle` gets evaluated. This scope includes a lot of different properties, among them so-called *extra properties* (coming from the `gradle.properties` files).\r\n\r\nHowever, Gradle provides a task type for this functionality called [`WriteProperties`](https://docs.gradle.org/current/dsl/org.gradle.api.tasks.WriteProperties.html). Just specify the target file and define some properties:\r\n\r\n    task changeDate(type: WriteProperties) {\r\n        outputFile = file(&#39;gradle.properties&#39;)\r\n        property &#39;date&#39;, getDate()\r\n    }","title":"how to write variables to gradle property file when you execute task?","body":"<p>The methods <code>getProperty</code>, <code>findProperty</code> and <code>setProperty</code> are not directly related to the <code>gradle.properties</code> file. Instead, they provide access to properties in the scope of the <a href=\"https://docs.gradle.org/current/javadoc/org/gradle/api/Project.html\" rel=\"nofollow noreferrer\"><code>Project</code></a> instance against which the <code>build.gradle</code> gets evaluated. This scope includes a lot of different properties, among them so-called <em>extra properties</em> (coming from the <code>gradle.properties</code> files).</p>\n<p>However, Gradle provides a task type for this functionality called <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.WriteProperties.html\" rel=\"nofollow noreferrer\"><code>WriteProperties</code></a>. Just specify the target file and define some properties:</p>\n<pre><code>task changeDate(type: WriteProperties) {\n    outputFile = file('gradle.properties')\n    property 'date', getDate()\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9935626,"reputation":1,"user_id":7354066,"display_name":"zitterespe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679990091,"creation_date":1679990091,"answer_id":75863627,"question_id":55650241,"body_markdown":"In addition to the [Answer](https://stackoverflow.com/a/55657654/7354066) of Lukas I would like to add an example in kotlin (because I struggled with the same issue):\r\n\r\n\r\n    tasks.register&lt;WriteProperties&gt;(&quot;changeDate&quot;) {\r\n        val propertyFile = project.file(&quot;gradle.properties&quot;)\r\n        outputFile = propertyFile\r\n\r\n        doFirst {\r\n            val existingProperties = java.util.Properties()\r\n            propertyFile.bufferedReader().use { existingProperties.load(it) }\r\n            existingProperties.entries.forEach {\r\n                property(it.key as String, it.value)\r\n            }\r\n            property(&quot;date&quot;, getDate())\r\n        }\r\n    }","title":"how to write variables to gradle property file when you execute task?","body":"<p>In addition to the <a href=\"https://stackoverflow.com/a/55657654/7354066\">Answer</a> of Lukas I would like to add an example in kotlin (because I struggled with the same issue):</p>\n<pre><code>tasks.register&lt;WriteProperties&gt;(&quot;changeDate&quot;) {\n    val propertyFile = project.file(&quot;gradle.properties&quot;)\n    outputFile = propertyFile\n\n    doFirst {\n        val existingProperties = java.util.Properties()\n        propertyFile.bufferedReader().use { existingProperties.load(it) }\n        existingProperties.entries.forEach {\n            property(it.key as String, it.value)\n        }\n        property(&quot;date&quot;, getDate())\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13649968,"reputation":170,"user_id":9848124,"display_name":"Matthias Kuhn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690266029,"creation_date":1690266029,"answer_id":76759920,"question_id":55650241,"body_markdown":"For me the solution was to write the following task:\r\n\r\n    tasks.register(&#39;writeCompileDatePropertiesFile&#39;) {\r\n        def propertiesFile = file(&#39;src/main/resources/compileDate.properties&#39;)\r\n\r\n        doLast {\r\n            \r\n            def compileDate = new Date().format(&#39;dd.MM.yyyy HH:mm:ss&#39;)\r\n            def projectVersion = project.version\r\n\r\n            propertiesFile.parentFile.mkdirs()\r\n            propertiesFile.createNewFile()\r\n            propertiesFile.withWriter { writer -&gt;\r\n                writer &lt;&lt; &quot;compileDate=${compileDate}\\n&quot;\r\n                writer &lt;&lt; &quot;version=${projectVersion}&quot;\r\n            }\r\n        }\r\n    }","title":"how to write variables to gradle property file when you execute task?","body":"<p>For me the solution was to write the following task:</p>\n<pre><code>tasks.register('writeCompileDatePropertiesFile') {\n    def propertiesFile = file('src/main/resources/compileDate.properties')\n\n    doLast {\n        \n        def compileDate = new Date().format('dd.MM.yyyy HH:mm:ss')\n        def projectVersion = project.version\n\n        propertiesFile.parentFile.mkdirs()\n        propertiesFile.createNewFile()\n        propertiesFile.withWriter { writer -&gt;\n            writer &lt;&lt; &quot;compileDate=${compileDate}\\n&quot;\n            writer &lt;&lt; &quot;version=${projectVersion}&quot;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4838381,"reputation":1706,"user_id":3904216,"accept_rate":30,"display_name":"Anna K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5637,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":55657654,"answer_count":4,"score":2,"last_activity_date":1690266029,"creation_date":1555067134,"question_id":55650241,"body_markdown":"I have a such case. I need to save curent date after every release build with gradle. Is there any possibility to save date to gradle.properties file that I can read it in the next build job?\r\n\r\nMy files:\r\ngradle.properties:\r\n\r\n    version=0.0.1\r\n    date=\r\n\r\nbuild.gradle:\r\n\r\n    task changeDate() {\r\n        file = new File(&quot;changelogs/CHANGELOG_RELEASE_FROM_&quot;+getDate()+&quot;.md&quot;);\r\n        project.setProperty(&quot;date&quot;,getDate());\r\n    }\r\n\r\n\r\nIt dosent work and it doesn&#39;t save date variable into gradle.properties. \r\n\r\nSo I wish that I can have a date from release in my gradle.properties file:\r\n\r\ngradle.properties:\r\n\r\n    version=0.0.1\r\n    date=12.04.2019","title":"how to write variables to gradle property file when you execute task?","body":"<p>I have a such case. I need to save curent date after every release build with gradle. Is there any possibility to save date to gradle.properties file that I can read it in the next build job?</p>\n\n<p>My files:\ngradle.properties:</p>\n\n<pre><code>version=0.0.1\ndate=\n</code></pre>\n\n<p>build.gradle:</p>\n\n<pre><code>task changeDate() {\n    file = new File(\"changelogs/CHANGELOG_RELEASE_FROM_\"+getDate()+\".md\");\n    project.setProperty(\"date\",getDate());\n}\n</code></pre>\n\n<p>It dosent work and it doesn't save date variable into gradle.properties. </p>\n\n<p>So I wish that I can have a date from release in my gradle.properties file:</p>\n\n<p>gradle.properties:</p>\n\n<pre><code>version=0.0.1\ndate=12.04.2019\n</code></pre>\n"},{"tags":["java","c","ubuntu","jna","termios"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690032463,"post_id":76743815,"comment_id":135297900,"body_markdown":"That function is actually in `libexplain` so your code needs to link to that. Yes is the answer to your last question. Fun fact: null-terminated strings in C but Java strings can *contain* null at any point.","body":"That function is actually in <code>libexplain</code> so your code needs to link to that. Yes is the answer to your last question. Fun fact: null-terminated strings in C but Java strings can <i>contain</i> null at any point."},{"owner":{"account_id":503138,"reputation":16391,"user_id":1599004,"display_name":"sawdust"},"score":0,"creation_date":1690173662,"post_id":76743815,"comment_id":135311036,"body_markdown":"When a syscall, such as **tcgetattr()**, returns -1, the program is expected to access the global variable **errno** for further explanation. Each possible numeric value of **errno** has a mnemonic or macro name, which is explained in the **errno** man page.","body":"When a syscall, such as <b>tcgetattr()</b>, returns -1, the program is expected to access the global variable <b>errno</b> for further explanation. Each possible numeric value of <b>errno</b> has a mnemonic or macro name, which is explained in the <b>errno</b> man page."}],"answers":[{"tags":[],"owner":{"account_id":1187908,"reputation":8617,"user_id":1161484,"accept_rate":93,"display_name":"Daniel Widdis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690265493,"creation_date":1690203577,"answer_id":76754752,"question_id":76743815,"body_markdown":"The `tcgetattr()` man page references the [POSIX spec][1] which defines the possible failures, both of which are associated with the file descriptor:\r\n\r\n&gt; The tcgetattr() function shall fail if:\r\n&gt; \r\n&gt;     [EBADF] The fildes argument is not a valid file descriptor. \r\n&gt;     [ENOTTY] The file associated with fildes is not a terminal.\r\n\r\nSo your file descriptor may be invalid, or may not be a terminal (it could be a pipe, for example).  As you are executing in Java, it&#39;s likely that the JVM has taken over the file descriptor and it is not acting as you might expect it to.\r\n\r\nYou&#39;ve defined your output file descriptor as 0, which is actually stdin; stdout is typically 1:\r\n```java\r\nint SYSTEM_OUT_FD = 0;\r\n```\r\n\r\nIt&#39;s possible neither of these will actually work. You&#39;re executing in Java which really obfuscates the native `int` value of the standard input/output file descriptors.  [This presentation][2] claims the following code will fetch it for you:\r\n```java\r\nimport sun.misc.SharedSecrets;\r\n\r\npublic static int getFileDescriptor(FileDescriptor fd) {\r\n    return SharedSecrets.getJavaIOFileDescriptorAccess().get(fd);\r\n}\r\n\r\npublic static int getFileDescriptor(InputStream is) {\r\n    return getFileDescriptor(((FileInputStream)is).getFD());\r\n}\r\n```\r\n\r\nAs far as your debugging errors, the comments have indicated you need another library for the explain function (which is a fancy wrapper around fetching `errno` which you can do with just the C library to get one of the two file-descriptor-related errors).\r\n\r\nAlso check your structure mapping.  You&#39;ve included the [&quot;at least the following members&quot;][3] list from the man page, but your header file may contain more elements or a different array size.  See [this termios.h file][4] for example which has one byte less than yours and `c_cc` array offset by a byte.\r\n```c\r\n#define NCCS 17\r\nstruct termios {\r\n\tunsigned long c_iflag;\t\t/* input mode flags */\r\n\tunsigned long c_oflag;\t\t/* output mode flags */\r\n\tunsigned long c_cflag;\t\t/* control mode flags */\r\n\tunsigned long c_lflag;\t\t/* local mode flags */\r\n\tunsigned char c_line;\t\t/* line discipline */\r\n\tunsigned char c_cc[NCCS];\t/* control characters */\r\n};\r\n```\r\n\r\n\r\n  [1]: https://pubs.opengroup.org/onlinepubs/007904975/functions/tcgetattr.html\r\n  [2]: https://www.usenix.org/sites/default/files/conference/protected-files/srecon17_americas_slides_banks.pdf\r\n  [3]: https://pubs.opengroup.org/onlinepubs/7908799/xsh/termios.h.html\r\n  [4]: https://kernel.googlesource.com/pub/scm/linux/kernel/git/nico/archive/+/v0.01/include/termios.h","title":"Debuging failed JNA call to termios function tcgetattr()","body":"<p>The <code>tcgetattr()</code> man page references the <a href=\"https://pubs.opengroup.org/onlinepubs/007904975/functions/tcgetattr.html\" rel=\"nofollow noreferrer\">POSIX spec</a> which defines the possible failures, both of which are associated with the file descriptor:</p>\n<blockquote>\n<p>The tcgetattr() function shall fail if:</p>\n<pre><code>[EBADF] The fildes argument is not a valid file descriptor. \n[ENOTTY] The file associated with fildes is not a terminal.\n</code></pre>\n</blockquote>\n<p>So your file descriptor may be invalid, or may not be a terminal (it could be a pipe, for example).  As you are executing in Java, it's likely that the JVM has taken over the file descriptor and it is not acting as you might expect it to.</p>\n<p>You've defined your output file descriptor as 0, which is actually stdin; stdout is typically 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>int SYSTEM_OUT_FD = 0;\n</code></pre>\n<p>It's possible neither of these will actually work. You're executing in Java which really obfuscates the native <code>int</code> value of the standard input/output file descriptors.  <a href=\"https://www.usenix.org/sites/default/files/conference/protected-files/srecon17_americas_slides_banks.pdf\" rel=\"nofollow noreferrer\">This presentation</a> claims the following code will fetch it for you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import sun.misc.SharedSecrets;\n\npublic static int getFileDescriptor(FileDescriptor fd) {\n    return SharedSecrets.getJavaIOFileDescriptorAccess().get(fd);\n}\n\npublic static int getFileDescriptor(InputStream is) {\n    return getFileDescriptor(((FileInputStream)is).getFD());\n}\n</code></pre>\n<p>As far as your debugging errors, the comments have indicated you need another library for the explain function (which is a fancy wrapper around fetching <code>errno</code> which you can do with just the C library to get one of the two file-descriptor-related errors).</p>\n<p>Also check your structure mapping.  You've included the <a href=\"https://pubs.opengroup.org/onlinepubs/7908799/xsh/termios.h.html\" rel=\"nofollow noreferrer\">&quot;at least the following members&quot;</a> list from the man page, but your header file may contain more elements or a different array size.  See <a href=\"https://kernel.googlesource.com/pub/scm/linux/kernel/git/nico/archive/+/v0.01/include/termios.h\" rel=\"nofollow noreferrer\">this termios.h file</a> for example which has one byte less than yours and <code>c_cc</code> array offset by a byte.</p>\n<pre class=\"lang-c prettyprint-override\"><code>#define NCCS 17\nstruct termios {\n    unsigned long c_iflag;      /* input mode flags */\n    unsigned long c_oflag;      /* output mode flags */\n    unsigned long c_cflag;      /* control mode flags */\n    unsigned long c_lflag;      /* local mode flags */\n    unsigned char c_line;       /* line discipline */\n    unsigned char c_cc[NCCS];   /* control characters */\n};\n</code></pre>\n"}],"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690265547,"creation_date":1690029453,"question_id":76743815,"body_markdown":"I am trying to debug my call to `termios` function `tcgetattr()`. It returns -1 as the result and I searched internet to find out more details about what the call fails. I found that I can make a call to explain_tcgetattr() to get more details about the error. In the code below I added the method signature to my interface so that the proxy can implement it, but I get the exception I have added below.\r\n\r\n\r\n**My code:**\r\n\r\n    package org.example;\r\n    \r\n    import com.sun.jna.Library;\r\n    import com.sun.jna.Native;\r\n    import com.sun.jna.Structure;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    \r\n    public class App {\r\n    \r\n        private static LibC.Termios originalAttributes;\r\n        private static int rows = 10;\r\n        private static int columns = 10;\r\n    \r\n        public static void main(String[] args) throws IOException {\r\n            // System.out.println(&quot;Hello World&quot;);\r\n            /*System.out.println(&quot;\\033[4;44;31mHello World\\033[0mHello&quot;);\r\n            System.out.println(&quot;\\033[2J&quot;);\r\n            System.out.println(&quot;\\033[5H&quot;);*/\r\n    \r\n            enableRawMode();\r\n            initEditor();\r\n    \r\n            while (true){\r\n                refreshScreen();\r\n                int key = readKey();\r\n                handleKey(key);\r\n            }\r\n    \r\n        }\r\n    \r\n        private static void initEditor() {\r\n            LibC.Winsize windowSize = getWindowSize();\r\n            columns = windowSize.ws_col;\r\n            rows = windowSize.ws_row;\r\n        }\r\n    \r\n        private static void refreshScreen() {\r\n            StringBuilder builder = new StringBuilder();\r\n    \r\n            builder.append(&quot;\\033[2J&quot;);\r\n            builder.append(&quot;\\033[H&quot;);\r\n    \r\n            for (int i = 0; i &lt; rows - 1; i++) {\r\n                builder.append(&quot;~\\r\\n&quot;);\r\n            }\r\n    \r\n            String statusMessage = &quot;Marco Code&#39;s Editor - v0.0.1&quot;;\r\n            builder.append(&quot;\\033[7m&quot;)\r\n                    .append(statusMessage)\r\n                    .append(&quot; &quot;.repeat(Math.max(0, columns - statusMessage.length())))\r\n                    .append(&quot;\\033[0m&quot;);\r\n    \r\n            builder.append(&quot;\\033[H&quot;);\r\n            System.out.print(builder);\r\n        }\r\n    \r\n    \r\n        private static int readKey() throws IOException {\r\n            return System.in.read();\r\n        }\r\n    \r\n        private static void handleKey(int key) {\r\n            if (key == &#39;q&#39;) {\r\n                System.out.print(&quot;\\033[2J&quot;);\r\n                System.out.print(&quot;\\033[H&quot;);\r\n                LibC.INSTANCE.tcsetattr(LibC.SYSTEM_OUT_FD, LibC.TCSAFLUSH, originalAttributes);\r\n                System.exit(0);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        private static void enableRawMode() {\r\n            LibC.Termios termios = new LibC.Termios();\r\n            int rc = LibC.INSTANCE.tcgetattr(LibC.SYSTEM_OUT_FD, termios);\r\n    \r\n            if (rc != 0) {\r\n                System.err.println(&quot;There was a problem calling tcgetattr: &quot;+rc);\r\n                System.out.println(LibC.INSTANCE.explain_tcgetattr(LibC.SYSTEM_OUT_FD, termios));\r\n                System.exit(rc);\r\n            }\r\n    \r\n            originalAttributes = LibC.Termios.of(termios);\r\n    \r\n            termios.c_lflag &amp;= ~(LibC.ECHO | LibC.ICANON | LibC.IEXTEN | LibC.ISIG);\r\n            termios.c_iflag &amp;= ~(LibC.IXON | LibC.ICRNL);\r\n            termios.c_oflag &amp;= ~(LibC.OPOST);\r\n    \r\n           /* termios.c_cc[LibC.VMIN] = 0;\r\n            termios.c_cc[LibC.VTIME] = 1;*/\r\n    \r\n            LibC.INSTANCE.tcsetattr(LibC.SYSTEM_OUT_FD, LibC.TCSAFLUSH, termios);\r\n        }\r\n    \r\n        private static LibC.Winsize getWindowSize() {\r\n            final LibC.Winsize winsize = new LibC.Winsize();\r\n            final int rc = LibC.INSTANCE.ioctl(LibC.SYSTEM_OUT_FD, LibC.TIOCGWINSZ, winsize);\r\n    \r\n            if (rc != 0) {\r\n                System.err.println(&quot;ioctl failed with return code[={}]&quot; + rc);\r\n                System.exit(1);\r\n            }\r\n    \r\n            return winsize;\r\n        }\r\n    \r\n    }\r\n    \r\n    interface LibC extends Library {\r\n    \r\n        int SYSTEM_OUT_FD = 0;\r\n        int ISIG = 1, ICANON = 2, ECHO = 10, TCSAFLUSH = 2,\r\n                IXON = 2000, ICRNL = 400, IEXTEN = 100000, OPOST = 1, VMIN = 6, VTIME = 5, TIOCGWINSZ = 0x5413;\r\n    \r\n        // we&#39;re loading the C standard library for POSIX systems\r\n        LibC INSTANCE = Native.load(&quot;c&quot;, LibC.class);\r\n    \r\n        @Structure.FieldOrder(value = {&quot;ws_row&quot;, &quot;ws_col&quot;, &quot;ws_xpixel&quot;, &quot;ws_ypixel&quot;})\r\n        class Winsize extends Structure {\r\n            public short ws_row, ws_col, ws_xpixel, ws_ypixel;\r\n        }\r\n    \r\n    \r\n    \r\n        @Structure.FieldOrder(value = {&quot;c_iflag&quot;, &quot;c_oflag&quot;, &quot;c_cflag&quot;, &quot;c_lflag&quot;, &quot;c_cc&quot;})\r\n        class Termios extends Structure {\r\n            public int c_iflag, c_oflag, c_cflag, c_lflag;\r\n    \r\n            public byte[] c_cc = new byte[19];\r\n    \r\n            public Termios() {\r\n            }\r\n    \r\n            public static Termios of(Termios t) {\r\n                Termios copy = new Termios();\r\n                copy.c_iflag = t.c_iflag;\r\n                copy.c_oflag = t.c_oflag;\r\n                copy.c_cflag = t.c_cflag;\r\n                copy.c_lflag = t.c_lflag;\r\n                copy.c_cc = t.c_cc.clone();\r\n                return copy;\r\n            }\r\n    \r\n            @Override\r\n            public String toString() {\r\n                return &quot;Termios{&quot; +\r\n                        &quot;c_iflag=&quot; + c_iflag +\r\n                        &quot;, c_oflag=&quot; + c_oflag +\r\n                        &quot;, c_cflag=&quot; + c_cflag +\r\n                        &quot;, c_lflag=&quot; + c_lflag +\r\n                        &quot;, c_cc=&quot; + Arrays.toString(c_cc) +\r\n                        &#39;}&#39;;\r\n            }\r\n        }\r\n    \r\n    \r\n        int tcgetattr(int fd, Termios termios);\r\n    \r\n        int tcsetattr(int fd, int optional_actions,\r\n                      Termios termios);\r\n    \r\n        int ioctl(int fd, int opt, Winsize winsize);\r\n\r\n        //THIS GIVES LINKAGE ERROR\r\n        int explain_tcgetattr(int fildes, Termios termios);\r\n    \r\n    }\r\n\r\n**Exception:**\r\n\r\n    There was a problem calling tcgetattr: -1\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function &#39;explain_tcgetattr&#39;: /snap/openjdk/1465/jdk/bin/java: undefined symbol: explain_tcgetattr\r\n    \tat com.sun.jna.Function.&lt;init&gt;(Function.java:252)\r\n    \tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\r\n    \tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\r\n    \tat com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\r\n    \tat com.sun.jna.Library$Handler.invoke(Library.java:248)\r\n    \tat org.example.$Proxy0.explain_tcgetattr(Unknown Source)\r\n    \tat org.example.App.enableRawMode(App.java:81)\r\n    \tat org.example.App.main(App.java:22)\r\n\r\n**Below is the description from man page:**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAlso I am not sure if `String` is the Java equivalent of `const char *` in C. Please advise.\r\n\r\n  [1]: https://i.stack.imgur.com/Xd8XU.png","title":"Debuging failed JNA call to termios function tcgetattr()","body":"<p>I am trying to debug my call to <code>termios</code> function <code>tcgetattr()</code>. It returns -1 as the result and I searched internet to find out more details about what the call fails. I found that I can make a call to explain_tcgetattr() to get more details about the error. In the code below I added the method signature to my interface so that the proxy can implement it, but I get the exception I have added below.</p>\n<p><strong>My code:</strong></p>\n<pre><code>package org.example;\n\nimport com.sun.jna.Library;\nimport com.sun.jna.Native;\nimport com.sun.jna.Structure;\n\nimport java.io.IOException;\nimport java.util.Arrays;\n\npublic class App {\n\n    private static LibC.Termios originalAttributes;\n    private static int rows = 10;\n    private static int columns = 10;\n\n    public static void main(String[] args) throws IOException {\n        // System.out.println(&quot;Hello World&quot;);\n        /*System.out.println(&quot;\\033[4;44;31mHello World\\033[0mHello&quot;);\n        System.out.println(&quot;\\033[2J&quot;);\n        System.out.println(&quot;\\033[5H&quot;);*/\n\n        enableRawMode();\n        initEditor();\n\n        while (true){\n            refreshScreen();\n            int key = readKey();\n            handleKey(key);\n        }\n\n    }\n\n    private static void initEditor() {\n        LibC.Winsize windowSize = getWindowSize();\n        columns = windowSize.ws_col;\n        rows = windowSize.ws_row;\n    }\n\n    private static void refreshScreen() {\n        StringBuilder builder = new StringBuilder();\n\n        builder.append(&quot;\\033[2J&quot;);\n        builder.append(&quot;\\033[H&quot;);\n\n        for (int i = 0; i &lt; rows - 1; i++) {\n            builder.append(&quot;~\\r\\n&quot;);\n        }\n\n        String statusMessage = &quot;Marco Code's Editor - v0.0.1&quot;;\n        builder.append(&quot;\\033[7m&quot;)\n                .append(statusMessage)\n                .append(&quot; &quot;.repeat(Math.max(0, columns - statusMessage.length())))\n                .append(&quot;\\033[0m&quot;);\n\n        builder.append(&quot;\\033[H&quot;);\n        System.out.print(builder);\n    }\n\n\n    private static int readKey() throws IOException {\n        return System.in.read();\n    }\n\n    private static void handleKey(int key) {\n        if (key == 'q') {\n            System.out.print(&quot;\\033[2J&quot;);\n            System.out.print(&quot;\\033[H&quot;);\n            LibC.INSTANCE.tcsetattr(LibC.SYSTEM_OUT_FD, LibC.TCSAFLUSH, originalAttributes);\n            System.exit(0);\n        }\n    }\n\n\n\n    private static void enableRawMode() {\n        LibC.Termios termios = new LibC.Termios();\n        int rc = LibC.INSTANCE.tcgetattr(LibC.SYSTEM_OUT_FD, termios);\n\n        if (rc != 0) {\n            System.err.println(&quot;There was a problem calling tcgetattr: &quot;+rc);\n            System.out.println(LibC.INSTANCE.explain_tcgetattr(LibC.SYSTEM_OUT_FD, termios));\n            System.exit(rc);\n        }\n\n        originalAttributes = LibC.Termios.of(termios);\n\n        termios.c_lflag &amp;= ~(LibC.ECHO | LibC.ICANON | LibC.IEXTEN | LibC.ISIG);\n        termios.c_iflag &amp;= ~(LibC.IXON | LibC.ICRNL);\n        termios.c_oflag &amp;= ~(LibC.OPOST);\n\n       /* termios.c_cc[LibC.VMIN] = 0;\n        termios.c_cc[LibC.VTIME] = 1;*/\n\n        LibC.INSTANCE.tcsetattr(LibC.SYSTEM_OUT_FD, LibC.TCSAFLUSH, termios);\n    }\n\n    private static LibC.Winsize getWindowSize() {\n        final LibC.Winsize winsize = new LibC.Winsize();\n        final int rc = LibC.INSTANCE.ioctl(LibC.SYSTEM_OUT_FD, LibC.TIOCGWINSZ, winsize);\n\n        if (rc != 0) {\n            System.err.println(&quot;ioctl failed with return code[={}]&quot; + rc);\n            System.exit(1);\n        }\n\n        return winsize;\n    }\n\n}\n\ninterface LibC extends Library {\n\n    int SYSTEM_OUT_FD = 0;\n    int ISIG = 1, ICANON = 2, ECHO = 10, TCSAFLUSH = 2,\n            IXON = 2000, ICRNL = 400, IEXTEN = 100000, OPOST = 1, VMIN = 6, VTIME = 5, TIOCGWINSZ = 0x5413;\n\n    // we're loading the C standard library for POSIX systems\n    LibC INSTANCE = Native.load(&quot;c&quot;, LibC.class);\n\n    @Structure.FieldOrder(value = {&quot;ws_row&quot;, &quot;ws_col&quot;, &quot;ws_xpixel&quot;, &quot;ws_ypixel&quot;})\n    class Winsize extends Structure {\n        public short ws_row, ws_col, ws_xpixel, ws_ypixel;\n    }\n\n\n\n    @Structure.FieldOrder(value = {&quot;c_iflag&quot;, &quot;c_oflag&quot;, &quot;c_cflag&quot;, &quot;c_lflag&quot;, &quot;c_cc&quot;})\n    class Termios extends Structure {\n        public int c_iflag, c_oflag, c_cflag, c_lflag;\n\n        public byte[] c_cc = new byte[19];\n\n        public Termios() {\n        }\n\n        public static Termios of(Termios t) {\n            Termios copy = new Termios();\n            copy.c_iflag = t.c_iflag;\n            copy.c_oflag = t.c_oflag;\n            copy.c_cflag = t.c_cflag;\n            copy.c_lflag = t.c_lflag;\n            copy.c_cc = t.c_cc.clone();\n            return copy;\n        }\n\n        @Override\n        public String toString() {\n            return &quot;Termios{&quot; +\n                    &quot;c_iflag=&quot; + c_iflag +\n                    &quot;, c_oflag=&quot; + c_oflag +\n                    &quot;, c_cflag=&quot; + c_cflag +\n                    &quot;, c_lflag=&quot; + c_lflag +\n                    &quot;, c_cc=&quot; + Arrays.toString(c_cc) +\n                    '}';\n        }\n    }\n\n\n    int tcgetattr(int fd, Termios termios);\n\n    int tcsetattr(int fd, int optional_actions,\n                  Termios termios);\n\n    int ioctl(int fd, int opt, Winsize winsize);\n\n    //THIS GIVES LINKAGE ERROR\n    int explain_tcgetattr(int fildes, Termios termios);\n\n}\n</code></pre>\n<p><strong>Exception:</strong></p>\n<pre><code>There was a problem calling tcgetattr: -1\nException in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: Error looking up function 'explain_tcgetattr': /snap/openjdk/1465/jdk/bin/java: undefined symbol: explain_tcgetattr\n    at com.sun.jna.Function.&lt;init&gt;(Function.java:252)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:620)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:596)\n    at com.sun.jna.NativeLibrary.getFunction(NativeLibrary.java:582)\n    at com.sun.jna.Library$Handler.invoke(Library.java:248)\n    at org.example.$Proxy0.explain_tcgetattr(Unknown Source)\n    at org.example.App.enableRawMode(App.java:81)\n    at org.example.App.main(App.java:22)\n</code></pre>\n<p><strong>Below is the description from man page:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/Xd8XU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Xd8XU.png\" alt=\"enter image description here\" /></a></p>\n<p>Also I am not sure if <code>String</code> is the Java equivalent of <code>const char *</code> in C. Please advise.</p>\n"},{"tags":["java","json","spring","request"],"owner":{"account_id":4576433,"reputation":1,"user_id":3714757,"display_name":"user3714757"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690265072,"creation_date":1690265072,"question_id":76759833,"body_markdown":"I am currently developing a Spring Boot application that involves parsing JSON requests. I am experiencing an issue when I attempt to send a particularly large request to my server. I&#39;ve found that the application is replacing the latter part of these large requests with null characters, which is causing a JsonMappingException. Here is the error message I receive:\r\n\r\n\r\n`Bad Request: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 7160] (through reference chain: TblMerchantDTO[&quot;cases&quot;]-&gt;java.util.HashSet[16]-&gt;TblCaseDTO[&quot;description&quot;])`\r\nFrom what I&#39;ve discovered so far, it appears that this error happens when the request exceeds a certain length, resulting in the trailing characters of the request being replaced with null characters (CTRL-CHAR, code 0). These null characters then cause the JsonMappingException due to being unquoted.\r\n\r\nCan anyone provide some guidance on how I might solve this issue? Are there any settings or parameters I can adjust to handle large requests correctly without this null character replacement? Any assistance would be greatly appreciated!\r\n\r\nThank you in advance.\r\n\r\nI want to be able to receive requests with long body(not 100MB large, around 10MB).","title":"JsonMappingException due to illegal unquoted character when sending large request","body":"<p>I am currently developing a Spring Boot application that involves parsing JSON requests. I am experiencing an issue when I attempt to send a particularly large request to my server. I've found that the application is replacing the latter part of these large requests with null characters, which is causing a JsonMappingException. Here is the error message I receive:</p>\n<p><code>Bad Request: JSON parse error: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value; nested exception is com.fasterxml.jackson.databind.JsonMappingException: Illegal unquoted character ((CTRL-CHAR, code 0)): has to be escaped using backslash to be included in string value at [Source: (org.springframework.util.StreamUtils$NonClosingInputStream); line: 1, column: 7160] (through reference chain: TblMerchantDTO[&quot;cases&quot;]-&gt;java.util.HashSet[16]-&gt;TblCaseDTO[&quot;description&quot;])</code>\nFrom what I've discovered so far, it appears that this error happens when the request exceeds a certain length, resulting in the trailing characters of the request being replaced with null characters (CTRL-CHAR, code 0). These null characters then cause the JsonMappingException due to being unquoted.</p>\n<p>Can anyone provide some guidance on how I might solve this issue? Are there any settings or parameters I can adjust to handle large requests correctly without this null character replacement? Any assistance would be greatly appreciated!</p>\n<p>Thank you in advance.</p>\n<p>I want to be able to receive requests with long body(not 100MB large, around 10MB).</p>\n"},{"tags":["java","selenium-webdriver","winium"],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690264810,"creation_date":1685091598,"question_id":76339250,"body_markdown":"I am trying to test window based app using my existing selenium project. I dont want to change anything in the existing code base just want to enable support for window based app so I have added below dependancies in the project but when I am triggering my test getting below error.\r\nCan someone help me please? Here is the code so far I have got::\r\n    \r\n\r\n        WiniumDriver driver = null;\r\n        String appPath = &quot;C:/windows/system32/calc.exe&quot;;\r\n        String address = &quot;http://localhost:9999&quot;;\r\n        DesktopOptions option = new DesktopOptions();\r\n        option.setApplicationPath(appPath);\r\n        option.setDebugConnectToRunningApp(false);\r\n        option.setLaunchDelay(2);\r\n        driver = new WiniumDriver(new URL(address), option);\r\n     \r\n**Dependency**:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.2gis.winium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;winium-elements-desktop&lt;/artifactId&gt;\r\n            &lt;version&gt;0.2.0-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.2gis.winium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;winium-webdriver&lt;/artifactId&gt;\r\n            &lt;version&gt;0.1.0-1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n**Error:** \r\n\r\n    WARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [app, debugConnectToRunningApp, launchDelay]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\r\n    Exception in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n    Host info: host: &#39;UKC-3HTNSL3&#39;, ip: &#39;192.168.0.26&#39;\r\n    Build info: version: &#39;4.9.0&#39;, revision: &#39;d7057100a6&#39;\r\n    System info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_281&#39;\r\n    Driver info: org.openqa.selenium.winium.WiniumDriver\r\n    Command: [null, newSession {capabilities=[Capabilities {app: C:/windows/system32/calc.exe, debugConnectToRunningApp: false, launchDelay: 2}]}]\r\n    Capabilities {app: C:/windows/system32/calc.exe, debugConnectToRunningApp: false, launchDelay: 2}\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\r\n    \tat org.openqa.selenium.winium.WiniumDriver.&lt;init&gt;(WiniumDriver.java:84)\r\n    \tat Acuitas.ui.myFirstTestCase.main(myFirstTestCase.java:30)\r\n    Caused by: java.lang.IllegalArgumentException: Illegal key values seen in w3c capabilities: [app, debugConnectToRunningApp, launchDelay]\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.lambda$validate$4(NewSessionPayload.java:175)\r\n    \tat java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:372)\r\n    \tat java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:373)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:373)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n    \tat java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\r\n    \tat java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.validate(NewSessionPayload.java:179)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.&lt;init&gt;(NewSessionPayload.java:91)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:124)\r\n    \tat org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:112)\r\n    \tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\r\n    \tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\r\n    \tat org.openqa.selenium.winium.WiniumDriverCommandExecutor.execute(WiniumDriverCommandExecutor.java:78)\r\n    \tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\r\n    \t... 4 more\r\n    \r\n    FAILURE: Build failed with an exception.\r\n    \r\n    * What went wrong:\r\n    Execution failed for task &#39;:TestClass.main()&#39;.\r\n    &gt; Process &#39;command &#39;C:/Program Files/Java/jdk1.8.0_281/bin/java.exe&#39;&#39; finished with non-zero exit value 1\r\n    \r\n    * Try:\r\n    &gt; Run with --stacktrace option to get the stack trace.\r\n    &gt; Run with --info or --debug option to get more log output.\r\n    &gt; Run with --scan to get full insights.\r\n\r\n","title":"Caused by: java.lang.IllegalArgumentException: Illegal key values seen in w3c capabilities: [app, debugConnectToRunningApp, launchDelay]","body":"<p>I am trying to test window based app using my existing selenium project. I dont want to change anything in the existing code base just want to enable support for window based app so I have added below dependancies in the project but when I am triggering my test getting below error.\nCan someone help me please? Here is the code so far I have got::</p>\n<pre><code>    WiniumDriver driver = null;\n    String appPath = &quot;C:/windows/system32/calc.exe&quot;;\n    String address = &quot;http://localhost:9999&quot;;\n    DesktopOptions option = new DesktopOptions();\n    option.setApplicationPath(appPath);\n    option.setDebugConnectToRunningApp(false);\n    option.setLaunchDelay(2);\n    driver = new WiniumDriver(new URL(address), option);\n \n</code></pre>\n<p><strong>Dependency</strong>:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.2gis.winium&lt;/groupId&gt;\n        &lt;artifactId&gt;winium-elements-desktop&lt;/artifactId&gt;\n        &lt;version&gt;0.2.0-1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.github.2gis.winium&lt;/groupId&gt;\n        &lt;artifactId&gt;winium-webdriver&lt;/artifactId&gt;\n        &lt;version&gt;0.1.0-1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>WARNING: Support for Legacy Capabilities is deprecated; You are sending the following invalid capabilities: [app, debugConnectToRunningApp, launchDelay]; Please update to W3C Syntax: https://www.selenium.dev/blog/2022/legacy-protocol-support/\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'UKC-3HTNSL3', ip: '192.168.0.26'\nBuild info: version: '4.9.0', revision: 'd7057100a6'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_281'\nDriver info: org.openqa.selenium.winium.WiniumDriver\nCommand: [null, newSession {capabilities=[Capabilities {app: C:/windows/system32/calc.exe, debugConnectToRunningApp: false, launchDelay: 2}]}]\nCapabilities {app: C:/windows/system32/calc.exe, debugConnectToRunningApp: false, launchDelay: 2}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:561)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:229)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:157)\n    at org.openqa.selenium.winium.WiniumDriver.&lt;init&gt;(WiniumDriver.java:84)\n    at Acuitas.ui.myFirstTestCase.main(myFirstTestCase.java:30)\nCaused by: java.lang.IllegalArgumentException: Illegal key values seen in w3c capabilities: [app, debugConnectToRunningApp, launchDelay]\n    at org.openqa.selenium.remote.NewSessionPayload.lambda$validate$4(NewSessionPayload.java:175)\n    at java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:372)\n    at java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:373)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:373)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:151)\n    at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:174)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:418)\n    at org.openqa.selenium.remote.NewSessionPayload.validate(NewSessionPayload.java:179)\n    at org.openqa.selenium.remote.NewSessionPayload.&lt;init&gt;(NewSessionPayload.java:91)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:124)\n    at org.openqa.selenium.remote.NewSessionPayload.create(NewSessionPayload.java:112)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:67)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:165)\n    at org.openqa.selenium.winium.WiniumDriverCommandExecutor.execute(WiniumDriverCommandExecutor.java:78)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:543)\n    ... 4 more\n\nFAILURE: Build failed with an exception.\n\n* What went wrong:\nExecution failed for task ':TestClass.main()'.\n&gt; Process 'command 'C:/Program Files/Java/jdk1.8.0_281/bin/java.exe'' finished with non-zero exit value 1\n\n* Try:\n&gt; Run with --stacktrace option to get the stack trace.\n&gt; Run with --info or --debug option to get more log output.\n&gt; Run with --scan to get full insights.\n</code></pre>\n"},{"tags":["java","apache-spark","hadoop","hive"],"comments":[{"owner":{"account_id":16516976,"reputation":76,"user_id":11934130,"display_name":"cliff"},"score":0,"creation_date":1606550757,"post_id":65044769,"comment_id":114998013,"body_markdown":"maybe it has to do with the java version installed on your server, or the one your hive is configured to use.\n\nthis might help: https://hadooptutorials.info/2020/10/11/part-5-using-spark-as-execution-engine-for-hive-2/","body":"maybe it has to do with the java version installed on your server, or the one your hive is configured to use.  this might help: <a href=\"https://hadooptutorials.info/2020/10/11/part-5-using-spark-as-execution-engine-for-hive-2/\" rel=\"nofollow noreferrer\">hadooptutorials.info/2020/10/11/&hellip;</a>"},{"owner":{"account_id":3479110,"reputation":197,"user_id":2911645,"accept_rate":100,"display_name":"ramanKC"},"score":3,"creation_date":1645190110,"post_id":65044769,"comment_id":125811527,"body_markdown":"I am also facing the same. The jar commons-lang3-3.9.jar do have the JAVA_9 field.","body":"I am also facing the same. The jar commons-lang3-3.9.jar do have the JAVA_9 field."}],"answers":[{"tags":[],"owner":{"account_id":20484263,"reputation":1,"user_id":15031801,"display_name":"sumit kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689660550,"creation_date":1689660550,"answer_id":76709927,"question_id":65044769,"body_markdown":"This error(java.lang.NoSuchFieldError: JAVA_9) is there because, there is no enum for java version 9 in in common-lang package you are using in gradle/maven file. Use this version with java 17 -&gt; **org.apache.commons:commons-lang3:3.12.0**. In StorageUtil$.class, we have this sninnpet.\r\n\r\n     if (SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_9))\r\nand this is not present in common-lang package, to verify click on JavaVersion, it will direct you to that class, and check if enum for java version is there or not.\r\nFor above version, we have these JAVA VERSION.\r\n\r\n    public enum JavaVersion {\r\n\r\n    /**\r\n     * The Java version reported by Android. This is not an official Java version number.\r\n     */\r\n    JAVA_0_9(1.5f, &quot;0.9&quot;),\r\n\r\n    /**\r\n     * Java 1.1.\r\n     */\r\n    JAVA_1_1(1.1f, &quot;1.1&quot;),\r\n\r\n    /**\r\n     * Java 1.2.\r\n     */\r\n    JAVA_1_2(1.2f, &quot;1.2&quot;),\r\n\r\n    /**\r\n     * Java 1.3.\r\n     */\r\n    JAVA_1_3(1.3f, &quot;1.3&quot;),\r\n\r\n    /**\r\n     * Java 1.4.\r\n     */\r\n    JAVA_1_4(1.4f, &quot;1.4&quot;),\r\n\r\n    /**\r\n     * Java 1.5.\r\n     */\r\n    JAVA_1_5(1.5f, &quot;1.5&quot;),\r\n\r\n    /**\r\n     * Java 1.6.\r\n     */\r\n    JAVA_1_6(1.6f, &quot;1.6&quot;),\r\n\r\n    /**\r\n     * Java 1.7.\r\n     */\r\n    JAVA_1_7(1.7f, &quot;1.7&quot;),\r\n\r\n    /**\r\n     * Java 1.8.\r\n     */\r\n    JAVA_1_8(1.8f, &quot;1.8&quot;),\r\n\r\n    /**\r\n     * Java 1.9.\r\n     *\r\n     * @deprecated As of release 3.5, replaced by {@link #JAVA_9}\r\n     */\r\n    @Deprecated\r\n    JAVA_1_9(9.0f, &quot;9&quot;),\r\n\r\n    /**\r\n     * Java 9.\r\n     *\r\n     * @since 3.5\r\n     */\r\n    JAVA_9(9.0f, &quot;9&quot;),\r\n\r\n    /**\r\n     * Java 10.\r\n     *\r\n     * @since 3.7\r\n     */\r\n    JAVA_10(10.0f, &quot;10&quot;),\r\n\r\n    /**\r\n     * Java 11.\r\n     *\r\n     * @since 3.8\r\n     */\r\n    JAVA_11(11.0f, &quot;11&quot;),\r\n\r\n    /**\r\n     * Java 12.\r\n     *\r\n     * @since 3.9\r\n     */\r\n    JAVA_12(12.0f, &quot;12&quot;),\r\n\r\n    /**\r\n     * Java 13.\r\n     *\r\n     * @since 3.9\r\n     */\r\n    JAVA_13(13.0f, &quot;13&quot;),\r\n\r\n    /**\r\n     * Java 14.\r\n     *\r\n     * @since 3.11\r\n     */\r\n    JAVA_14(14.0f, &quot;14&quot;),\r\n\r\n    /**\r\n     * Java 15.\r\n     *\r\n     * @since 3.11\r\n     */\r\n    JAVA_15(15.0f, &quot;15&quot;),\r\n\r\n    /**\r\n     * Java 16.\r\n     *\r\n     * @since 3.11\r\n     */\r\n    JAVA_16(16.0f, &quot;16&quot;),\r\n\r\n    /**[enter image description here][1]\r\n     * Java 17.\r\n     *\r\n     * @since 3.12.0\r\n     */\r\n    JAVA_17(17.0f, &quot;17&quot;),\r\n","title":"Apacher Hadoop , Apacher Hive on Apache Spark JAVA_9 common-lang version","body":"<p>This error(java.lang.NoSuchFieldError: JAVA_9) is there because, there is no enum for java version 9 in in common-lang package you are using in gradle/maven file. Use this version with java 17 -&gt; <strong>org.apache.commons:commons-lang3:3.12.0</strong>. In StorageUtil$.class, we have this sninnpet.</p>\n<pre><code> if (SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_9))\n</code></pre>\n<p>and this is not present in common-lang package, to verify click on JavaVersion, it will direct you to that class, and check if enum for java version is there or not.\nFor above version, we have these JAVA VERSION.</p>\n<pre><code>public enum JavaVersion {\n\n/**\n * The Java version reported by Android. This is not an official Java version number.\n */\nJAVA_0_9(1.5f, &quot;0.9&quot;),\n\n/**\n * Java 1.1.\n */\nJAVA_1_1(1.1f, &quot;1.1&quot;),\n\n/**\n * Java 1.2.\n */\nJAVA_1_2(1.2f, &quot;1.2&quot;),\n\n/**\n * Java 1.3.\n */\nJAVA_1_3(1.3f, &quot;1.3&quot;),\n\n/**\n * Java 1.4.\n */\nJAVA_1_4(1.4f, &quot;1.4&quot;),\n\n/**\n * Java 1.5.\n */\nJAVA_1_5(1.5f, &quot;1.5&quot;),\n\n/**\n * Java 1.6.\n */\nJAVA_1_6(1.6f, &quot;1.6&quot;),\n\n/**\n * Java 1.7.\n */\nJAVA_1_7(1.7f, &quot;1.7&quot;),\n\n/**\n * Java 1.8.\n */\nJAVA_1_8(1.8f, &quot;1.8&quot;),\n\n/**\n * Java 1.9.\n *\n * @deprecated As of release 3.5, replaced by {@link #JAVA_9}\n */\n@Deprecated\nJAVA_1_9(9.0f, &quot;9&quot;),\n\n/**\n * Java 9.\n *\n * @since 3.5\n */\nJAVA_9(9.0f, &quot;9&quot;),\n\n/**\n * Java 10.\n *\n * @since 3.7\n */\nJAVA_10(10.0f, &quot;10&quot;),\n\n/**\n * Java 11.\n *\n * @since 3.8\n */\nJAVA_11(11.0f, &quot;11&quot;),\n\n/**\n * Java 12.\n *\n * @since 3.9\n */\nJAVA_12(12.0f, &quot;12&quot;),\n\n/**\n * Java 13.\n *\n * @since 3.9\n */\nJAVA_13(13.0f, &quot;13&quot;),\n\n/**\n * Java 14.\n *\n * @since 3.11\n */\nJAVA_14(14.0f, &quot;14&quot;),\n\n/**\n * Java 15.\n *\n * @since 3.11\n */\nJAVA_15(15.0f, &quot;15&quot;),\n\n/**\n * Java 16.\n *\n * @since 3.11\n */\nJAVA_16(16.0f, &quot;16&quot;),\n\n/**[enter image description here][1]\n * Java 17.\n *\n * @since 3.12.0\n */\nJAVA_17(17.0f, &quot;17&quot;),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12444969,"reputation":41,"user_id":9061426,"display_name":"Karl Nordgren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690264659,"creation_date":1690264659,"answer_id":76759807,"question_id":65044769,"body_markdown":"In our case the user was on Spark 3.2.2 with Hadoop which depends on commons-lang3 3.12. commons-lang3 contains the enum `JavaVersion` which contains `JAVA_9`.\r\n\r\nIn addition the user was adding hive-jdbc-2.1.1-cdh6.3.4-standalone.jar to the classpath which contains a much older version of commons-lang3 which does not contain `JAVA_9`.\r\n\r\nThe user&#39;s Spark installation had `userClassPathFirst` set to `true` and therefore the older version of commons-lang3 was picked up.","title":"Apacher Hadoop , Apacher Hive on Apache Spark JAVA_9 common-lang version","body":"<p>In our case the user was on Spark 3.2.2 with Hadoop which depends on commons-lang3 3.12. commons-lang3 contains the enum <code>JavaVersion</code> which contains <code>JAVA_9</code>.</p>\n<p>In addition the user was adding hive-jdbc-2.1.1-cdh6.3.4-standalone.jar to the classpath which contains a much older version of commons-lang3 which does not contain <code>JAVA_9</code>.</p>\n<p>The user's Spark installation had <code>userClassPathFirst</code> set to <code>true</code> and therefore the older version of commons-lang3 was picked up.</p>\n"}],"owner":{"account_id":949796,"reputation":524,"user_id":976170,"accept_rate":82,"display_name":"Vahan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2567,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1690264659,"creation_date":1606518351,"question_id":65044769,"body_markdown":"Trying set Hive use Spark as engine.\r\n\r\nAfter long configurations got, Timeout error.\r\n\r\nApplication log file yarn logs -applicationId &lt;app_id&gt;\r\n \r\n   \r\n\r\n    ERROR yarn.ApplicationMaster: User class threw exception: java.lang.NoSuchFieldError: JAVA_9\r\n        java.lang.NoSuchFieldError: JAVA_9\r\n        \tat org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:207)\r\n        \tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\r\n        \tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:93)\r\n        \tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:370)\r\n\r\n\r\nThe Error is in file \r\nhttps://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/storage/StorageUtils.scala\r\n\r\n    private val bufferCleaner: DirectBuffer =&gt; Unit =\r\n    if (SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_9)) {\r\n      val cleanerMethod =\r\n        Utils.classForName(&quot;sun.misc.Unsafe&quot;).getMethod(&quot;invokeCleaner&quot;, classOf[ByteBuffer])\r\n      val unsafeField = classOf[Unsafe].getDeclaredField(&quot;theUnsafe&quot;)\r\n      unsafeField.setAccessible(true)\r\n      ..\r\nAfter research  found out that problem is in common-lang3* jar file.\r\n I updated all on files on server using with older versions to commons-lang3-3.9.jar jars in hadoop share , hive ,etc . \r\n\r\nhttps://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/JavaVersion.java \r\n\r\nBut still getting this error . \r\n\r\n","title":"Apacher Hadoop , Apacher Hive on Apache Spark JAVA_9 common-lang version","body":"<p>Trying set Hive use Spark as engine.</p>\n<p>After long configurations got, Timeout error.</p>\n<p>Application log file yarn logs -applicationId &lt;app_id&gt;</p>\n<pre><code>ERROR yarn.ApplicationMaster: User class threw exception: java.lang.NoSuchFieldError: JAVA_9\n    java.lang.NoSuchFieldError: JAVA_9\n        at org.apache.spark.storage.StorageUtils$.&lt;init&gt;(StorageUtils.scala:207)\n        at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala)\n        at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:93)\n        at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:370)\n</code></pre>\n<p>The Error is in file\n<a href=\"https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/storage/StorageUtils.scala\" rel=\"noreferrer\">https://github.com/apache/spark/blob/master/core/src/main/scala/org/apache/spark/storage/StorageUtils.scala</a></p>\n<pre><code>private val bufferCleaner: DirectBuffer =&gt; Unit =\nif (SystemUtils.isJavaVersionAtLeast(JavaVersion.JAVA_9)) {\n  val cleanerMethod =\n    Utils.classForName(&quot;sun.misc.Unsafe&quot;).getMethod(&quot;invokeCleaner&quot;, classOf[ByteBuffer])\n  val unsafeField = classOf[Unsafe].getDeclaredField(&quot;theUnsafe&quot;)\n  unsafeField.setAccessible(true)\n  ..\n</code></pre>\n<p>After research  found out that problem is in common-lang3* jar file.\nI updated all on files on server using with older versions to commons-lang3-3.9.jar jars in hadoop share , hive ,etc .</p>\n<p><a href=\"https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/JavaVersion.java\" rel=\"noreferrer\">https://github.com/apache/commons-lang/blob/master/src/main/java/org/apache/commons/lang3/JavaVersion.java</a></p>\n<p>But still getting this error .</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1589732304,"post_id":61848848,"comment_id":109404118,"body_markdown":"When you query a collection like this, you are actually getting the contents of all the documents in that collection.  There&#39;s no need to make another query - everything is already in each QueryDocumentSnapshot that you receive.","body":"When you query a collection like this, you are actually getting the contents of all the documents in that collection.  There&#39;s no need to make another query - everything is already in each QueryDocumentSnapshot that you receive."},{"owner":{"account_id":12824576,"reputation":499,"user_id":9278149,"display_name":"Nicholas"},"score":1,"creation_date":1589875462,"post_id":61848848,"comment_id":109458717,"body_markdown":"You can follow this [doc](https://firebase.google.com/docs/firestore/query-data/get-data#node.js_1) and replace the .collection(&quot;cities&quot;) with your root_collection.","body":"You can follow this <a href=\"https://firebase.google.com/docs/firestore/query-data/get-data#node.js_1\" rel=\"nofollow noreferrer\">doc</a> and replace the .collection(&quot;cities&quot;) with your root_collection."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589710208,"creation_date":1589709854,"answer_id":61850040,"question_id":61848848,"body_markdown":"&gt; However, after this I&#39;ll have to make n(number of documents in the collection) reads to fetch these documents, which will cost me a lot more than fetching them as a collection in a single read.\r\n\r\nIn order to create a list of document paths, you create &quot;n&quot; requests. To actually get the content of all the corresponding documents, you do another &quot;n&quot; request according to the newly created list. Why would you do that? If you need to get the documents together with their paths, why not to get them using a single request? So please check the following approach:\r\n\r\n```\r\nfirestore.collection(&quot;root_collection&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            List&lt;String&gt; paths = new ArrayList&lt;&gt;();\r\n            List&lt;ModelClass&gt; documents = new ArrayList&lt;&gt;();\r\n            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                paths.add(document.getPath());\r\n                documents.add(document.toObject(ModelClass.class));\r\n            }\r\n\r\n            //Do what you need to do with the lists\r\n        } else {\r\n            Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n        }\r\n    }\r\n});\r\n```\r\n\r\nOtherwise, that would be a waste of document reads.","title":"Get all the documents in a collection along with the path of the document","body":"<blockquote>\n  <p>However, after this I'll have to make n(number of documents in the collection) reads to fetch these documents, which will cost me a lot more than fetching them as a collection in a single read.</p>\n</blockquote>\n\n<p>In order to create a list of document paths, you create \"n\" requests. To actually get the content of all the corresponding documents, you do another \"n\" request according to the newly created list. Why would you do that? If you need to get the documents together with their paths, why not to get them using a single request? So please check the following approach:</p>\n\n<pre><code>firestore.collection(\"root_collection\").get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            List&lt;String&gt; paths = new ArrayList&lt;&gt;();\n            List&lt;ModelClass&gt; documents = new ArrayList&lt;&gt;();\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                paths.add(document.getPath());\n                documents.add(document.toObject(ModelClass.class));\n            }\n\n            //Do what you need to do with the lists\n        } else {\n            Log.d(TAG, \"Error getting documents: \", task.getException());\n        }\n    }\n});\n</code></pre>\n\n<p>Otherwise, that would be a waste of document reads.</p>\n"},{"tags":[],"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589732506,"creation_date":1589732506,"answer_id":61855032,"question_id":61848848,"body_markdown":"When you query a collection like this, you are actually getting the entire contents of **all** the documents in that collection.  There&#39;s no need to make another query - everything is already in each QueryDocumentSnapshot that you receive.  Note that [QueryDocumentSnapshot][1] subclasses [DocumentSnapshot][1].  You can simply call its getter methods to know the contents of the document.  For example, you can call `document.getData()` to get a Map of the entire document contents.\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QueryDocumentSnapshot","title":"Get all the documents in a collection along with the path of the document","body":"<p>When you query a collection like this, you are actually getting the entire contents of <strong>all</strong> the documents in that collection.  There's no need to make another query - everything is already in each QueryDocumentSnapshot that you receive.  Note that <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QueryDocumentSnapshot\" rel=\"nofollow noreferrer\">QueryDocumentSnapshot</a> subclasses <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/QueryDocumentSnapshot\" rel=\"nofollow noreferrer\">DocumentSnapshot</a>.  You can simply call its getter methods to know the contents of the document.  For example, you can call <code>document.getData()</code> to get a Map of the entire document contents.</p>\n"}],"owner":{"account_id":7524459,"reputation":1433,"user_id":6224662,"accept_rate":71,"display_name":"fireball.1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":793,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690264003,"creation_date":1589703415,"question_id":61848848,"body_markdown":"I want to get all the documents in a collection along with the corresponding document paths. I can use something like this to get all the document paths:\r\n\r\n```\r\nfirestore.collection(&quot;root_collection&quot;).get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n    @Override\r\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n        if (task.isSuccessful()) {\r\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n            for (QueryDocumentSnapshot document : task.getResult()) {\r\n                list.add(document.getPath());\r\n            }\r\n            Log.d(TAG, list.toString());\r\n        } else {\r\n            Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n        }\r\n    }\r\n});\r\n```\r\nHowever, after this I&#39;ll have to make n(number of documents in collection) reads to fetch these documents, which will cost me a lot more than fetching them as a collection in a single read. ","title":"Get all the documents in a collection along with the path of the document","body":"<p>I want to get all the documents in a collection along with the corresponding document paths. I can use something like this to get all the document paths:</p>\n\n<pre><code>firestore.collection(\"root_collection\").get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                list.add(document.getPath());\n            }\n            Log.d(TAG, list.toString());\n        } else {\n            Log.d(TAG, \"Error getting documents: \", task.getException());\n        }\n    }\n});\n</code></pre>\n\n<p>However, after this I'll have to make n(number of documents in collection) reads to fetch these documents, which will cost me a lot more than fetching them as a collection in a single read. </p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1589445712,"creation_date":1589445712,"answer_id":61792950,"question_id":61782011,"body_markdown":"The problem in your code is the following line of code:\r\n\r\n    counter.setCount(FieldValue.increment(1));\r\n\r\nYour `count` property is defined in your `Counter` class to be of type long. When you are using the `setCount()` method to set its value, you should pass a long value as an argument but you actually don&#39;t. The following statement:\r\n\r\n    FieldValue.increment(1)\r\n\r\nReturn an object of type [FieldValue][1] and not a long, hence that error. To increment the value of your count property atomically by one, please use the following lines of code:\r\n\r\n    Map&lt;String, Object&gt; updateCount = new HashMap&lt;&gt;();\r\n    updateCount.put(&quot;count&quot;, FieldValue.increment(1));\r\n    yourDocRef.set(updateCount, SetOptions.merge());\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue","title":"Counter in Firestore database in Firebase","body":"<p>The problem in your code is the following line of code:</p>\n\n<pre><code>counter.setCount(FieldValue.increment(1));\n</code></pre>\n\n<p>Your <code>count</code> property is defined in your <code>Counter</code> class to be of type long. When you are using the <code>setCount()</code> method to set its value, you should pass a long value as an argument but you actually don't. The following statement:</p>\n\n<pre><code>FieldValue.increment(1)\n</code></pre>\n\n<p>Return an object of type <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/FieldValue\" rel=\"nofollow noreferrer\">FieldValue</a> and not a long, hence that error. To increment the value of your count property atomically by one, please use the following lines of code:</p>\n\n<pre><code>Map&lt;String, Object&gt; updateCount = new HashMap&lt;&gt;();\nupdateCount.put(\"count\", FieldValue.increment(1));\nyourDocRef.set(updateCount, SetOptions.merge());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5459451,"reputation":252,"user_id":4341998,"accept_rate":56,"display_name":"Sandeep Choudhary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589447758,"creation_date":1589447758,"answer_id":61793622,"question_id":61782011,"body_markdown":"Finally, as per suggestion from Alex, I use the map values, but at the same time, I moved my code to google. Please let me know if I have done the implementation wrong. It seems to work though\r\n\r\n    const functions = require(&#39;firebase-functions&#39;);\r\n\r\n    // The Firebase Admin SDK to access the Firebase Realtime Database.\r\n    const admin = require(&#39;firebase-admin&#39;);\r\n    admin.initializeApp();\r\n\r\n    // // Create and Deploy Your First Cloud Functions\r\n    // // https://firebase.google.com/docs/functions/write-firebase-functions\r\n    //\r\n    // exports.helloWorld = functions.https.onRequest((request, response) =&gt; {\r\n    //  response.send(&quot;Hello from Firebase!&quot;);\r\n    // });\r\n    \r\n    const db = admin.firestore();\r\n    // [START_EXCLUDE]\r\n    const settings = { timestampsInSnapshots: true };\r\n    db.settings(settings);\r\n    // [END_EXCLUDE]\r\n    \r\n    // [START aggregate_function]\r\n    exports.aggregateEnquiries = functions.firestore\r\n        .document(&#39;enquiries/{id}&#39;)\r\n        .onWrite(async (change, context) =&gt; {\r\n    \r\n            if (!change.before.exists) {\r\n                // New document Created : add one to count\r\n    \r\n                var dealerId = change.after.data().dealerId;\r\n                var userId = change.after.data().assignedTo;\r\n                var date = change.after.data().createdDt.toDate();\r\n                var day = date.getDate();\r\n                var month = date.getMonth() + 1;\r\n                var year = date.getFullYear();\r\n                var yearMonth = String(year) + (month &lt; 10 ? &quot;0&quot; + month : month);\r\n                var yearMonthDate = yearMonth + (day &lt; 10 ? &quot;0&quot; + day : day);\r\n    \r\n                try {\r\n                    return await db.collection(&quot;dealers&quot;).doc(dealerId)\r\n                        .get()\r\n                        .then((doc) =&gt; {\r\n                            if (doc !== null &amp;&amp; doc.exists) {\r\n                                const increment = admin.firestore.FieldValue.increment(1);\r\n    \r\n                                db.collection(&quot;enquiries_agg&quot;)\r\n                                    .doc(&quot;D_&quot; + dealerId + &quot;_&quot; + year)\r\n                                    .set({ &quot;count&quot;: increment }, { merge: true });\r\n    \r\n                                db.collection(&quot;enquiries_agg&quot;)\r\n                                    .doc(&quot;D_&quot; + dealerId + &quot;_&quot; + monthYear)\r\n                                    .set({ &quot;count&quot;: increment }, { merge: true });\r\n    \r\n                                db.collection(&quot;enquiries_agg&quot;)\r\n                                    .doc(&quot;U_&quot; + userId + &quot;_&quot; + year)\r\n                                    .set({\r\n                                        &quot;count&quot;: increment,\r\n                                        &quot;dealerId&quot;: dealerId,\r\n                                        &quot;userId&quot;: userId,\r\n                                        &quot;reference&quot;: String(year)\r\n                                    }, { merge: true });\r\n    \r\n                                db.collection(&quot;enquiries_agg&quot;)\r\n                                    .doc(&quot;U_&quot; + userId + &quot;_&quot; + yearMonth)\r\n                                    .set({\r\n                                        &quot;count&quot;: increment,\r\n                                        &quot;dealerId&quot;: dealerId,\r\n                                        &quot;userId&quot;: userId,\r\n                                        &quot;reference&quot;: String(yearMonth)\r\n                                    }, { merge: true });\r\n    \r\n                                db.collection(&quot;enquiries_agg&quot;)\r\n                                    .doc(&quot;U_&quot; + userId + &quot;_&quot; + yearMonthDate)\r\n                                    .set({\r\n                                        &quot;count&quot;: increment,\r\n                                        &quot;dealerId&quot;: dealerId,\r\n                                        &quot;userId&quot;: userId,\r\n                                        &quot;reference&quot;: String(yearMonthDate)\r\n                                    }, { merge: true });\r\n                            } else {\r\n                                console.log(&quot;error in aggregare entries.&quot;);\r\n                            }\r\n    \r\n                            return null;\r\n                        });\r\n                }\r\n                catch (error) {\r\n                    console.log(&quot;Error getting documents: &quot;, error);\r\n                    throw new Error(&quot;Profile doesn&#39;t exist : &quot; + error);\r\n                }\r\n            } else if (change.before.exists &amp;&amp; change.after.exists) {\r\n                // Updating existing document : Do nothing\r\n            } else if (!change.after.exists) {\r\n                // Deleting document : subtract one from count\r\n            }\r\n    \r\n            return null;\r\n        });\r\n\r\n","title":"Counter in Firestore database in Firebase","body":"<p>Finally, as per suggestion from Alex, I use the map values, but at the same time, I moved my code to google. Please let me know if I have done the implementation wrong. It seems to work though</p>\n\n<pre><code>const functions = require('firebase-functions');\n\n// The Firebase Admin SDK to access the Firebase Realtime Database.\nconst admin = require('firebase-admin');\nadmin.initializeApp();\n\n// // Create and Deploy Your First Cloud Functions\n// // https://firebase.google.com/docs/functions/write-firebase-functions\n//\n// exports.helloWorld = functions.https.onRequest((request, response) =&gt; {\n//  response.send(\"Hello from Firebase!\");\n// });\n\nconst db = admin.firestore();\n// [START_EXCLUDE]\nconst settings = { timestampsInSnapshots: true };\ndb.settings(settings);\n// [END_EXCLUDE]\n\n// [START aggregate_function]\nexports.aggregateEnquiries = functions.firestore\n    .document('enquiries/{id}')\n    .onWrite(async (change, context) =&gt; {\n\n        if (!change.before.exists) {\n            // New document Created : add one to count\n\n            var dealerId = change.after.data().dealerId;\n            var userId = change.after.data().assignedTo;\n            var date = change.after.data().createdDt.toDate();\n            var day = date.getDate();\n            var month = date.getMonth() + 1;\n            var year = date.getFullYear();\n            var yearMonth = String(year) + (month &lt; 10 ? \"0\" + month : month);\n            var yearMonthDate = yearMonth + (day &lt; 10 ? \"0\" + day : day);\n\n            try {\n                return await db.collection(\"dealers\").doc(dealerId)\n                    .get()\n                    .then((doc) =&gt; {\n                        if (doc !== null &amp;&amp; doc.exists) {\n                            const increment = admin.firestore.FieldValue.increment(1);\n\n                            db.collection(\"enquiries_agg\")\n                                .doc(\"D_\" + dealerId + \"_\" + year)\n                                .set({ \"count\": increment }, { merge: true });\n\n                            db.collection(\"enquiries_agg\")\n                                .doc(\"D_\" + dealerId + \"_\" + monthYear)\n                                .set({ \"count\": increment }, { merge: true });\n\n                            db.collection(\"enquiries_agg\")\n                                .doc(\"U_\" + userId + \"_\" + year)\n                                .set({\n                                    \"count\": increment,\n                                    \"dealerId\": dealerId,\n                                    \"userId\": userId,\n                                    \"reference\": String(year)\n                                }, { merge: true });\n\n                            db.collection(\"enquiries_agg\")\n                                .doc(\"U_\" + userId + \"_\" + yearMonth)\n                                .set({\n                                    \"count\": increment,\n                                    \"dealerId\": dealerId,\n                                    \"userId\": userId,\n                                    \"reference\": String(yearMonth)\n                                }, { merge: true });\n\n                            db.collection(\"enquiries_agg\")\n                                .doc(\"U_\" + userId + \"_\" + yearMonthDate)\n                                .set({\n                                    \"count\": increment,\n                                    \"dealerId\": dealerId,\n                                    \"userId\": userId,\n                                    \"reference\": String(yearMonthDate)\n                                }, { merge: true });\n                        } else {\n                            console.log(\"error in aggregare entries.\");\n                        }\n\n                        return null;\n                    });\n            }\n            catch (error) {\n                console.log(\"Error getting documents: \", error);\n                throw new Error(\"Profile doesn't exist : \" + error);\n            }\n        } else if (change.before.exists &amp;&amp; change.after.exists) {\n            // Updating existing document : Do nothing\n        } else if (!change.after.exists) {\n            // Deleting document : subtract one from count\n        }\n\n        return null;\n    });\n</code></pre>\n"}],"owner":{"account_id":5459451,"reputation":252,"user_id":4341998,"accept_rate":56,"display_name":"Sandeep Choudhary"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":205,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61792950,"answer_count":2,"score":1,"last_activity_date":1690263994,"creation_date":1589394022,"question_id":61782011,"body_markdown":"I&#39;m creating an Android application wherein I have to keep count of YTD, MTD, and Daily record punched for an organization as well as individual users. I tried the approach where for every save of record, I have a counter collection where I save data like \r\n\r\n    ORG_ORGID_2020 (for YTD)\r\n    ORG_ORGID_202005 (for MTD)\r\n    ORG_ORGID_20200513 (for Daily data)\r\n    \r\n    ORG_USER1_2020 (for YTD)\r\n    ORG_USER2_202005 (for MTD)\r\n    ORG_USER3_20200513 (for Daily data)\r\n\r\nso that I don&#39;t have to read many documents while fetching reports. Now to minimize the reads I save properties in the above documents (org_ID, year (i.e. 2020), yearMonth (i.e.202005), and so on. I save above documents in the form of the counter object\r\n\r\n    public class Counter {\r\n\r\n    @DocumentId\r\n    private String id;\r\n    private long count;\r\n    private String dealerId;\r\n    private String userId;\r\n    private String year;\r\n    private String yearMonth;\r\n    private String yearMonthDate;\r\n\r\n    }\r\n\r\nNot the issue arises when I have to update the counter. I tried using \r\n\r\n    private FieldValue count;\r\n\r\nand was able to update the count properly using\r\n\r\n    Counter counter = new Counter();\r\n        counter.setCount(FieldValue.increment(1));\r\n        counter.setDealerId(intentDealer.getId());\r\n        counter.setYear(strFullYear);\r\n        batch.set(dealerYtdColRef, counter, SetOptions.merge());\r\n\r\nbut when I try to fetch the record, I get \r\n\r\n***java.lang.RuntimeException: No properties to serialize found on class com.google.firebase.firestore.FieldValue***\r\n\r\nif I change the field to \r\n\r\n    private long count;\r\n\r\nI&#39;m not getting as, how to update the counter. I have to set all fields too along with the counter. I tried using ***.update*** method too, but it gives an error when the document is not present and has to be created for the first time.\r\n\r\nHw can I properly manage the counters? I&#39;m doing counter part from app-only instead of functions because I&#39;m trying to get the app work in free firebase tier only. \r\n","title":"Counter in Firestore database in Firebase","body":"<p>I'm creating an Android application wherein I have to keep count of YTD, MTD, and Daily record punched for an organization as well as individual users. I tried the approach where for every save of record, I have a counter collection where I save data like </p>\n\n<pre><code>ORG_ORGID_2020 (for YTD)\nORG_ORGID_202005 (for MTD)\nORG_ORGID_20200513 (for Daily data)\n\nORG_USER1_2020 (for YTD)\nORG_USER2_202005 (for MTD)\nORG_USER3_20200513 (for Daily data)\n</code></pre>\n\n<p>so that I don't have to read many documents while fetching reports. Now to minimize the reads I save properties in the above documents (org_ID, year (i.e. 2020), yearMonth (i.e.202005), and so on. I save above documents in the form of the counter object</p>\n\n<pre><code>public class Counter {\n\n@DocumentId\nprivate String id;\nprivate long count;\nprivate String dealerId;\nprivate String userId;\nprivate String year;\nprivate String yearMonth;\nprivate String yearMonthDate;\n\n}\n</code></pre>\n\n<p>Not the issue arises when I have to update the counter. I tried using </p>\n\n<pre><code>private FieldValue count;\n</code></pre>\n\n<p>and was able to update the count properly using</p>\n\n<pre><code>Counter counter = new Counter();\n    counter.setCount(FieldValue.increment(1));\n    counter.setDealerId(intentDealer.getId());\n    counter.setYear(strFullYear);\n    batch.set(dealerYtdColRef, counter, SetOptions.merge());\n</code></pre>\n\n<p>but when I try to fetch the record, I get </p>\n\n<p><strong><em>java.lang.RuntimeException: No properties to serialize found on class com.google.firebase.firestore.FieldValue</em></strong></p>\n\n<p>if I change the field to </p>\n\n<pre><code>private long count;\n</code></pre>\n\n<p>I'm not getting as, how to update the counter. I have to set all fields too along with the counter. I tried using <strong><em>.update</em></strong> method too, but it gives an error when the document is not present and has to be created for the first time.</p>\n\n<p>Hw can I properly manage the counters? I'm doing counter part from app-only instead of functions because I'm trying to get the app work in free firebase tier only. </p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1589279480,"creation_date":1589279480,"answer_id":61749419,"question_id":61736930,"body_markdown":"You are getting the following error:\r\n\r\n&gt; java.lang.IllegalArgumentException: Invalid data. Data must be a Map&lt;String, Object&gt;, or a suitable POJO object, but it was of type: java.lang.String\r\n\r\nBecause you are trying to write to a document a String value, which is actually not possible. According to the official documentation regarding [set() method parameters][1]:\r\n\r\n&gt; The data to write to the document (e.g. a Map or a POJO containing the desired document contents).\r\n\r\nSo there is no way you can simply write a String, hence that error. To solve this is issue, pass to the set() method a Map containing as a key the name of the property and as a value the actual value of that String. The schema should look like this:\r\n\r\n    Firestore-root\r\n       |\r\n       --- USERTABLE (collection)\r\n             |\r\n             --- uid (document)\r\n                  |\r\n                  --- AMISCOLLECTION (collection)\r\n                         |\r\n                         --- uid (document)\r\n                              |\r\n                              --- fieldName: &quot;StringValue&quot;\r\n\r\nYou can also use an object of your POJO class, as you already did in the first two shared examples.\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object)","title":"Create a friend sub-collection in the Users collection, Cloud Firestore","body":"<p>You are getting the following error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalArgumentException: Invalid data. Data must be a Map, or a suitable POJO object, but it was of type: java.lang.String</p>\n</blockquote>\n\n<p>Because you are trying to write to a document a String value, which is actually not possible. According to the official documentation regarding <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentReference#set(java.lang.Object)\" rel=\"nofollow noreferrer\">set() method parameters</a>:</p>\n\n<blockquote>\n  <p>The data to write to the document (e.g. a Map or a POJO containing the desired document contents).</p>\n</blockquote>\n\n<p>So there is no way you can simply write a String, hence that error. To solve this is issue, pass to the set() method a Map containing as a key the name of the property and as a value the actual value of that String. The schema should look like this:</p>\n\n<pre><code>Firestore-root\n   |\n   --- USERTABLE (collection)\n         |\n         --- uid (document)\n              |\n              --- AMISCOLLECTION (collection)\n                     |\n                     --- uid (document)\n                          |\n                          --- fieldName: \"StringValue\"\n</code></pre>\n\n<p>You can also use an object of your POJO class, as you already did in the first two shared examples.</p>\n"}],"owner":{"account_id":15616094,"reputation":49,"user_id":11266269,"display_name":"Rolanddev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":451,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61749419,"answer_count":1,"score":1,"last_activity_date":1690263986,"creation_date":1589222477,"question_id":61736930,"body_markdown":"I have a &quot;User&quot; collection whose registration method is as follows:\r\n\r\n```\r\npublic class UserHelper  {\r\n\r\n    public static final String COLLECTION_NAME = &quot;USERTABLE&quot;;\r\n\r\n    public  static CollectionReference getUserCollection(){\r\n        return FirebaseFirestore.getInstance().collection(COLLECTION_NAME);\r\n    }\r\n\r\n    public static Task&lt;Void&gt; createUser(String uid, String email, String password, String pseudo, String photo_url,boolean statut){\r\n        Usermodele usermodele = new Usermodele(uid,email,password,pseudo,photo_url,statut);\r\n\r\n        return UserHelper.getUserCollection().document(uid).set(usermodele);\r\n    }\r\n```\r\n\r\nTo this class, I want to create a subcollection &quot;AmisHelper&quot;, I did this to create the subcollection but it seems that some things are not going.\r\n\r\n```\r\npublic class AmiHelper {\r\n\r\n    private static final String COLLECTION_NAME = &quot;AMISCOLLECTION&quot;;\r\n\r\n    public static CollectionReference getAmiCollection(){\r\n        return FirebaseFirestore.getInstance().collection(COLLECTION_NAME);\r\n    }\r\n\r\n    public static Task&lt;Void&gt; createAmi(String idDemandeur, String idReceveur, String pseudo, String photo_url, String date_amitie){\r\n        AmisModele amisModele = new AmisModele(idDemandeur,idReceveur,pseudo,photo_url,date_amitie);\r\n\r\n        return UserHelper.getUserCollection().document(idDemandeur).collection(&quot;AMISCOLLECTION&quot;).document(idReceveur).set(amisModele);\r\n    }\r\n```\r\nAnd when in use, I did this\r\n```\r\n        holder.boutonAjouter.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Toast.makeText(holder.itemView.getContext(), &quot;clic position&quot;+ position, Toast.LENGTH_SHORT).show();\r\n             UserHelper.getUserCollection().document(uid).collection(&quot;AMISCOLLECTION&quot;).document(uid).set(uid,uid,&quot;&quot;,&quot;&quot;,&quot;&quot;);\r\n            }\r\n        });\r\n```\r\nI probably did something abnormal \r\n\r\nWhen I click on the &quot;Add&quot; button I have this:\r\n```\r\njava.lang.IllegalArgumentException: Invalid data. Data must be a Map&lt;String, Object&gt; or a suitable POJO object, but it was of type: java.lang.String\r\n        at com.google.firebase.firestore.UserDataReader.convertAndParseDocumentData(com.google.firebase:firebase-firestore@@21.4.1:234)\r\n        at com.google.firebase.firestore.UserDataReader.parseSetData(com.google.firebase:firebase-firestore@@21.4.1:75)\r\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@21.4.1:166)\r\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@21.4.1:146)\r\n        at com.google.firebase.firestore.CollectionReference.add(com.google.firebase:firebase-firestore@@21.4.1:121)\r\n        at com.devolab.recapitulatif.adapter.TabAbonneAdapter$1.onClick(TabAbonneAdapter.java:79)\r\n        at android.view.View.performClick(View.java:6256)\r\n        at android.view.View$PerformClick.run(View.java:24697)\r\n        at android.os.Handler.handleCallback(Handler.java:789)\r\n        at android.os.Handler.dispatchMessage(Handler.java:98)\r\n        at android.os.Looper.loop(Looper.java:164)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n```","title":"Create a friend sub-collection in the Users collection, Cloud Firestore","body":"<p>I have a \"User\" collection whose registration method is as follows:</p>\n\n<pre><code>public class UserHelper  {\n\n    public static final String COLLECTION_NAME = \"USERTABLE\";\n\n    public  static CollectionReference getUserCollection(){\n        return FirebaseFirestore.getInstance().collection(COLLECTION_NAME);\n    }\n\n    public static Task&lt;Void&gt; createUser(String uid, String email, String password, String pseudo, String photo_url,boolean statut){\n        Usermodele usermodele = new Usermodele(uid,email,password,pseudo,photo_url,statut);\n\n        return UserHelper.getUserCollection().document(uid).set(usermodele);\n    }\n</code></pre>\n\n<p>To this class, I want to create a subcollection \"AmisHelper\", I did this to create the subcollection but it seems that some things are not going.</p>\n\n<pre><code>public class AmiHelper {\n\n    private static final String COLLECTION_NAME = \"AMISCOLLECTION\";\n\n    public static CollectionReference getAmiCollection(){\n        return FirebaseFirestore.getInstance().collection(COLLECTION_NAME);\n    }\n\n    public static Task&lt;Void&gt; createAmi(String idDemandeur, String idReceveur, String pseudo, String photo_url, String date_amitie){\n        AmisModele amisModele = new AmisModele(idDemandeur,idReceveur,pseudo,photo_url,date_amitie);\n\n        return UserHelper.getUserCollection().document(idDemandeur).collection(\"AMISCOLLECTION\").document(idReceveur).set(amisModele);\n    }\n</code></pre>\n\n<p>And when in use, I did this</p>\n\n<pre><code>        holder.boutonAjouter.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Toast.makeText(holder.itemView.getContext(), \"clic position\"+ position, Toast.LENGTH_SHORT).show();\n             UserHelper.getUserCollection().document(uid).collection(\"AMISCOLLECTION\").document(uid).set(uid,uid,\"\",\"\",\"\");\n            }\n        });\n</code></pre>\n\n<p>I probably did something abnormal </p>\n\n<p>When I click on the \"Add\" button I have this:</p>\n\n<pre><code>java.lang.IllegalArgumentException: Invalid data. Data must be a Map&lt;String, Object&gt; or a suitable POJO object, but it was of type: java.lang.String\n        at com.google.firebase.firestore.UserDataReader.convertAndParseDocumentData(com.google.firebase:firebase-firestore@@21.4.1:234)\n        at com.google.firebase.firestore.UserDataReader.parseSetData(com.google.firebase:firebase-firestore@@21.4.1:75)\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@21.4.1:166)\n        at com.google.firebase.firestore.DocumentReference.set(com.google.firebase:firebase-firestore@@21.4.1:146)\n        at com.google.firebase.firestore.CollectionReference.add(com.google.firebase:firebase-firestore@@21.4.1:121)\n        at com.devolab.recapitulatif.adapter.TabAbonneAdapter$1.onClick(TabAbonneAdapter.java:79)\n        at android.view.View.performClick(View.java:6256)\n        at android.view.View$PerformClick.run(View.java:24697)\n        at android.os.Handler.handleCallback(Handler.java:789)\n        at android.os.Handler.dispatchMessage(Handler.java:98)\n        at android.os.Looper.loop(Looper.java:164)\n        at android.app.ActivityThread.main(ActivityThread.java:6541)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1588669154,"creation_date":1588669154,"answer_id":61609427,"question_id":61601553,"body_markdown":"First of all, String comparison in Java, should not be performed using `==` operator, as it will always compare the address of the objects from the memory and not the actual values. String comparison should be done using [equals()][1] method.\r\n\r\nMoreover, if you need an AND operation, you should **not** get all documents that exist within the `users` collection and make the comparison on the client. For that, you should use a query that looks exactly like this:\r\n\r\n    String a = &quot;101&quot;;\r\n    String b = &quot;F1A&quot;;\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    CollectionReference usersRef = rootRef.collection(&quot;users&quot;);\r\n    Query query = usersRef.whereEqualTo(&quot;flat&quot;, a).whereEqualTo(&quot;block&quot;, b);\r\n    query.get().addOnSuccessListener(/* ... */);\r\n\r\nIn this way, you are going to get only the documents where the `flat` property holds the value of `101` AND the value of `block` holds `F1A`. As I think that only one apartment has that constraint, you&#39;ll be billed with only one read operation.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)","title":"Retrieve Data from multiple documents from Firestore Database","body":"<p>First of all, String comparison in Java, should not be performed using <code>==</code> operator, as it will always compare the address of the objects from the memory and not the actual values. String comparison should be done using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">equals()</a> method.</p>\n\n<p>Moreover, if you need an AND operation, you should <strong>not</strong> get all documents that exist within the <code>users</code> collection and make the comparison on the client. For that, you should use a query that looks exactly like this:</p>\n\n<pre><code>String a = \"101\";\nString b = \"F1A\";\nFirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nCollectionReference usersRef = rootRef.collection(\"users\");\nQuery query = usersRef.whereEqualTo(\"flat\", a).whereEqualTo(\"block\", b);\nquery.get().addOnSuccessListener(/* ... */);\n</code></pre>\n\n<p>In this way, you are going to get only the documents where the <code>flat</code> property holds the value of <code>101</code> AND the value of <code>block</code> holds <code>F1A</code>. As I think that only one apartment has that constraint, you'll be billed with only one read operation.</p>\n"}],"owner":{"account_id":4771126,"reputation":163,"user_id":3855849,"accept_rate":18,"display_name":"Pankaj Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61609427,"answer_count":1,"score":1,"last_activity_date":1690263878,"creation_date":1588626101,"question_id":61601553,"body_markdown":"Unable to fetch a value from the Firestore database. Trying to retrieve the value of the mobile number as and when the value of flat and block matches the entry in the database. Below is the code I am using. I have also attached the issues that are registered in LogCat file. Please check and help.\r\n\r\n        public class Test extends AppCompatActivity {\r\n    \r\n        Button btn;\r\n        private FirebaseFirestore firestore;\r\n    \r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_test);\r\n            firestore = FirebaseFirestore.getInstance();\r\n            btn = (Button) findViewById(R.id.button3);\r\n            btn.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    getmobile();\r\n                    //makecall();\r\n    \r\n                }\r\n            });\r\n        }\r\n    \r\n        private void makecall(){\r\n            Intent intent = new Intent(Intent.ACTION_CALL_BUTTON);\r\n            intent.setData(Uri.parse(&quot;tel:9890910640&quot;));\r\n            startActivity(intent);\r\n        }\r\n    \r\n    \r\n    \r\n        private void getmobile() {\r\n    \r\n            firestore.collection(&quot;users&quot;).get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\r\n                @Override\r\n                public void onSuccess(QuerySnapshot documentSnapshots) {\r\n                    String a = &quot;101&quot;;\r\n                    String b = &quot;F1A&quot;;\r\n                    for(DocumentSnapshot document: documentSnapshots){\r\n    \r\n    \r\n                        if(document.getString(&quot;flat&quot;)==a&amp;&amp;document.getString(&quot;block&quot;)==b){\r\n                            String mobilefromdatabase = document.get(&quot;mobile&quot;).toString();\r\n                            Toast.makeText(Test.this, &quot;mobile&quot; + mobilefromdatabase, Toast.LENGTH_LONG).show();\r\n                            break;\r\n    \r\n                        }\r\n    \r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n    \r\n    \r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fqHbN.jpg\r\n\r\n**Logcat Details**\r\n\r\n    05-05 03:59:26.721 8805-8805/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system\r\n    05-05 03:59:26.721 8805-8805/? W/Zygote: createProcessGroup failed, kernel missing CONFIG_CGROUP_CPUACCT?\r\n    05-05 03:59:26.722 8805-8805/? I/art: Not late-enabling -Xcheck:jni (already on)\r\n    05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: VM with version 2.1.0 has multidex support\r\n    05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: Installing application\r\n    05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: VM has multidex support, MultiDex support library is disabled.\r\n    05-05 03:59:26.842 8805-8805/com.example.myrwaapp V/FA: Registered activity lifecycle callback\r\n    05-05 03:59:26.857 8805-8831/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\n    05-05 03:59:26.861 8805-8805/com.example.myrwaapp I/FirebaseInitProvider: FirebaseApp initialization successful\r\n    05-05 03:59:26.907 8805-8834/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\r\n    05-05 03:59:26.925 8805-8834/com.example.myrwaapp I/FirebaseAuth: [FirebaseAuth:] Preparing to create service connection to gms implementation\r\n    05-05 03:59:26.986 8805-8805/com.example.myrwaapp W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\r\n    05-05 03:59:27.010 8805-8805/com.example.myrwaapp V/FA: onActivityCreated\r\n    05-05 03:59:27.047 8805-8805/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\r\n    05-05 03:59:27.047 8805-8805/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\r\n    05-05 03:59:27.048 8805-8830/com.example.myrwaapp V/FA: App measurement collection enabled\r\n    05-05 03:59:27.049 8805-8830/com.example.myrwaapp V/FA: App measurement enabled for app package, google app id: com.example.myrwaapp, 1:649640616763:android:9025242f82dd4767798d1e\r\n    05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: App measurement initialized, version: 21028\r\n    05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\r\n    05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: To enable faster debug mode event logging run:\r\n          adb shell setprop debug.firebase.analytics.app com.example.myrwaapp\r\n    05-05 03:59:27.052 8805-8830/com.example.myrwaapp D/FA: Debug-level message logging enabled\r\n    05-05 03:59:27.077 8805-8830/com.example.myrwaapp V/FA: Connecting to remote service\r\n    05-05 03:59:27.089 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:27.143 8805-8830/com.example.myrwaapp V/FA: Activity resumed, time: 8622127\r\n    05-05 03:59:27.145 8805-8830/com.example.myrwaapp I/FA: Tag Manager is not found and thus will not be used\r\n    05-05 03:59:27.151 8805-8838/com.example.myrwaapp D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\r\n    05-05 03:59:27.154 8805-8805/com.example.myrwaapp D/Atlas: Validating map...\r\n    05-05 03:59:27.159 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:27.159 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:27.188 8805-8838/com.example.myrwaapp I/OpenGLRenderer: Initialized EGL, version 1.4\r\n    05-05 03:59:27.188 8805-8838/com.example.myrwaapp W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\r\n    05-05 03:59:27.215 8805-8838/com.example.myrwaapp D/EGL_emulation: eglCreateContext: 0xa2003100: maj 2 min 0 rcv 2\r\n    05-05 03:59:27.240 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:27.243 8805-8838/com.example.myrwaapp D/OpenGLRenderer: Enabling debug mode 0\r\n    05-05 03:59:27.294 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:27.738 8805-8830/com.example.myrwaapp D/FA: Connected to remote service\r\n    05-05 03:59:27.738 8805-8830/com.example.myrwaapp V/FA: Processing queued up service tasks: 4\r\n    05-05 03:59:32.795 8805-8830/com.example.myrwaapp V/FA: Inactivity, disconnecting from the service\r\n    05-05 03:59:38.884 8805-8830/com.example.myrwaapp V/FA: Recording user engagement, ms: 11740\r\n    05-05 03:59:38.886 8805-8830/com.example.myrwaapp V/FA: Connecting to remote service\r\n    05-05 03:59:38.892 8805-8830/com.example.myrwaapp V/FA: Activity paused, time: 8633867\r\n    05-05 03:59:38.894 8805-8805/com.example.myrwaapp V/FA: onActivityCreated\r\n    05-05 03:59:38.913 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:38.913 8805-8830/com.example.myrwaapp V/FA: Activity resumed, time: 8633895\r\n    05-05 03:59:38.926 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:38.926 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\r\n    05-05 03:59:38.993 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:39.034 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:39.051 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:39.177 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:39.222 8805-8830/com.example.myrwaapp D/FA: Connected to remote service\r\n    05-05 03:59:39.222 8805-8830/com.example.myrwaapp V/FA: Processing queued up service tasks: 4\r\n    05-05 03:59:39.224 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:39.335 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:44.247 8805-8830/com.example.myrwaapp V/FA: Inactivity, disconnecting from the service\r\n    05-05 03:59:48.704 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\r\n    05-05 03:59:48.871 8805-8849/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for providerinstaller not found.\r\n    05-05 03:59:48.877 8805-8849/com.example.myrwaapp I/DynamiteModule: Considering local module providerinstaller:0 and remote module providerinstaller:0\r\n    05-05 03:59:48.877 8805-8849/com.example.myrwaapp W/ProviderInstaller: Failed to load providerinstaller module: No acceptable module found. Local version is 0 and remote version is 0.\r\n    05-05 03:59:48.881 8805-8849/com.example.myrwaapp W/ResourcesManager: Asset path &#39;/system/framework/com.android.media.remotedisplay.jar&#39; does not exist or contains no resources.\r\n    05-05 03:59:48.881 8805-8849/com.example.myrwaapp W/ResourcesManager: Asset path &#39;/system/framework/com.android.location.provider.jar&#39; does not exist or contains no resources.\r\n    05-05 03:59:48.942 8805-8849/com.example.myrwaapp W/linker: libconscrypt_gmscore_jni.so: unused DT entry: type 0x6ffffffe arg 0x13dc\r\n    05-05 03:59:48.942 8805-8849/com.example.myrwaapp W/linker: libconscrypt_gmscore_jni.so: unused DT entry: type 0x6fffffff arg 0x2\r\n    05-05 03:59:48.948 8805-8849/com.example.myrwaapp V/NativeCrypto: Registering com/google/android/gms/org/conscrypt/NativeCrypto&#39;s 284 native methods...\r\n    05-05 03:59:48.963 8805-8820/com.example.myrwaapp I/art: Background sticky concurrent mark sweep GC freed 976(49KB) AllocSpace objects, 0(0B) LOS objects, 0% free, 8MB/8MB, paused 5.861ms total 31.265ms\r\n    05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java7ExtendedSSLSession&gt;\r\n    05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java7ExtendedSSLSession&gt;\r\n    05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java8ExtendedSSLSession&gt;\r\n    05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java8ExtendedSSLSession&gt;\r\n    05-05 03:59:49.002 8805-8849/com.example.myrwaapp I/ProviderInstaller: Installed default security provider GmsCore_OpenSSL","title":"Retrieve Data from multiple documents from Firestore Database","body":"<p>Unable to fetch a value from the Firestore database. Trying to retrieve the value of the mobile number as and when the value of flat and block matches the entry in the database. Below is the code I am using. I have also attached the issues that are registered in LogCat file. Please check and help.</p>\n\n<pre><code>    public class Test extends AppCompatActivity {\n\n    Button btn;\n    private FirebaseFirestore firestore;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n        firestore = FirebaseFirestore.getInstance();\n        btn = (Button) findViewById(R.id.button3);\n        btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                getmobile();\n                //makecall();\n\n            }\n        });\n    }\n\n    private void makecall(){\n        Intent intent = new Intent(Intent.ACTION_CALL_BUTTON);\n        intent.setData(Uri.parse(\"tel:9890910640\"));\n        startActivity(intent);\n    }\n\n\n\n    private void getmobile() {\n\n        firestore.collection(\"users\").get().addOnSuccessListener(new OnSuccessListener&lt;QuerySnapshot&gt;() {\n            @Override\n            public void onSuccess(QuerySnapshot documentSnapshots) {\n                String a = \"101\";\n                String b = \"F1A\";\n                for(DocumentSnapshot document: documentSnapshots){\n\n\n                    if(document.getString(\"flat\")==a&amp;&amp;document.getString(\"block\")==b){\n                        String mobilefromdatabase = document.get(\"mobile\").toString();\n                        Toast.makeText(Test.this, \"mobile\" + mobilefromdatabase, Toast.LENGTH_LONG).show();\n                        break;\n\n                    }\n\n                }\n            }\n        });\n\n\n\n\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/fqHbN.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fqHbN.jpg\" alt=\"enter image description here\"></a></p>\n\n<p><strong>Logcat Details</strong></p>\n\n<pre><code>05-05 03:59:26.721 8805-8805/? E/libprocessgroup: failed to make and chown /acct/uid_10058: Read-only file system\n05-05 03:59:26.721 8805-8805/? W/Zygote: createProcessGroup failed, kernel missing CONFIG_CGROUP_CPUACCT?\n05-05 03:59:26.722 8805-8805/? I/art: Not late-enabling -Xcheck:jni (already on)\n05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: VM with version 2.1.0 has multidex support\n05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: Installing application\n05-05 03:59:26.770 8805-8805/com.example.myrwaapp I/MultiDex: VM has multidex support, MultiDex support library is disabled.\n05-05 03:59:26.842 8805-8805/com.example.myrwaapp V/FA: Registered activity lifecycle callback\n05-05 03:59:26.857 8805-8831/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n05-05 03:59:26.861 8805-8805/com.example.myrwaapp I/FirebaseInitProvider: FirebaseApp initialization successful\n05-05 03:59:26.907 8805-8834/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for com.google.firebase.auth not found.\n05-05 03:59:26.925 8805-8834/com.example.myrwaapp I/FirebaseAuth: [FirebaseAuth:] Preparing to create service connection to gms implementation\n05-05 03:59:26.986 8805-8805/com.example.myrwaapp W/art: Before Android 4.1, method android.graphics.PorterDuffColorFilter androidx.vectordrawable.graphics.drawable.VectorDrawableCompat.updateTintFilter(android.graphics.PorterDuffColorFilter, android.content.res.ColorStateList, android.graphics.PorterDuff$Mode) would have incorrectly overridden the package-private method in android.graphics.drawable.Drawable\n05-05 03:59:27.010 8805-8805/com.example.myrwaapp V/FA: onActivityCreated\n05-05 03:59:27.047 8805-8805/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\n05-05 03:59:27.047 8805-8805/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;androidx.core.view.ViewCompat$2&gt;\n05-05 03:59:27.048 8805-8830/com.example.myrwaapp V/FA: App measurement collection enabled\n05-05 03:59:27.049 8805-8830/com.example.myrwaapp V/FA: App measurement enabled for app package, google app id: com.example.myrwaapp, 1:649640616763:android:9025242f82dd4767798d1e\n05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: App measurement initialized, version: 21028\n05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: To enable debug logging run: adb shell setprop log.tag.FA VERBOSE\n05-05 03:59:27.052 8805-8830/com.example.myrwaapp I/FA: To enable faster debug mode event logging run:\n      adb shell setprop debug.firebase.analytics.app com.example.myrwaapp\n05-05 03:59:27.052 8805-8830/com.example.myrwaapp D/FA: Debug-level message logging enabled\n05-05 03:59:27.077 8805-8830/com.example.myrwaapp V/FA: Connecting to remote service\n05-05 03:59:27.089 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:27.143 8805-8830/com.example.myrwaapp V/FA: Activity resumed, time: 8622127\n05-05 03:59:27.145 8805-8830/com.example.myrwaapp I/FA: Tag Manager is not found and thus will not be used\n05-05 03:59:27.151 8805-8838/com.example.myrwaapp D/OpenGLRenderer: Use EGL_SWAP_BEHAVIOR_PRESERVED: true\n05-05 03:59:27.154 8805-8805/com.example.myrwaapp D/Atlas: Validating map...\n05-05 03:59:27.159 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:27.159 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:27.188 8805-8838/com.example.myrwaapp I/OpenGLRenderer: Initialized EGL, version 1.4\n05-05 03:59:27.188 8805-8838/com.example.myrwaapp W/OpenGLRenderer: Failed to choose config with EGL_SWAP_BEHAVIOR_PRESERVED, retrying without...\n05-05 03:59:27.215 8805-8838/com.example.myrwaapp D/EGL_emulation: eglCreateContext: 0xa2003100: maj 2 min 0 rcv 2\n05-05 03:59:27.240 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:27.243 8805-8838/com.example.myrwaapp D/OpenGLRenderer: Enabling debug mode 0\n05-05 03:59:27.294 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:27.738 8805-8830/com.example.myrwaapp D/FA: Connected to remote service\n05-05 03:59:27.738 8805-8830/com.example.myrwaapp V/FA: Processing queued up service tasks: 4\n05-05 03:59:32.795 8805-8830/com.example.myrwaapp V/FA: Inactivity, disconnecting from the service\n05-05 03:59:38.884 8805-8830/com.example.myrwaapp V/FA: Recording user engagement, ms: 11740\n05-05 03:59:38.886 8805-8830/com.example.myrwaapp V/FA: Connecting to remote service\n05-05 03:59:38.892 8805-8830/com.example.myrwaapp V/FA: Activity paused, time: 8633867\n05-05 03:59:38.894 8805-8805/com.example.myrwaapp V/FA: onActivityCreated\n05-05 03:59:38.913 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:38.913 8805-8830/com.example.myrwaapp V/FA: Activity resumed, time: 8633895\n05-05 03:59:38.926 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:38.926 8805-8830/com.example.myrwaapp V/FA: Connection attempt already in progress\n05-05 03:59:38.993 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:39.034 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:39.051 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:39.177 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:39.222 8805-8830/com.example.myrwaapp D/FA: Connected to remote service\n05-05 03:59:39.222 8805-8830/com.example.myrwaapp V/FA: Processing queued up service tasks: 4\n05-05 03:59:39.224 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:39.335 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:44.247 8805-8830/com.example.myrwaapp V/FA: Inactivity, disconnecting from the service\n05-05 03:59:48.704 8805-8838/com.example.myrwaapp D/EGL_emulation: eglMakeCurrent: 0xa2003100: ver 2 0 (tinfo 0xb4233e90)\n05-05 03:59:48.871 8805-8849/com.example.myrwaapp W/DynamiteModule: Local module descriptor class for providerinstaller not found.\n05-05 03:59:48.877 8805-8849/com.example.myrwaapp I/DynamiteModule: Considering local module providerinstaller:0 and remote module providerinstaller:0\n05-05 03:59:48.877 8805-8849/com.example.myrwaapp W/ProviderInstaller: Failed to load providerinstaller module: No acceptable module found. Local version is 0 and remote version is 0.\n05-05 03:59:48.881 8805-8849/com.example.myrwaapp W/ResourcesManager: Asset path '/system/framework/com.android.media.remotedisplay.jar' does not exist or contains no resources.\n05-05 03:59:48.881 8805-8849/com.example.myrwaapp W/ResourcesManager: Asset path '/system/framework/com.android.location.provider.jar' does not exist or contains no resources.\n05-05 03:59:48.942 8805-8849/com.example.myrwaapp W/linker: libconscrypt_gmscore_jni.so: unused DT entry: type 0x6ffffffe arg 0x13dc\n05-05 03:59:48.942 8805-8849/com.example.myrwaapp W/linker: libconscrypt_gmscore_jni.so: unused DT entry: type 0x6fffffff arg 0x2\n05-05 03:59:48.948 8805-8849/com.example.myrwaapp V/NativeCrypto: Registering com/google/android/gms/org/conscrypt/NativeCrypto's 284 native methods...\n05-05 03:59:48.963 8805-8820/com.example.myrwaapp I/art: Background sticky concurrent mark sweep GC freed 976(49KB) AllocSpace objects, 0(0B) LOS objects, 0% free, 8MB/8MB, paused 5.861ms total 31.265ms\n05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java7ExtendedSSLSession&gt;\n05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java7ExtendedSSLSession&gt;\n05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java8ExtendedSSLSession&gt;\n05-05 03:59:48.992 8805-8849/com.example.myrwaapp I/art: Rejecting re-init on previously-failed class java.lang.Class&lt;com.google.android.gms.org.conscrypt.Java8ExtendedSSLSession&gt;\n05-05 03:59:49.002 8805-8849/com.example.myrwaapp I/ProviderInstaller: Installed default security provider GmsCore_OpenSSL\n</code></pre>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":8559672,"reputation":1736,"user_id":6414086,"display_name":"emilpmp"},"score":0,"creation_date":1588430637,"post_id":61561134,"comment_id":108894919,"body_markdown":"Why do you want to store the &#39;admins&#39; as Map? since you want to store &#39;admins&#39; as ids, you can simply use a list right? or do you have any other use case?","body":"Why do you want to store the &#39;admins&#39; as Map? since you want to store &#39;admins&#39; as ids, you can simply use a list right? or do you have any other use case?"},{"owner":{"account_id":8559672,"reputation":1736,"user_id":6414086,"display_name":"emilpmp"},"score":0,"creation_date":1588430737,"post_id":61561134,"comment_id":108894957,"body_markdown":"If you really need to store it as a map, you can use &quot;Object&quot; as the value type in hashmap","body":"If you really need to store it as a map, you can use &quot;Object&quot; as the value type in hashmap"},{"owner":{"account_id":12345710,"reputation":560,"user_id":9006761,"display_name":"ahmed osama"},"score":0,"creation_date":1588430954,"post_id":61561134,"comment_id":108895037,"body_markdown":"I store as a map because I might want to get the list of groups that a user manages and since map fields are indexed just like other document fields, I could perform a firestore query to get that list easily. Can I do this with firestore lists ? Are they indexed, too ?","body":"I store as a map because I might want to get the list of groups that a user manages and since map fields are indexed just like other document fields, I could perform a firestore query to get that list easily. Can I do this with firestore lists ? Are they indexed, too ?"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1588431509,"creation_date":1588431334,"answer_id":61561370,"question_id":61561134,"body_markdown":"Even if `null` is a [supported data-type][1] in Cloud Firestore, don&#39;t store `null` as values, rather store a boolean value, for example, `true`. In this way, the type of the object you were looking for is Boolean. So now you can use:\r\n\r\n    HashMap&lt;String, Boolean&gt; map = new HashMap();\r\n\r\nHowever, a more appropriate solution would be to use:\r\n\r\n    HashMap&lt;String, Object&gt; map = new HashMap();\r\n\r\nAs you don&#39;t always know the type of the value. So setting that as an Object might be more helpful in this case. Please note, that an object can also have the value of `null`, so this solution will cover all situations.\r\n\r\n  [1]: https://firebase.google.com/docs/firestore/manage-data/data-types","title":"Firestore fields null type usage","body":"<p>Even if <code>null</code> is a <a href=\"https://firebase.google.com/docs/firestore/manage-data/data-types\" rel=\"nofollow noreferrer\">supported data-type</a> in Cloud Firestore, don't store <code>null</code> as values, rather store a boolean value, for example, <code>true</code>. In this way, the type of the object you were looking for is Boolean. So now you can use:</p>\n\n<pre><code>HashMap&lt;String, Boolean&gt; map = new HashMap();\n</code></pre>\n\n<p>However, a more appropriate solution would be to use:</p>\n\n<pre><code>HashMap&lt;String, Object&gt; map = new HashMap();\n</code></pre>\n\n<p>As you don't always know the type of the value. So setting that as an Object might be more helpful in this case. Please note, that an object can also have the value of <code>null</code>, so this solution will cover all situations.</p>\n"}],"owner":{"account_id":12345710,"reputation":560,"user_id":9006761,"display_name":"ahmed osama"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61561370,"answer_count":1,"score":0,"last_activity_date":1690263871,"creation_date":1588430424,"question_id":61561134,"body_markdown":"I have a collection of groups, each group document has a map of admins. I store admins ids as keys of the map and for the values, I use the null type. So, when I want to retrieve this map, what is the java type to use, since null is not type in java, It&#39;s more of a value. I mean I can not have a variable of type null in java. So, How should my map look like :\r\n\r\n    HashMap&lt;String, ?what-type&gt; map = new HashMap();\r\n\r\nWhat is that ?what-type ?","title":"Firestore fields null type usage","body":"<p>I have a collection of groups, each group document has a map of admins. I store admins ids as keys of the map and for the values, I use the null type. So, when I want to retrieve this map, what is the java type to use, since null is not type in java, It's more of a value. I mean I can not have a variable of type null in java. So, How should my map look like :</p>\n\n<pre><code>HashMap&lt;String, ?what-type&gt; map = new HashMap();\n</code></pre>\n\n<p>What is that ?what-type ?</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1588329732,"post_id":61540697,"comment_id":108859992,"body_markdown":"Please edit your question and add your database structure as a screenshot.","body":"Please edit your question and add your database structure as a screenshot."}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588331340,"creation_date":1588331340,"answer_id":61541299,"question_id":61540697,"body_markdown":"To be able to order your results by date, you should use the following query:\r\n\r\n    FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\r\n    CollectionReference keluhanRef = rootRef.collection(&quot;keluhan&quot;);\r\n    Query dateQuery = keluhanRef.orderBy(&quot;timeStamp&quot;, Direction.ASCENDING);\r\n    dateQuery.get().addOnCompleteListener(/* ... */);\r\n\r\nCalling:\r\n\r\n    .orderBy(&quot;date&quot;, Query.Direction.ASCENDING)\r\n\r\nWill never work since your property name is `timeStamp` and **not** `date`.","title":"I want to order my data from newest to oldest using Cloud Firestore in Android using Java","body":"<p>To be able to order your results by date, you should use the following query:</p>\n\n<pre><code>FirebaseFirestore rootRef = FirebaseFirestore.getInstance();\nCollectionReference keluhanRef = rootRef.collection(\"keluhan\");\nQuery dateQuery = keluhanRef.orderBy(\"timeStamp\", Direction.ASCENDING);\ndateQuery.get().addOnCompleteListener(/* ... */);\n</code></pre>\n\n<p>Calling:</p>\n\n<pre><code>.orderBy(\"date\", Query.Direction.ASCENDING)\n</code></pre>\n\n<p>Will never work since your property name is <code>timeStamp</code> and <strong>not</strong> <code>date</code>.</p>\n"}],"owner":{"account_id":14768316,"reputation":294,"user_id":10665634,"display_name":"bramasta vikana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61541299,"answer_count":1,"score":0,"last_activity_date":1690263833,"creation_date":1588328770,"question_id":61540697,"body_markdown":"I want to sort my data from oldest to newest from Cloud Firestore this is my code:\r\n\r\n      private void loadNotesList() {\r\n        firestoreDB.collection(&quot;keluhan&quot;)\r\n                .get()\r\n                .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n                        if (task.isSuccessful()) {\r\n                            List&lt;keluhanModel&gt; notesList = new ArrayList&lt;&gt;();\r\n\r\n                            for (DocumentSnapshot doc : task.getResult()) {\r\n                                keluhanModel note = doc.toObject(keluhanModel.class);\r\n                                note.setId(doc.getId());\r\n                                notesList.add(note);\r\n                            }\r\n\r\n                            mAdapter = new adapterKeluhan(notesList, getApplicationContext(), firestoreDB);\r\n                            RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n                            recyclerView.setLayoutManager(mLayoutManager);\r\n                            recyclerView.setItemAnimator(new DefaultItemAnimator());\r\n                            recyclerView.setAdapter(mAdapter);\r\n                        } else {\r\n                            Log.d(TAG, &quot;Error getting documents: &quot;, task.getException());\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\nI have tried to use .orderBy(&quot;date&quot;, Query.Direction.ASCENDING) but it didn&#39;t do anything it just a white page in my Android application.\r\n\r\nThis is my database:\r\n\r\n[![screenshot database][1]][1]\r\n\r\n  [1]: https://i.stack.imgur.com/dzH6l.png","title":"I want to order my data from newest to oldest using Cloud Firestore in Android using Java","body":"<p>I want to sort my data from oldest to newest from Cloud Firestore this is my code:</p>\n\n<pre><code>  private void loadNotesList() {\n    firestoreDB.collection(\"keluhan\")\n            .get()\n            .addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n                    if (task.isSuccessful()) {\n                        List&lt;keluhanModel&gt; notesList = new ArrayList&lt;&gt;();\n\n                        for (DocumentSnapshot doc : task.getResult()) {\n                            keluhanModel note = doc.toObject(keluhanModel.class);\n                            note.setId(doc.getId());\n                            notesList.add(note);\n                        }\n\n                        mAdapter = new adapterKeluhan(notesList, getApplicationContext(), firestoreDB);\n                        RecyclerView.LayoutManager mLayoutManager = new LinearLayoutManager(getApplicationContext());\n                        recyclerView.setLayoutManager(mLayoutManager);\n                        recyclerView.setItemAnimator(new DefaultItemAnimator());\n                        recyclerView.setAdapter(mAdapter);\n                    } else {\n                        Log.d(TAG, \"Error getting documents: \", task.getException());\n                    }\n                }\n            });\n}\n</code></pre>\n\n<p>I have tried to use .orderBy(\"date\", Query.Direction.ASCENDING) but it didn't do anything it just a white page in my Android application.</p>\n\n<p>This is my database:</p>\n\n<p><a href=\"https://i.stack.imgur.com/dzH6l.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dzH6l.png\" alt=\"screenshot database\"></a></p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"comments":[{"owner":{"account_id":426109,"reputation":302012,"user_id":807126,"display_name":"Doug Stevenson"},"score":0,"creation_date":1588293115,"post_id":61533758,"comment_id":108850498,"body_markdown":"The same loop doesn&#39;t work?","body":"The same loop doesn&#39;t work?"},{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1588294124,"post_id":61533758,"comment_id":108850764,"body_markdown":"@DougStevenson are you suggesting something like this?","body":"@DougStevenson are you suggesting something like this?"},{"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"score":0,"creation_date":1588294365,"post_id":61533758,"comment_id":108850830,"body_markdown":"```combineUserTasks```, ```combineLikeTask``` return different data","body":"<code>combineUserTasks</code>, <code>combineLikeTask</code> return different data"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1588313382,"creation_date":1588313382,"answer_id":61537695,"question_id":61533758,"body_markdown":"As I understand, you have two types of lists, `userModelArrayList` which is of type UserModel, and `likeModelArrayList` which is of type LikeModel. To be able to add each object in its corresponding type of list, you should create the lists of Task objects to be of type UserModel and LikeModel. So please change the following lines of code:\r\n\r\n    List&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\r\n    List&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\r\n\r\nto\r\n\r\n    List&lt;Task&lt;UserModel&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\r\n    List&lt;Task&lt;LikeModel&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\r\n\r\nSo instead of adding the `DocumentSnapshot` objects, add the actual objects. So use `toObject()` before. That being said, you can then check each object type using `instanceof` operator, like in the following lines of code:\r\n\r\n    Tasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n        @Override\r\n        public void onSuccess(List&lt;Object&gt; objects) {\r\n            for (Object object : objects) {\r\n                if (object instanceof UserModel) {\r\n                    userModelArrayList.add(userModel);\r\n                } else if (object instanceof LikeModel) {\r\n                    likeModelArrayList.add(likeModel);\r\n                }\r\n            }\r\n        }\r\n    });\r\n\r\nNow, you&#39;ll have each list populated with the corresponding object type.","title":"Cast result of multiple tasks list to their POJO in Tasks.whenAllSuccess() (Firestore)","body":"<p>As I understand, you have two types of lists, <code>userModelArrayList</code> which is of type UserModel, and <code>likeModelArrayList</code> which is of type LikeModel. To be able to add each object in its corresponding type of list, you should create the lists of Task objects to be of type UserModel and LikeModel. So please change the following lines of code:</p>\n\n<pre><code>List&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\nList&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>to</p>\n\n<pre><code>List&lt;Task&lt;UserModel&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\nList&lt;Task&lt;LikeModel&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\n</code></pre>\n\n<p>So instead of adding the <code>DocumentSnapshot</code> objects, add the actual objects. So use <code>toObject()</code> before. That being said, you can then check each object type using <code>instanceof</code> operator, like in the following lines of code:</p>\n\n<pre><code>Tasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n    @Override\n    public void onSuccess(List&lt;Object&gt; objects) {\n        for (Object object : objects) {\n            if (object instanceof UserModel) {\n                userModelArrayList.add(userModel);\n            } else if (object instanceof LikeModel) {\n                likeModelArrayList.add(likeModel);\n            }\n        }\n    }\n});\n</code></pre>\n\n<p>Now, you'll have each list populated with the corresponding object type.</p>\n"}],"owner":{"account_id":8423934,"reputation":927,"user_id":6321878,"display_name":"Malik Bilal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61537695,"answer_count":1,"score":1,"last_activity_date":1690263816,"creation_date":1588285352,"question_id":61533758,"body_markdown":"```\r\nList&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\r\n\r\nList&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\r\n\r\n```\r\n\r\nSo I have created two Tasks Lists. If it is one Task List I can cast ```object``` to ```DocumentSnapshot``` and store in POJO like this:\r\n\r\n```\r\nTask combineUserTasks =  Tasks.whenAllSuccess(fetchUserTasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Object&gt; objects) {\r\n\r\n                        for (Object object : objects) {\r\n\r\n                            UserModel userModel = ((DocumentSnapshot) object).toObject(UserModel.class);\r\n\r\n                            userModelArrayList.add(userModel);\r\n\r\n                        }\r\n\r\n                });\r\n\r\n```\r\n\r\nBut in case of two Task List how I can cast results for each List?\r\n\r\n```\r\n\r\nTasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Object&gt; objects) {\r\n\r\n                        // How to fetch/cast data for individual POJO here?\r\n                        \r\n                    }\r\n                });\r\n\r\n```\r\n\r\n**Update 1:**\r\n\r\n```\r\n\r\nTasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\r\n                    @Override\r\n                    public void onSuccess(List&lt;Object&gt; objects) {\r\n\r\n                        for (Object object : objects) {\r\n\r\n                            UserModel userModel = ((DocumentSnapshot) object).toObject(UserModel.class);\r\n                            \r\n                            LikeModel likeModel = ((DocumentSnapshot) object).toObject(LikeModel.class);\r\n\r\n                            userModelArrayList.add(userModel);\r\n                            \r\n                            likeModelArrayList.add(likeModel);\r\n\r\n                        }\r\n\r\n                    }\r\n                });","title":"Cast result of multiple tasks list to their POJO in Tasks.whenAllSuccess() (Firestore)","body":"<pre><code>List&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchUserTasks = new ArrayList&lt;&gt;();\n\nList&lt;Task&lt;DocumentSnapshot&gt;&gt; fetchLikeTasks = new ArrayList&lt;&gt;();\n\n</code></pre>\n\n<p>So I have created two Tasks Lists. If it is one Task List I can cast <code>object</code> to <code>DocumentSnapshot</code> and store in POJO like this:</p>\n\n<pre><code>Task combineUserTasks =  Tasks.whenAllSuccess(fetchUserTasks).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n                    @Override\n                    public void onSuccess(List&lt;Object&gt; objects) {\n\n                        for (Object object : objects) {\n\n                            UserModel userModel = ((DocumentSnapshot) object).toObject(UserModel.class);\n\n                            userModelArrayList.add(userModel);\n\n                        }\n\n                });\n\n</code></pre>\n\n<p>But in case of two Task List how I can cast results for each List?</p>\n\n<pre><code>\nTasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n                    @Override\n                    public void onSuccess(List&lt;Object&gt; objects) {\n\n                        // How to fetch/cast data for individual POJO here?\n\n                    }\n                });\n\n</code></pre>\n\n<p><strong>Update 1:</strong></p>\n\n<pre><code>\nTasks.whenAllSuccess(combineUserTasks, combineLikeTask).addOnSuccessListener(new OnSuccessListener&lt;List&lt;Object&gt;&gt;() {\n                    @Override\n                    public void onSuccess(List&lt;Object&gt; objects) {\n\n                        for (Object object : objects) {\n\n                            UserModel userModel = ((DocumentSnapshot) object).toObject(UserModel.class);\n\n                            LikeModel likeModel = ((DocumentSnapshot) object).toObject(LikeModel.class);\n\n                            userModelArrayList.add(userModel);\n\n                            likeModelArrayList.add(likeModel);\n\n                        }\n\n                    }\n                });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-boot-test","springmockito"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1529306258,"post_id":50904284,"comment_id":88808461,"body_markdown":"`User` will not be injected if you are using `user = new User();`","body":"<code>User</code> will not be injected if you are using <code>user = new User();</code>"},{"owner":{"account_id":8809729,"reputation":2507,"user_id":6583134,"display_name":"Lemmy"},"score":0,"creation_date":1529306446,"post_id":50904284,"comment_id":88808561,"body_markdown":"Why you mock User? it is entity not a bean","body":"Why you mock User? it is entity not a bean"},{"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"score":0,"creation_date":1529306525,"post_id":50904284,"comment_id":88808599,"body_markdown":"@MountainKing what should I do then, please suggest.","body":"@MountainKing what should I do then, please suggest."},{"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"score":0,"creation_date":1529306579,"post_id":50904284,"comment_id":88808633,"body_markdown":"@ScaryWombat I believe that is a mistake but thats not the real problem here because even after removing new User its throwing the same error","body":"@ScaryWombat I believe that is a mistake but thats not the real problem here because even after removing new User its throwing the same error"},{"owner":{"account_id":8809729,"reputation":2507,"user_id":6583134,"display_name":"Lemmy"},"score":0,"creation_date":1529307581,"post_id":50904284,"comment_id":88809157,"body_markdown":"Why you are using @RunWith(SpringRunner.class)\n@SpringBootTest(classes = { UserManagementServiceApplication.class })?\nAs I can see you mock all beans so you can use @RunWith(MockitoJUnitRunner.class) instead.","body":"Why you are using @RunWith(SpringRunner.class) @SpringBootTest(classes = { UserManagementServiceApplication.class })? As I can see you mock all beans so you can use @RunWith(MockitoJUnitRunner.class) instead."},{"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"score":0,"creation_date":1529308122,"post_id":50904284,"comment_id":88809406,"body_markdown":"@MountainKing, everything is working fine if I remove this service mocking in the test class and yes I tried with MockitoJUnitRunner also, not working.","body":"@MountainKing, everything is working fine if I remove this service mocking in the test class and yes I tried with MockitoJUnitRunner also, not working."},{"owner":{"account_id":8809729,"reputation":2507,"user_id":6583134,"display_name":"Lemmy"},"score":0,"creation_date":1529308972,"post_id":50904284,"comment_id":88809797,"body_markdown":"why you need this line mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();?\n\nCan you change it to MockMvcBuilders.standaloneSetup(userController).build();\nYou need to mock mvc in order to test UserController so create standalove setup for that controller","body":"why you need this line mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).bu&zwnj;&#8203;ild();?  Can you change it to MockMvcBuilders.standaloneSetup(userController).build(); You need to mock mvc in order to test UserController so create standalove setup for that controller"},{"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"score":0,"creation_date":1529312719,"post_id":50904284,"comment_id":88811772,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/173318/discussion-between-saching-and-mountain-king).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/173318/discussion-between-saching-and-mountain-king\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1529486262,"creation_date":1529486262,"answer_id":50944597,"question_id":50904284,"body_markdown":"Found the problem. the problem is org.springframework.core.env.Environment in UserControllerTest.\r\n\r\nThis can not be mocked but autowired.\r\n\r\nso changing\r\n\r\n     @MockBean\r\n     private Environment env;\r\nto\r\n\r\n    @Autowired\r\n     private Environment env;\r\n\r\nsolved the problem.","title":"spring boot not able to inject spring service in spring test class","body":"<p>Found the problem. the problem is org.springframework.core.env.Environment in UserControllerTest.</p>\n\n<p>This can not be mocked but autowired.</p>\n\n<p>so changing</p>\n\n<pre><code> @MockBean\n private Environment env;\n</code></pre>\n\n<p>to</p>\n\n<pre><code>@Autowired\n private Environment env;\n</code></pre>\n\n<p>solved the problem.</p>\n"}],"owner":{"account_id":4738898,"reputation":709,"user_id":3832389,"accept_rate":50,"display_name":"sachingupta"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50944597,"answer_count":1,"score":2,"last_activity_date":1690263526,"creation_date":1529305948,"question_id":50904284,"body_markdown":"I have been struggling to solve this problem but no luck, also I am a bit new to spring boot. This application is a user registration application.\r\n\r\nI have a service,controller class as below \r\n\r\n    @Service(&quot;userService&quot;)\r\n    @Transactional\r\n    public class UserService {\r\n    \t.....\r\n    }\r\n   \r\n\r\n \r\n\r\n    @RestController\r\n    @RequestMapping(&quot;${&quot; + Constants.USER_ROOT + &quot;}&quot;)\r\n    public class UserController {\r\n       @PostMapping(&quot;${&quot; + Constants.REGISTER_URL + &quot;}&quot;)\r\n       public @ResponseBody Object register(@Valid @RequestBody User user, BindingResult bindingResult,HttpServletRequest request) {\r\n        \t\t\t.....\r\n        }\r\n    }\r\n\r\nI am writing test cases for the controller as below\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = { UserManagementServiceApplication.class })\r\n    public class UserControllerTest {\r\n    \r\n    \t@MockBean\r\n    \tprivate UserRepository userRepository;\r\n    \r\n    \t@MockBean\r\n    \tprivate UserService userService;\r\n    \r\n    \t@Autowired\r\n    \tprivate WebApplicationContext webApplicationContext;\r\n    \r\n    \t@MockBean\r\n    \tprivate User user;\r\n    \r\n    \t@MockBean\r\n    \tprivate Environment env;\r\n    \r\n    \t@Value(&quot;${&quot; + Constants.USER_ROOT + &quot;}&quot; + &quot;${&quot; + Constants.REGISTER_URL + &quot;}&quot;)\r\n    \tprivate String registerUrl;\r\n    \r\n    \t@Value(&quot;${&quot; + Constants.USER_ROOT + &quot;}&quot; + &quot;${&quot; + Constants.CONFIRM_REGISTER_URL + &quot;}&quot;)\r\n    \tprivate String confirmRegisterUrl;\r\n    \r\n    \t@Value(&quot;${&quot; + Constants.USER_ROOT + &quot;}&quot; + &quot;${&quot; + Constants.RESET_PASSWORD_URL + &quot;}&quot;)\r\n    \tprivate String resetPasswordUrl;\r\n    \r\n    \t@Value(&quot;${&quot; + Constants.USER_ROOT + &quot;}&quot; + &quot;${&quot; + Constants.CONFIRM_RESET_URL + &quot;}&quot;)\r\n    \tprivate String confirmResetPasswordUrl;\r\n    \r\n    \tprivate String email;\r\n    \tprivate MockMvc mockMvc;\r\n    \tprivate BCryptPasswordEncoder bCryptPasswordEncoder;\r\n    \r\n    \t@Before\r\n    \tpublic void before() {\r\n    \t\tmockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\r\n    \t\tbCryptPasswordEncoder = new BCryptPasswordEncoder();\r\n    \t\tuser = new User();\r\n    \t\temail = &quot;test&quot; + System.currentTimeMillis() + &quot;@test.com&quot;;\r\n    \t\tuser.setEmail(email);\r\n    \t\tuser.setFirstName(&quot;TestFirstName&quot;);\r\n    \t\tuser.setLastName(&quot;TestLastName&quot;);\r\n    \t\tuser.setPassword(bCryptPasswordEncoder.encode(&quot;Newuser@123&quot;));\r\n    \t\tuser.setEnabled(false);\r\n    \t\tuser.setConfirmationToken(&quot;TestConfirmationToken&quot;);\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tpublic void createValidUserTest() throws Exception {\r\n    \r\n    \t\tJSONObject testJSON = new JSONObject();\r\n    \t\ttestJSON.put(&quot;email&quot;, email);\r\n    \t\ttestJSON.put(&quot;password&quot;, &quot;Newuser@123&quot;);\r\n    \t\ttestJSON.put(&quot;firstName&quot;, &quot;TestFirstName&quot;);\r\n    \t\ttestJSON.put(&quot;lastName&quot;, &quot;TestLastName&quot;);\r\n    \r\n    \t\t// Mock\r\n    \t\twhen(userService.findByEmail(email)).thenReturn(null);\r\n    \t\twhen(userService.saveUser(user)).thenReturn(user);\r\n    \t\twhen(userService.isUserExist(Constants.EMAIL, user.getEmail())).thenReturn(false);\r\n    \t\twhen(userService.isPasswordWeak(user.getPassword())).thenReturn(false);\r\n    \t\twhen(userService.encodePassword(user.getPassword())).thenReturn(&quot;Newuser@123_encoded&quot;);\r\n    \t\twhen(userService.getProperty(Constants.USER_ROOT)).thenReturn(env.getProperty(Constants.USER_ROOT));\r\n    \t\twhen(userService.getProperty(Constants.CONFIRM_URL)).thenReturn(env.getProperty(Constants.CONFIRM_URL));\r\n    \r\n    \t\tmockMvc.perform(MockMvcRequestBuilders.post(registerUrl).contentType(MediaType.APPLICATION_JSON)\r\n    \t\t\t\t.content(testJSON.toString())).andExpect(MockMvcResultMatchers.status().isOk());\r\n    \r\n    \t}\r\n    }\r\n\r\nbut when I am running spring boot application, its throwing some strange error \r\n\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodValidationPostProcessor&#39; defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method &#39;methodValidationPostProcessor&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:226) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:535) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) [spring-boot-test-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413) [surefire-booter-2.21.0.jar:2.21.0]\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method &#39;methodValidationPostProcessor&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \t... 44 common frames omitted\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.methodValidationPostProcessor(ValidationAutoConfiguration.java:67) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \t... 45 common frames omitted\r\n    \r\n    2018-06-18 12:32:02.690 ERROR 8884 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@29d3d0fb] to prepare test instance [com.lti.resource.UserControllerTest@2125535d]\r\n    \r\n    java.lang.IllegalStateException: Failed to load ApplicationContext\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\r\n    \tat org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125) [surefire-booter-2.21.0.jar:2.21.0]\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413) [surefire-booter-2.21.0.jar:2.21.0]\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;methodValidationPostProcessor&#39; defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method &#39;methodValidationPostProcessor&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:226) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:535) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \t... 27 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method &#39;methodValidationPostProcessor&#39; threw exception; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \tat org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \t... 44 common frames omitted\r\n    Caused by: java.lang.NullPointerException: null\r\n    \tat org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.methodValidationPostProcessor(ValidationAutoConfiguration.java:67) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\r\n    \tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\r\n    \t... 45 common frames omitted\r\n\r\nplease help me understand and resolve this error.\r\n","title":"spring boot not able to inject spring service in spring test class","body":"<p>I have been struggling to solve this problem but no luck, also I am a bit new to spring boot. This application is a user registration application.</p>\n\n<p>I have a service,controller class as below </p>\n\n<pre><code>@Service(\"userService\")\n@Transactional\npublic class UserService {\n    .....\n}\n\n\n\n\n@RestController\n@RequestMapping(\"${\" + Constants.USER_ROOT + \"}\")\npublic class UserController {\n   @PostMapping(\"${\" + Constants.REGISTER_URL + \"}\")\n   public @ResponseBody Object register(@Valid @RequestBody User user, BindingResult bindingResult,HttpServletRequest request) {\n                .....\n    }\n}\n</code></pre>\n\n<p>I am writing test cases for the controller as below</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = { UserManagementServiceApplication.class })\npublic class UserControllerTest {\n\n    @MockBean\n    private UserRepository userRepository;\n\n    @MockBean\n    private UserService userService;\n\n    @Autowired\n    private WebApplicationContext webApplicationContext;\n\n    @MockBean\n    private User user;\n\n    @MockBean\n    private Environment env;\n\n    @Value(\"${\" + Constants.USER_ROOT + \"}\" + \"${\" + Constants.REGISTER_URL + \"}\")\n    private String registerUrl;\n\n    @Value(\"${\" + Constants.USER_ROOT + \"}\" + \"${\" + Constants.CONFIRM_REGISTER_URL + \"}\")\n    private String confirmRegisterUrl;\n\n    @Value(\"${\" + Constants.USER_ROOT + \"}\" + \"${\" + Constants.RESET_PASSWORD_URL + \"}\")\n    private String resetPasswordUrl;\n\n    @Value(\"${\" + Constants.USER_ROOT + \"}\" + \"${\" + Constants.CONFIRM_RESET_URL + \"}\")\n    private String confirmResetPasswordUrl;\n\n    private String email;\n    private MockMvc mockMvc;\n    private BCryptPasswordEncoder bCryptPasswordEncoder;\n\n    @Before\n    public void before() {\n        mockMvc = MockMvcBuilders.webAppContextSetup(webApplicationContext).build();\n        bCryptPasswordEncoder = new BCryptPasswordEncoder();\n        user = new User();\n        email = \"test\" + System.currentTimeMillis() + \"@test.com\";\n        user.setEmail(email);\n        user.setFirstName(\"TestFirstName\");\n        user.setLastName(\"TestLastName\");\n        user.setPassword(bCryptPasswordEncoder.encode(\"Newuser@123\"));\n        user.setEnabled(false);\n        user.setConfirmationToken(\"TestConfirmationToken\");\n    }\n\n    @Test\n    public void createValidUserTest() throws Exception {\n\n        JSONObject testJSON = new JSONObject();\n        testJSON.put(\"email\", email);\n        testJSON.put(\"password\", \"Newuser@123\");\n        testJSON.put(\"firstName\", \"TestFirstName\");\n        testJSON.put(\"lastName\", \"TestLastName\");\n\n        // Mock\n        when(userService.findByEmail(email)).thenReturn(null);\n        when(userService.saveUser(user)).thenReturn(user);\n        when(userService.isUserExist(Constants.EMAIL, user.getEmail())).thenReturn(false);\n        when(userService.isPasswordWeak(user.getPassword())).thenReturn(false);\n        when(userService.encodePassword(user.getPassword())).thenReturn(\"Newuser@123_encoded\");\n        when(userService.getProperty(Constants.USER_ROOT)).thenReturn(env.getProperty(Constants.USER_ROOT));\n        when(userService.getProperty(Constants.CONFIRM_URL)).thenReturn(env.getProperty(Constants.CONFIRM_URL));\n\n        mockMvc.perform(MockMvcRequestBuilders.post(registerUrl).contentType(MediaType.APPLICATION_JSON)\n                .content(testJSON.toString())).andExpect(MockMvcResultMatchers.status().isOk());\n\n    }\n}\n</code></pre>\n\n<p>but when I am running spring boot application, its throwing some strange error </p>\n\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'methodValidationPostProcessor' defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method 'methodValidationPostProcessor' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:226) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:535) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) [spring-boot-test-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413) [surefire-booter-2.21.0.jar:2.21.0]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method 'methodValidationPostProcessor' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    ... 44 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.methodValidationPostProcessor(ValidationAutoConfiguration.java:67) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    ... 45 common frames omitted\n\n2018-06-18 12:32:02.690 ERROR 8884 --- [           main] o.s.test.context.TestContextManager      : Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener@29d3d0fb] to prepare test instance [com.lti.resource.UserControllerTest@2125535d]\n\njava.lang.IllegalStateException: Failed to load ApplicationContext\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:125) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:108) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:190) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:132) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:246) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:227) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:289) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:291) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:246) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:97) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58) [junit-4.12.jar:4.12]\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363) [junit-4.12.jar:4.12]\n    at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:190) [spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.execute(JUnit4Provider.java:365) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeWithRerun(JUnit4Provider.java:273) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:238) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:159) [surefire-junit4-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.invokeProviderInSameClassLoader(ForkedBooter.java:379) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:340) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:125) [surefire-booter-2.21.0.jar:2.21.0]\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:413) [surefire-booter-2.21.0.jar:2.21.0]\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'methodValidationPostProcessor' defined in class path resource [org/springframework/boot/autoconfigure/validation/ValidationAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method 'methodValidationPostProcessor' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:587) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1254) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1103) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:541) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:501) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:317) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:228) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:315) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:204) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.registerBeanPostProcessors(PostProcessorRegistrationDelegate.java:226) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:535) ~[spring-context-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:759) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:395) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:327) ~[spring-boot-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:139) ~[spring-boot-test-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:99) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:117) ~[spring-test-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    ... 27 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.validation.beanvalidation.MethodValidationPostProcessor]: Factory method 'methodValidationPostProcessor' threw exception; nested exception is java.lang.NullPointerException\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:579) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    ... 44 common frames omitted\nCaused by: java.lang.NullPointerException: null\n    at org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration.methodValidationPostProcessor(ValidationAutoConfiguration.java:67) ~[spring-boot-autoconfigure-2.0.2.RELEASE.jar:2.0.2.RELEASE]\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_101]\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_101]\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_101]\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_101]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154) ~[spring-beans-5.0.6.RELEASE.jar:5.0.6.RELEASE]\n    ... 45 common frames omitted\n</code></pre>\n\n<p>please help me understand and resolve this error.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":184870,"reputation":118711,"user_id":421195,"accept_rate":83,"display_name":"paulsm4"},"score":1,"creation_date":1690263098,"post_id":76759654,"comment_id":135324839,"body_markdown":"Q: Have you tried [String.format](https://docs.oracle.com/javase/7/docs/api/java/lang/String.html), e.g. `System.out.println(String.format(&quot;%0.5f&quot;, d))`?  See also https://mkyong.com/java/how-to-format-a-double-in-java/ or https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html","body":"Q: Have you tried <a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/String.html\" rel=\"nofollow noreferrer\">String.format</a>, e.g. <code>System.out.println(String.format(&quot;%0.5f&quot;, d))</code>?  See also <a href=\"https://mkyong.com/java/how-to-format-a-double-in-java/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-format-a-double-in-java</a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/Formatter.html</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690263473,"post_id":76759654,"comment_id":135324896,"body_markdown":"Please show the code which converts this value to a string. It sounds as though you may be converting an object to a JSON response. We need to know exactly what you&#39;re doing to be able to help you.","body":"Please show the code which converts this value to a string. It sounds as though you may be converting an object to a JSON response. We need to know exactly what you&#39;re doing to be able to help you."},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1690265469,"post_id":76759654,"comment_id":135325112,"body_markdown":"To set the value in the response, you have nothing special to do since it&#39;s of type `Double`. It&#39;s when you want to print it or converting it to a string that you need to be format it. In other words, 0.0005 and 5.0E-4 are the same value formatted differently.","body":"To set the value in the response, you have nothing special to do since it&#39;s of type <code>Double</code>. It&#39;s when you want to print it or converting it to a string that you need to be format it. In other words, 0.0005 and 5.0E-4 are the same value formatted differently."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690265617,"post_id":76759654,"comment_id":135325129,"body_markdown":"*&quot;I have used DecimalFormat class but that doesn&#39;t work.&quot;* - Show us the code.  I&#39;m sure that DecimalFormat can be used for this ... provided you use it correctly.","body":"<i>&quot;I have used DecimalFormat class but that doesn&#39;t work.&quot;</i> - Show us the code.  I&#39;m sure that DecimalFormat can be used for this ... provided you use it correctly."}],"answers":[{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690263049,"creation_date":1690263049,"answer_id":76759687,"question_id":76759654,"body_markdown":"If you have tried using **DecimalFormat** and it didn&#39;t work, it&#39;s possible that you might not have used the correct pattern or made some mistake while applying the formatting.\r\n\r\nTry this way:\r\n\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            double value = 0.0005;\r\n    \r\n            // Create a DecimalFormat object with the desired pattern\r\n            DecimalFormat decimalFormat = new DecimalFormat(&quot;0.0000&quot;);\r\n    \r\n            // Format the double value as a string\r\n            String formattedValue = decimalFormat.format(value);\r\n    \r\n            // Print the formatted value\r\n            System.out.println(formattedValue);\r\n        }\r\n    }\r\n\r\n","title":"How to print very double value without scientific expression","body":"<p>If you have tried using <strong>DecimalFormat</strong> and it didn't work, it's possible that you might not have used the correct pattern or made some mistake while applying the formatting.</p>\n<p>Try this way:</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class Main {\n    public static void main(String[] args) {\n        double value = 0.0005;\n\n        // Create a DecimalFormat object with the desired pattern\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;0.0000&quot;);\n\n        // Format the double value as a string\n        String formattedValue = decimalFormat.format(value);\n\n        // Print the formatted value\n        System.out.println(formattedValue);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16591906,"reputation":11,"user_id":11989880,"display_name":"Sahil Singh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1690263049,"creation_date":1690262454,"question_id":76759654,"body_markdown":"In my code I&#39;m calculating a double value and sending it in API response. The value that comes after calculation is 0.0005 but I&#39;m getting 5.0E-4 that also means 0.0005. I don&#39;t want the value to come as scientefic expression. In the API response class, the variable is of Double type and I want to send 0.0005 in it. Can somebody help me in formatting this double value? I&#39;m using Java.\r\n\r\nI have used DecimalFormat class but that doesn&#39;t work.","title":"How to print very double value without scientific expression","body":"<p>In my code I'm calculating a double value and sending it in API response. The value that comes after calculation is 0.0005 but I'm getting 5.0E-4 that also means 0.0005. I don't want the value to come as scientefic expression. In the API response class, the variable is of Double type and I want to send 0.0005 in it. Can somebody help me in formatting this double value? I'm using Java.</p>\n<p>I have used DecimalFormat class but that doesn't work.</p>\n"},{"tags":["java","time"],"answers":[{"tags":[],"owner":{"account_id":28639649,"reputation":3,"user_id":21929046,"display_name":"howard81"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690262136,"creation_date":1690262136,"answer_id":76759633,"question_id":76759323,"body_markdown":"Yes you can add a boolean field `resetAt5` in Reset class.\r\n\r\n```\r\npublic void playerHeart(Player player, long time) {\r\n    Reset reset = player.getBase().getReset();\r\n    if (!TimeUtil.isSameDay(reset.getResetTime(), time)) {\r\n        EventManager.fire(EventOnPlayerDailyReset.class, e -&gt; e.onPlayerDailyReset(player));\r\n\r\n        reset.setResetAt5(false);\r\n        if (time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\r\n            EventManager.fire(EventOnPlayerResetAtHour5.class, e -&gt; e.onPlayerResetAtHour5(player));\r\n            reset.setResetAt5(true);\r\n        }\r\n        reset.setResetTime(time);\r\n        player.saveBase();\r\n    }\r\n\r\n    if (!reset.isResetAt5() &amp;&amp; time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\r\n        EventManager.fire(EventOnPlayerResetAtHour5.class, e -&gt; e.onPlayerResetAtHour5(player));\r\n        reset.setResetAt5(true);\r\n        player.saveBase();\r\n    }\r\n\r\n    EventManager.fire(EventOnPlayerHeart.class, e -&gt; e.onPlayerHeart(player, time));\r\n}\r\n\r\n@Data\r\npublic class Reset {\r\n\r\n    @Tag(1)\r\n    private long resetTime;\r\n\r\n    @Tag(2)\r\n    private boolean resetAt5;\r\n}\r\n```","title":"time reset at specified hour daily","body":"<p>Yes you can add a boolean field <code>resetAt5</code> in Reset class.</p>\n<pre><code>public void playerHeart(Player player, long time) {\n    Reset reset = player.getBase().getReset();\n    if (!TimeUtil.isSameDay(reset.getResetTime(), time)) {\n        EventManager.fire(EventOnPlayerDailyReset.class, e -&gt; e.onPlayerDailyReset(player));\n\n        reset.setResetAt5(false);\n        if (time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\n            EventManager.fire(EventOnPlayerResetAtHour5.class, e -&gt; e.onPlayerResetAtHour5(player));\n            reset.setResetAt5(true);\n        }\n        reset.setResetTime(time);\n        player.saveBase();\n    }\n\n    if (!reset.isResetAt5() &amp;&amp; time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\n        EventManager.fire(EventOnPlayerResetAtHour5.class, e -&gt; e.onPlayerResetAtHour5(player));\n        reset.setResetAt5(true);\n        player.saveBase();\n    }\n\n    EventManager.fire(EventOnPlayerHeart.class, e -&gt; e.onPlayerHeart(player, time));\n}\n\n@Data\npublic class Reset {\n\n    @Tag(1)\n    private long resetTime;\n\n    @Tag(2)\n    private boolean resetAt5;\n}\n</code></pre>\n"}],"owner":{"account_id":15968441,"reputation":373,"user_id":11523294,"display_name":"Criwran"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690262136,"creation_date":1690256770,"question_id":76759323,"body_markdown":"I want to trigger an event at 5:00 am everyday. And I want to implement it in player&#39;s heartbeat. Our design is to have a heartbeat every minute.\r\n\r\n```\r\n    @Override\r\n    public void playerHeart(Player player, long time) {\r\n        Reset reset = player.getBase().getReset();\r\n        if (!TimeUtil.isSameDay(reset.getResetTime(), time)) {\r\n            EventManager.fire(EventOnPlayerDailyReset.class, e -&gt; e.onPlayerDailyReset(player));\r\n            if (time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\r\n                EventManager.fire(EventOnDailyAtHour5.class, e -&gt; e.onDailyAtHour5(player));\r\n            }\r\n            reset.setResetTime(time);\r\n            player.saveBase();\r\n        }\r\n\r\n        // to be implemented: judge if now mills is around 5:00 am and trigger EventOnDailyAtHour5\r\n\r\n\r\n        EventManager.fire(EventOnPlayerHeart.class, e -&gt; e.onPlayerHeart(player, time));\r\n    }\r\n\r\n    @Data\r\n    public class Reset {\r\n\r\n        @Tag(1)\r\n        private long resetTime;\r\n\r\n    }\r\n```\r\nMy question is, how to trigger only one event around 5 o&#39;clock each day?\r\n\r\nShould I add a boolean field let&#39;s call `resetAt5` in `Reset` class to mark I triggered `EventOnDailyAtHour5` today to avoid repeated triggering?","title":"time reset at specified hour daily","body":"<p>I want to trigger an event at 5:00 am everyday. And I want to implement it in player's heartbeat. Our design is to have a heartbeat every minute.</p>\n<pre><code>    @Override\n    public void playerHeart(Player player, long time) {\n        Reset reset = player.getBase().getReset();\n        if (!TimeUtil.isSameDay(reset.getResetTime(), time)) {\n            EventManager.fire(EventOnPlayerDailyReset.class, e -&gt; e.onPlayerDailyReset(player));\n            if (time &gt;= TimeUtil.getClockTime(time, 3600 * 5)) {\n                EventManager.fire(EventOnDailyAtHour5.class, e -&gt; e.onDailyAtHour5(player));\n            }\n            reset.setResetTime(time);\n            player.saveBase();\n        }\n\n        // to be implemented: judge if now mills is around 5:00 am and trigger EventOnDailyAtHour5\n\n\n        EventManager.fire(EventOnPlayerHeart.class, e -&gt; e.onPlayerHeart(player, time));\n    }\n\n    @Data\n    public class Reset {\n\n        @Tag(1)\n        private long resetTime;\n\n    }\n</code></pre>\n<p>My question is, how to trigger only one event around 5 o'clock each day?</p>\n<p>Should I add a boolean field let's call <code>resetAt5</code> in <code>Reset</code> class to mark I triggered <code>EventOnDailyAtHour5</code> today to avoid repeated triggering?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1690184044,"post_id":76752272,"comment_id":135312372,"body_markdown":"Why did you write `Comparator&lt;T extends Employee&gt;`? Did you mean `Comparator&lt;? super Employee&gt;`?","body":"Why did you write <code>Comparator&lt;T extends Employee&gt;</code>? Did you mean <code>Comparator&lt;? super Employee&gt;</code>?"},{"owner":{"account_id":4713088,"reputation":1325,"user_id":3813027,"display_name":"senerh"},"score":0,"creation_date":1690184167,"post_id":76752272,"comment_id":135312393,"body_markdown":"How do you get the error `Unexpected bound`? The problem seems to not be about the comparator.","body":"How do you get the error <code>Unexpected bound</code>? The problem seems to not be about the comparator."},{"owner":{"account_id":1263716,"reputation":485,"user_id":1221476,"accept_rate":83,"display_name":"gpr"},"score":0,"creation_date":1690184275,"post_id":76752272,"comment_id":135312416,"body_markdown":"@Sweeper , yes I think that was the problem, got the problem once I posted the question.","body":"@Sweeper , yes I think that was the problem, got the problem once I posted the question."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690261610,"post_id":76752272,"comment_id":135324688,"body_markdown":"Additionally, you don&#39;t want the `new` before `Comparator.comparing`: it&#39;s a method, not a class.","body":"Additionally, you don&#39;t want the <code>new</code> before <code>Comparator.comparing</code>: it&#39;s a method, not a class."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690184367,"creation_date":1690184367,"answer_id":76752307,"question_id":76752272,"body_markdown":"Try this:\r\n\r\n    Comparator&lt;? extends Employee&gt; comp = Comparator.comparing(Employee::getName);\r\n","title":"bounded Generic Comparator for base and derived classes","body":"<p>Try this:</p>\n<pre><code>Comparator&lt;? extends Employee&gt; comp = Comparator.comparing(Employee::getName);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690261458,"creation_date":1690261458,"answer_id":76759594,"question_id":76752272,"body_markdown":"[Maurice Perry&#39;s answer](https://stackoverflow.com/a/76752307/3788176) might be right in terms of allowing that line to compile, but it&#39;s not very useful afterwards: you can&#39;t invoke `comp.compare` with any other arguments than literal `null`s.\r\n\r\n`Comparator&lt;? extends Employee&gt;` means that the comparator accepts a _specific, but unknown_ subclass of `Employee`: since the compiler does not know which subclass it is, it will only allow you to pass in something that it knows for sure can be safely cast to that unknown type: namely, `null`.\r\n\r\nIf you want a comparator which is somehow more generic than a `Comparator&lt;Employee&gt;`, you could use `Comparator&lt;? super Employee&gt;`, which means the comparator can safely accept an instance of `Employee` (but the concrete object may be able to safely accept a more general thing).\r\n\r\n---\r\n\r\nBut really, you don&#39;t want to use any sort of wildcard here. Wildcards are only really useful in method parameters, in order to make a method able to accept more general objects.\r\n\r\nYou shouldn&#39;t use them in variables or return types (etc) because you&#39;re stuck with the wildcard type once you&#39;ve got it - you can&#39;t (safely) cast away the wildcards, so you are stuck with the extra verbosity of the `? extends` or `? super` everywhere, which is really just unnecessary eye pain.\r\n\r\n---\r\n\r\nThe reason why `Comparator&lt;T extends Employee&gt;` doesn&#39;t work is that is attempting to declare a type variable, `T`: you can only do that on a class (or interface) or on a method signature. It doesn&#39;t make sense to be able to declare it inside a method, since you can&#39;t subsequently use that type `T`.\r\n","title":"bounded Generic Comparator for base and derived classes","body":"<p><a href=\"https://stackoverflow.com/a/76752307/3788176\">Maurice Perry's answer</a> might be right in terms of allowing that line to compile, but it's not very useful afterwards: you can't invoke <code>comp.compare</code> with any other arguments than literal <code>null</code>s.</p>\n<p><code>Comparator&lt;? extends Employee&gt;</code> means that the comparator accepts a <em>specific, but unknown</em> subclass of <code>Employee</code>: since the compiler does not know which subclass it is, it will only allow you to pass in something that it knows for sure can be safely cast to that unknown type: namely, <code>null</code>.</p>\n<p>If you want a comparator which is somehow more generic than a <code>Comparator&lt;Employee&gt;</code>, you could use <code>Comparator&lt;? super Employee&gt;</code>, which means the comparator can safely accept an instance of <code>Employee</code> (but the concrete object may be able to safely accept a more general thing).</p>\n<hr />\n<p>But really, you don't want to use any sort of wildcard here. Wildcards are only really useful in method parameters, in order to make a method able to accept more general objects.</p>\n<p>You shouldn't use them in variables or return types (etc) because you're stuck with the wildcard type once you've got it - you can't (safely) cast away the wildcards, so you are stuck with the extra verbosity of the <code>? extends</code> or <code>? super</code> everywhere, which is really just unnecessary eye pain.</p>\n<hr />\n<p>The reason why <code>Comparator&lt;T extends Employee&gt;</code> doesn't work is that is attempting to declare a type variable, <code>T</code>: you can only do that on a class (or interface) or on a method signature. It doesn't make sense to be able to declare it inside a method, since you can't subsequently use that type <code>T</code>.</p>\n"}],"owner":{"account_id":1263716,"reputation":485,"user_id":1221476,"accept_rate":83,"display_name":"gpr"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76752307,"answer_count":2,"score":-2,"last_activity_date":1690261458,"creation_date":1690183945,"question_id":76752272,"body_markdown":"I am trying to understand how to build a generic Comparator for the a given class and all derived class.\r\n```\r\npublic class Employee {\r\n    String  name;\r\n    int id;\r\n}\r\n```\r\nIn my main class, I tried this\r\n```\r\nComparator&lt;T extends Employee&gt; comp = new Comparator.comparing(Employee::getName);\r\n```\r\nand the IDE gives me the error\r\n```\r\nUnexpected bound\r\n```","title":"bounded Generic Comparator for base and derived classes","body":"<p>I am trying to understand how to build a generic Comparator for the a given class and all derived class.</p>\n<pre><code>public class Employee {\n    String  name;\n    int id;\n}\n</code></pre>\n<p>In my main class, I tried this</p>\n<pre><code>Comparator&lt;T extends Employee&gt; comp = new Comparator.comparing(Employee::getName);\n</code></pre>\n<p>and the IDE gives me the error</p>\n<pre><code>Unexpected bound\n</code></pre>\n"},{"tags":["java","synchronized"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":5,"creation_date":1690259312,"post_id":76759455,"comment_id":135324498,"body_markdown":"The threads you started are likely not finished when you try and read from the list","body":"The threads you started are likely not finished when you try and read from the list"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1690259425,"post_id":76759455,"comment_id":135324511,"body_markdown":"In addition to the threads not being finished, you also need to synchronize access to the list for the `list.size()` call and the duration of the `list.stream()....toString()` operation, in order to guarantee visibility of the `add`s.","body":"In addition to the threads not being finished, you also need to synchronize access to the list for the <code>list.size()</code> call and the duration of the <code>list.stream()....toString()</code> operation, in order to guarantee visibility of the <code>add</code>s."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690259946,"post_id":76759455,"comment_id":135324552,"body_markdown":"^--- And this should be an answer","body":"^--- And this should be an answer"},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690270159,"post_id":76759455,"comment_id":135325906,"body_markdown":"You synchronized the list only within a thread execution and that would come into picture only once a thread begins execution and reaches the statement. In your case, as there are several threads, the sync block is not being reached at all for all threads. So what you want is to synchronize the complete operation. In this case, it can be achieved by joining all threads.","body":"You synchronized the list only within a thread execution and that would come into picture only once a thread begins execution and reaches the statement. In your case, as there are several threads, the sync block is not being reached at all for all threads. So what you want is to synchronize the complete operation. In this case, it can be achieved by joining all threads."},{"owner":{"account_id":259805,"reputation":386,"user_id":542938,"display_name":"vivek"},"score":0,"creation_date":1690271560,"post_id":76759455,"comment_id":135326170,"body_markdown":"Further, to answer your point about why it works when you use list.stream.count() - It is entirely dependent on the underlying implementation of the collection, i.e. ArrayList in your case. The behavior may differ for another implementation. You need to see Stream, Spliterators etc. to understand further.","body":"Further, to answer your point about why it works when you use list.stream.count() - It is entirely dependent on the underlying implementation of the collection, i.e. ArrayList in your case. The behavior may differ for another implementation. You need to see Stream, Spliterators etc. to understand further."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690260605,"creation_date":1690260605,"answer_id":76759538,"question_id":76759455,"body_markdown":"There are two problems here:\r\n\r\n1) You start the threads, but you don&#39;t wait for them to finish, using [`Thread.join()`](https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--)\r\n2) You don&#39;t synchronize access to the list from the main thread, with the `size()` and `stream()` calls.\r\n\r\n   Note that the [Javadoc for `ArrayList`](https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html) says:\r\n\r\n    &gt; If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must be synchronized externally.\r\n\r\n   It&#39;s perhaps easy to forget that the main thread is a thread like any other, and so you need synchronization there too.","title":"java synchronized how can i understand it","body":"<p>There are two problems here:</p>\n<ol>\n<li><p>You start the threads, but you don't wait for them to finish, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html#join--\" rel=\"nofollow noreferrer\"><code>Thread.join()</code></a></p>\n</li>\n<li><p>You don't synchronize access to the list from the main thread, with the <code>size()</code> and <code>stream()</code> calls.</p>\n<p>Note that the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">Javadoc for <code>ArrayList</code></a> says:</p>\n<blockquote>\n<p>If multiple threads access an ArrayList instance concurrently, and at least one of the threads modifies the list structurally, it must be synchronized externally.</p>\n</blockquote>\n<p>It's perhaps easy to forget that the main thread is a thread like any other, and so you need synchronization there too.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29084807,"reputation":3,"user_id":22279925,"display_name":"1earing"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76759538,"answer_count":1,"score":0,"last_activity_date":1690261165,"creation_date":1690259236,"question_id":76759455,"body_markdown":"```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class unsafeList {\r\n    public static void main(String[] args) throws InterruptedException {\r\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; 101; i++) {\r\n            int finalI = i;\r\n            new Thread(() -&gt; {\r\n                synchronized (list) {\r\n                    list.add(Integer.toString(finalI));\r\n                }\r\n            }).start();\r\n        }\r\n//        Thread.sleep(100);\r\n        System.out.println(list.size());\r\n        String string = list.stream()\r\n                .map(Integer::valueOf)\r\n                .reduce(0, Integer::sum)\r\n                .toString();\r\n        System.out.println(string);\r\n    }\r\n}\r\n```\r\noutput:\r\n93\r\n5050\r\noutput2:\r\n101\r\n5050\r\nI put a synchronization lock on the list to ensure that the ArrayList can add information safely, but the numbers I printed out were not as many as I imagined, and then I performed the accumulation operation and found that the obtained value was the correct result.\r\nif I change ```list.size``` to ```list.stream.count()``` method ,that&#39;s right result, How should I understand it?","title":"java synchronized how can i understand it","body":"<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\npublic class unsafeList {\n    public static void main(String[] args) throws InterruptedException {\n        List&lt;String&gt; list = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; 101; i++) {\n            int finalI = i;\n            new Thread(() -&gt; {\n                synchronized (list) {\n                    list.add(Integer.toString(finalI));\n                }\n            }).start();\n        }\n//        Thread.sleep(100);\n        System.out.println(list.size());\n        String string = list.stream()\n                .map(Integer::valueOf)\n                .reduce(0, Integer::sum)\n                .toString();\n        System.out.println(string);\n    }\n}\n</code></pre>\n<p>output:\n93\n5050\noutput2:\n101\n5050\nI put a synchronization lock on the list to ensure that the ArrayList can add information safely, but the numbers I printed out were not as many as I imagined, and then I performed the accumulation operation and found that the obtained value was the correct result.\nif I change <code>list.size</code> to <code>list.stream.count()</code> method ,that's right result, How should I understand it?</p>\n"},{"tags":["java","opencv","image-processing","imagej","jama"],"answers":[{"tags":[],"owner":{"account_id":7288599,"reputation":182,"user_id":5555866,"display_name":"FrankyG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1447427077,"creation_date":1447427077,"answer_id":33695718,"question_id":30926820,"body_markdown":"I don&#39;t know anything about OpenCV but here is a tutorial on how to use [OpenCV with Eclipse][1].\r\n\r\n\r\nAs for DICOM I found [this][3]:\r\n\r\n&gt; OpenCV does not support DICOM images so that you will have to find a suitable libary (like http://dicom.offis.de/dcmtk.php.en ) and convert the loaded image to a cv::Mat.\r\n\r\nI would suggest using the [OpenCV Questions][4] site for this question.\r\n\r\n\r\n  [1]: http://docs.opencv.org/2.4/doc/tutorials/introduction/java_eclipse/java_eclipse.html\r\n  [3]: http://answers.opencv.org/question/52181/dicom-images-in-opencv/\r\n  [4]: http://answers.opencv.org/questions/scope:all/sort:activity-desc/page:1/","title":"Error loading OpenCV in Java for Image Processing","body":"<p>I don't know anything about OpenCV but here is a tutorial on how to use <a href=\"http://docs.opencv.org/2.4/doc/tutorials/introduction/java_eclipse/java_eclipse.html\" rel=\"nofollow\">OpenCV with Eclipse</a>.</p>\n\n<p>As for DICOM I found <a href=\"http://answers.opencv.org/question/52181/dicom-images-in-opencv/\" rel=\"nofollow\">this</a>:</p>\n\n<blockquote>\n  <p>OpenCV does not support DICOM images so that you will have to find a suitable libary (like <a href=\"http://dicom.offis.de/dcmtk.php.en\" rel=\"nofollow\">http://dicom.offis.de/dcmtk.php.en</a> ) and convert the loaded image to a cv::Mat.</p>\n</blockquote>\n\n<p>I would suggest using the <a href=\"http://answers.opencv.org/questions/scope:all/sort:activity-desc/page:1/\" rel=\"nofollow\">OpenCV Questions</a> site for this question.</p>\n"},{"tags":[],"owner":{"account_id":5111454,"reputation":33,"user_id":4097900,"display_name":"Tolga DURAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556030556,"creation_date":1556030556,"answer_id":55813736,"question_id":30926820,"body_markdown":"Did you add OpenCV Core library to main method?\n\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME);","title":"Error loading OpenCV in Java for Image Processing","body":"<p>Did you add OpenCV Core library to main method?</p>\n\n<pre><code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n</code></pre>\n"}],"owner":{"account_id":6278260,"reputation":59,"user_id":4880248,"display_name":"Psi Lambda Delta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1690260987,"creation_date":1434666120,"question_id":30926820,"body_markdown":"**I am facing a problem in loading OpenCV in Java(Eclipse, Mac OSX). I am new to Java and my main target is Image Processing.I have checked several examples online but....I have few queries actually:**\r\n\r\n0) Can you actually instruct me how to use OpenCV library for Java in Eclipse in Mac OS X? I have only downloaded the jar and done the import....\r\n\r\n1) Below is a sample of my code\r\n    \r\n    Mat A = Highgui.imread(&quot;/Users/.../Dropbox/ImageJSpace/Image_0001.jpg&quot;, 1);\r\n\t\tMat B = null;\r\n\t\tImgproc.cvtColor(A, B, Imgproc.COLOR_BGR2GRAY);\r\n\t\t\r\n\t\tHighgui.imwrite(&quot;/Users/.../Dropbox/ImageJSpace/Image_0001gray.jpg&quot;, B);\r\nIn this section, I am simply trying  to read image, covert to matrix, to graysale and then save to image again. In the examples that I checked online, they have mentioned cvtColor but overtime i try to write it doesn&#39;t work. I have to write Highgui.cvtColor and for each keyword from this new library.\r\n\r\n2) I get the following error:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java in java.library.path\r\n\tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1764)\r\n\tat java.lang.Runtime.loadLibrary0(Runtime.java:823)\r\n\tat java.lang.System.loadLibrary(System.java:1044)\r\n\tat org.opencv.highgui.Highgui.&lt;clinit&gt;(Highgui.java:416)\r\n\tat Expertising.ImageModifications.Mat2Img(ImageModifications.java:382)\r\n\tat Expertising.Main.main(Main.java:7)\r\n\r\nI don&#39;t know how to get rid of this..\r\n\r\n3) To be clear for my program, which is longer than this section, I have used the following imports:\r\n \r\n    import org.opencv.core.Core;\r\n    import org.opencv.core.Mat;\r\n    import org.opencv.core.Size;\r\n    import org.opencv.highgui.Highgui;\r\n    import org.opencv.imgproc.Imgproc;\r\n\r\n4) I want to process DICOM images using OpenCV. Is there a method to work with that?\r\n\r\n5) I also have imported the ImageJ library to work with DICOM. I can open and display. Can I read and work with pixels? \r\n\r\n6) I am mainly interested in studying structure tensor in DICOM images. How can I read individual pixels from DICOM?\r\n\r\n7) I am working in studying directionality. Is there any method to better explore it?\r\n\r\n8) Can I convert my DICOM Image to Matrix and then explore the pixels as Matrix by use of JAMA?\r\n\r\n\r\n**Please help,, thanks a lot....**","title":"Error loading OpenCV in Java for Image Processing","body":"<p><strong>I am facing a problem in loading OpenCV in Java(Eclipse, Mac OSX). I am new to Java and my main target is Image Processing.I have checked several examples online but....I have few queries actually:</strong></p>\n\n<p>0) Can you actually instruct me how to use OpenCV library for Java in Eclipse in Mac OS X? I have only downloaded the jar and done the import....</p>\n\n<p>1) Below is a sample of my code</p>\n\n<pre><code>Mat A = Highgui.imread(\"/Users/.../Dropbox/ImageJSpace/Image_0001.jpg\", 1);\n    Mat B = null;\n    Imgproc.cvtColor(A, B, Imgproc.COLOR_BGR2GRAY);\n\n    Highgui.imwrite(\"/Users/.../Dropbox/ImageJSpace/Image_0001gray.jpg\", B);\n</code></pre>\n\n<p>In this section, I am simply trying  to read image, covert to matrix, to graysale and then save to image again. In the examples that I checked online, they have mentioned cvtColor but overtime i try to write it doesn't work. I have to write Highgui.cvtColor and for each keyword from this new library.</p>\n\n<p>2) I get the following error:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.UnsatisfiedLinkError: no opencv_java in java.library.path\nat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1764)\nat java.lang.Runtime.loadLibrary0(Runtime.java:823)\nat java.lang.System.loadLibrary(System.java:1044)\nat org.opencv.highgui.Highgui.&lt;clinit&gt;(Highgui.java:416)\nat Expertising.ImageModifications.Mat2Img(ImageModifications.java:382)\nat Expertising.Main.main(Main.java:7)\n</code></pre>\n\n<p>I don't know how to get rid of this..</p>\n\n<p>3) To be clear for my program, which is longer than this section, I have used the following imports:</p>\n\n<pre><code>import org.opencv.core.Core;\nimport org.opencv.core.Mat;\nimport org.opencv.core.Size;\nimport org.opencv.highgui.Highgui;\nimport org.opencv.imgproc.Imgproc;\n</code></pre>\n\n<p>4) I want to process DICOM images using OpenCV. Is there a method to work with that?</p>\n\n<p>5) I also have imported the ImageJ library to work with DICOM. I can open and display. Can I read and work with pixels? </p>\n\n<p>6) I am mainly interested in studying structure tensor in DICOM images. How can I read individual pixels from DICOM?</p>\n\n<p>7) I am working in studying directionality. Is there any method to better explore it?</p>\n\n<p>8) Can I convert my DICOM Image to Matrix and then explore the pixels as Matrix by use of JAMA?</p>\n\n<p><strong>Please help,, thanks a lot....</strong></p>\n"},{"tags":["java","string","hashmap"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":4,"creation_date":1690255384,"post_id":76759250,"comment_id":135324181,"body_markdown":"Since s1, s2 and s3 are all the same string, they return the same map entry when used as a key for the `get` method.","body":"Since s1, s2 and s3 are all the same string, they return the same map entry when used as a key for the <code>get</code> method."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1690259047,"post_id":76759250,"comment_id":135324475,"body_markdown":"I recommend adding more `System.out.println()` statements. For example, add some after `map.put(s1, &quot;i&quot;);` to see what is in the HashMap.","body":"I recommend adding more <code>System.out.println()</code> statements. For example, add some after <code>map.put(s1, &quot;i&quot;);</code> to see what is in the HashMap."},{"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1690260378,"post_id":76759250,"comment_id":135324585,"body_markdown":"Read [`String#equals()` documentation](https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-). Also related, but not required to demonstrate this behaviour: [String interning](https://en.wikipedia.org/wiki/String_interning)","body":"Read <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#equals-java.lang.Object-\" rel=\"nofollow noreferrer\"><code>String#equals()</code> documentation</a>. Also related, but not required to demonstrate this behaviour: <a href=\"https://en.wikipedia.org/wiki/String_interning\" rel=\"nofollow noreferrer\">String interning</a>"}],"answers":[{"tags":[],"owner":{"account_id":5543478,"reputation":1188,"user_id":4399071,"accept_rate":50,"display_name":"Badr B"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690258670,"creation_date":1690258670,"answer_id":76759420,"question_id":76759250,"body_markdown":"The Java `HashMap` is a hash table of nodes that contain some key and value (i.e. `Node&lt;K, V&gt;`). When you `put(K key, V value)` into the `HashMap`, the following occurs:\r\n\r\n1. `key` is hashed by calling `key.hashCode()`. The `hashCode()` method can be overridden in your class definition, or you can rely on the default implementation. For the `String` class, `hashCode()` returns the same hash for the same string (i.e. if the strings are identical, then the hash is identical).\r\n\r\n2. Take the hash computed in step 1 modulus with the current size of the array backing the hash table (i.e. `key.hashCode() % buckets.length`).\r\n\r\n3. Search the bucket indexed by `key.hashCode() % buckets.length` using the `equals(K other)` method for comparison. For the `String` class, the `equals` method returns true if and only if the strings are identical. Note that they do not necessarily have to point to the same `String` object.\r\n\r\n4. If the node for the inserted key already exists, update the value. Otherwise, add a new node to the current bucket with the new key-value pair.\r\n\r\nNow, `get(K key)` works the same way except in step 4 instead of mutating the bucket, it simply returns the value of the node if it exists or `null` if it doesn&#39;t exist. \r\n\r\n**So What Does This Mean For Your Code?**\r\n\r\nLet&#39;s walk through it. Keep in mind that identical strings yield identical hashes and that the `equals` method returns true when comparing identical strings. \r\n\r\n1. All strings yield the same hash.\r\n\r\n2. Size of the array doesn&#39;t change, so the index is the same for all strings. Meaning that we&#39;re going to search the same bucket in the hash table.\r\n\r\n3. All strings `equal` each other. Therefore, we always find the node in the bucket (except for the first `put`).\r\n\r\n4. The `HashMap` is now looking at the same node for all of strings. It creates the entry once, then every subsequent `put` is an update.\r\n\r\nUsing this knowledge, we know that your `HashMap` is treating `s1`, `s2`, and `s3` as being exactly the same even though they point to different objects in memory. This is because the `String` class defines `hashCode` and `equals` to behave in such a way. If you make your own implementation of the `String` class and don&#39;t override `hashCode` and `equals`, you&#39;ll get different results.\r\n\r\n**Disclaimer**\r\n\r\nThis was a simplification of the `put` and `get` implementations, and I don&#39;t cover array resizing, the mutability of nodes, etc.","title":"Can someone explain the internal working of this program","body":"<p>The Java <code>HashMap</code> is a hash table of nodes that contain some key and value (i.e. <code>Node&lt;K, V&gt;</code>). When you <code>put(K key, V value)</code> into the <code>HashMap</code>, the following occurs:</p>\n<ol>\n<li><p><code>key</code> is hashed by calling <code>key.hashCode()</code>. The <code>hashCode()</code> method can be overridden in your class definition, or you can rely on the default implementation. For the <code>String</code> class, <code>hashCode()</code> returns the same hash for the same string (i.e. if the strings are identical, then the hash is identical).</p>\n</li>\n<li><p>Take the hash computed in step 1 modulus with the current size of the array backing the hash table (i.e. <code>key.hashCode() % buckets.length</code>).</p>\n</li>\n<li><p>Search the bucket indexed by <code>key.hashCode() % buckets.length</code> using the <code>equals(K other)</code> method for comparison. For the <code>String</code> class, the <code>equals</code> method returns true if and only if the strings are identical. Note that they do not necessarily have to point to the same <code>String</code> object.</p>\n</li>\n<li><p>If the node for the inserted key already exists, update the value. Otherwise, add a new node to the current bucket with the new key-value pair.</p>\n</li>\n</ol>\n<p>Now, <code>get(K key)</code> works the same way except in step 4 instead of mutating the bucket, it simply returns the value of the node if it exists or <code>null</code> if it doesn't exist.</p>\n<p><strong>So What Does This Mean For Your Code?</strong></p>\n<p>Let's walk through it. Keep in mind that identical strings yield identical hashes and that the <code>equals</code> method returns true when comparing identical strings.</p>\n<ol>\n<li><p>All strings yield the same hash.</p>\n</li>\n<li><p>Size of the array doesn't change, so the index is the same for all strings. Meaning that we're going to search the same bucket in the hash table.</p>\n</li>\n<li><p>All strings <code>equal</code> each other. Therefore, we always find the node in the bucket (except for the first <code>put</code>).</p>\n</li>\n<li><p>The <code>HashMap</code> is now looking at the same node for all of strings. It creates the entry once, then every subsequent <code>put</code> is an update.</p>\n</li>\n</ol>\n<p>Using this knowledge, we know that your <code>HashMap</code> is treating <code>s1</code>, <code>s2</code>, and <code>s3</code> as being exactly the same even though they point to different objects in memory. This is because the <code>String</code> class defines <code>hashCode</code> and <code>equals</code> to behave in such a way. If you make your own implementation of the <code>String</code> class and don't override <code>hashCode</code> and <code>equals</code>, you'll get different results.</p>\n<p><strong>Disclaimer</strong></p>\n<p>This was a simplification of the <code>put</code> and <code>get</code> implementations, and I don't cover array resizing, the mutability of nodes, etc.</p>\n"},{"tags":[],"owner":{"account_id":14694575,"reputation":3,"user_id":11834821,"display_name":"Kani Sama"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690259888,"creation_date":1690259888,"answer_id":76759493,"question_id":76759250,"body_markdown":"The problem here is the indexing. You assigned the same value to the corresponding key, so when you\r\n``` \r\nmap.put(s1, &quot;i&quot;);\r\nmap.put(s2, &quot;m&quot;);\r\n```\r\nYou are basically just doing\r\n``` \r\nmap.put(&quot;ankit&quot;, &quot;i&quot;);\r\nmap.put(&quot;ankit&quot;, &quot;m&quot;);\r\n```\r\nWhich means you are assigning the node with the key &quot;ankit&quot; with value &quot;i&quot; then reassign the very same node with another value &quot;m&quot;.\\\r\nAlso, \r\n```\r\nSystem.out.println(map.get(s1));\r\nSystem.out.println(map.get(s3));\r\n```\r\nis really just \r\n```\r\nSystem.out.println(map.get(&quot;ankit&quot;));\r\nSystem.out.println(map.get(&quot;ankit&quot;));\r\n```\r\nWhich is just getting that same node but printed twice, which yields the result\r\n```\r\nm \r\nm\r\n```\r\n\\\r\nFinally, a side note here HashMaps are structures that indexes based on the key value, if I put the analogy of arrays, it is like a[0]=&quot;i&quot;, then reassigning that it to a[0]=&quot;m&quot;. Then printing a[0] twice just to see two m&#39;s\r\n\r\n\r\nThis is what the Badr B was trying to say in a nutshell.\r\n\r\n\r\n\r\n\r\n","title":"Can someone explain the internal working of this program","body":"<p>The problem here is the indexing. You assigned the same value to the corresponding key, so when you</p>\n<pre><code>map.put(s1, &quot;i&quot;);\nmap.put(s2, &quot;m&quot;);\n</code></pre>\n<p>You are basically just doing</p>\n<pre><code>map.put(&quot;ankit&quot;, &quot;i&quot;);\nmap.put(&quot;ankit&quot;, &quot;m&quot;);\n</code></pre>\n<p>Which means you are assigning the node with the key &quot;ankit&quot; with value &quot;i&quot; then reassign the very same node with another value &quot;m&quot;.<br />\nAlso,</p>\n<pre><code>System.out.println(map.get(s1));\nSystem.out.println(map.get(s3));\n</code></pre>\n<p>is really just</p>\n<pre><code>System.out.println(map.get(&quot;ankit&quot;));\nSystem.out.println(map.get(&quot;ankit&quot;));\n</code></pre>\n<p>Which is just getting that same node but printed twice, which yields the result</p>\n<pre><code>m \nm\n</code></pre>\n<p><br />\nFinally, a side note here HashMaps are structures that indexes based on the key value, if I put the analogy of arrays, it is like a[0]=&quot;i&quot;, then reassigning that it to a[0]=&quot;m&quot;. Then printing a[0] twice just to see two m's</p>\n<p>This is what the Badr B was trying to say in a nutshell.</p>\n"},{"tags":[],"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690260889,"creation_date":1690260889,"answer_id":76759552,"question_id":76759250,"body_markdown":"I think you are mixing s1.equals(s2) with s1 == s2,\r\n\r\nHashMaps use 2 simple steps to decide if s1, s2 are the same key.\r\nif s1.hashCode() == s2.hashCode() &amp;&amp; s1.equals(s2) then they are the same  and `map.put(s2, v2)` will override `map.put(s1, v1)`\r\n\r\nagain because hashmap does not care about their location in memory or if they are the same object or not, it just compares hash &amp; equality.","title":"Can someone explain the internal working of this program","body":"<p>I think you are mixing s1.equals(s2) with s1 == s2,</p>\n<p>HashMaps use 2 simple steps to decide if s1, s2 are the same key.\nif s1.hashCode() == s2.hashCode() &amp;&amp; s1.equals(s2) then they are the same  and <code>map.put(s2, v2)</code> will override <code>map.put(s1, v1)</code></p>\n<p>again because hashmap does not care about their location in memory or if they are the same object or not, it just compares hash &amp; equality.</p>\n"}],"owner":{"account_id":2276578,"reputation":131,"user_id":2002672,"accept_rate":11,"display_name":"Ashok Ogirala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690260889,"creation_date":1690255188,"question_id":76759250,"body_markdown":"    import java.util.HashMap;\r\n    class HelloWorld {\r\n    public static void main(String[] args) {\r\n        HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\r\n        String s1=new String(&quot;ankit&quot;);\r\n        String s2=new String(&quot;ankit&quot;);\r\n        String s3=new String(&quot;ankit&quot;);\r\n        // Adding elements to the Map\r\n        // using standard put() method\r\n        map.put(s1, &quot;i&quot;);\r\n        map.put(s2, &quot;m&quot;);\r\n        System.out.println(map.get(s1));\r\n        System.out.println(map.get(s3));\r\n       }\r\n    }\r\nThe out put is &quot;m&quot;,&quot;m&quot;, I unable to wrap my head around how this is possible?,I understand the internal workings of Hashmap and string but i think i&#39;m missing something here.","title":"Can someone explain the internal working of this program","body":"<pre><code>import java.util.HashMap;\nclass HelloWorld {\npublic static void main(String[] args) {\n    HashMap&lt;String, String&gt; map = new HashMap&lt;&gt;();\n    String s1=new String(&quot;ankit&quot;);\n    String s2=new String(&quot;ankit&quot;);\n    String s3=new String(&quot;ankit&quot;);\n    // Adding elements to the Map\n    // using standard put() method\n    map.put(s1, &quot;i&quot;);\n    map.put(s2, &quot;m&quot;);\n    System.out.println(map.get(s1));\n    System.out.println(map.get(s3));\n   }\n}\n</code></pre>\n<p>The out put is &quot;m&quot;,&quot;m&quot;, I unable to wrap my head around how this is possible?,I understand the internal workings of Hashmap and string but i think i'm missing something here.</p>\n"},{"tags":["java","asynchronous","completable-future"],"comments":[{"owner":{"account_id":11390996,"reputation":300,"user_id":10334839,"display_name":"HomeworkHopper"},"score":1,"creation_date":1690229739,"post_id":76754623,"comment_id":135321538,"body_markdown":"Are you using Java 16 or newer?","body":"Are you using Java 16 or newer?"},{"owner":{"account_id":10342946,"reputation":70,"user_id":7628725,"display_name":"Abhi.P"},"score":0,"creation_date":1690270300,"post_id":76754623,"comment_id":135325939,"body_markdown":"I am on Java 17.","body":"I am on Java 17."}],"answers":[{"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690260575,"creation_date":1690260575,"answer_id":76759533,"question_id":76754623,"body_markdown":"As @HomeworkHopper was implying, if you are using Java 16 or newer, the standard solution is to use a [`Java Record`][1]. (that link is for the latest version, Java 20 -- strive to use the latest version when possible)\r\n\r\nYou can then do something like this.\r\n\r\n```java\r\n    class Response {final int id; /* constructors and stuff here. */}\r\n    \r\n    record BundledResponse (Response response, SomeOtherData etc) {}\r\n```\r\n\r\nWhich enables you to do something like this. I have added types to properly communicate what is happening.\r\n\r\n```java\r\nCompletableFuture&lt;Response&gt; serverResponseCf = service.get(&quot;someKey&quot;);\r\n    serverResponseCf.thenApplyAsync(\r\n      Response response -&gt; {\r\n        String id = response.getId();\r\n        return retrieveDifferentObject(id);\r\n      }\r\n    ).thenAcceptAsync(\r\n       BundledResponse thatDiffObject -&gt; {\r\n         /* Here I need the ID also, that was retrieved in previous stage. */\r\n       }\r\n    ).\r\n... chain goes on\r\n```\r\n\r\nThis way, you can get both the new data you need AND the id you passed in. There are a couple of ways to do it, but this is pretty much the first thing Java developers reach for nowadays.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Record.html","title":"How to share data between different stages of CompletableFuture in Java?","body":"<p>As @HomeworkHopper was implying, if you are using Java 16 or newer, the standard solution is to use a <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Record.html\" rel=\"nofollow noreferrer\"><code>Java Record</code></a>. (that link is for the latest version, Java 20 -- strive to use the latest version when possible)</p>\n<p>You can then do something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    class Response {final int id; /* constructors and stuff here. */}\n    \n    record BundledResponse (Response response, SomeOtherData etc) {}\n</code></pre>\n<p>Which enables you to do something like this. I have added types to properly communicate what is happening.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Response&gt; serverResponseCf = service.get(&quot;someKey&quot;);\n    serverResponseCf.thenApplyAsync(\n      Response response -&gt; {\n        String id = response.getId();\n        return retrieveDifferentObject(id);\n      }\n    ).thenAcceptAsync(\n       BundledResponse thatDiffObject -&gt; {\n         /* Here I need the ID also, that was retrieved in previous stage. */\n       }\n    ).\n... chain goes on\n</code></pre>\n<p>This way, you can get both the new data you need AND the id you passed in. There are a couple of ways to do it, but this is pretty much the first thing Java developers reach for nowadays.</p>\n"}],"owner":{"account_id":10342946,"reputation":70,"user_id":7628725,"display_name":"Abhi.P"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76759533,"answer_count":1,"score":0,"last_activity_date":1690260575,"creation_date":1690202607,"question_id":76754623,"body_markdown":"I am working on a code that deals with CompletableFuture. It looks something like shown below. Is it possible to share data between stages of computing a completableFuture in Java. I think one way of sharing is through using AtomicReference on the ID and updating / accessing it where needed, but I am not sure if that is the right way. Please guide me on this.\r\n\r\n  \r\n\r\n  \r\n\r\n    CompletableFuture&lt;Response&gt; serverResponseCf = service.get(&quot;someKey&quot;);\r\n        serverResponseCf.thenApplyAsync(\r\n          response -&gt; {\r\n            String id = response.getId();\r\n            return retrieveDifferentObject(id);\r\n          }\r\n        ).thenAcceptAsync(\r\n           thatDiffObject -&gt; {\r\n             /* Here I need the ID also, that was retrieved in previous stage. */\r\n           }\r\n        ).\r\n    ... chain goes on\r\n    .\r\n\r\n\r\n","title":"How to share data between different stages of CompletableFuture in Java?","body":"<p>I am working on a code that deals with CompletableFuture. It looks something like shown below. Is it possible to share data between stages of computing a completableFuture in Java. I think one way of sharing is through using AtomicReference on the ID and updating / accessing it where needed, but I am not sure if that is the right way. Please guide me on this.</p>\n<pre><code>CompletableFuture&lt;Response&gt; serverResponseCf = service.get(&quot;someKey&quot;);\n    serverResponseCf.thenApplyAsync(\n      response -&gt; {\n        String id = response.getId();\n        return retrieveDifferentObject(id);\n      }\n    ).thenAcceptAsync(\n       thatDiffObject -&gt; {\n         /* Here I need the ID also, that was retrieved in previous stage. */\n       }\n    ).\n... chain goes on\n.\n</code></pre>\n"},{"tags":["java","c#","html"],"comments":[{"owner":{"account_id":4111242,"reputation":672,"user_id":3373984,"accept_rate":33,"display_name":"Ryan"},"score":0,"creation_date":1690256967,"post_id":76759319,"comment_id":135324313,"body_markdown":"Any errors in browser console?","body":"Any errors in browser console?"},{"owner":{"account_id":29084648,"reputation":3,"user_id":22279809,"display_name":"Julian Tablante"},"score":0,"creation_date":1690257085,"post_id":76759319,"comment_id":135324328,"body_markdown":"@Ryan Only this\n\nDevTools failed to load source map: Could not load content for chrome-extension://bmnlcjabgnpnenekpadlanbbkooimhnj/browser-polyfill.js.map: System error: net::ERR_BLOCKED_BY_CLIENT","body":"@Ryan Only this  DevTools failed to load source map: Could not load content for chrome-extension://bmnlcjabgnpnenekpadlanbbkooimhnj/browser-&zwnj;&#8203;polyfill.js.map: System error: net::ERR_BLOCKED_BY_CLIENT"},{"owner":{"account_id":4111242,"reputation":672,"user_id":3373984,"accept_rate":33,"display_name":"Ryan"},"score":0,"creation_date":1690259043,"post_id":76759319,"comment_id":135324474,"body_markdown":"I get [Network error](https://stackoverflow.com/questions/53314215/failed-network-error-while-downloading-large-size-of-data-as-image-using-htm) while loading in Chrome. It is a popular problem, unfortunately not sure what the reason of it.","body":"I get <a href=\"https://stackoverflow.com/questions/53314215/failed-network-error-while-downloading-large-size-of-data-as-image-using-htm\">Network error</a> while loading in Chrome. It is a popular problem, unfortunately not sure what the reason of it."},{"owner":{"account_id":2458316,"reputation":11347,"user_id":2142950,"display_name":"Klaus G&#252;tter"},"score":0,"creation_date":1690262358,"post_id":76759319,"comment_id":135324747,"body_markdown":"How is your question related to C# and Java? Note that Java != JavaScript","body":"How is your question related to C# and Java? Note that Java != JavaScript"}],"answers":[{"tags":[],"owner":{"account_id":29053348,"reputation":99,"user_id":22255623,"display_name":"P4dL4d"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690258880,"creation_date":1690258880,"answer_id":76759430,"question_id":76759319,"body_markdown":"you need to convert the image to a pdf first because html2canvas only converts to png or jpeg here is the code:\r\n\r\n    &lt;div class=&quot;container-fluid row&quot;&gt;\r\n        &lt;div class=&quot;col-md-12&quot;&gt;\r\n            &lt;button class=&quot;btn btn-success&quot; id=&quot;downloadBtn&quot;&gt;\r\n                &lt;i class=&quot;bi bi-download&quot;&gt;&lt;/i&gt; Download as PDF\r\n            &lt;/button&gt;\r\n        &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    \r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://html2canvas.hertzen.com/dist/html2canvas.min.js&quot;&gt;&lt;/script&gt;\r\n    \r\n    &lt;script&gt;\r\n        window.jsPDF = window.jspdf.jsPDF  //insert jsPDF into script\r\n    \r\n        function downloadBase64File(contentType, base64Data, fileName) {\r\n            const linkSource = `data:${contentType};base64,${base64Data}`;\r\n            const downloadLink = document.createElement(&quot;a&quot;);\r\n            downloadLink.href = linkSource;\r\n            downloadLink.download = fileName + &quot;.pdf&quot;;\r\n            downloadLink.click();\r\n        }\r\n                \r\n        function screenshotAndDownload() {\r\n            const form = document.querySelector(&#39;.container-fluid.row&#39;);\r\n            html2canvas(form).then((canvas) =&gt; {\r\n                const pdf = new jsPDF(&#39;p&#39;, &#39;mm&#39;, &#39;a4&#39;);            // Create a new jsPDF instance\r\n                const imageData = canvas.toDataURL(&#39;image/jpeg&#39;);  // Convert the canvas to an image data URL\r\n                pdf.addImage(imageData, &#39;JPEG&#39;, 0, 0, 210, 297);   // Add the image to the PDF\r\n                pdf.save(&#39;child_information.pdf&#39;);                 // Save the PDF with the specified file name\r\n            });\r\n        }\r\n    \r\n        document.getElementById(&quot;downloadBtn&quot;).addEventListener(&quot;click&quot;, function () {\r\n            console.log(&quot;Downloading&quot;);\r\n            screenshotAndDownload();\r\n        });\r\n    &lt;/script&gt;","title":"Why do I keep getting a failed download error?","body":"<p>you need to convert the image to a pdf first because html2canvas only converts to png or jpeg here is the code:</p>\n<pre><code>&lt;div class=&quot;container-fluid row&quot;&gt;\n    &lt;div class=&quot;col-md-12&quot;&gt;\n        &lt;button class=&quot;btn btn-success&quot; id=&quot;downloadBtn&quot;&gt;\n            &lt;i class=&quot;bi bi-download&quot;&gt;&lt;/i&gt; Download as PDF\n        &lt;/button&gt;\n    &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://html2canvas.hertzen.com/dist/html2canvas.min.js&quot;&gt;&lt;/script&gt;\n\n&lt;script&gt;\n    window.jsPDF = window.jspdf.jsPDF  //insert jsPDF into script\n\n    function downloadBase64File(contentType, base64Data, fileName) {\n        const linkSource = `data:${contentType};base64,${base64Data}`;\n        const downloadLink = document.createElement(&quot;a&quot;);\n        downloadLink.href = linkSource;\n        downloadLink.download = fileName + &quot;.pdf&quot;;\n        downloadLink.click();\n    }\n            \n    function screenshotAndDownload() {\n        const form = document.querySelector('.container-fluid.row');\n        html2canvas(form).then((canvas) =&gt; {\n            const pdf = new jsPDF('p', 'mm', 'a4');            // Create a new jsPDF instance\n            const imageData = canvas.toDataURL('image/jpeg');  // Convert the canvas to an image data URL\n            pdf.addImage(imageData, 'JPEG', 0, 0, 210, 297);   // Add the image to the PDF\n            pdf.save('child_information.pdf');                 // Save the PDF with the specified file name\n        });\n    }\n\n    document.getElementById(&quot;downloadBtn&quot;).addEventListener(&quot;click&quot;, function () {\n        console.log(&quot;Downloading&quot;);\n        screenshotAndDownload();\n    });\n&lt;/script&gt;\n</code></pre>\n"}],"owner":{"account_id":29084648,"reputation":3,"user_id":22279809,"display_name":"Julian Tablante"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76759430,"answer_count":1,"score":0,"last_activity_date":1690258880,"creation_date":1690256707,"question_id":76759319,"body_markdown":"`My download button is working but I always get the Failed- Network Error message below the download. \r\n\r\nHere is my code. \r\n\r\n\r\n\r\n    &lt;div class=&quot;container-fluid row&quot;&gt;\r\n    &lt;div class=&quot;col-md-12&quot;&gt;\r\n\r\n        &lt;button class=&quot;btn btn-success&quot; id=&quot;downloadBtn&quot;&gt;\r\n            &lt;i class=&quot;bi bi-download&quot;&gt;&lt;/i&gt; Download as PDF\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js&quot;&gt;&lt;/script&gt;\r\n    &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.2.2/html2canvas.min.js&quot;&gt;.            &lt;/script&gt;\r\n\r\n    &lt;script&gt;function screenshotAndDownload() {\r\n        const form = document.querySelector(&#39;.container-fluid.row&#39;);\r\n        html2canvas(form).then((canvas) =&gt; {\r\n            const imageData = canvas.toDataURL(&#39;image/pdf&#39;);\r\n            downloadBase64File(&#39;image/pdf&#39;, imageData, &#39;child_information&#39;);\r\n        });\r\n    }\r\n\r\n\r\n    function downloadBase64File(contentType, base64Data, fileName) {\r\n        const linkSource = `data:${contentType};base64,${base64Data}`;\r\n        const downloadLink = document.createElement(&quot;a&quot;);\r\n        downloadLink.href = linkSource;\r\n        downloadLink.download = fileName + &quot;.pdf&quot;;\r\n        downloadLink.click();\r\n    }\r\n\r\n\r\n    document.getElementById(&quot;downloadBtn&quot;).addEventListener(&quot;click&quot;, function () {\r\n        console.log(&quot;Downloading&quot;);\r\n        screenshotAndDownload();\r\n    });&lt;/script&gt;\r\n\r\nI have tried changing to jpg but still does not work. Script tags are already placed on their respective controllers. `","title":"Why do I keep getting a failed download error?","body":"<p>`My download button is working but I always get the Failed- Network Error message below the download.</p>\n<p>Here is my code.</p>\n<pre><code>&lt;div class=&quot;container-fluid row&quot;&gt;\n&lt;div class=&quot;col-md-12&quot;&gt;\n\n    &lt;button class=&quot;btn btn-success&quot; id=&quot;downloadBtn&quot;&gt;\n        &lt;i class=&quot;bi bi-download&quot;&gt;&lt;/i&gt; Download as PDF\n    &lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js&quot;&gt;&lt;/script&gt;\n&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.2.2/html2canvas.min.js&quot;&gt;.            &lt;/script&gt;\n\n&lt;script&gt;function screenshotAndDownload() {\n    const form = document.querySelector('.container-fluid.row');\n    html2canvas(form).then((canvas) =&gt; {\n        const imageData = canvas.toDataURL('image/pdf');\n        downloadBase64File('image/pdf', imageData, 'child_information');\n    });\n}\n\n\nfunction downloadBase64File(contentType, base64Data, fileName) {\n    const linkSource = `data:${contentType};base64,${base64Data}`;\n    const downloadLink = document.createElement(&quot;a&quot;);\n    downloadLink.href = linkSource;\n    downloadLink.download = fileName + &quot;.pdf&quot;;\n    downloadLink.click();\n}\n\n\ndocument.getElementById(&quot;downloadBtn&quot;).addEventListener(&quot;click&quot;, function () {\n    console.log(&quot;Downloading&quot;);\n    screenshotAndDownload();\n});&lt;/script&gt;\n</code></pre>\n<p>I have tried changing to jpg but still does not work. Script tags are already placed on their respective controllers. `</p>\n"},{"tags":["java","wrapper"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":2,"creation_date":1633712192,"post_id":69499268,"comment_id":122841538,"body_markdown":"I think it&#39;s trying to say that you can pass a mutable object into a method as a way of getting information out, but it is not saying it very well.","body":"I think it&#39;s trying to say that you can pass a mutable object into a method as a way of getting information out, but it is not saying it very well."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":2,"creation_date":1633712248,"post_id":69499268,"comment_id":122841558,"body_markdown":"This statement without context makes no sense or can mean anything.","body":"This statement without context makes no sense or can mean anything."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1633712311,"post_id":69499268,"comment_id":122841585,"body_markdown":"@progman why would you think that reference answers the question?","body":"@progman why would you think that reference answers the question?"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1633712375,"post_id":69499268,"comment_id":122841612,"body_markdown":"@PeterMmm, why do you think the question makes no sense?  Look up why use wrapper classes and in most cases it starts off with that statement","body":"@PeterMmm, why do you think the question makes no sense?  Look up why use wrapper classes and in most cases it starts off with that statement"},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1633712493,"post_id":69499268,"comment_id":122841656,"body_markdown":"@khelwood, thank you- that may be right although it&#39;s pretty amazing that at least three different answers to why use wrapper classes have that exact language","body":"@khelwood, thank you- that may be right although it&#39;s pretty amazing that at least three different answers to why use wrapper classes have that exact language"},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":0,"creation_date":1633712549,"post_id":69499268,"comment_id":122841682,"body_markdown":"I mean the statement that you quote. The question probably makes sense if you give us more details or code where you found a problem and starts to look for &quot;wrappers&quot;.","body":"I mean the statement that you quote. The question probably makes sense if you give us more details or code where you found a problem and starts to look for &quot;wrappers&quot;."},{"owner":{"account_id":195331,"reputation":275398,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":2,"creation_date":1633712801,"post_id":69499268,"comment_id":122841785,"body_markdown":"Please reference the quote or add the context in which it was stated. If &quot;wrapper&quot; here refers to `Integer`, `Character`, etc., then it&#39;s wrong. Those are all immutable. If `arguments` refers to the variables, it&#39;s also wrong, re-assigning a parameter will never affect the argument the caller passed in (if it was evaluated from a variable). If `arguments` refers to an object referenced by a parameter, then it might be right, but, again, not for the wrapper types.","body":"Please reference the quote or add the context in which it was stated. If &quot;wrapper&quot; here refers to <code>Integer</code>, <code>Character</code>, etc., then it&#39;s wrong. Those are all immutable. If <code>arguments</code> refers to the variables, it&#39;s also wrong, re-assigning a parameter will never affect the argument the caller passed in (if it was evaluated from a variable). If <code>arguments</code> refers to an object referenced by a parameter, then it might be right, but, again, not for the wrapper types."},{"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"score":0,"creation_date":1633713362,"post_id":69499268,"comment_id":122841993,"body_markdown":"@Sotirios Delimanolis I&#39;ve referenced the above quote, please vote to reopen","body":"@Sotirios Delimanolis I&#39;ve referenced the above quote, please vote to reopen"},{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1633726800,"post_id":69499268,"comment_id":122846152,"body_markdown":"Now I see the quote in context, it&#39;s just wrong. It&#39;s talking about the standard wrapper classes, which are immutable.","body":"Now I see the quote in context, it&#39;s just wrong. It&#39;s talking about the standard wrapper classes, which are immutable."}],"answers":[{"tags":[],"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633716563,"creation_date":1633716129,"answer_id":69500017,"question_id":69499268,"body_markdown":"Quoted from https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java:\r\n&gt; The objects are necessary if we wish to modify the arguments passed into the method (because primitive types are **passed by value**).\r\n\r\nQuoted from https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/:\r\n&gt; Objects are needed if we wish to modify the arguments passed into a method (because primitive types are passed by value).\r\n\r\nQuoted from https://www.javatpoint.com/wrapper-class-in-java:\r\n&gt; But, if we convert the primitive value in an object, it will change the original value.\r\n\r\nThey are indeed just plain wrong *in the context of wrappers*. The wrapper classes for the primitive types are all immutable, the actual (primitive type) value inside the wrapper cannot be changed once the wrapper object has been created (excluding reflection of course). So even if you have the following code blocks:\r\n\r\n    Integer outside = Integer.valueOf(42);\r\n    someMethod(outside);\r\n\r\nand\r\n\r\n    public static void someMethod(Integer inside) {\r\n    }\r\n\r\nand the variables `outside` and `inside` will reference the same object created by `Integer.valueOf()`, it will not help you to change the reference value of the `outside` variable itself or the object referenced by `outside`.","title":"Java wrapper classes - change value of parameters","body":"<p>Quoted from <a href=\"https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java</a>:</p>\n<blockquote>\n<p>The objects are necessary if we wish to modify the arguments passed into the method (because primitive types are <strong>passed by value</strong>).</p>\n</blockquote>\n<p>Quoted from <a href=\"https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/</a>:</p>\n<blockquote>\n<p>Objects are needed if we wish to modify the arguments passed into a method (because primitive types are passed by value).</p>\n</blockquote>\n<p>Quoted from <a href=\"https://www.javatpoint.com/wrapper-class-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/wrapper-class-in-java</a>:</p>\n<blockquote>\n<p>But, if we convert the primitive value in an object, it will change the original value.</p>\n</blockquote>\n<p>They are indeed just plain wrong <em>in the context of wrappers</em>. The wrapper classes for the primitive types are all immutable, the actual (primitive type) value inside the wrapper cannot be changed once the wrapper object has been created (excluding reflection of course). So even if you have the following code blocks:</p>\n<pre><code>Integer outside = Integer.valueOf(42);\nsomeMethod(outside);\n</code></pre>\n<p>and</p>\n<pre><code>public static void someMethod(Integer inside) {\n}\n</code></pre>\n<p>and the variables <code>outside</code> and <code>inside</code> will reference the same object created by <code>Integer.valueOf()</code>, it will not help you to change the reference value of the <code>outside</code> variable itself or the object referenced by <code>outside</code>.</p>\n"},{"tags":[],"owner":{"account_id":15474408,"reputation":11,"user_id":11163432,"display_name":"Avik Dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690258421,"creation_date":1690173510,"answer_id":76751440,"question_id":69499268,"body_markdown":"The caller method &amp; the called method use the same reference variable for the parameter. The value if changed in called method will reflect in caller’s method. But in case of primitives, the caller &amp; the called have 2 independent variables with same value. If we modify the variable in called, then it is not reflected in caller. ","title":"Java wrapper classes - change value of parameters","body":"<p>The caller method &amp; the called method use the same reference variable for the parameter. The value if changed in called method will reflect in caller’s method. But in case of primitives, the caller &amp; the called have 2 independent variables with same value. If we modify the variable in called, then it is not reflected in caller.</p>\n"}],"owner":{"account_id":4010701,"reputation":15103,"user_id":4398966,"accept_rate":64,"display_name":"DCR"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2030,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69500017,"answer_count":2,"score":0,"last_activity_date":1690258421,"creation_date":1633711673,"question_id":69499268,"body_markdown":"I keep seeing the following when I look up why use wrapper classes:\r\n\r\n&gt;    Objects are needed if we wish to modify the arguments passed into a method (because primitive types are passed by value).\r\n\r\n1) if we set the parameter to the return value we can modify the primitive\r\n2) everything in java is passed by value\r\n\r\nWhat does the statement actually mean?  Can someone provide an example?\r\n\r\nI did a search on why use wrapper classes and came up with the following:\r\n\r\n1) [https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java][1]\r\n\r\n2) [https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/][2]\r\n\r\n3) [https://www.javatpoint.com/wrapper-class-in-java][3]\r\n\r\nThey all say the same thing.  Is it just plain wrong or are they trying to say something else?\r\n\r\n\r\n  [1]: https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java\r\n  [2]: https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/\r\n  [3]: https://www.javatpoint.com/wrapper-class-in-java","title":"Java wrapper classes - change value of parameters","body":"<p>I keep seeing the following when I look up why use wrapper classes:</p>\n<blockquote>\n<p>Objects are needed if we wish to modify the arguments passed into a method (because primitive types are passed by value).</p>\n</blockquote>\n<ol>\n<li>if we set the parameter to the return value we can modify the primitive</li>\n<li>everything in java is passed by value</li>\n</ol>\n<p>What does the statement actually mean?  Can someone provide an example?</p>\n<p>I did a search on why use wrapper classes and came up with the following:</p>\n<ol>\n<li><p><a href=\"https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java\" rel=\"nofollow noreferrer\">https://www.tutorialspoint.com/why-do-we-need-a-wrapper-class-in-java</a></p>\n</li>\n<li><p><a href=\"https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/need-of-wrapper-classes-in-java/</a></p>\n</li>\n<li><p><a href=\"https://www.javatpoint.com/wrapper-class-in-java\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/wrapper-class-in-java</a></p>\n</li>\n</ol>\n<p>They all say the same thing.  Is it just plain wrong or are they trying to say something else?</p>\n"},{"tags":["java","ignite","apacheignite"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690197102,"post_id":76753675,"comment_id":135315042,"body_markdown":"You probably shouldn&#39;t be attempting to do that at all. Rather, map it to `java.time.LocalDateTime` (assuming your column type contains no offset or timezone info)","body":"You probably shouldn&#39;t be attempting to do that at all. Rather, map it to <code>java.time.LocalDateTime</code> (assuming your column type contains no offset or timezone info)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1690246889,"post_id":76753675,"comment_id":135323522,"body_markdown":"I don&#39;t know *Ignite*, but FYI, you are using terrible date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Search to learn more from the many existing Questions and Answers.","body":"I don&#39;t know <i>Ignite</i>, but FYI, you are using terrible date-time classes that were years ago supplanted by the modern <i>java.time</i> classes defined in JSR 310. Search to learn more from the many existing Questions and Answers."},{"owner":{"account_id":19584819,"reputation":31,"user_id":14333146,"display_name":"Ryo-chan"},"score":0,"creation_date":1690256535,"post_id":76753675,"comment_id":135324275,"body_markdown":"thx all, I agree","body":"thx all, I agree"},{"owner":{"account_id":5527275,"reputation":696,"user_id":4388399,"display_name":"Andrei Aleksandrov"},"score":0,"creation_date":1690525860,"post_id":76753675,"comment_id":135368737,"body_markdown":"I guess you need to use https://ignite.apache.org/docs/latest/sql-reference/data-types#timestamp that is mapped to java.sql.Timestamp, for java.sql.Date you need to use  https://ignite.apache.org/docs/latest/sql-reference/data-types#date","body":"I guess you need to use <a href=\"https://ignite.apache.org/docs/latest/sql-reference/data-types#timestamp\" rel=\"nofollow noreferrer\">ignite.apache.org/docs/latest/sql-reference/&hellip;</a> that is mapped to java.sql.Timestamp, for java.sql.Date you need to use  <a href=\"https://ignite.apache.org/docs/latest/sql-reference/data-types#date\" rel=\"nofollow noreferrer\">ignite.apache.org/docs/latest/sql-reference/data-types#date</a>"}],"owner":{"account_id":19584819,"reputation":31,"user_id":14333146,"display_name":"Ryo-chan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690256492,"creation_date":1690195274,"question_id":76753675,"body_markdown":"I hope this message finds you well. I am an engineer based in Japan and I am currently working on a project involving Apache Ignite and Hibernate\r\n\r\n\r\nI am having trouble mapping java.sql.Types.TIMESTAMP on the DB side to java.util.Date on the Java side in Apache Ignite. Here&#39;s the relevant Ignite \r\n\r\nconfiguration:\r\n```\r\n&lt;bean class=&quot;org.apache.ignite.cache.store.jdbc.JdbcTypeField&quot;&gt;\r\n    &lt;constructor-arg&gt;\r\n        &lt;util:constant static-field=&quot;java.sql.Types.TIMESTAMP&quot;/&gt;\r\n    &lt;/constructor-arg&gt;\r\n    &lt;constructor-arg value=&quot;create_date&quot;/&gt;\r\n    &lt;constructor-arg value=&quot;java.util.Date&quot;/&gt;\r\n    &lt;constructor-arg value=&quot;createDate&quot;/&gt;\r\n&lt;/bean&gt;\r\n```\r\n\r\nBut when I run the application, I am facing the following deserialization exception:\r\n\r\n```\r\nFailed to deserialize object [typeName=jp.xxxx.xxx.xxx.xxx.xxx.bean.PlayerXXXXBean]: \r\nclass org.apache.ignite.binary.BinaryObjectException: Failed to read field [name=createDate]\r\n...\r\nCaused by: class org.apache.ignite.binary.BinaryObjectException: \r\nUnexpected field type [pos=49, expected=Date, actual=-2]\r\n\r\n```\r\nIt appears that Ignite is having trouble interpreting the TIMESTAMP field as a Date object.\r\n\r\nHas anyone encountered this issue before, and if so, how did you resolve it?\r\n\r\nAdditionally, I have over 400 Java classes, all of which are automatically generated by Hibernate. Because of this, it&#39;s not feasible for me to change the java.util.Date on the Java side, nor is it realistic to add a custom marshaller to each Java class.\r\n\r\nTherefore, I am looking for a way to modify the marshaller in Ignite itself to fundamentally handle the mapping from java.sql.Types.TIMESTAMP to java.util.Date.\r\n\r\nAny suggestions on how I could approach this would be greatly appreciated.\r\n\r\n・chatGpt\r\n　→　ignite not support  java.sql.Types.TIMESTAMP to java.util.Date\r\n　→　https://ignite.apache.org/docs/latest/sql-reference/data-types\r\n\r\n\r\nThx all ,I read comments \r\n\r\nthx all Indeed, this issue arises from a redevelopment of a product that&#39;s over 10 years old, where I&#39;m attempting to provide scalability using Apache Ignite as the only architect.\r\n\r\nThe problem lies in the fact that the database side uses Timestamp while the Entity side uses Date, leading to a loss of milliseconds, which is not a desirable design, but the mapping was inevitable.\r\n\r\nAs an alternative, I am considering creating a wrapper setter and getter for Timestamp that corresponds to Date, for the Bean which is generated by Hibernate. This setup would update the private Date member through these methods.\r\n","title":"Issue with Mapping java.sql.Types.TIMESTAMP to java.util.Date in Apache Ignite","body":"<p>I hope this message finds you well. I am an engineer based in Japan and I am currently working on a project involving Apache Ignite and Hibernate</p>\n<p>I am having trouble mapping java.sql.Types.TIMESTAMP on the DB side to java.util.Date on the Java side in Apache Ignite. Here's the relevant Ignite</p>\n<p>configuration:</p>\n<pre><code>&lt;bean class=&quot;org.apache.ignite.cache.store.jdbc.JdbcTypeField&quot;&gt;\n    &lt;constructor-arg&gt;\n        &lt;util:constant static-field=&quot;java.sql.Types.TIMESTAMP&quot;/&gt;\n    &lt;/constructor-arg&gt;\n    &lt;constructor-arg value=&quot;create_date&quot;/&gt;\n    &lt;constructor-arg value=&quot;java.util.Date&quot;/&gt;\n    &lt;constructor-arg value=&quot;createDate&quot;/&gt;\n&lt;/bean&gt;\n</code></pre>\n<p>But when I run the application, I am facing the following deserialization exception:</p>\n<pre><code>Failed to deserialize object [typeName=jp.xxxx.xxx.xxx.xxx.xxx.bean.PlayerXXXXBean]: \nclass org.apache.ignite.binary.BinaryObjectException: Failed to read field [name=createDate]\n...\nCaused by: class org.apache.ignite.binary.BinaryObjectException: \nUnexpected field type [pos=49, expected=Date, actual=-2]\n\n</code></pre>\n<p>It appears that Ignite is having trouble interpreting the TIMESTAMP field as a Date object.</p>\n<p>Has anyone encountered this issue before, and if so, how did you resolve it?</p>\n<p>Additionally, I have over 400 Java classes, all of which are automatically generated by Hibernate. Because of this, it's not feasible for me to change the java.util.Date on the Java side, nor is it realistic to add a custom marshaller to each Java class.</p>\n<p>Therefore, I am looking for a way to modify the marshaller in Ignite itself to fundamentally handle the mapping from java.sql.Types.TIMESTAMP to java.util.Date.</p>\n<p>Any suggestions on how I could approach this would be greatly appreciated.</p>\n<p>・chatGpt\n　→　ignite not support  java.sql.Types.TIMESTAMP to java.util.Date\n　→　https://ignite.apache.org/docs/latest/sql-reference/data-types</p>\n<p>Thx all ,I read comments</p>\n<p>thx all Indeed, this issue arises from a redevelopment of a product that's over 10 years old, where I'm attempting to provide scalability using Apache Ignite as the only architect.</p>\n<p>The problem lies in the fact that the database side uses Timestamp while the Entity side uses Date, leading to a loss of milliseconds, which is not a desirable design, but the mapping was inevitable.</p>\n<p>As an alternative, I am considering creating a wrapper setter and getter for Timestamp that corresponds to Date, for the Bean which is generated by Hibernate. This setup would update the private Date member through these methods.</p>\n"},{"tags":["java","multithreading","interface","runnable","callable"],"comments":[{"owner":{"account_id":987285,"reputation":17009,"user_id":1005481,"accept_rate":89,"display_name":"barfuin"},"score":2,"creation_date":1371542640,"post_id":141284,"comment_id":24848220,"body_markdown":"For additional discussion, after reading this page, see [Shall Callable be preferred over Runnable?](http://stackoverflow.com/q/16757142/1005481)","body":"For additional discussion, after reading this page, see <a href=\"http://stackoverflow.com/q/16757142/1005481\">Shall Callable be preferred over Runnable?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4357,"reputation":96489,"user_id":6508,"accept_rate":71,"display_name":"Jorge Ferreira"},"down_vote_count":2,"up_vote_count":498,"is_accepted":true,"score":496,"last_activity_date":1370776205,"creation_date":1222455737,"answer_id":141303,"question_id":141284,"body_markdown":"See explanation [here](http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html).\r\n\r\n&gt; The Callable interface is similar to\r\n&gt; Runnable, in that both are designed\r\n&gt; for classes whose instances are\r\n&gt; potentially executed by another\r\n&gt; thread. **A Runnable, however, does not\r\n&gt; return a result and cannot throw a\r\n&gt; checked exception.**\r\n\r\n","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>See explanation <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Callable.html\" rel=\"noreferrer\">here</a>.</p>\n\n<blockquote>\n  <p>The Callable interface is similar to\n  Runnable, in that both are designed\n  for classes whose instances are\n  potentially executed by another\n  thread. <strong>A Runnable, however, does not\n  return a result and cannot throw a\n  checked exception.</strong></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":93814,"reputation":1089,"user_id":256478,"display_name":"amoran"},"down_vote_count":0,"up_vote_count":40,"is_accepted":false,"score":40,"last_activity_date":1690254851,"creation_date":1264613729,"answer_id":2149017,"question_id":141284,"body_markdown":"I found this in [another blog][1] that can explain it a little bit more these differences: \r\n\r\n&gt; Though both the interfaces are implemented by the classes who wish to execute in a different thread of execution, but there are few differences between the two interface which are:\r\n&gt; \r\n&gt; - A `Callable&lt;V&gt;` instance returns a result of type `V`, whereas a `Runnable` instance doesn&#39;t\r\n&gt; - A `Callable&lt;V&gt;` instance may throw checked exceptions, whereas a `Runnable` instance can&#39;t\r\n&gt; \r\n&gt; The designers of Java felt a need of extending the capabilities of the `Runnable` interface, but they didn&#39;t want to affect the uses of the `Runnable` interface and probably that was the reason why they went for having a separate interface named `Callable` in Java 1.5 than changing the already existing `Runnable` interface which has been a part of Java since Java 1.0.\r\n\r\n  [1]: http://geekexplains.blogspot.com/2008/05/callable-interface-vs-runnable.html","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>I found this in <a href=\"http://geekexplains.blogspot.com/2008/05/callable-interface-vs-runnable.html\" rel=\"nofollow noreferrer\">another blog</a> that can explain it a little bit more these differences:</p>\n<blockquote>\n<p>Though both the interfaces are implemented by the classes who wish to execute in a different thread of execution, but there are few differences between the two interface which are:</p>\n<ul>\n<li>A <code>Callable&lt;V&gt;</code> instance returns a result of type <code>V</code>, whereas a <code>Runnable</code> instance doesn't</li>\n<li>A <code>Callable&lt;V&gt;</code> instance may throw checked exceptions, whereas a <code>Runnable</code> instance can't</li>\n</ul>\n<p>The designers of Java felt a need of extending the capabilities of the <code>Runnable</code> interface, but they didn't want to affect the uses of the <code>Runnable</code> interface and probably that was the reason why they went for having a separate interface named <code>Callable</code> in Java 1.5 than changing the already existing <code>Runnable</code> interface which has been a part of Java since Java 1.0.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":2,"up_vote_count":305,"is_accepted":false,"score":303,"last_activity_date":1493902634,"creation_date":1287297889,"answer_id":3952292,"question_id":141284,"body_markdown":"&gt; What are the differences in the applications of `Runnable` and `Callable`. Is the difference only with the return parameter present in `Callable`?\r\n\r\nBasically, yes.  See the answers to [this question][1].  And the [javadoc for `Callable`][2].\r\n\r\n&gt; What is the need of having both if `Callable` can do all that `Runnable` does?\r\n\r\nBecause the `Runnable` interface **cannot** do everything that `Callable` does!\r\n\r\n`Runnable` has been around since Java 1.0, but `Callable` was only introduced in Java 1.5 ... to handle use-cases that `Runnable` does not support.  In theory, the Java team could have changed the signature of the `Runnable.run()` method, but this would have broken binary compatiblity with pre-1.5 code, requiring recoding when migrating old Java code to newer JVMs.  That is a BIG NO-NO.  Java strives to be backwards compatible ... and that&#39;s been one of Java&#39;s biggest selling points for business computing.\r\n\r\nAnd, obviously, there are use-cases where a task doesn&#39;t *need* to return a result or throw a checked exception.  For those use-cases, using `Runnable` is more concise than using `Callable&lt;Void&gt;` and returning a dummy (`null`) value from the `call()` method.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/141284/the-difference-between-the-runnable-and-callable-interfaces-in-java\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html","title":"The difference between the Runnable and Callable interfaces in Java","body":"<blockquote>\n  <p>What are the differences in the applications of <code>Runnable</code> and <code>Callable</code>. Is the difference only with the return parameter present in <code>Callable</code>?</p>\n</blockquote>\n\n<p>Basically, yes.  See the answers to <a href=\"https://stackoverflow.com/questions/141284/the-difference-between-the-runnable-and-callable-interfaces-in-java\">this question</a>.  And the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"noreferrer\">javadoc for <code>Callable</code></a>.</p>\n\n<blockquote>\n  <p>What is the need of having both if <code>Callable</code> can do all that <code>Runnable</code> does?</p>\n</blockquote>\n\n<p>Because the <code>Runnable</code> interface <strong>cannot</strong> do everything that <code>Callable</code> does!</p>\n\n<p><code>Runnable</code> has been around since Java 1.0, but <code>Callable</code> was only introduced in Java 1.5 ... to handle use-cases that <code>Runnable</code> does not support.  In theory, the Java team could have changed the signature of the <code>Runnable.run()</code> method, but this would have broken binary compatiblity with pre-1.5 code, requiring recoding when migrating old Java code to newer JVMs.  That is a BIG NO-NO.  Java strives to be backwards compatible ... and that's been one of Java's biggest selling points for business computing.</p>\n\n<p>And, obviously, there are use-cases where a task doesn't <em>need</em> to return a result or throw a checked exception.  For those use-cases, using <code>Runnable</code> is more concise than using <code>Callable&lt;Void&gt;</code> and returning a dummy (<code>null</code>) value from the <code>call()</code> method.</p>\n"},{"tags":[],"owner":{"account_id":220789,"reputation":114430,"user_id":478399,"accept_rate":83,"display_name":"AlexR"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1287299769,"creation_date":1287299769,"answer_id":3952369,"question_id":141284,"body_markdown":"As it was already mentioned here Callable is relatively new interface and it was introduced as a part of concurrency package. Both Callable and Runnable can be used with executors. Class Thread (that implements Runnable itself) supports Runnable only.\r\n\r\nYou can still use Runnable with executors. The advantage of Callable that you can send it to executor and immediately get back Future result that will be updated when the execution is finished. The same may be implemented with Runnable, but in this case you have to manage the results yourself. For example you can create results queue that will hold all results. Other thread can wait on this queue and deal with results that arrive.","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>As it was already mentioned here Callable is relatively new interface and it was introduced as a part of concurrency package. Both Callable and Runnable can be used with executors. Class Thread (that implements Runnable itself) supports Runnable only.</p>\n\n<p>You can still use Runnable with executors. The advantage of Callable that you can send it to executor and immediately get back Future result that will be updated when the execution is finished. The same may be implemented with Runnable, but in this case you have to manage the results yourself. For example you can create results queue that will hold all results. Other thread can wait on this queue and deal with results that arrive.</p>\n"},{"tags":[],"owner":{"account_id":996754,"reputation":2291,"user_id":1012497,"accept_rate":100,"display_name":"nikli"},"down_vote_count":0,"up_vote_count":101,"is_accepted":false,"score":101,"last_activity_date":1504353025,"creation_date":1369056881,"answer_id":16650744,"question_id":141284,"body_markdown":"- A `Callable` needs to implement `call()` method while a `Runnable` needs to implement `run()` method.\r\n- A `Callable` can return a value but a `Runnable` cannot.\r\n- A `Callable` can throw checked exception but a `Runnable` cannot.\r\n- A `Callable` can be used with `ExecutorService#invokeXXX(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks)` methods but a `Runnable` cannot be.\r\n\r\n        public interface Runnable {\r\n            void run();\r\n        }\r\n    \r\n        public interface Callable&lt;V&gt; {\r\n            V call() throws Exception;\r\n        }","title":"The difference between the Runnable and Callable interfaces in Java","body":"<ul>\n<li>A <code>Callable</code> needs to implement <code>call()</code> method while a <code>Runnable</code> needs to implement <code>run()</code> method.</li>\n<li>A <code>Callable</code> can return a value but a <code>Runnable</code> cannot.</li>\n<li>A <code>Callable</code> can throw checked exception but a <code>Runnable</code> cannot.</li>\n<li><p>A <code>Callable</code> can be used with <code>ExecutorService#invokeXXX(Collection&lt;? extends Callable&lt;T&gt;&gt; tasks)</code> methods but a <code>Runnable</code> cannot be.</p>\n\n<pre><code>public interface Runnable {\n    void run();\n}\n\npublic interface Callable&lt;V&gt; {\n    V call() throws Exception;\n}\n</code></pre></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1475719,"reputation":1860,"user_id":1386130,"display_name":"Kris Subramanian"},"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1418771935,"creation_date":1412354442,"answer_id":26183119,"question_id":141284,"body_markdown":"Let us look at where one would use Runnable and Callable.\r\n\r\nRunnable and Callable both run on a different thread than the calling thread. But Callable can return a value and Runnable cannot. So where does this really apply.\r\n\r\n**Runnable** : If you have a fire and forget task then use Runnable. Put your code inside a Runnable and when the run() method is called, you can perform your task. The calling thread really does not care when you perform your task.\r\n\r\n**Callable** : If you are trying to retrieve a value from a task, then use Callable. Now callable on its own will not do the job. You will need a Future that you wrap around your Callable and get your values on future.get (). Here the calling thread will be blocked till the Future comes back with results which in turn is waiting for Callable&#39;s call() method to execute.\r\n\r\nSo think about an interface to a target class where you have both Runnable and Callable wrapped methods defined. The calling class will randomly call your interface methods not knowing which is Runnable and which is Callable. The Runnable methods will execute asynchronously, till a Callable method is called. Here the calling class&#39;s thread will block since you are retrieving values from your target class. \r\n\r\nNOTE : Inside your target class you can make the calls to Callable and Runnable on a single thread executor, making this mechanism similar to a serial dispatch queue. So as long as the caller calls your Runnable wrapped methods the calling thread will execute really fast without blocking. As soon as it calls a Callable wrapped in Future method it will have to block till all the other queued items are executed. Only then the method will return with values. This is a synchronization mechanism.\r\n\r\n","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>Let us look at where one would use Runnable and Callable.</p>\n\n<p>Runnable and Callable both run on a different thread than the calling thread. But Callable can return a value and Runnable cannot. So where does this really apply.</p>\n\n<p><strong>Runnable</strong> : If you have a fire and forget task then use Runnable. Put your code inside a Runnable and when the run() method is called, you can perform your task. The calling thread really does not care when you perform your task.</p>\n\n<p><strong>Callable</strong> : If you are trying to retrieve a value from a task, then use Callable. Now callable on its own will not do the job. You will need a Future that you wrap around your Callable and get your values on future.get (). Here the calling thread will be blocked till the Future comes back with results which in turn is waiting for Callable's call() method to execute.</p>\n\n<p>So think about an interface to a target class where you have both Runnable and Callable wrapped methods defined. The calling class will randomly call your interface methods not knowing which is Runnable and which is Callable. The Runnable methods will execute asynchronously, till a Callable method is called. Here the calling class's thread will block since you are retrieving values from your target class. </p>\n\n<p>NOTE : Inside your target class you can make the calls to Callable and Runnable on a single thread executor, making this mechanism similar to a serial dispatch queue. So as long as the caller calls your Runnable wrapped methods the calling thread will execute really fast without blocking. As soon as it calls a Callable wrapped in Future method it will have to block till all the other queued items are executed. Only then the method will return with values. This is a synchronization mechanism.</p>\n"},{"tags":[],"owner":{"account_id":2784842,"reputation":67271,"user_id":2396539,"accept_rate":78,"display_name":"Aniket Thakur"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1485637903,"creation_date":1419665057,"answer_id":27665269,"question_id":141284,"body_markdown":"`Callable` interface declares `call()` method and you need to provide generics as type of Object call() should return -\r\n\r\n    public interface Callable&lt;V&gt; {\r\n        /**\r\n         * Computes a result, or throws an exception if unable to do so.\r\n         *\r\n         * @return computed result\r\n         * @throws Exception if unable to compute a result\r\n         */\r\n        V call() throws Exception;\r\n    }\r\n\r\n`Runnable` on the other hand is interface that declares `run()` method that is called when you create a Thread with the runnable and call start() on it. You can also directly call run() but that just executes the run() method is same thread.\r\n\r\n    public interface Runnable {\r\n        /**\r\n         * When an object implementing interface &lt;code&gt;Runnable&lt;/code&gt; is used \r\n         * to create a thread, starting the thread causes the object&#39;s \r\n         * &lt;code&gt;run&lt;/code&gt; method to be called in that separately executing \r\n         * thread. \r\n         * &lt;p&gt;\r\n         * The general contract of the method &lt;code&gt;run&lt;/code&gt; is that it may \r\n         * take any action whatsoever.\r\n         *\r\n         * @see     java.lang.Thread#run()\r\n         */\r\n        public abstract void run();\r\n    }\r\n\r\nTo summarize few notable Difference are\r\n\r\n 1.  A `Runnable` object does not return a result whereas a `Callable` object returns a result.\r\n 2. A `Runnable` object cannot throw a checked exception wheras a `Callable` object can throw an\r\nexception.\r\n 3. The `Runnable` interface has been around since Java 1.0 whereas `Callable` was only introduced\r\nin Java 1.5.\r\n\r\nFew similarities include\r\n\r\n 1. Instances of the classes that implement Runnable or Callable interfaces are potentially\r\nexecuted by another thread.\r\n 2. Instance of both Callable and Runnable interfaces can be executed by ExecutorService via submit() method.\r\n 3. Both are functional interfaces and can be used in Lambda expressions since Java8.\r\n\r\n \r\n\r\nMethods in ExecutorService interface are\r\n    \r\n    &lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);\r\n    Future&lt;?&gt; submit(Runnable task);\r\n    &lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result);\r\n\r\n","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p><code>Callable</code> interface declares <code>call()</code> method and you need to provide generics as type of Object call() should return -</p>\n\n<pre><code>public interface Callable&lt;V&gt; {\n    /**\n     * Computes a result, or throws an exception if unable to do so.\n     *\n     * @return computed result\n     * @throws Exception if unable to compute a result\n     */\n    V call() throws Exception;\n}\n</code></pre>\n\n<p><code>Runnable</code> on the other hand is interface that declares <code>run()</code> method that is called when you create a Thread with the runnable and call start() on it. You can also directly call run() but that just executes the run() method is same thread.</p>\n\n<pre><code>public interface Runnable {\n    /**\n     * When an object implementing interface &lt;code&gt;Runnable&lt;/code&gt; is used \n     * to create a thread, starting the thread causes the object's \n     * &lt;code&gt;run&lt;/code&gt; method to be called in that separately executing \n     * thread. \n     * &lt;p&gt;\n     * The general contract of the method &lt;code&gt;run&lt;/code&gt; is that it may \n     * take any action whatsoever.\n     *\n     * @see     java.lang.Thread#run()\n     */\n    public abstract void run();\n}\n</code></pre>\n\n<p>To summarize few notable Difference are</p>\n\n<ol>\n<li>A <code>Runnable</code> object does not return a result whereas a <code>Callable</code> object returns a result.</li>\n<li>A <code>Runnable</code> object cannot throw a checked exception wheras a <code>Callable</code> object can throw an\nexception.</li>\n<li>The <code>Runnable</code> interface has been around since Java 1.0 whereas <code>Callable</code> was only introduced\nin Java 1.5.</li>\n</ol>\n\n<p>Few similarities include</p>\n\n<ol>\n<li>Instances of the classes that implement Runnable or Callable interfaces are potentially\nexecuted by another thread.</li>\n<li>Instance of both Callable and Runnable interfaces can be executed by ExecutorService via submit() method.</li>\n<li>Both are functional interfaces and can be used in Lambda expressions since Java8.</li>\n</ol>\n\n<p>Methods in ExecutorService interface are</p>\n\n<pre><code>&lt;T&gt; Future&lt;T&gt; submit(Callable&lt;T&gt; task);\nFuture&lt;?&gt; submit(Runnable task);\n&lt;T&gt; Future&lt;T&gt; submit(Runnable task, T result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6453072,"reputation":37996,"user_id":4999394,"accept_rate":98,"display_name":"Ravindra babu"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1682231298,"creation_date":1455533957,"answer_id":35407598,"question_id":141284,"body_markdown":"Purpose of these interfaces from oracle documentation :\r\n\r\n&gt;[Runnable][1] interface should be implemented by any class whose instances are intended to be executed by a `Thread`. The class must define a method of no arguments called `run`.\r\n\r\n&gt;[Callable][2]: A task that returns a result and may throw an exception. Implementors define a single method with no arguments called call.\r\n\r\nThe `Callable` interface is similar to `Runnable`. A `Runnable`, however, does not return a result and cannot throw a checked exception.\r\n\r\nOther differences:\r\n\r\n1. You can pass `Runnable` to create a [Thread][3]. But you can&#39;t create new Thread by passing `Callable` as parameter. You can pass Callable only to `ExecutorService` instances.\r\n\r\n   \r\n2. Use `Runnable` for fire and forget calls. Use `Callable` to verify the result.\r\n\r\n3. `Callable` can be passed to [invokeAll][5] method unlike `Runnable`. Methods `invokeAny` and `invokeAll` perform the most  bulk execution =&gt; executing a collection of tasks and then waiting for at least one OR all, to complete\r\n\r\n4. Trivial difference : method name to be implemented =&gt; `run()` for `Runnable` and `call()` for `Callable`.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\r\n  [4]: https://docs.oracle.com/javase/tutorial/essential/concurrency/runthread.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>Purpose of these interfaces from oracle documentation :</p>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Runnable.html\" rel=\"nofollow noreferrer\">Runnable</a> interface should be implemented by any class whose instances are intended to be executed by a <code>Thread</code>. The class must define a method of no arguments called <code>run</code>.</p>\n</blockquote>\n<blockquote>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\">Callable</a>: A task that returns a result and may throw an exception. Implementors define a single method with no arguments called call.</p>\n</blockquote>\n<p>The <code>Callable</code> interface is similar to <code>Runnable</code>. A <code>Runnable</code>, however, does not return a result and cannot throw a checked exception.</p>\n<p>Other differences:</p>\n<ol>\n<li><p>You can pass <code>Runnable</code> to create a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">Thread</a>. But you can't create new Thread by passing <code>Callable</code> as parameter. You can pass Callable only to <code>ExecutorService</code> instances.</p>\n</li>\n<li><p>Use <code>Runnable</code> for fire and forget calls. Use <code>Callable</code> to verify the result.</p>\n</li>\n<li><p><code>Callable</code> can be passed to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ExecutorService.html\" rel=\"nofollow noreferrer\">invokeAll</a> method unlike <code>Runnable</code>. Methods <code>invokeAny</code> and <code>invokeAll</code> perform the most  bulk execution =&gt; executing a collection of tasks and then waiting for at least one OR all, to complete</p>\n</li>\n<li><p>Trivial difference : method name to be implemented =&gt; <code>run()</code> for <code>Runnable</code> and <code>call()</code> for <code>Callable</code>.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11763754,"reputation":1610,"user_id":8609030,"display_name":"Raman Gupta"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1523023649,"creation_date":1506937651,"answer_id":46523174,"question_id":141284,"body_markdown":"**Difference between Callable and Runnable are following:**\r\n\r\n1. Callable is introduced in JDK 5.0 but Runnable is introduced in JDK 1.0\r\n2. Callable has call() method but Runnable has run() method.\r\n3. Callable has call method which returns value but Runnable has run method which doesn&#39;t return any value.\r\n4. call method can throw checked exception but run method can&#39;t throw checked exception.\r\n5. Callable use submit() method to put in task queue but Runnable use execute() method to put in the task queue.\r\n","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p><strong>Difference between Callable and Runnable are following:</strong></p>\n\n<ol>\n<li>Callable is introduced in JDK 5.0 but Runnable is introduced in JDK 1.0</li>\n<li>Callable has call() method but Runnable has run() method.</li>\n<li>Callable has call method which returns value but Runnable has run method which doesn't return any value.</li>\n<li>call method can throw checked exception but run method can't throw checked exception.</li>\n<li>Callable use submit() method to put in task queue but Runnable use execute() method to put in the task queue.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1875874,"reputation":71911,"user_id":1697099,"accept_rate":100,"display_name":"Premraj"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1623287381,"creation_date":1507502580,"answer_id":46636794,"question_id":141284,"body_markdown":"    +----------------------------------------+--------------------------------------------------------------------------------------------------+\r\n    |              Runnable                  |                                           Callable&lt;T&gt;                                            |\r\n    +----------------------------------------+--------------------------------------------------------------------------------------------------+\r\n    | Introduced in Java 1.0 of java.lang    | Introduced in Java 1.5 of java.util.concurrent library                                           |\r\n    | Runnable cannot be parametrized        | Callable is a parametrized type whose type parameter indicates the return type of its run method |\r\n    | Runnable has run() method              | Callable has call() method                                                                       |\r\n    | Runnable.run() returns void            | Callable.call() returns a generic value V                                                        |\r\n    | No way to propagate checked exceptions | Callable&#39;s call()“throws Exception” clause so we can easily propagate checked exceptions further |                                                                     |\r\n    +----------------------------------------+--------------------------------------------------------------------------------------------------+\r\n\r\n\r\nThe designers of Java felt a need of extending the capabilities of the `Runnable` interface, but they didn&#39;t want to affect the uses of the `Runnable` interface and probably that was the reason why they went for having a separate interface named `Callable` in Java 1.5 than changing the already existing `Runnable` interface which has been a part of Java since Java 1.0. [source][1]\r\n\r\n\r\n  [1]: http://geekexplains.blogspot.in/2008/05/callable-interface-vs-runnable.html","title":"The difference between the Runnable and Callable interfaces in Java","body":"<pre><code>+----------------------------------------+--------------------------------------------------------------------------------------------------+\n|              Runnable                  |                                           Callable&lt;T&gt;                                            |\n+----------------------------------------+--------------------------------------------------------------------------------------------------+\n| Introduced in Java 1.0 of java.lang    | Introduced in Java 1.5 of java.util.concurrent library                                           |\n| Runnable cannot be parametrized        | Callable is a parametrized type whose type parameter indicates the return type of its run method |\n| Runnable has run() method              | Callable has call() method                                                                       |\n| Runnable.run() returns void            | Callable.call() returns a generic value V                                                        |\n| No way to propagate checked exceptions | Callable's call()“throws Exception” clause so we can easily propagate checked exceptions further |                                                                     |\n+----------------------------------------+--------------------------------------------------------------------------------------------------+\n</code></pre>\n<p>The designers of Java felt a need of extending the capabilities of the <code>Runnable</code> interface, but they didn't want to affect the uses of the <code>Runnable</code> interface and probably that was the reason why they went for having a separate interface named <code>Callable</code> in Java 1.5 than changing the already existing <code>Runnable</code> interface which has been a part of Java since Java 1.0. <a href=\"http://geekexplains.blogspot.in/2008/05/callable-interface-vs-runnable.html\" rel=\"nofollow noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":6781896,"reputation":302,"user_id":5221821,"display_name":"Sudhakar Pandey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1540283167,"creation_date":1540282360,"answer_id":52944182,"question_id":141284,"body_markdown":"Callable and **Runnable** both is similar to each other and can use in implementing thread. In case of implementing **Runnable** you must implement **run()** method but in case of callable you must need to implement **call()** method, both method works in similar ways but callable **call()** method have more flexibility.There is some differences between them. &lt;/br&gt;\r\n\r\n Difference between **Runnable** and **callable** as below-- \r\n\r\n1) The **run()** method of **runnable** returns **void**, means if you want your thread return something which you can use further then you have **no choice with Runnable run()** method. There is a solution **&#39;Callable&#39;**, If you want to return any thing in form of **object** then you **should use Callable instead of Runnable**. Callable interface have method **&#39;call()&#39; which returns Object**.\r\n\r\nMethod signature -\r\nRunnable-&gt;   \r\n\r\n    public void run(){}\r\n\r\nCallable-&gt;  \r\n\r\n    public Object call(){}\r\n\r\n2) In case of **Runnable run()** method if any checked exception arises then you must **need to handled with try catch block**, but in case of **Callable call()** method you **can throw checked exception** as below \r\n   \r\n     public Object call() throws Exception {}\r\n\r\n3) **Runnable** comes from legacy **java 1.0** version, but **callable** came in **Java 1.5** version with **Executer** framework.\r\n\r\nIf you are familiar with **Executers** then you should **use Callable instead of Runnable**.\r\n\r\nHope you understand.\r\n\r\n","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>Callable and <strong>Runnable</strong> both is similar to each other and can use in implementing thread. In case of implementing <strong>Runnable</strong> you must implement <strong>run()</strong> method but in case of callable you must need to implement <strong>call()</strong> method, both method works in similar ways but callable <strong>call()</strong> method have more flexibility.There is some differences between them. </p>\n\n<p>Difference between <strong>Runnable</strong> and <strong>callable</strong> as below-- </p>\n\n<p>1) The <strong>run()</strong> method of <strong>runnable</strong> returns <strong>void</strong>, means if you want your thread return something which you can use further then you have <strong>no choice with Runnable run()</strong> method. There is a solution <strong>'Callable'</strong>, If you want to return any thing in form of <strong>object</strong> then you <strong>should use Callable instead of Runnable</strong>. Callable interface have method <strong>'call()' which returns Object</strong>.</p>\n\n<p>Method signature -\nRunnable->   </p>\n\n<pre><code>public void run(){}\n</code></pre>\n\n<p>Callable->  </p>\n\n<pre><code>public Object call(){}\n</code></pre>\n\n<p>2) In case of <strong>Runnable run()</strong> method if any checked exception arises then you must <strong>need to handled with try catch block</strong>, but in case of <strong>Callable call()</strong> method you <strong>can throw checked exception</strong> as below </p>\n\n<pre><code> public Object call() throws Exception {}\n</code></pre>\n\n<p>3) <strong>Runnable</strong> comes from legacy <strong>java 1.0</strong> version, but <strong>callable</strong> came in <strong>Java 1.5</strong> version with <strong>Executer</strong> framework.</p>\n\n<p>If you are familiar with <strong>Executers</strong> then you should <strong>use Callable instead of Runnable</strong>.</p>\n\n<p>Hope you understand.</p>\n"},{"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1559555669,"creation_date":1559555669,"answer_id":56424946,"question_id":141284,"body_markdown":"**Runnable (vs) Callable** comes into point when we are using Executer framework.\r\n\r\nExecutorService is a subinterface of [**`Executor`**](https://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html), which accepts both Runnable and Callable tasks.\r\n\r\nEarlier Multi-Threading can be achieved using Interface **`Runnable`**&lt;sup&gt;*Since 1.0*&lt;/sup&gt;, but here the problem is after completing the thread task we are unable to collect the Threads information. In-order to collect the data we may use Static fields.\r\n\r\nExample Separate threads to collect each student data.\r\n```java\r\nstatic HashMap&lt;String, List&gt; multiTasksData = new HashMap();\r\npublic static void main(String[] args) {\r\n    Thread t1 = new Thread( new RunnableImpl(1), &quot;T1&quot; );\r\n    Thread t2 = new Thread( new RunnableImpl(2), &quot;T2&quot; );\r\n    Thread t3 = new Thread( new RunnableImpl(3), &quot;T3&quot; );\r\n\r\n    multiTasksData.put(&quot;T1&quot;, new ArrayList() ); // later get the value and update it.\r\n    multiTasksData.put(&quot;T2&quot;, new ArrayList() );\r\n    multiTasksData.put(&quot;T3&quot;, new ArrayList() );\r\n}\r\n```\r\n\r\nTo resolve this problem they have introduced **`Callable&lt;V&gt;`**&lt;sup&gt;*Since 1.5*&lt;/sup&gt; which returns a result and may throw an exception.\r\n\r\n * **Single Abstract Method** : Both Callable and Runnable interface have a single abstract method, which means they can be used in lambda expressions in java 8.\r\n\r\n    ```java\r\n    public interface Runnable {\r\n    public void run();\r\n    }\r\n    \r\n    public interface Callable&lt;Object&gt; {\r\n        public Object call() throws Exception;\r\n    }\r\n    ```\r\n\r\nThere are a few different ways to delegate tasks for execution to an [ExecutorService](http://tutorials.jenkov.com/java-util-concurrent/executorservice.html).\r\n\r\n * `execute(Runnable task):void` crates new thread but not blocks main thread or caller thread as this method return void.\r\n * `submit(Callable&lt;?&gt;):Future&lt;?&gt;`, `submit(Runnable):Future&lt;?&gt;` crates new thread and blocks main thread when you are using **future.get()**.\r\n\r\nExample of using Interfaces Runnable, Callable with Executor framework.\r\n\r\n```java\r\nclass CallableTask implements Callable&lt;Integer&gt; {\r\n\tprivate int num = 0;\r\n\tpublic CallableTask(int num) {\r\n\t\tthis.num = num;\r\n\t}\r\n\t@Override\r\n\tpublic Integer call() throws Exception {\r\n\t\tString threadName = Thread.currentThread().getName();\r\n\t\tSystem.out.println(threadName + &quot; : Started Task...&quot;);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(i + &quot; : &quot; + threadName + &quot; : &quot; + num);\r\n\t\t\tnum = num + i;\r\n\t\t\tMainThread_Wait_TillWorkerThreadsComplete.sleep(1);\r\n\t\t}\r\n\t\tSystem.out.println(threadName + &quot; : Completed Task. Final Value : &quot;+ num);\r\n\t\t\r\n\t\treturn num;\r\n\t}\r\n}\r\nclass RunnableTask implements Runnable {\r\n\tprivate int num = 0;\r\n\tpublic RunnableTask(int num) {\r\n\t\tthis.num = num;\r\n\t}\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tString threadName = Thread.currentThread().getName();\r\n\t\tSystem.out.println(threadName + &quot; : Started Task...&quot;);\r\n\t\t\r\n\t\tfor (int i = 0; i &lt; 5; i++) {\r\n\t\t\tSystem.out.println(i + &quot; : &quot; + threadName + &quot; : &quot; + num);\r\n\t\t\tnum = num + i;\r\n\t\t\tMainThread_Wait_TillWorkerThreadsComplete.sleep(1);\r\n\t\t}\r\n\t\tSystem.out.println(threadName + &quot; : Completed Task. Final Value : &quot;+ num);\r\n\t}\r\n}\r\npublic class MainThread_Wait_TillWorkerThreadsComplete {\r\n\tpublic static void main(String[] args) throws InterruptedException, ExecutionException {\r\n\t\tSystem.out.println(&quot;Main Thread start...&quot;);\r\n\t\tInstant start = java.time.Instant.now();\r\n\t\t\r\n\t\trunnableThreads();\r\n\t\tcallableThreads();\r\n\t\t\r\n\t\tInstant end = java.time.Instant.now();\r\n\t\tDuration between = java.time.Duration.between(start, end);\r\n\t\tSystem.out.format(&quot;Time taken : %02d:%02d.%04d \\n&quot;, between.toMinutes(), between.getSeconds(), between.toMillis()); \r\n\t\t\r\n\t\tSystem.out.println(&quot;Main Thread completed...&quot;);\r\n\t}\r\n\tpublic static void runnableThreads() throws InterruptedException, ExecutionException {\r\n\t\tExecutorService executor = Executors.newFixedThreadPool(4);\r\n\t\tFuture&lt;?&gt; f1 = executor.submit( new RunnableTask(5) );\r\n\t\tFuture&lt;?&gt; f2 = executor.submit( new RunnableTask(2) );\r\n\t\tFuture&lt;?&gt; f3 = executor.submit( new RunnableTask(1) );\r\n\t\t\r\n\t\t// Waits until pool-thread complete, return null upon successful completion.\r\n\t\tSystem.out.println(&quot;F1 : &quot;+ f1.get());\r\n\t\tSystem.out.println(&quot;F2 : &quot;+ f2.get());\r\n\t\tSystem.out.println(&quot;F3 : &quot;+ f3.get());\r\n\t\t\r\n\t\texecutor.shutdown();\r\n\t}\r\n\tpublic static void callableThreads() throws InterruptedException, ExecutionException {\r\n\t\tExecutorService executor = Executors.newFixedThreadPool(4);\r\n\t\tFuture&lt;Integer&gt; f1 = executor.submit( new CallableTask(5) );\r\n\t\tFuture&lt;Integer&gt; f2 = executor.submit( new CallableTask(2) );\r\n\t\tFuture&lt;Integer&gt; f3 = executor.submit( new CallableTask(1) );\r\n\t\r\n\t\t// Waits until pool-thread complete, returns the result.\r\n\t\tSystem.out.println(&quot;F1 : &quot;+ f1.get());\r\n\t\tSystem.out.println(&quot;F2 : &quot;+ f2.get());\r\n\t\tSystem.out.println(&quot;F3 : &quot;+ f3.get());\r\n\t\t\r\n\t\texecutor.shutdown();\r\n\t}\r\n}\r\n```","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p><strong>Runnable (vs) Callable</strong> comes into point when we are using Executer framework.</p>\n\n<p>ExecutorService is a subinterface of <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/exinter.html\" rel=\"noreferrer\"><strong><code>Executor</code></strong></a>, which accepts both Runnable and Callable tasks.</p>\n\n<p>Earlier Multi-Threading can be achieved using Interface <strong><code>Runnable</code></strong><sup><em>Since 1.0</em></sup>, but here the problem is after completing the thread task we are unable to collect the Threads information. In-order to collect the data we may use Static fields.</p>\n\n<p>Example Separate threads to collect each student data.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>static HashMap&lt;String, List&gt; multiTasksData = new HashMap();\npublic static void main(String[] args) {\n    Thread t1 = new Thread( new RunnableImpl(1), \"T1\" );\n    Thread t2 = new Thread( new RunnableImpl(2), \"T2\" );\n    Thread t3 = new Thread( new RunnableImpl(3), \"T3\" );\n\n    multiTasksData.put(\"T1\", new ArrayList() ); // later get the value and update it.\n    multiTasksData.put(\"T2\", new ArrayList() );\n    multiTasksData.put(\"T3\", new ArrayList() );\n}\n</code></pre>\n\n<p>To resolve this problem they have introduced <strong><code>Callable&lt;V&gt;</code></strong><sup><em>Since 1.5</em></sup> which returns a result and may throw an exception.</p>\n\n<ul>\n<li><p><strong>Single Abstract Method</strong> : Both Callable and Runnable interface have a single abstract method, which means they can be used in lambda expressions in java 8.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public interface Runnable {\npublic void run();\n}\n\npublic interface Callable&lt;Object&gt; {\n    public Object call() throws Exception;\n}\n</code></pre></li>\n</ul>\n\n<p>There are a few different ways to delegate tasks for execution to an <a href=\"http://tutorials.jenkov.com/java-util-concurrent/executorservice.html\" rel=\"noreferrer\">ExecutorService</a>.</p>\n\n<ul>\n<li><code>execute(Runnable task):void</code> crates new thread but not blocks main thread or caller thread as this method return void.</li>\n<li><code>submit(Callable&lt;?&gt;):Future&lt;?&gt;</code>, <code>submit(Runnable):Future&lt;?&gt;</code> crates new thread and blocks main thread when you are using <strong>future.get()</strong>.</li>\n</ul>\n\n<p>Example of using Interfaces Runnable, Callable with Executor framework.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>class CallableTask implements Callable&lt;Integer&gt; {\n    private int num = 0;\n    public CallableTask(int num) {\n        this.num = num;\n    }\n    @Override\n    public Integer call() throws Exception {\n        String threadName = Thread.currentThread().getName();\n        System.out.println(threadName + \" : Started Task...\");\n\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(i + \" : \" + threadName + \" : \" + num);\n            num = num + i;\n            MainThread_Wait_TillWorkerThreadsComplete.sleep(1);\n        }\n        System.out.println(threadName + \" : Completed Task. Final Value : \"+ num);\n\n        return num;\n    }\n}\nclass RunnableTask implements Runnable {\n    private int num = 0;\n    public RunnableTask(int num) {\n        this.num = num;\n    }\n    @Override\n    public void run() {\n        String threadName = Thread.currentThread().getName();\n        System.out.println(threadName + \" : Started Task...\");\n\n        for (int i = 0; i &lt; 5; i++) {\n            System.out.println(i + \" : \" + threadName + \" : \" + num);\n            num = num + i;\n            MainThread_Wait_TillWorkerThreadsComplete.sleep(1);\n        }\n        System.out.println(threadName + \" : Completed Task. Final Value : \"+ num);\n    }\n}\npublic class MainThread_Wait_TillWorkerThreadsComplete {\n    public static void main(String[] args) throws InterruptedException, ExecutionException {\n        System.out.println(\"Main Thread start...\");\n        Instant start = java.time.Instant.now();\n\n        runnableThreads();\n        callableThreads();\n\n        Instant end = java.time.Instant.now();\n        Duration between = java.time.Duration.between(start, end);\n        System.out.format(\"Time taken : %02d:%02d.%04d \\n\", between.toMinutes(), between.getSeconds(), between.toMillis()); \n\n        System.out.println(\"Main Thread completed...\");\n    }\n    public static void runnableThreads() throws InterruptedException, ExecutionException {\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        Future&lt;?&gt; f1 = executor.submit( new RunnableTask(5) );\n        Future&lt;?&gt; f2 = executor.submit( new RunnableTask(2) );\n        Future&lt;?&gt; f3 = executor.submit( new RunnableTask(1) );\n\n        // Waits until pool-thread complete, return null upon successful completion.\n        System.out.println(\"F1 : \"+ f1.get());\n        System.out.println(\"F2 : \"+ f2.get());\n        System.out.println(\"F3 : \"+ f3.get());\n\n        executor.shutdown();\n    }\n    public static void callableThreads() throws InterruptedException, ExecutionException {\n        ExecutorService executor = Executors.newFixedThreadPool(4);\n        Future&lt;Integer&gt; f1 = executor.submit( new CallableTask(5) );\n        Future&lt;Integer&gt; f2 = executor.submit( new CallableTask(2) );\n        Future&lt;Integer&gt; f3 = executor.submit( new CallableTask(1) );\n\n        // Waits until pool-thread complete, returns the result.\n        System.out.println(\"F1 : \"+ f1.get());\n        System.out.println(\"F2 : \"+ f2.get());\n        System.out.println(\"F3 : \"+ f3.get());\n\n        executor.shutdown();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6115775,"reputation":30435,"user_id":4770877,"display_name":"yoAlex5"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1657380292,"creation_date":1586964732,"answer_id":61232621,"question_id":141284,"body_markdown":"**Java functional interfaces**\r\n\r\nIt is a kind of an interface naming convention which matches with functional programming\r\n\r\n``` Java\r\n//Runnable\r\ninterface Runnable {\r\n    void run();\r\n}\r\n\r\n//Action - throws exception\r\ninterface Action {\r\n    void run() throws Exception;\r\n}\r\n\r\n//Consumer - consumes a value/values, throws exception\r\n//BiConsumer, \r\ninterface Consumer1&lt;T&gt; {\r\n    void accept(T t) throws Exception;\r\n}\r\n\r\n//Callable - return result, throws exception\r\ninterface Callable&lt;R&gt; {\r\n    R call() throws Exception;\r\n}\r\n\r\n//Supplier - returns result, throws exception\r\ninterface Supplier&lt;R&gt; {\r\n    R get() throws Exception;\r\n}\r\n\r\n//Predicate - consumes a value/values, returns true or false, throws exception\r\ninterface Predicate1&lt;T&gt; {\r\n    boolean test(T t) throws Exception;\r\n}\r\n\r\n//Function - consumes a value/values, returns result, throws exception\r\n//BiFunction, Function3...\r\npublic interface Function1&lt;T, R&gt; {\r\n    R apply(T t) throws Exception;\r\n}\r\n\r\n...\r\n\r\n//Executor\r\npublic interface Executor {\r\n    void execute(Runnable command);\r\n}\r\n```\r\n\r\n[\\[Swift closure naming\\]][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/60990583/4770877","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p><strong>Java functional interfaces</strong></p>\n<p>It is a kind of an interface naming convention which matches with functional programming</p>\n<pre><code>//Runnable\ninterface Runnable {\n    void run();\n}\n\n//Action - throws exception\ninterface Action {\n    void run() throws Exception;\n}\n\n//Consumer - consumes a value/values, throws exception\n//BiConsumer, \ninterface Consumer1&lt;T&gt; {\n    void accept(T t) throws Exception;\n}\n\n//Callable - return result, throws exception\ninterface Callable&lt;R&gt; {\n    R call() throws Exception;\n}\n\n//Supplier - returns result, throws exception\ninterface Supplier&lt;R&gt; {\n    R get() throws Exception;\n}\n\n//Predicate - consumes a value/values, returns true or false, throws exception\ninterface Predicate1&lt;T&gt; {\n    boolean test(T t) throws Exception;\n}\n\n//Function - consumes a value/values, returns result, throws exception\n//BiFunction, Function3...\npublic interface Function1&lt;T, R&gt; {\n    R apply(T t) throws Exception;\n}\n\n...\n\n//Executor\npublic interface Executor {\n    void execute(Runnable command);\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/a/60990583/4770877\">[Swift closure naming]</a></p>\n"},{"tags":[],"owner":{"account_id":12826119,"reputation":109,"user_id":9279083,"display_name":"Abhale Amol"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1619952700,"creation_date":1619952700,"answer_id":67355509,"question_id":141284,"body_markdown":"In addition to all other answers:\r\n\r\nWe can not pass/use Callable to an individual thread for execution i.e. Callable can be used only in Executor Framework.\r\nBut, Runnable can be passed to an individual thread for execution (new Thread(new CustomRunnable())), as well as can be used in Executor Framework.","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>In addition to all other answers:</p>\n<p>We can not pass/use Callable to an individual thread for execution i.e. Callable can be used only in Executor Framework.\nBut, Runnable can be passed to an individual thread for execution (new Thread(new CustomRunnable())), as well as can be used in Executor Framework.</p>\n"}],"owner":{"account_id":11442,"reputation":7044,"user_id":22061,"accept_rate":65,"display_name":"Scottm"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363713,"favorite_count":0,"down_vote_count":5,"up_vote_count":571,"accepted_answer_id":141303,"answer_count":14,"score":566,"last_activity_date":1690254851,"creation_date":1222455637,"question_id":141284,"body_markdown":"What is the difference between using the `Runnable` and `Callable` interfaces when designing a concurrent thread in Java, why would you choose one over the other?","title":"The difference between the Runnable and Callable interfaces in Java","body":"<p>What is the difference between using the <code>Runnable</code> and <code>Callable</code> interfaces when designing a concurrent thread in Java, why would you choose one over the other?</p>\n"},{"tags":["java","rabbitmq","itext","xmlworkerhelper"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1690233790,"post_id":76758015,"comment_id":135322182,"body_markdown":"Does it always fail on the same input data? Does it fail after processing a certain number of records? Is there really no exception thrown? [`XMLWorkerHelper::parseXHtml`](https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/tool/xml/XMLWorkerHelper.html#parseXHtml-com.itextpdf.text.pdf.PdfWriter-com.itextpdf.text.Document-java.io.Reader-) is documented as throwing `IOException`. Is this code inside a try/catch?","body":"Does it always fail on the same input data? Does it fail after processing a certain number of records? Is there really no exception thrown? <a href=\"https://api.itextpdf.com/iText5/java/5.5.9/com/itextpdf/tool/xml/XMLWorkerHelper.html#parseXHtml-com.itextpdf.text.pdf.PdfWriter-com.itextpdf.text.Document-java.io.Reader-\" rel=\"nofollow noreferrer\"><code>XMLWorkerHelper::parseXHtml</code></a> is documented as throwing <code>IOException</code>. Is this code inside a try/catch?"},{"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"score":0,"creation_date":1690234926,"post_id":76758015,"comment_id":135322307,"body_markdown":"@DavidConrad , no it does not stuck on the same input data and also on certain number  of records, it doesn&#39;t have any errors and I assure it to be on the try catch block. the last log I encountered is &#39;END OF document.open();&#39; which above the line of the stuck statement.","body":"@DavidConrad , no it does not stuck on the same input data and also on certain number  of records, it doesn&#39;t have any errors and I assure it to be on the try catch block. the last log I encountered is &#39;END OF document.open();&#39; which above the line of the stuck statement."}],"owner":{"account_id":2313845,"reputation":1806,"user_id":2031321,"accept_rate":91,"display_name":"msagala25"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690253725,"creation_date":1690232693,"question_id":76758015,"body_markdown":"I have this kind of issue now in Production that sometimes occurring. For context, I&#39;m using RabbitMQ and a Consumer called email-service, RabbitMQ is my messaging server and email-service are the one responsible for converting the HTML string to PDF and sending it via Email. I&#39;m using this method `XMLWorkerHelper.getInstance().parseXHtml()` to parse HTML to PDF and it stuck sometimes without error on the logs that made my rabbitMQ UNACK all the message that is currently queued. Please see the code below:\r\n\r\n```\r\n                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n                log.info( &quot;END OF ByteArrayOutputStream&quot; );\r\n                Document document = new Document();\r\n                log.info( &quot;END OF Document&quot; );\r\n                PdfWriter writer = PdfWriter.getInstance(document, outputStream);\r\n                log.info( &quot;END OF PdfWriter&quot; );\r\n                document.open();\r\n                log.info( &quot;END OF document.open();&quot; );\r\n                XMLWorkerHelper.getInstance().parseXHtml(writer, document, \r\n                         new StringReader(fileAttachmentString)); // &lt;--- sometimes stuck here\r\n                log.info( &quot;END OF XMLWorkerHelper&quot; );\r\n                document.close();\r\n                log.info( &quot;END OF document.close();&quot; );\r\n                byte[] bytes = outputStream.toByteArray();\r\n                log.info( &quot;END OF byte[] bytes = outputStream.toByteArray();&quot; );\r\n                DataSource dataSource = new ByteArrayDataSource(bytes, &quot;application/pdf&quot;);\r\n                log.info( &quot;END OF DataSource&quot; );\r\n                attachmentPart.setDataHandler(new DataHandler(dataSource));\r\n                attachmentPart.setFileName(filename);\r\n                multipart.addBodyPart(attachmentPart);\r\n   ```\r\n\r\n\r\n\r\nIf this occurred, I need to restart email-service again so it will consume again the messages in RabbitMQ. I don&#39;t know what causing why it stuck there in some time.\r\n\r\nNote: Sending of email is working after restart but suddenly stucks because of the issue above.\r\n\r\nUpdate:\r\n\r\nPlease check also the thread dump, I think it is stuck on the SocketInputStream.socketRead0 when I check the inner logs in Thread Dump.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tj3mY.png","title":"Java program stucks in XMLWorkerHelper.getInstance().parseXHtml","body":"<p>I have this kind of issue now in Production that sometimes occurring. For context, I'm using RabbitMQ and a Consumer called email-service, RabbitMQ is my messaging server and email-service are the one responsible for converting the HTML string to PDF and sending it via Email. I'm using this method <code>XMLWorkerHelper.getInstance().parseXHtml()</code> to parse HTML to PDF and it stuck sometimes without error on the logs that made my rabbitMQ UNACK all the message that is currently queued. Please see the code below:</p>\n<pre><code>                ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n                log.info( &quot;END OF ByteArrayOutputStream&quot; );\n                Document document = new Document();\n                log.info( &quot;END OF Document&quot; );\n                PdfWriter writer = PdfWriter.getInstance(document, outputStream);\n                log.info( &quot;END OF PdfWriter&quot; );\n                document.open();\n                log.info( &quot;END OF document.open();&quot; );\n                XMLWorkerHelper.getInstance().parseXHtml(writer, document, \n                         new StringReader(fileAttachmentString)); // &lt;--- sometimes stuck here\n                log.info( &quot;END OF XMLWorkerHelper&quot; );\n                document.close();\n                log.info( &quot;END OF document.close();&quot; );\n                byte[] bytes = outputStream.toByteArray();\n                log.info( &quot;END OF byte[] bytes = outputStream.toByteArray();&quot; );\n                DataSource dataSource = new ByteArrayDataSource(bytes, &quot;application/pdf&quot;);\n                log.info( &quot;END OF DataSource&quot; );\n                attachmentPart.setDataHandler(new DataHandler(dataSource));\n                attachmentPart.setFileName(filename);\n                multipart.addBodyPart(attachmentPart);\n</code></pre>\n<p>If this occurred, I need to restart email-service again so it will consume again the messages in RabbitMQ. I don't know what causing why it stuck there in some time.</p>\n<p>Note: Sending of email is working after restart but suddenly stucks because of the issue above.</p>\n<p>Update:</p>\n<p>Please check also the thread dump, I think it is stuck on the SocketInputStream.socketRead0 when I check the inner logs in Thread Dump.</p>\n<p><a href=\"https://i.stack.imgur.com/tj3mY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tj3mY.png\" alt=\"enter image description here\" /></a></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9704,"page":288,"page_size":100}
