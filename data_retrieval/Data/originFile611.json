{"items":[{"tags":["java","apache-kafka"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677639873,"post_id":75599173,"comment_id":133376515,"body_markdown":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?","body":"This is for a producer? Can you instead use the send function that accepts a callback instead of dealing with a Future?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1677641889,"post_id":75599173,"comment_id":133376749,"body_markdown":"Have two if statements in `accept` to check which of `result` and `u` is non-null. I think your current code NPEs on exceptional completion.","body":"Have two if statements in <code>accept</code> to check which of <code>result</code> and <code>u</code> is non-null. I think your current code NPEs on exceptional completion."},{"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"score":0,"creation_date":1677642015,"post_id":75599173,"comment_id":133376760,"body_markdown":"Got it. The documentation also says for `whenComplete()`: &quot; the given action is invoked **with the result (or null if none) and the exception (or null if none)** of this stage as arguments. &quot; -&gt; https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-","body":"Got it. The documentation also says for <code>whenComplete()</code>: &quot; the given action is invoked <b>with the result (or null if none) and the exception (or null if none)</b> of this stage as arguments. &quot; -&gt; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html#whenComplete-java.util.function.BiConsumer-\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/concurrent/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":374094,"reputation":6654,"user_id":724109,"accept_rate":100,"display_name":"Avishek Bhattacharya"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677653525,"creation_date":1677641030,"answer_id":75599297,"question_id":75599173,"body_markdown":"The `whenComplete` function will be invoked for both success and failure cases. The signature of `whenComplete` takes the throwable which denotes that in case of a failure, this function will be called with the exception value. \r\n\r\nSo you may not require the `exceptionally` method at all. \r\n\r\nSomething like \r\n\r\n            future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n            @Override\r\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n                if (u != null) {\r\n                    logger.error(....)\r\n                }\r\n                else {\r\n                    ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n                    CaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\r\n                    logger.info(&quot;Producing request succeeded: {}&quot;, data);   \r\n               }   \r\n          }\r\n        });\r\n\r\n\r\n**Alternative implementation**\r\n\r\nYou could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base. \r\n\r\nSomething like this \r\n\r\n        producer.send(producerRecord, new Callback() {\r\n                public void onCompletion(RecordMetadata recordMetadata, Exception e) {\r\n                    // executes every time a record is successfully sent or an exception is thrown\r\n                    if (e == null) {\r\n                        // the record was successfully sent\r\n                        log.info(&quot;Received new metadata. \\n&quot; +\r\n                                &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\r\n                                &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\r\n                                &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\r\n                                &quot;Timestamp: &quot; + recordMetadata.timestamp());\r\n                    } else {\r\n                        log.error(&quot;Error while producing&quot;, e);\r\n                    }\r\n                }\r\n            });","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>The <code>whenComplete</code> function will be invoked for both success and failure cases. The signature of <code>whenComplete</code> takes the throwable which denotes that in case of a failure, this function will be called with the exception value.</p>\n<p>So you may not require the <code>exceptionally</code> method at all.</p>\n<p>Something like</p>\n<pre><code>        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n        @Override\n        public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n            if (u != null) {\n                logger.error(....)\n            }\n            else {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n           }   \n      }\n    });\n</code></pre>\n<p><strong>Alternative implementation</strong></p>\n<p>You could leverage Kafka Async send method and have a callback to handle the results. This would require some more refactoring of your older code base.</p>\n<p>Something like this</p>\n<pre><code>    producer.send(producerRecord, new Callback() {\n            public void onCompletion(RecordMetadata recordMetadata, Exception e) {\n                // executes every time a record is successfully sent or an exception is thrown\n                if (e == null) {\n                    // the record was successfully sent\n                    log.info(&quot;Received new metadata. \\n&quot; +\n                            &quot;Topic:&quot; + recordMetadata.topic() + &quot;\\n&quot; +\n                            &quot;Partition: &quot; + recordMetadata.partition() + &quot;\\n&quot; +\n                            &quot;Offset: &quot; + recordMetadata.offset() + &quot;\\n&quot; +\n                            &quot;Timestamp: &quot; + recordMetadata.timestamp());\n                } else {\n                    log.error(&quot;Error while producing&quot;, e);\n                }\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":987434,"reputation":10946,"user_id":1005607,"accept_rate":64,"display_name":"gene b."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599297,"answer_count":1,"score":1,"last_activity_date":1677653525,"creation_date":1677639156,"question_id":75599173,"body_markdown":"Because of an upgrade in the Kafka library, I need to rewrite the following code with `ListenableFuture` into one that uses `CompletableFuture`. The difference is briefly explained [in this thread][1].\r\n\r\nThe object being handled is called `SendResult&lt;String,Object&gt;`.\r\n\r\nThe legacy code is\r\n\r\n            ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onSuccess(final SendResult&lt;String, Object&gt; result) {\r\n\t\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void onFailure(final Throwable throwable) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\nMy understanding is, the analogue of `ListenableFuture.onSuccess` is `CompletableFuture.whenComplete`. That refactoring was straightforward. But the `ListenableFuture.onFailure` doesn&#39;t have a clear equivalent. There is `CompletableFuture.exceptionally` which must return something, which shouldn&#39;t be done; the error handling should be a void operation.\r\n\r\n\t\t\tCompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\r\n\t\t\tfuture.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\r\n\t\t\t\t\tProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\r\n\t\t\t\t\tCaseStatusRequest data = (CaseStatusRequest) record.value();\r\n\t\r\n\t\t\t\t\tlogger.info(&quot;Producing request succeeded: {}&quot;, data);\t\r\n\t\t\t\t}\t\r\n\t\t\t});\r\n\t\t\tfuture.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\r\n\r\n\t\t\t\t@Override\r\n\t\t\t\tpublic SendResult&lt;String, Object&gt; apply(Throwable arg0) {\r\n\t\t\t\t\tlogger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\r\n                    // Something needs to be returned here.\r\n                    // Should I return NULL?\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t});\r\n\r\n  [1]: https://stackoverflow.com/a/39250452/1005607","title":"Refactor a ListenableFuture (with onSuccess/onFailure) into a CompletableFuture","body":"<p>Because of an upgrade in the Kafka library, I need to rewrite the following code with <code>ListenableFuture</code> into one that uses <code>CompletableFuture</code>. The difference is briefly explained <a href=\"https://stackoverflow.com/a/39250452/1005607\">in this thread</a>.</p>\n<p>The object being handled is called <code>SendResult&lt;String,Object&gt;</code>.</p>\n<p>The legacy code is</p>\n<pre><code>        ListenableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.addCallback(new ListenableFutureCallback&lt;SendResult&lt;String, Object&gt;&gt;() {\n\n            @Override\n            public void onSuccess(final SendResult&lt;String, Object&gt; result) {\n\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);\n            }\n\n            @Override\n            public void onFailure(final Throwable throwable) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n            }\n        });\n</code></pre>\n<p>My understanding is, the analogue of <code>ListenableFuture.onSuccess</code> is <code>CompletableFuture.whenComplete</code>. That refactoring was straightforward. But the <code>ListenableFuture.onFailure</code> doesn't have a clear equivalent. There is <code>CompletableFuture.exceptionally</code> which must return something, which shouldn't be done; the error handling should be a void operation.</p>\n<pre><code>        CompletableFuture&lt;SendResult&lt;String, Object&gt;&gt; future = ...;\n        future.whenComplete(new BiConsumer&lt;SendResult&lt;String,Object&gt;,Throwable&gt;() {\n\n            @Override\n            public void accept(SendResult&lt;String, Object&gt; result, Throwable u) {\n                ProducerRecord&lt;String, Object&gt; record = result.getProducerRecord();\n                CaseStatusRequest data = (CaseStatusRequest) record.value();\n\n                logger.info(&quot;Producing request succeeded: {}&quot;, data);   \n            }   \n        });\n        future.exceptionally(new Function&lt;Throwable, SendResult&lt;String,Object&gt;&gt;() {\n\n            @Override\n            public SendResult&lt;String, Object&gt; apply(Throwable arg0) {\n                logger.error(&quot;Producing request failed: {}&quot;, request.getReceiptNumber());\n                // Something needs to be returned here.\n                // Should I return NULL?\n            }\n            \n        });\n</code></pre>\n"},{"tags":["java","gradle"],"answers":[{"tags":[],"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653019,"creation_date":1677653019,"answer_id":75600323,"question_id":75600266,"body_markdown":"According to documentation `public ProcessBuilder(String... command)`\r\n&gt;Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder&#39;s command to a string list containing the same strings as the command array, in the same order\r\n\r\nIt means you need to pass command as\r\n\r\n```\r\nString[] command = {&quot;gradle&quot;, &quot;build&quot;};\r\n```","title":"How to execute gradle build command through Main Method of Java","body":"<p>According to documentation <code>public ProcessBuilder(String... command)</code></p>\n<blockquote>\n<p>Constructs a process builder with the specified operating system program and arguments. This is a convenience constructor that sets the process builder's command to a string list containing the same strings as the command array, in the same order</p>\n</blockquote>\n<p>It means you need to pass command as</p>\n<pre><code>String[] command = {&quot;gradle&quot;, &quot;build&quot;};\n</code></pre>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677653154,"creation_date":1677653154,"answer_id":75600346,"question_id":75600266,"body_markdown":"Instead of launching a process, use the [Gradle Tooling API](https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart). It&#39;s not possible to teach you how to use the Tooling API here, but I&#39;m leaving couple of links for you to explore.\r\n\r\nhttps://www.sobyte.net/post/2022-02/gradle-tooling-api/\r\n\r\nhttps://gist.github.com/buzztaiki/2046728\r\n\r\n","title":"How to execute gradle build command through Main Method of Java","body":"<p>Instead of launching a process, use the <a href=\"https://docs.gradle.org/current/userguide/third_party_integration.html#sec:embedding_quickstart\" rel=\"nofollow noreferrer\">Gradle Tooling API</a>. It's not possible to teach you how to use the Tooling API here, but I'm leaving couple of links for you to explore.</p>\n<p><a href=\"https://www.sobyte.net/post/2022-02/gradle-tooling-api/\" rel=\"nofollow noreferrer\">https://www.sobyte.net/post/2022-02/gradle-tooling-api/</a></p>\n<p><a href=\"https://gist.github.com/buzztaiki/2046728\" rel=\"nofollow noreferrer\">https://gist.github.com/buzztaiki/2046728</a></p>\n"}],"owner":{"account_id":13484443,"reputation":11,"user_id":9728637,"display_name":"Subhendu Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677653154,"creation_date":1677652573,"question_id":75600266,"body_markdown":"I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.\r\n\r\n\r\n```\r\npublic class GradleScriptEditor {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String command_to_be_executed = &quot;gradle build&quot;;\r\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\r\n\r\n        String[] command = {command_to_be_executed};\r\n        ProcessBuilder builder = new ProcessBuilder(command);\r\n        builder = builder.directory(new File(directory_location));\r\n\r\n        Process p = builder.start();\r\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\r\n        outputStream.write(p.getInputStream().readAllBytes());\r\n        outputStream.close();\r\n    }\r\n}\r\n```\r\n\r\nBut I am getting the following error:\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\r\n\tat practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\r\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\r\n\tat java.base/java.lang.ProcessImpl.create(Native Method)\r\n\tat java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\r\n\tat java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\r\n\tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\r\n\t... 2 more\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\n\r\n\r\nPlease note that when I am using ipconfig to test my code, it is working fine.\r\n\r\nPlease advise what I can do to resolve this.","title":"How to execute gradle build command through Main Method of Java","body":"<p>I am trying to execute the gradle build command (using cmd prompt) through the main method of the java class.</p>\n<pre><code>public class GradleScriptEditor {\n\n    public static void main(String[] args) throws IOException {\n        String command_to_be_executed = &quot;gradle build&quot;;\n        String directory_location = &quot;C:\\\\mycode\\\\ws&quot;;\n\n        String[] command = {command_to_be_executed};\n        ProcessBuilder builder = new ProcessBuilder(command);\n        builder = builder.directory(new File(directory_location));\n\n        Process p = builder.start();\n        OutputStream outputStream = new FileOutputStream(new File(directory_location+ &quot;/mylog.log&quot;));\n        outputStream.write(p.getInputStream().readAllBytes());\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>But I am getting the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.io.IOException: Cannot run program &quot;gradle build&quot; (in directory &quot;C:\\\\mycode\\\\ws&quot;): CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1143)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1073)\n    at practice.GradleScriptEditor.main(GradleScriptEditor.java:16)\nCaused by: java.io.IOException: CreateProcess error=2, The system cannot find the file specified\n    at java.base/java.lang.ProcessImpl.create(Native Method)\n    at java.base/java.lang.ProcessImpl.&lt;init&gt;(ProcessImpl.java:499)\n    at java.base/java.lang.ProcessImpl.start(ProcessImpl.java:158)\n    at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1110)\n    ... 2 more\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>Please note that when I am using ipconfig to test my code, it is working fine.</p>\n<p>Please advise what I can do to resolve this.</p>\n"},{"tags":["java","maven","guava","dependency-management","resteasy"],"comments":[{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677684399,"post_id":75599425,"comment_id":133386999,"body_markdown":"What version of RESTEasy are you using and what is your target runtime?","body":"What version of RESTEasy are you using and what is your target runtime?"},{"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"score":0,"creation_date":1677717710,"post_id":75599425,"comment_id":133395407,"body_markdown":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17.","body":"jaxrs-api is older, version 3.0.9.Final, while guava is pretty recent, 30.1.1.jre. It appears that the google team is refusing to modularize guava to keep it compatible with java 8, including depending on the jsr305 lib. Target is openjdk 17."},{"owner":{"account_id":51161,"reputation":17015,"user_id":152794,"display_name":"James R. Perkins"},"score":0,"creation_date":1677777456,"post_id":75599425,"comment_id":133409008,"body_markdown":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible.","body":"Making libraries compatible with JPMS is extremely difficult. It requires every dependency to be defined as a module. There is no JAX-RS API of 3.0.9.Final, so I assume you mean RESTEasy. This is a very old version of RESTEasy and may not even be Java 11+ compatible."}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677652742,"creation_date":1677652742,"answer_id":75600287,"question_id":75599425,"body_markdown":"While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n      &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0.0&lt;/version&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n          &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWe are removing the guava and jaxrs-api requirements from our project&#39;s reliance on &quot;my-artifact&quot;. \r\n\r\nAlternatives include using an alternative library that doesn&#39;t have this conflict, or updating your dependencies to more recent versions that have the problem fixed.\r\n","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>While working with split packages in Java, you frequently run into issues like the one you are currently experiencing.</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.example&lt;/groupId&gt;\n  &lt;artifactId&gt;my-artifact&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n      &lt;artifactId&gt;guava&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>We are removing the guava and jaxrs-api requirements from our project's reliance on &quot;my-artifact&quot;.</p>\n<p>Alternatives include using an alternative library that doesn't have this conflict, or updating your dependencies to more recent versions that have the problem fixed.</p>\n"}],"owner":{"account_id":4459925,"reputation":29,"user_id":7544325,"display_name":"Matty Thompson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677652742,"creation_date":1677642678,"question_id":75599425,"body_markdown":"I inherited a java project which won&#39;t build. I&#39;m trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.\r\n\r\nI have several dependencies that requires `org.jboss.resteasy:jaxrs-api`. I have several other dependencies that require `com.google.guava:guava`.\r\n\r\n`jaxrs-api` and `guava` both define annotations in the `javax.annotations` namespace rather than their own(?). When compiling, Maven fails with, e.g., `[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api` \r\n\r\nWhen I try and exclude `jaxrs-api` the build fails because of other contents of the artifact. When I try and exclude `jsr305` the build fails because a few dependencies appear to require the library in their module.info.\r\n\r\nI understand the preferred way to do this appears to be to use `javax.annotation:javax.annotation-api` in your own code, but I don&#39;t see it helping with 3rd party depencies.\r\n\r\nI&#39;m unsure how to fix this. I&#39;m not using either package directly by my dependencies do.","title":"javax.annotations split package using jaxrs-api and guava in Java 17","body":"<p>I inherited a java project which won't build. I'm trying to migrate to java 17 and have encountered what I believe is called a &quot;split package&quot;.</p>\n<p>I have several dependencies that requires <code>org.jboss.resteasy:jaxrs-api</code>. I have several other dependencies that require <code>com.google.guava:guava</code>.</p>\n<p><code>jaxrs-api</code> and <code>guava</code> both define annotations in the <code>javax.annotations</code> namespace rather than their own(?). When compiling, Maven fails with, e.g., <code>[ERROR] module slf4j.api reads package javax.annotation from both jsr305 and jaxrs.api</code></p>\n<p>When I try and exclude <code>jaxrs-api</code> the build fails because of other contents of the artifact. When I try and exclude <code>jsr305</code> the build fails because a few dependencies appear to require the library in their module.info.</p>\n<p>I understand the preferred way to do this appears to be to use <code>javax.annotation:javax.annotation-api</code> in your own code, but I don't see it helping with 3rd party depencies.</p>\n<p>I'm unsure how to fix this. I'm not using either package directly by my dependencies do.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":2503348,"reputation":48669,"user_id":5249621,"display_name":"Dmytro Mitin"},"score":2,"creation_date":1677622745,"post_id":75597841,"comment_id":133374094,"body_markdown":"Why did you tag the question with `scala`? The code is in Java (and Spring).","body":"Why did you tag the question with <code>scala</code>? The code is in Java (and Spring)."},{"owner":{"account_id":3377075,"reputation":355,"user_id":2835020,"display_name":"Krik"},"score":0,"creation_date":1677623025,"post_id":75597841,"comment_id":133374155,"body_markdown":"tough to say without additional context, perhaps a good starting point is to enable debug mode include `logging.level.root=INFO` in your properties. That may point you in the correct direction.","body":"tough to say without additional context, perhaps a good starting point is to enable debug mode include <code>logging.level.root=INFO</code> in your properties. That may point you in the correct direction."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1677625463,"creation_date":1677625463,"answer_id":75598149,"question_id":75597841,"body_markdown":"This is occurring because `@DataJpaTest` does not create all the beans, only those associated with JPA.\r\n\r\nFrom the Spring documentation: \r\n\r\n&gt; You can use the @DataJpaTest annotation to test JPA applications. By\r\n&gt; default, it scans for @Entity classes and configures Spring Data JPA\r\n&gt; repositories. If an embedded database is available on the classpath,\r\n&gt; it configures one as well. SQL queries are logged by default by\r\n&gt; setting the spring.jpa.show-sql property to true. This can be disabled\r\n&gt; using the showSql attribute of the annotation.\r\n&gt; \r\n&gt; Regular @Component and @ConfigurationProperties beans are not scanned\r\n&gt; when the @DataJpaTest annotation is used.\r\n&gt; @EnableConfigurationProperties can be used to include\r\n&gt; @ConfigurationProperties beans.\r\n\r\nIf you want the additional beans, you can use `@SpringBootTest`.\r\n","title":"Spring finds some beans but not others","body":"<p>This is occurring because <code>@DataJpaTest</code> does not create all the beans, only those associated with JPA.</p>\n<p>From the Spring documentation:</p>\n<blockquote>\n<p>You can use the @DataJpaTest annotation to test JPA applications. By\ndefault, it scans for @Entity classes and configures Spring Data JPA\nrepositories. If an embedded database is available on the classpath,\nit configures one as well. SQL queries are logged by default by\nsetting the spring.jpa.show-sql property to true. This can be disabled\nusing the showSql attribute of the annotation.</p>\n<p>Regular @Component and @ConfigurationProperties beans are not scanned\nwhen the @DataJpaTest annotation is used.\n@EnableConfigurationProperties can be used to include\n@ConfigurationProperties beans.</p>\n</blockquote>\n<p>If you want the additional beans, you can use <code>@SpringBootTest</code>.</p>\n"}],"owner":{"account_id":19103228,"reputation":75,"user_id":13956589,"display_name":"HamsterofDeath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598149,"answer_count":1,"score":0,"last_activity_date":1677651937,"creation_date":1677622632,"question_id":75597841,"body_markdown":"i have a test like this\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@DataJpaTest\r\npublic class UserAccountRepositoryTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n}\r\n```\r\n\r\nthe autowiring works\r\n\r\nin another file\r\n```\r\n@DataJpaTest\r\n@ExtendWith(SpringExtension.class)\r\npublic class UserServiceTest {\r\n\r\n    @Autowired\r\n    private UserAccountRepository userAccountRepository;\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n}\r\n```\r\n\r\nit fails because of the userservice, the bean is not found. i don&#39;t understand why.\r\nwhen i start the app, there is no such error.\r\nthe packages of the test and their respective classes are identical. \r\nhow can i find out why the bean does not exist?\r\n\r\n\r\n","title":"Spring finds some beans but not others","body":"<p>i have a test like this</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@DataJpaTest\npublic class UserAccountRepositoryTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n}\n</code></pre>\n<p>the autowiring works</p>\n<p>in another file</p>\n<pre><code>@DataJpaTest\n@ExtendWith(SpringExtension.class)\npublic class UserServiceTest {\n\n    @Autowired\n    private UserAccountRepository userAccountRepository;\n\n    @Autowired\n    private UserService userService;\n}\n</code></pre>\n<p>it fails because of the userservice, the bean is not found. i don't understand why.\nwhen i start the app, there is no such error.\nthe packages of the test and their respective classes are identical.\nhow can i find out why the bean does not exist?</p>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":12948514,"reputation":501,"user_id":19926805,"display_name":"Steffen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677651830,"creation_date":1677651830,"answer_id":75600199,"question_id":75599852,"body_markdown":"You can achieve this by using the [`toMap`][1] collector.\r\n\r\n&gt; `toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)`\r\n&gt; Returns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.\r\n\r\n\r\n    Map&lt;String, Widget&gt; result = widgets.stream().collect(\r\n            Collectors.toMap(\r\n                Widget::getColor, // keyMapper\r\n                Function.identity(), // valueMapper\r\n                    (w1, w2) -&gt; new Widget( // mergeFunction\r\n                            w1.getColor(),\r\n                            w1.getLegs() + w2.getLegs(),\r\n                            w1.getArms() + w2.getArms()\r\n                    )\r\n            )\r\n    );\r\n\r\n\r\nThe mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.&lt;br /&gt;\r\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.\r\n\r\n\r\n**To print out the result:**\r\n\r\n    result.forEach((key, value) -&gt;\r\n                System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\r\n\r\nResult: `&quot;White&quot;: Legs(20), Arms(30)\r\n&quot;Yellow&quot;: Legs(30), Arms(40)`\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34","title":"java Group by color and Summing all Properties to produce a map","body":"<p>You can achieve this by using the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#i34\" rel=\"nofollow noreferrer\"><code>toMap</code></a> collector.</p>\n<blockquote>\n<p><code>toMap(Function&lt;? super T,? extends K&gt; keyMapper, Function&lt;? super T,? extends U&gt; valueMapper, BinaryOperator&lt;U&gt; mergeFunction)</code>\nReturns a Collector that accumulates elements into a Map whose keys and values are the result of applying the provided mapping functions to the input elements.</p>\n</blockquote>\n<pre><code>Map&lt;String, Widget&gt; result = widgets.stream().collect(\n        Collectors.toMap(\n            Widget::getColor, // keyMapper\n            Function.identity(), // valueMapper\n                (w1, w2) -&gt; new Widget( // mergeFunction\n                        w1.getColor(),\n                        w1.getLegs() + w2.getLegs(),\n                        w1.getArms() + w2.getArms()\n                )\n        )\n);\n</code></pre>\n<p>The mergeFunction is a BinaryOperator that is used to combine the values of two elements with the same key.<br />\nThe example above creates a new Widget object with the same color, but with the total number of legs and arms calculated as the sum of legs and arms of w1 and w2.</p>\n<p><strong>To print out the result:</strong></p>\n<pre><code>result.forEach((key, value) -&gt;\n            System.out.printf(&quot;\\&quot;%s\\&quot;: Legs(%.0f), Arms(%.0f)%n&quot;, key, value.getLegs(), value.getArms()));\n</code></pre>\n<p>Result: <code>&quot;White&quot;: Legs(20), Arms(30) &quot;Yellow&quot;: Legs(30), Arms(40)</code></p>\n"}],"owner":{"account_id":5083502,"reputation":937,"user_id":4078909,"accept_rate":39,"display_name":"Mohit H"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600199,"answer_count":1,"score":0,"last_activity_date":1677651830,"creation_date":1677648116,"question_id":75599852,"body_markdown":"There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this . \r\n\r\n\r\n\t\t\tclass Widget {\r\n\t\t\t    String colour;\r\n\t\t\t    Double legs;\r\n\t\t\t    Double arms;\r\n\t\t\t  \r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tList&lt;Widget&gt; widList = new ArrayList();\r\n\t\t\tWidget wid1 =  new Widget();\r\n\t\t\twid1.setColor(&quot;Yello&quot;);\r\n\t\t\twid1.setLeg(10);\r\n\t\t\twid1.setArms(10);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;Yello&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\tWidget wid2 =  new Widget();\r\n\t\t\twid2.setColor(&quot;White&quot;);\r\n\t\t\twid2.setLeg(20);\r\n\t\t\twid2.setArms(30);\r\n\t\t\t\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\r\n\t\t\t\r\n\t\t\t\r\nresult should be \r\n\t\t\t\r\n&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\r\n&quot;White&quot; : Legs(20) , Arms(30)\r\n\t\t\t\r\n\t\t\twidgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\r\n\r\n\r\n\r\n","title":"java Group by color and Summing all Properties to produce a map","body":"<p>There  is list of widgets i want to group them by color while adding other similar properties and produce a map , something like this .</p>\n<pre><code>        class Widget {\n            String colour;\n            Double legs;\n            Double arms;\n          \n        }\n        \n        List&lt;Widget&gt; widList = new ArrayList();\n        Widget wid1 =  new Widget();\n        wid1.setColor(&quot;Yello&quot;);\n        wid1.setLeg(10);\n        wid1.setArms(10);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;Yello&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        Widget wid2 =  new Widget();\n        wid2.setColor(&quot;White&quot;);\n        wid2.setLeg(20);\n        wid2.setArms(30);\n        \n        \n        widgets.stream().collect(groupingBy(Widget::getColour, AllLegstotal(wid1.legs+wid2.legs) and AllArmstotal(wid1.arms+wid2.arms));\n        \n        \n</code></pre>\n<p>result should be</p>\n<p>&quot;Yello&quot; : Legs(10+20) , Arms(10+30)\n&quot;White&quot; : Legs(20) , Arms(30)</p>\n<pre><code>        widgets.stream().collect(groupingBy(Widget::getColour, Collectors.summingDouble(All Legs , All Arms));\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9543959,"reputation":77,"user_id":7090837,"display_name":"Yeras_QazaQ"},"score":0,"creation_date":1677652578,"post_id":75600186,"comment_id":133378083,"body_markdown":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines.","body":"Use Environment.getExternalStorageDirectory() to get the root path to the SD card and use that to create a FileOutputStream. From there, just use the standard java.io routines."}],"owner":{"account_id":27837511,"reputation":1,"user_id":21254638,"display_name":"Selu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677651733,"creation_date":1677651733,"question_id":75600186,"body_markdown":"I have now created a button how to add a method to the button to save the recorded file to the sd card？\r\n\r\n\r\nI want to write the method into the button listener and save it when I press the button\r\n\r\n```\r\n Button msd = (Button)findViewById(R.id.sd);\r\n     msd.setOnClickListener(new View.OnClickListener(){\r\n        @Override\r\n     public void onClick(View v){\r\n\r\n\r\n       }\r\n});\r\n\r\n```\r\nCan you help me? Thanks","title":"how to save the recording file recorded by the recorder to the Sd card？","body":"<p>I have now created a button how to add a method to the button to save the recorded file to the sd card？</p>\n<p>I want to write the method into the button listener and save it when I press the button</p>\n<pre><code> Button msd = (Button)findViewById(R.id.sd);\n     msd.setOnClickListener(new View.OnClickListener(){\n        @Override\n     public void onClick(View v){\n\n\n       }\n});\n\n</code></pre>\n<p>Can you help me? Thanks</p>\n"},{"tags":["java","graphql","httpclient","connection-pooling"],"comments":[{"owner":{"account_id":9912298,"reputation":683,"user_id":7338534,"display_name":"gai-jin"},"score":0,"creation_date":1676457139,"post_id":75456987,"comment_id":133138908,"body_markdown":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did.","body":"can you add some more info, what exactly triggers this issue? the full stacktraces? &quot;long time persistent issue&quot; - did it ever worked.. describe in more detail what you did."},{"owner":{"account_id":3338251,"reputation":19359,"user_id":2805154,"accept_rate":75,"display_name":"Michel Floyd"},"score":0,"creation_date":1676478176,"post_id":75456987,"comment_id":133145859,"body_markdown":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx.","body":"If you&#39;re getting a 5xx error this is coming from somewhere outside the GraphQL layer. GraphQL won&#39;t return a 5xx."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1676496610,"post_id":75456987,"comment_id":133151112,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677483137,"post_id":75456987,"comment_id":133339225,"body_markdown":"@gai-jin I  have added the details. Can you please help with this if u know","body":"@gai-jin I  have added the details. Can you please help with this if u know"},{"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"score":0,"creation_date":1677651535,"post_id":75456987,"comment_id":133377926,"body_markdown":"@gai-jin as suggested, added  answers to your queries.","body":"@gai-jin as suggested, added  answers to your queries."}],"owner":{"account_id":10749294,"reputation":21,"user_id":7909399,"display_name":"Anonymous"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677651504,"creation_date":1676448530,"question_id":75456987,"body_markdown":"I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python. \r\n\r\nWe have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500. \r\nThis service never worked fine.. This is the scenario from the day one.\r\n\r\nBelow is the code . \r\n\r\nClient side error:\r\n ql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url\r\n\r\n\r\n**Python code**    \r\n\r\nThis is the graph QL client for connecting to backend java server for getting data from database\r\n\r\n        def __init__(self):\r\n        url = os.getenv(&#39;GRAPHQL_URL&#39;)\r\n        if url is None:\r\n            logger.error(&#39;graphql URL is not defined&#39;)\r\n            raise AttributeError(&#39;graphql URL is not defined&#39;)\r\n        transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\r\n        self.client = Client(transport=transport, fetch_schema_from_transport=True)\r\n\r\n**Below is the error I am getting in Backend Java Service **\r\n  \r\n    \r\n    ClientAbortException \r\n    java.io.IOException: Broken pipe\r\n    org.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\r\n    org.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\r\n    org.apache.catalina.connector.OutputBuffer in append at line 689\r\n    org.apache.catalina.connector.OutputBuffer in writeBytes at line 388\r\n    org.apache.catalina.connector.OutputBuffer in write at line 366\r\n    org.apache.catalina.connector.CoyoteOutputStream in write at line 96\r\n    org.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\r\n    com.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\r\n    com.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\r\n    com.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\r\n    com.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\r\n    com.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\r\n    com.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\r\n    org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\r\n    org.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\r\n    org.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\r\n    org.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\r\n    org.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\r\n    org.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\r\n    java.lang.Thread in run at line 833","title":"ClientAbortException java.io.IOException: Broken pipe issue with Graph QL client and Java backend application","body":"<p>I am facing ClientAbortException java.io.IOException: Broken pipe error with Java Backend service. I am using Graph QL client using Python.</p>\n<p>We have message queue which will communicate with client. Initially when service start, all calls to backend via client passes. But after like 15-20 mins, all calls starts failing with the ClientAbortion exception. Then there are very less calls (1 in 50 ) with status 200 and rest all are 500.\nThis service never worked fine.. This is the scenario from the day one.</p>\n<p>Below is the code .</p>\n<p>Client side error:\nql.transport.exceptions.TransportServerError: 503 Server Error: Service Temporarily Unavailable for url</p>\n<p><strong>Python code</strong></p>\n<p>This is the graph QL client for connecting to backend java server for getting data from database</p>\n<pre><code>    def __init__(self):\n    url = os.getenv('GRAPHQL_URL')\n    if url is None:\n        logger.error('graphql URL is not defined')\n        raise AttributeError('graphql URL is not defined')\n    transport = RequestsHTTPTransport(url=url, verify=True, timeout=10)\n    self.client = Client(transport=transport, fetch_schema_from_transport=True)\n</code></pre>\n<p>**Below is the error I am getting in Backend Java Service **</p>\n<pre><code>ClientAbortException \njava.io.IOException: Broken pipe\norg.apache.catalina.connector.OutputBuffer in realWriteBytes at line 353\norg.apache.catalina.connector.OutputBuffer in flushByteBuffer at line 784\norg.apache.catalina.connector.OutputBuffer in append at line 689\norg.apache.catalina.connector.OutputBuffer in writeBytes at line 388\norg.apache.catalina.connector.OutputBuffer in write at line 366\norg.apache.catalina.connector.CoyoteOutputStream in write at line 96\norg.springframework.util.StreamUtils$NonClosingOutputStream in write at line 287\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in _flushBuffer at line 2171\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 746\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeRaw at line 659\ncom.fasterxml.jackson.core.json.UTF8JsonGenerator in writeNumber at line 1030\ncom.fasterxml.jackson.databind.ser.std.NumberSerializers$DoubleSerializer in serialize at line 231\ncom.fasterxml.jackson.databind.ser.std.MapSerializer in serializeFields at line 808\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in _serialize at line 480\ncom.fasterxml.jackson.databind.ser.DefaultSerializerProvider in serializeValue at line 400\ncom.fasterxml.jackson.databind.ObjectWriter$Prefetch in serialize at line 1514\ncom.fasterxml.jackson.databind.ObjectWriter in writeValue at line 1007\norg.springframework.http.converter.json.AbstractJackson2HttpMessageConverter in writeInternal at line 456\norg.springframework.http.converter.AbstractGenericHttpMessageConverter in write at line 104\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeEntityWithMessageConverters at line 302\norg.springframework.web.servlet.function.DefaultEntityResponseBuilder$DefaultEntityResponse in writeToInternal at line 264\norg.springframework.web.servlet.function.AbstractServerResponse in writeTo at line 99\norg.springframework.web.servlet.function.support.HandlerFunctionAdapter in handle at line 110\norg.springframework.web.servlet.DispatcherServlet in doDispatch at line 1071\njava.lang.Thread in run at line 833\n</code></pre>\n"},{"tags":["java","fonts","pdfbox"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1677652130,"post_id":75600098,"comment_id":133378021,"body_markdown":"[How to substitute missing font when filling a form with PDFBox?](https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox)","body":"<a href=\"https://stackoverflow.com/questions/50609478/how-to-substitute-missing-font-when-filling-a-form-with-pdfbox\">How to substitute missing font when filling a form with PDFBox?</a>"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677656913,"post_id":75600098,"comment_id":133378933,"body_markdown":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: https://itsfoss.com/install-microsoft-fonts-ubuntu/","body":"PDFBox does it automatically, it knows commonly used fonts; see the log output to see whether there are problems. Install these: <a href=\"https://itsfoss.com/install-microsoft-fonts-ubuntu/\" rel=\"nofollow noreferrer\">itsfoss.com/install-microsoft-fonts-ubuntu</a>"}],"owner":{"account_id":26624827,"reputation":26,"user_id":20243026,"display_name":"Richard"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677650830,"creation_date":1677650830,"question_id":75600098,"body_markdown":"We&#39;re using PDFBox 2.0.27 to print PDF documents in Java on Linux. We&#39;d like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?\r\n\r\nI&#39;ve tried just installing the alternative fonts on my system, but I can&#39;t figure out how to map them to the standard font set or give them an alias.","title":"How do you substitute free fonts for some/all of the standard 14 fonts using PDFBox 2.0.27?","body":"<p>We're using PDFBox 2.0.27 to print PDF documents in Java on Linux. We'd like to use free fonts (like Linux Libertine for Times-Roman) for rendering the image. Is there a way to map the 14 standard fonts used by PDF to other fonts?</p>\n<p>I've tried just installing the alternative fonts on my system, but I can't figure out how to map them to the standard font set or give them an alias.</p>\n"},{"tags":["java","auto-value"],"answers":[{"tags":[],"owner":{"account_id":49955,"reputation":3449,"user_id":148912,"display_name":"Maik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677650384,"creation_date":1677650384,"answer_id":75600054,"question_id":75516379,"body_markdown":"You can do this by:\r\n\r\n1. Using the AutoValue support for creating builders for collections\r\n1. Implementing helper functions on the builder\r\n\r\n```java\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n    public abstract ImmutableSet&lt;Event&gt; events();\r\n\r\n    public static Builder builder() {\r\n        return new AutoValue_XYZ.Builder();\r\n    }\r\n\r\n    @AutoValue.Builder\r\n    public abstract static class Builder {\r\n\r\n        public Builder addEvent(Event event) {\r\n            eventsBuilder().add(event);\r\n            return this;\r\n        }\r\n\r\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\r\n            eventsBuilder().addAll(events);\r\n            return this;\r\n        }\r\n\r\n        public abstract XYZ build();\r\n\r\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\r\n    }\r\n}\r\n```\r\n\r\nOptionally you can also make the `eventsBuilder` method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the `XYZ.Builder` and thus allow chaining.","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<p>You can do this by:</p>\n<ol>\n<li>Using the AutoValue support for creating builders for collections</li>\n<li>Implementing helper functions on the builder</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoValue\npublic abstract class XYZ {\n\n    public abstract ImmutableSet&lt;Event&gt; events();\n\n    public static Builder builder() {\n        return new AutoValue_XYZ.Builder();\n    }\n\n    @AutoValue.Builder\n    public abstract static class Builder {\n\n        public Builder addEvent(Event event) {\n            eventsBuilder().add(event);\n            return this;\n        }\n\n        public Builder addAllEvents(Iterable&lt;? extends Event&gt; events) {\n            eventsBuilder().addAll(events);\n            return this;\n        }\n\n        public abstract XYZ build();\n\n        protected abstract ImmutableSet.Builder&lt;Event&gt; eventsBuilder();\n    }\n}\n</code></pre>\n<p>Optionally you can also make the <code>eventsBuilder</code> method public if you want to give direct access to the builder and not add the helper methods. The advantage of the helper methods is that they can return the <code>XYZ.Builder</code> and thus allow chaining.</p>\n"}],"owner":{"account_id":7421640,"reputation":45,"user_id":5645718,"display_name":"Senthil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75600054,"answer_count":1,"score":0,"last_activity_date":1677650384,"creation_date":1676954765,"question_id":75516379,"body_markdown":"```\r\nClass Event {\r\n  String eventName;\r\n  Integer eventTime;\r\n  ....\r\n  // Event attributes with a builder\r\n}\r\n\r\n@AutoValue\r\npublic abstract class XYZ {\r\n\r\n  public abstract ImmutableSet&lt;Event&gt; events();\r\n  public abstract Event event();\r\n  \r\n  public static Builder builder() {\r\n    return new AutoValue_XYZ.Builder();\r\n  }\r\n\r\n  @AutoValue.Builder\r\n  public abstract static class Builder {\r\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\r\n    public abstract Builder setEvent(Event event);\r\n\r\n    public abstract XYZ build();\r\n  }\r\n}\r\n```\r\n\r\n**Usage:**\r\nEnd user can add event as a single item or a set of items like below,\r\n\r\n```\r\nXYZ xyz = XYZ\r\n    .builder()\r\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\r\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\r\n    .setEvents(\r\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\r\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\r\n    .build();\r\n```\r\n\r\n\r\nI would like to have all the `event inputs` in the `events()` Set, like everytime `setEvent` is used, add it to the main Set `events()`. How to achieve this?\r\n\r\nEg: `xyz.events() should give 4 events in this case.`","title":"How to add an element to the existing ImmutableSet - AutoValue?","body":"<pre><code>Class Event {\n  String eventName;\n  Integer eventTime;\n  ....\n  // Event attributes with a builder\n}\n\n@AutoValue\npublic abstract class XYZ {\n\n  public abstract ImmutableSet&lt;Event&gt; events();\n  public abstract Event event();\n  \n  public static Builder builder() {\n    return new AutoValue_XYZ.Builder();\n  }\n\n  @AutoValue.Builder\n  public abstract static class Builder {\n    public abstract Builder setEvents(Set&lt;Event&gt; events);\n    public abstract Builder setEvent(Event event);\n\n    public abstract XYZ build();\n  }\n}\n</code></pre>\n<p><strong>Usage:</strong>\nEnd user can add event as a single item or a set of items like below,</p>\n<pre><code>XYZ xyz = XYZ\n    .builder()\n    .setEvent(Event.builder().setEventName(&quot;event1&quot;).setEventTime(34324343).build())\n    .setEvent(Event.builder().setEventName(&quot;event2&quot;).setEventTime(45324343).build())\n    .setEvents(\n        Set.of(Event.builder().setEventName(&quot;event3&quot;).setEventTime(55324343).build(),\n                Event.builder().setEventName(&quot;event4&quot;).setEventTime(65324343).build())\n    .build();\n</code></pre>\n<p>I would like to have all the <code>event inputs</code> in the <code>events()</code> Set, like everytime <code>setEvent</code> is used, add it to the main Set <code>events()</code>. How to achieve this?</p>\n<p>Eg: <code>xyz.events() should give 4 events in this case.</code></p>\n"},{"tags":["java","spring","git","apache-zookeeper"],"comments":[{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1677651107,"post_id":75599991,"comment_id":133377858,"body_markdown":"I&#39;m pretty sure it&#39;s possible to do what you said. \nBecause I have used git as a configuration center. \nI have also used zk as a configuration center. \nSo we can read and write configuration from git, and also read and write configuration from zk. \nWhat you have to do is read the configuration from git, and then write the configuration to zk","body":"I&#39;m pretty sure it&#39;s possible to do what you said.  Because I have used git as a configuration center.  I have also used zk as a configuration center.  So we can read and write configuration from git, and also read and write configuration from zk.  What you have to do is read the configuration from git, and then write the configuration to zk"},{"owner":{"account_id":8435904,"reputation":28024,"user_id":6330106,"display_name":"ElpieKay"},"score":0,"creation_date":1677652889,"post_id":75599991,"comment_id":133378137,"body_markdown":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job.","body":"Many people use hosting services like Github, Gitlab, Gerrit, and etc. These hosting services have hooks that monitor the events in the repository. They allow users to write scripts to do something when an event happens. Besides hooks, Jenkins is another solution. It has some plugins to monitor the events and then trigger a job. Users can write scripts or use other plugins to do something in the job."}],"owner":{"account_id":5193578,"reputation":7,"user_id":16335320,"display_name":"aslan95"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677649729,"creation_date":1677649729,"question_id":75599991,"body_markdown":"I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance","title":"Is there a way to get configurations from git repository and save them to zookeeper?","body":"<p>I need a java application that will monitor git repository and whenever there is a change it will save it to zookeeper. I need to distribute my configurations from git repository to zookeeper. Does someone know is there a ready solutions to that? Thank you in advance</p>\n"},{"tags":["java","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":17531877,"reputation":1654,"user_id":12715723,"display_name":"Jordy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677645767,"creation_date":1677645767,"answer_id":75599645,"question_id":75599596,"body_markdown":"Hope this worked it:\r\n\r\nJust change this :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1/movies&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```\r\nwith :\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/api/v1&quot;)\r\npublic class MovieController {\r\n\r\n    @GetMapping(&quot;/movies&quot;)\r\n    public String getAllMovies () {\r\n        return &quot;All Movies&quot;;\r\n    }\r\n}\r\n```","title":"Why is my RestController not working when I created a new class","body":"<p>Hope this worked it:</p>\n<p>Just change this :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>with :</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api/v1&quot;)\npublic class MovieController {\n\n    @GetMapping(&quot;/movies&quot;)\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27905509,"reputation":1,"user_id":21308822,"display_name":"Rizwan Shaikh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677649217,"creation_date":1677645166,"question_id":75599596,"body_markdown":"I have my main class in which I have used RestController and it works fine\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @SpringBootApplication\r\n    @RestController\r\n    public class MoviesApplication {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    SpringApplication.run(MoviesApplication.class, args);\r\n\t    }\r\n\r\n\t    @GetMapping(&quot;/&quot;)\r\n\t    public String apiRoot() {\r\n\t\t    return &quot;This is the root of API&quot;;\r\n\t    }\r\n    }\r\n\r\nwhen I go to localhost:8080 it shows &quot;This is the root of API&quot;\r\n\r\nI have created another class\r\n\r\n    package dev.rizwan.movieapi;\r\n\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/movies&quot;)\r\n    public class MovieController {\r\n\r\n        @GetMapping\r\n        public String getAllMovies () {\r\n            return &quot;All Movies&quot;;\r\n        }\r\n    }\r\n\r\nbut when I go to localhost:8080/api/v1/movies it is showing whitelabel error page\r\n\r\nplease help....\r\n\r\n\r\n\r\nI was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies ","title":"Why is my RestController not working when I created a new class","body":"<p>I have my main class in which I have used RestController and it works fine</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@SpringBootApplication\n@RestController\npublic class MoviesApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(MoviesApplication.class, args);\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String apiRoot() {\n        return &quot;This is the root of API&quot;;\n    }\n}\n</code></pre>\n<p>when I go to localhost:8080 it shows &quot;This is the root of API&quot;</p>\n<p>I have created another class</p>\n<pre><code>package dev.rizwan.movieapi;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/movies&quot;)\npublic class MovieController {\n\n    @GetMapping\n    public String getAllMovies () {\n        return &quot;All Movies&quot;;\n    }\n}\n</code></pre>\n<p>but when I go to localhost:8080/api/v1/movies it is showing whitelabel error page</p>\n<p>please help....</p>\n<p>I was expecting it to show &quot;All Movies&quot; When I go to localhost:8080/api/v1/movies</p>\n"},{"tags":["java","refactoring","code-duplication"],"comments":[{"owner":{"account_id":12037792,"reputation":1783,"user_id":8805742,"display_name":"mahfuj asif"},"score":0,"creation_date":1677647301,"post_id":75599646,"comment_id":133377380,"body_markdown":"If you want to use methods from `Refactor` class you need to extend the class from `Accomodation` like this `public class Accommodation extends Refactor`","body":"If you want to use methods from <code>Refactor</code> class you need to extend the class from <code>Accomodation</code> like this <code>public class Accommodation extends Refactor</code>"}],"answers":[{"tags":[],"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677648330,"creation_date":1677648021,"answer_id":75599843,"question_id":75599646,"body_markdown":"if you have a class like this:\r\n\r\n    class A {\r\n        // ...\r\n        public void setCode(int param) {\r\n            // ...\r\n        }\r\n    }\r\n\r\nyou can call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode(1);\r\n    a.setCode(2);\r\n\r\nbut you can&#39;t call the method setCode like this:\r\n\r\n    A a = new A();\r\n    a.setCode();\r\n\r\n\r\nBack to your code:\r\n\r\n    public class Refactor {\r\n        // ...\r\n        public void setCode(int c) {\r\n            this.code = c;\r\n        }\r\n        // ...\r\n    }\r\n\r\n    public static void AccData() {\r\n        Refactor accData = new Refactor();\r\n        accData.getCode();\r\n        accData.setCode(); // here setCode need a parameter\r\n    \r\n    }\r\n\r\nsetCode needs a parameter, and its method signature is `Refactor#setCode(int)`, but you don’t pass parameters when you call it, and the method signature you call is `Refactor#setCode(void)`","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>if you have a class like this:</p>\n<pre><code>class A {\n    // ...\n    public void setCode(int param) {\n        // ...\n    }\n}\n</code></pre>\n<p>you can call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode(1);\na.setCode(2);\n</code></pre>\n<p>but you can't call the method setCode like this:</p>\n<pre><code>A a = new A();\na.setCode();\n</code></pre>\n<p>Back to your code:</p>\n<pre><code>public class Refactor {\n    // ...\n    public void setCode(int c) {\n        this.code = c;\n    }\n    // ...\n}\n\npublic static void AccData() {\n    Refactor accData = new Refactor();\n    accData.getCode();\n    accData.setCode(); // here setCode need a parameter\n\n}\n</code></pre>\n<p>setCode needs a parameter, and its method signature is <code>Refactor#setCode(int)</code>, but you don’t pass parameters when you call it, and the method signature you call is <code>Refactor#setCode(void)</code></p>\n"}],"owner":{"account_id":27855967,"reputation":1,"user_id":21269452,"display_name":"Westrany"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677648330,"creation_date":1677645772,"question_id":75599646,"body_markdown":"I&#39;m trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).\r\n\r\nThis is what I came up with so far:\r\n\r\n    public class Refactor {\r\n    protected int code; // code\r\n    protected String companyName; // company name\r\n    protected String email; // email of the company\r\n    protected String type; // type\r\n    protected double price; // price\r\n    \r\n    // gets and sets\r\n    public int getCode() {\r\n    \treturn code;\r\n    }\r\n    public void setCode(int c) {\r\n    \tthis.code = c;\r\n    }\r\n    public String getCompanyName(){\r\n    \treturn companyName;\r\n    }\r\n    public void setCompanyName(String cn) {\r\n    \tthis.companyName = cn;\r\n    }\r\n    public String getEmail(){\r\n    \treturn email;\r\n    }\r\n    public void setEmail(String em) {\r\n    \tthis.email = em;\r\n    }\r\n    public String getType(){\r\n    \treturn type;\r\n    }\r\n    public void setType(String t) {\r\n    \tthis.type = t;\r\n    }\r\n    public double getPrice(){\r\n    \treturn price;\r\n    }\r\n    public void setPrice(double p) {\r\n    \tthis.price = p;\r\n    }\r\n    }\r\n\r\nIn class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.\r\n\r\nThis is what I have on class A so far:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\n\r\npublic class Accommodation\r\n{\r\n\tprotected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\r\n\r\n\tprotected int code; // code\r\n\tprotected String companyName; // company name\r\n\tprotected String email; // email of the company\r\n\tprotected String type; // type\r\n\tprotected double price; // price\r\n\tprotected String city;  // city of the accommodation\r\n\tprotected int numberBeds; // number of beds\r\n\r\n\t/**\r\n\t * Constructor\r\n\t * @param c code\r\n\t * @param cn company name\r\n\t * @param em email of the company\r\n\t * @param t type (hotel, hostel, bnb, ...)\r\n\t * @param p price\r\n\t * @param ct city of the accommodation\r\n\t * @param nb number of beds\r\n\t */\r\n\r\n\tpublic Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\r\n\t\tthis.code = c;\r\n\t\tthis.companyName = cn;\r\n\t\tthis.email = em;\r\n\t\tthis.type = t;\r\n\t\tthis.price = p;\t\r\n\t\tthis.city = ct;\r\n\t\tthis.numberBeds = nb;\r\n\t}\r\n\r\n\t\r\n\t//this is where I&#39;m trying to call the Refactor class\r\n\tpublic static void AccData() {\r\n\t\tRefactor accData = new Refactor();\r\n\t\taccData.getCode();\r\n\t\taccData.setCode();\r\n\t\taccData.getCompanyName();\r\n\t\taccData.setCompanyName();\r\n\t\taccData.getEmail();\r\n\t\taccData.setEmail();\r\n\t\taccData.getType();\r\n\t\taccData.setType();\r\n\t\taccData.getPrice();\r\n\t\taccData.setPrice();\r\n\r\n\t}\r\n\r\n\tpublic String getCity() {\r\n\t\treturn city;\r\n\t}\r\n\tpublic void setCity(String city) {\r\n\t\tthis.city = city;\r\n\t}\r\n\tpublic int getNumberBeds() {\r\n\t\treturn numberBeds;\r\n\t}\r\n\tpublic void setNumberBeds(int numberBeds) {\r\n\t\tthis.numberBeds = numberBeds;\r\n\t}\r\n}\r\n```\r\n\r\nWhy am I getting that error? How can I fix this?\r\n\r\nI tried googling on how to refactor code and found [this stack overflow question](https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types) which is similar to mine. I however didn&#39;t quite understand the answers given, hence why I am asking again. \r\n\r\nI&#39;m expecting to be able to avoid code duplication by calling on these methods from class Refactor. ","title":"Refactoring in Java: The method setCode(int) in the type Refactor is not applicable for the arguments ()","body":"<p>I'm trying to reduce code duplication by creating a new class (Refactor.java) to accommodate the methods that are called in two other classes (A and B).</p>\n<p>This is what I came up with so far:</p>\n<pre><code>public class Refactor {\nprotected int code; // code\nprotected String companyName; // company name\nprotected String email; // email of the company\nprotected String type; // type\nprotected double price; // price\n\n// gets and sets\npublic int getCode() {\n    return code;\n}\npublic void setCode(int c) {\n    this.code = c;\n}\npublic String getCompanyName(){\n    return companyName;\n}\npublic void setCompanyName(String cn) {\n    this.companyName = cn;\n}\npublic String getEmail(){\n    return email;\n}\npublic void setEmail(String em) {\n    this.email = em;\n}\npublic String getType(){\n    return type;\n}\npublic void setType(String t) {\n    this.type = t;\n}\npublic double getPrice(){\n    return price;\n}\npublic void setPrice(double p) {\n    this.price = p;\n}\n}\n</code></pre>\n<p>In class A, the &quot;accData.getSomething()&quot; methods seem to be okay, but all &quot;accData.setSomething()&quot; methods give me the following error: &quot;The method setCode(int) in the type Refactor is not applicable for the arguments ()&quot;.</p>\n<p>This is what I have on class A so far:</p>\n<pre><code>import java.util.ArrayList;\n\n\npublic class Accommodation\n{\n    protected static int MAX_NUM_TOURS = 3; // maximum number of tours defined by the hotel regulation bodies\n\n    protected int code; // code\n    protected String companyName; // company name\n    protected String email; // email of the company\n    protected String type; // type\n    protected double price; // price\n    protected String city;  // city of the accommodation\n    protected int numberBeds; // number of beds\n\n    /**\n     * Constructor\n     * @param c code\n     * @param cn company name\n     * @param em email of the company\n     * @param t type (hotel, hostel, bnb, ...)\n     * @param p price\n     * @param ct city of the accommodation\n     * @param nb number of beds\n     */\n\n    public Accommodation(int c, String cn, String em, String t, double p, String ct, int nb) {\n        this.code = c;\n        this.companyName = cn;\n        this.email = em;\n        this.type = t;\n        this.price = p; \n        this.city = ct;\n        this.numberBeds = nb;\n    }\n\n    \n    //this is where I'm trying to call the Refactor class\n    public static void AccData() {\n        Refactor accData = new Refactor();\n        accData.getCode();\n        accData.setCode();\n        accData.getCompanyName();\n        accData.setCompanyName();\n        accData.getEmail();\n        accData.setEmail();\n        accData.getType();\n        accData.setType();\n        accData.getPrice();\n        accData.setPrice();\n\n    }\n\n    public String getCity() {\n        return city;\n    }\n    public void setCity(String city) {\n        this.city = city;\n    }\n    public int getNumberBeds() {\n        return numberBeds;\n    }\n    public void setNumberBeds(int numberBeds) {\n        this.numberBeds = numberBeds;\n    }\n}\n</code></pre>\n<p>Why am I getting that error? How can I fix this?</p>\n<p>I tried googling on how to refactor code and found <a href=\"https://stackoverflow.com/questions/53229324/how-to-refactor-two-classes-with-very-similar-methods-but-using-different-types\">this stack overflow question</a> which is similar to mine. I however didn't quite understand the answers given, hence why I am asking again.</p>\n<p>I'm expecting to be able to avoid code duplication by calling on these methods from class Refactor.</p>\n"},{"tags":["java","lambda","this"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677645741,"post_id":75599608,"comment_id":133377214,"body_markdown":"*However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface* No. It isn&#39;t. Lambda expressions use the new bytecode mechanism `invokedynamic` and [`LambdaMetafactory`](https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java); there is no anonymous class in a lambda.","body":"<i>However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface</i> No. It isn&#39;t. Lambda expressions use the new bytecode mechanism <code>invokedynamic</code> and <a href=\"https://github.com/openjdk/jdk/blob/a445b66e58a30577dee29cacb636d4c14f0574a2/src/java.base/share/classes/java/lang/invoke/LambdaMetafactory.java\" rel=\"nofollow noreferrer\"><code>LambdaMetafactory</code></a>; there is no anonymous class in a lambda."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646104,"post_id":75599608,"comment_id":133377248,"body_markdown":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this.","body":"@ElliottFrisch I know that&#39;s what is going on at the compiler level... But lambdas are anonymous methods. You can&#39;t deny that. But then if this anonymous method doesn&#39;t belong to an anonymous class, then how do you explain the fact that it implements an interface? I can understand a class being able to implement an interface... But How on earth does a method implement an interface directly? Please explain this."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677646293,"post_id":75599608,"comment_id":133377267,"body_markdown":"See [What are functional interfaces used for in Java 8?](https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8)","body":"See <a href=\"https://stackoverflow.com/questions/36881826/what-are-functional-interfaces-used-for-in-java-8\">What are functional interfaces used for in Java 8?</a>"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646548,"post_id":75599608,"comment_id":133377295,"body_markdown":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!","body":"@ElliottFrisch Again, your reply is much appreciated... But would kindly be more specific? Which part do you want me to focus on? I had a look at the link that you provided, but it doesn&#39;t help explain how lambda expressions help implement interfaces without an anonymous class. Please help me elaborate on this. Thanks in advance!"},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677646809,"post_id":75599608,"comment_id":133377316,"body_markdown":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using `new` keyword) without the use of intermediary anonymous classes. Please explain this. Thanks .","body":"Basic Java fundamentals state that interfaces can NOT be instantiated. So, I do not understand how functional interfaces can be implemented and in essence, instantiated (using <code>new</code> keyword) without the use of intermediary anonymous classes. Please explain this. Thanks ."},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1677647076,"post_id":75599608,"comment_id":133377347,"body_markdown":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the `invokedynamic` instruction to the JVM and implementing `LambdaMetafactory`. You can see this with `javap -v`.","body":"Because they changed Java to allow interfaces that have a single abstract method to be instantiated when they are used in a lambda. They did this quite some time ago now. The exact way they did it was adding the <code>invokedynamic</code> instruction to the JVM and implementing <code>LambdaMetafactory</code>. You can see this with <code>javap -v</code>."},{"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"score":0,"creation_date":1677648036,"post_id":75599608,"comment_id":133377453,"body_markdown":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?","body":"@ElliottFrisch Aaah, okay! But do you have any official documentation that states what you&#39;ve just said? Also, given what you&#39;ve said, it now seems that those sites that claim lambdas to be anonymous classes... Are wrong? In essence, lambdas are just anonymous functions? But additionally, they can be used to provide an implementation for functional interfaces and help instantiate them? Sound right to you?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1677649083,"post_id":75599608,"comment_id":133377589,"body_markdown":"[JEPS-126](https://openjdk.org/jeps/126) says (in part) *The currently preferred implementation approach for lambda expressions relies on `invokedynamic` and method handles introduced by JSR 292.* You might also notice that interfaces are now allowed to have `default` implementations. Lots of changes in Java these days.","body":"<a href=\"https://openjdk.org/jeps/126\" rel=\"nofollow noreferrer\">JEPS-126</a> says (in part) <i>The currently preferred implementation approach for lambda expressions relies on <code>invokedynamic</code> and method handles introduced by JSR 292.</i> You might also notice that interfaces are now allowed to have <code>default</code> implementations. Lots of changes in Java these days."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677647975,"creation_date":1677647975,"answer_id":75599837,"question_id":75599608,"body_markdown":"First of all, fix this as long as you refer to the instance and not the class variable:\r\n\r\n```\r\npublic String name = &quot;Member Accessed&quot;;\r\n```\r\n\r\nThough each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch [said][1]. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as [the original link][2] is no longer active: [Lambda Translation Strategy][3].\r\n\r\n___\r\n\r\nAnyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using `this`.\r\n\r\n```java\r\nRunnable r1 = new Runnable() {\r\n\r\n\t@Override\r\n\tpublic void run() {\r\n\t\tSystem.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\r\n\t}\r\n};\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\r\n  [2]: http://cr.openjdk.java.net/~briangoetz/lambda/lambda-translation.html\r\n  [3]: https://stackoverflow.com/a/30002771/3764965","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>First of all, fix this as long as you refer to the instance and not the class variable:</p>\n<pre><code>public String name = &quot;Member Accessed&quot;;\n</code></pre>\n<p>Though each lambda expression can be expressed as an anonymous class, their bytecodes differ, as Eliott Frisch <a href=\"https://stackoverflow.com/questions/75599608/why-can-java-lambda-expressions-reference-parent-class-members-using-this-keyw/75599837#comment133377214_75599608\">said</a>. I am not knowledgeable enough to provide more details, but there is a very interesting reading from Brian Goetz I can refer you to. Sadly, the script is accessible only through this answer as long as <a href=\"http://cr.openjdk.java.net/%7Ebriangoetz/lambda/lambda-translation.html\" rel=\"nofollow noreferrer\">the original link</a> is no longer active: <a href=\"https://stackoverflow.com/a/30002771/3764965\">Lambda Translation Strategy</a>.</p>\n<hr />\n<p>Anyway, the anonymous class can point out the instance variable of the outer class by specifying the class name using <code>this</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Runnable r1 = new Runnable() {\n\n    @Override\n    public void run() {\n        System.out.println(&quot;Using Anonymous class: &quot; + ThreadTest.this.name);\n    }\n};\n</code></pre>\n"}],"owner":{"account_id":4327877,"reputation":9807,"user_id":3534132,"accept_rate":58,"display_name":"Grateful"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1678015609,"answer_count":1,"score":0,"last_activity_date":1677647975,"creation_date":1677645338,"question_id":75599608,"body_markdown":"In the following class:\r\n\r\n    public class ThreadTest {\r\n    \r\n    \tpublic static String name = &quot;Member Accessed&quot;;\r\n    \t\r\n    \t\r\n    \tpublic void run() {\r\n    \t\r\n    \t\t// Anonymous class\r\n    \t\tRunnable r1 = new Runnable() { \r\n    \t\t\r\n    \t\t\t@Override\r\n    \t\t\tpublic void run() {\r\n    \t\t\t\tSystem.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t\t\r\n    \t\t// lambda expression\r\n    \t\tRunnable r2 = () -&gt; {\r\n    \t\t\tSystem.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\r\n    \t\t};\r\n    \t\t\r\n    \t\tnew Thread(r1).start();\r\n    \t\tnew Thread(r2).start();\r\n    \t}\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\r\n    \t\tThreadTest tt = new ThreadTest();\r\n    \t\ttt.run();\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nWhy can the lambda expression access `this.name`, whereas the anonymous class can not? I understand that for the anonymous class, `this` references the anonymous class scope, and `name` doesn&#39;t exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically `this` should also reference the anonymous class for the lambda expression.. But somehow, `this` manages to reference `name`. \r\n\r\nWhy is this the case?","title":"Why can java lambda expressions reference parent class members using &quot;this&quot; keyword whereas anonymous classes can not?","body":"<p>In the following class:</p>\n<pre><code>public class ThreadTest {\n\n    public static String name = &quot;Member Accessed&quot;;\n    \n    \n    public void run() {\n    \n        // Anonymous class\n        Runnable r1 = new Runnable() { \n        \n            @Override\n            public void run() {\n                System.out.println(&quot;Using Anonymous class, referencing this.name &quot; + this.name);\n            }\n        };\n        \n        // lambda expression\n        Runnable r2 = () -&gt; {\n            System.out.println(&quot;Using Lambda Expression, referencing this.name &quot; + this.name);\n        };\n        \n        new Thread(r1).start();\n        new Thread(r2).start();\n    }\n\n\n    public static void main(String[] args) {\n    \n        ThreadTest tt = new ThreadTest();\n        tt.run();\n\n    }\n}\n</code></pre>\n<p>Why can the lambda expression access <code>this.name</code>, whereas the anonymous class can not? I understand that for the anonymous class, <code>this</code> references the anonymous class scope, and <code>name</code> doesn't exist there. However, the lambda expression is basically an anonymous method that belongs to an anonymous class that implements an interface. So, technically <code>this</code> should also reference the anonymous class for the lambda expression.. But somehow, <code>this</code> manages to reference <code>name</code>.</p>\n<p>Why is this the case?</p>\n"},{"tags":["java","android","sqlite","android-studio"],"answers":[{"tags":[],"owner":{"account_id":8943261,"reputation":1044,"user_id":6671572,"accept_rate":0,"display_name":"Shivam Pokhriyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1622733203,"creation_date":1622733203,"answer_id":67824103,"question_id":67823994,"body_markdown":"You need to use `android:inputType=&quot;number&quot;` property in your xml for `EditText` for `itemNumber`. That way user won&#39;t be able to enter any character to that input field. ","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>You need to use <code>android:inputType=&quot;number&quot;</code> property in your xml for <code>EditText</code> for <code>itemNumber</code>. That way user won't be able to enter any character to that input field.</p>\n"},{"tags":[],"owner":{"account_id":27905719,"reputation":1,"user_id":21308986,"display_name":"Sudharsank"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677647043,"creation_date":1677647043,"answer_id":75599763,"question_id":67823994,"body_markdown":"//calculation position of strong\r\necho strops (Hello World!&#39;;&quot;World);\r\n\r\n&gt; [Blockquote][1]\r\n\r\n\r\n  [1]: https://","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>//calculation position of strong\necho strops (Hello World!';&quot;World);</p>\n<blockquote>\n<p>Blockquote</p>\n</blockquote>\n"}],"owner":{"account_id":20733975,"reputation":33,"user_id":15225222,"display_name":"Zane Brown"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67824103,"answer_count":2,"score":0,"last_activity_date":1677647043,"creation_date":1622732850,"question_id":67823994,"body_markdown":"I&#39;m creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.\r\n\r\nHowever, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I&#39;ve tried a several fixes, but none seem to have worked so far.\r\n\r\nIs there anyway to specifically check for string types and prevent using them?\r\n\r\n**Here is my addItem function:**\r\n\r\n    public class AddItem extends AppCompatActivity {\r\n    \r\n        // Setting up variable names for XML object items\r\n        EditText mItemName;\r\n        EditText mOwnerName;\r\n        EditText mItemNum;\r\n        Button mAddButton;\r\n    \r\n        @Override\r\n        //Initializing object variables and the addButton setOnClickListener\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_add_item);\r\n            mItemName = findViewById(R.id.itemName_input);\r\n            mOwnerName = findViewById(R.id.owner_input);\r\n            mItemNum = findViewById(R.id.num_input);\r\n            mAddButton = findViewById(R.id.add_button);\r\n    \r\n            //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\r\n            mAddButton.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \r\n                    //TESTING\r\n                    String itemName = mItemName.getText().toString().trim();\r\n                    String itemOwner = mOwnerName.getText().toString().trim();\r\n                    String itemNum = mItemNum.getText().toString().trim();\r\n    \r\n                    //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\r\n                    if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\r\n                        Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    else {\r\n                        MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\r\n                        myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\r\n    \r\n                        //This will add functionality to return to the DisplayInventory Screen after pressing button.\r\n                        Intent intent = new Intent(AddItem.this, DisplayInventory.class);\r\n                        startActivity(intent);\r\n                        finish();\r\n                    }\r\n                }\r\n            });\r\n    \r\n    \r\n        }\r\n    }\r\n\r\n**Here is the database the function is using:**\r\n\r\n    public class MyDBHelper extends SQLiteOpenHelper {\r\n    \r\n        // Setting up all variables that make up the columns in the database.\r\n        private Context context;\r\n        private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\r\n        private static final int DATABASE_VERSION = 1;\r\n        private static final String TABLE_NAME = &quot;my_list&quot;;\r\n        private static final String COLUMN_ID = &quot;_id&quot;;\r\n        private static final String COLUMN_TITLE = &quot;item_name&quot;;\r\n        private static final String COLUMN_OWNER = &quot;item_owner&quot;;\r\n        private static final String COLUMN_NUM = &quot;item_num&quot;;\r\n    \r\n    \r\n        MyDBHelper(@Nullable Context context) {\r\n            super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        //Initializing the Database\r\n        public void onCreate(SQLiteDatabase sqLiteDatabase) {\r\n            String query =\r\n                    &quot;CREATE TABLE &quot; + TABLE_NAME +\r\n                            &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\r\n                            COLUMN_TITLE + &quot; TEXT, &quot; +\r\n                            COLUMN_OWNER + &quot; TEXT, &quot; +\r\n                            COLUMN_NUM + &quot; INTEGER);&quot;;\r\n            sqLiteDatabase.execSQL(query);\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        //This will make sure to erase the table if one already exists.\r\n        public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\r\n            sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\r\n            onCreate(sqLiteDatabase);\r\n    \r\n        }\r\n    \r\n        //This method is adding functionality to add the item name, owner and number of items.\r\n        void addItem(String itemName, String itemOwner, int numItem) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n    \r\n            cv.put(COLUMN_TITLE, itemName);\r\n            cv.put(COLUMN_OWNER, itemOwner);\r\n            cv.put(COLUMN_NUM, numItem);\r\n            long result = db.insert(TABLE_NAME, null, cv);\r\n    \r\n            if (result == -1) {\r\n                Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n            else {\r\n                Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    \r\n        //This method sets up the functionality to search the entire database and read the data.\r\n        Cursor readAllData() {\r\n            String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\r\n            SQLiteDatabase db = this.getReadableDatabase();\r\n    \r\n            Cursor cursor = null;\r\n    \r\n            if (db != null) {\r\n               cursor = db.rawQuery(query, null);\r\n            }\r\n            return cursor;\r\n        }\r\n    \r\n        //This method allows the user to update the item&#39;s data. Values that will be updated are item name, owner and number of items.\r\n        void updateData(String row_id, String item_name, String item_owner, String item_num) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            ContentValues cv = new ContentValues();\r\n            cv.put(COLUMN_TITLE, item_name);\r\n            cv.put(COLUMN_OWNER, item_owner);\r\n            cv.put(COLUMN_NUM, item_num);\r\n            long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\r\n        }\r\n    \r\n        void deleteItem(String row_id) {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\r\n    \r\n        }\r\n    \r\n        void destroyInventory() {\r\n            SQLiteDatabase db = this.getWritableDatabase();\r\n            db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"How to stop function allowing Strings or Characters? (Android)","body":"<p>I'm creating an inventory app that allows users to enter enter items with three different information fields. These fields are item name, item owner and item number.</p>\n<p>However, when I input a string or character into the item number field, the app crashes. I want to prevent this crashing by not allowing for characters to be entered in this field only. I've tried a several fixes, but none seem to have worked so far.</p>\n<p>Is there anyway to specifically check for string types and prevent using them?</p>\n<p><strong>Here is my addItem function:</strong></p>\n<pre><code>public class AddItem extends AppCompatActivity {\n\n    // Setting up variable names for XML object items\n    EditText mItemName;\n    EditText mOwnerName;\n    EditText mItemNum;\n    Button mAddButton;\n\n    @Override\n    //Initializing object variables and the addButton setOnClickListener\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_add_item);\n        mItemName = findViewById(R.id.itemName_input);\n        mOwnerName = findViewById(R.id.owner_input);\n        mItemNum = findViewById(R.id.num_input);\n        mAddButton = findViewById(R.id.add_button);\n\n        //This click listener sets up functionality for the add item button. The addItem method is called from the MyDBHelper class.\n        mAddButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n\n                //TESTING\n                String itemName = mItemName.getText().toString().trim();\n                String itemOwner = mOwnerName.getText().toString().trim();\n                String itemNum = mItemNum.getText().toString().trim();\n\n                //This IF/ELSE branch checks to see if any fields in AddItem are empty. If so, an error message displays. Else, it is entered into the database.\n                if(itemName.equals(&quot;&quot;)||itemOwner.equals(&quot;&quot;)||itemNum.equals(&quot;&quot;)) {\n                    Toast.makeText(AddItem.this, &quot;Please enter data to all fields!&quot;, Toast.LENGTH_SHORT).show();\n                }\n                else {\n                    MyDBHelper myDatabase = new MyDBHelper(AddItem.this);\n                    myDatabase.addItem(mItemName.getText().toString().trim(), mOwnerName.getText().toString().trim(), Integer.valueOf(mItemNum.getText().toString().trim()));\n\n                    //This will add functionality to return to the DisplayInventory Screen after pressing button.\n                    Intent intent = new Intent(AddItem.this, DisplayInventory.class);\n                    startActivity(intent);\n                    finish();\n                }\n            }\n        });\n\n\n    }\n}\n</code></pre>\n<p><strong>Here is the database the function is using:</strong></p>\n<pre><code>public class MyDBHelper extends SQLiteOpenHelper {\n\n    // Setting up all variables that make up the columns in the database.\n    private Context context;\n    private static final String DATABASE_NAME = &quot;InventoryList.db&quot;;\n    private static final int DATABASE_VERSION = 1;\n    private static final String TABLE_NAME = &quot;my_list&quot;;\n    private static final String COLUMN_ID = &quot;_id&quot;;\n    private static final String COLUMN_TITLE = &quot;item_name&quot;;\n    private static final String COLUMN_OWNER = &quot;item_owner&quot;;\n    private static final String COLUMN_NUM = &quot;item_num&quot;;\n\n\n    MyDBHelper(@Nullable Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n\n    @Override\n    //Initializing the Database\n    public void onCreate(SQLiteDatabase sqLiteDatabase) {\n        String query =\n                &quot;CREATE TABLE &quot; + TABLE_NAME +\n                        &quot; (&quot; + COLUMN_ID + &quot; INTEGER PRIMARY KEY AUTOINCREMENT, &quot; +\n                        COLUMN_TITLE + &quot; TEXT, &quot; +\n                        COLUMN_OWNER + &quot; TEXT, &quot; +\n                        COLUMN_NUM + &quot; INTEGER);&quot;;\n        sqLiteDatabase.execSQL(query);\n\n\n\n    }\n\n    @Override\n    //This will make sure to erase the table if one already exists.\n    public void onUpgrade(SQLiteDatabase sqLiteDatabase, int i, int i1) {\n        sqLiteDatabase.execSQL(&quot;DROP TABLE IF EXISTS &quot; + TABLE_NAME);\n        onCreate(sqLiteDatabase);\n\n    }\n\n    //This method is adding functionality to add the item name, owner and number of items.\n    void addItem(String itemName, String itemOwner, int numItem) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n\n        cv.put(COLUMN_TITLE, itemName);\n        cv.put(COLUMN_OWNER, itemOwner);\n        cv.put(COLUMN_NUM, numItem);\n        long result = db.insert(TABLE_NAME, null, cv);\n\n        if (result == -1) {\n            Toast.makeText(context, &quot;Failed&quot;, Toast.LENGTH_SHORT).show();\n        }\n        else {\n            Toast.makeText(context, &quot;Item Added to Inventory!&quot;, Toast.LENGTH_SHORT).show();\n        }\n    }\n\n    //This method sets up the functionality to search the entire database and read the data.\n    Cursor readAllData() {\n        String query = &quot;SELECT * FROM &quot; + TABLE_NAME;\n        SQLiteDatabase db = this.getReadableDatabase();\n\n        Cursor cursor = null;\n\n        if (db != null) {\n           cursor = db.rawQuery(query, null);\n        }\n        return cursor;\n    }\n\n    //This method allows the user to update the item's data. Values that will be updated are item name, owner and number of items.\n    void updateData(String row_id, String item_name, String item_owner, String item_num) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        ContentValues cv = new ContentValues();\n        cv.put(COLUMN_TITLE, item_name);\n        cv.put(COLUMN_OWNER, item_owner);\n        cv.put(COLUMN_NUM, item_num);\n        long result = db.update(TABLE_NAME, cv, &quot;_id=?&quot;, new String[]{row_id});\n    }\n\n    void deleteItem(String row_id) {\n        SQLiteDatabase db = this.getWritableDatabase();\n        long result = db.delete(TABLE_NAME, &quot;_id=?&quot;, new String[]{row_id});\n\n    }\n\n    void destroyInventory() {\n        SQLiteDatabase db = this.getWritableDatabase();\n        db.execSQL(&quot;DELETE FROM &quot; + TABLE_NAME);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","junit","mockito","builder","argumentcaptor"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677700353,"post_id":75599670,"comment_id":133391825,"body_markdown":"What is `someMethod` and what has the builder got to do with anything of this?","body":"What is <code>someMethod</code> and what has the builder got to do with anything of this?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1677730020,"post_id":75599670,"comment_id":133396912,"body_markdown":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant.","body":"@knittl some method is a stand-in for any method that has a parameter of type MyExampleClass. I am always unable to use captors or matchers on MyExampleClass no matter where it&#39;s used. I don&#39;t know what the builder has to do with any of this, however since this is the only class in my codebase that has this issue, and it is the only class implementing this pattern, it seems relevant."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1677738067,"post_id":75599670,"comment_id":133397878,"body_markdown":"Shouldn&#39;t `forCaptor(MyExampleClass)` be `forCaptor(MyExampleClass.class)`? Does the error still occur if you remove the builder from the class?","body":"Shouldn&#39;t <code>forCaptor(MyExampleClass)</code> be <code>forCaptor(MyExampleClass.class)</code>? Does the error still occur if you remove the builder from the class?"},{"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"score":0,"creation_date":1679331413,"post_id":75599670,"comment_id":133698929,"body_markdown":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need `.class`","body":"As I mentioned the test class is in Groovy, so yes that would also work, but Groovy does not need <code>.class</code>"}],"owner":{"account_id":2560439,"reputation":214,"user_id":2221528,"display_name":"Lord Arryn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677646102,"creation_date":1677646102,"question_id":75599670,"body_markdown":"I have a class similar to the following:\r\n```\r\npackage com.example.objects;\r\n\r\nimport java.util.Objects;\r\n\r\npublic class MyExampleClass extends SomeBaseClass {\r\n\r\n\tprivate String param1;\r\n\tprivate String param2;\r\n\r\n\tprivate MyExampleClass(String param1, String param2) {\r\n\t\tthis.param1 = param1;\r\n\t\tthis.param2 = param2;\r\n\t}\r\n\r\n\tMyExampleClass() {\r\n\t}\r\n\r\n\tpublic String getParam1() {\r\n\t\treturn param1;\r\n\t}\r\n\r\n\tpublic String getParam2() {\r\n\t\treturn param2;\r\n\t}\r\n\r\n\tpublic static class Builder {\r\n\t\tprivate String param1;\r\n\t\tprivate String param2;\r\n\r\n\t\tpublic Builder setParam1(String param1) {\r\n\t\t\tthis.param1 = param1;\r\n\t\t\treturn this;\r\n\t\t}\r\n\r\n\t\tpublic Builder setParam2(String param2) {\r\n\t\t\tthis.param2 = param2;\r\n\t\t\treturn this;\r\n\t\t}\r\n\t\t\r\n\t\tpublic MyExampleClass build() {\r\n\t\t\tObjects.requireNonNull(param1,&quot;blahblah&quot;);\r\n\t\t\tObjects.requireNonNull(param2,&quot;blahblah&quot;);\r\n\t\t\treturn new MyExampleClass(param1, param2);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n```\r\n\r\nand in a Groovy unit test I want to do something like the following:\r\n```\r\ndef captor = ArgumentCaptor.forClass(MyExampleClass)\r\nMockito.verify(mockObject).someMethod(captor.capture())\r\n```\r\n\r\nI expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:\r\n```\r\nWanted but not invoked:\r\nmockObject.someMethod(\r\n &lt;Capturing argument&gt;\r\n);\r\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\r\n\r\nHowever, there was exactly 1 interaction with this mock:\r\nmockObject.someMethod(\r\n    com.example.objects.MyExampleClass@47a7a101\r\n);\r\n```\r\n\r\nWhat am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?","title":"Why are Mockito argument matchers unable to match with my builder-pattern object?","body":"<p>I have a class similar to the following:</p>\n<pre><code>package com.example.objects;\n\nimport java.util.Objects;\n\npublic class MyExampleClass extends SomeBaseClass {\n\n    private String param1;\n    private String param2;\n\n    private MyExampleClass(String param1, String param2) {\n        this.param1 = param1;\n        this.param2 = param2;\n    }\n\n    MyExampleClass() {\n    }\n\n    public String getParam1() {\n        return param1;\n    }\n\n    public String getParam2() {\n        return param2;\n    }\n\n    public static class Builder {\n        private String param1;\n        private String param2;\n\n        public Builder setParam1(String param1) {\n            this.param1 = param1;\n            return this;\n        }\n\n        public Builder setParam2(String param2) {\n            this.param2 = param2;\n            return this;\n        }\n        \n        public MyExampleClass build() {\n            Objects.requireNonNull(param1,&quot;blahblah&quot;);\n            Objects.requireNonNull(param2,&quot;blahblah&quot;);\n            return new MyExampleClass(param1, param2);\n        }\n    }\n}\n\n</code></pre>\n<p>and in a Groovy unit test I want to do something like the following:</p>\n<pre><code>def captor = ArgumentCaptor.forClass(MyExampleClass)\nMockito.verify(mockObject).someMethod(captor.capture())\n</code></pre>\n<p>I expect I would be able to make assertions off of my captor as per usual, however instead I get something along the lines of:</p>\n<pre><code>Wanted but not invoked:\nmockObject.someMethod(\n &lt;Capturing argument&gt;\n);\n-&gt; at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:47)\n\nHowever, there was exactly 1 interaction with this mock:\nmockObject.someMethod(\n    com.example.objects.MyExampleClass@47a7a101\n);\n</code></pre>\n<p>What am I doing wrong that prevents ArgumentMatchers and ArgumentCaptors from recognizing my object?</p>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":26280709,"reputation":93,"user_id":19949241,"display_name":"Awais ul Hassan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677646042,"creation_date":1677646042,"answer_id":75599665,"question_id":75570940,"body_markdown":"Try it, to add permissions in webview\r\n\r\n    private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\r\n        MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\r\n        MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setJavaScriptEnabled(true);\r\n        MyWebviewSettings.setDomStorageEnabled(true);\r\n        MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\r\n        MyWebviewSettings.setBuiltInZoomControls(true);\r\n        MyWebviewSettings.setAllowFileAccess(true);\r\n        MyWebviewSettings.setSupportZoom(true);\r\n    }","title":"Camera doesn&#39;t open from webview in android","body":"<p>Try it, to add permissions in webview</p>\n<pre><code>private void setMyWebviewSettings(WebSettings MyWebviewSettings) {\n    MyWebviewSettings.setAllowFileAccessFromFileURLs(true);\n    MyWebviewSettings.setAllowUniversalAccessFromFileURLs(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setJavaScriptEnabled(true);\n    MyWebviewSettings.setDomStorageEnabled(true);\n    MyWebviewSettings.setJavaScriptCanOpenWindowsAutomatically(true);\n    MyWebviewSettings.setBuiltInZoomControls(true);\n    MyWebviewSettings.setAllowFileAccess(true);\n    MyWebviewSettings.setSupportZoom(true);\n}\n</code></pre>\n"}],"owner":{"account_id":18242315,"reputation":317,"user_id":13279141,"display_name":"Kee Rushar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677646042,"creation_date":1677401929,"question_id":75570940,"body_markdown":"I&#39;m trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?\r\n\r\n**I have added permissions to the AndroidManifest.xml file:**\r\n\r\n        &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n        &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\r\n        &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\r\n\r\nIn my fragment webview.kt is:\r\n\r\n    class WebView : Fragment() {\r\n                    private lateinit var binding: FragmentWebviewBinding\r\n            \r\n                override fun onCreateView(\r\n                    inflater: LayoutInflater, container: ViewGroup?,\r\n                    savedInstanceState: Bundle?\r\n                ): View {\r\n                    binding =\r\n                        FragmentWebviewBinding.inflate(\r\n                            inflater,\r\n                            container,\r\n                            false\r\n                        )\r\n            \r\n                    return binding.root\r\n                }\r\n            \r\n                override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n                    super.onViewCreated(view, savedInstanceState)\r\n            \r\n                    setUpWebView()\r\n                }\r\n            \r\n                private fun setUpWebView() {\r\n                    listener?.showLoading(true)\r\n            \r\n                    binding.securityWebView.apply {\r\n                        webViewClient = customWebViewClient\r\n                        webChromeClient = customWebChromeClient\r\n                        loadUrl(\r\n                        &quot;https://onlinecamscanner.com/&quot;)\r\n                        settings.apply {\r\n                            javaScriptEnabled = true\r\n                            allowFileAccess = true\r\n                            allowContentAccess = true\r\n                            javaScriptCanOpenWindowsAutomatically = true\r\n                            domStorageEnabled = true\r\n                            mediaPlaybackRequiresUserGesture = false\r\n                            setSupportZoom(true)\r\n                        }\r\n                    }\r\n                }\r\n            \r\n                private val customWebViewClient = object : WebViewClient() {\r\n                    override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\r\n                        super.onPageStarted(view, url, favicon)\r\n                        listener?.showLoading(true)\r\n                    }\r\n            \r\n                    override fun onPageFinished(view: WebView?, url: String?) {\r\n                        super.onPageFinished(view, url)\r\n                        listener?.showLoading(false)\r\n                    }\r\n            \r\n                    override fun onReceivedError(\r\n                        view: WebView?,\r\n                        request: WebResourceRequest?,\r\n                        error: WebResourceError?\r\n                    ) {\r\n                        super.onReceivedError(view, request, error)\r\n                        listener?.showLoading(false)\r\n                    }\r\n                }\r\n            \r\n                private val customWebChromeClient = object : WebChromeClient() {\r\n            \r\n                    @TargetApi(Build.VERSION_CODES.LOLLIPOP)\r\n                    override fun onPermissionRequest(request: PermissionRequest?) {\r\n                        super.onPermissionRequest(request)\r\n                    }\r\n            \r\n                    override fun onPermissionRequestCanceled(request: PermissionRequest?) {\r\n                        super.onPermissionRequestCanceled(request)\r\n                        request?.deny()\r\n                    }\r\n                }\r\n            }\r\n \r\n\r\n - Compile SDK version = 31 \r\n - Target SDK version = 31  \r\n - Min Version = 21\r\n \r\nAny help would be highly appreciated.\r\n\r\n","title":"Camera doesn&#39;t open from webview in android","body":"<p>I'm trying to show the camera in WebView.The webview has a feature that allows the user to scan documents. I got it to work using WebChromeClient. But I am unable to do that. I have seen other references but they could not help me. Is there anything that I have missed on the below code?</p>\n<p><strong>I have added permissions to the AndroidManifest.xml file:</strong></p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;user-permission android:name=&quot;android.permission.MODIFY_AUDIO_SETTINGS&quot; /&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.camera&quot; android:required=&quot;true&quot; /&gt;\n</code></pre>\n<p>In my fragment webview.kt is:</p>\n<pre><code>class WebView : Fragment() {\n                private lateinit var binding: FragmentWebviewBinding\n        \n            override fun onCreateView(\n                inflater: LayoutInflater, container: ViewGroup?,\n                savedInstanceState: Bundle?\n            ): View {\n                binding =\n                    FragmentWebviewBinding.inflate(\n                        inflater,\n                        container,\n                        false\n                    )\n        \n                return binding.root\n            }\n        \n            override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n                super.onViewCreated(view, savedInstanceState)\n        \n                setUpWebView()\n            }\n        \n            private fun setUpWebView() {\n                listener?.showLoading(true)\n        \n                binding.securityWebView.apply {\n                    webViewClient = customWebViewClient\n                    webChromeClient = customWebChromeClient\n                    loadUrl(\n                    &quot;https://onlinecamscanner.com/&quot;)\n                    settings.apply {\n                        javaScriptEnabled = true\n                        allowFileAccess = true\n                        allowContentAccess = true\n                        javaScriptCanOpenWindowsAutomatically = true\n                        domStorageEnabled = true\n                        mediaPlaybackRequiresUserGesture = false\n                        setSupportZoom(true)\n                    }\n                }\n            }\n        \n            private val customWebViewClient = object : WebViewClient() {\n                override fun onPageStarted(view: WebView?, url: String?, favicon: Bitmap?) {\n                    super.onPageStarted(view, url, favicon)\n                    listener?.showLoading(true)\n                }\n        \n                override fun onPageFinished(view: WebView?, url: String?) {\n                    super.onPageFinished(view, url)\n                    listener?.showLoading(false)\n                }\n        \n                override fun onReceivedError(\n                    view: WebView?,\n                    request: WebResourceRequest?,\n                    error: WebResourceError?\n                ) {\n                    super.onReceivedError(view, request, error)\n                    listener?.showLoading(false)\n                }\n            }\n        \n            private val customWebChromeClient = object : WebChromeClient() {\n        \n                @TargetApi(Build.VERSION_CODES.LOLLIPOP)\n                override fun onPermissionRequest(request: PermissionRequest?) {\n                    super.onPermissionRequest(request)\n                }\n        \n                override fun onPermissionRequestCanceled(request: PermissionRequest?) {\n                    super.onPermissionRequestCanceled(request)\n                    request?.deny()\n                }\n            }\n        }\n</code></pre>\n<ul>\n<li>Compile SDK version = 31</li>\n<li>Target SDK version = 31</li>\n<li>Min Version = 21</li>\n</ul>\n<p>Any help would be highly appreciated.</p>\n"},{"tags":["java","pdf","outlook","jakarta-mail","attachment"],"answers":[{"tags":[],"owner":{"account_id":2984244,"reputation":236,"user_id":2533521,"display_name":"user2533521"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418228776,"creation_date":1418228776,"answer_id":27406028,"question_id":27405511,"body_markdown":"I wanted to add a comment (question), but don&#39;t have the required points.\r\n\r\nIt could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. \r\n\r\nSecond possible cause is the size of the attachment is a problem for the customer. \r\n\r\nThird possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:\r\n\r\n&gt; \r\nLinks and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf\r\n\r\nMaybe this customer has setup a rule similarly.\r\n\r\n\r\n\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>I wanted to add a comment (question), but don't have the required points.</p>\n\n<p>It could be a filter on the customer side that blocks attachments. See if the customer is getting a mail with attachment (same pdf) when sending it via  normal outlook. </p>\n\n<p>Second possible cause is the size of the attachment is a problem for the customer. </p>\n\n<p>Third possible cause is that I have noticed that when I set up a rule to automatically put messages into a different folder, i see a message saying:</p>\n\n<blockquote>\n  <p>Links and other functionality have been disabled in this message. To turn on that functionality, move this message to the Inbox. Outlook blocked access to the potentially unsafe attachments: xxxx.pdf</p>\n</blockquote>\n\n<p>Maybe this customer has setup a rule similarly.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418340599,"creation_date":1418340599,"answer_id":27434369,"question_id":27405511,"body_markdown":"If messages sent from other mailers work properly and only messages sent from JavaMail fail, you&#39;ll need to examine the raw MIME content of the working and non-working messages to see what&#39;s different.  You should be able to reproduce whatever content works using JavaMail.\r\n\r\nThere&#39;s lots of ways to access the raw MIME content of messages; let me know if you need help with that.\r\n\r\nObviously you&#39;ll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.\r\n","title":"Java Mail attachment not shown in outlook","body":"<p>If messages sent from other mailers work properly and only messages sent from JavaMail fail, you'll need to examine the raw MIME content of the working and non-working messages to see what's different.  You should be able to reproduce whatever content works using JavaMail.</p>\n\n<p>There's lots of ways to access the raw MIME content of messages; let me know if you need help with that.</p>\n\n<p>Obviously you'll need working and non-working examples messages with similar content to compare.  If you have a repeatable test case - a message you can send to the same recipient multiple times and it fails every time - that would be most helpful.</p>\n"},{"tags":[],"owner":{"account_id":3485660,"reputation":45,"user_id":4395957,"display_name":"Mustaf"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1419603488,"creation_date":1419602885,"answer_id":27658192,"question_id":27405511,"body_markdown":"We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.\r\n\r\nAttachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.\r\n\r\nIn our case, it turned out to be that `MimeMultipart` construction was not the correct one. We had\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;alternative&quot;);\r\n\r\nWhen we modified it to\r\n\r\n    Multipart multipart = new MimeMultipart();\r\n\r\nthe attachments became visible.\r\n\r\nPlease also refer to [the following resource][1] for a full explanation.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm","title":"Java Mail attachment not shown in outlook","body":"<p>We had a similar problem where we sent file attachments from a J2EE application to various mail accounts. We utilized SMTP gmail server (smtp.gmail.com) with port 465 and HTTPS connection type for our outgoing messages.</p>\n\n<p>Attachments to the messages sent via Java were not shown in Outlook but we could observe them in web interface for gmail accounts.</p>\n\n<p>In our case, it turned out to be that <code>MimeMultipart</code> construction was not the correct one. We had</p>\n\n<pre><code>Multipart multipart = new MimeMultipart(\"alternative\");\n</code></pre>\n\n<p>When we modified it to</p>\n\n<pre><code>Multipart multipart = new MimeMultipart();\n</code></pre>\n\n<p>the attachments became visible.</p>\n\n<p>Please also refer to <a href=\"http://www.tutorialspoint.com/javamail_api/javamail_api_send_email_with_attachment.htm\" rel=\"nofollow\">the following resource</a> for a full explanation.</p>\n"}],"owner":{"account_id":5465410,"reputation":21,"user_id":4346354,"display_name":"20141210"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3465,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1677645306,"creation_date":1418227378,"question_id":27405511,"body_markdown":"we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\r\nSome time ago we got notified that serveral customers don&#39;t received an attachment.\r\n\r\nOne of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\r\nE-Mail, he doesn&#39;t see an attachment. We don&#39;t have the possibility to check the version of the E-Mail client&#39;s \r\nand to do customer side test&#39;s, because our customers are worldwide located.\r\n\r\nIf our customer responds or (internal) forward the E-Mail, the attachment shown in receiver&#39;s E-Mail client.\r\n\r\nThe following part is the affected Java source code:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    private static Multipart createMultipartMailWithAttachment(String messageText)\r\n    \t\tthrows MessagingException {\r\n    \t// Message with attachments\r\n    \tMultipart mp = new MimeMultipart();\r\n    \r\n    \t// Attach Text\r\n    \tMimeBodyPart mbp1 = new MimeBodyPart();\r\n    \tmbp1.setText(messageText, UTF8, HTML);\r\n    \tmp.addBodyPart(mbp1);\r\n    \r\n    \tfor (File f : attachments) {\r\n    \t\tMimeBodyPart fileAttachment = new MimeBodyPart();\r\n    \t\ttry {\r\n    \t\t\tfileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\r\n    \t\t\tfileAttachment.attachFile(f);\r\n    \t\t\tif(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\r\n    \t\t\t\tfileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\r\n    \t\t\t}\r\n    \t\t} catch (IOException e) {\r\n    \t\t\treturnMessage = e.getMessage();\r\n    \t\t}\r\n    \t\tmp.addBodyPart(fileAttachment);\r\n    \t}\r\n    \treturn mp;\r\n    }\r\n\r\nWe already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \r\nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\r\nwas the attachment shown.\r\n\r\nAfter many inquiries we got many different solution processes. See `setDisposition(MimeBodyPart.ATTACHMENT)` and \r\n`setHeader(CONTENT_TYPE, APPLICATION_PDF)`. None of these solutions lead us to success. Does anyone know \r\na solution or a new solution process to solve that problem?","title":"Java Mail attachment not shown in outlook","body":"<p>we use Java Mail to send E-Mails with PDF attachments via SMTP over Lotus Notes to our customers.\nSome time ago we got notified that serveral customers don't received an attachment.</p>\n\n<p>One of these customers uses Microsoft Outlook and got an attachment flag in his inbox. But when he opens the\nE-Mail, he doesn't see an attachment. We don't have the possibility to check the version of the E-Mail client's \nand to do customer side test's, because our customers are worldwide located.</p>\n\n<p>If our customer responds or (internal) forward the E-Mail, the attachment shown in receiver's E-Mail client.</p>\n\n<p>The following part is the affected Java source code:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Multipart createMultipartMailWithAttachment(String messageText)\n        throws MessagingException {\n    // Message with attachments\n    Multipart mp = new MimeMultipart();\n\n    // Attach Text\n    MimeBodyPart mbp1 = new MimeBodyPart();\n    mbp1.setText(messageText, UTF8, HTML);\n    mp.addBodyPart(mbp1);\n\n    for (File f : attachments) {\n        MimeBodyPart fileAttachment = new MimeBodyPart();\n        try {\n            fileAttachment.setDisposition(MimeBodyPart.ATTACHMENT);\n            fileAttachment.attachFile(f);\n            if(f.getName().toLowerCase().endsWith(PDF_EXTENSION)) {\n                fileAttachment.setHeader(CONTENT_TYPE, APPLICATION_PDF);\n            }\n        } catch (IOException e) {\n            returnMessage = e.getMessage();\n        }\n        mp.addBodyPart(fileAttachment);\n    }\n    return mp;\n}\n</code></pre>\n\n<p>We already tested different webmail services like gmail.com, yahoo.com and outlook.com. In every case the \nattachment was shown. Also in an local installation of Mozilla Thunderbird, Microsoft Outlook or Lotus Notes\nwas the attachment shown.</p>\n\n<p>After many inquiries we got many different solution processes. See <code>setDisposition(MimeBodyPart.ATTACHMENT)</code> and \n<code>setHeader(CONTENT_TYPE, APPLICATION_PDF)</code>. None of these solutions lead us to success. Does anyone know \na solution or a new solution process to solve that problem?</p>\n"},{"tags":["java","android","android-layout","android-button","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":2294849,"reputation":331956,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1591978733,"creation_date":1591974903,"answer_id":62347183,"question_id":62346373,"body_markdown":"You can use the **`getCheckedButtonId()`** method.  \r\nSomething like:\r\n\r\n    MaterialButtonToggleGroup materialButtonToggleGroup = \r\n             findViewById(R.id.toggleButton);\r\n    int buttonId = materialButtonToggleGroup.getCheckedButtonId();\r\n    MaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\r\n\r\n---------\r\nOnly if you need a listener you can use the `addOnButtonCheckedListener`:\r\n  \r\n    materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n          @Override\r\n          public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n            if (isChecked) {\r\n              if (checkedId == R.id.button1) {\r\n                //..\r\n              }\r\n            }\r\n      }\r\n    });\r\n\r\nYou have to check the `checkedId` value but also the `isChecked` value. The same listener is called when you check a button but also when you unckeck a button.\r\n\r\nIt means that if you click the `button1` the listener is called with `isChecked=true` and `checkedId=1`. Then if you click the `button2` the listener is called twice. Once with `isChecked=false` and `checkedId=1`, once with `isChecked=true` and `checkedId=2`.\r\n","title":"Android Material Button Toggle Group","body":"<p>You can use the <strong><code>getCheckedButtonId()</code></strong> method.<br>\nSomething like:</p>\n\n<pre><code>MaterialButtonToggleGroup materialButtonToggleGroup = \n         findViewById(R.id.toggleButton);\nint buttonId = materialButtonToggleGroup.getCheckedButtonId();\nMaterialButton button = materialButtonToggleGroup.findViewById(buttonId);\n</code></pre>\n\n<hr>\n\n<p>Only if you need a listener you can use the <code>addOnButtonCheckedListener</code>:</p>\n\n<pre><code>materialButtonToggleGroup.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n      @Override\n      public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n        if (isChecked) {\n          if (checkedId == R.id.button1) {\n            //..\n          }\n        }\n  }\n});\n</code></pre>\n\n<p>You have to check the <code>checkedId</code> value but also the <code>isChecked</code> value. The same listener is called when you check a button but also when you unckeck a button.</p>\n\n<p>It means that if you click the <code>button1</code> the listener is called with <code>isChecked=true</code> and <code>checkedId=1</code>. Then if you click the <code>button2</code> the listener is called twice. Once with <code>isChecked=false</code> and <code>checkedId=1</code>, once with <code>isChecked=true</code> and <code>checkedId=2</code>.</p>\n"},{"tags":[],"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1591974957,"creation_date":1591974957,"answer_id":62347202,"question_id":62346373,"body_markdown":"You can do it like this : \r\n\r\n  \r\n\r\n    toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\r\n                @Override\r\n                public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\r\n                    if(group.getCheckedButtonId()==R.id.button1)\r\n                    {\r\n                        //Place code related to button1 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button1 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n    \r\n                    }else if(group.getCheckedButtonId()==R.id.button2) {\r\n                        //Place code related to button 2 here\r\n                        Toast.makeText(MainActivity2.this, &quot;Button2 Clicked&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                }\r\n            });","title":"Android Material Button Toggle Group","body":"<p>You can do it like this : </p>\n\n<pre><code>toggleButton.addOnButtonCheckedListener(new MaterialButtonToggleGroup.OnButtonCheckedListener() {\n            @Override\n            public void onButtonChecked(MaterialButtonToggleGroup group, int checkedId, boolean isChecked) {\n                if(group.getCheckedButtonId()==R.id.button1)\n                {\n                    //Place code related to button1 here\n                    Toast.makeText(MainActivity2.this, \"Button1 Clicked\", Toast.LENGTH_SHORT).show();\n\n                }else if(group.getCheckedButtonId()==R.id.button2) {\n                    //Place code related to button 2 here\n                    Toast.makeText(MainActivity2.this, \"Button2 Clicked\", Toast.LENGTH_SHORT).show();\n                }\n\n            }\n        });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23118833,"reputation":59,"user_id":17225652,"display_name":"BitOfaLegend"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677644966,"creation_date":1677644566,"answer_id":75599558,"question_id":62346373,"body_markdown":"Concise Kotlin version of Gabriele&#39;s answer in case anyone is looking for one:\r\n\r\n```\r\nfindViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\r\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\r\n        if (!isChecked) return@addOnButtonCheckedListener\r\n        when(checkedId){\r\n            R.id.button1 -&gt; //..\r\n            R.id.button2 -&gt; //..\r\n        }\r\n    }\r\n}\r\n```","title":"Android Material Button Toggle Group","body":"<p>Concise Kotlin version of Gabriele's answer in case anyone is looking for one:</p>\n<pre><code>findViewById&lt;MaterialButtonToggleGroup&gt;(R.id.toggle_group).apply {\n    addOnButtonCheckedListener { group, checkedId, isChecked -&gt;\n        if (!isChecked) return@addOnButtonCheckedListener\n        when(checkedId){\n            R.id.button1 -&gt; //..\n            R.id.button2 -&gt; //..\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18468275,"reputation":303,"user_id":13453862,"display_name":"Asuwathaman R C"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11160,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":62347183,"answer_count":3,"score":6,"last_activity_date":1677644966,"creation_date":1591972083,"question_id":62346373,"body_markdown":"I&#39;m creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don&#39;t know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.\r\n\r\n**myxml.xml**\r\n\r\n        &lt;com.google.android.material.button.MaterialButtonToggleGroup\r\n                    android:id=&quot;@+id/toggleButton&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    app:singleSelection=&quot;true&quot;&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button1&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Male&quot;\r\n                        android:layout_marginStart=&quot;5dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n                    &lt;Button\r\n                        android:id=&quot;@+id/button2&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:text=&quot;Female&quot;\r\n                        android:layout_marginStart=&quot;10dp&quot;\r\n                        style=&quot;?attr/materialButtonOutlinedStyle&quot;/&gt;\r\n\r\n                &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\r\n\r\n**Myactivity.java**\r\n\r\n        MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\r\n        toggleButton.addOnButtonCheckedListener(); \r\n        // I CAN&#39;T FIND ANY PROPER SOLUTION\r\n","title":"Android Material Button Toggle Group","body":"<p>I'm creating a form in android which asks for gender. To get this input I use Material Button Toggle Group which contains two buttons. I don't know how to know which button is clicked in my activity.java. How to get to know about the selected button in my activity so that i can save the details in different database.</p>\n\n<p><strong>myxml.xml</strong></p>\n\n<pre><code>    &lt;com.google.android.material.button.MaterialButtonToggleGroup\n                android:id=\"@+id/toggleButton\"\n                android:layout_width=\"wrap_content\"\n                android:layout_height=\"wrap_content\"\n                app:singleSelection=\"true\"&gt;\n                &lt;Button\n                    android:id=\"@+id/button1\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Male\"\n                    android:layout_marginStart=\"5dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n                &lt;Button\n                    android:id=\"@+id/button2\"\n                    android:layout_width=\"wrap_content\"\n                    android:layout_height=\"wrap_content\"\n                    android:text=\"Female\"\n                    android:layout_marginStart=\"10dp\"\n                    style=\"?attr/materialButtonOutlinedStyle\"/&gt;\n\n            &lt;/com.google.android.material.button.MaterialButtonToggleGroup&gt;\n</code></pre>\n\n<p><strong>Myactivity.java</strong></p>\n\n<pre><code>    MaterialButtonToggleGroup toggleButton = findViewById(R.id.toggleButton);\n    toggleButton.addOnButtonCheckedListener(); \n    // I CAN'T FIND ANY PROPER SOLUTION\n</code></pre>\n"},{"tags":["java","android","pdf","pdfrenderer"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1435918903,"post_id":31202995,"comment_id":50411031,"body_markdown":"***without** using any 3rd party libs* means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial.","body":"<b><i>without</b> using any 3rd party libs</i> means that you will have to re-invent parts of them. If your input documents are arbItrary, that is not trivial."},{"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"score":0,"creation_date":1435923070,"post_id":31202995,"comment_id":50413459,"body_markdown":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs.","body":"Where or how should i start ? If it asks for a lot i will reconsider using 3rd party libs."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1435923837,"post_id":31202995,"comment_id":50413916,"body_markdown":"*Where or how should i start* - read the [PDF specification](http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf), especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which *may* be absorbed by a cross reference stream dictionary) and inspect its **Encrypt** entry.","body":"<i>Where or how should i start</i> - read the <a href=\"http://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf\" rel=\"nofollow noreferrer\">PDF specification</a>, especially the sections 7.5 &quot;File Structure&quot; and 7.6 &quot;Encryption&quot;. Then write code to read the file trailer dictionary (which <i>may</i> be absorbed by a cross reference stream dictionary) and inspect its <b>Encrypt</b> entry."}],"answers":[{"tags":[],"owner":{"account_id":9806019,"reputation":85,"user_id":7265720,"display_name":"Dishant Patel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677644654,"creation_date":1677644257,"answer_id":75599524,"question_id":31202995,"body_markdown":"In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.\r\n\r\nSo I am recommend to use [PdfBox-Android][1] library to check pdf password is vaild or not without opening pdf document.\r\n\r\nHere is the example code for that.\r\n\r\n    public boolean isPdfPasswordValid(String filePath, String password) {\r\n        try {\r\n            File file = new File(filePath);\r\n            PDDocument document = PDDocument.load(file,password);\r\n             if (document.isEncrypted()) {\r\n                 document.setAllSecurityToBeRemoved(true);\r\n                 document.getPage(0);\r\n                 document.close();\r\n                 return true;\r\n             } else {\r\n                 document.close();\r\n                 return false;\r\n             }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return false;\r\n        }\r\n    }\r\n\r\n&gt; Add this gradle dependancy in module level build.gradle file in android project\r\n\r\n    implementation &#39;com.tom-roush:pdfbox-android:2.0.27.0&#39;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/TomRoush/PdfBox-Android","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>In Android SDK there is android.graphics.pdf package to work with pdf document but there is no suitable method to check pdf password is vaild or not.</p>\n<p>So I am recommend to use <a href=\"https://github.com/TomRoush/PdfBox-Android\" rel=\"nofollow noreferrer\">PdfBox-Android</a> library to check pdf password is vaild or not without opening pdf document.</p>\n<p>Here is the example code for that.</p>\n<pre><code>public boolean isPdfPasswordValid(String filePath, String password) {\n    try {\n        File file = new File(filePath);\n        PDDocument document = PDDocument.load(file,password);\n         if (document.isEncrypted()) {\n             document.setAllSecurityToBeRemoved(true);\n             document.getPage(0);\n             document.close();\n             return true;\n         } else {\n             document.close();\n             return false;\n         }\n    } catch (Exception e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<blockquote>\n<p>Add this gradle dependancy in module level build.gradle file in android project</p>\n</blockquote>\n<pre><code>implementation 'com.tom-roush:pdfbox-android:2.0.27.0'\n</code></pre>\n"}],"owner":{"account_id":114786,"reputation":2547,"user_id":301708,"accept_rate":71,"display_name":"userv"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1362,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677644654,"creation_date":1435914889,"question_id":31202995,"body_markdown":"I am trying to import a pdf in my application using PdfRenderer - Android&#39;s in-built solution.\r\n\r\nWith this i am facing problem mentioned on this link.\r\n\r\n[google issue][1]\r\n\r\n\r\n  [1]: https://code.google.com/p/android/issues/detail?id=178566\r\n\r\nMy requirement is to check if any password is password protected or not **without** using any 3rd party libs or jar.\r\n\r\nHow can this be done ?\r\n\r\nNote : Similar reported issues discuss solution using 3rd party libs only but this is not i want.\r\n\r\nI am already able to accomplish most of my job using PdfRenderer class.\r\nAnd just to check if any pdf is password protected, i do not want to use any library.\r\n\r\n","title":"How to check if any PDF is password protected in Android without using 3rd party solutions","body":"<p>I am trying to import a pdf in my application using PdfRenderer - Android's in-built solution.</p>\n\n<p>With this i am facing problem mentioned on this link.</p>\n\n<p><a href=\"https://code.google.com/p/android/issues/detail?id=178566\" rel=\"nofollow\">google issue</a></p>\n\n<p>My requirement is to check if any password is password protected or not <strong>without</strong> using any 3rd party libs or jar.</p>\n\n<p>How can this be done ?</p>\n\n<p>Note : Similar reported issues discuss solution using 3rd party libs only but this is not i want.</p>\n\n<p>I am already able to accomplish most of my job using PdfRenderer class.\nAnd just to check if any pdf is password protected, i do not want to use any library.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677642369,"post_id":75599372,"comment_id":133376816,"body_markdown":"Show the part of your code that you expect to have a `WorkClass` instance injected.","body":"Show the part of your code that you expect to have a <code>WorkClass</code> instance injected."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643466,"post_id":75599372,"comment_id":133376946,"body_markdown":"@tgdavies WorkClass is empty","body":"@tgdavies WorkClass is empty"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643906,"post_id":75599372,"comment_id":133376986,"body_markdown":"I updated the problem description, please check it out.","body":"I updated the problem description, please check it out."},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677643984,"post_id":75599372,"comment_id":133376998,"body_markdown":"@Bean function cannot be intercepted in DEBUG mode","body":"@Bean function cannot be intercepted in DEBUG mode"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677646311,"post_id":75599372,"comment_id":133377269,"body_markdown":"Spring should definitely create WorkClass eagerly. Is Example created?","body":"Spring should definitely create WorkClass eagerly. Is Example created?"},{"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"score":0,"creation_date":1677651254,"post_id":75599372,"comment_id":133377879,"body_markdown":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid","body":"Thanks for the reply, my problem is because the same type of Bean is defined elsewhere, and the name is also called &quot;workClass&quot;, which leads to overwriting. i&#39;m so stupid"}],"answers":[{"tags":[],"owner":{"account_id":9734936,"reputation":296,"user_id":7218496,"accept_rate":40,"display_name":"Bibek Khadka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677644265,"creation_date":1677644265,"answer_id":75599525,"question_id":75599372,"body_markdown":"        @Configuration\r\n        @Component(&quot;example&quot;)\r\n        public class Example {\r\n        \r\n            private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n                @Override\r\n                public void accept(String s) {\r\n                    System.out.println(s);\r\n                }\r\n            };\r\n        \r\n            @Bean\r\n            public WorkClass workClass(Example example){\r\n                // The code inside this is not executed\r\n                example.exampleHandler.accept(&quot;Hello&quot;);\r\n                return new WorkClass();\r\n            }\r\n        }\r\nadding the **@Configuration** should do the trick if your project is setup properly.","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>    @Configuration\n    @Component(&quot;example&quot;)\n    public class Example {\n    \n        private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n            @Override\n            public void accept(String s) {\n                System.out.println(s);\n            }\n        };\n    \n        @Bean\n        public WorkClass workClass(Example example){\n            // The code inside this is not executed\n            example.exampleHandler.accept(&quot;Hello&quot;);\n            return new WorkClass();\n        }\n    }\n</code></pre>\n<p>adding the <strong>@Configuration</strong> should do the trick if your project is setup properly.</p>\n"}],"owner":{"account_id":22107330,"reputation":1,"user_id":16362715,"display_name":"cuckoocity"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677644265,"creation_date":1677642044,"question_id":75599372,"body_markdown":"```\r\n@Component(&quot;example&quot;)\r\npublic class Example {\r\n\r\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\r\n        @Override\r\n        public void accept(String s) {\r\n            System.out.println(s);\r\n        }\r\n    };\r\n\r\n    @Bean\r\n    public WorkClass workClass(Example example){\r\n        // The code inside this is not executed\r\n        example.exampleHandler.accept(&quot;Hello&quot;);\r\n        return new WorkClass();\r\n    }\r\n}\r\n```\r\n\r\n\r\nI don&#39;t have any ideas to solve this problem.\r\n\r\nAs expected, an instance of Example should be created first, and then the workClass function should be executed\r\n\r\n----------------update---------------------------------\r\n\r\n\r\nThe specific code in the workClass function is as follows, which is the code in my real project.\r\n\r\n```\r\n   @Bean\r\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\r\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\r\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\r\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\r\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\r\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\r\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\r\n        consumer.start();\r\n        return consumer;\r\n    }\r\n```","title":"The code in the @Bean marked function in Spring Boot is not executed","body":"<pre><code>@Component(&quot;example&quot;)\npublic class Example {\n\n    private Consumer&lt;String&gt; exampleHandler = new Consumer&lt;String&gt;() {\n        @Override\n        public void accept(String s) {\n            System.out.println(s);\n        }\n    };\n\n    @Bean\n    public WorkClass workClass(Example example){\n        // The code inside this is not executed\n        example.exampleHandler.accept(&quot;Hello&quot;);\n        return new WorkClass();\n    }\n}\n</code></pre>\n<p>I don't have any ideas to solve this problem.</p>\n<p>As expected, an instance of Example should be created first, and then the workClass function should be executed</p>\n<p>----------------update---------------------------------</p>\n<p>The specific code in the workClass function is as follows, which is the code in my real project.</p>\n<pre><code>   @Bean\n    public DefaultMQPushConsumer canalSyncConsumer(CanalSyncConsumerConfig canalSyncConsumerConfig) throws MQClientException {\n        RPCHook rpcHook = new AclClientRPCHook(new SessionCredentials(mqProperties.getAccessKey(), mqProperties.getSecretKey()));\n        DefaultMQPushConsumer consumer = new DefaultMQPushConsumer(null, &quot;GID_MEMBER_CENTER_CANAL_SYNC_GROUP&quot;, rpcHook);\n        consumer.setNamesrvAddr(mqProperties.getNamesAddr());\n        final String subE = StringUtils.join(MONITOR_TABLE_NAMES, &quot;||&quot;);\n        consumer.subscribe(&quot;mq_data_mid_platform_sync&quot;, subE);\n        consumer.registerMessageListener(canalSyncConsumerConfig.consumerHandler);\n        consumer.start();\n        return consumer;\n    }\n</code></pre>\n"},{"tags":["java","spring","jwt"],"owner":{"account_id":26366719,"reputation":37,"user_id":20022057,"display_name":"Pablo Costa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677643757,"creation_date":1677642582,"question_id":75599417,"body_markdown":"I&#39;ve read a few posts but i still can&#39;t understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.\r\n\r\nI&#39;m building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven&#39;t explicitly allowed.\r\n\r\nHowever, after finishing implementing JWT now i&#39;m trying to login, and i&#39;m always receiving a Bad Credentials error.\r\n\r\nAfter digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\r\nAu\r\n\r\nAm i in the right path to understand why the logging isn&#39;t working? I feel like its something simple, but i can&#39;t figure out what is going on.\r\n\r\n \r\n\r\n    Authentication auth = authenticationManager.authenticate(\r\n                        new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\r\n                );\r\n\r\nNothing happens. Based on what i&#39;ve analyzed from debugging, it instantiates the object but doesn&#39;t authenticate.\r\n\r\nAny input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.\r\n\r\nThanks!\r\n\r\n\r\nJwtFilter.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import jakarta.servlet.FilterChain;\r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.filter.OncePerRequestFilter;\r\n    \r\n    import java.io.IOException;\r\n    \r\n    @Component\r\n    public class JwtFilter extends OncePerRequestFilter {\r\n        @Autowired\r\n        private JwtUtil jwtUtil;\r\n        @Autowired\r\n        private CustomerUserDetailsService service;\r\n        Claims claims = null;\r\n    \r\n        private String userName = null;\r\n        @Override\r\n        protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\r\n                                        FilterChain filterChain) throws ServletException, IOException {\r\n    \r\n            if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n            else\r\n            {\r\n                String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\r\n                String token = null;\r\n    \r\n                if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\r\n                    token = authorizationHeader.substring(7);\r\n                    userName = jwtUtil.extractUserName(token);\r\n                    claims = jwtUtil.extractAllClaims(token);\r\n                }\r\n                if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\r\n                    UserDetails userDetails = service.loadUserByUsername(userName);\r\n                    if(jwtUtil.validateToken(token, userDetails)){\r\n                        UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\r\n                                new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\r\n                        usernamePasswordAuthenticationToken.setDetails(\r\n                                new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\r\n                        );\r\n                        SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\r\n                    }\r\n                }\r\n                filterChain.doFilter(httpServletRequest, httpServletResponse);\r\n            }\r\n    \r\n        }\r\n        public boolean isAdmin(){\r\n            return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public boolean isUser(){\r\n            return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\r\n        }\r\n        public String getCurrentUser(){\r\n            return userName;\r\n        }\r\n    }\r\n\r\nJwtUtil.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import io.jsonwebtoken.Claims;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.Date;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    \r\n    @Service\r\n    public class JwtUtil {\r\n        private String secret = &quot;!@FirstSecretKey!@&quot;;\r\n    \r\n        public String extractUserName(String token){\r\n            return extractClaims(token, Claims::getSubject);\r\n        }\r\n        public Date extractExpiration(String token){\r\n            return extractClaims(token, Claims::getExpiration);\r\n        }\r\n        public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\r\n            final Claims claims = extractAllClaims(token);\r\n            return claimsResolver.apply(claims);\r\n        }\r\n    \r\n        public Claims extractAllClaims(String token){\r\n            return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\r\n        }\r\n    \r\n        private Boolean isTokenExpired(String token){\r\n            return extractExpiration(token).before(new Date());\r\n        }\r\n        public Boolean validateToken(String token, UserDetails userDetails){\r\n            final String username = extractUserName(token);\r\n            return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\r\n        }\r\n    \r\n        private String createToken(Map&lt;String, Object&gt; claims, String subject){\r\n            return Jwts.builder()\r\n                    .setClaims(claims)\r\n                    .setSubject(subject)\r\n                    .setIssuedAt(new Date(System.currentTimeMillis()))\r\n                    .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\r\n                    .signWith(SignatureAlgorithm.HS256,secret).compact();\r\n        }\r\n        public String generateToken(String username, String role){\r\n            Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\n            claims.put(&quot;role&quot;, role);\r\n            return createToken(claims,username);\r\n        }\r\n    }\r\n\r\nSecurityConfig.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    \r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.security.authentication.AuthenticationManager;\r\n    import org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\n    \r\n    import org.springframework.security.config.BeanIds;\r\n    import org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\n    import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\r\n    import org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\n    import org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\r\n    import org.springframework.security.config.http.SessionCreationPolicy;\r\n    import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\n    import org.springframework.security.crypto.password.PasswordEncoder;\r\n    import org.springframework.security.web.SecurityFilterChain;\r\n    import org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\r\n    \r\n    \r\n    \r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(\r\n            // securedEnabled = true,\r\n            // jsr250Enabled = true,\r\n            prePostEnabled = true)\r\n    public class SecurityConfig    {\r\n        @Autowired\r\n        CustomerUserDetailsService customerUserDetailsService;\r\n        @Autowired\r\n        JwtFilter jwtFilter;\r\n        @Autowired\r\n        private AuthEntryPointJwt unauthorizedHandler;\r\n        @Bean\r\n        public WebSecurityCustomizer webSecurityCustomizer(){\r\n            return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\r\n        }\r\n    \r\n        @Bean\r\n        public PasswordEncoder passwordEncoder(){\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n        @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\r\n        public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\r\n            return authConfig.getAuthenticationManager();\r\n        }\r\n        @Bean\r\n        public DaoAuthenticationProvider authenticationProvider(){\r\n            DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n            authProvider.setUserDetailsService(customerUserDetailsService);\r\n            authProvider.setPasswordEncoder(passwordEncoder());\r\n            return authProvider;\r\n        }\r\n        @Bean\r\n        public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .cors()\r\n                    .and()\r\n                    .csrf()\r\n                    .disable()\r\n                    .exceptionHandling()\r\n                    .authenticationEntryPoint(unauthorizedHandler)\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\r\n                    .authorizeRequests()\r\n                    .requestMatchers(&quot;/user/login&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/signup&quot;)\r\n                    .permitAll()\r\n                    .requestMatchers(&quot;/user/forgotPassword&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated();\r\n    \r\n    \r\n    \r\n          http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n    \r\n          http.authenticationProvider(authenticationProvider());\r\n    \r\n    \r\n            return http.build();\r\n        }\r\n    \r\n    \r\n    \r\n    }\r\n\r\nCustomerUserDetailsService.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import com.inn.cafe.dao.UserDao;\r\n    import com.inn.cafe.model.User;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    import org.springframework.security.core.userdetails.UserDetailsService;\r\n    import org.springframework.security.core.userdetails.UsernameNotFoundException;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.Objects;\r\n    @Service\r\n    @Slf4j\r\n    \r\n    public class CustomerUserDetailsService implements UserDetailsService {\r\n    \r\n        @Autowired\r\n        UserDao userDao;\r\n    \r\n        private User userDetail; //com.inn.cafe.model.User\r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            log.info(&quot;Inside loadUserByUserName {}&quot;, username);\r\n            userDetail = userDao.findByEmailId(username);\r\n            if(!Objects.isNull(userDetail)){\r\n                return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\r\n                        userDetail.getPassword(), new ArrayList&lt;&gt;());\r\n            }\r\n            else\r\n                throw new UsernameNotFoundException(&quot;User not found&quot;);\r\n        }\r\n    \r\n        public User getUserDetail() {\r\n            return userDetail;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\nAuthEntryPointJwt.java\r\n\r\n    package com.inn.cafe.JWT;\r\n    \r\n    import jakarta.servlet.ServletException;\r\n    import jakarta.servlet.http.HttpServletRequest;\r\n    import jakarta.servlet.http.HttpServletResponse;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import java.io.IOException;\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    \r\n    \r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.security.core.AuthenticationException;\r\n    import org.springframework.security.web.AuthenticationEntryPoint;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    \r\n    @Component\r\n    public class AuthEntryPointJwt implements AuthenticationEntryPoint {\r\n        private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\r\n    \r\n        @Override\r\n        public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\r\n                throws IOException, ServletException {\r\n            logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\r\n    \r\n            response.setContentType(MediaType.APPLICATION_JSON_VALUE);\r\n            response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\r\n    \r\n            final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\r\n            body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\r\n            body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\r\n            body.put(&quot;message&quot;, authException.getMessage());\r\n            body.put(&quot;path&quot;, request.getServletPath());\r\n    \r\n            final ObjectMapper mapper = new ObjectMapper();\r\n            mapper.writeValue(response.getOutputStream(), body);\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Bad Credentials using Spring + JWT","body":"<p>I've read a few posts but i still can't understand what is going on here. Since this is my first Spring + JWT, i believe its a normal thing to happen.</p>\n<p>I'm building a Cafe Management System using Spring Boot + Angular + MySql DB. So far so good, it was all working. Managed to implement JWT Security and get unauthorized access to pages i haven't explicitly allowed.</p>\n<p>However, after finishing implementing JWT now i'm trying to login, and i'm always receiving a Bad Credentials error.</p>\n<p>After digging a little bit and debugging, it looks like the error is in UserServiceImpl.Java ; whenever i reach this line:\nAu</p>\n<p>Am i in the right path to understand why the logging isn't working? I feel like its something simple, but i can't figure out what is going on.</p>\n<pre><code>Authentication auth = authenticationManager.authenticate(\n                    new UsernamePasswordAuthenticationToken(requestMap.get(&quot;email&quot;),requestMap.get(&quot;password&quot;))\n            );\n</code></pre>\n<p>Nothing happens. Based on what i've analyzed from debugging, it instantiates the object but doesn't authenticate.</p>\n<p>Any input or comment is appreciated. I had some difficulties when building the JWT Authentication because WebSecurityConfigureAdapter is deprecated, and the tutorial was using it. But after reading a few sites i managed to sucessfully implement it using SecurityFilterChain.</p>\n<p>Thanks!</p>\n<p>JwtFilter.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport jakarta.servlet.FilterChain;\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.core.context.SecurityContextHolder;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.web.authentication.WebAuthenticationDetailsSource;\nimport org.springframework.stereotype.Component;\nimport org.springframework.web.filter.OncePerRequestFilter;\n\nimport java.io.IOException;\n\n@Component\npublic class JwtFilter extends OncePerRequestFilter {\n    @Autowired\n    private JwtUtil jwtUtil;\n    @Autowired\n    private CustomerUserDetailsService service;\n    Claims claims = null;\n\n    private String userName = null;\n    @Override\n    protected void doFilterInternal(HttpServletRequest httpServletRequest, HttpServletResponse httpServletResponse,\n                                    FilterChain filterChain) throws ServletException, IOException {\n\n        if(httpServletRequest.getServletPath().matches(&quot;/user/login|/user/forgotPassword|/user/signup&quot;)){\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n        else\n        {\n            String authorizationHeader = httpServletRequest.getHeader(&quot;Authorization&quot;);\n            String token = null;\n\n            if(authorizationHeader != null &amp;&amp; authorizationHeader.startsWith(&quot;Bearer &quot;)){\n                token = authorizationHeader.substring(7);\n                userName = jwtUtil.extractUserName(token);\n                claims = jwtUtil.extractAllClaims(token);\n            }\n            if(userName != null &amp;&amp; SecurityContextHolder.getContext().getAuthentication() == null){\n                UserDetails userDetails = service.loadUserByUsername(userName);\n                if(jwtUtil.validateToken(token, userDetails)){\n                    UsernamePasswordAuthenticationToken usernamePasswordAuthenticationToken =\n                            new UsernamePasswordAuthenticationToken(userDetails,null,userDetails.getAuthorities());\n                    usernamePasswordAuthenticationToken.setDetails(\n                            new WebAuthenticationDetailsSource().buildDetails(httpServletRequest)\n                    );\n                    SecurityContextHolder.getContext().setAuthentication(usernamePasswordAuthenticationToken);\n                }\n            }\n            filterChain.doFilter(httpServletRequest, httpServletResponse);\n        }\n\n    }\n    public boolean isAdmin(){\n        return &quot;admin&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public boolean isUser(){\n        return &quot;user&quot;.equalsIgnoreCase((String) claims.get(&quot;role&quot;));\n    }\n    public String getCurrentUser(){\n        return userName;\n    }\n}\n</code></pre>\n<p>JwtUtil.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport io.jsonwebtoken.Claims;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.stereotype.Service;\n\nimport java.util.Date;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.Function;\n\n@Service\npublic class JwtUtil {\n    private String secret = &quot;!@FirstSecretKey!@&quot;;\n\n    public String extractUserName(String token){\n        return extractClaims(token, Claims::getSubject);\n    }\n    public Date extractExpiration(String token){\n        return extractClaims(token, Claims::getExpiration);\n    }\n    public &lt;T&gt; T extractClaims(String token, Function&lt;Claims, T&gt; claimsResolver){\n        final Claims claims = extractAllClaims(token);\n        return claimsResolver.apply(claims);\n    }\n\n    public Claims extractAllClaims(String token){\n        return Jwts.parser().setSigningKey(secret).parseClaimsJws(token).getBody();\n    }\n\n    private Boolean isTokenExpired(String token){\n        return extractExpiration(token).before(new Date());\n    }\n    public Boolean validateToken(String token, UserDetails userDetails){\n        final String username = extractUserName(token);\n        return (username.equals(userDetails.getUsername()) &amp;&amp; !isTokenExpired(token));\n    }\n\n    private String createToken(Map&lt;String, Object&gt; claims, String subject){\n        return Jwts.builder()\n                .setClaims(claims)\n                .setSubject(subject)\n                .setIssuedAt(new Date(System.currentTimeMillis()))\n                .setExpiration(new Date(System.currentTimeMillis() + 1000 * 60 * 60 * 10))\n                .signWith(SignatureAlgorithm.HS256,secret).compact();\n    }\n    public String generateToken(String username, String role){\n        Map&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\n        claims.put(&quot;role&quot;, role);\n        return createToken(claims,username);\n    }\n}\n</code></pre>\n<p>SecurityConfig.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\n\nimport org.springframework.security.config.BeanIds;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.WebSecurityCustomizer;\nimport org.springframework.security.config.http.SessionCreationPolicy;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.web.SecurityFilterChain;\nimport org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter;\n\n\n\n@Configuration\n@EnableGlobalMethodSecurity(\n        // securedEnabled = true,\n        // jsr250Enabled = true,\n        prePostEnabled = true)\npublic class SecurityConfig    {\n    @Autowired\n    CustomerUserDetailsService customerUserDetailsService;\n    @Autowired\n    JwtFilter jwtFilter;\n    @Autowired\n    private AuthEntryPointJwt unauthorizedHandler;\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer(){\n        return (web) -&gt; web.ignoring().requestMatchers(&quot;/users/login&quot;, &quot;/users/signup&quot;,&quot;/users/forgotPassword&quot;);\n    }\n\n    @Bean\n    public PasswordEncoder passwordEncoder(){\n        return new BCryptPasswordEncoder();\n    }\n    @Bean(name = BeanIds.AUTHENTICATION_MANAGER)\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration authConfig) throws Exception {\n        return authConfig.getAuthenticationManager();\n    }\n    @Bean\n    public DaoAuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(customerUserDetailsService);\n        authProvider.setPasswordEncoder(passwordEncoder());\n        return authProvider;\n    }\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http\n                .cors()\n                .and()\n                .csrf()\n                .disable()\n                .exceptionHandling()\n                .authenticationEntryPoint(unauthorizedHandler)\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS).and()\n                .authorizeRequests()\n                .requestMatchers(&quot;/user/login&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/signup&quot;)\n                .permitAll()\n                .requestMatchers(&quot;/user/forgotPassword&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated();\n\n\n\n      http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n\n      http.authenticationProvider(authenticationProvider());\n\n\n        return http.build();\n    }\n\n\n\n}\n</code></pre>\n<p>CustomerUserDetailsService.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport com.inn.cafe.dao.UserDao;\nimport com.inn.cafe.model.User;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.stereotype.Service;\n\nimport java.util.ArrayList;\nimport java.util.Objects;\n@Service\n@Slf4j\n\npublic class CustomerUserDetailsService implements UserDetailsService {\n\n    @Autowired\n    UserDao userDao;\n\n    private User userDetail; //com.inn.cafe.model.User\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        log.info(&quot;Inside loadUserByUserName {}&quot;, username);\n        userDetail = userDao.findByEmailId(username);\n        if(!Objects.isNull(userDetail)){\n            return new org.springframework.security.core.userdetails.User(userDetail.getEmail(),\n                    userDetail.getPassword(), new ArrayList&lt;&gt;());\n        }\n        else\n            throw new UsernameNotFoundException(&quot;User not found&quot;);\n    }\n\n    public User getUserDetail() {\n        return userDetail;\n    }\n\n\n}\n</code></pre>\n<p>AuthEntryPointJwt.java</p>\n<pre><code>package com.inn.cafe.JWT;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport java.io.IOException;\nimport java.util.HashMap;\nimport java.util.Map;\n\n\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.http.MediaType;\nimport org.springframework.security.core.AuthenticationException;\nimport org.springframework.security.web.AuthenticationEntryPoint;\nimport org.springframework.stereotype.Component;\n\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\n@Component\npublic class AuthEntryPointJwt implements AuthenticationEntryPoint {\n    private static final Logger logger = LoggerFactory.getLogger(AuthEntryPointJwt.class);\n\n    @Override\n    public void commence(HttpServletRequest request, HttpServletResponse response, AuthenticationException authException)\n            throws IOException, ServletException {\n        logger.error(&quot;Unauthorized error: {}&quot;, authException.getMessage());\n\n        response.setContentType(MediaType.APPLICATION_JSON_VALUE);\n        response.setStatus(HttpServletResponse.SC_UNAUTHORIZED);\n\n        final Map&lt;String, Object&gt; body = new HashMap&lt;&gt;();\n        body.put(&quot;status&quot;, HttpServletResponse.SC_UNAUTHORIZED);\n        body.put(&quot;error&quot;, &quot;Unauthorized&quot;);\n        body.put(&quot;message&quot;, authException.getMessage());\n        body.put(&quot;path&quot;, request.getServletPath());\n\n        final ObjectMapper mapper = new ObjectMapper();\n        mapper.writeValue(response.getOutputStream(), body);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","postman","spring-restcontroller","white-labelling"],"comments":[{"owner":{"account_id":12363423,"reputation":688,"user_id":14808001,"display_name":"Mario Mateaș"},"score":0,"creation_date":1677558065,"post_id":75587704,"comment_id":133357153,"body_markdown":"Why do you have two `ccc.java` files in two different packages? Also, try posting your code directly in the question, not in separate pictures.","body":"Why do you have two <code>ccc.java</code> files in two different packages? Also, try posting your code directly in the question, not in separate pictures."},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1677558914,"post_id":75587704,"comment_id":133357251,"body_markdown":"[Please do not upload images of code/data/errors when asking a question.](//meta.stackoverflow.com/q/285551)","body":"<a href=\"//meta.stackoverflow.com/q/285551\">Please do not upload images of code/data/errors when asking a question.</a>"},{"owner":{"account_id":18307997,"reputation":111,"user_id":13331457,"display_name":"DALJIT SINGH"},"score":0,"creation_date":1677565277,"post_id":75587704,"comment_id":133357975,"body_markdown":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured.","body":"Can you go to the folder directly inside the file explorer and check if the structure of the project is correct. i.e. The main class is at the root and all other sub packages are correctly under the root folder. Sometime while creating package folder are create with the package name itself and are not proper structured."},{"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"score":0,"creation_date":1677570385,"post_id":75587704,"comment_id":133358982,"body_markdown":"yes it is structured right infact if i send the project to someone and if they import it it will run fine.","body":"yes it is structured right infact if i send the project to someone and if they import it it will run fine."}],"answers":[{"tags":[],"owner":{"account_id":7998068,"reputation":165,"user_id":6033749,"display_name":"Sahan Jayasuriya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677558306,"creation_date":1677558306,"answer_id":75587861,"question_id":75587704,"body_markdown":"Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n        // ...\r\n    }\r\n","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>Make sure that your Spring Boot application is scanning the correct packages for your controllers. You can specify the base package for component scanning by adding the @ComponentScan annotation to your main class.</p>\n<pre><code>@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n    // ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8829280,"reputation":16,"user_id":6596363,"display_name":"Soumen Mittra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677642578,"creation_date":1677642578,"answer_id":75599416,"question_id":75587704,"body_markdown":"I&#39;m also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>I'm also facing the same issue as mentioned above. I tried using Spring Boot version 2.7.9 instead of 3.0.3. It worked fine, although not sure what changed in the new version.</p>\n"}],"owner":{"account_id":27896275,"reputation":13,"user_id":21301500,"display_name":"gowtham-s001"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75599416,"answer_count":2,"score":1,"last_activity_date":1677642578,"creation_date":1677556180,"question_id":75587704,"body_markdown":"After i write a simple route using rest controller and spring boot the routes always return 404 whether \r\nIf the route is mention in a separate package or in same package.\r\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\r\npackage com.gowtham;\r\n\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(basePackages = &quot;com.gowtham&quot;)\r\n    public class DemoApplication {\r\n    \r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    \t@RestController\r\n    \tpublic class controller {\r\n    \t\t@GetMapping(&quot;/greet&quot;)\r\n    \t\tpublic String hello() {\r\n    \t\t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\n\r\nThe /greet route works\r\n\r\n    import org.springframework.stereotype.Component;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class ccc {\r\n    \t\r\n    \t@GetMapping(&quot;/gg&quot;)\r\n    \tpublic String hello() {\r\n    \t\treturn &quot;HELLO&quot;;\r\n    \t\t}\r\n    \t}\r\nBut this route /gg which is inside .controller package which is under the main package doesn&#39;t work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use\r\n\r\nif i import the same program in other computers it is running fine\r\n\r\n**Package Structure**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/s0s44.png","title":"Spring boot not scanning any sub packages and also the class files under same package","body":"<p>After i write a simple route using rest controller and spring boot the routes always return 404 whether\nIf the route is mention in a separate package or in same package.\nThe route only works if the route is defined in the main function where @SpringBootApplication is mentioned please help me\npackage com.gowtham;</p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.gowtham&quot;)\npublic class DemoApplication {\n\n    \n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @RestController\n    public class controller {\n        @GetMapping(&quot;/greet&quot;)\n        public String hello() {\n            return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>The /greet route works</p>\n<pre><code>import org.springframework.stereotype.Component;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class ccc {\n    \n    @GetMapping(&quot;/gg&quot;)\n    public String hello() {\n        return &quot;HELLO&quot;;\n        }\n    }\n</code></pre>\n<p>But this route /gg which is inside .controller package which is under the main package doesn't work i tried moving the class &quot;ccc&quot; inside the main package and i also tried to scan base packages but no use</p>\n<p>if i import the same program in other computers it is running fine</p>\n<p><strong>Package Structure</strong></p>\n<p><a href=\"https://i.stack.imgur.com/s0s44.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/s0s44.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","spring-webflux","spring-cloud-gateway"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677265272,"post_id":75560200,"comment_id":133310360,"body_markdown":"Did you read the webflux documentation on webclient?","body":"Did you read the webflux documentation on webclient?"},{"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"score":0,"creation_date":1677266200,"post_id":75560200,"comment_id":133310554,"body_markdown":"yes I did not find what I was looking for but if you have a good link that would be great","body":"yes I did not find what I was looking for but if you have a good link that would be great"}],"answers":[{"tags":[],"owner":{"account_id":27097454,"reputation":797,"user_id":20644506,"display_name":"Peng"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677642170,"creation_date":1677642170,"answer_id":75599388,"question_id":75560200,"body_markdown":"it is better to have a deep read in offical documentation for slove confuse , they had many best practices .\r\n\r\nfor your question \r\n- How to use webclient do a request and return the result as complete for the exchange repsponse\r\nhere is  code snippet \r\n\r\n```\r\n@Component\r\npublic class MyWebClient {\r\n\r\n    private final WebClient webClient;\r\n\r\n    public MyWebClient(WebClient.Builder webClientBuilder) {\r\n        this.webClient = webClientBuilder.build();\r\n    }\r\n\r\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\r\n        return webClient.get()\r\n                .uri(&quot;https://example.com&quot;)\r\n                .exchangeToMono(response -&gt; {\r\n                    if (response.statusCode().is2xxSuccessful()) {\r\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\r\n                        HttpHeaders headers = new HttpHeaders();\r\n                        headers.addAll(response.headers().asHttpHeaders());\r\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\r\n                        serverHttpResponse.setStatusCode(response.statusCode());\r\n                        serverHttpResponse.getHeaders().addAll(headers);\r\n                        return Mono.just(serverHttpResponse);\r\n                    } else {\r\n                        return response.createException().flatMap(Mono::error);\r\n                    }\r\n                });\r\n    }\r\n}\r\n```\r\n\r\nin above example , The ```exchangeToMono() ``` method is used to convert the ```ClientResponse ``` returned by the WebClient to a Mono that emits a ```ServerHttpResponse```. Inside the lambda expression passed to ```exchangeToMono()```, the response object represents the ClientResponse returned by the WebClient.\r\nyou can use ```ServerWebExchange.getResponse()```  instead of ServerHttpResponse ,   both of theirs theory is same;","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>it is better to have a deep read in offical documentation for slove confuse , they had many best practices .</p>\n<p>for your question</p>\n<ul>\n<li>How to use webclient do a request and return the result as complete for the exchange repsponse\nhere is  code snippet</li>\n</ul>\n<pre><code>@Component\npublic class MyWebClient {\n\n    private final WebClient webClient;\n\n    public MyWebClient(WebClient.Builder webClientBuilder) {\n        this.webClient = webClientBuilder.build();\n    }\n\n    public Mono&lt;ServerHttpResponse&gt; getResponse() {\n        return webClient.get()\n                .uri(&quot;https://example.com&quot;)\n                .exchangeToMono(response -&gt; {\n                    if (response.statusCode().is2xxSuccessful()) {\n                        Flux&lt;DataBuffer&gt; responseBody = response.body(BodyExtractors.toDataBuffers());\n                        HttpHeaders headers = new HttpHeaders();\n                        headers.addAll(response.headers().asHttpHeaders());\n                        ServerHttpResponse serverHttpResponse = new ServerHttpResponseDecorator(new DefaultDataBufferFactory().wrap(responseBody));\n                        serverHttpResponse.setStatusCode(response.statusCode());\n                        serverHttpResponse.getHeaders().addAll(headers);\n                        return Mono.just(serverHttpResponse);\n                    } else {\n                        return response.createException().flatMap(Mono::error);\n                    }\n                });\n    }\n}\n</code></pre>\n<p>in above example , The <code>exchangeToMono() </code> method is used to convert the <code>ClientResponse </code> returned by the WebClient to a Mono that emits a <code>ServerHttpResponse</code>. Inside the lambda expression passed to <code>exchangeToMono()</code>, the response object represents the ClientResponse returned by the WebClient.\nyou can use <code>ServerWebExchange.getResponse()</code>  instead of ServerHttpResponse ,   both of theirs theory is same;</p>\n"}],"owner":{"account_id":16038445,"reputation":63,"user_id":11575493,"display_name":"LucyEly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677642170,"creation_date":1677263698,"question_id":75560200,"body_markdown":"in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?\r\n\r\nhere is an example of what we are trying to do\r\n\r\n    public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\r\n       if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\r\n          ServerHttpResponse response = exchange.getResponse();\r\n          String url = &quot;http://localhost:8080/test&quot;;\r\n          \r\n          Webclient.create(url).get() // I need to do something more so I can write to the response object\r\n          return response.setComplete();\r\n      }\r\n      return chain.filter(exchange);\r\n    }\r\n\r\n\r\nThanks for any help in advance.","title":"How Do You Convert a Flux Webclient Get Response to ServerHttpResonse?","body":"<p>in my Spring Cloud Gateway filter, if a certain actions happens in the request flow, we would like to make a HTTP request to another service and return the result as the response. How do I use a Flux Webclient to make a request to a URL and then update the exchange response so when returning it as complete the request result is returned as well?</p>\n<p>here is an example of what we are trying to do</p>\n<pre><code>public Mono&lt;Void&gt; filter(final ServerWebExchange exchange, final GatewayFilterChain chain) {\n   if (exchange.getHeaders().containsKey(&quot;Test&quot;)) {\n      ServerHttpResponse response = exchange.getResponse();\n      String url = &quot;http://localhost:8080/test&quot;;\n      \n      Webclient.create(url).get() // I need to do something more so I can write to the response object\n      return response.setComplete();\n  }\n  return chain.filter(exchange);\n}\n</code></pre>\n<p>Thanks for any help in advance.</p>\n"},{"tags":["java","maven","module"],"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677593833,"post_id":75592144,"comment_id":133365863,"body_markdown":"How would you use `ServiceA` and `ServiceB` conditionally in code?","body":"How would you use <code>ServiceA</code> and <code>ServiceB</code> conditionally in code?"},{"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"score":0,"creation_date":1677633500,"post_id":75592144,"comment_id":133375750,"body_markdown":"My idea is that both provide a bean that implements a certain interface. This bean will be used in `HttpService`.","body":"My idea is that both provide a bean that implements a certain interface. This bean will be used in <code>HttpService</code>."}],"answers":[{"tags":[],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677594661,"creation_date":1677594661,"answer_id":75593417,"question_id":75592144,"body_markdown":"I guess your `pom.xml` of submodule `HttpService` now specifies dependencies of both `ServiceA` and `ServiceB`. Instead, you should also provide profiles settings here:\r\n\r\n```xml\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    ...\r\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\r\n                    ...\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```","title":"Multi-module Maven project that builds a subset of modules","body":"<p>I guess your <code>pom.xml</code> of submodule <code>HttpService</code> now specifies dependencies of both <code>ServiceA</code> and <code>ServiceB</code>. Instead, you should also provide profiles settings here:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;servicea&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    ...\n                    &lt;artifactId&gt;serviceb&lt;/artifactId&gt;\n                    ...\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n"}],"owner":{"account_id":3581132,"reputation":1802,"user_id":2989330,"accept_rate":69,"display_name":"Green绿色"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639860,"creation_date":1677587712,"question_id":75592144,"body_markdown":"Consider a Maven project with the following modules:\r\n\r\n- Common (defines common interfaces and utilities)\r\n- ServiceA (depends on Common)\r\n- ServiceB (depends on Common) \r\n- HttpService (depends on Common and either ServiceA or ServiceB)\r\n\r\nThe modules `ServiceA` and `ServiceB` are mutually exclusive. They both provide the same bean to `HttpService`, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of `ServiceA` or `ServiceB`, depending on an environment variable or build argument.\r\n\r\nIn my research, I found the `-pl` option of Maven and Maven profiles. `-pl` allows me to explicitly in-/exclude modules from the build. However, I&#39;d prefer something like profiles instead, where I define the options in the root `pom.xml` and only have to provide the corresponding profile name.\r\n\r\nWhen I include\r\n\r\n```\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n```\r\n\r\nand build with `-P a`, then `ServiceB` still gets built.\r\n\r\nHow should this architecture be defined, so I get only the required modules?\r\n\r\n**EDIT**: My root POM is the following:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.7&lt;/version&gt;\r\n        &lt;relativePath/&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;Common&lt;/module&gt;\r\n        &lt;module&gt;HttpService&lt;/module&gt;\r\n        &lt;module&gt;ServiceA&lt;/module&gt;\r\n        &lt;module&gt;ServiceB&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;a&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceA&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;b&lt;/id&gt;\r\n            &lt;modules&gt;\r\n                &lt;module&gt;Common&lt;/module&gt;\r\n                &lt;module&gt;ServiceB&lt;/module&gt;\r\n                &lt;module&gt;HttpService&lt;/module&gt;\r\n            &lt;/modules&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nWhen I run `mvn clean package -P a`, all modules still get built:\r\n\r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Reactor Build Order:\r\n[INFO] \r\n[INFO] untitled                                                           [pom]\r\n[INFO] Common                                                             [jar]\r\n[INFO] HttpService                                                        [jar]\r\n[INFO] ServiceA                                                           [jar]\r\n[INFO] ServiceB                                                           [jar]\r\n[INFO] \r\n```\r\n\r\nThere is no explicit dependency of `HttpService` to `ServiceA` or `ServiceB`, only to `Common` in its `pom.xml`.","title":"Multi-module Maven project that builds a subset of modules","body":"<p>Consider a Maven project with the following modules:</p>\n<ul>\n<li>Common (defines common interfaces and utilities)</li>\n<li>ServiceA (depends on Common)</li>\n<li>ServiceB (depends on Common)</li>\n<li>HttpService (depends on Common and either ServiceA or ServiceB)</li>\n</ul>\n<p>The modules <code>ServiceA</code> and <code>ServiceB</code> are mutually exclusive. They both provide the same bean to <code>HttpService</code>, but their internals are vastly different. When I build and deploy the application, I want  to only build either one of <code>ServiceA</code> or <code>ServiceB</code>, depending on an environment variable or build argument.</p>\n<p>In my research, I found the <code>-pl</code> option of Maven and Maven profiles. <code>-pl</code> allows me to explicitly in-/exclude modules from the build. However, I'd prefer something like profiles instead, where I define the options in the root <code>pom.xml</code> and only have to provide the corresponding profile name.</p>\n<p>When I include</p>\n<pre><code>    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n</code></pre>\n<p>and build with <code>-P a</code>, then <code>ServiceB</code> still gets built.</p>\n<p>How should this architecture be defined, so I get only the required modules?</p>\n<p><strong>EDIT</strong>: My root POM is the following:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.7&lt;/version&gt;\n        &lt;relativePath/&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;untitled&lt;/artifactId&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;modules&gt;\n        &lt;module&gt;Common&lt;/module&gt;\n        &lt;module&gt;HttpService&lt;/module&gt;\n        &lt;module&gt;ServiceA&lt;/module&gt;\n        &lt;module&gt;ServiceB&lt;/module&gt;\n    &lt;/modules&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;a&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceA&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;b&lt;/id&gt;\n            &lt;modules&gt;\n                &lt;module&gt;Common&lt;/module&gt;\n                &lt;module&gt;ServiceB&lt;/module&gt;\n                &lt;module&gt;HttpService&lt;/module&gt;\n            &lt;/modules&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>When I run <code>mvn clean package -P a</code>, all modules still get built:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Build Order:\n[INFO] \n[INFO] untitled                                                           [pom]\n[INFO] Common                                                             [jar]\n[INFO] HttpService                                                        [jar]\n[INFO] ServiceA                                                           [jar]\n[INFO] ServiceB                                                           [jar]\n[INFO] \n</code></pre>\n<p>There is no explicit dependency of <code>HttpService</code> to <code>ServiceA</code> or <code>ServiceB</code>, only to <code>Common</code> in its <code>pom.xml</code>.</p>\n"},{"tags":["java","mongodb","mongodb-query","aggregation-framework","mongoid"],"comments":[{"owner":{"account_id":16227638,"reputation":17300,"user_id":11717458,"display_name":"SuleymanSah"},"score":0,"creation_date":1571210964,"post_id":58407945,"comment_id":103159830,"body_markdown":"Can you add sample data for ticket and crmorder collections?","body":"Can you add sample data for ticket and crmorder collections?"}],"answers":[{"tags":[],"owner":{"account_id":10915437,"reputation":366,"user_id":8023376,"display_name":"kumaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571211265,"creation_date":1571211265,"answer_id":58408097,"question_id":58407945,"body_markdown":"you have one more table in name of crmorder\r\n\r\nIn ticket table must have - subOrderId field\r\n\r\nIn crmorder table must have - currentStatus field\r\n\r\nand also ticket table subOrderId field == crmorder table currentStatus field\r\n\r\nhere is the sample snippt:\r\n\r\n    db.orders.insert([\r\n       { &quot;_id&quot; : 1, &quot;item&quot; : &quot;almonds&quot;, &quot;price&quot; : 12, &quot;quantity&quot; : 2 },\r\n       { &quot;_id&quot; : 2, &quot;item&quot; : &quot;pecans&quot;, &quot;price&quot; : 20, &quot;quantity&quot; : 1 },\r\n       { &quot;_id&quot; : 3  }\r\n    ])\r\n    \r\n    db.inventory.insert([\r\n       { &quot;_id&quot; : 1, &quot;sku&quot; : &quot;almonds&quot;, description: &quot;product 1&quot;, &quot;instock&quot; : 120 },\r\n       { &quot;_id&quot; : 2, &quot;sku&quot; : &quot;bread&quot;, description: &quot;product 2&quot;, &quot;instock&quot; : 80 },\r\n       { &quot;_id&quot; : 3, &quot;sku&quot; : &quot;cashews&quot;, description: &quot;product 3&quot;, &quot;instock&quot; : 60 },\r\n       { &quot;_id&quot; : 4, &quot;sku&quot; : &quot;pecans&quot;, description: &quot;product 4&quot;, &quot;instock&quot; : 70 },\r\n       { &quot;_id&quot; : 5, &quot;sku&quot;: null, description: &quot;Incomplete&quot; },\r\n       { &quot;_id&quot; : 6 }\r\n    ])\r\n    \r\n    db.orders.aggregate([\r\n       {\r\n         $lookup:\r\n           {\r\n             from: &quot;inventory&quot;,\r\n             localField: &quot;item&quot;,\r\n             foreignField: &quot;sku&quot;,\r\n             as: &quot;inventory_docs&quot;\r\n           }\r\n      }\r\n    ])\r\n\r\n\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<p>you have one more table in name of crmorder</p>\n\n<p>In ticket table must have - subOrderId field</p>\n\n<p>In crmorder table must have - currentStatus field</p>\n\n<p>and also ticket table subOrderId field == crmorder table currentStatus field</p>\n\n<p>here is the sample snippt:</p>\n\n<pre><code>db.orders.insert([\n   { \"_id\" : 1, \"item\" : \"almonds\", \"price\" : 12, \"quantity\" : 2 },\n   { \"_id\" : 2, \"item\" : \"pecans\", \"price\" : 20, \"quantity\" : 1 },\n   { \"_id\" : 3  }\n])\n\ndb.inventory.insert([\n   { \"_id\" : 1, \"sku\" : \"almonds\", description: \"product 1\", \"instock\" : 120 },\n   { \"_id\" : 2, \"sku\" : \"bread\", description: \"product 2\", \"instock\" : 80 },\n   { \"_id\" : 3, \"sku\" : \"cashews\", description: \"product 3\", \"instock\" : 60 },\n   { \"_id\" : 4, \"sku\" : \"pecans\", description: \"product 4\", \"instock\" : 70 },\n   { \"_id\" : 5, \"sku\": null, description: \"Incomplete\" },\n   { \"_id\" : 6 }\n])\n\ndb.orders.aggregate([\n   {\n     $lookup:\n       {\n         from: \"inventory\",\n         localField: \"item\",\n         foreignField: \"sku\",\n         as: \"inventory_docs\"\n       }\n  }\n])\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27905090,"reputation":1,"user_id":21308485,"display_name":"Codentrepreneur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639632,"creation_date":1677639611,"answer_id":75599205,"question_id":58407945,"body_markdown":"    Try adding a pipeline under your $lookup\r\n    \r\n    sample:\r\n    \r\n    db.orders.aggregate([\r\n        {\r\n          $lookup: {\r\n              from: &quot;inventory&quot;,\r\n              localField: &quot;item&quot;,\r\n              foreignField: &quot;sku&quot;,\r\n              pipeline: [\r\n                {\r\n                  $project: {\r\n                    _id: 1,\r\n                    sku: 1,\r\n                    description: 1, \r\n                  },\r\n                },\r\n              ],\r\n              as: &quot;inventory_docs&quot;,\r\n          },\r\n        }\r\n      ])\r\n","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>Try adding a pipeline under your $lookup\n\nsample:\n\ndb.orders.aggregate([\n    {\n      $lookup: {\n          from: &quot;inventory&quot;,\n          localField: &quot;item&quot;,\n          foreignField: &quot;sku&quot;,\n          pipeline: [\n            {\n              $project: {\n                _id: 1,\n                sku: 1,\n                description: 1, \n              },\n            },\n          ],\n          as: &quot;inventory_docs&quot;,\n      },\n    }\n  ])\n</code></pre>\n"}],"owner":{"account_id":16904219,"reputation":29,"user_id":12224845,"display_name":"Parminder Singh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677639632,"creation_date":1571210788,"question_id":58407945,"body_markdown":"    db.ticket.aggregate([\r\n      {\r\n        $lookup: {\r\n          from: &quot;crmorder&quot;,\r\n          localField: &quot;subOrderId&quot;,\r\n          foreignField: &quot;currentStatus&quot;,\r\n          as: &quot;comments&quot;\r\n        }\r\n      }\r\n    ])\r\n\r\nin the result comments field is getting blank why?","title":"Mongo $lookup Query Getting as alias blank","body":"<pre><code>db.ticket.aggregate([\n  {\n    $lookup: {\n      from: \"crmorder\",\n      localField: \"subOrderId\",\n      foreignField: \"currentStatus\",\n      as: \"comments\"\n    }\n  }\n])\n</code></pre>\n\n<p>in the result comments field is getting blank why?</p>\n"},{"tags":["java","mongodb","transactions","quarkus","multi-document"],"comments":[{"owner":{"account_id":2242741,"reputation":6993,"user_id":1976843,"display_name":"JEY"},"score":0,"creation_date":1677141279,"post_id":75542150,"comment_id":133280099,"body_markdown":"Do you have another process that write in the collection ?","body":"Do you have another process that write in the collection ?"},{"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"score":0,"creation_date":1677142143,"post_id":75542150,"comment_id":133280312,"body_markdown":"No, I&#39;m only running this function","body":"No, I&#39;m only running this function"}],"answers":[{"tags":[],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677639389,"creation_date":1677639389,"answer_id":75599190,"question_id":75542150,"body_markdown":"Resolved by increasing the wiredTigerCacheSizeGB","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Resolved by increasing the wiredTigerCacheSizeGB</p>\n"}],"owner":{"account_id":21507570,"reputation":339,"user_id":15850744,"display_name":"Zhen Wei"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677639389,"creation_date":1677140188,"question_id":75542150,"body_markdown":"Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.\r\n\r\n\r\n        ClientSession clientSession = mongoClient.startSession();\r\n        clientSession.startTransaction();\r\n        int batchSize = 100000;\r\n\r\n        try {\r\n            for (int i = 1; i &lt;= 1000000; i++) {\r\n\r\n                ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\r\n                sampleDataList.add(new SampleData(i));\r\n                if (i % batchSize == 0 || i == sampleDataList.size()) {\r\n                    sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\r\n                    sampleDataList.clear();\r\n\r\n                }\r\n            }\r\n            clientSession.commitTransaction();\r\n        }\r\n\r\n        catch (Exception e){\r\n            clientSession.abortTransaction();\r\n            throw new Exception(e.getMessage());\r\n        }","title":"WriteConflict error in MongoDB when running batches of insertMany operation with transaction from Quarkus","body":"<p>Below is a snippet of my transaction implementation. Currently MongoDB will throw WriteConflict error every time when it is processing the records from 800k onwards.</p>\n<pre><code>    ClientSession clientSession = mongoClient.startSession();\n    clientSession.startTransaction();\n    int batchSize = 100000;\n\n    try {\n        for (int i = 1; i &lt;= 1000000; i++) {\n\n            ArrayList&lt;SampleData&gt; sampleDataList = new ArrayList();\n            sampleDataList.add(new SampleData(i));\n            if (i % batchSize == 0 || i == sampleDataList.size()) {\n                sampleDataRepo.mongoCollection().insertMany(clientSession, sampleDataList);\n                sampleDataList.clear();\n\n            }\n        }\n        clientSession.commitTransaction();\n    }\n\n    catch (Exception e){\n        clientSession.abortTransaction();\n        throw new Exception(e.getMessage());\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","annotations"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1677926630,"post_id":75599009,"comment_id":133436363,"body_markdown":"Where is your Spring Boot package class? Is it in the package `com.akuntansi`? Or is it in a sub package?","body":"Where is your Spring Boot package class? Is it in the package <code>com.akuntansi</code>? Or is it in a sub package?"},{"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"score":0,"creation_date":1678070074,"post_id":75599009,"comment_id":133456174,"body_markdown":"Yes it&#39;s in the `com.akuntansi` package","body":"Yes it&#39;s in the <code>com.akuntansi</code> package"}],"owner":{"account_id":20987194,"reputation":23,"user_id":15420727,"display_name":"Timothy Justin William"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":365,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677638904,"creation_date":1677637173,"question_id":75599009,"body_markdown":"I&#39;m making a authentication method to secure my API with Spring Security and JWT. I&#39;m using a password encoder for a register method to secure the user. I have declare a bean for it but I&#39;m getting an error saying:\r\n\r\n```\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; that could not be found.\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;org.springframework.security.crypto.password.PasswordEncoder&#39; in your configuration.\r\n```\r\nHere&#39;s my config that got all the bean:\r\n:\r\n```\r\npackage com.akuntansi.config;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.AuthenticationProvider;\r\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\r\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\n\r\nimport com.akuntansi.akuntansi.repo.UserRepo;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class AppConfig {\r\n\r\n    private final UserRepo userRepo;\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService(){\r\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider(){\r\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\r\n        authProvider.setUserDetailsService(userDetailsService());\r\n        authProvider.setPasswordEncoder(passwordEncoder());\r\n\r\n        return authProvider;\r\n    }\r\n    \r\n    @Bean\r\n     public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\r\n        return config.getAuthenticationManager();\r\n    }\r\n}\r\n```\r\n\r\nAnd here&#39;s the `AuthenticationService.java`:\r\n```\r\npackage com.akuntansi.akuntansi.repo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.security.authentication.AuthenticationManager;\r\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport com.akuntansi.akuntansi.model.Role;\r\nimport com.akuntansi.akuntansi.model.Users;\r\n\r\nimport lombok.RequiredArgsConstructor;\r\n\r\n@Service\r\n@RequiredArgsConstructor\r\npublic class AuthenticationService {\r\n    \r\nprivate final UserRepo userRepo;\r\nprivate final PasswordEncoder passwordEncoder;\r\nprivate final JWTService jwtService;\r\nprivate final AuthenticationManager authenticationManager;\r\n\r\n    public AuthenticationResponse register(RegisterRequest request){\r\n        var user =  Users.builder()\r\n                    .username(request.getUsername())\r\n                    .password(passwordEncoder.encode(request.getPassword()))\r\n                    .role(Role.USER)\r\n                    .build();\r\n                    \r\n        userRepo.save(user);\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken) \r\n                .build();\r\n    }\r\n\r\n    public AuthenticationResponse login(AuthenticationRequest request){\r\n        authenticationManager.authenticate(\r\n            new UsernamePasswordAuthenticationToken(\r\n                request.getUsername(),\r\n                request.getPassword()\r\n            )\r\n        );\r\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\r\n        var jwtToken = jwtService.generateJwtToken(user);\r\n        return AuthenticationResponse.builder()\r\n                .token(jwtToken)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nI have no idea what&#39;s wrong since as you can see, I already made a bean type for it.","title":"Spring Security password encoder requiring bean even though it&#39;s already in the configuration","body":"<p>I'm making a authentication method to secure my API with Spring Security and JWT. I'm using a password encoder for a register method to secure the user. I have declare a bean for it but I'm getting an error saying:</p>\n<pre><code>***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nParameter 1 of constructor in com.akuntansi.akuntansi.repo.AuthenticationService required a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' that could not be found.\n\n\nAction:\n\nConsider defining a bean of type 'org.springframework.security.crypto.password.PasswordEncoder' in your configuration.\n</code></pre>\n<p>Here's my config that got all the bean:\n:</p>\n<pre><code>package com.akuntansi.config;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.AuthenticationProvider;\nimport org.springframework.security.authentication.dao.DaoAuthenticationProvider;\nimport org.springframework.security.config.annotation.authentication.configuration.AuthenticationConfiguration;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.core.userdetails.UsernameNotFoundException;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\n\nimport com.akuntansi.akuntansi.repo.UserRepo;\n\nimport lombok.RequiredArgsConstructor;\n\n@Configuration\n@RequiredArgsConstructor\npublic class AppConfig {\n\n    private final UserRepo userRepo;\n\n    @Bean\n    public UserDetailsService userDetailsService(){\n        return username -&gt; userRepo.findByUsername(username).orElseThrow(() -&gt; new UsernameNotFoundException(&quot;User not found!&quot;));\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider(){\n        DaoAuthenticationProvider authProvider = new DaoAuthenticationProvider();\n        authProvider.setUserDetailsService(userDetailsService());\n        authProvider.setPasswordEncoder(passwordEncoder());\n\n        return authProvider;\n    }\n    \n    @Bean\n     public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public AuthenticationManager authenticationManager(AuthenticationConfiguration config) throws Exception{\n        return config.getAuthenticationManager();\n    }\n}\n</code></pre>\n<p>And here's the <code>AuthenticationService.java</code>:</p>\n<pre><code>package com.akuntansi.akuntansi.repo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.security.authentication.AuthenticationManager;\nimport org.springframework.security.authentication.UsernamePasswordAuthenticationToken;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\n\nimport com.akuntansi.akuntansi.model.Role;\nimport com.akuntansi.akuntansi.model.Users;\n\nimport lombok.RequiredArgsConstructor;\n\n@Service\n@RequiredArgsConstructor\npublic class AuthenticationService {\n    \nprivate final UserRepo userRepo;\nprivate final PasswordEncoder passwordEncoder;\nprivate final JWTService jwtService;\nprivate final AuthenticationManager authenticationManager;\n\n    public AuthenticationResponse register(RegisterRequest request){\n        var user =  Users.builder()\n                    .username(request.getUsername())\n                    .password(passwordEncoder.encode(request.getPassword()))\n                    .role(Role.USER)\n                    .build();\n                    \n        userRepo.save(user);\n        var jwtToken = jwtService.generateJwtToken(user);\n\n        return AuthenticationResponse.builder()\n                .token(jwtToken) \n                .build();\n    }\n\n    public AuthenticationResponse login(AuthenticationRequest request){\n        authenticationManager.authenticate(\n            new UsernamePasswordAuthenticationToken(\n                request.getUsername(),\n                request.getPassword()\n            )\n        );\n        var user = userRepo.findByUsername(request.getUsername()).orElseThrow();\n        var jwtToken = jwtService.generateJwtToken(user);\n        return AuthenticationResponse.builder()\n                .token(jwtToken)\n                .build();\n    }\n}\n</code></pre>\n<p>I have no idea what's wrong since as you can see, I already made a bean type for it.</p>\n"},{"tags":["java","android-studio","android-recyclerview"],"owner":{"account_id":26073949,"reputation":44,"user_id":19773139,"display_name":"Jeff Lin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677638431,"creation_date":1677233295,"question_id":75555193,"body_markdown":"I&#39;m using ListAdapter in my Recyclerview, most time it work normally, but when currentList size is 0, and I `submitList(new ArrayList(myNewList))`, my app crash, but if I use `submitList(new ArrayList(myNewList), ()-&gt;adapter.notifyDataSetChanged()))`, it won&#39;t crash. What is the problem?\r\n\r\nBelow is my code\r\n\r\nAdapter:\r\n```\r\npublic Adapter(Context context){\r\n        super(new DiffUtil.ItemCallback&lt;Relation&gt;() {\r\n            @Override\r\n            public boolean areItemsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\r\n                return oldItem.getCustomerId().equals(newItem.getCustomerId());\r\n            }\r\n\r\n            @Override\r\n            public boolean areContentsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\r\n                return false;\r\n            }\r\n        });\r\n\r\n        this.context = context;\r\n}\r\n\r\npublic void setSize(int size){\r\n        this.size = size;\r\n}\r\n\r\n@Override\r\npublic int getItemCount() {\r\n        if(size == 0){\r\n            return 1;\r\n        }\r\n        else if(size &gt; 0){\r\n            return size;\r\n        }\r\n        return 0;\r\n}\r\n\r\n@Override\r\npublic int getItemViewType(int position) {\r\n        if(size == 0){\r\n            return TYPE_EMPTY;\r\n        }\r\n        else{\r\n            return TYPE_ONE;\r\n        }\r\n    }\r\n\r\n```\r\n\r\nAnd I use viewModel to observe change:\r\n\r\n```\r\ncustomerRelationObserver = list -&gt;{\r\n            Adapter.setSize(list.size());\r\n            Adapter.submitList(list, ()-&gt;adapter.notifyDataSetChanged());\r\n        };\r\n```\r\n\r\nBelow is error log\r\n```\r\njava.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionEmptyViewHolder{c491228 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{ba4f60 VFED..... ......I. 56,192-1244,338 #7f0a032d app:id/relationRecyclerView}, adapter:Adapter@7c33c19\r\n```","title":"Android studio Recyclerview using ListAdapter crash because IndexOutOfBoundsException: Inconsistency detected","body":"<p>I'm using ListAdapter in my Recyclerview, most time it work normally, but when currentList size is 0, and I <code>submitList(new ArrayList(myNewList))</code>, my app crash, but if I use <code>submitList(new ArrayList(myNewList), ()-&gt;adapter.notifyDataSetChanged()))</code>, it won't crash. What is the problem?</p>\n<p>Below is my code</p>\n<p>Adapter:</p>\n<pre><code>public Adapter(Context context){\n        super(new DiffUtil.ItemCallback&lt;Relation&gt;() {\n            @Override\n            public boolean areItemsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\n                return oldItem.getCustomerId().equals(newItem.getCustomerId());\n            }\n\n            @Override\n            public boolean areContentsTheSame(@NonNull Relation oldItem, @NonNull Relation newItem) {\n                return false;\n            }\n        });\n\n        this.context = context;\n}\n\npublic void setSize(int size){\n        this.size = size;\n}\n\n@Override\npublic int getItemCount() {\n        if(size == 0){\n            return 1;\n        }\n        else if(size &gt; 0){\n            return size;\n        }\n        return 0;\n}\n\n@Override\npublic int getItemViewType(int position) {\n        if(size == 0){\n            return TYPE_EMPTY;\n        }\n        else{\n            return TYPE_ONE;\n        }\n    }\n\n</code></pre>\n<p>And I use viewModel to observe change:</p>\n<pre><code>customerRelationObserver = list -&gt;{\n            Adapter.setSize(list.size());\n            Adapter.submitList(list, ()-&gt;adapter.notifyDataSetChanged());\n        };\n</code></pre>\n<p>Below is error log</p>\n<pre><code>java.lang.IndexOutOfBoundsException: Inconsistency detected. Invalid view holder adapter positionEmptyViewHolder{c491228 position=1 id=-1, oldPos=0, pLpos:0 scrap [attachedScrap] tmpDetached no parent} androidx.recyclerview.widget.RecyclerView{ba4f60 VFED..... ......I. 56,192-1244,338 #7f0a032d app:id/relationRecyclerView}, adapter:Adapter@7c33c19\n</code></pre>\n"},{"tags":["java","kotlin","resilience4j","resilience4j-retry"],"answers":[{"tags":[],"owner":{"account_id":9128785,"reputation":816,"user_id":6791342,"display_name":"baumannalexj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677638328,"creation_date":1677638328,"answer_id":75599103,"question_id":75522230,"body_markdown":"https://github.com/resilience4j/resilience4j/issues/1886\r\n\r\nAn answer from the repo: we need to use the following methods to work on checked exceptions:\r\n * decorateCallable()\r\n * executeCallable()\r\n\r\nConfirmed that this worked for us.","title":"Resilience4J retryOnException not working","body":"<p><a href=\"https://github.com/resilience4j/resilience4j/issues/1886\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/issues/1886</a></p>\n<p>An answer from the repo: we need to use the following methods to work on checked exceptions:</p>\n<ul>\n<li>decorateCallable()</li>\n<li>executeCallable()</li>\n</ul>\n<p>Confirmed that this worked for us.</p>\n"}],"owner":{"account_id":9128785,"reputation":816,"user_id":6791342,"display_name":"baumannalexj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677638328,"creation_date":1676991577,"question_id":75522230,"body_markdown":"Retry on exception is not working for Resilience4j 1.7.\r\n\r\nCan anyone else confirm? At this point I&#39;m just writing simple tests to try this without success.\r\n\r\nI also submitted a ticket here: https://github.com/resilience4j/resilience4j/issues/1886\r\n\r\n\r\nAny help is appreciated.","title":"Resilience4J retryOnException not working","body":"<p>Retry on exception is not working for Resilience4j 1.7.</p>\n<p>Can anyone else confirm? At this point I'm just writing simple tests to try this without success.</p>\n<p>I also submitted a ticket here: <a href=\"https://github.com/resilience4j/resilience4j/issues/1886\" rel=\"nofollow noreferrer\">https://github.com/resilience4j/resilience4j/issues/1886</a></p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","android","android-studio","progress-bar"],"owner":{"account_id":26207210,"reputation":1,"user_id":19886649,"display_name":"Guilhem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677636885,"creation_date":1677635854,"question_id":75598924,"body_markdown":"I am trying to display a progress bar in an activity that is supposed to show instantly after pressing a button. When a button is pressed, the following method is called :\r\n\r\n\r\n```\r\n    private void onStartClick() {\r\n        start.setTextColor(getResources().getColor(R.color.button_std_text_on_click));\r\n\r\n        // Progress bar\r\n        progressBar.setVisibility(View.VISIBLE);\r\n        progressBar.setMax(100);\r\n\r\n        // Defines target language\r\n        Param.TARGET_LANGUAGE = spinner.getSelectedItem().toString();\r\n\r\n        // Save language selected to select it directly next time\r\n        Pref.savePreference(this, Param.LAST_LANG_KEY, spinner.getSelectedItemPosition());\r\n\r\n        initAppData(MainActivity.this);\r\n     }\r\n```\r\n\r\nHowever, the following lines of code seem to be executed before the line &#39;progressBar.setVisibility(View.VISIBLE);&#39; is finished to be executed. The progress bar is finally displayed when the initAppData is almost finished to be executed (initAppData is a method that takes long to execute). \r\n\r\nHow can we explain that since I use the same thread to execute this method ?\r\n\r\nI can also add that when I remove the initAppData line, the progress bar shows instantly.\r\n\r\n\r\nI tried to execute initAppData() in another thread to see if initAppData avoid the progress bar to display but it didn&#39;t change anything.","title":"ProgressBar is not displayed instantly in android studio (java)","body":"<p>I am trying to display a progress bar in an activity that is supposed to show instantly after pressing a button. When a button is pressed, the following method is called :</p>\n<pre><code>    private void onStartClick() {\n        start.setTextColor(getResources().getColor(R.color.button_std_text_on_click));\n\n        // Progress bar\n        progressBar.setVisibility(View.VISIBLE);\n        progressBar.setMax(100);\n\n        // Defines target language\n        Param.TARGET_LANGUAGE = spinner.getSelectedItem().toString();\n\n        // Save language selected to select it directly next time\n        Pref.savePreference(this, Param.LAST_LANG_KEY, spinner.getSelectedItemPosition());\n\n        initAppData(MainActivity.this);\n     }\n</code></pre>\n<p>However, the following lines of code seem to be executed before the line 'progressBar.setVisibility(View.VISIBLE);' is finished to be executed. The progress bar is finally displayed when the initAppData is almost finished to be executed (initAppData is a method that takes long to execute).</p>\n<p>How can we explain that since I use the same thread to execute this method ?</p>\n<p>I can also add that when I remove the initAppData line, the progress bar shows instantly.</p>\n<p>I tried to execute initAppData() in another thread to see if initAppData avoid the progress bar to display but it didn't change anything.</p>\n"},{"tags":["java","android-studio","stream","video-streaming","exoplayer"],"answers":[{"tags":[],"owner":{"account_id":11813300,"reputation":56,"user_id":8644226,"display_name":"Stronger197"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677627485,"creation_date":1677627485,"answer_id":75598333,"question_id":75500812,"body_markdown":"It was removed in `2.16.0`.\r\nUse `DefaultHttpDataSource.Factory` instead.\r\n","title":"I am using ExoPlayer 2.16.1 and I cannot import DefaultHttpDataSource","body":"<p>It was removed in <code>2.16.0</code>.\nUse <code>DefaultHttpDataSource.Factory</code> instead.</p>\n"}],"owner":{"account_id":16096969,"reputation":73,"user_id":11618882,"display_name":"Seyf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677636326,"creation_date":1676816767,"question_id":75500812,"body_markdown":"I&#39;m getting an error like &quot;java.lang.IllegalArgumentException: no TLS versions for cleartext connections&quot; in my project and I need to use &quot;DefaultHttpDataSourceFactory&quot; to fix it, but I can&#39;t import it.\r\n\r\nMy ExoPlayer version:\r\n \r\n```gradle\r\n    implementation &#39;com.google.android.exoplayer:exoplayer:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-core:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-dash:2.16.1&#39;\r\n    implementation &#39;com.google.android.exoplayer:exoplayer-ui:2.16.1&#39;\r\n```\r\n\r\nWhere I use &quot;DefaultHttpDataSourceFactory&quot;:\r\n\r\n```java\r\n    DefaultHttpDataSourceFactory httpDataSourceFactory = new DefaultHttpDataSourceFactory(\r\n                Util.getUserAgent(context, &quot;your-application-name&quot;),\r\n                null /* listener */,\r\n                DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\r\n                DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\r\n                true /* allowCrossProtocolRedirects */\r\n        );\r\n\r\n```\r\n\r\nPermissions:\r\n\r\n```xml\r\n        &lt;uses-permission tools:node=&quot;merge&quot; android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n```\r\n\r\n\r\nApplication tag:\r\n\r\n    &lt;application\r\n        .\r\n        .\r\n        .\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        .\r\n        .\r\n        .&gt;","title":"I am using ExoPlayer 2.16.1 and I cannot import DefaultHttpDataSource","body":"<p>I'm getting an error like &quot;java.lang.IllegalArgumentException: no TLS versions for cleartext connections&quot; in my project and I need to use &quot;DefaultHttpDataSourceFactory&quot; to fix it, but I can't import it.</p>\n<p>My ExoPlayer version:</p>\n<pre><code>    implementation 'com.google.android.exoplayer:exoplayer:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-core:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-dash:2.16.1'\n    implementation 'com.google.android.exoplayer:exoplayer-ui:2.16.1'\n</code></pre>\n<p>Where I use &quot;DefaultHttpDataSourceFactory&quot;:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    DefaultHttpDataSourceFactory httpDataSourceFactory = new DefaultHttpDataSourceFactory(\n                Util.getUserAgent(context, &quot;your-application-name&quot;),\n                null /* listener */,\n                DefaultHttpDataSource.DEFAULT_CONNECT_TIMEOUT_MILLIS,\n                DefaultHttpDataSource.DEFAULT_READ_TIMEOUT_MILLIS,\n                true /* allowCrossProtocolRedirects */\n        );\n\n</code></pre>\n<p>Permissions:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;uses-permission tools:node=&quot;merge&quot; android:name=&quot;android.permission.INTERNET&quot; /&gt;\n</code></pre>\n<p>Application tag:</p>\n<pre><code>&lt;application\n    .\n    .\n    .\n    android:usesCleartextTraffic=&quot;true&quot;\n    .\n    .\n    .&gt;\n</code></pre>\n"},{"tags":["java","android","layout","autocompletetextview"],"comments":[{"owner":{"account_id":4977246,"reputation":1522,"user_id":4003227,"accept_rate":0,"display_name":"Aditi Parikh"},"score":0,"creation_date":1445423347,"post_id":33256859,"comment_id":54314946,"body_markdown":"Try with layout_gravity and gravity.","body":"Try with layout_gravity and gravity."},{"owner":{"account_id":6172268,"reputation":710,"user_id":4810235,"accept_rate":48,"display_name":"Prakhar"},"score":0,"creation_date":1445423919,"post_id":33256859,"comment_id":54315292,"body_markdown":"I did not get you, do you want all of them in single line?","body":"I did not get you, do you want all of them in single line?"},{"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"score":0,"creation_date":1445424271,"post_id":33256859,"comment_id":54315518,"body_markdown":"Which SDK are you supporting? Try sdk 23 and sdk 19 (for example). Did you notice any difference?","body":"Which SDK are you supporting? Try sdk 23 and sdk 19 (for example). Did you notice any difference?"},{"owner":{"account_id":2725644,"reputation":4730,"user_id":2350799,"accept_rate":83,"display_name":"xcesco"},"score":0,"creation_date":1445432901,"post_id":33256859,"comment_id":54321435,"body_markdown":"I ask you this, because I copy your layout in a project and i notice that, in layout editor (visual mode) when i change sdk to 23 to 19 the component text become aligned. I&#39;m working with Android Studio 1.4. And you?","body":"I ask you this, because I copy your layout in a project and i notice that, in layout editor (visual mode) when i change sdk to 23 to 19 the component text become aligned. I&#39;m working with Android Studio 1.4. And you?"},{"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"score":0,"creation_date":1445442414,"post_id":33256859,"comment_id":54328618,"body_markdown":"I want all to be aligned on the left.\nAs you see, the AutoCompleteTextView has some small padding to the right.","body":"I want all to be aligned on the left. As you see, the AutoCompleteTextView has some small padding to the right."}],"answers":[{"tags":[],"owner":{"account_id":4842194,"reputation":1936,"user_id":4647343,"accept_rate":33,"display_name":"kundan roy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1445424274,"creation_date":1445424274,"answer_id":33257225,"question_id":33256859,"body_markdown":"Add below line to your AutoCompleteTextView  and TextView\r\n\r\n      android:layout_marginLeft=&quot;30dp&quot;","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>Add below line to your AutoCompleteTextView  and TextView</p>\n\n<pre><code>  android:layout_marginLeft=\"30dp\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6172268,"reputation":710,"user_id":4810235,"accept_rate":48,"display_name":"Prakhar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677636013,"creation_date":1445425521,"answer_id":33257697,"question_id":33256859,"body_markdown":"If you want it like this:\r\n[![Vertical][1]][1]\r\n\r\n\r\nthen use vertical Linearlayout\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:layout_marginTop=&quot;20dp&quot;&gt;\r\n\r\n\r\n    &lt;ImageView\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_margin=&quot;20dp&quot;\r\n        android:id=&quot;@+id/imageView5&quot; \r\n        android:src=&quot;@drawable/ic_setting_light&quot;/&gt;\r\n    \r\n    &lt;AutoCompleteTextView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:hint=&quot;Location here&quot;/&gt;\r\n    \r\n    &lt;EditText\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;20dp&quot;\r\n        android:layout_marginLeft=&quot;20dp&quot;\r\n        android:layout_marginRight=&quot;20dp&quot;\r\n        android:hint=&quot;Radius(in meters)&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n\r\n\r\nOr if you want like this:\r\n[![Horizontal][2]][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/zOz9E.png\r\n  [2]: http://i.stack.imgur.com/E87sJ.png\r\n\r\n\r\nUse horizontal LinearLayout with weights:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:orientation=&quot;horizontal&quot;\r\n    android:weightSum=&quot;3&quot;\r\n    android:layout_marginTop=&quot;20dp&quot;&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_weight=&quot;0.5&quot;&gt;\r\n\r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:src=&quot;@drawable/ic_setting_light&quot;\r\n            android:layout_centerInParent=&quot;true&quot;/&gt;\r\n\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;RelativeLayout\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_weight=&quot;1.5&quot;&gt;\r\n         &lt;AutoCompleteTextView\r\n         android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;wrap_content&quot;\r\n         android:hint=&quot;Location&quot;\r\n         android:layout_centerInParent=&quot;true&quot;\r\n         /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n\r\n\r\n    &lt;RelativeLayout\r\n    android:layout_width=&quot;0dp&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_weight=&quot;1.0&quot;&gt;\r\n        &lt;EditText\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:hint=&quot;Radius (m)&quot;\r\n            android:layout_centerInParent=&quot;true&quot;\r\n             /&gt;\r\n    &lt;/RelativeLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\nReplace the image with your home and give the required ids.","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>If you want it like this:\n<a href=\"https://i.stack.imgur.com/zOz9E.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zOz9E.png\" alt=\"Vertical\" /></a></p>\n<p>then use vertical Linearlayout</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;vertical&quot;\nandroid:layout_marginTop=&quot;20dp&quot;&gt;\n\n\n&lt;ImageView\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_margin=&quot;20dp&quot;\n    android:id=&quot;@+id/imageView5&quot; \n    android:src=&quot;@drawable/ic_setting_light&quot;/&gt;\n\n&lt;AutoCompleteTextView\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:layout_marginRight=&quot;20dp&quot;\n    android:hint=&quot;Location here&quot;/&gt;\n\n&lt;EditText\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;20dp&quot;\n    android:layout_marginLeft=&quot;20dp&quot;\n    android:layout_marginRight=&quot;20dp&quot;\n    android:hint=&quot;Radius(in meters)&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Or if you want like this:\n<a href=\"https://i.stack.imgur.com/E87sJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/E87sJ.png\" alt=\"Horizontal\" /></a></p>\n<p>Use horizontal LinearLayout with weights:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:orientation=&quot;horizontal&quot;\nandroid:weightSum=&quot;3&quot;\nandroid:layout_marginTop=&quot;20dp&quot;&gt;\n\n\n&lt;RelativeLayout\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_weight=&quot;0.5&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:src=&quot;@drawable/ic_setting_light&quot;\n        android:layout_centerInParent=&quot;true&quot;/&gt;\n\n&lt;/RelativeLayout&gt;\n&lt;RelativeLayout\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_weight=&quot;1.5&quot;&gt;\n     &lt;AutoCompleteTextView\n     android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;wrap_content&quot;\n     android:hint=&quot;Location&quot;\n     android:layout_centerInParent=&quot;true&quot;\n     /&gt;\n&lt;/RelativeLayout&gt;\n\n\n&lt;RelativeLayout\nandroid:layout_width=&quot;0dp&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:layout_weight=&quot;1.0&quot;&gt;\n    &lt;EditText\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Radius (m)&quot;\n        android:layout_centerInParent=&quot;true&quot;\n         /&gt;\n&lt;/RelativeLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Replace the image with your home and give the required ids.</p>\n"},{"tags":[],"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1445445540,"creation_date":1445445540,"answer_id":33264765,"question_id":33256859,"body_markdown":"Found my solution at least.\r\n\r\nFor some reason AutoCompleteTextView has default padding, once I set the paddingLeft to 0, it fixed the problem. :)","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>Found my solution at least.</p>\n\n<p>For some reason AutoCompleteTextView has default padding, once I set the paddingLeft to 0, it fixed the problem. :)</p>\n"}],"owner":{"account_id":1407438,"reputation":11298,"user_id":1334761,"accept_rate":62,"display_name":"Jjang"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1094,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":33264765,"answer_count":3,"score":0,"last_activity_date":1677636013,"creation_date":1445423099,"question_id":33256859,"body_markdown":"I&#39;m trying to align the following AutoCompleteTextView (Type group location..) and the TextView (Radius) to the left, regarding the top ImageView.\n\n[![enter image description here][1]][1]\n\nAs you can see, it doesn&#39;t work.\nHere&#39;s my xml layout:\n\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:paddingLeft=&quot;10dp&quot;\n    android:paddingRight=&quot;0dp&quot;&gt;\n    \n    \n    &lt;ImageView\n            android:id=&quot;@+id/icon&quot;\n            android:layout_width=&quot;30dp&quot;\n            android:layout_height=&quot;30dp&quot;\n            android:layout_alignParentLeft=&quot;true&quot;/&gt;\n\n        &lt;AutoCompleteTextView\n            android:id=&quot;@+id/autocomplete_textview&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_alignLeft=&quot;@+id/icon&quot;\n            android:layout_below=&quot;@+id/icon&quot;\n            android:paddingBottom=&quot;0dp&quot;\n            android:inputType=&quot;textAutoComplete&quot;\n            android:textSize=&quot;16sp&quot; /&gt;\n        \n        &lt;TextView\n            android:id=&quot;@+id/radiusText&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_below=&quot;@+id/autocomplete_textview&quot;\n            android:layout_alignLeft=&quot;@+id/icon&quot;\n            android:textSize=&quot;16sp&quot;\n            android:paddingTop=&quot;5dp&quot;/&gt;\n        \n    &lt;/RelativeLayout&gt;\n\nWhat I already tried and failed:\n\nAligning the TextView with the regard to the AutoCompleteTextView, and also aligning both views with regard to parent view.\n\nI suspect the AutoCompleteTextView has some transparent trailing, or I&#39;m missing something.\n\n  [1]: http://i.stack.imgur.com/2Pibxm.jpg","title":"Aligning TextView and AutoCompleteTextView side by side in Android","body":"<p>I'm trying to align the following AutoCompleteTextView (Type group location..) and the TextView (Radius) to the left, regarding the top ImageView.</p>\n<p><a href=\"https://i.stack.imgur.com/2Pibxm.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2Pibxm.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, it doesn't work.\nHere's my xml layout:</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:paddingLeft=&quot;10dp&quot;\nandroid:paddingRight=&quot;0dp&quot;&gt;\n\n\n&lt;ImageView\n        android:id=&quot;@+id/icon&quot;\n        android:layout_width=&quot;30dp&quot;\n        android:layout_height=&quot;30dp&quot;\n        android:layout_alignParentLeft=&quot;true&quot;/&gt;\n\n    &lt;AutoCompleteTextView\n        android:id=&quot;@+id/autocomplete_textview&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignLeft=&quot;@+id/icon&quot;\n        android:layout_below=&quot;@+id/icon&quot;\n        android:paddingBottom=&quot;0dp&quot;\n        android:inputType=&quot;textAutoComplete&quot;\n        android:textSize=&quot;16sp&quot; /&gt;\n    \n    &lt;TextView\n        android:id=&quot;@+id/radiusText&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_below=&quot;@+id/autocomplete_textview&quot;\n        android:layout_alignLeft=&quot;@+id/icon&quot;\n        android:textSize=&quot;16sp&quot;\n        android:paddingTop=&quot;5dp&quot;/&gt;\n    \n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>What I already tried and failed:</p>\n<p>Aligning the TextView with the regard to the AutoCompleteTextView, and also aligning both views with regard to parent view.</p>\n<p>I suspect the AutoCompleteTextView has some transparent trailing, or I'm missing something.</p>\n"},{"tags":["java","nginx","ssl","tomcat"],"comments":[{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1680199374,"post_id":75597207,"comment_id":133861908,"body_markdown":"What is in the keystore `bb.co.uk.jks`? Use `keystore -list [file]`.","body":"What is in the keystore <code>bb.co.uk.jks</code>? Use <code>keystore -list [file]</code>."},{"owner":{"account_id":14435982,"reputation":341,"user_id":10427957,"display_name":"Sudaraka Senevirathne"},"score":0,"creation_date":1680245852,"post_id":75597207,"comment_id":133868728,"body_markdown":"Hi, I fixed the issue, I configured them correctly. I had to wait around 6 hours to apply the changes.","body":"Hi, I fixed the issue, I configured them correctly. I had to wait around 6 hours to apply the changes."}],"owner":{"account_id":14435982,"reputation":341,"user_id":10427957,"display_name":"Sudaraka Senevirathne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1535,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677635895,"creation_date":1677617733,"question_id":75597207,"body_markdown":"I have setup my webapp on ec2, I use nginx to serve static contents and added SSL using letsencrypt (working fine), and my backend is also hosted in the same server using tomcat, I converted *.pem files which are generated by letsencrypt to .jks file to provide the SSL for tomcat (8443), but the 8443 port in not connecting (ERR_CONNECTION_RESET). 8080 is working fine (NO SSL).\r\n\r\nHere is my server.xml entry for\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\r\n            maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\r\n            keystoreFile=&quot;/opt/tomcat/conf/bb.co.uk.jks&quot;\r\n            keystorePass=&quot;password&quot;\r\n            clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\r\n\r\nI checked logs but cannot find any error,\r\n\r\n``` 28-Feb-2023 20:41:19.434 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version name:   Apache Tomcat/9.0.72\r\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 18 2023 09:25:13 UTC\r\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.72.0\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-1011-aws\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-17-openjdk-amd64\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8-Ubuntu-2ubuntu122.04\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Private Build\r\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\r\n28-Feb-2023 20:41:19.440 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\r\n28-Feb-2023 20:41:19.451 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\r\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:/dev/./urandom\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\r\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\r\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\r\n28-Feb-2023 20:41:19.457 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\r\n28-Feb-2023 20:41:19.865 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\r\n28-Feb-2023 20:41:19.910 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\r\n28-Feb-2023 20:41:20.357 INFO [main] org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [/opt/tomcat/conf/bb.co.uk.jks] using alias [tomcat] and with trust store [null]\r\n28-Feb-2023 20:41:20.361 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1128] milliseconds\r\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\r\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.72]\r\n28-Feb-2023 20:41:20.440 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/bb.war]\r\n28-Feb-2023 20:41:23.582 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n\r\n  .   ____          _            __ _ _\r\n /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n =========|_|==============|___/=/_/_/_/\r\n```\r\n\r\nI also tried the SSL cfg as follows, but same issue\r\n\r\n    &lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\r\n               maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\r\n        &lt;SSLHostConfig&gt;\r\n            &lt;Certificate certificateKeyFile=&quot;conf/privkey.pem&quot;\r\n                         certificateFile=&quot;conf/cert.pem&quot;\r\n                         certificateChainFile=&quot;conf/chain.pem&quot;/&gt;\r\n        &lt;/SSLHostConfig&gt;\r\n    &lt;/Connector&gt;\r\n\r\nI access static content via https://bb.co.uk and I want to access the backend via https://bb.co.uk:8443. \r\n","title":"Tomcat cannot reach via port 8443 SSL","body":"<p>I have setup my webapp on ec2, I use nginx to serve static contents and added SSL using letsencrypt (working fine), and my backend is also hosted in the same server using tomcat, I converted *.pem files which are generated by letsencrypt to .jks file to provide the SSL for tomcat (8443), but the 8443 port in not connecting (ERR_CONNECTION_RESET). 8080 is working fine (NO SSL).</p>\n<p>Here is my server.xml entry for</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11NioProtocol&quot;\n        maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; scheme=&quot;https&quot; secure=&quot;true&quot;\n        keystoreFile=&quot;/opt/tomcat/conf/bb.co.uk.jks&quot;\n        keystorePass=&quot;password&quot;\n        clientAuth=&quot;false&quot; sslProtocol=&quot;TLS&quot; /&gt;\n</code></pre>\n<p>I checked logs but cannot find any error,</p>\n<pre><code>28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server built:          Feb 18 2023 09:25:13 UTC\n28-Feb-2023 20:41:19.438 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Server version number: 9.0.72.0\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Name:               Linux\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log OS Version:            5.15.0-1011-aws\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Architecture:          amd64\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Java Home:             /usr/lib/jvm/java-17-openjdk-amd64\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Version:           17.0.5+8-Ubuntu-2ubuntu122.04\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log JVM Vendor:            Private Build\n28-Feb-2023 20:41:19.439 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_BASE:         /opt/tomcat\n28-Feb-2023 20:41:19.440 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log CATALINA_HOME:         /opt/tomcat\n28-Feb-2023 20:41:19.451 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.lang=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.io=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: --add-opens=java.rmi/sun.rmi.transport=ALL-UNNAMED\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.config.file=/opt/tomcat/conf/logging.properties\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager\n28-Feb-2023 20:41:19.452 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.awt.headless=true\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.security.egd=file:/dev/./urandom\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djdk.tls.ephemeralDHKeySize=2048\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.protocol.handler.pkgs=org.apache.catalina.webresources\n28-Feb-2023 20:41:19.454 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dorg.apache.catalina.security.SecurityListener.UMASK=0027\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xms512M\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Xmx1024M\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -XX:+UseParallelGC\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dignore.endorsed.dirs=\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.base=/opt/tomcat\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Dcatalina.home=/opt/tomcat\n28-Feb-2023 20:41:19.455 INFO [main] org.apache.catalina.startup.VersionLoggerListener.log Command line argument: -Djava.io.tmpdir=/opt/tomcat/temp\n28-Feb-2023 20:41:19.457 INFO [main] org.apache.catalina.core.AprLifecycleListener.lifecycleEvent The Apache Tomcat Native library which allows using OpenSSL was not found on the java.library.path: [/usr/java/packages/lib:/usr/lib/x86_64-linux-gnu/jni:/lib/x86_64-linux-gnu:/usr/lib/x86_64-linux-gnu:/usr/lib/jni:/lib:/usr/lib]\n28-Feb-2023 20:41:19.865 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;http-nio-8080&quot;]\n28-Feb-2023 20:41:19.910 INFO [main] org.apache.coyote.AbstractProtocol.init Initializing ProtocolHandler [&quot;https-jsse-nio-8443&quot;]\n28-Feb-2023 20:41:20.357 INFO [main] org.apache.tomcat.util.net.AbstractEndpoint.logCertificate Connector [https-jsse-nio-8443], TLS virtual host [_default_], certificate type [UNDEFINED] configured from [/opt/tomcat/conf/bb.co.uk.jks] using alias [tomcat] and with trust store [null]\n28-Feb-2023 20:41:20.361 INFO [main] org.apache.catalina.startup.Catalina.load Server initialization in [1128] milliseconds\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardService.startInternal Starting service [Catalina]\n28-Feb-2023 20:41:20.420 INFO [main] org.apache.catalina.core.StandardEngine.startInternal Starting Servlet engine: [Apache Tomcat/9.0.72]\n28-Feb-2023 20:41:20.440 INFO [main] org.apache.catalina.startup.HostConfig.deployWAR Deploying web application archive [/opt/tomcat/webapps/bb.war]\n28-Feb-2023 20:41:23.582 INFO [main] org.apache.jasper.servlet.TldScanner.scanJars At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\n\n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n</code></pre>\n<p>I also tried the SSL cfg as follows, but same issue</p>\n<pre><code>&lt;Connector port=&quot;8443&quot; protocol=&quot;org.apache.coyote.http11.Http11AprProtocol&quot;\n           maxThreads=&quot;150&quot; SSLEnabled=&quot;true&quot; &gt;\n    &lt;SSLHostConfig&gt;\n        &lt;Certificate certificateKeyFile=&quot;conf/privkey.pem&quot;\n                     certificateFile=&quot;conf/cert.pem&quot;\n                     certificateChainFile=&quot;conf/chain.pem&quot;/&gt;\n    &lt;/SSLHostConfig&gt;\n&lt;/Connector&gt;\n</code></pre>\n<p>I access static content via <a href=\"https://bb.co.uk\" rel=\"nofollow noreferrer\">https://bb.co.uk</a> and I want to access the backend via <a href=\"https://bb.co.uk:8443\" rel=\"nofollow noreferrer\">https://bb.co.uk:8443</a>.</p>\n"},{"tags":["java","websphere","ibm-mq"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1665477594,"post_id":74025031,"comment_id":130703619,"body_markdown":"Honestly the fact that you are creating a new MQQueueConnectionFactory everytime will cause problems anyways.  Maybe there is a failover happening where it switches to another instance.   Look into your broker and how it is configured on the backend side, not from your code.","body":"Honestly the fact that you are creating a new MQQueueConnectionFactory everytime will cause problems anyways.  Maybe there is a failover happening where it switches to another instance.   Look into your broker and how it is configured on the backend side, not from your code."},{"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"score":0,"creation_date":1665478954,"post_id":74025031,"comment_id":130704100,"body_markdown":"@JCompetence, thanks. I will check at configuration and logs of the IBM MQ. Any suggestions on which settings I should be looking at? Sorry, I&#39;m new to this IBM MQ setting as it is handled by different team.","body":"@JCompetence, thanks. I will check at configuration and logs of the IBM MQ. Any suggestions on which settings I should be looking at? Sorry, I&#39;m new to this IBM MQ setting as it is handled by different team."},{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":1,"creation_date":1665485967,"post_id":74025031,"comment_id":130706494,"body_markdown":"If you are on WAS, why you set up QCF in your code? You should configure that externally in the WAS server and then just inject/lookup via JNDI. Then you are utilizing WAS connection pooling instead of recreating everything each time.","body":"If you are on WAS, why you set up QCF in your code? You should configure that externally in the WAS server and then just inject/lookup via JNDI. Then you are utilizing WAS connection pooling instead of recreating everything each time."}],"answers":[{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665496053,"creation_date":1665496053,"answer_id":74029222,"question_id":74025031,"body_markdown":"One reason may be down to not testing what \r\n\r\n```java\r\nqueueInfo.getPort()\r\n```\r\n\r\nreturns. I would log the return, to see if there are conditions when it doesn&#39;t return the port you are expecting.","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>One reason may be down to not testing what</p>\n<pre class=\"lang-java prettyprint-override\"><code>queueInfo.getPort()\n</code></pre>\n<p>returns. I would log the return, to see if there are conditions when it doesn't return the port you are expecting.</p>\n"},{"tags":[],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677635477,"creation_date":1677580145,"answer_id":75590762,"question_id":74025031,"body_markdown":"An update on this item.\r\nI put logging in various place to log the port number. Then we found out that the port in ```queueConnectionFactory``` was intermittently reset to default port after calling ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```\r\n\r\n\r\nAfter updating the log level of ibm mq to TRACE, I found that new MQ library ```com.ibm.mq.allclient-9.2.5.0.jar``` has a ```portSet``` flag that would be set via a thread in somewhere in ```setPort()```. Since it is set using a thread, and not via a sequential method call, there is a chance the thread does not start or start later than the current thread that will call ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```. If that happens, the port would be reset to default value.\r\nThis is the snippet of what happen deep inside ```setPort()```\r\n```\r\nif (parent instanceof MQConnectionFactory) {\r\n                AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() {\r\n                    public Object run() {\r\n                        if (Trace.isOn) {\r\n                            Trace.entry(this, &quot;com.ibm.msg.client.wmq.factories.WMQPortPropertyValidator&quot;, &quot;run()&quot;);\r\n                        }\r\n\r\n                        try {\r\n                            Field portSetField = MQConnectionFactory.class.getDeclaredField(&quot;portSet&quot;);\r\n                            portSetField.setAccessible(true);\r\n                            portSetField.setBoolean(parent, true);\r\n```\r\n\r\nand this is the snippet of what happen inside ```queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);```\r\n\r\n```\r\nif (!this.portSet) {\r\n  this.setPort(1414);\r\n  this.portSet = false;\r\n}\r\n```\r\n\r\n**The fix** is VERY SIMPLE! Just need to call ```setTransportType``` before calling ```setPort```\r\n```\r\nqueueConnectionFactory = new MQQueueConnectionFactory();\r\n// call setTransportType first\r\nqueueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\r\nqueueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\r\nqueueConnectionFactory.setHostName(queueInfo.getHostname());\r\nqueueConnectionFactory.setChannel(queueInfo.getChannel());\r\n// call setPort last\r\nqueueConnectionFactory.setPort(queueInfo.getPort());\r\nmqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\r\n                \r\n```\r\n","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>An update on this item.\nI put logging in various place to log the port number. Then we found out that the port in <code>queueConnectionFactory</code> was intermittently reset to default port after calling <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code></p>\n<p>After updating the log level of ibm mq to TRACE, I found that new MQ library <code>com.ibm.mq.allclient-9.2.5.0.jar</code> has a <code>portSet</code> flag that would be set via a thread in somewhere in <code>setPort()</code>. Since it is set using a thread, and not via a sequential method call, there is a chance the thread does not start or start later than the current thread that will call <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code>. If that happens, the port would be reset to default value.\nThis is the snippet of what happen deep inside <code>setPort()</code></p>\n<pre><code>if (parent instanceof MQConnectionFactory) {\n                AccessController.doPrivileged(new PrivilegedAction&lt;Object&gt;() {\n                    public Object run() {\n                        if (Trace.isOn) {\n                            Trace.entry(this, &quot;com.ibm.msg.client.wmq.factories.WMQPortPropertyValidator&quot;, &quot;run()&quot;);\n                        }\n\n                        try {\n                            Field portSetField = MQConnectionFactory.class.getDeclaredField(&quot;portSet&quot;);\n                            portSetField.setAccessible(true);\n                            portSetField.setBoolean(parent, true);\n</code></pre>\n<p>and this is the snippet of what happen inside <code>queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);</code></p>\n<pre><code>if (!this.portSet) {\n  this.setPort(1414);\n  this.portSet = false;\n}\n</code></pre>\n<p><strong>The fix</strong> is VERY SIMPLE! Just need to call <code>setTransportType</code> before calling <code>setPort</code></p>\n<pre><code>queueConnectionFactory = new MQQueueConnectionFactory();\n// call setTransportType first\nqueueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\nqueueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\nqueueConnectionFactory.setHostName(queueInfo.getHostname());\nqueueConnectionFactory.setChannel(queueInfo.getChannel());\n// call setPort last\nqueueConnectionFactory.setPort(queueInfo.getPort());\nmqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\n                \n</code></pre>\n"}],"owner":{"account_id":2739549,"reputation":594,"user_id":2361379,"display_name":"fauzimh"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75590762,"answer_count":2,"score":1,"last_activity_date":1677635477,"creation_date":1665476220,"question_id":74025031,"body_markdown":"During high load, we see that the MQQueueConnectionFactory suddenly trying to connect to default MQ port 1414 instead of the assigned port.\r\n\r\n**Background:** &lt;br&gt;\r\nWe use Websphere 9.0.5.13 to deploy an ear file. Java version: 8.0.7.15.\r\nThe server in this Websphere communicate to external IBM MQ. We use IBM MQ library version: com.ibm.mq.allclient-9.2.5.0.jar.\r\nWe connect to 3 different IBM MQ queue managers and hundreds of channels. We don&#39;t use IBM MQ default port numbers i.e. 1414. Instead, we override it to some other ports. \r\nWe always use new MQQueueConnectionFactory before we send to a queue, and close the sender, session, and connection afterwards.\r\n\r\n**Issue:**&lt;br&gt;\r\nAt the start of server, we process multiple queues simultaneously. Most of the time, this causes: \r\n\r\n&gt;JMSCMQ0001: IBM MQ call failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2538&#39; (&#39;MQRC_HOST_NOT_AVAILABLE&#39;).\r\n\r\nDigging deeper, it is because the MQQueueConnectionFactory try to connect to default port 1414 instead of the correct port we have configured.\r\n\r\n&gt;Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host &#39;ecpmq2(1414)&#39; rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9204: Connection to host &#39;hostname******/ipaddr***.***.***.***:1414&#39; rejected. [1=java.net.ConnectException[A remote host did not respond within the timeout period. (Connection timed out)],3=hostname******/ipaddr***.***.***.***:1414,4=TCP,5=Socket.connect]],3=hostname******(1414),4=,5=RemoteTCPConnection.bindAndConnectSocket]\r\n\r\nI tried to replicate the scenario in local PC and our test env, but to no avail.\r\n\r\n**Sample Code:**&lt;br/&gt;\r\nThis is the code that we have. Yes, the code is farcry from being efficient, but it still does not explain why suddenly the MQ try to connect to default port.\r\n```\r\n        for (String msg : messages) {\r\n            MQQueueConnectionFactory queueConnectionFactory = null;\r\n            MQQueueConnection mqConn = null;\r\n            try {\r\n                queueConnectionFactory = new MQQueueConnectionFactory();\r\n                queueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\r\n                queueConnectionFactory.setHostName(queueInfo.getHostname());\r\n                queueConnectionFactory.setPort(queueInfo.getPort());\r\n                queueConnectionFactory.setChannel(queueInfo.getChannel());\r\n                queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\r\n                \r\n                mqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\r\n                mqConn.start();\r\n                sendSingleMsg(mqConn, queueInfo.getQueueName(), msg);\r\n            } catch (Exception e) {\r\n                log.error(e.getMessage(), e);\r\n                printQueueDetails(queueConnectionFactory);\r\n            } finally {\r\n                if (mqConn != null) {\r\n                    try {\r\n                        mqConn.close();\r\n                    } catch (JMSException ex) {\r\n                        log.error(ex.getMessage(), ex);\r\n                    }\r\n                    mqConn = null;\r\n                }\r\n            }\r\n        }\r\n```\r\n\r\n**Question:**&lt;br/&gt;\r\nIs it possible that MQQueueConnectionFactory fail somewhere due to high concurrency and set the port to default port instead of the assigned port? Does it keep some failover set of hostnames and it includes the default port?\r\n","title":"During high load MQQueueConnectionFactory suddenly change port to default port 1414","body":"<p>During high load, we see that the MQQueueConnectionFactory suddenly trying to connect to default MQ port 1414 instead of the assigned port.</p>\n<p><strong>Background:</strong> <br>\nWe use Websphere 9.0.5.13 to deploy an ear file. Java version: 8.0.7.15.\nThe server in this Websphere communicate to external IBM MQ. We use IBM MQ library version: com.ibm.mq.allclient-9.2.5.0.jar.\nWe connect to 3 different IBM MQ queue managers and hundreds of channels. We don't use IBM MQ default port numbers i.e. 1414. Instead, we override it to some other ports.\nWe always use new MQQueueConnectionFactory before we send to a queue, and close the sender, session, and connection afterwards.</p>\n<p><strong>Issue:</strong><br>\nAt the start of server, we process multiple queues simultaneously. Most of the time, this causes:</p>\n<blockquote>\n<p>JMSCMQ0001: IBM MQ call failed with compcode '2' ('MQCC_FAILED') reason '2538' ('MQRC_HOST_NOT_AVAILABLE').</p>\n</blockquote>\n<p>Digging deeper, it is because the MQQueueConnectionFactory try to connect to default port 1414 instead of the correct port we have configured.</p>\n<blockquote>\n<p>Caused by: com.ibm.mq.jmqi.JmqiException: CC=2;RC=2538;AMQ9204: Connection to host 'ecpmq2(1414)' rejected. [1=com.ibm.mq.jmqi.JmqiException[CC=2;RC=2538;AMQ9204: Connection to host 'hostname******/ipaddr***.<em><strong>.</strong></em>.<em><strong>:1414' rejected. [1=java.net.ConnectException[A remote host did not respond within the timeout period. (Connection timed out)],3=hostname</strong></em>***/ipaddr***.<em><strong>.</strong></em>.<em><strong>:1414,4=TCP,5=Socket.connect]],3=hostname</strong></em>***(1414),4=,5=RemoteTCPConnection.bindAndConnectSocket]</p>\n</blockquote>\n<p>I tried to replicate the scenario in local PC and our test env, but to no avail.</p>\n<p><strong>Sample Code:</strong><br/>\nThis is the code that we have. Yes, the code is farcry from being efficient, but it still does not explain why suddenly the MQ try to connect to default port.</p>\n<pre><code>        for (String msg : messages) {\n            MQQueueConnectionFactory queueConnectionFactory = null;\n            MQQueueConnection mqConn = null;\n            try {\n                queueConnectionFactory = new MQQueueConnectionFactory();\n                queueConnectionFactory.setQueueManager(queueInfo.getQueueManager());\n                queueConnectionFactory.setHostName(queueInfo.getHostname());\n                queueConnectionFactory.setPort(queueInfo.getPort());\n                queueConnectionFactory.setChannel(queueInfo.getChannel());\n                queueConnectionFactory.setTransportType(JMSC.MQJMS_TP_CLIENT_MQ_TCPIP);\n                \n                mqConn = (MQQueueConnection) queueConnectionFactory.createQueueConnection();\n                mqConn.start();\n                sendSingleMsg(mqConn, queueInfo.getQueueName(), msg);\n            } catch (Exception e) {\n                log.error(e.getMessage(), e);\n                printQueueDetails(queueConnectionFactory);\n            } finally {\n                if (mqConn != null) {\n                    try {\n                        mqConn.close();\n                    } catch (JMSException ex) {\n                        log.error(ex.getMessage(), ex);\n                    }\n                    mqConn = null;\n                }\n            }\n        }\n</code></pre>\n<p><strong>Question:</strong><br/>\nIs it possible that MQQueueConnectionFactory fail somewhere due to high concurrency and set the port to default port instead of the assigned port? Does it keep some failover set of hostnames and it includes the default port?</p>\n"},{"tags":["java","hibernate","hibernate-criteria"],"comments":[{"owner":{"account_id":2471260,"reputation":536,"user_id":4411598,"display_name":"jeet427"},"score":0,"creation_date":1677571995,"post_id":75560386,"comment_id":133359374,"body_markdown":"did you consider changing revisoes to a Set i.e. `private Set&lt;DocumentoRevisao&gt; revisoes` and override equals method in DocumentoRevisao if not done already?","body":"did you consider changing revisoes to a Set i.e. <code>private Set&lt;DocumentoRevisao&gt; revisoes</code> and override equals method in DocumentoRevisao if not done already?"}],"answers":[{"tags":[],"owner":{"account_id":5482929,"reputation":34,"user_id":4358701,"display_name":"Sankhadeep Basak"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1677634808,"creation_date":1677634808,"answer_id":75598854,"question_id":75560386,"body_markdown":" 1. try this - \r\n\r\n        criteriaQuery.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\r\n        --criteriaQuery.distinct(true);\r\n\r\n 2. Instead of a Collection,\r\n\r\n        @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;document&quot;)\r\n        private Collection&lt;DocumentoRevisao&gt; revisoes;\r\n\r\nyou can use Set, like this\r\n\r\n    @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\r\n    private Set&lt;DocumentoRevisao&gt; revisoes;\r\n\r\n","title":"Hibernate - CriteriaQuery duplicating records on One To Many relationship","body":"<ol>\n<li><p>try this -</p>\n<pre><code>criteriaQuery.setResultTransformer(Criteria.DISTINCT_ROOT_ENTITY);\n--criteriaQuery.distinct(true);\n</code></pre>\n</li>\n<li><p>Instead of a Collection,</p>\n<pre><code>@Cascade(org.hibernate.annotations.CascadeType.ALL)\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;document&quot;)\nprivate Collection&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n</li>\n</ol>\n<p>you can use Set, like this</p>\n<pre><code>@Cascade(org.hibernate.annotations.CascadeType.ALL)\n@OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\nprivate Set&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n"}],"owner":{"account_id":2449433,"reputation":627,"user_id":2280645,"accept_rate":96,"display_name":"KenobiBastila"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677634808,"creation_date":1677265057,"question_id":75560386,"body_markdown":"**Introduction**\r\n\r\nI have a legacy code that im having to give maintenance. I Have a code that loads all the child entities from a document entity. It loads fine, however, in the &#39;one to many&#39; relationship (&quot;revisoes&quot;) it brings duplicated records. I&#39;ve attempted to use distinct but it didnt solve it.\r\n\r\n------------\r\n**Description of the problem**\r\n\r\nI have a class named Documento that has several child entities. All the entities are ManyToMany except for &#39;revisoes&#39; which is oneToMany. The code below loads all the entities but &#39;revisoes&#39; has duplicated records.\r\n\r\n How do I solve it in such manner that &quot;revisoes&quot; doesnt bring duplicated records?\r\n\r\n\r\n\r\n\r\n-------------\r\n**Code**\r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;documentos&quot;)\r\n    public class Documento extends Model {\r\n    \r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @ManyToOne(fetch = FetchType.EAGER)\r\n        private TipoDeDocumento tipoDeDocumento;\r\n    \r\n        @Column(length = 250, nullable = false, unique = true)\r\n        private String codigo;\r\n    \r\n        @NotFound(action = NotFoundAction.IGNORE)\r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        private Set&lt;QuesitosNormas&gt; quesitosNormas;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        private Set&lt;PontoDeDistribuicao&gt; pontosDistribuicao;\r\n    \r\n        @ManyToMany(fetch = FetchType.LAZY)\r\n        private Set&lt;Processo&gt; processos;\r\n    \r\n        @Cascade(org.hibernate.annotations.CascadeType.ALL)\r\n        @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\r\n        private Collection&lt;DocumentoRevisao&gt; revisoes;\r\n\r\n\r\n----\r\n\r\n\r\n      @Override\r\n        public Documento find(Long id, Session session, boolean closeSession) {\r\n            try {\r\n                CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\r\n                \r\n                CriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\r\n          \r\n                Root&lt;Documento&gt; rootDocument = criteriaQuery.from(Documento.class);\r\n                rootDocument.fetch(&quot;quesitosNormas&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;pontosDistribuicao&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;processos&quot;, JoinType.LEFT); // ManyToMany\r\n                rootDocument.fetch(&quot;tipoDeDocumento&quot;,JoinType.LEFT); //OneToOne\r\n                rootDocument.fetch(&quot;revisoes&quot;, JoinType.LEFT); // OneToMany\r\n                //\r\n                //\r\n                criteriaQuery.select(rootDocument);\r\n                criteriaQuery.where(criteriaBuilder.equal(rootDocument.get(&quot;id&quot;), id));\r\n                criteriaQuery.distinct(true);\r\n    \r\n                Query&lt;Documento&gt; query = session.createQuery(criteriaQuery);\r\n               \r\n                Documento singleResult = query.getSingleResult();\r\n    \r\n                return singleResult;\r\n    \r\n            } catch (Exception ex) {\r\n                throw ex;\r\n            } finally {\r\n                if (session != null &amp;&amp; closeSession) {\r\n                    session.close();\r\n                }\r\n            }\r\n        }\r\n\r\n---------\r\n\r\n\r\n\r\n**References**\r\n\r\nhttps://stackoverflow.com/questions/10017174/hibernate-criteria-fetches-duplicates-one-to-many-association\r\n\r\nhttps://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\r\n\r\nhttps://stackoverflow.com/questions/43941363/duplicated-results-in-hibernate-onetomany-list?noredirect=1&amp;lq=1\r\n\r\nhttps://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539","title":"Hibernate - CriteriaQuery duplicating records on One To Many relationship","body":"<p><strong>Introduction</strong></p>\n<p>I have a legacy code that im having to give maintenance. I Have a code that loads all the child entities from a document entity. It loads fine, however, in the 'one to many' relationship (&quot;revisoes&quot;) it brings duplicated records. I've attempted to use distinct but it didnt solve it.</p>\n<hr />\n<p><strong>Description of the problem</strong></p>\n<p>I have a class named Documento that has several child entities. All the entities are ManyToMany except for 'revisoes' which is oneToMany. The code below loads all the entities but 'revisoes' has duplicated records.</p>\n<p>How do I solve it in such manner that &quot;revisoes&quot; doesnt bring duplicated records?</p>\n<hr />\n<p><strong>Code</strong></p>\n<pre><code>@Entity\n@Table(name = &quot;documentos&quot;)\npublic class Documento extends Model {\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToOne(fetch = FetchType.EAGER)\n    private TipoDeDocumento tipoDeDocumento;\n\n    @Column(length = 250, nullable = false, unique = true)\n    private String codigo;\n\n    @NotFound(action = NotFoundAction.IGNORE)\n    @ManyToMany(fetch = FetchType.EAGER)\n    private Set&lt;QuesitosNormas&gt; quesitosNormas;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    private Set&lt;PontoDeDistribuicao&gt; pontosDistribuicao;\n\n    @ManyToMany(fetch = FetchType.LAZY)\n    private Set&lt;Processo&gt; processos;\n\n    @Cascade(org.hibernate.annotations.CascadeType.ALL)\n    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY, orphanRemoval = true, mappedBy = &quot;documento&quot;)\n    private Collection&lt;DocumentoRevisao&gt; revisoes;\n</code></pre>\n<hr />\n<pre><code>  @Override\n    public Documento find(Long id, Session session, boolean closeSession) {\n        try {\n            CriteriaBuilder criteriaBuilder = session.getCriteriaBuilder();\n            \n            CriteriaQuery&lt;Documento&gt; criteriaQuery = criteriaBuilder.createQuery(Documento.class);\n      \n            Root&lt;Documento&gt; rootDocument = criteriaQuery.from(Documento.class);\n            rootDocument.fetch(&quot;quesitosNormas&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;pontosDistribuicao&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;processos&quot;, JoinType.LEFT); // ManyToMany\n            rootDocument.fetch(&quot;tipoDeDocumento&quot;,JoinType.LEFT); //OneToOne\n            rootDocument.fetch(&quot;revisoes&quot;, JoinType.LEFT); // OneToMany\n            //\n            //\n            criteriaQuery.select(rootDocument);\n            criteriaQuery.where(criteriaBuilder.equal(rootDocument.get(&quot;id&quot;), id));\n            criteriaQuery.distinct(true);\n\n            Query&lt;Documento&gt; query = session.createQuery(criteriaQuery);\n           \n            Documento singleResult = query.getSingleResult();\n\n            return singleResult;\n\n        } catch (Exception ex) {\n            throw ex;\n        } finally {\n            if (session != null &amp;&amp; closeSession) {\n                session.close();\n            }\n        }\n    }\n</code></pre>\n<hr />\n<p><strong>References</strong></p>\n<p><a href=\"https://stackoverflow.com/questions/10017174/hibernate-criteria-fetches-duplicates-one-to-many-association\">Hibernate Criteria fetches duplicates - one to many association</a></p>\n<p><a href=\"https://stackoverflow.com/questions/6277287/hibernate-onetomany-criteria-returns-duplicates\">hibernate OneToMany criteria returns duplicates</a></p>\n<p><a href=\"https://stackoverflow.com/questions/43941363/duplicated-results-in-hibernate-onetomany-list?noredirect=1&amp;lq=1\">Duplicated results in Hibernate OneToMany List</a></p>\n<p><a href=\"https://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539\" rel=\"nofollow noreferrer\">https://davidecerbo.medium.com/one-to-many-relationship-gets-duplicate-objects-without-using-any-tricks-a55012611539</a></p>\n"},{"tags":["java","android","build.gradle","android-manifest"],"answers":[{"tags":[],"owner":{"account_id":15267095,"reputation":599,"user_id":11015369,"display_name":"Ricardinho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1554258165,"creation_date":1554258165,"answer_id":55486117,"question_id":55475916,"body_markdown":"you should try this:\r\n\r\n1:Remove tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\n2:Provide new value for android:appComponentFactory&quot; attribute\r\n\r\nfrom:\r\nhttps://stackoverflow.com/questions/52948912/manifest-merger-failed-error-on-compiling\r\n\r\nit worked for me!","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>you should try this:</p>\n\n<p>1:Remove tools:replace=\"android:appComponentFactory\"</p>\n\n<p>2:Provide new value for android:appComponentFactory\" attribute</p>\n\n<p>from:\n<a href=\"https://stackoverflow.com/questions/52948912/manifest-merger-failed-error-on-compiling\">Manifest merger failed, error on compiling</a></p>\n\n<p>it worked for me!</p>\n"},{"tags":[],"owner":{"account_id":16627345,"reputation":21,"user_id":12016116,"display_name":"Ahmad khodadadegi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568721609,"creation_date":1568721609,"answer_id":57973773,"question_id":55475916,"body_markdown":"I.m **delete** this \r\n    \r\n\r\n - tools:ignore=&quot;GoogleAppIndexingWarning&quot;,\r\n - tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\n\r\nand **fix** this **problem**.good luck :)","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>I.m <strong>delete</strong> this </p>\n\n<ul>\n<li>tools:ignore=\"GoogleAppIndexingWarning\",</li>\n<li>tools:replace=\"android:appComponentFactory\"</li>\n</ul>\n\n<p>and <strong>fix</strong> this <strong>problem</strong>.good luck :)</p>\n"},{"tags":[],"owner":{"account_id":2361922,"reputation":342,"user_id":2068437,"display_name":"Maher"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1583732946,"creation_date":1573212873,"answer_id":58765793,"question_id":55475916,"body_markdown":"For me, the solution was to just migrate to `AndroidX`.\r\n\r\nOn Android Studio, go to:\r\n\r\n&gt; Refactor &gt; Migrate to AndroidX\r\n\r\nclean the project.\r\n","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>For me, the solution was to just migrate to <code>AndroidX</code>.</p>\n\n<p>On Android Studio, go to:</p>\n\n<blockquote>\n  <p>Refactor > Migrate to AndroidX</p>\n</blockquote>\n\n<p>clean the project.</p>\n"},{"tags":[],"owner":{"account_id":10392595,"reputation":83,"user_id":7663327,"display_name":"Kerelos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1583258599,"creation_date":1583258599,"answer_id":60513150,"question_id":55475916,"body_markdown":"Just remove the below line:\r\n\r\n    tools:replace=&quot;android:appComponentFactory&quot;\r\n\r\nAnd recompile and finally it works for me!\r\n ","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>Just remove the below line:</p>\n\n<pre><code>tools:replace=\"android:appComponentFactory\"\n</code></pre>\n\n<p>And recompile and finally it works for me!</p>\n"},{"tags":[],"owner":{"account_id":21651173,"reputation":97,"user_id":15971793,"display_name":"Bin Khanjar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624197608,"creation_date":1624197608,"answer_id":68056572,"question_id":55475916,"body_markdown":"solve my problem\r\n\r\nRefactor &gt; Migrate to AndroidX\r\n","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>solve my problem</p>\n<p>Refactor &gt; Migrate to AndroidX</p>\n"},{"tags":[],"owner":{"account_id":5598982,"reputation":21,"user_id":4536970,"display_name":"Naveed I"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663651438,"creation_date":1663651438,"answer_id":73781972,"question_id":55475916,"body_markdown":"In my case an error in Manifest file brought about this error at the time of generating apk although app was building flawlessly. \r\n\r\nIt was want of explicit &#39;exported&#39; attribute in activity elements in Manifest file. after that apk too generated successfully .","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>In my case an error in Manifest file brought about this error at the time of generating apk although app was building flawlessly.</p>\n<p>It was want of explicit 'exported' attribute in activity elements in Manifest file. after that apk too generated successfully .</p>\n"},{"tags":[],"owner":{"account_id":24894560,"reputation":331,"user_id":18765988,"display_name":"Nikunj Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677633821,"creation_date":1677633821,"answer_id":75598800,"question_id":55475916,"body_markdown":"I had a similar issue and I have solved by updating Junit dependency from 1.1.3 or later and it solved my problem.\r\n\r\n    androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>I had a similar issue and I have solved by updating Junit dependency from 1.1.3 or later and it solved my problem.</p>\n<pre><code>androidTestImplementation &quot;androidx.test.ext:junit:1.1.3&quot;\n</code></pre>\n"}],"owner":{"account_id":15541478,"reputation":55,"user_id":11299846,"display_name":"bagassprtm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30915,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":58765793,"answer_count":7,"score":5,"last_activity_date":1677633821,"creation_date":1554211418,"question_id":55475916,"body_markdown":"The error says that &quot;Error:Execution failed for task &#39;:app:processDebugManifest&#39;. &gt; &quot;\r\nI have tried many solutions on this website but still, the problem is not solved. Please help me\r\n\r\n\r\nAndroidManifest.xml\r\n\r\n    &lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        package=&quot;project.myapp&quot;&gt;\r\n    \r\n        &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@mipmap/ic_launcher&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/AppTheme&quot;\r\n            tools:replace=&quot;android:appComponentFactory&quot;&gt;\r\n            &lt;activity android:name=&quot;.MainActivity&quot;&gt;\r\n                &lt;intent-filter&gt;\r\n                    &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n    \r\n                    &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n                &lt;/intent-filter&gt;\r\n            &lt;/activity&gt;\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;\r\n\r\nbuild.gradle(Module:app)\r\n\r\n    apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.jakewharton.butterknife&#39;\r\n    \r\n    android {\r\n        compileSdkVersion 28\r\n        defaultConfig {\r\n            applicationId &quot;project.myapp&quot;\r\n            minSdkVersion 21\r\n            targetSdkVersion 28\r\n            multiDexEnabled true\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n            testInstrumentationRunner &quot;android.support.test.runner.AndroidJUnitRunner&quot;\r\n        }\r\n        buildTypes {\r\n            release {\r\n                minifyEnabled false\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation fileTree(dir: &#39;libs&#39;, include: [&#39;*.jar&#39;])\r\n        implementation &#39;com.android.support:appcompat-v7:28.0.0&#39;\r\n        implementation &#39;com.android.support:design:28.0.0&#39;\r\n    //    implementation &#39;com.android.support:support-v4:27.1.1&#39;\r\n        implementation &#39;com.google.firebase:firebase-database:11.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-auth:11.0.4&#39;\r\n        implementation &#39;com.google.firebase:firebase-storage:11.0.4&#39;\r\n        implementation &#39;com.firebaseui:firebase-ui-firestore:3.0.0&#39;\r\n        implementation &#39;de.hdodenhof:circleimageview:2.0.0&#39;\r\n        implementation &#39;com.github.bumptech.glide:glide:3.7.0&#39;\r\n        implementation &#39;com.jakewharton:butterknife:10.1.0&#39;\r\n        annotationProcessor &#39;com.jakewharton:butterknife-compiler:10.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.12&#39;\r\n        androidTestImplementation &#39;com.android.support.test:runner:1.0.2&#39;\r\n        androidTestImplementation &#39;com.android.support.test.espresso:espresso-core:3.0.2&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n\r\nbuild.gradle(Project:myapp)\r\n\r\n    buildscript {\r\n        \r\n        repositories {\r\n            google()\r\n            jcenter()\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:3.0.0&#39;\r\n            \r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n            classpath &#39;com.google.gms:google-services:3.1.0&#39;\r\n            classpath &#39;com.jakewharton:butterknife-gradle-plugin:8.5.1&#39;\r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    }\r\n    \r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\nOn Merged Manifest says that\r\n\r\n&gt; Merging Errors: Error: tools:replace specified at line:5 for attribute\r\n&gt; android:appComponentFactory, but no new value specified app main\r\n&gt; manifest (this file), line 4 Error: Validation failed, exiting app\r\n&gt; main manifest (this file)","title":"Manifest merger failed with multiple errors, see logs on Android Studio","body":"<p>The error says that \"Error:Execution failed for task ':app:processDebugManifest'. > \"\nI have tried many solutions on this website but still, the problem is not solved. Please help me</p>\n\n<p>AndroidManifest.xml</p>\n\n<pre><code>&lt;manifest xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    xmlns:tools=\"http://schemas.android.com/tools\"\n    package=\"project.myapp\"&gt;\n\n    &lt;application\n        android:allowBackup=\"true\"\n        android:icon=\"@mipmap/ic_launcher\"\n        android:label=\"@string/app_name\"\n        android:roundIcon=\"@mipmap/ic_launcher_round\"\n        android:supportsRtl=\"true\"\n        android:theme=\"@style/AppTheme\"\n        tools:replace=\"android:appComponentFactory\"&gt;\n        &lt;activity android:name=\".MainActivity\"&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n\n                &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n\n<p>build.gradle(Module:app)</p>\n\n<pre><code>apply plugin: 'com.android.application'\napply plugin: 'com.jakewharton.butterknife'\n\nandroid {\n    compileSdkVersion 28\n    defaultConfig {\n        applicationId \"project.myapp\"\n        minSdkVersion 21\n        targetSdkVersion 28\n        multiDexEnabled true\n        versionCode 1\n        versionName \"1.0\"\n        testInstrumentationRunner \"android.support.test.runner.AndroidJUnitRunner\"\n    }\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android.txt'), 'proguard-rules.pro'\n        }\n    }\n}\n\ndependencies {\n    implementation fileTree(dir: 'libs', include: ['*.jar'])\n    implementation 'com.android.support:appcompat-v7:28.0.0'\n    implementation 'com.android.support:design:28.0.0'\n//    implementation 'com.android.support:support-v4:27.1.1'\n    implementation 'com.google.firebase:firebase-database:11.0.4'\n    implementation 'com.google.firebase:firebase-auth:11.0.4'\n    implementation 'com.google.firebase:firebase-storage:11.0.4'\n    implementation 'com.firebaseui:firebase-ui-firestore:3.0.0'\n    implementation 'de.hdodenhof:circleimageview:2.0.0'\n    implementation 'com.github.bumptech.glide:glide:3.7.0'\n    implementation 'com.jakewharton:butterknife:10.1.0'\n    annotationProcessor 'com.jakewharton:butterknife-compiler:10.1.0'\n    testImplementation 'junit:junit:4.12'\n    androidTestImplementation 'com.android.support.test:runner:1.0.2'\n    androidTestImplementation 'com.android.support.test.espresso:espresso-core:3.0.2'\n}\n\napply plugin: 'com.google.gms.google-services'\n</code></pre>\n\n<p>build.gradle(Project:myapp)</p>\n\n<pre><code>buildscript {\n\n    repositories {\n        google()\n        jcenter()\n        mavenCentral()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:3.0.0'\n\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        classpath 'com.google.gms:google-services:3.1.0'\n        classpath 'com.jakewharton:butterknife-gradle-plugin:8.5.1'\n    }\n}\n\nallprojects {\n    repositories {\n        google()\n        jcenter()\n    }\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n\n<p>On Merged Manifest says that</p>\n\n<blockquote>\n  <p>Merging Errors: Error: tools:replace specified at line:5 for attribute\n  android:appComponentFactory, but no new value specified app main\n  manifest (this file), line 4 Error: Validation failed, exiting app\n  main manifest (this file)</p>\n</blockquote>\n"},{"tags":["java","memory","double","heap-memory"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1505986737,"post_id":46340478,"comment_id":79640513,"body_markdown":"You have to increase the heap size, but what are you doing that you get consistently OOM exceptions?","body":"You have to increase the heap size, but what are you doing that you get consistently OOM exceptions?"},{"owner":{"account_id":3474961,"reputation":411,"user_id":2908418,"accept_rate":20,"display_name":"kamboj"},"score":0,"creation_date":1505986942,"post_id":46340478,"comment_id":79640674,"body_markdown":"As with the recommendations for byte and short, use a float (instead of double) if you need to save memory in large arrays of floating point numbers [Oracle Java Documentation](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html)","body":"As with the recommendations for byte and short, use a float (instead of double) if you need to save memory in large arrays of floating point numbers <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/datatypes.html\" rel=\"nofollow noreferrer\">Oracle Java Documentation</a>"},{"owner":{"account_id":4858008,"reputation":276,"user_id":3918488,"display_name":"Abinash"},"score":0,"creation_date":1505987368,"post_id":46340478,"comment_id":79641065,"body_markdown":"float takes up 4 bytes and double takes 8 bytes of storage. So, based on your usage/data size the answer should be obvious. But what exactly are you trying to do and how are you setting the heap size? Could you please provide more information? It might be something else entirely.","body":"float takes up 4 bytes and double takes 8 bytes of storage. So, based on your usage/data size the answer should be obvious. But what exactly are you trying to do and how are you setting the heap size? Could you please provide more information? It might be something else entirely."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1505987539,"post_id":46340478,"comment_id":79641203,"body_markdown":"If precision isn&#39;t your main concern you should use a float, or long, or int, or short, or byte, or bit. At some point it *will* become your main concern. Only you know where that point is.","body":"If precision isn&#39;t your main concern you should use a float, or long, or int, or short, or byte, or bit. At some point it <i>will</i> become your main concern. Only you know where that point is."},{"owner":{"account_id":11373299,"reputation":43,"user_id":8338319,"display_name":"beric dondarrion"},"score":0,"creation_date":1505988966,"post_id":46340478,"comment_id":79642298,"body_markdown":"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers","body":"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers"}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1505992491,"creation_date":1505987935,"answer_id":46340954,"question_id":46340478,"body_markdown":"If your memory usage is related to a huge amount (many millions) of floating-point numbers (which can be verified with a decent memory profiler), then you&#39;re most probably storing them in some data structures like arrays or lists.\r\n\r\nRecommendations (I guess, you are already following most of them...):\r\n\r\n - Prefer `float` over `double` if number range and precision are sufficient, as that consumes only half the size.\r\n - Do not use the `java.lang.Float` or `java.lang.Double` classes for storage, as they hav a considerable memory overhead compared to the naked scalar values.\r\n - Be sure to use arrays, not collections like `java.util.List`, as they store boxed `java.lang.Float` instances instead of the naked numbers.\r\n\r\nBut above that, have a decent memory profiler show you which instances occupy most of your memory. Maybe there are other memory consumers besides the float/double data.\r\n\r\nEDIT:\r\n\r\nThe OP&#39;s recent comment &quot;I consistently get OOM exceptions because I use a great number of ArrayLists with numbers&quot; makes it clear. `ArrayList&lt;Float&gt;` wastes a lot of memory when compared to `float[]` (Stephen C gave detailed numbers in his answer), but gives the benefit of dynamic resizing.\r\n\r\nSo, I see the following possibilities:\r\n\r\n - If you can tell the array size from the beginning, then immediately use `float[]` arrays.\r\n - If you need the dynamic size while initializing instances, use `ArrayList&lt;Float&gt;` while building one object (when size still increases), and then copy the contents to a `float[]` array for long-term storage. Then the wasteful ArrayLists exist only for a limited timespan.\r\n - If you need dynamic sizes over the whole lifespan of your data, create your own `FloatArrayList` class based on a `float[]` array, resembling the `ArrayList&lt;Float&gt;` as far as your code needs it (that can range from a very shallow implementation up to a full-featured List, maybe based on `AbstractList`).","title":"Float or double type in terms of storage and memory","body":"<p>If your memory usage is related to a huge amount (many millions) of floating-point numbers (which can be verified with a decent memory profiler), then you're most probably storing them in some data structures like arrays or lists.</p>\n\n<p>Recommendations (I guess, you are already following most of them...):</p>\n\n<ul>\n<li>Prefer <code>float</code> over <code>double</code> if number range and precision are sufficient, as that consumes only half the size.</li>\n<li>Do not use the <code>java.lang.Float</code> or <code>java.lang.Double</code> classes for storage, as they hav a considerable memory overhead compared to the naked scalar values.</li>\n<li>Be sure to use arrays, not collections like <code>java.util.List</code>, as they store boxed <code>java.lang.Float</code> instances instead of the naked numbers.</li>\n</ul>\n\n<p>But above that, have a decent memory profiler show you which instances occupy most of your memory. Maybe there are other memory consumers besides the float/double data.</p>\n\n<p>EDIT:</p>\n\n<p>The OP's recent comment \"I consistently get OOM exceptions because I use a great number of ArrayLists with numbers\" makes it clear. <code>ArrayList&lt;Float&gt;</code> wastes a lot of memory when compared to <code>float[]</code> (Stephen C gave detailed numbers in his answer), but gives the benefit of dynamic resizing.</p>\n\n<p>So, I see the following possibilities:</p>\n\n<ul>\n<li>If you can tell the array size from the beginning, then immediately use <code>float[]</code> arrays.</li>\n<li>If you need the dynamic size while initializing instances, use <code>ArrayList&lt;Float&gt;</code> while building one object (when size still increases), and then copy the contents to a <code>float[]</code> array for long-term storage. Then the wasteful ArrayLists exist only for a limited timespan.</li>\n<li>If you need dynamic sizes over the whole lifespan of your data, create your own <code>FloatArrayList</code> class based on a <code>float[]</code> array, resembling the <code>ArrayList&lt;Float&gt;</code> as far as your code needs it (that can range from a very shallow implementation up to a full-featured List, maybe based on <code>AbstractList</code>).</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1677632510,"creation_date":1505990369,"answer_id":46341774,"question_id":46340478,"body_markdown":"&gt; I consistently get OOM exceptions because I use a great number of ArrayLists with numbers.\r\n\r\nWell **that** is your problem!\r\n\r\n  - An `ArrayList` of N 32-bit floating point values takes at least&lt;sup&gt;1&lt;/sup&gt; 20 * N bytes in a 32-bit JVM and 24 * N bytes in a 64-bit JVM&lt;sup&gt;2&lt;/sup&gt;.  \r\n\r\n  - An `ArrayList` of N 64-bit floating point values takes **the same amount of space**&lt;sup&gt;3&lt;/sup&gt;.\r\n\r\n  - The above only accounts for the backing array and the list elements.  If you have huge numbers of small `ArrayList` objects, the overhead of the `ArrayList` object itself may be significant.  (Add 16 or 24 bytes for each `ArrayList` object`.)\r\n\r\n  - If you make use of dynamic resizing, this may generate object churn as the backing array grows.  At some points, the backing array may be as much as twice as large as it needs to be.\r\n\r\nBy contrast:\r\n\r\n  - An array of 32-bit floating point values takes approximately 4 * N bytes&lt;sup&gt;4&lt;/sup&gt;.\r\n\r\n  - An array of 64-bit floating point values takes approximately 8 * N bytes&lt;sup&gt;4&lt;/sup&gt;.\r\n\r\n  - There is no wastage due to dynamic resizing.  But you need to specify the correct size at allocation time.\r\n\r\nSolutions: \r\n\r\n  1. `ArrayList&lt;Float&gt;` versus `ArrayList&lt;Double&gt;` makes no difference.  It is NOT a solution\r\n\r\n  2. For maximal saving, use `float[]` or `double[]` depending on your precision requirements.  Preallocate the arrays to hold the exact number of elements required.\r\n\r\n  3. If you want the flexibility of dynamic resizing there are 3rd-party libraries that implement space efficient lists of primitive types.  Alternatively implement your own.  However, you won&#39;t be able to use the standard `List&lt;...&gt;` API because that forces you down the path of using `Float` OR `Double`.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - The actual space used depends on how the `ArrayList` was created and populated.  If you pre-allocate an `ArrayList` with exactly the correct capacity, you will use the space I said above.  If you build the array by repeatedly appending to an `ArrayList` with the default initial capacity, you will use *on average* N * 2 bytes extra space for a 32-bit JVM.  This is due to the heuristic that `ArrayList` uses to grow the backing array when it is full.&lt;br/&gt;\r\n2 - On a 64-bit JVM, a pointer occupies 8 bytes rather than 4 ... unless you are using compressed oops.&lt;br/&gt;\r\n3 - The reason it takes the same amount of bytes is that on a typical JVM a `Float` and a `Double` are both 16 bytes due to heap node padding.&lt;br/&gt;\r\n4 - There is a header overhead of (typically) 12 bytes per array, and the array&#39;s heap node size is padded to a multiple of 8 bytes.&lt;/sup&gt; ","title":"Float or double type in terms of storage and memory","body":"<blockquote>\n<p>I consistently get OOM exceptions because I use a great number of ArrayLists with numbers.</p>\n</blockquote>\n<p>Well <strong>that</strong> is your problem!</p>\n<ul>\n<li><p>An <code>ArrayList</code> of N 32-bit floating point values takes at least<sup>1</sup> 20 * N bytes in a 32-bit JVM and 24 * N bytes in a 64-bit JVM<sup>2</sup>.</p>\n</li>\n<li><p>An <code>ArrayList</code> of N 64-bit floating point values takes <strong>the same amount of space</strong><sup>3</sup>.</p>\n</li>\n<li><p>The above only accounts for the backing array and the list elements.  If you have huge numbers of small <code>ArrayList</code> objects, the overhead of the <code>ArrayList</code> object itself may be significant.  (Add 16 or 24 bytes for each <code>ArrayList</code> object`.)</p>\n</li>\n<li><p>If you make use of dynamic resizing, this may generate object churn as the backing array grows.  At some points, the backing array may be as much as twice as large as it needs to be.</p>\n</li>\n</ul>\n<p>By contrast:</p>\n<ul>\n<li><p>An array of 32-bit floating point values takes approximately 4 * N bytes<sup>4</sup>.</p>\n</li>\n<li><p>An array of 64-bit floating point values takes approximately 8 * N bytes<sup>4</sup>.</p>\n</li>\n<li><p>There is no wastage due to dynamic resizing.  But you need to specify the correct size at allocation time.</p>\n</li>\n</ul>\n<p>Solutions:</p>\n<ol>\n<li><p><code>ArrayList&lt;Float&gt;</code> versus <code>ArrayList&lt;Double&gt;</code> makes no difference.  It is NOT a solution</p>\n</li>\n<li><p>For maximal saving, use <code>float[]</code> or <code>double[]</code> depending on your precision requirements.  Preallocate the arrays to hold the exact number of elements required.</p>\n</li>\n<li><p>If you want the flexibility of dynamic resizing there are 3rd-party libraries that implement space efficient lists of primitive types.  Alternatively implement your own.  However, you won't be able to use the standard <code>List&lt;...&gt;</code> API because that forces you down the path of using <code>Float</code> OR <code>Double</code>.</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - The actual space used depends on how the <code>ArrayList</code> was created and populated.  If you pre-allocate an <code>ArrayList</code> with exactly the correct capacity, you will use the space I said above.  If you build the array by repeatedly appending to an <code>ArrayList</code> with the default initial capacity, you will use <em>on average</em> N * 2 bytes extra space for a 32-bit JVM.  This is due to the heuristic that <code>ArrayList</code> uses to grow the backing array when it is full.<br/>\n2 - On a 64-bit JVM, a pointer occupies 8 bytes rather than 4 ... unless you are using compressed oops.<br/>\n3 - The reason it takes the same amount of bytes is that on a typical JVM a <code>Float</code> and a <code>Double</code> are both 16 bytes due to heap node padding.<br/>\n4 - There is a header overhead of (typically) 12 bytes per array, and the array's heap node size is padded to a multiple of 8 bytes.</sup></p>\n"}],"owner":{"account_id":11373299,"reputation":43,"user_id":8338319,"display_name":"beric dondarrion"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5062,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":46340954,"answer_count":2,"score":3,"last_activity_date":1677632510,"creation_date":1505986668,"question_id":46340478,"body_markdown":"I am parsing data where precision is not my main concern. I often get java.lang.OutOfMemoryError even if I use maximum Java heap size. So my main concern here is memory usage, and java heap space. Should I use double or float data type?","title":"Float or double type in terms of storage and memory","body":"<p>I am parsing data where precision is not my main concern. I often get java.lang.OutOfMemoryError even if I use maximum Java heap size. So my main concern here is memory usage, and java heap space. Should I use double or float data type?</p>\n"},{"tags":["java","intellij-idea","settings"],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"down_vote_count":4,"up_vote_count":1132,"is_accepted":true,"score":1128,"last_activity_date":1677632099,"creation_date":1280274312,"answer_id":3348855,"question_id":3348816,"body_markdown":"It&#39;s obvious why you&#39;d want to disable this: To force IntelliJ to include each and every import individually. It makes it easier for people to figure out exactly where classes you&#39;re using come from. Also, linter rules can disallow wildcard imports.\r\n\r\nClick on the Settings &quot;wrench&quot; icon on the toolbar, open &quot;Imports&quot; under &quot;Code Style&quot;, and check the &quot;Use single class import&quot; selection.  You can also completely remove entries under &quot;Packages to use import with `*`&quot;, or specify a threshold value that only uses the &quot;`*`&quot; when the individual classes from a package exceeds that threshold.\r\n\r\n**Update:** in IDEA 13 &quot;Use single class import&quot; does not prevent wildcard imports. The solution is to go to `Preferences` (&lt;kbd&gt;⌘&lt;/kbd&gt; + &lt;kbd&gt;,&lt;/kbd&gt; on macOS / &lt;kbd&gt;Ctrl&lt;/kbd&gt; + &lt;kbd&gt;Alt&lt;/kbd&gt; + &lt;kbd&gt;S&lt;/kbd&gt; on Windows and Linux) `&gt; Editor &gt; Code Style &gt; Java &gt; Imports` tab set `Class count to use import with &#39;*&#39;` and `Names count to use static import with &#39;*&#39;` to a higher value. Any value over 99 seems to work fine.\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>It's obvious why you'd want to disable this: To force IntelliJ to include each and every import individually. It makes it easier for people to figure out exactly where classes you're using come from. Also, linter rules can disallow wildcard imports.</p>\n<p>Click on the Settings &quot;wrench&quot; icon on the toolbar, open &quot;Imports&quot; under &quot;Code Style&quot;, and check the &quot;Use single class import&quot; selection.  You can also completely remove entries under &quot;Packages to use import with <code>*</code>&quot;, or specify a threshold value that only uses the &quot;<code>*</code>&quot; when the individual classes from a package exceeds that threshold.</p>\n<p><strong>Update:</strong> in IDEA 13 &quot;Use single class import&quot; does not prevent wildcard imports. The solution is to go to <code>Preferences</code> (<kbd>⌘</kbd> + <kbd>,</kbd> on macOS / <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>S</kbd> on Windows and Linux) <code>&gt; Editor &gt; Code Style &gt; Java &gt; Imports</code> tab set <code>Class count to use import with '*'</code> and <code>Names count to use static import with '*'</code> to a higher value. Any value over 99 seems to work fine.</p>\n"},{"tags":[],"owner":{"account_id":1077468,"reputation":20907,"user_id":1075289,"accept_rate":65,"display_name":"Amio.io"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1399020290,"creation_date":1399020290,"answer_id":23424124,"question_id":3348816,"body_markdown":"The solution above was not working for me. I had to set &#39;class count to use import with &#39;*&#39;&#39; to a high value, e.g. 999.","title":"IntelliJ: Never use wildcard imports","body":"<p>The solution above was not working for me. I had to set 'class count to use import with '*'' to a high value, e.g. 999.</p>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":387,"is_accepted":false,"score":387,"last_activity_date":1500560348,"creation_date":1411053599,"answer_id":25916603,"question_id":3348816,"body_markdown":"1. File\\Settings... (&lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;S&lt;/kbd&gt;)\r\n2. Project Settings &gt; Editor &gt; Code Style &gt; Java &gt; Imports tab\r\n3. Set **Class count to use import with &#39;*&#39;** to 999\r\n4. Set **Names count to use static import with &#39;*&#39;** to 999\r\n\r\nAfter this, your configuration should look like:\r\n![enter image description here][1]\r\n\r\n(On IntelliJ IDEA 13.x, 14.x, 15.x, 2016.x, 2017.x)\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/J4xwT.png","title":"IntelliJ: Never use wildcard imports","body":"<ol>\n<li>File\\Settings... (<kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>S</kbd>)</li>\n<li>Project Settings > Editor > Code Style > Java > Imports tab</li>\n<li>Set <strong>Class count to use import with '*'</strong> to 999</li>\n<li>Set <strong>Names count to use static import with '*'</strong> to 999</li>\n</ol>\n\n<p>After this, your configuration should look like:\n<img src=\"https://i.stack.imgur.com/J4xwT.png\" alt=\"enter image description here\"></p>\n\n<p>(On IntelliJ IDEA 13.x, 14.x, 15.x, 2016.x, 2017.x)</p>\n"},{"tags":[],"owner":{"account_id":3963820,"reputation":91,"user_id":3270332,"display_name":"Heungwoo"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1495197082,"creation_date":1495197082,"answer_id":44070198,"question_id":3348816,"body_markdown":"If non of above works for you, then it is worth to check if you have any packages under Preference &gt; Editor &gt; Code Style &gt; Java &gt; Imports &gt; Packages to Use Import with &quot;*&quot;\r\n\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>If non of above works for you, then it is worth to check if you have any packages under Preference > Editor > Code Style > Java > Imports > Packages to Use Import with \"*\"</p>\n"},{"tags":[],"owner":{"account_id":9566940,"reputation":488,"user_id":7105922,"display_name":"Alex Green"},"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1513705772,"creation_date":1513705772,"answer_id":47892584,"question_id":3348816,"body_markdown":"If you don&#39;t want to change preferences, you can optimize imports by pressing Ctrl+Option+o on Mac or Ctrl+Alt+o on Windows/Linux and this will replace all imports with single imports in current file.","title":"IntelliJ: Never use wildcard imports","body":"<p>If you don't want to change preferences, you can optimize imports by pressing Ctrl+Option+o on Mac or Ctrl+Alt+o on Windows/Linux and this will replace all imports with single imports in current file.</p>\n"},{"tags":[],"owner":{"account_id":3318177,"reputation":307,"user_id":2789973,"display_name":"user2789973"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1513797763,"creation_date":1513797763,"answer_id":47913035,"question_id":3348816,"body_markdown":"Shortcut doing this on Mac:\r\nPress command+Shift+A (Action) and type &quot;class count to use import with *&quot;\r\nPress Enter. Enter a higher number there like 999","title":"IntelliJ: Never use wildcard imports","body":"<p>Shortcut doing this on Mac:\nPress command+Shift+A (Action) and type \"class count to use import with *\"\nPress Enter. Enter a higher number there like 999</p>\n"},{"tags":[],"owner":{"account_id":6075853,"reputation":2617,"user_id":4743242,"display_name":"Kanke"},"down_vote_count":0,"up_vote_count":56,"is_accepted":false,"score":56,"last_activity_date":1527847557,"creation_date":1527847557,"answer_id":50641030,"question_id":3348816,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Da7X3.png\r\n\r\nIntelliJ IDEA 2018.1.4 (Ultimate Edition)\r\nbuilt on May 16, 2018\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p><a href=\"https://i.stack.imgur.com/Da7X3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Da7X3.png\" alt=\"enter image description here\"></a></p>\n\n<p>IntelliJ IDEA 2018.1.4 (Ultimate Edition)\nbuilt on May 16, 2018</p>\n"},{"tags":[],"owner":{"account_id":1843009,"reputation":7936,"user_id":1672027,"accept_rate":94,"display_name":"Matt Klein"},"down_vote_count":0,"up_vote_count":102,"is_accepted":false,"score":102,"last_activity_date":1533427937,"creation_date":1533427937,"answer_id":51690501,"question_id":3348816,"body_markdown":"Like a dum-dum I couldn&#39;t figure out why none of these answers were working for my Kotlin files for `java.util.*`, so if this is happening to you then:\r\n\r\n    Preferences\r\n    &gt; Editor\r\n    &gt; Code Style\r\n    &gt; **Kotlin**\r\n    &gt; Imports\r\n    &gt; Packages to Use Import with &#39;*&#39;\r\n    -&gt; Remove &#39;java.util.*&#39;\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>Like a dum-dum I couldn't figure out why none of these answers were working for my Kotlin files for <code>java.util.*</code>, so if this is happening to you then:</p>\n\n<pre><code>Preferences\n&gt; Editor\n&gt; Code Style\n&gt; **Kotlin**\n&gt; Imports\n&gt; Packages to Use Import with '*'\n-&gt; Remove 'java.util.*'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1291993,"reputation":1343,"user_id":1243910,"display_name":"Neeraj Jain"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1572494041,"creation_date":1572494041,"answer_id":58636702,"question_id":3348816,"body_markdown":"This applies to &quot;IntelliJ IDEA-2019.2.4&quot; on Mac.\r\n\r\n 1. Navigate to &quot;IntelliJ IDEA-&gt;Preferences-&gt;Editor-&gt;Code Style-&gt;Kotlin&quot;.\r\n 2. The &quot;Packages to use Import with &#39;*&#39; section on the screen will list &quot;import java.util.*&quot;\r\n\r\n[![Before][1]][1]\r\n\r\n 3. Click anywhere in that box and clear that entry.\r\n 4. Hit Apply and OK.\r\n\r\n\r\n[![After][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BXCYt.png\r\n  [2]: https://i.stack.imgur.com/xwDkO.png","title":"IntelliJ: Never use wildcard imports","body":"<p>This applies to \"IntelliJ IDEA-2019.2.4\" on Mac.</p>\n\n<ol>\n<li>Navigate to \"IntelliJ IDEA->Preferences->Editor->Code Style->Kotlin\".</li>\n<li>The \"Packages to use Import with '<em>' section on the screen will list \"import java.util.</em>\"</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/BXCYt.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BXCYt.png\" alt=\"Before\"></a></p>\n\n<ol start=\"3\">\n<li>Click anywhere in that box and clear that entry.</li>\n<li>Hit Apply and OK.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/xwDkO.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xwDkO.png\" alt=\"After\"></a></p>\n"},{"tags":[],"owner":{"account_id":14037539,"reputation":373,"user_id":10139862,"display_name":"user84"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1594393923,"creation_date":1594393923,"answer_id":62837256,"question_id":3348816,"body_markdown":"This applies for &quot;Intellij Idea- 2020.1.2&quot; on window\r\n\r\nNavigate to &quot;IntelliJ IDEA-&gt;File-&gt;Settings-&gt;Editor-&gt;Code Style-&gt;java&quot;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/94GRg.png","title":"IntelliJ: Never use wildcard imports","body":"<p>This applies for &quot;Intellij Idea- 2020.1.2&quot; on window</p>\n<p>Navigate to &quot;IntelliJ IDEA-&gt;File-&gt;Settings-&gt;Editor-&gt;Code Style-&gt;java&quot;.</p>\n<p><a href=\"https://i.stack.imgur.com/94GRg.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/94GRg.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1630934,"reputation":3623,"user_id":1505487,"accept_rate":40,"display_name":"Solubris"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1622845596,"creation_date":1622845596,"answer_id":67844641,"question_id":3348816,"body_markdown":"Adding the following to the **.editorconfig** file saves having to apply the settings every time the project is reimported from scratch:\r\n\r\n    [*.java]\r\n    ij_java_names_count_to_use_import_on_demand = 999\r\n    ij_java_class_count_to_use_import_on_demand = 999\r\n\r\n","title":"IntelliJ: Never use wildcard imports","body":"<p>Adding the following to the <strong>.editorconfig</strong> file saves having to apply the settings every time the project is reimported from scratch:</p>\n<pre><code>[*.java]\nij_java_names_count_to_use_import_on_demand = 999\nij_java_class_count_to_use_import_on_demand = 999\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"down_vote_count":1,"up_vote_count":36,"is_accepted":false,"score":35,"last_activity_date":1657638933,"creation_date":1625666749,"answer_id":68287592,"question_id":3348816,"body_markdown":"In Android Studio with Kotlin.\r\n\r\nFile &gt; Settings,\r\n\r\nEditor &gt; Code Style &gt; Kotlin, then &quot;Imports&quot; tab, select &quot;Use single name import&quot;.\r\n\r\nAlso remove `import java.util.*`.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eBT1d.png","title":"IntelliJ: Never use wildcard imports","body":"<p>In Android Studio with Kotlin.</p>\n<p>File &gt; Settings,</p>\n<p>Editor &gt; Code Style &gt; Kotlin, then &quot;Imports&quot; tab, select &quot;Use single name import&quot;.</p>\n<p>Also remove <code>import java.util.*</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/eBT1d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eBT1d.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":1935092,"reputation":1777,"user_id":1743551,"accept_rate":58,"display_name":"Sandro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633961135,"creation_date":1633961135,"answer_id":69527537,"question_id":3348816,"body_markdown":"On a related note: If your `java.util` packages are still not resolved to single imports today then it might be, that you are looking at a Kotlin file while trying to change the settings for Java like I did. :-) There are the same settings for Kotlin that fixes that.","title":"IntelliJ: Never use wildcard imports","body":"<p>On a related note: If your <code>java.util</code> packages are still not resolved to single imports today then it might be, that you are looking at a Kotlin file while trying to change the settings for Java like I did. :-) There are the same settings for Kotlin that fixes that.</p>\n"},{"tags":[],"owner":{"account_id":2215121,"reputation":71,"user_id":1955951,"display_name":"Dyego Sutil"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1664962024,"creation_date":1664962024,"answer_id":73958373,"question_id":3348816,"body_markdown":"If you are using Kotlin and the solution did not work for you, remember that you have to go to ***Editor &gt; Code Style &gt; Koltin &gt; Imports tab*** and not Java &gt; Imports tab ;)","title":"IntelliJ: Never use wildcard imports","body":"<p>If you are using Kotlin and the solution did not work for you, remember that you have to go to <em><strong>Editor &gt; Code Style &gt; Koltin &gt; Imports tab</strong></em> and not Java &gt; Imports tab ;)</p>\n"}],"owner":{"account_id":14730,"reputation":22485,"user_id":30563,"accept_rate":97,"display_name":"digiarnie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":311598,"favorite_count":0,"down_vote_count":2,"up_vote_count":827,"accepted_answer_id":3348855,"answer_count":14,"score":825,"last_activity_date":1677632099,"creation_date":1280273793,"question_id":3348816,"body_markdown":"Is there a way to tell IntelliJ never to use wildcard imports?\r\nUnder &#39;Settings &gt; Code Style &gt; Imports&#39;, I can see that you can specify the &#39;class count&#39; prior to IntelliJ using wildcard imports.  However, if I never want to use wildcard imports can I turn this functionality off?  \r\n\r\nI have tried putting -1 or leaving the field blank but that just tells IntelliJ to always use wildcard imports.  Obviously a not-so-nice solution would be to put a ridiculously high number so that you never encounter wildcard imports but I was hoping there was a nicer way to just turn it off.","title":"IntelliJ: Never use wildcard imports","body":"<p>Is there a way to tell IntelliJ never to use wildcard imports?\nUnder 'Settings > Code Style > Imports', I can see that you can specify the 'class count' prior to IntelliJ using wildcard imports.  However, if I never want to use wildcard imports can I turn this functionality off?  </p>\n\n<p>I have tried putting -1 or leaving the field blank but that just tells IntelliJ to always use wildcard imports.  Obviously a not-so-nice solution would be to put a ridiculously high number so that you never encounter wildcard imports but I was hoping there was a nicer way to just turn it off.</p>\n"},{"tags":["java","spring","spring-boot","jpa","javabeans"],"comments":[{"owner":{"account_id":4400276,"reputation":119,"user_id":6402843,"display_name":"Montaser Mahadi"},"score":0,"creation_date":1677396650,"post_id":75569055,"comment_id":133327003,"body_markdown":"I think you need to add something like this in your repository -&gt; Page&lt;Employee&gt; findAll(Pageable pageable);","body":"I think you need to add something like this in your repository -&gt; Page&lt;Employee&gt; findAll(Pageable pageable);"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677594466,"post_id":75569055,"comment_id":133366087,"body_markdown":"Which DB are you using? There are some starters missing in pom.xml and some  spring.datasource properties missing from application.properties.","body":"Which DB are you using? There are some starters missing in pom.xml and some  spring.datasource properties missing from application.properties."}],"answers":[{"tags":[],"owner":{"account_id":18202963,"reputation":41,"user_id":13246790,"display_name":"Paul_K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677593878,"creation_date":1677593878,"answer_id":75593261,"question_id":75569055,"body_markdown":"Try to add bean in @Configuration annotated class. \r\n```\r\n@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)\r\n@Configuration\r\npublic class DataJpaConfig {\r\n\r\n    @Bean\r\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\r\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\r\n        vendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQL5Dialect&quot;);\r\n        vendorAdapter.setGenerateDdl(false);\r\n        vendorAdapter.setShowSql(true);\r\n\r\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\r\n        factory.setJpaVendorAdapter(vendorAdapter);\r\n        factory.setDataSource(dataSource);\r\n        factory.setPackagesToScan(&quot;com.example.springbootproject.model&quot;);\r\n\r\n        return factory;\r\n    }\r\n\r\n    @Bean(name=&quot;transactionManager&quot;)\r\n    public PlatformTransactionManager dbTransactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\r\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\r\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\r\n        return transactionManager;\r\n    }\r\n}\r\n\r\n```\r\n\r\nchange vendorAdapter.setDatabasePlatform() depending on your database","title":"How do I define entityManagerFactory bean in my configuration","body":"<p>Try to add bean in @Configuration annotated class.</p>\n<pre><code>@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)\n@Configuration\npublic class DataJpaConfig {\n\n    @Bean\n    public LocalContainerEntityManagerFactoryBean entityManagerFactory(DataSource dataSource) {\n        HibernateJpaVendorAdapter vendorAdapter = new HibernateJpaVendorAdapter();\n        vendorAdapter.setDatabasePlatform(&quot;org.hibernate.dialect.MySQL5Dialect&quot;);\n        vendorAdapter.setGenerateDdl(false);\n        vendorAdapter.setShowSql(true);\n\n        LocalContainerEntityManagerFactoryBean factory = new LocalContainerEntityManagerFactoryBean();\n        factory.setJpaVendorAdapter(vendorAdapter);\n        factory.setDataSource(dataSource);\n        factory.setPackagesToScan(&quot;com.example.springbootproject.model&quot;);\n\n        return factory;\n    }\n\n    @Bean(name=&quot;transactionManager&quot;)\n    public PlatformTransactionManager dbTransactionManager(LocalContainerEntityManagerFactoryBean entityManagerFactory) {\n        JpaTransactionManager transactionManager = new JpaTransactionManager();\n        transactionManager.setEntityManagerFactory(entityManagerFactory.getObject());\n        return transactionManager;\n    }\n}\n\n</code></pre>\n<p>change vendorAdapter.setDatabasePlatform() depending on your database</p>\n"}],"owner":{"account_id":25235292,"reputation":1,"user_id":19069898,"display_name":"Tomas Luarasi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":665,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677631913,"creation_date":1677367360,"question_id":75569055,"body_markdown":"I am working on a spring boot project for a simple employee management system using JPA. This is my first project in spring. I am getting an error with this entityManagerFactory bean as described in the title. I am trying to understand where to define the bean(s) that it is mentioning/ where my &quot;configuration&quot; is.\r\n\r\nMy project structure is setup as below:\r\n\r\n\r\n```\r\nsrc/\r\n├── main/\r\n│   └── java/\r\n|       └── com.example.springbootproject/\r\n|           ├── SpringBootApplication.java\r\n|           ├── controller/\r\n|           |   └── EmployeeController.java\r\n|           ├── model/\r\n|           |   └── Employee.java\r\n|           ├── repository/\r\n|           |   └── EmployeeRepository.java\r\n|           └── service/\r\n|               ├── EmployeeService.java\r\n|               └── EmployeeServiceImpl.java\r\n└── resources/\r\n    └── application.properties\r\n```\r\n\r\nThe code for the java files, application.properties, and pom.xml is below.\r\n\r\nThis is the **EmployeeController.java** file\r\n\r\n```java\r\n\r\n@Controller\r\npublic class EmployeeController {\r\n\r\n    @Autowired\r\n    private EmployeeService employeeService;\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String viewHomePage(Model model) {\r\n        return findPaginated(1, &quot;employeeName&quot;, &quot;asc&quot;, model);\r\n    }\r\n\r\n    @GetMapping(&quot;/add&quot;)\r\n    public String showNewEmployeeForm(Model model) {\r\n        Employee Employee = new Employee();\r\n        model.addAttribute(&quot;employee&quot;, Employee);\r\n        return &quot;newEmployee&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/save&quot;)\r\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\r\n        // save Employee to database\r\n        employeeService.saveEmployee(employee);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/update/{id}&quot;)\r\n    public String showFormForUpdate(@PathVariable( value = &quot;id&quot;) long id, Model model) {\r\n\r\n        Employee employee = employeeService.getEmployeeById(id);\r\n        model.addAttribute(&quot;employee&quot;, employee);\r\n        return &quot;updateEmployee&quot;;\r\n    }\r\n\r\n    @GetMapping(&quot;/delete/{id}&quot;)\r\n    public String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\r\n\r\n        this.employeeService.deleteEmployeeById(id);\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/page/{pageNo}&quot;)\r\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\r\n                                @RequestParam(&quot;sortField&quot;) String sortField,\r\n                                @RequestParam(&quot;sortDir&quot;) String sortDir,\r\n                                Model model) {\r\n        int pageSize = 5;\r\n\r\n        Page&lt;Employee&gt; page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\r\n        List&lt;Employee&gt; listEmployees = page.getContent();\r\n\r\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\r\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\r\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\r\n\r\n        model.addAttribute(&quot;sortField&quot;, sortField);\r\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\r\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\r\n\r\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\r\n        return &quot;index&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the **Employee.java** class\r\n\r\n\r\n```java\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Data\r\n@Entity\r\n@Table(name = &quot;employees&quot;)\r\npublic class Employee {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;employee_first_name&quot;)\r\n    private String employeeFirstName;\r\n    @Column(name = &quot;employee_last_name&quot;)\r\n    private String employeeLastName;\r\n    @Column(name = &quot;employee_id&quot;)\r\n    private String employeeID;\r\n    @Column(name = &quot;employee_email&quot;)\r\n    private String employeeEmail;\r\n}\r\n\r\n```\r\n\r\nThis is the **EmployeeService.java** class\r\n\r\n\r\n```java\r\npublic interface EmployeeService {\r\n    List&lt;Employee&gt; getAllEmployees();\r\n    void saveEmployee(Employee employee);\r\n    Employee getEmployeeById(long id);\r\n    void deleteEmployeeById(long id);\r\n    Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection);\r\n}\r\n```\r\n\r\n\r\nThis is the **EmployeeServiceImpl.java** class\r\n\r\n\r\n```java\r\n\r\n@Service\r\npublic class EmployeeServiceImpl implements EmployeeService {\r\n\r\n    @Autowired\r\n    private EmployeeRepository employeeRepository;\r\n\r\n    @Override\r\n    public List&lt;Employee&gt; getAllEmployees() {\r\n        return employeeRepository.findAll();\r\n    }\r\n\r\n    @Override\r\n    public void saveEmployee(Employee employee) {\r\n        this.employeeRepository.save(employee);\r\n    }\r\n\r\n    @Override\r\n    public Employee getEmployeeById(long id) {\r\n        Optional&lt;Employee&gt; optionalEmployee = employeeRepository.findById(id);\r\n        Employee employee = null;\r\n        if (optionalEmployee.isPresent()) {\r\n            employee = optionalEmployee.get();\r\n        } else {\r\n            throw new RuntimeException(&quot;Employee not found for id : &quot; + id);\r\n        }\r\n        return employee;\r\n    }\r\n\r\n    @Override\r\n    public void deleteEmployeeById(long id) {\r\n        this.employeeRepository.deleteById(id);\r\n    }\r\n\r\n    @Override\r\n    public Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection) {\r\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\r\n                Sort.by(sortField).descending();\r\n\r\n        Pageable pageable = PageRequest.of(pageNum - 1, pageSize, sort);\r\n        return this.employeeRepository.findAll(pageable);\r\n    }\r\n}\r\n```\r\n\r\n**application.properties** only has the following line\r\n`spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration\r\n`\r\n\r\n**pom.xml** has the following dependencies\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SpringBootProject&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;SpringBootProject&lt;/name&gt;\r\n    &lt;description&gt;SpringBootProject&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\r\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;optional&gt;true&lt;/optional&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nWhen I run the application, the console spits out\r\n\r\n\r\n```\r\n\r\n2023-02-25T17:33:41.469-05:00 ERROR 2680 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField employeeRepository in com.example.springbootproject.service.EmployeeServiceImpl required a bean named &#39;entityManagerFactory&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean named &#39;entityManagerFactory&#39; in your configuration.\r\n\r\n```\r\n\r\n\r\nI was originally being told to \r\n\r\n&gt; Consider defining a bean of type &#39;com.example.springbootproject.repository.EmployeeRepository&#39; in your configuration.\r\n\r\nbut after adding `@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)` it resulted in the entityManagerFactory error.\r\n\r\nI have checked online thinking maybe the dependencies were off but there seem to be no issues there. \r\n\r\nAnother question encountered the same error, https://stackoverflow.com/questions/44516942/consider-defining-a-bean-named-entitymanagerfactory-in-your-configuration-spri\r\n\r\nbut I am unsure if this is relevant to the issue I am having, or where this could be implemented. New package? Existing one? \r\n\r\n\r\n","title":"How do I define entityManagerFactory bean in my configuration","body":"<p>I am working on a spring boot project for a simple employee management system using JPA. This is my first project in spring. I am getting an error with this entityManagerFactory bean as described in the title. I am trying to understand where to define the bean(s) that it is mentioning/ where my &quot;configuration&quot; is.</p>\n<p>My project structure is setup as below:</p>\n<pre><code>src/\n├── main/\n│   └── java/\n|       └── com.example.springbootproject/\n|           ├── SpringBootApplication.java\n|           ├── controller/\n|           |   └── EmployeeController.java\n|           ├── model/\n|           |   └── Employee.java\n|           ├── repository/\n|           |   └── EmployeeRepository.java\n|           └── service/\n|               ├── EmployeeService.java\n|               └── EmployeeServiceImpl.java\n└── resources/\n    └── application.properties\n</code></pre>\n<p>The code for the java files, application.properties, and pom.xml is below.</p>\n<p>This is the <strong>EmployeeController.java</strong> file</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Controller\npublic class EmployeeController {\n\n    @Autowired\n    private EmployeeService employeeService;\n\n    @GetMapping(&quot;/&quot;)\n    public String viewHomePage(Model model) {\n        return findPaginated(1, &quot;employeeName&quot;, &quot;asc&quot;, model);\n    }\n\n    @GetMapping(&quot;/add&quot;)\n    public String showNewEmployeeForm(Model model) {\n        Employee Employee = new Employee();\n        model.addAttribute(&quot;employee&quot;, Employee);\n        return &quot;newEmployee&quot;;\n    }\n\n    @PostMapping(&quot;/save&quot;)\n    public String saveEmployee(@ModelAttribute(&quot;employee&quot;) Employee employee) {\n        // save Employee to database\n        employeeService.saveEmployee(employee);\n        return &quot;redirect:/&quot;;\n    }\n\n    @GetMapping(&quot;/update/{id}&quot;)\n    public String showFormForUpdate(@PathVariable( value = &quot;id&quot;) long id, Model model) {\n\n        Employee employee = employeeService.getEmployeeById(id);\n        model.addAttribute(&quot;employee&quot;, employee);\n        return &quot;updateEmployee&quot;;\n    }\n\n    @GetMapping(&quot;/delete/{id}&quot;)\n    public String deleteEmployee(@PathVariable (value = &quot;id&quot;) long id) {\n\n        this.employeeService.deleteEmployeeById(id);\n        return &quot;redirect:/&quot;;\n    }\n\n\n    @GetMapping(&quot;/page/{pageNo}&quot;)\n    public String findPaginated(@PathVariable (value = &quot;pageNo&quot;) int pageNo,\n                                @RequestParam(&quot;sortField&quot;) String sortField,\n                                @RequestParam(&quot;sortDir&quot;) String sortDir,\n                                Model model) {\n        int pageSize = 5;\n\n        Page&lt;Employee&gt; page = employeeService.findPaginated(pageNo, pageSize, sortField, sortDir);\n        List&lt;Employee&gt; listEmployees = page.getContent();\n\n        model.addAttribute(&quot;currentPage&quot;, pageNo);\n        model.addAttribute(&quot;totalPages&quot;, page.getTotalPages());\n        model.addAttribute(&quot;totalItems&quot;, page.getTotalElements());\n\n        model.addAttribute(&quot;sortField&quot;, sortField);\n        model.addAttribute(&quot;sortDir&quot;, sortDir);\n        model.addAttribute(&quot;reverseSortDir&quot;, sortDir.equals(&quot;asc&quot;) ? &quot;desc&quot; : &quot;asc&quot;);\n\n        model.addAttribute(&quot;listEmployees&quot;, listEmployees);\n        return &quot;index&quot;;\n    }\n}\n\n</code></pre>\n<p>This is the <strong>Employee.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Entity\n@Table(name = &quot;employees&quot;)\npublic class Employee {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @Column(name = &quot;employee_first_name&quot;)\n    private String employeeFirstName;\n    @Column(name = &quot;employee_last_name&quot;)\n    private String employeeLastName;\n    @Column(name = &quot;employee_id&quot;)\n    private String employeeID;\n    @Column(name = &quot;employee_email&quot;)\n    private String employeeEmail;\n}\n\n</code></pre>\n<p>This is the <strong>EmployeeService.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface EmployeeService {\n    List&lt;Employee&gt; getAllEmployees();\n    void saveEmployee(Employee employee);\n    Employee getEmployeeById(long id);\n    void deleteEmployeeById(long id);\n    Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection);\n}\n</code></pre>\n<p>This is the <strong>EmployeeServiceImpl.java</strong> class</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n@Service\npublic class EmployeeServiceImpl implements EmployeeService {\n\n    @Autowired\n    private EmployeeRepository employeeRepository;\n\n    @Override\n    public List&lt;Employee&gt; getAllEmployees() {\n        return employeeRepository.findAll();\n    }\n\n    @Override\n    public void saveEmployee(Employee employee) {\n        this.employeeRepository.save(employee);\n    }\n\n    @Override\n    public Employee getEmployeeById(long id) {\n        Optional&lt;Employee&gt; optionalEmployee = employeeRepository.findById(id);\n        Employee employee = null;\n        if (optionalEmployee.isPresent()) {\n            employee = optionalEmployee.get();\n        } else {\n            throw new RuntimeException(&quot;Employee not found for id : &quot; + id);\n        }\n        return employee;\n    }\n\n    @Override\n    public void deleteEmployeeById(long id) {\n        this.employeeRepository.deleteById(id);\n    }\n\n    @Override\n    public Page&lt;Employee&gt; findPaginated(int pageNum, int pageSize, String sortField, String sortDirection) {\n        Sort sort = sortDirection.equalsIgnoreCase(Sort.Direction.ASC.name()) ? Sort.by(sortField).ascending() :\n                Sort.by(sortField).descending();\n\n        Pageable pageable = PageRequest.of(pageNum - 1, pageSize, sort);\n        return this.employeeRepository.findAll(pageable);\n    }\n}\n</code></pre>\n<p><strong>application.properties</strong> only has the following line\n<code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration </code></p>\n<p><strong>pom.xml</strong> has the following dependencies</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringBootProject&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;SpringBootProject&lt;/name&gt;\n    &lt;description&gt;SpringBootProject&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.thymeleaf.extras&lt;/groupId&gt;\n            &lt;artifactId&gt;thymeleaf-extras-springsecurity5&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n\n</code></pre>\n<p>When I run the application, the console spits out</p>\n<pre><code>\n2023-02-25T17:33:41.469-05:00 ERROR 2680 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField employeeRepository in com.example.springbootproject.service.EmployeeServiceImpl required a bean named 'entityManagerFactory' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean named 'entityManagerFactory' in your configuration.\n\n</code></pre>\n<p>I was originally being told to</p>\n<blockquote>\n<p>Consider defining a bean of type 'com.example.springbootproject.repository.EmployeeRepository' in your configuration.</p>\n</blockquote>\n<p>but after adding <code>@EnableJpaRepositories(&quot;com.example.springbootproject.repository&quot;)</code> it resulted in the entityManagerFactory error.</p>\n<p>I have checked online thinking maybe the dependencies were off but there seem to be no issues there.</p>\n<p>Another question encountered the same error, <a href=\"https://stackoverflow.com/questions/44516942/consider-defining-a-bean-named-entitymanagerfactory-in-your-configuration-spri\">Consider defining a bean named &#39;entityManagerFactory&#39; in your configuration-Spring boot</a></p>\n<p>but I am unsure if this is relevant to the issue I am having, or where this could be implemented. New package? Existing one?</p>\n"},{"tags":["java","unit-testing","recursion","reactive-programming"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1677631836,"post_id":75598611,"comment_id":133375504,"body_markdown":"1. Look at the Java doc and make sure you test all conditions and output mentioned there.  2.  White box test and make sure you test all branches in the method.  That&#39;s how I do it.","body":"1. Look at the Java doc and make sure you test all conditions and output mentioned there.  2.  White box test and make sure you test all branches in the method.  That&#39;s how I do it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677632038,"post_id":75598611,"comment_id":133375529,"body_markdown":"The parameter you pass to `doReturn` is evaluated once, when you call `doReturn` -- you are not passing a lambda, it can be no other way. If you want to return different values chain `thenReturn` or use `doAnswer`.","body":"The parameter you pass to <code>doReturn</code> is evaluated once, when you call <code>doReturn</code> -- you are not passing a lambda, it can be no other way. If you want to return different values chain <code>thenReturn</code> or use <code>doAnswer</code>."}],"owner":{"account_id":3948603,"reputation":1265,"user_id":3260052,"accept_rate":68,"display_name":"Marcos Guimaraes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677631050,"creation_date":1677631050,"question_id":75598611,"body_markdown":"I have one recursive procedure that has to be run multiple times depending on the output. The method ```refreshInBatches()``` runs a query in the database and returns a ```nodeId```. The stop condition is: whenever I reach the end node (let&#39;s say it has id = 1) or I reach a node that has been visited before.\r\nTo check the latter, I created a Set and to keep calling the method to refresh in batches I added a do-while loop. ```notEndNode()``` returns ```true``` if it hasn&#39;t reached the stop condition and ```false``` otherwise.\r\n\r\n```\r\npublic Mono&lt;MyClass&gt; refresh(String databaseName, Long nodeId, Integer batchSize, Set&lt;Long&gt; visitedNodes) {\r\n    Mono&lt;MyClass&gt; result = null;\r\n    do {\r\n      addNodeToSet(visitedNodes, result);\r\n      result = refreshInBatches(databaseName, nodeId, batchSize);\r\n    } while (notEndNode(nodeId, result.block(), visitedNodes));\r\n    return result;\r\n  }\r\n```\r\n\r\nI am trying to find a good approach to add unit tests to this behavior that I just explained. I wanted to mock the DB response because I only want to test how many times I&#39;m calling the db (through the ```refresh()``` method). So I have created a mock response list with 5 elements with the last one being the end node (meaning that the procedure should stop after that).\r\n\r\nThe mock starts from ```refreshInBatches()``` that always should return the ```response``` object. The mocked object ```node``` should be returned from ```response```, and I added a iterator to the list so we could get the next value whenever we tried to get the ```nodeId```.\r\nThe above test can be found below. But it&#39;s not working the way I expected. When I try to debug the application, the first time ```refreshInBatches()``` is called, I get ```10L``` as expected. But if I keep iterating over the loop, ```refreshInBatches()``` is going to be called for the second time, but ```10L``` is returned again, not ```iterator.next()```. Resulting on ```dbRepository.refreshInBatches()``` getting called only 2 times instead of 5.\r\n\r\n```\r\n  @InjectMocks\r\n  DbRepository dbRepository = Mockito.spy(new DbRepository(dbClient, null));\r\n\r\n  MyClass response = Mockito.spy(new MyClass());\r\n\r\n  @Mock\r\n  Node node = Mockito.mock(Node.class);\r\n\r\n  @Test\r\n  public void testRefreshDBShouldCallTheRefreshMethodFiveTimes() {\r\n\r\n    List&lt;Value&gt; setIds = Arrays.asList(Values.value(10L), Values.value(20L), Values.value(50L), Values.value(60L), Values.value(1L));\r\n    Iterator&lt;Value&gt; iterator = setIds.iterator();\r\n    Mockito.doReturn(iterator.next()).when(node).get(anyString());\r\n    Mockito.doReturn(node).when(response).getNode();\r\n    Mockito.doReturn(Mono.just(response)).when(dbRepository).refreshInBatches(anyString(), anyLong(), anyInt());\r\n    dbRepository.refresh(&quot;dataBase&quot;, -1L, 10000, new HashSet&lt;&gt;());\r\n    verify(dbRepository, times(setIds.size())).refreshInBatches(anyString(), anyLong(), anyInt());\r\n  }\r\n```\r\n\r\nI think my code has some design flaws, but I would like to understand how could one test recursive calls with mock responses. Shouldn&#39;t the iterator have moved to the next element the second time ```dbRepository.refreshInBatches()``` was called? Or at least when one of those checks were called:\r\n\r\n```\r\n  private void addNodeToSet(Set&lt;Long&gt; visited, Mono&lt;MyClass&gt; projection) {\r\n    if (ObjectUtils.isNotEmpty(projection) &amp;&amp; ObjectUtils.isNotEmpty(projection.block())) {\r\n      visited.add(projection.block().getNode().get(&quot;id&quot;).asLong());\r\n    }\r\n  }\r\n\r\n  private static boolean notEndNode(Long nodeId, MyClass projection, Set&lt;Long&gt; visited) {\r\n    return projection != null &amp;&amp;\r\n        ObjectUtils.isNotEmpty(projection.getNode()) &amp;&amp;\r\n        !nodeId.equals(projection.getNode().get(&quot;id&quot;).asLong()) &amp;&amp;\r\n        !visited.contains(projection.getNode().get(&quot;id&quot;).asLong());\r\n  }\r\n```\r\n\r\n","title":"How to properly create unit tests for recursive methods","body":"<p>I have one recursive procedure that has to be run multiple times depending on the output. The method <code>refreshInBatches()</code> runs a query in the database and returns a <code>nodeId</code>. The stop condition is: whenever I reach the end node (let's say it has id = 1) or I reach a node that has been visited before.\nTo check the latter, I created a Set and to keep calling the method to refresh in batches I added a do-while loop. <code>notEndNode()</code> returns <code>true</code> if it hasn't reached the stop condition and <code>false</code> otherwise.</p>\n<pre><code>public Mono&lt;MyClass&gt; refresh(String databaseName, Long nodeId, Integer batchSize, Set&lt;Long&gt; visitedNodes) {\n    Mono&lt;MyClass&gt; result = null;\n    do {\n      addNodeToSet(visitedNodes, result);\n      result = refreshInBatches(databaseName, nodeId, batchSize);\n    } while (notEndNode(nodeId, result.block(), visitedNodes));\n    return result;\n  }\n</code></pre>\n<p>I am trying to find a good approach to add unit tests to this behavior that I just explained. I wanted to mock the DB response because I only want to test how many times I'm calling the db (through the <code>refresh()</code> method). So I have created a mock response list with 5 elements with the last one being the end node (meaning that the procedure should stop after that).</p>\n<p>The mock starts from <code>refreshInBatches()</code> that always should return the <code>response</code> object. The mocked object <code>node</code> should be returned from <code>response</code>, and I added a iterator to the list so we could get the next value whenever we tried to get the <code>nodeId</code>.\nThe above test can be found below. But it's not working the way I expected. When I try to debug the application, the first time <code>refreshInBatches()</code> is called, I get <code>10L</code> as expected. But if I keep iterating over the loop, <code>refreshInBatches()</code> is going to be called for the second time, but <code>10L</code> is returned again, not <code>iterator.next()</code>. Resulting on <code>dbRepository.refreshInBatches()</code> getting called only 2 times instead of 5.</p>\n<pre><code>  @InjectMocks\n  DbRepository dbRepository = Mockito.spy(new DbRepository(dbClient, null));\n\n  MyClass response = Mockito.spy(new MyClass());\n\n  @Mock\n  Node node = Mockito.mock(Node.class);\n\n  @Test\n  public void testRefreshDBShouldCallTheRefreshMethodFiveTimes() {\n\n    List&lt;Value&gt; setIds = Arrays.asList(Values.value(10L), Values.value(20L), Values.value(50L), Values.value(60L), Values.value(1L));\n    Iterator&lt;Value&gt; iterator = setIds.iterator();\n    Mockito.doReturn(iterator.next()).when(node).get(anyString());\n    Mockito.doReturn(node).when(response).getNode();\n    Mockito.doReturn(Mono.just(response)).when(dbRepository).refreshInBatches(anyString(), anyLong(), anyInt());\n    dbRepository.refresh(&quot;dataBase&quot;, -1L, 10000, new HashSet&lt;&gt;());\n    verify(dbRepository, times(setIds.size())).refreshInBatches(anyString(), anyLong(), anyInt());\n  }\n</code></pre>\n<p>I think my code has some design flaws, but I would like to understand how could one test recursive calls with mock responses. Shouldn't the iterator have moved to the next element the second time <code>dbRepository.refreshInBatches()</code> was called? Or at least when one of those checks were called:</p>\n<pre><code>  private void addNodeToSet(Set&lt;Long&gt; visited, Mono&lt;MyClass&gt; projection) {\n    if (ObjectUtils.isNotEmpty(projection) &amp;&amp; ObjectUtils.isNotEmpty(projection.block())) {\n      visited.add(projection.block().getNode().get(&quot;id&quot;).asLong());\n    }\n  }\n\n  private static boolean notEndNode(Long nodeId, MyClass projection, Set&lt;Long&gt; visited) {\n    return projection != null &amp;&amp;\n        ObjectUtils.isNotEmpty(projection.getNode()) &amp;&amp;\n        !nodeId.equals(projection.getNode().get(&quot;id&quot;).asLong()) &amp;&amp;\n        !visited.contains(projection.getNode().get(&quot;id&quot;).asLong());\n  }\n</code></pre>\n"},{"tags":["java","multithreading","apache-camel"],"comments":[{"owner":{"account_id":3200341,"reputation":12790,"user_id":2702504,"accept_rate":68,"display_name":"Keerthivasan"},"score":0,"creation_date":1390463574,"post_id":21302322,"comment_id":32104562,"body_markdown":"Do you mean it works fine when `Thread.sleep(50000);` is not commented?","body":"Do you mean it works fine when <code>Thread.sleep(50000);</code> is not commented?"},{"owner":{"account_id":329799,"reputation":3901,"user_id":653519,"display_name":"Trisha"},"score":0,"creation_date":1390463867,"post_id":21302322,"comment_id":32104707,"body_markdown":"What do you mean by &quot;fails&quot;? Also, do you realise `Thread.sleep(50000)` puts the program to sleep for 50 seconds?  So when you run it, it will take nearly a minute before it exits.","body":"What do you mean by &quot;fails&quot;? Also, do you realise <code>Thread.sleep(50000)</code> puts the program to sleep for 50 seconds?  So when you run it, it will take nearly a minute before it exits."},{"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"score":0,"creation_date":1390464176,"post_id":21302322,"comment_id":32104882,"body_markdown":"@Octopus `Thread.sleep(50000);` commented means statement is not part of execution \n\n @Trisha it fails to copy file from one location to another.","body":"@Octopus <code>Thread.sleep(50000);</code> commented means statement is not part of execution    @Trisha it fails to copy file from one location to another."}],"answers":[{"tags":[],"owner":{"account_id":968830,"reputation":17562,"user_id":991778,"accept_rate":78,"display_name":"sanbhat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1390463718,"creation_date":1390463718,"answer_id":21302420,"question_id":21302322,"body_markdown":"I think `CamelContext` runs as a separate thread. If you comment out `Thread.sleep(50000);` then `context` will `start()` and immediately `stop()` causing it to throw error?\r\n\r\nIn case of `Thread.sleep(50000);` context will `start()` and while the main thread is sleeping, `context` will finish the job as spawned thread and then `stop()`","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>I think <code>CamelContext</code> runs as a separate thread. If you comment out <code>Thread.sleep(50000);</code> then <code>context</code> will <code>start()</code> and immediately <code>stop()</code> causing it to throw error?</p>\n\n<p>In case of <code>Thread.sleep(50000);</code> context will <code>start()</code> and while the main thread is sleeping, <code>context</code> will finish the job as spawned thread and then <code>stop()</code></p>\n"},{"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1390466995,"creation_date":1390466995,"answer_id":21303367,"question_id":21302322,"body_markdown":"See this FAQ from the Camel website\r\n\r\n- http://camel.apache.org/running-camel-standalone.html\r\n\r\nAnd the link it refers to such as\r\n\r\n- http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html\r\n\r\nAnd read the javadoc of the start method of the CamelContext API\r\n\r\n- http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html\r\n","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>See this FAQ from the Camel website</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/running-camel-standalone.html\" rel=\"nofollow\">http://camel.apache.org/running-camel-standalone.html</a></li>\n</ul>\n\n<p>And the link it refers to such as</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html\" rel=\"nofollow\">http://camel.apache.org/running-camel-standalone-and-have-it-keep-running.html</a></li>\n</ul>\n\n<p>And read the javadoc of the start method of the CamelContext API</p>\n\n<ul>\n<li><a href=\"http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html\" rel=\"nofollow\">http://camel.apache.org/maven/current/camel-core/apidocs/org/apache/camel/CamelContext.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5831299,"reputation":1050,"user_id":4595687,"accept_rate":20,"display_name":"daisura99"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677630819,"creation_date":1677630819,"answer_id":75598594,"question_id":21302322,"body_markdown":"If you&#39;re using `camel-spring-jar`, here&#39;s how you do it: -\r\n\r\n```\r\nimport org.apache.camel.spring.Main;\r\n\r\n/**\r\n * Main class that boot the Camel application\r\n */\r\npublic final class MyApplication {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        Main main = new Main();\r\n        main.run(args);\r\n    }\r\n} \r\n```\r\n\r\nNote that `Main` is imported from `org.apache.camel.spring`, not from the usual `org.apache.camel.main`.\r\n\r\n[Reference](https://people.apache.org/~dkulp/camel/running-camel-standalone-and-have-it-keep-running.html)","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>If you're using <code>camel-spring-jar</code>, here's how you do it: -</p>\n<pre><code>import org.apache.camel.spring.Main;\n\n/**\n * Main class that boot the Camel application\n */\npublic final class MyApplication {\n\n    public static void main(String[] args) throws Exception {\n        Main main = new Main();\n        main.run(args);\n    }\n} \n</code></pre>\n<p>Note that <code>Main</code> is imported from <code>org.apache.camel.spring</code>, not from the usual <code>org.apache.camel.main</code>.</p>\n<p><a href=\"https://people.apache.org/%7Edkulp/camel/running-camel-standalone-and-have-it-keep-running.html\" rel=\"nofollow noreferrer\">Reference</a></p>\n"}],"owner":{"account_id":3768809,"reputation":3216,"user_id":3131537,"accept_rate":54,"display_name":"Darshan Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1946,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":21303367,"answer_count":3,"score":0,"last_activity_date":1677630819,"creation_date":1390463399,"question_id":21302322,"body_markdown":"I am new to Camel and I&#39;m trying to understand how it works.\r\n\r\nI tried the following example:\r\n\r\n    public class CamelMainTest {\r\n    \r\n        \tpublic static void main(String args[]) throws Exception {\r\n        \t\tCamelContext context = new DefaultCamelContext();\r\n        \t\tcontext.addRoutes(new RouteBuilder() {\r\n                    public void configure() {\r\n                    \tfrom(&quot;file:d:\\\\inbox\\\\json?noop=true&quot;).to(&quot;file:d:\\\\outbox&quot;);\r\n                    }\r\n                });\r\n        \t\tcontext.addRoutes(getFileRoute());\r\n        \t\tcontext.start();\r\n        //\t\tThread.sleep(50000);\r\n        \t\tcontext.stop();\r\n        \t\t\r\n    }\r\n\r\nI&#39;m copying a file from one location to another, but it fails.\r\n\r\nWhen I remove the comment from the line `Thread.sleep(50000);` then it works fine.\r\n\r\nCan any one explain why sleeping on the main thread is required?\r\n\r\n\r\n    \r\n","title":"Why sleeping on the main thread is required to run Camel example","body":"<p>I am new to Camel and I'm trying to understand how it works.</p>\n\n<p>I tried the following example:</p>\n\n<pre><code>public class CamelMainTest {\n\n        public static void main(String args[]) throws Exception {\n            CamelContext context = new DefaultCamelContext();\n            context.addRoutes(new RouteBuilder() {\n                public void configure() {\n                    from(\"file:d:\\\\inbox\\\\json?noop=true\").to(\"file:d:\\\\outbox\");\n                }\n            });\n            context.addRoutes(getFileRoute());\n            context.start();\n    //      Thread.sleep(50000);\n            context.stop();\n\n}\n</code></pre>\n\n<p>I'm copying a file from one location to another, but it fails.</p>\n\n<p>When I remove the comment from the line <code>Thread.sleep(50000);</code> then it works fine.</p>\n\n<p>Can any one explain why sleeping on the main thread is required?</p>\n"},{"tags":["java","spring","intellij-idea","jar"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677633640,"post_id":75598587,"comment_id":133375766,"body_markdown":"Have a look inside your jar file and see what&#39;s in the MANIFEST.MF","body":"Have a look inside your jar file and see what&#39;s in the MANIFEST.MF"},{"owner":{"account_id":27560193,"reputation":491,"user_id":21033369,"display_name":"LJ replica"},"score":0,"creation_date":1677639011,"post_id":75598587,"comment_id":133376413,"body_markdown":"Also, check the guide here to see if it helps by using the `mvn clean package` to package it: https://www.baeldung.com/spring-boot-fix-the-no-main-manifest-attribute","body":"Also, check the guide here to see if it helps by using the <code>mvn clean package</code> to package it: <a href=\"https://www.baeldung.com/spring-boot-fix-the-no-main-manifest-attribute\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-fix-the-no-main-manifest-attribute</a>"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677652995,"post_id":75598587,"comment_id":133378159,"body_markdown":"(1) Please use `https://start.spring.io/` to create a springboot apllication , then generated a  demo.zip (2) unzip demo.zip (3) `cd demo` , `gradle clean build` (4) if error , you can delete `src/test`, rerun `gradle clean build`(5) `cd  build/libs`, you can find `demo-0.0.1-SNAPSHOT.jar` then run `java -jar demo-0.0.1-SNAPSHOT.jar`, (6) if everything is ok, you can ise IDEA open this project. (7) you don&#39;t need build  `MANIFEST.MF` your self (if you use plugin org.springframework.boot)","body":"(1) Please use <code>https:&#47;&#47;start.spring.io&#47;</code> to create a springboot apllication , then generated a  demo.zip (2) unzip demo.zip (3) <code>cd demo</code> , <code>gradle clean build</code> (4) if error , you can delete <code>src&#47;test</code>, rerun <code>gradle clean build</code>(5) <code>cd  build&#47;libs</code>, you can find <code>demo-0.0.1-SNAPSHOT.jar</code> then run <code>java -jar demo-0.0.1-SNAPSHOT.jar</code>, (6) if everything is ok, you can ise IDEA open this project. (7) you don&#39;t need build  <code>MANIFEST.MF</code> your self (if you use plugin org.springframework.boot)"}],"owner":{"account_id":18753479,"reputation":97,"user_id":13674064,"display_name":"Luc as"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677630739,"creation_date":1677630739,"question_id":75598587,"body_markdown":"I&#39;ve made a little API using SpringBoot with Java and Gradle. I&#39;m using InteliJ and i&#39;ve followed their documentation to compile my app in an executable .jar : https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar\r\n\r\nThe problem is that when I execute my .jar via the InteliJ IDE or via the command line, Java returns me this error : \r\n\r\n    no main manifest attribute, in C:\\xxx\\xxx\\xxx\\api\\out\\artifacts\\api_jar\\api.jar\r\n    \r\n    Process finished with exit code 1\r\n\r\n...which is pretty weird considering I have made a .MANIFEST file in my project :\r\n\r\nMANIFEST.MF : \r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: com.sharelink.api.SharelinkApiApplication\r\n\r\n\r\nDo you know if there is something wrong with my MANIFEST file? Maybe its the way I compile my .jar ? I really don&#39;t know and I didnt find anything online that could help me with this issue....\r\n\r\nThanks for your help in advance!\r\n\r\n","title":"Java Spring: &quot;no main manifest attribute&quot; when executing .jar","body":"<p>I've made a little API using SpringBoot with Java and Gradle. I'm using InteliJ and i've followed their documentation to compile my app in an executable .jar : <a href=\"https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/compiling-applications.html#run_packaged_jar</a></p>\n<p>The problem is that when I execute my .jar via the InteliJ IDE or via the command line, Java returns me this error :</p>\n<pre><code>no main manifest attribute, in C:\\xxx\\xxx\\xxx\\api\\out\\artifacts\\api_jar\\api.jar\n\nProcess finished with exit code 1\n</code></pre>\n<p>...which is pretty weird considering I have made a .MANIFEST file in my project :</p>\n<p>MANIFEST.MF :</p>\n<pre><code>Manifest-Version: 1.0\nMain-Class: com.sharelink.api.SharelinkApiApplication\n</code></pre>\n<p>Do you know if there is something wrong with my MANIFEST file? Maybe its the way I compile my .jar ? I really don't know and I didnt find anything online that could help me with this issue....</p>\n<p>Thanks for your help in advance!</p>\n"},{"tags":["java","maven","selenium-webdriver","cucumber","pom.xml"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677630020,"creation_date":1677630020,"answer_id":75598539,"question_id":75595727,"body_markdown":"You are initializing the _WebDriver_ instance _`driver`_ within _**End2EndSteps**_ file as:\r\n\r\n\tpublic WebDriver driver;\r\n\t\r\nBut when you create _BaseClass_ object _`bS`_, within _**BaseClass**_ have no idea about the _`driver`_ instance. Hence you see _NullPointerException_.","title":"NullPointerException in Selenium-Maven-Cucumber Framework for WebDriver","body":"<p>You are initializing the <em>WebDriver</em> instance <em><code>driver</code></em> within <em><strong>End2EndSteps</strong></em> file as:</p>\n<pre><code>public WebDriver driver;\n</code></pre>\n<p>But when you create <em>BaseClass</em> object <em><code>bS</code></em>, within <em><strong>BaseClass</strong></em> have no idea about the <em><code>driver</code></em> instance. Hence you see <em>NullPointerException</em>.</p>\n"}],"owner":{"account_id":15816229,"reputation":151,"user_id":11411887,"display_name":"ghost deathrider"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677630020,"creation_date":1677607313,"question_id":75595727,"body_markdown":"I have 2 classes, one is BaseClass and End2EndSteps. In BaseClass I have defined property file reading, browser invoking methods. I am calling the BaseClass method from End2EndSteps class but I am getting NullPointerException. Any help here for a fellow learner. I&#39;ve tried creating a new object of the BaseClass and calling the openChromeBrowser method, in that I got StackOverFlow error.\r\n\r\nThis is the BaseClass code\r\n```\r\npackage org.example;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport java.io.BufferedReader;\r\nimport java.io.FileNotFoundException;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.Properties;\r\n\r\npublic class BaseClass {\r\n\r\n    public Properties properties;\r\n    public String propertyFilePath= &quot;src/main/resources/properties/Configuration.properties&quot;;\r\n\r\n\r\n    public BaseClass(){\r\n        BufferedReader reader;\r\n        try {\r\n            reader = new BufferedReader(new FileReader(propertyFilePath));\r\n            properties = new Properties();\r\n            try {\r\n                properties.load(reader);\r\n                reader.close();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n            throw new RuntimeException(&quot;Configuration.properties not found at &quot; + propertyFilePath);\r\n        }\r\n    }\r\n\r\n    private String getDriverPath(){\r\n        String driverPath = properties.getProperty(&quot;driverPath&quot;);\r\n        if(driverPath!= null) return driverPath;\r\n        else throw new RuntimeException(&quot;driverPath not specified in the Configuration.properties file.&quot;);\r\n    }\r\n\r\n    private String setBrowserProperties(){\r\n        getDriverPath();\r\n        if(getDriverPath()!=null) return System.setProperty(&quot;webdriver.chrome.driver&quot;, getDriverPath());\r\n        else throw new RuntimeException(&quot;Browser properties not set&quot;);\r\n    }\r\n\r\n    public WebDriver openChromeBrowser(WebDriver driver){\r\n        setBrowserProperties();\r\n        if(setBrowserProperties()!=null){\r\n            driver = new ChromeDriver();\r\n            return driver;\r\n        }\r\n        else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);\r\n    }\r\n\r\n    public long getImplicitlyWait() {\r\n        String implicitlyWait = properties.getProperty(&quot;implicitlyWait&quot;);\r\n        if(implicitlyWait != null) return Long.parseLong(implicitlyWait);\r\n        else throw new RuntimeException(&quot;implicitlyWait not specified in the Configuration.properties file.&quot;);\r\n    }\r\n\r\n    public String getApplicationUrl() {\r\n        String url = properties.getProperty(&quot;url&quot;);\r\n        if(url != null) return url;\r\n        else throw new RuntimeException(&quot;url not specified in the Configuration.properties file.&quot;);\r\n    }\r\n}\r\n```\r\nThis is the End2EndSteps code\r\n```\r\npackage stepDefinitions;\r\n\r\nimport io.cucumber.java.en.And;\r\nimport io.cucumber.java.en.Given;\r\nimport io.cucumber.java.en.Then;\r\nimport io.cucumber.java.en.When;\r\nimport org.example.BaseClass;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.interactions.Actions;\r\nimport org.openqa.selenium.support.ui.Select;\r\nimport pageObjects.HomePage;\r\nimport pageObjects.ProductListing;\r\n\r\nimport java.io.File;\r\nimport java.io.FileWriter;\r\nimport java.io.IOException;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\n\r\npublic class End2EndSteps {\r\n\r\n    public WebDriver driver;\r\n    BaseClass bS;\r\n\r\n    @Given(&quot;User is on Home Page&quot;)\r\n    public void user_is_on_home_page() {\r\n        bS.openChromeBrowser(this.driver);\r\n    }\r\n}\r\n```\r\nError:\r\n```\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.252 s &lt;&lt;&lt; FAILURE! - in runners.TestRunner\r\n[ERROR] Automated End2End Tests.Customer place an order by purchasing an item from search  Time elapsed: 0.16 s  &lt;&lt;&lt; ERROR!\r\njava.lang.NullPointerException\r\n        at stepDefinitions.End2EndSteps.user_is_on_home_page(End2EndSteps.java:32)\r\n        at ?.User is on Home Page(file:///C:/Project/IdeaProjects/AutomationTesting/src/test/resources/functionalTests/End2End_Test.feature:5)\r\n\r\n[INFO] \r\n[INFO] Results:\r\n[INFO]\r\n[ERROR] Errors: \r\n[ERROR]   null\r\n[INFO]\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\r\n[INFO]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  7.473 s\r\n[INFO] Finished at: 2023-02-28T23:08:23+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M8:test (default-test) on project AutomationTesting: \r\n[ERROR]\r\n[ERROR] Please refer to C:\\Project\\IdeaProjects\\AutomationTesting\\target\\surefire-reports for the individual test results.\r\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nThis is the property file:\r\n```\r\nurl=&quot;https://shop.demoqa.com&quot;\r\ndriverPath=&quot;C:\\\\mine\\\\Automation_JARS_Drivers\\\\chromedriver\\\\chromedriver.exe&quot;\r\nimplicitlyWait=10\r\n```","title":"NullPointerException in Selenium-Maven-Cucumber Framework for WebDriver","body":"<p>I have 2 classes, one is BaseClass and End2EndSteps. In BaseClass I have defined property file reading, browser invoking methods. I am calling the BaseClass method from End2EndSteps class but I am getting NullPointerException. Any help here for a fellow learner. I've tried creating a new object of the BaseClass and calling the openChromeBrowser method, in that I got StackOverFlow error.</p>\n<p>This is the BaseClass code</p>\n<pre><code>package org.example;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport java.io.BufferedReader;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.Properties;\n\npublic class BaseClass {\n\n    public Properties properties;\n    public String propertyFilePath= &quot;src/main/resources/properties/Configuration.properties&quot;;\n\n\n    public BaseClass(){\n        BufferedReader reader;\n        try {\n            reader = new BufferedReader(new FileReader(propertyFilePath));\n            properties = new Properties();\n            try {\n                properties.load(reader);\n                reader.close();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        } catch (FileNotFoundException e) {\n            e.printStackTrace();\n            throw new RuntimeException(&quot;Configuration.properties not found at &quot; + propertyFilePath);\n        }\n    }\n\n    private String getDriverPath(){\n        String driverPath = properties.getProperty(&quot;driverPath&quot;);\n        if(driverPath!= null) return driverPath;\n        else throw new RuntimeException(&quot;driverPath not specified in the Configuration.properties file.&quot;);\n    }\n\n    private String setBrowserProperties(){\n        getDriverPath();\n        if(getDriverPath()!=null) return System.setProperty(&quot;webdriver.chrome.driver&quot;, getDriverPath());\n        else throw new RuntimeException(&quot;Browser properties not set&quot;);\n    }\n\n    public WebDriver openChromeBrowser(WebDriver driver){\n        setBrowserProperties();\n        if(setBrowserProperties()!=null){\n            driver = new ChromeDriver();\n            return driver;\n        }\n        else throw new RuntimeException(&quot;Chrome Browser is not opened&quot;);\n    }\n\n    public long getImplicitlyWait() {\n        String implicitlyWait = properties.getProperty(&quot;implicitlyWait&quot;);\n        if(implicitlyWait != null) return Long.parseLong(implicitlyWait);\n        else throw new RuntimeException(&quot;implicitlyWait not specified in the Configuration.properties file.&quot;);\n    }\n\n    public String getApplicationUrl() {\n        String url = properties.getProperty(&quot;url&quot;);\n        if(url != null) return url;\n        else throw new RuntimeException(&quot;url not specified in the Configuration.properties file.&quot;);\n    }\n}\n</code></pre>\n<p>This is the End2EndSteps code</p>\n<pre><code>package stepDefinitions;\n\nimport io.cucumber.java.en.And;\nimport io.cucumber.java.en.Given;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport org.example.BaseClass;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.interactions.Actions;\nimport org.openqa.selenium.support.ui.Select;\nimport pageObjects.HomePage;\nimport pageObjects.ProductListing;\n\nimport java.io.File;\nimport java.io.FileWriter;\nimport java.io.IOException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class End2EndSteps {\n\n    public WebDriver driver;\n    BaseClass bS;\n\n    @Given(&quot;User is on Home Page&quot;)\n    public void user_is_on_home_page() {\n        bS.openChromeBrowser(this.driver);\n    }\n}\n</code></pre>\n<p>Error:</p>\n<pre><code>[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 0.252 s &lt;&lt;&lt; FAILURE! - in runners.TestRunner\n[ERROR] Automated End2End Tests.Customer place an order by purchasing an item from search  Time elapsed: 0.16 s  &lt;&lt;&lt; ERROR!\njava.lang.NullPointerException\n        at stepDefinitions.End2EndSteps.user_is_on_home_page(End2EndSteps.java:32)\n        at ?.User is on Home Page(file:///C:/Project/IdeaProjects/AutomationTesting/src/test/resources/functionalTests/End2End_Test.feature:5)\n\n[INFO] \n[INFO] Results:\n[INFO]\n[ERROR] Errors: \n[ERROR]   null\n[INFO]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0\n[INFO]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  7.473 s\n[INFO] Finished at: 2023-02-28T23:08:23+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.0.0-M8:test (default-test) on project AutomationTesting: \n[ERROR]\n[ERROR] Please refer to C:\\Project\\IdeaProjects\\AutomationTesting\\target\\surefire-reports for the individual test results.\n[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>This is the property file:</p>\n<pre><code>url=&quot;https://shop.demoqa.com&quot;\ndriverPath=&quot;C:\\\\mine\\\\Automation_JARS_Drivers\\\\chromedriver\\\\chromedriver.exe&quot;\nimplicitlyWait=10\n</code></pre>\n"},{"tags":["java","eclipse","postfix-notation","infix-notation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1677630240,"post_id":75598459,"comment_id":133375271,"body_markdown":"There are much simpler expressions which your code doesn&#39;t handle correctly -- e.g. &quot;4-2&quot; prints &quot;4-2&quot; instead of &quot;42-&quot;. I suggest that you step through your code with the debugger while it processes a simple expression.","body":"There are much simpler expressions which your code doesn&#39;t handle correctly -- e.g. &quot;4-2&quot; prints &quot;4-2&quot; instead of &quot;42-&quot;. I suggest that you step through your code with the debugger while it processes a simple expression."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677630333,"post_id":75598459,"comment_id":133375285,"body_markdown":"In particular, think about `token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;` -- what *exactly* does that do?","body":"In particular, think about <code>token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;</code> -- what <i>exactly</i> does that do?"},{"owner":{"account_id":27904370,"reputation":1,"user_id":21307912,"display_name":"Tiara Grier"},"score":0,"creation_date":1677701407,"post_id":75598459,"comment_id":133392121,"body_markdown":"My goal was to check if the token was a digit, but now that you ask, it may make more sense to check if the token isn&#39;t an operator or parentheses.","body":"My goal was to check if the token was a digit, but now that you ask, it may make more sense to check if the token isn&#39;t an operator or parentheses."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711393,"post_id":75598459,"comment_id":133394420,"body_markdown":"Does `token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;` check whether the token is a digit? Is it true or false when `token` is `&#39;(&#39;`? What does the `||` operator do?","body":"Does <code>token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;</code> check whether the token is a digit? Is it true or false when <code>token</code> is <code>&#39;(&#39;</code>? What does the <code>||</code> operator do?"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711508,"post_id":75598459,"comment_id":133394449,"body_markdown":"And have you stepped through your code with the debugger? That is the first thing you should do.","body":"And have you stepped through your code with the debugger? That is the first thing you should do."}],"owner":{"account_id":27904370,"reputation":1,"user_id":21307912,"display_name":"Tiara Grier"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677629143,"creation_date":1677629143,"question_id":75598459,"body_markdown":"I&#39;ve been stuck on this program for about a week and I can&#39;t see what I&#39;m doing wrong. I can&#39;t get the operands and operators to print in the proper spot and the &#39;(&#39; &#39;)&#39; won&#39;t delete. Here&#39;s what I have so far. HELP!!!\r\n\r\n\r\n```\r\npublic static int precedence(char token) {\r\n\t\t\tif (token == &#39;^&#39;) {\r\n\t\t\t\treturn 1; // Lowest precedence\r\n\t\t\t\t} else if (token == &#39;+&#39; || token == &#39;-&#39;) {\r\n\t\t\t\t\treturn 2;\r\n\t\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39;) {\r\n\t\t\t\t\t\treturn 3;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\t\r\n\t\t// method to convert infox =&gt; postfix\r\n\t\tpublic  static String infixToPostfix(String infix){\r\n\t\t\tMyStackTiara&lt;Character&gt; operator = new MyStackTiara&lt;&gt;(); // 1. Create an empty stack\r\n\t\t\tString postfix = &quot;&quot;; // Create an empty string stack\r\n\t\t\tMyStackTiara&lt;Character&gt; noNeed = new MyStackTiara&lt;&gt;();\r\n\t\t\t\r\n\t\t\tfor (int i = 0; i &lt; infix.length(); i++) {// Scan input from left to right\r\n\t\t\t\tchar token = infix.charAt(i); // Current character\r\n\t\t\t\t\r\n\t\t\t\tif (token == &#39;(&#39;) {\r\n\t\t\t\t\toperator.push(token);\r\n\t\t\t\t} else if (token &gt;= &#39;0&#39; || token &lt;= &#39;9&#39;) {\r\n\t\t\t\t\t// Check for operand and append to string\r\n\t\t\t\t\tpostfix += token;\r\n\t\t\t\t}  else if (token == &#39;)&#39;) {\r\n\t\t\t\t\twhile (!operator.isEmpty()) {\r\n\t\t\t\t\t\tif (operator.peek() == &#39;(&#39;) {\r\n\t\t\t\t\t\t\tnoNeed.push(operator.pop());\r\n\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t} else\r\n\t\t\t\t\t\t\toperator.pop();\r\n\t\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t//operator.pop();\r\n\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39; || token == &#39;+&#39; || token == &#39;-&#39; || token == &#39;^&#39;) {\r\n\t\t\t\t\tif (token == &#39;^&#39;) {\r\n\t\t\t\t\t\tchar op3 = operator.pop();\r\n\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op3;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t} else if (token == &#39;+&#39; || token == &#39;-&#39;) {\r\n\t\t\t\t\t\t\tchar op2 = operator.pop();\r\n\t\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op2;\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t\t} else if (token == &#39;*&#39; || token == &#39;/&#39;) {\r\n\t\t\t\t\t\t\t\tchar op1 = operator.pop();\r\n\t\t\t\t\t\t\t\tchar operand1 = operator.pop();\r\n\t\t\t\t\t\t\t\tchar operand2 = operator.pop();\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tString newPostfix = postfix + operand2 + operand1 + op1;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tpostfix += newPostfix;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\treturn postfix;\r\n\t\t}\r\n```\r\n\r\n\r\n\r\nWhen the infix is: (4-2)*(2+3)\r\n\r\nI want it to print: 42-23+\r\n\r\nBut it&#39;s printing: 4-2)*2+3)","title":"Infix to postfix assignment","body":"<p>I've been stuck on this program for about a week and I can't see what I'm doing wrong. I can't get the operands and operators to print in the proper spot and the '(' ')' won't delete. Here's what I have so far. HELP!!!</p>\n<pre><code>public static int precedence(char token) {\n            if (token == '^') {\n                return 1; // Lowest precedence\n                } else if (token == '+' || token == '-') {\n                    return 2;\n                    } else if (token == '*' || token == '/') {\n                        return 3;\n                        } else\n                            return -1;\n            }\n        \n        // method to convert infox =&gt; postfix\n        public  static String infixToPostfix(String infix){\n            MyStackTiara&lt;Character&gt; operator = new MyStackTiara&lt;&gt;(); // 1. Create an empty stack\n            String postfix = &quot;&quot;; // Create an empty string stack\n            MyStackTiara&lt;Character&gt; noNeed = new MyStackTiara&lt;&gt;();\n            \n            for (int i = 0; i &lt; infix.length(); i++) {// Scan input from left to right\n                char token = infix.charAt(i); // Current character\n                \n                if (token == '(') {\n                    operator.push(token);\n                } else if (token &gt;= '0' || token &lt;= '9') {\n                    // Check for operand and append to string\n                    postfix += token;\n                }  else if (token == ')') {\n                    while (!operator.isEmpty()) {\n                        if (operator.peek() == '(') {\n                            noNeed.push(operator.pop());\n                            break;\n                        } else\n                            operator.pop();\n                    }\n                \n                    //operator.pop();\n                } else if (token == '*' || token == '/' || token == '+' || token == '-' || token == '^') {\n                    if (token == '^') {\n                        char op3 = operator.pop();\n                        char operand1 = operator.pop();\n                        char operand2 = operator.pop();\n                        \n                        String newPostfix = postfix + operand2 + operand1 + op3;\n                        \n                        postfix += newPostfix;\n                        } else if (token == '+' || token == '-') {\n                            char op2 = operator.pop();\n                            char operand1 = operator.pop();\n                            char operand2 = operator.pop();\n                            \n                            String newPostfix = postfix + operand2 + operand1 + op2;\n                            \n                            postfix += newPostfix;\n                            } else if (token == '*' || token == '/') {\n                                char op1 = operator.pop();\n                                char operand1 = operator.pop();\n                                char operand2 = operator.pop();\n                                \n                                String newPostfix = postfix + operand2 + operand1 + op1;\n                                \n                                postfix += newPostfix;\n                                }\n                        }\n                }\n            return postfix;\n        }\n</code></pre>\n<p>When the infix is: (4-2)*(2+3)</p>\n<p>I want it to print: 42-23+</p>\n<p>But it's printing: 4-2)*2+3)</p>\n"},{"tags":["java","mongodb","log4j","log4j2","mongodb-atlas"],"comments":[{"owner":{"account_id":2457863,"reputation":183,"user_id":2142591,"accept_rate":33,"display_name":"hossein shemshadi"},"score":0,"creation_date":1631721725,"post_id":68849458,"comment_id":122300914,"body_markdown":"I have the exat same issue even on my local mongo docker container. Did you resolve the issue?","body":"I have the exat same issue even on my local mongo docker container. Did you resolve the issue?"},{"owner":{"account_id":9040519,"reputation":23,"user_id":6734957,"display_name":"Marc Segond"},"score":0,"creation_date":1632323470,"post_id":68849458,"comment_id":122462400,"body_markdown":"Hi @hosseinshemshadi. No, nobody seems to be able to help...I don&#39;t know what happens, and it seems we are very few willing to use log4j into mongo db unfortunately...","body":"Hi @hosseinshemshadi. No, nobody seems to be able to help...I don&#39;t know what happens, and it seems we are very few willing to use log4j into mongo db unfortunately..."}],"answers":[{"tags":[],"owner":{"account_id":2457863,"reputation":183,"user_id":2142591,"accept_rate":33,"display_name":"hossein shemshadi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1632638285,"creation_date":1632638285,"answer_id":69332432,"question_id":68849458,"body_markdown":"Finally I found the problem in my configurations. Maybe it works for you too.\r\nI was used to have multiple appenders in root logger. So mongodb was trying to log something like: &quot;hey, I&#39;m going to log&quot; after initializing the RollingFileAppender but before the mongodbAppender. You can see it in below:\r\n\r\n        Root:\r\n      level: info\r\n      AppenderRef:\r\n        - ref: ConsoleAppender\r\n        - ref: RollingFileAppender\r\n        - ref: MongoAppender\r\n\r\nJust by changing the mongo appender&#39;s logger everything worked for me.\r\n\r\n      \r\n    logger:\r\n      - name: com.sinansoft\r\n        level: info\r\n        additivity: false\r\n        AppenderRef:\r\n          - ref: MongoAppender\r\n\r\n    Root:\r\n      level: info\r\n      AppenderRef:\r\n        - ref: ConsoleAppender\r\n        - ref: RollingFileAppender\r\n\r\nLet me know if you want more configuration details in this case.","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>Finally I found the problem in my configurations. Maybe it works for you too.\nI was used to have multiple appenders in root logger. So mongodb was trying to log something like: &quot;hey, I'm going to log&quot; after initializing the RollingFileAppender but before the mongodbAppender. You can see it in below:</p>\n<pre><code>    Root:\n  level: info\n  AppenderRef:\n    - ref: ConsoleAppender\n    - ref: RollingFileAppender\n    - ref: MongoAppender\n</code></pre>\n<p>Just by changing the mongo appender's logger everything worked for me.</p>\n<pre><code>logger:\n  - name: com.sinansoft\n    level: info\n    additivity: false\n    AppenderRef:\n      - ref: MongoAppender\n\nRoot:\n  level: info\n  AppenderRef:\n    - ref: ConsoleAppender\n    - ref: RollingFileAppender\n</code></pre>\n<p>Let me know if you want more configuration details in this case.</p>\n"},{"tags":[],"owner":{"account_id":27134979,"reputation":1,"user_id":20676630,"display_name":"cio33"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677628983,"creation_date":1677628983,"answer_id":75598444,"question_id":68849458,"body_markdown":"I was having this issue for multiple cloud hosted clusters from multiple different node.js instances, docker containers, and kubernetes clusters. After a lot of troubleshooting and reading, I had discovered that my personal firewall was blocking it. I simply allowed port 27017 and everything worked.","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>I was having this issue for multiple cloud hosted clusters from multiple different node.js instances, docker containers, and kubernetes clusters. After a lot of troubleshooting and reading, I had discovered that my personal firewall was blocking it. I simply allowed port 27017 and everything worked.</p>\n"}],"owner":{"account_id":9040519,"reputation":23,"user_id":6734957,"display_name":"Marc Segond"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69332432,"answer_count":2,"score":1,"last_activity_date":1677628983,"creation_date":1629382136,"question_id":68849458,"body_markdown":"I have configured Log4j2 to write the logs to my Mongo Atlas cluster (4.4.8).\r\n\r\nThe configuration seems ok (I use the connection string given by Atlas), and the logs (console) say that the connection to the MongoDB is ok, database retrieved correctly and collection retrived correctly.\r\n\r\nBut then, when it tries to write a log to the DB, it times out after 30000ms saying:\r\n\r\n`Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[]`\r\n\r\nI also can see several messages saying: \r\n\r\n    INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out\r\n\r\nWhat I don&#39;t understand is that, using the very same driver, same connection string, all the operations I perform on this same MongoDB managing the connection myself (I have a MongoDBService class where I build the Mongo Connection etc...normal stuff) work with no problem, so it leads me to thing that it is Log4j that handles the connection to MongoDB in a bad way...\r\n\r\nAny help is appreciated!\r\n","title":"Log4j MongoDB stuck in timeout after 30000ms","body":"<p>I have configured Log4j2 to write the logs to my Mongo Atlas cluster (4.4.8).</p>\n<p>The configuration seems ok (I use the connection string given by Atlas), and the logs (console) say that the connection to the MongoDB is ok, database retrieved correctly and collection retrived correctly.</p>\n<p>But then, when it tries to write a log to the DB, it times out after 30000ms saying:</p>\n<p><code>Timed out after 30000 ms while waiting to connect. Client view of cluster state is {type=UNKNOWN, servers=[]</code></p>\n<p>I also can see several messages saying:</p>\n<pre><code>INFO  org.mongodb.driver.cluster - Cluster description not yet available. Waiting for 30000 ms before timing out\n</code></pre>\n<p>What I don't understand is that, using the very same driver, same connection string, all the operations I perform on this same MongoDB managing the connection myself (I have a MongoDBService class where I build the Mongo Connection etc...normal stuff) work with no problem, so it leads me to thing that it is Log4j that handles the connection to MongoDB in a bad way...</p>\n<p>Any help is appreciated!</p>\n"},{"tags":["java","linux","terminal","logback"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677555547,"post_id":75586577,"comment_id":133356848,"body_markdown":"What is the log implementation behind SLF4J? log4j or kogback?","body":"What is the log implementation behind SLF4J? log4j or kogback?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":1,"creation_date":1677555635,"post_id":75586577,"comment_id":133356863,"body_markdown":"Does this answer your question? [Logback: use colored output only when logging to a real terminal](https://stackoverflow.com/questions/31046748/logback-use-colored-output-only-when-logging-to-a-real-terminal)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31046748/logback-use-colored-output-only-when-logging-to-a-real-terminal\">Logback: use colored output only when logging to a real terminal</a>"},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677558482,"post_id":75586577,"comment_id":133357204,"body_markdown":"Ah forgot - Logback preferred.","body":"Ah forgot - Logback preferred."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677558621,"post_id":75586577,"comment_id":133357213,"body_markdown":"The link MIGHT help I&#39;ll have to look it over closer when I have time.","body":"The link MIGHT help I&#39;ll have to look it over closer when I have time."},{"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"score":0,"creation_date":1677628754,"post_id":75586577,"comment_id":133375064,"body_markdown":"I wouldn&#39;t say the link is an answer since that requirement is much more complicated, but there was a link to a useful portion of the documentation there.","body":"I wouldn&#39;t say the link is an answer since that requirement is much more complicated, but there was a link to a useful portion of the documentation there."}],"answers":[{"tags":[],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677628688,"creation_date":1677628688,"answer_id":75598420,"question_id":75586577,"body_markdown":"Easy once you find it in the docs. I&#39;ve been all over those docs but had no idea this was built in. You may need the &quot;withJansi&quot; boolean set (unless you&#39;re on Linux/Unix, see docs) and then you can use %highlight([whatever to colorize]) inside your encoder pattern.\r\n\r\nhttps://logback.qos.ch/manual/layouts.html#coloring\r\n\r\n    &lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;withJansi&gt;true&lt;/withJansi&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;[%thread] %highlight(%-5level) %logger{0} - %msg%n&lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n(Don&#39;t just copy/paste that pattern above since it&#39;s missing date/time and usually you&#39;ll want that...)","title":"How can we output colored Logback Java logs on a Linux terminal via &quot;gradle run&quot;?","body":"<p>Easy once you find it in the docs. I've been all over those docs but had no idea this was built in. You may need the &quot;withJansi&quot; boolean set (unless you're on Linux/Unix, see docs) and then you can use %highlight([whatever to colorize]) inside your encoder pattern.</p>\n<p><a href=\"https://logback.qos.ch/manual/layouts.html#coloring\" rel=\"nofollow noreferrer\">https://logback.qos.ch/manual/layouts.html#coloring</a></p>\n<pre><code>&lt;appender name=&quot;CONSOLE&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;withJansi&gt;true&lt;/withJansi&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;[%thread] %highlight(%-5level) %logger{0} - %msg%n&lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n</code></pre>\n<p>(Don't just copy/paste that pattern above since it's missing date/time and usually you'll want that...)</p>\n"}],"owner":{"account_id":109445,"reputation":3624,"user_id":289995,"accept_rate":85,"display_name":"Manius"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75598420,"answer_count":1,"score":1,"last_activity_date":1677628791,"creation_date":1677541075,"question_id":75586577,"body_markdown":"A &quot;gradle run&quot; of a Java application on a Linux terminal (xfce4-terminal) that outputs SLF4J logs prints all text in plain boring white.\r\n\r\nTo clarify a bit more, I&#39;d like this to happen automatically without any change to existing log statements. \r\n\r\nWhat&#39;s the best way to color those ERROR/WARN/INFO/DEBUG output lines? (Ex. Red/Yellow/Green/Blue)","title":"How can we output colored Logback Java logs on a Linux terminal via &quot;gradle run&quot;?","body":"<p>A &quot;gradle run&quot; of a Java application on a Linux terminal (xfce4-terminal) that outputs SLF4J logs prints all text in plain boring white.</p>\n<p>To clarify a bit more, I'd like this to happen automatically without any change to existing log statements.</p>\n<p>What's the best way to color those ERROR/WARN/INFO/DEBUG output lines? (Ex. Red/Yellow/Green/Blue)</p>\n"},{"tags":["java","android","android-5.0-lollipop","android-5.1.1-lollipop"],"owner":{"account_id":25600944,"reputation":11,"user_id":19375972,"display_name":"Etan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677628787,"creation_date":1677573110,"question_id":75589567,"body_markdown":"I develop an Android application in Java, using the Level 21 API (Lollipop), which aims to prevent third parties from manipulating the phone to turn on the screen.\r\n\r\nI would like to point out that I am a beginner in the field of Android mobile application development. Would you have any solutions to suggest and explain to me to prevent the screen from turning on ?\r\n\r\n• I explored various methods to achieve this goal, including using the PowerManager coupled with the goToSleep method to put certain elements of the device to sleep however, this technique is obsolete.\r\n\r\n• I also tried using PowerManager with WakeLock to lock the state of certain items on the device, but this did not produce the desired results and many of the options are also obsolete.\r\n\r\n• Finally, I used the Force-lock method in xml to turn off the screen, but this does not lock it into a permanent state. \r\n","title":"Block the screen from turning on your Android phone","body":"<p>I develop an Android application in Java, using the Level 21 API (Lollipop), which aims to prevent third parties from manipulating the phone to turn on the screen.</p>\n<p>I would like to point out that I am a beginner in the field of Android mobile application development. Would you have any solutions to suggest and explain to me to prevent the screen from turning on ?</p>\n<p>• I explored various methods to achieve this goal, including using the PowerManager coupled with the goToSleep method to put certain elements of the device to sleep however, this technique is obsolete.</p>\n<p>• I also tried using PowerManager with WakeLock to lock the state of certain items on the device, but this did not produce the desired results and many of the options are also obsolete.</p>\n<p>• Finally, I used the Force-lock method in xml to turn off the screen, but this does not lock it into a permanent state.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1677615644,"post_id":75596840,"comment_id":133372370,"body_markdown":"Interesting question. I cannot find any documentation specifically explaining what “width” and “height” float numbers mean precisely. For example, no details on [constructor of `Scene`](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double)).","body":"Interesting question. I cannot find any documentation specifically explaining what “width” and “height” float numbers mean precisely. For example, no details on <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Scene.html#%3Cinit%3E(javafx.scene.Parent,double,double)\" rel=\"nofollow noreferrer\">constructor of <code>Scene</code></a>."},{"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"score":0,"creation_date":1677615841,"post_id":75596840,"comment_id":133372420,"body_markdown":"I also did some research in multiple sites and classes and found nothing","body":"I also did some research in multiple sites and classes and found nothing"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":1,"creation_date":1677616297,"post_id":75596840,"comment_id":133372538,"body_markdown":"From the documentation of Node here, they talk about using pixels https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html I think it can be the same thing with the other components, I delete my answer to find a good reference","body":"From the documentation of Node here, they talk about using pixels <a href=\"https://docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/javafx/api/javafx/scene/Node.html</a> I think it can be the same thing with the other components, I delete my answer to find a good reference"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1677616736,"post_id":75596840,"comment_id":133372632,"body_markdown":"With the advent of high-density screens, Cascading Style Sheets (CSS) years ago changed the meaning of their `px` (pixel) unit of size, changing from physical screen picture elements to a [logical unit](https://en.wikipedia.org/wiki/Pixel#Logical_pixel) of minimally apparent physical drawing. Unfortunately I’ve not seen a precise definition in CSS. Apparently JavaFX/OpenJFX is doing something similar, but with even less specification/documentation.","body":"With the advent of high-density screens, Cascading Style Sheets (CSS) years ago changed the meaning of their <code>px</code> (pixel) unit of size, changing from physical screen picture elements to a <a href=\"https://en.wikipedia.org/wiki/Pixel#Logical_pixel\" rel=\"nofollow noreferrer\">logical unit</a> of minimally apparent physical drawing. Unfortunately I’ve not seen a precise definition in CSS. Apparently JavaFX/OpenJFX is doing something similar, but with even less specification/documentation."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1677616811,"post_id":75596840,"comment_id":133372652,"body_markdown":"The closest definition I know of in Javadoc is the [Coordinate System](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html) documentation for `Node`, though it is not really well-defined, perhaps deliberately.  If a dimension is specified in CSS as a size or length, there [are more unit options](https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typesize).  The equivalent term in the JavaFX CSS spec is *&quot;**px**: pixels, relative to the viewing device&quot;*, which is the default unit used.","body":"The closest definition I know of in Javadoc is the <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/Node.html\" rel=\"nofollow noreferrer\">Coordinate System</a> documentation for <code>Node</code>, though it is not really well-defined, perhaps deliberately.  If a dimension is specified in CSS as a size or length, there <a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/scene/doc-files/cssref.html#typesize\" rel=\"nofollow noreferrer\">are more unit options</a>.  The equivalent term in the JavaFX CSS spec is <i>&quot;<b>px</b>: pixels, relative to the viewing device&quot;</i>, which is the default unit used."}],"answers":[{"tags":[],"owner":{"account_id":1193459,"reputation":3979,"user_id":1165724,"display_name":"swpalmer"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1677628277,"creation_date":1677622941,"answer_id":75597886,"question_id":75596840,"body_markdown":"They are in pixels, subject to a scaling factor for high DPI displays.\r\n\r\nFrom the docs for Node:\r\n\r\n&gt; At the device pixel level, integer coordinates map onto the corners and cracks between the pixels and the centers of the pixels appear at the midpoints between integer pixel locations. Because all coordinate values are specified with floating point numbers, coordinates can precisely point to these corners (when the floating point values have exact integer values) or to any location on the pixel. For example, a coordinate of (0.5, 0.5) would point to the center of the upper left pixel on the Stage. Similarly, a rectangle at (0, 0) with dimensions of 10 by 10 would span from the upper left corner of the upper left pixel on the Stage to the lower right corner of the 10th pixel on the 10th scanline. The pixel center of the last pixel inside that rectangle would be at the coordinates (9.5, 9.5).\r\n\r\nFor scaling factor, see:\r\n \r\n * https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()\r\n\r\nWhich states: \r\n\r\n&gt; The scale that the Window will apply to horizontal scene coordinates in all stages of rendering and compositing the output to the screen or other destination device.\r\n\r\nSimilarly OutputScaleY exists for the vertical coordinates.\r\n\r\nAlso:\r\n\r\n * https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\r\n\r\n","title":"What is the unit of size, spacing and other properties in JavaFX","body":"<p>They are in pixels, subject to a scaling factor for high DPI displays.</p>\n<p>From the docs for Node:</p>\n<blockquote>\n<p>At the device pixel level, integer coordinates map onto the corners and cracks between the pixels and the centers of the pixels appear at the midpoints between integer pixel locations. Because all coordinate values are specified with floating point numbers, coordinates can precisely point to these corners (when the floating point values have exact integer values) or to any location on the pixel. For example, a coordinate of (0.5, 0.5) would point to the center of the upper left pixel on the Stage. Similarly, a rectangle at (0, 0) with dimensions of 10 by 10 would span from the upper left corner of the upper left pixel on the Stage to the lower right corner of the 10th pixel on the 10th scanline. The pixel center of the last pixel inside that rectangle would be at the coordinates (9.5, 9.5).</p>\n</blockquote>\n<p>For scaling factor, see:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()\" rel=\"noreferrer\">https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Window.html#getOutputScaleX()</a></li>\n</ul>\n<p>Which states:</p>\n<blockquote>\n<p>The scale that the Window will apply to horizontal scene coordinates in all stages of rendering and compositing the output to the screen or other destination device.</p>\n</blockquote>\n<p>Similarly OutputScaleY exists for the vertical coordinates.</p>\n<p>Also:</p>\n<ul>\n<li><a href=\"https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()\" rel=\"noreferrer\">https://openjfx.io/javadoc/19/javafx.graphics/javafx/stage/Screen.html#getOutputScaleX()</a></li>\n</ul>\n"}],"owner":{"account_id":2681318,"reputation":351,"user_id":2316663,"display_name":"Osama El-Ghonimy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":75597886,"answer_count":1,"score":6,"last_activity_date":1677628277,"creation_date":1677615099,"question_id":75596840,"body_markdown":"When learning JavaFX you find that you can set the height and width of scene, you can set the spacing between nodes in HBox, and other similar aspects.\r\nMy question is about the unit of such values.\r\nFor example, in this simple code:\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.stage.Stage;\r\n\r\npublic class TestGUI extends Application{\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        Button btn1 = new Button(&quot;OK&quot;);\r\n        Button btn2 = new Button(&quot;Cancel&quot;);\r\n        HBox root = new HBox(15,btn1,btn2);\r\n        root.setAlignment(Pos.CENTER);\r\n        Scene scene = new Scene(root,250,50);\r\n        primaryStage.setScene(scene);\r\n        primaryStage.setTitle(&quot;GUI Example&quot;);\r\n        primaryStage.show();\r\n    }\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n```\r\nWhat is the units of 250, 50 and 15?\r\n","title":"What is the unit of size, spacing and other properties in JavaFX","body":"<p>When learning JavaFX you find that you can set the height and width of scene, you can set the spacing between nodes in HBox, and other similar aspects.\nMy question is about the unit of such values.\nFor example, in this simple code:</p>\n<pre><code>import javafx.application.Application;\nimport javafx.geometry.Pos;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.stage.Stage;\n\npublic class TestGUI extends Application{\n    @Override\n    public void start(Stage primaryStage) {\n        Button btn1 = new Button(&quot;OK&quot;);\n        Button btn2 = new Button(&quot;Cancel&quot;);\n        HBox root = new HBox(15,btn1,btn2);\n        root.setAlignment(Pos.CENTER);\n        Scene scene = new Scene(root,250,50);\n        primaryStage.setScene(scene);\n        primaryStage.setTitle(&quot;GUI Example&quot;);\n        primaryStage.show();\n    }\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n<p>What is the units of 250, 50 and 15?</p>\n"},{"tags":["java","spring-boot","querydsl"],"comments":[{"owner":{"account_id":5702748,"reputation":89,"user_id":4507247,"accept_rate":76,"display_name":"simon77"},"score":0,"creation_date":1684328139,"post_id":75566387,"comment_id":134501921,"body_markdown":"Have you found a solution for this problem?","body":"Have you found a solution for this problem?"}],"answers":[{"tags":[],"owner":{"account_id":27883338,"reputation":11,"user_id":21291342,"display_name":"Vasilis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677488647,"creation_date":1677488647,"answer_id":75578496,"question_id":75566387,"body_markdown":"Well, in intellij you have to right click your pom.xml file and select maven &gt; generate sources. After a few seconds that the loading is finished, you must run a maven `clean and compile` command. Afterwards, if there are no errors, you may run your project and the QClasses should be generated. ","title":"QEntities are not generated","body":"<p>Well, in intellij you have to right click your pom.xml file and select maven &gt; generate sources. After a few seconds that the loading is finished, you must run a maven <code>clean and compile</code> command. Afterwards, if there are no errors, you may run your project and the QClasses should be generated.</p>\n"},{"tags":[],"owner":{"account_id":27877229,"reputation":11,"user_id":21286481,"display_name":"Sataraja"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677628243,"creation_date":1677628243,"answer_id":75598395,"question_id":75566387,"body_markdown":"Usually I use vscode but I tried with intellij but I can&#39;t clean and build maven because when I try to open effective pom I get an error","title":"QEntities are not generated","body":"<p>Usually I use vscode but I tried with intellij but I can't clean and build maven because when I try to open effective pom I get an error</p>\n"}],"owner":{"account_id":27877229,"reputation":11,"user_id":21286481,"display_name":"Sataraja"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677628243,"creation_date":1677338285,"question_id":75566387,"body_markdown":"I created a spring boot project but QEntities are not generated. Can anyone help me figure out how to fix this? Thanks.\r\n\r\nThe error that I get is:\r\n`QAppello cannot be resolved to a type`. \r\nAppello is an entity of my project and AppelloRepository is its repository.\r\nI tried to post in pom many dependencies that i found out in internet but nothing worked out.\r\n\r\n\r\npom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\r\n\t&lt;groupId&gt;com.iuni_datamodel&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;iuni_datamodel&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;iuni_datamodel&lt;/name&gt;\r\n\t&lt;description&gt;data model &lt;/description&gt;\r\n\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.9.0&lt;/version&gt;\r\n\t\t  &lt;/dependency&gt;\r\n\t\t  &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt;\r\n\t\t\t&lt;classifier&gt;jpa&lt;/classifier&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\r\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.0.2&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;excludes&gt;\r\n\t\t\t\t\t\t&lt;exclude&gt;\r\n\t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t\t\t\t&lt;/exclude&gt;\r\n\t\t\t\t\t&lt;/excludes&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.8.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source /&gt;\r\n\t\t\t\t\t&lt;target /&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t &lt;!--Plugin for query-dsl--&gt;\r\n\t\t\t &lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.1.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t  &lt;execution&gt;\r\n\t\t\t\t\t&lt;phase&gt;generate-sources&lt;/phase&gt;\r\n\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t  &lt;goal&gt;process&lt;/goal&gt;\r\n\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t  &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\r\n\t\t\t\t\t   &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\r\n\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t  &lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t  &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n\r\nAppello.java  (entity)\r\n\r\n```\r\npackage com.iuni_datamodel.Appello;\r\n\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\nimport java.util.UUID;\r\nimport org.hibernate.annotations.DynamicInsert;\r\nimport org.hibernate.annotations.DynamicUpdate;\r\nimport org.hibernate.annotations.GenericGenerator;\r\n\r\nimport com.querydsl.core.annotations.QueryEntity;\r\n\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Builder;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\n\r\n\r\n// Data annotation\r\n@QueryEntity\r\n@DynamicInsert\r\n@DynamicUpdate\r\n// Code generation annotation\r\n@Data\r\n@Builder(toBuilder = true)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Appello implements Serializable{\r\n\r\n    @Id\r\n    @Column(length = 16)\r\n    @GeneratedValue(generator = &quot;uuid2&quot;)\r\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\r\n    private UUID id;\r\n\r\n    private Date dataInizio;\r\n    private Date dataFine;\r\n\r\n}\r\n\r\n\r\n    /* \r\nList&lt;GameVersion&gt; gameVersions = new JPAQuery(em)\r\n    .select()\r\n    .from()\r\n    .leftJoin()\r\n    .fetchJoin()\r\n    .fetch();\r\n\r\nfor(GameVersion gameVersion : gameVersons){\r\n    gameversion.getGameversionPlayModes();\r\n\r\n}\r\n*/\r\n```\r\n\r\n\r\nAppelloRepository.java\r\n\r\n\r\n```\r\npackage com.iuni_datamodel.Appello;\r\n\r\n\r\nimport java.util.UUID;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\r\nimport org.springframework.data.querydsl.binding.QuerydslBinderCustomizer;\r\nimport org.springframework.data.querydsl.binding.QuerydslBindings;\r\n\r\n\r\npublic interface AppelloRepository extends JpaRepository&lt;Appello, UUID&gt;, QuerydslPredicateExecutor&lt;Appello&gt;, QuerydslBinderCustomizer&lt;QAppello&gt; {\r\n\r\n    @Override\r\n    default void customize(QuerydslBindings bindings, QAppello root) {\r\n         \r\n    }\r\n\r\n}\r\n```\r\n","title":"QEntities are not generated","body":"<p>I created a spring boot project but QEntities are not generated. Can anyone help me figure out how to fix this? Thanks.</p>\n<p>The error that I get is:\n<code>QAppello cannot be resolved to a type</code>.\nAppello is an entity of my project and AppelloRepository is its repository.\nI tried to post in pom many dependencies that i found out in internet but nothing worked out.</p>\n<p>pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;groupId&gt;com.iuni_datamodel&lt;/groupId&gt;\n    &lt;artifactId&gt;iuni_datamodel&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;iuni_datamodel&lt;/name&gt;\n    &lt;description&gt;data model &lt;/description&gt;\n\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    \n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.6.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.9.0&lt;/version&gt;\n          &lt;/dependency&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-apt&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6&lt;/version&gt;\n            &lt;classifier&gt;jpa&lt;/classifier&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.querydsl&lt;/groupId&gt;\n            &lt;artifactId&gt;querydsl-jpa&lt;/artifactId&gt;\n            &lt;version&gt;4.0.6&lt;/version&gt;\n        &lt;/dependency&gt;\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        \n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source /&gt;\n                    &lt;target /&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n             &lt;!--Plugin for query-dsl--&gt;\n             &lt;plugin&gt;\n                &lt;groupId&gt;com.mysema.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;apt-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.1.3&lt;/version&gt;\n                &lt;executions&gt;\n                  &lt;execution&gt;\n                    &lt;phase&gt;generate-sources&lt;/phase&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;process&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                      &lt;outputDirectory&gt;${project.build.directory}/generated-sources&lt;/outputDirectory&gt;\n                       &lt;processor&gt;com.querydsl.apt.jpa.JPAAnnotationProcessor&lt;/processor&gt;\n                    &lt;/configuration&gt;\n                  &lt;/execution&gt;\n                &lt;/executions&gt;\n              &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Appello.java  (entity)</p>\n<pre><code>package com.iuni_datamodel.Appello;\n\nimport java.io.Serializable;\nimport java.util.Date;\nimport java.util.UUID;\nimport org.hibernate.annotations.DynamicInsert;\nimport org.hibernate.annotations.DynamicUpdate;\nimport org.hibernate.annotations.GenericGenerator;\n\nimport com.querydsl.core.annotations.QueryEntity;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n\n// Data annotation\n@QueryEntity\n@DynamicInsert\n@DynamicUpdate\n// Code generation annotation\n@Data\n@Builder(toBuilder = true)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Appello implements Serializable{\n\n    @Id\n    @Column(length = 16)\n    @GeneratedValue(generator = &quot;uuid2&quot;)\n    @GenericGenerator(name = &quot;uuid2&quot;, strategy = &quot;uuid2&quot;)\n    private UUID id;\n\n    private Date dataInizio;\n    private Date dataFine;\n\n}\n\n\n    /* \nList&lt;GameVersion&gt; gameVersions = new JPAQuery(em)\n    .select()\n    .from()\n    .leftJoin()\n    .fetchJoin()\n    .fetch();\n\nfor(GameVersion gameVersion : gameVersons){\n    gameversion.getGameversionPlayModes();\n\n}\n*/\n</code></pre>\n<p>AppelloRepository.java</p>\n<pre><code>package com.iuni_datamodel.Appello;\n\n\nimport java.util.UUID;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.data.querydsl.QuerydslPredicateExecutor;\nimport org.springframework.data.querydsl.binding.QuerydslBinderCustomizer;\nimport org.springframework.data.querydsl.binding.QuerydslBindings;\n\n\npublic interface AppelloRepository extends JpaRepository&lt;Appello, UUID&gt;, QuerydslPredicateExecutor&lt;Appello&gt;, QuerydslBinderCustomizer&lt;QAppello&gt; {\n\n    @Override\n    default void customize(QuerydslBindings bindings, QAppello root) {\n         \n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","ide"],"answers":[{"tags":[],"owner":{"account_id":17061790,"reputation":21,"user_id":12345036,"display_name":"Muhammad Abubakr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677628139,"creation_date":1677627788,"answer_id":75598355,"question_id":75597976,"body_markdown":"I solved the issue.\r\n\r\nThe problem was in devices.xml file (located in `C:\\Users\\&lt;user name&gt;\\.android`)\r\n\r\nIn this line:\r\n\r\n    &lt;d:devices xmlns:d=&quot;http://schemas.android.com/sdk/devices/6&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n\r\nthe number 6 in `http://schemas.android.com/sdk/devices/6` was written in Arabic format.","title":"adb is not starting when launching android studio","body":"<p>I solved the issue.</p>\n<p>The problem was in devices.xml file (located in <code>C:\\Users\\&lt;user name&gt;\\.android</code>)</p>\n<p>In this line:</p>\n<pre><code>&lt;d:devices xmlns:d=&quot;http://schemas.android.com/sdk/devices/6&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n</code></pre>\n<p>the number 6 in <code>http://schemas.android.com/sdk/devices/6</code> was written in Arabic format.</p>\n"}],"owner":{"account_id":17061790,"reputation":21,"user_id":12345036,"display_name":"Muhammad Abubakr"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598355,"answer_count":1,"score":0,"last_activity_date":1677628139,"creation_date":1677623830,"question_id":75597976,"body_markdown":"When I launch android studio, adb is not shown in task manager, device list in Android Studio stuck on loading, when I press Start device I get the following IDE Internal Error:\r\n\r\n    java.lang.AssertionError: Unexpected schema version 0\r\n\tat com.android.dvlib.DeviceSchema.getXsdStream(DeviceSchema.java:262)\r\n\tat com.android.dvlib.DeviceSchema.getSchema(DeviceSchema.java:346)\r\n\tat com.android.sdklib.devices.DeviceParser.getParser(DeviceParser.java:537)\r\n\tat com.android.sdklib.devices.DeviceParser.parseImpl(DeviceParser.java:522)\r\n\tat com.android.sdklib.devices.DeviceParser.parse(DeviceParser.java:498)\r\n\tat com.android.sdklib.devices.DeviceManager.initUserDevices(DeviceManager.java:416)\r\n\r\n\r\nI downloaded Java latest version but the problem still persists\r\n\r\n[![Error shown][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7E2X4.png","title":"adb is not starting when launching android studio","body":"<p>When I launch android studio, adb is not shown in task manager, device list in Android Studio stuck on loading, when I press Start device I get the following IDE Internal Error:</p>\n<pre><code>java.lang.AssertionError: Unexpected schema version 0\nat com.android.dvlib.DeviceSchema.getXsdStream(DeviceSchema.java:262)\nat com.android.dvlib.DeviceSchema.getSchema(DeviceSchema.java:346)\nat com.android.sdklib.devices.DeviceParser.getParser(DeviceParser.java:537)\nat com.android.sdklib.devices.DeviceParser.parseImpl(DeviceParser.java:522)\nat com.android.sdklib.devices.DeviceParser.parse(DeviceParser.java:498)\nat com.android.sdklib.devices.DeviceManager.initUserDevices(DeviceManager.java:416)\n</code></pre>\n<p>I downloaded Java latest version but the problem still persists</p>\n<p><a href=\"https://i.stack.imgur.com/7E2X4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7E2X4.png\" alt=\"Error shown\" /></a></p>\n"},{"tags":["java","sql-server","eclipselink","spring-transactions"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1639778645,"post_id":70399175,"comment_id":124444371,"body_markdown":"Add an `em.flush()` to your repository `save` to see anything. The way it is now, the database doesn&#39;t have a chance to acquire a write lock since JPA delays SQL until the transaction commit.","body":"Add an <code>em.flush()</code> to your repository <code>save</code> to see anything. The way it is now, the database doesn&#39;t have a chance to acquire a write lock since JPA delays SQL until the transaction commit."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1639815829,"post_id":70399175,"comment_id":124449052,"body_markdown":"Mhm after the transaction spring will execute a commit. This is a spring data repository why should I need a flush?","body":"Mhm after the transaction spring will execute a commit. This is a spring data repository why should I need a flush?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":1,"creation_date":1639822053,"post_id":70399175,"comment_id":124449926,"body_markdown":"EclipseLink buffers SQL statements that need to be executed for as long as possible in order to reduce the lock time in the RDBMS. In your particular case the JDBC driver will receive the UPDATE statement when Spring Data JPA commits the transaction. You can verify it by enabling SQL logging in EclispeLink: https://stackoverflow.com/q/2374395/17695211","body":"EclipseLink buffers SQL statements that need to be executed for as long as possible in order to reduce the lock time in the RDBMS. In your particular case the JDBC driver will receive the UPDATE statement when Spring Data JPA commits the transaction. You can verify it by enabling SQL logging in EclispeLink: <a href=\"https://stackoverflow.com/q/2374395/17695211\">stackoverflow.com/q/2374395/17695211</a>"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639822298,"post_id":70399175,"comment_id":124449963,"body_markdown":"After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL debug output in the console at your breakpoint. It will appear **after** the return. If you really want to see the locking effect, you need to write the repository without Spring Data JPA with a `@PersistenceContext`-injected `EntityManager` and call `EntityManager.flush` which will flush SQL statement buffer of EclipseLink to the JDBC driver **before the breakpoint**.","body":"After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL debug output in the console at your breakpoint. It will appear <b>after</b> the return. If you really want to see the locking effect, you need to write the repository without Spring Data JPA with a <code>@PersistenceContext</code>-injected <code>EntityManager</code> and call <code>EntityManager.flush</code> which will flush SQL statement buffer of EclipseLink to the JDBC driver <b>before the breakpoint</b>."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639822706,"post_id":70399175,"comment_id":124450041,"body_markdown":"Alternatively (and if you feel adventurous), you may try looking for a place in the EclipseLink source code where it executes the corresponding `PreparedStatement`, and set the breakpoint right after it.","body":"Alternatively (and if you feel adventurous), you may try looking for a place in the EclipseLink source code where it executes the corresponding <code>PreparedStatement</code>, and set the breakpoint right after it."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1639842578,"post_id":70399175,"comment_id":124454033,"body_markdown":"That&#39;s exactly what I saw in the log, that&#39;s why I saw that with unit of work. In concrete terms, does that mean that spring Transaction does not open a transaction on the database correctly at doBegin, but only when the statement of the statements is executed?\n\nDoes that mean that the transaction handling between Hibernate and EclipseLink is different?","body":"That&#39;s exactly what I saw in the log, that&#39;s why I saw that with unit of work. In concrete terms, does that mean that spring Transaction does not open a transaction on the database correctly at doBegin, but only when the statement of the statements is executed?  Does that mean that the transaction handling between Hibernate and EclipseLink is different?"},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639862080,"post_id":70399175,"comment_id":124458131,"body_markdown":"Spring starts the transaction before your method and commits it (or rolls it back if there were exceptions) after your method. There is nothing wrong here, and it&#39;s the same in Hibernate. However, a started transaction doesn&#39;t block execution by itself. It is SQL statements that execute inside of the transaction lock **the corresponding rows** of the table **until the end of the transaction**. At the time of your breakpoint no SQL reached the database yet, therefore no locks acquired and the other transaction of yours will go through swiftly.","body":"Spring starts the transaction before your method and commits it (or rolls it back if there were exceptions) after your method. There is nothing wrong here, and it&#39;s the same in Hibernate. However, a started transaction doesn&#39;t block execution by itself. It is SQL statements that execute inside of the transaction lock <b>the corresponding rows</b> of the table <b>until the end of the transaction</b>. At the time of your breakpoint no SQL reached the database yet, therefore no locks acquired and the other transaction of yours will go through swiftly."},{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1639862494,"post_id":70399175,"comment_id":124458204,"body_markdown":"I&#39;m also not sure that two UPDATE statements will block anything. The second transaction should probably be a SELECT query. But then, if your database has MVCC enabled, it won&#39;t block still.\n\nNowadays databases are very good at not blocking when it&#39;s not necessary!","body":"I&#39;m also not sure that two UPDATE statements will block anything. The second transaction should probably be a SELECT query. But then, if your database has MVCC enabled, it won&#39;t block still.  Nowadays databases are very good at not blocking when it&#39;s not necessary!"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1640017063,"post_id":70399175,"comment_id":124489488,"body_markdown":"EclipseLInk&#39;s UnitOfWork predates JPA, and the JPA EntityManager interface just wraps one. They are just sessions/contexts meant to encapsulate work done in a transaction, and delay modifications, if possible, until the very end when they can group, order and even batch SQL statements more efficiently, and keep DB locking to a minimum. EclipseLink doesn&#39;t even try to get connections until it absolutely needs one, allowing connections to be reused and better shared, reducing the resources required, though containers usually get and tie up a connection anyway.","body":"EclipseLInk&#39;s UnitOfWork predates JPA, and the JPA EntityManager interface just wraps one. They are just sessions/contexts meant to encapsulate work done in a transaction, and delay modifications, if possible, until the very end when they can group, order and even batch SQL statements more efficiently, and keep DB locking to a minimum. EclipseLink doesn&#39;t even try to get connections until it absolutely needs one, allowing connections to be reused and better shared, reducing the resources required, though containers usually get and tie up a connection anyway."},{"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"score":0,"creation_date":1642886009,"post_id":70399175,"comment_id":125193720,"body_markdown":"I have now found the right places to set breakpoints and the write actions work as expected. If you want to update the same row, then there is a lock on it and the second transaction have to wait. The transactions id can also be selected in the corresponding database table.\n\nHowever, how should it behave in a reading and writing transaction?\nTransaction A reads a row and acquires a read lock. Transaction B changes the same row. How should the behavior be with READ COMMITED transactions?\nThe term for read locks is not clear whether these are very short or valid during the whole transactio","body":"I have now found the right places to set breakpoints and the write actions work as expected. If you want to update the same row, then there is a lock on it and the second transaction have to wait. The transactions id can also be selected in the corresponding database table.  However, how should it behave in a reading and writing transaction? Transaction A reads a row and acquires a read lock. Transaction B changes the same row. How should the behavior be with READ COMMITED transactions? The term for read locks is not clear whether these are very short or valid during the whole transactio"}],"answers":[{"tags":[],"owner":{"account_id":9851857,"reputation":82584,"user_id":7297700,"display_name":"David Browne - Microsoft"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677627889,"creation_date":1639845290,"answer_id":70405193,"question_id":70399175,"body_markdown":"As [commented](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449926_70399175) (and also [2](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449963_70399175), [3](https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124450041_70399175)) by [Alexei Veleshko](https://stackoverflow.com/users/17695211/alexey-veleshko):\r\n\r\n&gt; EclipseLink buffers SQL statements that need to be executed for as\r\n&gt; long as possible in order to reduce the lock time in the RDBMS. In\r\n&gt; your particular case the JDBC driver will receive the UPDATE statement\r\n&gt; when Spring Data JPA commits the transaction. You can verify it by\r\n&gt; enabling SQL logging in EclispeLink:\r\n&gt; stackoverflow.com/q/2374395/17695211\r\n&gt; \r\n&gt; After enabling SQL logging you&#39;ll see that there won&#39;t be any SQL\r\n&gt; debug output in the console at your breakpoint. It will appear after\r\n&gt; the return. If you really want to see the locking effect, you need to\r\n&gt; write the repository without Spring Data JPA with a\r\n&gt; @PersistenceContext-injected EntityManager and call\r\n&gt; EntityManager.flush which will flush SQL statement buffer of\r\n&gt; EclipseLink to the JDBC driver before the breakpoint.\r\n&gt; \r\n&gt; Alternatively (and if you feel adventurous), you may try looking for a\r\n&gt; place in the EclipseLink source code where it executes the\r\n&gt; corresponding PreparedStatement, and set the breakpoint right after\r\n&gt; it.","title":"Spring Transaction handling with EclipseLink","body":"<p>As <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449926_70399175\">commented</a> (and also <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124449963_70399175\">2</a>, <a href=\"https://stackoverflow.com/questions/70399175/spring-transaction-handling-with-eclipselink/70405193#comment124450041_70399175\">3</a>) by <a href=\"https://stackoverflow.com/users/17695211/alexey-veleshko\">Alexei Veleshko</a>:</p>\n<blockquote>\n<p>EclipseLink buffers SQL statements that need to be executed for as\nlong as possible in order to reduce the lock time in the RDBMS. In\nyour particular case the JDBC driver will receive the UPDATE statement\nwhen Spring Data JPA commits the transaction. You can verify it by\nenabling SQL logging in EclispeLink:\nstackoverflow.com/q/2374395/17695211</p>\n<p>After enabling SQL logging you'll see that there won't be any SQL\ndebug output in the console at your breakpoint. It will appear after\nthe return. If you really want to see the locking effect, you need to\nwrite the repository without Spring Data JPA with a\n@PersistenceContext-injected EntityManager and call\nEntityManager.flush which will flush SQL statement buffer of\nEclipseLink to the JDBC driver before the breakpoint.</p>\n<p>Alternatively (and if you feel adventurous), you may try looking for a\nplace in the EclipseLink source code where it executes the\ncorresponding PreparedStatement, and set the breakpoint right after\nit.</p>\n</blockquote>\n"}],"owner":{"account_id":23678757,"reputation":11,"user_id":17704606,"display_name":"JavaN00b"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":323,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677627889,"creation_date":1639777406,"question_id":70399175,"body_markdown":"I am new to databases and transactions. I find a lot of different information up-to-date and am currently trying to organize my thoughts.\r\nRegarding the context, I&#39;m trying to test the current isolation level with the SQL Server, but I don&#39;t succeed.\r\n\r\nFor this I use Spring Transaction together with Eclipse Link. I found some information about Spring transactions (https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth). However, there is still a concept of the works unit and now I don&#39;t know what is currently being used (https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture)\r\n\r\nWhat I am trying to test:\r\nI have an Entity User (id, firstname, lastname). I have an entry in table id = 1, firstname = foo lastname = bar\r\n\r\nI have a service and transaction. IMHO default is isolation READ_COMMIT for SQL Server\r\n\r\n    @Transactional\r\n    public User updateUser(){\r\n       User updateUser = new User(1, &quot;new firstname&quot;, &quot;new lastname&quot;);\r\n       User updatedUser = userRepository.save(updateUser); --&gt; em.merge\r\n       return updatedUser;\r\n    }\r\n\r\n\r\nSo far so good. What I do not understand now. I set a breakpoint in the return.\r\nAt the same time I opened a second SQL client and executed the following SQL.\r\n\r\n    SET IMPLICIT_TRANSACTIONS ON \r\n    UPDATE \r\n        User \r\n    SET \r\n        lastname = &#39;complete new&#39;, \r\n    WHERE \r\n        id = 1\r\n    COMMIT TRAN \r\n\r\n\r\nWhat I would expect is that the SQL statement will wait for the Spring transaction to complete. BUT this is currently not the case, the SQL statement is simply carried out.\r\n\r\nThen lastname is in the table lastname &quot;complete new&quot; then I resume the breakpoint and then the lastname is &quot;new lastname&quot;. This behavior I cannot understand. Is this normal or is this because of the unit work of eclipse link?","title":"Spring Transaction handling with EclipseLink","body":"<p>I am new to databases and transactions. I find a lot of different information up-to-date and am currently trying to organize my thoughts.\nRegarding the context, I'm trying to test the current isolation level with the SQL Server, but I don't succeed.</p>\n<p>For this I use Spring Transaction together with Eclipse Link. I found some information about Spring transactions (<a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth</a>). However, there is still a concept of the works unit and now I don't know what is currently being used (<a href=\"https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture\" rel=\"nofollow noreferrer\">https://wiki.eclipse.org/Introduction_to_EclipseLink_Transactions_(ELUG)#Unit_of_Work_Architecture</a>)</p>\n<p>What I am trying to test:\nI have an Entity User (id, firstname, lastname). I have an entry in table id = 1, firstname = foo lastname = bar</p>\n<p>I have a service and transaction. IMHO default is isolation READ_COMMIT for SQL Server</p>\n<pre><code>@Transactional\npublic User updateUser(){\n   User updateUser = new User(1, &quot;new firstname&quot;, &quot;new lastname&quot;);\n   User updatedUser = userRepository.save(updateUser); --&gt; em.merge\n   return updatedUser;\n}\n</code></pre>\n<p>So far so good. What I do not understand now. I set a breakpoint in the return.\nAt the same time I opened a second SQL client and executed the following SQL.</p>\n<pre><code>SET IMPLICIT_TRANSACTIONS ON \nUPDATE \n    User \nSET \n    lastname = 'complete new', \nWHERE \n    id = 1\nCOMMIT TRAN \n</code></pre>\n<p>What I would expect is that the SQL statement will wait for the Spring transaction to complete. BUT this is currently not the case, the SQL statement is simply carried out.</p>\n<p>Then lastname is in the table lastname &quot;complete new&quot; then I resume the breakpoint and then the lastname is &quot;new lastname&quot;. This behavior I cannot understand. Is this normal or is this because of the unit work of eclipse link?</p>\n"},{"tags":["java","gradle","java-17"],"owner":{"account_id":350281,"reputation":2772,"user_id":686041,"accept_rate":90,"display_name":"Konstantin Tarashchanskiy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677627874,"creation_date":1677627874,"question_id":75598364,"body_markdown":"I have a gradle project consisting of two sub-projects, one of which (a Java project) depends on the other (a Kotlin project).\r\n\r\n`/settings.gradle`\r\n\r\n    rootProject.name = &#39;PROJECT NAME&#39;\r\n    include &#39;server&#39;\r\n    include &#39;rules&#39;\r\n\r\n`server/build.gradle`\r\n\r\n    ...\r\n    dependencies {\r\n    \timplementation project(&#39;:rules&#39;)\r\n    \t...\r\n    }\r\n    ...\r\n\r\nWhen I do a `gradle build` using Java 17, I get `java.lang.NoClassDefFoundError` for classes in the `rules` module.\r\n\r\nThe build works when I build using Java 19 or if I switch the server `sourceCompatibility=16` (running the build using Java 16 or 17).\r\n\r\n    $ ./gradlew -v\r\n    \r\n    ------------------------------------------------------------\r\n    Gradle 8.0.1\r\n    ------------------------------------------------------------\r\n    \r\n    Build time:   2023-02-17 20:09:48 UTC\r\n    Revision:     68959bf76cef4d28c678f2e2085ee84e8647b77a\r\n    \r\n    Kotlin:       1.8.10\r\n    Groovy:       3.0.13\r\n    Ant:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\r\n    JVM:          17.0.6 (Homebrew 17.0.6+0)\r\n    OS:           Mac OS X 13.2 x86_64","title":"Gradle subprojects not seeing each other, but only on Java 17","body":"<p>I have a gradle project consisting of two sub-projects, one of which (a Java project) depends on the other (a Kotlin project).</p>\n<p><code>/settings.gradle</code></p>\n<pre><code>rootProject.name = 'PROJECT NAME'\ninclude 'server'\ninclude 'rules'\n</code></pre>\n<p><code>server/build.gradle</code></p>\n<pre><code>...\ndependencies {\n    implementation project(':rules')\n    ...\n}\n...\n</code></pre>\n<p>When I do a <code>gradle build</code> using Java 17, I get <code>java.lang.NoClassDefFoundError</code> for classes in the <code>rules</code> module.</p>\n<p>The build works when I build using Java 19 or if I switch the server <code>sourceCompatibility=16</code> (running the build using Java 16 or 17).</p>\n<pre><code>$ ./gradlew -v\n\n------------------------------------------------------------\nGradle 8.0.1\n------------------------------------------------------------\n\nBuild time:   2023-02-17 20:09:48 UTC\nRevision:     68959bf76cef4d28c678f2e2085ee84e8647b77a\n\nKotlin:       1.8.10\nGroovy:       3.0.13\nAnt:          Apache Ant(TM) version 1.10.11 compiled on July 10 2021\nJVM:          17.0.6 (Homebrew 17.0.6+0)\nOS:           Mac OS X 13.2 x86_64\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-starter"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":1,"creation_date":1627646581,"post_id":68590532,"comment_id":121218157,"body_markdown":"What makes you think it&#39;s only for learning?\n\nSpring Boot is a production ready application framework.\n\nAnd what vulnerabilities?","body":"What makes you think it&#39;s only for learning?  Spring Boot is a production ready application framework.  And what vulnerabilities?"},{"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"score":1,"creation_date":1627647654,"post_id":68590532,"comment_id":121218558,"body_markdown":"Because the name `starter`","body":"Because the name <code>starter</code>"},{"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"score":0,"creation_date":1627648412,"post_id":68590532,"comment_id":121218846,"body_markdown":"Please ask only one question per post. I&#39;ve provided an answer to your question about Spring Boot. Please post your question about JPA separately.","body":"Please ask only one question per post. I&#39;ve provided an answer to your question about Spring Boot. Please post your question about JPA separately."}],"answers":[{"tags":[],"owner":{"account_id":17352297,"reputation":2252,"user_id":12570528,"display_name":"Gregor Zurowski"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1627648152,"creation_date":1627648152,"answer_id":68590983,"question_id":68590532,"body_markdown":"The &quot;starters&quot; are Spring Boot&#39;s dependency management and auto-configuration mechanism. The term &quot;starter&quot; does not aim to indicate that it&#39;s for non-production uses cases, it is probably just used to emphasize that it gets you started quickly. See the following explanation from [the Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters):\r\n\r\n&gt; Starters are a set of convenient dependency descriptors that you can include in your application. You get a one-stop shop for all the Spring and related technologies that you need without having to hunt through sample code and copy-paste loads of dependency descriptors.\r\n\r\nIn order to understand starter dependencies better, I suggest reviewing [section &quot;Creating Your Own Starter&quot; from the Spring Boot documentation](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.custom-starter).","title":"Are Spring Boot starter dependencies production-ready?","body":"<p>The &quot;starters&quot; are Spring Boot's dependency management and auto-configuration mechanism. The term &quot;starter&quot; does not aim to indicate that it's for non-production uses cases, it is probably just used to emphasize that it gets you started quickly. See the following explanation from <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters\" rel=\"noreferrer\">the Spring Boot documentation</a>:</p>\n<blockquote>\n<p>Starters are a set of convenient dependency descriptors that you can include in your application. You get a one-stop shop for all the Spring and related technologies that you need without having to hunt through sample code and copy-paste loads of dependency descriptors.</p>\n</blockquote>\n<p>In order to understand starter dependencies better, I suggest reviewing <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.developing-auto-configuration.custom-starter\" rel=\"noreferrer\">section &quot;Creating Your Own Starter&quot; from the Spring Boot documentation</a>.</p>\n"}],"owner":{"account_id":18350678,"reputation":454,"user_id":13364925,"display_name":"dungreact"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":68590983,"answer_count":1,"score":3,"last_activity_date":1677627730,"creation_date":1627645949,"question_id":68590532,"body_markdown":"I&#39;m learning spring boot to develop an eCommerce website by myself. I consider that starter dependencies like `spring-boot-starter-web`, `spring-boot-starter-security` can be used for a production environment or just for learning purposes?","title":"Are Spring Boot starter dependencies production-ready?","body":"<p>I'm learning spring boot to develop an eCommerce website by myself. I consider that starter dependencies like <code>spring-boot-starter-web</code>, <code>spring-boot-starter-security</code> can be used for a production environment or just for learning purposes?</p>\n"},{"tags":["java","spring-boot","docker-compose","spring-cloud"],"answers":[{"tags":[],"owner":{"account_id":22443986,"reputation":2042,"user_id":16648127,"display_name":"Enfield Li"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677627608,"creation_date":1661573592,"answer_id":73508297,"question_id":73270739,"body_markdown":"Services are no longer running on localhost. \r\n\r\nSo change:\r\n```properties\r\nEUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n```\r\nTo corresponding service container name, take Eureka server for instance:\r\n```properties\r\nEUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\r\n```\r\nSee [Github issue](https://github.com/spring-cloud/spring-cloud-netflix/issues/2442#issuecomment-344338485). ","title":"Docker compose com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server","body":"<p>Services are no longer running on localhost.</p>\n<p>So change:</p>\n<pre><code>EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n</code></pre>\n<p>To corresponding service container name, take Eureka server for instance:</p>\n<pre><code>EUREKASERVER_URI: &quot;http://eurekaserver:8761/eureka/&quot;\n</code></pre>\n<p>See <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/2442#issuecomment-344338485\" rel=\"nofollow noreferrer\">Github issue</a>.</p>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":398,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73508297,"answer_count":1,"score":1,"last_activity_date":1677627608,"creation_date":1659903403,"question_id":73270739,"body_markdown":"I tried to implement an **example** of **Spring Boot Microservice** examples.\r\nI have a problem in **docker-compose** file.\r\n\r\n**Eureka server** and **api gateways** throws an **issue** defined below while there is no issue in config server.\r\n\r\nHere is the issue : `com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server`\r\n\r\nHere is the **code snippets** **for config server**.\r\n\r\n    configserver:\r\n        image: configserver\r\n        container_name: configServer\r\n        build:\r\n          context: ./configserver\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n        ports:\r\n          - &quot;9191:9191&quot;\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;configserver&quot;\r\n\r\n\r\nHere is the **code snippets** for **eureka server**\r\n\r\n    eurekaserver:\r\n        image: eurekaserver\r\n        ports:\r\n          - &quot;8761:8761&quot;\r\n        build:\r\n          context: ./discoveryserver\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n          EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n          EUREKASERVER_PORT: &quot;8761&quot;\r\n        depends_on:\r\n          configserver:\r\n            condition: service_started\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;eurekaserver&quot;\r\n\r\nHere is the **code snippets** for **api gateway server**.\r\n\r\n    gatewayserver:\r\n        image: gatewayserver\r\n        ports:\r\n          - &quot;8600:8600&quot;\r\n        build:\r\n          context: ./api-gateway\r\n          dockerfile: Dockerfile\r\n        environment:\r\n          PROFILE: &quot;default&quot;\r\n          SERVER_PORT: &quot;8600&quot;\r\n          CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\r\n          EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\r\n          EUREKASERVER_PORT: &quot;8761&quot;\r\n          CONFIGSERVER_PORT: &quot;9191&quot;\r\n        depends_on:\r\n          configserver:\r\n            condition: service_started\r\n          eurekaserver:\r\n            condition: service_started\r\n        networks:\r\n          backend:\r\n            aliases:\r\n              - &quot;gateway&quot;\r\n\r\n\r\n\r\nHere is all docker-compose.yml : [Link][1]\r\n\r\n\r\n  [1]: https://github.com/Rapter1990/SpringBootMicroservices/blob/master/docker-compose.yml","title":"Docker compose com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server","body":"<p>I tried to implement an <strong>example</strong> of <strong>Spring Boot Microservice</strong> examples.\nI have a problem in <strong>docker-compose</strong> file.</p>\n<p><strong>Eureka server</strong> and <strong>api gateways</strong> throws an <strong>issue</strong> defined below while there is no issue in config server.</p>\n<p>Here is the issue : <code>com.netflix.discovery.shared.transport.TransportException: Cannot execute request on any known server</code></p>\n<p>Here is the <strong>code snippets</strong> <strong>for config server</strong>.</p>\n<pre><code>configserver:\n    image: configserver\n    container_name: configServer\n    build:\n      context: ./configserver\n      dockerfile: Dockerfile\n    environment:\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n    ports:\n      - &quot;9191:9191&quot;\n    networks:\n      backend:\n        aliases:\n          - &quot;configserver&quot;\n</code></pre>\n<p>Here is the <strong>code snippets</strong> for <strong>eureka server</strong></p>\n<pre><code>eurekaserver:\n    image: eurekaserver\n    ports:\n      - &quot;8761:8761&quot;\n    build:\n      context: ./discoveryserver\n      dockerfile: Dockerfile\n    environment:\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n      EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n      EUREKASERVER_PORT: &quot;8761&quot;\n    depends_on:\n      configserver:\n        condition: service_started\n    networks:\n      backend:\n        aliases:\n          - &quot;eurekaserver&quot;\n</code></pre>\n<p>Here is the <strong>code snippets</strong> for <strong>api gateway server</strong>.</p>\n<pre><code>gatewayserver:\n    image: gatewayserver\n    ports:\n      - &quot;8600:8600&quot;\n    build:\n      context: ./api-gateway\n      dockerfile: Dockerfile\n    environment:\n      PROFILE: &quot;default&quot;\n      SERVER_PORT: &quot;8600&quot;\n      CONFIGSERVER_URI: &quot;http://localhost:9191&quot;\n      EUREKASERVER_URI: &quot;http://localhost:8761/eureka/&quot;\n      EUREKASERVER_PORT: &quot;8761&quot;\n      CONFIGSERVER_PORT: &quot;9191&quot;\n    depends_on:\n      configserver:\n        condition: service_started\n      eurekaserver:\n        condition: service_started\n    networks:\n      backend:\n        aliases:\n          - &quot;gateway&quot;\n</code></pre>\n<p>Here is all docker-compose.yml : <a href=\"https://github.com/Rapter1990/SpringBootMicroservices/blob/master/docker-compose.yml\" rel=\"nofollow noreferrer\">Link</a></p>\n"},{"tags":["java","spring","oauth-2.0","jwt","nimbus-jose-jwt"],"answers":[{"tags":[],"owner":{"account_id":20425434,"reputation":184,"user_id":14985536,"display_name":"Jose Ramon Martinez Riveiro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1657518171,"creation_date":1657371176,"answer_id":72921520,"question_id":72921478,"body_markdown":"It could be due to expiration date of your token is a timestamp, and it should be a number (Long). Or you are trying to parse a timestamp to number Long. ","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>It could be due to expiration date of your token is a timestamp, and it should be a number (Long). Or you are trying to parse a timestamp to number Long.</p>\n"},{"tags":[],"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1657592794,"creation_date":1657592794,"answer_id":72946427,"question_id":72921478,"body_markdown":"As @Jose told me, I set the value of expiration time with an &lt;code&gt;Instant&lt;/code&gt; type of the timestamp. Then, I set it to both the &lt;code&gt;exp&lt;/code&gt; and &lt;code&gt;iat&lt;/code&gt; fields of the JWT. My final function is like the following:\r\n```\r\nMap&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\nMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\r\nfor (String key : parsedJwt.getJWTClaimsSet().getClaims().keySet()) {\r\n    Object value = parsedJwt.getJWTClaimsSet().getClaims().get(key);\r\n    if (key.equals(&quot;exp&quot;) || key.equals(&quot;iat&quot;)) {\r\n        value = ((Date) value).toInstant();\r\n    }\r\n    claims.put(key, value);\r\n}\r\nreturn Jwt.withTokenValue(token)\r\n        .headers(h -&gt; h.putAll(headers))\r\n        .claims(c -&gt; c.putAll(claims))\r\n        .build();\r\n```","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>As @Jose told me, I set the value of expiration time with an <code>Instant</code> type of the timestamp. Then, I set it to both the <code>exp</code> and <code>iat</code> fields of the JWT. My final function is like the following:</p>\n<pre><code>Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\nMap&lt;String, Object&gt; claims = new HashMap&lt;&gt;();\nfor (String key : parsedJwt.getJWTClaimsSet().getClaims().keySet()) {\n    Object value = parsedJwt.getJWTClaimsSet().getClaims().get(key);\n    if (key.equals(&quot;exp&quot;) || key.equals(&quot;iat&quot;)) {\n        value = ((Date) value).toInstant();\n    }\n    claims.put(key, value);\n}\nreturn Jwt.withTokenValue(token)\n        .headers(h -&gt; h.putAll(headers))\n        .claims(c -&gt; c.putAll(claims))\n        .build();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15215084,"reputation":302,"user_id":10978688,"display_name":"selllami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677627378,"creation_date":1677627378,"answer_id":75598325,"question_id":72921478,"body_markdown":"An alternative way:\r\n\r\n```\r\npublic static Jwt decodeJwt(final String token) {\r\n\ttry {\r\n\t\tvar parsedJwt = JWTParser.parse(token);\r\n\t\tMap&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n\t\tMap&lt;String, Object&gt; claims = new LinkedHashMap&lt;&gt;(parsedJwt.getJWTClaimsSet().getClaims());\r\n\t\tif (claims.get(JwtClaimNames.IAT) instanceof Date) {\r\n\t\t\tvar iat = DateUtils.toInstant((Date) claims.get(JwtClaimNames.IAT));\r\n\t\t\tclaims.put(JwtClaimNames.IAT, iat);\r\n\t\t}\r\n\t\tif (claims.get(JwtClaimNames.EXP) instanceof Date) {\r\n\t\t\tvar exp = DateUtils.toInstant((Date) claims.get(JwtClaimNames.EXP));\r\n\t\t\tclaims.put(JwtClaimNames.EXP, exp);\r\n\t\t}\r\n\t\treturn Jwt.withTokenValue(parsedJwt.getParsedString())\r\n\t\t\t\t.headers(h -&gt; h.putAll(headers))\r\n\t\t\t\t.claims(c -&gt; c.putAll(claims))\r\n\t\t\t\t.build();\r\n\t} catch (ParseException e) {\r\n\t\tthrow new JwtException(&quot;Provided token is not valid&quot;);\r\n\t} catch (Exception ex) {\r\n\t\tthrow new JwtException(&quot;Error during parse token&quot;);\r\n\t}\r\n}\r\n```","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>An alternative way:</p>\n<pre><code>public static Jwt decodeJwt(final String token) {\n    try {\n        var parsedJwt = JWTParser.parse(token);\n        Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n        Map&lt;String, Object&gt; claims = new LinkedHashMap&lt;&gt;(parsedJwt.getJWTClaimsSet().getClaims());\n        if (claims.get(JwtClaimNames.IAT) instanceof Date) {\n            var iat = DateUtils.toInstant((Date) claims.get(JwtClaimNames.IAT));\n            claims.put(JwtClaimNames.IAT, iat);\n        }\n        if (claims.get(JwtClaimNames.EXP) instanceof Date) {\n            var exp = DateUtils.toInstant((Date) claims.get(JwtClaimNames.EXP));\n            claims.put(JwtClaimNames.EXP, exp);\n        }\n        return Jwt.withTokenValue(parsedJwt.getParsedString())\n                .headers(h -&gt; h.putAll(headers))\n                .claims(c -&gt; c.putAll(claims))\n                .build();\n    } catch (ParseException e) {\n        throw new JwtException(&quot;Provided token is not valid&quot;);\n    } catch (Exception ex) {\n        throw new JwtException(&quot;Error during parse token&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6816680,"reputation":389,"user_id":5245121,"display_name":"Shahab.es"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7615,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":72946427,"answer_count":3,"score":3,"last_activity_date":1677627378,"creation_date":1657370799,"question_id":72921478,"body_markdown":"I&#39;m using the Spring boot resource server. The authentication server issues a JWT. This JWT is re-encoded(with AES) with a key and in the Resource server, I should decode the JWT (from AES) before sending it to the JwtAuthenticator.&lt;br&gt;\r\nNow, I have a security configuration. \r\n```\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n\r\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\r\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new KeycloakRoleConverter());\r\n\r\n        http\r\n                .authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/users/status/check&quot;)\r\n                .hasRole(&quot;developer&quot;)\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                .oauth2ResourceServer()\r\n                .jwt()\r\n                .decoder(new JWTDecoder())\r\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\r\n    }\r\n```\r\nand a JWT Decoder\r\n```\r\nimport com.nimbusds.jwt.JWT;\r\nimport com.nimbusds.jwt.JWTParser;\r\nimport org.springframework.security.oauth2.jwt.Jwt;\r\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\r\nimport org.springframework.security.oauth2.jwt.JwtException;\r\n\r\nimport java.text.ParseException;\r\n\r\npublic class JWTDecoder implements JwtDecoder {\r\n    @Override\r\n    public Jwt decode(String token) throws JwtException {\r\n\r\n\r\n        //decrypt from AES here\r\n\r\n\r\n        JWT jwt = null;\r\n        try {\r\n            jwt = JWTParser.parse(token);\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n        return null;\r\n    }\r\n}\r\n```\r\nWhat should I do then? The function should return `org.springframework.security.oauth2.jwt.Jwt`. How can I convert `String token` to Jwt?&lt;br&gt;\r\nI tried the following, but a problem occurred.\r\n```\r\n    private Jwt createJwt(String token, JWT parsedJwt) {\r\n        try {\r\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\r\n            return Jwt.withTokenValue(token)\r\n                    .headers(h -&gt; h.putAll(headers))\r\n                    .claims(c -&gt; c.putAll(claims))\r\n                    .build();\r\n        } catch (Exception ex) {\r\n            if (ex.getCause() instanceof ParseException) {\r\n                throw new JwtException(&quot;There is a problem parsing the JWT.&quot;);\r\n            } else {\r\n                throw new JwtException(&quot;There is a problem decoding the JWT.&quot;);\r\n            }\r\n        }\r\n    }\r\n```\r\nThe error I received:\r\n&gt;java.lang.IllegalArgumentException: timestamps must be of type Instant: java.lang.Long\r\n&lt;hr&gt;&lt;br&gt;\r\nI&#39;m using Keycloak to generate the JWT. So, the exp field of the token in the jwt.io is &lt;code&gt;&quot;exp&quot;: 1657363340,&lt;/code&gt;. But after parsing the JWT in my code, It changes to the Date format. So, I changed the exp to &lt;code&gt;Instant&lt;/code&gt; and my final method is like the following:\r\n\r\n```\r\n    private Jwt createJwt(String token, JWT parsedJwt) {\r\n        try {\r\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\r\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\r\n            Jwt.Builder finalJwt = Jwt.withTokenValue(token)\r\n                    .headers(h -&gt; h.putAll(headers))\r\n                    .claims(c -&gt; c.putAll(claims));\r\n            finalJwt.expiresAt(((Date) claims.get(&quot;exp&quot;)).toInstant());\r\n            return finalJwt.build();\r\n        } catch (Exception ex) {\r\n            if (ex.getCause() instanceof ParseException) {\r\n                throw new JwtException(&quot;There is a problem parsing the JWT: &quot; + ex.getMessage());\r\n            } else {\r\n                throw new JwtException(&quot;There is a problem decoding the JWT: &quot; + ex.getMessage());\r\n            }\r\n        }\r\n    }\r\n```\r\nBut the problem exists yet.","title":"Using a custom JWT Decoder in Spring boot resource server","body":"<p>I'm using the Spring boot resource server. The authentication server issues a JWT. This JWT is re-encoded(with AES) with a key and in the Resource server, I should decode the JWT (from AES) before sending it to the JwtAuthenticator.<br>\nNow, I have a security configuration.</p>\n<pre><code>    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n\n        JwtAuthenticationConverter jwtAuthenticationConverter = new JwtAuthenticationConverter();\n        jwtAuthenticationConverter.setJwtGrantedAuthoritiesConverter(new KeycloakRoleConverter());\n\n        http\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/users/status/check&quot;)\n                .hasRole(&quot;developer&quot;)\n                .anyRequest().authenticated()\n                .and()\n                .oauth2ResourceServer()\n                .jwt()\n                .decoder(new JWTDecoder())\n                .jwtAuthenticationConverter(jwtAuthenticationConverter);\n    }\n</code></pre>\n<p>and a JWT Decoder</p>\n<pre><code>import com.nimbusds.jwt.JWT;\nimport com.nimbusds.jwt.JWTParser;\nimport org.springframework.security.oauth2.jwt.Jwt;\nimport org.springframework.security.oauth2.jwt.JwtDecoder;\nimport org.springframework.security.oauth2.jwt.JwtException;\n\nimport java.text.ParseException;\n\npublic class JWTDecoder implements JwtDecoder {\n    @Override\n    public Jwt decode(String token) throws JwtException {\n\n\n        //decrypt from AES here\n\n\n        JWT jwt = null;\n        try {\n            jwt = JWTParser.parse(token);\n        } catch (ParseException e) {\n            e.printStackTrace();\n        }\n\n\n        return null;\n    }\n}\n</code></pre>\n<p>What should I do then? The function should return <code>org.springframework.security.oauth2.jwt.Jwt</code>. How can I convert <code>String token</code> to Jwt?<br>\nI tried the following, but a problem occurred.</p>\n<pre><code>    private Jwt createJwt(String token, JWT parsedJwt) {\n        try {\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\n            return Jwt.withTokenValue(token)\n                    .headers(h -&gt; h.putAll(headers))\n                    .claims(c -&gt; c.putAll(claims))\n                    .build();\n        } catch (Exception ex) {\n            if (ex.getCause() instanceof ParseException) {\n                throw new JwtException(&quot;There is a problem parsing the JWT.&quot;);\n            } else {\n                throw new JwtException(&quot;There is a problem decoding the JWT.&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>The error I received:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: timestamps must be of type Instant: java.lang.Long</p>\n</blockquote>\n<hr><br>\nI'm using Keycloak to generate the JWT. So, the exp field of the token in the jwt.io is <code>\"exp\": 1657363340,</code>. But after parsing the JWT in my code, It changes to the Date format. So, I changed the exp to <code>Instant</code> and my final method is like the following:\n<pre><code>    private Jwt createJwt(String token, JWT parsedJwt) {\n        try {\n            Map&lt;String, Object&gt; headers = new LinkedHashMap&lt;&gt;(parsedJwt.getHeader().toJSONObject());\n            Map&lt;String, Object&gt; claims = parsedJwt.getJWTClaimsSet().getClaims();\n            Jwt.Builder finalJwt = Jwt.withTokenValue(token)\n                    .headers(h -&gt; h.putAll(headers))\n                    .claims(c -&gt; c.putAll(claims));\n            finalJwt.expiresAt(((Date) claims.get(&quot;exp&quot;)).toInstant());\n            return finalJwt.build();\n        } catch (Exception ex) {\n            if (ex.getCause() instanceof ParseException) {\n                throw new JwtException(&quot;There is a problem parsing the JWT: &quot; + ex.getMessage());\n            } else {\n                throw new JwtException(&quot;There is a problem decoding the JWT: &quot; + ex.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>But the problem exists yet.</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":22193630,"reputation":1038,"user_id":16435355,"display_name":"Mous"},"score":0,"creation_date":1677619070,"post_id":75597379,"comment_id":133373166,"body_markdown":"`.` matches everything in most regex versions","body":"<code>.</code> matches everything in most regex versions"},{"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"score":1,"creation_date":1677619115,"post_id":75597379,"comment_id":133373175,"body_markdown":"Like `HALOENCRYPT\\([^()]*\\)` https://regex101.com/r/lLf9aT/1","body":"Like <code>HALOENCRYPT\\([^()]*\\)</code> <a href=\"https://regex101.com/r/lLf9aT/1\" rel=\"nofollow noreferrer\">regex101.com/r/lLf9aT/1</a>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1677711755,"post_id":75597379,"comment_id":133394500,"body_markdown":"Can the text between `(` and `)` include `(` or `)`?","body":"Can the text between <code>(</code> and <code>)</code> include <code>(</code> or <code>)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":4561654,"reputation":3050,"user_id":3703819,"display_name":"dey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677619625,"creation_date":1677619625,"answer_id":75597465,"question_id":75597379,"body_markdown":"Instead of\r\n\r\n    HALOENCRYPT[0-9a-zA-Z(,_ &#39;)/-]+\r\n\r\njust do:\r\n\r\n    HALOENCRYPT\\([0-9a-zA-Z,_ &#39;/-]+\\)","title":"Regex for specific pattern ending with )","body":"<p>Instead of</p>\n<pre><code>HALOENCRYPT[0-9a-zA-Z(,_ ')/-]+\n</code></pre>\n<p>just do:</p>\n<pre><code>HALOENCRYPT\\([0-9a-zA-Z,_ '/-]+\\)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677627291,"creation_date":1677626943,"answer_id":75598284,"question_id":75597379,"body_markdown":"Use a _reluctant_ quantifier:\r\n\r\n    HALOENCRYPT\\(.*?\\)\r\n\r\nAnd use the `results()` method to stream and collect the matches:\r\n\r\n    List&lt;String&gt; myList = Pattern.compile(&quot;HALOENCRYPT\\\\(.+?\\\\)&quot;).matcher(s).results()\r\n      .map(MatchResult::group)\r\n      .collect(Collectors.toList());\r\n\r\n","title":"Regex for specific pattern ending with )","body":"<p>Use a <em>reluctant</em> quantifier:</p>\n<pre><code>HALOENCRYPT\\(.*?\\)\n</code></pre>\n<p>And use the <code>results()</code> method to stream and collect the matches:</p>\n<pre><code>List&lt;String&gt; myList = Pattern.compile(&quot;HALOENCRYPT\\\\(.+?\\\\)&quot;).matcher(s).results()\n  .map(MatchResult::group)\n  .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27903581,"reputation":37,"user_id":21307309,"display_name":"noob555"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":75598284,"answer_count":2,"score":0,"last_activity_date":1677627291,"creation_date":1677618990,"question_id":75597379,"body_markdown":"I have a big string, for example: &quot;s#$_123 /HEC2w.,-&amp;#--**HALOENCRYPT(177ey7y37, &#39;zimba&#39;)**,dnjekkq%12nnv**HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)**,eqn12&amp;*;&quot;. I am looking to extract all the substrings with pattern &quot;HALOENCRYPT(&lt;Any_char_or_symbol_sequence&gt;)&quot; which means starting with **&#39;HALOENCRYPT(&#39;** and ending immediately with **&#39;)&#39;** with any sequence between them. which has been marked Bold in the input sequence. I want to extract all such substrings and add to a list.\r\n\r\nThis is the program i wrote which works partially:\r\n\r\n\r\n    String s = &quot;s#$_123 /HEC2w.,-&amp;#--HALOENCRYPT(177ey7y37,     &#39;zimba&#39;),dnjekkq%12nnvHALOENCRYPT(ECRa12 _*,&#39;grate&#39;),eqn12&amp;*;&quot;;\r\n    Matcher m = Pattern.compile(&quot;HALOENCRYPT[0-9a-zA-Z(,_ &#39;)/-]+&quot;).matcher(s);\r\n    List&lt;String&gt; myList = new ArrayList&lt;String&gt;();\r\n    while (m.find()) {\r\n        myList.add(m.group())\r\n    }\r\n\r\nThe above string is giving out extra characters after HALOENCRYPT(177ey7y37, &#39;zimba&#39;) and HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)\r\n\r\nWhat i am expecting in the list is:\r\n    HALOENCRYPT(177ey7y37, &#39;zimba&#39;) and HALOENCRYPT(ECRa12 _*,&#39;grate&#39;)\r\n\r\nWhat i could not figure out is how to provide regex for **ANYTHING** between **(** and **)** ","title":"Regex for specific pattern ending with )","body":"<p>I have a big string, for example: &quot;s#$_123 /HEC2w.,-&amp;#--<strong>HALOENCRYPT(177ey7y37, 'zimba')</strong>,dnjekkq%12nnv<strong>HALOENCRYPT(ECRa12 _*,'grate')</strong>,eqn12&amp;*;&quot;. I am looking to extract all the substrings with pattern &quot;HALOENCRYPT(&lt;Any_char_or_symbol_sequence&gt;)&quot; which means starting with <strong>'HALOENCRYPT('</strong> and ending immediately with <strong>')'</strong> with any sequence between them. which has been marked Bold in the input sequence. I want to extract all such substrings and add to a list.</p>\n<p>This is the program i wrote which works partially:</p>\n<pre><code>String s = &quot;s#$_123 /HEC2w.,-&amp;#--HALOENCRYPT(177ey7y37,     'zimba'),dnjekkq%12nnvHALOENCRYPT(ECRa12 _*,'grate'),eqn12&amp;*;&quot;;\nMatcher m = Pattern.compile(&quot;HALOENCRYPT[0-9a-zA-Z(,_ ')/-]+&quot;).matcher(s);\nList&lt;String&gt; myList = new ArrayList&lt;String&gt;();\nwhile (m.find()) {\n    myList.add(m.group())\n}\n</code></pre>\n<p>The above string is giving out extra characters after HALOENCRYPT(177ey7y37, 'zimba') and HALOENCRYPT(ECRa12 _*,'grate')</p>\n<p>What i am expecting in the list is:\nHALOENCRYPT(177ey7y37, 'zimba') and HALOENCRYPT(ECRa12 _*,'grate')</p>\n<p>What i could not figure out is how to provide regex for <strong>ANYTHING</strong> between <strong>(</strong> and <strong>)</strong></p>\n"},{"tags":["java","amazon-web-services","spring-boot","amazon-ec2","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677538506,"post_id":75586275,"comment_id":133354326,"body_markdown":"I haven&#39;t used JSB, but chances are that it is re-creating the resources it needs.  So as long as it is there, it will create other things when you trigger it.  AWS itself does not randomly add resources.","body":"I haven&#39;t used JSB, but chances are that it is re-creating the resources it needs.  So as long as it is there, it will create other things when you trigger it.  AWS itself does not randomly add resources."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677539260,"post_id":75586275,"comment_id":133354466,"body_markdown":"Are there different resources created for JSB applications?  I used EC2 and some elastic beanstalk object when I set it up initially.  There must be some root object that is recreating all this....","body":"Are there different resources created for JSB applications?  I used EC2 and some elastic beanstalk object when I set it up initially.  There must be some root object that is recreating all this...."},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677539466,"post_id":75586275,"comment_id":133354503,"body_markdown":"Sorry, I don&#39;t use JSB, but yes you must have missed deleting some root object.  Hopefully a JSB user will see this.","body":"Sorry, I don&#39;t use JSB, but yes you must have missed deleting some root object.  Hopefully a JSB user will see this."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677540119,"post_id":75586275,"comment_id":133354624,"body_markdown":"Is there any chance that you used elastic beanstalk to create the application?  It may be recreating this stuff for you, that&#39;s one of its functions, to manage the application environment.","body":"Is there any chance that you used elastic beanstalk to create the application?  It may be recreating this stuff for you, that&#39;s one of its functions, to manage the application environment."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677543156,"post_id":75586275,"comment_id":133355147,"body_markdown":"I followed a random tutorial on youtube.  I think that might be what I did.  Do you know how to undo this?  I&#39;ve talked to their customer support almost 4 times and they have&#39;nt been able to fix this.","body":"I followed a random tutorial on youtube.  I think that might be what I did.  Do you know how to undo this?  I&#39;ve talked to their customer support almost 4 times and they have&#39;nt been able to fix this."},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677573143,"post_id":75586275,"comment_id":133359656,"body_markdown":"&quot;I followed a random tutorial on youtube. &quot; - it might help to watch it again and remind yourself about what steps you went through.  If that doesn&#39;t work you could write out the steps and edit your question to include them.","body":"&quot;I followed a random tutorial on youtube. &quot; - it might help to watch it again and remind yourself about what steps you went through.  If that doesn&#39;t work you could write out the steps and edit your question to include them."},{"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"score":0,"creation_date":1677615568,"post_id":75586275,"comment_id":133372346,"body_markdown":"Yes, I backtraced it and there was an elastic beanstalk and S3 bucket that was created.  So if I delete these two objects (for the beanstalk it would be the environments I created), will this stop the instances from being recreated again?","body":"Yes, I backtraced it and there was an elastic beanstalk and S3 bucket that was created.  So if I delete these two objects (for the beanstalk it would be the environments I created), will this stop the instances from being recreated again?"},{"owner":{"account_id":2644407,"reputation":1437,"user_id":2287427,"display_name":"Dave S"},"score":0,"creation_date":1677621309,"post_id":75586275,"comment_id":133373751,"body_markdown":"That seems likely, but we&#39;re guessing without seeing a list of everything created and in what order.","body":"That seems likely, but we&#39;re guessing without seeing a list of everything created and in what order."}],"answers":[{"tags":[],"owner":{"account_id":2701577,"reputation":1276,"user_id":2332193,"display_name":"Mats Lann&#233;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677552462,"creation_date":1677552462,"answer_id":75587428,"question_id":75586275,"body_markdown":"The screenshot shows that you have two auto-scaling groups. One of the features with auto-scaling groups is to make sure a certain number of EC2 instances are running. That means that even if you terminate an instance manually, the auto-scaling group will do its job and launch a replacement instance. \r\n\r\nDeleting the auto-scaling groups first will likely help here. I would also not be surprised if there is one or more CloudFormation stacks in your account, so would make sure to look there to delete those as well. ","title":"Java Spring Boot - AWS objects keep getting recreated/reappearing even after being deleted - been getting charged for almost a year now with AWS","body":"<p>The screenshot shows that you have two auto-scaling groups. One of the features with auto-scaling groups is to make sure a certain number of EC2 instances are running. That means that even if you terminate an instance manually, the auto-scaling group will do its job and launch a replacement instance.</p>\n<p>Deleting the auto-scaling groups first will likely help here. I would also not be surprised if there is one or more CloudFormation stacks in your account, so would make sure to look there to delete those as well.</p>\n"}],"owner":{"account_id":27848367,"reputation":7,"user_id":21263350,"display_name":"chongochoo"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677626801,"creation_date":1677537966,"question_id":75586275,"body_markdown":"I signed up for Free Tier account with AWS so that I could provide a Java Spring Boot application.  It is a very small and simple program with a very small MySQL of about 10000 rows of simple data.\r\n\r\nI keep getting incurred charges every month and contacting customer support, then following their instructions to delete load balancers, instances etc. but then a few months later I will get charged again and again these same objects keep getting recreated.\r\n\r\nHow do I just delete everything so that I won&#39;t be charged ever again?  I am not even using this application anymore and don&#39;t need it.  Here is a screenshot of my EC2 dashboard and also the billing breakdown.  I&#39;ve deleted all of these objects before and they keep reappearing.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\nI have literally had it up to here with AWS!!!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/W5L8D.png\r\n  [2]: https://i.stack.imgur.com/2TwRr.png","title":"Java Spring Boot - AWS objects keep getting recreated/reappearing even after being deleted - been getting charged for almost a year now with AWS","body":"<p>I signed up for Free Tier account with AWS so that I could provide a Java Spring Boot application.  It is a very small and simple program with a very small MySQL of about 10000 rows of simple data.</p>\n<p>I keep getting incurred charges every month and contacting customer support, then following their instructions to delete load balancers, instances etc. but then a few months later I will get charged again and again these same objects keep getting recreated.</p>\n<p>How do I just delete everything so that I won't be charged ever again?  I am not even using this application anymore and don't need it.  Here is a screenshot of my EC2 dashboard and also the billing breakdown.  I've deleted all of these objects before and they keep reappearing.</p>\n<p><a href=\"https://i.stack.imgur.com/2TwRr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2TwRr.png\" alt=\"enter image description here\" /></a></p>\n<p>I have literally had it up to here with AWS!!!</p>\n"},{"tags":["java","json","serialization","gson"],"comments":[{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1434223049,"post_id":30816176,"comment_id":49691057,"body_markdown":"Could it be possible to have an example of input, so that we can reproduce and try to fix your problem?","body":"Could it be possible to have an example of input, so that we can reproduce and try to fix your problem?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434287818,"post_id":30816176,"comment_id":49704667,"body_markdown":"Hi @Alexis C., I&#39;ve added it to my initial question. Thanks!","body":"Hi @Alexis C., I&#39;ve added it to my initial question. Thanks!"},{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":0,"creation_date":1434288256,"post_id":30816176,"comment_id":49704804,"body_markdown":"Did you check out https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization ?","body":"Did you check out <a href=\"https://sites.google.com/site/gson/gson-user-guide#TOC-Excluding-Fields-From-Serialization-and-Deserialization\" rel=\"nofollow noreferrer\">sites.google.com/site/gson/&hellip;</a> ?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434291639,"post_id":30816176,"comment_id":49705890,"body_markdown":"Yes I did @Reek, but I DO want the externalProfile in the response! So it should be part of the serialized output of the object, but I want gson to leave it alone (and prevent double serialization).","body":"Yes I did @Reek, but I DO want the externalProfile in the response! So it should be part of the serialized output of the object, but I want gson to leave it alone (and prevent double serialization)."},{"owner":{"account_id":1219626,"reputation":1502,"user_id":1186523,"accept_rate":38,"display_name":"uylmz"},"score":0,"creation_date":1434292954,"post_id":30816176,"comment_id":49706267,"body_markdown":"Hmm, a dirty solution maybe to exclude that property first and add it manually to serialized response. Or, de-serialize externalProfile first, and then serialize User?","body":"Hmm, a dirty solution maybe to exclude that property first and add it manually to serialized response. Or, de-serialize externalProfile first, and then serialize User?"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434298286,"post_id":30816176,"comment_id":49708081,"body_markdown":"Sorry, bit the dirty solution is not an option imho. First of all the User object is part of a more complex object and somewhere in the middle of the automated serialization process. I should hack somewhere in which I don&#39;t like doing in general. Furthermore, I try to understand more about gson, and want to know for future purposes also. Also, looking at the nice options gson provides for custom serialization, it should be possible and maybe even quite simple to solve my problem by using gson&#39;s API.","body":"Sorry, bit the dirty solution is not an option imho. First of all the User object is part of a more complex object and somewhere in the middle of the automated serialization process. I should hack somewhere in which I don&#39;t like doing in general. Furthermore, I try to understand more about gson, and want to know for future purposes also. Also, looking at the nice options gson provides for custom serialization, it should be possible and maybe even quite simple to solve my problem by using gson&#39;s API."},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434298650,"post_id":30816176,"comment_id":49708212,"body_markdown":"Deserializing is a problem too, because the (inner)classes of the externalProfile are not available for me and gson to use","body":"Deserializing is a problem too, because the (inner)classes of the externalProfile are not available for me and gson to use"},{"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"score":0,"creation_date":1434308852,"post_id":30816176,"comment_id":49711351,"body_markdown":"@TheXL Can&#39;t you store the `externalProfile` as a `JsonObject` instead? `user.setExternalProfile(new Gson().fromJson(externalProfile, JsonObject.class));`","body":"@TheXL Can&#39;t you store the <code>externalProfile</code> as a <code>JsonObject</code> instead? <code>user.setExternalProfile(new Gson().fromJson(externalProfile, JsonObject.class));</code>"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434351827,"post_id":30816176,"comment_id":49722320,"body_markdown":"Yes @AlexisC. !! That solves the problem! I can convert it to a JsonObject, and let gson serialize the object again. I checked the deserialize-serialize operations, and it produces exactly the same JSON string. Works like a charm, thanks!!","body":"Yes @AlexisC. !! That solves the problem! I can convert it to a JsonObject, and let gson serialize the object again. I checked the deserialize-serialize operations, and it produces exactly the same JSON string. Works like a charm, thanks!!"},{"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"score":0,"creation_date":1434352251,"post_id":30816176,"comment_id":49722519,"body_markdown":"@Reek, maybe I misunderstood your option about deserializing, but your hint was actually correct, by deserializing to the JsonObject class","body":"@Reek, maybe I misunderstood your option about deserializing, but your hint was actually correct, by deserializing to the JsonObject class"}],"answers":[{"tags":[],"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1434352416,"creation_date":1434352416,"answer_id":30839283,"question_id":30816176,"body_markdown":"As stated by Alexis C: \r\n\t\r\nstore the externalProfile as a JsonObject first: \r\n\r\n    new Gson().fromJson(externalProfile, JsonObject.class));\r\n\r\nAnd let gson serialize this again when outputting the User object.\r\nWill produce exactly the same JSON! ","title":"Prevent GSON from serializing JSON string","body":"<p>As stated by Alexis C: </p>\n\n<p>store the externalProfile as a JsonObject first: </p>\n\n<pre><code>new Gson().fromJson(externalProfile, JsonObject.class));\n</code></pre>\n\n<p>And let gson serialize this again when outputting the User object.\nWill produce exactly the same JSON! </p>\n"},{"tags":[],"owner":{"account_id":7233880,"reputation":61,"user_id":5519803,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1446550185,"creation_date":1446550185,"answer_id":33498011,"question_id":30816176,"body_markdown":"I solved it without the unnecessary deserialisation-serialization. Create class:\r\n\r\n    public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\r\n\r\n        @Override\r\n        public void write(final JsonWriter out, final String value) throws IOException {\r\n            out.jsonValue(value);\r\n        }\r\n\r\n        @Override\r\n        public String read(final JsonReader in) throws IOException {\r\n            return null; // Not supported\r\n        }\r\n    }\r\n\r\nAnd use it by annotation where needed. For example:\r\n\r\n    public class MyPojo {\r\n        @JsonAdapter(RawJsonGsonAdapter.class)\r\n        public String someJsonInAString;\r\n\r\n        public String normalString;\r\n    }\r\n\r\nThat&#39;s it. Use Gson as normal.","title":"Prevent GSON from serializing JSON string","body":"<p>I solved it without the unnecessary deserialisation-serialization. Create class:</p>\n\n<pre><code>public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\n\n    @Override\n    public void write(final JsonWriter out, final String value) throws IOException {\n        out.jsonValue(value);\n    }\n\n    @Override\n    public String read(final JsonReader in) throws IOException {\n        return null; // Not supported\n    }\n}\n</code></pre>\n\n<p>And use it by annotation where needed. For example:</p>\n\n<pre><code>public class MyPojo {\n    @JsonAdapter(RawJsonGsonAdapter.class)\n    public String someJsonInAString;\n\n    public String normalString;\n}\n</code></pre>\n\n<p>That's it. Use Gson as normal.</p>\n"},{"tags":[],"owner":{"account_id":9020965,"reputation":59,"user_id":6722071,"display_name":"Thibault Cuvillie"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1622649485,"creation_date":1622647313,"answer_id":67808029,"question_id":30816176,"body_markdown":"Add the read method.\r\n\r\n    public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\r\n    \r\n    \t@Override\r\n    \tpublic void write(final JsonWriter out, final String value) throws IOException {\r\n    \t\tout.jsonValue(value);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String read(final JsonReader in) throws IOException {\r\n    \t\tvar sb = new StringBuilder();\r\n    \t\tint n = 0;\r\n    \t\twhile (true) {    \r\n    \t\t\tswitch (in.peek()) {\r\n    \t\t\tcase BEGIN_ARRAY:\r\n    \t\t\t\tin.beginArray();\r\n    \t\t\t\tsb.append(&quot;[&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase BEGIN_OBJECT:\r\n    \t\t\t\tin.beginObject();\r\n    \t\t\t\tsb.append(&quot;{&quot;);\r\n    \t\t\t\tn++;\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase BOOLEAN:\r\n    \t\t\t\tsb.append(in.nextBoolean()).append(&quot;,&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase END_ARRAY:\r\n    \t\t\t\tdropLastComma(sb);\r\n    \t\t\t\tin.endArray();\r\n    \t\t\t\tsb.append(&quot;]&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase END_DOCUMENT:\r\n    \t\t\t\tthrow new RuntimeException(&quot;END_DOCUMENT invalid here&quot;);\r\n    \t\t\tcase END_OBJECT:\r\n    \t\t\t\tdropLastComma(sb);\r\n    \t\t\t\tin.endObject();\r\n    \t\t\t\tsb.append(&quot;}&quot;);\r\n    \t\t\t\tif (--n == 0)\r\n    \t\t\t\t\treturn sb.toString();\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NAME:\r\n    \t\t\t\tsb.append(&quot;\\&quot;&quot;).append(in.nextName()).append(&quot;\\&quot;:&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NULL:\r\n    \t\t\t\tin.nextNull();\r\n    \t\t\t\tsb.append(&quot;&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase NUMBER:\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tsb.append(in.nextInt()).append(&quot;,&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t} catch (Exception e1) {\r\n    \t\t\t\t\ttry {\r\n    \t\t\t\t\t\tsb.append(in.nextLong()).append(&quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t} catch (Exception e2) {\r\n    \t\t\t\t\t\tsb.append(in.nextDouble()).append(&quot;,&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\tcase STRING:\r\n    \t\t\t\tsb.append(&quot;\\&quot;&quot;).append(in.nextString()).append(&quot;\\&quot;,&quot;);\r\n    \t\t\t\tbreak;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tprivate void dropLastComma(StringBuilder sb) {\r\n    \t\tif (sb.charAt(sb.length() - 1) == &#39;,&#39;) {\r\n    \t\t\tsb.setLength(sb.length() - 1);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"Prevent GSON from serializing JSON string","body":"<p>Add the read method.</p>\n<pre><code>public class RawJsonGsonAdapter extends TypeAdapter&lt;String&gt; {\n\n    @Override\n    public void write(final JsonWriter out, final String value) throws IOException {\n        out.jsonValue(value);\n    }\n\n    @Override\n    public String read(final JsonReader in) throws IOException {\n        var sb = new StringBuilder();\n        int n = 0;\n        while (true) {    \n            switch (in.peek()) {\n            case BEGIN_ARRAY:\n                in.beginArray();\n                sb.append(&quot;[&quot;);\n                break;\n            case BEGIN_OBJECT:\n                in.beginObject();\n                sb.append(&quot;{&quot;);\n                n++;\n                break;\n            case BOOLEAN:\n                sb.append(in.nextBoolean()).append(&quot;,&quot;);\n                break;\n            case END_ARRAY:\n                dropLastComma(sb);\n                in.endArray();\n                sb.append(&quot;]&quot;);\n                break;\n            case END_DOCUMENT:\n                throw new RuntimeException(&quot;END_DOCUMENT invalid here&quot;);\n            case END_OBJECT:\n                dropLastComma(sb);\n                in.endObject();\n                sb.append(&quot;}&quot;);\n                if (--n == 0)\n                    return sb.toString();\n                break;\n            case NAME:\n                sb.append(&quot;\\&quot;&quot;).append(in.nextName()).append(&quot;\\&quot;:&quot;);\n                break;\n            case NULL:\n                in.nextNull();\n                sb.append(&quot;&quot;);\n                break;\n            case NUMBER:\n                try {\n                    sb.append(in.nextInt()).append(&quot;,&quot;);\n                    break;\n                } catch (Exception e1) {\n                    try {\n                        sb.append(in.nextLong()).append(&quot;,&quot;);\n                        break;\n                    } catch (Exception e2) {\n                        sb.append(in.nextDouble()).append(&quot;,&quot;);\n                        break;\n                    }\n                }\n            case STRING:\n                sb.append(&quot;\\&quot;&quot;).append(in.nextString()).append(&quot;\\&quot;,&quot;);\n                break;\n            }\n        }\n    }\n\n    private void dropLastComma(StringBuilder sb) {\n        if (sb.charAt(sb.length() - 1) == ',') {\n            sb.setLength(sb.length() - 1);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6462258,"reputation":151,"user_id":5005631,"display_name":"TheXL"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4950,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":30839283,"answer_count":3,"score":8,"last_activity_date":1677626510,"creation_date":1434180410,"question_id":30816176,"body_markdown":"I&#39;m new to gson, and have newby question which I have not found an answer to, so please bear with me. StackOverflow and google were not my friend :(\r\n\r\nI have a java class &quot;User&quot;, and one of its properties, &quot;externalProfile&quot; is a Java String containing already serialized JSON. When gson serializes the User object, it will treat externalProfile as primitive and thus escaping the JSON adding extra slashes etc.\r\nI want gson to leave the string alone, just using it &quot;as is&quot;, because it is already valid and usable JSON.\r\n\r\nTo distinguish the JSON string, I created a simple class called JSONString, and I&#39;ve tried using reader/writers, registerTypeAdapter, but nothing works.\r\nCan you help me out?\r\n\r\n    public class User {\r\n        private JSONString externalProfile;\r\n        public void setExternalProfile(JSONString externalProfile) { this.externalProfile = externalProfile; }\r\n\r\n    }\r\n    \r\n    public final class JSONString {\r\n        private String simpleString;\r\n        public JSONString(String simpleString) { this.simpleString = simpleString; }\r\n    }\r\n    \r\n    public customJsonBuilder(Object object) {\r\n        GsonBuilder builder = new GsonBuilder();\r\n    \t\tbuilder.registerTypeAdapter(GregorianCalendar.class, new JsonSerializer&lt;GregorianCalendar&gt;() {\r\n    \t\t    public JsonElement serialize(GregorianCalendar src, Type type, JsonSerializationContext context) {\r\n    \t\t    \tif (src == null) {\r\n    \t\t\t\t\treturn null;\r\n    \t\t\t\t}\r\n    \t\t\t\treturn new JsonPrimitive(new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;).format(src.getTime()));\r\n    \t\t    }\r\n    \t\t});\r\n    \t\tGson gson = builder.create();\r\n    \t\treturn gson.toJson(object);\r\n    }\r\n\r\nAs en example, the externalProfile will hold (as String value): \r\n\r\n    {&quot;profile&quot;:{&quot;registrationNumber&quot;: 11111}}\r\n\r\nAfter I store it as JSONString in the User object, and we convert the user object to JSON:\r\n\r\n    User user = new User();\r\n    user.setExternalProfile(new JSONString(externalProfile)),  \r\n    String json = customJsonBuilder(user);\r\n\r\njson will hold something like: \r\n\r\n    {\\&quot;profile\\&quot;:{\\&quot;registrationNumber\\&quot;: 11111}}\r\n\r\nSo, the externalProfile JSONString is serialized by gson as String primitive, adding the extra slashes in front of the doublequotes.\r\nI want gson to leave this JSONString as is, because it already is usable JSON.\r\nI&#39;m looking for a type adapter / reader-writer to do this, but I can&#39;t get it to work.","title":"Prevent GSON from serializing JSON string","body":"<p>I'm new to gson, and have newby question which I have not found an answer to, so please bear with me. StackOverflow and google were not my friend :(</p>\n\n<p>I have a java class \"User\", and one of its properties, \"externalProfile\" is a Java String containing already serialized JSON. When gson serializes the User object, it will treat externalProfile as primitive and thus escaping the JSON adding extra slashes etc.\nI want gson to leave the string alone, just using it \"as is\", because it is already valid and usable JSON.</p>\n\n<p>To distinguish the JSON string, I created a simple class called JSONString, and I've tried using reader/writers, registerTypeAdapter, but nothing works.\nCan you help me out?</p>\n\n<pre><code>public class User {\n    private JSONString externalProfile;\n    public void setExternalProfile(JSONString externalProfile) { this.externalProfile = externalProfile; }\n\n}\n\npublic final class JSONString {\n    private String simpleString;\n    public JSONString(String simpleString) { this.simpleString = simpleString; }\n}\n\npublic customJsonBuilder(Object object) {\n    GsonBuilder builder = new GsonBuilder();\n        builder.registerTypeAdapter(GregorianCalendar.class, new JsonSerializer&lt;GregorianCalendar&gt;() {\n            public JsonElement serialize(GregorianCalendar src, Type type, JsonSerializationContext context) {\n                if (src == null) {\n                    return null;\n                }\n                return new JsonPrimitive(new SimpleDateFormat(\"yyyy-MM-dd HH:mm:ss\").format(src.getTime()));\n            }\n        });\n        Gson gson = builder.create();\n        return gson.toJson(object);\n}\n</code></pre>\n\n<p>As en example, the externalProfile will hold (as String value): </p>\n\n<pre><code>{\"profile\":{\"registrationNumber\": 11111}}\n</code></pre>\n\n<p>After I store it as JSONString in the User object, and we convert the user object to JSON:</p>\n\n<pre><code>User user = new User();\nuser.setExternalProfile(new JSONString(externalProfile)),  \nString json = customJsonBuilder(user);\n</code></pre>\n\n<p>json will hold something like: </p>\n\n<pre><code>{\\\"profile\\\":{\\\"registrationNumber\\\": 11111}}\n</code></pre>\n\n<p>So, the externalProfile JSONString is serialized by gson as String primitive, adding the extra slashes in front of the doublequotes.\nI want gson to leave this JSONString as is, because it already is usable JSON.\nI'm looking for a type adapter / reader-writer to do this, but I can't get it to work.</p>\n"},{"tags":["java","spring-boot","hibernate","kotlin","spring-data-jpa"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1677627103,"post_id":75598182,"comment_id":133374839,"body_markdown":"JPA (the `EntityManager`) keeps track of the persisted/attached objects.","body":"JPA (the <code>EntityManager</code>) keeps track of the persisted/attached objects."},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1677679929,"post_id":75598182,"comment_id":133385486,"body_markdown":"Please show also the entity class in use. The id field should be annotated with @Id.","body":"Please show also the entity class in use. The id field should be annotated with @Id."}],"owner":{"account_id":1031279,"reputation":7717,"user_id":1039555,"accept_rate":56,"display_name":"Kartik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677625851,"creation_date":1677625851,"question_id":75598182,"body_markdown":"A typical way to update an entity is:\r\n\r\n```\r\nval userEntity: UserEntity = userRepository.findBySomething(...)\r\nuserEntity.name = &quot;New Name&quot;\r\nuserRepository.save(userEntity)\r\n```\r\nSince the `id` of `userEntity` remains the same, spring-data-jpa will update the row instead of adding a new one.\r\n\r\nBut if we change the reference of the entity, while keeping the `id` same, it adds a new row:\r\n\r\n```\r\nval userEntity: UserEntity = userRepository.findBySomething(...)\r\nval user: UserDto = userEntity.toUserDto(); //copies individual fields, including id\r\nuser.name = &quot;New Name&quot;\r\nuserRepository.save(user.toUserEntity()) //toUserEntity() creates a new entity object\r\n```\r\nIs addition of a new row in this case an expected behaviour? I briefly looked at spring boot code and looks like it just checks if the `id` is null or not, to decide whether it should `persist()` or `merge()`. Maybe some layers down it is checking the object reference to see if it is managed entity or something?\r\n\r\nIs there a way to tell spring boot to just match the id and not the object reference, to decide whether it should update or insert a new row?","title":"Spring boot update entity with same id but changed reference","body":"<p>A typical way to update an entity is:</p>\n<pre><code>val userEntity: UserEntity = userRepository.findBySomething(...)\nuserEntity.name = &quot;New Name&quot;\nuserRepository.save(userEntity)\n</code></pre>\n<p>Since the <code>id</code> of <code>userEntity</code> remains the same, spring-data-jpa will update the row instead of adding a new one.</p>\n<p>But if we change the reference of the entity, while keeping the <code>id</code> same, it adds a new row:</p>\n<pre><code>val userEntity: UserEntity = userRepository.findBySomething(...)\nval user: UserDto = userEntity.toUserDto(); //copies individual fields, including id\nuser.name = &quot;New Name&quot;\nuserRepository.save(user.toUserEntity()) //toUserEntity() creates a new entity object\n</code></pre>\n<p>Is addition of a new row in this case an expected behaviour? I briefly looked at spring boot code and looks like it just checks if the <code>id</code> is null or not, to decide whether it should <code>persist()</code> or <code>merge()</code>. Maybe some layers down it is checking the object reference to see if it is managed entity or something?</p>\n<p>Is there a way to tell spring boot to just match the id and not the object reference, to decide whether it should update or insert a new row?</p>\n"},{"tags":["java","spring","hibernate","rest"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677659557,"post_id":75597928,"comment_id":133379527,"body_markdown":"I doubt that this is the full controller. The issue is with your request handling method, make it `public` instead of `private`. You have some AOP in there that proxies the controlle, `private` methods cannot be proxied thus the method is invoked on the proxy which doesn&#39;t have dependencies, instead of invoked and passed on to the actual instance. On a different note your controller is flawed as well, as you are keeping state (those lists) in your controller. What do you think happens when 10 requests come in to retrieve a list?","body":"I doubt that this is the full controller. The issue is with your request handling method, make it <code>public</code> instead of <code>private</code>. You have some AOP in there that proxies the controlle, <code>private</code> methods cannot be proxied thus the method is invoked on the proxy which doesn&#39;t have dependencies, instead of invoked and passed on to the actual instance. On a different note your controller is flawed as well, as you are keeping state (those lists) in your controller. What do you think happens when 10 requests come in to retrieve a list?"},{"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"score":0,"creation_date":1677692718,"post_id":75597928,"comment_id":133389816,"body_markdown":"@M.Deinum Thank you very much fort your help! IDE has this functionality that if you use a method that doesn&#39;t exist yet, but you are about to create it, it can generate that method(without implementation of course) for you.\nI used this and unfortunately didn&#39;t notice that it generated the method as private....","body":"@M.Deinum Thank you very much fort your help! IDE has this functionality that if you use a method that doesn&#39;t exist yet, but you are about to create it, it can generate that method(without implementation of course) for you. I used this and unfortunately didn&#39;t notice that it generated the method as private...."}],"owner":{"account_id":4481977,"reputation":31,"user_id":3645803,"display_name":"Kayris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625611,"creation_date":1677623300,"question_id":75597928,"body_markdown":"I have an endpoint like you can see below and if try GET http://localhost:8080/api/taxoffice/971/details in Postman, i&#39;m recieving an error 400.\r\n \r\nIf i try GET http://localhost:8080/api/taxoffice/101/details then i&#39;m getting an error 500 &quot;Cannot invoke \\&quot;com.walidatorpnr.taxoffice.service.TaxOffice_DetailService.findAllByTaxOfficeID(int)\\&quot; because \\&quot;this.taxOfficeDetailService\\&quot; is null&quot;. \r\n\r\nRecords with both ids **are exist** in database. \r\n\r\nCould you help me to fix this, please?\r\n\r\nRestController\r\n```lang = java\r\n@RestController\r\n@RequestMapping(&quot;api/taxoffice&quot;)\r\npublic class TaxOfficeRestController {\r\n\r\n \r\n    private final TaxOfficeService taxOfficeService;\r\n\r\n    private final TaxOffice_DetailService taxOfficeDetailService;\r\n\r\n    @Autowired\r\n    public TaxOfficeRestController(TaxOfficeService taxOfficeService, TaxOffice_DetailService taxOfficeDetailService) {\r\n    \r\n        this.taxOfficeService = taxOfficeService;\r\n        this.taxOfficeDetailService = taxOfficeDetailService;\r\n    }\r\n\r\n List&lt;TaxOffice&gt; taxOffices = Lists.newArrayList();\r\n\r\n List&lt;TaxOffice_Detail&gt; taxOffice_details = Lists.newArrayList();\r\n\r\n//Endpoint I have a problem with\r\n  @GetMapping(value = &quot;/{taxOffice_id}/details&quot;)\r\n    private ResponseEntity&lt;?&gt; getTaxOfficeDetailsByTaxOfficeId(@PathVariable int taxOffice_id) {\r\n    \r\n        taxOffice_details = taxOfficeDetailService.findAllByTaxOfficeID(taxOffice_id);\r\n        if(taxOffice_details.size() != 0) {\r\n            for (TaxOffice_Detail taxOfficeDetail : taxOffice_details) {\r\n                Link selfLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\r\n               // Link relLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeById(taxOffice_id)).withRel(&quot;Urząd skarbowy&quot;);\r\n                taxOfficeDetail.add(selfLink);\r\n               // taxOfficeDetail.add(relLink);\r\n            }\r\n            Link link = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\r\n            CollectionModel&lt;TaxOffice_Detail&gt; result = CollectionModel.of(taxOffice_details, link);\r\n            return ResponseEntity.ok(result);\r\n        }\r\n        else{\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        }\r\n\r\n    }\r\n```\r\n\r\nTaxOffice_Details.java(i do not paste getters and setters here).\r\n```lang = java\r\n@Entity\r\n@Table(name = &quot;TaxOffice_Details&quot;)\r\npublic class TaxOffice_Detail extends RepresentationModel&lt;TaxOffice_Detail&gt; {\r\n\r\n    public TaxOffice_Detail() {}\r\n\r\n    public TaxOffice_Detail(int id, String street, String zipcode, String city, String phone, String fax, String email, String www) {\r\n        this.id = id;\r\n        this.street = street;\r\n        this.zipcode = zipcode;\r\n        this.city = city;\r\n        this.phone = phone;\r\n        this.fax = fax;\r\n        this.email = email;\r\n        this.www = www;\r\n    }\r\n\r\n    @Id\r\n    private int id;\r\n\r\n    @Column(name = &quot;street&quot;)\r\n    private String street;\r\n\r\n    @Column(name = &quot;zipcode&quot;)\r\n    private String zipcode;\r\n\r\n    @Column(name = &quot;city&quot;)\r\n    private String city;\r\n\r\n    @Column(name = &quot;phone&quot;)\r\n    private String phone;\r\n\r\n    @Column(name = &quot;fax&quot;)\r\n    private String fax;\r\n\r\n    @Column(name = &quot;email&quot;)\r\n    private String email;\r\n\r\n    @Column(name = &quot;www&quot;)\r\n    private String www;\r\n\r\n    @Transient\r\n    private String taxoffice_name;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;taxOffice_id&quot;)\r\n    private TaxOffice taxOffice;\r\n\r\n   // @JsonIgnore\r\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;taxOffice_details&quot;)\r\n    private List&lt;TaxOffice&gt; taxOffices;\r\n    }\r\n```\r\n\r\nTaxOffice_DetailRepository\r\n```lang = java\r\n@Repository(&quot;taxOffice_DetailRepository&quot;)\r\npublic interface TaxOffice_DetailRepository extends JpaRepository&lt;TaxOffice_Detail, Integer&gt; {\r\n\r\n\r\n    @Query(&quot;select t from TaxOffice_Detail t where t.id = :id&quot;)\r\n    List&lt;TaxOffice_Detail&gt; findAllById(int id);\r\n\r\n    @Query(&quot;select t from TaxOffice_Detail t where t.taxOffice.id = :taxOffice_id&quot;)\r\n    List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeId(int taxOffice_id);\r\n    \r\n}\r\n```\r\n\r\nTaxOffice_DetailService\r\n```lang = java\r\n@Transactional\r\n@Service\r\npublic class TaxOffice_DetailService {\r\n\r\n    final\r\n    TaxOffice_DetailRepository taxOffice_detailRepository;\r\n\r\n    public TaxOffice_DetailService(TaxOffice_DetailRepository taxOffice_detailRepository) {\r\n        this.taxOffice_detailRepository = taxOffice_detailRepository;\r\n    }\r\n\r\n    public List&lt;TaxOffice_Detail&gt; findAllByID(int id) {\r\n        return taxOffice_detailRepository.findAllById(id);\r\n    }\r\n\r\n    public List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeID(int taxOffice_id) {\r\n        return taxOffice_detailRepository.findAllByTaxOfficeId(taxOffice_id);\r\n    }\r\n}\r\n```\r\n\r\n","title":"Spring Rest Controller - Error 500 because service is null","body":"<p>I have an endpoint like you can see below and if try GET http://localhost:8080/api/taxoffice/971/details in Postman, i'm recieving an error 400.</p>\n<p>If i try GET http://localhost:8080/api/taxoffice/101/details then i'm getting an error 500 &quot;Cannot invoke &quot;com.walidatorpnr.taxoffice.service.TaxOffice_DetailService.findAllByTaxOfficeID(int)&quot; because &quot;this.taxOfficeDetailService&quot; is null&quot;.</p>\n<p>Records with both ids <strong>are exist</strong> in database.</p>\n<p>Could you help me to fix this, please?</p>\n<p>RestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;api/taxoffice&quot;)\npublic class TaxOfficeRestController {\n\n \n    private final TaxOfficeService taxOfficeService;\n\n    private final TaxOffice_DetailService taxOfficeDetailService;\n\n    @Autowired\n    public TaxOfficeRestController(TaxOfficeService taxOfficeService, TaxOffice_DetailService taxOfficeDetailService) {\n    \n        this.taxOfficeService = taxOfficeService;\n        this.taxOfficeDetailService = taxOfficeDetailService;\n    }\n\n List&lt;TaxOffice&gt; taxOffices = Lists.newArrayList();\n\n List&lt;TaxOffice_Detail&gt; taxOffice_details = Lists.newArrayList();\n\n//Endpoint I have a problem with\n  @GetMapping(value = &quot;/{taxOffice_id}/details&quot;)\n    private ResponseEntity&lt;?&gt; getTaxOfficeDetailsByTaxOfficeId(@PathVariable int taxOffice_id) {\n    \n        taxOffice_details = taxOfficeDetailService.findAllByTaxOfficeID(taxOffice_id);\n        if(taxOffice_details.size() != 0) {\n            for (TaxOffice_Detail taxOfficeDetail : taxOffice_details) {\n                Link selfLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\n               // Link relLink = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeById(taxOffice_id)).withRel(&quot;Urząd skarbowy&quot;);\n                taxOfficeDetail.add(selfLink);\n               // taxOfficeDetail.add(relLink);\n            }\n            Link link = linkTo(methodOn(TaxOfficeRestController.class).getTaxOfficeDetailsByTaxOfficeId(taxOffice_id)).withSelfRel();\n            CollectionModel&lt;TaxOffice_Detail&gt; result = CollectionModel.of(taxOffice_details, link);\n            return ResponseEntity.ok(result);\n        }\n        else{\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        }\n\n    }\n</code></pre>\n<p>TaxOffice_Details.java(i do not paste getters and setters here).</p>\n<pre><code>@Entity\n@Table(name = &quot;TaxOffice_Details&quot;)\npublic class TaxOffice_Detail extends RepresentationModel&lt;TaxOffice_Detail&gt; {\n\n    public TaxOffice_Detail() {}\n\n    public TaxOffice_Detail(int id, String street, String zipcode, String city, String phone, String fax, String email, String www) {\n        this.id = id;\n        this.street = street;\n        this.zipcode = zipcode;\n        this.city = city;\n        this.phone = phone;\n        this.fax = fax;\n        this.email = email;\n        this.www = www;\n    }\n\n    @Id\n    private int id;\n\n    @Column(name = &quot;street&quot;)\n    private String street;\n\n    @Column(name = &quot;zipcode&quot;)\n    private String zipcode;\n\n    @Column(name = &quot;city&quot;)\n    private String city;\n\n    @Column(name = &quot;phone&quot;)\n    private String phone;\n\n    @Column(name = &quot;fax&quot;)\n    private String fax;\n\n    @Column(name = &quot;email&quot;)\n    private String email;\n\n    @Column(name = &quot;www&quot;)\n    private String www;\n\n    @Transient\n    private String taxoffice_name;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;taxOffice_id&quot;)\n    private TaxOffice taxOffice;\n\n   // @JsonIgnore\n    @OneToMany(fetch = FetchType.LAZY, mappedBy = &quot;taxOffice_details&quot;)\n    private List&lt;TaxOffice&gt; taxOffices;\n    }\n</code></pre>\n<p>TaxOffice_DetailRepository</p>\n<pre><code>@Repository(&quot;taxOffice_DetailRepository&quot;)\npublic interface TaxOffice_DetailRepository extends JpaRepository&lt;TaxOffice_Detail, Integer&gt; {\n\n\n    @Query(&quot;select t from TaxOffice_Detail t where t.id = :id&quot;)\n    List&lt;TaxOffice_Detail&gt; findAllById(int id);\n\n    @Query(&quot;select t from TaxOffice_Detail t where t.taxOffice.id = :taxOffice_id&quot;)\n    List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeId(int taxOffice_id);\n    \n}\n</code></pre>\n<p>TaxOffice_DetailService</p>\n<pre><code>@Transactional\n@Service\npublic class TaxOffice_DetailService {\n\n    final\n    TaxOffice_DetailRepository taxOffice_detailRepository;\n\n    public TaxOffice_DetailService(TaxOffice_DetailRepository taxOffice_detailRepository) {\n        this.taxOffice_detailRepository = taxOffice_detailRepository;\n    }\n\n    public List&lt;TaxOffice_Detail&gt; findAllByID(int id) {\n        return taxOffice_detailRepository.findAllById(id);\n    }\n\n    public List&lt;TaxOffice_Detail&gt; findAllByTaxOfficeID(int taxOffice_id) {\n        return taxOffice_detailRepository.findAllByTaxOfficeId(taxOffice_id);\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","maven-wrapper"],"comments":[{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1677627133,"post_id":75598160,"comment_id":133374843,"body_markdown":"is there a reason for specifically using maven-wrapper? wouldn&#39;t a &quot;regular&quot; maven installation with the default global configuration set up  (https://maven.apache.org/settings.html) in `${user.home}/.m2/settings.xml` will prevent you having to copy it to each project... As I understand it, the maven wrapper is for situations where you don&#39;t want a full maven installation","body":"is there a reason for specifically using maven-wrapper? wouldn&#39;t a &quot;regular&quot; maven installation with the default global configuration set up  (<a href=\"https://maven.apache.org/settings.html\" rel=\"nofollow noreferrer\">maven.apache.org/settings.html</a>) in <code>${user.home}&#47;.m2&#47;settings.xml</code> will prevent you having to copy it to each project... As I understand it, the maven wrapper is for situations where you don&#39;t want a full maven installation"},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1677627281,"post_id":75598160,"comment_id":133374864,"body_markdown":"Another observation: if you are developing Spring, have you considered an editor that actually will empoweer you? vscode/intelliJ/spring tools suite all have very good spring support, and maven works well with them.","body":"Another observation: if you are developing Spring, have you considered an editor that actually will empoweer you? vscode/intelliJ/spring tools suite all have very good spring support, and maven works well with them."},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677645655,"post_id":75598160,"comment_id":133377204,"body_markdown":"(1) Netbeans 16 support Maven. you can open some project include `pom.xml` (2)  you can ignore `mvnw`, `mvnw.cmd`, `.mvn` (3) You can use Netbeans create a Maven project, `File` -&gt; `New Project` -&gt; `Choose Project` -&gt; `Java with Maven`","body":"(1) Netbeans 16 support Maven. you can open some project include <code>pom.xml</code> (2)  you can ignore <code>mvnw</code>, <code>mvnw.cmd</code>, <code>.mvn</code> (3) You can use Netbeans create a Maven project, <code>File</code> -&gt; <code>New Project</code> -&gt; <code>Choose Project</code> -&gt; <code>Java with Maven</code>"},{"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"score":0,"creation_date":1677876568,"post_id":75598160,"comment_id":133430708,"body_markdown":"Using maven wrappers was recommended by my team lead, as was using environmental variables for the remote repository settings","body":"Using maven wrappers was recommended by my team lead, as was using environmental variables for the remote repository settings"}],"owner":{"account_id":886634,"reputation":452,"user_id":925928,"accept_rate":80,"display_name":"Sheldon R."},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625568,"creation_date":1677625568,"question_id":75598160,"body_markdown":"I have used NetBeans for years, but never with Maven. I am trying to use Maven wrappers to set up a remote repository utilized by the microservices at my new company; is there a way to do so native to NetBeans so that it&#39;s applicable to all Maven projects from that point on? \r\n\r\nThe only project I have with Maven wrappers currently is one I created via spring.starter.io then imported into NetBeans; should I set the variables for the remote repository in that project then copy that .mvn folder to other projects as needed?","title":"How to use maven wrappers in netbeans","body":"<p>I have used NetBeans for years, but never with Maven. I am trying to use Maven wrappers to set up a remote repository utilized by the microservices at my new company; is there a way to do so native to NetBeans so that it's applicable to all Maven projects from that point on?</p>\n<p>The only project I have with Maven wrappers currently is one I created via spring.starter.io then imported into NetBeans; should I set the variables for the remote repository in that project then copy that .mvn folder to other projects as needed?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677421855,"post_id":75572568,"comment_id":133330569,"body_markdown":"What is the full url you’re using to make the request?","body":"What is the full url you’re using to make the request?"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677423329,"post_id":75572568,"comment_id":133330807,"body_markdown":"Did you by chance override the default context path? If so, try changing it to `‘/‘` instead of `‘’`","body":"Did you by chance override the default context path? If so, try changing it to <code>‘&#47;‘</code> instead of <code>‘’</code>"},{"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"score":0,"creation_date":1677423892,"post_id":75572568,"comment_id":133330915,"body_markdown":"no luck still got whitelabel error :(","body":"no luck still got whitelabel error :("}],"answers":[{"tags":[],"owner":{"account_id":27883283,"reputation":1,"user_id":21291304,"display_name":"ash0897"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677421989,"creation_date":1677421989,"answer_id":75572677,"question_id":75572568,"body_markdown":"Please remove `@ComponentScan(basePackages={&quot;com.ifred.app&quot;})` as it is of no use since you are using `@SpringBootApplication`. \r\n\r\n[@SpringBootApplication][1] already comprised of @ComponentScan\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>Please remove <code>@ComponentScan(basePackages={&quot;com.ifred.app&quot;})</code> as it is of no use since you are using <code>@SpringBootApplication</code>.</p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/2.0.x/reference/html/using-boot-using-springbootapplication-annotation.html\" rel=\"nofollow noreferrer\">@SpringBootApplication</a> already comprised of @ComponentScan</p>\n"},{"tags":[],"owner":{"account_id":8298722,"reputation":1682,"user_id":6238063,"accept_rate":57,"display_name":"Mason"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677456819,"creation_date":1677456819,"answer_id":75575825,"question_id":75572568,"body_markdown":"instead of the @RequestMapping having /hello use /api and then use @GetMapping(&quot;/hello&quot;)\r\n\r\nex:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api&quot;)\r\n    public class MyController {\r\n    \r\n        @GetMapping(&quot;/hello&quot;)\r\n        public String hello() {\r\n            return &quot;Hello, World!&quot;;\r\n        }\r\n    }\r\n\r\n\r\nclient sends a GET request to /api/hello, the hello() method will be executed and return the string &quot;Hello, World!&quot;.","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>instead of the @RequestMapping having /hello use /api and then use @GetMapping(&quot;/hello&quot;)</p>\n<p>ex:</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class MyController {\n\n    @GetMapping(&quot;/hello&quot;)\n    public String hello() {\n        return &quot;Hello, World!&quot;;\n    }\n}\n</code></pre>\n<p>client sends a GET request to /api/hello, the hello() method will be executed and return the string &quot;Hello, World!&quot;.</p>\n"}],"owner":{"account_id":27883312,"reputation":1,"user_id":21291324,"display_name":"f.e.7777"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1677625442,"creation_date":1677420764,"question_id":75572568,"body_markdown":"I&#39;ve tried it on IntelliJ and STS 4 but i&#39;m getting the same whitelabel error, except when i put the @restcontroller inside the main application, so i think the problem is in the package structure. I&#39;ve tried a lot of things (with and without component scan, on the same and on a subpackage, with both IDE&#39;s)  yet none worked :( Spring 3.0.3. Im accessing http://localhost:8080/hello\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIFredApplication.java (main)\r\n\r\n```\r\npackage com.ifred.app;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(basePackages={&quot;com.ifred.app&quot;})\r\n\r\npublic class IfredApplication {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(IfredApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nhello.java(controller)\r\n\r\n```\r\npackage com.ifred.app.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/hello&quot;)\r\npublic class hello {\r\n\t\r\n\t@GetMapping\r\n\tpublic String hi() {\r\n\t\treturn&quot;Hello world&quot;;\r\n\t}\r\n\r\n}\r\n```\r\nAnd this is my POM\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ifred&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;ifred&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;ifred&lt;/name&gt;\r\n\t&lt;description&gt;projeto ifood&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n\r\n```\r\nConsole Output\r\n```\r\n\r\n[2m2023-02-26T10:43:59.509-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Starting IfredApplication using Java 17.0.6 with PID 5492 (D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred\\target\\classes started by Pichau in D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred)\r\n[2m2023-02-26T10:43:59.513-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n[2m2023-02-26T10:44:00.280-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\r\n[2m2023-02-26T10:44:00.290-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\r\n[2m2023-02-26T10:44:00.291-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\r\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\r\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 830 ms\r\n[2m2023-02-26T10:44:00.710-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n[2m2023-02-26T10:44:00.721-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Started IfredApplication in 1.597 seconds (process running for 2.4)\r\n[2m2023-02-26T10:44:09.601-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet &#39;dispatcherServlet&#39;\r\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\r\n\r\n```\r\n\r\n\r\nTried using IntelliJ and STS4, tried changing the package structure, putting on the same package and on a subpackage, tried using only @controller with and without response body, tried only request mapping, tried only get mapping, tried using component scan with (basePackages={&quot;com.ifred.app&quot;}) and (basePackages={&quot;com.ifred.controller&quot;}), tried different browser. It only worked once when i called the @restcontroller inside the IfredApplication class, but will cause problems in the future.\r\n\r\nEDIT 1: So apparently the problem is on the first time i start the file, something on the project structure, still trying to figure it out. When i send the project files to my friend&#39;s pc it wont work, but if he creates the project (the exact same way i did with spring initializr) and runs it for the first time on his PC, it works on every pc. If he send the file for me to run for the first time on my PC it works on neither.\r\n\r\n  [1]: https://i.stack.imgur.com/0gsCN.png","title":"Spring Boot Controller not mapping (Whitelabel Error Page 404)","body":"<p>I've tried it on IntelliJ and STS 4 but i'm getting the same whitelabel error, except when i put the @restcontroller inside the main application, so i think the problem is in the package structure. I've tried a lot of things (with and without component scan, on the same and on a subpackage, with both IDE's)  yet none worked :( Spring 3.0.3. Im accessing http://localhost:8080/hello</p>\n<p><a href=\"https://i.stack.imgur.com/0gsCN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0gsCN.png\" alt=\"enter image description here\" /></a></p>\n<p>IFredApplication.java (main)</p>\n<pre><code>package com.ifred.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(basePackages={&quot;com.ifred.app&quot;})\n\npublic class IfredApplication {\n    \n    public static void main(String[] args) {\n        SpringApplication.run(IfredApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>hello.java(controller)</p>\n<pre><code>package com.ifred.app.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/hello&quot;)\npublic class hello {\n    \n    @GetMapping\n    public String hi() {\n        return&quot;Hello world&quot;;\n    }\n\n}\n</code></pre>\n<p>And this is my POM</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ifred&lt;/groupId&gt;\n    &lt;artifactId&gt;ifred&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;ifred&lt;/name&gt;\n    &lt;description&gt;projeto ifood&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n\n</code></pre>\n<p>Console Output</p>\n<pre><code>\n[2m2023-02-26T10:43:59.509-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Starting IfredApplication using Java 17.0.6 with PID 5492 (D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred\\target\\classes started by Pichau in D:\\Frederico\\Softwares\\Projetos Spring Tools Suite\\ifred)\n[2m2023-02-26T10:43:59.513-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m No active profile set, falling back to 1 default profile: &quot;default&quot;\n[2m2023-02-26T10:44:00.280-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat initialized with port(s): 8080 (http)\n[2m2023-02-26T10:44:00.290-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardService  [0;39m [2m:[0;39m Starting service [Tomcat]\n[2m2023-02-26T10:44:00.291-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.apache.catalina.core.StandardEngine   [0;39m [2m:[0;39m Starting Servlet engine: [Apache Tomcat/10.1.5]\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring embedded WebApplicationContext\n[2m2023-02-26T10:44:00.391-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mw.s.c.ServletWebServerApplicationContext[0;39m [2m:[0;39m Root WebApplicationContext: initialization completed in 830 ms\n[2m2023-02-26T10:44:00.710-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mo.s.b.w.embedded.tomcat.TomcatWebServer [0;39m [2m:[0;39m Tomcat started on port(s): 8080 (http) with context path ''\n[2m2023-02-26T10:44:00.721-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[           main][0;39m [36mcom.ifred.app.IfredApplication          [0;39m [2m:[0;39m Started IfredApplication in 1.597 seconds (process running for 2.4)\n[2m2023-02-26T10:44:09.601-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.a.c.c.C.[Tomcat].[localhost].[/]      [0;39m [2m:[0;39m Initializing Spring DispatcherServlet 'dispatcherServlet'\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Initializing Servlet 'dispatcherServlet'\n[2m2023-02-26T10:44:09.602-03:00[0;39m [32m INFO[0;39m [35m5492[0;39m [2m---[0;39m [2m[nio-8080-exec-1][0;39m [36mo.s.web.servlet.DispatcherServlet       [0;39m [2m:[0;39m Completed initialization in 0 ms\n\n</code></pre>\n<p>Tried using IntelliJ and STS4, tried changing the package structure, putting on the same package and on a subpackage, tried using only @controller with and without response body, tried only request mapping, tried only get mapping, tried using component scan with (basePackages={&quot;com.ifred.app&quot;}) and (basePackages={&quot;com.ifred.controller&quot;}), tried different browser. It only worked once when i called the @restcontroller inside the IfredApplication class, but will cause problems in the future.</p>\n<p>EDIT 1: So apparently the problem is on the first time i start the file, something on the project structure, still trying to figure it out. When i send the project files to my friend's pc it wont work, but if he creates the project (the exact same way i did with spring initializr) and runs it for the first time on his PC, it works on every pc. If he send the file for me to run for the first time on my PC it works on neither.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677626079,"post_id":75598122,"comment_id":133374670,"body_markdown":"More FYI: https://developer.android.com/topic/performance/tracing","body":"More FYI: <a href=\"https://developer.android.com/topic/performance/tracing\" rel=\"nofollow noreferrer\">developer.android.com/topic/performance/tracing</a>"}],"owner":{"account_id":1190431,"reputation":3768,"user_id":1163355,"accept_rate":60,"display_name":"gunit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677625087,"creation_date":1677625087,"question_id":75598122,"body_markdown":"This [answered](https://stackoverflow.com/a/47965851/1163355) that &quot;objc_msgSend is basically the implementation of Objective-C&#39;s message dispatch&quot;. So it seems like tracing objc_msgSend can help with profiling all methods in an iOS app. \r\n\r\nWe want to do something similar for Android apps. Is there a similar method that exists for java? (We basically want to trace and log all method calls for regression profiling without taking too much of a performance hit)","title":"Is there a java version of Objective C&#39;s objc_msgSend for tracing android apps?","body":"<p>This <a href=\"https://stackoverflow.com/a/47965851/1163355\">answered</a> that &quot;objc_msgSend is basically the implementation of Objective-C's message dispatch&quot;. So it seems like tracing objc_msgSend can help with profiling all methods in an iOS app.</p>\n<p>We want to do something similar for Android apps. Is there a similar method that exists for java? (We basically want to trace and log all method calls for regression profiling without taking too much of a performance hit)</p>\n"},{"tags":["java","loops"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677621631,"post_id":75597717,"comment_id":133373824,"body_markdown":"https://docs.oracle.com/javase/tutorial/","body":"<a href=\"https://docs.oracle.com/javase/tutorial/\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial</a>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1677622313,"post_id":75597717,"comment_id":133373989,"body_markdown":"Put the valid responses into a `List` of some kind, then use `List#contains` to test of the response from the user is within the `List` or not.  Otherwise you will have a very long exit condition with a bunch of OR conditions","body":"Put the valid responses into a <code>List</code> of some kind, then use <code>List#contains</code> to test of the response from the user is within the <code>List</code> or not.  Otherwise you will have a very long exit condition with a bunch of OR conditions"}],"answers":[{"tags":[],"owner":{"account_id":8904866,"reputation":381,"user_id":20850976,"display_name":"raw-chicken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677624208,"creation_date":1677623114,"answer_id":75597911,"question_id":75597717,"body_markdown":"You can try something like this:\r\n\r\n    public static void main(String[] args) {\r\n\r\n        Scanner input = new Scanner(System.in);\r\n        \r\n        System.out.println(&quot;&quot;);\r\n        System.out.println(&quot;Please type your Cat&#39;s BACKGROUND!:&quot;);\r\n        System.out.println(&quot;Your options are:&quot;);\r\n        System.out.println(&quot;DOMESTIC / CLAN / STRAY&quot;);\r\n        String pBackg = input.nextLine();\r\n\r\n        ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;(Arrays.asList(&quot;DOMESTIC&quot;, &quot;CLAN&quot;, &quot;STRAY&quot;));\r\n\r\n        // Updated code\r\n        while (!options.contains(pBackg)) {\r\n           System.out.println(&quot;You aren&#39;t a cat?&quot;);\r\n           pBackg = input.nextLine();\r\n        }\r\n\r\n        switch (pBackg) {\r\n            case &quot;DOMESTIC&quot;:\r\n                System.out.println(&quot;You&#39;re a DOMESTIC cat!&quot;);\r\n                break;\r\n            case &quot;CLAN&quot;:\r\n                System.out.println(&quot;You&#39;re a CLAN cat!&quot;);\r\n                break;\r\n            case &quot;STRAY&quot;:\r\n                System.out.println(&quot;You&#39;re a STRAY cat!&quot;);\r\n                break;\r\n            default:\r\n        }\r\n\r\n    }\r\n\r\nThis is generalizable for if you have a lot of options and a list of all the options that you want to check input for. \r\n\r\nAlternatively remember that `while` loops have a condition that takes in any boolean value. What you mentioned\r\n\r\n&gt; loop until pBackg is DOMESTIC\r\n\r\nis basically end loop if `pBackg.equals(&quot;DOMESTIC&quot;)`. We want to continue loop if it isn&#39;t, so we reverse the condition using `!`. You can check multiple conditions by using &amp;&amp; (and). So another way of doing what you want would be \r\n\r\n    while (!pBackg.equals(&quot;DOMESTIC&quot;) &amp;&amp; !pBackg.equals(&quot;CLAN&quot;) &amp;&amp; !pBackg.equals(&quot;STRAY&quot;)) {\r\n        ...\r\n    }","title":"How do I make a loop until the user gives correct input in Java, if there&#39;s multiple &#39;correct&#39; paths?","body":"<p>You can try something like this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner input = new Scanner(System.in);\n    \n    System.out.println(&quot;&quot;);\n    System.out.println(&quot;Please type your Cat's BACKGROUND!:&quot;);\n    System.out.println(&quot;Your options are:&quot;);\n    System.out.println(&quot;DOMESTIC / CLAN / STRAY&quot;);\n    String pBackg = input.nextLine();\n\n    ArrayList&lt;String&gt; options = new ArrayList&lt;&gt;(Arrays.asList(&quot;DOMESTIC&quot;, &quot;CLAN&quot;, &quot;STRAY&quot;));\n\n    // Updated code\n    while (!options.contains(pBackg)) {\n       System.out.println(&quot;You aren't a cat?&quot;);\n       pBackg = input.nextLine();\n    }\n\n    switch (pBackg) {\n        case &quot;DOMESTIC&quot;:\n            System.out.println(&quot;You're a DOMESTIC cat!&quot;);\n            break;\n        case &quot;CLAN&quot;:\n            System.out.println(&quot;You're a CLAN cat!&quot;);\n            break;\n        case &quot;STRAY&quot;:\n            System.out.println(&quot;You're a STRAY cat!&quot;);\n            break;\n        default:\n    }\n\n}\n</code></pre>\n<p>This is generalizable for if you have a lot of options and a list of all the options that you want to check input for.</p>\n<p>Alternatively remember that <code>while</code> loops have a condition that takes in any boolean value. What you mentioned</p>\n<blockquote>\n<p>loop until pBackg is DOMESTIC</p>\n</blockquote>\n<p>is basically end loop if <code>pBackg.equals(&quot;DOMESTIC&quot;)</code>. We want to continue loop if it isn't, so we reverse the condition using <code>!</code>. You can check multiple conditions by using &amp;&amp; (and). So another way of doing what you want would be</p>\n<pre><code>while (!pBackg.equals(&quot;DOMESTIC&quot;) &amp;&amp; !pBackg.equals(&quot;CLAN&quot;) &amp;&amp; !pBackg.equals(&quot;STRAY&quot;)) {\n    ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677624489,"creation_date":1677624489,"answer_id":75598053,"question_id":75597717,"body_markdown":"Here&#39;s how I would do it with a `List`. Note the use of `String.Join()` so that your options in the output would automatically be updated if you changed the List:\r\n\r\n    import java.util.*;\r\n    class Main { \r\n        \r\n      public static void main(String args[]){\r\n        Scanner input = new Scanner(System.in);\r\n        String pBackg;\r\n        List&lt;String&gt; options = Arrays.asList(&quot;DOMESTIC&quot;, &quot;CLAN&quot;, &quot;STRAY&quot;);\r\n        boolean valid = false;\r\n        do {\r\n          System.out.println(&quot;&quot;);\r\n          System.out.println(&quot;Please type your Cat&#39;s BACKGROUND!&quot;);\r\n          System.out.println(&quot;Your options are:&quot;);\r\n          System.out.println(String.join(&quot; / &quot;, options));\r\n          System.out.print(&quot;Background: &quot;);\r\n          pBackg = input.nextLine().toUpperCase().trim();\r\n          valid = (options.indexOf(pBackg) != -1);\r\n          if (!valid) {\r\n            System.out.println(&quot;You aren&#39;t a cat?&quot;);\r\n          }\r\n        } while (!valid);\r\n        System.out.println(&quot;You&#39;re a &quot; + pBackg + &quot; cat!&quot;);\r\n      }\r\n      \r\n    }\r\n\r\nSample run:\r\n\r\n    Please type your Cat&#39;s BACKGROUND!\r\n    Your options are:\r\n    DOMESTIC / CLAN / STRAY\r\n    Background: feral\r\n    You aren&#39;t a cat?\r\n    \r\n    Please type your Cat&#39;s BACKGROUND!\r\n    Your options are:\r\n    DOMESTIC / CLAN / STRAY\r\n    Background: tacos are great\r\n    You aren&#39;t a cat?\r\n    \r\n    Please type your Cat&#39;s BACKGROUND!\r\n    Your options are:\r\n    DOMESTIC / CLAN / STRAY\r\n    Background: clan\r\n    You&#39;re a CLAN cat!","title":"How do I make a loop until the user gives correct input in Java, if there&#39;s multiple &#39;correct&#39; paths?","body":"<p>Here's how I would do it with a <code>List</code>. Note the use of <code>String.Join()</code> so that your options in the output would automatically be updated if you changed the List:</p>\n<pre><code>import java.util.*;\nclass Main { \n    \n  public static void main(String args[]){\n    Scanner input = new Scanner(System.in);\n    String pBackg;\n    List&lt;String&gt; options = Arrays.asList(&quot;DOMESTIC&quot;, &quot;CLAN&quot;, &quot;STRAY&quot;);\n    boolean valid = false;\n    do {\n      System.out.println(&quot;&quot;);\n      System.out.println(&quot;Please type your Cat's BACKGROUND!&quot;);\n      System.out.println(&quot;Your options are:&quot;);\n      System.out.println(String.join(&quot; / &quot;, options));\n      System.out.print(&quot;Background: &quot;);\n      pBackg = input.nextLine().toUpperCase().trim();\n      valid = (options.indexOf(pBackg) != -1);\n      if (!valid) {\n        System.out.println(&quot;You aren't a cat?&quot;);\n      }\n    } while (!valid);\n    System.out.println(&quot;You're a &quot; + pBackg + &quot; cat!&quot;);\n  }\n  \n}\n</code></pre>\n<p>Sample run:</p>\n<pre><code>Please type your Cat's BACKGROUND!\nYour options are:\nDOMESTIC / CLAN / STRAY\nBackground: feral\nYou aren't a cat?\n\nPlease type your Cat's BACKGROUND!\nYour options are:\nDOMESTIC / CLAN / STRAY\nBackground: tacos are great\nYou aren't a cat?\n\nPlease type your Cat's BACKGROUND!\nYour options are:\nDOMESTIC / CLAN / STRAY\nBackground: clan\nYou're a CLAN cat!\n</code></pre>\n"}],"owner":{"account_id":27903794,"reputation":3,"user_id":21307468,"display_name":"LuxxB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75598053,"answer_count":2,"score":0,"last_activity_date":1677624489,"creation_date":1677621558,"question_id":75597717,"body_markdown":"I have a program that asks the user to input one of three options- DOMESTIC, STRAY, or CLAN\r\nI&#39;d like to make it so that it keeps asking for proper input if the user doesn&#39;t answer properly, until &quot;pBackg&quot; has either of the options.\r\nI think I&#39;ve seen how to do loops, but only for one specific value (example: loop until pBackg is DOMESTIC)\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\npublic class WanderingCats {\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tScanner input = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;Please type your Cat&#39;s BACKGROUND!:&quot;);\r\n\t\tSystem.out.println(&quot;Your options are:&quot;);\r\n\t\tSystem.out.println(&quot;DOMESTIC / CLAN / STRAY&quot;);\r\n\t\tString pBackg = input.nextLine();\r\n\t\t\r\n\t\t\r\n\t\tswitch(pBackg) {\r\n\t\tcase &quot;DOMESTIC&quot;:\r\n\t\t\tSystem.out.println(&quot;You&#39;re a DOMESTIC cat!&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;CLAN&quot;:\r\n\t\t\tSystem.out.println(&quot;You&#39;re a CLAN cat!&quot;);\r\n\t\t\tbreak;\r\n\t\tcase &quot;STRAY&quot;:\r\n\t\t\tSystem.out.println(&quot;You&#39;re a STRAY cat!&quot;);\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tSystem.out.println(&quot;You aren&#39;t a cat?&quot;);\r\n\t\t\t// Some sort of loop here requesting input again?\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\nThat is an example of my current code ","title":"How do I make a loop until the user gives correct input in Java, if there&#39;s multiple &#39;correct&#39; paths?","body":"<p>I have a program that asks the user to input one of three options- DOMESTIC, STRAY, or CLAN\nI'd like to make it so that it keeps asking for proper input if the user doesn't answer properly, until &quot;pBackg&quot; has either of the options.\nI think I've seen how to do loops, but only for one specific value (example: loop until pBackg is DOMESTIC)</p>\n<pre><code>import java.util.Scanner;\n\npublic class WanderingCats {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        \n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Please type your Cat's BACKGROUND!:&quot;);\n        System.out.println(&quot;Your options are:&quot;);\n        System.out.println(&quot;DOMESTIC / CLAN / STRAY&quot;);\n        String pBackg = input.nextLine();\n        \n        \n        switch(pBackg) {\n        case &quot;DOMESTIC&quot;:\n            System.out.println(&quot;You're a DOMESTIC cat!&quot;);\n            break;\n        case &quot;CLAN&quot;:\n            System.out.println(&quot;You're a CLAN cat!&quot;);\n            break;\n        case &quot;STRAY&quot;:\n            System.out.println(&quot;You're a STRAY cat!&quot;);\n            break;\n        default:\n            System.out.println(&quot;You aren't a cat?&quot;);\n            // Some sort of loop here requesting input again?\n\n        }\n    }\n}\n</code></pre>\n<p>That is an example of my current code</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176607,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1393637702,"creation_date":1393637702,"answer_id":22108959,"question_id":22108945,"body_markdown":"You need to either cast one of them as a `float`, or declare one of the variables to be a `float` from the start.  Otherwise, Java&#39;s integer division takes over, and just as an `int` divided by an `int` must be an `int`, that would apply to `long`s as well.\r\n\r\n    float c = (float) a / b;","title":"How to divide two longs and get the value?","body":"<p>You need to either cast one of them as a <code>float</code>, or declare one of the variables to be a <code>float</code> from the start.  Otherwise, Java's integer division takes over, and just as an <code>int</code> divided by an <code>int</code> must be an <code>int</code>, that would apply to <code>long</code>s as well.</p>\n\n<pre><code>float c = (float) a / b;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7808,"reputation":24390,"user_id":13687,"display_name":"John Gardner"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1393637912,"creation_date":1393637912,"answer_id":22108989,"question_id":22108945,"body_markdown":"you&#39;re using integer math, then storing the result in a float.\r\n\r\n    float c = ((float)a) / b; \r\n\r\nwould get you a float, but using doubles would be more precise.\r\n\r\nor using BigDecimal\r\n\r\n    BigDecimal d = new BigDecimal(a).Divide(new BigDecimal(b));\r\n\r\n  \r\n ","title":"How to divide two longs and get the value?","body":"<p>you're using integer math, then storing the result in a float.</p>\n\n<pre><code>float c = ((float)a) / b; \n</code></pre>\n\n<p>would get you a float, but using doubles would be more precise.</p>\n\n<p>or using BigDecimal</p>\n\n<pre><code>BigDecimal d = new BigDecimal(a).Divide(new BigDecimal(b));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2548670,"reputation":61,"user_id":2212916,"display_name":"Mintakastar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1393638562,"creation_date":1393638562,"answer_id":22109060,"question_id":22108945,"body_markdown":"The division is done between not decimal values (integer and float), then the result will be not decimal then it is casted to float, but the decimal information is already lost.\r\n\r\nyou can either use decimal types (float, double, BigDecimal) in the entire operation or cast the values before they are used.\r\n\r\n      float a = 234;\r\n      float b = 123453344L;\r\n      float c =  a/b;\r\n\r\nor\r\n\r\n      int a = 234;\r\n      long b = 123453344L;\r\n      float c = (float) a/b;\r\n\r\nI hope this help.","title":"How to divide two longs and get the value?","body":"<p>The division is done between not decimal values (integer and float), then the result will be not decimal then it is casted to float, but the decimal information is already lost.</p>\n\n<p>you can either use decimal types (float, double, BigDecimal) in the entire operation or cast the values before they are used.</p>\n\n<pre><code>  float a = 234;\n  float b = 123453344L;\n  float c =  a/b;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>  int a = 234;\n  long b = 123453344L;\n  float c = (float) a/b;\n</code></pre>\n\n<p>I hope this help.</p>\n"},{"tags":[],"owner":{"account_id":2028728,"reputation":1807,"user_id":1813047,"accept_rate":75,"display_name":"Henrik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677624454,"creation_date":1393640554,"answer_id":22109310,"question_id":22108945,"body_markdown":"This is another approach to accomplish this:\r\n\r\n```java\r\nfloat c = a.floatValue() / b.floatValue();\r\n```","title":"How to divide two longs and get the value?","body":"<p>This is another approach to accomplish this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>float c = a.floatValue() / b.floatValue();\n</code></pre>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3792,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677624454,"creation_date":1393637608,"question_id":22108945,"body_markdown":"I need to compute probability of an integer and a long. but I always get 0.\r\n\r\nint a = 234;&lt;br&gt;\r\nlong b = 123453344L\r\n\r\nfloat c = a /b;\r\n\r\nHow to get it right in Java?","title":"How to divide two longs and get the value?","body":"<p>I need to compute probability of an integer and a long. but I always get 0.</p>\n\n<p>int a = 234;<br>\nlong b = 123453344L</p>\n\n<p>float c = a /b;</p>\n\n<p>How to get it right in Java?</p>\n"},{"tags":["java","json","jackson"],"owner":{"account_id":1565759,"reputation":516,"user_id":1454613,"accept_rate":78,"display_name":"Fulluphigh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677624072,"creation_date":1677624072,"question_id":75597999,"body_markdown":"I&#39;m dealing with parsing JSON objects that distinguish between an empty value and a `null` value. I.e. I want to treat the `sampleField` field in `{&quot;id&quot;: &quot;...&quot;, sampleField: null}` different from `{&quot;id: &quot;...&quot;}`.\r\n\r\nOne of the solutions I&#39;m trying to build a quick PoC for is to create a `Set` of explicitly nulled out fields on every object, and create a custom deserializer that can populate that set with the names of any fields that were explicitly provided as `null`. \r\n\r\nThe thing is, there will be dozens and dozens of different object types that I&#39;ll want to be able to deserialize this way. I don&#39;t want to have to create a custom deserializer for each, nor even change a single aspect of whatever `deserialize` method is normally used on them. Frankly, the only method I _think_ I care about is `getNullValue()`. Which, given that it only has access to the context object, and not the JsonParser, I&#39;m not 100% sure I can even do what I&#39;d like with it.\r\n\r\nEssentially, I&#39;d like to take a wrapper class like\r\n```\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class PojoWithEmptiableFields {\r\n\r\n  private Set&lt;String&gt; explicitlyNulledFields = new HashSet&lt;&gt;();\r\n}\r\n```\r\nand have a variety of other POJOs extend that class, which themselves contain a myriad of fields of different types.\r\n\r\nThen I&#39;d like to be able to override `getNullValue()` to add the field name to the `explicitlyNulledFields` set, and then return null.\r\n\r\nHowever, I had thought I&#39;d be able to treat this like an aspect or a filter that I could add to a chain of deserializers, but it seems I might have misunderstood how Jackson actually works. If I try to extend `StdDeserializer`, I need to implement the actual `deserialize` method, and there doesn&#39;t seem to be anyway to override this specific behavior (how null is handled) in a broad way.\r\n\r\nI looked at extending `BeanDeserializer` to avoid having to implement `getNullValue()` and `deserialize()` for every POJO type, but I can&#39;t find a way to instantiate a `BeanDeserializer` to use to construct it to  begin with. It looks like I could access the object under construction from the context, but I haven&#39;t found how to obtain the field name yet regardless, which is probably irrelevant as I don&#39;t think this would work regardless but...\r\n```\r\n    @Override\r\n    public Object getNullValue(DeserializationContext ctxt) throws JsonMappingException {\r\n      Object currentValue = ctxt.getParser().getCurrentValue();\r\n      if (currentValue instanceof EmptiableFieldsPojo) {\r\n        EmptiableFieldsPojo pojo = (EmptiableFieldsPojo) currentValue;\r\n        pojo.getExplicitlyNulledFields().add(/*get field name from context somehow*/);\r\n      }\r\n      return null;\r\n    }\r\n```\r\n\r\n\r\n--- \r\n\r\nIs this approach (a field on a parent type to dump explicit nulls into) possible at all with Jackson, or would I be better off moving on to other options?","title":"Is it possible to implement a custom deserializer for all subclasses that only changes one aspect of deserializing behavior?","body":"<p>I'm dealing with parsing JSON objects that distinguish between an empty value and a <code>null</code> value. I.e. I want to treat the <code>sampleField</code> field in <code>{&quot;id&quot;: &quot;...&quot;, sampleField: null}</code> different from <code>{&quot;id: &quot;...&quot;}</code>.</p>\n<p>One of the solutions I'm trying to build a quick PoC for is to create a <code>Set</code> of explicitly nulled out fields on every object, and create a custom deserializer that can populate that set with the names of any fields that were explicitly provided as <code>null</code>.</p>\n<p>The thing is, there will be dozens and dozens of different object types that I'll want to be able to deserialize this way. I don't want to have to create a custom deserializer for each, nor even change a single aspect of whatever <code>deserialize</code> method is normally used on them. Frankly, the only method I <em>think</em> I care about is <code>getNullValue()</code>. Which, given that it only has access to the context object, and not the JsonParser, I'm not 100% sure I can even do what I'd like with it.</p>\n<p>Essentially, I'd like to take a wrapper class like</p>\n<pre><code>@NoArgsConstructor\n@Getter\n@Setter\npublic class PojoWithEmptiableFields {\n\n  private Set&lt;String&gt; explicitlyNulledFields = new HashSet&lt;&gt;();\n}\n</code></pre>\n<p>and have a variety of other POJOs extend that class, which themselves contain a myriad of fields of different types.</p>\n<p>Then I'd like to be able to override <code>getNullValue()</code> to add the field name to the <code>explicitlyNulledFields</code> set, and then return null.</p>\n<p>However, I had thought I'd be able to treat this like an aspect or a filter that I could add to a chain of deserializers, but it seems I might have misunderstood how Jackson actually works. If I try to extend <code>StdDeserializer</code>, I need to implement the actual <code>deserialize</code> method, and there doesn't seem to be anyway to override this specific behavior (how null is handled) in a broad way.</p>\n<p>I looked at extending <code>BeanDeserializer</code> to avoid having to implement <code>getNullValue()</code> and <code>deserialize()</code> for every POJO type, but I can't find a way to instantiate a <code>BeanDeserializer</code> to use to construct it to  begin with. It looks like I could access the object under construction from the context, but I haven't found how to obtain the field name yet regardless, which is probably irrelevant as I don't think this would work regardless but...</p>\n<pre><code>    @Override\n    public Object getNullValue(DeserializationContext ctxt) throws JsonMappingException {\n      Object currentValue = ctxt.getParser().getCurrentValue();\n      if (currentValue instanceof EmptiableFieldsPojo) {\n        EmptiableFieldsPojo pojo = (EmptiableFieldsPojo) currentValue;\n        pojo.getExplicitlyNulledFields().add(/*get field name from context somehow*/);\n      }\n      return null;\n    }\n</code></pre>\n<hr />\n<p>Is this approach (a field on a parent type to dump explicit nulls into) possible at all with Jackson, or would I be better off moving on to other options?</p>\n"},{"tags":["java","python"],"comments":[{"owner":{"account_id":5028739,"reputation":2470,"user_id":4039675,"accept_rate":67,"display_name":"hwkd"},"score":0,"creation_date":1460373699,"post_id":36547248,"comment_id":60695161,"body_markdown":"btw, if you&#39;re down-voting, tell me a reason why so I could improve my questions in the future.","body":"btw, if you&#39;re down-voting, tell me a reason why so I could improve my questions in the future."}],"answers":[{"tags":[],"owner":{"account_id":3614660,"reputation":10861,"user_id":3014866,"accept_rate":96,"display_name":"Rudziankoŭ"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1460451570,"creation_date":1460375155,"answer_id":36547804,"question_id":36547248,"body_markdown":"As it written [here][1] `select()` returns three new lists, containing subsets of the contents of the lists passed in. `readable list`, `writable list`, `exceptional list`. Java doesn&#39;t have multiply return and parallel assignment, basically this is an answer.\r\n\r\nJava doesn&#39;t have such amount of high-level build-ins as Python does. In every Python module we can find some opportunities that will take hundreds of lines in Java to repeat.       \r\n\r\n\r\n  [1]: https://pymotw.com/2/select/","title":"Python&#39;s select.select equivalent in Java","body":"<p>As it written <a href=\"https://pymotw.com/2/select/\" rel=\"nofollow\">here</a> <code>select()</code> returns three new lists, containing subsets of the contents of the lists passed in. <code>readable list</code>, <code>writable list</code>, <code>exceptional list</code>. Java doesn't have multiply return and parallel assignment, basically this is an answer.</p>\n\n<p>Java doesn't have such amount of high-level build-ins as Python does. In every Python module we can find some opportunities that will take hundreds of lines in Java to repeat.       </p>\n"},{"tags":[],"owner":{"account_id":27904004,"reputation":1,"user_id":21307627,"display_name":"RAngeles"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677623520,"creation_date":1677623520,"answer_id":75597953,"question_id":36547248,"body_markdown":"you can get select()-like behaviour by using Java NIO Channels... Java Implements Selector class, and channels (SelectableChannels) suscribe to it. A Channel can be a SocketChannel or another stream-like object that extends SelectableChannel Class.\r\n\r\n\r\nJust like python&#39;s select(), Selector will use operating system&#39;s io interfaces in order to monitor streams/file descriptors.\r\n\r\nA gentle introduction can be found here:\r\nhttps://www.baeldung.com/java-nio-selector\r\n","title":"Python&#39;s select.select equivalent in Java","body":"<p>you can get select()-like behaviour by using Java NIO Channels... Java Implements Selector class, and channels (SelectableChannels) suscribe to it. A Channel can be a SocketChannel or another stream-like object that extends SelectableChannel Class.</p>\n<p>Just like python's select(), Selector will use operating system's io interfaces in order to monitor streams/file descriptors.</p>\n<p>A gentle introduction can be found here:\n<a href=\"https://www.baeldung.com/java-nio-selector\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-nio-selector</a></p>\n"}],"owner":{"account_id":5028739,"reputation":2470,"user_id":4039675,"accept_rate":67,"display_name":"hwkd"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":413,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":36547804,"answer_count":2,"score":2,"last_activity_date":1677623520,"creation_date":1460373571,"question_id":36547248,"body_markdown":"I&#39;ve been socket programming in Python for an assignment using `select.select(rfile, wfile, xlist[, timeout])` to attend to requests made by a list of client sockets that are connected, and I also want to program in Java, and was looking for an equivalent to this select class that I could use in Java, but I couldn&#39;t find any and so I&#39;ve decided to ask here. Can somebody tell me an equivalent or something similar that I could use?","title":"Python&#39;s select.select equivalent in Java","body":"<p>I've been socket programming in Python for an assignment using <code>select.select(rfile, wfile, xlist[, timeout])</code> to attend to requests made by a list of client sockets that are connected, and I also want to program in Java, and was looking for an equivalent to this select class that I could use in Java, but I couldn't find any and so I've decided to ask here. Can somebody tell me an equivalent or something similar that I could use?</p>\n"},{"tags":["java","spring-boot","java-time","duration","r2dbc-postgresql"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677607000,"post_id":75594604,"comment_id":133370113,"body_markdown":"Did you read [the documentation of the `Interval` class](https://javadoc.io/static/io.r2dbc/r2dbc-postgresql/0.8.8.RELEASE/io/r2dbc/postgresql/codec/Interval.html)?","body":"Did you read <a href=\"https://javadoc.io/static/io.r2dbc/r2dbc-postgresql/0.8.8.RELEASE/io/r2dbc/postgresql/codec/Interval.html\" rel=\"nofollow noreferrer\">the documentation of the <code>Interval</code> class</a>?"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677607129,"post_id":75594604,"comment_id":133370149,"body_markdown":"If you want to handle one year, create the `Interval` from `Period.ofYears(1)` and convert it back to a `Period`, not a `Duration`. For other intervals you may still get surprises if you don’t study the documentation. If you are given an `Interval` created from a `Duration`  of days only, according to the docs you can retrieve those days through `daa.getDays()` or `data.getPeriod()`.","body":"If you want to handle one year, create the <code>Interval</code> from <code>Period.ofYears(1)</code> and convert it back to a <code>Period</code>, not a <code>Duration</code>. For other intervals you may still get surprises if you don’t study the documentation. If you are given an <code>Interval</code> created from a <code>Duration</code>  of days only, according to the docs you can retrieve those days through <code>daa.getDays()</code> or <code>data.getPeriod()</code>."},{"owner":{"account_id":21594287,"reputation":11,"user_id":15923458,"display_name":"Aditya Tiwari"},"score":0,"creation_date":1677607402,"post_id":75594604,"comment_id":133370219,"body_markdown":"My usecase requires conversion of Interval to Duration not Period, this function is written inside a mapper class that is used to map an Interval field in Entity to Duration field in Dto in auto generated MapperImp using @Mapper","body":"My usecase requires conversion of Interval to Duration not Period, this function is written inside a mapper class that is used to map an Interval field in Entity to Duration field in Dto in auto generated MapperImp using @Mapper"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677607573,"post_id":75594604,"comment_id":133370258,"body_markdown":"Got that. So if the interval contains months and/or years, how do you want them converted? As explained in the docs, a month can be 28, 29, 30 or 31 days long, which the `Duration` class cannot handle. A `Duration` is primarily for hours, minutes, seconds and fraction of second and internally stores only seconds and nanoseconds.","body":"Got that. So if the interval contains months and/or years, how do you want them converted? As explained in the docs, a month can be 28, 29, 30 or 31 days long, which the <code>Duration</code> class cannot handle. A <code>Duration</code> is primarily for hours, minutes, seconds and fraction of second and internally stores only seconds and nanoseconds."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677608168,"post_id":75594604,"comment_id":133370433,"body_markdown":"Would it work for you first to check whether `data.getYears() != 0 || data.getMonths() != 0` and throw an exception if this is the case since you cannot make a proper conversion to `Duration`? After that you may do `Duration.ofDays(data.getDays()).plus(data.getDuration())`. This should handle all other cases. In your example it gives a `Duration` of `PT8760H`. When you convert ot to days using its `toDays` method, you get 365. Does it agree with your requirement? I am still assuming that a day is always 24 hours, which is also not always true, though.","body":"Would it work for you first to check whether <code>data.getYears() != 0 || data.getMonths() != 0</code> and throw an exception if this is the case since you cannot make a proper conversion to <code>Duration</code>? After that you may do <code>Duration.ofDays(data.getDays()).plus(data.getDuration())</code>. This should handle all other cases. In your example it gives a <code>Duration</code> of <code>PT8760H</code>. When you convert ot to days using its <code>toDays</code> method, you get 365. Does it agree with your requirement? I am still assuming that a day is always 24 hours, which is also not always true, though."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677623707,"post_id":75594604,"comment_id":133374263,"body_markdown":"Understand that the essence of the problem here is that time-of-day (hours-minutes-seconds) is naturally unrelated to the calendar (years-months-days). One is driven by the spin of the earth, the other by the orbit of Earth around the Sun. Add to that the effect of politicians defining and redefining &quot;standard&quot; time. The upshot is that the `java.time.Duration` and `java.time.Period` classes represent those two different conceptions of time, and converting back and forth is problematic (as described in the Comments above by Ole V.V.). That `Interval` class of R2DBC unfortunately mixes the two.","body":"Understand that the essence of the problem here is that time-of-day (hours-minutes-seconds) is naturally unrelated to the calendar (years-months-days). One is driven by the spin of the earth, the other by the orbit of Earth around the Sun. Add to that the effect of politicians defining and redefining &quot;standard&quot; time. The upshot is that the <code>java.time.Duration</code> and <code>java.time.Period</code> classes represent those two different conceptions of time, and converting back and forth is problematic (as described in the Comments above by Ole V.V.). That <code>Interval</code> class of R2DBC unfortunately mixes the two."}],"owner":{"account_id":21594287,"reputation":11,"user_id":15923458,"display_name":"Aditya Tiwari"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677622986,"creation_date":1677600715,"question_id":75594604,"body_markdown":"While using [Reactive Relational Database Connectivity (R2DBC)][1], I have written a method to convert Interval to Duration in Java, below is the implementation \r\n```\r\nimport io.r2dbc.postgresql.codec.Interval;\r\nimport java.time.Duration;\r\nDuration fromInterval(Interval data){\r\n        return data == null ? null : Duration.ofMinutes(data.getMinutes());\r\n}\r\n```\r\nand I am passing Interval as Interval.of(Duration.ofDays(365)) which is being received as **0 years 0 mons 365 days 0 hours 0 mins 0.0 secs** inside function correctly, but the function is returning **PT0S**, is there something I am doing wrong in conversion from Interval to Duration? Thanks in advance.\r\n\r\n\r\n  [1]: https://r2dbc.io/","title":"Interval to Duration coversion issue in Spring Boot","body":"<p>While using <a href=\"https://r2dbc.io/\" rel=\"nofollow noreferrer\">Reactive Relational Database Connectivity (R2DBC)</a>, I have written a method to convert Interval to Duration in Java, below is the implementation</p>\n<pre><code>import io.r2dbc.postgresql.codec.Interval;\nimport java.time.Duration;\nDuration fromInterval(Interval data){\n        return data == null ? null : Duration.ofMinutes(data.getMinutes());\n}\n</code></pre>\n<p>and I am passing Interval as Interval.of(Duration.ofDays(365)) which is being received as <strong>0 years 0 mons 365 days 0 hours 0 mins 0.0 secs</strong> inside function correctly, but the function is returning <strong>PT0S</strong>, is there something I am doing wrong in conversion from Interval to Duration? Thanks in advance.</p>\n"},{"tags":["java","spring-boot","amazon-elastic-beanstalk"],"comments":[{"owner":{"account_id":10198121,"reputation":409,"user_id":7529335,"display_name":"Jose Anibal Rodriguez"},"score":0,"creation_date":1568868598,"post_id":55811371,"comment_id":102412696,"body_markdown":"Did you find any way to do that? I am facing the same situation :(","body":"Did you find any way to do that? I am facing the same situation :("},{"owner":{"account_id":1944386,"reputation":479,"user_id":1749859,"accept_rate":73,"display_name":"Mohammed shebin"},"score":0,"creation_date":1620795110,"post_id":55811371,"comment_id":119303312,"body_markdown":"@narzero Same here. Did you find any solution? :|","body":"@narzero Same here. Did you find any solution? :|"}],"owner":{"account_id":270636,"reputation":2249,"user_id":2246700,"accept_rate":85,"display_name":"narzero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1015,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677622905,"creation_date":1556022950,"question_id":55811371,"body_markdown":"I&#39;ve created my Spring Boot application .jar file using Gradle&#39;s `build/bootJar` and then deployed it to Elastic Beanstalk. But when I do a POST request with large data I get the following error message:\r\n\r\n```\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;title&gt;413 Request Entity Too Large&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body bgcolor=&quot;white&quot;&gt;\r\n        &lt;center&gt;\r\n            &lt;h1&gt;413 Request Entity Too Large&lt;/h1&gt;\r\n        &lt;/center&gt;\r\n        &lt;hr&gt;\r\n        &lt;center&gt;nginx/1.14.1&lt;/center&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI&#39;ve tried adding `client_max_body_size 50M;` to a `myconf.conf` file which is located `{project_root}/.ebextensions/nginx/conf.d/myconf.conf` and rebuild and redeploy the .jar file but this does not work.\r\n\r\nI&#39;ve also tried moving that same `.ebextensions` folder `{proejct_root}/src`, that does not work either.\r\n\r\nAnything else I can try? I wonder if creating the .jar using `bootJar` is the correct way.","title":"How to increase client_max_body_size for a Spring Boot application on Elastic Beanstalk?","body":"<p>I've created my Spring Boot application .jar file using Gradle's <code>build/bootJar</code> and then deployed it to Elastic Beanstalk. But when I do a POST request with large data I get the following error message:</p>\n\n<pre><code>&lt;html&gt;\n    &lt;head&gt;\n        &lt;title&gt;413 Request Entity Too Large&lt;/title&gt;\n    &lt;/head&gt;\n    &lt;body bgcolor=\"white\"&gt;\n        &lt;center&gt;\n            &lt;h1&gt;413 Request Entity Too Large&lt;/h1&gt;\n        &lt;/center&gt;\n        &lt;hr&gt;\n        &lt;center&gt;nginx/1.14.1&lt;/center&gt;\n    &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>I've tried adding <code>client_max_body_size 50M;</code> to a <code>myconf.conf</code> file which is located <code>{project_root}/.ebextensions/nginx/conf.d/myconf.conf</code> and rebuild and redeploy the .jar file but this does not work.</p>\n\n<p>I've also tried moving that same <code>.ebextensions</code> folder <code>{proejct_root}/src</code>, that does not work either.</p>\n\n<p>Anything else I can try? I wonder if creating the .jar using <code>bootJar</code> is the correct way.</p>\n"},{"tags":["java","list","anymatch"],"comments":[{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":1,"creation_date":1677609433,"post_id":75596025,"comment_id":133370752,"body_markdown":"Use [`filter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) instead of [`anyMatch`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate))","body":"Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>filter</code></a> instead of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>anyMatch</code></a>"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1677609486,"post_id":75596025,"comment_id":133370758,"body_markdown":"Can you update that first snippet to be real code?","body":"Can you update that first snippet to be real code?"}],"answers":[{"tags":[],"owner":{"account_id":2557177,"reputation":151,"user_id":2218893,"display_name":"Yogev Caspi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677619246,"creation_date":1677617531,"answer_id":75597184,"question_id":75596025,"body_markdown":"First you should use &#39;filter&#39; and not &#39;anyMatch&#39;\r\n```\r\nList&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.trim().equals(&quot;Aloe&quot;));\r\n```\r\nAlso, You asked for contained &#39;Aloe&#39; so you should use &#39;contains&#39; and not &#39;equals&#39; and also remove the &#39;trim&#39;\r\n``` \r\nList&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.contains(&quot;Aloe&quot;));\r\n```\r\n\r\nFinally, since filter is not a stream-terminating function, you should collect the results to list\r\n\r\n``` \r\nList&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.contains(&quot;Aloe&quot;)).collect(Collectors.toList());\r\n```\r\n","title":"Creating a list containing a string from another list [Edited]","body":"<p>First you should use 'filter' and not 'anyMatch'</p>\n<pre><code>List&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.trim().equals(&quot;Aloe&quot;));\n</code></pre>\n<p>Also, You asked for contained 'Aloe' so you should use 'contains' and not 'equals' and also remove the 'trim'</p>\n<pre><code>List&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.contains(&quot;Aloe&quot;));\n</code></pre>\n<p>Finally, since filter is not a stream-terminating function, you should collect the results to list</p>\n<pre><code>List&lt;String&gt; aloeLotion = trendyList.stream().filter(str -&gt; str.contains(&quot;Aloe&quot;)).collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":27733412,"reputation":161,"user_id":21171478,"display_name":"qatesterbecomingprogrammer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1677622881,"creation_date":1677609193,"question_id":75596025,"body_markdown":"I am trying to create a list from another list, such as:\r\n\r\n    List&lt;String&gt; namesOfLotion = List.of(&quot;Alexander Almond &amp; Honey Moisturiser&quot;, &quot;Max honey and almond moisturiser&quot;, &quot;Mikhail Almond and Talc&quot;, &quot;Mikhail Natural Almond Moisturizer&quot;, &quot;Tigran Aloe Isolani&quot;, &quot;Vassily Aloe Attack&quot;, &quot;Vassily New aloe Attack&quot;);\r\n\r\nFrom there I want to get all the names, which contains &#39;Aloe&#39;\r\n\r\nfor which I am using following logic:\r\n\r\n    List&lt;String&gt; aloeLotion = trendyList.stream().anyMatch(str -&gt; str.trim().equals(&quot;Aloe&quot;));\r\n\r\nBut it returns me Boolean values rather than names.\r\nHow Can I achieve that.\r\n\r\nI want to carried out name of elements which contains &#39;Aloe&#39;, such as :\r\n\r\n    List.of(&quot;Tigran Aloe Isolani&quot;, &quot;Vassily Aloe Attack&quot;, &quot;Vassily New aloe Attack&quot;);\r\n\r\nBut I need to know, if it has with both [&#39;aloe&#39;, &#39;Aloe&#39;], what will be the case?","title":"Creating a list containing a string from another list [Edited]","body":"<p>I am trying to create a list from another list, such as:</p>\n<pre><code>List&lt;String&gt; namesOfLotion = List.of(&quot;Alexander Almond &amp; Honey Moisturiser&quot;, &quot;Max honey and almond moisturiser&quot;, &quot;Mikhail Almond and Talc&quot;, &quot;Mikhail Natural Almond Moisturizer&quot;, &quot;Tigran Aloe Isolani&quot;, &quot;Vassily Aloe Attack&quot;, &quot;Vassily New aloe Attack&quot;);\n</code></pre>\n<p>From there I want to get all the names, which contains 'Aloe'</p>\n<p>for which I am using following logic:</p>\n<pre><code>List&lt;String&gt; aloeLotion = trendyList.stream().anyMatch(str -&gt; str.trim().equals(&quot;Aloe&quot;));\n</code></pre>\n<p>But it returns me Boolean values rather than names.\nHow Can I achieve that.</p>\n<p>I want to carried out name of elements which contains 'Aloe', such as :</p>\n<pre><code>List.of(&quot;Tigran Aloe Isolani&quot;, &quot;Vassily Aloe Attack&quot;, &quot;Vassily New aloe Attack&quot;);\n</code></pre>\n<p>But I need to know, if it has with both ['aloe', 'Aloe'], what will be the case?</p>\n"},{"tags":["java","jquery","ajax","jsp","servlets"],"owner":{"account_id":23994379,"reputation":3,"user_id":21144261,"display_name":"AzedClone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677671774,"answer_count":0,"score":0,"last_activity_date":1677622423,"creation_date":1677622423,"question_id":75597817,"body_markdown":"I want to send data from form that contains file and other data to my Servlet by using AJAX\r\n\r\nMy form:\r\n\r\n```\r\n&lt;form id=&quot;editDoc&quot; enctype=&quot;multipart/form-data&quot;&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;usernameDocLabel&quot; class=&quot;form-label&quot;&gt;Username&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usernameDocLabel&quot; value=&quot;&quot; name=&quot;username&quot; readonly&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;nameDocLabel&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;nameDocLabel&quot; value=&quot;&quot; name=&quot;name&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;avatarDocLabel&quot; class=&quot;form-label&quot;&gt;Avatar&lt;/label&gt;\r\n                        &lt;input type=&quot;file&quot; class=&quot;form-control&quot; id=&quot;avatarDocLabel&quot; name=&quot;avatar&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;emailDocLabel&quot; class=&quot;form-label&quot;&gt;Email&lt;/label&gt;\r\n                        &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;emailDocLabel&quot; value=&quot;&quot; name=&quot;mail&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;phoneDocLabel&quot; class=&quot;form-label&quot;&gt;Phone&lt;/label&gt;\r\n                        &lt;input type=&quot;tel&quot; class=&quot;form-control&quot; id=&quot;phoneDocLabel&quot; pattern=&quot;0{1}[0-9]{9}&quot; value=&quot;&quot; name=&quot;phone&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;label for=&quot;genderDocLabel&quot; class=&quot;me-3&quot;&gt;Gender:&lt;/label&gt;\r\n                    &lt;div class=&quot;form-check form-check-inline mb-3 me-2&quot; id=&quot;genderDocLabel&quot;&gt;\r\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;maleDoc&quot; value=&quot;0&quot; checked&gt;\r\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;maleDoc&quot;&gt;\r\n                            Male\r\n                        &lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-check form-check-inline mb-3 me-2&quot;&gt;\r\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;femaleDoc&quot; value=&quot;1&quot;&gt;\r\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;femaleDoc&quot;&gt;\r\n                            Female\r\n                        &lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;form-check form-check-inline mb-3&quot;&gt;\r\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;otherDoc&quot; value=&quot;2&quot;&gt;\r\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;otherDoc&quot;&gt;\r\n                            Other\r\n                        &lt;/label&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;addressDocLabel&quot; class=&quot;form-label&quot;&gt;Address&lt;/label&gt;\r\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;addressDocLabel&quot; value=&quot;&quot; name=&quot;address&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;div class=&quot;mb-3&quot;&gt;\r\n                        &lt;label for=&quot;dobDocLabel&quot; class=&quot;form-label&quot;&gt;DOB&lt;/label&gt;\r\n                        &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;dobDocLabel&quot; value=&quot;&quot; name=&quot;dob&quot;&gt;\r\n                    &lt;/div&gt;\r\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\r\n                &lt;/form&gt;\r\n```\r\n\r\nMy AJAX:\r\n\r\n```\r\nfunction editDoctor() {\r\n        $(&#39;#editDoc&#39;).submit(function (e) {\r\n            e.preventDefault();\r\n            var formData = new FormData($(this)[0]);\r\n\r\n            console.log(JSON.stringify(Object.fromEntries(formData)));\r\n            \r\n\r\n            Swal.fire({\r\n                icon: &#39;question&#39;,\r\n                title: &#39;Confirmation&#39;,\r\n                text: &#39;Are you sure to update?&#39;,\r\n                showCancelButton: true,\r\n                confirmButtonText: &#39;Yes&#39;\r\n            }).then(result =&gt; {\r\n                if (result.isConfirmed) {\r\n                    $.ajax({\r\n                        url: &#39;../../manageDoctor&#39;,\r\n                        type: &#39;POST&#39;,\r\n                        data: {data : JSON.stringify(Object.fromEntries(formData)), type : &#39;edit&#39;},\r\n                        processData: false,\r\n                        contentType: false\r\n                    }).done(function (data) {\r\n                        Swal.fire({\r\n                            icon: &#39;success&#39;,\r\n                            title: &#39;Edit Doctor&#39;,\r\n                            text: &#39;Update Doctor successful&#39;,\r\n                            timer: 1000,\r\n                            timerProgressBar: true\r\n                        });\r\n                        setTimeout(function () {\r\n                            loadData();\r\n                        }, 1000);\r\n                    })\r\n                }\r\n            })\r\n        })\r\n    };\r\n```\r\n\r\nMy Java:\r\n\r\n```\r\n        String param = request.getParameter(&quot;data&quot;);\r\n        System.out.println(param);\r\n```\r\n\r\n\r\n\r\nWhen I submit file and tried to log to console \r\n```\r\n            console.log(JSON.stringify(Object.fromEntries(formData)));\r\n```\r\nIt display &quot;avatar&quot;:{} without path or file name\r\nAnd my servlet get null\r\n\r\nIs there anyway that I can get file submited from my form and other data by ajax?\r\nI expect that my data send to servlet can be look like:\r\n\r\n```\r\ndata=formData&amp;type=&quot;abc&quot;\r\n```\r\n\r\nThank you!\r\n\r\n\r\n\r\n","title":"How to send both data from form that contain file with other data from AJAX to JSP/SERVLET","body":"<p>I want to send data from form that contains file and other data to my Servlet by using AJAX</p>\n<p>My form:</p>\n<pre><code>&lt;form id=&quot;editDoc&quot; enctype=&quot;multipart/form-data&quot;&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;usernameDocLabel&quot; class=&quot;form-label&quot;&gt;Username&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;usernameDocLabel&quot; value=&quot;&quot; name=&quot;username&quot; readonly&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;nameDocLabel&quot; class=&quot;form-label&quot;&gt;Name&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;nameDocLabel&quot; value=&quot;&quot; name=&quot;name&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;avatarDocLabel&quot; class=&quot;form-label&quot;&gt;Avatar&lt;/label&gt;\n                        &lt;input type=&quot;file&quot; class=&quot;form-control&quot; id=&quot;avatarDocLabel&quot; name=&quot;avatar&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;emailDocLabel&quot; class=&quot;form-label&quot;&gt;Email&lt;/label&gt;\n                        &lt;input type=&quot;email&quot; class=&quot;form-control&quot; id=&quot;emailDocLabel&quot; value=&quot;&quot; name=&quot;mail&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;phoneDocLabel&quot; class=&quot;form-label&quot;&gt;Phone&lt;/label&gt;\n                        &lt;input type=&quot;tel&quot; class=&quot;form-control&quot; id=&quot;phoneDocLabel&quot; pattern=&quot;0{1}[0-9]{9}&quot; value=&quot;&quot; name=&quot;phone&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;label for=&quot;genderDocLabel&quot; class=&quot;me-3&quot;&gt;Gender:&lt;/label&gt;\n                    &lt;div class=&quot;form-check form-check-inline mb-3 me-2&quot; id=&quot;genderDocLabel&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;maleDoc&quot; value=&quot;0&quot; checked&gt;\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;maleDoc&quot;&gt;\n                            Male\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-check form-check-inline mb-3 me-2&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;femaleDoc&quot; value=&quot;1&quot;&gt;\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;femaleDoc&quot;&gt;\n                            Female\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;form-check form-check-inline mb-3&quot;&gt;\n                        &lt;input class=&quot;form-check-input&quot; type=&quot;radio&quot; name=&quot;gender&quot; id=&quot;otherDoc&quot; value=&quot;2&quot;&gt;\n                        &lt;label class=&quot;form-check-label&quot; for=&quot;otherDoc&quot;&gt;\n                            Other\n                        &lt;/label&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;addressDocLabel&quot; class=&quot;form-label&quot;&gt;Address&lt;/label&gt;\n                        &lt;input type=&quot;text&quot; class=&quot;form-control&quot; id=&quot;addressDocLabel&quot; value=&quot;&quot; name=&quot;address&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;div class=&quot;mb-3&quot;&gt;\n                        &lt;label for=&quot;dobDocLabel&quot; class=&quot;form-label&quot;&gt;DOB&lt;/label&gt;\n                        &lt;input type=&quot;date&quot; class=&quot;form-control&quot; id=&quot;dobDocLabel&quot; value=&quot;&quot; name=&quot;dob&quot;&gt;\n                    &lt;/div&gt;\n                    &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary&quot;&gt;Save&lt;/button&gt;\n                &lt;/form&gt;\n</code></pre>\n<p>My AJAX:</p>\n<pre><code>function editDoctor() {\n        $('#editDoc').submit(function (e) {\n            e.preventDefault();\n            var formData = new FormData($(this)[0]);\n\n            console.log(JSON.stringify(Object.fromEntries(formData)));\n            \n\n            Swal.fire({\n                icon: 'question',\n                title: 'Confirmation',\n                text: 'Are you sure to update?',\n                showCancelButton: true,\n                confirmButtonText: 'Yes'\n            }).then(result =&gt; {\n                if (result.isConfirmed) {\n                    $.ajax({\n                        url: '../../manageDoctor',\n                        type: 'POST',\n                        data: {data : JSON.stringify(Object.fromEntries(formData)), type : 'edit'},\n                        processData: false,\n                        contentType: false\n                    }).done(function (data) {\n                        Swal.fire({\n                            icon: 'success',\n                            title: 'Edit Doctor',\n                            text: 'Update Doctor successful',\n                            timer: 1000,\n                            timerProgressBar: true\n                        });\n                        setTimeout(function () {\n                            loadData();\n                        }, 1000);\n                    })\n                }\n            })\n        })\n    };\n</code></pre>\n<p>My Java:</p>\n<pre><code>        String param = request.getParameter(&quot;data&quot;);\n        System.out.println(param);\n</code></pre>\n<p>When I submit file and tried to log to console</p>\n<pre><code>            console.log(JSON.stringify(Object.fromEntries(formData)));\n</code></pre>\n<p>It display &quot;avatar&quot;:{} without path or file name\nAnd my servlet get null</p>\n<p>Is there anyway that I can get file submited from my form and other data by ajax?\nI expect that my data send to servlet can be look like:</p>\n<pre><code>data=formData&amp;type=&quot;abc&quot;\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","postgresql","hibernate","kotlin","jpa"],"comments":[{"owner":{"account_id":13383247,"reputation":412,"user_id":9657881,"display_name":"vicki"},"score":0,"creation_date":1677603794,"post_id":75594910,"comment_id":133369249,"body_markdown":"Has ```date_time``` been typecast to match postgres&#39; data type for timestamp?","body":"Has <code>date_time</code> been typecast to match postgres&#39; data type for timestamp?"},{"owner":{"account_id":4104514,"reputation":379,"user_id":3369025,"accept_rate":70,"display_name":"Tanay Mathur"},"score":0,"creation_date":1677604315,"post_id":75594910,"comment_id":133369373,"body_markdown":"@vicki data type of date_time is the timestamp in the DB. Querying with ZoneDateTime should not be a problem here.","body":"@vicki data type of date_time is the timestamp in the DB. Querying with ZoneDateTime should not be a problem here."}],"answers":[{"tags":[],"owner":{"account_id":8633322,"reputation":218343,"user_id":6464308,"display_name":"Laurenz Albe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677621401,"creation_date":1677621401,"answer_id":75597692,"question_id":75594910,"body_markdown":"You are binding `:zoneId` as binary value (`bytea`) rather than as string, that&#39;s why you are getting this error.","title":"PSQLException: ERROR: function pg_catalog.timezone error in JPA","body":"<p>You are binding <code>:zoneId</code> as binary value (<code>bytea</code>) rather than as string, that's why you are getting this error.</p>\n"}],"owner":{"account_id":4104514,"reputation":379,"user_id":3369025,"accept_rate":70,"display_name":"Tanay Mathur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677621401,"creation_date":1677602452,"question_id":75594910,"body_markdown":"I am working on an API to use the below native query using the JPA repository. On executing the query by the APi, the application throws the below error :\r\n\r\n&gt; ERROR: function pg_catalog.timezone\r\n\r\n\r\n```\r\n@Query(&quot;&quot;&quot;\r\n            SELECT SUM(p.total) AS total,\r\n                   date_trunc(&#39;day&#39;, p.date_time AT TIME ZONE &#39;UTC&#39; AT TIME ZONE :zoneId) AS date\r\n            FROM xyz p\r\n            WHERE p.employee_id = :id\r\n              AND p.date_time &gt;= :startDate\r\n              AND p.date_time &lt;= :endDate\r\n              AND p.date_time &lt;= now()\r\n              AND p.status in :statuses\r\n            GROUP BY date\r\n            ORDER BY date DESC\r\n  &quot;&quot;&quot;, nativeQuery = true)\r\n  fun get(id: Int, zoneId: ZoneId, startDate: ZonedDateTime, endDate: ZonedDateTime, statuses: List&lt;PaymentStatus&gt;) : List&lt;DTO&gt;\r\n  ```\r\nI went through many posts in StackOverflow , but couldn’t understand the problem here.\r\n\r\nApplication Details :\r\nKotlin, Spring, Postgres  \r\n\r\nVerbose Error:\r\n\r\n      Caused by:\r\n                org.postgresql.util.PSQLException: ERROR: function pg_catalog.timezone(bytea, timestamp with time zone) does not exist\r\n                  Hint: No function matches the given name and argument types. You might need to add explicit type casts.\r\n                  Position: 112\r\n\r\n","title":"PSQLException: ERROR: function pg_catalog.timezone error in JPA","body":"<p>I am working on an API to use the below native query using the JPA repository. On executing the query by the APi, the application throws the below error :</p>\n<blockquote>\n<p>ERROR: function pg_catalog.timezone</p>\n</blockquote>\n<pre><code>@Query(&quot;&quot;&quot;\n            SELECT SUM(p.total) AS total,\n                   date_trunc('day', p.date_time AT TIME ZONE 'UTC' AT TIME ZONE :zoneId) AS date\n            FROM xyz p\n            WHERE p.employee_id = :id\n              AND p.date_time &gt;= :startDate\n              AND p.date_time &lt;= :endDate\n              AND p.date_time &lt;= now()\n              AND p.status in :statuses\n            GROUP BY date\n            ORDER BY date DESC\n  &quot;&quot;&quot;, nativeQuery = true)\n  fun get(id: Int, zoneId: ZoneId, startDate: ZonedDateTime, endDate: ZonedDateTime, statuses: List&lt;PaymentStatus&gt;) : List&lt;DTO&gt;\n</code></pre>\n<p>I went through many posts in StackOverflow , but couldn’t understand the problem here.</p>\n<p>Application Details :\nKotlin, Spring, Postgres</p>\n<p>Verbose Error:</p>\n<pre><code>  Caused by:\n            org.postgresql.util.PSQLException: ERROR: function pg_catalog.timezone(bytea, timestamp with time zone) does not exist\n              Hint: No function matches the given name and argument types. You might need to add explicit type casts.\n              Position: 112\n</code></pre>\n"},{"tags":["java","linux","maven","jenkins"],"comments":[{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1677620394,"post_id":75597178,"comment_id":133373528,"body_markdown":"Configure the path to maven on the buildagent configuration page","body":"Configure the path to maven on the buildagent configuration page"},{"owner":{"account_id":2814593,"reputation":186,"user_id":2420030,"accept_rate":45,"display_name":"clsbartek"},"score":0,"creation_date":1677620704,"post_id":75597178,"comment_id":133373605,"body_markdown":"Maven is being found. For simple pipeline:\n``` pipeline {\n  agent any\n  tools {\n    maven &#39;Maven 3.9.0&#39;\n    jdk &#39;openjdk-19.0.2&#39;\n  }\n  stages {\n    stage (&#39;Build&#39;) {\n      steps {\n        sh &#39;mvn clean package&#39;\n      }\n    }\n    stage (&#39;Deploy&#39;) {\n      steps {\n        script {\n          echo &#39;Deploy&#39;\n        }\n      }\n    }\n  }\n}\n\nI am getting /var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/Maven_3.9.0/bin/mvn: exec: line 195: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found","body":"Maven is being found. For simple pipeline: ``` pipeline {   agent any   tools {     maven &#39;Maven 3.9.0&#39;     jdk &#39;openjdk-19.0.2&#39;   }   stages {     stage (&#39;Build&#39;) {       steps {         sh &#39;mvn clean package&#39;       }     }     stage (&#39;Deploy&#39;) {       steps {         script {           echo &#39;Deploy&#39;         }       }     }   } }  I am getting /var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation&zwnj;&#8203;/Maven_3.9.0/bin/mvn&zwnj;&#8203;: exec: line 195: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-&zwnj;&#8203;19.0.2/bin/java: not found"},{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1677620950,"post_id":75597178,"comment_id":133373660,"body_markdown":"Maven depends on Java, same story, it should be configure in the buildagent. Usually maven can find java if JAVA_HOME or JDK_HOME is set to the java installation path","body":"Maven depends on Java, same story, it should be configure in the buildagent. Usually maven can find java if JAVA_HOME or JDK_HOME is set to the java installation path"},{"owner":{"account_id":2814593,"reputation":186,"user_id":2420030,"accept_rate":45,"display_name":"clsbartek"},"score":0,"creation_date":1677621119,"post_id":75597178,"comment_id":133373705,"body_markdown":"Where can I find this buildagent configuration page ?","body":"Where can I find this buildagent configuration page ?"},{"owner":{"account_id":3537420,"reputation":400,"user_id":2955337,"display_name":"sleepyhead"},"score":0,"creation_date":1677660939,"post_id":75597178,"comment_id":133379866,"body_markdown":"Manage Jenkins &gt; Manage Nodes and Clouds &gt; [your build agent] &gt; Configure &gt; Node Properties &gt; JDK_HOME=/opt/jdk/\n\nBut there are more places where you can configure maven to find your JDK. What works for you is dependent on so many factors. Cloudbees who maintains Jenkins has a 30 minute video. https://www.youtube.com/watch?v=qx3XK82BZPk","body":"Manage Jenkins &gt; Manage Nodes and Clouds &gt; [your build agent] &gt; Configure &gt; Node Properties &gt; JDK_HOME=/opt/jdk/  But there are more places where you can configure maven to find your JDK. What works for you is dependent on so many factors. Cloudbees who maintains Jenkins has a 30 minute video. <a href=\"https://www.youtube.com/watch?v=qx3XK82BZPk\" rel=\"nofollow noreferrer\">youtube.com/watch?v=qx3XK82BZPk</a>"}],"owner":{"account_id":2814593,"reputation":186,"user_id":2420030,"accept_rate":45,"display_name":"clsbartek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677620802,"creation_date":1677617497,"question_id":75597178,"body_markdown":"I have simple Jenkins pipeline running maven build:\r\n\r\n[![Jenkins maven configuration][1]][1]\r\n\r\n\r\nMy jdk configurations seems to be correct:\r\n\r\n[![Open JDK configuration][2]][2]\r\n\r\nHowever maven build ends with error:\r\n\r\n**/var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found**\r\n\r\nWhat is most weird, when I&#39;ve added shell commands run before maven build:\r\n\r\n``` ls -lrt /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin\r\nls -lrta /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\r\nchmod 777 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\r\n/opt/java/openjdk/bin/java -version\r\n/var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java -version\r\n``` \r\nI&#39;ve got:\r\n\r\n```\r\n+ ls -lrta /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\r\n-rwxrwxrwx 1 root root 12328 Nov 30 18:13 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\r\n+ chmod 777 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\r\n+ /opt/java/openjdk/bin/java -version\r\nopenjdk version &quot;11.0.15&quot; 2022-04-19\r\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\r\n+ /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java -version\r\n/tmp/jenkins9484991885087509801.sh: line 19: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found\r\n```\r\n\r\nSo:\r\n\r\n 1. ls correctly lists java execution file\r\n 2. same file could not be found when I run &quot;&lt;path&gt;/bin/java -version&quot;\r\n\r\nWhat is wrong here ?\r\n\r\nFor simple pipeline:\r\n```\r\npipeline {\r\n  agent any\r\n  tools {\r\n    maven &#39;Maven 3.9.0&#39;\r\n    jdk &#39;openjdk-19.0.2&#39;\r\n  }\r\n  stages {\r\n    stage (&#39;Build&#39;) {\r\n      steps {\r\n        sh &#39;mvn clean package&#39;\r\n      }\r\n    }\r\n    stage (&#39;Deploy&#39;) {\r\n      steps {\r\n        script {\r\n          echo &#39;Deploy&#39;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nI am getting error:\r\n```\r\n/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/Maven_3.9.0/bin/mvn: exec: line 195: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/095zX.png\r\n  [2]: https://i.stack.imgur.com/0Z2Za.png","title":"Jenkins Build - Maven java not found","body":"<p>I have simple Jenkins pipeline running maven build:</p>\n<p><a href=\"https://i.stack.imgur.com/095zX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/095zX.png\" alt=\"Jenkins maven configuration\" /></a></p>\n<p>My jdk configurations seems to be correct:</p>\n<p><a href=\"https://i.stack.imgur.com/0Z2Za.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Z2Za.png\" alt=\"Open JDK configuration\" /></a></p>\n<p>However maven build ends with error:</p>\n<p><strong>/var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found</strong></p>\n<p>What is most weird, when I've added shell commands run before maven build:</p>\n<pre><code>ls -lrta /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\nchmod 777 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\n/opt/java/openjdk/bin/java -version\n/var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java -version\n</code></pre>\n<p>I've got:</p>\n<pre><code>+ ls -lrta /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\n-rwxrwxrwx 1 root root 12328 Nov 30 18:13 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\n+ chmod 777 /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java\n+ /opt/java/openjdk/bin/java -version\nopenjdk version &quot;11.0.15&quot; 2022-04-19\nOpenJDK Runtime Environment Temurin-11.0.15+10 (build 11.0.15+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.15+10 (build 11.0.15+10, mixed mode)\n+ /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java -version\n/tmp/jenkins9484991885087509801.sh: line 19: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found\n</code></pre>\n<p>So:</p>\n<ol>\n<li>ls correctly lists java execution file</li>\n<li>same file could not be found when I run &quot;/bin/java -version&quot;</li>\n</ol>\n<p>What is wrong here ?</p>\n<p>For simple pipeline:</p>\n<pre><code>pipeline {\n  agent any\n  tools {\n    maven 'Maven 3.9.0'\n    jdk 'openjdk-19.0.2'\n  }\n  stages {\n    stage ('Build') {\n      steps {\n        sh 'mvn clean package'\n      }\n    }\n    stage ('Deploy') {\n      steps {\n        script {\n          echo 'Deploy'\n        }\n      }\n    }\n  }\n}\n</code></pre>\n<p>I am getting error:</p>\n<pre><code>/var/jenkins_home/tools/hudson.tasks.Maven_MavenInstallation/Maven_3.9.0/bin/mvn: exec: line 195: /var/jenkins_home/tools/hudson.model.JDK/openjdk-19.0.2/jdk-19.0.2/bin/java: not found\n</code></pre>\n"},{"tags":["java","printing","ascii","emoji"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1677609759,"post_id":75595713,"comment_id":133370836,"body_markdown":"Your console would have to support Unicode - does it? Also, it looks like your code might think it should print UTF-16 - is that what you want?","body":"Your console would have to support Unicode - does it? Also, it looks like your code might think it should print UTF-16 - is that what you want?"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677620696,"creation_date":1677620696,"answer_id":75597605,"question_id":75595713,"body_markdown":"All files on all modern systems are stored as a sequence of bytes.  Every byte is a numeric value from zero to 2⁸−1 (that is, 0 to 255).\r\n\r\nSince all files consist of bytes, characters in text files—including Java source files—need to be stored as bytes.  When the characters consist only of [ASCII](https://en.wikipedia.org/wiki/ASCII#Character_set) characters, this is easy to do:  There are only 127 ASCII characters, therefore each character corresponds to one of 127 values, so each character is represented by one byte value in the file.\r\n\r\nHowever, when you want to represent characters which are not ASCII characters, like `｡•́︿•̀｡`, the system where you’re working must know how you want those characters to be represented as bytes.  There are hundreds of thousands of character values in existence, so one character cannot possibly fit into the byte value range.\r\n\r\nThe method for translating characters to bytes (and bytes to characters) is called a [Charset](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html), also known as a character encoding.\r\n\r\nIf you have non-ASCII characters in your source code, you need to tell the Java compiler how the file is representing those characters as bytes.  You need to tell the compiler what character encoding was used to save your source file.\r\n\r\nOn non-Windows systems, files are almost always saved using the [UTF-8](https://en.wikipedia.org/wiki/UTF-8) encoding.  In fact, it appears your file was saved as a UTF-8 file, which usually is the right thing to do.  UTF-8 is extremely common and is the best encoding to use in almost every case.\r\n\r\nHowever, when you compiled your code, the Java compiler mistakenly believed that your file is in windows-1252 or a similar windows-12nn encoding.  These windows encodings are one-byte encodings, capable of representing no more than 256 characters.  The characters `｡•́︿•̀｡` are not valid in these encodings.\r\n\r\nYour source file is a UTF-8 file, so `｡` is [represented as three bytes](https://www.fileformat.info/info/unicode/char/ff61/) in that file.  However, the Java compiler didn’t know that;  it thought each of those bytes was a separate character, because it was assuming a Windows encoding where every byte represents one character.\r\n\r\nYou need to tell the compiler which encoding was used to save your source file.  If you’re building on the command line, you can use the [-encoding](https://docs.oracle.com/en/java/javase/19/docs/specs/man/javac.html#option-encoding) compiler option.  For example:\r\n\r\n    javac -encoding UTF-8 MyProgram.java\r\n\r\nIf you are using an IDE, you will need to open your project’s properties, find the compiler option for the character encoding, and change it to UTF-8.\r\n","title":"JAVA - Error printing Japanese Emojis/Kaomojis/ASCII emojis","body":"<p>All files on all modern systems are stored as a sequence of bytes.  Every byte is a numeric value from zero to 2⁸−1 (that is, 0 to 255).</p>\n<p>Since all files consist of bytes, characters in text files—including Java source files—need to be stored as bytes.  When the characters consist only of <a href=\"https://en.wikipedia.org/wiki/ASCII#Character_set\" rel=\"nofollow noreferrer\">ASCII</a> characters, this is easy to do:  There are only 127 ASCII characters, therefore each character corresponds to one of 127 values, so each character is represented by one byte value in the file.</p>\n<p>However, when you want to represent characters which are not ASCII characters, like <code>｡•́︿•̀｡</code>, the system where you’re working must know how you want those characters to be represented as bytes.  There are hundreds of thousands of character values in existence, so one character cannot possibly fit into the byte value range.</p>\n<p>The method for translating characters to bytes (and bytes to characters) is called a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/nio/charset/Charset.html\" rel=\"nofollow noreferrer\">Charset</a>, also known as a character encoding.</p>\n<p>If you have non-ASCII characters in your source code, you need to tell the Java compiler how the file is representing those characters as bytes.  You need to tell the compiler what character encoding was used to save your source file.</p>\n<p>On non-Windows systems, files are almost always saved using the <a href=\"https://en.wikipedia.org/wiki/UTF-8\" rel=\"nofollow noreferrer\">UTF-8</a> encoding.  In fact, it appears your file was saved as a UTF-8 file, which usually is the right thing to do.  UTF-8 is extremely common and is the best encoding to use in almost every case.</p>\n<p>However, when you compiled your code, the Java compiler mistakenly believed that your file is in windows-1252 or a similar windows-12nn encoding.  These windows encodings are one-byte encodings, capable of representing no more than 256 characters.  The characters <code>｡•́︿•̀｡</code> are not valid in these encodings.</p>\n<p>Your source file is a UTF-8 file, so <code>｡</code> is <a href=\"https://www.fileformat.info/info/unicode/char/ff61/\" rel=\"nofollow noreferrer\">represented as three bytes</a> in that file.  However, the Java compiler didn’t know that;  it thought each of those bytes was a separate character, because it was assuming a Windows encoding where every byte represents one character.</p>\n<p>You need to tell the compiler which encoding was used to save your source file.  If you’re building on the command line, you can use the <a href=\"https://docs.oracle.com/en/java/javase/19/docs/specs/man/javac.html#option-encoding\" rel=\"nofollow noreferrer\">-encoding</a> compiler option.  For example:</p>\n<pre><code>javac -encoding UTF-8 MyProgram.java\n</code></pre>\n<p>If you are using an IDE, you will need to open your project’s properties, find the compiler option for the character encoding, and change it to UTF-8.</p>\n"}],"owner":{"account_id":27902390,"reputation":1,"user_id":21306390,"display_name":"Stel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677620696,"creation_date":1677607217,"question_id":75595713,"body_markdown":"I am coding in JAVA. I&#39;m trying to print this (｡•́︿•̀｡) and other similar emojis in the console, but instead it is printing (￯ﾽﾡ￢ﾀﾢￌﾁ￯ﾸ﾿￢ﾀﾢￌﾀ￯ﾽﾡ). When I try printing similar emoji art, I keep getting the same issue where these random characters are printing instead.\r\n\r\nI&#39;m just using\r\n\r\n```\r\nSystem.out.print(&quot;(｡•́︿•̀｡)&quot;);\r\n```\r\n\r\nBut this ends up printing (￯ﾽﾡ￢ﾀﾢￌﾁ￯ﾸ﾿￢ﾀﾢￌﾀ￯ﾽﾡ)\r\n\r\nI also tried using \\\\ to escape formatting in case that was the issue, like:\r\n\r\n```\r\nSystem.out.print(&quot;(\\｡\\•́\\︿\\•̀\\｡)&quot;);\r\n```\r\n\r\nBut this resulted in an illegal escape character error.","title":"JAVA - Error printing Japanese Emojis/Kaomojis/ASCII emojis","body":"<p>I am coding in JAVA. I'm trying to print this (｡•́︿•̀｡) and other similar emojis in the console, but instead it is printing (￯ﾽﾡ￢ﾀﾢￌﾁ￯ﾸ﾿￢ﾀﾢￌﾀ￯ﾽﾡ). When I try printing similar emoji art, I keep getting the same issue where these random characters are printing instead.</p>\n<p>I'm just using</p>\n<pre><code>System.out.print(&quot;(｡•́︿•̀｡)&quot;);\n</code></pre>\n<p>But this ends up printing (￯ﾽﾡ￢ﾀﾢￌﾁ￯ﾸ﾿￢ﾀﾢￌﾀ￯ﾽﾡ)</p>\n<p>I also tried using \\ to escape formatting in case that was the issue, like:</p>\n<pre><code>System.out.print(&quot;(\\｡\\•́\\︿\\•̀\\｡)&quot;);\n</code></pre>\n<p>But this resulted in an illegal escape character error.</p>\n"},{"tags":["java","android","performance","android-studio","bluetooth"],"comments":[{"owner":{"account_id":2607825,"reputation":5369,"user_id":2258611,"display_name":"Alexander Hoffmann"},"score":0,"creation_date":1674159568,"post_id":75177661,"comment_id":132661593,"body_markdown":"We need to see the relevant code. What parts are running on the main thread? What parts are async?","body":"We need to see the relevant code. What parts are running on the main thread? What parts are async?"}],"owner":{"account_id":18582583,"reputation":1,"user_id":13541774,"display_name":"CoNe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677620153,"creation_date":1674158472,"question_id":75177661,"body_markdown":"I&#39;ve done application which receives Bluetooth data, it&#39;s a string that is split into the integers. I work in Android studio. 2 activities use same functionality and in one activity it works okay (it can be faster) but in another it is so slow, needs 20sec to show the change after the message has received. \r\n\r\nThere are 2 types of messages, some which come all time and they are interpreted perfectly fine - fast. But another receives occasionally, when sensor registers something (not important). And there is problem with this which occurs occasionally, it is slow. \r\n\r\nActually in one android device, it is fine but on the others is horrible. I checked to print into terminal when it arrives and terminal is also late, means the problem might not be to interface and layout. The code is like this:\r\n\r\n    while (reader.read != -1) {\r\n       --function for splitting string\r\n       --if(message arrived) { function }\r\n    } \r\n\r\nI can&#39;t put whole code, there are multiple files and lot of code, if needs some part I can post. I also eliminated data which comes all time when I don&#39;t need those data, so program does not lose time interpreting data it does not need. Thanks!\r\n\r\n```\r\npublic class onReceive implements Runnable {     \r\n     \r\n        public void run() {  \r\n             \r\n            --bluetooth connection (it&#39;s ok as it works in other activities)\r\n            \r\n           int b=0;\r\n         while ((b = reader.read()) != -1) {          \r\n\r\n                 \r\n              obj.Split_string(b);\r\n\r\n              if (obj.messageArrived()) {\r\n                 obj.calculation(parameter_tocka, radni_zahvat);\r\n                 obj.set_messageArrived(false);\r\n                            \r\n              }\r\n     }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nString splitting in Class :\r\n\r\n```\r\n public void Split_string(int b) {\r\n\r\n     char character = (char) b;\r\n---further algorithm\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n","title":"Input stream from bluetooth is late , android","body":"<p>I've done application which receives Bluetooth data, it's a string that is split into the integers. I work in Android studio. 2 activities use same functionality and in one activity it works okay (it can be faster) but in another it is so slow, needs 20sec to show the change after the message has received.</p>\n<p>There are 2 types of messages, some which come all time and they are interpreted perfectly fine - fast. But another receives occasionally, when sensor registers something (not important). And there is problem with this which occurs occasionally, it is slow.</p>\n<p>Actually in one android device, it is fine but on the others is horrible. I checked to print into terminal when it arrives and terminal is also late, means the problem might not be to interface and layout. The code is like this:</p>\n<pre><code>while (reader.read != -1) {\n   --function for splitting string\n   --if(message arrived) { function }\n} \n</code></pre>\n<p>I can't put whole code, there are multiple files and lot of code, if needs some part I can post. I also eliminated data which comes all time when I don't need those data, so program does not lose time interpreting data it does not need. Thanks!</p>\n<pre><code>public class onReceive implements Runnable {     \n     \n        public void run() {  \n             \n            --bluetooth connection (it's ok as it works in other activities)\n            \n           int b=0;\n         while ((b = reader.read()) != -1) {          \n\n                 \n              obj.Split_string(b);\n\n              if (obj.messageArrived()) {\n                 obj.calculation(parameter_tocka, radni_zahvat);\n                 obj.set_messageArrived(false);\n                            \n              }\n     }\n\n}\n\n</code></pre>\n<p>String splitting in Class :</p>\n<pre><code> public void Split_string(int b) {\n\n     char character = (char) b;\n---further algorithm\n}\n</code></pre>\n"},{"tags":["java","json","generics","gson"],"comments":[{"owner":{"account_id":2228889,"reputation":1776,"user_id":1967021,"display_name":"Ivan Pronin"},"score":1,"creation_date":1502133915,"post_id":45554148,"comment_id":78068501,"body_markdown":"Looks like you should use `new TypeToken&lt;OwnedCollection&lt;T&gt;&gt;` in your `deserialize1` method instead of `new TypeToken&lt;T&gt;`","body":"Looks like you should use <code>new TypeToken&lt;OwnedCollection&lt;T&gt;&gt;</code> in your <code>deserialize1</code> method instead of <code>new TypeToken&lt;T&gt;</code>"},{"owner":{"account_id":8904761,"reputation":51,"user_id":6647021,"display_name":"Stevan Koncar"},"score":0,"creation_date":1502194512,"post_id":45554148,"comment_id":78095174,"body_markdown":"@IvanPronin I am able to serialize it that way but not in the appropriate object. When i try to call some method in generic class, i am also getting java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to org.miracledojo.karatedo.domen.BaseObject","body":"@IvanPronin I am able to serialize it that way but not in the appropriate object. When i try to call some method in generic class, i am also getting java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap cannot be cast to org.miracledojo.karatedo.domen.BaseObject"}],"answers":[{"tags":[],"owner":{"account_id":11508,"reputation":3302,"user_id":22221,"display_name":"pfranza"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502136648,"creation_date":1502136648,"answer_id":45554947,"question_id":45554148,"body_markdown":"You are giving the GSON parser the incorrect type token, change the type token to be an OwnedCollection of type T\r\n\r\n    public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize1(String json, Class&lt;T&gt; type) {\r\n        return new Gson().fromJson(json, new TypeToken&lt;OwnedCollection&lt;T&gt;&gt;(){}.getType());\r\n    }","title":"Generic method passing parameters - java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap","body":"<p>You are giving the GSON parser the incorrect type token, change the type token to be an OwnedCollection of type T</p>\n\n<pre><code>public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize1(String json, Class&lt;T&gt; type) {\n    return new Gson().fromJson(json, new TypeToken&lt;OwnedCollection&lt;T&gt;&gt;(){}.getType());\n}\n</code></pre>\n"}],"owner":{"account_id":8904761,"reputation":51,"user_id":6647021,"display_name":"Stevan Koncar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1677619854,"creation_date":1502133154,"question_id":45554148,"body_markdown":"I have a simple generic class:\r\n\r\n    public class OwnedCollection&lt;T extends BaseObject&gt; extends BaseObject {\r\n\r\n        private String playerId;\r\n        private List&lt;T&gt; collection;\r\n\r\n\r\n    public OwnedCollection(String playerId, List&lt;T&gt; collection) {\r\n        super(playerId);\r\n        this.playerId = playerId;\r\n        this.collection = collection;\r\n    }\r\n}\r\n\r\nI want to deserialize it from json. I am using Gson library, so\r\nWhen i call the line:\r\n\r\n    OwnedCollection&lt;Skin&gt; fromJson = new Gson().fromJson(json, new TypeToken&lt;OwnedCollection&lt;Skin&gt;&gt;() {}.getType());\r\n\r\neverything is working fine.\r\n\r\nBut when i try to create a method for doing this i get exceptions.\r\nI have tried the following:\r\n\r\n    public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize1(String json, Class&lt;T&gt; type) {\r\n        Gson gson = new Gson();\r\n        return gson.fromJson(json, new TypeToken&lt;T&gt;() {\r\n        }.getType());\r\n    }\r\n\r\nand calling it with:\r\n\r\n    OwnedCollection&lt;Skin&gt; deserialize1 = deserialize1(json, Skin.class);\r\n\r\ni get:\r\n\r\n    java.lang.ClassCastException: org.miracledojo.karatedo.domen.item.Skin cannot be cast to org.miracledojo.karatedo.domen.item.OwnedCollection\r\n\r\n\r\nthen: \r\n\r\n    public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize2(String json, Type type) {\r\n        Gson gson = new Gson();\r\n        return gson.fromJson(json, type);\r\n    }\r\nand calling it with:\r\n\r\n    deserialize2(json, Skin.class);\r\n\r\nthen i get:\r\n\r\n    java.lang.ClassCastException: org.miracledojo.karatedo.domen.item.Skin cannot be cast to org.miracledojo.karatedo.domen.item.OwnedCollection\r\n\r\nDoes anybody have any ideas?\r\nSomething like:\r\n\r\n    OwnedCollection&lt;Skin&gt;.class\r\n\r\nis not possible, so any similar sintax?","title":"Generic method passing parameters - java.lang.ClassCastException: com.google.gson.internal.LinkedTreeMap","body":"<p>I have a simple generic class:</p>\n\n<pre><code>public class OwnedCollection&lt;T extends BaseObject&gt; extends BaseObject {\n\n    private String playerId;\n    private List&lt;T&gt; collection;\n\n\npublic OwnedCollection(String playerId, List&lt;T&gt; collection) {\n    super(playerId);\n    this.playerId = playerId;\n    this.collection = collection;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I want to deserialize it from json. I am using Gson library, so\nWhen i call the line:</p>\n\n<pre><code>OwnedCollection&lt;Skin&gt; fromJson = new Gson().fromJson(json, new TypeToken&lt;OwnedCollection&lt;Skin&gt;&gt;() {}.getType());\n</code></pre>\n\n<p>everything is working fine.</p>\n\n<p>But when i try to create a method for doing this i get exceptions.\nI have tried the following:</p>\n\n<pre><code>public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize1(String json, Class&lt;T&gt; type) {\n    Gson gson = new Gson();\n    return gson.fromJson(json, new TypeToken&lt;T&gt;() {\n    }.getType());\n}\n</code></pre>\n\n<p>and calling it with:</p>\n\n<pre><code>OwnedCollection&lt;Skin&gt; deserialize1 = deserialize1(json, Skin.class);\n</code></pre>\n\n<p>i get:</p>\n\n<pre><code>java.lang.ClassCastException: org.miracledojo.karatedo.domen.item.Skin cannot be cast to org.miracledojo.karatedo.domen.item.OwnedCollection\n</code></pre>\n\n<p>then: </p>\n\n<pre><code>public &lt;T extends BaseObject&gt; OwnedCollection&lt;T&gt; deserialize2(String json, Type type) {\n    Gson gson = new Gson();\n    return gson.fromJson(json, type);\n}\n</code></pre>\n\n<p>and calling it with:</p>\n\n<pre><code>deserialize2(json, Skin.class);\n</code></pre>\n\n<p>then i get:</p>\n\n<pre><code>java.lang.ClassCastException: org.miracledojo.karatedo.domen.item.Skin cannot be cast to org.miracledojo.karatedo.domen.item.OwnedCollection\n</code></pre>\n\n<p>Does anybody have any ideas?\nSomething like:</p>\n\n<pre><code>OwnedCollection&lt;Skin&gt;.class\n</code></pre>\n\n<p>is not possible, so any similar sintax?</p>\n"},{"tags":["java","spring-saml"],"comments":[{"owner":{"account_id":2413395,"reputation":327,"user_id":2108004,"display_name":"kotacc"},"score":0,"creation_date":1424699888,"post_id":28671358,"comment_id":45644021,"body_markdown":"You have to tell more information on what have you tried or what have you stumbled upon. The sample application from Spring-SAML gives you enough information and it has very good documentation.","body":"You have to tell more information on what have you tried or what have you stumbled upon. The sample application from Spring-SAML gives you enough information and it has very good documentation."}],"answers":[{"tags":[],"owner":{"account_id":4702774,"reputation":1417,"user_id":4519138,"accept_rate":62,"display_name":"CandleCoder"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1424686626,"creation_date":1424686626,"answer_id":28671396,"question_id":28671358,"body_markdown":"https://developer.salesforce.com/page/Single_Sign-On_with_SAML_on_Force.com\r\n\r\nYou can visit this website for more dev related queries..Its purely for developers","title":"how to implement SAML authentication in java web application using salesforce.com as identity provider","body":"<p><a href=\"https://developer.salesforce.com/page/Single_Sign-On_with_SAML_on_Force.com\" rel=\"nofollow\">https://developer.salesforce.com/page/Single_Sign-On_with_SAML_on_Force.com</a></p>\n\n<p>You can visit this website for more dev related queries..Its purely for developers</p>\n"},{"tags":[],"owner":{"account_id":4295147,"reputation":15433,"user_id":3510410,"display_name":"Vladim&#237;r Sch&#228;fer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1481701501,"creation_date":1425055490,"answer_id":28770059,"question_id":28671358,"body_markdown":"First of all, you need to configure your Spring SAML as one of the connected applications in Salesforce and make sure that SAML is enabled for that application. You will also need to provide entity ID and assertion consumer URL, which can both be found in Spring SAML&#39;s generated metadata.\r\n\r\nIntegration of Salesforce with Spring SAML has one specific issue. The SAML Responses are signed both by certificate included in the IDP&#39;s metadata and by an additional certificate (proxy.salesforce.com).\r\n\r\nThis second certificate needs to be available to Spring SAML. One way to add the certificate is to update the IDP metadata imported to Spring SAML by adding the following element representing the proxy.salesforce.com certificate:\r\n\r\n    &lt;md:KeyDescriptor use=&quot;signing&quot;&gt;\r\n       &lt;ds:KeyInfo&gt;\r\n          &lt;ds:X509Data&gt;\r\n               &lt;ds:X509Certificate&gt;MIIFYDCCBEigAwIBAgIQQ4KxN7E3aAGP1rpwQm6gZzANBgkqhkiG9w0BAQUFADCBvDELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykxMDE2MDQGA1UEAxMtVmVyaVNpZ24gQ2xhc3MgMyBJbnRlcm5hdGlvbmFsIFNlcnZlciBDQSAtIEczMB4XDTEzMTAxODAwMDAwMFoXDTE3MTAxNzIzNTk1OVowgY8xCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHFA1TYW4gRnJhbmNpc2NvMR0wGwYDVQQKFBRTYWxlc2ZvcmNlLmNvbSwgSW5jLjEVMBMGA1UECxQMQXBwbGljYXRpb25zMR0wGwYDVQQDFBRwcm94eS5zYWxlc2ZvcmNlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALJtS/8tJmPZ/CKOz/dJ7MXrgz0MPQKxEAdgrdOFdRjsavTY+RviREe+zwjrKd9ZsCS3GltV2GBFD+YxXzuptQr+ZUDC8Vwx+49WQ13D55nmoUJVcB1nHlTXBICJQDo87cZ4AIViuSVkUfQRG7BeMfKTMngyGdAOIsnSFwp1ONmRqaIarWTfr2w0SNFNPikW9rQjehAF/eh6Ib4H3bJEE/kAwRS4mFJoxEKsiJQhnymqeoVgLMSb3UTS8J9R1RmQi+kisC39NAzVwQjM1X677cdQt0FaF6GlZ97vCH/rpNAJnAVwaWiRNQ32AR2X39rp8DVpSk9eynNGp1JI/6mIv3ECAwEAAaOCAYcwggGDMB8GA1UdEQQYMBaCFHByb3h5LnNhbGVzZm9yY2UuY29tMAkGA1UdEwQCMAAwDgYDVR0PAQH/BAQDAgWgMCgGA1UdJQQhMB8GCCsGAQUFBwMBBggrBgEFBQcDAgYJYIZIAYb4QgQBMEMGA1UdIAQ8MDowOAYKYIZIAYb4RQEHNjAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vY3BzMB8GA1UdIwQYMBaAFNebfNgioBX33a1fzimbWMO8RgC1MEEGA1UdHwQ6MDgwNqA0oDKGMGh0dHA6Ly9TVlJJbnRsLUczLWNybC52ZXJpc2lnbi5jb20vU1ZSSW50bEczLmNybDByBggrBgEFBQcBAQRmMGQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLnZlcmlzaWduLmNvbTA8BggrBgEFBQcwAoYwaHR0cDovL1NWUkludGwtRzMtYWlhLnZlcmlzaWduLmNvbS9TVlJJbnRsRzMuY2VyMA0GCSqGSIb3DQEBBQUAA4IBAQAEMsL4HAd5uYW3j0SQFX4Opl7p0Vo4o7HKBHCtV4ZjzkSFwvRR9+5zijYqlhe4ou1SL4WAWAsTKMTpKz0CL1S9Npt0IcKmIWeRsjJKKznFa8sxHhgEvm3O11a9uVfgvmnwn0VEpuTmGvXvIUSAZ5q0CVDgzbGsrjWnZXllgO6krwPonEg6MdFarA87bAkLCrLZ0HqWeUVlf2ntfvR7kjr0trUM/EBxPdcPxeMK70EJqku7GMEPOxkexTr2O0yD/2lZM0il+AUuOboZDl0SyfjU0N7YIKNKZq5hcoUP/sCpcReMNj0dAWeVYmADrV7LlOVvndgHKcLrUydS/9obQHen&lt;/ds:X509Certificate&gt;\r\n          &lt;/ds:X509Data&gt;\r\n       &lt;/ds:KeyInfo&gt;\r\n    &lt;/md:KeyDescriptor&gt;\r\n\r\nYou also need to make sure the user you are authenticating with has permission to your connected app (Spring SAML SP), by updating its Permission Set. You will otherwise get back AuthnFailed status code.","title":"how to implement SAML authentication in java web application using salesforce.com as identity provider","body":"<p>First of all, you need to configure your Spring SAML as one of the connected applications in Salesforce and make sure that SAML is enabled for that application. You will also need to provide entity ID and assertion consumer URL, which can both be found in Spring SAML's generated metadata.</p>\n\n<p>Integration of Salesforce with Spring SAML has one specific issue. The SAML Responses are signed both by certificate included in the IDP's metadata and by an additional certificate (proxy.salesforce.com).</p>\n\n<p>This second certificate needs to be available to Spring SAML. One way to add the certificate is to update the IDP metadata imported to Spring SAML by adding the following element representing the proxy.salesforce.com certificate:</p>\n\n<pre><code>&lt;md:KeyDescriptor use=\"signing\"&gt;\n   &lt;ds:KeyInfo&gt;\n      &lt;ds:X509Data&gt;\n           &lt;ds:X509Certificate&gt;MIIFYDCCBEigAwIBAgIQQ4KxN7E3aAGP1rpwQm6gZzANBgkqhkiG9w0BAQUFADCBvDELMAkGA1UEBhMCVVMxFzAVBgNVBAoTDlZlcmlTaWduLCBJbmMuMR8wHQYDVQQLExZWZXJpU2lnbiBUcnVzdCBOZXR3b3JrMTswOQYDVQQLEzJUZXJtcyBvZiB1c2UgYXQgaHR0cHM6Ly93d3cudmVyaXNpZ24uY29tL3JwYSAoYykxMDE2MDQGA1UEAxMtVmVyaVNpZ24gQ2xhc3MgMyBJbnRlcm5hdGlvbmFsIFNlcnZlciBDQSAtIEczMB4XDTEzMTAxODAwMDAwMFoXDTE3MTAxNzIzNTk1OVowgY8xCzAJBgNVBAYTAlVTMRMwEQYDVQQIEwpDYWxpZm9ybmlhMRYwFAYDVQQHFA1TYW4gRnJhbmNpc2NvMR0wGwYDVQQKFBRTYWxlc2ZvcmNlLmNvbSwgSW5jLjEVMBMGA1UECxQMQXBwbGljYXRpb25zMR0wGwYDVQQDFBRwcm94eS5zYWxlc2ZvcmNlLmNvbTCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBALJtS/8tJmPZ/CKOz/dJ7MXrgz0MPQKxEAdgrdOFdRjsavTY+RviREe+zwjrKd9ZsCS3GltV2GBFD+YxXzuptQr+ZUDC8Vwx+49WQ13D55nmoUJVcB1nHlTXBICJQDo87cZ4AIViuSVkUfQRG7BeMfKTMngyGdAOIsnSFwp1ONmRqaIarWTfr2w0SNFNPikW9rQjehAF/eh6Ib4H3bJEE/kAwRS4mFJoxEKsiJQhnymqeoVgLMSb3UTS8J9R1RmQi+kisC39NAzVwQjM1X677cdQt0FaF6GlZ97vCH/rpNAJnAVwaWiRNQ32AR2X39rp8DVpSk9eynNGp1JI/6mIv3ECAwEAAaOCAYcwggGDMB8GA1UdEQQYMBaCFHByb3h5LnNhbGVzZm9yY2UuY29tMAkGA1UdEwQCMAAwDgYDVR0PAQH/BAQDAgWgMCgGA1UdJQQhMB8GCCsGAQUFBwMBBggrBgEFBQcDAgYJYIZIAYb4QgQBMEMGA1UdIAQ8MDowOAYKYIZIAYb4RQEHNjAqMCgGCCsGAQUFBwIBFhxodHRwczovL3d3dy52ZXJpc2lnbi5jb20vY3BzMB8GA1UdIwQYMBaAFNebfNgioBX33a1fzimbWMO8RgC1MEEGA1UdHwQ6MDgwNqA0oDKGMGh0dHA6Ly9TVlJJbnRsLUczLWNybC52ZXJpc2lnbi5jb20vU1ZSSW50bEczLmNybDByBggrBgEFBQcBAQRmMGQwJAYIKwYBBQUHMAGGGGh0dHA6Ly9vY3NwLnZlcmlzaWduLmNvbTA8BggrBgEFBQcwAoYwaHR0cDovL1NWUkludGwtRzMtYWlhLnZlcmlzaWduLmNvbS9TVlJJbnRsRzMuY2VyMA0GCSqGSIb3DQEBBQUAA4IBAQAEMsL4HAd5uYW3j0SQFX4Opl7p0Vo4o7HKBHCtV4ZjzkSFwvRR9+5zijYqlhe4ou1SL4WAWAsTKMTpKz0CL1S9Npt0IcKmIWeRsjJKKznFa8sxHhgEvm3O11a9uVfgvmnwn0VEpuTmGvXvIUSAZ5q0CVDgzbGsrjWnZXllgO6krwPonEg6MdFarA87bAkLCrLZ0HqWeUVlf2ntfvR7kjr0trUM/EBxPdcPxeMK70EJqku7GMEPOxkexTr2O0yD/2lZM0il+AUuOboZDl0SyfjU0N7YIKNKZq5hcoUP/sCpcReMNj0dAWeVYmADrV7LlOVvndgHKcLrUydS/9obQHen&lt;/ds:X509Certificate&gt;\n      &lt;/ds:X509Data&gt;\n   &lt;/ds:KeyInfo&gt;\n&lt;/md:KeyDescriptor&gt;\n</code></pre>\n\n<p>You also need to make sure the user you are authenticating with has permission to your connected app (Spring SAML SP), by updating its Permission Set. You will otherwise get back AuthnFailed status code.</p>\n"}],"owner":{"account_id":5832286,"reputation":71,"user_id":4596399,"display_name":"Vikas Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1718,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677619788,"creation_date":1424686501,"question_id":28671358,"body_markdown":"I am trying to implement SAML in my web applicatin as a service provider and i am using salesforce as a identity provider.\r\n\r\nI tried lots of google and did not found anything helpfull.\r\n Could any one help me.\r\n\r\nThanks in advance.","title":"how to implement SAML authentication in java web application using salesforce.com as identity provider","body":"<p>I am trying to implement SAML in my web applicatin as a service provider and i am using salesforce as a identity provider.</p>\n\n<p>I tried lots of google and did not found anything helpfull.\n Could any one help me.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","intellij-idea","unicode","java-18"],"comments":[{"owner":{"account_id":433754,"reputation":38773,"user_id":995714,"accept_rate":56,"display_name":"phuclv"},"score":2,"creation_date":1648686866,"post_id":71685543,"comment_id":126690439,"body_markdown":"which platform and which terminal are you using","body":"which platform and which terminal are you using"},{"owner":{"account_id":7929209,"reputation":7801,"user_id":5987669,"display_name":"Locke"},"score":0,"creation_date":1648687228,"post_id":71685543,"comment_id":126690485,"body_markdown":"It prints a literal &quot;?&quot; or &quot;�&quot;/&quot;□&quot;? The font being used in the terminal may not support the character you are printing.","body":"It prints a literal &quot;?&quot; or &quot;�&quot;/&quot;□&quot;? The font being used in the terminal may not support the character you are printing."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1648687340,"post_id":71685543,"comment_id":126690504,"body_markdown":"I copy-pasted your snippet `char letter = &#39;\\u1699&#39;; System.out.println( letter );` into IntelliJ 2022.1 Beta (Ultimate Edition) and ran successfully, displaying `ᚙ`, the OGHAM LETTER EAMHANCHOLL character. I wish I knew how to tell the character encoding currently in use in IntelliJ&#39;s `Run` console.","body":"I copy-pasted your snippet <code>char letter = &#39;\\u1699&#39;; System.out.println( letter );</code> into IntelliJ 2022.1 Beta (Ultimate Edition) and ran successfully, displaying <code>ᚙ</code>, the OGHAM LETTER EAMHANCHOLL character. I wish I knew how to tell the character encoding currently in use in IntelliJ&#39;s <code>Run</code> console."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1648690932,"post_id":71685543,"comment_id":126691044,"body_markdown":"@BasilBourque How about navigating to **File &gt; Settings... &gt; Editor &gt; General &gt; Console** and viewing the value of **Default Encoding**? But even if that gives you what you are looking for, and I&#39;m not sure it does, it would be more convenient if you could get/set the console&#39;s encoding from the Status bar.","body":"@BasilBourque How about navigating to <b>File &gt; Settings... &gt; Editor &gt; General &gt; Console</b> and viewing the value of <b>Default Encoding</b>? But even if that gives you what you are looking for, and I&#39;m not sure it does, it would be more convenient if you could get/set the console&#39;s encoding from the Status bar."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1648711387,"post_id":71685543,"comment_id":126695101,"body_markdown":"The program is correct. But either you do not have fonts which support such symbols (you may need to install many &quot;Noto fonts&quot; from Google), or you terminal settings are incorrect: be sure that there are fallback fonts available, no single font can support so many characters)","body":"The program is correct. But either you do not have fonts which support such symbols (you may need to install many &quot;Noto fonts&quot; from Google), or you terminal settings are incorrect: be sure that there are fallback fonts available, no single font can support so many characters)"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1648771805,"post_id":71685543,"comment_id":126715796,"body_markdown":"@GiacomoCatenazzi If the console font simply didn&#39;t contain the character &#39;ᚙ&#39; wouldn&#39;t it be rendered as a replacement character (&#39;�&#39;) rather than a question mark (&#39;?&#39;), which is what the OP is seeing? It seems more likely that this is a console settings issue (encoding?) rather than console font issue, so `println(letter)` is trying to render something invalid/meaningless. Yet none of that really explains why the OP can resolve the problem simply by using JDK 17 instead of JDK 18.","body":"@GiacomoCatenazzi If the console font simply didn&#39;t contain the character &#39;ᚙ&#39; wouldn&#39;t it be rendered as a replacement character (&#39;�&#39;) rather than a question mark (&#39;?&#39;), which is what the OP is seeing? It seems more likely that this is a console settings issue (encoding?) rather than console font issue, so <code>println(letter)</code> is trying to render something invalid/meaningless. Yet none of that really explains why the OP can resolve the problem simply by using JDK 17 instead of JDK 18."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":3,"creation_date":1648793044,"post_id":71685543,"comment_id":126718799,"body_markdown":"To those who are voting to close this question because it is &quot;Not reproducible or was caused by a typo&quot;, you are wrong. It is definitely reproducible and definitely not caused by a typo.","body":"To those who are voting to close this question because it is &quot;Not reproducible or was caused by a typo&quot;, you are wrong. It is definitely reproducible and definitely not caused by a typo."},{"owner":{"account_id":3277167,"reputation":8773,"user_id":2758823,"display_name":"Giacomo Catenazzi"},"score":0,"creation_date":1648796321,"post_id":71685543,"comment_id":126719633,"body_markdown":"It is possible. For this reason I recommend as first step to debug: *print to a file*, which reduce a lot of potential problems. Nobody should mangle your files, so if the problem is in the program. For replacement character: often yes, but it is up to the program to choose how to handle. And terminals... are complex for fonts: someone recommend standard text libraries, some people recommend just to use shaping, other direct font rendering, so do not expect &quot;standard text behaviour&quot; in terminals.","body":"It is possible. For this reason I recommend as first step to debug: <i>print to a file</i>, which reduce a lot of potential problems. Nobody should mangle your files, so if the problem is in the program. For replacement character: often yes, but it is up to the program to choose how to handle. And terminals... are complex for fonts: someone recommend standard text libraries, some people recommend just to use shaping, other direct font rendering, so do not expect &quot;standard text behaviour&quot; in terminals."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1648843285,"post_id":71685543,"comment_id":126735544,"body_markdown":"[1] Please don&#39;t embed your solution within your question. Instead, create an answer to your own question. That is more helpful to the SO community. [2] While your approach of regressing to JDK 17 certainly resolves the issue, it is not a solution to the problem; it is just a workaround which avoids addressing it. A proper fix can be implemented with a simple change to your code on JDK 18.","body":"[1] Please don&#39;t embed your solution within your question. Instead, create an answer to your own question. That is more helpful to the SO community. [2] While your approach of regressing to JDK 17 certainly resolves the issue, it is not a solution to the problem; it is just a workaround which avoids addressing it. A proper fix can be implemented with a simple change to your code on JDK 18."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1650320563,"creation_date":1648792726,"answer_id":71702397,"question_id":71685543,"body_markdown":"I can replicate your problem: printing works correctly when running your code if compiled with JDK 17, and fails when running your code if compiled with JDK 18.\r\n\r\nOne of the changes implemented in Java 18 was [JEP 400: UTF-8 by Default](https://openjdk.java.net/jeps/400). The summary for that JEP stated:\r\n\r\n&gt; Specify UTF-8 as the default charset of the standard Java APIs. With\r\n&gt; this change, APIs that depend upon the default charset will behave\r\n&gt; consistently across all implementations, operating systems, locales,\r\n&gt; and configurations.\r\n\r\nThat sounds good, except one of the goals of that change was (with my emphasis added):\r\n\r\n&gt; Standardize on UTF-8 throughout the standard Java APIs, **except for\r\n&gt; console I/O**.\r\n\r\nSo I think your problem arose because you had ensured that the console&#39;s encoding in Intellij IDEA was UTF-8, but the `PrintStream` that you were using to write to that console (i.e. `System.out`) was not.\r\n\r\nThe [Javadoc for `PrintStream`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html) states (with my emphasis added):\r\n\r\n&gt; All characters printed by a PrintStream are converted into bytes using\r\n&gt; the given encoding or charset, **or the default charset if not\r\n&gt; specified**.\r\n\r\nSince your `PrintStream` was `System.out`, you had not specified any _&quot;encoding or charset&quot;_, and were therefore using the _&quot;default charset&quot;_, which was presumably not UTF-8. So to get your code to work on Java 18, you just need to ensure that your `PrintStream` is encoding with UTF-8. Here&#39;s some sample code to show the problem and the solution:\r\n\r\n    package pkg;\r\n    \r\n    import java.io.FileDescriptor;\r\n    import java.io.FileOutputStream;\r\n    import java.io.PrintStream;\r\n    import java.nio.charset.StandardCharsets;\r\n\r\n    public class Humpty {\r\n\r\n        public static void main(String[] args) throws java.io.UnsupportedEncodingException {\r\n    \r\n            char letter = &#39;ᚙ&#39;;\r\n            String charset1 = System.out.charset().displayName();  // charset() requires JDK 18\r\n    \r\n            System.out.println(&quot;Writing the character &quot; + letter + &quot; to a PrintStream with charset &quot; + charset1); // fails\r\n    \r\n            PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\r\n            String charset2 = ps.charset().displayName(); // charset() requires JDK 18\r\n            ps.println(&quot;Writing the character &quot; + letter + &quot; to a PrintStream with charset &quot; + charset2); // works\r\n        }\r\n    }\r\n\r\nThis is the output in the console when running that code:\r\n\r\n    C:\\Java\\jdk-18\\bin\\java.exe -javaagent:C:\\Users\\johndoe\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\221.5080.93\\lib\\idea_rt.jar=64750:C:\\Users\\johndoe\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\221.5080.93\\bin -Dfile.encoding=UTF-8 -classpath C:\\Users\\johndoe\\IdeaProjects\\HelloIntellij\\out\\production\\HelloIntellij pkg.Humpty\r\n    Writing the character ? to a PrintStream with charset windows-1252\r\n    Writing the character ᚙ to a PrintStream with charset UTF-8\r\n    \r\n    Process finished with exit code 0\r\n\r\nNotes:\r\n- `PrintStream` has a [new method in Java 18 named `charset()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#charset()) which _&quot;returns the charset used in this PrintStream instance&quot;_. The code above calls charset(), and shows that for my machine my _&quot;default charset&quot;_ is **windows-1252**, not **UTF-8**.\r\n- I used Intellij IDEA 2022.1 Beta (Ultimate Edition) for testing.\r\n- In the console I used font _DejaVu Sans_ to ensure that the character &quot;ᚙ&quot; could be rendered.\r\n\r\n-------------------------------\r\nUPDATE: To address the issue raised in the comments below by Mostafa Zeinali, the `PrintStream` used by `System.out` can be redirected to a UTF-8 `PrintStream` by calling `System.setOut()`. Here&#39;s sample code:\r\n\r\n        String charsetOut = System.out.charset().displayName();\r\n        if (!&quot;UTF-8&quot;.equals(charsetOut)) {\r\n            System.out.println(&quot;The charset for System.out is &quot; + charsetOut + &quot;. Changing System.out to use charset UTF-8&quot;);\r\n            System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8));\r\n            System.out.println(&quot;The charset for System.out is now &quot; +    System.out.charset().displayName());\r\n        }\r\n\r\nThis is the output from that code on my Windows 10 machine:\r\n\r\n    The charset for System.out is windows-1252. Changing System.out to use charset UTF-8\r\n    The charset for System.out is now UTF-8\r\n\r\nNote that `System.out` is a `final` variable, so you can&#39;t directly assign a new `PrintStream` to it. This code fails to compile with the error *&quot;Cannot assign a value to final variable &#39;out&#39;&quot;*:\r\n\r\n    System.out = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8); // Won&#39;t compile\r\n\r\n","title":"Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;","body":"<p>I can replicate your problem: printing works correctly when running your code if compiled with JDK 17, and fails when running your code if compiled with JDK 18.</p>\n<p>One of the changes implemented in Java 18 was <a href=\"https://openjdk.java.net/jeps/400\" rel=\"noreferrer\">JEP 400: UTF-8 by Default</a>. The summary for that JEP stated:</p>\n<blockquote>\n<p>Specify UTF-8 as the default charset of the standard Java APIs. With\nthis change, APIs that depend upon the default charset will behave\nconsistently across all implementations, operating systems, locales,\nand configurations.</p>\n</blockquote>\n<p>That sounds good, except one of the goals of that change was (with my emphasis added):</p>\n<blockquote>\n<p>Standardize on UTF-8 throughout the standard Java APIs, <strong>except for\nconsole I/O</strong>.</p>\n</blockquote>\n<p>So I think your problem arose because you had ensured that the console's encoding in Intellij IDEA was UTF-8, but the <code>PrintStream</code> that you were using to write to that console (i.e. <code>System.out</code>) was not.</p>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html\" rel=\"noreferrer\">Javadoc for <code>PrintStream</code></a> states (with my emphasis added):</p>\n<blockquote>\n<p>All characters printed by a PrintStream are converted into bytes using\nthe given encoding or charset, <strong>or the default charset if not\nspecified</strong>.</p>\n</blockquote>\n<p>Since your <code>PrintStream</code> was <code>System.out</code>, you had not specified any <em>&quot;encoding or charset&quot;</em>, and were therefore using the <em>&quot;default charset&quot;</em>, which was presumably not UTF-8. So to get your code to work on Java 18, you just need to ensure that your <code>PrintStream</code> is encoding with UTF-8. Here's some sample code to show the problem and the solution:</p>\n<pre><code>package pkg;\n\nimport java.io.FileDescriptor;\nimport java.io.FileOutputStream;\nimport java.io.PrintStream;\nimport java.nio.charset.StandardCharsets;\n\npublic class Humpty {\n\n    public static void main(String[] args) throws java.io.UnsupportedEncodingException {\n\n        char letter = 'ᚙ';\n        String charset1 = System.out.charset().displayName();  // charset() requires JDK 18\n\n        System.out.println(&quot;Writing the character &quot; + letter + &quot; to a PrintStream with charset &quot; + charset1); // fails\n\n        PrintStream ps = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8);\n        String charset2 = ps.charset().displayName(); // charset() requires JDK 18\n        ps.println(&quot;Writing the character &quot; + letter + &quot; to a PrintStream with charset &quot; + charset2); // works\n    }\n}\n</code></pre>\n<p>This is the output in the console when running that code:</p>\n<pre><code>C:\\Java\\jdk-18\\bin\\java.exe -javaagent:C:\\Users\\johndoe\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\221.5080.93\\lib\\idea_rt.jar=64750:C:\\Users\\johndoe\\AppData\\Local\\JetBrains\\Toolbox\\apps\\IDEA-U\\ch-0\\221.5080.93\\bin -Dfile.encoding=UTF-8 -classpath C:\\Users\\johndoe\\IdeaProjects\\HelloIntellij\\out\\production\\HelloIntellij pkg.Humpty\nWriting the character ? to a PrintStream with charset windows-1252\nWriting the character ᚙ to a PrintStream with charset UTF-8\n\nProcess finished with exit code 0\n</code></pre>\n<p>Notes:</p>\n<ul>\n<li><code>PrintStream</code> has a <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/io/PrintStream.html#charset()\" rel=\"noreferrer\">new method in Java 18 named <code>charset()</code></a> which <em>&quot;returns the charset used in this PrintStream instance&quot;</em>. The code above calls charset(), and shows that for my machine my <em>&quot;default charset&quot;</em> is <strong>windows-1252</strong>, not <strong>UTF-8</strong>.</li>\n<li>I used Intellij IDEA 2022.1 Beta (Ultimate Edition) for testing.</li>\n<li>In the console I used font <em>DejaVu Sans</em> to ensure that the character &quot;ᚙ&quot; could be rendered.</li>\n</ul>\n<hr />\n<p>UPDATE: To address the issue raised in the comments below by Mostafa Zeinali, the <code>PrintStream</code> used by <code>System.out</code> can be redirected to a UTF-8 <code>PrintStream</code> by calling <code>System.setOut()</code>. Here's sample code:</p>\n<pre><code>    String charsetOut = System.out.charset().displayName();\n    if (!&quot;UTF-8&quot;.equals(charsetOut)) {\n        System.out.println(&quot;The charset for System.out is &quot; + charsetOut + &quot;. Changing System.out to use charset UTF-8&quot;);\n        System.setOut(new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8));\n        System.out.println(&quot;The charset for System.out is now &quot; +    System.out.charset().displayName());\n    }\n</code></pre>\n<p>This is the output from that code on my Windows 10 machine:</p>\n<pre><code>The charset for System.out is windows-1252. Changing System.out to use charset UTF-8\nThe charset for System.out is now UTF-8\n</code></pre>\n<p>Note that <code>System.out</code> is a <code>final</code> variable, so you can't directly assign a new <code>PrintStream</code> to it. This code fails to compile with the error <em>&quot;Cannot assign a value to final variable 'out'&quot;</em>:</p>\n<pre><code>System.out = new PrintStream(new FileOutputStream(FileDescriptor.out), true, StandardCharsets.UTF_8); // Won't compile\n</code></pre>\n"},{"tags":[],"owner":{"account_id":928900,"reputation":2486,"user_id":959156,"accept_rate":100,"display_name":"Mostafa Zeinali"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1650269782,"creation_date":1650269403,"answer_id":71909229,"question_id":71685543,"body_markdown":"TLDR: Use this on Java 18:\r\n\r\n    -Dfile.encoding=&quot;UTF-8&quot; -Dsun.stdout.encoding=&quot;UTF-8&quot; -Dsun.stderr.encoding=&quot;UTF-8&quot;\r\n\r\nFrom [JEP 400][1]:\r\n\r\n&gt; There are three charset-related system properties used internally by the JDK. They remain unspecified and unsupported, but are documented here for completeness:\r\nsun.stdout.encoding and sun.stderr.encoding — the names of the charsets used for the standard output stream (System.out) and standard error stream (System.err), and in the java.io.Console API. sun.jnu.encoding — the name of the charset used by the implementation of java.nio.file when encoding or decoding filename paths, as opposed to file contents. On macOS its value is &quot;UTF-8&quot;; on other platforms it is typically the default charset.\r\n\r\nAs you can see, those two system properties **&quot;remain unspecified and unsupported&quot;**. But they solved my problem. Therefore, please use them at your own risk, and DO NOT use them in production env. I&#39;m running Eclipse on Windows 10 btw.\r\n\r\nI think there must be a good way to set the default charset of JVM upon running, and it is stupid that passing -Dfile.encoding=&quot;UTF-8&quot; does not do that. As you can read in JEP 400:\r\n\r\n&gt; If file.encoding is set to &quot;UTF-8&quot; (i.e., java -Dfile.encoding=UTF-8), then the default charset will be UTF-8. This no-op value is defined in order to preserve the behavior of existing command lines.\r\n\r\nAnd this is exactly what it is &quot;NOT&quot; doing. Passing Dfile.encoding=&quot;UTF-8&quot; does &quot;not&quot; preserve the behavior of existing command lines! I think this shows that Java 18&#39;s implementation of JEP 400 is not doing what it should actually be doing, which is the root of your problem in the first place.\r\n\r\n  [1]: https://openjdk.java.net/jeps/400","title":"Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;","body":"<p>TLDR: Use this on Java 18:</p>\n<pre><code>-Dfile.encoding=&quot;UTF-8&quot; -Dsun.stdout.encoding=&quot;UTF-8&quot; -Dsun.stderr.encoding=&quot;UTF-8&quot;\n</code></pre>\n<p>From <a href=\"https://openjdk.java.net/jeps/400\" rel=\"noreferrer\">JEP 400</a>:</p>\n<blockquote>\n<p>There are three charset-related system properties used internally by the JDK. They remain unspecified and unsupported, but are documented here for completeness:\nsun.stdout.encoding and sun.stderr.encoding — the names of the charsets used for the standard output stream (System.out) and standard error stream (System.err), and in the java.io.Console API. sun.jnu.encoding — the name of the charset used by the implementation of java.nio.file when encoding or decoding filename paths, as opposed to file contents. On macOS its value is &quot;UTF-8&quot;; on other platforms it is typically the default charset.</p>\n</blockquote>\n<p>As you can see, those two system properties <strong>&quot;remain unspecified and unsupported&quot;</strong>. But they solved my problem. Therefore, please use them at your own risk, and DO NOT use them in production env. I'm running Eclipse on Windows 10 btw.</p>\n<p>I think there must be a good way to set the default charset of JVM upon running, and it is stupid that passing -Dfile.encoding=&quot;UTF-8&quot; does not do that. As you can read in JEP 400:</p>\n<blockquote>\n<p>If file.encoding is set to &quot;UTF-8&quot; (i.e., java -Dfile.encoding=UTF-8), then the default charset will be UTF-8. This no-op value is defined in order to preserve the behavior of existing command lines.</p>\n</blockquote>\n<p>And this is exactly what it is &quot;NOT&quot; doing. Passing Dfile.encoding=&quot;UTF-8&quot; does &quot;not&quot; preserve the behavior of existing command lines! I think this shows that Java 18's implementation of JEP 400 is not doing what it should actually be doing, which is the root of your problem in the first place.</p>\n"},{"tags":[],"owner":{"account_id":25773342,"reputation":1,"user_id":19521166,"display_name":"FAUST_ua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657463879,"creation_date":1657463879,"answer_id":72929292,"question_id":71685543,"body_markdown":"Had such trouble as well. Changing setting (File &gt; Settings... &gt; Editor &gt; General &gt; Console) into UTF-32 helped to solve this issue.","title":"Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;","body":"<p>Had such trouble as well. Changing setting (File &gt; Settings... &gt; Editor &gt; General &gt; Console) into UTF-32 helped to solve this issue.</p>\n"},{"tags":[],"owner":{"account_id":27903698,"reputation":11,"user_id":21307397,"display_name":"Mabart88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677619669,"creation_date":1677619669,"answer_id":75597471,"question_id":71685543,"body_markdown":"Update IntelliJ IDEA to version 2022.2.1+. Very similar problem was classified as a bug. You can find more details [here][1].\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-characters-in-console-when-try-printing-the-non-ASCII-characters","title":"Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;","body":"<p>Update IntelliJ IDEA to version 2022.2.1+. Very similar problem was classified as a bug. You can find more details <a href=\"https://youtrack.jetbrains.com/issue/IDEA-291006/Running-the-Java-project-by-using-the-JDK-18-prints-the-garbled-characters-in-console-when-try-printing-the-non-ASCII-characters\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24751656,"reputation":101,"user_id":18637070,"display_name":"Xin69"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2744,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1677619669,"creation_date":1648686075,"question_id":71685543,"body_markdown":"tldr: I downgraded to JDK 17 (17.0.2) and now it works...\r\n\r\nI was watching a beginners Java tutorial by Kody Simpson on YT (youtube.com/watch?v=t9LP9Nt9Nco), and in that tutorial the boy Kody prints crazy symbols called Unicode like &quot;☯Ω&#248;ᚙ&quot;, but for me it just prints &quot;?&quot; - a question mark.\r\n\r\n```\r\nchar letter = &#39;\\u1699&#39;;\r\nSystem.out.println(letter);\r\n```\r\nI tried pretty much every solution on Stack Overflow, such as:\r\n\r\n- Changing File Encoding to UTF-8, although mine was using UTF-8 by default.\r\n- Putting &#39;-Dconsole.encoding=UTF-8&#39; and &#39;-Dfile.encoding=UTF-8&#39; in the Edit Custom VM options.\r\n- Messing with Region Settings in control panel.\r\n\r\nNone of it worked.\r\n\r\nEvery post was also from many years ago, such as this one, which is from 12 years:\r\n\r\nhttps://stackoverflow.com/questions/1082343/unicode-characters-appear-as-question-marks-in-intellij-idea-console\r\n\r\nI ended up deleting and re-downloading Intellij because I thought I messed up some settings and wanted a restart, but this time I made the Project SDK an older version, Oracle openJDK version 14.0.1, and now somehow it worked and printed the &#39;ᚙ&#39; symbol.\r\n\r\nThen I realized the problem might be the latest version of the JDK which is version 18, so I downloaded JDK 17.0.2, and it BOOM it still works and prints out the symbol &#39;ᚙ&#39;, so thats nice :). But when I switched back to JDK version 18 it just prints &quot;?&quot; again.\r\n\r\nAlso its strange because I can copy paste the ᚙ symbol into the writing code area whatever you call it, (on JDK version 18)\r\n```\r\nchar letter = &#39;ᚙ&#39;;\r\nSystem.out.println(letter);\r\n```\r\nBut when I press RUN and try to PRINT ... it STILL GIVES QUESTION MARK.\r\n\r\nI have no clue why this happens, I started learning coding 2 days so I&#39;m probably dumb, or the new version has got a bug, but I never found a solution through Google or here, so this is why I&#39;m making my first ever Stack Overflow post.\r\n\r\n\r\n\r\n\r\n\r\n","title":"Java JDK 18 in IntelliJ prints question mark &quot;?&quot; when I tried to print unicode like &quot;\\u1699&quot;","body":"<p>tldr: I downgraded to JDK 17 (17.0.2) and now it works...</p>\n<p>I was watching a beginners Java tutorial by Kody Simpson on YT (youtube.com/watch?v=t9LP9Nt9Nco), and in that tutorial the boy Kody prints crazy symbols called Unicode like &quot;☯Ωøᚙ&quot;, but for me it just prints &quot;?&quot; - a question mark.</p>\n<pre><code>char letter = '\\u1699';\nSystem.out.println(letter);\n</code></pre>\n<p>I tried pretty much every solution on Stack Overflow, such as:</p>\n<ul>\n<li>Changing File Encoding to UTF-8, although mine was using UTF-8 by default.</li>\n<li>Putting '-Dconsole.encoding=UTF-8' and '-Dfile.encoding=UTF-8' in the Edit Custom VM options.</li>\n<li>Messing with Region Settings in control panel.</li>\n</ul>\n<p>None of it worked.</p>\n<p>Every post was also from many years ago, such as this one, which is from 12 years:</p>\n<p><a href=\"https://stackoverflow.com/questions/1082343/unicode-characters-appear-as-question-marks-in-intellij-idea-console\">unicode characters appear as question marks in IntelliJ IDEA console</a></p>\n<p>I ended up deleting and re-downloading Intellij because I thought I messed up some settings and wanted a restart, but this time I made the Project SDK an older version, Oracle openJDK version 14.0.1, and now somehow it worked and printed the 'ᚙ' symbol.</p>\n<p>Then I realized the problem might be the latest version of the JDK which is version 18, so I downloaded JDK 17.0.2, and it BOOM it still works and prints out the symbol 'ᚙ', so thats nice :). But when I switched back to JDK version 18 it just prints &quot;?&quot; again.</p>\n<p>Also its strange because I can copy paste the ᚙ symbol into the writing code area whatever you call it, (on JDK version 18)</p>\n<pre><code>char letter = 'ᚙ';\nSystem.out.println(letter);\n</code></pre>\n<p>But when I press RUN and try to PRINT ... it STILL GIVES QUESTION MARK.</p>\n<p>I have no clue why this happens, I started learning coding 2 days so I'm probably dumb, or the new version has got a bug, but I never found a solution through Google or here, so this is why I'm making my first ever Stack Overflow post.</p>\n"},{"tags":["java","docker","ubuntu","docker-compose","build"],"answers":[{"tags":[],"owner":{"account_id":12166263,"reputation":11,"user_id":8882485,"display_name":"Ozgur Onguner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661434644,"creation_date":1661418831,"answer_id":73484920,"question_id":73480342,"body_markdown":"I change java:8 to amazoncorretto:8 and now it works.","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>I change java:8 to amazoncorretto:8 and now it works.</p>\n"},{"tags":[],"owner":{"account_id":26159662,"reputation":196,"user_id":19846425,"display_name":"cadolop"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1661441300,"creation_date":1661441300,"answer_id":73490179,"question_id":73480342,"body_markdown":"I change java:8 to openjdk:8 and it works.","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>I change java:8 to openjdk:8 and it works.</p>\n"},{"tags":[],"owner":{"account_id":26159744,"reputation":11,"user_id":19846496,"display_name":"lio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661442237,"creation_date":1661442237,"answer_id":73490379,"question_id":73480342,"body_markdown":"openjdk:8 or amazoncorretto:8 work for me.\r\nThanks","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>openjdk:8 or amazoncorretto:8 work for me.\nThanks</p>\n"},{"tags":[],"owner":{"account_id":25946111,"reputation":73,"user_id":19664822,"display_name":"ologvin"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1661498131,"creation_date":1661497026,"answer_id":73497171,"question_id":73480342,"body_markdown":"The issue could appear due to deprecation of java image:\r\n\r\n[![enter image description here][1]][1]\r\n\r\namazoncorretto:8-alpine or openjdk:8-alpine will be a good replacement.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xQ7rn.png","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>The issue could appear due to deprecation of java image:</p>\n<p><a href=\"https://i.stack.imgur.com/xQ7rn.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xQ7rn.png\" alt=\"enter image description here\" /></a></p>\n<p>amazoncorretto:8-alpine or openjdk:8-alpine will be a good replacement.</p>\n"},{"tags":[],"owner":{"account_id":7180818,"reputation":129,"user_id":5484849,"accept_rate":25,"display_name":"MFK34"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677619664,"creation_date":1677619664,"answer_id":75597469,"question_id":73480342,"body_markdown":"The issue is the manifest file does not likely exist; the version/tag you have chosen does not exist. Since docker images are built from the manifest file of the image:tag, if the manifest file does not exist for the image/tag, the docker image will not be built, thus the error.\r\n\r\n**Fix:** Select an image with a valid tag.","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>The issue is the manifest file does not likely exist; the version/tag you have chosen does not exist. Since docker images are built from the manifest file of the image:tag, if the manifest file does not exist for the image/tag, the docker image will not be built, thus the error.</p>\n<p><strong>Fix:</strong> Select an image with a valid tag.</p>\n"}],"owner":{"account_id":3000800,"reputation":765,"user_id":2546348,"accept_rate":57,"display_name":"Ahmad Mousa"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11858,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":73490179,"answer_count":5,"score":10,"last_activity_date":1677619664,"creation_date":1661382509,"question_id":73480342,"body_markdown":"I&#39;m facing this error while building on Ubuntu server:\r\n\r\n&gt; Step 1/10 : FROM java:8-jre-alpine\r\n&gt; \r\n&gt; ERROR: Service &#39;XXXX&#39; failed to build: manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown\r\n\r\nIt was working fine since months, suddenly now its not working. What could be the reason?\r\n","title":"Manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown","body":"<p>I'm facing this error while building on Ubuntu server:</p>\n<blockquote>\n<p>Step 1/10 : FROM java:8-jre-alpine</p>\n<p>ERROR: Service 'XXXX' failed to build: manifest for java:8-jre-alpine not found: manifest unknown: manifest unknown</p>\n</blockquote>\n<p>It was working fine since months, suddenly now its not working. What could be the reason?</p>\n"},{"tags":["java","android","json","arraylist"],"answers":[{"tags":[],"owner":{"account_id":6495275,"reputation":491,"user_id":5028082,"display_name":"Aashish Aadarsh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1494494622,"creation_date":1494494622,"answer_id":43911422,"question_id":43911335,"body_markdown":"You can try like this : \r\n\r\n      public void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\r\n            JSONArray myJSONArray = new JSONArray();\r\n            JSONObject obj = new JSONObject();\r\n            for(Model model : modelList){\r\n                try {\r\n                    obj.put(&quot;key&quot;, model);\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n                myJSONArray.put(obj);\r\n            }\r\n        }\r\n\r\nRevert for any error.","title":"Android - save custom model ArrayList to JSON","body":"<p>You can try like this : </p>\n\n<pre><code>  public void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\n        JSONArray myJSONArray = new JSONArray();\n        JSONObject obj = new JSONObject();\n        for(Model model : modelList){\n            try {\n                obj.put(\"key\", model);\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n            myJSONArray.put(obj);\n        }\n    }\n</code></pre>\n\n<p>Revert for any error.</p>\n"},{"tags":[],"owner":{"account_id":3990094,"reputation":495,"user_id":3289338,"accept_rate":62,"display_name":"Timo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677619595,"creation_date":1494494684,"answer_id":43911445,"question_id":43911335,"body_markdown":"You can use gson as well and just give the arraylist as parameter. But be careful all elements of your model need to be serializable if not use transient to remove object which is not serializable in your model\r\n\r\nhttps://stackoverflow.com/questions/29426062/gson-putting-and-getting-arraylist-of-composite-objects\r\n\r\nTake a look here too: https://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type","title":"Android - save custom model ArrayList to JSON","body":"<p>You can use gson as well and just give the arraylist as parameter. But be careful all elements of your model need to be serializable if not use transient to remove object which is not serializable in your model</p>\n<p><a href=\"https://stackoverflow.com/questions/29426062/gson-putting-and-getting-arraylist-of-composite-objects\">Gson - putting and getting ArrayList of composite objects</a></p>\n<p>Take a look here too: <a href=\"https://stackoverflow.com/questions/5554217/google-gson-deserialize-listclass-object-generic-type\">Deserialize a List&lt;T&gt; object with Gson?</a></p>\n"},{"tags":[],"owner":{"account_id":5967020,"reputation":196,"user_id":4690544,"display_name":"Luc Le"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494494971,"creation_date":1494494971,"answer_id":43911557,"question_id":43911335,"body_markdown":"You can try code below:\r\n\r\n    \tpublic void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\r\n        JSONArray myJSONArray = new JSONArray();\r\n            JSONObject obj = new JSONObject();\r\n\t\t\tJSONArray array = new JSONArray();\r\n\t\t\tfor (Model model:modelList) {\r\n\t\t\t\tarray.put(model.getJson());\r\n\t\t\t}\r\n            obj.put(&quot;key&quot;, array);\r\n            myJSONArray.put(obj);\r\n        }\r\n    }\r\n\r\nI suppose that method getJson() is your method which return JSON object which present Model object","title":"Android - save custom model ArrayList to JSON","body":"<p>You can try code below:</p>\n\n<pre><code>    public void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\n    JSONArray myJSONArray = new JSONArray();\n        JSONObject obj = new JSONObject();\n        JSONArray array = new JSONArray();\n        for (Model model:modelList) {\n            array.put(model.getJson());\n        }\n        obj.put(\"key\", array);\n        myJSONArray.put(obj);\n    }\n}\n</code></pre>\n\n<p>I suppose that method getJson() is your method which return JSON object which present Model object</p>\n"},{"tags":[],"owner":{"account_id":8810425,"reputation":6701,"user_id":6583644,"display_name":"Patrick R"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1494495550,"creation_date":1494495550,"answer_id":43911769,"question_id":43911335,"body_markdown":"You can use Gson to convert ArrayList to JSON array\r\n \r\n\r\n    Gson gson = new Gson();\r\n    String json = gson.toJson(yourArraylist);","title":"Android - save custom model ArrayList to JSON","body":"<p>You can use Gson to convert ArrayList to JSON array</p>\n\n<pre><code>Gson gson = new Gson();\nString json = gson.toJson(yourArraylist);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10726259,"reputation":1978,"user_id":7893686,"display_name":"Bhupat Bheda"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1494503700,"creation_date":1494503700,"answer_id":43914700,"question_id":43911335,"body_markdown":"add this Gradle in your `build.gradle` `compile &#39;com.google.code.gson:gson:2.7&#39;`\r\n\r\n\r\nand then\r\n\r\n    String str = new Gson().toJson(modelList);\r\n    JSONObject jsonObject = new JSONObject(str);","title":"Android - save custom model ArrayList to JSON","body":"<p>add this Gradle in your <code>build.gradle</code> <code>compile 'com.google.code.gson:gson:2.7'</code></p>\n\n<p>and then</p>\n\n<pre><code>String str = new Gson().toJson(modelList);\nJSONObject jsonObject = new JSONObject(str);\n</code></pre>\n"}],"owner":{"account_id":8579448,"reputation":4203,"user_id":6427630,"accept_rate":99,"display_name":"Daniele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2808,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":43914700,"answer_count":5,"score":0,"last_activity_date":1677619595,"creation_date":1494494372,"question_id":43911335,"body_markdown":"I have created an ArrayList and I need to convert it to a JSONarray:\r\n\r\nThis is how an Object in my `ArrayList&lt;model&gt;` looks like:\r\n\r\n    modelList.add(new model(&quot;String&quot;, 9.99 /*Double*/, null /*Date*/, R.drawable.drawable, R.color.color, 1 /*int*/, 0 /*int*/));\r\n    ...\r\n\r\nthis is what I tried so far:\r\n\r\n    public void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\r\n            JSONArray myJSONArray = new JSONArray();\r\n                JSONObject obj = new JSONObject();\r\n                obj.put(&quot;key&quot;, modelList);\r\n                myJSONArray.put(obj);\r\n            }\r\n        }\r\n\r\n","title":"Android - save custom model ArrayList to JSON","body":"<p>I have created an ArrayList and I need to convert it to a JSONarray:</p>\n\n<p>This is how an Object in my <code>ArrayList&lt;model&gt;</code> looks like:</p>\n\n<pre><code>modelList.add(new model(\"String\", 9.99 /*Double*/, null /*Date*/, R.drawable.drawable, R.color.color, 1 /*int*/, 0 /*int*/));\n...\n</code></pre>\n\n<p>this is what I tried so far:</p>\n\n<pre><code>public void saveArrayListtoJSON(ArrayList&lt;Model&gt; modelList) {\n        JSONArray myJSONArray = new JSONArray();\n            JSONObject obj = new JSONObject();\n            obj.put(\"key\", modelList);\n            myJSONArray.put(obj);\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-webflux"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1677625195,"post_id":75597301,"comment_id":133374530,"body_markdown":"no, because your application has no idea which clients are connected, SSE is Single Producer multiple consumers","body":"no, because your application has no idea which clients are connected, SSE is Single Producer multiple consumers"}],"owner":{"account_id":1944992,"reputation":316,"user_id":1750355,"accept_rate":44,"display_name":"user1750355"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677618414,"creation_date":1677618414,"question_id":75597301,"body_markdown":"I am doing kind of notification system checking if something specific has changed in other of our modules and dispatching action in Angular app.\r\n \r\nI created another endpoint calling sink and emitting whenever I need. It works as expected. \r\n \r\n\r\nThe problem is that it will notify all of connected clients. Is there any way to tell to webflux sink, that I want to emit to specific emitter only, based on any kind of id, like taskId var or userName? \r\nI simply don&#39;t want to notify all clients, just the ones I need to. \r\n\r\nCode samples:\r\n```\r\nclass SseController implements SseClientApi {\r\n\r\n    private final SseService sseService;\r\n\r\n    @Override\r\n    @GetMapping(path = &quot;/subscribe&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\r\n    public Flux&lt;ServerSentEvent&lt;String&gt;&gt; subscribe() {\r\n        return sseService.subscribe();\r\n    }\r\n\r\n\r\n    @Override\r\n    @GetMapping(path = &quot;/notify/{taskId}&quot;)\r\n    public void notifyTask(@PathVariable String taskId) {\r\n        sseService.notifyTask(taskId);\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass SseService {\r\n    private final Sinks.Many&lt;String&gt; sink = Sinks.many().replay().latest();\r\n\r\n    public void notifyTask(String taskId) {\r\n        sink.tryEmitNext(taskId);\r\n    }\r\n\r\n    public Flux&lt;ServerSentEvent&lt;String&gt;&gt; subscribe() {\r\n        return sink.asFlux().map(e -&gt; ServerSentEvent.builder(e).build());\r\n    }\r\n\r\n}\r\n```","title":"Emitting to specific emitter in SpringBoot WebFlux","body":"<p>I am doing kind of notification system checking if something specific has changed in other of our modules and dispatching action in Angular app.</p>\n<p>I created another endpoint calling sink and emitting whenever I need. It works as expected.</p>\n<p>The problem is that it will notify all of connected clients. Is there any way to tell to webflux sink, that I want to emit to specific emitter only, based on any kind of id, like taskId var or userName?\nI simply don't want to notify all clients, just the ones I need to.</p>\n<p>Code samples:</p>\n<pre><code>class SseController implements SseClientApi {\n\n    private final SseService sseService;\n\n    @Override\n    @GetMapping(path = &quot;/subscribe&quot;, produces = MediaType.TEXT_EVENT_STREAM_VALUE)\n    public Flux&lt;ServerSentEvent&lt;String&gt;&gt; subscribe() {\n        return sseService.subscribe();\n    }\n\n\n    @Override\n    @GetMapping(path = &quot;/notify/{taskId}&quot;)\n    public void notifyTask(@PathVariable String taskId) {\n        sseService.notifyTask(taskId);\n    }\n}\n</code></pre>\n<pre><code>class SseService {\n    private final Sinks.Many&lt;String&gt; sink = Sinks.many().replay().latest();\n\n    public void notifyTask(String taskId) {\n        sink.tryEmitNext(taskId);\n    }\n\n    public Flux&lt;ServerSentEvent&lt;String&gt;&gt; subscribe() {\n        return sink.asFlux().map(e -&gt; ServerSentEvent.builder(e).build());\n    }\n\n}\n</code></pre>\n"},{"tags":["java","encryption","cryptography","rsa"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":55,"is_accepted":true,"score":55,"last_activity_date":1677617551,"creation_date":1440329683,"answer_id":32166210,"question_id":32161720,"body_markdown":"OAEP uses a separate hash invocation to hash a (usually empty) label as well as a parameter to MGF1 (mask generation function), used for most of the OAEP padding.\r\n\r\nThe hash doesn&#39;t have that much impact on the security of OAEP, and for that reason it may be left to this default. Most libraries however use the same hash algorithm for MGF-1 and the hashing of the (always empty) label. Java however defaults to MGF1.\r\n\r\nWe can easily test this by comparing the standard Java Cipher instantiated using `&quot;OAEPWITHSHA-256ANDMGF1PADDING&quot;` against one instantiated using `&quot;OAEPPadding&quot;` and `OAEPParameterSpec`: \r\n\r\n\t// --- we need a key pair to test encryption/decryption\r\n\tKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n\tkpg.initialize(1024); // speedy generation, but not secure anymore\r\n\tKeyPair kp = kpg.generateKeyPair();\r\n\tRSAPublicKey pubkey = (RSAPublicKey) kp.getPublic();\r\n\tRSAPrivateKey privkey = (RSAPrivateKey) kp.getPrivate();\r\n\t\r\n\t// --- encrypt given algorithm string\r\n\tCipher oaepFromAlgo = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\r\n\toaepFromAlgo.init(Cipher.ENCRYPT_MODE, pubkey);\r\n\tbyte[] ct = oaepFromAlgo.doFinal(&quot;owlstead&quot;.getBytes(StandardCharsets.UTF_8));\r\n\t\t\r\n\t// --- decrypt given OAEPParameterSpec\r\n\tCipher oaepFromInit = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\r\n\tOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new MGF1ParameterSpec(&quot;SHA-1&quot;), PSpecified.DEFAULT);\r\n\toaepFromInit.init(Cipher.DECRYPT_MODE, privkey, oaepParams);\r\n\tbyte[] pt = oaepFromInit.doFinal(ct);\r\n\tSystem.out.println(new String(pt, StandardCharsets.UTF_8));\r\n\r\nThe code will fail with a padding related exception if you substitute `&quot;SHA-256&quot;` for the MGF1 as parameter, showing that SHA-1 is indeed the default.\r\n\r\nThe reason why the long algorithm string is needed is compatibility with other `Cipher` algorithms. Code written for, for instance `&quot;RSA/ECB/PKCS1Padding&quot;` doesn&#39;t use any parameters; without the longer string OAEP can therefore not function as drop in replacement.\r\n\r\n---\r\n\r\nThe mode of operation `&quot;ECB&quot;` doesn&#39;t mean anything in this context, it should have been `&quot;None&quot;` or it should have been left out completely. You can only encrypt a single block using the RSA implementation of the SunRSA provider.\r\n\r\nIf you want to encrypt more data, create a random (AES) symmetric key and encrypt that using OAEP. Then use the AES key to encrypt your specific data. This is called a hybrid cryptosystem as it uses both asymmetric and symmetric primitives to encrypt data.\r\n\r\n---\r\n\r\nNote that OAEP is not supported in JDK 7 (1.7) or earlier. OAEP is included in the implementation requirements for Java runtimes [since Java 8](https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#impl): \r\n\r\n - `RSA/ECB/OAEPWithSHA-1AndMGF1Padding` (1024, 2048)\r\n - `RSA/ECB/OAEPWithSHA-256AndMGF1Padding` (1024, 2048)\r\n\r\nSome protocols may require you to use SHA-256 or SHA-512 within the padding, as SHA-1 is being deprecated for most use - even if it is not directly vulnerable for this kind of purpose. Neither SHA-224 or SHA-384 make any sense as those are versions of SHA-256 and SHA-512 with a reduced output size, and therefore require more calls to create the padding, without providing any security benefit (and yes, testing this does show a performance disadvantage).\r\n\r\n---\r\n\r\nIf you have an invalid OAEP ciphertext you should first make sure that the right &quot;default&quot; is being used for the label and MGF1.\r\n\r\nIt is impossible to wrong any library implementation for choosing their own default; in the end it is up to the protocol to define the hashes used.\r\n\r\nUnfortunately no mandatory default exists - which is especially a problem if protocol owners forget to fully specify a configuration for the algorithms.\r\n","title":"Breaking down RSA/ECB/OAEPWithSHA-256AndMGF1Padding","body":"<p>OAEP uses a separate hash invocation to hash a (usually empty) label as well as a parameter to MGF1 (mask generation function), used for most of the OAEP padding.</p>\n<p>The hash doesn't have that much impact on the security of OAEP, and for that reason it may be left to this default. Most libraries however use the same hash algorithm for MGF-1 and the hashing of the (always empty) label. Java however defaults to MGF1.</p>\n<p>We can easily test this by comparing the standard Java Cipher instantiated using <code>&quot;OAEPWITHSHA-256ANDMGF1PADDING&quot;</code> against one instantiated using <code>&quot;OAEPPadding&quot;</code> and <code>OAEPParameterSpec</code>:</p>\n<pre><code>// --- we need a key pair to test encryption/decryption\nKeyPairGenerator kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\nkpg.initialize(1024); // speedy generation, but not secure anymore\nKeyPair kp = kpg.generateKeyPair();\nRSAPublicKey pubkey = (RSAPublicKey) kp.getPublic();\nRSAPrivateKey privkey = (RSAPrivateKey) kp.getPrivate();\n\n// --- encrypt given algorithm string\nCipher oaepFromAlgo = Cipher.getInstance(&quot;RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING&quot;);\noaepFromAlgo.init(Cipher.ENCRYPT_MODE, pubkey);\nbyte[] ct = oaepFromAlgo.doFinal(&quot;owlstead&quot;.getBytes(StandardCharsets.UTF_8));\n    \n// --- decrypt given OAEPParameterSpec\nCipher oaepFromInit = Cipher.getInstance(&quot;RSA/ECB/OAEPPadding&quot;);\nOAEPParameterSpec oaepParams = new OAEPParameterSpec(&quot;SHA-256&quot;, &quot;MGF1&quot;, new MGF1ParameterSpec(&quot;SHA-1&quot;), PSpecified.DEFAULT);\noaepFromInit.init(Cipher.DECRYPT_MODE, privkey, oaepParams);\nbyte[] pt = oaepFromInit.doFinal(ct);\nSystem.out.println(new String(pt, StandardCharsets.UTF_8));\n</code></pre>\n<p>The code will fail with a padding related exception if you substitute <code>&quot;SHA-256&quot;</code> for the MGF1 as parameter, showing that SHA-1 is indeed the default.</p>\n<p>The reason why the long algorithm string is needed is compatibility with other <code>Cipher</code> algorithms. Code written for, for instance <code>&quot;RSA/ECB/PKCS1Padding&quot;</code> doesn't use any parameters; without the longer string OAEP can therefore not function as drop in replacement.</p>\n<hr />\n<p>The mode of operation <code>&quot;ECB&quot;</code> doesn't mean anything in this context, it should have been <code>&quot;None&quot;</code> or it should have been left out completely. You can only encrypt a single block using the RSA implementation of the SunRSA provider.</p>\n<p>If you want to encrypt more data, create a random (AES) symmetric key and encrypt that using OAEP. Then use the AES key to encrypt your specific data. This is called a hybrid cryptosystem as it uses both asymmetric and symmetric primitives to encrypt data.</p>\n<hr />\n<p>Note that OAEP is not supported in JDK 7 (1.7) or earlier. OAEP is included in the implementation requirements for Java runtimes <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/security/StandardNames.html#impl\" rel=\"nofollow noreferrer\">since Java 8</a>:</p>\n<ul>\n<li><code>RSA/ECB/OAEPWithSHA-1AndMGF1Padding</code> (1024, 2048)</li>\n<li><code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code> (1024, 2048)</li>\n</ul>\n<p>Some protocols may require you to use SHA-256 or SHA-512 within the padding, as SHA-1 is being deprecated for most use - even if it is not directly vulnerable for this kind of purpose. Neither SHA-224 or SHA-384 make any sense as those are versions of SHA-256 and SHA-512 with a reduced output size, and therefore require more calls to create the padding, without providing any security benefit (and yes, testing this does show a performance disadvantage).</p>\n<hr />\n<p>If you have an invalid OAEP ciphertext you should first make sure that the right &quot;default&quot; is being used for the label and MGF1.</p>\n<p>It is impossible to wrong any library implementation for choosing their own default; in the end it is up to the protocol to define the hashes used.</p>\n<p>Unfortunately no mandatory default exists - which is especially a problem if protocol owners forget to fully specify a configuration for the algorithms.</p>\n"}],"owner":{"account_id":276507,"reputation":16077,"user_id":569976,"accept_rate":68,"display_name":"neubert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47485,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":32166210,"answer_count":1,"score":26,"last_activity_date":1677617551,"creation_date":1440285786,"question_id":32161720,"body_markdown":"Java has a mode called `RSA/ECB/OAEPWithSHA-256AndMGF1Padding`. What does that even mean?\r\n\r\n[RFC3447][1], *Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1*, section *7.1.2 Decryption operation* says Hash and MGF are both options for RSAES-OAEP-DECRYPT. MGF is it&#39;s own function, defined in *Section B.2.1 MGF1* and that has it&#39;s own Hash &quot;option&quot; as well.\r\n\r\nMaybe the Hash &quot;option&quot; in RSAES-OAEP-DECRYPT and MGF1 are supposed to be the same or maybe they&#39;re not, it is unclear to me. If they are then I guess when you have `RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING` that means sha256 should be used for both. But if they&#39;re not supposed to be the same then you could have sha256 used for RSAES-OAEP-DECRYPT and, for example, sha1 used for MGF1. And if that&#39;s the case then what function is sha256 supposed to be used for? And what hash algorithm is supposed to be used for the other function?\r\n\r\nAnd what does ECB mean in this context? ECB is a symmetric block cipher mode. Electronic Code Book. Maybe it&#39;s supposed to mean how Java deals with plaintext&#39;s that are larger than the modulo? Like maybe splits the plaintext into chunks that are as big as the modulo and then encrypts each one with RSA and concatenates them together? I&#39;m just guessing..\r\n\r\n\r\n  [1]: https://www.rfc-editor.org/rfc/rfc3447#section-7.1.2","title":"Breaking down RSA/ECB/OAEPWithSHA-256AndMGF1Padding","body":"<p>Java has a mode called <code>RSA/ECB/OAEPWithSHA-256AndMGF1Padding</code>. What does that even mean?</p>\n<p><a href=\"https://www.rfc-editor.org/rfc/rfc3447#section-7.1.2\" rel=\"noreferrer\">RFC3447</a>, <em>Public-Key Cryptography Standards (PKCS) #1: RSA Cryptography Specifications Version 2.1</em>, section <em>7.1.2 Decryption operation</em> says Hash and MGF are both options for RSAES-OAEP-DECRYPT. MGF is it's own function, defined in <em>Section B.2.1 MGF1</em> and that has it's own Hash &quot;option&quot; as well.</p>\n<p>Maybe the Hash &quot;option&quot; in RSAES-OAEP-DECRYPT and MGF1 are supposed to be the same or maybe they're not, it is unclear to me. If they are then I guess when you have <code>RSA/ECB/OAEPWITHSHA-256ANDMGF1PADDING</code> that means sha256 should be used for both. But if they're not supposed to be the same then you could have sha256 used for RSAES-OAEP-DECRYPT and, for example, sha1 used for MGF1. And if that's the case then what function is sha256 supposed to be used for? And what hash algorithm is supposed to be used for the other function?</p>\n<p>And what does ECB mean in this context? ECB is a symmetric block cipher mode. Electronic Code Book. Maybe it's supposed to mean how Java deals with plaintext's that are larger than the modulo? Like maybe splits the plaintext into chunks that are as big as the modulo and then encrypts each one with RSA and concatenates them together? I'm just guessing..</p>\n"},{"tags":["java","performance","eclipse-scout"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1675702605,"post_id":75363201,"comment_id":132981397,"body_markdown":"Are you actually loading 10k - 50k rows from the database into some table to display? No wonder that would be slow, and probably hard to use. Look up pagination. If you are asking whether databases can have that may rows, then yes, they easily can, and you&#39;d need to add database name and version as well as table structure details to the question.","body":"Are you actually loading 10k - 50k rows from the database into some table to display? No wonder that would be slow, and probably hard to use. Look up pagination. If you are asking whether databases can have that may rows, then yes, they easily can, and you&#39;d need to add database name and version as well as table structure details to the question."},{"owner":{"account_id":11138059,"reputation":3,"user_id":8175728,"display_name":"Giorgio Piangatelli"},"score":0,"creation_date":1675759379,"post_id":75363201,"comment_id":132992605,"body_markdown":"Thanks for the comment, unfortunately Scout Java&#39;s Table Page, does not support pagination.","body":"Thanks for the comment, unfortunately Scout Java&#39;s Table Page, does not support pagination."}],"answers":[{"tags":[],"owner":{"account_id":27903489,"reputation":16,"user_id":21307240,"display_name":"kadom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677617474,"creation_date":1677617474,"answer_id":75597173,"question_id":75363201,"body_markdown":"The SqlService helper classes use reflection a lot. This is why they can be very inefficient in these cases.\r\nI gained a ~70% time improvement by changing from \r\n```\r\n\t\tSQL.selectInto(sqlString, new NVPair(&quot;page&quot;, pageData));\r\n```\r\nto\r\n```\r\n\t\tObject[][] result = SQL.select(sqlString);\r\n\t\tfor (Object[] line : result) {\r\n\t\t\tPersonTableRowData row = new PersonTableRowData();\r\n\t\t\tif (line[0]!=null) row.setId((Long)line[0]);\r\n\t\t\tif (line[1]!=null) row.setName((String)line[1]);\r\n\t\t\tif (line[2]!=null) row.setPhone((String)line[2]);\r\n            // ....\r\n\r\n\t\t\tpageData.addRow(row);\r\n\t\t}\r\n```\r\n\r\nOf course you loose flexibility here, like when changing the model you also have to your code here.","title":"Eclipse scout performance","body":"<p>The SqlService helper classes use reflection a lot. This is why they can be very inefficient in these cases.\nI gained a ~70% time improvement by changing from</p>\n<pre><code>        SQL.selectInto(sqlString, new NVPair(&quot;page&quot;, pageData));\n</code></pre>\n<p>to</p>\n<pre><code>        Object[][] result = SQL.select(sqlString);\n        for (Object[] line : result) {\n            PersonTableRowData row = new PersonTableRowData();\n            if (line[0]!=null) row.setId((Long)line[0]);\n            if (line[1]!=null) row.setName((String)line[1]);\n            if (line[2]!=null) row.setPhone((String)line[2]);\n            // ....\n\n            pageData.addRow(row);\n        }\n</code></pre>\n<p>Of course you loose flexibility here, like when changing the model you also have to your code here.</p>\n"}],"owner":{"account_id":11138059,"reputation":3,"user_id":8175728,"display_name":"Giorgio Piangatelli"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75597173,"answer_count":1,"score":0,"last_activity_date":1677617474,"creation_date":1675696760,"question_id":75363201,"body_markdown":"Good morning,\r\nI&#39;m using Scout Java version framework, with Oracle Java 17 e Tomcat 9.0.70 on Debian 11, when populating tables, TablePage, with many rows, 10,000-50,000 or more, from Postgresql database, cpu usage by Java, exceeds 100% and execution is slow.\r\n\r\nI&#39;ve made many attempts to optimize both Java and Tomcat with little success.\r\n\r\nWith ScoutJS, do I solve the problem?\r\nOr at least get a performance boost?\r\n\r\nAny suggestions are welcome.\r\n\r\nThanks for the attention.","title":"Eclipse scout performance","body":"<p>Good morning,\nI'm using Scout Java version framework, with Oracle Java 17 e Tomcat 9.0.70 on Debian 11, when populating tables, TablePage, with many rows, 10,000-50,000 or more, from Postgresql database, cpu usage by Java, exceeds 100% and execution is slow.</p>\n<p>I've made many attempts to optimize both Java and Tomcat with little success.</p>\n<p>With ScoutJS, do I solve the problem?\nOr at least get a performance boost?</p>\n<p>Any suggestions are welcome.</p>\n<p>Thanks for the attention.</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677616661,"creation_date":1677616661,"answer_id":75597059,"question_id":75596347,"body_markdown":"Kafka maintains 2 pointers, committed offset and current position; they are unrelated, except that the position is set to the committed offset when a consumer first starts.\r\n\r\nNot acknowledging a record will not cause it to be redelivered because the position doesn&#39;t change.\r\n\r\nYou are catching the exceptions.\r\n\r\nYou need to throw the exception to the container; the default error handler will perform a seek to reposition the partition and redeliver the record.\r\n\r\nSee the documentation for Spring for Apache Kafka.\r\n\r\nhttps://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling","title":"Kafka Consumer not retrying a message that has been failed to process","body":"<p>Kafka maintains 2 pointers, committed offset and current position; they are unrelated, except that the position is set to the committed offset when a consumer first starts.</p>\n<p>Not acknowledging a record will not cause it to be redelivered because the position doesn't change.</p>\n<p>You are catching the exceptions.</p>\n<p>You need to throw the exception to the container; the default error handler will perform a seek to reposition the partition and redeliver the record.</p>\n<p>See the documentation for Spring for Apache Kafka.</p>\n<p><a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#annotation-error-handling</a></p>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":460,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75597059,"answer_count":1,"score":1,"last_activity_date":1677616661,"creation_date":1677611485,"question_id":75596347,"body_markdown":"I am writing a kafka consumer.I have set the Acknowledged property to manual. So whenever consumer failed to process the message I don&#39;t do ack. Now I want the consumer to process this failed message immediately, but it doesn&#39;t.\r\n\r\nThis is my consumer config class looks like.\r\n\r\n```\r\n    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAPSERVERS);\r\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;${crmdsforecast.judjement-consumer-groupId}&quot;);\r\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\r\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot; );\r\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\r\n        \r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\r\n    }\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        factory.setConsumerFactory(consumerFactory());\r\n        factory.getContainerProperties().setAckOnError(false);\r\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((record, exception) -&gt; {\r\n            System.out.println(&quot;Error while processing the record {}&quot;+  exception.getCause().getMessage());\r\n        }, new FixedBackOff(3000L, 2L));\r\n        factory.setErrorHandler(errorHandler);\r\n        \r\n        return factory;\r\n    }\r\n```\r\n\r\nMy Consumer method looks like this.\r\n```\r\n    @KafkaListener( containerFactory = &quot;kafkaListenerContainerFactory&quot;,id = &quot;${id}&quot;, topics = &quot;${topicname}&quot;)\r\n    public void consume(String message,Acknowledgment acknowledgment){\r\n        Dto payload = new Dto();\r\n        try{\r\n            payload = payloadDeserializer.convertIntoDtoObject(message);\r\n            \r\n            if(payload != null)\r\n                //Do Something;\r\n            \r\n            acknowledgment.acknowledge();\r\n        }\r\n        catch(JsonProcessingException e){\r\n            log.error(&quot;Error occured while Deserializing the String input {}&quot;,message);\r\n            acknowledgment.acknowledge();\r\n        }\r\n        catch(Exception e){\r\n            log.error(&quot;Some error occured while updating revenueLines {}&quot;,e.getMessage());\r\n            //Here I expect that if error comes consumer should reread the message.\r\n        }\r\n    }\r\n```\r\n\r\n\r\nI tried multiple solution including `SeekToCurrentBatchErrorHandler`. I changed the containerFactory method to below. \r\n\r\n```\r\n    @Bean\r\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\r\n   \r\n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\r\n        SeekToCurrentBatchErrorHandler errorHandler = new SeekToCurrentBatchErrorHandler();\r\n        errorHandler.setBackOff( new ExponentialBackOff(500L, 2L));\r\n        factory.setBatchErrorHandler(errorHandler);\r\n        factory.setBatchListener(true);\r\n        factory.setConsumerFactory(consumerFactory());\r\n        \r\n        return factory;\r\n    }\r\n```\r\n\r\nI also tried using `DefaultErrorHandler` but creating separate bean and setting up commonErrorHandler but it didn&#39;t work.\r\n\r\n```\r\n    @Bean\r\n    public DefaultErrorHandler errorHandler() {\r\n        BackOff fixedBackOff = new FixedBackOff(1000, 3);\r\n        DefaultErrorHandler errorHandler = new DefaultErrorHandler((consumerRecord, e) -&gt; {\r\n            System.out.println(String.format(&quot;consumed record %s because this exception was thrown&quot;,consumerRecord.toString(),e.getClass().getName()));\r\n        }, fixedBackOff);\r\n        errorHandler.addNotRetryableExceptions(NullPointerException.class);\r\n        return errorHandler;\r\n    }\r\n```\r\n\r\nCan anyone helps with this ?","title":"Kafka Consumer not retrying a message that has been failed to process","body":"<p>I am writing a kafka consumer.I have set the Acknowledged property to manual. So whenever consumer failed to process the message I don't do ack. Now I want the consumer to process this failed message immediately, but it doesn't.</p>\n<p>This is my consumer config class looks like.</p>\n<pre><code>    public ConsumerFactory&lt;String, String&gt; consumerFactory() {\n        Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n        props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, BOOTSTRAPSERVERS);\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;${crmdsforecast.judjement-consumer-groupId}&quot;);\n        props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n        props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,StringDeserializer.class);\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG,&quot;earliest&quot; );\n        props.put(ConsumerConfig.ENABLE_AUTO_COMMIT_CONFIG, false);\n        \n        return new DefaultKafkaConsumerFactory&lt;&gt;(props);\n    }\n\n    @Bean\n    @ConditionalOnMissingBean(name = &quot;kafkaListenerContainerFactory&quot;)\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n   \n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        factory.setConsumerFactory(consumerFactory());\n        factory.getContainerProperties().setAckOnError(false);\n        SeekToCurrentErrorHandler errorHandler = new SeekToCurrentErrorHandler((record, exception) -&gt; {\n            System.out.println(&quot;Error while processing the record {}&quot;+  exception.getCause().getMessage());\n        }, new FixedBackOff(3000L, 2L));\n        factory.setErrorHandler(errorHandler);\n        \n        return factory;\n    }\n</code></pre>\n<p>My Consumer method looks like this.</p>\n<pre><code>    @KafkaListener( containerFactory = &quot;kafkaListenerContainerFactory&quot;,id = &quot;${id}&quot;, topics = &quot;${topicname}&quot;)\n    public void consume(String message,Acknowledgment acknowledgment){\n        Dto payload = new Dto();\n        try{\n            payload = payloadDeserializer.convertIntoDtoObject(message);\n            \n            if(payload != null)\n                //Do Something;\n            \n            acknowledgment.acknowledge();\n        }\n        catch(JsonProcessingException e){\n            log.error(&quot;Error occured while Deserializing the String input {}&quot;,message);\n            acknowledgment.acknowledge();\n        }\n        catch(Exception e){\n            log.error(&quot;Some error occured while updating revenueLines {}&quot;,e.getMessage());\n            //Here I expect that if error comes consumer should reread the message.\n        }\n    }\n</code></pre>\n<p>I tried multiple solution including <code>SeekToCurrentBatchErrorHandler</code>. I changed the containerFactory method to below.</p>\n<pre><code>    @Bean\n    public ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; kafkaListenerContainerFactory() {\n   \n        ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.getContainerProperties().setAckMode(ContainerProperties.AckMode.MANUAL_IMMEDIATE);\n        SeekToCurrentBatchErrorHandler errorHandler = new SeekToCurrentBatchErrorHandler();\n        errorHandler.setBackOff( new ExponentialBackOff(500L, 2L));\n        factory.setBatchErrorHandler(errorHandler);\n        factory.setBatchListener(true);\n        factory.setConsumerFactory(consumerFactory());\n        \n        return factory;\n    }\n</code></pre>\n<p>I also tried using <code>DefaultErrorHandler</code> but creating separate bean and setting up commonErrorHandler but it didn't work.</p>\n<pre><code>    @Bean\n    public DefaultErrorHandler errorHandler() {\n        BackOff fixedBackOff = new FixedBackOff(1000, 3);\n        DefaultErrorHandler errorHandler = new DefaultErrorHandler((consumerRecord, e) -&gt; {\n            System.out.println(String.format(&quot;consumed record %s because this exception was thrown&quot;,consumerRecord.toString(),e.getClass().getName()));\n        }, fixedBackOff);\n        errorHandler.addNotRetryableExceptions(NullPointerException.class);\n        return errorHandler;\n    }\n</code></pre>\n<p>Can anyone helps with this ?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1082198,"reputation":65,"user_id":1078867,"display_name":"Hossain Cyrus"},"score":0,"creation_date":1677615693,"post_id":75596833,"comment_id":133372379,"body_markdown":"you could have directly injected the constructor argument using @Value. Is there any particular reason why you are creating the Component using @Bean? Spring will take care of creating the CustomLogger bean and you can autowire it anywhere you like.","body":"you could have directly injected the constructor argument using @Value. Is there any particular reason why you are creating the Component using @Bean? Spring will take care of creating the CustomLogger bean and you can autowire it anywhere you like."},{"owner":{"account_id":3594779,"reputation":345,"user_id":2999870,"accept_rate":50,"display_name":"user2999870"},"score":0,"creation_date":1677616028,"post_id":75596833,"comment_id":133372474,"body_markdown":"@HossainCyrus CustomLogger will turned be a library that will be used by a couple of projects. So, I am not injecting into that class since I will be importing it into different projects.","body":"@HossainCyrus CustomLogger will turned be a library that will be used by a couple of projects. So, I am not injecting into that class since I will be importing it into different projects."}],"answers":[{"tags":[],"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677616385,"creation_date":1677616385,"answer_id":75597019,"question_id":75596833,"body_markdown":"This error is caused by the `CustomLogger` component.  By annotating this class as `@Component`, Spring is trying to create the bean but doesn&#39;t have a value it can inject in the constructor.  Since it appears that you have this value defined as a property, modify your `CustomLogger` component to look like this:\r\n\r\n    @Component\r\n    public class CustomLogger {\r\n      @Value(&quot;${my-env}&quot;)\r\n      private String env;\r\n\r\n      public CustomLogger() {}\r\n    }\r\n\r\nOr, since you&#39;re also constructing this bean in a configuration class, just drop `@Component` from `CustomLogger`","title":"Spring app error: expected at least 1 bean which qualifies as autowire candidate for this dependency","body":"<p>This error is caused by the <code>CustomLogger</code> component.  By annotating this class as <code>@Component</code>, Spring is trying to create the bean but doesn't have a value it can inject in the constructor.  Since it appears that you have this value defined as a property, modify your <code>CustomLogger</code> component to look like this:</p>\n<pre><code>@Component\npublic class CustomLogger {\n  @Value(&quot;${my-env}&quot;)\n  private String env;\n\n  public CustomLogger() {}\n}\n</code></pre>\n<p>Or, since you're also constructing this bean in a configuration class, just drop <code>@Component</code> from <code>CustomLogger</code></p>\n"}],"owner":{"account_id":3594779,"reputation":345,"user_id":2999870,"accept_rate":50,"display_name":"user2999870"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75597019,"answer_count":1,"score":0,"last_activity_date":1677616385,"creation_date":1677615034,"question_id":75596833,"body_markdown":"I am getting this error when I am trying to incorporate a Bean and Autowired for a custom logger for my spring project. Any help would be appreciated.\r\n\r\nCustomLogger.java:\r\n```\r\n@Component\r\npublic class CustomLogger {\r\n    public CustomLogger(String env) {}\r\n}\r\n// ... public void methods here\r\n```\r\n\r\nLoggerConfig.java:\r\n```\r\n@Configuration\r\npublic class LoggerConfig {\r\n    @Value(&quot;${my-env}&quot;)\r\n    String env;\r\n\r\n    @Bean\r\n    public CustomLogger myLogger {\r\n        return new CustomLogger(env);\r\n    }\r\n}\r\n```\r\n\r\nController.java:\r\n```\r\n@RestController\r\npublic class Controller {\r\n    @Autowired private CustomLogger myLogger; // Trying to inject object created in LoggerConfig class\r\n// GET mappings\r\n}\r\n```\r\n\r\nError:\r\n```Unsatisified dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.lang.Stirng&#39; available: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}```","title":"Spring app error: expected at least 1 bean which qualifies as autowire candidate for this dependency","body":"<p>I am getting this error when I am trying to incorporate a Bean and Autowired for a custom logger for my spring project. Any help would be appreciated.</p>\n<p>CustomLogger.java:</p>\n<pre><code>@Component\npublic class CustomLogger {\n    public CustomLogger(String env) {}\n}\n// ... public void methods here\n</code></pre>\n<p>LoggerConfig.java:</p>\n<pre><code>@Configuration\npublic class LoggerConfig {\n    @Value(&quot;${my-env}&quot;)\n    String env;\n\n    @Bean\n    public CustomLogger myLogger {\n        return new CustomLogger(env);\n    }\n}\n</code></pre>\n<p>Controller.java:</p>\n<pre><code>@RestController\npublic class Controller {\n    @Autowired private CustomLogger myLogger; // Trying to inject object created in LoggerConfig class\n// GET mappings\n}\n</code></pre>\n<p>Error:\n<code>Unsatisified dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.lang.Stirng' available: expected at least 1 bean which qualifies as autowire candidate for this dependency. Dependency annotations: {}</code></p>\n"},{"tags":["java","maven","fork","maven-surefire-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677621746,"post_id":75597004,"comment_id":133373852,"body_markdown":"Which version of maven-failsafe-plugin do you use? Why have you changed `&lt;reportsDirectory&gt;`??? stick with the conventions...","body":"Which version of maven-failsafe-plugin do you use? Why have you changed <code>&lt;reportsDirectory&gt;</code>??? stick with the conventions..."},{"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"score":0,"creation_date":1677691622,"post_id":75597004,"comment_id":133389441,"body_markdown":"@khmarbaise changed the reportsDirectory because as said I dont wanna use the target folder but a custom output folder","body":"@khmarbaise changed the reportsDirectory because as said I dont wanna use the target folder but a custom output folder"}],"owner":{"account_id":13726796,"reputation":325,"user_id":9905346,"display_name":"marialadelbario"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677616255,"creation_date":1677616255,"question_id":75597004,"body_markdown":"Hello everybody :) I am interested in running my maven tests in 8 forks because I have thousands of tests and it takes literally more than 6h hours to run them sequentially. I have therefore introduced the following configuration:\r\n\r\n    &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;excludedGroups&gt;${it.test.excludedGroups}&lt;/excludedGroups&gt;\r\n                  &lt;groups&gt;${it.test.includedGroups}&lt;/groups&gt;\r\n                  &lt;forkCount&gt;8&lt;/forkCount&gt;\r\n                  &lt;reuseForks&gt;true&lt;/reuseForks&gt;\r\n                  &lt;reportsDirectory&gt;ghatarget/failsafe-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                  &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                      &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n              &lt;/plugin&gt;\r\n\r\nHowever, when checking my maven tests I see the following error in every individual test but it doesnt log any meaningful error explaining why this error is being thrown:\r\n\r\n    at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:228)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\r\n    \tat org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:131)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\r\n    \tat org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\r\n\r\nWould anyone maybe have an idea? I am really clueless as to what I am doing wrong. Could it been that I need some additional configuration? Thanks in advance :)\r\n","title":"Enabling maven surefire forkCount fails in at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)","body":"<p>Hello everybody :) I am interested in running my maven tests in 8 forks because I have thousands of tests and it takes literally more than 6h hours to run them sequentially. I have therefore introduced the following configuration:</p>\n<pre><code>&lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n              &lt;excludedGroups&gt;${it.test.excludedGroups}&lt;/excludedGroups&gt;\n              &lt;groups&gt;${it.test.includedGroups}&lt;/groups&gt;\n              &lt;forkCount&gt;8&lt;/forkCount&gt;\n              &lt;reuseForks&gt;true&lt;/reuseForks&gt;\n              &lt;reportsDirectory&gt;ghatarget/failsafe-reports/${surefire.forkNumber}&lt;/reportsDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n              &lt;execution&gt;\n                &lt;goals&gt;\n                  &lt;goal&gt;integration-test&lt;/goal&gt;\n                  &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n              &lt;/execution&gt;\n            &lt;/executions&gt;\n          &lt;/plugin&gt;\n</code></pre>\n<p>However, when checking my maven tests I see the following error in every individual test but it doesnt log any meaningful error explaining why this error is being thrown:</p>\n<pre><code>at java.base/java.util.Iterator.forEachRemaining(Iterator.java:133)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.execute(JUnitPlatformProvider.java:228)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invokeAllTests(JUnitPlatformProvider.java:175)\n    at org.apache.maven.surefire.junitplatform.JUnitPlatformProvider.invoke(JUnitPlatformProvider.java:131)\n    at org.apache.maven.surefire.booter.ForkedBooter.runSuitesInProcess(ForkedBooter.java:456)\n    at org.apache.maven.surefire.booter.ForkedBooter.execute(ForkedBooter.java:169)\n    at org.apache.maven.surefire.booter.ForkedBooter.run(ForkedBooter.java:595)\n    at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:581)\n</code></pre>\n<p>Would anyone maybe have an idea? I am really clueless as to what I am doing wrong. Could it been that I need some additional configuration? Thanks in advance :)</p>\n"},{"tags":["java","android","flutter","kotlin"],"comments":[{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677614345,"post_id":75596615,"comment_id":133372013,"body_markdown":"Reminder that asking for [tutorials is off-topic](https://stackoverflow.com/help/on-topic). That said you may want to go through the Flutter codelab on [How to write at Flutter plugin](https://codelabs.developers.google.com/codelabs/write-flutter-plugin?hl=en#0) and review [Flutter platform channels](https://docs.flutter.dev/development/platform-integration/platform-channels)","body":"Reminder that asking for <a href=\"https://stackoverflow.com/help/on-topic\">tutorials is off-topic</a>. That said you may want to go through the Flutter codelab on <a href=\"https://codelabs.developers.google.com/codelabs/write-flutter-plugin?hl=en#0\" rel=\"nofollow noreferrer\">How to write at Flutter plugin</a> and review <a href=\"https://docs.flutter.dev/development/platform-integration/platform-channels\" rel=\"nofollow noreferrer\">Flutter platform channels</a>"},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":0,"creation_date":1677614532,"post_id":75596615,"comment_id":133372077,"body_markdown":"@MorrisonChang I&#39;m not asking for a tutorial. I&#39;ll re-write the question to be more specific","body":"@MorrisonChang I&#39;m not asking for a tutorial. I&#39;ll re-write the question to be more specific"},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":0,"creation_date":1677614905,"post_id":75596615,"comment_id":133372169,"body_markdown":"If you are new to Android/Flutter, I would start with a Hello World Android app written in Java/Kotlin to access the Honeywell SDK methods. The doc if you scroll down appears to have an example. Once you understand what is required to get it working with Java/Kotlin then you can go through the links in my prior comment to get the Flutter side connected.","body":"If you are new to Android/Flutter, I would start with a Hello World Android app written in Java/Kotlin to access the Honeywell SDK methods. The doc if you scroll down appears to have an example. Once you understand what is required to get it working with Java/Kotlin then you can go through the links in my prior comment to get the Flutter side connected."},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":0,"creation_date":1677615297,"post_id":75596615,"comment_id":133372263,"body_markdown":"@MorrisonChang I&#39;m not new to Flutter/Android/Android Studio. I have been working in this space for many years. I simply haven&#39;t ever worked with an external `.jar` file inside a Flutter project, so I just need someone to explain how to start using a `.jar` library inside Flutter.","body":"@MorrisonChang I&#39;m not new to Flutter/Android/Android Studio. I have been working in this space for many years. I simply haven&#39;t ever worked with an external <code>.jar</code> file inside a Flutter project, so I just need someone to explain how to start using a <code>.jar</code> library inside Flutter."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677615456,"post_id":75596615,"comment_id":133372323,"body_markdown":"Here is the thing. You can&#39;t &quot;just put in a `.jar` file&quot;. Flutter is platform agnostic you will need to write a platform channel to hook it up. Flutter doesn&#39;t know what APIs exist on the native Java/Kotlin side which connects to the jar files APIs. If you had a iOS library you would need to do the same thing.","body":"Here is the thing. You can&#39;t &quot;just put in a <code>.jar</code> file&quot;. Flutter is platform agnostic you will need to write a platform channel to hook it up. Flutter doesn&#39;t know what APIs exist on the native Java/Kotlin side which connects to the jar files APIs. If you had a iOS library you would need to do the same thing."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677628770,"post_id":75596615,"comment_id":133375069,"body_markdown":"FYI the annoyance of creating binding between the Java to Dart side is being addressed by [jnigen](https://dart.dev/guides/libraries/java-interop) but still experimental with open lssues like [Support implementing Java interfaces with Dart classes](https://github.com/dart-lang/jnigen/issues/70)","body":"FYI the annoyance of creating binding between the Java to Dart side is being addressed by <a href=\"https://dart.dev/guides/libraries/java-interop\" rel=\"nofollow noreferrer\">jnigen</a> but still experimental with open lssues like <a href=\"https://github.com/dart-lang/jnigen/issues/70\" rel=\"nofollow noreferrer\">Support implementing Java interfaces with Dart classes</a>"},{"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"score":1,"creation_date":1677685340,"post_id":75596615,"comment_id":133387323,"body_markdown":"@MorrisonChang I actually found a flutter honeywell package that someone already wrote! And it works really well! Dropping it here for future readers: https://pub.dev/packages/honeywell_scanner. Thanks for all your help!","body":"@MorrisonChang I actually found a flutter honeywell package that someone already wrote! And it works really well! Dropping it here for future readers: <a href=\"https://pub.dev/packages/honeywell_scanner\" rel=\"nofollow noreferrer\">pub.dev/packages/honeywell_scanner</a>. Thanks for all your help!"}],"owner":{"account_id":6639903,"reputation":493,"user_id":5125921,"accept_rate":47,"display_name":"TheMortiestMorty"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677614621,"creation_date":1677613509,"question_id":75596615,"body_markdown":"On the Honeywell website they provided an Android SDK. I downloaded this SDK and imported the `.jar` file as a dependency in my project. I placed this file inside my project folder in `android/app/libs/Honeywell.jar`. How do I use the `BatteryManager` class? How would I do this in my `main.dart`?\r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ihIkx.png\r\n  [2]: https://i.stack.imgur.com/XVpuZ.png","title":"Flutter: How do I use the BatteryManager class inside this .jar file?","body":"<p>On the Honeywell website they provided an Android SDK. I downloaded this SDK and imported the <code>.jar</code> file as a dependency in my project. I placed this file inside my project folder in <code>android/app/libs/Honeywell.jar</code>. How do I use the <code>BatteryManager</code> class? How would I do this in my <code>main.dart</code>?</p>\n<p><a href=\"https://i.stack.imgur.com/ihIkx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ihIkx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/XVpuZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XVpuZ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","multithreading","project-loom"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679053581,"post_id":75596771,"comment_id":133656068,"body_markdown":"The lack of preemptive task switching between virtual threads may add fuel to the flames but generally, every server will become unresponsive “if enough requests happen to be running CPU-bound code at once”. But submitting CPU intense jobs to any thread pool of your choice still is possible the same way as before. The great thing about the virtual threads is that you can simply `join()` on the task (or use any other form of blocking wait), instead of having to wrench your code into `then…` chains.","body":"The lack of preemptive task switching between virtual threads may add fuel to the flames but generally, every server will become unresponsive “if enough requests happen to be running CPU-bound code at once”. But submitting CPU intense jobs to any thread pool of your choice still is possible the same way as before. The great thing about the virtual threads is that you can simply <code>join()</code> on the task (or use any other form of blocking wait), instead of having to wrench your code into <code>then…</code> chains."}],"owner":{"account_id":4252864,"reputation":63,"user_id":9367377,"display_name":"tsutsu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1677614522,"creation_date":1677614522,"question_id":75596771,"body_markdown":"We have a Jetty webapp with a custom threadpool backed by Java19 virtual threads.\r\n\r\nThe business logic we run in response to a request is usually IO-bound (e.g. DB queries), so virtual threads have been a great win for us, allowing us to have many more IO-bound requests in-flight at once than would be possible using platform threads, while avoiding writing explicitly async code.\r\n\r\nBut some of our requests have CPU-bound computation sections. And if enough requests happen to be running CPU-bound code at once, our whole webapp will lock up and become unresponsive to new requests until one of these requests resolves.\r\n\r\nJava19&#39;s virtual-threading support is apparently implemented by having all virtual threads schedule onto a single JVM-global bounded-size ForkJoinPool backed by N underlying carrier threads.\r\n\r\nThis means that, if I start many virtual threads — and at least N of these threads have some long-running CPU-bound operation as part of them — then as soon as these N threads reach this CPU-bound part, the entire JVM-global virtual thread pool will lock up / become blocked, since all available carrier threads are in use by one of the virtual threads running CPU-bound code.\r\n\r\nWhat would be a best-practice, in designing an app that makes use of virtual threads as the top-level concurrency mechanism, if it has mixed IO-bound/CPU-bound workloads like this?","title":"How do I safely call CPU-bound code from within a Java19 virtual thread?","body":"<p>We have a Jetty webapp with a custom threadpool backed by Java19 virtual threads.</p>\n<p>The business logic we run in response to a request is usually IO-bound (e.g. DB queries), so virtual threads have been a great win for us, allowing us to have many more IO-bound requests in-flight at once than would be possible using platform threads, while avoiding writing explicitly async code.</p>\n<p>But some of our requests have CPU-bound computation sections. And if enough requests happen to be running CPU-bound code at once, our whole webapp will lock up and become unresponsive to new requests until one of these requests resolves.</p>\n<p>Java19's virtual-threading support is apparently implemented by having all virtual threads schedule onto a single JVM-global bounded-size ForkJoinPool backed by N underlying carrier threads.</p>\n<p>This means that, if I start many virtual threads — and at least N of these threads have some long-running CPU-bound operation as part of them — then as soon as these N threads reach this CPU-bound part, the entire JVM-global virtual thread pool will lock up / become blocked, since all available carrier threads are in use by one of the virtual threads running CPU-bound code.</p>\n<p>What would be a best-practice, in designing an app that makes use of virtual threads as the top-level concurrency mechanism, if it has mixed IO-bound/CPU-bound workloads like this?</p>\n"},{"tags":["java","regex","file","cross-platform"],"answers":[{"tags":[],"owner":{"account_id":24127,"reputation":69392,"user_id":61158,"accept_rate":98,"display_name":"akarnokd"},"down_vote_count":1,"up_vote_count":18,"is_accepted":true,"score":17,"last_activity_date":1362482942,"creation_date":1247078512,"answer_id":1099868,"question_id":1099859,"body_markdown":"Use `path.getParentFile()` repeatedly to get all components of a path.\r\n\r\n&lt;strike&gt;Discouraged way would be to `path.replaceAll(&quot;\\\\&quot;, &quot;/&quot;).split(&quot;/&quot;)`.&lt;/strike&gt;\r\n","title":"How to split a path platform independent?","body":"<p>Use <code>path.getParentFile()</code> repeatedly to get all components of a path.</p>\n\n<p><strike>Discouraged way would be to <code>path.replaceAll(\"\\\\\", \"/\").split(\"/\")</code>.</strike></p>\n"},{"tags":[],"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1247083434,"creation_date":1247083434,"answer_id":1100261,"question_id":1099859,"body_markdown":"What about \r\n\r\n    String[] subDirs = path.split(File.separator.replaceAll(&quot;\\\\&quot;, &quot;\\\\\\\\&quot;));\r\n\r\n","title":"How to split a path platform independent?","body":"<p>What about </p>\n\n<pre><code>String[] subDirs = path.split(File.separator.replaceAll(\"\\\\\", \"\\\\\\\\\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":45,"is_accepted":false,"score":45,"last_activity_date":1272534696,"creation_date":1272534696,"answer_id":2736278,"question_id":1099859,"body_markdown":"### Literalizing pattern strings\r\n\r\nWhenever you need to literalize an arbitrary`String` to be used as a regex pattern, use [`Pattern.quote`](http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29):\r\n\r\nFrom the API:\r\n\r\n&gt; `public static String quote(String s)`\r\n&gt;\r\n&gt;Returns a literal pattern `String` for the specified `String`. This method produces a `String` that can be used to create a `Pattern` that would match the string `s` as if it were a literal pattern.\r\nMetacharacters or escape sequences in the input sequence will be given no special meaning. \r\n&gt;\r\n&gt; **Parameters:** `s` - The string to be literalized   \r\n&gt; **Returns:** A literal string replacement\r\n\r\nThis means that you can do the following:\r\n\r\n    String[] subDirs = path.split(Pattern.quote(File.separator));\r\n\r\n---\r\n\r\n### Literalizing replacement strings\r\n\r\nIf you need to literalize an arbitrary replacement `String`, use [`Matcher.quoteReplacement`](http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29).\r\n\r\nFrom the API:\r\n\r\n&gt; `public static String quoteReplacement(String s)`\r\n\r\n&gt; Returns a literal replacement `String` for the specified `String`. This method produces a `String` that will work as a literal replacement `s` in the `appendReplacement` method of the `Matcher` class. The `String` produced will match the sequence of characters in `s` treated as a literal sequence. Slashes (`&#39;\\&#39;`) and dollar signs (`&#39;$&#39;`) will be given no special meaning.\r\n&gt;\r\n&gt; **Parameters:** `s` - The string to be literalized  \r\n&gt; **Returns:** A literal string replacement\r\n\r\nThis quoted replacement `String` is also useful in `String.replaceFirst` and `String.replaceAll`:\r\n\r\n&gt; Note that backslashes (`\\`) and dollar signs (`$`) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string. Use `Matcher.quoteReplacement` to suppress the special meaning of these characters, if desired.\r\n\r\n---\r\n\r\n### Examples\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;O.M.G.&quot;.replaceAll(&quot;.&quot;, &quot;!&quot;)\r\n\t    ); // prints &quot;!!!!!!&quot;\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;O.M.G.&quot;.replaceAll(Pattern.quote(&quot;.&quot;), &quot;!&quot;)\r\n\t    ); // prints &quot;O!M!G!&quot;\r\n\t    \r\n\t    System.out.println(\r\n\t    \t&quot;Microsoft software&quot;.replaceAll(&quot;so&quot;, &quot;$0&quot;)\r\n\t    ); // prints &quot;Microsoft software&quot;\r\n\r\n\t    System.out.println(\r\n\t    \t&quot;Microsoft software&quot;.replaceAll(&quot;so&quot;, Matcher.quoteReplacement(&quot;$0&quot;))\r\n\t    ); // prints &quot;Micro$0ft $0ftware&quot;\r\n","title":"How to split a path platform independent?","body":"<h3>Literalizing pattern strings</h3>\n\n<p>Whenever you need to literalize an arbitrary<code>String</code> to be used as a regex pattern, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Pattern.html#quote%28java.lang.String%29\" rel=\"noreferrer\"><code>Pattern.quote</code></a>:</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><code>public static String quote(String s)</code></p>\n  \n  <p>Returns a literal pattern <code>String</code> for the specified <code>String</code>. This method produces a <code>String</code> that can be used to create a <code>Pattern</code> that would match the string <code>s</code> as if it were a literal pattern.\n  Metacharacters or escape sequences in the input sequence will be given no special meaning. </p>\n  \n  <p><strong>Parameters:</strong> <code>s</code> - The string to be literalized<br>\n  <strong>Returns:</strong> A literal string replacement</p>\n</blockquote>\n\n<p>This means that you can do the following:</p>\n\n<pre><code>String[] subDirs = path.split(Pattern.quote(File.separator));\n</code></pre>\n\n<hr>\n\n<h3>Literalizing replacement strings</h3>\n\n<p>If you need to literalize an arbitrary replacement <code>String</code>, use <a href=\"http://java.sun.com/javase/6/docs/api/java/util/regex/Matcher.html#quoteReplacement%28java.lang.String%29\" rel=\"noreferrer\"><code>Matcher.quoteReplacement</code></a>.</p>\n\n<p>From the API:</p>\n\n<blockquote>\n  <p><code>public static String quoteReplacement(String s)</code></p>\n  \n  <p>Returns a literal replacement <code>String</code> for the specified <code>String</code>. This method produces a <code>String</code> that will work as a literal replacement <code>s</code> in the <code>appendReplacement</code> method of the <code>Matcher</code> class. The <code>String</code> produced will match the sequence of characters in <code>s</code> treated as a literal sequence. Slashes (<code>'\\'</code>) and dollar signs (<code>'$'</code>) will be given no special meaning.</p>\n  \n  <p><strong>Parameters:</strong> <code>s</code> - The string to be literalized<br>\n  <strong>Returns:</strong> A literal string replacement</p>\n</blockquote>\n\n<p>This quoted replacement <code>String</code> is also useful in <code>String.replaceFirst</code> and <code>String.replaceAll</code>:</p>\n\n<blockquote>\n  <p>Note that backslashes (<code>\\</code>) and dollar signs (<code>$</code>) in the replacement string may cause the results to be different than if it were being treated as a literal replacement string. Use <code>Matcher.quoteReplacement</code> to suppress the special meaning of these characters, if desired.</p>\n</blockquote>\n\n<hr>\n\n<h3>Examples</h3>\n\n<pre><code>    System.out.println(\n        \"O.M.G.\".replaceAll(\".\", \"!\")\n    ); // prints \"!!!!!!\"\n\n    System.out.println(\n        \"O.M.G.\".replaceAll(Pattern.quote(\".\"), \"!\")\n    ); // prints \"O!M!G!\"\n\n    System.out.println(\n        \"Microsoft software\".replaceAll(\"so\", \"$0\")\n    ); // prints \"Microsoft software\"\n\n    System.out.println(\n        \"Microsoft software\".replaceAll(\"so\", Matcher.quoteReplacement(\"$0\"))\n    ); // prints \"Micro$0ft $0ftware\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":695155,"reputation":26358,"user_id":274677,"accept_rate":81,"display_name":"Marcus Junius Brutus"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1457449405,"creation_date":1457449405,"answer_id":35870844,"question_id":1099859,"body_markdown":"[java.nio.file.Path][1] implements `Iterable&lt;Path&gt;`, so you can do:\r\n\r\n\r\n    public static void showElements(Path p) {\r\n        List&lt;String&gt; nameElements = new ArrayList&lt;&gt;();\r\n        for (Path nameElement: p)\r\n            nameElements.add(nameElement.toFile().getName());\r\n        System.out.printf(&quot;For this file: [%s], the following elements were found: [%s]\\n&quot;\r\n                          , p.toAbsolutePath()\r\n                          , Joiner.on(&quot;, &quot;).join(nameElements));\r\n    }\r\n\r\nMethods [getNameCount][2] and [getName][3] can be used for a similar purpose.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getNameCount()\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)","title":"How to split a path platform independent?","body":"<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow\">java.nio.file.Path</a> implements <code>Iterable&lt;Path&gt;</code>, so you can do:</p>\n\n<pre><code>public static void showElements(Path p) {\n    List&lt;String&gt; nameElements = new ArrayList&lt;&gt;();\n    for (Path nameElement: p)\n        nameElements.add(nameElement.toFile().getName());\n    System.out.printf(\"For this file: [%s], the following elements were found: [%s]\\n\"\n                      , p.toAbsolutePath()\n                      , Joiner.on(\", \").join(nameElements));\n}\n</code></pre>\n\n<p>Methods <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getNameCount()\" rel=\"nofollow\">getNameCount</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html#getName(int)\" rel=\"nofollow\">getName</a> can be used for a similar purpose.</p>\n"},{"tags":[],"owner":{"account_id":8093013,"reputation":405,"user_id":6098376,"display_name":"alniks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482486098,"creation_date":1482486098,"answer_id":41298877,"question_id":1099859,"body_markdown":"You can use Path interface:\r\n\r\n    Path p = Paths.get(pathStr);\r\n    for (int i = 0; i &lt; p.getNameCount(); i++) {\r\n        String name = p.getName(i).toString();\r\n        //do what you need with name;\r\n    }","title":"How to split a path platform independent?","body":"<p>You can use Path interface:</p>\n\n<pre><code>Path p = Paths.get(pathStr);\nfor (int i = 0; i &lt; p.getNameCount(); i++) {\n    String name = p.getName(i).toString();\n    //do what you need with name;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":123906,"reputation":989,"user_id":318673,"display_name":"sabujp"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1528472177,"creation_date":1528446447,"answer_id":50756470,"question_id":1099859,"body_markdown":"Create an empty list and use forEach to iterate over the path elements inserting each one into the list for later use:\r\n\r\n    List&lt;String&gt; pathElements = new ArrayList&lt;&gt;();\r\n    Paths.get(&quot;/foo/bar/blah/baz&quot;).forEach(p -&gt; pathElements.add(p.toString()))\r\n\r\nAlso, if you need a specific path element use:\r\n\r\n    &lt;pathObject&gt;.getName(&lt;intIndex&gt;).toString() \r\n\r\nwhere `&lt;pathObject&gt;` is returned by a call to `Paths.get()`, and if you need multiple parts of the path returned in a string use:\r\n\r\n    &lt;pathObject&gt;.subPath(&lt;intStart&gt;, &lt;intEnd&gt;).toString()\r\n\r\nYou can get the total number of path elements (for use in `&lt;intEnd&gt;`) with:\r\n\r\n    &lt;pathObject&gt;.getNameCount()\r\n\r\nThere are other useful methods at the Java [Path][1] and [Paths][2] doc pages.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html","title":"How to split a path platform independent?","body":"<p>Create an empty list and use forEach to iterate over the path elements inserting each one into the list for later use:</p>\n\n<pre><code>List&lt;String&gt; pathElements = new ArrayList&lt;&gt;();\nPaths.get(\"/foo/bar/blah/baz\").forEach(p -&gt; pathElements.add(p.toString()))\n</code></pre>\n\n<p>Also, if you need a specific path element use:</p>\n\n<pre><code>&lt;pathObject&gt;.getName(&lt;intIndex&gt;).toString() \n</code></pre>\n\n<p>where <code>&lt;pathObject&gt;</code> is returned by a call to <code>Paths.get()</code>, and if you need multiple parts of the path returned in a string use:</p>\n\n<pre><code>&lt;pathObject&gt;.subPath(&lt;intStart&gt;, &lt;intEnd&gt;).toString()\n</code></pre>\n\n<p>You can get the total number of path elements (for use in <code>&lt;intEnd&gt;</code>) with:</p>\n\n<pre><code>&lt;pathObject&gt;.getNameCount()\n</code></pre>\n\n<p>There are other useful methods at the Java <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\" rel=\"nofollow noreferrer\">Path</a> and <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\">Paths</a> doc pages.</p>\n"}],"owner":{"account_id":39531,"reputation":187638,"user_id":114066,"accept_rate":90,"display_name":"Janusz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44507,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":1099868,"answer_count":6,"score":21,"last_activity_date":1677614484,"creation_date":1247078424,"question_id":1099859,"body_markdown":"I&#39;m using the following code to get an array with all sub directories from a given path. \r\n\r\n    String[] subDirs = path.split(File.separator); \r\n\r\nI need the array to check if certain folders are at the right place in this path.\r\nThis looked like a good solution until findBugs complains that File.separator is used as a regular expression. It seems that passing the windows file separator to a function that is building a regex from it is a bad idea because the backslash being an escape character. \r\n\r\nHow can I split the path in a cross platform way without using File.separator? \r\nOr is code like this okay?\r\n\r\n    String[] subDirs = path.split(&quot;/&quot;); \r\n","title":"How to split a path platform independent?","body":"<p>I'm using the following code to get an array with all sub directories from a given path. </p>\n\n<pre><code>String[] subDirs = path.split(File.separator); \n</code></pre>\n\n<p>I need the array to check if certain folders are at the right place in this path.\nThis looked like a good solution until findBugs complains that File.separator is used as a regular expression. It seems that passing the windows file separator to a function that is building a regex from it is a bad idea because the backslash being an escape character. </p>\n\n<p>How can I split the path in a cross platform way without using File.separator? \nOr is code like this okay?</p>\n\n<pre><code>String[] subDirs = path.split(\"/\"); \n</code></pre>\n"},{"tags":["java","spring","hibernate"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1677622211,"post_id":75596762,"comment_id":133373963,"body_markdown":"By the way, `LocalDateTime` is the wrong class to record creation &amp; update timestamps. That class lacks the context of a time zone or offset-from-UTC. So that class cannot represent a moment, is not a point on the timeline. Use `java.time.Instant` instead.","body":"By the way, <code>LocalDateTime</code> is the wrong class to record creation &amp; update timestamps. That class lacks the context of a time zone or offset-from-UTC. So that class cannot represent a moment, is not a point on the timeline. Use <code>java.time.Instant</code> instead."}],"owner":{"account_id":27903170,"reputation":1,"user_id":21307005,"display_name":"lukke"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677614457,"creation_date":1677614457,"question_id":75596762,"body_markdown":"I&#39;m using orm.xml file to map JPA entities.\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@MappedSuperclass\r\npublic abstract class BaseClass {\r\n    @Column(updatable = false)\r\n    @CreationTimestamp\r\n    private LocalDateTime createdAt;\r\n    @UpdateTimestamp\r\n    private LocalDateTime updatedAt;\r\n}\r\n```\r\n\r\n```\r\npublic class Person extends BaseClass {\r\n    private Long id;\r\n    private String name;\r\n    private String firstName;\r\n    private LocalDateTime createdAt;\r\n    private LocalDateTime updatedAt;\r\n```\r\n\r\n\r\nI want to remove adnotations in BaseClass, any idea how to write @CreationTimestamp and @UpdateTimestamp in orm file?","title":"creationtimestamp addnotation in orm hibernate file","body":"<p>I'm using orm.xml file to map JPA entities.</p>\n<pre><code>@Getter\n@Setter\n@MappedSuperclass\npublic abstract class BaseClass {\n    @Column(updatable = false)\n    @CreationTimestamp\n    private LocalDateTime createdAt;\n    @UpdateTimestamp\n    private LocalDateTime updatedAt;\n}\n</code></pre>\n<pre><code>public class Person extends BaseClass {\n    private Long id;\n    private String name;\n    private String firstName;\n    private LocalDateTime createdAt;\n    private LocalDateTime updatedAt;\n</code></pre>\n<p>I want to remove adnotations in BaseClass, any idea how to write @CreationTimestamp and @UpdateTimestamp in orm file?</p>\n"},{"tags":["java","java-stream","guava"],"comments":[{"owner":{"account_id":26204,"reputation":1685,"user_id":67957,"accept_rate":80,"display_name":"Scott B"},"score":6,"creation_date":1427128300,"post_id":23003542,"comment_id":46640215,"body_markdown":"This is not a duplicate as the other question is indexing the Foo&#39;s by a property of theirs that is an arrays (Tags) instead of a property with a single value (id)","body":"This is not a duplicate as the other question is indexing the Foo&#39;s by a property of theirs that is an arrays (Tags) instead of a property with a single value (id)"},{"owner":{"account_id":1617870,"reputation":1130,"user_id":1495050,"display_name":"Daniel Bickler"},"score":9,"creation_date":1499442994,"post_id":23003542,"comment_id":76925312,"body_markdown":"As of Guava 21.0, there is a builtin [Multimaps#toMultimap](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#toMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-) and [flatteningToMultimap](https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#flatteningToMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-) methods that return collectors.","body":"As of Guava 21.0, there is a builtin <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#toMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">Multimaps#toMultimap</a> and <a href=\"https://google.github.io/guava/releases/21.0/api/docs/com/google/common/collect/Multimaps.html#flatteningToMultimap-java.util.function.Function-java.util.function.Function-java.util.function.Supplier-\" rel=\"nofollow noreferrer\">flatteningToMultimap</a> methods that return collectors."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1600451568,"post_id":23003542,"comment_id":113103123,"body_markdown":"Voting to reopen, as this is not a duplicate of the linked question.  This one is a straightforward use of the API (as mentioned in the accepted answer), while the other is more about transforming and flat mapping the values and not really about the actual collection itself.","body":"Voting to reopen, as this is not a duplicate of the linked question.  This one is a straightforward use of the API (as mentioned in the accepted answer), while the other is more about transforming and flat mapping the values and not really about the actual collection itself."},{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1626716343,"post_id":23003542,"comment_id":120963113,"body_markdown":"@DanielBickler Now that answers can be posted again since this question has been re-opened, I&#39;ve expanded your comment into a full answer: https://stackoverflow.com/a/68443128/1108305","body":"@DanielBickler Now that answers can be posted again since this question has been re-opened, I&#39;ve expanded your comment into a full answer: <a href=\"https://stackoverflow.com/a/68443128/1108305\">stackoverflow.com/a/68443128/1108305</a>"}],"answers":[{"tags":[],"owner":{"account_id":60971,"reputation":1988,"user_id":181913,"accept_rate":82,"display_name":"Burg"},"down_vote_count":1,"up_vote_count":120,"is_accepted":true,"score":119,"last_activity_date":1636351774,"creation_date":1397191170,"answer_id":23003630,"question_id":23003542,"body_markdown":"You can just use the Guava [`Multimaps`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html) factory:\r\n\r\n```lang-java\r\nImmutableMultimap&lt;String, Foo&gt; foosById = Multimaps.index(foos, Foo::getId);\r\n```\r\n\r\nor wrap a call to [`Multimaps.index`](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-) with a `Collector&lt;T, A, R&gt;` interface (shown below, in an unoptimized naive implementation).\r\n\r\n```lang-java\r\nMultimap&lt;String, Foo&gt; collect = foos.stream()\r\n        .collect(MultimapCollector.toMultimap(Foo::getId));\r\n```\r\n\r\nand the `Collector`:\r\n\r\n```lang-java\r\npublic class MultimapCollector&lt;T, K, V&gt; implements Collector&lt;T, Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; {\r\n\r\n\tprivate final Function&lt;T, K&gt; keyGetter;\r\n\tprivate final Function&lt;T, V&gt; valueGetter;\r\n\r\n\tpublic MultimapCollector(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\r\n\t\tthis.keyGetter = keyGetter;\r\n\t\tthis.valueGetter = valueGetter;\r\n\t}\r\n\r\n\tpublic static &lt;T, K, V&gt; MultimapCollector&lt;T, K, V&gt; toMultimap(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\r\n\t\treturn new MultimapCollector&lt;&gt;(keyGetter, valueGetter);\r\n\t}\r\n\r\n\tpublic static &lt;T, K, V&gt; MultimapCollector&lt;T, K, T&gt; toMultimap(Function&lt;T, K&gt; keyGetter) {\r\n\t\treturn new MultimapCollector&lt;&gt;(keyGetter, v -&gt; v);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Supplier&lt;Multimap&lt;K, V&gt;&gt; supplier() {\r\n\t\treturn ArrayListMultimap::create;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BiConsumer&lt;Multimap&lt;K, V&gt;, T&gt; accumulator() {\r\n\t\treturn (map, element) -&gt; map.put(keyGetter.apply(element), valueGetter.apply(element));\r\n\t}\r\n\r\n\t@Override\r\n\tpublic BinaryOperator&lt;Multimap&lt;K, V&gt;&gt; combiner() {\r\n\t\treturn (map1, map2) -&gt; {\r\n\t\t\tmap1.putAll(map2);\r\n\t\t\treturn map1;\r\n\t\t};\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Function&lt;Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; finisher() {\r\n\t\treturn map -&gt; map;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Set&lt;Characteristics&gt; characteristics() {\r\n\t\treturn ImmutableSet.of(Characteristics.IDENTITY_FINISH);\r\n\t}\r\n}\r\n```","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>You can just use the Guava <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html\" rel=\"noreferrer\"><code>Multimaps</code></a> factory:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableMultimap&lt;String, Foo&gt; foosById = Multimaps.index(foos, Foo::getId);\n</code></pre>\n<p>or wrap a call to <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/Multimaps.html#index-java.lang.Iterable-com.google.common.base.Function-\" rel=\"noreferrer\"><code>Multimaps.index</code></a> with a <code>Collector&lt;T, A, R&gt;</code> interface (shown below, in an unoptimized naive implementation).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Multimap&lt;String, Foo&gt; collect = foos.stream()\n        .collect(MultimapCollector.toMultimap(Foo::getId));\n</code></pre>\n<p>and the <code>Collector</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MultimapCollector&lt;T, K, V&gt; implements Collector&lt;T, Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; {\n\n    private final Function&lt;T, K&gt; keyGetter;\n    private final Function&lt;T, V&gt; valueGetter;\n\n    public MultimapCollector(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\n        this.keyGetter = keyGetter;\n        this.valueGetter = valueGetter;\n    }\n\n    public static &lt;T, K, V&gt; MultimapCollector&lt;T, K, V&gt; toMultimap(Function&lt;T, K&gt; keyGetter, Function&lt;T, V&gt; valueGetter) {\n        return new MultimapCollector&lt;&gt;(keyGetter, valueGetter);\n    }\n\n    public static &lt;T, K, V&gt; MultimapCollector&lt;T, K, T&gt; toMultimap(Function&lt;T, K&gt; keyGetter) {\n        return new MultimapCollector&lt;&gt;(keyGetter, v -&gt; v);\n    }\n\n    @Override\n    public Supplier&lt;Multimap&lt;K, V&gt;&gt; supplier() {\n        return ArrayListMultimap::create;\n    }\n\n    @Override\n    public BiConsumer&lt;Multimap&lt;K, V&gt;, T&gt; accumulator() {\n        return (map, element) -&gt; map.put(keyGetter.apply(element), valueGetter.apply(element));\n    }\n\n    @Override\n    public BinaryOperator&lt;Multimap&lt;K, V&gt;&gt; combiner() {\n        return (map1, map2) -&gt; {\n            map1.putAll(map2);\n            return map1;\n        };\n    }\n\n    @Override\n    public Function&lt;Multimap&lt;K, V&gt;, Multimap&lt;K, V&gt;&gt; finisher() {\n        return map -&gt; map;\n    }\n\n    @Override\n    public Set&lt;Characteristics&gt; characteristics() {\n        return ImmutableSet.of(Characteristics.IDENTITY_FINISH);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1677613639,"creation_date":1626708442,"answer_id":68443128,"question_id":23003542,"body_markdown":"Guava 21.0 introduced several methods that return [`Collector`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html) instances which will convert a `Stream` into a `Multimap` grouped by the result of applying a function to its elements.  These methods are:\r\n\r\n| Method | Result |\r\n| --- | --- |\r\n| [`ImmutableListMultimap.toImmutableListMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)) | [`ImmutableListMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)) |\r\n| [`ImmutableSetMultimap.toImmutableSetMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html#toImmutableSetMultimap(java.util.function.Function,java.util.function.Function)) |&#160;[`ImmutableSetMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html) |\r\n| [`Multimaps.toMultimap`](https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html#toMultimap(java.util.function.Function,java.util.function.Function,java.util.function.Supplier)) | Value returned by the provided [`Supplier`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html) |\r\n\r\n```lang-java\r\nImmutableListMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        ImmutableListMultimap.toImmutableListMultimap(\r\n                Foo::getId, Function.identity()));\r\n```\r\n\r\n```lang-java\r\nImmutableSetMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        ImmutableSetMultimap.toImmutableSetMultimap(\r\n                Foo::getId, Function.identity()));\r\n```\r\n\r\n```lang-java\r\nHashMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\r\n        Multimaps.toMultimap(\r\n                Foo::getId, Function.identity(), HashMultimap::create)\r\n);\r\n```\r\n","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>Guava 21.0 introduced several methods that return <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Collector.html\" rel=\"noreferrer\"><code>Collector</code></a> instances which will convert a <code>Stream</code> into a <code>Multimap</code> grouped by the result of applying a function to its elements.  These methods are:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Method</th>\n<th>Result</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableListMultimap.toImmutableListMultimap</code></a></td>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableListMultimap.html#toImmutableListMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableListMultimap</code></a></td>\n</tr>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html#toImmutableSetMultimap(java.util.function.Function,java.util.function.Function)\" rel=\"noreferrer\"><code>ImmutableSetMultimap.toImmutableSetMultimap</code></a></td>\n<td> <a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/ImmutableSetMultimap.html\" rel=\"noreferrer\"><code>ImmutableSetMultimap</code></a></td>\n</tr>\n<tr>\n<td><a href=\"https://guava.dev/releases/30.1.1-jre/api/docs/com/google/common/collect/Multimaps.html#toMultimap(java.util.function.Function,java.util.function.Function,java.util.function.Supplier)\" rel=\"noreferrer\"><code>Multimaps.toMultimap</code></a></td>\n<td>Value returned by the provided <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/function/Supplier.html\" rel=\"noreferrer\"><code>Supplier</code></a></td>\n</tr>\n</tbody>\n</table>\n</div>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableListMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        ImmutableListMultimap.toImmutableListMultimap(\n                Foo::getId, Function.identity()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>ImmutableSetMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        ImmutableSetMultimap.toImmutableSetMultimap(\n                Foo::getId, Function.identity()));\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>HashMultimap&lt;String, Foo&gt; foosById = foos.stream().collect(\n        Multimaps.toMultimap(\n                Foo::getId, Function.identity(), HashMultimap::create)\n);\n</code></pre>\n"}],"owner":{"account_id":26204,"reputation":1685,"user_id":67957,"accept_rate":80,"display_name":"Scott B"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72177,"favorite_count":0,"down_vote_count":0,"up_vote_count":89,"accepted_answer_id":23003630,"answer_count":2,"score":89,"last_activity_date":1677613639,"creation_date":1397190508,"question_id":23003542,"body_markdown":"I have a `List&lt;Foo&gt;` and want a `Multimap&lt;String, Foo&gt;` where we&#39;ve grouped the `Foo`&#39;s by their `getId()` function.\r\n\r\nI am using Java 8 and its almost awesome in that you can do:\r\n\r\n    List&lt;Foo&gt; foos = ...\r\n    Map&lt;String, List&lt;Foo&gt;&gt; foosById = foos.stream().collect(groupingBy(Foo::getId));\r\n\r\nHowever, I have a good amount of code that wants a `MultiMap&lt;String, Foo&gt;` so this doesnt save me anything and I&#39;m back to using a for-loop to create my `Multimap`. Is there a nice &quot;functional&quot; way that I am missing?","title":"Cleanest way to create a Guava Multimap from a Java 8 stream","body":"<p>I have a <code>List&lt;Foo&gt;</code> and want a <code>Multimap&lt;String, Foo&gt;</code> where we've grouped the <code>Foo</code>'s by their <code>getId()</code> function.</p>\n<p>I am using Java 8 and its almost awesome in that you can do:</p>\n<pre><code>List&lt;Foo&gt; foos = ...\nMap&lt;String, List&lt;Foo&gt;&gt; foosById = foos.stream().collect(groupingBy(Foo::getId));\n</code></pre>\n<p>However, I have a good amount of code that wants a <code>MultiMap&lt;String, Foo&gt;</code> so this doesnt save me anything and I'm back to using a for-loop to create my <code>Multimap</code>. Is there a nice &quot;functional&quot; way that I am missing?</p>\n"},{"tags":["java","javafx","treeview","javafx-8"],"comments":[{"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"score":0,"creation_date":1677612897,"post_id":75596417,"comment_id":133371650,"body_markdown":"Don&#39;t you mean `return findTreeItemByName(...)` as your recursive step, and `return null;` if nothing is found? Off-topic: why do you have a `TreeItem&lt;Label&gt;`? The `TreeItem` should wrap data, not UI elements.","body":"Don&#39;t you mean <code>return findTreeItemByName(...)</code> as your recursive step, and <code>return null;</code> if nothing is found? Off-topic: why do you have a <code>TreeItem&lt;Label&gt;</code>? The <code>TreeItem</code> should wrap data, not UI elements."}],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1677613468,"creation_date":1677613468,"answer_id":75596610,"question_id":75596417,"body_markdown":"I don&#39;t understand why you have a `TreeItem&lt;Label&gt;`. The intention is that `TreeItem` should wrap a piece of data, not a UI element.\r\n\r\nYour recursion is incorrectly implemented. If the correct `TreeItem` is not found in the immediate descendants of the supplied `TreeItem`, you then recursively search the descendants of those items, but don&#39;t do anything with the any result you find, instead returning the originally-supplied item.\r\n\r\nYou need something like this:\r\n\r\n    private static TreeItem&lt;String&gt; findTreeItemByName(TreeItem&lt;String&gt; parentTreeItem, String name) {\r\n        // if the supplied item is the one we&#39;re looking for, just return it:    \r\n        if (parentTreeItem.getValue().equals(name)) {\r\n            return parentTreeItem;\r\n        }    \r\n        // Recursively search child items and return one if found: \r\n        for (TreeItem&lt;String&gt; treeItem: parentTreeItem.getChildren()) {\r\n            TreeItem&lt;String&gt; item = findTreeItemByName(treeItem,name);\r\n            if (item != null) return item;\r\n        }\r\n        // We didn&#39;t find a match: return null:\r\n        return null;\r\n    }","title":"Javafx method for finding TreeItem by value returning null","body":"<p>I don't understand why you have a <code>TreeItem&lt;Label&gt;</code>. The intention is that <code>TreeItem</code> should wrap a piece of data, not a UI element.</p>\n<p>Your recursion is incorrectly implemented. If the correct <code>TreeItem</code> is not found in the immediate descendants of the supplied <code>TreeItem</code>, you then recursively search the descendants of those items, but don't do anything with the any result you find, instead returning the originally-supplied item.</p>\n<p>You need something like this:</p>\n<pre><code>private static TreeItem&lt;String&gt; findTreeItemByName(TreeItem&lt;String&gt; parentTreeItem, String name) {\n    // if the supplied item is the one we're looking for, just return it:    \n    if (parentTreeItem.getValue().equals(name)) {\n        return parentTreeItem;\n    }    \n    // Recursively search child items and return one if found: \n    for (TreeItem&lt;String&gt; treeItem: parentTreeItem.getChildren()) {\n        TreeItem&lt;String&gt; item = findTreeItemByName(treeItem,name);\n        if (item != null) return item;\n    }\n    // We didn't find a match: return null:\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":27730039,"reputation":3,"user_id":21168740,"display_name":"Michael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596610,"answer_count":1,"score":0,"last_activity_date":1677613468,"creation_date":1677611961,"question_id":75596417,"body_markdown":"I have created a method for searching a JavaFX TreeView and returning the TreeItem that matches a given value but it returns a TreeView with a value of null. I have added a couple of sysouts and it does correctly find the TreeItem but it still returns an empty one.\r\n\r\n```Java\r\n    public void addDirToTree(Directory parentDir, Directory newDir) {\r\n        TreeItem&lt;Label&gt; parentTreeItem = findTreeItemByName(this.getRoot(),parentDir.getName());\r\n        System.out.println(parentTreeItem);\r\n        parentTreeItem.getChildren().add(createTreeItem(newDir));\r\n    }\r\n    \r\n    \r\n    private static TreeItem&lt;Label&gt; findTreeItemByName(TreeItem&lt;Label&gt; parentTreeItem, String name) {        \r\n        for (TreeItem&lt;Label&gt; treeItem: parentTreeItem.getChildren()) {\r\n            if (treeItem.getValue().getText().equals(name)) {\r\n                System.out.println(treeItem);\r\n                return treeItem;\r\n            }\r\n            findTreeItemByName(treeItem,name);\r\n        }\r\n        \r\n        return parentTreeItem;\r\n    }\r\n\r\n```\r\n\r\nOutput:\r\n```\r\nTreeItem [ value: Label@402c2e44[styleClass=label]&#39;new&#39; ]\r\nTreeItem [ value: null ]\r\n```\r\n\r\n\r\nThese methods are inside a class that extends TreeView which is why ```this.getRoot()``` is passed\r\n","title":"Javafx method for finding TreeItem by value returning null","body":"<p>I have created a method for searching a JavaFX TreeView and returning the TreeItem that matches a given value but it returns a TreeView with a value of null. I have added a couple of sysouts and it does correctly find the TreeItem but it still returns an empty one.</p>\n<pre><code>    public void addDirToTree(Directory parentDir, Directory newDir) {\n        TreeItem&lt;Label&gt; parentTreeItem = findTreeItemByName(this.getRoot(),parentDir.getName());\n        System.out.println(parentTreeItem);\n        parentTreeItem.getChildren().add(createTreeItem(newDir));\n    }\n    \n    \n    private static TreeItem&lt;Label&gt; findTreeItemByName(TreeItem&lt;Label&gt; parentTreeItem, String name) {        \n        for (TreeItem&lt;Label&gt; treeItem: parentTreeItem.getChildren()) {\n            if (treeItem.getValue().getText().equals(name)) {\n                System.out.println(treeItem);\n                return treeItem;\n            }\n            findTreeItemByName(treeItem,name);\n        }\n        \n        return parentTreeItem;\n    }\n\n</code></pre>\n<p>Output:</p>\n<pre><code>TreeItem [ value: Label@402c2e44[styleClass=label]'new' ]\nTreeItem [ value: null ]\n</code></pre>\n<p>These methods are inside a class that extends TreeView which is why <code>this.getRoot()</code> is passed</p>\n"},{"tags":["java","json","spring-boot","lang","httpexception"],"comments":[{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":0,"creation_date":1677612957,"post_id":75596496,"comment_id":133371665,"body_markdown":"Please post your request body. As per the exception you seem to be providing one or more objects as property values, instead of numbers","body":"Please post your request body. As per the exception you seem to be providing one or more objects as property values, instead of numbers"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677613040,"post_id":75596496,"comment_id":133371689,"body_markdown":"{\n    &quot;orderDetails&quot;: {\n        &quot;EA1&quot;: 5,\n        &quot;BA1&quot;: 3\n    }\n}","body":"{     &quot;orderDetails&quot;: {         &quot;EA1&quot;: 5,         &quot;BA1&quot;: 3     } }"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677613083,"post_id":75596496,"comment_id":133371699,"body_markdown":"@FlorianCramer this is the sample response I am sending to a database which I have already created in local and have these values","body":"@FlorianCramer this is the sample response I am sending to a database which I have already created in local and have these values"},{"owner":{"account_id":9925027,"reputation":1286,"user_id":7346947,"display_name":"Florian Cramer"},"score":0,"creation_date":1677613249,"post_id":75596496,"comment_id":133371741,"body_markdown":"You specify the request body to be of type `Map&lt;String, Long&gt;`, so Jackson tries to deserialize `{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }` as `Long` (with `&quot;orderDetails&quot;` being the first and only key in the map). If you just send `{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }` it will work and be deserialize as a map with two entries `&quot;EA1&quot; -&gt; 5` and `&quot;BA1&quot; -&gt; 3`","body":"You specify the request body to be of type <code>Map&lt;String, Long&gt;</code>, so Jackson tries to deserialize <code>{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }</code> as <code>Long</code> (with <code>&quot;orderDetails&quot;</code> being the first and only key in the map). If you just send <code>{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }</code> it will work and be deserialize as a map with two entries <code>&quot;EA1&quot; -&gt; 5</code> and <code>&quot;BA1&quot; -&gt; 3</code>"},{"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"score":0,"creation_date":1677615826,"post_id":75596496,"comment_id":133372416,"body_markdown":"Hi @FlorianCramer that worked thank you but now I am not able to update in my database getting following error class java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api Can you give me some hints on this ? This is what i Found while debugging","body":"Hi @FlorianCramer that worked thank you but now I am not able to update in my database getting following error class java.util.ArrayList cannot be cast to class com.example.ecombackend.Entity.PartDetails (java.util.ArrayList is in module java.base of loader &#39;bootstrap&#39;; com.example.ecombackend.Entity.PartDetails is in unnamed module of loader &#39;app&#39;) Gettting this for the above backend code when hitting post api Can you give me some hints on this ? This is what i Found while debugging"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677613305,"creation_date":1677613305,"answer_id":75596586,"question_id":75596496,"body_markdown":"Your body in Postman needs to be \r\n{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }\r\nnot\r\n{ &quot;orderDetails&quot;: { &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 } }","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>Your body in Postman needs to be\n{ &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 }\nnot\n{ &quot;orderDetails&quot;: { &quot;EA1&quot;: 5, &quot;BA1&quot;: 3 } }</p>\n"}],"owner":{"account_id":24819534,"reputation":3,"user_id":18700025,"display_name":"Vishesh Dab"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5390,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596586,"answer_count":1,"score":0,"last_activity_date":1677613305,"creation_date":1677612668,"question_id":75596496,"body_markdown":"Getting the following error while hitting the POST API call via postman for the following code.\r\n\r\nRequirement : Place an order given the list of &lt;component_id&gt;, and &lt;units&gt;. Consider that an order only implies reducing the current stock of each &lt;component_id&gt; by &lt;units&gt;.\r\n\r\nSpring Boot Application is Running fine just getting 400 Bad request in Postman and following in the console.\r\n\r\nError Log\r\n2023-03-01T00:43:19.065+05:30  WARN 53443 --- [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)]\r\n\r\n\r\n\r\nFollowing are the details of my classes added:\r\n\r\n    **Controller Class**\r\n\r\n    @PostMapping(&quot;/shop/order&quot;)\r\n    public ResponseEntity&lt;String&gt; placeOrder(@RequestBody Map&lt;String, Long&gt; orderDetails) {\r\n        try {\r\n            partService.placeOrder(orderDetails);\r\n            return ResponseEntity.ok().body(&quot;Order placed successfully!&quot;);\r\n        } catch (Exception e) {\r\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to place order&quot;);\r\n        }\r\n    }\r\n\r\n**Repository class**\r\n\r\n        public interface PartRepository extends CrudRepository &lt; PartDetails, String &gt; {\r\n\r\n        @Query(&quot;SELECT p FROM PartDetails p WHERE p.carModelId = :carModelId&quot;)\r\n\r\n        List &lt; PartDetails &gt; findByCarModelId(String carModelId);\r\n\r\n        @Query(&quot;SELECT p FROM PartDetails p WHERE p.componentId = :componentId&quot;)\r\n\r\n        List &lt; PartDetails &gt; findByComponentId(String componentId);\r\n\r\n        **Service Class Logic**\r\n\r\n        @Transactional\r\n        public void placeOrder(Map &lt; String, Long &gt; orderDetails) {\r\n            for (Map.Entry &lt; String, Long &gt; entry: orderDetails.entrySet()) {\r\n                String componentId = entry.getKey();\r\n                Long unitInStock = entry.getValue();\r\n                List &lt; PartDetails &gt; partStockOptional = partRepository.findByComponentId(componentId);\r\n                // PartDetails partStock = partStockOptional.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Part stock not found with component ID: &quot; + componentId));\r\n                PartDetails partStock = (PartDetails) partStockOptional;\r\n                Long currentUnits = partStock.getUnitInStock();\r\n                if (currentUnits &lt; unitInStock) {\r\n                    throw new RuntimeException(&quot;Insufficient units in stock for component ID: &quot; + componentId);\r\n                }\r\n                partStock.setUnitInStock(currentUnits - unitInStock);\r\n                partRepository.save(partStock);\r\n            }\r\n        }\r\n\r\n        **Entity Class**\r\n\r\n        package com.example.ecombackend.Entity;\r\n\r\n        import jakarta.persistence.*;\r\n\r\n        @Entity\r\n        @Table\r\n        public class PartDetails {\r\n\r\n            @Id\r\n            @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n            private Long id;\r\n            @Column(name = &quot;car_model_id&quot;)\r\n            private String carModelId;\r\n            @Column\r\n            private String componentName;\r\n            @Column\r\n            private String componentId;\r\n            @Column(name = &quot;unit_in_stock&quot;)\r\n            private Long unitInStock;\r\n\r\n            public PartDetails() {}\r\n\r\n            public PartDetails(String carModelIds, String componentNames, String componentIds, Long unitInStocks) {\r\n                carModelId = carModelIds;\r\n                componentName = componentNames;\r\n                componentId = componentIds;\r\n                unitInStock = unitInStocks;\r\n            }\r\n\r\n            public Long getId() {\r\n                return id;\r\n            }\r\n\r\n            public void setId(Long id) {\r\n                this.id = id;\r\n            }\r\n\r\n            public String getCarModelId() {\r\n                return carModelId;\r\n            }\r\n\r\n            public String getComponentName() {\r\n                return componentName;\r\n            }\r\n\r\n            public String getComponentId() {\r\n                return componentId;\r\n            }\r\n\r\n            public Long getUnitInStock() {\r\n                return unitInStock;\r\n            }\r\n\r\n            public void setCarModelId(String carModelId) {\r\n                this.carModelId = carModelId;\r\n            }\r\n\r\n            public void setComponentName(String componentName) {\r\n                this.componentName = componentName;\r\n            }\r\n\r\n            public void setComponentId(String componentId) {\r\n                this.componentId = componentId;\r\n            }\r\n\r\n            public void setUnitInStock(Long unitInStock) {\r\n                this.unitInStock = unitInStock;\r\n            }\r\n\r\n        }\r\n`","title":"Cannot deserialize value of type `java.lang.Long` from Object value (token `JsonToken.START_OBJECT`)","body":"<p>Getting the following error while hitting the POST API call via postman for the following code.</p>\n<p>Requirement : Place an order given the list of &lt;component_id&gt;, and . Consider that an order only implies reducing the current stock of each &lt;component_id&gt; by .</p>\n<p>Spring Boot Application is Running fine just getting 400 Bad request in Postman and following in the console.</p>\n<p>Error Log\n2023-03-01T00:43:19.065+05:30  WARN 53443 --- [nio-8090-exec-1] .w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type <code>java.lang.Long</code> from Object value (token <code>JsonToken.START_OBJECT</code>)]</p>\n<p>Following are the details of my classes added:</p>\n<pre><code>**Controller Class**\n\n@PostMapping(&quot;/shop/order&quot;)\npublic ResponseEntity&lt;String&gt; placeOrder(@RequestBody Map&lt;String, Long&gt; orderDetails) {\n    try {\n        partService.placeOrder(orderDetails);\n        return ResponseEntity.ok().body(&quot;Order placed successfully!&quot;);\n    } catch (Exception e) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;Failed to place order&quot;);\n    }\n}\n</code></pre>\n<p><strong>Repository class</strong></p>\n<pre><code>    public interface PartRepository extends CrudRepository &lt; PartDetails, String &gt; {\n\n    @Query(&quot;SELECT p FROM PartDetails p WHERE p.carModelId = :carModelId&quot;)\n\n    List &lt; PartDetails &gt; findByCarModelId(String carModelId);\n\n    @Query(&quot;SELECT p FROM PartDetails p WHERE p.componentId = :componentId&quot;)\n\n    List &lt; PartDetails &gt; findByComponentId(String componentId);\n\n    **Service Class Logic**\n\n    @Transactional\n    public void placeOrder(Map &lt; String, Long &gt; orderDetails) {\n        for (Map.Entry &lt; String, Long &gt; entry: orderDetails.entrySet()) {\n            String componentId = entry.getKey();\n            Long unitInStock = entry.getValue();\n            List &lt; PartDetails &gt; partStockOptional = partRepository.findByComponentId(componentId);\n            // PartDetails partStock = partStockOptional.orElseThrow(() -&gt; new ResourceNotFoundException(&quot;Part stock not found with component ID: &quot; + componentId));\n            PartDetails partStock = (PartDetails) partStockOptional;\n            Long currentUnits = partStock.getUnitInStock();\n            if (currentUnits &lt; unitInStock) {\n                throw new RuntimeException(&quot;Insufficient units in stock for component ID: &quot; + componentId);\n            }\n            partStock.setUnitInStock(currentUnits - unitInStock);\n            partRepository.save(partStock);\n        }\n    }\n\n    **Entity Class**\n\n    package com.example.ecombackend.Entity;\n\n    import jakarta.persistence.*;\n\n    @Entity\n    @Table\n    public class PartDetails {\n\n        @Id\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\n        private Long id;\n        @Column(name = &quot;car_model_id&quot;)\n        private String carModelId;\n        @Column\n        private String componentName;\n        @Column\n        private String componentId;\n        @Column(name = &quot;unit_in_stock&quot;)\n        private Long unitInStock;\n\n        public PartDetails() {}\n\n        public PartDetails(String carModelIds, String componentNames, String componentIds, Long unitInStocks) {\n            carModelId = carModelIds;\n            componentName = componentNames;\n            componentId = componentIds;\n            unitInStock = unitInStocks;\n        }\n\n        public Long getId() {\n            return id;\n        }\n\n        public void setId(Long id) {\n            this.id = id;\n        }\n\n        public String getCarModelId() {\n            return carModelId;\n        }\n\n        public String getComponentName() {\n            return componentName;\n        }\n\n        public String getComponentId() {\n            return componentId;\n        }\n\n        public Long getUnitInStock() {\n            return unitInStock;\n        }\n\n        public void setCarModelId(String carModelId) {\n            this.carModelId = carModelId;\n        }\n\n        public void setComponentName(String componentName) {\n            this.componentName = componentName;\n        }\n\n        public void setComponentId(String componentId) {\n            this.componentId = componentId;\n        }\n\n        public void setUnitInStock(Long unitInStock) {\n            this.unitInStock = unitInStock;\n        }\n\n    }\n</code></pre>\n<p>`</p>\n"},{"tags":["java","spring-security"],"comments":[{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677425192,"post_id":75572984,"comment_id":133331131,"body_markdown":"Spring security core has no dependency on spring web. https://repo1.maven.org/maven2/org/springframework/security/spring-security-core/6.0.2/spring-security-core-6.0.2.pom","body":"Spring security core has no dependency on spring web. <a href=\"https://repo1.maven.org/maven2/org/springframework/security/spring-security-core/6.0.2/spring-security-core-6.0.2.pom\" rel=\"nofollow noreferrer\">repo1.maven.org/maven2/org/springframework/security/&hellip;</a>"},{"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"score":0,"creation_date":1677425288,"post_id":75572984,"comment_id":133331150,"body_markdown":"But I thought that core is only beans, without web stuff","body":"But I thought that core is only beans, without web stuff"},{"owner":{"account_id":2139538,"reputation":42501,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677425960,"post_id":75572984,"comment_id":133331251,"body_markdown":"Spring core != Spring security core","body":"Spring core != Spring security core"}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677612779,"creation_date":1677430444,"answer_id":75573556,"question_id":75572984,"body_markdown":"It does not support out of the box but in theory it should work. But I would imagine you need some non trivial customization which is mainly about configuring `AuthorizationManager` and the related AOP advisors to scan all beans&#39; methods that are annotated with `@PreAuthorize` and etc. in order to create a AOP proxy around them.\r\n\r\nAnother important point need to consider is how can you identify who is the current user that is using the application for each request ? Do they still need some way to login ? As in the end, you also need some way to integrate with spring security to tell it who is the current user in order to do authorization.\r\n\r\nI would suggest you include `spring-mvc`, create an internal dummy URL endpoint such that you can leverage spring security to setup the `AuthorizationManager` and those AOP proxies for you. What remaining is to integrate the logic about how to identify an user when processing each request with spring security which essentially boil down to configuring the `SecurityContext` to hold the current user information. Something like:\r\n\r\n``` java\r\nSecurityContext context = SecurityContextHolder.createEmptyContext();\r\ncontext.setAuthentication(currentUser);\r\nSecurityContextHolder.setContext(context);\r\n```\r\n","title":"Is there a way to using Spring Security without Web(Spring boot, spring mvc)?","body":"<p>It does not support out of the box but in theory it should work. But I would imagine you need some non trivial customization which is mainly about configuring <code>AuthorizationManager</code> and the related AOP advisors to scan all beans' methods that are annotated with <code>@PreAuthorize</code> and etc. in order to create a AOP proxy around them.</p>\n<p>Another important point need to consider is how can you identify who is the current user that is using the application for each request ? Do they still need some way to login ? As in the end, you also need some way to integrate with spring security to tell it who is the current user in order to do authorization.</p>\n<p>I would suggest you include <code>spring-mvc</code>, create an internal dummy URL endpoint such that you can leverage spring security to setup the <code>AuthorizationManager</code> and those AOP proxies for you. What remaining is to integrate the logic about how to identify an user when processing each request with spring security which essentially boil down to configuring the <code>SecurityContext</code> to hold the current user information. Something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>SecurityContext context = SecurityContextHolder.createEmptyContext();\ncontext.setAuthentication(currentUser);\nSecurityContextHolder.setContext(context);\n</code></pre>\n"}],"owner":{"account_id":17400576,"reputation":35,"user_id":12609542,"display_name":"David Blbulyan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677612779,"creation_date":1677425079,"question_id":75572984,"body_markdown":"So, I want to use Spring Security for authorization in my application, I have users, groups and privileges for all. But, my application using just sockets, without web. So, I don&#39;t need to use Spring Boot or Spring MVC. \r\nCan I use Spring Security without it? How should I do it ?","title":"Is there a way to using Spring Security without Web(Spring boot, spring mvc)?","body":"<p>So, I want to use Spring Security for authorization in my application, I have users, groups and privileges for all. But, my application using just sockets, without web. So, I don't need to use Spring Boot or Spring MVC.\nCan I use Spring Security without it? How should I do it ?</p>\n"},{"tags":["java","spring-boot","jpa","annotations","entity"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677612998,"post_id":75596469,"comment_id":133371677,"body_markdown":"This question is because your query is returning entities in the result that have the same id value. You need to look at how the findAllByModule actually translates to SQL, but it can easily return the same entity multiple times if there are joins over any  *toMany relationships. Look at the entity relationships, turn on SQL logging and it should be clear what and why it is happening. You can also workaround the issue by querying with &#39;DISTINCT&#39; on the entity: &quot;Select distinct e from JobMetadataEntity e where e.module = :module&quot; which should have your JPA provider account for joins","body":"This question is because your query is returning entities in the result that have the same id value. You need to look at how the findAllByModule actually translates to SQL, but it can easily return the same entity multiple times if there are joins over any  *toMany relationships. Look at the entity relationships, turn on SQL logging and it should be clear what and why it is happening. You can also workaround the issue by querying with &#39;DISTINCT&#39; on the entity: &quot;Select distinct e from JobMetadataEntity e where e.module = :module&quot; which should have your JPA provider account for joins"},{"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"score":0,"creation_date":1677613864,"post_id":75596469,"comment_id":133371903,"body_markdown":"findAllByModule returns all the Fields from the underlying table defined in Entity class. And there are no any conditions in the query except &quot;module = &lt;passedParameter&gt;&quot;. And an ID field is not coming from the DB, there is NO ID column. My understanding every returned Entity must have new and unique ID.","body":"findAllByModule returns all the Fields from the underlying table defined in Entity class. And there are no any conditions in the query except &quot;module = &lt;passedParameter&gt;&quot;. And an ID field is not coming from the DB, there is NO ID column. My understanding every returned Entity must have new and unique ID."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677614507,"post_id":75596469,"comment_id":133372068,"body_markdown":"If your entity does not have any references (and the SQL doesn&#39;t have joins to other tables), then the issue is entirely in what the getId is returning - Your Collectors.toMap requires that each of these instances return a unique value from the getId method. If there is no id column, where is your getId value coming from? The query should fail as the SQL must be trying to select ID From the table, which you state doesn&#39;t exist. So what is it executing and what is it returning?","body":"If your entity does not have any references (and the SQL doesn&#39;t have joins to other tables), then the issue is entirely in what the getId is returning - Your Collectors.toMap requires that each of these instances return a unique value from the getId method. If there is no id column, where is your getId value coming from? The query should fail as the SQL must be trying to select ID From the table, which you state doesn&#39;t exist. So what is it executing and what is it returning?"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677614964,"post_id":75596469,"comment_id":133372184,"body_markdown":"Also note, GeneratedValue(strategy = GenerationType.IDENTITY) requires the column to exist in the database. JPA will insert the entity, the database will then auto generate the column value, and JPA will lookup the value that was used to set it in the managed entity (so it can be indexed/cached on the value). The property marked as the ID within JPA must be unique, but it is on you, the application developer, to ensure it is so. There is no magic within JPA that ensures it- you can absolutely create tables that allow rows with duplicate data in them or mark some non-unique property as the ID.","body":"Also note, GeneratedValue(strategy = GenerationType.IDENTITY) requires the column to exist in the database. JPA will insert the entity, the database will then auto generate the column value, and JPA will lookup the value that was used to set it in the managed entity (so it can be indexed/cached on the value). The property marked as the ID within JPA must be unique, but it is on you, the application developer, to ensure it is so. There is no magic within JPA that ensures it- you can absolutely create tables that allow rows with duplicate data in them or mark some non-unique property as the ID."}],"owner":{"account_id":2404898,"reputation":564,"user_id":2101649,"accept_rate":27,"display_name":"vs777"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":709,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677612355,"creation_date":1677612355,"question_id":75596469,"body_markdown":"I inherited an implementation that throws :\r\n\r\n    ava.lang.IllegalStateException: Duplicate key\r\n\r\nwhen I am processing the results of the JPA call.\r\n\r\nMy Entity code is : \r\n\r\n    public class JobMetadataEntity implements Serializable {\r\n    \r\n        // This field is NOT a DB Column\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Integer id;\r\n\r\n        @Column(name = &quot;MODULE&quot;)\r\n        private String module;\r\n\r\nMy Repository code :\r\n\r\n    List&lt;JobMetadataEntity&gt; findAllByModule(String module);\r\n\r\nApplication code that throws an Exception :\r\n\r\n       Map&lt;Integer, JobMetadataEntity&gt; jobMetadataEntityMap = jobMetadataRepository.findAllByModule(&quot;MODULE_NAME&quot;)\r\n                            .stream().collect(Collectors.toMap(e -&gt; e.getId(), e -&gt; e));\r\n\r\nMy understanding the problem is with with adding an element to the Map :\r\n\r\n    Collectors.toMap(e -&gt; e.getId(), e -&gt; e)\r\n\r\nSomehow the generated  &quot;key&quot; is a duplicate. This code is being called multiple times and on  a few occasions it throws an Exception. My SpringBoot version is 2.7.6","title":"Why @GeneratedValue(strategy = GenerationType.IDENTITY) produces Duplicate Key exception","body":"<p>I inherited an implementation that throws :</p>\n<pre><code>ava.lang.IllegalStateException: Duplicate key\n</code></pre>\n<p>when I am processing the results of the JPA call.</p>\n<p>My Entity code is :</p>\n<pre><code>public class JobMetadataEntity implements Serializable {\n\n    // This field is NOT a DB Column\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(name = &quot;MODULE&quot;)\n    private String module;\n</code></pre>\n<p>My Repository code :</p>\n<pre><code>List&lt;JobMetadataEntity&gt; findAllByModule(String module);\n</code></pre>\n<p>Application code that throws an Exception :</p>\n<pre><code>   Map&lt;Integer, JobMetadataEntity&gt; jobMetadataEntityMap = jobMetadataRepository.findAllByModule(&quot;MODULE_NAME&quot;)\n                        .stream().collect(Collectors.toMap(e -&gt; e.getId(), e -&gt; e));\n</code></pre>\n<p>My understanding the problem is with with adding an element to the Map :</p>\n<pre><code>Collectors.toMap(e -&gt; e.getId(), e -&gt; e)\n</code></pre>\n<p>Somehow the generated  &quot;key&quot; is a duplicate. This code is being called multiple times and on  a few occasions it throws an Exception. My SpringBoot version is 2.7.6</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1677611039,"post_id":75596248,"comment_id":133371178,"body_markdown":"&quot;**an** error&quot;?","body":"&quot;<b>an</b> error&quot;?"},{"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"score":0,"creation_date":1677611315,"post_id":75596248,"comment_id":133371253,"body_markdown":"no &quot;the error&quot;.","body":"no &quot;the error&quot;."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":2,"creation_date":1677611658,"post_id":75596248,"comment_id":133371333,"body_markdown":"I was asking what the error message is...","body":"I was asking what the error message is..."},{"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"score":0,"creation_date":1677611878,"post_id":75596248,"comment_id":133371379,"body_markdown":"Please see revision.","body":"Please see revision."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1677622636,"post_id":75596248,"comment_id":133374072,"body_markdown":"I would have thought this to be a duplicate. Yet I cannot find any existing Questions where &quot;cannot be resolved to a variable&quot; is caused by a lack of an `import`.","body":"I would have thought this to be a duplicate. Yet I cannot find any existing Questions where &quot;cannot be resolved to a variable&quot; is caused by a lack of an <code>import</code>."}],"answers":[{"tags":[],"owner":{"account_id":1850254,"reputation":448,"user_id":1676941,"accept_rate":100,"display_name":"Uday Shankar"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1677612141,"creation_date":1677612141,"answer_id":75596439,"question_id":75596248,"body_markdown":"you need additional import\r\n\r\n    import java.nio.charset.StandardCharsets;","title":"Java - Error in While Calling StandardCharsets.UTF-8","body":"<p>you need additional import</p>\n<pre><code>import java.nio.charset.StandardCharsets;\n</code></pre>\n"}],"owner":{"account_id":25709549,"reputation":103,"user_id":19468319,"display_name":"zachjohn987"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":214,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":75596439,"answer_count":1,"score":2,"last_activity_date":1677612141,"creation_date":1677610730,"question_id":75596248,"body_markdown":"I getting an error line under ```StandardCharsets```. I have imported it, so I am not sure why I am getting the ```StandardCharsets cannot be resolved to a variable``` error.\r\n\r\n```\r\nimport java.util.*;\r\nimport java.nio.charset.Charset;\r\nimport java.nio.file.Path;\r\n\r\npublic class Training\r\n{\r\n\t\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t\tScanner in = new Scanner(Path.of(&quot;text.txt&quot;),StandardCharsets.UTF_8);\r\n\t\t\r\n\t\tSystem.out.print(in);\r\n\t}\r\n}\r\n```\r\n\r\nI am expecting to print the data in the ```text.txt``` file.","title":"Java - Error in While Calling StandardCharsets.UTF-8","body":"<p>I getting an error line under <code>StandardCharsets</code>. I have imported it, so I am not sure why I am getting the <code>StandardCharsets cannot be resolved to a variable</code> error.</p>\n<pre><code>import java.util.*;\nimport java.nio.charset.Charset;\nimport java.nio.file.Path;\n\npublic class Training\n{\n    \n    public static void main(String[] args)\n    {\n        Scanner in = new Scanner(Path.of(&quot;text.txt&quot;),StandardCharsets.UTF_8);\n        \n        System.out.print(in);\n    }\n}\n</code></pre>\n<p>I am expecting to print the data in the <code>text.txt</code> file.</p>\n"},{"tags":["java","hibernate","jpa","quarkus"],"owner":{"account_id":27902813,"reputation":1,"user_id":21306719,"display_name":"M.F"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677612074,"creation_date":1677612074,"question_id":75596431,"body_markdown":"I have a Quarkus PanacheEntityBase\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;Translation&quot;)\r\npublic class Translation extends PanacheEntityBase {\r\n\r\n    @Id\r\n    public String key;\r\n\r\n    @Column\r\n    public String value;\r\n\r\n    @Transactional\r\n    public static Translation insert( final String translationId, final String translationLanguage) {\r\n\r\n        final String key = buildKey(translationId, translationLanguage);\r\n\r\n        final Optional&lt;Translation&gt; entryOpt = findByIdOptional(key);\r\n        final Translation entry;\r\n\r\n        if( entryOpt.isPresent()) {\r\n            entry = entryOpt.get();\r\n        } else {\r\n            entry = new Translation();\r\n            entry.key = key;\r\n        }\r\n\r\n        entry.value = someValueToCache();\r\n\r\n        return Translation.getEntityManager().merge(entry);\r\n    }\r\n\r\n    private static String buildKey(final String translationId, final String translationLanguage) {\r\n        return String.format(&quot;%s:%s&quot;, translationId, translationLanguage);\r\n    }\r\n}\r\n```\r\n\r\nWhile running this local with a PostgreSQL or Oracle I have no issues.\r\nHowever, when having deployed on a kubernetes environment with multiple containers dealing with concurrent requests I&#39;m having:\r\n\r\n\r\n```\r\nSQL Error: 1, SQLState: 23000\r\nORA-00001: unique constraint violated\r\nHHH000010: On release of batch it still contained JDBC statements\r\nARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; xxxxxx, org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@xxxxxx &gt;: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\r\n```\r\n\r\n\r\nI already tried to use persistAndFlush() and I&#39;m not able to reproduce this on a local env.","title":"Quarkus EntityManager.merge(T entity) throws org.hibernate.exception.ConstraintViolationException","body":"<p>I have a Quarkus PanacheEntityBase</p>\n<pre><code>@Entity\n@Table(name = &quot;Translation&quot;)\npublic class Translation extends PanacheEntityBase {\n\n    @Id\n    public String key;\n\n    @Column\n    public String value;\n\n    @Transactional\n    public static Translation insert( final String translationId, final String translationLanguage) {\n\n        final String key = buildKey(translationId, translationLanguage);\n\n        final Optional&lt;Translation&gt; entryOpt = findByIdOptional(key);\n        final Translation entry;\n\n        if( entryOpt.isPresent()) {\n            entry = entryOpt.get();\n        } else {\n            entry = new Translation();\n            entry.key = key;\n        }\n\n        entry.value = someValueToCache();\n\n        return Translation.getEntityManager().merge(entry);\n    }\n\n    private static String buildKey(final String translationId, final String translationLanguage) {\n        return String.format(&quot;%s:%s&quot;, translationId, translationLanguage);\n    }\n}\n</code></pre>\n<p>While running this local with a PostgreSQL or Oracle I have no issues.\nHowever, when having deployed on a kubernetes environment with multiple containers dealing with concurrent requests I'm having:</p>\n<pre><code>SQL Error: 1, SQLState: 23000\nORA-00001: unique constraint violated\nHHH000010: On release of batch it still contained JDBC statements\nARJUNA012125: TwoPhaseCoordinator.beforeCompletion - failed for SynchronizationImple&lt; xxxxxx, org.hibernate.resource.transaction.backend.jta.internal.synchronization.RegisteredSynchronization@xxxxxx &gt;: javax.persistence.PersistenceException: org.hibernate.exception.ConstraintViolationException: could not execute statement\n</code></pre>\n<p>I already tried to use persistAndFlush() and I'm not able to reproduce this on a local env.</p>\n"},{"tags":["java","instantiation","anylogic"],"answers":[{"tags":[],"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677611168,"creation_date":1677611168,"answer_id":75596314,"question_id":75594354,"body_markdown":"If you want to &quot;agent-ify&quot; a Queue, create an agent type, drag in a queue, add ports to the left and right and instantiate that.\r\n\r\nOr (even simpler) drag a Queue on Main, right-click it and select &quot;Create flow chart block&quot;:\r\n[![enter image description here][1]][1]\r\n\r\nThere is no need to use Java classes for something like that.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SEuuu.png","title":"How to instantiate and visualize elements in AnyLogic using a Java class?","body":"<p>If you want to &quot;agent-ify&quot; a Queue, create an agent type, drag in a queue, add ports to the left and right and instantiate that.</p>\n<p>Or (even simpler) drag a Queue on Main, right-click it and select &quot;Create flow chart block&quot;:\n<a href=\"https://i.stack.imgur.com/SEuuu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SEuuu.png\" alt=\"enter image description here\" /></a></p>\n<p>There is no need to use Java classes for something like that.</p>\n"}],"owner":{"account_id":21215582,"reputation":35,"user_id":15603263,"display_name":"Mengzhang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75596314,"answer_count":1,"score":0,"last_activity_date":1677611168,"creation_date":1677599524,"question_id":75594354,"body_markdown":"I would like to instantiate a simulation Elements in AnyLogic through a Java class and visualize them on the simulation workspace, such as generating an element from the Process Modeling Library, like &quot;Queue&quot;. I couldn&#39;t find the relevant constructor in the AnyLogic development documentation. I would like to ask if this idea can be realized? If so, could you please tell me how to do it and provide a simple demo? If not, could you please explain the reasons you know? Thank you very much for your answer.","title":"How to instantiate and visualize elements in AnyLogic using a Java class?","body":"<p>I would like to instantiate a simulation Elements in AnyLogic through a Java class and visualize them on the simulation workspace, such as generating an element from the Process Modeling Library, like &quot;Queue&quot;. I couldn't find the relevant constructor in the AnyLogic development documentation. I would like to ask if this idea can be realized? If so, could you please tell me how to do it and provide a simple demo? If not, could you please explain the reasons you know? Thank you very much for your answer.</p>\n"},{"tags":["java","android","ios","spring"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677611505,"post_id":75596298,"comment_id":133371292,"body_markdown":"If the app has registered for a custom URL scheme or regular URL you can open the URL from within the browser if it is installed. This way is it designed to work, without disclosing the installed apps.","body":"If the app has registered for a custom URL scheme or regular URL you can open the URL from within the browser if it is installed. This way is it designed to work, without disclosing the installed apps."},{"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"score":0,"creation_date":1677612318,"post_id":75596298,"comment_id":133371508,"body_markdown":"But what if I try to open custom URL scheme and the user does not have the app? What happens then and is it helpful for determining if I should send him to app/play store?","body":"But what if I try to open custom URL scheme and the user does not have the app? What happens then and is it helpful for determining if I should send him to app/play store?"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1677612385,"post_id":75596298,"comment_id":133371528,"body_markdown":"Nothing happens and the user continues to use the web site.","body":"Nothing happens and the user continues to use the web site."},{"owner":{"account_id":2441570,"reputation":109948,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1677612616,"post_id":75596298,"comment_id":133371592,"body_markdown":"Use a universal link, not a custom url scheme. A custom url scheme doesn&#39;t use https so nothing happens if the app isn&#39;t installed. With a universal link (which is just a regular https link) then the app opens to handle the link if it installed, otherwise they remain in the browser.","body":"Use a universal link, not a custom url scheme. A custom url scheme doesn&#39;t use https so nothing happens if the app isn&#39;t installed. With a universal link (which is just a regular https link) then the app opens to handle the link if it installed, otherwise they remain in the browser."},{"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"score":0,"creation_date":1677613898,"post_id":75596298,"comment_id":133371912,"body_markdown":"By ‘nothing happens’ you mean what exactly? In my rest app can I try to redirect using custom url scheme and detect ‘nothing happening’ and then open the play/app store link? Sorry this domain really isn’t my strong suit but I know we have custom url schemas in place","body":"By ‘nothing happens’ you mean what exactly? In my rest app can I try to redirect using custom url scheme and detect ‘nothing happening’ and then open the play/app store link? Sorry this domain really isn’t my strong suit but I know we have custom url schemas in place"},{"owner":{"account_id":2441570,"reputation":109948,"user_id":3418066,"accept_rate":100,"display_name":"Paulw11"},"score":0,"creation_date":1677614529,"post_id":75596298,"comment_id":133372074,"body_markdown":"You would use a universal link like `https://our.domain.com/openourapp/`. If the app is installed then the user is prompted to open the app and then your app can do what it likes.  If the app isn&#39;t installed then the browser continues to that web page. On that page you can check the browser (Android or iOS) and redirect to the play store / App Store or whatever you like.","body":"You would use a universal link like <code>https:&#47;&#47;our.domain.com&#47;openourapp&#47;</code>. If the app is installed then the user is prompted to open the app and then your app can do what it likes.  If the app isn&#39;t installed then the browser continues to that web page. On that page you can check the browser (Android or iOS) and redirect to the play store / App Store or whatever you like."}],"owner":{"account_id":16434762,"reputation":669,"user_id":11872619,"display_name":"vukojevicf"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677611076,"creation_date":1677611076,"question_id":75596298,"body_markdown":"I have Java REST server. Now when the request comes in and I detect user is using iOS or Android device, is there a way to check if they have app installed.\r\n\r\nI am trying to redirect them to app in case they do and app/play store if they don’t ","title":"Java: detect does user have app installed","body":"<p>I have Java REST server. Now when the request comes in and I detect user is using iOS or Android device, is there a way to check if they have app installed.</p>\n<p>I am trying to redirect them to app in case they do and app/play store if they don’t</p>\n"},{"tags":["java","netbeans","variable-assignment"],"comments":[{"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"score":1,"creation_date":1384704363,"post_id":20032839,"comment_id":29833520,"body_markdown":"The type of a variable is only declared once.","body":"The type of a variable is only declared once."},{"owner":{"account_id":1235015,"reputation":379,"user_id":1198778,"accept_rate":20,"display_name":"user1198778"},"score":0,"creation_date":1384704432,"post_id":20032839,"comment_id":29833556,"body_markdown":"I know its already declared, I just want to change it, I don&#39;t want to manually go and type it in each file, I was hoping NetBeans can help me","body":"I know its already declared, I just want to change it, I don&#39;t want to manually go and type it in each file, I was hoping NetBeans can help me"},{"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"score":0,"creation_date":1384704572,"post_id":20032839,"comment_id":29833612,"body_markdown":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match\ncase&quot;  and set file pattern to *.java to find the places it occurs.","body":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match case&quot;  and set file pattern to *.java to find the places it occurs."}],"answers":[{"tags":[],"owner":{"account_id":1264921,"reputation":1871,"user_id":1222425,"accept_rate":76,"display_name":"George Tomlinson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1384704706,"creation_date":1384704706,"answer_id":20032983,"question_id":20032839,"body_markdown":"I think you have to do it manually (using Ctrl + v). You can use Edit -&gt; Replace in Projects. Check &quot;whole words&quot;, &quot;match case&quot; and set file pattern to *.java to find the places it occurs. ","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>I think you have to do it manually (using Ctrl + v). You can use Edit -> Replace in Projects. Check \"whole words\", \"match case\" and set file pattern to *.java to find the places it occurs. </p>\n"},{"tags":[],"owner":{"account_id":26614765,"reputation":1,"user_id":20234379,"display_name":"Kaervek N.V."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677610766,"creation_date":1677610766,"answer_id":75596253,"question_id":20032839,"body_markdown":"Find if you IDE has replacement option, in Netbeans it is Control + H, search for the type AND name of the variable (for example &quot;int myNumber&quot; including the space to be replaced by &quot;long myNumber&quot; (I am assuming you used the same spacing all along), click replace all, you would have to do this in each class and then maybe change the datatype for the methods with return, but might be faster than old copy-paste.\r\n\r\nOther solution:\r\nI found a fix in oracle that might fit in here too, credit to @Zds:\r\nDeclare the variable upstream of where you declared the original one with the desired type you want, then review the class and accept the suggestions from the IDE to update the datatype.\r\n\r\nThe thread with the best solution is here:\r\nhttps://stackoverflow.com/questions/5185480/how-to-refactor-variable-type-in-eclipse","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>Find if you IDE has replacement option, in Netbeans it is Control + H, search for the type AND name of the variable (for example &quot;int myNumber&quot; including the space to be replaced by &quot;long myNumber&quot; (I am assuming you used the same spacing all along), click replace all, you would have to do this in each class and then maybe change the datatype for the methods with return, but might be faster than old copy-paste.</p>\n<p>Other solution:\nI found a fix in oracle that might fit in here too, credit to @Zds:\nDeclare the variable upstream of where you declared the original one with the desired type you want, then review the class and accept the suggestions from the IDE to update the datatype.</p>\n<p>The thread with the best solution is here:\n<a href=\"https://stackoverflow.com/questions/5185480/how-to-refactor-variable-type-in-eclipse\">How to refactor variable type in Eclipse?</a></p>\n"}],"owner":{"account_id":1235015,"reputation":379,"user_id":1198778,"accept_rate":20,"display_name":"user1198778"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677610766,"creation_date":1384704042,"question_id":20032839,"body_markdown":"I am programming in Java. I have a variable defines as `long` and it is working alright. I want to change it now so the variable everywhere thought the project is defined as `BigInteger`. Is there a way I can easily do this with NetBeans?","title":"How can I change the type of variable in the whole package with NetBeans?","body":"<p>I am programming in Java. I have a variable defines as <code>long</code> and it is working alright. I want to change it now so the variable everywhere thought the project is defined as <code>BigInteger</code>. Is there a way I can easily do this with NetBeans?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9381,"page":611,"page_size":100}
