{"items":[{"tags":["java","pdfbox"],"answers":[{"tags":[],"owner":{"account_id":7121054,"reputation":5814,"user_id":5445670,"display_name":"Solomon Ucko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677681238,"creation_date":1677681238,"answer_id":75605103,"question_id":75604892,"body_markdown":"Try using [`importPage`](https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#importPage(org.apache.pdfbox.pdfmodel.PDPage)) instead of [`addPage`](https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#addPage(org.apache.pdfbox.pdfmodel.PDPage)).\r\n\r\n`importPage`&#39;s Javadoc says:\r\n&gt; This will import and copy the contents from another location [...] If you are adding a page to this document from another document and want to copy the contents to this document&#39;s scratch file then use this method otherwise just use the `addPage(org.apache.pdfbox.pdmodel.PDPage)` method.","title":"Java PDFBox addPage produce blank pages","body":"<p>Try using <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#importPage(org.apache.pdfbox.pdfmodel.PDPage)\" rel=\"nofollow noreferrer\"><code>importPage</code></a> instead of <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#addPage(org.apache.pdfbox.pdfmodel.PDPage)\" rel=\"nofollow noreferrer\"><code>addPage</code></a>.</p>\n<p><code>importPage</code>'s Javadoc says:</p>\n<blockquote>\n<p>This will import and copy the contents from another location [...] If you are adding a page to this document from another document and want to copy the contents to this document's scratch file then use this method otherwise just use the <code>addPage(org.apache.pdfbox.pdmodel.PDPage)</code> method.</p>\n</blockquote>\n"}],"owner":{"account_id":13583584,"reputation":27,"user_id":9798873,"display_name":"RomAZE"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75605103,"answer_count":1,"score":1,"last_activity_date":1677681238,"creation_date":1677680327,"question_id":75604892,"body_markdown":"I try to create a PDF Document merging all my PDFs files and between each page of each file a fixed PDPage\r\n\r\n    // Create final PDF Document\r\n    PDDocument document = new PDDocument();\r\n    \r\n    // List all pdf files input folder\r\n    String[] filenames;\r\n    File f = new File(context.repertoire_output_docone);\r\n    filenames = f.list();\r\n    \r\n    // Get the PDF page \r\n    File cgv = new File(context.repertoire_advendio + &quot;conf/CGV.pdf&quot;);\r\n    PDDocument doccgv = Loader.loadPDF(cgv);\r\n    PDPage cgvpage = doccgv.getPage(0);\r\n    \r\n    // For each pdf file found\r\n    for (String filename : filenames)\r\n    {\r\n        // If name doens&#39;t match the template, skip\r\n    \tif (filename.startsWith(&quot;fact_&quot;) == false &amp;&amp; filename.startsWith(&quot;agence_fact_&quot;) == false)\r\n    \t\tcontinue;\r\n    \r\n    \t// Open current document\r\n    \tPDDocument doc = Loader.loadPDF(new File(context.repertoire_output_docone + filename));\r\n    \t\r\n    \t// For each page of the current document\r\n    \tfor (PDPage page : doc.getPages())\r\n    \t{\r\n            // Add page\r\n    \t\tdocument.addPage(page);\r\n\r\n            // Add fixed page\r\n    \t\tdocument.addPage(cgvpage);\r\n    \t}\r\n    }\r\n    \r\n    // Save final document\r\n    document.save(context.repertoire_output_docone + &quot;output/docone_&quot; + context.id_legal_entity + &quot;_&quot; + context.input_invoice_date.replace(&quot;-&quot;, &quot;&quot;) + &quot;.pdf&quot;);\r\n\r\n    // Close final document\r\n    document.close();\r\n\r\nThis code produce a PDF with only full blank pages. It goes in the loops, I have the good number of pages in the final document (so the pages are added) but it&#39;s just blank pages.","title":"Java PDFBox addPage produce blank pages","body":"<p>I try to create a PDF Document merging all my PDFs files and between each page of each file a fixed PDPage</p>\n<pre><code>// Create final PDF Document\nPDDocument document = new PDDocument();\n\n// List all pdf files input folder\nString[] filenames;\nFile f = new File(context.repertoire_output_docone);\nfilenames = f.list();\n\n// Get the PDF page \nFile cgv = new File(context.repertoire_advendio + &quot;conf/CGV.pdf&quot;);\nPDDocument doccgv = Loader.loadPDF(cgv);\nPDPage cgvpage = doccgv.getPage(0);\n\n// For each pdf file found\nfor (String filename : filenames)\n{\n    // If name doens't match the template, skip\n    if (filename.startsWith(&quot;fact_&quot;) == false &amp;&amp; filename.startsWith(&quot;agence_fact_&quot;) == false)\n        continue;\n\n    // Open current document\n    PDDocument doc = Loader.loadPDF(new File(context.repertoire_output_docone + filename));\n    \n    // For each page of the current document\n    for (PDPage page : doc.getPages())\n    {\n        // Add page\n        document.addPage(page);\n\n        // Add fixed page\n        document.addPage(cgvpage);\n    }\n}\n\n// Save final document\ndocument.save(context.repertoire_output_docone + &quot;output/docone_&quot; + context.id_legal_entity + &quot;_&quot; + context.input_invoice_date.replace(&quot;-&quot;, &quot;&quot;) + &quot;.pdf&quot;);\n\n// Close final document\ndocument.close();\n</code></pre>\n<p>This code produce a PDF with only full blank pages. It goes in the loops, I have the good number of pages in the final document (so the pages are added) but it's just blank pages.</p>\n"},{"tags":["java","minio"],"answers":[{"comments":[{"owner":{"account_id":7807707,"reputation":926,"user_id":5905029,"display_name":"Jeff"},"score":2,"creation_date":1603914404,"post_id":56396260,"comment_id":114190316,"body_markdown":"Or using jq instead of awk: `mc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39;`","body":"Or using jq instead of awk: <code>mc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39;</code>"}],"tags":[],"owner":{"account_id":356127,"reputation":1572,"user_id":695459,"accept_rate":100,"display_name":"mikijov"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559310117,"creation_date":1559310117,"answer_id":56396260,"question_id":54548029,"body_markdown":"You can do something like this:\r\n```bash\r\nmc ls -r --json your_bucket_path | awk &#39;{ FS=&quot;,&quot;; print $4 }&#39; | awk &#39;{ FS=&quot;:&quot;; n+=$2 } END{ print n }&#39;\r\n```\r\n","title":"Minio bucket size","body":"<p>You can do something like this:</p>\n\n<pre class=\"lang-sh prettyprint-override\"><code>mc ls -r --json your_bucket_path | awk '{ FS=\",\"; print $4 }' | awk '{ FS=\":\"; n+=$2 } END{ print n }'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7807707,"reputation":926,"user_id":5905029,"display_name":"Jeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1603914264,"creation_date":1603914264,"answer_id":64580251,"question_id":54548029,"body_markdown":"Inspired by @mikijov, but using [jq][1] instead of awk:\r\n\r\n    mc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39;\r\n\r\n  [1]: https://stedolan.github.io/jq/","title":"Minio bucket size","body":"<p>Inspired by @mikijov, but using <a href=\"https://stedolan.github.io/jq/\" rel=\"nofollow noreferrer\">jq</a> instead of awk:</p>\n<pre><code>mc ls -r --json your_bucket_path | jq -s 'map(.size) | add'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1140799,"reputation":980,"user_id":1124764,"accept_rate":60,"display_name":"LONGMAN"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613998654,"creation_date":1613998654,"answer_id":66316163,"question_id":54548029,"body_markdown":"Show human-readable size:\r\n\r\n```\r\nmc ls -r --json your_bucket_path | jq -s &#39;map(.size) | add&#39; | numfmt --to=iec-i --suffix=B --padding=7\r\n```","title":"Minio bucket size","body":"<p>Show human-readable size:</p>\n<pre><code>mc ls -r --json your_bucket_path | jq -s 'map(.size) | add' | numfmt --to=iec-i --suffix=B --padding=7\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5899608,"reputation":21780,"user_id":4643584,"accept_rate":64,"display_name":"Shakiba Moshiri"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1622798840,"creation_date":1622798840,"answer_id":67834823,"question_id":54548029,"body_markdown":"Yes we can.\r\n\r\n**first**  \r\nDownlaod the client e.g. [https://dl.min.io/client/mc/release/linux-amd64/mc](https://dl.min.io/client/mc/release/linux-amd64/mc) or any other OS you have\r\n\r\n**second**  \r\nset the proper configuration which you need:  \r\n - end-point e.g. `https://s3-buket.example.com`\r\n - access-key  e.g. `jgDbxCy9Uv35sQ7H`\r\n - secret-key  e.g. `EQqSA5OZLVYqZSztbgq28Seezn9pkX4V`\r\n\r\nand set it:  \r\n\r\n    minmc alias set s3p https://s3-buket.example.com &#39;jgDbxCy9Uv35sQ7H&#39; &#39;EQqSA5OZLVYqZSztbgq28Seezn9pkX4V&#39;\r\n\r\n - `minmc` MinIO client  \r\n - `alias set` options \r\n - `s3p` a name \r\n\r\nafter running it we will see:  \r\n\r\n    Added `s3p` successfully.\r\n\r\n**third**  \r\nthen you can run / use `mc` sub-command e.g. `ls` , `du` , etc \r\n\r\nhere is a screenshot  \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/o1jiC.png\r\n\r\n---\r\n\r\n[source](https://docs.min.io/docs/minio-client-complete-guide.html)","title":"Minio bucket size","body":"<p>Yes we can.</p>\n<p><strong>first</strong><br />\nDownlaod the client e.g. <a href=\"https://dl.min.io/client/mc/release/linux-amd64/mc\" rel=\"noreferrer\">https://dl.min.io/client/mc/release/linux-amd64/mc</a> or any other OS you have</p>\n<p><strong>second</strong><br />\nset the proper configuration which you need:</p>\n<ul>\n<li>end-point e.g. <code>https://s3-buket.example.com</code></li>\n<li>access-key  e.g. <code>jgDbxCy9Uv35sQ7H</code></li>\n<li>secret-key  e.g. <code>EQqSA5OZLVYqZSztbgq28Seezn9pkX4V</code></li>\n</ul>\n<p>and set it:</p>\n<pre><code>minmc alias set s3p https://s3-buket.example.com 'jgDbxCy9Uv35sQ7H' 'EQqSA5OZLVYqZSztbgq28Seezn9pkX4V'\n</code></pre>\n<ul>\n<li><code>minmc</code> MinIO client</li>\n<li><code>alias set</code> options</li>\n<li><code>s3p</code> a name</li>\n</ul>\n<p>after running it we will see:</p>\n<pre><code>Added `s3p` successfully.\n</code></pre>\n<p><strong>third</strong><br />\nthen you can run / use <code>mc</code> sub-command e.g. <code>ls</code> , <code>du</code> , etc</p>\n<p>here is a screenshot</p>\n<p><a href=\"https://i.stack.imgur.com/o1jiC.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/o1jiC.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p><a href=\"https://docs.min.io/docs/minio-client-complete-guide.html\" rel=\"noreferrer\">source</a></p>\n"},{"tags":[],"owner":{"account_id":7807707,"reputation":926,"user_id":5905029,"display_name":"Jeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677680754,"creation_date":1677304602,"answer_id":75563566,"question_id":54548029,"body_markdown":"The minio client `mc` as of version [2019-08-14T20-49-49Z](https://github.com/minio/mc/releases/tag/RELEASE.2019-08-14T20-49-49Z) has a `du` subcommand that can be used as follows to determine the size of a bucket:\r\n\r\n```\r\nmc du --depth 1 &lt;alias&gt;/your_bucket_path\r\n```\r\n\r\nwhere `&lt;alias&gt;` is a configuration for an S3 endpoint in accordance with the [mc documentation](https://min.io/docs/minio/linux/reference/minio-mc.html).","title":"Minio bucket size","body":"<p>The minio client <code>mc</code> as of version <a href=\"https://github.com/minio/mc/releases/tag/RELEASE.2019-08-14T20-49-49Z\" rel=\"nofollow noreferrer\">2019-08-14T20-49-49Z</a> has a <code>du</code> subcommand that can be used as follows to determine the size of a bucket:</p>\n<pre><code>mc du --depth 1 &lt;alias&gt;/your_bucket_path\n</code></pre>\n<p>where <code>&lt;alias&gt;</code> is a configuration for an S3 endpoint in accordance with the <a href=\"https://min.io/docs/minio/linux/reference/minio-mc.html\" rel=\"nofollow noreferrer\">mc documentation</a>.</p>\n"}],"owner":{"account_id":15009298,"reputation":75,"user_id":10834275,"display_name":"shiva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10491,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":5,"score":6,"last_activity_date":1677680754,"creation_date":1549435571,"question_id":54548029,"body_markdown":"I want to calculate bucket size of minio.\r\nis it possible to calculate storage quota using MinioClient?\r\n or is there any best way to calculate bucket size of minio storage.\r\n\r\n\r\nthanks in advance ","title":"Minio bucket size","body":"<p>I want to calculate bucket size of minio.\nis it possible to calculate storage quota using MinioClient?\n or is there any best way to calculate bucket size of minio storage.</p>\n\n<p>thanks in advance </p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1677243429,"post_id":75556759,"comment_id":133304283,"body_markdown":"I don&#39;t see anything wrong. It might be your IDE playing tricks on you. What happens if you run the application from the command line (eg. by running `.\\mvnw spring-boot:run`)?","body":"I don&#39;t see anything wrong. It might be your IDE playing tricks on you. What happens if you run the application from the command line (eg. by running <code>.\\mvnw spring-boot:run</code>)?"},{"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"score":0,"creation_date":1677244047,"post_id":75556759,"comment_id":133304447,"body_markdown":"@g00glen00b same result","body":"@g00glen00b same result"},{"owner":{"account_id":2274474,"reputation":119,"user_id":6536262,"display_name":"Viki Jain"},"score":0,"creation_date":1677246080,"post_id":75556759,"comment_id":133305015,"body_markdown":"you can try @ComponentScan(basePackages = {&quot;com.example.demo&quot;}) on top of your main class.","body":"you can try @ComponentScan(basePackages = {&quot;com.example.demo&quot;}) on top of your main class."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677571713,"post_id":75557282,"comment_id":133359300,"body_markdown":"You are running into [this issue](https://github.com/spring-projects/spring-boot/issues/34379).","body":"You are running into <a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">this issue</a>."}],"tags":[],"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677680449,"creation_date":1677246177,"answer_id":75557282,"question_id":75556759,"body_markdown":"Apparently, the problem was because I was using special characters in the project directory. My windows is in Turkish and desktop is Masa&#252;st&#252;, in Turkish.\r\n\r\nAfter enabling debug logs I found out that when the component scan was being conducted, it was throwing the following error:-\r\n```\r\n2023-02-24T16:19:22.500+03:00 DEBUG 4796 --- [           main] .i.s.PathMatchingResourcePatternResolver : Failed to complete search in directory [C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo] for files matching pattern [*/.class]: java.nio.file.NoSuchFileException: C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo\r\n```\r\n\r\nSo I changed my project folder to somewhere else (and also had to remove the whitespace from the folder name) and the problem was solved.","title":"Spring Boot Application RestController defined outside Application can not be accessed","body":"<p>Apparently, the problem was because I was using special characters in the project directory. My windows is in Turkish and desktop is Masaüstü, in Turkish.</p>\n<p>After enabling debug logs I found out that when the component scan was being conducted, it was throwing the following error:-</p>\n<pre><code>2023-02-24T16:19:22.500+03:00 DEBUG 4796 --- [           main] .i.s.PathMatchingResourcePatternResolver : Failed to complete search in directory [C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo] for files matching pattern [*/.class]: java.nio.file.NoSuchFileException: C:\\Users\\ARDA\\OneDrive\\Masa%c3%bcst%c3%bc\\demo\\target\\classes\\com\\example\\demo\n</code></pre>\n<p>So I changed my project folder to somewhere else (and also had to remove the whitespace from the folder name) and the problem was solved.</p>\n"}],"owner":{"account_id":20202140,"reputation":11,"user_id":14817566,"display_name":"Arda C&#252;ce"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75557282,"answer_count":1,"score":1,"last_activity_date":1677680449,"creation_date":1677242966,"question_id":75556759,"body_markdown":"I&#39;m trying to use both java and Spring Boot for the first time, following a tutorial.\r\n\r\nI have created a class called UserController in a package called User, in which I have defined an endpoint, contents of UserController.java :\r\n\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/user&quot;)\r\npublic class UserController {\r\n    @GetMapping(&quot;/&quot;)\r\n    public List&lt;User&gt; hello() {\r\n        User myUser = new User(5000, 1, 1);\r\n        return List.of(myUser);\r\n    }\r\n}\r\n```\r\n\r\nUser package also includes class named User in User.java with getters, setters and constructers for the User class.\r\n\r\nAnd in the same hierarchy as the user package, I have DemoApplication.java with the following content:\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\nI am expecting to receive a response such as [User] ......, however I get 404 not found.\r\n\r\n\r\n[this](https://i.stack.imgur.com/Oiu4R.png) is what my project structure looks like\r\n\r\n\r\nWhat am I doing wrong here? Searched a lot to find an answer to no avail.\r\n\r\nThank you for your help in advance.\r\n\r\nWhen I modify the code so that I define the end point inside DemoApplication.java as such:\r\n\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport com.example.demo.user.User;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@SpringBootApplication\r\n@RestController\r\n@RequestMapping(path = &quot;/api/v1/user&quot;)\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\t@GetMapping(&quot;/&quot;)\r\n\tpublic List&lt;User&gt; hello() {\r\n\t\tUser myUser = new User(5000, 1, 1);\r\n\t\treturn List.of(myUser);\r\n\t}\r\n}\r\n\r\n```\r\nThe endpoint starts working as expected.\r\nBut I was expecting it to keep on giving 404 because I am not doing anything fundamentally different.\r\n\r\nThis is the endpoint I&#39;m sending GET requests using postman:\r\nhttp://localhost:8080/api/v1/user/","title":"Spring Boot Application RestController defined outside Application can not be accessed","body":"<p>I'm trying to use both java and Spring Boot for the first time, following a tutorial.</p>\n<p>I have created a class called UserController in a package called User, in which I have defined an endpoint, contents of UserController.java :</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path = &quot;/api/v1/user&quot;)\npublic class UserController {\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; hello() {\n        User myUser = new User(5000, 1, 1);\n        return List.of(myUser);\n    }\n}\n</code></pre>\n<p>User package also includes class named User in User.java with getters, setters and constructers for the User class.</p>\n<p>And in the same hierarchy as the user package, I have DemoApplication.java with the following content:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>I am expecting to receive a response such as [User] ......, however I get 404 not found.</p>\n<p><a href=\"https://i.stack.imgur.com/Oiu4R.png\" rel=\"nofollow noreferrer\">this</a> is what my project structure looks like</p>\n<p>What am I doing wrong here? Searched a lot to find an answer to no avail.</p>\n<p>Thank you for your help in advance.</p>\n<p>When I modify the code so that I define the end point inside DemoApplication.java as such:</p>\n<pre><code>package com.example.demo;\n\nimport com.example.demo.user.User;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@SpringBootApplication\n@RestController\n@RequestMapping(path = &quot;/api/v1/user&quot;)\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n    @GetMapping(&quot;/&quot;)\n    public List&lt;User&gt; hello() {\n        User myUser = new User(5000, 1, 1);\n        return List.of(myUser);\n    }\n}\n\n</code></pre>\n<p>The endpoint starts working as expected.\nBut I was expecting it to keep on giving 404 because I am not doing anything fundamentally different.</p>\n<p>This is the endpoint I'm sending GET requests using postman:\nhttp://localhost:8080/api/v1/user/</p>\n"},{"tags":["java","spring","tomcat","web-applications"],"answers":[{"tags":[],"owner":{"account_id":12597284,"reputation":1,"user_id":9161377,"display_name":"Thinkers Hive"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677428116,"creation_date":1677428116,"answer_id":75573311,"question_id":75569749,"body_markdown":"Never mind, figured out, tomcat application cache files was leading to this error. Cleared work folder for the app and it picked up correct config and jars.","title":"FileNotFoundException exception for jar explicitly removed from war in tomcat","body":"<p>Never mind, figured out, tomcat application cache files was leading to this error. Cleared work folder for the app and it picked up correct config and jars.</p>\n"}],"owner":{"account_id":12597284,"reputation":1,"user_id":9161377,"display_name":"Thinkers Hive"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677680383,"creation_date":1677380260,"question_id":75569749,"body_markdown":"We recently upgraded our application from Spring - `4.3.2.RELEASE` to `4.3.30.RELEASE` and started observing following `FileNotFoundException` for our application in `.war` format with following tech stack:\r\n\r\n```\r\nJDK - 8\r\nTomcat - 8\r\nSpring - 4.3.30.RELEASE\r\n```\r\n\r\nWe confirm that due to following war settings, we don&#39;t have file in the lib but not sure why it&#39;s looking for that specific jar to begin with.\r\n\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;webappDirectory&gt;${env.WAR_PATH}&lt;/webappDirectory&gt;\r\n\t\t&lt;packagingExcludes&gt;WEB-INF/lib/*-4.3.2.RELEASE.jar&lt;/packagingExcludes&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n```\r\njava.io.FileNotFoundException: /opt/tomcat/{appName}/WEB-INF/lib/spring-core-4.3.2.RELEASE.jar (No such file or directory)\r\n\tjava.util.zip.ZipFile.open(Native Method)\r\n\tjava.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219)\r\n\tjava.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149)\r\n\tjava.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\r\n\tjava.util.jar.JarFile.&lt;init&gt;(JarFile.java:103)\r\n\torg.apache.catalina.webresources.AbstractArchiveResourceSet.openJarFile(AbstractArchiveResourceSet.java:308)\r\n\torg.apache.catalina.webresources.JarResourceSet.getArchiveEntry(JarResourceSet.java:119)\r\n\torg.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:260)\r\n\torg.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\r\n\torg.apache.catalina.webresources.Cache.getResource(Cache.java:63)\r\n    ...\r\n```\r\n\r\nAny pointers towards same would be helpful.\r\n\r\nIt&#39;s a normal web application deployed on tomcat and ideally it should come up and server the html pages.","title":"FileNotFoundException exception for jar explicitly removed from war in tomcat","body":"<p>We recently upgraded our application from Spring - <code>4.3.2.RELEASE</code> to <code>4.3.30.RELEASE</code> and started observing following <code>FileNotFoundException</code> for our application in <code>.war</code> format with following tech stack:</p>\n<pre><code>JDK - 8\nTomcat - 8\nSpring - 4.3.30.RELEASE\n</code></pre>\n<p>We confirm that due to following war settings, we don't have file in the lib but not sure why it's looking for that specific jar to begin with.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;webappDirectory&gt;${env.WAR_PATH}&lt;/webappDirectory&gt;\n        &lt;packagingExcludes&gt;WEB-INF/lib/*-4.3.2.RELEASE.jar&lt;/packagingExcludes&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<pre><code>java.io.FileNotFoundException: /opt/tomcat/{appName}/WEB-INF/lib/spring-core-4.3.2.RELEASE.jar (No such file or directory)\n    java.util.zip.ZipFile.open(Native Method)\n    java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:219)\n    java.util.zip.ZipFile.&lt;init&gt;(ZipFile.java:149)\n    java.util.jar.JarFile.&lt;init&gt;(JarFile.java:166)\n    java.util.jar.JarFile.&lt;init&gt;(JarFile.java:103)\n    org.apache.catalina.webresources.AbstractArchiveResourceSet.openJarFile(AbstractArchiveResourceSet.java:308)\n    org.apache.catalina.webresources.JarResourceSet.getArchiveEntry(JarResourceSet.java:119)\n    org.apache.catalina.webresources.AbstractArchiveResourceSet.getResource(AbstractArchiveResourceSet.java:260)\n    org.apache.catalina.webresources.StandardRoot.getResourceInternal(StandardRoot.java:281)\n    org.apache.catalina.webresources.Cache.getResource(Cache.java:63)\n    ...\n</code></pre>\n<p>Any pointers towards same would be helpful.</p>\n<p>It's a normal web application deployed on tomcat and ideally it should come up and server the html pages.</p>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":194308,"reputation":66745,"user_id":436560,"accept_rate":87,"display_name":"Lajos Arpad"},"score":0,"creation_date":1677682261,"post_id":75600648,"comment_id":133386310,"body_markdown":"You will need to provide information about what are you posting to and how; and you also need to provide some server-side code that is responsible to handle your post.","body":"You will need to provide information about what are you posting to and how; and you also need to provide some server-side code that is responsible to handle your post."}],"owner":{"account_id":27469484,"reputation":1,"user_id":20958680,"display_name":"bava"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677680369,"creation_date":1677655685,"question_id":75600648,"body_markdown":"I tried to build JSON API using java jersey. Problem here is there are two tables, I am inserting data in one table and expecting the response to join the two tables, but this doesn&#39;t work, please find the procedure we followed below.\r\n**\r\nPOST OPERATION**\r\n\r\n**Expected JSON Response**\r\n\r\n```\r\n {\r\n    &quot;data&quot;: {\r\n        &quot;id&quot;: &quot;c&quot;,\r\n        &quot;createTimestamp&quot;: &quot;2023-02-22T15:03:53&quot;,\r\n        &quot;createUser&quot;: &quot;TODO&quot;,\r\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:24:47.570574400&quot;,\r\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n        &quot;inactive&quot;: false,\r\n        &quot;key&quot;: &quot;c&quot;,\r\n        &quot;parentKey&quot;: &quot;1&quot;,\r\n        &quot;userGroup&quot;: {\r\n            &quot;id&quot;: &quot;c&quot;,\r\n            &quot;createTimestamp&quot;: &quot;2023-02-14T17:42:08.987582&quot;,\r\n            &quot;createUser&quot;: &quot;TODO&quot;,\r\n            &quot;modifyTimestamp&quot;: &quot;2023-02-14T17:42:08.986584&quot;,\r\n            &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n            &quot;description&quot;: &quot;6th Group&quot;,\r\n            &quot;inactive&quot;: true,\r\n            &quot;key&quot;: &quot;c&quot;,\r\n            &quot;userGroupId&quot;: &quot;c&quot;\r\n        },\r\n        &quot;userGroupId&quot;: &quot;c&quot;,\r\n        &quot;userId&quot;: &quot;1&quot;\r\n    }\r\n}\r\n```\r\n\r\n**Actual JSON Response**\r\n\r\n\r\n```\r\n{\r\n    &quot;data&quot;: {\r\n        &quot;id&quot;: &quot;dgg&quot;,\r\n        &quot;createTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\r\n        &quot;createUser&quot;: &quot;TODO&quot;,\r\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\r\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\r\n        &quot;inactive&quot;: false,\r\n        &quot;key&quot;: &quot;dgg&quot;,\r\n        &quot;parentKey&quot;: &quot;4&quot;,\r\n        &quot;userGroupId&quot;: &quot;dgg&quot;,\r\n        &quot;userId&quot;: &quot;4&quot;\r\n    }\r\n}\r\n```\r\n\r\n**Entities **\r\n\r\n\r\n```\r\n @Entity\r\n @Table(name = &quot;USER_ACCESS_GROUPS&quot;)\r\n\r\npublic class UserAccessGroup extends AbstractChildEntityWithAudit&lt;String, String&gt; implements IActivate {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\t@Id\r\n\t@Column(name = &quot;USER_ID&quot;)\r\n\tprivate String userId;\r\n\t@Id\r\n\r\n\t@Column(name = &quot;USER_GROUP_ID&quot;)\r\n\tprivate String userGroupId;\r\n\t\r\n\t@Column(name=&quot;INACTIVE&quot;)\r\n\tprivate Boolean inactive;\r\n\t\r\n\t@OneToOne(cascade = CascadeType.ALL)\r\n\t@JoinColumn(name = &quot;USER_GROUP_ID&quot;, referencedColumnName = &quot;USER_GROUP_ID&quot;, insertable = false, updatable = false)\r\n\tprivate UserGroup userGroup;\r\n\r\n\tpublic UserGroup getUserGroup() {\r\n\t\treturn userGroup;\r\n\t}\r\n\r\n\tpublic void setUserGroup(UserGroup userGroup) {\r\n\t\tthis.userGroup = userGroup;\r\n\t}\r\n\r\n\tpublic UserAccessGroup() {\r\n\t}\r\n\r\n\tpublic String getUserId() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\tpublic void setUserId(String userId) {\r\n\t\tthis.userId = userId;\r\n\t}\r\n\r\n\tpublic String getUserGroupId() {\r\n\t\treturn userGroupId;\r\n\t}\r\n\r\n\tpublic void setUserGroupId(String userGroupId) {\r\n\t\tthis.userGroupId = userGroupId;\r\n\t}\r\n\r\n\r\n\tpublic Boolean getInactive() {\r\n\t\treturn this.inactive;\r\n\t}\r\n\r\n\tpublic void setInactive(Boolean inactive) {\r\n\t\tthis.inactive = inactive;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getKey() {\r\n\t\treturn userGroupId;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setKey(String key) {\r\n\t\tthis.userGroupId = key;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getParentKey() {\r\n\t\treturn userId;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void setParentKey(String parentKey) {\r\n\t\tthis.userId = parentKey;\r\n\t}\r\n}\r\n```\r\n\r\n\r\ntry to get the post response ","title":"one to one mapping does not bring data in post operation java","body":"<p>I tried to build JSON API using java jersey. Problem here is there are two tables, I am inserting data in one table and expecting the response to join the two tables, but this doesn't work, please find the procedure we followed below.\n**\nPOST OPERATION**</p>\n<p><strong>Expected JSON Response</strong></p>\n<pre><code> {\n    &quot;data&quot;: {\n        &quot;id&quot;: &quot;c&quot;,\n        &quot;createTimestamp&quot;: &quot;2023-02-22T15:03:53&quot;,\n        &quot;createUser&quot;: &quot;TODO&quot;,\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:24:47.570574400&quot;,\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\n        &quot;inactive&quot;: false,\n        &quot;key&quot;: &quot;c&quot;,\n        &quot;parentKey&quot;: &quot;1&quot;,\n        &quot;userGroup&quot;: {\n            &quot;id&quot;: &quot;c&quot;,\n            &quot;createTimestamp&quot;: &quot;2023-02-14T17:42:08.987582&quot;,\n            &quot;createUser&quot;: &quot;TODO&quot;,\n            &quot;modifyTimestamp&quot;: &quot;2023-02-14T17:42:08.986584&quot;,\n            &quot;modifyUser&quot;: &quot;TODO&quot;,\n            &quot;description&quot;: &quot;6th Group&quot;,\n            &quot;inactive&quot;: true,\n            &quot;key&quot;: &quot;c&quot;,\n            &quot;userGroupId&quot;: &quot;c&quot;\n        },\n        &quot;userGroupId&quot;: &quot;c&quot;,\n        &quot;userId&quot;: &quot;1&quot;\n    }\n}\n</code></pre>\n<p><strong>Actual JSON Response</strong></p>\n<pre><code>{\n    &quot;data&quot;: {\n        &quot;id&quot;: &quot;dgg&quot;,\n        &quot;createTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\n        &quot;createUser&quot;: &quot;TODO&quot;,\n        &quot;modifyTimestamp&quot;: &quot;2023-03-01T12:28:05.159301200&quot;,\n        &quot;modifyUser&quot;: &quot;TODO&quot;,\n        &quot;inactive&quot;: false,\n        &quot;key&quot;: &quot;dgg&quot;,\n        &quot;parentKey&quot;: &quot;4&quot;,\n        &quot;userGroupId&quot;: &quot;dgg&quot;,\n        &quot;userId&quot;: &quot;4&quot;\n    }\n}\n</code></pre>\n<p>**Entities **</p>\n<pre><code> @Entity\n @Table(name = &quot;USER_ACCESS_GROUPS&quot;)\n\npublic class UserAccessGroup extends AbstractChildEntityWithAudit&lt;String, String&gt; implements IActivate {\n    private static final long serialVersionUID = 1L;\n    @Id\n    @Column(name = &quot;USER_ID&quot;)\n    private String userId;\n    @Id\n\n    @Column(name = &quot;USER_GROUP_ID&quot;)\n    private String userGroupId;\n    \n    @Column(name=&quot;INACTIVE&quot;)\n    private Boolean inactive;\n    \n    @OneToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;USER_GROUP_ID&quot;, referencedColumnName = &quot;USER_GROUP_ID&quot;, insertable = false, updatable = false)\n    private UserGroup userGroup;\n\n    public UserGroup getUserGroup() {\n        return userGroup;\n    }\n\n    public void setUserGroup(UserGroup userGroup) {\n        this.userGroup = userGroup;\n    }\n\n    public UserAccessGroup() {\n    }\n\n    public String getUserId() {\n        return userId;\n    }\n\n    public void setUserId(String userId) {\n        this.userId = userId;\n    }\n\n    public String getUserGroupId() {\n        return userGroupId;\n    }\n\n    public void setUserGroupId(String userGroupId) {\n        this.userGroupId = userGroupId;\n    }\n\n\n    public Boolean getInactive() {\n        return this.inactive;\n    }\n\n    public void setInactive(Boolean inactive) {\n        this.inactive = inactive;\n    }\n\n    @Override\n    public String getKey() {\n        return userGroupId;\n    }\n\n    @Override\n    public void setKey(String key) {\n        this.userGroupId = key;\n    }\n\n    @Override\n    public String getParentKey() {\n        return userId;\n    }\n\n    @Override\n    public void setParentKey(String parentKey) {\n        this.userId = parentKey;\n    }\n}\n</code></pre>\n<p>try to get the post response</p>\n"},{"tags":["java","spring","spring-boot","annotations"],"comments":[{"owner":{"account_id":1223835,"reputation":75888,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1624422141,"post_id":68093250,"comment_id":120351281,"body_markdown":"Why not just call them all sequentially yourself? For that matter, `@PostConstruct` is generally flaky and is usually better replaced with a constructor.","body":"Why not just call them all sequentially yourself? For that matter, <code>@PostConstruct</code> is generally flaky and is usually better replaced with a constructor."},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677699678,"post_id":68093250,"comment_id":133391652,"body_markdown":"Please update your question to explain why you can&#39;t simply call the methods in the correct order from a single @PostConstruct method, also, include some code to illustrate what you&#39;re trying to accomplish.","body":"Please update your question to explain why you can&#39;t simply call the methods in the correct order from a single @PostConstruct method, also, include some code to illustrate what you&#39;re trying to accomplish."}],"answers":[{"comments":[{"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"score":0,"creation_date":1624421169,"post_id":68093347,"comment_id":120351130,"body_markdown":"Each method is independent, temporarily unable to put it in one method","body":"Each method is independent, temporarily unable to put it in one method"}],"tags":[],"owner":{"account_id":11250838,"reputation":54,"user_id":8251986,"display_name":"pg26"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1624420660,"creation_date":1624420660,"answer_id":68093347,"question_id":68093250,"body_markdown":"You can try calling these methods from a single @postconstruct method.","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>You can try calling these methods from a single @postconstruct method.</p>\n"},{"tags":[],"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624421746,"creation_date":1624421746,"answer_id":68093463,"question_id":68093250,"body_markdown":"    @Bean\r\n    public void test1(){\r\n        System.out.println(&quot;bean A init&quot;);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @DependsOn(&quot;test1&quot;)\r\n    public void test2(){\r\n        System.out.println(&quot;test2&quot;);\r\n    }\r\n\r\n\r\n    @Bean\r\n    @DependsOn(&quot;test2&quot;)\r\n    public void test3(){\r\n        System.out.println(&quot;test3&quot;);\r\n    }\r\nYou can use this scenario to control the loading order","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<pre><code>@Bean\npublic void test1(){\n    System.out.println(&quot;bean A init&quot;);\n}\n\n\n@Bean\n@DependsOn(&quot;test1&quot;)\npublic void test2(){\n    System.out.println(&quot;test2&quot;);\n}\n\n\n@Bean\n@DependsOn(&quot;test2&quot;)\npublic void test3(){\n    System.out.println(&quot;test3&quot;);\n}\n</code></pre>\n<p>You can use this scenario to control the loading order</p>\n"},{"tags":[],"owner":{"account_id":21157823,"reputation":1,"user_id":15556730,"display_name":"thinhhja2001"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677680338,"creation_date":1677680338,"answer_id":75604895,"question_id":68093250,"body_markdown":"Try this\r\n```\r\npublic void method1() {\r\n        System.out.println(&quot;method 1&quot;);\r\n    }\r\n\r\n    public void method2() {\r\n        System.out.println(&quot;method 2&quot;);\r\n    }\r\n\r\n    public void method3() {\r\n        System.out.println(&quot;method 3&quot;);\r\n    }\r\n\r\n    @PostConstruct\r\n    public void postConstruct() {\r\n        method1();\r\n        method2();\r\n        method3();\r\n    }\r\n```\r\nresult:\r\n```\r\nmethod 1\r\nmethod 2\r\nmethod 3\r\n```","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>Try this</p>\n<pre><code>public void method1() {\n        System.out.println(&quot;method 1&quot;);\n    }\n\n    public void method2() {\n        System.out.println(&quot;method 2&quot;);\n    }\n\n    public void method3() {\n        System.out.println(&quot;method 3&quot;);\n    }\n\n    @PostConstruct\n    public void postConstruct() {\n        method1();\n        method2();\n        method3();\n    }\n</code></pre>\n<p>result:</p>\n<pre><code>method 1\nmethod 2\nmethod 3\n</code></pre>\n"}],"owner":{"account_id":11083715,"reputation":59,"user_id":8138190,"display_name":"dengshuo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1677680338,"creation_date":1624419623,"question_id":68093250,"body_markdown":"I hope they will be executed in the specified order, but the execution result is random,Use @order invalid,Each method is independent, temporarily unable to put it in one method","title":"I want multiple @ postconstruct methods in a class to be executed sequentially","body":"<p>I hope they will be executed in the specified order, but the execution result is random,Use @order invalid,Each method is independent, temporarily unable to put it in one method</p>\n"},{"tags":["java","project-reactor"],"comments":[{"owner":{"account_id":3168631,"reputation":3561,"user_id":2678097,"display_name":"amanin"},"score":2,"creation_date":1677686397,"post_id":75603978,"comment_id":133387708,"body_markdown":"When providing a subscriber object, you are responsible for triggering requests from subscription. In the `onSubscribe(Subscription subscription)` method, you have to call `subscription.request(n)` with `n` the max number of items you want to consume before requesting more. This is descibed in [Subscriber api doc](https://www.reactive-streams.org/reactive-streams-1.0.3-javadoc/org/reactivestreams/Subscriber.html?is-external=true)","body":"When providing a subscriber object, you are responsible for triggering requests from subscription. In the <code>onSubscribe(Subscription subscription)</code> method, you have to call <code>subscription.request(n)</code> with <code>n</code> the max number of items you want to consume before requesting more. This is descibed in <a href=\"https://www.reactive-streams.org/reactive-streams-1.0.3-javadoc/org/reactivestreams/Subscriber.html?is-external=true\" rel=\"nofollow noreferrer\">Subscriber api doc</a>"}],"owner":{"account_id":8728958,"reputation":873,"user_id":6529706,"accept_rate":27,"display_name":"Zizou"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677680190,"creation_date":1677675069,"question_id":75603978,"body_markdown":"I have the following code \r\n\r\n    \r\n\r\n    Flux&lt;String&gt; myFlux=getFlux();\r\n        documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                new Subscriber&lt;&gt;() {\r\n                  @Override\r\n                  public void onComplete() {\r\n                    System.out.println(&quot;complete&quot;);\r\n                  countDownLatch.countDown();\r\n                  }    \r\n                  @Override\r\n                  public void onError(Throwable e) {\r\n                    System.out.println(&quot;error&quot;);\r\n                    countDownLatch.countDown();\r\n                  }   \r\n                  @Override\r\n                  public void onSubscribe(Subscription subscription) {\r\n                    System.out.println(&quot;dd&quot;);\r\n                  }    \r\n                  @Override\r\n                  public void onNext(List&lt;BaseEntity&gt; entities) {\r\n                    System.out.println(&quot;next&quot;);\r\n                  }\r\n                });\r\n               countDownLatch.await();\r\n\r\nOnly the onSubscribe method is being called.\r\nMy program keep blocked on &quot;countDownLatch.await();&quot;\r\n\r\nI have tried also using BaseSubscriber but same issue.\r\nHere is a sample of the code I&#39;m currently using.\r\n\r\n    documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                new BaseSubscriber&lt;&gt;() {\r\n                  @Override\r\n                  public void hookOnComplete() {\r\n                    System.out.println(&quot;complete&quot;);\r\n                    countDownLatch.countDown();\r\n                  }    \r\n                  @Override\r\n                  public void hookOnError(Throwable e) {\r\n                    System.out.println(&quot;error&quot;);\r\n                    countDownLatch.countDown();\r\n                  }  \r\n                  @Override\r\n                  public void hookOnSubscribe(Subscription subscription) {\r\n                    System.out.println(&quot;dd&quot;);\r\n                  }   \r\n                  @Override\r\n                  public void hookOnNext(List&lt;BaseEntity&gt; entities) {\r\n                    System.out.println(&quot;next&quot;);\r\n                  }\r\n                });\r\n                countDownLatch.await();\r\n\r\nBut if I use the consumer method- I can consume my flus successfully.\r\n\r\n    documentIds\r\n            .windowTimeout(WINDOW, Duration.ofSeconds(5))\r\n            .onBackpressureBuffer()\r\n            .takeWhile(d -&gt; !interrupted.get())\r\n            .subscribeOn(Schedulers.fromExecutor(processorThread))\r\n    \t\t.buffer(bufferSize)\r\n    \t\tsubscribe(\r\n                item -&gt; {\r\n                  System.out.println(&quot;next&quot;);\r\n                },\r\n                error -&gt; {\r\n                  System.out.println(error);\r\n                },\r\n                () -&gt; {\r\n                  System.out.println(&quot;complete&quot;);\r\n                });\r\n\r\nAny explanation please about this behavior?","title":"onNext and onComplete not called when using anonymous subscriber","body":"<p>I have the following code</p>\n<pre><code>Flux&lt;String&gt; myFlux=getFlux();\n    documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            new Subscriber&lt;&gt;() {\n              @Override\n              public void onComplete() {\n                System.out.println(&quot;complete&quot;);\n              countDownLatch.countDown();\n              }    \n              @Override\n              public void onError(Throwable e) {\n                System.out.println(&quot;error&quot;);\n                countDownLatch.countDown();\n              }   \n              @Override\n              public void onSubscribe(Subscription subscription) {\n                System.out.println(&quot;dd&quot;);\n              }    \n              @Override\n              public void onNext(List&lt;BaseEntity&gt; entities) {\n                System.out.println(&quot;next&quot;);\n              }\n            });\n           countDownLatch.await();\n</code></pre>\n<p>Only the onSubscribe method is being called.\nMy program keep blocked on &quot;countDownLatch.await();&quot;</p>\n<p>I have tried also using BaseSubscriber but same issue.\nHere is a sample of the code I'm currently using.</p>\n<pre><code>documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            new BaseSubscriber&lt;&gt;() {\n              @Override\n              public void hookOnComplete() {\n                System.out.println(&quot;complete&quot;);\n                countDownLatch.countDown();\n              }    \n              @Override\n              public void hookOnError(Throwable e) {\n                System.out.println(&quot;error&quot;);\n                countDownLatch.countDown();\n              }  \n              @Override\n              public void hookOnSubscribe(Subscription subscription) {\n                System.out.println(&quot;dd&quot;);\n              }   \n              @Override\n              public void hookOnNext(List&lt;BaseEntity&gt; entities) {\n                System.out.println(&quot;next&quot;);\n              }\n            });\n            countDownLatch.await();\n</code></pre>\n<p>But if I use the consumer method- I can consume my flus successfully.</p>\n<pre><code>documentIds\n        .windowTimeout(WINDOW, Duration.ofSeconds(5))\n        .onBackpressureBuffer()\n        .takeWhile(d -&gt; !interrupted.get())\n        .subscribeOn(Schedulers.fromExecutor(processorThread))\n        .buffer(bufferSize)\n        subscribe(\n            item -&gt; {\n              System.out.println(&quot;next&quot;);\n            },\n            error -&gt; {\n              System.out.println(error);\n            },\n            () -&gt; {\n              System.out.println(&quot;complete&quot;);\n            });\n</code></pre>\n<p>Any explanation please about this behavior?</p>\n"},{"tags":["java","spring-webflux"],"answers":[{"tags":[],"owner":{"account_id":19395247,"reputation":3208,"user_id":14183092,"display_name":"kerbermeister"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677680136,"creation_date":1677680136,"answer_id":75604872,"question_id":75604777,"body_markdown":"You don&#39;t have to call `subscribe()`\r\n\r\nJust continue your reactive chain using `flatMap()` operator:\r\n\r\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\r\n        return credentialService.getServerCredential(resourceType)\r\n                .flatMap(credential -&gt; searchResource(credential));\r\n    }\r\n\r\n    private Mono&lt;String&gt; searchResource(ServerCredential credential) {\r\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\r\n        return client.post()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(RETRY_COUNT);\r\n    }\r\n\r\n\r\nYour `searchResource()` method would be called when `getServerCredential(resourceType)` emitted the value.","title":"How do I design rest controller with spring webflux so it is non-blocking?","body":"<p>You don't have to call <code>subscribe()</code></p>\n<p>Just continue your reactive chain using <code>flatMap()</code> operator:</p>\n<pre><code>public Mono&lt;String&gt; getResource(ResourceType resourceType) {\n    return credentialService.getServerCredential(resourceType)\n            .flatMap(credential -&gt; searchResource(credential));\n}\n\nprivate Mono&lt;String&gt; searchResource(ServerCredential credential) {\n    WebClient client = WebClient.create(credential.getServer().getServerUrl());\n    return client.post()\n            .accept(MediaType.APPLICATION_JSON)\n            .contentType(MediaType.APPLICATION_JSON)\n            .retrieve()\n            .bodyToMono(String.class)\n            .retry(RETRY_COUNT);\n}\n</code></pre>\n<p>Your <code>searchResource()</code> method would be called when <code>getServerCredential(resourceType)</code> emitted the value.</p>\n"}],"owner":{"account_id":9797098,"reputation":582,"user_id":7259705,"display_name":"Jonathan Hagen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75604872,"answer_count":1,"score":0,"last_activity_date":1677680136,"creation_date":1677679600,"question_id":75604777,"body_markdown":"this is my first time trying to utilize Webflux. I have a controller that returns Mono&lt;String&gt; object like this:\r\n```\r\n    @GetMapping(path = &quot;/{resourceType}&quot;, produces = APPLICATION_JSON_VALUE)\r\n    public Mono&lt;String&gt; getData(@NotBlank @PathVariable ResourceType resourceType) {\r\n        return resourceService.getResource(resourceType);\r\n\r\n    }\r\n```\r\nIn the resourceService, I am creating an object using `resourceType` and want to build a string by calling another endpoint something like this:\r\n```\r\n    @Override\r\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\r\n        Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);\r\n        //want to call an endpoint using WebClient to receive response and return that response back to controller layer\r\n    }\r\n```\r\nIf I subscribe to `credentialMono` to call endpoint like this:\r\n```\r\ncredentialMono.subscribe(credential -&gt; callApi(credential));\r\n```\r\nI am not sure if this can return anything back to the caller. I would like to return `Mono&lt;String&gt;` object back to controller and this `Mono&lt;String&gt;` object will be received from api call something like this:\r\n```\r\nprivate Mono&lt;String&gt; searchResource(ServerCredential credential) {\r\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\r\n        return client.post()\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .retrieve()\r\n                .bodyToMono(String.class)\r\n                .retry(RETRY_COUNT)\r\n    }\r\n```\r\nIt is not working code, but something like this. I want to call this method from `Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);` and essentially return back response to controller. How can I achieve this? Am I even going into the right direction?","title":"How do I design rest controller with spring webflux so it is non-blocking?","body":"<p>this is my first time trying to utilize Webflux. I have a controller that returns Mono object like this:</p>\n<pre><code>    @GetMapping(path = &quot;/{resourceType}&quot;, produces = APPLICATION_JSON_VALUE)\n    public Mono&lt;String&gt; getData(@NotBlank @PathVariable ResourceType resourceType) {\n        return resourceService.getResource(resourceType);\n\n    }\n</code></pre>\n<p>In the resourceService, I am creating an object using <code>resourceType</code> and want to build a string by calling another endpoint something like this:</p>\n<pre><code>    @Override\n    public Mono&lt;String&gt; getResource(ResourceType resourceType) {\n        Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);\n        //want to call an endpoint using WebClient to receive response and return that response back to controller layer\n    }\n</code></pre>\n<p>If I subscribe to <code>credentialMono</code> to call endpoint like this:</p>\n<pre><code>credentialMono.subscribe(credential -&gt; callApi(credential));\n</code></pre>\n<p>I am not sure if this can return anything back to the caller. I would like to return <code>Mono&lt;String&gt;</code> object back to controller and this <code>Mono&lt;String&gt;</code> object will be received from api call something like this:</p>\n<pre><code>private Mono&lt;String&gt; searchResource(ServerCredential credential) {\n        WebClient client = WebClient.create(credential.getServer().getServerUrl());\n        return client.post()\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON)\n                .retrieve()\n                .bodyToMono(String.class)\n                .retry(RETRY_COUNT)\n    }\n</code></pre>\n<p>It is not working code, but something like this. I want to call this method from <code>Mono&lt;ServerCredential&gt; credentialMono = credentialService.getServerCredential(resourceType);</code> and essentially return back response to controller. How can I achieve this? Am I even going into the right direction?</p>\n"},{"tags":["java","jsp","tomcat"],"answers":[{"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1677685720,"post_id":75604838,"comment_id":133387463,"body_markdown":"Would you mind accepting the answer.?","body":"Would you mind accepting the answer.?"},{"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"score":0,"creation_date":1677734195,"post_id":75604838,"comment_id":133397414,"body_markdown":"How do I accept it ? I have already put a arrow up","body":"How do I accept it ? I have already put a arrow up"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677744988,"post_id":75604838,"comment_id":133399296,"body_markdown":"Accept it like this - https://meta.stackexchange.com/questions/86978/how-do-i-accept-an-answer-on-stack-overflow/86979#86979","body":"Accept it like this - <a href=\"https://meta.stackexchange.com/questions/86978/how-do-i-accept-an-answer-on-stack-overflow/86979#86979\" title=\"how do i accept an answer on stack overflow\">meta.stackexchange.com/questions/86978/&hellip;</a>"},{"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"score":0,"creation_date":1677755751,"post_id":75604838,"comment_id":133402310,"body_markdown":"I checked, ticked already.","body":"I checked, ticked already."}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677679946,"creation_date":1677679946,"answer_id":75604838,"question_id":75604443,"body_markdown":"I feel your suffering around the tomcat/jsp dependencies. \r\n\r\nAs far as I can tell you are missing the following dependency:\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\nI have found it quicker/easier, while trying to sort these TOMCAT dependencies out, to simply drop the jars into %TOMCAT_HOME%/lib and then finally when it works, go back and tidy up. The jar is [downloadable][1] here.\r\n\r\n\r\n  [1]: https://jar-download.com/artifacts/jakarta.servlet.jsp/jakarta.servlet.jsp-api/3.1.1","title":"Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p>I feel your suffering around the tomcat/jsp dependencies.</p>\n<p>As far as I can tell you are missing the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.servlet.jsp&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.servlet.jsp-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I have found it quicker/easier, while trying to sort these TOMCAT dependencies out, to simply drop the jars into %TOMCAT_HOME%/lib and then finally when it works, go back and tidy up. The jar is <a href=\"https://jar-download.com/artifacts/jakarta.servlet.jsp/jakarta.servlet.jsp-api/3.1.1\" rel=\"nofollow noreferrer\">downloadable</a> here.</p>\n"}],"owner":{"account_id":906959,"reputation":155,"user_id":941636,"accept_rate":33,"display_name":"Karen Goh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":491,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75604838,"answer_count":1,"score":2,"last_activity_date":1677679946,"creation_date":1677677696,"question_id":75604443,"body_markdown":"I am trying to deploy a web app on Tomcat and I have done all I could to make the dependencies correct to make it work but Tomcat keeps giving me Caused by: java.lang.ClassNotFoundException: jakarta.servlet.jsp.JspFactory\r\n\r\nTechnologies stack : Tomcat 10.1.6,\r\nJarkarta EE, \r\nJava 17,\r\nEclipse\r\n\r\n   ``` &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;10.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.0.0&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.0.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\r\n        &lt;version&gt;5.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n```        \r\n\r\nI have further attached jakarta.servlet.jsp.jstl-3.0.1.jar\r\njakarta.servlet.jsp.jstl-api-3.0.0.jar at the lib at WEB-INF folder.\r\n\r\nHope someone can advise me how to resolve the error to make Tomcat start. Tks.\r\n ","title":"Caused by: java.lang.NoClassDefFoundError: jakarta/servlet/jsp/JspFactory","body":"<p>I am trying to deploy a web app on Tomcat and I have done all I could to make the dependencies correct to make it work but Tomcat keeps giving me Caused by: java.lang.ClassNotFoundException: jakarta.servlet.jsp.JspFactory</p>\n<p>Technologies stack : Tomcat 10.1.6,\nJarkarta EE,\nJava 17,\nEclipse</p>\n<pre><code>         &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.jakartaee-web-api&lt;/artifactId&gt;\n         &lt;version&gt;10.0.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n         &lt;dependency&gt;\n         &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n         &lt;version&gt;6.0.0&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;       \n     &lt;dependency&gt;\n         &lt;groupId&gt;org.glassfish.web&lt;/groupId&gt;\n         &lt;artifactId&gt;jakarta.servlet.jsp.jstl&lt;/artifactId&gt;\n         &lt;version&gt;3.0.1&lt;/version&gt;\n         &lt;scope&gt;provided&lt;/scope&gt;\n     &lt;/dependency&gt;\n     &lt;dependency&gt;\n     &lt;groupId&gt;jakarta.el&lt;/groupId&gt;\n     &lt;artifactId&gt;jakarta.el-api&lt;/artifactId&gt;\n     &lt;version&gt;5.0.0&lt;/version&gt;\n     &lt;scope&gt;provided&lt;/scope&gt;\n &lt;/dependency&gt;\n</code></pre>\n<p>I have further attached jakarta.servlet.jsp.jstl-3.0.1.jar\njakarta.servlet.jsp.jstl-api-3.0.0.jar at the lib at WEB-INF folder.</p>\n<p>Hope someone can advise me how to resolve the error to make Tomcat start. Tks.</p>\n"},{"tags":["java","spring","spring-mvc","spring-security","spring-framework-beans"],"owner":{"account_id":17020607,"reputation":11,"user_id":12313288,"display_name":"Error 404"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677679869,"creation_date":1671003277,"question_id":74794899,"body_markdown":"Recently, I have upgraded to Spring 5.3.20 from 4.0.5.RELEASE and I have changed the other dependencies versions also. It is getting successfully build, but when I try to run, it is giving error after jetty.\r\n\r\nUpgraded versions in Pom.xml:\r\n\r\n```\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\r\n        &lt;org.springframework-version&gt;5.3.20&lt;/org.springframework-version&gt;\r\n        &lt;org.springframework-security-version&gt;5.6.3&lt;/org.springframework-security-version&gt;\r\n        &lt;org.apache.tiles-version&gt;3.0.4&lt;/org.apache.tiles-version&gt;\r\n        &lt;!-- &lt;org.hibernate-version&gt;5.6.10.Final&lt;/org.hibernate-version&gt; --&gt; &lt;!-- 4.3.5.Final --&gt;\r\n        &lt;org.hibernate-version&gt;5.3.7.Final&lt;/org.hibernate-version&gt;&lt;!-- 5.1.17.Final --&gt;\r\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\r\n        &lt;org.slf4j-version&gt;1.7.7&lt;/org.slf4j-version&gt;\r\n        &lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;    &lt;!-- 2.11.3 --&gt;\r\n        &lt;!--  &lt;jackson.version&gt;2.14.1&lt;/jackson.version&gt; --&gt;\r\n    &lt;/properties&gt;\r\n     \r\n```\r\n\r\n\r\nThe build is successful (using maven) but when I try to run the code I am getting this error after jetty,\r\n\r\nError -\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.filterChains&#39;: Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39; while setting bean property &#39;sourceList&#39; with key [31]; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39;: Cannot resolve reference to bean &#39;concurrencyFilter&#39; while setting constructor argument with key [2]; \r\nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;concurrencyFilter&#39; defined in ServletContext resource [/WEB-INF/spring/security.xml]: Instantiation of bean failed; \r\nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.session.ConcurrentSessionFilter]: No default constructor found; \r\nnested exception is java.lang.NoSuchMethodException: org.springframework.security.web.session.ConcurrentSessionFilter.&lt;init&gt;()\r\n```\r\n\r\nCan anybody help me to resolve this error. Would really appreciate any help.","title":"Cannot resolve reference to bean &#39;org.springframework.security.web.DefaultSecurityFilterChain#31&#39; while setting bean property &#39;sourceList&#39; with key","body":"<p>Recently, I have upgraded to Spring 5.3.20 from 4.0.5.RELEASE and I have changed the other dependencies versions also. It is getting successfully build, but when I try to run, it is giving error after jetty.</p>\n<p>Upgraded versions in Pom.xml:</p>\n<pre><code>    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;java-version&gt;1.8&lt;/java-version&gt;\n        &lt;org.springframework-version&gt;5.3.20&lt;/org.springframework-version&gt;\n        &lt;org.springframework-security-version&gt;5.6.3&lt;/org.springframework-security-version&gt;\n        &lt;org.apache.tiles-version&gt;3.0.4&lt;/org.apache.tiles-version&gt;\n        &lt;!-- &lt;org.hibernate-version&gt;5.6.10.Final&lt;/org.hibernate-version&gt; --&gt; &lt;!-- 4.3.5.Final --&gt;\n        &lt;org.hibernate-version&gt;5.3.7.Final&lt;/org.hibernate-version&gt;&lt;!-- 5.1.17.Final --&gt;\n        &lt;org.aspectj-version&gt;1.6.10&lt;/org.aspectj-version&gt;\n        &lt;org.slf4j-version&gt;1.7.7&lt;/org.slf4j-version&gt;\n        &lt;jackson.version&gt;2.11.3&lt;/jackson.version&gt;    &lt;!-- 2.11.3 --&gt;\n        &lt;!--  &lt;jackson.version&gt;2.14.1&lt;/jackson.version&gt; --&gt;\n    &lt;/properties&gt;\n     \n</code></pre>\n<p>The build is successful (using maven) but when I try to run the code I am getting this error after jetty,</p>\n<p>Error -</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.filterChains': Cannot resolve reference to bean 'org.springframework.security.web.DefaultSecurityFilterChain#31' while setting bean property 'sourceList' with key [31]; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.security.web.DefaultSecurityFilterChain#31': Cannot resolve reference to bean 'concurrencyFilter' while setting constructor argument with key [2]; \nnested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'concurrencyFilter' defined in ServletContext resource [/WEB-INF/spring/security.xml]: Instantiation of bean failed; \nnested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.session.ConcurrentSessionFilter]: No default constructor found; \nnested exception is java.lang.NoSuchMethodException: org.springframework.security.web.session.ConcurrentSessionFilter.&lt;init&gt;()\n</code></pre>\n<p>Can anybody help me to resolve this error. Would really appreciate any help.</p>\n"},{"tags":["java","android","connectivity"],"comments":[{"owner":{"account_id":5306083,"reputation":313,"user_id":4233930,"display_name":"lenhuy2106"},"score":0,"creation_date":1516311313,"post_id":25678216,"comment_id":83647178,"body_markdown":"refer to this https://stackoverflow.com/questions/15698790/broadcast-receiver-for-checking-internet-connection-in-android-app","body":"refer to this <a href=\"https://stackoverflow.com/questions/15698790/broadcast-receiver-for-checking-internet-connection-in-android-app\" title=\"broadcast receiver for checking internet connection in android app\">stackoverflow.com/questions/15698790/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":9,"creation_date":1427976293,"post_id":25678314,"comment_id":46997799,"body_markdown":"why would you need to check if (!&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAction())) ????","body":"why would you need to check if (!&quot;android.intent.action.BOOT_COMPLETED&quot;.equals(intent.getAc&zwnj;&#8203;tion())) ????"},{"owner":{"account_id":1375578,"reputation":1862,"user_id":1309629,"display_name":"Cjames"},"score":0,"creation_date":1462368492,"post_id":25678314,"comment_id":61608385,"body_markdown":"@shriduttkothari I use it for downloading functionality","body":"@shriduttkothari I use it for downloading functionality"},{"owner":{"account_id":2000334,"reputation":7336,"user_id":1791546,"accept_rate":68,"display_name":"Shridutt Kothari"},"score":0,"creation_date":1462374947,"post_id":25678314,"comment_id":61613582,"body_markdown":":@Cjames But &quot;android.intent.action.BOOT_COMPLETED&quot; does not have anything to do with downloading functionality or Network connectivity, so i think it&#39;s irrrelevant in the above code. isn&#39;t it?","body":":@Cjames But &quot;android.intent.action.BOOT_COMPLETED&quot; does not have anything to do with downloading functionality or Network connectivity, so i think it&#39;s irrrelevant in the above code. isn&#39;t it?"},{"owner":{"account_id":178250,"reputation":861,"user_id":410099,"accept_rate":64,"display_name":"Himanshu"},"score":2,"creation_date":1480747432,"post_id":25678314,"comment_id":69100955,"body_markdown":"It is not working in gionee s plus device.......any other way to do this ?","body":"It is not working in gionee s plus device.......any other way to do this ?"},{"owner":{"account_id":5096063,"reputation":224,"user_id":4087330,"accept_rate":45,"display_name":"Wayne Johnson"},"score":2,"creation_date":1493828779,"post_id":25678314,"comment_id":74572135,"body_markdown":"This works well except for one problem.  I&#39;m also trying to have a listener for the LAN/Ethernet connection to my Android TV Box.   This works great for WiFi or Mobile connections, but not for LAN connection.  I have this code that checks the state of the LAN connection, but I need a listener to catch any changes in the internet state, not just the WiFi or Mobile network:  `code` NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n                    boolean isConnected = activeNetwork != null &amp;&amp;\n                            activeNetwork.isConnectedOrConnecting(); `code`","body":"This works well except for one problem.  I&#39;m also trying to have a listener for the LAN/Ethernet connection to my Android TV Box.   This works great for WiFi or Mobile connections, but not for LAN connection.  I have this code that checks the state of the LAN connection, but I need a listener to catch any changes in the internet state, not just the WiFi or Mobile network:  <code>code</code> NetworkInfo activeNetwork = cm.getActiveNetworkInfo();                     boolean isConnected = activeNetwork != null &amp;&amp;                             activeNetwork.isConnectedOrConnecting(); <code>code</code>"},{"owner":{"account_id":1627280,"reputation":2720,"user_id":1738090,"accept_rate":50,"display_name":"w3bshark"},"score":47,"creation_date":1500313380,"post_id":25678314,"comment_id":77270038,"body_markdown":"Registering a receiver like this in your Manifest to receive connectivity change events will no longer work on Android 7.0+ https://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html#MonitorChanges","body":"Registering a receiver like this in your Manifest to receive connectivity change events will no longer work on Android 7.0+ <a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-monitoring.html#MonitorChanges\" rel=\"nofollow noreferrer\">developer.android.com/training/monitoring-device-state/&hellip;</a>"},{"owner":{"account_id":296294,"reputation":1200,"user_id":601170,"display_name":"Phil"},"score":2,"creation_date":1500623498,"post_id":25678314,"comment_id":77429680,"body_markdown":"Found a special case for network connectivity saying there is no internet but actually there is. It turns out `getActiveNetworkInfo` will always return you **DISCONNECTED/BLOCKED** in a specific case when network is changed while battery level is low and app was just switched\n\nCheck out this post: https://stackoverflow.com/questions/34884442/android-checking-network-connectivity-return-not-connected-when-connected-to-wi/45231746#45231746","body":"Found a special case for network connectivity saying there is no internet but actually there is. It turns out <code>getActiveNetworkInfo</code> will always return you <b>DISCONNECTED/BLOCKED</b> in a specific case when network is changed while battery level is low and app was just switched  Check out this post: <a href=\"https://stackoverflow.com/questions/34884442/android-checking-network-connectivity-return-not-connected-when-connected-to-wi/45231746#45231746\" title=\"android checking network connectivity return not connected when connected to wi\">stackoverflow.com/questions/34884442/&hellip;</a>"},{"owner":{"account_id":12531580,"reputation":716,"user_id":9119669,"display_name":"Pouria Hemi"},"score":1,"creation_date":1554550435,"post_id":25678314,"comment_id":97799018,"body_markdown":"i cant find ForceExitPause and ResumeForceExitPause","body":"i cant find ForceExitPause and ResumeForceExitPause"},{"owner":{"account_id":7799666,"reputation":2135,"user_id":5899585,"display_name":"larsaars"},"score":0,"creation_date":1587820578,"post_id":25678314,"comment_id":108662067,"body_markdown":"you can register the receiver just directly at your activity. On destroy, don&#39;t forget to unregister again!","body":"you can register the receiver just directly at your activity. On destroy, don&#39;t forget to unregister again!"},{"owner":{"account_id":21373830,"reputation":595,"user_id":15740938,"display_name":"ladytoky0"},"score":0,"creation_date":1653490472,"post_id":25678314,"comment_id":127866235,"body_markdown":"hello, can you explain why is needed to add these permissions and the receiver in the android manifest? thank you c:","body":"hello, can you explain why is needed to add these permissions and the receiver in the android manifest? thank you c:"},{"owner":{"account_id":14338249,"reputation":3125,"user_id":10357086,"display_name":"Dev4Life"},"score":1,"creation_date":1653543285,"post_id":25678314,"comment_id":127878855,"body_markdown":"@ladytoky0 Because you need to have specific action to check &amp; listen to the broadcast related to that action. So if you want to listen it in your app globally, then you have to declare it in manifest. So that whenever a broadcast gets broadcasted across the system, it gets received in all apps who have registered broadcast receiver in gloabally (in manifest).","body":"@ladytoky0 Because you need to have specific action to check &amp; listen to the broadcast related to that action. So if you want to listen it in your app globally, then you have to declare it in manifest. So that whenever a broadcast gets broadcasted across the system, it gets received in all apps who have registered broadcast receiver in gloabally (in manifest)."}],"tags":[],"owner":{"account_id":1375578,"reputation":1862,"user_id":1309629,"display_name":"Cjames"},"comment_count":11,"down_vote_count":3,"up_vote_count":114,"is_accepted":true,"score":111,"last_activity_date":1553742178,"creation_date":1409888577,"answer_id":25678314,"question_id":25678216,"body_markdown":"Try this\r\n\r\n    public class NetworkUtil {\r\n    \tpublic static final int TYPE_WIFI = 1;\r\n    \tpublic static final int TYPE_MOBILE = 2;\r\n    \tpublic static final int TYPE_NOT_CONNECTED = 0;\r\n    \tpublic static final int NETWORK_STATUS_NOT_CONNECTED = 0;\r\n        public static final int NETWORK_STATUS_WIFI = 1;\r\n        public static final int NETWORK_STATUS_MOBILE = 2;\r\n    \r\n    \tpublic static int getConnectivityStatus(Context context) {\r\n    \t\tConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n    \t\tNetworkInfo activeNetwork = cm.getActiveNetworkInfo();\r\n    \t\tif (null != activeNetwork) {\r\n    \t\t\tif(activeNetwork.getType() == ConnectivityManager.TYPE_WIFI)\r\n    \t\t\t\treturn TYPE_WIFI;\r\n    \r\n    \t\t\tif(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE)\r\n    \t\t\t\treturn TYPE_MOBILE;\r\n    \t\t} \r\n    \t\treturn TYPE_NOT_CONNECTED;\r\n    \t}\r\n    \r\n    \tpublic static int getConnectivityStatusString(Context context) {\r\n    \t\tint conn = NetworkUtil.getConnectivityStatus(context);\r\n    \t\tint status = 0;\r\n    \t\tif (conn == NetworkUtil.TYPE_WIFI) {\r\n    \t\t\tstatus = NETWORK_STATUS_WIFI;\r\n    \t\t} else if (conn == NetworkUtil.TYPE_MOBILE) {\r\n    \t\t\tstatus = NETWORK_STATUS_MOBILE;\r\n    \t\t} else if (conn == NetworkUtil.TYPE_NOT_CONNECTED) {\r\n    \t\t\tstatus = NETWORK_STATUS_NOT_CONNECTED;\r\n    \t\t}\r\n    \t\treturn status;\r\n    \t}\r\n    }\r\n\r\nAnd for the BroadcastReceiver\r\n\r\n    public class NetworkChangeReceiver extends BroadcastReceiver {\r\n     \r\n        @Override\r\n        public void onReceive(final Context context, final Intent intent) {\r\n     \r\n            int status = NetworkUtil.getConnectivityStatusString(context);\r\n            Log.e(&quot;Sulod sa network reciever&quot;, &quot;Sulod sa network reciever&quot;);\r\n            if (&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;.equals(intent.getAction())) {\r\n    \t        if (status == NetworkUtil.NETWORK_STATUS_NOT_CONNECTED) {\r\n    \t        \tnew ForceExitPause(context).execute();\r\n    \t        } else {\r\n    \t        \tnew ResumeForceExitPause(context).execute();\r\n    \t        }\r\n           }\r\n        }\r\n    }\r\n\r\nDon&#39;t forget to put this into your AndroidManifest.xml\r\n\r\n     &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n     &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n     &lt;receiver\r\n            android:name=&quot;NetworkChangeReceiver&quot;\r\n            android:label=&quot;NetworkChangeReceiver&quot; &gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.net.conn.CONNECTIVITY_CHANGE&quot; /&gt;\r\n                &lt;action android:name=&quot;android.net.wifi.WIFI_STATE_CHANGED&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\nHope this will help you Cheers!\r\n       ","title":"Android: Internet connectivity change listener","body":"<p>Try this</p>\n\n<pre><code>public class NetworkUtil {\n    public static final int TYPE_WIFI = 1;\n    public static final int TYPE_MOBILE = 2;\n    public static final int TYPE_NOT_CONNECTED = 0;\n    public static final int NETWORK_STATUS_NOT_CONNECTED = 0;\n    public static final int NETWORK_STATUS_WIFI = 1;\n    public static final int NETWORK_STATUS_MOBILE = 2;\n\n    public static int getConnectivityStatus(Context context) {\n        ConnectivityManager cm = (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n        if (null != activeNetwork) {\n            if(activeNetwork.getType() == ConnectivityManager.TYPE_WIFI)\n                return TYPE_WIFI;\n\n            if(activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE)\n                return TYPE_MOBILE;\n        } \n        return TYPE_NOT_CONNECTED;\n    }\n\n    public static int getConnectivityStatusString(Context context) {\n        int conn = NetworkUtil.getConnectivityStatus(context);\n        int status = 0;\n        if (conn == NetworkUtil.TYPE_WIFI) {\n            status = NETWORK_STATUS_WIFI;\n        } else if (conn == NetworkUtil.TYPE_MOBILE) {\n            status = NETWORK_STATUS_MOBILE;\n        } else if (conn == NetworkUtil.TYPE_NOT_CONNECTED) {\n            status = NETWORK_STATUS_NOT_CONNECTED;\n        }\n        return status;\n    }\n}\n</code></pre>\n\n<p>And for the BroadcastReceiver</p>\n\n<pre><code>public class NetworkChangeReceiver extends BroadcastReceiver {\n\n    @Override\n    public void onReceive(final Context context, final Intent intent) {\n\n        int status = NetworkUtil.getConnectivityStatusString(context);\n        Log.e(\"Sulod sa network reciever\", \"Sulod sa network reciever\");\n        if (\"android.net.conn.CONNECTIVITY_CHANGE\".equals(intent.getAction())) {\n            if (status == NetworkUtil.NETWORK_STATUS_NOT_CONNECTED) {\n                new ForceExitPause(context).execute();\n            } else {\n                new ResumeForceExitPause(context).execute();\n            }\n       }\n    }\n}\n</code></pre>\n\n<p>Don't forget to put this into your AndroidManifest.xml</p>\n\n<pre><code> &lt;uses-permission android:name=\"android.permission.ACCESS_NETWORK_STATE\" /&gt;\n &lt;uses-permission android:name=\"android.permission.INTERNET\" /&gt;\n &lt;receiver\n        android:name=\"NetworkChangeReceiver\"\n        android:label=\"NetworkChangeReceiver\" &gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.net.conn.CONNECTIVITY_CHANGE\" /&gt;\n            &lt;action android:name=\"android.net.wifi.WIFI_STATE_CHANGED\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/receiver&gt;\n</code></pre>\n\n<p>Hope this will help you Cheers!</p>\n"},{"comments":[{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1549069879,"post_id":49255340,"comment_id":95784637,"body_markdown":"I&#39;m not getting my broadcast receiver called even with this code on 8.0.","body":"I&#39;m not getting my broadcast receiver called even with this code on 8.0."},{"owner":{"account_id":6667113,"reputation":334,"user_id":5144446,"display_name":"Tomer Petel"},"score":0,"creation_date":1550647822,"post_id":49255340,"comment_id":96340598,"body_markdown":"@TheRealChx101, if the context is still valid you should be good to go. What context have you used?","body":"@TheRealChx101, if the context is still valid you should be good to go. What context have you used?"},{"owner":{"account_id":1773418,"reputation":18513,"user_id":1617737,"accept_rate":53,"display_name":"ban-geoengineering"},"score":0,"creation_date":1555527538,"post_id":49255340,"comment_id":98147057,"body_markdown":"@TheRealChx101 The `&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;` string is actually the `CONNECTIVITY_ACTION` constant. As you&#39;ll see at https://developer.android.com/reference/android/net/ConnectivityManager#CONNECTIVITY_ACTION , this constant was deprecated in API 28. Could your problem be to do with that?","body":"@TheRealChx101 The <code>&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;</code> string is actually the <code>CONNECTIVITY_ACTION</code> constant. As you&#39;ll see at <a href=\"https://developer.android.com/reference/android/net/ConnectivityManager#CONNECTIVITY_ACTION\" rel=\"nofollow noreferrer\">developer.android.com/reference/android/net/&hellip;</a> , this constant was deprecated in API 28. Could your problem be to do with that?"},{"owner":{"account_id":6841102,"reputation":1816,"user_id":5261462,"accept_rate":93,"display_name":"Hoo"},"score":0,"creation_date":1654226189,"post_id":49255340,"comment_id":128045591,"body_markdown":"If I want detect network type, eg 2g,4g,can this answer be used?","body":"If I want detect network type, eg 2g,4g,can this answer be used?"}],"tags":[],"owner":{"account_id":1474818,"reputation":8157,"user_id":1385488,"accept_rate":71,"display_name":"Silvia H"},"comment_count":4,"down_vote_count":1,"up_vote_count":45,"is_accepted":false,"score":44,"last_activity_date":1520941532,"creation_date":1520941532,"answer_id":49255340,"question_id":25678216,"body_markdown":"**Update**:\r\n\r\n&gt; Apps targeting Android 7.0 (API level 24) and higher do not receive\r\n&gt; CONNECTIVITY_ACTION broadcasts if they declare the broadcast receiver\r\n&gt; in their manifest. Apps will still receive CONNECTIVITY_ACTION\r\n&gt; broadcasts if they register their BroadcastReceiver with\r\n&gt; Context.registerReceiver() and that context is still valid.\r\n\r\nYou need to register the receiver via `registerReceiver()` method:\r\n\r\n     IntentFilter intentFilter = new IntentFilter(&quot;android.net.conn.CONNECTIVITY_CHANGE&quot;);\r\n     mCtx.registerReceiver(new NetworkBroadcastReceiver(), intentFilter);","title":"Android: Internet connectivity change listener","body":"<p><strong>Update</strong>:</p>\n\n<blockquote>\n  <p>Apps targeting Android 7.0 (API level 24) and higher do not receive\n  CONNECTIVITY_ACTION broadcasts if they declare the broadcast receiver\n  in their manifest. Apps will still receive CONNECTIVITY_ACTION\n  broadcasts if they register their BroadcastReceiver with\n  Context.registerReceiver() and that context is still valid.</p>\n</blockquote>\n\n<p>You need to register the receiver via <code>registerReceiver()</code> method:</p>\n\n<pre><code> IntentFilter intentFilter = new IntentFilter(\"android.net.conn.CONNECTIVITY_CHANGE\");\n mCtx.registerReceiver(new NetworkBroadcastReceiver(), intentFilter);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4481658,"reputation":845,"user_id":3645564,"display_name":"iFederx"},"score":3,"creation_date":1557069481,"post_id":51019783,"comment_id":98634559,"body_markdown":"THANKS!! The simplest solution in a little bti of lines","body":"THANKS!! The simplest solution in a little bti of lines"},{"owner":{"account_id":13461505,"reputation":411,"user_id":9713349,"display_name":"pa1.Shetty"},"score":0,"creation_date":1557316225,"post_id":51019783,"comment_id":98722198,"body_markdown":"How can check whether the internet is connected or disconnected?","body":"How can check whether the internet is connected or disconnected?"},{"owner":{"account_id":9591999,"reputation":1172,"user_id":10462531,"display_name":"Kes Walker"},"score":1,"creation_date":1558707449,"post_id":51019783,"comment_id":99201408,"body_markdown":"@pa1.Shetty I used this answer to determine whether there was a connection or not: https://stackoverflow.com/a/4239019/10462531","body":"@pa1.Shetty I used this answer to determine whether there was a connection or not: <a href=\"https://stackoverflow.com/a/4239019/10462531\">stackoverflow.com/a/4239019/10462531</a>"},{"owner":{"account_id":2123777,"reputation":1561,"user_id":1886484,"display_name":"Ali Kazi"},"score":0,"creation_date":1573434500,"post_id":51019783,"comment_id":103870298,"body_markdown":"This does not tell you whether internet is available. It only tells you whether you have network.","body":"This does not tell you whether internet is available. It only tells you whether you have network."},{"owner":{"account_id":6841102,"reputation":1816,"user_id":5261462,"accept_rate":93,"display_name":"Hoo"},"score":0,"creation_date":1654226173,"post_id":51019783,"comment_id":128045587,"body_markdown":"If I want detect network type, eg 2g,4g,can this answer be used?","body":"If I want detect network type, eg 2g,4g,can this answer be used?"}],"tags":[],"owner":{"account_id":5387895,"reputation":5212,"user_id":4291264,"accept_rate":88,"display_name":"Manuel Schmitzberger"},"comment_count":5,"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1529917524,"creation_date":1529917524,"answer_id":51019783,"question_id":25678216,"body_markdown":"This should work:\r\n\r\n\r\n    public class ConnectivityChangeActivity extends Activity {\r\n        \r\n        private BroadcastReceiver networkChangeReceiver = new BroadcastReceiver() {\r\n            @Override\r\n            public void onReceive(Context context, Intent intent) {\r\n                Log.d(&quot;app&quot;,&quot;Network connectivity change&quot;);\r\n            }\r\n        };\r\n    \r\n        @Override\r\n        protected void onResume() {\r\n            super.onResume();\r\n    \r\n            IntentFilter intentFilter = new IntentFilter();\r\n    \t\tintentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\r\n    \t\tregisterReceiver(networkChangeReceiver, intentFilter);\r\n        }\r\n    \r\n        @Override\r\n        protected void onPause() {\r\n            super.onPause();\r\n    \r\n    \t\tunregisterReceiver(networkChangeReceiver);\r\n        }\r\n    }\r\n\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>This should work:</p>\n\n<pre><code>public class ConnectivityChangeActivity extends Activity {\n\n    private BroadcastReceiver networkChangeReceiver = new BroadcastReceiver() {\n        @Override\n        public void onReceive(Context context, Intent intent) {\n            Log.d(\"app\",\"Network connectivity change\");\n        }\n    };\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        IntentFilter intentFilter = new IntentFilter();\n        intentFilter.addAction(ConnectivityManager.CONNECTIVITY_ACTION);\n        registerReceiver(networkChangeReceiver, intentFilter);\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        unregisterReceiver(networkChangeReceiver);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5038386,"reputation":2588,"user_id":4046561,"display_name":"gunjot singh"},"score":4,"creation_date":1566228149,"post_id":55422512,"comment_id":101581107,"body_markdown":"Correct !! This is most valid answer of 2019 :)","body":"Correct !! This is most valid answer of 2019 :)"},{"owner":{"account_id":6867226,"reputation":8143,"user_id":5279156,"display_name":"Vlad"},"score":6,"creation_date":1575281351,"post_id":55422512,"comment_id":104500401,"body_markdown":"`Call requires API level 24` still is very big as for 2019-2020","body":"<code>Call requires API level 24</code> still is very big as for 2019-2020"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1591874874,"post_id":55422512,"comment_id":110224296,"body_markdown":"@Vlad you can use `connectivityManager.registerNetworkCallback`","body":"@Vlad you can use <code>connectivityManager.registerNetworkCallback</code>"},{"owner":{"account_id":10541959,"reputation":8904,"user_id":7767664,"accept_rate":63,"display_name":"user924"},"score":1,"creation_date":1591874915,"post_id":55422512,"comment_id":110224313,"body_markdown":"there is also `ConnectivityManager.registerNetworkCallback` which work for 21+","body":"there is also <code>ConnectivityManager.registerNetworkCallback</code> which work for 21+"},{"owner":{"account_id":4866759,"reputation":131,"user_id":3924719,"display_name":"Srushti"},"score":3,"creation_date":1630051921,"post_id":55422512,"comment_id":121855104,"body_markdown":"This works fine when we have single connection i.e. Mobile data or Wifi. But when I am using both and turned one of them off, then also it triggers onLost() whereas I have internet connectivity. Do you know why this happens or how can we handle this case?","body":"This works fine when we have single connection i.e. Mobile data or Wifi. But when I am using both and turned one of them off, then also it triggers onLost() whereas I have internet connectivity. Do you know why this happens or how can we handle this case?"},{"owner":{"account_id":384858,"reputation":3280,"user_id":741652,"accept_rate":55,"display_name":"krisDrOid"},"score":0,"creation_date":1638901937,"post_id":55422512,"comment_id":124209521,"body_markdown":"@Srushti Were you able to figure out the solution?","body":"@Srushti Were you able to figure out the solution?"}],"tags":[],"owner":{"account_id":392597,"reputation":6404,"user_id":753964,"accept_rate":100,"display_name":"bmjohns"},"comment_count":6,"down_vote_count":2,"up_vote_count":72,"is_accepted":false,"score":70,"last_activity_date":1553880134,"creation_date":1553879815,"answer_id":55422512,"question_id":25678216,"body_markdown":"ConnectivityAction is [deprecated][1] in api 28+. Instead you can use `registerDefaultNetworkCallback` as long as you support api 24+.\r\n\r\n**In Kotlin:**\r\n\r\n```kotlin\r\nval connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\nconnectivityManager?.let {\r\n    it.registerDefaultNetworkCallback(object : ConnectivityManager.NetworkCallback() {\r\n        override fun onAvailable(network: Network) {\r\n            //take action when network connection is gained\r\n        }\r\n        override fun onLost(network: Network?) {\r\n            //take action when network connection is lost\r\n        }\r\n    })\r\n}\r\n```\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/net/ConnectivityManager.html#CONNECTIVITY_ACTION","title":"Android: Internet connectivity change listener","body":"<p>ConnectivityAction is <a href=\"https://developer.android.com/reference/android/net/ConnectivityManager.html#CONNECTIVITY_ACTION\" rel=\"noreferrer\">deprecated</a> in api 28+. Instead you can use <code>registerDefaultNetworkCallback</code> as long as you support api 24+.</p>\n\n<p><strong>In Kotlin:</strong></p>\n\n<pre><code>val connectivityManager = context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nconnectivityManager?.let {\n    it.registerDefaultNetworkCallback(object : ConnectivityManager.NetworkCallback() {\n        override fun onAvailable(network: Network) {\n            //take action when network connection is gained\n        }\n        override fun onLost(network: Network?) {\n            //take action when network connection is lost\n        }\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16015044,"reputation":61,"user_id":11558019,"display_name":"Waris Ali Rehmani"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1568807667,"creation_date":1568805675,"answer_id":57991600,"question_id":25678216,"body_markdown":"1. first add dependency in your code as `implementation &#39;com.treebo:internetavailabilitychecker:1.0.4&#39;` \r\n2. implements your class with `InternetConnectivityListener`.\r\n```java\r\npublic class MainActivity extends AppCompatActivity implements InternetConnectivityListener {\r\n   \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        InternetAvailabilityChecker.init(this);\r\n        mInternetAvailabilityChecker = InternetAvailabilityChecker.getInstance();\r\n        mInternetAvailabilityChecker.addInternetConnectivityListener(this);\r\n    }\r\n\r\n    @Override\r\n    public void onInternetConnectivityChanged(boolean isConnected) {\r\n        if (isConnected) {\r\n            alertDialog = new AlertDialog.Builder(this).create();\r\n            alertDialog.setTitle(&quot; internet is connected or not&quot;);\r\n            alertDialog.setMessage(&quot;connected&quot;);\r\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                    new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n            alertDialog.show();\r\n\r\n    }\r\n    else {\r\n            alertDialog = new AlertDialog.Builder(this).create();\r\n            alertDialog.setTitle(&quot;internet is connected or not&quot;);\r\n            alertDialog.setMessage(&quot;not connected&quot;);\r\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, &quot;OK&quot;,\r\n                    new DialogInterface.OnClickListener() {\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            dialog.dismiss();\r\n                        }\r\n                    });\r\n            alertDialog.show();\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n \r\n\r\n","title":"Android: Internet connectivity change listener","body":"<ol>\n<li>first add dependency in your code as <code>implementation 'com.treebo:internetavailabilitychecker:1.0.4'</code> </li>\n<li>implements your class with <code>InternetConnectivityListener</code>.</li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class MainActivity extends AppCompatActivity implements InternetConnectivityListener {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        InternetAvailabilityChecker.init(this);\n        mInternetAvailabilityChecker = InternetAvailabilityChecker.getInstance();\n        mInternetAvailabilityChecker.addInternetConnectivityListener(this);\n    }\n\n    @Override\n    public void onInternetConnectivityChanged(boolean isConnected) {\n        if (isConnected) {\n            alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setTitle(\" internet is connected or not\");\n            alertDialog.setMessage(\"connected\");\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, \"OK\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            dialog.dismiss();\n                        }\n                    });\n            alertDialog.show();\n\n    }\n    else {\n            alertDialog = new AlertDialog.Builder(this).create();\n            alertDialog.setTitle(\"internet is connected or not\");\n            alertDialog.setMessage(\"not connected\");\n            alertDialog.setButton(AlertDialog.BUTTON_NEUTRAL, \"OK\",\n                    new DialogInterface.OnClickListener() {\n                        public void onClick(DialogInterface dialog, int which) {\n                            dialog.dismiss();\n                        }\n                    });\n            alertDialog.show();\n\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5400671,"reputation":1252,"user_id":4300670,"display_name":"Aliton Oliveira"},"score":3,"creation_date":1576082333,"post_id":58468010,"comment_id":104785512,"body_markdown":"`NetworkRequest` requires minimum API level 21. What can we do for API level 19?","body":"<code>NetworkRequest</code> requires minimum API level 21. What can we do for API level 19?"},{"owner":{"account_id":3259735,"reputation":784,"user_id":2745520,"accept_rate":71,"display_name":"A_rmas"},"score":0,"creation_date":1598380007,"post_id":58468010,"comment_id":112438825,"body_markdown":"does this be added in broadcast receiver? it does register the callback, so I am confused.","body":"does this be added in broadcast receiver? it does register the callback, so I am confused."},{"owner":{"account_id":1646780,"reputation":1856,"user_id":1839334,"accept_rate":67,"display_name":"Heysem Katibi"},"score":1,"creation_date":1614807587,"post_id":58468010,"comment_id":117501263,"body_markdown":"@AlitonOliveira Unless you have a reason to keep supporting API 19, I would really advise dropping support for APIs below 21, Since (according to Google) 94.1% of Android users are on API 21 and above. Also, API 21 is a really sweet spot for a lot of newer APIs you&#39;ll be surprised how much unnecessary code for backwards compatibility you&#39;ll remove from your codebase.","body":"@AlitonOliveira Unless you have a reason to keep supporting API 19, I would really advise dropping support for APIs below 21, Since (according to Google) 94.1% of Android users are on API 21 and above. Also, API 21 is a really sweet spot for a lot of newer APIs you&#39;ll be surprised how much unnecessary code for backwards compatibility you&#39;ll remove from your codebase."},{"owner":{"account_id":7582065,"reputation":643,"user_id":5752473,"display_name":"I.Step"},"score":0,"creation_date":1621523832,"post_id":58468010,"comment_id":119527491,"body_markdown":"@algrid I would like to confirm this works on physical device, but on emulator does not. When connection is lost on emulator, onAvaiable is triggered also.","body":"@algrid I would like to confirm this works on physical device, but on emulator does not. When connection is lost on emulator, onAvaiable is triggered also."},{"owner":{"account_id":3616594,"reputation":2660,"user_id":3016293,"accept_rate":70,"display_name":"hiddeneyes02"},"score":0,"creation_date":1648970157,"post_id":58468010,"comment_id":126754044,"body_markdown":"This works fine when network changes occurs, but  this code does not detect initial state of network. Callback is not called when app starts. Anyway around this?","body":"This works fine when network changes occurs, but  this code does not detect initial state of network. Callback is not called when app starts. Anyway around this?"}],"tags":[],"owner":{"account_id":9606388,"reputation":5690,"user_id":7132300,"display_name":"algrid"},"comment_count":5,"down_vote_count":0,"up_vote_count":49,"is_accepted":false,"score":49,"last_activity_date":1571519264,"creation_date":1571519264,"answer_id":58468010,"question_id":25678216,"body_markdown":"Here&#39;s the Java code using `registerDefaultNetworkCallback` (and `registerNetworkCallback` for API &lt; 24):\r\n\r\n    ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n        @Override\r\n        public void onAvailable(Network network) {\r\n            // network available\r\n        }\r\n\r\n        @Override\r\n        public void onLost(Network network) {\r\n            // network unavailable\r\n        }\r\n    };\r\n\r\n    ConnectivityManager connectivityManager =\r\n            (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\r\n        connectivityManager.registerDefaultNetworkCallback(networkCallback);\r\n    } else {\r\n        NetworkRequest request = new NetworkRequest.Builder()\r\n                .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\r\n        connectivityManager.registerNetworkCallback(request, networkCallback);\r\n    }\r\n","title":"Android: Internet connectivity change listener","body":"<p>Here's the Java code using <code>registerDefaultNetworkCallback</code> (and <code>registerNetworkCallback</code> for API &lt; 24):</p>\n\n<pre><code>ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n    @Override\n    public void onAvailable(Network network) {\n        // network available\n    }\n\n    @Override\n    public void onLost(Network network) {\n        // network unavailable\n    }\n};\n\nConnectivityManager connectivityManager =\n        (ConnectivityManager) context.getSystemService(Context.CONNECTIVITY_SERVICE);\n\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.N) {\n    connectivityManager.registerDefaultNetworkCallback(networkCallback);\n} else {\n    NetworkRequest request = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET).build();\n    connectivityManager.registerNetworkCallback(request, networkCallback);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13916886,"reputation":1,"user_id":10195005,"display_name":"Hans Cruz"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1579053902,"creation_date":1578508132,"answer_id":59651816,"question_id":25678216,"body_markdown":"`implementation &#39;com.treebo:internetavailabilitychecker:1.0.1&#39;`\r\n\r\n\r\n    \r\n    public class MyApp extends Application {\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            InternetAvailabilityChecker.init(this);\r\n        }\r\n    \r\n        @Override\r\n        public void onLowMemory() {\r\n            super.onLowMemory();\r\n            InternetAvailabilityChecker.getInstance().removeAllInternetConnectivityChangeListeners();\r\n        }\r\n    }","title":"Android: Internet connectivity change listener","body":"<p><code>implementation 'com.treebo:internetavailabilitychecker:1.0.1'</code></p>\n\n<pre><code>public class MyApp extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        InternetAvailabilityChecker.init(this);\n    }\n\n    @Override\n    public void onLowMemory() {\n        super.onLowMemory();\n        InternetAvailabilityChecker.getInstance().removeAllInternetConnectivityChangeListeners();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10316598,"reputation":1237,"user_id":11161537,"display_name":"Ibrahim Ali"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610983128,"creation_date":1610983128,"answer_id":65777257,"question_id":25678216,"body_markdown":"I have noticed that no one mentioned `WorkManger` solution which is better and support most of android devices.\r\n\r\nYou should have a `Worker` with network constraint AND it will fired only if network available, i.e:\r\n\r\n    val constraints = Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()\r\n    val worker = OneTimeWorkRequestBuilder&lt;MyWorker&gt;().setConstraints(constraints).build()\r\n\r\n\r\nAnd in worker you do whatever you want once connection back, you may fire the worker [periodically][1] .\r\n\r\ni.e:\r\n\r\ninside `dowork()` callback:\r\n\r\n    notifierLiveData.postValue(info)\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work","title":"Android: Internet connectivity change listener","body":"<p>I have noticed that no one mentioned <code>WorkManger</code> solution which is better and support most of android devices.</p>\n<p>You should have a <code>Worker</code> with network constraint AND it will fired only if network available, i.e:</p>\n<pre><code>val constraints = Constraints.Builder().setRequiredNetworkType(NetworkType.CONNECTED).build()\nval worker = OneTimeWorkRequestBuilder&lt;MyWorker&gt;().setConstraints(constraints).build()\n</code></pre>\n<p>And in worker you do whatever you want once connection back, you may fire the worker <a href=\"https://developer.android.com/topic/libraries/architecture/workmanager/how-to/define-work#schedule_periodic_work\" rel=\"nofollow noreferrer\">periodically</a> .</p>\n<p>i.e:</p>\n<p>inside <code>dowork()</code> callback:</p>\n<pre><code>notifierLiveData.postValue(info)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":2,"creation_date":1631732775,"post_id":66517237,"comment_id":122304810,"body_markdown":"Based on a commenter that said:\n&quot;This works fine when we have single connection i.e. Mobile data or Wifi. But when I am using both and turned one of them off, then also it triggers onLost() whereas I have internet connectivity. &quot; My guess is the second portion of the code called isNetworConnected prevents a false positive rigth??","body":"Based on a commenter that said: &quot;This works fine when we have single connection i.e. Mobile data or Wifi. But when I am using both and turned one of them off, then also it triggers onLost() whereas I have internet connectivity. &quot; My guess is the second portion of the code called isNetworConnected prevents a false positive rigth??"},{"owner":{"account_id":13454565,"reputation":3196,"user_id":9708440,"display_name":"Lakpriya Senevirathna"},"score":1,"creation_date":1632396947,"post_id":66517237,"comment_id":122483832,"body_markdown":"Yes. sometimes the method goes mad with the first method. So I added isNetworkConneted() to make sure the connection lost!","body":"Yes. sometimes the method goes mad with the first method. So I added isNetworkConneted() to make sure the connection lost!"},{"owner":{"account_id":3389722,"reputation":406,"user_id":2844833,"accept_rate":91,"display_name":"Sam"},"score":2,"creation_date":1637782551,"post_id":66517237,"comment_id":123920842,"body_markdown":"@Delark, In my case, if the phone is connected to both,  `onLost()` is called only when wifi is turned off . Mobile data state change doesn&#39;t trigger the callback, as long as wifi is on. Pixel 3a XL , android 12.","body":"@Delark, In my case, if the phone is connected to both,  <code>onLost()</code> is called only when wifi is turned off . Mobile data state change doesn&#39;t trigger the callback, as long as wifi is on. Pixel 3a XL , android 12."},{"owner":{"account_id":3389722,"reputation":406,"user_id":2844833,"accept_rate":91,"display_name":"Sam"},"score":1,"creation_date":1637783874,"post_id":66517237,"comment_id":123921304,"body_markdown":"@LakpriyaSenevirathna, I have noticed that when the phone is connected to both wif &amp; data, calling `isNetworkConnected()` returns `false` when wifi is turned off, even though mobile data is still on. What I did is,  I called it after 100-200 milliseconds delay and it returns `true` as expected.","body":"@LakpriyaSenevirathna, I have noticed that when the phone is connected to both wif &amp; data, calling <code>isNetworkConnected()</code> returns <code>false</code> when wifi is turned off, even though mobile data is still on. What I did is,  I called it after 100-200 milliseconds delay and it returns <code>true</code> as expected."},{"owner":{"account_id":3389722,"reputation":406,"user_id":2844833,"accept_rate":91,"display_name":"Sam"},"score":1,"creation_date":1637783891,"post_id":66517237,"comment_id":123921311,"body_markdown":"I modified it a bit though: `if(cm != null){NetworkInfo activeNetwork = cm.getActiveNetworkInfo();\n            return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting() &amp;&amp;\n                    (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI || activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE);\n        }\n        return false;`","body":"I modified it a bit though: <code>if(cm != null){NetworkInfo activeNetwork = cm.getActiveNetworkInfo();             return activeNetwork != null &amp;&amp; activeNetwork.isConnectedOrConnecting() &amp;&amp;                     (activeNetwork.getType() == ConnectivityManager.TYPE_WIFI || activeNetwork.getType() == ConnectivityManager.TYPE_MOBILE);         }         return false;</code>"},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":2,"creation_date":1637791511,"post_id":66517237,"comment_id":123923661,"body_markdown":"Thanks @Sam, I&#39;ve had some issues in my todo list, and I thought it had something to do with some concurrency issues on the stream, but now that I think about it , it may very well be this the problem since my wifi sometimes disconnects, I think it may also arise in non SIM devices, that are connected with wifi only, since I&#39;ve tried reconnecting to the wifi (which is supposed to be working fine), and no reaction occurs, and a hard listener reconnection (un-register then register) is required.","body":"Thanks @Sam, I&#39;ve had some issues in my todo list, and I thought it had something to do with some concurrency issues on the stream, but now that I think about it , it may very well be this the problem since my wifi sometimes disconnects, I think it may also arise in non SIM devices, that are connected with wifi only, since I&#39;ve tried reconnecting to the wifi (which is supposed to be working fine), and no reaction occurs, and a hard listener reconnection (un-register then register) is required."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":1,"creation_date":1637791541,"post_id":66517237,"comment_id":123923666,"body_markdown":"What I am afraid of is that maybe we should not be checking for a &quot;successful&quot; connection (with `cm.getActiveNetworkInfo().isConnected()`) instead we should be checking for a &quot;failure&quot; since we may return a false negative before the device has &quot;timed out&quot; it&#39;s attempted connections during these 200 Millis. Unless its &quot;time out&quot; chronometer is exactly 200 Millis lol...\nBut thinking more about it , this may over complicate things since I may be adding a third state in what should be a true or false event. So maybe a 200 Millis is the correct thing to do.","body":"What I am afraid of is that maybe we should not be checking for a &quot;successful&quot; connection (with <code>cm.getActiveNetworkInfo().isConnected()</code>) instead we should be checking for a &quot;failure&quot; since we may return a false negative before the device has &quot;timed out&quot; it&#39;s attempted connections during these 200 Millis. Unless its &quot;time out&quot; chronometer is exactly 200 Millis lol... But thinking more about it , this may over complicate things since I may be adding a third state in what should be a true or false event. So maybe a 200 Millis is the correct thing to do."},{"owner":{"account_id":15545149,"reputation":1170,"user_id":11214643,"display_name":"Delark"},"score":2,"creation_date":1637791945,"post_id":66517237,"comment_id":123923782,"body_markdown":"@Sam BTW don&#39;t forget to synchronize the boolean output since a reconnection may become true, BEFORE the 200 Millis callback &quot;dispatched&quot; a false.","body":"@Sam BTW don&#39;t forget to synchronize the boolean output since a reconnection may become true, BEFORE the 200 Millis callback &quot;dispatched&quot; a false."}],"tags":[],"owner":{"account_id":13454565,"reputation":3196,"user_id":9708440,"display_name":"Lakpriya Senevirathna"},"comment_count":8,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1630785558,"creation_date":1615125056,"answer_id":66517237,"question_id":25678216,"body_markdown":"I used this method as a connection listener. Working for Lolipop+, Android JAVA language. \r\n\r\n    if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\r\n        ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        NetworkRequest networkRequest = new NetworkRequest.Builder().build();\r\n        connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n            @Override\r\n            public void onAvailable(Network network) {\r\n                super.onAvailable(network);\r\n                Log.i(&quot;Tag&quot;, &quot;active connection&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onLost(Network network) {\r\n                super.onLost(network);\r\n                Log.i(&quot;Tag&quot;, &quot;losing active connection&quot;);\r\n                isNetworkConnected();\r\n            }\r\n        });\r\n    }\r\n\r\n    private boolean isNetworkConnected() {\r\n        ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\r\n        if (!(cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected())) {\r\n            //Do something\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\nAnd also add this permission in your Android Manifest.xml \r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>I used this method as a connection listener. Working for Lolipop+, Android JAVA language.</p>\n<pre><code>if(Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP){\n    ConnectivityManager connectivityManager = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    NetworkRequest networkRequest = new NetworkRequest.Builder().build();\n    connectivityManager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n        @Override\n        public void onAvailable(Network network) {\n            super.onAvailable(network);\n            Log.i(&quot;Tag&quot;, &quot;active connection&quot;);\n        }\n\n        @Override\n        public void onLost(Network network) {\n            super.onLost(network);\n            Log.i(&quot;Tag&quot;, &quot;losing active connection&quot;);\n            isNetworkConnected();\n        }\n    });\n}\n\nprivate boolean isNetworkConnected() {\n    ConnectivityManager cm = (ConnectivityManager) getSystemService(Context.CONNECTIVITY_SERVICE);\n    if (!(cm.getActiveNetworkInfo() != null &amp;&amp; cm.getActiveNetworkInfo().isConnected())) {\n        //Do something\n        return false;\n    }\n    return true;\n}\n</code></pre>\n<p>And also add this permission in your Android Manifest.xml</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12360514,"reputation":143,"user_id":9014921,"display_name":"Liew Syet Chau"},"score":1,"creation_date":1648606995,"post_id":71548049,"comment_id":126665104,"body_markdown":"This answer was good, just implement it in activity/fragment to listen for network changes and do something if the value is true/false","body":"This answer was good, just implement it in activity/fragment to listen for network changes and do something if the value is true/false"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":1,"creation_date":1671538515,"post_id":71548049,"comment_id":132116467,"body_markdown":"It is not correct to assume no connection when onLost is called. If there&#39;s e.g. Wifi and Cellular, onAvailable is called twice. When you lose Wifi, onLost is called, but you still have Cellular. Have a look at Xid&#39;s answer for how to handle this correctly. It works perfectly.","body":"It is not correct to assume no connection when onLost is called. If there&#39;s e.g. Wifi and Cellular, onAvailable is called twice. When you lose Wifi, onLost is called, but you still have Cellular. Have a look at Xid&#39;s answer for how to handle this correctly. It works perfectly."}],"tags":[],"owner":{"account_id":55135,"reputation":21845,"user_id":165071,"accept_rate":96,"display_name":"Alexander Farber"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1671541990,"creation_date":1647789741,"answer_id":71548049,"question_id":25678216,"body_markdown":"Hello from the year 2022.\r\n\r\nIn my custom view model I observe network status changes like this:\r\n\r\n    public class MyViewModel extends AndroidViewModel {\r\n        private final MutableLiveData&lt;Boolean&gt; mConnected = new MutableLiveData&lt;&gt;();\r\n    \r\n        public MyViewModel(Application app) {\r\n            super(app);\r\n    \r\n            ConnectivityManager manager = (ConnectivityManager)app.getSystemService(Context.CONNECTIVITY_SERVICE);\r\n    \r\n            if (manager == null || Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\r\n                mConnected.setValue(true);\r\n                return;\r\n            }\r\n    \r\n            NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n                .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n                .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n                .build();\r\n    \r\n            manager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\r\n                Set&lt;Network&gt; availableNetworks = new HashSet&lt;&gt;();\r\n    \r\n                public void onAvailable(@NonNull Network network) {\r\n                    availableNetworks.add(network);\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n    \r\n                public void onLost(@NonNull Network network) {\r\n                    availableNetworks.remove(network);\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n    \r\n                public void onUnavailable() {\r\n                    availableNetworks.clear();\r\n                    mConnected.postValue(!availableNetworks.isEmpty());\r\n                }\r\n            });\r\n        }\r\n    \r\n        @NonNull\r\n        public MutableLiveData&lt;Boolean&gt; getConnected() {\r\n            return mConnected;\r\n        }\r\n    }\r\n\r\nAnd then in my Activity or Fragment I can change the UI by observing:\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        MyViewModel vm = new ViewModelProvider(this).get(MyViewModel.class);\r\n\r\n        vm.getConnected().observe(this, connected -&gt; {\r\n            // TODO change GUI depending on the connected value\r\n        });\r\n    }\r\n","title":"Android: Internet connectivity change listener","body":"<p>Hello from the year 2022.</p>\n<p>In my custom view model I observe network status changes like this:</p>\n<pre><code>public class MyViewModel extends AndroidViewModel {\n    private final MutableLiveData&lt;Boolean&gt; mConnected = new MutableLiveData&lt;&gt;();\n\n    public MyViewModel(Application app) {\n        super(app);\n\n        ConnectivityManager manager = (ConnectivityManager)app.getSystemService(Context.CONNECTIVITY_SERVICE);\n\n        if (manager == null || Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.LOLLIPOP) {\n            mConnected.setValue(true);\n            return;\n        }\n\n        NetworkRequest networkRequest = new NetworkRequest.Builder()\n            .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n            .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n            .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n            .build();\n\n        manager.registerNetworkCallback(networkRequest, new ConnectivityManager.NetworkCallback() {\n            Set&lt;Network&gt; availableNetworks = new HashSet&lt;&gt;();\n\n            public void onAvailable(@NonNull Network network) {\n                availableNetworks.add(network);\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n\n            public void onLost(@NonNull Network network) {\n                availableNetworks.remove(network);\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n\n            public void onUnavailable() {\n                availableNetworks.clear();\n                mConnected.postValue(!availableNetworks.isEmpty());\n            }\n        });\n    }\n\n    @NonNull\n    public MutableLiveData&lt;Boolean&gt; getConnected() {\n        return mConnected;\n    }\n}\n</code></pre>\n<p>And then in my Activity or Fragment I can change the UI by observing:</p>\n<pre><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    MyViewModel vm = new ViewModelProvider(this).get(MyViewModel.class);\n\n    vm.getConnected().observe(this, connected -&gt; {\n        // TODO change GUI depending on the connected value\n    });\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":1,"creation_date":1671538221,"post_id":72953660,"comment_id":132116393,"body_markdown":"Network implements hashCode &amp; equals, so in onLost() a simple networks.remove(network) should be fine.","body":"Network implements hashCode &amp; equals, so in onLost() a simple networks.remove(network) should be fine."}],"tags":[],"owner":{"account_id":17020425,"reputation":4743,"user_id":12313157,"display_name":"Xid"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1673077214,"creation_date":1657634685,"answer_id":72953660,"question_id":25678216,"body_markdown":"According to the [official docs](https://developer.android.com/training/monitoring-device-state/connectivity-status-type):\r\n\r\n1. Define network request\r\n```kotlin\r\nprivate val networkRequest = NetworkRequest.Builder().apply {\r\n    // To check wifi and cellular networks for internet availability\r\n    addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n    addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n    addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n        // Capabilities can be verified starting Android 6.0.\r\n        // For a network with NET_CAPABILITY_INTERNET, \r\n        // it means that Internet connectivity was successfully detected\r\n        addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\r\n    }\r\n\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\r\n        // Indicates that this network is available for use by apps,\r\n        // and not a network that is being kept up in the background \r\n        // to facilitate fast network switching.\r\n        addCapability(NetworkCapabilities.NET_CAPABILITY_FOREGROUND)\r\n    }\r\n}.build()\r\n```\r\n\r\n2. Configure a network callback\r\n```kotlin\r\nprivate val networkCallback = object : ConnectivityManager.NetworkCallback() {\r\n    private val networks = mutableListOf&lt;Network&gt;()\r\n\r\n    override fun onAvailable(network: Network) {\r\n        super.onAvailable(network)\r\n\r\n        networks.add(network)\r\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\r\n    }\r\n\r\n    override fun onLost(network: Network) {\r\n        super.onLost(network)\r\n\r\n        networks.remove(network)\r\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\r\n    }\r\n}\r\n```\r\n3. Register for network updates\r\n```kotlin\r\nval connectivityService =\r\n    applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\nconnectivityService.registerNetworkCallback(networkRequest, networkCallback)\r\n```","title":"Android: Internet connectivity change listener","body":"<p>According to the <a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-status-type\" rel=\"nofollow noreferrer\">official docs</a>:</p>\n<ol>\n<li>Define network request</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val networkRequest = NetworkRequest.Builder().apply {\n    // To check wifi and cellular networks for internet availability\n    addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n    addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        // Capabilities can be verified starting Android 6.0.\n        // For a network with NET_CAPABILITY_INTERNET, \n        // it means that Internet connectivity was successfully detected\n        addCapability(NetworkCapabilities.NET_CAPABILITY_VALIDATED)\n    }\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.P) {\n        // Indicates that this network is available for use by apps,\n        // and not a network that is being kept up in the background \n        // to facilitate fast network switching.\n        addCapability(NetworkCapabilities.NET_CAPABILITY_FOREGROUND)\n    }\n}.build()\n</code></pre>\n<ol start=\"2\">\n<li>Configure a network callback</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val networkCallback = object : ConnectivityManager.NetworkCallback() {\n    private val networks = mutableListOf&lt;Network&gt;()\n\n    override fun onAvailable(network: Network) {\n        super.onAvailable(network)\n\n        networks.add(network)\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\n    }\n\n    override fun onLost(network: Network) {\n        super.onLost(network)\n\n        networks.remove(network)\n        Log.d(&quot;Has network ---&gt;&quot;, networks.any().toString())\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Register for network updates</li>\n</ol>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val connectivityService =\n    applicationContext.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nconnectivityService.registerNetworkCallback(networkRequest, networkCallback)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19950940,"reputation":81,"user_id":14620607,"display_name":"manu mathew"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662626597,"creation_date":1662626597,"answer_id":73646116,"question_id":25678216,"body_markdown":"ref https://developer.android.com/training/monitoring-device-state/connectivity-status-type\r\n\r\n&gt; To specify the transport type of the network, such as Wi-Fi or\r\n&gt; cellular connection, and the currently connected network&#39;s\r\n&gt; capabilities, such as internet connection, you must configure a\r\n&gt; network request.\r\n&gt; \r\n&gt; Declare a NetworkRequest that describes your app’s network connection\r\n&gt; needs. The following code creates a request for a network that is\r\n&gt; connected to the internet and uses either a Wi-Fi or cellular\r\n&gt; connection for the transport type.\r\n\r\nadd this in onCreate\r\n\r\n    NetworkRequest networkRequest = new NetworkRequest.Builder()\r\n        .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\r\n        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n        .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n        .build();\r\n\r\n&gt; Configure a network callback When you register the NetworkRequest with\r\n&gt; the ConnectivityManager, you must implement a NetworkCallback to\r\n&gt; receive notifications about changes in the connection status and\r\n&gt; network capabilities.\r\n&gt; \r\n&gt; The most commonly implemented functions in the NetworkCallback include\r\n&gt; the following:\r\n&gt; \r\n&gt; onAvailable() indicates that the device is connected to a new network\r\n&gt; that satisfies the capabilities and transport type requirements\r\n&gt; specified in the NetworkRequest. onLost() indicates that the device\r\n&gt; has lost connection to the network. onCapabilitiesChanged() indicates\r\n&gt; that the capabilities of the network have changed. The\r\n&gt; NetworkCapabilities object provides information about the current\r\n&gt; capabilities of the network.\r\n\r\nadd listener\r\n\r\n    private ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\r\n    @Override\r\n    public void onAvailable(@NonNull Network network) {\r\n        super.onAvailable(network);\r\n    }\r\n\r\n    @Override\r\n    public void onLost(@NonNull Network network) {\r\n        super.onLost(network);\r\n    }\r\n\r\n    @Override\r\n    public void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\r\n        super.onCapabilitiesChanged(network, networkCapabilities);\r\n        final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\r\n    }};\r\n\r\n&gt; Register for network updates After you declare the NetworkRequest and\r\n&gt; NetworkCallback, use the requestNetwork() or registerNetworkCallback()\r\n&gt; functions to search for a network to connect from the device that\r\n&gt; satisfies the NetworkRequest. The status is then reported to the\r\n&gt; NetworkCallback.\r\n\r\nRegister in onCreate\r\n\r\n    ConnectivityManager connectivityManager =\r\n        (ConnectivityManager) getSystemService(ConnectivityManager.class);\r\n    connectivityManager.requestNetwork(networkRequest, networkCallback);\r\n\r\n\r\n\r\n\r\n","title":"Android: Internet connectivity change listener","body":"<p>ref <a href=\"https://developer.android.com/training/monitoring-device-state/connectivity-status-type\" rel=\"nofollow noreferrer\">https://developer.android.com/training/monitoring-device-state/connectivity-status-type</a></p>\n<blockquote>\n<p>To specify the transport type of the network, such as Wi-Fi or\ncellular connection, and the currently connected network's\ncapabilities, such as internet connection, you must configure a\nnetwork request.</p>\n<p>Declare a NetworkRequest that describes your app’s network connection\nneeds. The following code creates a request for a network that is\nconnected to the internet and uses either a Wi-Fi or cellular\nconnection for the transport type.</p>\n</blockquote>\n<p>add this in onCreate</p>\n<pre><code>NetworkRequest networkRequest = new NetworkRequest.Builder()\n    .addCapability(NetworkCapabilities.NET_CAPABILITY_INTERNET)\n    .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n    .build();\n</code></pre>\n<blockquote>\n<p>Configure a network callback When you register the NetworkRequest with\nthe ConnectivityManager, you must implement a NetworkCallback to\nreceive notifications about changes in the connection status and\nnetwork capabilities.</p>\n<p>The most commonly implemented functions in the NetworkCallback include\nthe following:</p>\n<p>onAvailable() indicates that the device is connected to a new network\nthat satisfies the capabilities and transport type requirements\nspecified in the NetworkRequest. onLost() indicates that the device\nhas lost connection to the network. onCapabilitiesChanged() indicates\nthat the capabilities of the network have changed. The\nNetworkCapabilities object provides information about the current\ncapabilities of the network.</p>\n</blockquote>\n<p>add listener</p>\n<pre><code>private ConnectivityManager.NetworkCallback networkCallback = new ConnectivityManager.NetworkCallback() {\n@Override\npublic void onAvailable(@NonNull Network network) {\n    super.onAvailable(network);\n}\n\n@Override\npublic void onLost(@NonNull Network network) {\n    super.onLost(network);\n}\n\n@Override\npublic void onCapabilitiesChanged(@NonNull Network network, @NonNull NetworkCapabilities networkCapabilities) {\n    super.onCapabilitiesChanged(network, networkCapabilities);\n    final boolean unmetered = networkCapabilities.hasCapability(NetworkCapabilities.NET_CAPABILITY_NOT_METERED);\n}};\n</code></pre>\n<blockquote>\n<p>Register for network updates After you declare the NetworkRequest and\nNetworkCallback, use the requestNetwork() or registerNetworkCallback()\nfunctions to search for a network to connect from the device that\nsatisfies the NetworkRequest. The status is then reported to the\nNetworkCallback.</p>\n</blockquote>\n<p>Register in onCreate</p>\n<pre><code>ConnectivityManager connectivityManager =\n    (ConnectivityManager) getSystemService(ConnectivityManager.class);\nconnectivityManager.requestNetwork(networkRequest, networkCallback);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1087775,"reputation":42376,"user_id":1083093,"accept_rate":67,"display_name":"Devrath"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677679686,"creation_date":1677679686,"answer_id":75604794,"question_id":25678216,"body_markdown":"***Answering this in 2023, Since a better implementation is available***\r\n\r\n**NetworkObserver.kt**\r\n\r\n    /**\r\n     * This class is in charge of listening to the state of the network connection and notifying the\r\n     * activity if the state of the connection changes.\r\n     * */\r\n    class NetworkObserver constructor(\r\n        private val context: Context,\r\n        private val lifecycle: Lifecycle\r\n      ) : DefaultLifecycleObserver {\r\n    \r\n      private lateinit var networkCallback: ConnectivityManager.NetworkCallback\r\n      private var connectivityManager: ConnectivityManager? = null\r\n      private val validNetworks = HashSet&lt;Network&gt;()\r\n    \r\n      private lateinit var job: Job\r\n      private lateinit var coroutineScope: CoroutineScope\r\n    \r\n      // State Holder: Indicating either the network is available or not-available\r\n      private val _networkAvailableStateFlow: MutableStateFlow&lt;NetworkState&gt; = MutableStateFlow(NetworkState.Available)\r\n    \r\n      val networkAvailableStateFlow\r\n        get() = _networkAvailableStateFlow\r\n    \r\n      // ---&gt; This variable can be accessed anytime to get the current state of the network\r\n      val isConnected: Boolean\r\n        get() = _isConnected.get()\r\n    \r\n      private val _isConnected = AtomicBoolean(false)\r\n    \r\n      override fun onCreate(owner: LifecycleOwner) {\r\n        super.onCreate(owner)\r\n        init()\r\n      }\r\n    \r\n      override fun onStart(owner: LifecycleOwner) {\r\n        super.onStart(owner)\r\n        registerNetworkCallback()\r\n        checkValidNetworks()\r\n      }\r\n    \r\n      override fun onStop(owner: LifecycleOwner) {\r\n        super.onStop(owner)\r\n        unregisterNetworkCallback()\r\n      }\r\n    \r\n      private fun init() {\r\n        // Initialize the connectivity manager instance\r\n        connectivityManager = context.getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\r\n      }\r\n    \r\n      private fun registerNetworkCallback() {\r\n        if (lifecycle.currentState.isAtLeast(Lifecycle.State.STARTED)) {\r\n          // Observing the network should happen only when the life-cycle is in started state\r\n          initCoroutine()\r\n          initNetworkMonitoring()\r\n        }\r\n      }\r\n    \r\n      private fun unregisterNetworkCallback() {\r\n        validNetworks.clear()\r\n        connectivityManager?.unregisterNetworkCallback(networkCallback)\r\n        job.cancel()\r\n      }\r\n    \r\n      /**\r\n       * Co-Routine used to monitor the connectivity\r\n       */\r\n      private fun initCoroutine() {\r\n        // Create a job instance\r\n        job = Job()\r\n        // Provide a co-routine scope\r\n        coroutineScope = CoroutineScope(Dispatchers.Default + job)\r\n      }\r\n    \r\n      private fun initNetworkMonitoring() {\r\n        networkCallback = createNetworkCallback()\r\n    \r\n        val networkRequest = NetworkRequest.Builder()\r\n            .addCapability(NET_CAPABILITY_INTERNET)\r\n            .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n            .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\r\n            .build()\r\n        connectivityManager?.registerNetworkCallback(networkRequest, networkCallback)\r\n      }\r\n    \r\n      private fun createNetworkCallback() = object : ConnectivityManager.NetworkCallback() {\r\n        override fun onAvailable(network: Network) {\r\n          connectivityManager?.getNetworkCapabilities(network).also {\r\n            if (it?.hasCapability(NET_CAPABILITY_INTERNET) == true) {\r\n              validNetworks.add(network)\r\n            }\r\n          }\r\n          checkValidNetworks()\r\n        }\r\n    \r\n        override fun onLost(network: Network) {\r\n          validNetworks.remove(network)\r\n          checkValidNetworks()\r\n        }\r\n      }\r\n    \r\n      private fun checkValidNetworks() {\r\n        coroutineScope.launch {\r\n          _networkAvailableStateFlow.emit(\r\n              if (validNetworks.size &gt; 0){\r\n                _isConnected.set(true)\r\n                NetworkState.Available\r\n              } else {\r\n                _isConnected.set(false)\r\n                NetworkState.Unavailable\r\n              }\r\n          )\r\n        }\r\n      }\r\n    }\r\n    \r\n    sealed class NetworkState {\r\n      object Unavailable : NetworkState()\r\n      object Available : NetworkState()\r\n    }\r\n\r\n**Usage**\r\n\r\n        // --&gt; Initialize the network observer in your activity or fragment\r\n        networkObserver = NetworkObserver(this, lifecycle)\r\n        lifecycle.addObserver(networkObserver)\r\n    \r\n        // --&gt; Use live data to observe the network changes\r\n        networkObserver.networkAvailableStateFlow.asLiveData().observe(this, Observer { networkState -&gt;\r\n          when (networkState) {\r\n            NetworkState.Unavailable -&gt; SnackBarDisplay.showNetworkUnavailableAlert(binding.root)\r\n            NetworkState.Available -&gt; SnackBarDisplay.removeNetworkUnavailableAlert()\r\n          }\r\n        })\r\n\r\n\r\n----------\r\n\r\nI have posted [full solution in my GitHub here][1]\r\n\r\n\r\n  [1]: https://github.com/devrath/droid-network-observer","title":"Android: Internet connectivity change listener","body":"<p><em><strong>Answering this in 2023, Since a better implementation is available</strong></em></p>\n<p><strong>NetworkObserver.kt</strong></p>\n<pre><code>/**\n * This class is in charge of listening to the state of the network connection and notifying the\n * activity if the state of the connection changes.\n * */\nclass NetworkObserver constructor(\n    private val context: Context,\n    private val lifecycle: Lifecycle\n  ) : DefaultLifecycleObserver {\n\n  private lateinit var networkCallback: ConnectivityManager.NetworkCallback\n  private var connectivityManager: ConnectivityManager? = null\n  private val validNetworks = HashSet&lt;Network&gt;()\n\n  private lateinit var job: Job\n  private lateinit var coroutineScope: CoroutineScope\n\n  // State Holder: Indicating either the network is available or not-available\n  private val _networkAvailableStateFlow: MutableStateFlow&lt;NetworkState&gt; = MutableStateFlow(NetworkState.Available)\n\n  val networkAvailableStateFlow\n    get() = _networkAvailableStateFlow\n\n  // ---&gt; This variable can be accessed anytime to get the current state of the network\n  val isConnected: Boolean\n    get() = _isConnected.get()\n\n  private val _isConnected = AtomicBoolean(false)\n\n  override fun onCreate(owner: LifecycleOwner) {\n    super.onCreate(owner)\n    init()\n  }\n\n  override fun onStart(owner: LifecycleOwner) {\n    super.onStart(owner)\n    registerNetworkCallback()\n    checkValidNetworks()\n  }\n\n  override fun onStop(owner: LifecycleOwner) {\n    super.onStop(owner)\n    unregisterNetworkCallback()\n  }\n\n  private fun init() {\n    // Initialize the connectivity manager instance\n    connectivityManager = context.getSystemService(CONNECTIVITY_SERVICE) as ConnectivityManager\n  }\n\n  private fun registerNetworkCallback() {\n    if (lifecycle.currentState.isAtLeast(Lifecycle.State.STARTED)) {\n      // Observing the network should happen only when the life-cycle is in started state\n      initCoroutine()\n      initNetworkMonitoring()\n    }\n  }\n\n  private fun unregisterNetworkCallback() {\n    validNetworks.clear()\n    connectivityManager?.unregisterNetworkCallback(networkCallback)\n    job.cancel()\n  }\n\n  /**\n   * Co-Routine used to monitor the connectivity\n   */\n  private fun initCoroutine() {\n    // Create a job instance\n    job = Job()\n    // Provide a co-routine scope\n    coroutineScope = CoroutineScope(Dispatchers.Default + job)\n  }\n\n  private fun initNetworkMonitoring() {\n    networkCallback = createNetworkCallback()\n\n    val networkRequest = NetworkRequest.Builder()\n        .addCapability(NET_CAPABILITY_INTERNET)\n        .addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n        .addTransportType(NetworkCapabilities.TRANSPORT_CELLULAR)\n        .build()\n    connectivityManager?.registerNetworkCallback(networkRequest, networkCallback)\n  }\n\n  private fun createNetworkCallback() = object : ConnectivityManager.NetworkCallback() {\n    override fun onAvailable(network: Network) {\n      connectivityManager?.getNetworkCapabilities(network).also {\n        if (it?.hasCapability(NET_CAPABILITY_INTERNET) == true) {\n          validNetworks.add(network)\n        }\n      }\n      checkValidNetworks()\n    }\n\n    override fun onLost(network: Network) {\n      validNetworks.remove(network)\n      checkValidNetworks()\n    }\n  }\n\n  private fun checkValidNetworks() {\n    coroutineScope.launch {\n      _networkAvailableStateFlow.emit(\n          if (validNetworks.size &gt; 0){\n            _isConnected.set(true)\n            NetworkState.Available\n          } else {\n            _isConnected.set(false)\n            NetworkState.Unavailable\n          }\n      )\n    }\n  }\n}\n\nsealed class NetworkState {\n  object Unavailable : NetworkState()\n  object Available : NetworkState()\n}\n</code></pre>\n<p><strong>Usage</strong></p>\n<pre><code>    // --&gt; Initialize the network observer in your activity or fragment\n    networkObserver = NetworkObserver(this, lifecycle)\n    lifecycle.addObserver(networkObserver)\n\n    // --&gt; Use live data to observe the network changes\n    networkObserver.networkAvailableStateFlow.asLiveData().observe(this, Observer { networkState -&gt;\n      when (networkState) {\n        NetworkState.Unavailable -&gt; SnackBarDisplay.showNetworkUnavailableAlert(binding.root)\n        NetworkState.Available -&gt; SnackBarDisplay.removeNetworkUnavailableAlert()\n      }\n    })\n</code></pre>\n<hr />\n<p>I have posted <a href=\"https://github.com/devrath/droid-network-observer\" rel=\"nofollow noreferrer\">full solution in my GitHub here</a></p>\n"}],"owner":{"account_id":3787937,"reputation":5676,"user_id":3886922,"accept_rate":69,"display_name":"Confuse"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":147968,"favorite_count":0,"down_vote_count":2,"up_vote_count":103,"accepted_answer_id":25678314,"answer_count":13,"score":101,"last_activity_date":1677679686,"creation_date":1409887719,"question_id":25678216,"body_markdown":"I already have this code which listens to connectivity change -\r\n\r\n    public class NetworkStateReceiver extends BroadcastReceiver\r\n    {\r\n      public void onReceive(Context context, Intent intent)\r\n      {\r\n        Log.d(&quot;app&quot;,&quot;Network connectivity change&quot;);\r\n\r\n        if(intent.getExtras() != null)\r\n        {\r\n          NetworkInfo ni = (NetworkInfo) intent.getExtras().get(ConnectivityManager.EXTRA_NETWORK_INFO);\r\n          if(ni != null &amp;&amp; ni.getState() == NetworkInfo.State.CONNECTED)\r\n          {\r\n            Log.i(&quot;app&quot;, &quot;Network &quot; + ni.getTypeName() + &quot; connected&quot;);\r\n          }\r\n        }\r\n\r\n        if(intent.getExtras().getBoolean(ConnectivityManager.EXTRA_NO_CONNECTIVITY, Boolean.FALSE))\r\n        {\r\n          Log.d(&quot;app&quot;, &quot;There&#39;s no network connectivity&quot;);\r\n        }\r\n      }\r\n    }\r\n\r\nAnd I check Internet connectivity using this code - [Internet Check][1]\r\n\r\nBut the problem is that if network suddenly loses internet connection without any connectivity change, this code is useless. Is there any way to create **Broadcast Receiver** listener for Internet connectivity change? I have a web app and sudden Internet connectivity changes can cause problems.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/6493517/detect-if-android-device-has-internet-connection/6493572#6493572","title":"Android: Internet connectivity change listener","body":"<p>I already have this code which listens to connectivity change -</p>\n\n<pre><code>public class NetworkStateReceiver extends BroadcastReceiver\n{\n  public void onReceive(Context context, Intent intent)\n  {\n    Log.d(\"app\",\"Network connectivity change\");\n\n    if(intent.getExtras() != null)\n    {\n      NetworkInfo ni = (NetworkInfo) intent.getExtras().get(ConnectivityManager.EXTRA_NETWORK_INFO);\n      if(ni != null &amp;&amp; ni.getState() == NetworkInfo.State.CONNECTED)\n      {\n        Log.i(\"app\", \"Network \" + ni.getTypeName() + \" connected\");\n      }\n    }\n\n    if(intent.getExtras().getBoolean(ConnectivityManager.EXTRA_NO_CONNECTIVITY, Boolean.FALSE))\n    {\n      Log.d(\"app\", \"There's no network connectivity\");\n    }\n  }\n}\n</code></pre>\n\n<p>And I check Internet connectivity using this code - <a href=\"https://stackoverflow.com/questions/6493517/detect-if-android-device-has-internet-connection/6493572#6493572\">Internet Check</a></p>\n\n<p>But the problem is that if network suddenly loses internet connection without any connectivity change, this code is useless. Is there any way to create <strong>Broadcast Receiver</strong> listener for Internet connectivity change? I have a web app and sudden Internet connectivity changes can cause problems.</p>\n"},{"tags":["java","spring","spring-boot","microservices","spring-boot-actuator"],"answers":[{"comments":[{"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1677678676,"post_id":75601912,"comment_id":133385039,"body_markdown":"Can&#39;t I store them as environment variables? The application is on-premise.","body":"Can&#39;t I store them as environment variables? The application is on-premise."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677680752,"post_id":75601912,"comment_id":133385771,"body_markdown":"@SwetaSharma: environment variables are ephemeral. *Something* needs to store the value to re-set the environment variable every time. There are existing tools (infrastructure, really) that handles this complicated issue. Your &quot;can&#39;t we simply&quot; solution was probably found to be lacking in some respect. It&#39;s not a trivial issue and any organization that handles any secrets in their running code (i.e. almost everyone running code on servers) needs to tackle this eventually.","body":"@SwetaSharma: environment variables are ephemeral. <i>Something</i> needs to store the value to re-set the environment variable every time. There are existing tools (infrastructure, really) that handles this complicated issue. Your &quot;can&#39;t we simply&quot; solution was probably found to be lacking in some respect. It&#39;s not a trivial issue and any organization that handles any secrets in their running code (i.e. almost everyone running code on servers) needs to tackle this eventually."},{"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"score":0,"creation_date":1677689437,"post_id":75601912,"comment_id":133388781,"body_markdown":"yes you can store credentials as environment variables if it suits. do keep in mind abt suggestions by @JoachimSauer","body":"yes you can store credentials as environment variables if it suits. do keep in mind abt suggestions by @JoachimSauer"}],"tags":[],"owner":{"account_id":2931887,"reputation":8248,"user_id":2511915,"accept_rate":85,"display_name":"Dark Knight"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663686,"creation_date":1677663686,"answer_id":75601912,"question_id":75601863,"body_markdown":"You can store such credentials safely in value, [Harshi][1] preferably. Alternatively if deployed on k8s, k8s secrets is useful feature.\r\n\r\n\r\n  [1]: https://www.vaultproject.io/","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>You can store such credentials safely in value, <a href=\"https://www.vaultproject.io/\" rel=\"nofollow noreferrer\">Harshi</a> preferably. Alternatively if deployed on k8s, k8s secrets is useful feature.</p>\n"},{"tags":[],"owner":{"account_id":18728352,"reputation":76,"user_id":13654416,"display_name":"AlexAlbu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677679415,"creation_date":1677679415,"answer_id":75604750,"question_id":75601863,"body_markdown":"Storing credentials in unencrypted files is NOT considered a good practice. One way that I would recommend is to store sensible data in an encrypted file(with a symmetric algorithm like AES 256).\r\n\r\nYou can decrypt the file at the start time of your app, by entering the secret password used to derive the key of the encryption algorithm.\r\n\r\nYou could store the credentials in environmental variables on your system, but that would just move the problem in another place. Anybody with access on your systems could see this variables. The MOST SECURE way is to use encryption based on a secret that only you know.","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>Storing credentials in unencrypted files is NOT considered a good practice. One way that I would recommend is to store sensible data in an encrypted file(with a symmetric algorithm like AES 256).</p>\n<p>You can decrypt the file at the start time of your app, by entering the secret password used to derive the key of the encryption algorithm.</p>\n<p>You could store the credentials in environmental variables on your system, but that would just move the problem in another place. Anybody with access on your systems could see this variables. The MOST SECURE way is to use encryption based on a secret that only you know.</p>\n"}],"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677679415,"creation_date":1677663468,"question_id":75601863,"body_markdown":"I&#39;m new to the spring cloud config server. We are trying to set up a spring cloud config server on-premise.\r\nThe application can connect to the spring cloud config server using the below property and value.\r\n\r\n    spring.config.import=optional:configserver:http://root:s3cr3t@localhost:8088\r\n\r\nHowever, I&#39;m not sure how to secure the username and password used to connect to the spring cloud config server.\r\nRight now, the username and password are in the application.properties file.\r\n\r\nWhat are the best practices to store them? \r\n\r\nCan I store them as environment variables?","title":"How to store securely the username and password used to authenticate to the config server on-premise?","body":"<p>I'm new to the spring cloud config server. We are trying to set up a spring cloud config server on-premise.\nThe application can connect to the spring cloud config server using the below property and value.</p>\n<pre><code>spring.config.import=optional:configserver:http://root:s3cr3t@localhost:8088\n</code></pre>\n<p>However, I'm not sure how to secure the username and password used to connect to the spring cloud config server.\nRight now, the username and password are in the application.properties file.</p>\n<p>What are the best practices to store them?</p>\n<p>Can I store them as environment variables?</p>\n"},{"tags":["java","serialization","jackson","json-view"],"answers":[{"comments":[{"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"score":0,"creation_date":1445969667,"post_id":33355791,"comment_id":54545090,"body_markdown":"Thank you. That will work for my example where 2 JsonViews overlap on properties. What if Public has property that Private does not have and opposite. See above Example #2.","body":"Thank you. That will work for my example where 2 JsonViews overlap on properties. What if Public has property that Private does not have and opposite. See above Example #2."},{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":0,"creation_date":1446026286,"post_id":33355791,"comment_id":54567920,"body_markdown":"Edited my answer. Tried to use multiple classes in @JsonView annotation however no luck in there.","body":"Edited my answer. Tried to use multiple classes in @JsonView annotation however no luck in there."}],"tags":[],"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1446011424,"creation_date":1445894213,"answer_id":33355791,"question_id":33292749,"body_markdown":"@JsonView accepts inheritance. Views.Private fields extends Views.Public fields. This means Views.Private serialization will also look for the Views.Public annotations. \r\n    \r\n    public Views {\r\n        public Public {}\r\n        public Private extends Public {}\r\n    }\r\n    \r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      @JsonView(Views.Public.class)\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      @JsonView(Views.Private.class)\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    \r\n    class UserUI {\r\n      @JsonView(Views.Public.class)\r\n      public String name;\r\n      @JsonView(Views.Private.class)\r\n      public String phone;\r\n      ...\r\n    }\r\n\r\nFor Example #2 \r\n\r\nYou can introduce multiple classes like:\r\n\r\n    public Views {\r\n        public Public {}\r\n        public Private1 extends Public {}\r\n        public Private2 extends Public {}\r\n    }\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView(Views.Public.class)\r\n      public String name;\r\n      @JsonView({Views.Private1.class})\r\n      public String phone;\r\n      @JsonView({Views.Private2.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\nOr you can use view-less properties and use no inheritance:\r\n\r\n    public Views {\r\n        public Public {}\r\n        public Private {}\r\n    }\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      // This one is view-less shows every time unless you specificy\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      @JsonView({Views.Public.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\n    ...\r\n    // If you want to hide view-less properties, default is true \r\n    objectMapper.configure(SerializationConfig.Feature.DEFAULT_VIEW_INCLUSION, false); \r\n    ...","title":"How to change JsonView for specific properties","body":"<p>@JsonView accepts inheritance. Views.Private fields extends Views.Public fields. This means Views.Private serialization will also look for the Views.Public annotations. </p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private extends Public {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  @JsonView(Views.Public.class)\n  public UserUI getUser() {\n    return user;\n  }\n  @JsonView(Views.Private.class)\n  public UserUI getAgent() {\n    return agent;\n  }\n}\n\nclass UserUI {\n  @JsonView(Views.Public.class)\n  public String name;\n  @JsonView(Views.Private.class)\n  public String phone;\n  ...\n}\n</code></pre>\n\n<p>For Example #2 </p>\n\n<p>You can introduce multiple classes like:</p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private1 extends Public {}\n    public Private2 extends Public {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView(Views.Public.class)\n  public String name;\n  @JsonView({Views.Private1.class})\n  public String phone;\n  @JsonView({Views.Private2.class})\n  public String avatarUrl;\n  ...\n}\n</code></pre>\n\n<p>Or you can use view-less properties and use no inheritance:</p>\n\n<pre><code>public Views {\n    public Public {}\n    public Private {}\n}\n\nclass CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  // This one is view-less shows every time unless you specificy\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  @JsonView({Views.Public.class})\n  public String avatarUrl;\n  ...\n}\n\n...\n// If you want to hide view-less properties, default is true \nobjectMapper.configure(SerializationConfig.Feature.DEFAULT_VIEW_INCLUSION, false); \n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677679149,"creation_date":1447912766,"answer_id":33796325,"question_id":33292749,"body_markdown":"Just found more generic case if anyone need. Basically you can transform your property inside getter using different JsonView as such:\r\n\r\n      @JsonView({ Views.Detail.class})\r\n      public JsonNode getAgent() throws IOException {\r\n          ObjectMapper mapper = new ObjectMapper();\r\n          String json = mapper.writerWithView(Views.Private.class).writeValueAsString(agent);\r\n          return mapper.readTree(json);\r\n      }\r\n","title":"How to change JsonView for specific properties","body":"<p>Just found more generic case if anyone need. Basically you can transform your property inside getter using different JsonView as such:</p>\n<pre><code>  @JsonView({ Views.Detail.class})\n  public JsonNode getAgent() throws IOException {\n      ObjectMapper mapper = new ObjectMapper();\n      String json = mapper.writerWithView(Views.Private.class).writeValueAsString(agent);\n      return mapper.readTree(json);\n  }\n</code></pre>\n"}],"owner":{"account_id":939198,"reputation":1488,"user_id":967588,"accept_rate":60,"display_name":"Andrei V"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5881,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":33355791,"answer_count":2,"score":4,"last_activity_date":1677679149,"creation_date":1445558218,"question_id":33292749,"body_markdown":"Hi I have few UI objects that embedded into each other. Example #1:\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView({Views.Public.class,Views.Private.class})\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      ...\r\n    }\r\n\r\nAs you can see if I serialize UserUI as Public I will expose only name but for private I will expose all fields. \r\n\r\nHere is my question: when I serialize object CarUI I want to expose only name for &quot;user&quot; and both name+phone for &quot;agent&quot;. That essentially means that in the getter for the getUser() I want to change JsonView to Views.Public.class and for getAgent() I want to change it to Views.Private.class\r\n\r\nIs there way to overwrite JsonView in getters to make all hierarchy for the returned object now serialize using this new JsonView?\r\n\r\n**Edited**\r\nAs pointed below you can solve my Example#1 with JsonView inheritance. What about more generic. Here is Example#2:\r\n\r\n    class CarUI {\r\n      public UserUI user;\r\n      public UserUI agent;\r\n      ....\r\n      public UserUI getUser() {\r\n        return user;\r\n      }\r\n      public UserUI getAgent() {\r\n        return agent;\r\n      }\r\n    }\r\n    class UserUI {\r\n      @JsonView({Views.Public.class,Views.Private.class})\r\n      public String name;\r\n      @JsonView({Views.Private.class})\r\n      public String phone;\r\n      @JsonView({Views.Public.class})\r\n      public String avatarUrl;\r\n      ...\r\n    }\r\n\r\nIn this example Id like to display name+phone for Agent and name+avatarUrl for User.\r\n","title":"How to change JsonView for specific properties","body":"<p>Hi I have few UI objects that embedded into each other. Example #1:</p>\n\n<pre><code>class CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView({Views.Public.class,Views.Private.class})\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  ...\n}\n</code></pre>\n\n<p>As you can see if I serialize UserUI as Public I will expose only name but for private I will expose all fields. </p>\n\n<p>Here is my question: when I serialize object CarUI I want to expose only name for \"user\" and both name+phone for \"agent\". That essentially means that in the getter for the getUser() I want to change JsonView to Views.Public.class and for getAgent() I want to change it to Views.Private.class</p>\n\n<p>Is there way to overwrite JsonView in getters to make all hierarchy for the returned object now serialize using this new JsonView?</p>\n\n<p><strong>Edited</strong>\nAs pointed below you can solve my Example#1 with JsonView inheritance. What about more generic. Here is Example#2:</p>\n\n<pre><code>class CarUI {\n  public UserUI user;\n  public UserUI agent;\n  ....\n  public UserUI getUser() {\n    return user;\n  }\n  public UserUI getAgent() {\n    return agent;\n  }\n}\nclass UserUI {\n  @JsonView({Views.Public.class,Views.Private.class})\n  public String name;\n  @JsonView({Views.Private.class})\n  public String phone;\n  @JsonView({Views.Public.class})\n  public String avatarUrl;\n  ...\n}\n</code></pre>\n\n<p>In this example Id like to display name+phone for Agent and name+avatarUrl for User.</p>\n"},{"tags":["java","swing","installation","install4j"],"answers":[{"tags":[],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677674515,"creation_date":1677674515,"answer_id":75603886,"question_id":75603885,"body_markdown":"On Windows the special folder names are determined by the the system language.\r\n\r\nOn MacOS, they are determined by the key `CFBundleDevelopmentRegion` in `Info.plist`.\r\n\r\nBy default, install4j sets this key to the value of the installer &quot;principal language&quot;:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nThe writing of this settings can be disabled by setting the compiler variable `sys.ext.setDevelopmentRegion` to false. If this key does not exist, the names are localized according to the MacOS system language (like on Windows).\r\n\r\nThe value can also be customized on a per launcher basis by adding a custom Info.plist-fragment:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Lz9zq.png\r\n  [2]: https://i.stack.imgur.com/vu7Hl.png","title":"JFileChooser on MacOS: How is the localization of the names of special folders like &#39;Desktop&#39; determined?","body":"<p>On Windows the special folder names are determined by the the system language.</p>\n<p>On MacOS, they are determined by the key <code>CFBundleDevelopmentRegion</code> in <code>Info.plist</code>.</p>\n<p>By default, install4j sets this key to the value of the installer &quot;principal language&quot;:</p>\n<p><a href=\"https://i.stack.imgur.com/Lz9zq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lz9zq.png\" alt=\"enter image description here\" /></a></p>\n<p>The writing of this settings can be disabled by setting the compiler variable <code>sys.ext.setDevelopmentRegion</code> to false. If this key does not exist, the names are localized according to the MacOS system language (like on Windows).</p>\n<p>The value can also be customized on a per launcher basis by adding a custom Info.plist-fragment:</p>\n<p><a href=\"https://i.stack.imgur.com/vu7Hl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vu7Hl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1140418,"reputation":5502,"user_id":1124509,"accept_rate":53,"display_name":"Reto H&#246;hener"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1677678993,"creation_date":1677674515,"question_id":75603885,"body_markdown":"I have a situation where the special folder names on MacOS are French, but the labels &amp; buttons are German (the OS language is English):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n9SS3.png","title":"JFileChooser on MacOS: How is the localization of the names of special folders like &#39;Desktop&#39; determined?","body":"<p>I have a situation where the special folder names on MacOS are French, but the labels &amp; buttons are German (the OS language is English):</p>\n<p><a href=\"https://i.stack.imgur.com/n9SS3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n9SS3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"score":0,"creation_date":1677242160,"post_id":75556565,"comment_id":133303903,"body_markdown":"Thanks for the answer, response is good. \nIn the loop response.lenth() I can see mTempPlat is well instanciated, with good data, and mPlatList.add works too.\n\nIf I put a breakpoint on mPlatList.add, I can see the list growing with all the elements. \n\nBut after leaving the loop, mPlatList is empty...","body":"Thanks for the answer, response is good.  In the loop response.lenth() I can see mTempPlat is well instanciated, with good data, and mPlatList.add works too.  If I put a breakpoint on mPlatList.add, I can see the list growing with all the elements.   But after leaving the loop, mPlatList is empty..."}],"tags":[],"owner":{"account_id":22890987,"reputation":1,"user_id":17031125,"display_name":"Esy - nozhati"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677678738,"creation_date":1677241605,"answer_id":75556565,"question_id":75556369,"body_markdown":"Check `response.length()`. If it is more than 0 then it will work, otherwise `response` might have some problems. Also check the server side class.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>Check <code>response.length()</code>. If it is more than 0 then it will work, otherwise <code>response</code> might have some problems. Also check the server side class.</p>\n"},{"comments":[{"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"score":0,"creation_date":1677243601,"post_id":75556761,"comment_id":133304335,"body_markdown":"thanks for the answer. For the moment, I&#39;m not able to enter this for loop lol so no error. \n\nI will take your suggestion ;)","body":"thanks for the answer. For the moment, I&#39;m not able to enter this for loop lol so no error.   I will take your suggestion ;)"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677247098,"post_id":75556761,"comment_id":133305349,"body_markdown":"Ah yes, that does explain why there’s no error!","body":"Ah yes, that does explain why there’s no error!"}],"tags":[],"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677242975,"creation_date":1677242975,"answer_id":75556761,"question_id":75556369,"body_markdown":"I’m surprised you’re not getting an `ArrayIndexOutOfBoundsException` with this line\r\n\r\n    mPlatListtoString[mPlatListtoString.length+1] = plat.toString();\r\n\r\nThe size of an array is immutable, so once you define it as `{}` it is essentially size 0 and can’t accept any elements. Perhaps this would be better accomplished using the stream api such as\r\n\r\n\r\n    String[] mPlatListtoString = lPB.getPlatList().stream().map(plat -&gt; plat.toString()).collect(Collectors.toList()).toArray();\r\n\r\nThis eliminates the need for the loop altogether.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>I’m surprised you’re not getting an <code>ArrayIndexOutOfBoundsException</code> with this line</p>\n<pre><code>mPlatListtoString[mPlatListtoString.length+1] = plat.toString();\n</code></pre>\n<p>The size of an array is immutable, so once you define it as <code>{}</code> it is essentially size 0 and can’t accept any elements. Perhaps this would be better accomplished using the stream api such as</p>\n<pre><code>String[] mPlatListtoString = lPB.getPlatList().stream().map(plat -&gt; plat.toString()).collect(Collectors.toList()).toArray();\n</code></pre>\n<p>This eliminates the need for the loop altogether.</p>\n"},{"tags":[],"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677425596,"creation_date":1677425596,"answer_id":75573036,"question_id":75556369,"body_markdown":"I just transformed constructor PlatBank to classic method PlatBankFill() and called new PlatBank().PlatBankFill() and it worked... \r\n","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>I just transformed constructor PlatBank to classic method PlatBankFill() and called new PlatBank().PlatBankFill() and it worked...</p>\n"}],"owner":{"account_id":11730423,"reputation":1,"user_id":21279940,"display_name":"Cyril"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75573036,"answer_count":3,"score":0,"last_activity_date":1677678738,"creation_date":1677240315,"question_id":75556369,"body_markdown":"I have a problem with a class in my Android app. I read a JSON, on debug I see the results of the request, mPlatList is filled in with retrieved data, but when the loop is finished, my object.mPlatList is empty. \r\n\r\nEDIT : Going forward, it seems in getAllPlatsStrings function, java goes to the for loop before the getPlatList() call finished. \r\nI&#39;ve added logs, and a log.i(...) just before &quot;return platListToString&quot; is thrown before a Log.i.. in getPlatList method.\r\n\r\nLooking on this deeper...\r\n\r\nHere&#39;s my class:\r\n\r\n```\r\npublic class PlatBank{\r\n    private List&lt;Plat&gt; mPlatList = new ArrayList&lt;&gt;();\r\n    private JsonReader mJsonReader;\r\n    private String mRetour = &quot;&quot;;\r\n\r\n\r\n    public PlatBank() {\r\n       \r\n        String url = &quot;xxx&quot;; //works\r\n        // Instantiate the cache\r\n        Cache cache = new DiskBasedCache(new File(&quot;cache&quot;) ,1024 * 1024); // 1MB cap\r\n        // Set up the network to use HttpURLConnection as the HTTP client.\r\n        Network network = new BasicNetwork(new HurlStack());\r\n\r\n        RequestQueue requestQueue = new RequestQueue(cache,network);\r\n        requestQueue.start();\r\n\r\n        JsonArrayRequest mJsonQuery = new JsonArrayRequest(url, new Response.Listener&lt;JSONArray&gt;(){\r\n            @Override\r\n            public void onResponse(JSONArray response) {\r\n                mRetour = response.toString();\r\n                Plat mTempPlat;\r\n                for (int i = 0; i &lt; response.length(); i++) {\r\n                    try {\r\n                        mTempPlat = new Plat(&quot;id&quot;, (String) response.get(i)); // is filled in ok\r\n                        mPlatList.add(mTempPlat); // mTemPlat added to mPlatList ok\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//on debug with breakpoint, I can see mPlatList grows with every object from Json request\r\n                    } catch (JSONException e) {\r\n                        throw new RuntimeException(e);\r\n                    }\r\n                }\r\n            }\r\n        }, new Response.ErrorListener(){\r\n            @Override\r\n            public void onErrorResponse(VolleyError error) {\r\n                mRetour = &quot;KO&quot;;\r\n            }\r\n        });\r\n\r\n\r\n        requestQueue.add(mJsonQuery);\r\n\t}\r\n\t\r\n\t\r\n\tpublic List&lt;Plat&gt; getPlatList(){\r\n        return  mPlatList;\r\n    }\r\n\t\r\n\t\r\n\t public String[] getAllPlatsStrings() {\r\n\r\n        PlatBank lPB = new PlatBank(); //so if I&#39;m not wrong, here I should have a PlatBank object, with all Plat in mPlatList attribute ?\r\n        String[] mPlatListtoString = {};\r\n\r\n        for (Plat plat:lPB.getPlatList()) { //getPlatList is always empty. Don&#39;t find why...\r\n            mPlatListtoString[mPlatListtoString.length+1] = plat.toString(); //source empty so never enters in this loop\r\n        }\r\n        return (mPlatListtoString);\r\n    }\r\n}\r\n```\r\n\r\nClass runs without error, but my private list return is empty.","title":"private variable not updated in JsonRequest RequestQueue","body":"<p>I have a problem with a class in my Android app. I read a JSON, on debug I see the results of the request, mPlatList is filled in with retrieved data, but when the loop is finished, my object.mPlatList is empty.</p>\n<p>EDIT : Going forward, it seems in getAllPlatsStrings function, java goes to the for loop before the getPlatList() call finished.\nI've added logs, and a log.i(...) just before &quot;return platListToString&quot; is thrown before a Log.i.. in getPlatList method.</p>\n<p>Looking on this deeper...</p>\n<p>Here's my class:</p>\n<pre><code>public class PlatBank{\n    private List&lt;Plat&gt; mPlatList = new ArrayList&lt;&gt;();\n    private JsonReader mJsonReader;\n    private String mRetour = &quot;&quot;;\n\n\n    public PlatBank() {\n       \n        String url = &quot;xxx&quot;; //works\n        // Instantiate the cache\n        Cache cache = new DiskBasedCache(new File(&quot;cache&quot;) ,1024 * 1024); // 1MB cap\n        // Set up the network to use HttpURLConnection as the HTTP client.\n        Network network = new BasicNetwork(new HurlStack());\n\n        RequestQueue requestQueue = new RequestQueue(cache,network);\n        requestQueue.start();\n\n        JsonArrayRequest mJsonQuery = new JsonArrayRequest(url, new Response.Listener&lt;JSONArray&gt;(){\n            @Override\n            public void onResponse(JSONArray response) {\n                mRetour = response.toString();\n                Plat mTempPlat;\n                for (int i = 0; i &lt; response.length(); i++) {\n                    try {\n                        mTempPlat = new Plat(&quot;id&quot;, (String) response.get(i)); // is filled in ok\n                        mPlatList.add(mTempPlat); // mTemPlat added to mPlatList ok\n                        \n                        //on debug with breakpoint, I can see mPlatList grows with every object from Json request\n                    } catch (JSONException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n        }, new Response.ErrorListener(){\n            @Override\n            public void onErrorResponse(VolleyError error) {\n                mRetour = &quot;KO&quot;;\n            }\n        });\n\n\n        requestQueue.add(mJsonQuery);\n    }\n    \n    \n    public List&lt;Plat&gt; getPlatList(){\n        return  mPlatList;\n    }\n    \n    \n     public String[] getAllPlatsStrings() {\n\n        PlatBank lPB = new PlatBank(); //so if I'm not wrong, here I should have a PlatBank object, with all Plat in mPlatList attribute ?\n        String[] mPlatListtoString = {};\n\n        for (Plat plat:lPB.getPlatList()) { //getPlatList is always empty. Don't find why...\n            mPlatListtoString[mPlatListtoString.length+1] = plat.toString(); //source empty so never enters in this loop\n        }\n        return (mPlatListtoString);\n    }\n}\n</code></pre>\n<p>Class runs without error, but my private list return is empty.</p>\n"},{"tags":["java","android","retrofit2"],"comments":[{"owner":{"account_id":5144572,"reputation":3474,"user_id":4120911,"accept_rate":40,"display_name":"Cliff Burton"},"score":0,"creation_date":1677669443,"post_id":75602757,"comment_id":133382170,"body_markdown":"Probably it&#39;s a stupid question, but have you done _&quot;sync project with gradle files&quot;_?","body":"Probably it&#39;s a stupid question, but have you done <i>&quot;sync project with gradle files&quot;</i>?"},{"owner":{"account_id":24761956,"reputation":1,"user_id":18646249,"display_name":"Pakhi"},"score":0,"creation_date":1677669629,"post_id":75602757,"comment_id":133382220,"body_markdown":"Yes.  I synced the gradle file.","body":"Yes.  I synced the gradle file."}],"owner":{"account_id":24761956,"reputation":1,"user_id":18646249,"display_name":"Pakhi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677678694,"creation_date":1677668255,"question_id":75602757,"body_markdown":"I have added\r\n\r\n`implementation &#39;com.squareup.retrofit2:converter-scalars:2.9.0&#39;`  to gradle file.\r\n\r\nBut still I am not getting import option in my retrofit. ScalarsConverterFactory always shows error.\r\n\r\n```java\r\nRetrofit retrofit =new Retrofit.Builder().baseUrl(&quot;http://192.168.1.1:9000&quot;).\r\naddConverterFactory(ScalarsConverterFactory.create());\r\n```\r\n\r\nI tried changing versions of ScalarsConverterFactory() but no success.\r\n","title":"Unable to Import ScalarsConverterFactory","body":"<p>I have added</p>\n<p><code>implementation 'com.squareup.retrofit2:converter-scalars:2.9.0'</code>  to gradle file.</p>\n<p>But still I am not getting import option in my retrofit. ScalarsConverterFactory always shows error.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Retrofit retrofit =new Retrofit.Builder().baseUrl(&quot;http://192.168.1.1:9000&quot;).\naddConverterFactory(ScalarsConverterFactory.create());\n</code></pre>\n<p>I tried changing versions of ScalarsConverterFactory() but no success.</p>\n"},{"tags":["java","concurrency","volatile","synchronized","atomicinteger"],"comments":[{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":3,"creation_date":1677668168,"post_id":75602692,"comment_id":133381848,"body_markdown":"Both are fine. The latter might be a fraction better, but I&#39;d suspect it makes almost no difference. If you&#39;re that concerned, benchmark it.","body":"Both are fine. The latter might be a fraction better, but I&#39;d suspect it makes almost no difference. If you&#39;re that concerned, benchmark it."},{"owner":{"account_id":4034876,"reputation":1557,"user_id":3319725,"display_name":"AnatolyG"},"score":0,"creation_date":1685706808,"post_id":75602692,"comment_id":134702257,"body_markdown":"Both are correct. The second one, from my point of view, may be slightly better for readers, especially in case of high contention on reader&#39;s side (a number of threads read the current value) and relatively rare write operations... For readers JVM doesn&#39;t need to deal with all that machinery around object locking (thin fat biased locks etcetc), just with memory barriers. In that meaning AtomicInteger may be even more effective, especially if you use lazySet in case of single writer (more optimal/effective mem barriers/a bit rarer cpu cache invalidation)","body":"Both are correct. The second one, from my point of view, may be slightly better for readers, especially in case of high contention on reader&#39;s side (a number of threads read the current value) and relatively rare write operations... For readers JVM doesn&#39;t need to deal with all that machinery around object locking (thin fat biased locks etcetc), just with memory barriers. In that meaning AtomicInteger may be even more effective, especially if you use lazySet in case of single writer (more optimal/effective mem barriers/a bit rarer cpu cache invalidation)"}],"answers":[{"tags":[],"owner":{"account_id":435105,"reputation":6948,"user_id":821497,"accept_rate":60,"display_name":"ciamej"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677668579,"creation_date":1677668242,"answer_id":75602753,"question_id":75602692,"body_markdown":"Michael&#39;s comment is correct. Both approaches are fine.\r\n\r\nIn terms of performance, it is difficult to say which one is better. It might even depend on the architecture (x86 vs ARM).\r\n\r\nThe second one might be better for gets, but worse for increments (because both the lock is taken, and a write memory barrier is issued, unless JIT can optimize that away...)","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>Michael's comment is correct. Both approaches are fine.</p>\n<p>In terms of performance, it is difficult to say which one is better. It might even depend on the architecture (x86 vs ARM).</p>\n<p>The second one might be better for gets, but worse for increments (because both the lock is taken, and a write memory barrier is issued, unless JIT can optimize that away...)</p>\n"},{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677678668,"creation_date":1677678668,"answer_id":75604617,"question_id":75602692,"body_markdown":"You never need `volatile` if you&#39;re using `synchronized`. Both keywords establish a &quot;happens before&quot; relationship between events in different threads.\r\n\r\n- Whatever some thread A does before it writes a value to some `volatile` variable, `v`, is guaranteed to be visible to some other thread B after B subsequently reads the same variable, `v`.\r\n\r\n- Whatever some thread A does before it exits from a `synchronized(o)` block is guaranteed to be visible to thread B after B subsequently enters a block that is `synchronized` on the same object, `o`.","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>You never need <code>volatile</code> if you're using <code>synchronized</code>. Both keywords establish a &quot;happens before&quot; relationship between events in different threads.</p>\n<ul>\n<li><p>Whatever some thread A does before it writes a value to some <code>volatile</code> variable, <code>v</code>, is guaranteed to be visible to some other thread B after B subsequently reads the same variable, <code>v</code>.</p>\n</li>\n<li><p>Whatever some thread A does before it exits from a <code>synchronized(o)</code> block is guaranteed to be visible to thread B after B subsequently enters a block that is <code>synchronized</code> on the same object, <code>o</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":8245636,"reputation":273,"user_id":6201816,"display_name":"itspr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1677678668,"creation_date":1677667898,"question_id":75602692,"body_markdown":"I am just trying to understand... Will I achieve the same result using the below two approaches? I mostly see the first approach only. Is there anything wrong with the second approach?\r\nWe can use AtomicInteger to achieve the same but just wanted to know. Can someone please clarify?\r\n\r\n***Approach#1***\r\n\r\n    public class Counter {\r\n       private int counter = 0;\r\n       \r\n       public int getCount() {\r\n          synchronized(this) {\r\n             return counter;\r\n          }\r\n       }\r\n    \r\n       public void increment() {\r\n          synchronized(this) {\r\n             counter++;\r\n          }\r\n       }\r\n    }\r\n\r\n***Approach#2***\r\n\r\n    public class Counter {\r\n       private volatile int counter = 0;\r\n       \r\n       public int getCount() {\r\n          return counter;\r\n       }\r\n    \r\n       public synchronized void increment() {\r\n          counter++;\r\n       }\r\n    }\r\n\r\n","title":"Can we achieve visibility and atomicity using Volatile and Synchronized together?","body":"<p>I am just trying to understand... Will I achieve the same result using the below two approaches? I mostly see the first approach only. Is there anything wrong with the second approach?\nWe can use AtomicInteger to achieve the same but just wanted to know. Can someone please clarify?</p>\n<p><em><strong>Approach#1</strong></em></p>\n<pre><code>public class Counter {\n   private int counter = 0;\n   \n   public int getCount() {\n      synchronized(this) {\n         return counter;\n      }\n   }\n\n   public void increment() {\n      synchronized(this) {\n         counter++;\n      }\n   }\n}\n</code></pre>\n<p><em><strong>Approach#2</strong></em></p>\n<pre><code>public class Counter {\n   private volatile int counter = 0;\n   \n   public int getCount() {\n      return counter;\n   }\n\n   public synchronized void increment() {\n      counter++;\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","datetime","jackson"],"comments":[{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":1,"creation_date":1677662738,"post_id":75601647,"comment_id":133380326,"body_markdown":"Does this answer your question? [How to globally add a custom Serializer to Jackson and be used by default](https://stackoverflow.com/questions/75093378/how-to-globally-add-a-custom-serializer-to-jackson-and-be-used-by-default)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/75093378/how-to-globally-add-a-custom-serializer-to-jackson-and-be-used-by-default\">How to globally add a custom Serializer to Jackson and be used by default</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677664968,"post_id":75601647,"comment_id":133380958,"body_markdown":"It does not make sense to format an `Instant` into `dd.MM.yyyy HH:mm:ss`  format. An `Instant` hasn’t got date and hour-of-day. To derive such from an `Instant` you would need to assume a time zone or UTC offset.","body":"It does not make sense to format an <code>Instant</code> into <code>dd.MM.yyyy HH:mm:ss</code>  format. An <code>Instant</code> hasn’t got date and hour-of-day. To derive such from an <code>Instant</code> you would need to assume a time zone or UTC offset."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":1,"creation_date":1677670989,"post_id":75601647,"comment_id":133382570,"body_markdown":"@OleV.V. I use instant for `createdAt` fields in order to keep creation date for the records. I think it is a suitable datetime type for this purpose. On the other hand, cannot I display Instant values in format? Or what should I do? Could you pls explain a little bit more instead of writing something like a news title?","body":"@OleV.V. I use instant for <code>createdAt</code> fields in order to keep creation date for the records. I think it is a suitable datetime type for this purpose. On the other hand, cannot I display Instant values in format? Or what should I do? Could you pls explain a little bit more instead of writing something like a news title?"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677671153,"post_id":75601647,"comment_id":133382615,"body_markdown":"@PanagiotisBougioukos I read that page before opening the question, but could not use it for Instant. Could you post an answer by modifying it for Instant?","body":"@PanagiotisBougioukos I read that page before opening the question, but could not use it for Instant. Could you post an answer by modifying it for Instant?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677671493,"post_id":75601647,"comment_id":133382706,"body_markdown":"There are solutions for formatting instants (and yes, it’s the right type to use). In plain Java I would do like `DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Europe/Copenhagen&quot;)).format(createdAt)` to supply the time zone and get an output like `01.03.2023 12:49:40`. I don’t think I have tried it with Jackson, so sorry that I can’t help you there.","body":"There are solutions for formatting instants (and yes, it’s the right type to use). In plain Java I would do like <code>DateTimeFormatter.ofPattern(&quot;dd.MM.yyyy HH:mm:ss&quot;).withZone(ZoneId.of(&quot;Europe&#47;Copenhagen&quot;)).format(c&zwnj;&#8203;reatedAt)</code> to supply the time zone and get an output like <code>01.03.2023 12:49:40</code>. I don’t think I have tried it with Jackson, so sorry that I can’t help you there."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672736,"post_id":75601647,"comment_id":133383078,"body_markdown":"@OleV.V. No problem amigo, thanks a lot for your useful tips. I am just wondering this issue regarding to Instant. Could you clarify me? &gt;&gt;&gt; As far as I know, Instant uses UTC as time zone and when saving time data, we assume that the data is saved based on UTC as time zone. Then, when we display this data, we should convert it to the client&#39;s time zone and display it? Is that true?","body":"@OleV.V. No problem amigo, thanks a lot for your useful tips. I am just wondering this issue regarding to Instant. Could you clarify me? &gt;&gt;&gt; As far as I know, Instant uses UTC as time zone and when saving time data, we assume that the data is saved based on UTC as time zone. Then, when we display this data, we should convert it to the client&#39;s time zone and display it? Is that true?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677673222,"post_id":75601647,"comment_id":133383221,"body_markdown":"Up to interpretation. The `parse` and `toString` methods of `Instant` use UTC, but conceptually an `Instant` has not got any time zone. An `Instant` is a point in time, nothing more.","body":"Up to interpretation. The <code>parse</code> and <code>toString</code> methods of <code>Instant</code> use UTC, but conceptually an <code>Instant</code> has not got any time zone. An <code>Instant</code> is a point in time, nothing more."},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677676247,"post_id":75601647,"comment_id":133384262,"body_markdown":"@OleV.V. Then, is it a bad idea to convert Instant to a formatted date-time while displaying Instant time?","body":"@OleV.V. Then, is it a bad idea to convert Instant to a formatted date-time while displaying Instant time?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677676848,"post_id":75601647,"comment_id":133384461,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/252224/discussion-between-ole-v-v-and-fredrick).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/252224/discussion-between-ole-v-v-and-fredrick\">continue this discussion in chat</a>."}],"answers":[{"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672218,"post_id":75603391,"comment_id":133382922,"body_markdown":"Should I keep the `ObjectMapper` part in my AAppConfig class and create a new class for `MyInstantSerializer` in the config package?","body":"Should I keep the <code>ObjectMapper</code> part in my AAppConfig class and create a new class for <code>MyInstantSerializer</code> in the config package?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677672273,"post_id":75603391,"comment_id":133382938,"body_markdown":"@fredrick yes this will be ok","body":"@fredrick yes this will be ok"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672391,"post_id":75603391,"comment_id":133382977,"body_markdown":"Sounds good amigo, thank you so much (I will mark it answer as always I did :) In this situation, I have some doubts for the proper usage of instant. As an experienced developer, could you pls clarify me about the following points? &gt;&gt;&gt;","body":"Sounds good amigo, thank you so much (I will mark it answer as always I did :) In this situation, I have some doubts for the proper usage of instant. As an experienced developer, could you pls clarify me about the following points? &gt;&gt;&gt;"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672452,"post_id":75603391,"comment_id":133383001,"body_markdown":"**1.** In order to save time for createTime or updateTime, I think it is a good choice to use `Instant`, as a timestamp. Right","body":"<b>1.</b> In order to save time for createTime or updateTime, I think it is a good choice to use <code>Instant</code>, as a timestamp. Right"},{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1677672558,"post_id":75603391,"comment_id":133383027,"body_markdown":"**2.** But I am not sure if I need to use timezone, because as far as I know, Instant uses `UTC` as time zone. Then, do I need to use time zone only displaying data by using the time zone of the client?","body":"<b>2.</b> But I am not sure if I need to use timezone, because as far as I know, Instant uses <code>UTC</code> as time zone. Then, do I need to use time zone only displaying data by using the time zone of the client?"},{"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"score":0,"creation_date":1677678319,"post_id":75603391,"comment_id":133384946,"body_markdown":"@fredrick, about 1 it is best practice to store in Instant since the new java.time module is the way to go about timestamps now. 2 As far as your clients are able to receive the response again in UTC they should be ok.","body":"@fredrick, about 1 it is best practice to store in Instant since the new java.time module is the way to go about timestamps now. 2 As far as your clients are able to receive the response again in UTC they should be ok."}],"tags":[],"owner":{"account_id":9763630,"reputation":16595,"user_id":7237884,"display_name":"Panagiotis Bougioukos"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677678568,"creation_date":1677671836,"answer_id":75603391,"question_id":75601647,"body_markdown":"This has already been answered for a similar case under this [thread][1].\r\n\r\nBut since OP can&#39;t find the appropriate modification to make it work for his case, here is the solution that will work here\r\n\r\nAs already described in comment this does not seem optimal to use since converting to String you will have to assume a Timezone which is not contained in Instant object.\r\n\r\n    @Bean\r\n    public ObjectMapper registerObjectMapper(){\r\n        ObjectMapper mapper = new ObjectMapper();\r\n        SimpleModule module = new SimpleModule(&quot;MyInstantSerializer&quot;);\r\n        module.addSerializer(Instant.class, new MyInstantSerializer());\r\n        mapper.registerModule(module);\r\n       \r\n        return mapper;\r\n    } \r\n\r\nAnd then you also need\r\n\r\n    public class MyInstantSerializer extends JsonSerializer&lt;Instant&gt; {\r\n\r\n        private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\r\n\r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(DATE_TIME_FORMAT).withZone(ZoneId.from(ZoneOffset.UTC));\r\n\r\n        @Override\r\n        public void serialize(\r\n                        Instant value, \r\n                        JsonGenerator gen, \r\n                        SerializerProvider serializers) throws IOException {\r\n\r\n    \r\n            gen.writeString(formatter.format(value));\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/75095148/7237884","title":"How to globally add a custom Serializer to format all Instant values in Spring Boot?","body":"<p>This has already been answered for a similar case under this <a href=\"https://stackoverflow.com/a/75095148/7237884\">thread</a>.</p>\n<p>But since OP can't find the appropriate modification to make it work for his case, here is the solution that will work here</p>\n<p>As already described in comment this does not seem optimal to use since converting to String you will have to assume a Timezone which is not contained in Instant object.</p>\n<pre><code>@Bean\npublic ObjectMapper registerObjectMapper(){\n    ObjectMapper mapper = new ObjectMapper();\n    SimpleModule module = new SimpleModule(&quot;MyInstantSerializer&quot;);\n    module.addSerializer(Instant.class, new MyInstantSerializer());\n    mapper.registerModule(module);\n   \n    return mapper;\n} \n</code></pre>\n<p>And then you also need</p>\n<pre><code>public class MyInstantSerializer extends JsonSerializer&lt;Instant&gt; {\n\n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\n\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(DATE_TIME_FORMAT).withZone(ZoneId.from(ZoneOffset.UTC));\n\n    @Override\n    public void serialize(\n                    Instant value, \n                    JsonGenerator gen, \n                    SerializerProvider serializers) throws IOException {\n\n\n        gen.writeString(formatter.format(value));\n\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603391,"answer_count":1,"score":1,"last_activity_date":1677678568,"creation_date":1677662329,"question_id":75601647,"body_markdown":"I am trying to format Instant fields globally in my DTOs as I can format the other date fields as shown below:\r\n\r\n```\r\n@Configuration\r\npublic class AppConfig {\r\n   \r\n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\r\n\r\n    @Bean\r\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\r\n\r\n        return builder -&gt; {\r\n            builder.serializers(new LocalDateTimeSerializer(\r\n                DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nHowever, I think I should follow another approach by creating anew bean as shown below:\r\n\r\n```\r\n@Bean\r\nObjectMapper objectMapper() {\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    mapper.configOverride(Instant.class)\r\n            .setFormat(JsonFormat.Value.forPattern(DATE_TIME_FORMAT));\r\n    return mapper;\r\n}\r\n```\r\n\r\nIt changes my Instant values, but not a proper format:\r\n\r\n```\r\n&quot;createdAt&quot;: {\r\n            &quot;nano&quot;: 0,\r\n            &quot;epochSecond&quot;: 1677445697\r\n        }\r\n```\r\n\r\nSo, how can a manage it properly in my Spring Boot app? ","title":"How to globally add a custom Serializer to format all Instant values in Spring Boot?","body":"<p>I am trying to format Instant fields globally in my DTOs as I can format the other date fields as shown below:</p>\n<pre><code>@Configuration\npublic class AppConfig {\n   \n    private static final String DATE_TIME_FORMAT = &quot;dd.MM.yyyy HH:mm:ss&quot;;\n\n    @Bean\n    public Jackson2ObjectMapperBuilderCustomizer jsonCustomizer() {\n\n        return builder -&gt; {\n            builder.serializers(new LocalDateTimeSerializer(\n                DateTimeFormatter.ofPattern(DATE_TIME_FORMAT)));\n        };\n    }\n}\n</code></pre>\n<p>However, I think I should follow another approach by creating anew bean as shown below:</p>\n<pre><code>@Bean\nObjectMapper objectMapper() {\n    ObjectMapper mapper = new ObjectMapper();\n    mapper.configOverride(Instant.class)\n            .setFormat(JsonFormat.Value.forPattern(DATE_TIME_FORMAT));\n    return mapper;\n}\n</code></pre>\n<p>It changes my Instant values, but not a proper format:</p>\n<pre><code>&quot;createdAt&quot;: {\n            &quot;nano&quot;: 0,\n            &quot;epochSecond&quot;: 1677445697\n        }\n</code></pre>\n<p>So, how can a manage it properly in my Spring Boot app?</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud","spring-cloud-config"],"comments":[{"owner":{"account_id":23128,"reputation":13127,"user_id":57719,"display_name":"Chin Huang"},"score":1,"creation_date":1677692081,"post_id":75604409,"comment_id":133389588,"body_markdown":"The error message says property `spring.cloud.config.server.git.privateKey` must have the private key, but you set the private key in a different property `spring.cloud.config.server.git.password`.","body":"The error message says property <code>spring.cloud.config.server.git.privateKey</code> must have the private key, but you set the private key in a different property <code>spring.cloud.config.server.git.password</code>."},{"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1677728713,"post_id":75604409,"comment_id":133396766,"body_markdown":"@ChinHuang Thank you very much for your reply. I made the change. However, I&#39;m getting the below error: ``` Caused by: org.eclipse.jgit.errors.TransportException: git@webprod:7999/service-micro/service-properties.git: Cannot login at webprod.test.com:22\n\tat org.eclipse.jgit.transport.sshd.SshdSession.connect(SshdSession.java:174) ~[org.eclipse.jgit.ssh.apache-5.13.1.2022061\n  Caused by: org.apache.sshd.common.SshException: No more authentication methods available\n\tat org.apache.sshd.client.session.ClientUserAuthService.tryNext(ClientUserAuthService.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0] ```","body":"@ChinHuang Thank you very much for your reply. I made the change. However, I&#39;m getting the below error: ``` Caused by: org.eclipse.jgit.errors.TransportException: git@webprod:7999/service-micro/service-properties.git: Cannot login at webprod.test.com:22 \tat org.eclipse.jgit.transport.sshd.SshdSession.connect(SshdSess&zwnj;&#8203;ion.java:174) ~[org.eclipse.jgit.ssh.apache-5.13.1.2022061   Caused by: org.apache.sshd.common.SshException: No more authentication methods available \tat org.apache.sshd.client.session.ClientUserAuthService.tryNext&zwnj;&#8203;(ClientUserAuthServi&zwnj;&#8203;ce.java:353) ~[sshd-osgi-2.7.0.jar:2.7.0] ```"},{"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"score":0,"creation_date":1677735198,"post_id":75604409,"comment_id":133397522,"body_markdown":"@ChinHuang Do I need to add anything in the known_hosts file?","body":"@ChinHuang Do I need to add anything in the known_hosts file?"}],"owner":{"account_id":8411933,"reputation":2534,"user_id":6313539,"display_name":"Sweta Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677678503,"creation_date":1677677521,"question_id":75604409,"body_markdown":"\r\n\r\nI am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.\r\n\r\nI generated key pair using the command \r\n```\r\nssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\r\n```\r\npasted the .pub file content in the ssh section of my bitbucket account but when I am running the server that is a spring boot application, I am getting an invalid privateKey exception.\r\n\r\n```\r\nspring.cloud.config.server.git.uri=git@webprod:7999/service-micro/service-properties.git\r\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\r\nspring.cloud.config.server.git.password=-----BEGIN RSA PRIVATE KEY-----\\n\\\r\nMIIJKQIBAAKCAgEA49ZAmVWvAMKqOqGwQq8vhaXsA3LiYWbk1G9CTAjLW6i+NXHR\\\r\nFjk2qdUTRGsAZUCIIbgSK5hW1Ciaj8PU+Cuqz5oVaAzvNxQy+zvj4emi0KLJDhYk\\\r\nKaeeOpz1R4fT6QoIP7cwugdI3e7GRqLFSZ2MQovHJKfTLjWhLgZj2YzS6Jvdl1DS\\\r\nS6K9p2stf7daXi9A8Ysp0/8ccQSeZm1pdV2ppms0uHwkAq9pd2WkofSZP7Nrfhno\\\r\ngIqgkvWBuHSmSZKFFPXG826QyDtbmfUfQsH0Mm8TlK8tVy6NTE5/q1NzjepbK4mX\\\r\neFnWITM6rViqQ6lAOzPTqd45qWez60yypYGs4jZjHQwioeAHqQCI1O7KstOPoMEn\\\r\nUjr72u9FbKptKF/3JeqhchocajBnvSnvJawip50E1uZAh7YDx+g+U4s7W2w3ka2w\\\r\noAtRke7JjDq/Lej4CmzMliNsD/4fxC3+RgB9wAcCYO9BvE/aM3mx/0O2KWTzEkAN\\\r\nJnP6jn1PbrKFExwL7bVjWwIxDvU4zz6bKN1MOh5GT+6e/eNVANAG6o8pZz9tcTFu\\\r\nJX1qBFvZJznoe4/kpIvbiLUEOL6IIotf1P5UXVw1jwEzEnQ30R3ZC2XUiYusQgz+\\\r\nw1gMFYbKo6IpNzFnSdRmcDQ26Tg1tvtEfvERMadKVWr14Vtvf8RD/K60TsMCAwEA\\\r\nAQKCAgBW149/4pz12T0xY/ffMw8WDgxLtDp9jc6i+lV2zdNVeJgnnt5nbh9b1I+n\\\r\ngHGCJnq8/4BNhZ9y9pcTPT2r6lkNEFogcu2rPNPB1y4hKgCZLbMc32uhRPaWuMT1\\\r\nItyu8tf6EUVNYwFvNlf1DI3OZXLU2pppal6gOmjZNi5Q+dBaQS7RQkkl8z3+1mdd\\\r\nSvHy/GfwqW6kE5UvrucBe6q6xZyohixuNUM0ks/MZr29zZGsKiNKyW1JsY1K9rEf\\\r\nMbdAS8zWFGhk2TvuVlGv+TKVK4B8yMHZ5nuNw3ywHSukjgZ5jV561dMaWIO52+D9\\\r\nudIMQDLvXe3LzZyE6bY2deGSHD9csd53mqSYxjV8bVHIXckIODgpw3b0Z6vj/0ut\\\r\nOOj02bGy8DjWpVnidxz9oXdHEMFDS9lfTQnUnT7mdm+bAlZjMQHNtVF5DVWUakAI\\\r\nKQ2jrVIj1v4oi5bd4k9TFYzn0RiWQuQGIwXQf09jh0/1jUCiX0yYoOUyJnVUfZKW\\\r\ndzX/My0nJlclwvZqwmRaIrfe8S7VmZ5jhDxvg2frzN8fCf9S88nbOcevr0fKq1OS\\\r\nB2MgNKoBQnPRxr3KVBOlIpXaqnbkQYHU21GVIkWqLAenstCl9yc1ecRyHHAcXR5R\\\r\nphmPorKUwzlw08bX+yqlqs6Ppm/FNwndTR6KQl4tMdzNVPFuIQKCAQEA9wQiu6rF\\\r\ncg21MlKTvxQThw9JqL7ZPZ8Cm0e3bybXc7vhZYeYnYI9xKAlFLpu4PTB65z3iWyK\\\r\nvB9KU6KJqB2C2oEKKItbC4xzsGSSgT05lMGwHYLuCm0Yo9zg1s+doEo2A7NLP9rT\\\r\njF8lQnKy0stUs+0HLoo7I7P1j12peyuDnfx5orvl8ce+ByYMYO1Echq4c6aEQgEW\\\r\nXc3CQKNv6lY3iX92HyYf+uz8saKgLd55Qy2wNaonAW3YM3i7Yw0PUvIotcTlW0kJ\\\r\nDQvrhcKrM0udF3wFB2mnummXiv6+FOKtlm7k1/n90FMz3A4zPqDxPDhErt6gc+/E\\\r\n35ASeeCcLOUTrQKCAQEA7B+L/cifcc55Fdg9qll3UWqifCLeQYfZkPNfWHruzMOP\\\r\n7U6T8MU3xArwBzfS9JQh+2QRotUJfQiRM82pe6LvFJfBx6TwEwJ3Z6DsWZDox5ai\\\r\nCRZrnYgc7lCbOarkkt1BgIS71rbunTHQNP92xjNu0zjgArw8pZZMUz8/EcE04uYm\\\r\nWxCaThAOoubPv0h1hb0O9sn3LoYCFigbtUboc7t7mPB9zRi95+jxqSpMO6kwLDnI\\\r\nojk1fCtqfD3V2y9sbMWLWIhKkvNWY5OQJdJfGzTW5MiaJb36m4V2BLSVnJLuKHRn\\\r\nON2LoRhYfZ5YGwr+giUtA2qOPLaXc/TpYBgKXQK6LwKCAQBPIuANx5QiCgo26QW0\\\r\nfbYT2u36RcpLV5n6LWuzDHqR9Wssn9hg/czUJYo7rc6/+yn1VgBn4oI/6rZhPP1l\\\r\nAq9dWWHrw1mTxZd6t33IMdk0syi9C6k/ZdwzAxx1NWaGZ8AOR26gMnb7za+eLijk\\\r\nJ4gnbJSUcGyp74mIOLWHZFVyU+SUIiZ0400Z9TKaCumWtMDLLFnK25ZSzwygsLu2\\\r\nE5EPV+p76DbuqOX78uHmUBQBVa3SQ4TjjFFrjA5cmV6DcFligoYITMm9iEgYPlmi\\\r\nwWK+l1j1GwBFVHbcbOhwwH5kZ3qhRtHt3/oJUfNQ6Tbf2BcI/wHgorwr83g326Gt\\\r\nMGaxAoIBAQDjtPSK9EuXM9efkl69hfPEJ0K01ediaMEOwTTEniDmhP2qi2mt+nLx\\\r\n8t5RB6u/w48V4QYE8s9orbdhrsbv/Uv0nvj4L/55Rpqh7BWhtlZWC9UNUHrNe3Ly\\\r\n+/cF4OD3JLpDVz3SLa3lGCHCyk3fi8AnoCSfXqpZwZyvd0G6PIlk+zAoB9XWzDNh\\\r\nM5dKz3TOWWkx48klK4Sdm2ZFJjGLUlU6Q0n+XQret809JxZHPry/GaZ7kxIaQcA6\\\r\nOmOfMZetOcBMy3qnRlWcR7TuVHb1RLqr/Sxyk0g3bLhIh2H0kdlsV/0nYLeDzneg\\\r\nBPDQe4S/O1yye7LZp/hckeXxjp2H3tZvAoIBAQCDZymWIl26Fr9EF/InFYv45A/G\\\r\nq+BX8E+1W7cvpRoV1l9gHRY1meE2aBEjIZ2jO61gz5bflYjlTU7G9ERGU/73HUFG\\\r\n1sNemQuEt601KejgfR4JZNTsb4Pqe5gmhxdPEtG5kAlsPY8k8nLbs6URU5aH0Cuq\\\r\nfBVXXGELvGka82XYtIC0c1Kj+4e2j4vL/w3zZ/cyPgmeaR8e6bM31L1AGccWEaEi\\\r\n/x8ybvCwQqcbP49bDlv5rmPMAUO34bRjMxK3XJZbbjJrhNdb8a89zGsx4+s8k+ZH\\\r\n/gFdvOAB6A5xw1YuMsryQCYPJOrEZips1apEEZ0yqSUcdve7OanfpXiiEiCs\\n\\\r\n-----END RSA PRIVATE KEY-----\r\n\r\n```\r\nI also added \\n and \\ in the end. However, still no luck.\r\n\r\nBelow is the error log:\r\n```\r\nDescription:\r\n\r\nBinding to target org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under &#39;spring.cloud.config.server.git&#39; to org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentProperties failed:\r\n    Reason: Property &#39;spring.cloud.config.server.git.privateKey&#39; must be set when &#39;spring.cloud.config.server.git.ignoreLocalSshSettings&#39; is specified\r\n\r\n```\r\n\r\nCan someone guide me What am I missing?","title":"How to connect spring cloud config server to Bitbucket using SSH keys?","body":"<p>I am trying to create a spring cloud config server to connect to git repository(bitbucket) using an SSH URI. I am following Spring Cloud Config.</p>\n<p>I generated key pair using the command</p>\n<pre><code>ssh-keygen -m PEM -t rsa -b 4096 -C &quot;sweta&quot;\n</code></pre>\n<p>pasted the .pub file content in the ssh section of my bitbucket account but when I am running the server that is a spring boot application, I am getting an invalid privateKey exception.</p>\n<pre><code>spring.cloud.config.server.git.uri=git@webprod:7999/service-micro/service-properties.git\nspring.cloud.config.server.git.ignoreLocalSshSettings=true\nspring.cloud.config.server.git.password=-----BEGIN RSA PRIVATE KEY-----\\n\\\nMIIJKQIBAAKCAgEA49ZAmVWvAMKqOqGwQq8vhaXsA3LiYWbk1G9CTAjLW6i+NXHR\\\nFjk2qdUTRGsAZUCIIbgSK5hW1Ciaj8PU+Cuqz5oVaAzvNxQy+zvj4emi0KLJDhYk\\\nKaeeOpz1R4fT6QoIP7cwugdI3e7GRqLFSZ2MQovHJKfTLjWhLgZj2YzS6Jvdl1DS\\\nS6K9p2stf7daXi9A8Ysp0/8ccQSeZm1pdV2ppms0uHwkAq9pd2WkofSZP7Nrfhno\\\ngIqgkvWBuHSmSZKFFPXG826QyDtbmfUfQsH0Mm8TlK8tVy6NTE5/q1NzjepbK4mX\\\neFnWITM6rViqQ6lAOzPTqd45qWez60yypYGs4jZjHQwioeAHqQCI1O7KstOPoMEn\\\nUjr72u9FbKptKF/3JeqhchocajBnvSnvJawip50E1uZAh7YDx+g+U4s7W2w3ka2w\\\noAtRke7JjDq/Lej4CmzMliNsD/4fxC3+RgB9wAcCYO9BvE/aM3mx/0O2KWTzEkAN\\\nJnP6jn1PbrKFExwL7bVjWwIxDvU4zz6bKN1MOh5GT+6e/eNVANAG6o8pZz9tcTFu\\\nJX1qBFvZJznoe4/kpIvbiLUEOL6IIotf1P5UXVw1jwEzEnQ30R3ZC2XUiYusQgz+\\\nw1gMFYbKo6IpNzFnSdRmcDQ26Tg1tvtEfvERMadKVWr14Vtvf8RD/K60TsMCAwEA\\\nAQKCAgBW149/4pz12T0xY/ffMw8WDgxLtDp9jc6i+lV2zdNVeJgnnt5nbh9b1I+n\\\ngHGCJnq8/4BNhZ9y9pcTPT2r6lkNEFogcu2rPNPB1y4hKgCZLbMc32uhRPaWuMT1\\\nItyu8tf6EUVNYwFvNlf1DI3OZXLU2pppal6gOmjZNi5Q+dBaQS7RQkkl8z3+1mdd\\\nSvHy/GfwqW6kE5UvrucBe6q6xZyohixuNUM0ks/MZr29zZGsKiNKyW1JsY1K9rEf\\\nMbdAS8zWFGhk2TvuVlGv+TKVK4B8yMHZ5nuNw3ywHSukjgZ5jV561dMaWIO52+D9\\\nudIMQDLvXe3LzZyE6bY2deGSHD9csd53mqSYxjV8bVHIXckIODgpw3b0Z6vj/0ut\\\nOOj02bGy8DjWpVnidxz9oXdHEMFDS9lfTQnUnT7mdm+bAlZjMQHNtVF5DVWUakAI\\\nKQ2jrVIj1v4oi5bd4k9TFYzn0RiWQuQGIwXQf09jh0/1jUCiX0yYoOUyJnVUfZKW\\\ndzX/My0nJlclwvZqwmRaIrfe8S7VmZ5jhDxvg2frzN8fCf9S88nbOcevr0fKq1OS\\\nB2MgNKoBQnPRxr3KVBOlIpXaqnbkQYHU21GVIkWqLAenstCl9yc1ecRyHHAcXR5R\\\nphmPorKUwzlw08bX+yqlqs6Ppm/FNwndTR6KQl4tMdzNVPFuIQKCAQEA9wQiu6rF\\\ncg21MlKTvxQThw9JqL7ZPZ8Cm0e3bybXc7vhZYeYnYI9xKAlFLpu4PTB65z3iWyK\\\nvB9KU6KJqB2C2oEKKItbC4xzsGSSgT05lMGwHYLuCm0Yo9zg1s+doEo2A7NLP9rT\\\njF8lQnKy0stUs+0HLoo7I7P1j12peyuDnfx5orvl8ce+ByYMYO1Echq4c6aEQgEW\\\nXc3CQKNv6lY3iX92HyYf+uz8saKgLd55Qy2wNaonAW3YM3i7Yw0PUvIotcTlW0kJ\\\nDQvrhcKrM0udF3wFB2mnummXiv6+FOKtlm7k1/n90FMz3A4zPqDxPDhErt6gc+/E\\\n35ASeeCcLOUTrQKCAQEA7B+L/cifcc55Fdg9qll3UWqifCLeQYfZkPNfWHruzMOP\\\n7U6T8MU3xArwBzfS9JQh+2QRotUJfQiRM82pe6LvFJfBx6TwEwJ3Z6DsWZDox5ai\\\nCRZrnYgc7lCbOarkkt1BgIS71rbunTHQNP92xjNu0zjgArw8pZZMUz8/EcE04uYm\\\nWxCaThAOoubPv0h1hb0O9sn3LoYCFigbtUboc7t7mPB9zRi95+jxqSpMO6kwLDnI\\\nojk1fCtqfD3V2y9sbMWLWIhKkvNWY5OQJdJfGzTW5MiaJb36m4V2BLSVnJLuKHRn\\\nON2LoRhYfZ5YGwr+giUtA2qOPLaXc/TpYBgKXQK6LwKCAQBPIuANx5QiCgo26QW0\\\nfbYT2u36RcpLV5n6LWuzDHqR9Wssn9hg/czUJYo7rc6/+yn1VgBn4oI/6rZhPP1l\\\nAq9dWWHrw1mTxZd6t33IMdk0syi9C6k/ZdwzAxx1NWaGZ8AOR26gMnb7za+eLijk\\\nJ4gnbJSUcGyp74mIOLWHZFVyU+SUIiZ0400Z9TKaCumWtMDLLFnK25ZSzwygsLu2\\\nE5EPV+p76DbuqOX78uHmUBQBVa3SQ4TjjFFrjA5cmV6DcFligoYITMm9iEgYPlmi\\\nwWK+l1j1GwBFVHbcbOhwwH5kZ3qhRtHt3/oJUfNQ6Tbf2BcI/wHgorwr83g326Gt\\\nMGaxAoIBAQDjtPSK9EuXM9efkl69hfPEJ0K01ediaMEOwTTEniDmhP2qi2mt+nLx\\\n8t5RB6u/w48V4QYE8s9orbdhrsbv/Uv0nvj4L/55Rpqh7BWhtlZWC9UNUHrNe3Ly\\\n+/cF4OD3JLpDVz3SLa3lGCHCyk3fi8AnoCSfXqpZwZyvd0G6PIlk+zAoB9XWzDNh\\\nM5dKz3TOWWkx48klK4Sdm2ZFJjGLUlU6Q0n+XQret809JxZHPry/GaZ7kxIaQcA6\\\nOmOfMZetOcBMy3qnRlWcR7TuVHb1RLqr/Sxyk0g3bLhIh2H0kdlsV/0nYLeDzneg\\\nBPDQe4S/O1yye7LZp/hckeXxjp2H3tZvAoIBAQCDZymWIl26Fr9EF/InFYv45A/G\\\nq+BX8E+1W7cvpRoV1l9gHRY1meE2aBEjIZ2jO61gz5bflYjlTU7G9ERGU/73HUFG\\\n1sNemQuEt601KejgfR4JZNTsb4Pqe5gmhxdPEtG5kAlsPY8k8nLbs6URU5aH0Cuq\\\nfBVXXGELvGka82XYtIC0c1Kj+4e2j4vL/w3zZ/cyPgmeaR8e6bM31L1AGccWEaEi\\\n/x8ybvCwQqcbP49bDlv5rmPMAUO34bRjMxK3XJZbbjJrhNdb8a89zGsx4+s8k+ZH\\\n/gFdvOAB6A5xw1YuMsryQCYPJOrEZips1apEEZ0yqSUcdve7OanfpXiiEiCs\\n\\\n-----END RSA PRIVATE KEY-----\n\n</code></pre>\n<p>I also added \\n and \\ in the end. However, still no luck.</p>\n<p>Below is the error log:</p>\n<pre><code>Description:\n\nBinding to target org.springframework.boot.context.properties.bind.BindException: Failed to bind properties under 'spring.cloud.config.server.git' to org.springframework.cloud.config.server.environment.MultipleJGitEnvironmentProperties failed:\n    Reason: Property 'spring.cloud.config.server.git.privateKey' must be set when 'spring.cloud.config.server.git.ignoreLocalSshSettings' is specified\n\n</code></pre>\n<p>Can someone guide me What am I missing?</p>\n"},{"tags":["java","http-post","apache-httpclient-4.x","apache-commons-httpclient"],"answers":[{"comments":[{"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"score":0,"creation_date":1420408708,"post_id":27770696,"comment_id":43952557,"body_markdown":"Thanks for suggestion. If I am sending POST request, then my web service has to handle that POST request right? Also, can you provide an example how can I send POST request through HttpClient?","body":"Thanks for suggestion. If I am sending POST request, then my web service has to handle that POST request right? Also, can you provide an example how can I send POST request through HttpClient?"}],"tags":[],"owner":{"account_id":51234,"reputation":2162,"user_id":1004187,"accept_rate":81,"display_name":"TravisWhidden"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1420407984,"creation_date":1420407984,"answer_id":27770696,"question_id":27770356,"body_markdown":"Honestly, I don&#39;t think you want to try and pass XML through your URI.   There are several things to consider.  One, some servers will block long URIs (Google first result: http://www.checkupdown.com/status/E414.html ).  Next, you would want to &quot;encode&quot; the URI so it escapes all of your chars that are not ready to be passed raw. \r\n\r\nConsider doing a &quot;POST&quot; with the xml the body of the HTTP message.\r\n\r\nHope this helps.","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>Honestly, I don't think you want to try and pass XML through your URI.   There are several things to consider.  One, some servers will block long URIs (Google first result: <a href=\"http://www.checkupdown.com/status/E414.html\" rel=\"nofollow\">http://www.checkupdown.com/status/E414.html</a> ).  Next, you would want to \"encode\" the URI so it escapes all of your chars that are not ready to be passed raw. </p>\n\n<p>Consider doing a \"POST\" with the xml the body of the HTTP message.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":10320634,"reputation":5,"user_id":7613649,"accept_rate":25,"display_name":"Geba"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677678440,"creation_date":1677678440,"answer_id":75604569,"question_id":27770356,"body_markdown":"I guess you could make your request without using `Apache HttpClient`, you could just open stream by url\r\n\r\nThis is how you could pass XML in the query parameter and read the response as stream:\r\n\r\n    URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\r\n        .addParameter(&quot;max_time&quot;, &quot;30&quot;)\r\n        .addParameter(&quot;users&quot;, &quot;1000&quot;)\r\n        .addParameter(&quot;client_data&quot;, xmlData)\r\n        .build();\r\n    \r\n    BufferedReader rd = new BufferedReader(\r\n        new InputStreamReader(uri.toURL().openStream())\r\n    );\r\n\r\n\r\nIf you insist on using `Apache HttpClient`, then code could look like:\r\n\r\n    URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\r\n        .addParameter(&quot;max_time&quot;, &quot;30&quot;)\r\n        .addParameter(&quot;users&quot;, &quot;1000&quot;)\r\n        .addParameter(&quot;client_data&quot;, xmlData)\r\n        .build();\r\n    \r\n    HttpClient httpClient = HttpClients.createDefault();\r\n    HttpGet request = new HttpGet(uri);\r\n    HttpResponse httpResponse = httpClient.execute(request);\r\n    \r\n    BufferedReader rd = new BufferedReader(\r\n        new InputStreamReader(httpResponse.getEntity().getContent())\r\n    );","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>I guess you could make your request without using <code>Apache HttpClient</code>, you could just open stream by url</p>\n<p>This is how you could pass XML in the query parameter and read the response as stream:</p>\n<pre><code>URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\n    .addParameter(&quot;max_time&quot;, &quot;30&quot;)\n    .addParameter(&quot;users&quot;, &quot;1000&quot;)\n    .addParameter(&quot;client_data&quot;, xmlData)\n    .build();\n\nBufferedReader rd = new BufferedReader(\n    new InputStreamReader(uri.toURL().openStream())\n);\n</code></pre>\n<p>If you insist on using <code>Apache HttpClient</code>, then code could look like:</p>\n<pre><code>URI uri = new URIBuilder(&quot;http://localhost:8080/test_tmp&quot;)\n    .addParameter(&quot;max_time&quot;, &quot;30&quot;)\n    .addParameter(&quot;users&quot;, &quot;1000&quot;)\n    .addParameter(&quot;client_data&quot;, xmlData)\n    .build();\n\nHttpClient httpClient = HttpClients.createDefault();\nHttpGet request = new HttpGet(uri);\nHttpResponse httpResponse = httpClient.execute(request);\n\nBufferedReader rd = new BufferedReader(\n    new InputStreamReader(httpResponse.getEntity().getContent())\n);\n</code></pre>\n"}],"owner":{"account_id":3344039,"reputation":11379,"user_id":2809564,"accept_rate":82,"display_name":"john"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2793,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":27770696,"answer_count":2,"score":0,"last_activity_date":1677678440,"creation_date":1420405531,"question_id":27770356,"body_markdown":"I have a XML like below which is stored as a String in `xmlData` variable and I need to pass this String to my url in `client_data` variable -\r\n\r\n\t&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\t&lt;ClientData\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t xsi:schemaLocation=&quot;http://www.google.com model.xsd&quot; \r\n\t xmlns=&quot;http://www.google.com&quot;&gt; \r\n\t\t&lt;client id=&quot;100&quot;&gt;\r\n\t\t\t&lt;clock&gt;\r\n\t\t\t\t\t&lt;for&gt;\r\n\t\t\t\t\t\t&lt;etc&gt;val(tery) = 1&lt;/etc&gt;\r\n\t\t\t\t\t\t&lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\r\n\t\t\t\t\t&lt;/for&gt;\r\n\t\t\t&lt;/clock&gt;\r\n\t\t&lt;/model&gt;\r\n\t&lt;/ClientData&gt;\r\n\r\nBelow is the URL I am hitting on the browser by URL encoding `client_data` value to get the response back and it works fine.\r\n\r\n\thttp://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&lt;?xml version=&quot;1.0&quot;?&gt;\r\n\t&lt;ClientData\r\n\txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n\t xsi:schemaLocation=&quot;http://www.google.com model.xsd&quot; \r\n\t xmlns=&quot;http://www.google.com&quot;&gt; \r\n\t\t&lt;client id=&quot;100&quot;&gt;\r\n\t\t\t&lt;clock&gt;\r\n\t\t\t\t\t&lt;for&gt;\r\n\t\t\t\t\t\t&lt;etc&gt;val(tery) = 1&lt;/etc&gt;\r\n\t\t\t\t\t\t&lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\r\n\t\t\t\t\t&lt;/for&gt;\r\n\t\t\t&lt;/clock&gt;\r\n\t\t&lt;/model&gt;\r\n\t&lt;/ClientData&gt;\r\n\r\nNow I need to do the same thing through `Apache HttpClient`. What is the best way to do this?\r\n\r\nI have got below code but not sure whethere there is any better way to do this? Is there anything I can improve on or some better way of doing it?\r\n\r\n    public static void main(String[] args) {\r\n\t\tString xmlData = getXMLData();\r\n\t\tString url = generateURL(xmlData);\r\n\r\n\t\tHttpClient httpclient = HttpClientBuilder.create().build();\r\n\t\tHttpGet request = new HttpGet(url);\r\n\r\n\t\tHttpResponse httpResponse = httpclient.execute(request);\r\n\r\n\t\tBufferedReader rd = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\r\n\r\n\t\tStringBuffer response = new StringBuffer();\r\n\t\tString line = &quot;&quot;;\r\n\t\twhile ((line = rd.readLine()) != null) {\r\n\t\t\tresponse.append(line);\r\n\t\t}\r\n\r\n\t\t// prints response\r\n\t\tSystem.out.println(response);\t\t\r\n    }\r\n\r\n    private static String generateURL(final String clientData) {\r\n        StringBuilder url = new StringBuilder();\r\n        url.append(&quot;http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&quot;);\r\n\t\turl.append(URLEncoder.encode(clientData, &quot;UTF-8&quot;));\r\n\r\n        return url.toString();\r\n    }\r\n","title":"How to execute url which has xml data as query parameter through Apache HttpClient?","body":"<p>I have a XML like below which is stored as a String in <code>xmlData</code> variable and I need to pass this String to my url in <code>client_data</code> variable -</p>\n\n<pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;ClientData\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n xsi:schemaLocation=\"http://www.google.com model.xsd\" \n xmlns=\"http://www.google.com\"&gt; \n    &lt;client id=\"100\"&gt;\n        &lt;clock&gt;\n                &lt;for&gt;\n                    &lt;etc&gt;val(tery) = 1&lt;/etc&gt;\n                    &lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\n                &lt;/for&gt;\n        &lt;/clock&gt;\n    &lt;/model&gt;\n&lt;/ClientData&gt;\n</code></pre>\n\n<p>Below is the URL I am hitting on the browser by URL encoding <code>client_data</code> value to get the response back and it works fine.</p>\n\n<pre><code>http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=&lt;?xml version=\"1.0\"?&gt;\n&lt;ClientData\nxmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" \n xsi:schemaLocation=\"http://www.google.com model.xsd\" \n xmlns=\"http://www.google.com\"&gt; \n    &lt;client id=\"100\"&gt;\n        &lt;clock&gt;\n                &lt;for&gt;\n                    &lt;etc&gt;val(tery) = 1&lt;/etc&gt;\n                    &lt;while&gt;&lt;![CDATA[val(tery)  &lt; 20]]&gt;&lt;/while&gt;\n                &lt;/for&gt;\n        &lt;/clock&gt;\n    &lt;/model&gt;\n&lt;/ClientData&gt;\n</code></pre>\n\n<p>Now I need to do the same thing through <code>Apache HttpClient</code>. What is the best way to do this?</p>\n\n<p>I have got below code but not sure whethere there is any better way to do this? Is there anything I can improve on or some better way of doing it?</p>\n\n<pre><code>public static void main(String[] args) {\n    String xmlData = getXMLData();\n    String url = generateURL(xmlData);\n\n    HttpClient httpclient = HttpClientBuilder.create().build();\n    HttpGet request = new HttpGet(url);\n\n    HttpResponse httpResponse = httpclient.execute(request);\n\n    BufferedReader rd = new BufferedReader(new InputStreamReader(httpResponse.getEntity().getContent()));\n\n    StringBuffer response = new StringBuffer();\n    String line = \"\";\n    while ((line = rd.readLine()) != null) {\n        response.append(line);\n    }\n\n    // prints response\n    System.out.println(response);       \n}\n\nprivate static String generateURL(final String clientData) {\n    StringBuilder url = new StringBuilder();\n    url.append(\"http://localhost:8080/test_tmp?max_time=30&amp;users=1000&amp;client_data=\");\n    url.append(URLEncoder.encode(clientData, \"UTF-8\"));\n\n    return url.toString();\n}\n</code></pre>\n"},{"tags":["java","kotlin","rx-java"],"owner":{"account_id":170500,"reputation":6031,"user_id":397244,"accept_rate":67,"display_name":"kaneda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677677638,"creation_date":1677677638,"question_id":75604434,"body_markdown":"I&#39;m handling a code like this:\r\n\r\n```kotlin\r\nfun getListOfThings(limit: Int, offset: Int): Single&lt;List&lt;Thing&gt;&gt; {\r\n  return Single.defer {\r\n    singleApi.flatMap {\r\n     api.getThings(limit, offset)\r\n       .singleOrError()\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nIn that sample snippet, `singleApi` is a `Single` which makes a **GET** request to an api. That request always succeeds but even though it does, the request keeps repeating indefinitely. Why is that happening? Shouldn&#39;t it call `onSuccess` on the observer and the complete? There&#39;s no retry logic downstream. I&#39;m using RxJava version **2.2.13**.\r\n\r\nDigging into the source code it seems like that `SingleFlatMapCallback` is resubscribing at the end. Why that happens?\r\n\r\n```java\r\n        @Override\r\n        public void onSuccess(T value) {\r\n            SingleSource&lt;? extends R&gt; o;\r\n\r\n            try {\r\n                o = ObjectHelper.requireNonNull(mapper.apply(value), &quot;The single returned by the mapper is null&quot;);\r\n            } catch (Throwable e) {\r\n                Exceptions.throwIfFatal(e);\r\n                downstream.onError(e);\r\n                return;\r\n            }\r\n\r\n            if (!isDisposed()) {\r\n                o.subscribe(new FlatMapSingleObserver&lt;R&gt;(this, downstream));\r\n            }\r\n        }\r\n```","title":"Why SingleFlatMapCallback resubscribes on success?","body":"<p>I'm handling a code like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun getListOfThings(limit: Int, offset: Int): Single&lt;List&lt;Thing&gt;&gt; {\n  return Single.defer {\n    singleApi.flatMap {\n     api.getThings(limit, offset)\n       .singleOrError()\n    }\n  }\n}\n</code></pre>\n<p>In that sample snippet, <code>singleApi</code> is a <code>Single</code> which makes a <strong>GET</strong> request to an api. That request always succeeds but even though it does, the request keeps repeating indefinitely. Why is that happening? Shouldn't it call <code>onSuccess</code> on the observer and the complete? There's no retry logic downstream. I'm using RxJava version <strong>2.2.13</strong>.</p>\n<p>Digging into the source code it seems like that <code>SingleFlatMapCallback</code> is resubscribing at the end. Why that happens?</p>\n<pre class=\"lang-java prettyprint-override\"><code>        @Override\n        public void onSuccess(T value) {\n            SingleSource&lt;? extends R&gt; o;\n\n            try {\n                o = ObjectHelper.requireNonNull(mapper.apply(value), &quot;The single returned by the mapper is null&quot;);\n            } catch (Throwable e) {\n                Exceptions.throwIfFatal(e);\n                downstream.onError(e);\n                return;\n            }\n\n            if (!isDisposed()) {\n                o.subscribe(new FlatMapSingleObserver&lt;R&gt;(this, downstream));\n            }\n        }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"owner":{"account_id":13510057,"reputation":150,"user_id":9746710,"display_name":"GeekCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677677630,"creation_date":1677677630,"question_id":75604431,"body_markdown":"I did a spring version upgrade from 4.0.9 to 5.3.20\r\nIn the previous version c/getData and c/getData.html would both work but now the later version doesn’t work and gives error org.springframework.web.servlet.PageNotFound.noHaldlerFound no mapping for get c/getData.html","title":".html not mapping to request mapping","body":"<p>I did a spring version upgrade from 4.0.9 to 5.3.20\nIn the previous version c/getData and c/getData.html would both work but now the later version doesn’t work and gives error org.springframework.web.servlet.PageNotFound.noHaldlerFound no mapping for get c/getData.html</p>\n"},{"tags":["java","collections","java-stream"],"answers":[{"comments":[{"owner":{"account_id":12207201,"reputation":13,"user_id":8909955,"display_name":"martinz"},"score":1,"creation_date":1677687952,"post_id":75604258,"comment_id":133388289,"body_markdown":"Thanks! I didn&#39;t know the computeIfAbsent method, it definitely will be very useful. Your solution works well and looks much easier to maintain.\nI had to keep the keyDTO because I need multiple fields not just a string, but it&#39;s still a nice improvement. I also changed the final map conversion using directly e.getValue().values() instead of streaming the entry set and collecting it. This results in a Map&lt;Long, Collection&lt;FooDTO&gt;&gt; but it works for me.","body":"Thanks! I didn&#39;t know the computeIfAbsent method, it definitely will be very useful. Your solution works well and looks much easier to maintain. I had to keep the keyDTO because I need multiple fields not just a string, but it&#39;s still a nice improvement. I also changed the final map conversion using directly e.getValue().values() instead of streaming the entry set and collecting it. This results in a Map&lt;Long, Collection&lt;FooDTO&gt;&gt; but it works for me."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677677431,"creation_date":1677676692,"answer_id":75604258,"question_id":75595258,"body_markdown":"Here is one way  to do it although I can&#39;t say it is better than yours.  I am using records.  Your classes with constructors and getters would also work.\r\n```\r\nrecord FooEntity(Long getId, Long getKeyValue, String getFooField, // other foo\r\n                                                                   // fields,\r\n        // duplicated\r\n        String getBarField) {\r\n}\r\n\r\nrecord BarDTO(Long getId, String getBarField // other bar fields\r\n) {\r\n}\r\n\r\nrecord FooDTO(String getFooField, // other foo fields\r\n        List&lt;BarDTO&gt; getBars) {\r\n}\r\n```\r\nA List of your FooEntity class\r\n```\r\nList&lt;FooEntity&gt; list = List.of(new FooEntity(1L, 100L, &quot;foo1&quot;, &quot;bar1&quot;),\r\n        new FooEntity(2L, 100L, &quot;foo1&quot;, &quot;bar2&quot;),\r\n        new FooEntity(3L, 100L, &quot;foo2&quot;, &quot;bar3&quot;),\r\n        new FooEntity(4L, 100L, &quot;foo2&quot;, &quot;bar4&quot;),\r\n        new FooEntity(5L, 100L, &quot;foo2&quot;, &quot;bar5&quot;),\r\n        new FooEntity(6L, 200L, &quot;foo3&quot;, &quot;bar6&quot;),\r\n        new FooEntity(7L, 200L, &quot;foo3&quot;, &quot;bar7&quot;));\r\n```\r\nIn a two stage process, this builds a map of maps using [computeIfAbsent](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)) which creates the entry if the key doesn&#39;t exist and returns the new or existing value.\r\n\r\n- outer map key - `keyValue`\r\n- inner map key - `fooField`\r\n- inner map value = `FooDTO`\r\n``` \r\nMap&lt;Long, Map&lt;String, FooDTO&gt;&gt; mapTemp = new HashMap&lt;&gt;();\r\nfor (FooEntity fe : list) {\r\n    mapTemp.computeIfAbsent(fe.getKeyValue(), v -&gt; new HashMap&lt;&gt;())\r\n            .computeIfAbsent(fe.getFooField(),\r\n                 v -&gt; new FooDTO(fe.getFooField(), // FooDTO instance\r\n                 new ArrayList&lt;&gt;()))\r\n                      .getBars()  // get the list from FooDTO\r\n                                  // and add a new BarDTO instance\r\n                      .add(new BarDTO(fe.getId(), \r\n                                      fe.getBarField()));\r\n}\r\n```\r\nThis prints the map\r\n```\r\nmapTemp.entrySet().forEach(e -&gt; {\r\n    System.out.println(e.getKey());\r\n    e.getValue().entrySet().forEach(ee -&gt; {\r\n        System.out.println(&quot;    &quot; + ee.getKey());\r\n        ee.getValue().getBars()\r\n                .forEach(v -&gt; System.out.println(&quot;       &quot; + v));\r\n    });\r\n});\r\n```\r\nprints\r\n```\r\n100\r\n    foo1\r\n       BarDTO[getId=1, getBarField=bar1]\r\n       BarDTO[getId=2, getBarField=bar2]\r\n    foo2\r\n       BarDTO[getId=3, getBarField=bar3]\r\n       BarDTO[getId=4, getBarField=bar4]\r\n       BarDTO[getId=5, getBarField=bar5]\r\n200\r\n    foo3\r\n       BarDTO[getId=6, getBarField=bar6]\r\n       BarDTO[getId=7, getBarField=bar7]\r\n```\r\nIt&#39;s possible the above will be sufficient for your use.  However, to convert that to the desired map, the following will work.\r\n```\r\nMap&lt;Long, List&lt;FooDTO&gt;&gt; result = mapTemp.entrySet().stream()\r\n   .collect(Collectors.toMap(\r\n                       e -&gt; e.getKey(),\r\n                       e -&gt; e.getValue().entrySet()\r\n                             .stream()\r\n                             .map(ee -&gt; ee.getValue()).toList()));\r\n```\r\nAnd it can be printed with the following, the output looking exactly like the above.\r\n```\r\nresult.entrySet().forEach(e -&gt; {\r\n    System.out.println(e.getKey());\r\n    e.getValue().forEach(ob -&gt; {\r\n        System.out.println(&quot;    &quot; + ob.getFooField());\r\n        ob.getBars().forEach(b -&gt; System.out.println(&quot;       &quot; + b));\r\n    });\r\n});\r\n\r\n","title":"Java Stream: map and collect non-normalized entities to map of normalized dtos","body":"<p>Here is one way  to do it although I can't say it is better than yours.  I am using records.  Your classes with constructors and getters would also work.</p>\n<pre><code>record FooEntity(Long getId, Long getKeyValue, String getFooField, // other foo\n                                                                   // fields,\n        // duplicated\n        String getBarField) {\n}\n\nrecord BarDTO(Long getId, String getBarField // other bar fields\n) {\n}\n\nrecord FooDTO(String getFooField, // other foo fields\n        List&lt;BarDTO&gt; getBars) {\n}\n</code></pre>\n<p>A List of your FooEntity class</p>\n<pre><code>List&lt;FooEntity&gt; list = List.of(new FooEntity(1L, 100L, &quot;foo1&quot;, &quot;bar1&quot;),\n        new FooEntity(2L, 100L, &quot;foo1&quot;, &quot;bar2&quot;),\n        new FooEntity(3L, 100L, &quot;foo2&quot;, &quot;bar3&quot;),\n        new FooEntity(4L, 100L, &quot;foo2&quot;, &quot;bar4&quot;),\n        new FooEntity(5L, 100L, &quot;foo2&quot;, &quot;bar5&quot;),\n        new FooEntity(6L, 200L, &quot;foo3&quot;, &quot;bar6&quot;),\n        new FooEntity(7L, 200L, &quot;foo3&quot;, &quot;bar7&quot;));\n</code></pre>\n<p>In a two stage process, this builds a map of maps using <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Map.html#computeIfAbsent(K,java.util.function.Function)\" rel=\"nofollow noreferrer\">computeIfAbsent</a> which creates the entry if the key doesn't exist and returns the new or existing value.</p>\n<ul>\n<li>outer map key - <code>keyValue</code></li>\n<li>inner map key - <code>fooField</code></li>\n<li>inner map value = <code>FooDTO</code></li>\n</ul>\n<pre><code>Map&lt;Long, Map&lt;String, FooDTO&gt;&gt; mapTemp = new HashMap&lt;&gt;();\nfor (FooEntity fe : list) {\n    mapTemp.computeIfAbsent(fe.getKeyValue(), v -&gt; new HashMap&lt;&gt;())\n            .computeIfAbsent(fe.getFooField(),\n                 v -&gt; new FooDTO(fe.getFooField(), // FooDTO instance\n                 new ArrayList&lt;&gt;()))\n                      .getBars()  // get the list from FooDTO\n                                  // and add a new BarDTO instance\n                      .add(new BarDTO(fe.getId(), \n                                      fe.getBarField()));\n}\n</code></pre>\n<p>This prints the map</p>\n<pre><code>mapTemp.entrySet().forEach(e -&gt; {\n    System.out.println(e.getKey());\n    e.getValue().entrySet().forEach(ee -&gt; {\n        System.out.println(&quot;    &quot; + ee.getKey());\n        ee.getValue().getBars()\n                .forEach(v -&gt; System.out.println(&quot;       &quot; + v));\n    });\n});\n</code></pre>\n<p>prints</p>\n<pre><code>100\n    foo1\n       BarDTO[getId=1, getBarField=bar1]\n       BarDTO[getId=2, getBarField=bar2]\n    foo2\n       BarDTO[getId=3, getBarField=bar3]\n       BarDTO[getId=4, getBarField=bar4]\n       BarDTO[getId=5, getBarField=bar5]\n200\n    foo3\n       BarDTO[getId=6, getBarField=bar6]\n       BarDTO[getId=7, getBarField=bar7]\n</code></pre>\n<p>It's possible the above will be sufficient for your use.  However, to convert that to the desired map, the following will work.</p>\n<pre><code>Map&lt;Long, List&lt;FooDTO&gt;&gt; result = mapTemp.entrySet().stream()\n   .collect(Collectors.toMap(\n                       e -&gt; e.getKey(),\n                       e -&gt; e.getValue().entrySet()\n                             .stream()\n                             .map(ee -&gt; ee.getValue()).toList()));\n</code></pre>\n<p>And it can be printed with the following, the output looking exactly like the above.</p>\n<pre><code>result.entrySet().forEach(e -&gt; {\n    System.out.println(e.getKey());\n    e.getValue().forEach(ob -&gt; {\n        System.out.println(&quot;    &quot; + ob.getFooField());\n        ob.getBars().forEach(b -&gt; System.out.println(&quot;       &quot; + b));\n    });\n});\n\n</code></pre>\n"}],"owner":{"account_id":12207201,"reputation":13,"user_id":8909955,"display_name":"martinz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75604258,"answer_count":1,"score":1,"last_activity_date":1677677431,"creation_date":1677604399,"question_id":75595258,"body_markdown":"I have a db table that repeats lots of data and is represented by the class FooEntity. Foo should actually have a 1-N relationship with Bar, but they&#39;re all stored in the same table replicating foo data. I can&#39;t change the table as it&#39;s already being used.\r\n\r\n```\r\nclass FooEntity {\r\n    private Long id;\r\n    private Long keyValue;\r\n    private String fooField; //other foo fields, duplicated\r\n    private String barField; //other bar fields\r\n}\r\n```\r\n\r\nI need to query data from this table and map them to a collection of DTOs that follows the 1-N relationship, eg\r\n\r\n```\r\nclass FooDTO {\r\n    private String fooField; //other foo fields\r\n    private List&lt;BarDTO&gt; bars;\r\n}\r\nclass BarDTO {\r\n    private Long id;\r\n    private String barField; //other bar fields\r\n}\r\n```\r\n\r\nI also need to group this collection of FooDTO by their keyValue, putting them in a Map\\&lt;Long, List\\&lt;FooDTO\\&gt;\\&gt;.\r\n\r\nI have found a solution but I&#39;m not sure it&#39;s a good one, **is there a better way? Especially one that doesn&#39;t keep opening and closing streams** and doesn&#39;t need 3 dtos, as I think it can be done with 2. Should I use different collectors, or do these operations in a different order?\r\n\r\nHere&#39;s my implementation\r\n\r\n```\r\nclass FooKeyDTO {\r\n    String fooField; //other foo fields\r\n}\r\nclass FooDTO extends FooKeyDTO {\r\n    private List&lt;BarDTO&gt; bars;\r\n    public FooDTO(FooKeyDTO foo, List&lt;BarDTO&gt; bars) {\r\n        this.fooField = foo.fooField; //other foo fields\r\n        this.bars = bars;\r\n    }\r\n}\r\nclass BarDTO {\r\n    private Long id;\r\n    private String barField; //other bar fields\r\n}\r\n\r\nMap&lt;Long, List&lt;FooDTO&gt;&gt; value = jpaRepository\r\n    .findByMyField(myField) //Set&lt;FooEntity&gt;\r\n    .stream()\r\n    .collect(Collectors.groupingBy(s -&gt; s.getKeyValue())) //Map&lt;Long, List&lt;FooEntity&gt;&gt;\r\n    .entrySet()\r\n    .stream()\r\n    .collect(Collectors.toMap(\r\n        Entry::getKey,\r\n        foo -&gt; foo.getValue() //List&lt;FooEntity&gt;\r\n            .stream()\r\n            .collect(Collectors.groupingBy(\r\n                k -&gt; toFooKeyDTO(k), //FooKeyDTO\r\n                Collectors.mapping(v -&gt; toBarDTO(v), Collectors.toList()))) //List&lt;BarDTO&gt;\r\n            .entrySet() //entries of Map&lt;FooKeyDTO, List&lt;BarDTO&gt;&gt;\r\n            .stream()\r\n            .map(f -&gt; new FooDTO(f.getKey(), f.getValue()))\r\n            .toList()\r\n    ));\r\n```\r\n\r\n*The query and the entity to dto converting methods are pretty simple and I don&#39;t think they&#39;re relevant to the question (I used a jpa repository and a model mapper to convert).*\r\n\r\nAn example:\r\nFrom these entities\r\n\r\n```\r\n{\r\n    &quot;id&quot;: 1,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo1&quot;,\r\n    &quot;barField&quot;: &quot;bar1&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 2,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo1&quot;,\r\n    &quot;barField&quot;: &quot;bar2&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 3,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar3&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 4,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar4&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 5,\r\n    &quot;keyValue&quot;: 100,\r\n    &quot;fooField&quot;: &quot;foo2&quot;,\r\n    &quot;barField&quot;: &quot;bar5&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 6,\r\n    &quot;keyValue&quot;: 200,\r\n    &quot;fooField&quot;: &quot;foo3&quot;,\r\n    &quot;barField&quot;: &quot;bar6&quot;\r\n},\r\n{\r\n    &quot;id&quot;: 7,\r\n    &quot;keyValue&quot;: 200,\r\n    &quot;fooField&quot;: &quot;foo3&quot;,\r\n    &quot;barField&quot;: &quot;bar7&quot;\r\n}\r\n```\r\n\r\nto this map\r\n\r\n```\r\n{\r\n    &quot;100&quot;: [\r\n        {\r\n            &quot;fooField&quot;: &quot;foo1&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 1,\r\n                    &quot;barField&quot;: &quot;bar1&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 2,\r\n                    &quot;barField&quot;: &quot;bar2&quot;\r\n                }\r\n            ]\r\n        },\r\n        {\r\n            &quot;fooField&quot;: &quot;foo2&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 3,\r\n                    &quot;barField&quot;: &quot;bar3&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 4,\r\n                    &quot;barField&quot;: &quot;bar4&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 5,\r\n                    &quot;barField&quot;: &quot;bar5&quot;\r\n                }\r\n            ]\r\n        }\r\n    ],\r\n    &quot;200&quot;: [\r\n        {\r\n            &quot;fooField&quot;: &quot;foo3&quot;,\r\n            &quot;bars&quot;: [\r\n                {\r\n                    &quot;id&quot;: 6,\r\n                    &quot;barField&quot;: &quot;bar6&quot;\r\n                },\r\n                {\r\n                    &quot;id&quot;: 7,\r\n                    &quot;barField&quot;: &quot;bar7&quot;\r\n                }\r\n            ]\r\n        }\r\n    ]\r\n}\r\n```","title":"Java Stream: map and collect non-normalized entities to map of normalized dtos","body":"<p>I have a db table that repeats lots of data and is represented by the class FooEntity. Foo should actually have a 1-N relationship with Bar, but they're all stored in the same table replicating foo data. I can't change the table as it's already being used.</p>\n<pre><code>class FooEntity {\n    private Long id;\n    private Long keyValue;\n    private String fooField; //other foo fields, duplicated\n    private String barField; //other bar fields\n}\n</code></pre>\n<p>I need to query data from this table and map them to a collection of DTOs that follows the 1-N relationship, eg</p>\n<pre><code>class FooDTO {\n    private String fooField; //other foo fields\n    private List&lt;BarDTO&gt; bars;\n}\nclass BarDTO {\n    private Long id;\n    private String barField; //other bar fields\n}\n</code></pre>\n<p>I also need to group this collection of FooDTO by their keyValue, putting them in a Map&lt;Long, List&lt;FooDTO&gt;&gt;.</p>\n<p>I have found a solution but I'm not sure it's a good one, <strong>is there a better way? Especially one that doesn't keep opening and closing streams</strong> and doesn't need 3 dtos, as I think it can be done with 2. Should I use different collectors, or do these operations in a different order?</p>\n<p>Here's my implementation</p>\n<pre><code>class FooKeyDTO {\n    String fooField; //other foo fields\n}\nclass FooDTO extends FooKeyDTO {\n    private List&lt;BarDTO&gt; bars;\n    public FooDTO(FooKeyDTO foo, List&lt;BarDTO&gt; bars) {\n        this.fooField = foo.fooField; //other foo fields\n        this.bars = bars;\n    }\n}\nclass BarDTO {\n    private Long id;\n    private String barField; //other bar fields\n}\n\nMap&lt;Long, List&lt;FooDTO&gt;&gt; value = jpaRepository\n    .findByMyField(myField) //Set&lt;FooEntity&gt;\n    .stream()\n    .collect(Collectors.groupingBy(s -&gt; s.getKeyValue())) //Map&lt;Long, List&lt;FooEntity&gt;&gt;\n    .entrySet()\n    .stream()\n    .collect(Collectors.toMap(\n        Entry::getKey,\n        foo -&gt; foo.getValue() //List&lt;FooEntity&gt;\n            .stream()\n            .collect(Collectors.groupingBy(\n                k -&gt; toFooKeyDTO(k), //FooKeyDTO\n                Collectors.mapping(v -&gt; toBarDTO(v), Collectors.toList()))) //List&lt;BarDTO&gt;\n            .entrySet() //entries of Map&lt;FooKeyDTO, List&lt;BarDTO&gt;&gt;\n            .stream()\n            .map(f -&gt; new FooDTO(f.getKey(), f.getValue()))\n            .toList()\n    ));\n</code></pre>\n<p><em>The query and the entity to dto converting methods are pretty simple and I don't think they're relevant to the question (I used a jpa repository and a model mapper to convert).</em></p>\n<p>An example:\nFrom these entities</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo1&quot;,\n    &quot;barField&quot;: &quot;bar1&quot;\n},\n{\n    &quot;id&quot;: 2,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo1&quot;,\n    &quot;barField&quot;: &quot;bar2&quot;\n},\n{\n    &quot;id&quot;: 3,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar3&quot;\n},\n{\n    &quot;id&quot;: 4,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar4&quot;\n},\n{\n    &quot;id&quot;: 5,\n    &quot;keyValue&quot;: 100,\n    &quot;fooField&quot;: &quot;foo2&quot;,\n    &quot;barField&quot;: &quot;bar5&quot;\n},\n{\n    &quot;id&quot;: 6,\n    &quot;keyValue&quot;: 200,\n    &quot;fooField&quot;: &quot;foo3&quot;,\n    &quot;barField&quot;: &quot;bar6&quot;\n},\n{\n    &quot;id&quot;: 7,\n    &quot;keyValue&quot;: 200,\n    &quot;fooField&quot;: &quot;foo3&quot;,\n    &quot;barField&quot;: &quot;bar7&quot;\n}\n</code></pre>\n<p>to this map</p>\n<pre><code>{\n    &quot;100&quot;: [\n        {\n            &quot;fooField&quot;: &quot;foo1&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 1,\n                    &quot;barField&quot;: &quot;bar1&quot;\n                },\n                {\n                    &quot;id&quot;: 2,\n                    &quot;barField&quot;: &quot;bar2&quot;\n                }\n            ]\n        },\n        {\n            &quot;fooField&quot;: &quot;foo2&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 3,\n                    &quot;barField&quot;: &quot;bar3&quot;\n                },\n                {\n                    &quot;id&quot;: 4,\n                    &quot;barField&quot;: &quot;bar4&quot;\n                },\n                {\n                    &quot;id&quot;: 5,\n                    &quot;barField&quot;: &quot;bar5&quot;\n                }\n            ]\n        }\n    ],\n    &quot;200&quot;: [\n        {\n            &quot;fooField&quot;: &quot;foo3&quot;,\n            &quot;bars&quot;: [\n                {\n                    &quot;id&quot;: 6,\n                    &quot;barField&quot;: &quot;bar6&quot;\n                },\n                {\n                    &quot;id&quot;: 7,\n                    &quot;barField&quot;: &quot;bar7&quot;\n                }\n            ]\n        }\n    ]\n}\n</code></pre>\n"},{"tags":["java","security","cryptography","rsa","digital-signature"],"comments":[{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":0,"creation_date":1677677858,"post_id":75604377,"comment_id":133384773,"body_markdown":"The text `BEGIN/END RSA PRIVATE KEY` in the header/footer points to a private key in PKCS#1 format. However, `PKCS8EncodedKeySpec` requires a private key in PKCS#8 format.","body":"The text <code>BEGIN&#47;END RSA PRIVATE KEY</code> in the header/footer points to a private key in PKCS#1 format. However, <code>PKCS8EncodedKeySpec</code> requires a private key in PKCS#8 format."},{"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"score":0,"creation_date":1677679589,"post_id":75604377,"comment_id":133385342,"body_markdown":"@Topaco Yes, the private key is in PKCS#1 format. So what&#39;s the appropriate alternative for PKCS8EncodedKeySpex ?. Could you write the alternative code if possible?","body":"@Topaco Yes, the private key is in PKCS#1 format. So what&#39;s the appropriate alternative for PKCS8EncodedKeySpex ?. Could you write the alternative code if possible?"},{"owner":{"account_id":12359353,"reputation":42442,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1677680605,"post_id":75604377,"comment_id":133385723,"body_markdown":"You can directly import a PEM encoded PKCS#1 key with BouncyCastle, see [here](https://stackoverflow.com/a/41953072). Alternatively the PKCS#1 key can be converted to a PKCS#8 key e.g. with OpenSSL.","body":"You can directly import a PEM encoded PKCS#1 key with BouncyCastle, see <a href=\"https://stackoverflow.com/a/41953072\">here</a>. Alternatively the PKCS#1 key can be converted to a PKCS#8 key e.g. with OpenSSL."}],"owner":{"account_id":26175427,"reputation":3,"user_id":21305967,"display_name":"Bhuvan M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677699264,"answer_count":0,"score":0,"last_activity_date":1677677369,"creation_date":1677677369,"question_id":75604377,"body_markdown":"I&#39;m importing RSA key from a folder and using it to generate signature.\r\nbut its giving me following error.\r\n\r\n&gt; Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence\r\n\r\n\r\n\r\nfollowing is the code for generating signature\r\n```\r\npublic class GenerateSignature {\r\n\tpublic String getSignature(String msg) {\r\n\t\t\r\n\t\tHexString hs = new HexString();\r\n\t\t\r\n\t      \r\n\t\tbyte[] signature = null;\r\n\t\ttry {\r\n\t\t\tPrivateKeyLoader loader = new PrivateKeyLoader();\r\n\t\t\t//put pertinent address\r\n\t        PrivateKey key = loader.load(&quot;rsakey2.pem&quot;);\r\n\t      \r\n\t        System.out.println(key);\r\n\t      \r\n\t        Signature sign = Signature.getInstance(&quot;SHA256withRSA&quot;);\r\n\t        sign.initSign(key);\r\n\t        byte[] bytes = msg.getBytes();\r\n\t        sign.update(bytes);\r\n\t        signature = sign.sign();\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tSystem.out.println(e); // this is where i got the error\r\n                       //i think loader.load wasnt able to load the key.\r\n\t\t}\r\n\t\treturn hs.toHexString(signature);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nfollowing is the code for loading private key\r\n\r\n\r\n```\r\npublic class PrivateKeyLoader {\r\n    private String readFile(final String fileName) throws IOException {\r\n        final File file = new File(fileName);\r\n\r\n        return new String(Files.readAllBytes(file.toPath()));\r\n    }\r\n    \r\n    private PrivateKey loadPemRsaPrivateKey(String pemFilename) throws Exception {\r\n\r\n        String pemString = readFile(pemFilename);\r\n\r\n        String privateKeyPEM = pemString\r\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\r\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\r\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\r\n\r\n        byte[] encoded = Base64.getDecoder().decode(privateKeyPEM);\r\n\r\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n        return keyFactory.generatePrivate(keySpec);\r\n    }\r\n\r\n    public PrivateKey load(String file) throws Exception {\r\n        return loadPemRsaPrivateKey(file);\r\n    }\r\n\r\n}\r\n```\r\n","title":"I&#39;m getting java.security.InvalidKeyException","body":"<p>I'm importing RSA key from a folder and using it to generate signature.\nbut its giving me following error.</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.security.spec.InvalidKeySpecException: java.security.InvalidKeyException: IOException : algid parse error, not a sequence</p>\n</blockquote>\n<p>following is the code for generating signature</p>\n<pre><code>public class GenerateSignature {\n    public String getSignature(String msg) {\n        \n        HexString hs = new HexString();\n        \n          \n        byte[] signature = null;\n        try {\n            PrivateKeyLoader loader = new PrivateKeyLoader();\n            //put pertinent address\n            PrivateKey key = loader.load(&quot;rsakey2.pem&quot;);\n          \n            System.out.println(key);\n          \n            Signature sign = Signature.getInstance(&quot;SHA256withRSA&quot;);\n            sign.initSign(key);\n            byte[] bytes = msg.getBytes();\n            sign.update(bytes);\n            signature = sign.sign();\n        }\n        catch (Exception e) {\n            System.out.println(e); // this is where i got the error\n                       //i think loader.load wasnt able to load the key.\n        }\n        return hs.toHexString(signature);\n    }\n\n}\n\n</code></pre>\n<p>following is the code for loading private key</p>\n<pre><code>public class PrivateKeyLoader {\n    private String readFile(final String fileName) throws IOException {\n        final File file = new File(fileName);\n\n        return new String(Files.readAllBytes(file.toPath()));\n    }\n    \n    private PrivateKey loadPemRsaPrivateKey(String pemFilename) throws Exception {\n\n        String pemString = readFile(pemFilename);\n\n        String privateKeyPEM = pemString\n                .replace(&quot;-----BEGIN RSA PRIVATE KEY-----&quot;, &quot;&quot;)\n                .replaceAll(System.lineSeparator(), &quot;&quot;)\n                .replace(&quot;-----END RSA PRIVATE KEY-----&quot;, &quot;&quot;);\n\n        byte[] encoded = Base64.getDecoder().decode(privateKeyPEM);\n\n        KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n        return keyFactory.generatePrivate(keySpec);\n    }\n\n    public PrivateKey load(String file) throws Exception {\n        return loadPemRsaPrivateKey(file);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","apache-spark","pyspark","apache-spark-sql","hdfs"],"comments":[{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":1,"creation_date":1677661080,"post_id":75600815,"comment_id":133379908,"body_markdown":"Why do you need `repartition(5)`? If the dataset is large, partitions might get too big to fit inside one executor.","body":"Why do you need <code>repartition(5)</code>? If the dataset is large, partitions might get too big to fit inside one executor."},{"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"score":0,"creation_date":1677696217,"post_id":75600815,"comment_id":133390760,"body_markdown":"Hi, I have increased the number of partitions to 25, still getting same error.","body":"Hi, I have increased the number of partitions to 25, still getting same error."},{"owner":{"account_id":12182705,"reputation":10096,"user_id":8893686,"display_name":"Oli"},"score":0,"creation_date":1677697789,"post_id":75600815,"comment_id":133391170,"body_markdown":"Try with 500. If it still fails, the answer you got is a good lead but it&#39;s hard to tell without more code","body":"Try with 500. If it still fails, the answer you got is a good lead but it&#39;s hard to tell without more code"},{"owner":{"account_id":19675440,"reputation":349,"user_id":14403715,"display_name":"Kevin Barranco"},"score":0,"creation_date":1677724708,"post_id":75600815,"comment_id":133396287,"body_markdown":"Why are you caching the DataFrame? Do you need that `count` action or it was just a test?","body":"Why are you caching the DataFrame? Do you need that <code>count</code> action or it was just a test?"}],"answers":[{"comments":[{"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"score":0,"creation_date":1677696329,"post_id":75604372,"comment_id":133390789,"body_markdown":"Hi, thank you for the response, I have checkpointed the dataframe before executing the above code snippet.","body":"Hi, thank you for the response, I have checkpointed the dataframe before executing the above code snippet."},{"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"score":0,"creation_date":1679901863,"post_id":75604372,"comment_id":133797285,"body_markdown":"Thank you for the late reply, checkpointing solved my issue, thank you so much.","body":"Thank you for the late reply, checkpointing solved my issue, thank you so much."}],"tags":[],"owner":{"account_id":8429880,"reputation":4538,"user_id":6325994,"accept_rate":56,"display_name":"Abdennacer Lachiheb"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677677338,"creation_date":1677677338,"answer_id":75604372,"question_id":75600815,"body_markdown":"It seems this problem will occur when your DAG is growing fast and  there&#39;s too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end because the dag is too long, try checkpointing:\r\n\r\n    spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\r\n    engineered_df.checkpoint()\r\n\r\n","title":"[PySpark][java.lang.StackOverflowError on df.write.csv]","body":"<p>It seems this problem will occur when your DAG is growing fast and  there's too many level of transformations happening in your code. The JVM will not be able to hold the operations to perform lazy execution when an action is performed in the end because the dag is too long, try checkpointing:</p>\n<pre><code>spark.sparkContext.setCheckpointDir(&quot;./checkpoint&quot;)\nengineered_df.checkpoint()\n</code></pre>\n"}],"owner":{"account_id":23276774,"reputation":23,"user_id":17360793,"display_name":"Obaid Ur Rehman"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":431,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75604372,"answer_count":1,"score":1,"last_activity_date":1677677338,"creation_date":1677656819,"question_id":75600815,"body_markdown":"I&#39;m using PySpark version 3.1.1 on a Kubernetes cluster\r\nI&#39;m trying to write a spark dataframe to HDFS in csv format. Dataframe has about 2.4 million rows and 130 columns and has 5 partitions. If I reduce the data the code works fine.\r\nFollowing is the code snippet:\r\n\r\n```\r\nengineered_df.cache()\r\nengineered_df.count()\r\nengineered_df = engineered_df.repartition(5)\r\nengineered_df.write.csv(CommonConstants.HDFS_ENGINEERED_DATA_PATH, mode=&quot;overwrite&quot;)\r\n```\r\n\r\nAnd this is the stacktrace:\r\n\r\n\r\n```\r\npy4j.protocol.Py4JJavaError: An error occurred while calling o3543180.csv.\r\n: org.apache.spark.SparkException: Job aborted.\r\n\tat org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\r\n\tat org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\r\n\tat org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\r\n\tat org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\r\n\tat org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\r\n\tat org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\r\n\tat org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\r\n\tat org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\r\n\tat org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\r\n\tat org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:772)\r\n\tat org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\r\n\tat org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\r\n\tat org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\r\n\tat org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\r\n\tat org.apache.spark.sql.DataFrameWriter.csv(DataFrameWriter.scala:979)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\r\n\tat py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\r\n\tat py4j.Gateway.invoke(Gateway.java:282)\r\n\tat py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\r\n\tat py4j.commands.CallCommand.execute(CallCommand.java:79)\r\n\tat py4j.GatewayConnection.run(GatewayConnection.java:238)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task serialization failed: java.lang.StackOverflowError\r\njava.lang.StackOverflowError\r\n\tat java.io.ObjectOutputStream$ReplaceTable.lookup(ObjectOutputStream.java:2399)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1113)\r\n\tat java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\r\n\tat java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\r\n\tat java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\r\n\tat java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\r\n\tat java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\r\n\tat scala.collection.immutable.List$SerializationProxy.writeObject(List.scala:477)\r\n\tat sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n.\r\n```\r\n\r\n\r\n\r\nI have tried increasing the number of partitions.","title":"[PySpark][java.lang.StackOverflowError on df.write.csv]","body":"<p>I'm using PySpark version 3.1.1 on a Kubernetes cluster\nI'm trying to write a spark dataframe to HDFS in csv format. Dataframe has about 2.4 million rows and 130 columns and has 5 partitions. If I reduce the data the code works fine.\nFollowing is the code snippet:</p>\n<pre><code>engineered_df.cache()\nengineered_df.count()\nengineered_df = engineered_df.repartition(5)\nengineered_df.write.csv(CommonConstants.HDFS_ENGINEERED_DATA_PATH, mode=&quot;overwrite&quot;)\n</code></pre>\n<p>And this is the stacktrace:</p>\n<pre><code>py4j.protocol.Py4JJavaError: An error occurred while calling o3543180.csv.\n: org.apache.spark.SparkException: Job aborted.\n    at org.apache.spark.sql.execution.datasources.FileFormatWriter$.write(FileFormatWriter.scala:231)\n    at org.apache.spark.sql.execution.datasources.InsertIntoHadoopFsRelationCommand.run(InsertIntoHadoopFsRelationCommand.scala:188)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult$lzycompute(commands.scala:108)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.sideEffectResult(commands.scala:106)\n    at org.apache.spark.sql.execution.command.DataWritingCommandExec.doExecute(commands.scala:131)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$execute$1(SparkPlan.scala:180)\n    at org.apache.spark.sql.execution.SparkPlan.$anonfun$executeQuery$1(SparkPlan.scala:218)\n    at org.apache.spark.rdd.RDDOperationScope$.withScope(RDDOperationScope.scala:151)\n    at org.apache.spark.sql.execution.SparkPlan.executeQuery(SparkPlan.scala:215)\n    at org.apache.spark.sql.execution.SparkPlan.execute(SparkPlan.scala:176)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd$lzycompute(QueryExecution.scala:132)\n    at org.apache.spark.sql.execution.QueryExecution.toRdd(QueryExecution.scala:131)\n    at org.apache.spark.sql.DataFrameWriter.$anonfun$runCommand$1(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$5(SQLExecution.scala:103)\n    at org.apache.spark.sql.execution.SQLExecution$.withSQLConfPropagated(SQLExecution.scala:163)\n    at org.apache.spark.sql.execution.SQLExecution$.$anonfun$withNewExecutionId$1(SQLExecution.scala:90)\n    at org.apache.spark.sql.SparkSession.withActive(SparkSession.scala:772)\n    at org.apache.spark.sql.execution.SQLExecution$.withNewExecutionId(SQLExecution.scala:64)\n    at org.apache.spark.sql.DataFrameWriter.runCommand(DataFrameWriter.scala:989)\n    at org.apache.spark.sql.DataFrameWriter.saveToV1Source(DataFrameWriter.scala:438)\n    at org.apache.spark.sql.DataFrameWriter.saveInternal(DataFrameWriter.scala:415)\n    at org.apache.spark.sql.DataFrameWriter.save(DataFrameWriter.scala:293)\n    at org.apache.spark.sql.DataFrameWriter.csv(DataFrameWriter.scala:979)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at py4j.reflection.MethodInvoker.invoke(MethodInvoker.java:244)\n    at py4j.reflection.ReflectionEngine.invoke(ReflectionEngine.java:357)\n    at py4j.Gateway.invoke(Gateway.java:282)\n    at py4j.commands.AbstractCommand.invokeMethod(AbstractCommand.java:132)\n    at py4j.commands.CallCommand.execute(CallCommand.java:79)\n    at py4j.GatewayConnection.run(GatewayConnection.java:238)\n    at java.lang.Thread.run(Thread.java:750)\nCaused by: org.apache.spark.SparkException: Job aborted due to stage failure: Task serialization failed: java.lang.StackOverflowError\njava.lang.StackOverflowError\n    at java.io.ObjectOutputStream$ReplaceTable.lookup(ObjectOutputStream.java:2399)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1113)\n    at java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1548)\n    at java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1509)\n    at java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1432)\n    at java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1178)\n    at java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:348)\n    at scala.collection.immutable.List$SerializationProxy.writeObject(List.scala:477)\n    at sun.reflect.GeneratedMethodAccessor201.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n.\n.\n.\n.\n.\n.\n.\n.\n</code></pre>\n<p>I have tried increasing the number of partitions.</p>\n"},{"tags":["java","maven","apache-flink"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1677659834,"post_id":75601233,"comment_id":133379607,"body_markdown":"*&quot;why does Flink require a higher JDK than its pom specification?&quot;* - isn&#39;t it because it specifically uses stuff that only java 11 had? afaik, even if you tell the pom to use java 1.8, any library or maven plugin that require higher java may not work. you should seek [older flink (pre 1.15) for java 8](https://stackoverflow.com/questions/71951793/what-is-the-java-version-that-the-flink-can-support-in-2022). java 8 and older are generally deprecated nowadays.","body":"<i>&quot;why does Flink require a higher JDK than its pom specification?&quot;</i> - isn&#39;t it because it specifically uses stuff that only java 11 had? afaik, even if you tell the pom to use java 1.8, any library or maven plugin that require higher java may not work. you should seek <a href=\"https://stackoverflow.com/questions/71951793/what-is-the-java-version-that-the-flink-can-support-in-2022\">older flink (pre 1.15) for java 8</a>. java 8 and older are generally deprecated nowadays."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677659849,"post_id":75601233,"comment_id":133379609,"body_markdown":"Difference between runtime and buildtime... the build requires higher JDK","body":"Difference between runtime and buildtime... the build requires higher JDK"},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677660336,"post_id":75601233,"comment_id":133379732,"body_markdown":"@khmarbaise can you detail it? If the target/source here is 1.8, the source code is based on 1.8 language level. In which cases, a higher JDK is necessary for building?","body":"@khmarbaise can you detail it? If the target/source here is 1.8, the source code is based on 1.8 language level. In which cases, a higher JDK is necessary for building?"},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1677661066,"post_id":75601233,"comment_id":133379905,"body_markdown":"@BagusTesa Java 8 is not deprecated. It&#39;s LTS for another 7 years.","body":"@BagusTesa Java 8 is not deprecated. It&#39;s LTS for another 7 years."},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1677665442,"post_id":75601233,"comment_id":133381092,"body_markdown":"@Michael the java, sure. the library that using it? not much, most (at least that i knew of) are in favor moving to the newer java.","body":"@Michael the java, sure. the library that using it? not much, most (at least that i knew of) are in favor moving to the newer java."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":1,"creation_date":1677665658,"post_id":75601233,"comment_id":133381155,"body_markdown":"@BagusTesa That&#39;s not the meaning of the word &#39;deprecated&#39;. Deprecation is a specific thing.","body":"@BagusTesa That&#39;s not the meaning of the word &#39;deprecated&#39;. Deprecation is a specific thing."},{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677672688,"post_id":75601233,"comment_id":133383063,"body_markdown":"`or maven plugin that require higher java may not work` which Maven plugin? Do you have errors during the build? Please post the log output if something is going wrong...That also the case if you have issues during the build which might be caused by other dependencies which might not being compiled for JDK8...","body":"<code>or maven plugin that require higher java may not work</code> which Maven plugin? Do you have errors during the build? Please post the log output if something is going wrong...That also the case if you have issues during the build which might be caused by other dependencies which might not being compiled for JDK8..."}],"answers":[{"comments":[{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677677396,"post_id":75604355,"comment_id":133384632,"body_markdown":"Thanks. So, the real reason is that, the developers want to discard Java 8, while the Java 8 is still supported.  In fact, the movement to discard Java 8 is still on the way, because the master branch (1.18-SNAPSHOT) still uses it.","body":"Thanks. So, the real reason is that, the developers want to discard Java 8, while the Java 8 is still supported.  In fact, the movement to discard Java 8 is still on the way, because the master branch (1.18-SNAPSHOT) still uses it."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677677562,"post_id":75604355,"comment_id":133384683,"body_markdown":"Knowing only what I read in the tickets, I think you&#39;re right: The plan is to move to Java 11 and it already works. They want to discourage new devs who get into the project to use Java 8 and thus &quot;hide&quot; that it still works with (and is in fact released/built using) Java 8. (Note that the page you linked is about *developing flink itself*, but [the page relevant to *using* flink](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/gradle/) also mentions Java 11. I&#39;d classify running recent versions on Java 8 as &quot;working, but not officially supported&quot;.","body":"Knowing only what I read in the tickets, I think you&#39;re right: The plan is to move to Java 11 and it already works. They want to discourage new devs who get into the project to use Java 8 and thus &quot;hide&quot; that it still works with (and is in fact released/built using) Java 8. (Note that the page you linked is about <i>developing flink itself</i>, but <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/dev/configuration/gradle/\" rel=\"nofollow noreferrer\">the page relevant to <i>using</i> flink</a> also mentions Java 11. I&#39;d classify running recent versions on Java 8 as &quot;working, but not officially supported&quot;."},{"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"score":0,"creation_date":1677678111,"post_id":75604355,"comment_id":133384860,"body_markdown":"I got your point. But if the pom still specifies target/source to 8, then new devs can never leverage the new language features in Java 11. I&#39;d say their movement now can be only found in doc, rather than in code.","body":"I got your point. But if the pom still specifies target/source to 8, then new devs can never leverage the new language features in Java 11. I&#39;d say their movement now can be only found in doc, rather than in code."},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677678219,"post_id":75604355,"comment_id":133384908,"body_markdown":"That is correct. They will need to wait for https://issues.apache.org/jira/browse/FLINK-30501 to be implemented (or alternatively work on a branch where they do that manually with all the drawbacks that this involves).","body":"That is correct. They will need to wait for <a href=\"https://issues.apache.org/jira/browse/FLINK-30501\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/FLINK-30501</a> to be implemented (or alternatively work on a branch where they do that manually with all the drawbacks that this involves)."},{"owner":{"account_id":1984244,"reputation":76,"user_id":1780007,"display_name":"lindong28"},"score":0,"creation_date":1678071586,"post_id":75604355,"comment_id":133456342,"body_markdown":"Given that the latest Flink 1.17 still supports Java 8, and there should be explicit notice of Java 8 deprecation before Flink eventually make this backward incomptiable change, we should mark Java 8 as deprecated instead of making the incorrect statement that &quot;Fink requires at least Java 11 to build&quot;. The doc has been updated to &quot;Flink requires Java 8 (deprecated) or Java 11 to build&quot; to address this issue. More context is provided in FLINK-30501 description.","body":"Given that the latest Flink 1.17 still supports Java 8, and there should be explicit notice of Java 8 deprecation before Flink eventually make this backward incomptiable change, we should mark Java 8 as deprecated instead of making the incorrect statement that &quot;Fink requires at least Java 11 to build&quot;. The doc has been updated to &quot;Flink requires Java 8 (deprecated) or Java 11 to build&quot; to address this issue. More context is provided in FLINK-30501 description."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677677240,"creation_date":1677677240,"answer_id":75604355,"question_id":75601233,"body_markdown":"The documentation was intentionally changed before the actual code requirement to make sure that new devs start with Java 11, as that change will &quot;soon&quot; be required.\r\n\r\nSource: [this comment on the Flink ticket to change the default in pom.xml to Java 11][1], found by navigating the tickets linked to from [the commit that changed the text in the docs][2]:\r\n\r\n&gt;  That Flink does build with Java 8 was hidden from the docs since the deprecation of Java 8 support, so that new developers start developing with Java 11 from the get go.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/FLINK-30501?focusedCommentId=17676061&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17676061\r\n  [2]: https://github.com/apache/flink/commit/e9f0aaae3bb8fde5b31828167d67f367d0cf2a6e","title":"Why does Flink require JDK 11 to compile the source code while its source/target is 1.8?","body":"<p>The documentation was intentionally changed before the actual code requirement to make sure that new devs start with Java 11, as that change will &quot;soon&quot; be required.</p>\n<p>Source: <a href=\"https://issues.apache.org/jira/browse/FLINK-30501?focusedCommentId=17676061&amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-17676061\" rel=\"nofollow noreferrer\">this comment on the Flink ticket to change the default in pom.xml to Java 11</a>, found by navigating the tickets linked to from <a href=\"https://github.com/apache/flink/commit/e9f0aaae3bb8fde5b31828167d67f367d0cf2a6e\" rel=\"nofollow noreferrer\">the commit that changed the text in the docs</a>:</p>\n<blockquote>\n<p>That Flink does build with Java 8 was hidden from the docs since the deprecation of Java 8 support, so that new developers start developing with Java 11 from the get go.</p>\n</blockquote>\n"}],"owner":{"account_id":4614611,"reputation":6295,"user_id":3741571,"accept_rate":2,"display_name":"chenzhongpu"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":550,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75604355,"answer_count":1,"score":0,"last_activity_date":1677677240,"creation_date":1677659599,"question_id":75601233,"body_markdown":"I noticed that [Flink Doc](https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/flinkdev/building/) says:\r\n\r\n&gt; Flink requires at least Java 11 to build.\r\n\r\nOn the other hand, the [pom.xml](https://github.com/apache/flink/blob/master/pom.xml) specifies the source/target is 1.8:\r\n\r\n```xml\r\n&lt;target.java.version&gt;1.8&lt;/target.java.version&gt;\r\n...\r\n\t&lt;source&gt;${target.java.version}&lt;/source&gt;\r\n\t&lt;target&gt;${target.java.version}&lt;/target&gt;\r\n...\r\n```\r\n\r\nMy question is: why does Flink require a higher JDK than its `pom` specification?\r\n\r\n---\r\n\r\n# Update\r\n\r\nI tried to build Flink from source in my computer with Java 8, and it succeeded! The statement &quot;*Flink requires at least Java 11 to build.*&quot; does not really make sense, except for the reason that higher JDK may bring better performance when building (but I didn&#39;t verify this yet).\r\n\r\nThe `java -version` is OpenJDK 64-Bit Server VM Corretto-8.342.07.1 (build 25.342-b07, mixed mode).","title":"Why does Flink require JDK 11 to compile the source code while its source/target is 1.8?","body":"<p>I noticed that <a href=\"https://nightlies.apache.org/flink/flink-docs-release-1.16/docs/flinkdev/building/\" rel=\"nofollow noreferrer\">Flink Doc</a> says:</p>\n<blockquote>\n<p>Flink requires at least Java 11 to build.</p>\n</blockquote>\n<p>On the other hand, the <a href=\"https://github.com/apache/flink/blob/master/pom.xml\" rel=\"nofollow noreferrer\">pom.xml</a> specifies the source/target is 1.8:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;target.java.version&gt;1.8&lt;/target.java.version&gt;\n...\n    &lt;source&gt;${target.java.version}&lt;/source&gt;\n    &lt;target&gt;${target.java.version}&lt;/target&gt;\n...\n</code></pre>\n<p>My question is: why does Flink require a higher JDK than its <code>pom</code> specification?</p>\n<hr />\n<h1>Update</h1>\n<p>I tried to build Flink from source in my computer with Java 8, and it succeeded! The statement &quot;<em>Flink requires at least Java 11 to build.</em>&quot; does not really make sense, except for the reason that higher JDK may bring better performance when building (but I didn't verify this yet).</p>\n<p>The <code>java -version</code> is OpenJDK 64-Bit Server VM Corretto-8.342.07.1 (build 25.342-b07, mixed mode).</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":7312901,"reputation":802,"user_id":5571494,"display_name":"ruud"},"score":0,"creation_date":1677676012,"post_id":75603851,"comment_id":133384172,"body_markdown":"if you are able to explain more precisely what the input strings are like and what you would like to match, we can help better. And maybe you see why your own regexp is failing. Do input  strings always start with digits? What if it is like &#39;AB83/2,&quot;?","body":"if you are able to explain more precisely what the input strings are like and what you would like to match, we can help better. And maybe you see why your own regexp is failing. Do input  strings always start with digits? What if it is like &#39;AB83/2,&quot;?"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1677676052,"post_id":75603851,"comment_id":133384184,"body_markdown":"`^[0-9]+([^0-9][^,]*),` Refer to https://regex101.com/r/tVfn8h/1","body":"<code>^[0-9]+([^0-9][^,]*),</code> Refer to <a href=\"https://regex101.com/r/tVfn8h/1\" rel=\"nofollow noreferrer\">regex101.com/r/tVfn8h/1</a>"}],"answers":[{"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677677061,"creation_date":1677677061,"answer_id":75604319,"question_id":75603851,"body_markdown":"Your RegEx is correct but you need little change in regEx.\r\n\r\nIn your RegEx, replace + with *.\r\n\r\nBelow Java Standalone code:\r\n\r\n    public class ExpMatch {\r\n    \tpublic static void main(String[] args) {\r\n            String[] examples = {&quot;55B/2,&quot;, &quot;171-1,&quot;, &quot;6\\&quot;C\\&quot;,&quot;, &quot;26D,&quot;, &quot;8/1,&quot;, &quot;83,&quot;};\r\n            Pattern pattern = Pattern.compile(&quot;([A-Za-z/\\&quot;-])([0-9-/\\&quot;A-Za-z]*?)(?=,)&quot;);\r\n    \r\n            for (String example : examples) {\r\n                Matcher matcher = pattern.matcher(example);\r\n                StringBuilder sb = new StringBuilder();\r\n    \r\n                while (matcher.find()) {\r\n                    sb.append(matcher.group());\r\n                }\r\n                String result = sb.toString().isEmpty() ? &quot;null/empty&quot; : sb.toString();\r\n                System.out.println(example + &quot; --&gt; &quot; + result);\r\n            }\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n    55B/2, --&gt; B/2\r\n    171-1, --&gt; -1\r\n    6&quot;C&quot;, --&gt; &quot;C&quot;\r\n    26D, --&gt; D\r\n    8/1, --&gt; /1\r\n    83, --&gt; null/empty","title":"Regular expression find between numbers and comma","body":"<p>Your RegEx is correct but you need little change in regEx.</p>\n<p>In your RegEx, replace + with *.</p>\n<p>Below Java Standalone code:</p>\n<pre><code>public class ExpMatch {\n    public static void main(String[] args) {\n        String[] examples = {&quot;55B/2,&quot;, &quot;171-1,&quot;, &quot;6\\&quot;C\\&quot;,&quot;, &quot;26D,&quot;, &quot;8/1,&quot;, &quot;83,&quot;};\n        Pattern pattern = Pattern.compile(&quot;([A-Za-z/\\&quot;-])([0-9-/\\&quot;A-Za-z]*?)(?=,)&quot;);\n\n        for (String example : examples) {\n            Matcher matcher = pattern.matcher(example);\n            StringBuilder sb = new StringBuilder();\n\n            while (matcher.find()) {\n                sb.append(matcher.group());\n            }\n            String result = sb.toString().isEmpty() ? &quot;null/empty&quot; : sb.toString();\n            System.out.println(example + &quot; --&gt; &quot; + result);\n        }\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>55B/2, --&gt; B/2\n171-1, --&gt; -1\n6&quot;C&quot;, --&gt; &quot;C&quot;\n26D, --&gt; D\n8/1, --&gt; /1\n83, --&gt; null/empty\n</code></pre>\n"}],"owner":{"account_id":20215268,"reputation":21,"user_id":15881209,"display_name":"Ivan Klemenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"accepted_answer_id":75604319,"answer_count":1,"score":-2,"last_activity_date":1677677061,"creation_date":1677674310,"question_id":75603851,"body_markdown":"I have an example set of strings\r\nthere is a need to separate them and get\r\n\r\n```\r\n 55B/2, --&gt; B/2\r\n 171-1, --&gt; -1\r\n 6&quot;C&quot;,  --&gt; &quot;C&quot; \r\n 26D,   --&gt; D\r\n 8/1,   --&gt; /1\r\n 83,    --&gt; null/empty\r\n```\r\n\r\nI tried with this pattern, but the result is not quite the same\r\n(\\[A-Za-z/&quot;-\\])(\\[0-9-/&quot;A-Za-z\\]+?)(?=,)","title":"Regular expression find between numbers and comma","body":"<p>I have an example set of strings\nthere is a need to separate them and get</p>\n<pre><code> 55B/2, --&gt; B/2\n 171-1, --&gt; -1\n 6&quot;C&quot;,  --&gt; &quot;C&quot; \n 26D,   --&gt; D\n 8/1,   --&gt; /1\n 83,    --&gt; null/empty\n</code></pre>\n<p>I tried with this pattern, but the result is not quite the same\n([A-Za-z/&quot;-])([0-9-/&quot;A-Za-z]+?)(?=,)</p>\n"},{"tags":["java","spring-boot","autowired","resttemplate"],"answers":[{"tags":[],"owner":{"account_id":12304805,"reputation":61,"user_id":8978196,"display_name":"Devendra Bahirat"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677676725,"creation_date":1529934206,"answer_id":51024966,"question_id":50972115,"body_markdown":"I think you are missing the `@ComponentScan(value = &quot;your.package&quot;)` in your `Main` application class","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>I think you are missing the <code>@ComponentScan(value = &quot;your.package&quot;)</code> in your <code>Main</code> application class</p>\n"},{"tags":[],"owner":{"account_id":13334063,"reputation":4845,"user_id":9624452,"display_name":"Konrad Botor"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529934682,"creation_date":1529934682,"answer_id":51025129,"question_id":50972115,"body_markdown":"You do not have context specified.\r\n\r\nTry adding this annotation to uour test class:\r\n\r\n    @ContextConfiguration(classes=RestTemplateConfiguration.class, loader=AnnotationConfigContextLoader.class)\r\n\r\nSee this article for details: [spring-3-1-m2-testing-with-configuration-classes-and-profiles][1] - it&#39;s for Spring 3, but newer versions of Spring work similarly.\r\n\r\nHere&#39;s a newer tutorial: [junit-spring-integration-example][2]\r\n\r\n\r\n  [1]: https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\r\n  [2]: https://www.mkyong.com/unittest/junit-spring-integration-example/","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>You do not have context specified.</p>\n\n<p>Try adding this annotation to uour test class:</p>\n\n<pre><code>@ContextConfiguration(classes=RestTemplateConfiguration.class, loader=AnnotationConfigContextLoader.class)\n</code></pre>\n\n<p>See this article for details: <a href=\"https://spring.io/blog/2011/06/21/spring-3-1-m2-testing-with-configuration-classes-and-profiles\" rel=\"nofollow noreferrer\">spring-3-1-m2-testing-with-configuration-classes-and-profiles</a> - it's for Spring 3, but newer versions of Spring work similarly.</p>\n\n<p>Here's a newer tutorial: <a href=\"https://www.mkyong.com/unittest/junit-spring-integration-example/\" rel=\"nofollow noreferrer\">junit-spring-integration-example</a></p>\n"}],"owner":{"account_id":13039691,"reputation":69,"user_id":9423470,"display_name":"Yusuf Duyar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":51024966,"answer_count":2,"score":0,"last_activity_date":1677676725,"creation_date":1529594421,"question_id":50972115,"body_markdown":"I&#39;m using an remote api in my web application. Some endpoints require an authentication header in the API I&#39;m using. Because of this need I have created two different RestTemplateBuilder bean in my configuration class.\r\n\r\n    @Configuration\r\n    public class RestTemplateConfiguration {\r\n    \r\n        @Bean\r\n        @DependsOn(value = {&quot;secureRestTemplateCustomizer&quot;})\r\n        @Qualifier(&quot;secureRestTemplateBuilder&quot;)\r\n        public RestTemplateBuilder secureRestTemplateBuilder() {\r\n            return new RestTemplateBuilder(secureRestTemplateCustomizer());\r\n        }\r\n    \r\n        @Bean\r\n        @DependsOn(value = {&quot;publicRestTemplateCustomizer&quot;})\r\n        @Qualifier(&quot;publicRestTemplateBuilder&quot;)\r\n        public RestTemplateBuilder publicRestTemplateBuilder() {\r\n            return new RestTemplateBuilder(publicRestTemplateCustomizer());\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;secureRestTemplateCustomizer&quot;)\r\n        public SecureRestTemplateCustomizer secureRestTemplateCustomizer() {\r\n            return new SecureRestTemplateCustomizer();\r\n        }\r\n    \r\n        @Bean\r\n        @Qualifier(&quot;publicRestTemplateCustomizer&quot;)\r\n        public PublicRestTemplateCustomizer publicRestTemplateCustomizer() {\r\n            return new PublicRestTemplateCustomizer();\r\n        }\r\n    }\r\n\r\nAnd these are my custom `RestTemplateCustomizers`\r\n\r\n\r\n    @Component\r\n    public class SecureRestTemplateCustomizer implements RestTemplateCustomizer {\r\n        @Override\r\n        public void customize(RestTemplate restTemplate) {\r\n            restTemplate.setErrorHandler(new ErrorHandler());\r\n            restTemplate.getInterceptors().add(new AuthorizationHeaderInterceptor());\r\n        }\r\n    }\r\n\r\n`PublicRestTemplateCustomizer`\r\n\r\n    @Component\r\n    public class PublicRestTemplateCustomizer implements RestTemplateCustomizer {\r\n      @Override\r\n      public void customize(RestTemplate restTemplate) {\r\n        restTemplate.setErrorHandler(new ErrorHandler());\r\n      }\r\n    }\r\n\r\nThere is no problem when I want to use these `RestTemplateBuilder`s in my api clients like below. Spring can autowire them into my api client constructor.\r\n\r\n      private RestTemplate restTemplate;\r\n      @Autowired\r\n      public LoginApiClient(@Qualifier(&quot;publicRestTemplateBuilder&quot;) RestTemplateBuilder restTemplateBuilder) {\r\n        this.restTemplate = restTemplateBuilder.build();\r\n      }\r\n\r\nBut in my unit tests this usage is firing an error like \r\n\r\n*Error creating bean with name &#39;loginApiClient&#39; defined in file [..\\LoginApiClient.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;org.springframework.boot.web.client.RestTemplateBuilder&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=publicRestTemplateBuilder)}*\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @RestClientTest({LoginApiClient.class})\r\n    @Category(IUnitTest.class)\r\n    public class LoginApiClientTest {\r\n    \r\n      @Autowired ILoginApiClient loginApiClient;\r\n    \r\n      @Autowired private MockRestServiceServer server;\r\n\r\n      @Test\r\n      public void validateToken_returns_true_for_valid_token() throws Exception{\r\n        String token = &quot;token&quot;;\r\n    \r\n        this.server.expect(requestTo(this.validateTokenUrl))\r\n                   .andExpect(method(HttpMethod.POST))\r\n                   .andRespond(withSuccess(objectMapper.writeValueAsString(validTokenResponse(token)), MediaType\r\n                           .APPLICATION_JSON));\r\n    \r\n        Boolean isValid = loginApiClient.validateToken(token);\r\n    \r\n        server.verify();\r\n        assertThat(isValid,is(equalTo(true)));\r\n      }\r\n    \r\n    }\r\n\r\nHow can I mock these RestTemplates truly and use in my unit test.","title":"Cannot Autowire Qualifier tagged RestTemplate from unit test","body":"<p>I'm using an remote api in my web application. Some endpoints require an authentication header in the API I'm using. Because of this need I have created two different RestTemplateBuilder bean in my configuration class.</p>\n\n<pre><code>@Configuration\npublic class RestTemplateConfiguration {\n\n    @Bean\n    @DependsOn(value = {\"secureRestTemplateCustomizer\"})\n    @Qualifier(\"secureRestTemplateBuilder\")\n    public RestTemplateBuilder secureRestTemplateBuilder() {\n        return new RestTemplateBuilder(secureRestTemplateCustomizer());\n    }\n\n    @Bean\n    @DependsOn(value = {\"publicRestTemplateCustomizer\"})\n    @Qualifier(\"publicRestTemplateBuilder\")\n    public RestTemplateBuilder publicRestTemplateBuilder() {\n        return new RestTemplateBuilder(publicRestTemplateCustomizer());\n    }\n\n    @Bean\n    @Qualifier(\"secureRestTemplateCustomizer\")\n    public SecureRestTemplateCustomizer secureRestTemplateCustomizer() {\n        return new SecureRestTemplateCustomizer();\n    }\n\n    @Bean\n    @Qualifier(\"publicRestTemplateCustomizer\")\n    public PublicRestTemplateCustomizer publicRestTemplateCustomizer() {\n        return new PublicRestTemplateCustomizer();\n    }\n}\n</code></pre>\n\n<p>And these are my custom <code>RestTemplateCustomizers</code></p>\n\n<pre><code>@Component\npublic class SecureRestTemplateCustomizer implements RestTemplateCustomizer {\n    @Override\n    public void customize(RestTemplate restTemplate) {\n        restTemplate.setErrorHandler(new ErrorHandler());\n        restTemplate.getInterceptors().add(new AuthorizationHeaderInterceptor());\n    }\n}\n</code></pre>\n\n<p><code>PublicRestTemplateCustomizer</code></p>\n\n<pre><code>@Component\npublic class PublicRestTemplateCustomizer implements RestTemplateCustomizer {\n  @Override\n  public void customize(RestTemplate restTemplate) {\n    restTemplate.setErrorHandler(new ErrorHandler());\n  }\n}\n</code></pre>\n\n<p>There is no problem when I want to use these <code>RestTemplateBuilder</code>s in my api clients like below. Spring can autowire them into my api client constructor.</p>\n\n<pre><code>  private RestTemplate restTemplate;\n  @Autowired\n  public LoginApiClient(@Qualifier(\"publicRestTemplateBuilder\") RestTemplateBuilder restTemplateBuilder) {\n    this.restTemplate = restTemplateBuilder.build();\n  }\n</code></pre>\n\n<p>But in my unit tests this usage is firing an error like </p>\n\n<p><em>Error creating bean with name 'loginApiClient' defined in file [..\\LoginApiClient.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.boot.web.client.RestTemplateBuilder' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Qualifier(value=publicRestTemplateBuilder)}</em></p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@RestClientTest({LoginApiClient.class})\n@Category(IUnitTest.class)\npublic class LoginApiClientTest {\n\n  @Autowired ILoginApiClient loginApiClient;\n\n  @Autowired private MockRestServiceServer server;\n\n  @Test\n  public void validateToken_returns_true_for_valid_token() throws Exception{\n    String token = \"token\";\n\n    this.server.expect(requestTo(this.validateTokenUrl))\n               .andExpect(method(HttpMethod.POST))\n               .andRespond(withSuccess(objectMapper.writeValueAsString(validTokenResponse(token)), MediaType\n                       .APPLICATION_JSON));\n\n    Boolean isValid = loginApiClient.validateToken(token);\n\n    server.verify();\n    assertThat(isValid,is(equalTo(true)));\n  }\n\n}\n</code></pre>\n\n<p>How can I mock these RestTemplates truly and use in my unit test.</p>\n"},{"tags":["java","active-directory","ldap","spring-ldap"],"comments":[{"owner":{"account_id":1239958,"reputation":39024,"user_id":1202807,"display_name":"Gabriel Luci"},"score":1,"creation_date":1677677499,"post_id":75604251,"comment_id":133384671,"body_markdown":"It is the `accountExpires` attribute, and the documentation explaining what the value means is here: https://learn.microsoft.com/en-us/windows/win32/adschema/a-accountexpires The answers on this question have some code that can help you decode it in Java: https://stackoverflow.com/q/40014923/1202807","body":"It is the <code>accountExpires</code> attribute, and the documentation explaining what the value means is here: <a href=\"https://learn.microsoft.com/en-us/windows/win32/adschema/a-accountexpires\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/windows/win32/adschema/&hellip;</a> The answers on this question have some code that can help you decode it in Java: <a href=\"https://stackoverflow.com/q/40014923/1202807\">stackoverflow.com/q/40014923/1202807</a>"}],"owner":{"account_id":484819,"reputation":5634,"user_id":900743,"accept_rate":64,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677676646,"creation_date":1677676646,"question_id":75604251,"body_markdown":"Which fields (and what types are they) are used to indication expiration of a user in LDAP?\r\n\r\nI&#39;ve read &#39;accountexpires&#39; is a long from 1601 and &#39;accountExpirationDate&#39; that is java.util.date in certain format. Is this correct? \r\n\r\nAre there any helper methods for example in spring-ldap to get these values correct?","title":"Account expiration in LDAP","body":"<p>Which fields (and what types are they) are used to indication expiration of a user in LDAP?</p>\n<p>I've read 'accountexpires' is a long from 1601 and 'accountExpirationDate' that is java.util.date in certain format. Is this correct?</p>\n<p>Are there any helper methods for example in spring-ldap to get these values correct?</p>\n"},{"tags":["java","spring-data-mongodb"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671170528,"post_id":74820663,"comment_id":132045678,"body_markdown":"Which version of SpringBoot are you are using.  Springboot 3.x requires Java 17 or later.  See https://www.marcobehler.com/guides/spring-and-spring-boot-versions","body":"Which version of SpringBoot are you are using.  Springboot 3.x requires Java 17 or later.  See <a href=\"https://www.marcobehler.com/guides/spring-and-spring-boot-versions\" rel=\"nofollow noreferrer\">marcobehler.com/guides/spring-and-spring-boot-versions</a>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671170849,"post_id":74820663,"comment_id":132045723,"body_markdown":"Also, according to https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/, Spring-data-mongodb 4.x requires Java 17.  So ... basically ... use OpenJDK 17 not OpenJDK 8.","body":"Also, according to <a href=\"https://docs.spring.io/spring-data/mongodb/docs/current/reference/html/\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/mongodb/docs/current/reference/ht&zwnj;&#8203;ml</a>, Spring-data-mongodb 4.x requires Java 17.  So ... basically ... use OpenJDK 17 not OpenJDK 8."},{"owner":{"account_id":16970991,"reputation":39,"user_id":12275621,"display_name":"avaneesh kumar Shukla"},"score":0,"creation_date":1671171139,"post_id":74820663,"comment_id":132045779,"body_markdown":"Thanks a lot for your help @Stephen C. I understood. However, I am using now &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.6.7&lt;/version&gt;. I would like to upgrade to it &#39;3.0.0&#39;.","body":"Thanks a lot for your help @Stephen C. I understood. However, I am using now &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;             &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;             &lt;version&gt;2.6.7&lt;/version&gt;. I would like to upgrade to it &#39;3.0.0&#39;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":2,"creation_date":1671173102,"post_id":74820663,"comment_id":132046072,"body_markdown":"Did you read my second comment?  If you want to upgrade to SpringBoot 3.x or Spring-Data-MongoDB 4.x, you have to build using OpenJDK 17.   If you can&#39;t upgrade your build platform, you can&#39;t upgrade to those Spring versions.","body":"Did you read my second comment?  If you want to upgrade to SpringBoot 3.x or Spring-Data-MongoDB 4.x, you have to build using OpenJDK 17.   If you can&#39;t upgrade your build platform, you can&#39;t upgrade to those Spring versions."}],"answers":[{"tags":[],"owner":{"account_id":27909280,"reputation":1,"user_id":21311829,"display_name":"bhakti khot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677676384,"creation_date":1677676384,"answer_id":75604205,"question_id":74820663,"body_markdown":"I was facing this same issue while implementing Oauth2 for security dependencies, down grading the version of the dependencies which were giving me errors helped me build my project successfully.","title":"Error &#39;class file has wrong version 61.0, should be 52.0&#39; while upgrading spring-data-mongodb from 3.3.4 to 4.0.0","body":"<p>I was facing this same issue while implementing Oauth2 for security dependencies, down grading the version of the dependencies which were giving me errors helped me build my project successfully.</p>\n"}],"owner":{"account_id":16970991,"reputation":39,"user_id":12275621,"display_name":"avaneesh kumar Shukla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":5553,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677676384,"creation_date":1671169836,"question_id":74820663,"body_markdown":"Error: \r\ncannot access org.springframework.data.mongodb.core.mapping.Document\r\n[ERROR]   bad class file: .m2\\repository\\org\\springframework\\data\\spring-data-mongodb\\4.0.0\\spring-data-mongodb-4.0.0.jar(org/springframework/data/mongodb/core/mapping/Document.class)\r\n[ERROR]     class file has wrong version 61.0, should be 52.0\r\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n[ERROR]\r\n\r\nNote: I am using OpenJDK 8 version to compile Spring boot project.","title":"Error &#39;class file has wrong version 61.0, should be 52.0&#39; while upgrading spring-data-mongodb from 3.3.4 to 4.0.0","body":"<p>Error:\ncannot access org.springframework.data.mongodb.core.mapping.Document\n[ERROR]   bad class file: .m2\\repository\\org\\springframework\\data\\spring-data-mongodb\\4.0.0\\spring-data-mongodb-4.0.0.jar(org/springframework/data/mongodb/core/mapping/Document.class)\n[ERROR]     class file has wrong version 61.0, should be 52.0\n[ERROR]     Please remove or make sure it appears in the correct subdirectory of the classpath.\n[ERROR]</p>\n<p>Note: I am using OpenJDK 8 version to compile Spring boot project.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677675221,"post_id":75603910,"comment_id":133383915,"body_markdown":"Which Spring Boot version? Which OS?","body":"Which Spring Boot version? Which OS?"},{"owner":{"account_id":7788702,"reputation":836,"user_id":5892518,"display_name":"Harsh"},"score":0,"creation_date":1677675506,"post_id":75603910,"comment_id":133383992,"body_markdown":"Also please mention how you are invoking request","body":"Also please mention how you are invoking request"},{"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"score":0,"creation_date":1677676410,"post_id":75603910,"comment_id":133384316,"body_markdown":"if I write `greet` method inside main class it works fine.","body":"if I write <code>greet</code> method inside main class it works fine."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1677683269,"post_id":75603910,"comment_id":133386665,"body_markdown":"FWIW I ran your code (main, controller &amp; pom) with jdk-17.0.2_8 and it worked as is.","body":"FWIW I ran your code (main, controller &amp; pom) with jdk-17.0.2_8 and it worked as is."},{"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"score":0,"creation_date":1677719082,"post_id":75603910,"comment_id":133395584,"body_markdown":"I downgraded version of spring to 2.4.3 It worked. Why this weird behavior happened","body":"I downgraded version of spring to 2.4.3 It worked. Why this weird behavior happened"}],"owner":{"account_id":20307918,"reputation":56,"user_id":14895702,"display_name":"jan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677676046,"creation_date":1677674631,"question_id":75603910,"body_markdown":"// this is my Controller.java\r\n```java\r\npackage com.example.demo;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n@RestController\r\n@RequestMapping(&quot;/api&quot;)\r\npublic class GreetController {\r\n        @GetMapping(&quot;/greet&quot;)\r\n        public String greet() {\r\n            return &quot;Hello World!&quot;;\r\n        }\r\n}\r\n\r\n```\r\n//this is application.java\r\n```java\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n@SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;})\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\nthey are in the same package and when i started server and go to `http://localhost:8080/api/greet` I get a 404 page.\r\n\r\n\r\n\r\nWhy and how to fix it?\r\n\r\n\r\nThere is my pom.xml \r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.3&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;demo&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\nI work on windows and use intellij http request `GET http://localhost:8080/api/greet`. return 404 code .I checked this [Similar question][1] but not work for me \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47262140/rest-controller-not-working-in-spring-boot","title":"Springboot RestController class not working","body":"<p>// this is my Controller.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n@RestController\n@RequestMapping(&quot;/api&quot;)\npublic class GreetController {\n        @GetMapping(&quot;/greet&quot;)\n        public String greet() {\n            return &quot;Hello World!&quot;;\n        }\n}\n\n</code></pre>\n<p>//this is application.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication(scanBasePackages = {&quot;com.example.demo&quot;})\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>they are in the same package and when i started server and go to <code>http://localhost:8080/api/greet</code> I get a 404 page.</p>\n<p>Why and how to fix it?</p>\n<p>There is my pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.3&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>I work on windows and use intellij http request <code>GET http://localhost:8080/api/greet</code>. return 404 code .I checked this <a href=\"https://stackoverflow.com/questions/47262140/rest-controller-not-working-in-spring-boot\">Similar question</a> but not work for me</p>\n"},{"tags":["java","atg","atg-dynamo","atg-droplet"],"comments":[{"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"score":0,"creation_date":1389687336,"post_id":21107985,"comment_id":31757623,"body_markdown":"What are you trying to achieve? [ATG Dust](http://atgdust.sourceforge.net/) is a framework for building JUnit tests. Are you calling this for testing purposes or are you wanting to call the Droplet from another piece of code for a different reason?","body":"What are you trying to achieve? <a href=\"http://atgdust.sourceforge.net/\" rel=\"nofollow noreferrer\">ATG Dust</a> is a framework for building JUnit tests. Are you calling this for testing purposes or are you wanting to call the Droplet from another piece of code for a different reason?"},{"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"score":0,"creation_date":1389688751,"post_id":21107985,"comment_id":31758208,"body_markdown":"It is for the purpose of testing. We are building a droplet of similar functionality, I&#39;m trying to figure out various ways of testing this new component without creating jsp pages.","body":"It is for the purpose of testing. We are building a droplet of similar functionality, I&#39;m trying to figure out various ways of testing this new component without creating jsp pages."},{"owner":{"account_id":1144634,"reputation":3197,"user_id":1127677,"accept_rate":79,"display_name":"radimpe"},"score":1,"creation_date":1389691181,"post_id":21107985,"comment_id":31759508,"body_markdown":"You can try using [Mockito](https://code.google.com/p/mockito/) instead of ATG Dust. There is an example of using this for a Droplet available [here](http://stackoverflow.com/questions/17523741/using-mockito-for-writing-atg-test-case)","body":"You can try using <a href=\"https://code.google.com/p/mockito/\" rel=\"nofollow noreferrer\">Mockito</a> instead of ATG Dust. There is an example of using this for a Droplet available <a href=\"http://stackoverflow.com/questions/17523741/using-mockito-for-writing-atg-test-case\">here</a>"},{"owner":{"account_id":2217539,"reputation":326,"user_id":1957797,"accept_rate":50,"display_name":"boyintello"},"score":0,"creation_date":1389876738,"post_id":21107985,"comment_id":31854953,"body_markdown":"I agree with radimpe, Mockito is better than Dust, it is faster, more thoroughly TDD-oriented follow-up to EasyMock. You don&#39;t need to be running ATG modules to perform your tests.","body":"I agree with radimpe, Mockito is better than Dust, it is faster, more thoroughly TDD-oriented follow-up to EasyMock. You don&#39;t need to be running ATG modules to perform your tests."}],"answers":[{"tags":[],"owner":{"account_id":3000396,"reputation":11,"user_id":2546001,"display_name":"Rahul R Nair"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677675333,"creation_date":1453375200,"answer_id":34922401,"question_id":21107985,"body_markdown":"`atg.service.collections.filter.droplet.CollectionFilter`\r\nis the class for the component `/atg/commerce/collections/filter/droplet/GiftlistSiteFilterDroplet`\r\n\r\nJust invoke the `getFilter()` method in  the class \r\n\r\nRefer:-\r\nhttps://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html\r\n\r\nhttps://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html \r\n\r\nThanks","title":"How to invoke GiftlistSiteFilterDroplet in Oracle ATG commerce?","body":"<p><code>atg.service.collections.filter.droplet.CollectionFilter</code>\nis the class for the component <code>/atg/commerce/collections/filter/droplet/GiftlistSiteFilterDroplet</code></p>\n<p>Just invoke the <code>getFilter()</code> method in  the class</p>\n<p>Refer:-\n<a href=\"https://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E23095_01/Platform.93/apidoc/atg/service/collections/filter/droplet/CollectionFilter.html</a></p>\n<p><a href=\"https://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E26180_01/Platform.94/ATGCommStoreGuide/html/s1712collectionfilter01.html</a></p>\n<p>Thanks</p>\n"}],"owner":{"account_id":130796,"reputation":4377,"user_id":330325,"accept_rate":55,"display_name":"Buddha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":877,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677675333,"creation_date":1389684326,"question_id":21107985,"body_markdown":"I know how to invoke an ATG droplet from a jsp page. Below code snippet calls the GiftListSiteFilterDroplet. \r\n\r\n     &lt;dsp:droplet name=&quot;GiftlistSiteFilterDroplet&quot;&gt;\r\n        &lt;dsp:param name=&quot;collection&quot;  bean=&quot;/atg/userprofiling/Profile.giftlists&quot;/&gt;\r\n         &lt;dsp:oparam name=&quot;output&quot;&gt;\r\n          &lt;dsp:getvalueof var=&quot;giftlists&quot; param=&quot;filteredCollection&quot; /&gt;\r\n\r\nAbove code will invoke the GiftlistSiteFilterDroplet. However, I&#39;m trying to findout how to invoke the same droplet from a java class. There is a DropletInvoker class from ATG DUST. Example code is as below for calling Switch component. \r\n\r\n    Nucleus mNucleus = NucleusTestUtils.startNucleusWithModules(\r\n    new String[] {&quot;DAS&quot;,&quot;DafEar&quot;}, this.getClass(),&quot;/atg/dynamo/droplet/Switch&quot;);\r\n    DropletInvoker invoker = new DropletInvoker(mNucleus);\r\n    DynamoHttpServletRequest request = invoker.getRequest();\r\n    DropletResult result = null;\r\n    request.setParameter(&quot;value&quot;, &quot;foo&quot;);\r\n    result = invoker.invokeDroplet(&quot;/atg/dynamo/droplet/Switch&quot;);\r\n\r\n\r\nHowever, GiftListSiteFilterDroplet has a bean parameter. I would like to know if we can pass this bean parameter using this DropletInvoker.\r\n\r\nI would also like to know if there is anyway we can call droplet without using ATG DUST component. Is there any generic way of calling any droplet and pass the input parameters to it?","title":"How to invoke GiftlistSiteFilterDroplet in Oracle ATG commerce?","body":"<p>I know how to invoke an ATG droplet from a jsp page. Below code snippet calls the GiftListSiteFilterDroplet. </p>\n\n<pre><code> &lt;dsp:droplet name=\"GiftlistSiteFilterDroplet\"&gt;\n    &lt;dsp:param name=\"collection\"  bean=\"/atg/userprofiling/Profile.giftlists\"/&gt;\n     &lt;dsp:oparam name=\"output\"&gt;\n      &lt;dsp:getvalueof var=\"giftlists\" param=\"filteredCollection\" /&gt;\n</code></pre>\n\n<p>Above code will invoke the GiftlistSiteFilterDroplet. However, I'm trying to findout how to invoke the same droplet from a java class. There is a DropletInvoker class from ATG DUST. Example code is as below for calling Switch component. </p>\n\n<pre><code>Nucleus mNucleus = NucleusTestUtils.startNucleusWithModules(\nnew String[] {\"DAS\",\"DafEar\"}, this.getClass(),\"/atg/dynamo/droplet/Switch\");\nDropletInvoker invoker = new DropletInvoker(mNucleus);\nDynamoHttpServletRequest request = invoker.getRequest();\nDropletResult result = null;\nrequest.setParameter(\"value\", \"foo\");\nresult = invoker.invokeDroplet(\"/atg/dynamo/droplet/Switch\");\n</code></pre>\n\n<p>However, GiftListSiteFilterDroplet has a bean parameter. I would like to know if we can pass this bean parameter using this DropletInvoker.</p>\n\n<p>I would also like to know if there is anyway we can call droplet without using ATG DUST component. Is there any generic way of calling any droplet and pass the input parameters to it?</p>\n"},{"tags":["java","quarkus"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1677655293,"post_id":75596831,"comment_id":133378573,"body_markdown":"Why do you need a `toString` method? If you reallly do, you can add a `default` method to the interface","body":"Why do you need a <code>toString</code> method? If you reallly do, you can add a <code>default</code> method to the interface"}],"answers":[{"tags":[],"owner":{"account_id":14122292,"reputation":501,"user_id":10202496,"display_name":"iabughosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677675223,"creation_date":1677675223,"answer_id":75603995,"question_id":75596831,"body_markdown":"Welcome aboard Inessa,\r\n\r\nLet&#39;s assume you have the following properties in your application.properties:\r\n\r\n    server.host=localhost\r\n    server.port=8080\r\n\r\nThen your class:\r\n\r\n    @ConfigMapping(prefix = &quot;server&quot;)\r\n    interface Server {\r\n        @WithName(&quot;host&quot;)\r\n        String host();\r\n        @WithName(&quot;port&quot;)\r\n        int port();\r\n    }\r\n\r\nIn your code:\r\n\r\n    Server.host();\r\n    Server.port();\r\n\r\n","title":"Quarkus: how to print properties from the interface with @ConfigMapping","body":"<p>Welcome aboard Inessa,</p>\n<p>Let's assume you have the following properties in your application.properties:</p>\n<pre><code>server.host=localhost\nserver.port=8080\n</code></pre>\n<p>Then your class:</p>\n<pre><code>@ConfigMapping(prefix = &quot;server&quot;)\ninterface Server {\n    @WithName(&quot;host&quot;)\n    String host();\n    @WithName(&quot;port&quot;)\n    int port();\n}\n</code></pre>\n<p>In your code:</p>\n<pre><code>Server.host();\nServer.port();\n</code></pre>\n"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677675223,"creation_date":1677615030,"question_id":75596831,"body_markdown":"I am studying quarkus now. As I understand it, the properties from `application.properties` can be obtained using `@ConfigMapping`. But I need to print the properties that turned out. Previously, I would have done this by overriding `toString()` in the class, but here is the interface. \r\n\r\n```\r\n@ConfigMapping(prefix = &quot;server&quot;)\r\ninterface Server {\r\n    String host();\r\n\r\n    int port();\r\n}\r\n```\r\nI tried to replace the interface with a class, but I got an error: @ConfigMapping annotation can only be placed in interface\r\n\r\nHow do I output properties to the log?\r\n\r\n","title":"Quarkus: how to print properties from the interface with @ConfigMapping","body":"<p>I am studying quarkus now. As I understand it, the properties from <code>application.properties</code> can be obtained using <code>@ConfigMapping</code>. But I need to print the properties that turned out. Previously, I would have done this by overriding <code>toString()</code> in the class, but here is the interface.</p>\n<pre><code>@ConfigMapping(prefix = &quot;server&quot;)\ninterface Server {\n    String host();\n\n    int port();\n}\n</code></pre>\n<p>I tried to replace the interface with a class, but I got an error: @ConfigMapping annotation can only be placed in interface</p>\n<p>How do I output properties to the log?</p>\n"},{"tags":["java","sql","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677675008,"creation_date":1677675008,"answer_id":75603969,"question_id":75601678,"body_markdown":"## Bind values\r\n\r\nA bind value cannot be a table in SQL. A bind value is a parameter to the SQL query, representing a scalar value, not some syntactic element, e.g.\r\n\r\n```sql\r\nSELECT :b1, :b2 + 1 -- Scalar values\r\nFROM t              -- &quot;Syntactic element&quot;\r\nWHERE t.x = :b3     -- Scalar values\r\n```\r\n\r\nThis isn&#39;t jOOQ specific. You (probably) won&#39;t find any SQL dialect out there that allows for bind values to be used as tables.\r\n\r\n## Templates\r\n\r\nIf you wish to implement dynamic text based SQL like that, use [&quot;plain SQL templates&quot;][1], e.g.\r\n\r\n```java\r\nString sql = \r\n    &quot;&quot;&quot;\r\n    select *\r\n    from {0} a\r\n    join {1} b\r\n    on a.x != b.x\r\n    where a.y not in (select b1.y\r\n                      from {1} b1\r\n                      where b1.x = a.x)\r\n    &quot;&quot;&quot;;\r\n\r\n// And then\r\nreturn dslContext.fetch(sql, ATable, BTable);\r\n```\r\n\r\nAssuming `ATable` and `BTable` are of type [`org.jooq.Table&lt;?&gt;`][2]. Templates are purely a jOOQ feature. They will be replaced when jOOQ generates SQL prior to passing the generated SQL to the JDBC driver.\r\n\r\nSee also this blog post for [more information on using plain SQL templates with text blocks][3]\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\r\n  [2]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html\r\n  [3]: https://blog.jooq.org/using-java-13-text-blocks-for-plain-sql-with-jooq/","title":"Jooq bind the same parameter multiple times","body":"<h2>Bind values</h2>\n<p>A bind value cannot be a table in SQL. A bind value is a parameter to the SQL query, representing a scalar value, not some syntactic element, e.g.</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT :b1, :b2 + 1 -- Scalar values\nFROM t              -- &quot;Syntactic element&quot;\nWHERE t.x = :b3     -- Scalar values\n</code></pre>\n<p>This isn't jOOQ specific. You (probably) won't find any SQL dialect out there that allows for bind values to be used as tables.</p>\n<h2>Templates</h2>\n<p>If you wish to implement dynamic text based SQL like that, use <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/plain-sql-templating/\" rel=\"nofollow noreferrer\">&quot;plain SQL templates&quot;</a>, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = \n    &quot;&quot;&quot;\n    select *\n    from {0} a\n    join {1} b\n    on a.x != b.x\n    where a.y not in (select b1.y\n                      from {1} b1\n                      where b1.x = a.x)\n    &quot;&quot;&quot;;\n\n// And then\nreturn dslContext.fetch(sql, ATable, BTable);\n</code></pre>\n<p>Assuming <code>ATable</code> and <code>BTable</code> are of type <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/Table.html\" rel=\"nofollow noreferrer\"><code>org.jooq.Table&lt;?&gt;</code></a>. Templates are purely a jOOQ feature. They will be replaced when jOOQ generates SQL prior to passing the generated SQL to the JDBC driver.</p>\n<p>See also this blog post for <a href=\"https://blog.jooq.org/using-java-13-text-blocks-for-plain-sql-with-jooq/\" rel=\"nofollow noreferrer\">more information on using plain SQL templates with text blocks</a></p>\n"}],"owner":{"account_id":12241772,"reputation":129,"user_id":8934639,"display_name":"Chedva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603969,"answer_count":1,"score":1,"last_activity_date":1677675008,"creation_date":1677662522,"question_id":75601678,"body_markdown":"I have an SQL query that uses the same parameter in several places (the table name changed between the environments prod, stg, dev):\r\n\r\n```\r\nString SQL =\r\nselect *\r\nfrom :a_table a\r\njoin :b_table b\r\non a.x != b.x\r\nwhere a.y not in (select b1.y\r\n                  from :b_table b1\r\n                  where b1.x = a.x)\r\n```\r\nI run this query with Jooq:\r\n```\r\nreturn dslContext.fetch(sql, param(&quot;a_table&quot;, ATable.getName()), param(&quot;b_table&quot;, BTable.getName()));\r\n```\r\nbut the parameters are replaced only once, and the query that Jooq runs is (assuming `ATable.getName() = &quot;A&quot;` and `BTable,getName() = &quot;B&quot;`):\r\n```\r\nselect *\r\nfrom A a\r\njoin B b\r\non a.x != b.x\r\nwhere a.y not in (select b1.y\r\n                  from :b_table b1\r\n                  where b1.x = a.x)\r\n```\r\n\r\nis it possible to replace the params in all places without putting it more than once in the `fetch` calli?","title":"Jooq bind the same parameter multiple times","body":"<p>I have an SQL query that uses the same parameter in several places (the table name changed between the environments prod, stg, dev):</p>\n<pre><code>String SQL =\nselect *\nfrom :a_table a\njoin :b_table b\non a.x != b.x\nwhere a.y not in (select b1.y\n                  from :b_table b1\n                  where b1.x = a.x)\n</code></pre>\n<p>I run this query with Jooq:</p>\n<pre><code>return dslContext.fetch(sql, param(&quot;a_table&quot;, ATable.getName()), param(&quot;b_table&quot;, BTable.getName()));\n</code></pre>\n<p>but the parameters are replaced only once, and the query that Jooq runs is (assuming <code>ATable.getName() = &quot;A&quot;</code> and <code>BTable,getName() = &quot;B&quot;</code>):</p>\n<pre><code>select *\nfrom A a\njoin B b\non a.x != b.x\nwhere a.y not in (select b1.y\n                  from :b_table b1\n                  where b1.x = a.x)\n</code></pre>\n<p>is it possible to replace the params in all places without putting it more than once in the <code>fetch</code> calli?</p>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":7312901,"reputation":802,"user_id":5571494,"display_name":"ruud"},"score":0,"creation_date":1677674744,"post_id":75603733,"comment_id":133383747,"body_markdown":"Can you explain what goes wrong when not hardcoding the path? Do you get an error message?","body":"Can you explain what goes wrong when not hardcoding the path? Do you get an error message?"},{"owner":{"account_id":27908730,"reputation":1,"user_id":21311367,"display_name":"Michael Evan"},"score":0,"creation_date":1677682328,"post_id":75603733,"comment_id":133386335,"body_markdown":"Theres no problem at all running it on that way, but i need to hardcode the file path, and thats not the way to do  it.","body":"Theres no problem at all running it on that way, but i need to hardcode the file path, and thats not the way to do  it."}],"owner":{"account_id":27908730,"reputation":1,"user_id":21311367,"display_name":"Michael Evan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677674785,"creation_date":1677673598,"question_id":75603733,"body_markdown":"Im using pdfbox becuase it does not overload the memory handling huge pdf files, for example i have a 2gb pdf file, with almost 1k pages. for each page i need to do something, upload and storage in a server,etc (server that honestly i cant access)\r\nMy problem is that the application only works with file declared as string path ex: (&quot;C:\\\\file.pdf&quot;).\r\n\r\n\r\n\r\n```\r\nprivate void doWork(HttpServletRequest req, HttpServletResponse resp) throws Exception {\r\n\r\n\t\tif (!ServletFileUpload.isMultipartContent(req)) {\r\n\t\t\tresp.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Not multipart/form-data&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\r\nServletFileUpload upload = createFileUpload();\r\n      \r\n\t\tList&lt;FileItem&gt; fileItems = null;\r\n\t\tFile file  = parseRequest(req,upload);\r\n\t\t\r\n\t\t  PDDocument document = Loader.loadPDF(file, MemoryUsageSetting.setupTempFileOnly());\r\n\t\t  PDFRenderer renderer = new PDFRenderer(document);\r\n\r\n\r\ntry {\r\n\t\t\t for( PDPage page : document.getPages() ){\r\n\r\n\t\t\t\tPdfDocumentHandler pdfDoc= new PdfDocumentHandler();\r\n\t\t\t\t\r\n\t\t\t\tfileItems.add((FileItem) page);\r\n\t\t\t\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\tpageCount = pdfDoc.savePdf(fileItems);\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;Error: &quot; + e.getMessage());\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n\r\nprotected File parseRequest(HttpServletRequest req, ServletFileUpload upload)throws IOException, FileUploadException {\r\n\t\t\r\n\t\treturn (File) upload.parseRequest(req);\r\n\t\r\n}\r\n\t\r\n\tprivate static ServletFileUpload createFileUpload() {\r\n\t\tServletFileUpload upload = new ServletFileUpload(\r\n\t\t\t\tnew DiskFileItemFactory(IN_MEMORY_FILE_SIZE_THRESHOLD, new File(TMP_DIR)));\r\n\t\tupload.setSizeMax(MAX_UPLOAD_FILE_SIZE);\r\n\t\treturn upload;\r\n\t}\r\n\r\n\r\n```\r\n\r\n\r\nAnd the javascript front end code is the next one:\r\n\r\n\r\n```\r\n&lt;form\r\n\taction=&quot;../../index/AddPdf?parameters=&lt;%=parameters%&gt;&amp;select=&lt;%=idNode%&gt;&amp;save=&lt;%=save%&gt;&amp;sesionInx=&lt;%=sesionInx%&gt;&amp;esPDF=true&amp;scanner=true&quot;\r\n\tname=&quot;form1&quot; id=&quot;form1&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\r\n\t&lt;div id=&quot;divFileUpload&quot;\r\n\t\tstyle=&quot;overflow: auto; width: 100%; height: 326; border-right: #333399 1px solid; border-top: #333399 1px solid; border-left: #333399 1px solid; border-bottom: #333399 1px solid&quot;&gt;\r\n\t\t&lt;table id=&quot;tableFile&quot; width=&quot;100%&quot; align=&quot;center&quot; cellspacing=&quot;0&quot;\r\n\t\t\tcellpadding=&quot;0&quot; border=&quot;0&quot;&gt;\r\n\t\t\t&lt;tr&gt;\r\n\t\t\t\t&lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file0&quot; id=&quot;file0&quot; size=&quot;40&quot;\r\n\t\t\t\t\tmaxlength=&quot;256&quot;&gt;&lt;/td&gt;\r\n\t\t\t&lt;/tr&gt;\r\n\t\t&lt;/table&gt;\r\n\t&lt;/div&gt;\r\n\t&lt;input type=&quot;text&quot; id=&quot;totFile&quot; value=&quot;&quot; size=&quot;3&quot; readonly&gt;\r\n\t&amp;nbsp;&amp;nbsp; &lt;input type=&quot;button&quot; value=&quot;Send&quot; onclick=&quot;valExtension(&#39;tableFile&#39;)&quot;&gt;\r\n&lt;/form&gt;\r\n\r\n\r\nfunction valExtension(tableID) {\r\n\tvar t = &quot;&quot;;\r\n\tvar table = document.getElementById(tableID);\r\n\t\r\n\tfor (var i = 0; i &lt; table.rows.length; i++) {\r\n\t\tvar o = document.getElementById(&quot;file&quot; + i);\r\n\t\tvar f = o.value.toLowerCase();\r\n\t\tvar t = f.substring(f.lastIndexOf(&quot;.&quot;) + 1);\r\n\t\tif (isWhitespace(t)) {\r\n\t\t\talert(&quot;Select your file to upload&quot;);\r\n\t\t\to.focus();\r\n\t\t\treturn false;\r\n\t\t} else if (isNotValidExtension(t)) {\r\n\t\t\talert(&quot;The file\\&quot;.&quot; + t + &quot;\\&quot; is not a PDF&quot;);\r\n\t\t\to.focus();\r\n\t\t\treturn false;\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\t\r\n\tdocument.getElementById(&quot;form1&quot;).submit();\r\n\t\r\n}\r\n\r\nfunction isNotValidExtension(e) {\r\n\tvar types = [&quot;PDF&quot;, &quot;pdf&quot;];\r\n\t\r\n\tfor (var j = 0; j &lt; types.length; j++)\r\n\t\tif (e == types[j])\r\n\t\t\treturn false;\r\n\t\r\n\treturn true;\r\n}\r\n\r\nfunction isWhitespace(s) {\r\nvar whitespace = &quot; \\t\\n\\r&quot;;\r\nif ((s == null) || (s.length == 0)) return true;\r\nfor (var i = 0; i &lt; s.length; i++) {\r\nvar c = s.charAt(i);\r\nif (whitespace.indexOf(c) == -1) return false;\r\n}\r\nreturn true;\r\n}\r\n```\r\n\r\n\r\nI already try the app without multipart request, i mean hardcoding the path on the file variable, and it worrks but i cant figure out how i can make it work with the multipart. I really made a huge internet research with no luck, so i came here to make my first question i really really need help","title":"It&#39;s possible to use apache pdfbox with a multipart file on a servlet java app?","body":"<p>Im using pdfbox becuase it does not overload the memory handling huge pdf files, for example i have a 2gb pdf file, with almost 1k pages. for each page i need to do something, upload and storage in a server,etc (server that honestly i cant access)\nMy problem is that the application only works with file declared as string path ex: (&quot;C:\\file.pdf&quot;).</p>\n<pre><code>private void doWork(HttpServletRequest req, HttpServletResponse resp) throws Exception {\n\n        if (!ServletFileUpload.isMultipartContent(req)) {\n            resp.sendError(HttpServletResponse.SC_BAD_REQUEST, &quot;Not multipart/form-data&quot;);\n            return;\n        }\n\n\nServletFileUpload upload = createFileUpload();\n      \n        List&lt;FileItem&gt; fileItems = null;\n        File file  = parseRequest(req,upload);\n        \n          PDDocument document = Loader.loadPDF(file, MemoryUsageSetting.setupTempFileOnly());\n          PDFRenderer renderer = new PDFRenderer(document);\n\n\ntry {\n             for( PDPage page : document.getPages() ){\n\n                PdfDocumentHandler pdfDoc= new PdfDocumentHandler();\n                \n                fileItems.add((FileItem) page);\n            \n                \n            \n            pageCount = pdfDoc.savePdf(fileItems);\n            }\n        } catch (Exception e) {\n            log.error(&quot;Error: &quot; + e.getMessage());\n            e.printStackTrace();\n        }\n\n\nprotected File parseRequest(HttpServletRequest req, ServletFileUpload upload)throws IOException, FileUploadException {\n        \n        return (File) upload.parseRequest(req);\n    \n}\n    \n    private static ServletFileUpload createFileUpload() {\n        ServletFileUpload upload = new ServletFileUpload(\n                new DiskFileItemFactory(IN_MEMORY_FILE_SIZE_THRESHOLD, new File(TMP_DIR)));\n        upload.setSizeMax(MAX_UPLOAD_FILE_SIZE);\n        return upload;\n    }\n\n\n</code></pre>\n<p>And the javascript front end code is the next one:</p>\n<pre><code>&lt;form\n    action=&quot;../../index/AddPdf?parameters=&lt;%=parameters%&gt;&amp;select=&lt;%=idNode%&gt;&amp;save=&lt;%=save%&gt;&amp;sesionInx=&lt;%=sesionInx%&gt;&amp;esPDF=true&amp;scanner=true&quot;\n    name=&quot;form1&quot; id=&quot;form1&quot; enctype=&quot;multipart/form-data&quot; method=&quot;post&quot;&gt;\n    &lt;div id=&quot;divFileUpload&quot;\n        style=&quot;overflow: auto; width: 100%; height: 326; border-right: #333399 1px solid; border-top: #333399 1px solid; border-left: #333399 1px solid; border-bottom: #333399 1px solid&quot;&gt;\n        &lt;table id=&quot;tableFile&quot; width=&quot;100%&quot; align=&quot;center&quot; cellspacing=&quot;0&quot;\n            cellpadding=&quot;0&quot; border=&quot;0&quot;&gt;\n            &lt;tr&gt;\n                &lt;td&gt;&lt;input type=&quot;file&quot; name=&quot;file0&quot; id=&quot;file0&quot; size=&quot;40&quot;\n                    maxlength=&quot;256&quot;&gt;&lt;/td&gt;\n            &lt;/tr&gt;\n        &lt;/table&gt;\n    &lt;/div&gt;\n    &lt;input type=&quot;text&quot; id=&quot;totFile&quot; value=&quot;&quot; size=&quot;3&quot; readonly&gt;\n    &amp;nbsp;&amp;nbsp; &lt;input type=&quot;button&quot; value=&quot;Send&quot; onclick=&quot;valExtension('tableFile')&quot;&gt;\n&lt;/form&gt;\n\n\nfunction valExtension(tableID) {\n    var t = &quot;&quot;;\n    var table = document.getElementById(tableID);\n    \n    for (var i = 0; i &lt; table.rows.length; i++) {\n        var o = document.getElementById(&quot;file&quot; + i);\n        var f = o.value.toLowerCase();\n        var t = f.substring(f.lastIndexOf(&quot;.&quot;) + 1);\n        if (isWhitespace(t)) {\n            alert(&quot;Select your file to upload&quot;);\n            o.focus();\n            return false;\n        } else if (isNotValidExtension(t)) {\n            alert(&quot;The file\\&quot;.&quot; + t + &quot;\\&quot; is not a PDF&quot;);\n            o.focus();\n            return false;\n        }\n    }\n    \n    \n    \n    document.getElementById(&quot;form1&quot;).submit();\n    \n}\n\nfunction isNotValidExtension(e) {\n    var types = [&quot;PDF&quot;, &quot;pdf&quot;];\n    \n    for (var j = 0; j &lt; types.length; j++)\n        if (e == types[j])\n            return false;\n    \n    return true;\n}\n\nfunction isWhitespace(s) {\nvar whitespace = &quot; \\t\\n\\r&quot;;\nif ((s == null) || (s.length == 0)) return true;\nfor (var i = 0; i &lt; s.length; i++) {\nvar c = s.charAt(i);\nif (whitespace.indexOf(c) == -1) return false;\n}\nreturn true;\n}\n</code></pre>\n<p>I already try the app without multipart request, i mean hardcoding the path on the file variable, and it worrks but i cant figure out how i can make it work with the multipart. I really made a huge internet research with no luck, so i came here to make my first question i really really need help</p>\n"},{"tags":["java","jpa","persistence","eclipselink"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677679774,"post_id":75603299,"comment_id":133385414,"body_markdown":"They have to be available to the class loader that is loading the persistence unit when deployment is occurring. The container you are using might not have the class resolvable at that time - turn on Logging to all or finest and EclipseLink might give more context to the error, or check your container","body":"They have to be available to the class loader that is loading the persistence unit when deployment is occurring. The container you are using might not have the class resolvable at that time - turn on Logging to all or finest and EclipseLink might give more context to the error, or check your container"}],"owner":{"account_id":25541753,"reputation":1,"user_id":19327693,"display_name":"Owic98"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677674719,"creation_date":1677671275,"question_id":75603299,"body_markdown":"So I am working on a multi-model project in the Jave EE environment with Maven. We have a core module that provides different classes for all other modules like interfaces, enums, and some utility classes.\r\n\r\nSo what I tried to do is to put a `@Converter` class in the core module. So it can be used in various other modules. The problem is that it is not recognized by EclipseLink even though it is in my persistence.xml.\r\nThe Exception:\r\n\r\n```java\r\nException Description: Predeployment of PersistenceUnit [source-timeaccounting] failed.\r\nInternal Exception: Exception [EclipseLink-7351] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.ValidationException\r\nException Description: The converter class [de.gfit.ngs.core.LocalDateAttributeConverter] specified on the mapping attribute [zeitpunkt] from the class [de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity] was not found. Please ensure the converter class name is correct and exists with the persistence unit definition.\r\n      service jboss.persistenceunit.&quot;ngs-etl-ear-4.0.0.0.ear/ngs-etl-dao-persistence-4.0.0.0.jar#ngs-dwh-pu&quot;: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\n```\r\n\r\npersistence.xml:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\r\n  &lt;persistence-unit name=&quot;source-timeaccounting&quot; transaction-type=&quot;JTA&quot;&gt;\r\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n    &lt;jta-data-source&gt;java:jboss/timeaccounting&lt;/jta-data-source&gt;\r\n    &lt;class&gt;de.gfit.ngs.core.LocalDateAttributeConverter&lt;/class&gt;\r\n    &lt;class&gt;de.gfit.ngs.core.LocalDateTimeAttributeConverter&lt;/class&gt;\r\n    &lt;class&gt;de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity&lt;/class&gt;\r\n     ....\r\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\r\n  &lt;/persistence-unit&gt;\r\n```\r\n\r\nThe Converter Class\r\n\r\n```java\r\n@Converter(autoApply = true)\r\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\r\n\r\n    @Override\r\n    public Date convertToDatabaseColumn(LocalDate localDate) {\r\n        return localDate == null ? null : Date.valueOf(localDate);\r\n    }\r\n\r\n    @Override\r\n    public LocalDate convertToEntityAttribute(Date sqlData) {\r\n        return sqlData == null ? null : sqlData.toLocalDate();\r\n    }\r\n\r\n}\r\n```\r\n\r\nSome more Information:\r\nThe core module is set as a dependency in Maven, so the classpath should not be the problem.\r\nThe other classes that use the converter also have the correct dependency.\r\nThe persistence.xml is in the project (ngs.etl)\r\nThe core Modul is not deployed with any Modul.\r\n\r\nFirst I tried to put my converter in the current module (ngs.etl) and modify the persistence.xml accordingly. This solved the problem.\r\n\r\nThen I tried to put my core module in the application.xml of my ear project so that it would be deployed. This also solved the problem.\r\n\r\nSo back to the title question. Do all `&lt;class&gt;` elements in the persistence.xml need to be deployed for eclipselink to find them?","title":"Do all &lt;class&gt; elements of the persistence.xml need to be deployed?","body":"<p>So I am working on a multi-model project in the Jave EE environment with Maven. We have a core module that provides different classes for all other modules like interfaces, enums, and some utility classes.</p>\n<p>So what I tried to do is to put a <code>@Converter</code> class in the core module. So it can be used in various other modules. The problem is that it is not recognized by EclipseLink even though it is in my persistence.xml.\nThe Exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Exception Description: Predeployment of PersistenceUnit [source-timeaccounting] failed.\nInternal Exception: Exception [EclipseLink-7351] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.ValidationException\nException Description: The converter class [de.gfit.ngs.core.LocalDateAttributeConverter] specified on the mapping attribute [zeitpunkt] from the class [de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity] was not found. Please ensure the converter class name is correct and exists with the persistence unit definition.\n      service jboss.persistenceunit.&quot;ngs-etl-ear-4.0.0.0.ear/ngs-etl-dao-persistence-4.0.0.0.jar#ngs-dwh-pu&quot;: javax.persistence.PersistenceException: Exception [EclipseLink-28018] (Eclipse Persistence Services - 2.7.3.v20180807-4be1041): org.eclipse.persistence.exceptions.EntityManagerSetupException\n</code></pre>\n<p>persistence.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;persistence version=&quot;2.1&quot; xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/persistence http://xmlns.jcp.org/xml/ns/persistence/persistence_2_1.xsd&quot;&gt;\n  &lt;persistence-unit name=&quot;source-timeaccounting&quot; transaction-type=&quot;JTA&quot;&gt;\n    &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n    &lt;jta-data-source&gt;java:jboss/timeaccounting&lt;/jta-data-source&gt;\n    &lt;class&gt;de.gfit.ngs.core.LocalDateAttributeConverter&lt;/class&gt;\n    &lt;class&gt;de.gfit.ngs.core.LocalDateTimeAttributeConverter&lt;/class&gt;\n    &lt;class&gt;de.gfit.ngs.etl.entity.timeaccounting.api.AccountedTimeEntity&lt;/class&gt;\n     ....\n    &lt;exclude-unlisted-classes&gt;true&lt;/exclude-unlisted-classes&gt;\n  &lt;/persistence-unit&gt;\n</code></pre>\n<p>The Converter Class</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Converter(autoApply = true)\npublic class LocalDateAttributeConverter implements AttributeConverter&lt;LocalDate, Date&gt; {\n\n    @Override\n    public Date convertToDatabaseColumn(LocalDate localDate) {\n        return localDate == null ? null : Date.valueOf(localDate);\n    }\n\n    @Override\n    public LocalDate convertToEntityAttribute(Date sqlData) {\n        return sqlData == null ? null : sqlData.toLocalDate();\n    }\n\n}\n</code></pre>\n<p>Some more Information:\nThe core module is set as a dependency in Maven, so the classpath should not be the problem.\nThe other classes that use the converter also have the correct dependency.\nThe persistence.xml is in the project (ngs.etl)\nThe core Modul is not deployed with any Modul.</p>\n<p>First I tried to put my converter in the current module (ngs.etl) and modify the persistence.xml accordingly. This solved the problem.</p>\n<p>Then I tried to put my core module in the application.xml of my ear project so that it would be deployed. This also solved the problem.</p>\n<p>So back to the title question. Do all <code>&lt;class&gt;</code> elements in the persistence.xml need to be deployed for eclipselink to find them?</p>\n"},{"tags":["java","solr","jetty","logback","jetty-9"],"answers":[{"comments":[{"owner":{"account_id":406289,"reputation":47511,"user_id":775715,"accept_rate":100,"display_name":"Joakim Erdfelt"},"score":1,"creation_date":1677677490,"post_id":75603906,"comment_id":133384664,"body_markdown":"[Jetty 9.x is now at End of Community Support](https://github.com/eclipse/jetty.project/issues/7958), you should be upgrading to Jetty 10 or Jetty 11 now.","body":"<a href=\"https://github.com/eclipse/jetty.project/issues/7958\" rel=\"nofollow noreferrer\">Jetty 9.x is now at End of Community Support</a>, you should be upgrading to Jetty 10 or Jetty 11 now."},{"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"score":0,"creation_date":1677696583,"post_id":75603906,"comment_id":133390875,"body_markdown":"Sure, but Solr 8.x still depends on Jetty 9.x and Solr 9.x is just out for few months.","body":"Sure, but Solr 8.x still depends on Jetty 9.x and Solr 9.x is just out for few months."}],"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677674604,"creation_date":1677674604,"answer_id":75603906,"question_id":75603905,"body_markdown":"The issue was actually caused by external libraries we add to Solr: using logback 1.2 was working fine but upgrading to 1.4 was the root cause of the issue above.\r\n\r\nThis is because logback 1.4 targets `jakarta.*` and we are referencing a logback class in the Jetty configuration for access logs.\r\n\r\nNot upgrading to logback 1.4 but only 1.3 is the right solution.","title":"NoClassDefFoundError jakarta/servlet/http/HttpServletResponse when starting Solr","body":"<p>The issue was actually caused by external libraries we add to Solr: using logback 1.2 was working fine but upgrading to 1.4 was the root cause of the issue above.</p>\n<p>This is because logback 1.4 targets <code>jakarta.*</code> and we are referencing a logback class in the Jetty configuration for access logs.</p>\n<p>Not upgrading to logback 1.4 but only 1.3 is the right solution.</p>\n"}],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":554,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677674604,"creation_date":1677674604,"question_id":75603905,"body_markdown":"Using Solr 8.11.2 (Jetty 9.4) with Java 11, we&#39;re having the following error at startup:\r\n\r\n&gt; java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\r\n\r\n\r\n```\r\njava.lang.reflect.InvocationTargetException\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n...\r\n        at org.eclipse.jetty.start.Main.start(Main.java:491)\r\n        at org.eclipse.jetty.start.Main.main(Main.java:77)\r\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\r\n        at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n...\r\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.construct(XmlConfiguration.java:1031)\r\n...\r\n        at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:380)\r\n        at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$3(XmlConfiguration.java:1893)\r\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\r\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1857)\r\n        ... 7 more\r\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletResponse\r\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\r\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n        ... 23 more\r\n```\r\n\r\nEven though we are aware of the `javax.*` to `jakarta.*` move, we don&#39;t understand why the jakarta.* class is even trying to be loaded.\r\n\r\nJetty 9.4 is still using/providing `javax.*`.\r\n\r\nThe jetty.xml configuration file that seems to be causing the failure doesn&#39;t have any reference to `jakarta` either.","title":"NoClassDefFoundError jakarta/servlet/http/HttpServletResponse when starting Solr","body":"<p>Using Solr 8.11.2 (Jetty 9.4) with Java 11, we're having the following error at startup:</p>\n<blockquote>\n<p>java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse</p>\n</blockquote>\n<pre><code>java.lang.reflect.InvocationTargetException\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n...\n        at org.eclipse.jetty.start.Main.start(Main.java:491)\n        at org.eclipse.jetty.start.Main.main(Main.java:77)\nCaused by: java.lang.NoClassDefFoundError: jakarta/servlet/http/HttpServletResponse\n        at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n...\n        at org.eclipse.jetty.xml.XmlConfiguration$JettyXmlConfiguration.construct(XmlConfiguration.java:1031)\n...\n        at org.eclipse.jetty.xml.XmlConfiguration.configure(XmlConfiguration.java:380)\n        at org.eclipse.jetty.xml.XmlConfiguration.lambda$main$3(XmlConfiguration.java:1893)\n        at java.base/java.security.AccessController.doPrivileged(Native Method)\n        at org.eclipse.jetty.xml.XmlConfiguration.main(XmlConfiguration.java:1857)\n        ... 7 more\nCaused by: java.lang.ClassNotFoundException: jakarta.servlet.http.HttpServletResponse\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:476)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:589)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n        ... 23 more\n</code></pre>\n<p>Even though we are aware of the <code>javax.*</code> to <code>jakarta.*</code> move, we don't understand why the jakarta.* class is even trying to be loaded.</p>\n<p>Jetty 9.4 is still using/providing <code>javax.*</code>.</p>\n<p>The jetty.xml configuration file that seems to be causing the failure doesn't have any reference to <code>jakarta</code> either.</p>\n"},{"tags":["java","tomcat","deployment"],"comments":[{"owner":{"account_id":8636556,"reputation":773,"user_id":6466540,"display_name":"Indra Uprade"},"score":0,"creation_date":1466959576,"post_id":38040658,"comment_id":63521444,"body_markdown":"you should be able to access manager app with default tomcat installation provided admin credential needs to be configured in tomcat-users.xml.","body":"you should be able to access manager app with default tomcat installation provided admin credential needs to be configured in tomcat-users.xml."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1466962617,"post_id":38040658,"comment_id":63522484,"body_markdown":"If you copied to `webapp` folder, why is that name not in the shown path (`E:\\daten\\web\\my.pma.de\\servlet\\manager`)?","body":"If you copied to <code>webapp</code> folder, why is that name not in the shown path (<code>E:\\daten\\web\\my.pma.de\\servlet\\manager</code>)?"}],"answers":[{"comments":[{"owner":{"account_id":5577204,"reputation":310,"user_id":4420271,"accept_rate":78,"display_name":"philburns"},"score":0,"creation_date":1677602597,"post_id":38059282,"comment_id":133368886,"body_markdown":"Can you please add an example of how to mount a webapp with &quot;JkMount&quot;?","body":"Can you please add an example of how to mount a webapp with &quot;JkMount&quot;?"},{"owner":{"account_id":7968176,"reputation":33,"user_id":6013804,"display_name":"JGreven"},"score":0,"creation_date":1677629939,"post_id":38059282,"comment_id":133375234,"body_markdown":"@philburns See next answer :-)","body":"@philburns See next answer :-)"},{"owner":{"account_id":5577204,"reputation":310,"user_id":4420271,"accept_rate":78,"display_name":"philburns"},"score":0,"creation_date":1677660952,"post_id":38059282,"comment_id":133379874,"body_markdown":"Thank you very much, yes that shines a light. It would be better though to edit the original answer, hence, to amend the content of the second answer to your first one. This will be less confusing to others then. Also, better leave the personal note out of the answer. You can delete the second answer, after you have copied the relevant content. I will be happy to upvote your answer then.","body":"Thank you very much, yes that shines a light. It would be better though to edit the original answer, hence, to amend the content of the second answer to your first one. This will be less confusing to others then. Also, better leave the personal note out of the answer. You can delete the second answer, after you have copied the relevant content. I will be happy to upvote your answer then."}],"tags":[],"owner":{"account_id":7968176,"reputation":33,"user_id":6013804,"display_name":"JGreven"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677674506,"creation_date":1467046301,"answer_id":38059282,"question_id":38040658,"body_markdown":"It turned out that on the test server (contrary to my development machine) the Tomcat server was running &quot;behind&quot; a mod-jk in Apachte httpd. So basically what was lacking was mounting the webapps with &quot;JkMount&quot;.\r\n\r\n\r\nEdit:\r\nAs per request the mounting of the WebApp:\r\nIn httpd.conf\r\n\r\n    LoadModule jk_module modules/mod_jk.so\r\n    \r\n    JkWorkersFile &quot;conf/worker.properties&quot;\r\n    JkLogFile &quot;logs/mod_jk.log&quot;\r\n    JkLogLevel errorJ\r\n    JkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y] &quot;\r\n    JkOptions +ForwardKeySize +ForwardURICompat\r\n\r\n\r\nIn httpd-ssl.conf:\r\n\r\n    &lt;VirtualHost *:443&gt;\r\n    .\r\n    .\r\n    .\r\n    \tJkMount /mywebapp/* mainworker\r\n    \t\r\n    \t# Zugang zu WEB-INF und META-INF sperren\r\n        &lt;Location &quot;/mywebapp/META-INF/*&quot;&gt;\r\n          #AllowOverride None\r\n          deny from all \r\n        &lt;/Location&gt; \t\r\n    .\r\n    .\r\n    .\r\n    &lt;/VirtualHost&gt;  \r\n\r\n","title":"Tomcat WebApp deployed but not accessible","body":"<p>It turned out that on the test server (contrary to my development machine) the Tomcat server was running &quot;behind&quot; a mod-jk in Apachte httpd. So basically what was lacking was mounting the webapps with &quot;JkMount&quot;.</p>\n<p>Edit:\nAs per request the mounting of the WebApp:\nIn httpd.conf</p>\n<pre><code>LoadModule jk_module modules/mod_jk.so\n\nJkWorkersFile &quot;conf/worker.properties&quot;\nJkLogFile &quot;logs/mod_jk.log&quot;\nJkLogLevel errorJ\nJkLogStampFormat &quot;[%a %b %d %H:%M:%S %Y] &quot;\nJkOptions +ForwardKeySize +ForwardURICompat\n</code></pre>\n<p>In httpd-ssl.conf:</p>\n<pre><code>&lt;VirtualHost *:443&gt;\n.\n.\n.\n    JkMount /mywebapp/* mainworker\n    \n    # Zugang zu WEB-INF und META-INF sperren\n    &lt;Location &quot;/mywebapp/META-INF/*&quot;&gt;\n      #AllowOverride None\n      deny from all \n    &lt;/Location&gt;     \n.\n.\n.\n&lt;/VirtualHost&gt;  \n</code></pre>\n"}],"owner":{"account_id":7968176,"reputation":33,"user_id":6013804,"display_name":"JGreven"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1428,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677674506,"creation_date":1466958583,"question_id":38040658,"body_markdown":"I have a strange problem with accessing Tomcat WebApps. I have several WebApplications all working fine on my development machine. But when I deploy them to the test server (copying to webapp folder) some of them can&#39;t be accessed, one of them being the tomcat manager app.\r\n\r\nEdit1: The tomcat webapp folder is not the default, but (from server.xml):\r\n\r\n    &lt;AutoWebApp dir=&quot;E:/daten/web/my.pma.de/servlet&quot; host=&quot;DEFAULT&quot; /&gt;\r\n\r\nThe tomcat log says\r\n\r\n    INFORMATION: Deploying web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager\r\n    Jun 26, 2016 5:02:20 PM org.apache.catalina.startup.TldConfig execute\r\n    INFORMATION: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\r\n    Jun 26, 2016 5:02:20 PM org.apache.catalina.startup.HostConfig deployDirectory\r\n    INFORMATION: Deployment of web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager has finished in 109 ms\r\n\r\n\r\nBut when I try to access the manager app (which again is working fine on my development machine) I always get a 404 error:\r\n\r\n    The requested URL /manager was not found on this server.\r\n\r\ntomcat-users.xml contains correct credentials for the manager webapp:\r\n\r\n    &lt;tomcat-users&gt;\r\n    &lt;user password=&quot;xxxxx&quot; roles=&quot;manager-script,manager-gui,admin, admin-gui&quot; username=&quot;xxxxx&quot;/&gt;\r\n    &lt;/tomcat-users&gt;\r\n\r\n\r\nWhat could I be missing?\r\n\r\n\r\nThanks in advance\r\nJens\r\n\r\n","title":"Tomcat WebApp deployed but not accessible","body":"<p>I have a strange problem with accessing Tomcat WebApps. I have several WebApplications all working fine on my development machine. But when I deploy them to the test server (copying to webapp folder) some of them can't be accessed, one of them being the tomcat manager app.</p>\n<p>Edit1: The tomcat webapp folder is not the default, but (from server.xml):</p>\n<pre><code>&lt;AutoWebApp dir=&quot;E:/daten/web/my.pma.de/servlet&quot; host=&quot;DEFAULT&quot; /&gt;\n</code></pre>\n<p>The tomcat log says</p>\n<pre><code>INFORMATION: Deploying web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager\nJun 26, 2016 5:02:20 PM org.apache.catalina.startup.TldConfig execute\nINFORMATION: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.\nJun 26, 2016 5:02:20 PM org.apache.catalina.startup.HostConfig deployDirectory\nINFORMATION: Deployment of web application directory E:\\daten\\web\\my.pma.de\\servlet\\manager has finished in 109 ms\n</code></pre>\n<p>But when I try to access the manager app (which again is working fine on my development machine) I always get a 404 error:</p>\n<pre><code>The requested URL /manager was not found on this server.\n</code></pre>\n<p>tomcat-users.xml contains correct credentials for the manager webapp:</p>\n<pre><code>&lt;tomcat-users&gt;\n&lt;user password=&quot;xxxxx&quot; roles=&quot;manager-script,manager-gui,admin, admin-gui&quot; username=&quot;xxxxx&quot;/&gt;\n&lt;/tomcat-users&gt;\n</code></pre>\n<p>What could I be missing?</p>\n<p>Thanks in advance\nJens</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":1,"creation_date":1396978472,"post_id":22944144,"comment_id":35027954,"body_markdown":"Good point! Calling close() on that should do the job.","body":"Good point! Calling close() on that should do the job."},{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":0,"creation_date":1529004781,"post_id":22944144,"comment_id":88731811,"body_markdown":"Possible duplicate of [How to shutdown a Spring Boot Application in a correct way?](https://stackoverflow.com/questions/26547532/how-to-shutdown-a-spring-boot-application-in-a-correct-way)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/26547532/how-to-shutdown-a-spring-boot-application-in-a-correct-way\">How to shutdown a Spring Boot Application in a correct way?</a>"},{"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"score":0,"creation_date":1529007274,"post_id":22944144,"comment_id":88732950,"body_markdown":"@AnandVarkeyPhilips No, it definitely isn&#39;t. This one is about an API, the other is about a way for ops to do so.","body":"@AnandVarkeyPhilips No, it definitely isn&#39;t. This one is about an API, the other is about a way for ops to do so."},{"owner":{"account_id":3598339,"reputation":1871,"user_id":3002336,"display_name":"Anand Varkey Philips"},"score":1,"creation_date":1529041934,"post_id":22944144,"comment_id":88741188,"body_markdown":"Okay.. That question link might help others. Do you want me to delete the above comment?","body":"Okay.. That question link might help others. Do you want me to delete the above comment?"}],"answers":[{"tags":[],"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"comment_count":0,"down_vote_count":0,"up_vote_count":144,"is_accepted":true,"score":144,"last_activity_date":1572301504,"creation_date":1396980314,"answer_id":22944850,"question_id":22944144,"body_markdown":"Closing a [`SpringApplication`][1] basically means closing the underlying `ApplicationContext`. The [`SpringApplication#run(String...)`][2] method gives you that `ApplicationContext` as a `ConfigurableApplicationContext`. You can then [`close()`][3] it yourself. \r\n\r\n\r\nFor example,\r\n\r\n    @SpringBootApplication\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\r\n            // ...determine it&#39;s time to shut down...\r\n            ctx.close();\r\n        }\r\n    }\r\n\r\n\r\nAlternatively, you can use the `static` [`SpringApplication.exit(ApplicationContext, ExitCodeGenerator...)`][4] helper method to do it for you. For example,\r\n\r\n    @SpringBootApplication\r\n    public class Example {\r\n        public static void main(String[] args) {\r\n            ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\r\n            // ...determine it&#39;s time to stop...\r\n            int exitCode = SpringApplication.exit(ctx, new ExitCodeGenerator() {\r\n                @Override\r\n                public int getExitCode() {\r\n                    // no errors\r\n                    return 0;\r\n                }\r\n            });\r\n\r\n            // or shortened to\r\n            // int exitCode = SpringApplication.exit(ctx, () -&gt; 0);\r\n\r\n            System.exit(exitCode);\r\n        }\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\r\n  [2]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run-java.lang.Object-java.lang.String...-\r\n  [3]: http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html#close--\r\n  [4]: https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#exit-org.springframework.context.ApplicationContext-org.springframework.boot.ExitCodeGenerator...-\r\n","title":"Programmatically shut down Spring Boot application","body":"<p>Closing a <a href=\"http://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html\" rel=\"noreferrer\"><code>SpringApplication</code></a> basically means closing the underlying <code>ApplicationContext</code>. The <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#run-java.lang.Object-java.lang.String...-\" rel=\"noreferrer\"><code>SpringApplication#run(String...)</code></a> method gives you that <code>ApplicationContext</code> as a <code>ConfigurableApplicationContext</code>. You can then <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/context/ConfigurableApplicationContext.html#close--\" rel=\"noreferrer\"><code>close()</code></a> it yourself. </p>\n\n<p>For example,</p>\n\n<pre><code>@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\n        // ...determine it's time to shut down...\n        ctx.close();\n    }\n}\n</code></pre>\n\n<p>Alternatively, you can use the <code>static</code> <a href=\"https://docs.spring.io/spring-boot/docs/current/api/org/springframework/boot/SpringApplication.html#exit-org.springframework.context.ApplicationContext-org.springframework.boot.ExitCodeGenerator...-\" rel=\"noreferrer\"><code>SpringApplication.exit(ApplicationContext, ExitCodeGenerator...)</code></a> helper method to do it for you. For example,</p>\n\n<pre><code>@SpringBootApplication\npublic class Example {\n    public static void main(String[] args) {\n        ConfigurableApplicationContext ctx = SpringApplication.run(Example.class, args);\n        // ...determine it's time to stop...\n        int exitCode = SpringApplication.exit(ctx, new ExitCodeGenerator() {\n            @Override\n            public int getExitCode() {\n                // no errors\n                return 0;\n            }\n        });\n\n        // or shortened to\n        // int exitCode = SpringApplication.exit(ctx, () -&gt; 0);\n\n        System.exit(exitCode);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"score":2,"creation_date":1573221273,"post_id":32319955,"comment_id":103821513,"body_markdown":"Just a reminder this solution works for short lived process like batch, but don&#39;t use this on Spring MVC applications. The application just shutdown after booting.","body":"Just a reminder this solution works for short lived process like batch, but don&#39;t use this on Spring MVC applications. The application just shutdown after booting."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1573231864,"post_id":32319955,"comment_id":103827385,"body_markdown":"@MichaelCOLL the question is about how to programatically shutdown a spring boot app regardless of type. It also works for Spring MVC","body":"@MichaelCOLL the question is about how to programatically shutdown a spring boot app regardless of type. It also works for Spring MVC"},{"owner":{"account_id":2178256,"reputation":1173,"user_id":1928419,"display_name":"Micha&#235;l COLL"},"score":1,"creation_date":1573404908,"post_id":32319955,"comment_id":103863390,"body_markdown":"@ACV You&#39;re right it works, it works very well. But for an app that must stay up (like Spring MVC app), I think, it&#39;s not the good way of doing this. In my case, I&#39;ve used `SpringApplication.exit(appContext, () -&gt; returnCode)`.","body":"@ACV You&#39;re right it works, it works very well. But for an app that must stay up (like Spring MVC app), I think, it&#39;s not the good way of doing this. In my case, I&#39;ve used <code>SpringApplication.exit(appContext, () -&gt; returnCode)</code>."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":1,"creation_date":1592847123,"post_id":32319955,"comment_id":110565659,"body_markdown":"What VM are you referring to in your last line?  If you&#39;re starting your Spring Boot application with `SpringApplication.run(MyApplication.class, args)`, then there is no parent context. There&#39;s only one context, the context created and returned by `run`, which you then immediately `close`. @Michael is right. This won&#39;t work for programs that need to do anything after the Spring context is initialized, which is most programs.","body":"What VM are you referring to in your last line?  If you&#39;re starting your Spring Boot application with <code>SpringApplication.run(MyApplication.class, args)</code>, then there is no parent context. There&#39;s only one context, the context created and returned by <code>run</code>, which you then immediately <code>close</code>. @Michael is right. This won&#39;t work for programs that need to do anything after the Spring context is initialized, which is most programs."},{"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"score":0,"creation_date":1593001469,"post_id":32319955,"comment_id":110625761,"body_markdown":"@Savior JVM. There is a parent context. Here we&#39;re talking about how to shut down a Spring boot application. You normally don&#39;t shut down web applications this way. So this mechanism is usually used for short lived applications that do something then need to stop. By default, Spring boot will just keep on running even after you finished your batch processing so that&#39;s where you would want to use this mechanism.","body":"@Savior JVM. There is a parent context. Here we&#39;re talking about how to shut down a Spring boot application. You normally don&#39;t shut down web applications this way. So this mechanism is usually used for short lived applications that do something then need to stop. By default, Spring boot will just keep on running even after you finished your batch processing so that&#39;s where you would want to use this mechanism."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1593005241,"post_id":32319955,"comment_id":110627857,"body_markdown":"Which parent context do you think there is, from where? `run` creates a single `ApplicationContext`, there&#39;s no hierarchy. Whether it&#39;s a web application or not, closing that context will destroy its beans (and shutdown thread pools) and, assuming the program doesn&#39;t do anything else unrelated to the context, will quit. I think the point `@MichaelCOLL was trying to make is that you&#39;re better off capturing the context returned by `run` and calling `close` when you&#39;re ready to exit the application, based on some secondary signal.","body":"Which parent context do you think there is, from where? <code>run</code> creates a single <code>ApplicationContext</code>, there&#39;s no hierarchy. Whether it&#39;s a web application or not, closing that context will destroy its beans (and shutdown thread pools) and, assuming the program doesn&#39;t do anything else unrelated to the context, will quit. I think the point <code>@MichaelCOLL was trying to make is that you&#39;re better off capturing the context returned by </code>run` and calling <code>close</code> when you&#39;re ready to exit the application, based on some secondary signal."},{"owner":{"account_id":6737779,"reputation":3295,"user_id":5191913,"accept_rate":67,"display_name":"Savior"},"score":0,"creation_date":1593005357,"post_id":32319955,"comment_id":110627914,"body_markdown":"Also, even if there was a parent context, you&#39;d be shutting it down and destroying all of its beans, which wouldn&#39;t be much use to the other context, effectively breaking the application.","body":"Also, even if there was a parent context, you&#39;d be shutting it down and destroying all of its beans, which wouldn&#39;t be much use to the other context, effectively breaking the application."}],"tags":[],"owner":{"account_id":543631,"reputation":10094,"user_id":912829,"accept_rate":53,"display_name":"ACV"},"comment_count":7,"down_vote_count":2,"up_vote_count":48,"is_accepted":false,"score":46,"last_activity_date":1564047192,"creation_date":1441055064,"answer_id":32319955,"question_id":22944144,"body_markdown":"This works, even done is printed.\r\n\r\n      SpringApplication.run(MyApplication.class, args).close();\r\n      System.out.println(&quot;done&quot;);\r\n\r\n\r\nSo adding `.close()` after `run()`\r\n\r\nExplanation:\r\n\r\n&gt; `public ConfigurableApplicationContext run(String... args)`\r\n&gt; \r\n&gt; Run the Spring application, creating and refreshing a new\r\n&gt; ApplicationContext. Parameters:\r\n&gt; \r\n&gt; `args` - the application arguments (usually passed from a Java main\r\n&gt; method)\r\n&gt; \r\n&gt; Returns:\r\n&gt; **a running ApplicationContext**\r\n\r\nand:\r\n\r\n&gt; `void close()` Close this application context, releasing all resources\r\n&gt; and locks that the implementation might hold. This includes destroying\r\n&gt; all cached singleton beans. Note: Does not invoke close on a parent\r\n&gt; context; parent contexts have their own, independent lifecycle.\r\n&gt; \r\n&gt; This method can be called multiple times without side effects:\r\n&gt; Subsequent close calls on an already closed context will be ignored.\r\n\r\nSo basically, it will not close the parent context, that&#39;s why the VM doesn&#39;t quit.\r\n","title":"Programmatically shut down Spring Boot application","body":"<p>This works, even done is printed.</p>\n\n<pre><code>  SpringApplication.run(MyApplication.class, args).close();\n  System.out.println(\"done\");\n</code></pre>\n\n<p>So adding <code>.close()</code> after <code>run()</code></p>\n\n<p>Explanation:</p>\n\n<blockquote>\n  <p><code>public ConfigurableApplicationContext run(String... args)</code></p>\n  \n  <p>Run the Spring application, creating and refreshing a new\n  ApplicationContext. Parameters:</p>\n  \n  <p><code>args</code> - the application arguments (usually passed from a Java main\n  method)</p>\n  \n  <p>Returns:\n  <strong>a running ApplicationContext</strong></p>\n</blockquote>\n\n<p>and:</p>\n\n<blockquote>\n  <p><code>void close()</code> Close this application context, releasing all resources\n  and locks that the implementation might hold. This includes destroying\n  all cached singleton beans. Note: Does not invoke close on a parent\n  context; parent contexts have their own, independent lifecycle.</p>\n  \n  <p>This method can be called multiple times without side effects:\n  Subsequent close calls on an already closed context will be ignored.</p>\n</blockquote>\n\n<p>So basically, it will not close the parent context, that's why the VM doesn't quit.</p>\n"},{"tags":[],"owner":{"account_id":1628535,"reputation":5864,"user_id":1503538,"accept_rate":100,"display_name":"snovelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":140,"is_accepted":false,"score":140,"last_activity_date":1677673471,"creation_date":1453464235,"answer_id":34946292,"question_id":22944144,"body_markdown":"The simplest way would be to inject the following object where you need to initiate the shutdown\r\n\r\n**ApplicationShutdownManager.java**\r\n\r\n    import org.springframework.context.ApplicationContext;\r\n    import org.springframework.boot.SpringApplication;\r\n\r\n    @Component\r\n    class ApplicationShutdownManager {\r\n\r\n        @Autowired\r\n        private ApplicationContext appContext;\r\n\r\n        /*\r\n         * Invoke with `0` to indicate no error or different code to indicate\r\n         * abnormal exit. es: shutdownManager.initiateShutdown(0);\r\n         **/\r\n        public void initiateShutdown(int returnCode){\r\n            SpringApplication.exit(appContext, () -&gt; returnCode);\r\n        }\r\n    }","title":"Programmatically shut down Spring Boot application","body":"<p>The simplest way would be to inject the following object where you need to initiate the shutdown</p>\n<p><strong>ApplicationShutdownManager.java</strong></p>\n<pre><code>import org.springframework.context.ApplicationContext;\nimport org.springframework.boot.SpringApplication;\n\n@Component\nclass ApplicationShutdownManager {\n\n    @Autowired\n    private ApplicationContext appContext;\n\n    /*\n     * Invoke with `0` to indicate no error or different code to indicate\n     * abnormal exit. es: shutdownManager.initiateShutdown(0);\n     **/\n    public void initiateShutdown(int returnCode){\n        SpringApplication.exit(appContext, () -&gt; returnCode);\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10141081,"reputation":81,"user_id":7490815,"display_name":"Vlad G."},"score":0,"creation_date":1553624371,"post_id":39487896,"comment_id":97451562,"body_markdown":"Ok. Where am I supposed to get ExecutorServiceExitCodeGenerator? If it is a bean, can you show the creation snippet code (and from which class it is created)? In which class the method shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) should be put?","body":"Ok. Where am I supposed to get ExecutorServiceExitCodeGenerator? If it is a bean, can you show the creation snippet code (and from which class it is created)? In which class the method shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) should be put?"}],"tags":[],"owner":{"account_id":482529,"reputation":5253,"user_id":896981,"accept_rate":100,"display_name":"magiccrafter"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1490875625,"creation_date":1473848059,"answer_id":39487896,"question_id":22944144,"body_markdown":"**In the application** you can use `SpringApplication`. This has a static `exit()` method that takes two arguments: the `ApplicationContext` and an `ExitCodeGenerator`:\r\n\r\ni.e. you can declare this method:\r\n\r\n    @Autowired\r\n    public void shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) {\r\n        SpringApplication.exit(applicationContext, exitCodeGenerator);\r\n    }\r\n\r\n\r\n**Inside the Integration tests** you can achieved it by adding `@DirtiesContext` annotation at class level:  \r\n\r\n* `@DirtiesContext(classMode=ClassMode.AFTER_CLASS)` - The associated ApplicationContext will be marked as dirty after the test class.\r\n* `@DirtiesContext(classMode=ClassMode.AFTER_EACH_TEST_METHOD)` - The associated ApplicationContext will be marked as dirty after each test method in the class.\r\n\r\ni.e.\r\n  \r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @SpringBootTest(classes = {Application.class},\r\n        webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {&quot;server.port:0&quot;})\r\n    @DirtiesContext(classMode= DirtiesContext.ClassMode.AFTER_CLASS)\r\n    public class ApplicationIT {\r\n    ...","title":"Programmatically shut down Spring Boot application","body":"<p><strong>In the application</strong> you can use <code>SpringApplication</code>. This has a static <code>exit()</code> method that takes two arguments: the <code>ApplicationContext</code> and an <code>ExitCodeGenerator</code>:</p>\n\n<p>i.e. you can declare this method:</p>\n\n<pre><code>@Autowired\npublic void shutDown(ExecutorServiceExitCodeGenerator exitCodeGenerator) {\n    SpringApplication.exit(applicationContext, exitCodeGenerator);\n}\n</code></pre>\n\n<p><strong>Inside the Integration tests</strong> you can achieved it by adding <code>@DirtiesContext</code> annotation at class level:  </p>\n\n<ul>\n<li><code>@DirtiesContext(classMode=ClassMode.AFTER_CLASS)</code> - The associated ApplicationContext will be marked as dirty after the test class.</li>\n<li><code>@DirtiesContext(classMode=ClassMode.AFTER_EACH_TEST_METHOD)</code> - The associated ApplicationContext will be marked as dirty after each test method in the class.</li>\n</ul>\n\n<p>i.e.</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@SpringBootTest(classes = {Application.class},\n    webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT, properties = {\"server.port:0\"})\n@DirtiesContext(classMode= DirtiesContext.ClassMode.AFTER_CLASS)\npublic class ApplicationIT {\n...\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6803845,"reputation":278,"user_id":5236295,"display_name":"Jonas D"},"score":1,"creation_date":1614160483,"post_id":55196987,"comment_id":117298381,"body_markdown":"+! as required the `System.exit(exitCode)` in my application, otherwise spring boot was restarting","body":"+! as required the <code>System.exit(exitCode)</code> in my application, otherwise spring boot was restarting"}],"tags":[],"owner":{"account_id":10212015,"reputation":1812,"user_id":7538821,"accept_rate":100,"display_name":"sam"},"comment_count":1,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1589908469,"creation_date":1552740639,"answer_id":55196987,"question_id":22944144,"body_markdown":"This will make sure that the SpringBoot application is closed properly and the resources are released back to the operating system,\r\n\r\n    @Autowired\r\n    private ApplicationContext context;\r\n\r\n    @GetMapping(&quot;/shutdown-app&quot;)\r\n    public void shutdownApp() {\r\n\r\n        int exitCode = SpringApplication.exit(context, (ExitCodeGenerator) () -&gt; 0);\r\n        System.exit(exitCode);\r\n    }","title":"Programmatically shut down Spring Boot application","body":"<p>This will make sure that the SpringBoot application is closed properly and the resources are released back to the operating system,</p>\n\n<pre><code>@Autowired\nprivate ApplicationContext context;\n\n@GetMapping(\"/shutdown-app\")\npublic void shutdownApp() {\n\n    int exitCode = SpringApplication.exit(context, (ExitCodeGenerator) () -&gt; 0);\n    System.exit(exitCode);\n}\n</code></pre>\n"}],"owner":{"account_id":142616,"reputation":34842,"user_id":350428,"accept_rate":59,"display_name":"Axel Fontaine"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":159172,"favorite_count":0,"down_vote_count":0,"up_vote_count":158,"accepted_answer_id":22944850,"answer_count":5,"score":158,"last_activity_date":1677673471,"creation_date":1396978076,"question_id":22944144,"body_markdown":"How can I **programmatically shutdown** a **Spring Boot** application **without terminating the VM**?\r\n\r\nIn other works, what is the opposite of\r\n\r\n    new SpringApplication(Main.class).run(args);","title":"Programmatically shut down Spring Boot application","body":"<p>How can I <strong>programmatically shutdown</strong> a <strong>Spring Boot</strong> application <strong>without terminating the VM</strong>?</p>\n\n<p>In other works, what is the opposite of</p>\n\n<pre><code>new SpringApplication(Main.class).run(args);\n</code></pre>\n"},{"tags":["java","spring-boot","spring-repositories"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1677674543,"post_id":75602136,"comment_id":133383688,"body_markdown":"You are using JPA, which requires a datasource, however you excluded the `DataSourceAutoConfiguration`. No datasource, no JPA, no Spring Data JPA.","body":"You are using JPA, which requires a datasource, however you excluded the <code>DataSourceAutoConfiguration</code>. No datasource, no JPA, no Spring Data JPA."}],"answers":[{"comments":[{"owner":{"account_id":27907579,"reputation":3,"user_id":21310443,"display_name":"Azizxon Zufarov"},"score":0,"creation_date":1677665748,"post_id":75602193,"comment_id":133381181,"body_markdown":"anyway this error occurs! I have put @Repository annotation for repository","body":"anyway this error occurs! I have put @Repository annotation for repository"},{"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"score":0,"creation_date":1677666266,"post_id":75602193,"comment_id":133381311,"body_markdown":"@AzizxonZufarov What about your DemoApplication? What does that look like? You might need this annotation in your DemoApplication: `@ComponentScan(basePackages = &quot;com.example.demo&quot;)`.","body":"@AzizxonZufarov What about your DemoApplication? What does that look like? You might need this annotation in your DemoApplication: <code>@ComponentScan(basePackages = &quot;com.example.demo&quot;)</code>."},{"owner":{"account_id":27907579,"reputation":3,"user_id":21310443,"display_name":"Azizxon Zufarov"},"score":0,"creation_date":1677673480,"post_id":75602193,"comment_id":133383324,"body_markdown":"I edited question, added DemoApplication.java. The issue still occurs.","body":"I edited question, added DemoApplication.java. The issue still occurs."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677674511,"post_id":75602193,"comment_id":133383676,"body_markdown":"You don&#39;t need that with a spring data repository.","body":"You don&#39;t need that with a spring data repository."},{"owner":{"account_id":27907579,"reputation":3,"user_id":21310443,"display_name":"Azizxon Zufarov"},"score":0,"creation_date":1677680301,"post_id":75602193,"comment_id":133385625,"body_markdown":"Seems this error does not have any solution, sorry then...","body":"Seems this error does not have any solution, sorry then..."}],"tags":[],"owner":{"account_id":19726215,"reputation":538,"user_id":14442758,"display_name":"Z-100"},"comment_count":5,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677665130,"creation_date":1677665130,"answer_id":75602193,"question_id":75602136,"body_markdown":"In order for Spring to find your beans using &quot;Spring Magic&quot; you have to use the correct annotations:\r\n\r\nJust like using `@Controller` or `@Service` for a controller or a service, there&#39;s an annotation for repositories: `@Repository`.\r\n\r\nAnnotate your repository with this.","title":"Field postRepository in BlogController required a bean of type &#39;PostRepository&#39; that could not be found","body":"<p>In order for Spring to find your beans using &quot;Spring Magic&quot; you have to use the correct annotations:</p>\n<p>Just like using <code>@Controller</code> or <code>@Service</code> for a controller or a service, there's an annotation for repositories: <code>@Repository</code>.</p>\n<p>Annotate your repository with this.</p>\n"}],"owner":{"account_id":27907579,"reputation":3,"user_id":21310443,"display_name":"Azizxon Zufarov"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":403,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677673396,"creation_date":1677664825,"question_id":75602136,"body_markdown":"I am writing simple Java Spring boot MVC web application.\r\nIt contains crud operations for manipulating with blog elements such as posts.\r\n\r\n\r\nI have one error:\r\n```\r\nError starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n2023-03-01 14:47:48.697 ERROR 4176 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \r\n\r\n***************************\r\nAPPLICATION FAILED TO START\r\n***************************\r\n\r\nDescription:\r\n\r\nField postRepository in com.example.demo.controllers.BlogController required a bean of type &#39;com.example.demo.repo.PostRepository&#39; that could not be found.\r\n\r\nThe injection point has the following annotations:\r\n\t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n\r\n\r\nAction:\r\n\r\nConsider defining a bean of type &#39;com.example.demo.repo.PostRepository&#39; in your configuration.\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```\r\n\r\nMy code looks as follows, the Controller:\r\n```\r\npackage com.example.demo.controllers;\r\n\r\nimport com.example.demo.models.Post;\r\nimport com.example.demo.repo.PostRepository;\r\nimport javafx.geometry.Pos;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.multipart.MultipartException;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Optional;\r\n\r\n@Controller\r\npublic class BlogController {\r\n\r\n    @Autowired\r\n    private PostRepository postRepository;\r\n\r\n    @GetMapping(&quot;/blog&quot;)\r\n    public String name(Model model, String name) {\r\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\r\n        model.addAttribute(&quot;posts&quot;, posts);\r\n        return &quot;blogmain&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe repository, which is not found by Spring:\r\n\r\n```\r\npackage com.example.demo.repo;\r\n\r\nimport com.example.demo.models.Post;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {}\r\n```\r\nDemoApplication.java:\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\r\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\r\npublic class DemoApplication {\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nMy project structure looks [like this](https://ibb.co/BGMnwSm):\r\n```\r\nsrc/main/java/com/example/demo\r\n|_controllers\r\n  |_BlogController.java\r\n  |_MainController.java\r\n|_models\r\n  |_[...]\r\n|_repo\r\n  |_PostRepository.java\r\n|_templates\r\n  |_[...]\r\n|_DemoApplication.java\r\n```\r\n\r\nThanks!","title":"Field postRepository in BlogController required a bean of type &#39;PostRepository&#39; that could not be found","body":"<p>I am writing simple Java Spring boot MVC web application.\nIt contains crud operations for manipulating with blog elements such as posts.</p>\n<p>I have one error:</p>\n<pre><code>Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2023-03-01 14:47:48.697 ERROR 4176 --- [  restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : \n\n***************************\nAPPLICATION FAILED TO START\n***************************\n\nDescription:\n\nField postRepository in com.example.demo.controllers.BlogController required a bean of type 'com.example.demo.repo.PostRepository' that could not be found.\n\nThe injection point has the following annotations:\n    - @org.springframework.beans.factory.annotation.Autowired(required=true)\n\n\nAction:\n\nConsider defining a bean of type 'com.example.demo.repo.PostRepository' in your configuration.\n\n\nProcess finished with exit code 1\n\n</code></pre>\n<p>My code looks as follows, the Controller:</p>\n<pre><code>package com.example.demo.controllers;\n\nimport com.example.demo.models.Post;\nimport com.example.demo.repo.PostRepository;\nimport javafx.geometry.Pos;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.multipart.MultipartException;\n\nimport java.util.ArrayList;\nimport java.util.Optional;\n\n@Controller\npublic class BlogController {\n\n    @Autowired\n    private PostRepository postRepository;\n\n    @GetMapping(&quot;/blog&quot;)\n    public String name(Model model, String name) {\n        Iterable&lt;Post&gt; posts = postRepository.findAll();\n        model.addAttribute(&quot;posts&quot;, posts);\n        return &quot;blogmain&quot;;\n    }\n}\n\n</code></pre>\n<p>The repository, which is not found by Spring:</p>\n<pre><code>package com.example.demo.repo;\n\nimport com.example.demo.models.Post;\nimport org.springframework.data.repository.CrudRepository;\n\npublic interface PostRepository extends CrudRepository&lt;Post, Long&gt; {}\n</code></pre>\n<p>DemoApplication.java:</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication(exclude={DataSourceAutoConfiguration.class})\n@ComponentScan(basePackages = &quot;com.example.demo&quot;)\npublic class DemoApplication {\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n<p>My project structure looks <a href=\"https://ibb.co/BGMnwSm\" rel=\"nofollow noreferrer\">like this</a>:</p>\n<pre><code>src/main/java/com/example/demo\n|_controllers\n  |_BlogController.java\n  |_MainController.java\n|_models\n  |_[...]\n|_repo\n  |_PostRepository.java\n|_templates\n  |_[...]\n|_DemoApplication.java\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","jersey","jax-rs"],"owner":{"account_id":18226753,"reputation":95,"user_id":13266400,"display_name":"Q2Dev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1677673218,"creation_date":1677673218,"question_id":75603648,"body_markdown":"I have created a gradle spring-boot application which has both spring-mvc controllers as well as jersey jax-rs controllers. I have created .war file and deployed it in an external tomcat.\r\n\r\nI am able to successfully hit spring-mvc controllers as well as jersey jax-rs endpoints which are part of the project. But when I try to hit endpoints which are part of jar file placed in **WEB-INF/lib** directory, I get 404 error response.\r\n\r\nMy **JerseyConfig** class file is as follows:\r\n\r\n    package com.example.core.config;\r\n\r\n    import com.example.core.rest.OauthController;\r\n    import org.glassfish.jersey.server.ResourceConfig;\r\n    import org.glassfish.jersey.servlet.ServletProperties;\r\n    import org.springframework.context.annotation.Configuration;\r\n\r\n    import javax.ws.rs.ApplicationPath;\r\n\r\n    @Configuration\r\n    @ApplicationPath(&quot;/rest&quot;)\r\n    public class JerseyConfig extends ResourceConfig {\r\n\r\n    public JerseyConfig(){\r\n        packages(&quot;com.example.core.oauth.*&quot;);    //This the package I am trying to load from jar file\r\n        property(ServletProperties.FILTER_FORWARD_ON_404, true);\r\n        register(OauthController.class);      //Endpoint created within the project which loads successfully\r\n\r\n      }\r\n\r\n    }\r\n\r\nWhen I call https://localhost/rest/oauthcontroller I get 200 response, even the spring mvc controller https://localhost/mycontroller from the same project gives 200 response, but all the rest endpoints which are part of the jar files(com.example.core.oauth.*) are giving 404 response.","title":"How to load jersey endpoints from a jar in springboot application","body":"<p>I have created a gradle spring-boot application which has both spring-mvc controllers as well as jersey jax-rs controllers. I have created .war file and deployed it in an external tomcat.</p>\n<p>I am able to successfully hit spring-mvc controllers as well as jersey jax-rs endpoints which are part of the project. But when I try to hit endpoints which are part of jar file placed in <strong>WEB-INF/lib</strong> directory, I get 404 error response.</p>\n<p>My <strong>JerseyConfig</strong> class file is as follows:</p>\n<pre><code>package com.example.core.config;\n\nimport com.example.core.rest.OauthController;\nimport org.glassfish.jersey.server.ResourceConfig;\nimport org.glassfish.jersey.servlet.ServletProperties;\nimport org.springframework.context.annotation.Configuration;\n\nimport javax.ws.rs.ApplicationPath;\n\n@Configuration\n@ApplicationPath(&quot;/rest&quot;)\npublic class JerseyConfig extends ResourceConfig {\n\npublic JerseyConfig(){\n    packages(&quot;com.example.core.oauth.*&quot;);    //This the package I am trying to load from jar file\n    property(ServletProperties.FILTER_FORWARD_ON_404, true);\n    register(OauthController.class);      //Endpoint created within the project which loads successfully\n\n  }\n\n}\n</code></pre>\n<p>When I call https://localhost/rest/oauthcontroller I get 200 response, even the spring mvc controller https://localhost/mycontroller from the same project gives 200 response, but all the rest endpoints which are part of the jar files(com.example.core.oauth.*) are giving 404 response.</p>\n"},{"tags":["java","selenium","testing","selenium-webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534321981,"post_id":51853219,"comment_id":90663078,"body_markdown":"do you want to disable the proxy on chrome browser ?and not to get any popup for asking the username and password ?","body":"do you want to disable the proxy on chrome browser ?and not to get any popup for asking the username and password ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322140,"post_id":51853219,"comment_id":90663134,"body_markdown":"I want to enter the username and password in that popup","body":"I want to enter the username and password in that popup"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534322233,"post_id":51853219,"comment_id":90663174,"body_markdown":"are you getting any error ?","body":"are you getting any error ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322291,"post_id":51853219,"comment_id":90663201,"body_markdown":"Not any error, I tried passing the username and password with url itself but it is not working @RamanaMuttana","body":"Not any error, I tried passing the username and password with url itself but it is not working @RamanaMuttana"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534322394,"post_id":51853219,"comment_id":90663247,"body_markdown":"can you add the code ,,making the driver to go to popup is not through url , it can done by   Alert alert = driver.switchTo().alert();","body":"can you add the code ,,making the driver to go to popup is not through url , it can done by   Alert alert = driver.switchTo().alert();"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322456,"post_id":51853219,"comment_id":90663274,"body_markdown":"Not able to switch to alert","body":"Not able to switch to alert"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534322579,"post_id":51853219,"comment_id":90663314,"body_markdown":"@RamanaMuttana Please check the code","body":"@RamanaMuttana Please check the code"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534323150,"post_id":51853219,"comment_id":90663554,"body_markdown":"dc.setCapability(CapabilityType.PROXY,p); change this line","body":"dc.setCapability(CapabilityType.PROXY,p); change this line"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534323260,"post_id":51853219,"comment_id":90663610,"body_markdown":"After changing what should i do because alert is still not working","body":"After changing what should i do because alert is still not working"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534323999,"post_id":51853219,"comment_id":90663936,"body_markdown":"https://www.autoitscript.com/site/autoit/  create one AUTOIT script.exe and run with it ..WinWaitActive(&quot;Authentication Login&quot;) send(&quot;validusername&quot;) send(&quot;{TAB}&quot;) send(&quot;Validpassword&quot;) send(&quot;{ENTER}&quot;)  add path of this exe before your opening url","body":"<a href=\"https://www.autoitscript.com/site/autoit/\" rel=\"nofollow noreferrer\">autoitscript.com/site/autoit</a>  create one AUTOIT script.exe and run with it ..WinWaitActive(&quot;Authentication Login&quot;) send(&quot;validusername&quot;) send(&quot;{TAB}&quot;) send(&quot;Validpassword&quot;) send(&quot;{ENTER}&quot;)  add path of this exe before your opening url"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534324641,"post_id":51853219,"comment_id":90664205,"body_markdown":"problem is after driver.get(&quot;www.google.com&quot;)   No instruction is running","body":"problem is after driver.get(&quot;www.google.com&quot;)   No instruction is running"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534324859,"post_id":51853219,"comment_id":90664295,"body_markdown":"did you read the above comment and tried ? 1)the first question is did the popup is appearing before the driver.get(&quot;www.google.com&quot;) or after the driver.get(&quot;www.google.com&quot;)?. if the popup appears before the driver tries to open the google.com,, then add the AUTOIT script.exe file before driver.get(&quot;www.google.com&quot;).","body":"did you read the above comment and tried ? 1)the first question is did the popup is appearing before the driver.get(&quot;www.google.com&quot;) or after the driver.get(&quot;www.google.com&quot;)?. if the popup appears before the driver tries to open the google.com,, then add the AUTOIT script.exe file before driver.get(&quot;www.google.com&quot;)."},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325121,"post_id":51853219,"comment_id":90664434,"body_markdown":"Yes ;popup is appearing before driver.get()","body":"Yes ;popup is appearing before driver.get()"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534325540,"post_id":51853219,"comment_id":90664619,"body_markdown":"then follow the above comment code and link provided and tell me the results","body":"then follow the above comment code and link provided and tell me the results"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325935,"post_id":51853219,"comment_id":90664810,"body_markdown":"Proxy p = new Proxy(); p.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;);\np.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;);\nSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&quot;);\nChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--incognito&quot;);\nDesiredCapabilities dc = DesiredCapabilities.chrome();\ndc.setCapability(ChromeOptions.CAPABILITY,options);\ndc.setCapability(CapabilityType.PROXY,p);\nWebDriver driver = new ChromeDriver(dc);\tRuntime.getRuntime().exec(&quot;path&quot;);","body":"Proxy p = new Proxy(); p.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;); p.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;); System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;&quot;); ChromeOptions options = new ChromeOptions(); options.addArguments(&quot;--incognito&quot;); DesiredCapabilities dc = DesiredCapabilities.chrome(); dc.setCapability(ChromeOptions.CAPABILITY,options); dc.setCapability(CapabilityType.PROXY,p); WebDriver driver = new ChromeDriver(dc);\tRuntime.getRuntime().exec(&quot;path&quot;);"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534325948,"post_id":51853219,"comment_id":90664817,"body_markdown":"tried this code but not working","body":"tried this code but not working"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534326223,"post_id":51853219,"comment_id":90664952,"body_markdown":"I have already watch that video but issue is same","body":"I have already watch that video but issue is same"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534326778,"post_id":51853219,"comment_id":90665247,"body_markdown":"try driver.get( &quot;http://username:password@google.com&quot;); once","body":"try driver.get( &quot;<a href=\"http://username:password@google.com&quot;\" rel=\"nofollow noreferrer\">username:password@google.com&quot;</a>); once"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534326947,"post_id":51853219,"comment_id":90665335,"body_markdown":"i tried like driver.get(&quot;https://username:password@google.com&quot;); but did not work","body":"i tried like driver.get(&quot;<a href=\"https://username:password@google.com&quot;\" rel=\"nofollow noreferrer\">username:password@google.com&quot;</a>); but did not work"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327384,"post_id":51853219,"comment_id":90665574,"body_markdown":"username and password are :  your username and your password","body":"username and password are :  your username and your password"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534327560,"post_id":51853219,"comment_id":90665664,"body_markdown":"username is love and password is also love","body":"username is love and password is also love"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327626,"post_id":51853219,"comment_id":90665694,"body_markdown":"i mean did you tried with your credientials ? i am not asking for you to mention .what is the result now ?","body":"i mean did you tried with your credientials ? i am not asking for you to mention .what is the result now ?"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534327690,"post_id":51853219,"comment_id":90665725,"body_markdown":"you mean manually","body":"you mean manually"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534327739,"post_id":51853219,"comment_id":90665753,"body_markdown":"no , with driver only","body":"no , with driver only"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534328025,"post_id":51853219,"comment_id":90665898,"body_markdown":"yes tried with driver and it is still showing me the authentication popup","body":"yes tried with driver and it is still showing me the authentication popup"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534328267,"post_id":51853219,"comment_id":90665994,"body_markdown":"Try with &quot;MultiPass for HTTP basic authentication&quot; chrome extension","body":"Try with &quot;MultiPass for HTTP basic authentication&quot; chrome extension"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1534328356,"post_id":51853219,"comment_id":90666039,"body_markdown":"how to use http basic authentication","body":"how to use http basic authentication"},{"owner":{"account_id":3521980,"reputation":481,"user_id":2944012,"accept_rate":57,"display_name":"RamanaMuttana"},"score":0,"creation_date":1534328465,"post_id":51853219,"comment_id":90666091,"body_markdown":"add the extension to chrome , search once  &quot;how to add the extensions to chrome&quot; and search for the extension and add and try","body":"add the extension to chrome , search once  &quot;how to add the extensions to chrome&quot; and search for the extension and add and try"},{"owner":{"account_id":10798846,"reputation":28592,"user_id":7943564,"accept_rate":80,"display_name":"glennsl"},"score":0,"creation_date":1534423751,"post_id":51853219,"comment_id":90706181,"body_markdown":"&quot;not working&quot; is not a useful problem description. Please be more specific.","body":"&quot;not working&quot; is not a useful problem description. Please be more specific."},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":2,"creation_date":1534423801,"post_id":51853219,"comment_id":90706219,"body_markdown":"It is still showing authentication","body":"It is still showing authentication"},{"owner":{"account_id":5867615,"reputation":439,"user_id":4621020,"display_name":"oznomal"},"score":0,"creation_date":1542562121,"post_id":51853219,"comment_id":93603806,"body_markdown":"Did you ever find a solution to this? having a similar issue","body":"Did you ever find a solution to this? having a similar issue"},{"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"score":0,"creation_date":1542586375,"post_id":51853219,"comment_id":93610200,"body_markdown":"I used autoit to handle popup","body":"I used autoit to handle popup"}],"answers":[{"tags":[],"owner":{"account_id":8123741,"reputation":1271,"user_id":7037546,"display_name":"dlauzon"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1554386418,"creation_date":1554386418,"answer_id":55517867,"question_id":51853219,"body_markdown":"There&#39;s a small Chrome plugin that you can build manually [from this answer][1].&lt;br&gt;\r\nTo apply the plugin, in a java context:\r\n\r\n    ChromeOptions chromeOptions = new ChromeOptions();\r\n    chromeOptions.addExtensions(new File(&quot;proxy.zip&quot;));\r\n    driver = new ChromeDriver(chromeOptions);\t\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/35293222/7037546","title":"Proxy authentication popup in Selenium","body":"<p>There's a small Chrome plugin that you can build manually <a href=\"https://stackoverflow.com/a/35293222/7037546\">from this answer</a>.<br>\nTo apply the plugin, in a java context:</p>\n\n<pre><code>ChromeOptions chromeOptions = new ChromeOptions();\nchromeOptions.addExtensions(new File(\"proxy.zip\"));\ndriver = new ChromeDriver(chromeOptions);   \n</code></pre>\n"}],"owner":{"account_id":10198263,"reputation":125,"user_id":7529432,"display_name":"Love"},"comment_count":32,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3123,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1677673170,"creation_date":1534309490,"question_id":51853219,"body_markdown":"I am working on a project where I need to use a proxy. I am using the Chrome browser and when I run my script it forces me to enter the username and password of the proxy.\r\n\r\nI have tried passing the username and password with the URL itself, but it is not working.\r\n\r\nHere is the code:\r\n\r\n    Proxy p = new Proxy();\r\n\tp.setHttpProxy(&quot;in-pr.oxylabs.io:20000&quot;);\r\n\tp.setSslProxy(&quot;in-pr.oxylabs.io:20000&quot;);\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;D:\\\\Love_Testing\\\\Senium_Naveen\\\\chrome Driver\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\tChromeOptions options = new ChromeOptions();\r\n\t//\toptions.addArguments(&quot;--incognito&quot;);\r\n\tDesiredCapabilities dc = DesiredCapabilities.chrome();\r\n\tdc.setCapability(ChromeOptions.CAPABILITY,options);\r\n\tdc.setCapability(&quot;proxy&quot;,p);\r\n\tWebDriver driver = new ChromeDriver(dc);\r\n\tdriver.get(&quot;https://www.google.com&quot;);\r\n","title":"Proxy authentication popup in Selenium","body":"<p>I am working on a project where I need to use a proxy. I am using the Chrome browser and when I run my script it forces me to enter the username and password of the proxy.</p>\n\n<p>I have tried passing the username and password with the URL itself, but it is not working.</p>\n\n<p>Here is the code:</p>\n\n<pre><code>Proxy p = new Proxy();\np.setHttpProxy(\"in-pr.oxylabs.io:20000\");\np.setSslProxy(\"in-pr.oxylabs.io:20000\");\nSystem.setProperty(\"webdriver.chrome.driver\",\"D:\\\\Love_Testing\\\\Senium_Naveen\\\\chrome Driver\\\\chromedriver_win32\\\\chromedriver.exe\");\nChromeOptions options = new ChromeOptions();\n//  options.addArguments(\"--incognito\");\nDesiredCapabilities dc = DesiredCapabilities.chrome();\ndc.setCapability(ChromeOptions.CAPABILITY,options);\ndc.setCapability(\"proxy\",p);\nWebDriver driver = new ChromeDriver(dc);\ndriver.get(\"https://www.google.com\");\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27901318,"reputation":1,"user_id":21305637,"display_name":"Nano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677672757,"creation_date":1677672757,"answer_id":75603575,"question_id":75594299,"body_markdown":"Solved. Cleared focus from parent Activity and then requested focus on ViewPager.","title":"TextInputEditText receiving keyboard events without focus","body":"<p>Solved. Cleared focus from parent Activity and then requested focus on ViewPager.</p>\n"}],"owner":{"account_id":27901318,"reputation":1,"user_id":21305637,"display_name":"Nano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603575,"answer_count":1,"score":0,"last_activity_date":1677672757,"creation_date":1677599217,"question_id":75594299,"body_markdown":"I&#39;m using an activity with a ViewPager to scroll between 3 fragments. In this activity, I have overriden dispatchKeyEvent to be able to propagate keyevents generated by the device&#39;s scanner to the correct fragment depending on what is scanned. \r\n\r\nOne of these fragments has some TextInputLayout/TextInputEditText so the user is able to manually add data. When he presses &quot;Done&quot; on SoftKeyboard I set the data, hide the keyboard and clear the focus by calling **getActivity().getCurrentFocus().clearFocus()** (Null checked). Now, if I use the scanner again the input gets written on these TextInputEditText&#39;s, even when getActivity().getCurrentFocus() returns null. Main Activity is no longer able to catch dispatchKeyEvent.\r\n\r\nAny ideas ideas would be highly appreciated.\r\n\r\nSwitching fragments on ViewPager and coming back to this one seems the only way to getting it back working again.","title":"TextInputEditText receiving keyboard events without focus","body":"<p>I'm using an activity with a ViewPager to scroll between 3 fragments. In this activity, I have overriden dispatchKeyEvent to be able to propagate keyevents generated by the device's scanner to the correct fragment depending on what is scanned.</p>\n<p>One of these fragments has some TextInputLayout/TextInputEditText so the user is able to manually add data. When he presses &quot;Done&quot; on SoftKeyboard I set the data, hide the keyboard and clear the focus by calling <strong>getActivity().getCurrentFocus().clearFocus()</strong> (Null checked). Now, if I use the scanner again the input gets written on these TextInputEditText's, even when getActivity().getCurrentFocus() returns null. Main Activity is no longer able to catch dispatchKeyEvent.</p>\n<p>Any ideas ideas would be highly appreciated.</p>\n<p>Switching fragments on ViewPager and coming back to this one seems the only way to getting it back working again.</p>\n"},{"tags":["java","spring-boot","rest"],"comments":[{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":1,"creation_date":1677669128,"post_id":75602877,"comment_id":133382087,"body_markdown":"what is the url you are trying to hit?","body":"what is the url you are trying to hit?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677672256,"post_id":75602877,"comment_id":133382933,"body_markdown":"What is the OS you are running on? Windows? If so you are probably running into https://github.com/spring-projects/spring-boot/issues/34379","body":"What is the OS you are running on? Windows? If so you are probably running into <a href=\"https://github.com/spring-projects/spring-boot/issues/34379\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-boot/issues/34379</a>"},{"owner":{"account_id":27908266,"reputation":1,"user_id":21310997,"display_name":"B Bharat Bhusan Subudhi"},"score":0,"creation_date":1677672268,"post_id":75602877,"comment_id":133382937,"body_markdown":"I am trying to hit &quot;/test&quot;","body":"I am trying to hit &quot;/test&quot;"},{"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"score":0,"creation_date":1677676196,"post_id":75602877,"comment_id":133384243,"body_markdown":"try adding `logging.level.org.springframework=debug` in applicaiton.properties and restart the application. Then you search for the `TestController` in the output console to see if it shows anything?","body":"try adding <code>logging.level.org.springframework=debug</code> in applicaiton.properties and restart the application. Then you search for the <code>TestController</code> in the output console to see if it shows anything?"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1677673000,"post_id":75603565,"comment_id":133383155,"body_markdown":"He wants the controller to be created, the issue is that it isn&#39;t.","body":"He wants the controller to be created, the issue is that it isn&#39;t."}],"tags":[],"owner":{"account_id":26260052,"reputation":16,"user_id":19931523,"display_name":"Amrit Tiwari"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1677672723,"creation_date":1677672723,"answer_id":75603565,"question_id":75602877,"body_markdown":"@SpringBootApplication(scanBasePackages = {“com.example.package”}, exclude={Controller.class}), use this in main class","title":"Spring Boot: Controller beans are not created","body":"<p>@SpringBootApplication(scanBasePackages = {“com.example.package”}, exclude={Controller.class}), use this in main class</p>\n"}],"owner":{"account_id":27908266,"reputation":1,"user_id":21310997,"display_name":"B Bharat Bhusan Subudhi"},"comment_count":4,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":414,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1677938359,"answer_count":1,"score":-1,"last_activity_date":1677672723,"creation_date":1677668944,"question_id":75602877,"body_markdown":"I have created a simple Spring boot Application with single API, but the API is not exposed to the users.\r\n\r\n\r\nI am using java version 17.\r\nSpring boot: 3.0.3\r\n\r\nPlease find my code\r\n\r\n\r\n**Controller**\r\n\r\n```\r\npackage com.example.demo.controller;\r\n\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;/test&quot;)\r\n    public String test(){\r\n        return &quot;test&quot;;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**MainApplication**\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class DemoApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemoApplication.class, args);\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n**application.properties**\r\n\r\n```\r\nserver.port=8081\r\nmanagement.endpoints.web.base-path=/\r\nmanagement.endpoints.web.exposure.include=*\r\n```\r\n\r\n\r\n\r\n**build.gradle**\r\n\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.0.3&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;com.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs a process of debugging, I have added actuator and hit the APIs /mappings and /beans.\r\nNoticed that my **/test** API is not in the mappings list, and also\r\nThere is no bean for my controller **TestController** is found in the beans list.","title":"Spring Boot: Controller beans are not created","body":"<p>I have created a simple Spring boot Application with single API, but the API is not exposed to the users.</p>\n<p>I am using java version 17.\nSpring boot: 3.0.3</p>\n<p>Please find my code</p>\n<p><strong>Controller</strong></p>\n<pre><code>package com.example.demo.controller;\n\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class TestController {\n\n    @GetMapping(&quot;/test&quot;)\n    public String test(){\n        return &quot;test&quot;;\n    }\n}\n\n</code></pre>\n<p><strong>MainApplication</strong></p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n\n}\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=8081\nmanagement.endpoints.web.base-path=/\nmanagement.endpoints.web.exposure.include=*\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.0.3'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'com.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>As a process of debugging, I have added actuator and hit the APIs /mappings and /beans.\nNoticed that my <strong>/test</strong> API is not in the mappings list, and also\nThere is no bean for my controller <strong>TestController</strong> is found in the beans list.</p>\n"},{"tags":["java","eclipse","java-11","var"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677663614,"post_id":75601847,"comment_id":133380568,"body_markdown":"What is set for the compliance level in the &quot;Java Compiler&quot; page of the Eclipse project Properties? That is what tells Eclipse what level to check.","body":"What is set for the compliance level in the &quot;Java Compiler&quot; page of the Eclipse project Properties? That is what tells Eclipse what level to check."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677666221,"post_id":75601847,"comment_id":133381300,"body_markdown":"@greg-449 added screenshot","body":"@greg-449 added screenshot"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1677666562,"post_id":75601847,"comment_id":133381409,"body_markdown":"Does it complain about *every* `var` or just some? Java 11 introduced `var` in lambda arguments and I&#39;m not aware of a later change, but maybe I missed something?","body":"Does it complain about <i>every</i> <code>var</code> or just some? Java 11 introduced <code>var</code> in lambda arguments and I&#39;m not aware of a later change, but maybe I missed something?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1677667059,"post_id":75601847,"comment_id":133381557,"body_markdown":"Yes, show us one of the errors, you can&#39;t use var everywhere.","body":"Yes, show us one of the errors, you can&#39;t use var everywhere."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677667898,"post_id":75601847,"comment_id":133381768,"body_markdown":"@greg-449 this issue is with my system only , this code is old and deployed in server from years.","body":"@greg-449 this issue is with my system only , this code is old and deployed in server from years."},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677667918,"post_id":75601847,"comment_id":133381774,"body_markdown":"@JoachimSauer yes everywhere","body":"@JoachimSauer yes everywhere"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677678075,"post_id":75601847,"comment_id":133384845,"body_markdown":"I cannot reproduce your issue. Your code example seems to be broken. I guess you mean Eclipse 2019-03, which is almost 4 years and 15 releases behind. So please upgrade.","body":"I cannot reproduce your issue. Your code example seems to be broken. I guess you mean Eclipse 2019-03, which is almost 4 years and 15 releases behind. So please upgrade."},{"owner":{"account_id":21994,"reputation":73808,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1677733457,"post_id":75601847,"comment_id":133397324,"body_markdown":"You also need to have the source level of the compiler to 11 or later","body":"You also need to have the source level of the compiler to 11 or later"},{"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"score":0,"creation_date":1677738500,"post_id":75601847,"comment_id":133397954,"body_markdown":"@Thorbj&#248;rnRavnAndersen I have set the compiler to 11 only in Project-&gt;Properties.","body":"@Thorbj&#248;rnRavnAndersen I have set the compiler to 11 only in Project-&gt;Properties."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":1,"creation_date":1677740111,"post_id":75601847,"comment_id":133398288,"body_markdown":"So, can you reproduce it it the a current Eclipse instead of the pretty outdated version 2019-03 (it might caused by an issue already been fixed long time ago or by running Eclipse with a Java version newer than your Eclipse you missed to upgrade for years)? Please make sure your software you are using is up to date before asking (there is a separate Stack Exchange for [retrocomputing](https://retrocomputing.stackexchange.com/)). Why did you set manually _Project &gt; Properties_ rather than right-click the project and choose _Maven &gt; Update Project..._?","body":"So, can you reproduce it it the a current Eclipse instead of the pretty outdated version 2019-03 (it might caused by an issue already been fixed long time ago or by running Eclipse with a Java version newer than your Eclipse you missed to upgrade for years)? Please make sure your software you are using is up to date before asking (there is a separate Stack Exchange for <a href=\"https://retrocomputing.stackexchange.com/\">retrocomputing</a>). Why did you set manually <i>Project &gt; Properties</i> rather than right-click the project and choose <i>Maven &gt; Update Project...</i>?"}],"owner":{"account_id":5137581,"reputation":300,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677672450,"creation_date":1677663362,"question_id":75601847,"body_markdown":"I am using Eclipse 19-03 with jre 11.0.15 , able to compile and run my other existing projects with jre 11 but in a project where var is being used (this project is deployed in server and running fine from months) my IDE gives an error &quot;&#39;var&#39; is not allowed here&quot;. I have checked compiler it is jdk 11. In pom below entries are there.Not sure what I am missing. Can somebody please help.\r\n\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n      @Component\r\n      public class StudentImpl implements StudentMapper {\r\n\r\n      @Override\r\n      public student mapObject(Address sourceObject) {\r\n         if (sourceObject == null) {\r\n      return null;\r\n     }\r\n\r\n    var student = new student();\r\n\r\n    student.setFirstName(sourceObject.getFirstName());\r\n    student.setMiddleName(sourceObject.getMiddleName());\r\n    student.setLastName(sourceObject.getLastName());\r\n    student.setSuffix(sourceObject.getSuffix());\r\n    student.setCompany(sourceObject.getCompany());\r\n    student.setAddressLine1(sourceObject.getAddressLine1());\r\n    student.setAddressLine2(sourceObject.getAddressLine2());\r\n    student.setAddressLine3(sourceObject.getAddressLine3());\r\n    student.setCity(sourceObject.getCity());\r\n    student.setState(sourceObject.getState());\r\n    student.setZipCode(sourceObject.getZipCode());\r\n    student.setCountry(sourceObject.getCountry());\r\n    student.setDayPhone(sourceObject.getDayPhone());\r\n    student.setMobilePhone(sourceObject.getMobilePhone());\r\n    student.setTitle(sourceObject.getTitle());\r\n    student.setEMailID(sourceObject.getEMailID());\r\n    student.setDayFaxNo(sourceObject.getDayFaxNo());\r\n    student.setJobTitle(sourceObject.getJobTitle());\r\n\r\n    return student;\r\n    }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/H0VKD.png","title":"var keyword not recognized in JDK 11.0.15 in Eclipse 19-03","body":"<p>I am using Eclipse 19-03 with jre 11.0.15 , able to compile and run my other existing projects with jre 11 but in a project where var is being used (this project is deployed in server and running fine from months) my IDE gives an error &quot;'var' is not allowed here&quot;. I have checked compiler it is jdk 11. In pom below entries are there.Not sure what I am missing. Can somebody please help.</p>\n<pre><code>    &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/H0VKD.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H0VKD.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>  @Component\n  public class StudentImpl implements StudentMapper {\n\n  @Override\n  public student mapObject(Address sourceObject) {\n     if (sourceObject == null) {\n  return null;\n }\n\nvar student = new student();\n\nstudent.setFirstName(sourceObject.getFirstName());\nstudent.setMiddleName(sourceObject.getMiddleName());\nstudent.setLastName(sourceObject.getLastName());\nstudent.setSuffix(sourceObject.getSuffix());\nstudent.setCompany(sourceObject.getCompany());\nstudent.setAddressLine1(sourceObject.getAddressLine1());\nstudent.setAddressLine2(sourceObject.getAddressLine2());\nstudent.setAddressLine3(sourceObject.getAddressLine3());\nstudent.setCity(sourceObject.getCity());\nstudent.setState(sourceObject.getState());\nstudent.setZipCode(sourceObject.getZipCode());\nstudent.setCountry(sourceObject.getCountry());\nstudent.setDayPhone(sourceObject.getDayPhone());\nstudent.setMobilePhone(sourceObject.getMobilePhone());\nstudent.setTitle(sourceObject.getTitle());\nstudent.setEMailID(sourceObject.getEMailID());\nstudent.setDayFaxNo(sourceObject.getDayFaxNo());\nstudent.setJobTitle(sourceObject.getJobTitle());\n\nreturn student;\n}\n}\n</code></pre>\n"},{"tags":["python","java","opencv","camera-calibration","2d-3d-conversion"],"comments":[{"owner":{"account_id":2780567,"reputation":19695,"user_id":2393191,"accept_rate":83,"display_name":"Micka"},"score":0,"creation_date":1677676731,"post_id":75603497,"comment_id":133384422,"body_markdown":"with just image points and calibration you cant compute a 3D information, because it can be on any depth along a ray. To define the ray you need the calibration, but it can&#39;t tell you magically, where on the ray the point is. If you have second ray (like a second camera with that point) you can intersect both rays (or find their closest distance point) and that&#39;s your point in 3D. Or, if you have 2 points with 1 ray each and you know the real world distance between those points, you can determine the points on both rays which have that known distance to each other.","body":"with just image points and calibration you cant compute a 3D information, because it can be on any depth along a ray. To define the ray you need the calibration, but it can&#39;t tell you magically, where on the ray the point is. If you have second ray (like a second camera with that point) you can intersect both rays (or find their closest distance point) and that&#39;s your point in 3D. Or, if you have 2 points with 1 ray each and you know the real world distance between those points, you can determine the points on both rays which have that known distance to each other."},{"owner":{"account_id":27908627,"reputation":11,"user_id":21311283,"display_name":"Andrea Vannini"},"score":0,"creation_date":1677767412,"post_id":75603497,"comment_id":133405777,"body_markdown":"Hi Micka,\nI have two cameras available with their respective calibrations: intrinsic values ​​and extrinsic velocities for each camera.\nThe intrinsic and extrinsic values ​​are different for each camera and are described as mentioned in the post above\n\nobviously the 2d points for an object seen from the two cameras are different as they refer to the respective position in the image.\n\nDo you know if there is a java or python procedure that allows me to calculate the intersection of the rays of the two cameras?","body":"Hi Micka, I have two cameras available with their respective calibrations: intrinsic values ​​and extrinsic velocities for each camera. The intrinsic and extrinsic values ​​are different for each camera and are described as mentioned in the post above  obviously the 2d points for an object seen from the two cameras are different as they refer to the respective position in the image.  Do you know if there is a java or python procedure that allows me to calculate the intersection of the rays of the two cameras?"}],"owner":{"account_id":27908627,"reputation":11,"user_id":21311283,"display_name":"Andrea Vannini"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677672373,"creation_date":1677672373,"question_id":75603497,"body_markdown":"Good morning,\r\nI&#39;m new to the subject and I need some information on this question:\r\nI have received a file which provides the following calibration data for a camera:\r\n\r\nExtrinsic calibration:\r\n`&lt; opencv_storage &gt;`\r\n`&lt; rvec &gt;`\r\n`1.759099006652832 0.46710100769996643 -0.331699013710022`\r\n`&lt; /rvec &gt;`\r\n`&lt; tvec &gt;`\r\n`-525.8941650390625 45.40763473510742 986.7235107421875`\r\n`&lt; /tvec &gt;`\r\n`&lt; /opencv_storage &gt;`\r\n\r\nIntrisic calibration value:\r\n`&lt; opencv_storage &gt;`\r\n`&lt; camera_matrix type_id=&quot;opencv-matrix&quot; &gt;`\r\n`&lt; rows &gt;3&lt; /rows &gt;`\r\n`&lt; cols &gt;3&lt; /cols &gt;`\r\n`&lt; dt &gt;d&lt; /dt &gt;`\r\n`1743.4478759765625 0.0 934.5202026367188 0.0 1735.1566162109375 444.3987731933594 0.0 0.0 1.0`\r\n`&lt; /data &gt;`\r\n`&lt; /camera_matrix &gt;`\r\n`&lt; distortion_coefficients type_id=&quot;opencv-matrix&quot; &gt;`\r\n`&lt; rows &gt;5&lt; /rows &gt;`\r\n`&lt; cols &gt;1&lt; /cols &gt;`\r\n`&lt; dt &gt;d&lt; /dt &gt;`\r\n`&lt; data &gt;`\r\n`-0.43248599767684937 0.6106230020523071 0.008233999833464622 0.0018599999602884054 -0.6923710107803345`\r\n`&lt; /data &gt;`\r\n`&lt; /distortion_coefficients &gt;`\r\n`&lt; /opencv_storage &gt;`\r\n\r\ngiven a 2d point of the camera image how can i calculate the respective 3d point?\r\n\r\nis this data enough to calculate the respective 3d point?","title":"Java - Get 3D point from 2D point and OpenCV camera calibration","body":"<p>Good morning,\nI'm new to the subject and I need some information on this question:\nI have received a file which provides the following calibration data for a camera:</p>\n<p>Extrinsic calibration:\n<code>&lt; opencv_storage &gt;</code>\n<code>&lt; rvec &gt;</code>\n<code>1.759099006652832 0.46710100769996643 -0.331699013710022</code>\n<code>&lt; /rvec &gt;</code>\n<code>&lt; tvec &gt;</code>\n<code>-525.8941650390625 45.40763473510742 986.7235107421875</code>\n<code>&lt; /tvec &gt;</code>\n<code>&lt; /opencv_storage &gt;</code></p>\n<p>Intrisic calibration value:\n<code>&lt; opencv_storage &gt;</code>\n<code>&lt; camera_matrix type_id=&quot;opencv-matrix&quot; &gt;</code>\n<code>&lt; rows &gt;3&lt; /rows &gt;</code>\n<code>&lt; cols &gt;3&lt; /cols &gt;</code>\n<code>&lt; dt &gt;d&lt; /dt &gt;</code>\n<code>1743.4478759765625 0.0 934.5202026367188 0.0 1735.1566162109375 444.3987731933594 0.0 0.0 1.0</code>\n<code>&lt; /data &gt;</code>\n<code>&lt; /camera_matrix &gt;</code>\n<code>&lt; distortion_coefficients type_id=&quot;opencv-matrix&quot; &gt;</code>\n<code>&lt; rows &gt;5&lt; /rows &gt;</code>\n<code>&lt; cols &gt;1&lt; /cols &gt;</code>\n<code>&lt; dt &gt;d&lt; /dt &gt;</code>\n<code>&lt; data &gt;</code>\n<code>-0.43248599767684937 0.6106230020523071 0.008233999833464622 0.0018599999602884054 -0.6923710107803345</code>\n<code>&lt; /data &gt;</code>\n<code>&lt; /distortion_coefficients &gt;</code>\n<code>&lt; /opencv_storage &gt;</code></p>\n<p>given a 2d point of the camera image how can i calculate the respective 3d point?</p>\n<p>is this data enough to calculate the respective 3d point?</p>\n"},{"tags":["java","android","wifi","wifimanager","network-interface"],"comments":[{"owner":{"account_id":2010059,"reputation":956,"user_id":1798737,"accept_rate":40,"display_name":"Muhammad Hamza Shahid"},"score":0,"creation_date":1496225832,"post_id":44281905,"comment_id":75570653,"body_markdown":"one hack that you can do is you send http request to wifi adapter admin panel ip with login credentials and parse HTML but you would require to parse different HTML for each wifi plus pass different ip and username, password for each wifi","body":"one hack that you can do is you send http request to wifi adapter admin panel ip with login credentials and parse HTML but you would require to parse different HTML for each wifi plus pass different ip and username, password for each wifi"},{"owner":{"account_id":9842095,"reputation":1057,"user_id":7290822,"display_name":"sumit"},"score":0,"creation_date":1496226103,"post_id":44281905,"comment_id":75570833,"body_markdown":"Check this link:\nhttps://stackoverflow.com/questions/8445928/wifi-search-for-the-devices-connected-to-the-same-network-i-e-other-than-acces-p","body":"Check this link: <a href=\"https://stackoverflow.com/questions/8445928/wifi-search-for-the-devices-connected-to-the-same-network-i-e-other-than-acces-p\" title=\"wifi search for the devices connected to the same network i e other than acces p\">stackoverflow.com/questions/8445928/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10975911,"reputation":63,"user_id":8064615,"display_name":"Sharathkumar KG"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1496225996,"creation_date":1496225996,"answer_id":44282087,"question_id":44281905,"body_markdown":"**Follow Any one of the following:**\r\n\r\n**Way1:**\r\n\r\nIf you mean you want to see all the devices connected to your current WiFi connection (and you are not trying to do Ad Hoc networking), then you are essentially wanting to run a network scanner.\r\n\r\nThere are a bunch of these around. This one has the source available on github\r\n\r\nhttp://rorist.github.com/android-network-discovery/\r\n\r\n**Way2:**\r\nRefer https://stackoverflow.com/questions/12386948/how-to-detect-all-the-devices-connected-in-a-wifi-network-from-android-app","title":"Get Devices connected to same wifi network in android programmatically?","body":"<p><strong>Follow Any one of the following:</strong></p>\n\n<p><strong>Way1:</strong></p>\n\n<p>If you mean you want to see all the devices connected to your current WiFi connection (and you are not trying to do Ad Hoc networking), then you are essentially wanting to run a network scanner.</p>\n\n<p>There are a bunch of these around. This one has the source available on github</p>\n\n<p><a href=\"http://rorist.github.com/android-network-discovery/\" rel=\"nofollow noreferrer\">http://rorist.github.com/android-network-discovery/</a></p>\n\n<p><strong>Way2:</strong>\nRefer <a href=\"https://stackoverflow.com/questions/12386948/how-to-detect-all-the-devices-connected-in-a-wifi-network-from-android-app\">How to detect all the Devices connected in a WiFi network from Android App</a></p>\n"}],"owner":{"account_id":7086752,"reputation":123,"user_id":5423356,"accept_rate":50,"display_name":"Akki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10041,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1677672290,"creation_date":1496225529,"question_id":44281905,"body_markdown":"I am developing an app in which the first thing i need is how to get devices that are connected to my wifi network or same wifi network .ie ip adress,device name etc.\r\nI don&#39;t have any idea how to do that have searched alot but there are no examples available.\r\n\r\nI have done one thing that i will ping 255 ips and whichever will respond will be the connected ips but the problem here is that there are virtual ips already assigned to some websites so i need to detect only the real device ip addresses.\r\n\r\n\r\nI want to do the same thing as done in the app WifiTalkie","title":"Get Devices connected to same wifi network in android programmatically?","body":"<p>I am developing an app in which the first thing i need is how to get devices that are connected to my wifi network or same wifi network .ie ip adress,device name etc.\nI don't have any idea how to do that have searched alot but there are no examples available.</p>\n\n<p>I have done one thing that i will ping 255 ips and whichever will respond will be the connected ips but the problem here is that there are virtual ips already assigned to some websites so i need to detect only the real device ip addresses.</p>\n\n<p>I want to do the same thing as done in the app WifiTalkie</p>\n"},{"tags":["java","opencv","camera-calibration"],"answers":[{"tags":[],"owner":{"account_id":6452016,"reputation":31,"user_id":4998671,"display_name":"StefaniaBigs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1434029434,"creation_date":1434029434,"answer_id":30782233,"question_id":25573331,"body_markdown":"I don&#39;t know if you already fixed your issue with the opnecv calibration but I will give you some hints anyway. First of all I suggest you to read the Zhang paper on calibration (http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf). Opencv methods are based on Zhang&#39;s work so understanding it is a real priority.\r\nCalibrating a camera means determine the relation between camera 2D coordinate system (in pixel units, with the origin on top left corner of camera image) and the 3D coordinate systme of the external world (in metres, for example). When you place a known planar calibration object in front of the camera, the system should compute the homogeneous transformation between the knonw 3D object and the 2D one on image (that is the &quot;rvecs.get(i), tvecs.get(i)&quot; you are talking about).\r\nImage coordinates are always in pixel and also the intrinsic calibration matrix is expressed in pixel.\r\nYou cannot &quot;translate&quot; from 2D image coordinates to 3D world coordinates but you can compute the proper transformation: it is composed by an intrinc calibration matrix and a roto-translation matrix. Please have a look also at this article http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf\r\nHope this helps!\r\n","title":"Camera Calibration OpenCV","body":"<p>I don't know if you already fixed your issue with the opnecv calibration but I will give you some hints anyway. First of all I suggest you to read the Zhang paper on calibration (<a href=\"http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf\" rel=\"nofollow\">http://research.microsoft.com/en-us/um/people/zhang/Papers/TR98-71.pdf</a>). Opencv methods are based on Zhang's work so understanding it is a real priority.\nCalibrating a camera means determine the relation between camera 2D coordinate system (in pixel units, with the origin on top left corner of camera image) and the 3D coordinate systme of the external world (in metres, for example). When you place a known planar calibration object in front of the camera, the system should compute the homogeneous transformation between the knonw 3D object and the 2D one on image (that is the \"rvecs.get(i), tvecs.get(i)\" you are talking about).\nImage coordinates are always in pixel and also the intrinsic calibration matrix is expressed in pixel.\nYou cannot \"translate\" from 2D image coordinates to 3D world coordinates but you can compute the proper transformation: it is composed by an intrinc calibration matrix and a roto-translation matrix. Please have a look also at this article <a href=\"http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf\" rel=\"nofollow\">http://research.microsoft.com/en-us/um/people/zhang/Papers/Camera%20Calibration%20-%20book%20chapter.pdf</a>\nHope this helps!</p>\n"},{"tags":[],"owner":{"account_id":6102374,"reputation":499,"user_id":4760987,"accept_rate":80,"display_name":"Alexander Leon VI"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1434034173,"creation_date":1434034173,"answer_id":30784162,"question_id":25573331,"body_markdown":"Do you ever wondered why do you have two eyes? In the most primitive sense, it is because only with both eyes we can have an idea of how far or near objects are. In some applications which need to recuperate 3D information it is made by using two cameras, this is called stereoscopy (http://en.wikipedia.org/wiki/Stereoscopy). If you are trying to depict 3D information using a single camera, you only can have a poor approximation, in this case its needed a transformation called homography (http://en.wikipedia.org/wiki/Homography), the last in order to try to model the perspective (or how far or near objects are).\r\nIn most cases when we wanted to calibrate a single camera we try to remove the radial distortions produced by the lens of the camera (http://en.wikipedia.org/wiki/Distortion_%28optics%29). Opencv offers you a tool to do this process, in most cases its needed a Chess board to help this process, you can check this: http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html, in the spite of being more specific, the function cvFindChessboardCorners. I hope this could be useful to you, sorry for the english, no native speaker.\r\n","title":"Camera Calibration OpenCV","body":"<p>Do you ever wondered why do you have two eyes? In the most primitive sense, it is because only with both eyes we can have an idea of how far or near objects are. In some applications which need to recuperate 3D information it is made by using two cameras, this is called stereoscopy (<a href=\"http://en.wikipedia.org/wiki/Stereoscopy\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Stereoscopy</a>). If you are trying to depict 3D information using a single camera, you only can have a poor approximation, in this case its needed a transformation called homography (<a href=\"http://en.wikipedia.org/wiki/Homography\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Homography</a>), the last in order to try to model the perspective (or how far or near objects are).\nIn most cases when we wanted to calibrate a single camera we try to remove the radial distortions produced by the lens of the camera (<a href=\"http://en.wikipedia.org/wiki/Distortion_%28optics%29\" rel=\"nofollow\">http://en.wikipedia.org/wiki/Distortion_%28optics%29</a>). Opencv offers you a tool to do this process, in most cases its needed a Chess board to help this process, you can check this: <a href=\"http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html\" rel=\"nofollow\">http://docs.opencv.org/modules/calib3d/doc/camera_calibration_and_3d_reconstruction.html</a>, in the spite of being more specific, the function cvFindChessboardCorners. I hope this could be useful to you, sorry for the english, no native speaker.</p>\n"}],"owner":{"account_id":3025743,"reputation":137,"user_id":2565803,"accept_rate":9,"display_name":"Ignacio Ferrero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1319,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677671774,"creation_date":1409333439,"question_id":25573331,"body_markdown":"I am recently new in OpenCV and I have been struggling to calibrate my camera. After a few days researching I have a basic understanding of it. But I still fail to understand some basic points.\r\n\r\n1) The initialization of the objectpoint Matrix, why do we initialize this matrix in 0,0\r\n    \r\n    Mat a = new MatOfPoint3f();\r\n\t\t\tfor(int y=0; y&lt;SIZE_Y; ++y) \r\n\t\t\t{\r\n\t\t\t    for(int x=0; x&lt;SIZE_X; ++x)\r\n\t\t\t    {\r\n\t\t\t    \tpoints = new MatOfPoint3f(new Point3(x*distance_Board , y*distance_Board , 0));\r\n\t\t\t    \ta.push_back(points);\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\nWouldn&#39;t it make more sense to initialize it where the board is in the 3D World for example\r\n\r\n    Mat a = new MatOfPoint3f();\r\n\t\t\tfor(int y=1; y&lt;=SIZE_Y; ++y) \r\n\t\t\t{\r\n\t\t\t    for(int x=1; x&lt;=SIZE_X; ++x)\r\n\t\t\t    {\r\n\t\t\t    \tpoints = new MatOfPoint3f(new Point3(x*distance_Board + FirstPoint.x, y*distance_Board + FirstPoint.y, 0));\r\n\t\t\t    \ta.push_back(points);\r\n\t\t\t    }\r\n\t\t\t}\r\n\r\n2)\r\n\r\nI tried to calibrate my camera using \r\n\r\n    \t\t Calib3d.calibrateCamera(object_points, corners, gray.size(), cameraMatrix, distCoeffs, rvecs, tvecs);\r\n   \r\nI have tried with more than 15 images but the results are still very poor , because i don&#39;t understand the significance of having a rvec and tvec for very image(I understand the logic, since for every point the rotation and translation is  different) but how does it help us with other points/other images. I thought that the calibration provided us with a fair good method to translate 3d point into 2d points in the whole scene..\r\n\r\nThat&#39;s why when I run \r\n\r\n    \t\tCalib3d.projectPoints(objectPoints, rvecs.get(i), tvecs.get(i), cameraMatrix, distCoeffs, imagePoints);\r\n\r\nI really don&#39;t know which rvecs and tvecs to choose\r\n\r\n3)\r\n\r\nIs there a method to translate from 2D(imagePoints) into 3D(real World).I have tried\r\n[this](https://stackoverflow.com/questions/12299870/computing-x-y-coordinate-3d-from-image-point) but the results are incorrect due to the incorrect parameters of calibration\r\n\r\n4)\r\n\r\nI have also tried to do the translation from 2D to 3D as follow\r\n\r\n    x ̃  =  x * ( 1 +  k1 * r^2 + k2 * r^4 ) + [ 2 p1 * x * y + p2 * ( r^2 + 2 * x^2 ) ] \r\n\r\n    y ̃  =  y * ( 1 +  k1 * r^2 + k2 * r^4 ] + [ 2 p2 * x * y + p2 * ( r^2 + 2 * y^2 ) ],\r\n\r\na)But what is r? r =  sqrt( x^2 + y^2 )? And x = (the x coordinate pixel) - (the camera center in pixels) ?  \r\n\r\nb) Is the camera center in pixel = cx = parameter of the camera matrix?\r\n\r\nc) Is the x coordinate pixel = u = imagepoint?\r\n\r\nThere is a lot of information online but i have not found a 100% reliable source\r\n\r\n\r\n\r\nI have run out of options, I would really apreciate if someone could give me a good explanation of the camera calibration or point me into the right direction(Papers etc).\r\n\r\n\r\nThank you in advance\r\n\r\n\r\n\r\n","title":"Camera Calibration OpenCV","body":"<p>I am recently new in OpenCV and I have been struggling to calibrate my camera. After a few days researching I have a basic understanding of it. But I still fail to understand some basic points.</p>\n\n<p>1) The initialization of the objectpoint Matrix, why do we initialize this matrix in 0,0</p>\n\n<pre><code>Mat a = new MatOfPoint3f();\n        for(int y=0; y&lt;SIZE_Y; ++y) \n        {\n            for(int x=0; x&lt;SIZE_X; ++x)\n            {\n                points = new MatOfPoint3f(new Point3(x*distance_Board , y*distance_Board , 0));\n                a.push_back(points);\n            }\n        }\n</code></pre>\n\n<p>Wouldn't it make more sense to initialize it where the board is in the 3D World for example</p>\n\n<pre><code>Mat a = new MatOfPoint3f();\n        for(int y=1; y&lt;=SIZE_Y; ++y) \n        {\n            for(int x=1; x&lt;=SIZE_X; ++x)\n            {\n                points = new MatOfPoint3f(new Point3(x*distance_Board + FirstPoint.x, y*distance_Board + FirstPoint.y, 0));\n                a.push_back(points);\n            }\n        }\n</code></pre>\n\n<p>2)</p>\n\n<p>I tried to calibrate my camera using </p>\n\n<pre><code>         Calib3d.calibrateCamera(object_points, corners, gray.size(), cameraMatrix, distCoeffs, rvecs, tvecs);\n</code></pre>\n\n<p>I have tried with more than 15 images but the results are still very poor , because i don't understand the significance of having a rvec and tvec for very image(I understand the logic, since for every point the rotation and translation is  different) but how does it help us with other points/other images. I thought that the calibration provided us with a fair good method to translate 3d point into 2d points in the whole scene..</p>\n\n<p>That's why when I run </p>\n\n<pre><code>        Calib3d.projectPoints(objectPoints, rvecs.get(i), tvecs.get(i), cameraMatrix, distCoeffs, imagePoints);\n</code></pre>\n\n<p>I really don't know which rvecs and tvecs to choose</p>\n\n<p>3)</p>\n\n<p>Is there a method to translate from 2D(imagePoints) into 3D(real World).I have tried\n<a href=\"https://stackoverflow.com/questions/12299870/computing-x-y-coordinate-3d-from-image-point\">this</a> but the results are incorrect due to the incorrect parameters of calibration</p>\n\n<p>4)</p>\n\n<p>I have also tried to do the translation from 2D to 3D as follow</p>\n\n<pre><code>x ̃  =  x * ( 1 +  k1 * r^2 + k2 * r^4 ) + [ 2 p1 * x * y + p2 * ( r^2 + 2 * x^2 ) ] \n\ny ̃  =  y * ( 1 +  k1 * r^2 + k2 * r^4 ] + [ 2 p2 * x * y + p2 * ( r^2 + 2 * y^2 ) ],\n</code></pre>\n\n<p>a)But what is r? r =  sqrt( x^2 + y^2 )? And x = (the x coordinate pixel) - (the camera center in pixels) ?  </p>\n\n<p>b) Is the camera center in pixel = cx = parameter of the camera matrix?</p>\n\n<p>c) Is the x coordinate pixel = u = imagepoint?</p>\n\n<p>There is a lot of information online but i have not found a 100% reliable source</p>\n\n<p>I have run out of options, I would really apreciate if someone could give me a good explanation of the camera calibration or point me into the right direction(Papers etc).</p>\n\n<p>Thank you in advance</p>\n"},{"tags":["java","spring","asynchronous","mail-sender"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677673645,"post_id":75603278,"comment_id":133383379,"body_markdown":"How do you know that the email was not sent? Did you get an error message from the sending program? Or is it based on whether the recipient&#39;s mailbox has received the email?","body":"How do you know that the email was not sent? Did you get an error message from the sending program? Or is it based on whether the recipient&#39;s mailbox has received the email?"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1677673924,"post_id":75603278,"comment_id":133383476,"body_markdown":"Maybe try FakeSMTP, run it, point your MailServer to localhost, change mail port to 2525 and test your mailer.","body":"Maybe try FakeSMTP, run it, point your MailServer to localhost, change mail port to 2525 and test your mailer."},{"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"score":0,"creation_date":1677676259,"post_id":75603278,"comment_id":133384267,"body_markdown":"@life888888 no errors are launched, but recipient received only some mails.","body":"@life888888 no errors are launched, but recipient received only some mails."}],"owner":{"account_id":20460593,"reputation":11,"user_id":15013316,"display_name":"frsv9"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":102,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677671155,"creation_date":1677671155,"question_id":75603278,"body_markdown":"I have a Spring MVC web Application with have to send mails for a lot of user actions which, at the first time, was made by a synchronous method.\r\n\r\nIf i make many actions (4-5) on sequence, the mail sender is not sending all mails but only some.\r\nI&#39;ve tried with an @Async method but same result.\r\n\r\nMy method:\r\n\r\n           @Async\r\n       public Future&lt;String&gt; sendMail(MailParametersTO mailParams, MailTypeEnum type) {\r\n    \t\ttry {\r\n    \t\t\tMimeMessage message = mailSender.createMimeMessage();\r\n    \t\t\tmessage.setSubject(mailUtils.getMailSubject(mailParams.getSubjectParams(), type));\r\n    \t\t\tMimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\r\n    \t\t\thelper.setFrom(from);\r\n    \t\t\thelper.setCc(mailParams.getCc().toArray(new String[0])); \r\n    \t\t\thelper.setTo(mailParams.getTo().toArray(new String[0]));\r\n    \t\t\thelper.setText(mailUtils.getMailBody(mailParams.getBodyParams(), mailParams.getLink(), type), true);\r\n             Thread.sleep(30000);\r\n    \t\t\tmailSender.send(message);\r\n    \t\t} catch (Exception e) {\r\n             e.printStackTrace();\r\n             return new AsyncResult&lt;&gt;(&quot;ERROR&quot;);\r\n    \t\t}\r\n          return new AsyncResult&lt;&gt;(&quot;OK&quot;);\r\n    \t}\t\r\n\r\n\r\nAsync configuration:\r\n\r\n    @Configuration\r\n    @EnableAsync(proxyTargetClass = true)\r\n    @EnableScheduling\r\n    public class AsyncConfig implements SchedulingConfigurer, AsyncConfigurer {\r\n    \r\n       @Bean\r\n       public ThreadPoolTaskScheduler taskScheduler() {\r\n          ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\r\n          scheduler.setPoolSize(2);\r\n          scheduler.setThreadNamePrefix(&quot;task-&quot;);\r\n          scheduler.setAwaitTerminationSeconds(1200); // 20 minutes\r\n          scheduler.setWaitForTasksToCompleteOnShutdown(true);\r\n          return scheduler;\r\n       }\r\n    \r\n       @Override\r\n       public Executor getAsyncExecutor() {\r\n          return this.taskScheduler();\r\n       }\r\n    \r\n       @Override\r\n       public void configureTasks(ScheduledTaskRegistrar registrar) {\r\n          TaskScheduler scheduler = this.taskScheduler();\r\n          registrar.setTaskScheduler(scheduler);\r\n       }\r\n    \r\n       @Override\r\n       public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\r\n          return new SimpleAsyncUncaughtExceptionHandler();\r\n       }\r\n    }\r\n\r\nAnyone can help?","title":"Async Java Mail Sender not sends all mails","body":"<p>I have a Spring MVC web Application with have to send mails for a lot of user actions which, at the first time, was made by a synchronous method.</p>\n<p>If i make many actions (4-5) on sequence, the mail sender is not sending all mails but only some.\nI've tried with an @Async method but same result.</p>\n<p>My method:</p>\n<pre><code>       @Async\n   public Future&lt;String&gt; sendMail(MailParametersTO mailParams, MailTypeEnum type) {\n        try {\n            MimeMessage message = mailSender.createMimeMessage();\n            message.setSubject(mailUtils.getMailSubject(mailParams.getSubjectParams(), type));\n            MimeMessageHelper helper = new MimeMessageHelper(message, true, &quot;UTF-8&quot;);\n            helper.setFrom(from);\n            helper.setCc(mailParams.getCc().toArray(new String[0])); \n            helper.setTo(mailParams.getTo().toArray(new String[0]));\n            helper.setText(mailUtils.getMailBody(mailParams.getBodyParams(), mailParams.getLink(), type), true);\n         Thread.sleep(30000);\n            mailSender.send(message);\n        } catch (Exception e) {\n         e.printStackTrace();\n         return new AsyncResult&lt;&gt;(&quot;ERROR&quot;);\n        }\n      return new AsyncResult&lt;&gt;(&quot;OK&quot;);\n    }   \n</code></pre>\n<p>Async configuration:</p>\n<pre><code>@Configuration\n@EnableAsync(proxyTargetClass = true)\n@EnableScheduling\npublic class AsyncConfig implements SchedulingConfigurer, AsyncConfigurer {\n\n   @Bean\n   public ThreadPoolTaskScheduler taskScheduler() {\n      ThreadPoolTaskScheduler scheduler = new ThreadPoolTaskScheduler();\n      scheduler.setPoolSize(2);\n      scheduler.setThreadNamePrefix(&quot;task-&quot;);\n      scheduler.setAwaitTerminationSeconds(1200); // 20 minutes\n      scheduler.setWaitForTasksToCompleteOnShutdown(true);\n      return scheduler;\n   }\n\n   @Override\n   public Executor getAsyncExecutor() {\n      return this.taskScheduler();\n   }\n\n   @Override\n   public void configureTasks(ScheduledTaskRegistrar registrar) {\n      TaskScheduler scheduler = this.taskScheduler();\n      registrar.setTaskScheduler(scheduler);\n   }\n\n   @Override\n   public AsyncUncaughtExceptionHandler getAsyncUncaughtExceptionHandler() {\n      return new SimpleAsyncUncaughtExceptionHandler();\n   }\n}\n</code></pre>\n<p>Anyone can help?</p>\n"},{"tags":["java","mysql","jooq","jooq-codegen"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213465,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677670875,"creation_date":1677670875,"answer_id":75603230,"question_id":75602163,"body_markdown":"## Bug\r\n\r\nThat&#39;s a bug in jOOQ 3.17 and less: [#14727][1]. It will be fixed in jOOQ 3.18. It&#39;s related to a combination of:\r\n\r\n- Having `NOT NULL` columns\r\n- Using `&lt;interfaces&gt;true&lt;/interfaces&gt;` in the code generator (which generates this slightly optimised method)\r\n- As you observed, that method doesn&#39;t expose the expected behaviour, from `Record.from(Object)`, which violates the Liskov principle\r\n\r\n## Workarounds\r\n\r\nThe workaround for bug [#14727][1] is to manually upcast the type to `Object`, to avoid calling the generated method:\r\n\r\n```java\r\nIFruit f = ...\r\nrecord.from((Object) f);\r\n```\r\n\r\nAlternatively, you can reset all changed flags on the `Record`, maybe even globally, using a `RecordListener`\r\n\r\n\r\n  [1]: https://github.com/jOOQ/jOOQ/issues/14727","title":"How to respect DEFAULT values when using JOOQ generated UpdatableRecordImpl from() method","body":"<h2>Bug</h2>\n<p>That's a bug in jOOQ 3.17 and less: <a href=\"https://github.com/jOOQ/jOOQ/issues/14727\" rel=\"nofollow noreferrer\">#14727</a>. It will be fixed in jOOQ 3.18. It's related to a combination of:</p>\n<ul>\n<li>Having <code>NOT NULL</code> columns</li>\n<li>Using <code>&lt;interfaces&gt;true&lt;/interfaces&gt;</code> in the code generator (which generates this slightly optimised method)</li>\n<li>As you observed, that method doesn't expose the expected behaviour, from <code>Record.from(Object)</code>, which violates the Liskov principle</li>\n</ul>\n<h2>Workarounds</h2>\n<p>The workaround for bug <a href=\"https://github.com/jOOQ/jOOQ/issues/14727\" rel=\"nofollow noreferrer\">#14727</a> is to manually upcast the type to <code>Object</code>, to avoid calling the generated method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IFruit f = ...\nrecord.from((Object) f);\n</code></pre>\n<p>Alternatively, you can reset all changed flags on the <code>Record</code>, maybe even globally, using a <code>RecordListener</code></p>\n"}],"owner":{"account_id":3639349,"reputation":350,"user_id":3033916,"display_name":"raph"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75603230,"answer_count":1,"score":1,"last_activity_date":1677670875,"creation_date":1677664967,"question_id":75602163,"body_markdown":"It seems that there had been some work to respect default values when using DAO inserts/updates here: https://github.com/jOOQ/jOOQ/issues/2700. \r\n\r\nThis is great, however I&#39;m struggling  to take advantage of this when also using the generated `from` method on the `UpdatableRecordImpl`. Specifically, when generating an `UpdatableRecordImpl`, we are provided a `from` method to convert from an entity which implements the record interface to the record, however, if you use this method, DEFAULT fields will not be supported since the `from` method sets all fields on the entity, including the ones which should be defaulted, and when they are unset, they&#39;ll be set to null on the record.\r\n\r\nFor example, if we have a table fruit, with a single column \r\n```\r\nalter table fruit\r\n    add column color varchar(6) not null default &#39;red&#39;;\r\n```\r\nJOOQ would generate an interface` IFruit` with getters/setters on a field `color`. Then we would have a `FruitRecord` class generated which extends `UpdatableRecordImpl&lt;FruitRecord&gt;` with a `from` method like the following:\r\n```\r\n@Override\r\npublic void from(IFruit from) {\r\n    setColor(from.getColor());\r\n}\r\n ```\r\n If we make use of this `from` method, color will be explicitly set to `null` **if it has not been set in the from object**. When that happens, when the record is inserted it will fail because color can&#39;t be null and won&#39;t make use of the default color. If the field was not set at all in the record object, I believe JOOQ would handle that field in a way that it would make use of the DEFAULT value, and therefore insert it properly with the default. \r\n\r\nI haven&#39;t dug into the complete depths of these generated classes and such, and perhaps I&#39;m missing something, but would there be an existing way to make use of this `from` method in a way that unset/null fields are distinguished from each other to take advantage of DEFAULT values?\r\n\r\nThanks","title":"How to respect DEFAULT values when using JOOQ generated UpdatableRecordImpl from() method","body":"<p>It seems that there had been some work to respect default values when using DAO inserts/updates here: <a href=\"https://github.com/jOOQ/jOOQ/issues/2700\" rel=\"nofollow noreferrer\">https://github.com/jOOQ/jOOQ/issues/2700</a>.</p>\n<p>This is great, however I'm struggling  to take advantage of this when also using the generated <code>from</code> method on the <code>UpdatableRecordImpl</code>. Specifically, when generating an <code>UpdatableRecordImpl</code>, we are provided a <code>from</code> method to convert from an entity which implements the record interface to the record, however, if you use this method, DEFAULT fields will not be supported since the <code>from</code> method sets all fields on the entity, including the ones which should be defaulted, and when they are unset, they'll be set to null on the record.</p>\n<p>For example, if we have a table fruit, with a single column</p>\n<pre><code>alter table fruit\n    add column color varchar(6) not null default 'red';\n</code></pre>\n<p>JOOQ would generate an interface<code> IFruit</code> with getters/setters on a field <code>color</code>. Then we would have a <code>FruitRecord</code> class generated which extends <code>UpdatableRecordImpl&lt;FruitRecord&gt;</code> with a <code>from</code> method like the following:</p>\n<pre><code>@Override\npublic void from(IFruit from) {\n    setColor(from.getColor());\n}\n</code></pre>\n<p>If we make use of this <code>from</code> method, color will be explicitly set to <code>null</code> <strong>if it has not been set in the from object</strong>. When that happens, when the record is inserted it will fail because color can't be null and won't make use of the default color. If the field was not set at all in the record object, I believe JOOQ would handle that field in a way that it would make use of the DEFAULT value, and therefore insert it properly with the default.</p>\n<p>I haven't dug into the complete depths of these generated classes and such, and perhaps I'm missing something, but would there be an existing way to make use of this <code>from</code> method in a way that unset/null fields are distinguished from each other to take advantage of DEFAULT values?</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-restcontroller","spring-rest"],"comments":[{"owner":{"account_id":195331,"reputation":275428,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1675718982,"post_id":75366553,"comment_id":132985934,"body_markdown":"Why/where do you need it?","body":"Why/where do you need it?"},{"owner":{"account_id":7333742,"reputation":485,"user_id":5585819,"display_name":"KDW"},"score":0,"creation_date":1675719107,"post_id":75366553,"comment_id":132985973,"body_markdown":"Not a solution using a direct method call, but you could do something like getRequestURI().replace(username, &quot;&quot;). I admit not the most clean work-around...","body":"Not a solution using a direct method call, but you could do something like getRequestURI().replace(username, &quot;&quot;). I admit not the most clean work-around..."},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1675719223,"post_id":75366553,"comment_id":132985996,"body_markdown":"I do Service based access control by keeping context path and service url in database.  When I get the first request with filters, I intervene and make inquiries. @SotiriosDelimanolis","body":"I do Service based access control by keeping context path and service url in database.  When I get the first request with filters, I intervene and make inquiries. @SotiriosDelimanolis"},{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1675719407,"post_id":75366553,"comment_id":132986041,"body_markdown":"getRequestURI() simply doesn&#39;t come with service path, so I can&#39;t use replace @KDW","body":"getRequestURI() simply doesn&#39;t come with service path, so I can&#39;t use replace @KDW"}],"answers":[{"tags":[],"owner":{"account_id":9981674,"reputation":42,"user_id":7384417,"display_name":"amit kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1675718655,"creation_date":1675718655,"answer_id":75366733,"question_id":75366553,"body_markdown":"Not possible. You have to write logic by your self to extract the path variable.","title":"How to get request URI without Path Variables?","body":"<p>Not possible. You have to write logic by your self to extract the path variable.</p>\n"},{"comments":[{"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"score":0,"creation_date":1675893019,"post_id":75390540,"comment_id":133028468,"body_markdown":"Thanks for answer, but I have to write in Filter class.  It comes with the parameter set in filter class, so I can&#39;t parse it.","body":"Thanks for answer, but I have to write in Filter class.  It comes with the parameter set in filter class, so I can&#39;t parse it."},{"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"score":0,"creation_date":1675894909,"post_id":75390540,"comment_id":133028898,"body_markdown":"You might need to provide some more context in the question. Maybe show your filter code and where you want to get the value? Filter will have the `HttpServletRequest` and could parse from like the last path separator, for instance.","body":"You might need to provide some more context in the question. Maybe show your filter code and where you want to get the value? Filter will have the <code>HttpServletRequest</code> and could parse from like the last path separator, for instance."}],"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675882880,"creation_date":1675882880,"answer_id":75390540,"question_id":75366553,"body_markdown":"I don&#39;t see any Spring MVC way. You can parse from one of the available `HttpServletRequest` methods.\r\n\r\nFor instance\r\n```java\r\n@Controller\r\npublic class SampleController {\r\n\r\n\t@GetMapping(&quot;/sample/path/{last}&quot;)\r\n\tpublic ResponseEntity&lt;Object&gt; sampleMethod(@PathVariable String last, HttpServletRequest request) {\r\n\r\n\t\tSystem.out.println(request.getContextPath());\r\n\t\tSystem.out.println(request.getRequestURI());\r\n\r\n\t\tString path = request.getServletPath();\r\n\t\tSystem.out.println(path);\r\n\t\tSystem.out.println(path.substring(0, path.lastIndexOf(last)));\r\n\r\n\t\treturn ResponseEntity.ok(last);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\n/context\r\n/context/sample/path/boom\r\n/sample/path/boom\r\n/sample/path/\r\n```","title":"How to get request URI without Path Variables?","body":"<p>I don't see any Spring MVC way. You can parse from one of the available <code>HttpServletRequest</code> methods.</p>\n<p>For instance</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class SampleController {\n\n    @GetMapping(&quot;/sample/path/{last}&quot;)\n    public ResponseEntity&lt;Object&gt; sampleMethod(@PathVariable String last, HttpServletRequest request) {\n\n        System.out.println(request.getContextPath());\n        System.out.println(request.getRequestURI());\n\n        String path = request.getServletPath();\n        System.out.println(path);\n        System.out.println(path.substring(0, path.lastIndexOf(last)));\n\n        return ResponseEntity.ok(last);\n    }\n}\n</code></pre>\n<pre><code>/context\n/context/sample/path/boom\n/sample/path/boom\n/sample/path/\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677670865,"creation_date":1677670865,"answer_id":75603228,"question_id":75366553,"body_markdown":"I solved my problem by using @RequestParam instead of @PathVariable for get services in my Controller classes\r\n\r\nExample\r\n\r\n    @RequestMapping(value = &quot;/getUser&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserDTO&gt; getUser(@RequestParam String username) ","title":"How to get request URI without Path Variables?","body":"<p>I solved my problem by using @RequestParam instead of @PathVariable for get services in my Controller classes</p>\n<p>Example</p>\n<pre><code>@RequestMapping(value = &quot;/getUser&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;UserDTO&gt; getUser(@RequestParam String username) \n</code></pre>\n"}],"owner":{"account_id":11976502,"reputation":420,"user_id":14686302,"display_name":"kernel"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603228,"answer_count":3,"score":0,"last_activity_date":1677670865,"creation_date":1675717403,"question_id":75366553,"body_markdown":"The Method `request.getRequestURI()` returns URI with path variables.\r\nThe following example service takes Path Variable. How can I get URL that without Path Variables\r\n\r\n    @RequestMapping(value = &quot;/getUser/{username}&quot;, method = RequestMethod.GET)\r\n    public ResponseEntity&lt;UserDTO&gt; getUser(@PathVariable String username) \r\n\r\nif i make request like this(\r\n\r\nlocalhost:8080/user/getUser/tommy\r\n\r\n)\r\n`request.getRequestURI()` returns with path variable.\r\n\r\n    user/getUser/tommy\r\n\r\n\r\n\r\nI want to get a result like this:\r\n`user/getUser/`\r\nor\r\n`user/getUser`\r\n\r\nHow can I get the path without path variables?\r\n","title":"How to get request URI without Path Variables?","body":"<p>The Method <code>request.getRequestURI()</code> returns URI with path variables.\nThe following example service takes Path Variable. How can I get URL that without Path Variables</p>\n<pre><code>@RequestMapping(value = &quot;/getUser/{username}&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;UserDTO&gt; getUser(@PathVariable String username) \n</code></pre>\n<p>if i make request like this(</p>\n<p>localhost:8080/user/getUser/tommy</p>\n<p>)\n<code>request.getRequestURI()</code> returns with path variable.</p>\n<pre><code>user/getUser/tommy\n</code></pre>\n<p>I want to get a result like this:\n<code>user/getUser/</code>\nor\n<code>user/getUser</code></p>\n<p>How can I get the path without path variables?</p>\n"},{"tags":["java","arrays","multidimensional-array"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662364,"post_id":75601617,"comment_id":133380208,"body_markdown":"Can you use [`Arrays.deepToString()`](https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D))?","body":"Can you use <a href=\"https://docs.oracle.com/en/java/javase/18/docs/api/java.base/java/util/Arrays.html#deepToString(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\"><code>Arrays.deepToString()</code></a>?"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662558,"post_id":75601617,"comment_id":133380266,"body_markdown":"Outputting arrays does not work the na&#239;ve way. Printing a 1-dimensional int or string array will give you something similar to what you see. So your real question is how to print an array. There is an exception for 1-dimensional *char* arrays since there is an overridden `System.out.print(char[])` that perceives the char array as a string. Only because of this you didn’t discover any issue with printing your one-dimensional array.","body":"Outputting arrays does not work the na&#239;ve way. Printing a 1-dimensional int or string array will give you something similar to what you see. So your real question is how to print an array. There is an exception for 1-dimensional <i>char</i> arrays since there is an overridden <code>System.out.print(char[])</code> that perceives the char array as a string. Only because of this you didn’t discover any issue with printing your one-dimensional array."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1677662730,"post_id":75601617,"comment_id":133380321,"body_markdown":"Tip of the day: search before asking.","body":"Tip of the day: search before asking."},{"owner":{"account_id":23552118,"reputation":3,"user_id":19522389,"display_name":"Gert Wiebach"},"score":0,"creation_date":1677667482,"post_id":75601617,"comment_id":133381659,"body_markdown":"There is nor information, I do not know why my question was closed","body":"There is nor information, I do not know why my question was closed"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677670841,"post_id":75601617,"comment_id":133382535,"body_markdown":"This question was previously closed as duplicate of the following three questions:\n[Trying to print a 2D array of Chars in Java](https://stackoverflow.com/questions/13475820/trying-to-print-a-2d-array-of-chars-in-java),\n[Iterate through 2 dimensional array](https://stackoverflow.com/questions/25798958/iterate-through-2-dimensional-array) and\n[What&#39;s the simplest way to print a Java array?](https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array).\nThe OP was unable to find the necessary information there, so I have reopened.","body":"This question was previously closed as duplicate of the following three questions: <a href=\"https://stackoverflow.com/questions/13475820/trying-to-print-a-2d-array-of-chars-in-java\">Trying to print a 2D array of Chars in Java</a>, <a href=\"https://stackoverflow.com/questions/25798958/iterate-through-2-dimensional-array\">Iterate through 2 dimensional array</a> and <a href=\"https://stackoverflow.com/questions/409784/whats-the-simplest-way-to-print-a-java-array\">What&#39;s the simplest way to print a Java array?</a>. The OP was unable to find the necessary information there, so I have reopened."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677670949,"post_id":75601617,"comment_id":133382558,"body_markdown":"I didn’t get what you were still missing after consulting the answers under those earlier questions. They generally do not require you to change your method.","body":"I didn’t get what you were still missing after consulting the answers under those earlier questions. They generally do not require you to change your method."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1677671211,"post_id":75601617,"comment_id":133382631,"body_markdown":"It’s unreadable in a comment, so paste into your IDE and reformat: `for (char[] line: chars) { System.out.println(line); } `. It prints 4 lines, each line 7 characters long.","body":"It’s unreadable in a comment, so paste into your IDE and reformat: <code>for (char[] line: chars) { System.out.println(line); } </code>. It prints 4 lines, each line 7 characters long."}],"owner":{"account_id":23552118,"reputation":3,"user_id":19522389,"display_name":"Gert Wiebach"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677670835,"creation_date":1677662174,"question_id":75601617,"body_markdown":"can somebody help me with this code please?\r\nI have a main-Method and a private method wrap(). The aim is that the wrap() Method receive a String and have to output a 2-Dimensional Array. The big Problem is, that it does not work as it work with one Dimensional Arrays. Instead the program gives me this &quot;[[C@7ad041f3% &quot;. How can I make the program to give me 2-Dimensional array?\r\nI want to mention that I do not want to change my method by replacing &quot;char[][]&quot; with &quot;void&quot;\r\n\r\n```\r\npublic class Probe {\r\n\r\n    private static char[][] wrap(String message) {\r\n\r\n        char[] chars = message.toCharArray();\r\n        char[][] charArray = new char[4][7];\r\n        int index = 0;\r\n\r\n        for (int zeilenIndex = 0; zeilenIndex &lt; charArray.length; zeilenIndex++) {\r\n            for (int spaltenIndex = 0; spaltenIndex &lt; charArray[zeilenIndex].length; spaltenIndex++) {\r\n                charArray[zeilenIndex][spaltenIndex] =  chars[index];\r\n                index++;\r\n            }\r\n        }\r\n        return charArray;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        char[][] chars = new char[4][7];\r\n        String text = &quot;WIR GREIFEN MORGEN MITTAG AN&quot;;\r\n        chars = wrap(text);\r\n        System.out.print(chars);\r\n    }\r\n}\r\n```\r\n\r\n\r\nMy question was closed. So I explain here why my question is different. As I already mentioned I am not allowed to change my method. I know that with little difference I could get the wanted results. For example, rewrite the method from &quot;private static char[][] wrap(String message)&quot; to &quot;private static VOID wrap(String message)&quot; and then just make additional loops to print the wanted results. But that is not the solution to the problem I want a solution. I want that my method gives the 2d Array back without changing the method, so how to do that? ","title":"how can I make a method to output 2-Dimensional Array?","body":"<p>can somebody help me with this code please?\nI have a main-Method and a private method wrap(). The aim is that the wrap() Method receive a String and have to output a 2-Dimensional Array. The big Problem is, that it does not work as it work with one Dimensional Arrays. Instead the program gives me this &quot;[[C@7ad041f3% &quot;. How can I make the program to give me 2-Dimensional array?\nI want to mention that I do not want to change my method by replacing &quot;char[][]&quot; with &quot;void&quot;</p>\n<pre><code>public class Probe {\n\n    private static char[][] wrap(String message) {\n\n        char[] chars = message.toCharArray();\n        char[][] charArray = new char[4][7];\n        int index = 0;\n\n        for (int zeilenIndex = 0; zeilenIndex &lt; charArray.length; zeilenIndex++) {\n            for (int spaltenIndex = 0; spaltenIndex &lt; charArray[zeilenIndex].length; spaltenIndex++) {\n                charArray[zeilenIndex][spaltenIndex] =  chars[index];\n                index++;\n            }\n        }\n        return charArray;\n    }\n\n    public static void main(String[] args) {\n        char[][] chars = new char[4][7];\n        String text = &quot;WIR GREIFEN MORGEN MITTAG AN&quot;;\n        chars = wrap(text);\n        System.out.print(chars);\n    }\n}\n</code></pre>\n<p>My question was closed. So I explain here why my question is different. As I already mentioned I am not allowed to change my method. I know that with little difference I could get the wanted results. For example, rewrite the method from &quot;private static char[][] wrap(String message)&quot; to &quot;private static VOID wrap(String message)&quot; and then just make additional loops to print the wanted results. But that is not the solution to the problem I want a solution. I want that my method gives the 2d Array back without changing the method, so how to do that?</p>\n"},{"tags":["java","arrays","json","list","jackson"],"comments":[{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1596723437,"post_id":63285033,"comment_id":111907704,"body_markdown":"Could you also add the stacktrace of the error and the piece of code where you parse JSON?","body":"Could you also add the stacktrace of the error and the piece of code where you parse JSON?"},{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1596724009,"post_id":63285033,"comment_id":111907997,"body_markdown":"@Sergei i have added the stacktrace &amp; parsing code","body":"@Sergei i have added the stacktrace &amp; parsing code"}],"answers":[{"comments":[{"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"score":0,"creation_date":1596724590,"post_id":63285876,"comment_id":111908334,"body_markdown":"&quot;[truncated 556 chars]; line: 29, column: 21] (through reference chain: java.util.ArrayList[0]-&gt;com.goodyzain.bern.models.BernOBJ[&quot;logits&quot;]-&gt;com.goodyzain.bern.models.Logits[&quot;disease&quot;]-&gt;java.util.ArrayList[0]-&gt;java.util.ArrayList[1])","body":"&quot;[truncated 556 chars]; line: 29, column: 21] (through reference chain: java.util.ArrayList[0]-&gt;com.goodyzain.bern.models.BernOBJ[&quot;l&zwnj;&#8203;ogits&quot;]-&gt;com.goodyza&zwnj;&#8203;in.bern.models.Logit&zwnj;&#8203;s[&quot;disease&quot;]-&gt;java.u&zwnj;&#8203;til.ArrayList[0]-&gt;ja&zwnj;&#8203;va.util.ArrayList[1]&zwnj;&#8203;)"},{"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"score":0,"creation_date":1596726362,"post_id":63285876,"comment_id":111909295,"body_markdown":"@goodyzain I&#39;ve updated the answer to address this error.","body":"@goodyzain I&#39;ve updated the answer to address this error."},{"owner":{"account_id":14886556,"reputation":4394,"user_id":10749567,"display_name":"Ola Str&#246;m"},"score":0,"creation_date":1677678664,"post_id":63285876,"comment_id":133385038,"body_markdown":"`objectMapper.getTypeFactory().constructCollectionType(ArrayList.class, MyObject.class)` helped me with my problem of reading values from &quot;MyObject&quot;s in a JSON-file and getting them into an ArrayList with &quot;MyObject&quot;s. - ArrayList&lt;MyObject&gt;. Thanks!","body":"<code>objectMapper.getTypeFactory().constructCollectionType(ArrayL&zwnj;&#8203;ist.class, MyObject.class)</code> helped me with my problem of reading values from &quot;MyObject&quot;s in a JSON-file and getting them into an ArrayList with &quot;MyObject&quot;s. - ArrayList&lt;MyObject&gt;. Thanks!"}],"tags":[],"owner":{"account_id":1410041,"reputation":7508,"user_id":1336841,"display_name":"Forketyfork"},"comment_count":3,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1620288720,"creation_date":1596724408,"answer_id":63285876,"question_id":63285033,"body_markdown":"The current error that you have:\r\n\r\n`Cannot deserialize instance of com.goodyzain.bern.models.BernOBJ out of START_ARRAY token at [Source: (String)&quot;[ {` \r\n\r\nmeans that you have a JSON array of objects (starting with `[{...`), but try to parse it into a single object:\r\n```java\r\nBernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\r\n```\r\n\r\nAn array is usually supposed to be parsed into a list of values, e.g. like this:\r\n\r\n```java\r\nList&lt;BernOBJ&gt; denoObj = mapper.readValue(denotations, \r\n  mapper.getTypeFactory().constructCollectionType(List.class, BernObj.class));\r\n```\r\n\r\nAlso, your `List&lt;List&lt;Disease&gt;&gt;` list doesn&#39;t exactly contain `Disease` objects, it contains an object and a `double` value:\r\n\r\n```json\r\n[\r\n    [\r\n        {\r\n            &quot;end&quot;: 41,\r\n            &quot;id&quot;: &quot;CUI-less&quot;,\r\n            &quot;start&quot;: 31\r\n        },\r\n        0.999957799911499\r\n    ]\r\n]\r\n```\r\n\r\nI&#39;m not sure if there&#39;s always an object and a numeric value there, and what it means, but you could do the following. Create an additional class, e.g. `DiseasePair`, and map it like this:\r\n\r\n```\r\n@JsonFormat(shape = JsonFormat.Shape.ARRAY)\r\n@JsonPropertyOrder({ &quot;disease&quot;, &quot;numericValue&quot; })\r\nclass DiseasePair {\r\n\r\n    private Disease disease;\r\n\r\n    private Double numericValue;\r\n\r\n}\r\n```\r\n\r\nThen change your `List&lt;List&lt;Disease&gt;&gt;` field type to `List&lt;DiseasePair&gt;`.","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance?","body":"<p>The current error that you have:</p>\n<p><code>Cannot deserialize instance of com.goodyzain.bern.models.BernOBJ out of START_ARRAY token at [Source: (String)&quot;[ {</code></p>\n<p>means that you have a JSON array of objects (starting with <code>[{...</code>), but try to parse it into a single object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>BernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\n</code></pre>\n<p>An array is usually supposed to be parsed into a list of values, e.g. like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;BernOBJ&gt; denoObj = mapper.readValue(denotations, \n  mapper.getTypeFactory().constructCollectionType(List.class, BernObj.class));\n</code></pre>\n<p>Also, your <code>List&lt;List&lt;Disease&gt;&gt;</code> list doesn't exactly contain <code>Disease</code> objects, it contains an object and a <code>double</code> value:</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    [\n        {\n            &quot;end&quot;: 41,\n            &quot;id&quot;: &quot;CUI-less&quot;,\n            &quot;start&quot;: 31\n        },\n        0.999957799911499\n    ]\n]\n</code></pre>\n<p>I'm not sure if there's always an object and a numeric value there, and what it means, but you could do the following. Create an additional class, e.g. <code>DiseasePair</code>, and map it like this:</p>\n<pre><code>@JsonFormat(shape = JsonFormat.Shape.ARRAY)\n@JsonPropertyOrder({ &quot;disease&quot;, &quot;numericValue&quot; })\nclass DiseasePair {\n\n    private Disease disease;\n\n    private Double numericValue;\n\n}\n</code></pre>\n<p>Then change your <code>List&lt;List&lt;Disease&gt;&gt;</code> field type to <code>List&lt;DiseasePair&gt;</code>.</p>\n"}],"owner":{"account_id":3768967,"reputation":683,"user_id":3131670,"accept_rate":89,"display_name":"goodyzain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20373,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":63285876,"answer_count":1,"score":3,"last_activity_date":1677670671,"creation_date":1596721741,"question_id":63285033,"body_markdown":"I have tried everything to read the following JSON string, but I still get the below error.  \r\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.\r\n\r\nHere is my JSON string:\r\n\r\n    [\r\n        {\r\n            &quot;denotations&quot;: [\r\n                {\r\n                    &quot;id&quot;: [\r\n                        &quot;CUI-less&quot;\r\n                    ],\r\n                    &quot;obj&quot;: &quot;disease&quot;,\r\n                    &quot;span&quot;: {\r\n                        &quot;begin&quot;: 31,\r\n                        &quot;end&quot;: 41\r\n                    }\r\n                }\r\n            ],\r\n            &quot;elapsed_time&quot;: {\r\n                &quot;ner&quot;: 2.759,\r\n                &quot;normalization&quot;: 0.002,\r\n                &quot;tmtool&quot;: 0.148,\r\n                &quot;total&quot;: 2.91\r\n            },\r\n            &quot;logits&quot;: {\r\n                &quot;disease&quot;: [\r\n                    [\r\n                        {\r\n                            &quot;end&quot;: 41,\r\n                            &quot;id&quot;: &quot;CUI-less&quot;,\r\n                            &quot;start&quot;: 31\r\n                        },\r\n                        0.999957799911499\r\n                    ]\r\n                ],\r\n                &quot;drug&quot;: [],\r\n                &quot;gene&quot;: [],\r\n                &quot;species&quot;: []\r\n            },\r\n            &quot;project&quot;: &quot;BERN&quot;,\r\n            &quot;sourcedb&quot;: &quot;PubMed&quot;,\r\n            &quot;sourceid&quot;: &quot;2832773&quot;,\r\n            &quot;text&quot;: &quot;Absence of humoral immunity to poliovirus in vaccinated individuals.&quot;,\r\n            &quot;timestamp&quot;: &quot;Thu Aug 06 13:42:27 +0000 2020&quot;\r\n        }\r\n    ]\r\n\r\n\r\nMy Java POJO (Logit&#39;s class)\r\n\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import com.fasterxml.jackson.annotation.JsonAnyGetter;\r\n    import com.fasterxml.jackson.annotation.JsonAnySetter;\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.annotation.JsonInclude;\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    \r\n    @JsonInclude(JsonInclude.Include.NON_NULL)\r\n    @JsonPropertyOrder({\r\n        &quot;disease&quot;,\r\n        &quot;drug&quot;,\r\n        &quot;gene&quot;,\r\n        &quot;species&quot;\r\n    })\r\n    public class Logits {\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        private List&lt;List&lt;Disease&gt;&gt; disease = null;\r\n        @JsonProperty(&quot;drug&quot;)\r\n        private List&lt;Object&gt; drug = null;\r\n        @JsonProperty(&quot;gene&quot;)\r\n        private List&lt;Object&gt; gene = null;\r\n        @JsonProperty(&quot;species&quot;)\r\n        private List&lt;Object&gt; species = null;\r\n        @JsonIgnore\r\n        private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        public List&lt;List&lt;Disease&gt;&gt; getDisease() {\r\n            return disease;\r\n        }\r\n    \r\n        @JsonProperty(&quot;disease&quot;)\r\n        public void setDisease(List&lt;List&lt;Disease&gt;&gt; disease) {\r\n            this.disease = disease;\r\n        }\r\n    \r\n        @JsonProperty(&quot;drug&quot;)\r\n        public List&lt;Object&gt; getDrug() {\r\n            return drug;\r\n        }\r\n    \r\n        @JsonProperty(&quot;drug&quot;)\r\n        public void setDrug(List&lt;Object&gt; drug) {\r\n            this.drug = drug;\r\n        }\r\n    \r\n        @JsonProperty(&quot;gene&quot;)\r\n        public List&lt;Object&gt; getGene() {\r\n            return gene;\r\n        }\r\n    \r\n        @JsonProperty(&quot;gene&quot;)\r\n        public void setGene(List&lt;Object&gt; gene) {\r\n            this.gene = gene;\r\n        }\r\n    \r\n        @JsonProperty(&quot;species&quot;)\r\n        public List&lt;Object&gt; getSpecies() {\r\n            return species;\r\n        }\r\n    \r\n        @JsonProperty(&quot;species&quot;)\r\n        public void setSpecies(List&lt;Object&gt; species) {\r\n            this.species = species;\r\n        }\r\n    \r\n        @JsonAnyGetter\r\n        public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n            return this.additionalProperties;\r\n        }\r\n    \r\n        @JsonAnySetter\r\n        public void setAdditionalProperty(String name, Object value) {\r\n            this.additionalProperties.put(name, value);\r\n        }\r\n    \r\n    }\r\n\r\nI did even try `String[][] disease` but it still fails to parse.  \r\n\r\nParsing Code:\r\n\r\n    String denotations = restTemplate.getForObject(&quot;http://com/text&quot;,String.class);\r\n    System.out.println(denotations);\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    BernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\r\n    System.out.println(denoObj);\r\n\r\n**Stacktrace**\r\n\r\n&gt; com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\r\n&gt; deserialize instance of `com.goodyzain.bern.models.BernOBJ` out of\r\n&gt; START_ARRAY token  at [Source: (String)&quot;[\r\n&gt;     {\r\n&gt;         &quot;denotations&quot;: [\r\n&gt;             {\r\n&gt;                 &quot;id&quot;: [\r\n&gt;                     &quot;CUI-less&quot;\r\n&gt;                 ],\r\n&gt;                 &quot;obj&quot;: &quot;disease&quot;,\r\n&gt;                 &quot;span&quot;: {\r\n&gt;                     &quot;begin&quot;: 31,\r\n&gt;                     &quot;end&quot;: 41\r\n&gt;                 }\r\n&gt;             }\r\n&gt;         ],\r\n&gt;         &quot;elapsed_time&quot;: {\r\n&gt;             &quot;ner&quot;: 2.759,\r\n&gt;             &quot;normalization&quot;: 0.002,\r\n&gt;             &quot;tmtool&quot;: 0.148,\r\n&gt;             &quot;total&quot;: 2.91\r\n&gt;         },\r\n&gt;         &quot;logits&quot;: {\r\n&gt;             &quot;disease&quot;: [\r\n&gt;               &quot;[truncated 555 chars]; line: 1, column: 1] \tat com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1190)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:604)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:190)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3402)\r\n&gt; ~[jackson-databind-2.11.1.jar:2.11.1] \tat\r\n&gt; com.goodyzain.bern.BernAPIController.getUsersById(BernAPIController.java:41)\r\n&gt; ~[classes/:na] \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method) ~[na:1.8.0_252] \tat\r\n&gt; sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n&gt; ~[na:1.8.0_252] \tat\r\n&gt; sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n&gt; ~[na:1.8.0_252] \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n&gt; ~[na:1.8.0_252] \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:626)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:4.0.FR] \tat\r\n&gt; org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n&gt; ~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; javax.servlet.http.HttpServlet.service(HttpServlet.java:733)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:4.0.FR] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n&gt; ~[tomcat-embed-websocket-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\r\n&gt; ~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n&gt; ~[tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n&gt; [na:1.8.0_252] \tat\r\n&gt; java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n&gt; [na:1.8.0_252] \tat\r\n&gt; org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n&gt; [tomcat-embed-core-9.0.37.jar:9.0.37] \tat\r\n&gt; java.lang.Thread.run(Thread.java:748) [na:1.8.0_252]\r\n\r\n","title":"com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot deserialize instance?","body":"<p>I have tried everything to read the following JSON string, but I still get the below error.<br />\nMy JSON string is valid and I think the issue is that the sub element is having problem with the mapping.</p>\n<p>Here is my JSON string:</p>\n<pre><code>[\n    {\n        &quot;denotations&quot;: [\n            {\n                &quot;id&quot;: [\n                    &quot;CUI-less&quot;\n                ],\n                &quot;obj&quot;: &quot;disease&quot;,\n                &quot;span&quot;: {\n                    &quot;begin&quot;: 31,\n                    &quot;end&quot;: 41\n                }\n            }\n        ],\n        &quot;elapsed_time&quot;: {\n            &quot;ner&quot;: 2.759,\n            &quot;normalization&quot;: 0.002,\n            &quot;tmtool&quot;: 0.148,\n            &quot;total&quot;: 2.91\n        },\n        &quot;logits&quot;: {\n            &quot;disease&quot;: [\n                [\n                    {\n                        &quot;end&quot;: 41,\n                        &quot;id&quot;: &quot;CUI-less&quot;,\n                        &quot;start&quot;: 31\n                    },\n                    0.999957799911499\n                ]\n            ],\n            &quot;drug&quot;: [],\n            &quot;gene&quot;: [],\n            &quot;species&quot;: []\n        },\n        &quot;project&quot;: &quot;BERN&quot;,\n        &quot;sourcedb&quot;: &quot;PubMed&quot;,\n        &quot;sourceid&quot;: &quot;2832773&quot;,\n        &quot;text&quot;: &quot;Absence of humoral immunity to poliovirus in vaccinated individuals.&quot;,\n        &quot;timestamp&quot;: &quot;Thu Aug 06 13:42:27 +0000 2020&quot;\n    }\n]\n</code></pre>\n<p>My Java POJO (Logit's class)</p>\n<pre><code>import java.util.HashMap;\nimport java.util.List;\nimport java.util.Map;\nimport com.fasterxml.jackson.annotation.JsonAnyGetter;\nimport com.fasterxml.jackson.annotation.JsonAnySetter;\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonInclude;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;\n\n@JsonInclude(JsonInclude.Include.NON_NULL)\n@JsonPropertyOrder({\n    &quot;disease&quot;,\n    &quot;drug&quot;,\n    &quot;gene&quot;,\n    &quot;species&quot;\n})\npublic class Logits {\n\n    @JsonProperty(&quot;disease&quot;)\n    private List&lt;List&lt;Disease&gt;&gt; disease = null;\n    @JsonProperty(&quot;drug&quot;)\n    private List&lt;Object&gt; drug = null;\n    @JsonProperty(&quot;gene&quot;)\n    private List&lt;Object&gt; gene = null;\n    @JsonProperty(&quot;species&quot;)\n    private List&lt;Object&gt; species = null;\n    @JsonIgnore\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;String, Object&gt;();\n\n    @JsonProperty(&quot;disease&quot;)\n    public List&lt;List&lt;Disease&gt;&gt; getDisease() {\n        return disease;\n    }\n\n    @JsonProperty(&quot;disease&quot;)\n    public void setDisease(List&lt;List&lt;Disease&gt;&gt; disease) {\n        this.disease = disease;\n    }\n\n    @JsonProperty(&quot;drug&quot;)\n    public List&lt;Object&gt; getDrug() {\n        return drug;\n    }\n\n    @JsonProperty(&quot;drug&quot;)\n    public void setDrug(List&lt;Object&gt; drug) {\n        this.drug = drug;\n    }\n\n    @JsonProperty(&quot;gene&quot;)\n    public List&lt;Object&gt; getGene() {\n        return gene;\n    }\n\n    @JsonProperty(&quot;gene&quot;)\n    public void setGene(List&lt;Object&gt; gene) {\n        this.gene = gene;\n    }\n\n    @JsonProperty(&quot;species&quot;)\n    public List&lt;Object&gt; getSpecies() {\n        return species;\n    }\n\n    @JsonProperty(&quot;species&quot;)\n    public void setSpecies(List&lt;Object&gt; species) {\n        this.species = species;\n    }\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n}\n</code></pre>\n<p>I did even try <code>String[][] disease</code> but it still fails to parse.</p>\n<p>Parsing Code:</p>\n<pre><code>String denotations = restTemplate.getForObject(&quot;http://com/text&quot;,String.class);\nSystem.out.println(denotations);\nObjectMapper mapper = new ObjectMapper();\nBernOBJ denoObj = mapper.readValue(denotations, BernOBJ.class);\nSystem.out.println(denoObj);\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<blockquote>\n<p>com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot\ndeserialize instance of <code>com.goodyzain.bern.models.BernOBJ</code> out of\nSTART_ARRAY token  at [Source: (String)&quot;[\n{\n&quot;denotations&quot;: [\n{\n&quot;id&quot;: [\n&quot;CUI-less&quot;\n],\n&quot;obj&quot;: &quot;disease&quot;,\n&quot;span&quot;: {\n&quot;begin&quot;: 31,\n&quot;end&quot;: 41\n}\n}\n],\n&quot;elapsed_time&quot;: {\n&quot;ner&quot;: 2.759,\n&quot;normalization&quot;: 0.002,\n&quot;tmtool&quot;: 0.148,\n&quot;total&quot;: 2.91\n},\n&quot;logits&quot;: {\n&quot;disease&quot;: [\n&quot;[truncated 555 chars]; line: 1, column: 1]     at com.fasterxml.jackson.databind.exc.MismatchedInputException.from(MismatchedInputException.java:59)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.reportInputMismatch(DeserializationContext.java:1468)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1242)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.DeserializationContext.handleUnexpectedToken(DeserializationContext.java:1190)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeFromArray(BeanDeserializer.java:604)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer._deserializeOther(BeanDeserializer.java:190)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:166)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4482)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3434)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3402)\n~[jackson-databind-2.11.1.jar:2.11.1]     at\ncom.goodyzain.bern.BernAPIController.getUsersById(BernAPIController.java:41)\n~[classes/:na]    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod) ~[na:1.8.0_252]   at\nsun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n~[na:1.8.0_252]   at\nsun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n~[na:1.8.0_252]   at java.lang.reflect.Method.invoke(Method.java:498)\n~[na:1.8.0_252]   at\norg.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:190)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:138)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:105)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:878)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:792)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1040)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:943)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\norg.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:626)\n~[tomcat-embed-core-9.0.37.jar:4.0.FR]    at\norg.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n~[spring-webmvc-5.2.8.RELEASE.jar:5.2.8.RELEASE]  at\njavax.servlet.http.HttpServlet.service(HttpServlet.java:733)\n~[tomcat-embed-core-9.0.37.jar:4.0.FR]    at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:231)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n~[tomcat-embed-websocket-9.0.37.jar:9.0.37]   at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)\n~[spring-web-5.2.8.RELEASE.jar:5.2.8.RELEASE]     at\norg.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:193)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:166)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n~[tomcat-embed-core-9.0.37.jar:9.0.37]    at\norg.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:96)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:541)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:139)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.http11.Http11Processor.service(Http11Processor.java:373)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:868)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1589)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\norg.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\njava.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n[na:1.8.0_252]    at\njava.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n[na:1.8.0_252]    at\norg.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n[tomcat-embed-core-9.0.37.jar:9.0.37]     at\njava.lang.Thread.run(Thread.java:748) [na:1.8.0_252]</p>\n</blockquote>\n"},{"tags":["java","android","azure","authentication","azure-active-directory"],"answers":[{"comments":[{"owner":{"account_id":1524473,"reputation":924,"user_id":1423246,"accept_rate":38,"display_name":"roberth"},"score":0,"creation_date":1677835515,"post_id":75603082,"comment_id":133419526,"body_markdown":"After following the steps here I got to the root of the problem. It had to do with the defined scopes, using &#39;&#39;Sites.FullControl.All&quot; as a login scope is not enough. You have to prefix with your sharepoint url, something like https://*****.sharepoint.com/Sites.FullControl.All . After changing this everything worked as expected","body":"After following the steps here I got to the root of the problem. It had to do with the defined scopes, using &#39;&#39;Sites.FullControl.All&quot; as a login scope is not enough. You have to prefix with your sharepoint url, something like https://*****.sharepoint.com/Sites.FullControl.All . After changing this everything worked as expected"}],"tags":[],"owner":{"account_id":21681461,"reputation":8729,"user_id":15997509,"display_name":"kavyaS"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677670453,"creation_date":1677670081,"answer_id":75603082,"question_id":75594431,"body_markdown":"I created app registration with following permissions / scopes , \r\n\r\n[![enter image description here][1]][1]\r\n \r\n\r\nGave Scope as https://&lt;tenantdomain&gt;.sharepoint.com/.default and tried the scenario in postman.\r\n\r\n\r\n [![enter image description here][2]][2]\r\n\r\n\r\n\r\nReceived the error: Invalid Audience , even after giving correct scopes and api permissions with admin consent granted.\r\n\r\n\r\n**To call the sites using graph:**\r\n\r\n[![enter image description here][3]][3]\r\n\r\n***`https://graph.microsoft.com/v1.0/sites`***\r\n \r\n\r\n\r\n\r\nHere as graph api is called, we need to have ***`https://graph.microsoft.com /.default`*** as scope, which gives the output upon API call.\r\nFor that call token endpoint with https://graph.microsoft.com /.default as scope and then call sharepoint api with the access token with graph scope.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n \r\n\r\n**Output:** https://graph.microsoft.com/v1.0/sites\r\n \r\n[![enter image description here][5]][5]\r\n\r\n\r\n**But if the site endpoint is called without using grah api endpoint, then scope must be ***`https://&lt;tenantdomain&gt;.sharepoint.com/.default`***  must be given**\r\n\r\nAnd the proper query to call sharepoint site api is \r\n\r\n***`https://{tenant-name}.sharepoint.com/_api/v2.0/sites`***\r\n\r\n [![enter image description here][6]][6]\r\n\r\n\r\nMy auth code was:\r\n\r\n    https://login.microsoftonline.com/&lt;tenantid&gt;/oauth2/v2.0/authorize?client_id=782xxxb3a1&amp;response_type=code&amp;redirect_uri=https://jwt.ms&amp;response_mode=query&amp;scope=https://tenantdoamin.sharepoint.com/.default \r\n\r\nthe code , i got as below ,\r\n\r\n [![enter image description here][7]][7]\r\n\r\nToken endpoint: I used the code that I got .\r\n\r\n**With proper scope and correct api call , I could get the call to be made successful to sharepoint api.**\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6yQQz.png\r\n  [2]: https://i.stack.imgur.com/fW1pe.png\r\n  [3]: https://i.stack.imgur.com/vyZqL.png\r\n  [4]: https://i.stack.imgur.com/yfCOQ.png\r\n  [5]: https://i.stack.imgur.com/WCoo5.png\r\n  [6]: https://i.stack.imgur.com/jBeXg.png\r\n  [7]: https://i.stack.imgur.com/9MI2r.png","title":"Android doesn&#39;t retrieve the right access token for Azure AD authentication","body":"<p>I created app registration with following permissions / scopes ,</p>\n<p><a href=\"https://i.stack.imgur.com/6yQQz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6yQQz.png\" alt=\"enter image description here\" /></a></p>\n<p>Gave Scope as https://.sharepoint.com/.default and tried the scenario in postman.</p>\n<p><a href=\"https://i.stack.imgur.com/fW1pe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fW1pe.png\" alt=\"enter image description here\" /></a></p>\n<p>Received the error: Invalid Audience , even after giving correct scopes and api permissions with admin consent granted.</p>\n<p><strong>To call the sites using graph:</strong></p>\n<p><a href=\"https://i.stack.imgur.com/vyZqL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vyZqL.png\" alt=\"enter image description here\" /></a></p>\n<p><em><strong><code>https://graph.microsoft.com/v1.0/sites</code></strong></em></p>\n<p>Here as graph api is called, we need to have <em><strong><code>https://graph.microsoft.com /.default</code></strong></em> as scope, which gives the output upon API call.\nFor that call token endpoint with <a href=\"https://graph.microsoft.com\" rel=\"nofollow noreferrer\">https://graph.microsoft.com</a> /.default as scope and then call sharepoint api with the access token with graph scope.</p>\n<p><a href=\"https://i.stack.imgur.com/yfCOQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yfCOQ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Output:</strong> <a href=\"https://graph.microsoft.com/v1.0/sites\" rel=\"nofollow noreferrer\">https://graph.microsoft.com/v1.0/sites</a></p>\n<p><a href=\"https://i.stack.imgur.com/WCoo5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WCoo5.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>But if the site endpoint is called without using grah api endpoint, then scope must be <em><strong><code>https://&lt;tenantdomain&gt;.sharepoint.com/.default</code></strong></em>  must be given</strong></p>\n<p>And the proper query to call sharepoint site api is</p>\n<p><em><strong><code>https://{tenant-name}.sharepoint.com/_api/v2.0/sites</code></strong></em></p>\n<p><a href=\"https://i.stack.imgur.com/jBeXg.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jBeXg.png\" alt=\"enter image description here\" /></a></p>\n<p>My auth code was:</p>\n<pre><code>https://login.microsoftonline.com/&lt;tenantid&gt;/oauth2/v2.0/authorize?client_id=782xxxb3a1&amp;response_type=code&amp;redirect_uri=https://jwt.ms&amp;response_mode=query&amp;scope=https://tenantdoamin.sharepoint.com/.default \n</code></pre>\n<p>the code , i got as below ,</p>\n<p><a href=\"https://i.stack.imgur.com/9MI2r.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9MI2r.png\" alt=\"enter image description here\" /></a></p>\n<p>Token endpoint: I used the code that I got .</p>\n<p><strong>With proper scope and correct api call , I could get the call to be made successful to sharepoint api.</strong></p>\n"}],"owner":{"account_id":1524473,"reputation":924,"user_id":1423246,"accept_rate":38,"display_name":"roberth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":274,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75603082,"answer_count":1,"score":0,"last_activity_date":1677670453,"creation_date":1677599870,"question_id":75594431,"body_markdown":"I am developing an Android application that uses MSAL for Android. A user authenticates himself via this library to get an access token, this token is then used for authorization with the Sharepoint Api.\r\n\r\nI have an Azure AD registration setup which we use to provide the token. We already have a working version of the app where the user can authenticate himself via a refresh token. This refersh token is retrieved via the web browser using the standard microsoft authentication flow (getting an authentication code, calling the api with the code and saving the refresh token). \r\n\r\nI now want to do the same authentication but with MSAL instead of the user having to get a refresh token manualy. I already have a working configuration and can log in with a microsoft account, but when I use the token to call the Sharepoint api we get this error:`\r\n\r\n```{&quot;error_description&quot;:&quot;Exception of type &#39;Microsoft.IdentityModel.Tokens.AudienceUriValidationFailedException&#39; was thrown.&quot;}```\r\n\r\nThe token is retrieved via this code:\r\n```\r\nprivate ISingleAccountPublicClientApplication mSingleAccountApp;\r\nprivate final static String[] SCOPES = {&quot;Sites.FullControl.All&quot;};\r\n\r\nPublicClientApplication.createSingleAccountPublicClientApplication(getApplicationContext(),\r\n                R.raw.auth_config_single_account, new IPublicClientApplication.ISingleAccountApplicationCreatedListener() {\r\n                    @Override\r\n                    public void onCreated(ISingleAccountPublicClientApplication application) {\r\n                        Log.d(Misc.LOGTAG, &quot;OnCreated Called, set mSingleAccountApp&quot;);\r\n                        mSingleAccountApp = application;\r\n                        loadAccount();\r\n                    }\r\n                    @Override\r\n                    public void onError(MsalException exception) {\r\n                        displayError(exception);\r\n                    }\r\n                });\r\n\r\n\r\n btnLogin.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mSingleAccountApp == null) {\r\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\r\n                    return;\r\n                }\r\n                mSingleAccountApp.signIn(UploadActivity.this, null, SCOPES, getAuthInteractiveCallback());\r\n                btnLogin.setVisibility(View.GONE);\r\n                btnLogout.setVisibility(View.VISIBLE);\r\n            }\r\n        });\r\n\r\n          btnLogout.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n            public void onClick(View view) {\r\n                if (mSingleAccountApp == null) {\r\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\r\n                    btnLogin.setVisibility(View.VISIBLE);\r\n                    btnLogout.setVisibility(View.GONE);\r\n                    return;\r\n                }\r\n                mSingleAccountApp.signOut(getSignOutCallback());\r\n            }\r\n        });\r\n\r\nprivate AuthenticationCallback getAuthInteractiveCallback() {\r\n        return new AuthenticationCallback() {\r\n            @Override\r\n            public void onSuccess(IAuthenticationResult authenticationResult) {\r\n                /* Successfully got a token, use it to call a protected resource - MSGraph */\r\n                accessToken = authenticationResult.getAuthorizationHeader();\r\n                Log.i(&quot;token&quot;, accessToken);\r\n            }\r\n\r\n            @Override\r\n            public void onError(MsalException exception) {\r\n                /* Failed to acquireToken */\r\n                Log.d(Misc.LOGTAG, &quot;Authentication failed: &quot; + exception.toString());\r\n                displayError(exception);\r\n            }\r\n            @Override\r\n            public void onCancel() {\r\n                /* User canceled the authentication */\r\n                Log.d(Misc.LOGTAG, &quot;User cancelled login.&quot;);\r\n            }\r\n        };\r\n    }\r\n\r\n    private ISingleAccountPublicClientApplication.SignOutCallback getSignOutCallback() {\r\n        return new ISingleAccountPublicClientApplication.SignOutCallback() {\r\n            @Override\r\n            public void onSignOut() {\r\n                btnLogin.setVisibility(View.VISIBLE);\r\n                btnLogout.setVisibility(View.GONE);\r\n            }\r\n\r\n            @Override\r\n            public void onError(@NonNull MsalException exception) {\r\n                displayError(exception);\r\n            }\r\n        };\r\n    }\r\n\r\n```\r\n\r\nAfter retrieving the access token, we use it to make the sharepoint api call:\r\n```\r\npublic interface SharePointService {\r\n\r\n    @Headers({&quot;Accept: application/json; odata=verbose&quot;})\r\n    @POST(&quot;/sites/{siteName}/_api/web/GetFolderByServerRelativeUrl(&#39;{url}&#39;)/files/add(overwrite=true,url=&#39;{file}&#39;)&quot;)\r\n    Call&lt;ResponseBody&gt; CreateFile(@Header(&quot;Authorization&quot;) String authorization, @Path(&quot;siteName&quot;) String siteName, @Path(&quot;url&quot;) String url, @Path(&quot;file&quot;) String file, @Body RequestBody fileContent);\r\n}\r\n```\r\n\r\nThe authorization header contains the token with the &#39;Bearer &#39; prefix.\r\n\r\nThe Azure AD app registration has the right scope configured + a platform configuration for the android app. Most developers find the problem with a scope that isn&#39;t set right, but I don&#39;t see any problem with out Azure configuration.\r\n[![snippet of the Azure API authorization page][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wXoTH.png\r\n\r\nAny help would be appreciated\r\n","title":"Android doesn&#39;t retrieve the right access token for Azure AD authentication","body":"<p>I am developing an Android application that uses MSAL for Android. A user authenticates himself via this library to get an access token, this token is then used for authorization with the Sharepoint Api.</p>\n<p>I have an Azure AD registration setup which we use to provide the token. We already have a working version of the app where the user can authenticate himself via a refresh token. This refersh token is retrieved via the web browser using the standard microsoft authentication flow (getting an authentication code, calling the api with the code and saving the refresh token).</p>\n<p>I now want to do the same authentication but with MSAL instead of the user having to get a refresh token manualy. I already have a working configuration and can log in with a microsoft account, but when I use the token to call the Sharepoint api we get this error:`</p>\n<p><code>{&quot;error_description&quot;:&quot;Exception of type 'Microsoft.IdentityModel.Tokens.AudienceUriValidationFailedException' was thrown.&quot;}</code></p>\n<p>The token is retrieved via this code:</p>\n<pre><code>private ISingleAccountPublicClientApplication mSingleAccountApp;\nprivate final static String[] SCOPES = {&quot;Sites.FullControl.All&quot;};\n\nPublicClientApplication.createSingleAccountPublicClientApplication(getApplicationContext(),\n                R.raw.auth_config_single_account, new IPublicClientApplication.ISingleAccountApplicationCreatedListener() {\n                    @Override\n                    public void onCreated(ISingleAccountPublicClientApplication application) {\n                        Log.d(Misc.LOGTAG, &quot;OnCreated Called, set mSingleAccountApp&quot;);\n                        mSingleAccountApp = application;\n                        loadAccount();\n                    }\n                    @Override\n                    public void onError(MsalException exception) {\n                        displayError(exception);\n                    }\n                });\n\n\n btnLogin.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n                if (mSingleAccountApp == null) {\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\n                    return;\n                }\n                mSingleAccountApp.signIn(UploadActivity.this, null, SCOPES, getAuthInteractiveCallback());\n                btnLogin.setVisibility(View.GONE);\n                btnLogout.setVisibility(View.VISIBLE);\n            }\n        });\n\n          btnLogout.setOnClickListener(new View.OnClickListener(){\n            @Override\n            public void onClick(View view) {\n                if (mSingleAccountApp == null) {\n                    Log.d(Misc.LOGTAG, &quot;mSingleAccountApp == null&quot;);\n                    btnLogin.setVisibility(View.VISIBLE);\n                    btnLogout.setVisibility(View.GONE);\n                    return;\n                }\n                mSingleAccountApp.signOut(getSignOutCallback());\n            }\n        });\n\nprivate AuthenticationCallback getAuthInteractiveCallback() {\n        return new AuthenticationCallback() {\n            @Override\n            public void onSuccess(IAuthenticationResult authenticationResult) {\n                /* Successfully got a token, use it to call a protected resource - MSGraph */\n                accessToken = authenticationResult.getAuthorizationHeader();\n                Log.i(&quot;token&quot;, accessToken);\n            }\n\n            @Override\n            public void onError(MsalException exception) {\n                /* Failed to acquireToken */\n                Log.d(Misc.LOGTAG, &quot;Authentication failed: &quot; + exception.toString());\n                displayError(exception);\n            }\n            @Override\n            public void onCancel() {\n                /* User canceled the authentication */\n                Log.d(Misc.LOGTAG, &quot;User cancelled login.&quot;);\n            }\n        };\n    }\n\n    private ISingleAccountPublicClientApplication.SignOutCallback getSignOutCallback() {\n        return new ISingleAccountPublicClientApplication.SignOutCallback() {\n            @Override\n            public void onSignOut() {\n                btnLogin.setVisibility(View.VISIBLE);\n                btnLogout.setVisibility(View.GONE);\n            }\n\n            @Override\n            public void onError(@NonNull MsalException exception) {\n                displayError(exception);\n            }\n        };\n    }\n\n</code></pre>\n<p>After retrieving the access token, we use it to make the sharepoint api call:</p>\n<pre><code>public interface SharePointService {\n\n    @Headers({&quot;Accept: application/json; odata=verbose&quot;})\n    @POST(&quot;/sites/{siteName}/_api/web/GetFolderByServerRelativeUrl('{url}')/files/add(overwrite=true,url='{file}')&quot;)\n    Call&lt;ResponseBody&gt; CreateFile(@Header(&quot;Authorization&quot;) String authorization, @Path(&quot;siteName&quot;) String siteName, @Path(&quot;url&quot;) String url, @Path(&quot;file&quot;) String file, @Body RequestBody fileContent);\n}\n</code></pre>\n<p>The authorization header contains the token with the 'Bearer ' prefix.</p>\n<p>The Azure AD app registration has the right scope configured + a platform configuration for the android app. Most developers find the problem with a scope that isn't set right, but I don't see any problem with out Azure configuration.\n<a href=\"https://i.stack.imgur.com/wXoTH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wXoTH.png\" alt=\"snippet of the Azure API authorization page\" /></a></p>\n<p>Any help would be appreciated</p>\n"},{"tags":["java","spring","hibernate","spring-data-jpa","jpa-criteria"],"comments":[{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":6,"creation_date":1543240851,"post_id":41692097,"comment_id":93835132,"body_markdown":"Getting the full result set only to fetch its size seems wasteful - transfer all that data and just discard it. Instead, what method calls should be made in JPA to tell the query to fetch the count only?","body":"Getting the full result set only to fetch its size seems wasteful - transfer all that data and just discard it. Instead, what method calls should be made in JPA to tell the query to fetch the count only?"},{"owner":{"account_id":3274469,"reputation":516,"user_id":2756957,"display_name":"Shashikant Sharma"},"score":0,"creation_date":1689154783,"post_id":41692097,"comment_id":135172008,"body_markdown":"#count total rows\n    \n `CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);\n cq.select(cb.count(cq.from(User.class)));\n Long totalRows = entityManager.createQuery(cq).getSingleResult();`","body":"#count total rows       <code>CriteriaQuery&lt;Long&gt; cq = cb.createQuery(Long.class);  cq.select(cb.count(cq.from(User.class)));  Long totalRows = entityManager.createQuery(cq).getSingleResult();</code>"}],"answers":[{"comments":[{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1484643332,"post_id":41692582,"comment_id":70581429,"body_markdown":"But how to make it dynamic? It is hardcoded in your codes and I suppose that the Pageable will do sorting automatically?","body":"But how to make it dynamic? It is hardcoded in your codes and I suppose that the Pageable will do sorting automatically?"},{"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"score":0,"creation_date":1484643907,"post_id":41692582,"comment_id":70581793,"body_markdown":"Pageable will not do the sorting automatically; it must be the query in doing it. If you want it dinamically you should pass the Order (or an equivalent DTO) to the method findByCriteria params","body":"Pageable will not do the sorting automatically; it must be the query in doing it. If you want it dinamically you should pass the Order (or an equivalent DTO) to the method findByCriteria params"},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1485135922,"post_id":41692582,"comment_id":70784619,"body_markdown":"Thanks, I have found a solution by manually do the sort by using Pageable,getSort().","body":"Thanks, I have found a solution by manually do the sort by using Pageable,getSort()."},{"owner":{"account_id":3585957,"reputation":4619,"user_id":3241889,"accept_rate":72,"display_name":"Alex"},"score":0,"creation_date":1542884582,"post_id":41692582,"comment_id":93733031,"body_markdown":"@Javatar I&#39;m curious on how you succeded to use the Pageable.getSort() to do something dynamic. I tried \n`cq.where(\n            cb.and(predicates)\n        ).orderBy(\n            pageable.getSort().stream().collect(Collectors.toList())\n        );`\nwhere cq is my CriteriaQuery. It won&#39;t work as Orders list from Pageable is a springframework object, and CriteriaQuery API is waiting an Hibernate object :( (EDIT : ok I read again your comment and you said &#39;manually&#39; nvm)","body":"@Javatar I&#39;m curious on how you succeded to use the Pageable.getSort() to do something dynamic. I tried  <code>cq.where(             cb.and(predicates)         ).orderBy(             pageable.getSort().stream().collect(Collectors.toList())         );</code> where cq is my CriteriaQuery. It won&#39;t work as Orders list from Pageable is a springframework object, and CriteriaQuery API is waiting an Hibernate object :( (EDIT : ok I read again your comment and you said &#39;manually&#39; nvm)"},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":1,"creation_date":1543251749,"post_id":41692582,"comment_id":93841360,"body_markdown":"That two-value string &quot;name,desc&quot; in Spring-speak means &quot;sort by name in descending order.&quot; The code above attempts to sort on a column named &quot;desc&quot; which I expect will break.","body":"That two-value string &quot;name,desc&quot; in Spring-speak means &quot;sort by name in descending order.&quot; The code above attempts to sort on a column named &quot;desc&quot; which I expect will break."},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1543374031,"post_id":41692582,"comment_id":93892394,"body_markdown":"@chrisinmtown The value &quot;name,desc&quot; is actually asking Spring to sort the resultset by using the name AND the desc.","body":"@chrisinmtown The value &quot;name,desc&quot; is actually asking Spring to sort the resultset by using the name AND the desc."},{"owner":{"account_id":1789513,"reputation":3781,"user_id":1630244,"accept_rate":55,"display_name":"chrisinmtown"},"score":0,"creation_date":1543410797,"post_id":41692582,"comment_id":93909129,"body_markdown":"@javatar thanks for the reply but please check your facts, for example https://stackoverflow.com/questions/33018127/spring-data-rest-sort-by-multiple-properties","body":"@javatar thanks for the reply but please check your facts, for example <a href=\"https://stackoverflow.com/questions/33018127/spring-data-rest-sort-by-multiple-properties\" title=\"spring data rest sort by multiple properties\">stackoverflow.com/questions/33018127/&hellip;</a>"}],"tags":[],"owner":{"account_id":2080660,"reputation":6691,"user_id":1852714,"accept_rate":8,"display_name":"Angelo Immediata"},"comment_count":7,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1484646739,"creation_date":1484642863,"answer_id":41692582,"question_id":41692097,"body_markdown":"In your criteria query i see no sort information\r\nI&#39;d write in this way:\r\n\r\n         CriteriaBuilder cb = em.getCriteriaBuilder();\r\n         CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n         Root&lt;User&gt; iRoot = cq.from(User.class);\r\n         List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n        \r\n         if (StringUtils.isNotEmpty(username)) {\r\n             predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + username.toLowerCase() + &quot;%&quot;));\r\n         }\r\n        \r\n         Predicate[] predArray = new Predicate[predicates.size()];\r\n         predicates.toArray(predArray);\r\n        \r\n         cq.where(predArray);\r\n         \r\n         List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;(2);\r\n         orders.add(cb.asc(iRoot.get(&quot;name&quot;)));\r\n         orders.add(cb.asc(iRoot.get(&quot;desc&quot;)));\r\n         \r\n         cq.orderBy(orders);\r\n         TypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n         Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n    \r\n         return result;\r\n\r\nI didn&#39;t test it but it should work\r\n\r\nAngelo","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>In your criteria query i see no sort information\nI'd write in this way:</p>\n\n<pre><code>     CriteriaBuilder cb = em.getCriteriaBuilder();\n     CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n     Root&lt;User&gt; iRoot = cq.from(User.class);\n     List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n     if (StringUtils.isNotEmpty(username)) {\n         predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(\"username\")), \"%\" + username.toLowerCase() + \"%\"));\n     }\n\n     Predicate[] predArray = new Predicate[predicates.size()];\n     predicates.toArray(predArray);\n\n     cq.where(predArray);\n\n     List&lt;Order&gt; orders = new ArrayList&lt;Order&gt;(2);\n     orders.add(cb.asc(iRoot.get(\"name\")));\n     orders.add(cb.asc(iRoot.get(\"desc\")));\n\n     cq.orderBy(orders);\n     TypedQuery&lt;User&gt; query = em.createQuery(cq);\n     Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n     return result;\n</code></pre>\n\n<p>I didn't test it but it should work</p>\n\n<p>Angelo</p>\n"},{"comments":[{"owner":{"account_id":8019964,"reputation":141,"user_id":6048892,"display_name":"Thx Xth"},"score":0,"creation_date":1618234316,"post_id":61906871,"comment_id":118533200,"body_markdown":"what is builder ?","body":"what is builder ?"},{"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"score":0,"creation_date":1618277929,"post_id":61906871,"comment_id":118548083,"body_markdown":"@ThxXth It is CriteriaBuilder.","body":"@ThxXth It is CriteriaBuilder."}],"tags":[],"owner":{"account_id":8108208,"reputation":314,"user_id":6109130,"display_name":"Konrad Początek"},"comment_count":2,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1589957745,"creation_date":1589957745,"answer_id":61906871,"question_id":41692097,"body_markdown":"You can add sorting using QueryUtils from spring:\r\n`query.orderBy(QueryUtils.toOrders(pageable.getSort(), root, builder));`","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>You can add sorting using QueryUtils from spring:\n<code>query.orderBy(QueryUtils.toOrders(pageable.getSort(), root, builder));</code></p>\n"},{"tags":[],"owner":{"account_id":10160831,"reputation":7,"user_id":7504343,"display_name":"Abhishek Gupta"},"comment_count":0,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1594876992,"creation_date":1594876992,"answer_id":62927968,"question_id":41692097,"body_markdown":"     CriteriaBuilder cb = em.getCriteriaBuilder();\r\n     CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n     Root&lt;User&gt; iRoot = cq.from(User.class);\r\n     List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n     if (StringUtils.isNotEmpty(username)) {\r\n         predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + \r\n         username.toLowerCase() + &quot;%&quot;));\r\n     }\r\n   \r\n\r\n     Predicate[] predArray = new Predicate[predicates.size()];\r\n     predicates.toArray(predArray);\r\n\r\n     cq.where(predArray);\r\n\r\n     cq.orderBy(cb.desc(user.get(&quot;name&quot;)));\r\n    \r\n     TypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n     Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n\r\n     return result;","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<pre><code> CriteriaBuilder cb = em.getCriteriaBuilder();\n CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n Root&lt;User&gt; iRoot = cq.from(User.class);\n List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n if (StringUtils.isNotEmpty(username)) {\n     predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + \n     username.toLowerCase() + &quot;%&quot;));\n }\n\n\n Predicate[] predArray = new Predicate[predicates.size()];\n predicates.toArray(predArray);\n\n cq.where(predArray);\n\n cq.orderBy(cb.desc(user.get(&quot;name&quot;)));\n\n TypedQuery&lt;User&gt; query = em.createQuery(cq);\n Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n return result;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17421453,"reputation":71,"user_id":12626948,"display_name":"Alejandro Abate"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1637097018,"creation_date":1637097018,"answer_id":69996064,"question_id":41692097,"body_markdown":"Both Op question and Angelo&#39;s answer won&#39;t work in a real-life scenario. \r\nIf that table/query returns thousand of records this approach will perform slowly and you could also could create memory issues.  \r\n\r\nWhy? \r\n\r\n - int totalRows = **query.getResultList()**.size();\r\n - new PageImpl&lt;User&gt;(**query.getResultList()**, page, totalRows);\r\n\r\nboth resultsets will run same query twice and mantain a full table/query data in those colections, just to be counted or sliced, which makes no sense when you need to show few records in your front-end.\r\n\r\nMy suggestion for Spring Data is to extend JpaSpecificationExecutor interface in your repository\r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaRepository&lt;User, Integer&gt;,\r\n            JpaSpecificationExecutor {\r\n    }\r\n\r\nThis interface will enable your repository to use **findAll(Specification&lt;T&gt;, Pageable)** method.\r\n\r\nAfter that, all is quite easy. You only need to create a Java closure to inject  predicates into a dynamic jpa query.\r\n\r\n\r\n    public Page&lt;User&gt; listUser( String name, int pageNumber, int pageSize ) {\r\n    \r\n    Sort sort = Sort.by(&quot;id&quot;).ascending();\r\n    Pageable pageable = PageRequest.of(pageNumber, pageSize, sort);\r\n    \r\n    \r\n    return this.reservationRepository.findAll((root, query, builder) -&gt; {\r\n                List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\r\n                if name!= null ) {\r\n                    predicates.add(builder.equal(root.get(&quot;name&quot;), name));\r\n                }\r\n    \t        // More simple/complex conditions can be added to \r\n                // predicates collection if needed.\r\n    \r\n                return builder.and(predicates.toArray(new Predicate[]{}));\r\n    \r\n            }, pageable);\r\n    \r\n    }\r\n\r\n***As you can see here, this solution supports Sorting/Filtering and database side pagination.***\r\n\r\n","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>Both Op question and Angelo's answer won't work in a real-life scenario.\nIf that table/query returns thousand of records this approach will perform slowly and you could also could create memory issues.</p>\n<p>Why?</p>\n<ul>\n<li>int totalRows = <strong>query.getResultList()</strong>.size();</li>\n<li>new PageImpl(<strong>query.getResultList()</strong>, page, totalRows);</li>\n</ul>\n<p>both resultsets will run same query twice and mantain a full table/query data in those colections, just to be counted or sliced, which makes no sense when you need to show few records in your front-end.</p>\n<p>My suggestion for Spring Data is to extend JpaSpecificationExecutor interface in your repository</p>\n<pre><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, Integer&gt;,\n        JpaSpecificationExecutor {\n}\n</code></pre>\n<p>This interface will enable your repository to use <strong>findAll(Specification, Pageable)</strong> method.</p>\n<p>After that, all is quite easy. You only need to create a Java closure to inject  predicates into a dynamic jpa query.</p>\n<pre><code>public Page&lt;User&gt; listUser( String name, int pageNumber, int pageSize ) {\n\nSort sort = Sort.by(&quot;id&quot;).ascending();\nPageable pageable = PageRequest.of(pageNumber, pageSize, sort);\n\n\nreturn this.reservationRepository.findAll((root, query, builder) -&gt; {\n            List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;();\n            if name!= null ) {\n                predicates.add(builder.equal(root.get(&quot;name&quot;), name));\n            }\n            // More simple/complex conditions can be added to \n            // predicates collection if needed.\n\n            return builder.and(predicates.toArray(new Predicate[]{}));\n\n        }, pageable);\n\n}\n</code></pre>\n<p><em><strong>As you can see here, this solution supports Sorting/Filtering and database side pagination.</strong></em></p>\n"},{"comments":[{"owner":{"account_id":60737,"reputation":15904,"user_id":181336,"display_name":"Adriaan Koster"},"score":0,"creation_date":1698330522,"post_id":75603100,"comment_id":136394193,"body_markdown":"For me it also worked after removing the `query.orderBy(orders);` in the `getCriteria` method. The Sort is part of the Pageable interface and gets picked up.","body":"For me it also worked after removing the <code>query.orderBy(orders);</code> in the <code>getCriteria</code> method. The Sort is part of the Pageable interface and gets picked up."}],"tags":[],"owner":{"account_id":1668855,"reputation":14404,"user_id":2700303,"accept_rate":63,"display_name":"MiguelSlv"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677670182,"creation_date":1677670182,"answer_id":75603100,"question_id":41692097,"body_markdown":"A complete example that uses `JpaSpecificationExecutor` and encapsulate it in a class:\r\n\r\nFirst define the repository as an extension of JpaRepository and JpaSpecificationExecutor for `SomeEntity`:\r\n\r\n    interface SomeEntityRepositoryPaged extends JpaRepository&lt;SomeEntity, Integer&gt;, JpaSpecificationExecutor&lt;SomeEntity&gt; {\r\n\t Page&lt;SomeEntity&gt; findAll(Specification&lt;SomeEntity&gt; spec, Pageable pageable);\r\n}\r\n\r\nFindByCriteria class:\r\n\r\n    class FindByCriteria{\r\n\t\t FindByCriteria() {\r\n\t\t\t\tApplicationContext appCtx = ApplicationContextUtils.getApplicationContext();\r\n\t\t\t\trepository = appCtx.getBean(SomeEntityRepositoryPaged.class);\r\n\t\t\t}\r\n\t\t\r\n\t\t\tprivate SomeEntityRepositoryPaged repository;\r\n\t\t\t\r\n\t\t\tpublic Page&lt;SomeEntity&gt; searchBy(Client client, SearchParams params,Pageable page){\r\n\t\t\t\treturn repository.findAll(getCriteria(params), page);\r\n\t\t\t}\r\n\t\t\tprivate Specification&lt;SomeEntity&gt; getCriteria(SearchParams params){\r\n\t\t\t\t  return (paymentRoot, query, cb)-&gt; \r\n\t\t\t\t  { \r\n\t\t\t\t\t    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;(5);\r\n\t\t\t\t\r\n\t\t\t\t\t\tfilterByParams(params, cb, paymentRoot, predicates);\r\n\t\r\n\t\t\t\t\t    query.where(predicates.toArray(new Predicate[] {}));\r\n\r\n                        //IMPORTANT: the order specify should be deterministic, meaning rows can never change order in 2 subsequent calls.\r\n                        \r\n\t\t\t\t\t\tList&lt;Order&gt; orders = new ArrayList&lt;&gt;(1);\r\n\t\t\t\t\t\torders.add(cb.asc(paymentRoot.get(&quot;date&quot;)));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tquery.orderBy(orders);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\treturn  null;\r\n\t\t\t\t  };\r\n\t\t\t\t}\r\n\t\r\n\t\t\tprivate void filterByParams(SearchParams params, CriteriaBuilder cb, Root&lt;SomeEntity&gt; payment,\r\n\t\t\t\t\tList&lt;Predicate&gt; predicates) {\r\n\t\t\t\r\n\t\t\t\tif (params.getInitialDate() != null)\r\n\t\t\t\t\tpredicates.add(cb.greaterThan(payment.get(&quot;paymentDate&quot;), params.getInitialDate()));\r\n\t\r\n\t\t\t\tif (params.getFinalDate() != null)\r\n\t\t\t\t\tpredicates.add(cb.lessThanOrEqualTo(payment.get(&quot;paymentDate&quot;), params.getFinalDate()));\r\n\t\r\n\t\t\t\tif (params.getState() != null)\r\n\t\t\t\t\tpredicates.add(cb.equal(payment.get(&quot;state&quot;), params.getState()));\r\n\t\t\t\t//... add here any criteria needed bases on params object\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\nTo invoke simple call:\r\n\r\n    @Test pagedQueryTest\r\n    {\r\n         var page = PageRequest.of(2, 10);\r\n         var params = new SearchParams (...);\r\n         var list = new FindByCriteria().searchBy(params, page);\r\n         assert...\r\n         //The generated native query should be optimized.\r\n         //For mssql the native query should end with &quot;offset ? rows fetch first ? rows only&quot; \r\n         //and that means the store engine will only fetch the rows after first parameter (=page*size), and to the max of the page size.\r\n    }\r\n\r\n","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>A complete example that uses <code>JpaSpecificationExecutor</code> and encapsulate it in a class:</p>\n<p>First define the repository as an extension of JpaRepository and JpaSpecificationExecutor for <code>SomeEntity</code>:</p>\n<pre><code>interface SomeEntityRepositoryPaged extends JpaRepository&lt;SomeEntity, Integer&gt;, JpaSpecificationExecutor&lt;SomeEntity&gt; {\n Page&lt;SomeEntity&gt; findAll(Specification&lt;SomeEntity&gt; spec, Pageable pageable);\n</code></pre>\n<p>}</p>\n<p>FindByCriteria class:</p>\n<pre><code>class FindByCriteria{\n     FindByCriteria() {\n            ApplicationContext appCtx = ApplicationContextUtils.getApplicationContext();\n            repository = appCtx.getBean(SomeEntityRepositoryPaged.class);\n        }\n    \n        private SomeEntityRepositoryPaged repository;\n        \n        public Page&lt;SomeEntity&gt; searchBy(Client client, SearchParams params,Pageable page){\n            return repository.findAll(getCriteria(params), page);\n        }\n        private Specification&lt;SomeEntity&gt; getCriteria(SearchParams params){\n              return (paymentRoot, query, cb)-&gt; \n              { \n                    List&lt;Predicate&gt; predicates = new ArrayList&lt;&gt;(5);\n            \n                    filterByParams(params, cb, paymentRoot, predicates);\n\n                    query.where(predicates.toArray(new Predicate[] {}));\n\n                    //IMPORTANT: the order specify should be deterministic, meaning rows can never change order in 2 subsequent calls.\n                    \n                    List&lt;Order&gt; orders = new ArrayList&lt;&gt;(1);\n                    orders.add(cb.asc(paymentRoot.get(&quot;date&quot;)));\n                    \n                    query.orderBy(orders);\n                    \n                    return  null;\n              };\n            }\n\n        private void filterByParams(SearchParams params, CriteriaBuilder cb, Root&lt;SomeEntity&gt; payment,\n                List&lt;Predicate&gt; predicates) {\n        \n            if (params.getInitialDate() != null)\n                predicates.add(cb.greaterThan(payment.get(&quot;paymentDate&quot;), params.getInitialDate()));\n\n            if (params.getFinalDate() != null)\n                predicates.add(cb.lessThanOrEqualTo(payment.get(&quot;paymentDate&quot;), params.getFinalDate()));\n\n            if (params.getState() != null)\n                predicates.add(cb.equal(payment.get(&quot;state&quot;), params.getState()));\n            //... add here any criteria needed bases on params object\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>To invoke simple call:</p>\n<pre><code>@Test pagedQueryTest\n{\n     var page = PageRequest.of(2, 10);\n     var params = new SearchParams (...);\n     var list = new FindByCriteria().searchBy(params, page);\n     assert...\n     //The generated native query should be optimized.\n     //For mssql the native query should end with &quot;offset ? rows fetch first ? rows only&quot; \n     //and that means the store engine will only fetch the rows after first parameter (=page*size), and to the max of the page size.\n}\n</code></pre>\n"}],"owner":{"account_id":6170027,"reputation":643,"user_id":4808563,"display_name":"Javatar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30451,"favorite_count":0,"down_vote_count":0,"up_vote_count":19,"answer_count":5,"score":19,"last_activity_date":1677670182,"creation_date":1484641264,"question_id":41692097,"body_markdown":"I used JPA CriteriaQuery to build my dynamic Query and pass in a Spring Data Pageable object:\r\n\r\n    sort=name,desc\r\n\r\nAt the backend I have a method in my Repository to support dynamic query:\r\n\r\n    public Page&lt;User&gt; findByCriteria(String username, Pageable page) {\r\n        CriteriaBuilder cb = em.getCriteriaBuilder();\r\n\t\tCriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\r\n\t\tRoot&lt;User&gt; iRoot = cq.from(User.class);\r\n\t\tList&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\r\n\r\n\t\tif (StringUtils.isNotEmpty(username)) {\r\n\t\t\tpredicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(&quot;username&quot;)), &quot;%&quot; + username.toLowerCase() + &quot;%&quot;));\r\n\t\t}\r\n\r\n\t\tPredicate[] predArray = new Predicate[predicates.size()];\r\n\t\tpredicates.toArray(predArray);\r\n\r\n\t\tcq.where(predArray);\r\n\r\n\t\tTypedQuery&lt;User&gt; query = em.createQuery(cq);\r\n\r\n\t\tint totalRows = query.getResultList().size();\r\n\r\n\t\tquery.setFirstResult(page.getPageNumber() * page.getPageSize());\r\n\t\tquery.setMaxResults(page.getPageSize());\r\n\t\t\r\n\t\tPage&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\r\n\r\n\t\treturn result;\r\n    }\r\n\r\nNote: I put only one param for demo purpose.\r\n\r\nHowever the returned data is unsorted therefore I would like to ask is that any way to implement Pageable in CriteriaQuery.","title":"JPA CriteriaQuery implements Spring Data Pageable.getSort()","body":"<p>I used JPA CriteriaQuery to build my dynamic Query and pass in a Spring Data Pageable object:</p>\n\n<pre><code>sort=name,desc\n</code></pre>\n\n<p>At the backend I have a method in my Repository to support dynamic query:</p>\n\n<pre><code>public Page&lt;User&gt; findByCriteria(String username, Pageable page) {\n    CriteriaBuilder cb = em.getCriteriaBuilder();\n    CriteriaQuery&lt;User&gt; cq = cb.createQuery(User.class);\n    Root&lt;User&gt; iRoot = cq.from(User.class);\n    List&lt;Predicate&gt; predicates = new ArrayList&lt;Predicate&gt;();\n\n    if (StringUtils.isNotEmpty(username)) {\n        predicates.add(cb.like(cb.lower(iRoot.&lt;String&gt;get(\"username\")), \"%\" + username.toLowerCase() + \"%\"));\n    }\n\n    Predicate[] predArray = new Predicate[predicates.size()];\n    predicates.toArray(predArray);\n\n    cq.where(predArray);\n\n    TypedQuery&lt;User&gt; query = em.createQuery(cq);\n\n    int totalRows = query.getResultList().size();\n\n    query.setFirstResult(page.getPageNumber() * page.getPageSize());\n    query.setMaxResults(page.getPageSize());\n\n    Page&lt;User&gt; result = new PageImpl&lt;User&gt;(query.getResultList(), page, totalRows);\n\n    return result;\n}\n</code></pre>\n\n<p>Note: I put only one param for demo purpose.</p>\n\n<p>However the returned data is unsorted therefore I would like to ask is that any way to implement Pageable in CriteriaQuery.</p>\n"},{"tags":["java","spring","maven","jsp"],"comments":[{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677584996,"post_id":75590649,"comment_id":133363029,"body_markdown":"What does the code look like? If you are extending `JpaRepository`, you can just add the method signature such as `List&lt;Employee&gt; findAllByDesignationIsNull();`.","body":"What does the code look like? If you are extending <code>JpaRepository</code>, you can just add the method signature such as <code>List&lt;Employee&gt; findAllByDesignationIsNull();</code>."},{"owner":{"account_id":17520379,"reputation":1536,"user_id":12706564,"display_name":"Emanuel Trandafir"},"score":0,"creation_date":1677585283,"post_id":75590649,"comment_id":133363108,"body_markdown":"you can filter out employees where designation is empty, for example:\n`employees.stream().filter(e -&gt; !e.getDesignation().isEmpty()).collect(Collectors.toList())`","body":"you can filter out employees where designation is empty, for example: <code>employees.stream().filter(e -&gt; !e.getDesignation().isEmpty()).collect(Collectors.toList())</code>"},{"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"score":0,"creation_date":1677595156,"post_id":75590649,"comment_id":133366346,"body_markdown":"yes that might can work but i am having a dao.java file where i have written all my save, delete, and update query. @CalvinP.","body":"yes that might can work but i am having a dao.java file where i have written all my save, delete, and update query. @CalvinP."},{"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"score":0,"creation_date":1677595534,"post_id":75590649,"comment_id":133366483,"body_markdown":"employees.stream().filter(e -&gt; !e.getDesignation().isEmpty()).collect(Collectors.toList()) this is bringing all the elements from the list @TrandafirEmanuel, PLz suggest any other approach","body":"employees.stream().filter(e -&gt; !e.getDesignation().isEmpty()).collect(Collectors.toList()) this is bringing all the elements from the list @TrandafirEmanuel, PLz suggest any other approach"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677597002,"post_id":75590649,"comment_id":133366987,"body_markdown":"@hussain In that case you can build the same query in whatever manner you are already using. Hibernate example, `String query = &quot;select e from Employee e where e.designation is null&quot;;`","body":"@hussain In that case you can build the same query in whatever manner you are already using. Hibernate example, <code>String query = &quot;select e from Employee e where e.designation is null&quot;;</code>"},{"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"score":0,"creation_date":1677597295,"post_id":75590649,"comment_id":133367108,"body_markdown":"thank you @CalvinP. but there is cache again &quot;null&quot; will not affect the empty strings, whenever the user is entering the data from the view side any empty field will be taken as an empty string i.e. &quot; &quot; , not NULL","body":"thank you @CalvinP. but there is cache again &quot;null&quot; will not affect the empty strings, whenever the user is entering the data from the view side any empty field will be taken as an empty string i.e. &quot; &quot; , not NULL"},{"owner":{"account_id":4395013,"reputation":1126,"user_id":3582362,"accept_rate":100,"display_name":"Calvin P."},"score":0,"creation_date":1677606043,"post_id":75590649,"comment_id":133369828,"body_markdown":"@hussain As long as you&#39;re sure that all &#39;empty&#39; strings contain no whitespace, you could instead write is such as `String query = &quot;select e from Employee e where e.designation = &#39;&#39;&quot;`. If you want to catch both, `String query = &quot;select e from Employee e where e.designation = &#39;&#39; or e.designation is null&quot;`","body":"@hussain As long as you&#39;re sure that all &#39;empty&#39; strings contain no whitespace, you could instead write is such as <code>String query = &quot;select e from Employee e where e.designation = &#39;&#39;&quot;</code>. If you want to catch both, <code>String query = &quot;select e from Employee e where e.designation = &#39;&#39; or e.designation is null&quot;</code>"},{"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"score":0,"creation_date":1677657900,"post_id":75590649,"comment_id":133379153,"body_markdown":"@CalvinP. this is not helping out can you suggest anything using java, so that i can use it inside the controller","body":"@CalvinP. this is not helping out can you suggest anything using java, so that i can use it inside the controller"}],"answers":[{"tags":[],"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677670094,"creation_date":1677670094,"answer_id":75603083,"question_id":75590649,"body_markdown":"        \r\n    List&lt;Emp&gt; unlist = dao.getEmployees();\r\n    List&lt;Emp&gt; emptyFields = new ArrayList&lt;&gt;();\r\n    for (Emp person : unlist) {\r\n     \tif (person.getDesignation().equals(&quot;&quot;) || person.getDesignation().equals(&quot;&quot;))\r\n            {\r\n    \t\t   emptyFields.add(person);\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \t\t// viewing the lists in the jsp\r\n    \t\tm.addAttribute(&quot;unlist_dropdown&quot;, emptyFields);","title":"How to print the Field Value if it has an empty string in the list in Java","body":"<pre><code>List&lt;Emp&gt; unlist = dao.getEmployees();\nList&lt;Emp&gt; emptyFields = new ArrayList&lt;&gt;();\nfor (Emp person : unlist) {\n    if (person.getDesignation().equals(&quot;&quot;) || person.getDesignation().equals(&quot;&quot;))\n        {\n           emptyFields.add(person);\n        }\n    }\n        \n        // viewing the lists in the jsp\n        m.addAttribute(&quot;unlist_dropdown&quot;, emptyFields);\n</code></pre>\n"}],"owner":{"account_id":27898694,"reputation":1,"user_id":21303421,"display_name":"hussain"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677670094,"creation_date":1677579540,"question_id":75590649,"body_markdown":"```\r\n[name=&quot;zakir&quot;, salary=&quot;44003&quot;, designation=&quot;&quot;]\r\n[name=&quot;Sheela&quot;, salary=&quot;24303&quot;, designation=&quot;Developer&quot;]\r\n[name=&quot;Meghana&quot;, salary=&quot;100000&quot;, designation=&quot;Tester&quot;]\r\n\r\n```\r\n\r\nIn the above eaxmple i want to print the name which does not have any thing in designation i.e. the empty string object in a jsp pages under a dropdown.\r\n\r\nNote: i am working under **Spring MVC model**, just help me out the logic where i can just extract the zakir in a seperate list.\r\n\r\n[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6borK.png","title":"How to print the Field Value if it has an empty string in the list in Java","body":"<pre><code>[name=&quot;zakir&quot;, salary=&quot;44003&quot;, designation=&quot;&quot;]\n[name=&quot;Sheela&quot;, salary=&quot;24303&quot;, designation=&quot;Developer&quot;]\n[name=&quot;Meghana&quot;, salary=&quot;100000&quot;, designation=&quot;Tester&quot;]\n\n</code></pre>\n<p>In the above eaxmple i want to print the name which does not have any thing in designation i.e. the empty string object in a jsp pages under a dropdown.</p>\n<p>Note: i am working under <strong>Spring MVC model</strong>, just help me out the logic where i can just extract the zakir in a seperate list.</p>\n<p><a href=\"https://i.stack.imgur.com/6borK.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","eclipse","development-environment"],"answers":[{"tags":[],"owner":{"account_id":3216,"reputation":12095,"user_id":4600,"display_name":"marcospereira"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1361111662,"creation_date":1224822065,"answer_id":232473,"question_id":230199,"body_markdown":"Just use a Working Set. Details about how to do it here:\r\n[Excluding Unfixables from Eclipse Problem View][1]\r\n\r\nAnd here:\r\n[Eclipse Problems view][2]\r\n\r\n  [1]: https://stackoverflow.com/questions/783902/excluding-disabling-validation-in-eclipse\r\n  [2]: http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.platform.doc.user/concepts/cprbview.htm","title":"Filtering warnings in eclipse by filename","body":"<p>Just use a Working Set. Details about how to do it here:\n<a href=\"https://stackoverflow.com/questions/783902/excluding-disabling-validation-in-eclipse\">Excluding Unfixables from Eclipse Problem View</a></p>\n\n<p>And here:\n<a href=\"http://help.eclipse.org/help33/index.jsp?topic=/org.eclipse.platform.doc.user/concepts/cprbview.htm\" rel=\"nofollow noreferrer\">Eclipse Problems view</a></p>\n"},{"tags":[],"owner":{"account_id":13054,"reputation":2642,"user_id":26010,"display_name":"Dov Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1224830854,"creation_date":1224830854,"answer_id":232671,"question_id":230199,"body_markdown":"A working set works well with multiple projects. I suggest you try using one.","title":"Filtering warnings in eclipse by filename","body":"<p>A working set works well with multiple projects. I suggest you try using one.</p>\n"},{"tags":[],"owner":{"display_name":"jimshowalter"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1330539058,"creation_date":1245012394,"answer_id":993722,"question_id":230199,"body_markdown":"[Using a Working Set] doesn&#39;t work for a lot of situations.\r\n\r\nFor example, the Android Eclipse plug-in generates code into the *same* project.\r\n\r\nA working set consists of one or more projects, in their entirety, so a working set can&#39;t filter out generated warnings that are intra-project.\r\n\r\n----------\r\n\r\n**Edit:**\r\n\r\nI learned something super-useful: working sets can filter out parts of projects. It&#39;s simple to do--click on the project in the left pane of the working-set editor and expand it. Then only add what you want.\r\n","title":"Filtering warnings in eclipse by filename","body":"<p>[Using a Working Set] doesn't work for a lot of situations.</p>\n\n<p>For example, the Android Eclipse plug-in generates code into the <em>same</em> project.</p>\n\n<p>A working set consists of one or more projects, in their entirety, so a working set can't filter out generated warnings that are intra-project.</p>\n\n<hr>\n\n<p><strong>Edit:</strong></p>\n\n<p>I learned something super-useful: working sets can filter out parts of projects. It's simple to do--click on the project in the left pane of the working-set editor and expand it. Then only add what you want.</p>\n"}],"owner":{"account_id":13853,"reputation":5322,"user_id":28038,"accept_rate":86,"display_name":"Steve Armstrong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4141,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1677669877,"creation_date":1224775922,"question_id":230199,"body_markdown":"We use Eclipse for our Java development, and we&#39;ve got Maven compiling our JSPs into servlets to be used in our embedded Jetty instance. This means that to run the project from Eclipse, I have to include ./target/jsp-source as a source folder, which works great. The warnings that show up for that generated code are everywhere though, and I want to filter them out.\r\n\r\nmainMenu_jsp.java has a warning about a local variable not being used. It&#39;s generated code, so I don&#39;t care about it, but I can&#39;t figure out how to filter out any warnings by filename pattern.\r\n\r\n**I know I can define a working set**, but because I&#39;m always opening,closing, and sometimes adding and deleting projects, I don&#39;t want another point of manual bookkeeping that I have to keep up to date. If I add a new project and forget to go in and add it to the working set, I won&#39;t get any warnings for it, which with all the other projects, I might not notice. Working sets would only really work if there was a way to set them to dynamically expand to include all projects (not just all right now), and have their filtering automatically apply to each new project as it&#39;s added.","title":"Filtering warnings in eclipse by filename","body":"<p>We use Eclipse for our Java development, and we've got Maven compiling our JSPs into servlets to be used in our embedded Jetty instance. This means that to run the project from Eclipse, I have to include ./target/jsp-source as a source folder, which works great. The warnings that show up for that generated code are everywhere though, and I want to filter them out.</p>\n\n<p>mainMenu_jsp.java has a warning about a local variable not being used. It's generated code, so I don't care about it, but I can't figure out how to filter out any warnings by filename pattern.</p>\n\n<p><strong>I know I can define a working set</strong>, but because I'm always opening,closing, and sometimes adding and deleting projects, I don't want another point of manual bookkeeping that I have to keep up to date. If I add a new project and forget to go in and add it to the working set, I won't get any warnings for it, which with all the other projects, I might not notice. Working sets would only really work if there was a way to set them to dynamically expand to include all projects (not just all right now), and have their filtering automatically apply to each new project as it's added.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1677607115,"post_id":75595517,"comment_id":133370145,"body_markdown":"1) Don&#39;t see whats wrong with the basic code posted. However, we have no idea what the  code in the car panels does. I would guess the problem is in that code. Post a proper [mre] demonstrating the problem. 2) Typically when creating a game you would only have a single GamePanel. Then the logic in that class would paint both cars.","body":"1) Don&#39;t see whats wrong with the basic code posted. However, we have no idea what the  code in the car panels does. I would guess the problem is in that code. Post a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> demonstrating the problem. 2) Typically when creating a game you would only have a single GamePanel. Then the logic in that class would paint both cars."}],"owner":{"account_id":27902259,"reputation":1,"user_id":21306290,"display_name":"tedhubbard"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677669527,"creation_date":1677605873,"question_id":75595517,"body_markdown":"So I am creating a car racing game on java. I have created 3 java classes, MyFrame.java, and two  classes for two different coloured cars (WhiteCarPanel.java, YellowCarPanel.Java). The two cars panel classes load the car images into an array, create an timer, and able the cars to move when user selects UP Arrow/W keys, and can change direction with Left&amp;Right/A&amp;D keys. I have called both these classes in MyFrame and added both to a JPanel. \r\n\r\nHowever, once I&#39;ve added both, only the WhiteCar shows on the output and I cannot figure out what is wrong with my code as to why both cars are not showing.\r\n\r\nMyFrame code:\r\n\r\n```\r\nimport java.awt.FlowLayout;\r\nimport java.awt.event.KeyEvent;\r\nimport java.awt.event.KeyListener;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JPanel;\r\nimport java.awt.Dimension;\r\n\r\npublic class MyFrame extends JFrame implements KeyListener {\r\n\r\n    private WhiteCarPanel whitePanel;\r\n    private YellowCarPanel yellowPanel;\r\n\r\n    public MyFrame() {\r\n        // Set frame properties\r\n        this.setTitle(&quot;Car Image Mover&quot;);\r\n        this.setSize(640, 480);\r\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\r\n        // Add JPanel to frame\r\n        JPanel carPanel = new JPanel(new FlowLayout());\r\n        whitePanel = new WhiteCarPanel();\r\n        yellowPanel = new YellowCarPanel();\r\n        carPanel.add(whitePanel);\r\n        carPanel.add(yellowPanel);\r\n        this.add(carPanel);\r\n\r\n        this.addKeyListener(this);\r\n\r\n        // Display the frame\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        new MyFrame();\r\n    }\r\n\r\n    @Override\r\n    public void keyPressed(KeyEvent e) {\r\n        switch (e.getKeyCode()) {\r\n            case KeyEvent.VK_UP:\r\n                whitePanel.moveUp();\r\n                break;\r\n            case KeyEvent.VK_DOWN:\r\n                whitePanel.moveDown();\r\n                break;\r\n            case KeyEvent.VK_LEFT:\r\n                whitePanel.rotateLeft();\r\n                break;\r\n            case KeyEvent.VK_RIGHT:\r\n                whitePanel.rotateRight();\r\n                break;\r\n            case KeyEvent.VK_W:\r\n                yellowPanel.moveUp();\r\n                break;\r\n            case KeyEvent.VK_S:\r\n                yellowPanel.moveDown();\r\n                break;\r\n            case KeyEvent.VK_A:\r\n                yellowPanel.rotateLeft();\r\n                break;\r\n            case KeyEvent.VK_D:\r\n                yellowPanel.rotateRight();\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyReleased(KeyEvent e) {\r\n        switch (e.getKeyCode()) {\r\n            case KeyEvent.VK_UP:\r\n            case KeyEvent.VK_DOWN:\r\n                whitePanel.stopMoving();\r\n                break;\r\n            case KeyEvent.VK_W:\r\n            case KeyEvent.VK_S:\r\n                yellowPanel.stopMoving();\r\n                break;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void keyTyped(KeyEvent e) {\r\n        // Do nothing\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhiteCarPanel code:\r\n\r\n```\r\n\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Graphics;\r\nimport java.awt.Graphics2D;\r\nimport java.awt.geom.AffineTransform;\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport javax.swing.Timer;\r\nimport javax.swing.JPanel;\r\nimport javax.imageio.ImageIO;\r\n\r\npublic class WhiteCarPanel extends JPanel {\r\n\r\n    private static final int PANEL_WIDTH = 640;\r\n    private static final int PANEL_HEIGHT = 480;\r\n    private BufferedImage[] images;\r\n    private int currentImageIndex;\r\n    private int centerX;\r\n    private int centerY;\r\n    private int moveDistance; // Distance to move the car on each key press\r\n    private boolean moving; // Whether the car is currently moving\r\n    private int xVelocity; // Velocity in x direction\r\n    private int yVelocity; // Velocity in y direction\r\n\r\n    public WhiteCarPanel() {\r\n\r\n        // Load all the car images\r\n        images = new BufferedImage[16];\r\n        try {\r\n            for (int i = 0; i &lt; 16; i++) {\r\n                images[i] = ImageIO.read(new File(&quot;WhiteCar&quot; + i + &quot;.png&quot;));\r\n            }\r\n            currentImageIndex = 0;\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        // Set the center of the panel as the center of rotation\r\n        centerX = PANEL_WIDTH / 2;\r\n        centerY = PANEL_HEIGHT / 2;\r\n\r\n        moveDistance = 0;\r\n        moving = false;\r\n        xVelocity = 0;\r\n        yVelocity = 0;\r\n\r\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\r\n\r\n        // Start the animation timer\r\n        Timer animationTimer = new Timer(100, e -&gt; {\r\n            if (moving) {\r\n                // Calculate the new position of the car based on its current velocity\r\n                centerX += xVelocity;\r\n                centerY += yVelocity;\r\n                repaint();\r\n            }\r\n        });\r\n        animationTimer.start();\r\n    }\r\n\r\n    @Override\r\n    public void paintComponent(Graphics g) {\r\n        super.paintComponent(g);\r\n\r\n        // Get the current image from the images array\r\n        BufferedImage image = images[currentImageIndex];\r\n\r\n        // Calculate the position and rotation of the image\r\n        int imageX = centerX - image.getWidth() / 2;\r\n        int imageY = centerY - image.getHeight() / 2;\r\n        AffineTransform transform = AffineTransform.getTranslateInstance(imageX, imageY);\r\n\r\n        // Draw the image\r\n        Graphics2D g2d = (Graphics2D) g;\r\n        g2d.drawImage(image, transform, null);\r\n    }\r\n\r\n    public void moveUp() {\r\n        // Start moving the car forward\r\n        moveDistance = 15;\r\n        moving = true;\r\n        calculateVelocity();\r\n    }\r\n\r\n    public void moveDown() {\r\n        // Start moving the car backward\r\n        moveDistance = -5;\r\n        moving = true;\r\n        calculateVelocity();\r\n    }\r\n\r\n    public void stopMoving() {\r\n        // Stop moving the car\r\n        moving = false;\r\n        xVelocity = 0;\r\n        yVelocity = 0;\r\n    }\r\n\r\n    public void rotateLeft() {\r\n        // Rotate the car left by changing the current image index\r\n        currentImageIndex--;\r\n        if (currentImageIndex &lt; 0) {\r\n            currentImageIndex = images.length - 1;\r\n        }\r\n        repaint();\r\n        calculateVelocity();\r\n    }\r\n\r\n    public void rotateRight() {\r\n        // Rotate the car right by changing the current image index\r\n        currentImageIndex = (currentImageIndex + 1) % images.length;\r\n        repaint();\r\n        calculateVelocity();\r\n    }\r\n\r\n    private void calculateVelocity() {\r\n        // Calculate the velocity in x and y directions based on the current image index\r\n        double angleRadians = Math.toRadians(currentImageIndex * 22.5);\r\n        xVelocity = (int) (moveDistance * Math.cos(angleRadians));\r\n        yVelocity = (int) (moveDistance * Math.sin(angleRadians));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nYellowCarPanel code is the same as WhiteCarPanel but just with different variable names.\r\n","title":"How to add 2 panels to the same frame so both are displayed on output window","body":"<p>So I am creating a car racing game on java. I have created 3 java classes, MyFrame.java, and two  classes for two different coloured cars (WhiteCarPanel.java, YellowCarPanel.Java). The two cars panel classes load the car images into an array, create an timer, and able the cars to move when user selects UP Arrow/W keys, and can change direction with Left&amp;Right/A&amp;D keys. I have called both these classes in MyFrame and added both to a JPanel.</p>\n<p>However, once I've added both, only the WhiteCar shows on the output and I cannot figure out what is wrong with my code as to why both cars are not showing.</p>\n<p>MyFrame code:</p>\n<pre><code>import java.awt.FlowLayout;\nimport java.awt.event.KeyEvent;\nimport java.awt.event.KeyListener;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport java.awt.Dimension;\n\npublic class MyFrame extends JFrame implements KeyListener {\n\n    private WhiteCarPanel whitePanel;\n    private YellowCarPanel yellowPanel;\n\n    public MyFrame() {\n        // Set frame properties\n        this.setTitle(&quot;Car Image Mover&quot;);\n        this.setSize(640, 480);\n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        // Add JPanel to frame\n        JPanel carPanel = new JPanel(new FlowLayout());\n        whitePanel = new WhiteCarPanel();\n        yellowPanel = new YellowCarPanel();\n        carPanel.add(whitePanel);\n        carPanel.add(yellowPanel);\n        this.add(carPanel);\n\n        this.addKeyListener(this);\n\n        // Display the frame\n        this.setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new MyFrame();\n    }\n\n    @Override\n    public void keyPressed(KeyEvent e) {\n        switch (e.getKeyCode()) {\n            case KeyEvent.VK_UP:\n                whitePanel.moveUp();\n                break;\n            case KeyEvent.VK_DOWN:\n                whitePanel.moveDown();\n                break;\n            case KeyEvent.VK_LEFT:\n                whitePanel.rotateLeft();\n                break;\n            case KeyEvent.VK_RIGHT:\n                whitePanel.rotateRight();\n                break;\n            case KeyEvent.VK_W:\n                yellowPanel.moveUp();\n                break;\n            case KeyEvent.VK_S:\n                yellowPanel.moveDown();\n                break;\n            case KeyEvent.VK_A:\n                yellowPanel.rotateLeft();\n                break;\n            case KeyEvent.VK_D:\n                yellowPanel.rotateRight();\n                break;\n        }\n    }\n\n    @Override\n    public void keyReleased(KeyEvent e) {\n        switch (e.getKeyCode()) {\n            case KeyEvent.VK_UP:\n            case KeyEvent.VK_DOWN:\n                whitePanel.stopMoving();\n                break;\n            case KeyEvent.VK_W:\n            case KeyEvent.VK_S:\n                yellowPanel.stopMoving();\n                break;\n        }\n    }\n\n    @Override\n    public void keyTyped(KeyEvent e) {\n        // Do nothing\n    }\n}\n\n</code></pre>\n<p>WhiteCarPanel code:</p>\n<pre><code>\n\nimport java.awt.Dimension;\nimport java.awt.Graphics;\nimport java.awt.Graphics2D;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.swing.Timer;\nimport javax.swing.JPanel;\nimport javax.imageio.ImageIO;\n\npublic class WhiteCarPanel extends JPanel {\n\n    private static final int PANEL_WIDTH = 640;\n    private static final int PANEL_HEIGHT = 480;\n    private BufferedImage[] images;\n    private int currentImageIndex;\n    private int centerX;\n    private int centerY;\n    private int moveDistance; // Distance to move the car on each key press\n    private boolean moving; // Whether the car is currently moving\n    private int xVelocity; // Velocity in x direction\n    private int yVelocity; // Velocity in y direction\n\n    public WhiteCarPanel() {\n\n        // Load all the car images\n        images = new BufferedImage[16];\n        try {\n            for (int i = 0; i &lt; 16; i++) {\n                images[i] = ImageIO.read(new File(&quot;WhiteCar&quot; + i + &quot;.png&quot;));\n            }\n            currentImageIndex = 0;\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        // Set the center of the panel as the center of rotation\n        centerX = PANEL_WIDTH / 2;\n        centerY = PANEL_HEIGHT / 2;\n\n        moveDistance = 0;\n        moving = false;\n        xVelocity = 0;\n        yVelocity = 0;\n\n        this.setPreferredSize(new Dimension(PANEL_WIDTH, PANEL_HEIGHT));\n\n        // Start the animation timer\n        Timer animationTimer = new Timer(100, e -&gt; {\n            if (moving) {\n                // Calculate the new position of the car based on its current velocity\n                centerX += xVelocity;\n                centerY += yVelocity;\n                repaint();\n            }\n        });\n        animationTimer.start();\n    }\n\n    @Override\n    public void paintComponent(Graphics g) {\n        super.paintComponent(g);\n\n        // Get the current image from the images array\n        BufferedImage image = images[currentImageIndex];\n\n        // Calculate the position and rotation of the image\n        int imageX = centerX - image.getWidth() / 2;\n        int imageY = centerY - image.getHeight() / 2;\n        AffineTransform transform = AffineTransform.getTranslateInstance(imageX, imageY);\n\n        // Draw the image\n        Graphics2D g2d = (Graphics2D) g;\n        g2d.drawImage(image, transform, null);\n    }\n\n    public void moveUp() {\n        // Start moving the car forward\n        moveDistance = 15;\n        moving = true;\n        calculateVelocity();\n    }\n\n    public void moveDown() {\n        // Start moving the car backward\n        moveDistance = -5;\n        moving = true;\n        calculateVelocity();\n    }\n\n    public void stopMoving() {\n        // Stop moving the car\n        moving = false;\n        xVelocity = 0;\n        yVelocity = 0;\n    }\n\n    public void rotateLeft() {\n        // Rotate the car left by changing the current image index\n        currentImageIndex--;\n        if (currentImageIndex &lt; 0) {\n            currentImageIndex = images.length - 1;\n        }\n        repaint();\n        calculateVelocity();\n    }\n\n    public void rotateRight() {\n        // Rotate the car right by changing the current image index\n        currentImageIndex = (currentImageIndex + 1) % images.length;\n        repaint();\n        calculateVelocity();\n    }\n\n    private void calculateVelocity() {\n        // Calculate the velocity in x and y directions based on the current image index\n        double angleRadians = Math.toRadians(currentImageIndex * 22.5);\n        xVelocity = (int) (moveDistance * Math.cos(angleRadians));\n        yVelocity = (int) (moveDistance * Math.sin(angleRadians));\n    }\n}\n\n\n</code></pre>\n<p>YellowCarPanel code is the same as WhiteCarPanel but just with different variable names.</p>\n"},{"tags":["java","metadata","java-17","callable-statement","hibernate-6.x"],"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1677761342,"post_id":75602917,"comment_id":133403848,"body_markdown":"Why do you write these statements in a `finally` block? You can not expect to get valid data from an object when setting it up resulted in an exception. The only thing that belongs into a `finally` block, is the `close()` call but even that has been superseded by the [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) statement more than a decade ago.","body":"Why do you write these statements in a <code>finally</code> block? You can not expect to get valid data from an object when setting it up resulted in an exception. The only thing that belongs into a <code>finally</code> block, is the <code>close()</code> call but even that has been superseded by the <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> statement more than a decade ago."},{"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"score":0,"creation_date":1677833036,"post_id":75602917,"comment_id":133418886,"body_markdown":"Hi dear, with new code, I don&#39;t want to write in finally branch these data, but the main issue of my question is another. How can I get the metadata information with StoredProcedureQuery","body":"Hi dear, with new code, I don&#39;t want to write in finally branch these data, but the main issue of my question is another. How can I get the metadata information with StoredProcedureQuery"}],"owner":{"account_id":3040588,"reputation":15226,"user_id":2577734,"accept_rate":91,"display_name":"Joe Taras"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677669194,"creation_date":1677669194,"question_id":75602917,"body_markdown":"Before Hibernate 6 - JDK 17 when I&#39;ve called a stored procedure, I&#39;ve used `CallableStatement`, now I&#39;m using `StoredProcedureQuery` object.\r\n\r\nFor S.P. with output paramter this strategy is OK, but I&#39;ve a Stored Procedure (result of pivot operations inside), where I need to kjnow the metadata information to know the name of columns.\r\n\r\nWith the old strategy I wrote this code:\r\n\r\n\t\tConnection conn = ((SessionImpl)session).connection();\r\n\t\tCallableStatement callableStatement = null;\r\n\t\tList&lt;EmbedDipQualificatoExport&gt; lst = new ArrayList&lt;EmbedDipQualificatoExport&gt;();\r\n\t\tString idReparto = (String)hmParam.get(&quot;idReparto&quot;);\r\n\t\t\r\n\t\ttry {\r\n\t\t\tcallableStatement = conn.prepareCall(&quot;call my_sp(?)&quot;);\r\n\t\t\tcallableStatement.setString(1, idReparto);\r\n\t\t\t\r\n\t\t\tcallableStatement.execute();\r\n\t\t}\r\n\t\tcatch(SQLException ex) {\r\n\t\t\tlogger.error(ex.getMessage());\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tif (callableStatement != null) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tresultSet = callableStatement.getResultSet();\r\n\t\t\t\t\tif (resultSet != null) {\r\n\t\t\t\t\t\tlst = new ArrayList&lt;EmbedDipQualificatoExport&gt;();\r\n\t\t\t\t\t\twhile (resultSet.next()) {\r\n\t\t\t\t\t\t\tEmbedDipQualificatoExport curr = new EmbedDipQualificatoExport();\r\n\t\t\t\t\t\t\tString codice = resultSet.getString(1);\r\n\t\t\t\t\t\t\tString nomeMPPT = resultSet.getString(2);\r\n\t\t\t\t\t\t\tString nomeFase = resultSet.getString(3);\r\n\t\t\t\t\t\t\tcurr.setCodice(codice);\r\n\t\t\t\t\t\t\tcurr.setNomeMPPT(nomeMPPT);\r\n\t\t\t\t\t\t\tcurr.setNomeFase(nomeFase);\r\n\t\t\t\t\t\t\tList&lt;InfoDipendenteQualificatoExport&gt; lstDip = new ArrayList&lt;InfoDipendenteQualificatoExport&gt;();\r\n\t\t\t\t\t\t\tfor (int i = 4; i &lt;= resultSet.getMetaData().getColumnCount(); i ++) {\r\n\t\t\t\t\t\t\t\tInfoDipendenteQualificatoExport currDip = new InfoDipendenteQualificatoExport();\r\n\t\t\t\t\t\t\t\tcurrDip.setInfoDipendente(resultSet.getMetaData().getColumnName(i));\r\n\t\t\t\t\t\t\t\tInteger valore = resultSet.getInt(i);\r\n\t\t\t\t\t\t\t\tcurrDip.setQualificato(valore.equals(0) ? null : &quot;X&quot;);\r\n\t\t\t\t\t\t\t\tlstDip.add(currDip);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcurr.setLstDipendentiQualificati(lstDip);\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlst.add(curr);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcallableStatement.close();\r\n\t\t\t\t\tif (resultSet != null) {\r\n\t\t\t\t\t\tresultSet.close();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tcatch(SQLException ex) {\r\n\t\t\t\t\tlogger.error(ex.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\nSo, in the finally branch I&#39;ve got the metadata columns to build my output collection.\r\n\r\nBut with StoredProcedureQuery how can I do the same result? Because as property of query exists only the getResultList() property with data but no with metadata.","title":"Java Retrieve metadata from StoredProcedure with StoredProcedureQuery","body":"<p>Before Hibernate 6 - JDK 17 when I've called a stored procedure, I've used <code>CallableStatement</code>, now I'm using <code>StoredProcedureQuery</code> object.</p>\n<p>For S.P. with output paramter this strategy is OK, but I've a Stored Procedure (result of pivot operations inside), where I need to kjnow the metadata information to know the name of columns.</p>\n<p>With the old strategy I wrote this code:</p>\n<pre><code>    Connection conn = ((SessionImpl)session).connection();\n    CallableStatement callableStatement = null;\n    List&lt;EmbedDipQualificatoExport&gt; lst = new ArrayList&lt;EmbedDipQualificatoExport&gt;();\n    String idReparto = (String)hmParam.get(&quot;idReparto&quot;);\n    \n    try {\n        callableStatement = conn.prepareCall(&quot;call my_sp(?)&quot;);\n        callableStatement.setString(1, idReparto);\n        \n        callableStatement.execute();\n    }\n    catch(SQLException ex) {\n        logger.error(ex.getMessage());\n    }\n    finally {\n        if (callableStatement != null) {\n            try {\n                resultSet = callableStatement.getResultSet();\n                if (resultSet != null) {\n                    lst = new ArrayList&lt;EmbedDipQualificatoExport&gt;();\n                    while (resultSet.next()) {\n                        EmbedDipQualificatoExport curr = new EmbedDipQualificatoExport();\n                        String codice = resultSet.getString(1);\n                        String nomeMPPT = resultSet.getString(2);\n                        String nomeFase = resultSet.getString(3);\n                        curr.setCodice(codice);\n                        curr.setNomeMPPT(nomeMPPT);\n                        curr.setNomeFase(nomeFase);\n                        List&lt;InfoDipendenteQualificatoExport&gt; lstDip = new ArrayList&lt;InfoDipendenteQualificatoExport&gt;();\n                        for (int i = 4; i &lt;= resultSet.getMetaData().getColumnCount(); i ++) {\n                            InfoDipendenteQualificatoExport currDip = new InfoDipendenteQualificatoExport();\n                            currDip.setInfoDipendente(resultSet.getMetaData().getColumnName(i));\n                            Integer valore = resultSet.getInt(i);\n                            currDip.setQualificato(valore.equals(0) ? null : &quot;X&quot;);\n                            lstDip.add(currDip);\n                        }\n                        curr.setLstDipendentiQualificati(lstDip);\n                        \n                        lst.add(curr);\n                    }\n                }\n                callableStatement.close();\n                if (resultSet != null) {\n                    resultSet.close();\n                }\n            }\n            catch(SQLException ex) {\n                logger.error(ex.getMessage());\n            }\n        }\n    }\n</code></pre>\n<p>So, in the finally branch I've got the metadata columns to build my output collection.</p>\n<p>But with StoredProcedureQuery how can I do the same result? Because as property of query exists only the getResultList() property with data but no with metadata.</p>\n"},{"tags":["java","sorting","numbers"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":0,"creation_date":1530647464,"post_id":51161944,"comment_id":89307256,"body_markdown":"You&#39;d have to use *some* kind of data structure if you wanted to add a large amount of variables.","body":"You&#39;d have to use <i>some</i> kind of data structure if you wanted to add a large amount of variables."},{"owner":{"account_id":13636672,"reputation":479,"user_id":9837531,"display_name":"Nordii"},"score":0,"creation_date":1530647493,"post_id":51161944,"comment_id":89307268,"body_markdown":"Arrays are used for large amounts of variables like this. Why would you not take advantage of them?","body":"Arrays are used for large amounts of variables like this. Why would you not take advantage of them?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1530647501,"post_id":51161944,"comment_id":89307270,"body_markdown":"You basically must use an array.  There really isn&#39;t any other way.  You can use `if` statements like you have, but it only works for fixed numbers of elements, and doesn&#39;t scale up well past three or four.  You could also use a linked list, but arrays are vastly superior.  Question: WHY do you not want to use an array?","body":"You basically must use an array.  There really isn&#39;t any other way.  You can use <code>if</code> statements like you have, but it only works for fixed numbers of elements, and doesn&#39;t scale up well past three or four.  You could also use a linked list, but arrays are vastly superior.  Question: WHY do you not want to use an array?"},{"owner":{"account_id":13571288,"reputation":45,"user_id":9789978,"display_name":"Simon"},"score":0,"creation_date":1530647779,"post_id":51161944,"comment_id":89307398,"body_markdown":"@markspace I want to use arrays, but I&#39;m doing some tasks and I&#39;m required to sort it without them","body":"@markspace I want to use arrays, but I&#39;m doing some tasks and I&#39;m required to sort it without them"},{"owner":{"display_name":"user3133925"},"score":0,"creation_date":1552134713,"post_id":51161944,"comment_id":96901171,"body_markdown":"Using Binary Search , divide and conquer it can be done in O(log n) time","body":"Using Binary Search , divide and conquer it can be done in O(log n) time"}],"answers":[{"tags":[],"owner":{"account_id":7504646,"reputation":161,"user_id":5701631,"display_name":"Nova Ardent"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530647748,"creation_date":1530647748,"answer_id":51162028,"question_id":51161944,"body_markdown":"The purpose of arrays are so that you can have multiple of similar data. Like an integer. In hindsight you could probably place hundreds of variables, or you can do it on one line.\r\n\r\nwhat do you think is better?\r\n\r\n    int a;\r\n    int b;\r\n    int c;\r\n    int d;\r\n\r\nor\r\n\r\n    int a[];\r\n\r\nThere are methods to have many arguments for example like varargs, for functions. But in the long run those work like arrays anyways.\r\n\r\nFor terms of sorting algorithsm, there are hundreds of different sorting agorithms, and around a few super common ones. \r\n\r\nvarargs\r\nhttps://stackoverflow.com/questions/15784729/an-example-of-use-of-varargs-in-c\r\n\r\nsorting algorithms\r\nhttps://en.wikipedia.org/wiki/Sorting_algorithm\r\n\r\nedit: Just realized this was Java, but the same theory applies\r\nhttps://stackoverflow.com/questions/2635229/java-variadic-function-parameters/2635249\r\n","title":"how to sort numbers without arrays","body":"<p>The purpose of arrays are so that you can have multiple of similar data. Like an integer. In hindsight you could probably place hundreds of variables, or you can do it on one line.</p>\n\n<p>what do you think is better?</p>\n\n<pre><code>int a;\nint b;\nint c;\nint d;\n</code></pre>\n\n<p>or</p>\n\n<pre><code>int a[];\n</code></pre>\n\n<p>There are methods to have many arguments for example like varargs, for functions. But in the long run those work like arrays anyways.</p>\n\n<p>For terms of sorting algorithsm, there are hundreds of different sorting agorithms, and around a few super common ones. </p>\n\n<p>varargs\n<a href=\"https://stackoverflow.com/questions/15784729/an-example-of-use-of-varargs-in-c\">An example of use of varargs in C</a></p>\n\n<p>sorting algorithms\n<a href=\"https://en.wikipedia.org/wiki/Sorting_algorithm\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Sorting_algorithm</a></p>\n\n<p>edit: Just realized this was Java, but the same theory applies\n<a href=\"https://stackoverflow.com/questions/2635229/java-variadic-function-parameters/2635249\">Java variadic function parameters</a></p>\n"},{"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1530650674,"post_id":51162047,"comment_id":89308488,"body_markdown":"This is, btw, basically an insertion sort or a bubble sort done without an array.  If you follow the algorithm for a 3 element array and write down the steps, this is what you end up with.  That knowledge allows you to use other sort of sorting algorithms or other numbers of elements, if needed.  https://en.wikipedia.org/wiki/Insertion_sort","body":"This is, btw, basically an insertion sort or a bubble sort done without an array.  If you follow the algorithm for a 3 element array and write down the steps, this is what you end up with.  That knowledge allows you to use other sort of sorting algorithms or other numbers of elements, if needed.  <a href=\"https://en.wikipedia.org/wiki/Insertion_sort\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Insertion_sort</a>"}],"tags":[],"owner":{"account_id":4692275,"reputation":2134,"user_id":3798111,"accept_rate":43,"display_name":"R. Karlus"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1530647858,"creation_date":1530647858,"answer_id":51162047,"question_id":51161944,"body_markdown":"Well, you can do something close to this: https://stackoverflow.com/questions/25070577/sort-4-numbers-without-array\r\n\r\nLet me help you:\r\n\r\n    int tmp;\r\n\r\n    if (a &gt; b) { tmp = a; a = b; b = tmp; }\r\n    if (a &gt; c) { tmp = a; a = c; c = tmp; }\r\n    if (b &gt; c) { tmp = b; b = c; c = tmp; }\r\n\r\n    System.out.println(a + &quot; &quot; + b + &quot; &quot; + c);\r\n\r\n\r\n","title":"how to sort numbers without arrays","body":"<p>Well, you can do something close to this: <a href=\"https://stackoverflow.com/questions/25070577/sort-4-numbers-without-array\">Sort 4 numbers without array</a></p>\n\n<p>Let me help you:</p>\n\n<pre><code>int tmp;\n\nif (a &gt; b) { tmp = a; a = b; b = tmp; }\nif (a &gt; c) { tmp = a; a = c; c = tmp; }\nif (b &gt; c) { tmp = b; b = c; c = tmp; }\n\nSystem.out.println(a + \" \" + b + \" \" + c);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15005732,"reputation":1,"user_id":10831878,"display_name":"Mohammed Fazil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677668640,"creation_date":1677668640,"answer_id":75602819,"question_id":51161944,"body_markdown":"Here&#39;s the answer check it out\r\n    \r\n    public static long sortNumber(long num,boolean operator) {\r\n    \t    long answer = 0;\r\n    \t    long doneNums  = 0;\r\n    \t    boolean check = true; \r\n    \t    int zeroCount = 0;\r\n    \t   while(num &gt; 0 ) {\r\n    \t\t   long temp = num%10;\r\n    \t\t   if(!operator &amp;&amp; check &amp;&amp; temp==0)\r\n    \t\t\t   zeroCount++;\r\n    \t\t   else\r\n    \t\t\t   check = false;\r\n    \t\t   long div = num/=10;\r\n    \t\t   long count = 1;\r\n    \t\t   count = getMeCount(div, temp, true,operator);\r\n    \t\t   count += getMeCount(doneNums, temp, false,operator);\r\n    \t\t   doneNums  = doneNums * 10 + temp ;\r\n    \t\t   answer += temp * ((long)Math.pow(10, count-1));\r\n    \t   }\r\n    \t   if(zeroCount&gt;0)\r\n    \t\t   answer = answer * ((long)Math.pow(10, zeroCount));\r\n    \t    return answer;\r\n    \t}\r\n    \t\r\n    \tpublic static long getMeCount(long num,long temp,boolean checkItOut,boolean operator) {\r\n    \t\tlong count = checkItOut?1:0;\r\n    \t\twhile(num &gt; 0) {\r\n    \t\t\t   long subTemp = num%10;\r\n    \t\t\t   if(operator) {\r\n    \t\t\t\t   if(checkItOut &amp;&amp; subTemp &gt;= temp) {\r\n    \t\t\t\t\t   count++;\r\n    \t\t\t\t   }else if(subTemp &gt; temp)\r\n    \t\t\t\t\t   count++;\r\n    \t\t\t   }else {\r\n    \t\t\t\t   if(checkItOut &amp;&amp; subTemp &lt;= temp) {\r\n    \t\t\t\t\t   count++;\r\n    \t\t\t\t   }else if(subTemp &lt; temp)\r\n    \t\t\t\t\t   count++;\r\n    \t\t\t   }\r\n    \t\t\t   num/=10;\r\n    \t\t}\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tSystem.out.println(sortNumber(6732,false));\r\n    \t\tSystem.out.println(sortNumber(6732,true));\r\n    \t}","title":"how to sort numbers without arrays","body":"<p>Here's the answer check it out</p>\n<pre><code>public static long sortNumber(long num,boolean operator) {\n        long answer = 0;\n        long doneNums  = 0;\n        boolean check = true; \n        int zeroCount = 0;\n       while(num &gt; 0 ) {\n           long temp = num%10;\n           if(!operator &amp;&amp; check &amp;&amp; temp==0)\n               zeroCount++;\n           else\n               check = false;\n           long div = num/=10;\n           long count = 1;\n           count = getMeCount(div, temp, true,operator);\n           count += getMeCount(doneNums, temp, false,operator);\n           doneNums  = doneNums * 10 + temp ;\n           answer += temp * ((long)Math.pow(10, count-1));\n       }\n       if(zeroCount&gt;0)\n           answer = answer * ((long)Math.pow(10, zeroCount));\n        return answer;\n    }\n    \n    public static long getMeCount(long num,long temp,boolean checkItOut,boolean operator) {\n        long count = checkItOut?1:0;\n        while(num &gt; 0) {\n               long subTemp = num%10;\n               if(operator) {\n                   if(checkItOut &amp;&amp; subTemp &gt;= temp) {\n                       count++;\n                   }else if(subTemp &gt; temp)\n                       count++;\n               }else {\n                   if(checkItOut &amp;&amp; subTemp &lt;= temp) {\n                       count++;\n                   }else if(subTemp &lt; temp)\n                       count++;\n               }\n               num/=10;\n        }\n        return count;\n    }\n\n    public static void main(String[] args) {\n        \n        System.out.println(sortNumber(6732,false));\n        System.out.println(sortNumber(6732,true));\n    }\n</code></pre>\n"}],"owner":{"account_id":13571288,"reputation":45,"user_id":9789978,"display_name":"Simon"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6700,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51162047,"answer_count":3,"score":2,"last_activity_date":1677668640,"creation_date":1530647337,"question_id":51161944,"body_markdown":"I want to sort numbers ***without using Arrays***. I have this:\r\n\r\n     Scanner s = new Scanner(System.in);\r\n        System.out.print(&quot;Input 3 numbers: &quot;);\r\n        int a = s.nextInt();\r\n        int b = s.nextInt();\r\n        int c = s.nextInt();\r\n\r\n        System.out.print(&quot;Increscent: &quot;);\r\n\r\n        if (a &gt;= b) { \r\n            int temp; \r\n\r\n            temp = a;\r\n            a = b;\r\n            b = temp;\r\n        }\r\n       \r\n        if (c &lt; a) \r\n        {\r\n            System.out.println(c + &quot; &quot; + a + &quot; &quot; + b);\r\n        } else if (c &gt; b) \r\n        {\r\n            System.out.println(a + &quot; &quot; + b + &quot; &quot; + c);\r\n        } else \r\n        {\r\n            System.out.println(a + &quot; &quot; + c + &quot; &quot; + b);\r\n        }\r\n        \r\nBut what should I do if I want to use more numbers? Is there some better  code or I must use this way all the time? ","title":"how to sort numbers without arrays","body":"<p>I want to sort numbers <strong><em>without using Arrays</em></strong>. I have this:</p>\n\n<pre><code> Scanner s = new Scanner(System.in);\n    System.out.print(\"Input 3 numbers: \");\n    int a = s.nextInt();\n    int b = s.nextInt();\n    int c = s.nextInt();\n\n    System.out.print(\"Increscent: \");\n\n    if (a &gt;= b) { \n        int temp; \n\n        temp = a;\n        a = b;\n        b = temp;\n    }\n\n    if (c &lt; a) \n    {\n        System.out.println(c + \" \" + a + \" \" + b);\n    } else if (c &gt; b) \n    {\n        System.out.println(a + \" \" + b + \" \" + c);\n    } else \n    {\n        System.out.println(a + \" \" + c + \" \" + b);\n    }\n</code></pre>\n\n<p>But what should I do if I want to use more numbers? Is there some better  code or I must use this way all the time? </p>\n"},{"tags":["java","servlets"],"answers":[{"comments":[{"owner":{"account_id":24330076,"reputation":1,"user_id":18269052,"display_name":"Varun Gole"},"score":0,"creation_date":1677670346,"post_id":75602794,"comment_id":133382407,"body_markdown":"Got the answer myself.\n\nYou need to add serialVersionUID , else it will throw ClassNotFound exception","body":"Got the answer myself.  You need to add serialVersionUID , else it will throw ClassNotFound exception"},{"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"score":0,"creation_date":1677670572,"post_id":75602794,"comment_id":133382464,"body_markdown":"great! A learning curve for me too.","body":"great! A learning curve for me too."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1677670909,"post_id":75602794,"comment_id":133382552,"body_markdown":"Varun: Nope. That&#39;s not required. You simply forgot to clean/rebuild/redeploy the project in Eclipse. See &quot;*Make sure compiled *.class file is present in built WAR*&quot; section of abovelinked duplicate.","body":"Varun: Nope. That&#39;s not required. You simply forgot to clean/rebuild/redeploy the project in Eclipse. See &quot;<i>Make sure compiled *.class file is present in built WAR</i>&quot; section of abovelinked duplicate."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1677670939,"post_id":75602794,"comment_id":133382554,"body_markdown":"Vishnu: OP isn&#39;t using Maven at all. Your answer is therefore unhelpful.","body":"Vishnu: OP isn&#39;t using Maven at all. Your answer is therefore unhelpful."}],"tags":[],"owner":{"account_id":10140381,"reputation":11,"user_id":7490334,"display_name":"Vishnu Gautam"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677668482,"creation_date":1677668482,"answer_id":75602794,"question_id":75602527,"body_markdown":"My suggestion is that you can try using the below pom.xml,\r\n```\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n    \r\n&lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n&lt;/dependencies&gt;\r\n \r\n  &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n  &lt;version&gt;1.0-RELEASE&lt;/version&gt;\r\n  &lt;packaging&gt;war&lt;/packaging&gt;\r\n&lt;/project&gt;\r\n```\r\nand you can use the web servlet annotation and extend the HttpServlet class in the java class,\r\n```\r\n@WebServlet(&quot;/login&quot;)\r\npublic class LoginServlet extends HttpServlet {\r\n```","title":"Error instantiating servlet class &#39;com.telusko.AddServlet&#39;","body":"<p>My suggestion is that you can try using the below pom.xml,</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;properties&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    \n&lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n&lt;/dependencies&gt;\n \n  &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.1&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n  &lt;version&gt;1.0-RELEASE&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n&lt;/project&gt;\n</code></pre>\n<p>and you can use the web servlet annotation and extend the HttpServlet class in the java class,</p>\n<pre><code>@WebServlet(&quot;/login&quot;)\npublic class LoginServlet extends HttpServlet {\n</code></pre>\n"}],"owner":{"account_id":24330076,"reputation":1,"user_id":18269052,"display_name":"Varun Gole"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1677670845,"answer_count":1,"score":0,"last_activity_date":1677668482,"creation_date":1677666944,"question_id":75602527,"body_markdown":"I am trying to run my app on tomcat server.\r\n\r\nIn web.xml, I have given the correct classname for my servlet which resides in the package com.telusko\r\n\r\nStill, it says error instatiating class&#39;com.telusko.AddServlet&#39; , noclassfoundexception\r\nPlease help\r\n[Error](https://i.stack.imgur.com/CbMwR.png)\r\n\r\nFile structure :(https://i.stack.imgur.com/XnZqG.png)\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=\r\n    &quot;http://xmlns.jcp.org/xml/ns/javaee  http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot;     version=&quot;4.0&quot;&gt;\r\n\r\n     &lt;servlet&gt;\r\n    &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;com.telusko.AddServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;abc&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/add&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n \r\n    &lt;/web-app&gt;\r\n\r\n","title":"Error instantiating servlet class &#39;com.telusko.AddServlet&#39;","body":"<p>I am trying to run my app on tomcat server.</p>\n<p>In web.xml, I have given the correct classname for my servlet which resides in the package com.telusko</p>\n<p>Still, it says error instatiating class'com.telusko.AddServlet' , noclassfoundexception\nPlease help\n<a href=\"https://i.stack.imgur.com/CbMwR.png\" rel=\"nofollow noreferrer\">Error</a></p>\n<p>File structure :(<a href=\"https://i.stack.imgur.com/XnZqG.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/XnZqG.png</a>)</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;         xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot; xsi:schemaLocation=\n&quot;http://xmlns.jcp.org/xml/ns/javaee  http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot; id=&quot;WebApp_ID&quot;     version=&quot;4.0&quot;&gt;\n\n &lt;servlet&gt;\n&lt;servlet-name&gt;abc&lt;/servlet-name&gt;\n&lt;servlet-class&gt;com.telusko.AddServlet&lt;/servlet-class&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;abc&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/add&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n"},{"tags":["java","maven","clojure","clojure-java-interop"],"answers":[{"comments":[{"owner":{"account_id":14161996,"reputation":131,"user_id":10231037,"display_name":"Loading BG"},"score":0,"creation_date":1608672059,"post_id":65415751,"comment_id":115653018,"body_markdown":"Check update 2. Comments aren&#39;t the greatest place to send logs so I made an update.","body":"Check update 2. Comments aren&#39;t the greatest place to send logs so I made an update."},{"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"score":0,"creation_date":1608681977,"post_id":65415751,"comment_id":115655773,"body_markdown":"I made a small change if you want to run the above tests, etc.  Start over and clone into a new, clean directory.","body":"I made a small change if you want to run the above tests, etc.  Start over and clone into a new, clean directory."},{"owner":{"account_id":14161996,"reputation":131,"user_id":10231037,"display_name":"Loading BG"},"score":0,"creation_date":1608712329,"post_id":65415751,"comment_id":115661884,"body_markdown":"I still get the error. Java source can&#39;t compile because it can&#39;t find utils.Utils package which should be generated by the Clojure file.","body":"I still get the error. Java source can&#39;t compile because it can&#39;t find utils.Utils package which should be generated by the Clojure file."}],"tags":[],"owner":{"account_id":2041247,"reputation":29451,"user_id":1822379,"accept_rate":60,"display_name":"Alan Thompson"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608681826,"creation_date":1608670774,"answer_id":65415751,"question_id":65414780,"body_markdown":"[This project][1]  shows how you can easily do this with Leiningen.  Just type `lein clean; lein jar` and select the uberjar to deploy.\r\n\r\nThe `project.clj` includes the details:\r\n\r\n    (defproject demo &quot;0.1.0-SNAPSHOT&quot;\r\n      :license {:name &quot;Eclipse Public License&quot;\r\n                :url  &quot;http://www.eclipse.org/legal/epl-v10.html&quot;}\r\n      :dependencies [\r\n                     [org.clojure/clojure &quot;1.10.2-alpha1&quot;]\r\n                     [org.clojure/spec.alpha &quot;0.2.187&quot;]\r\n                     [prismatic/schema &quot;1.1.12&quot;]\r\n                     [tupelo &quot;20.08.27&quot;]\r\n                     ]\r\n      :plugins [\r\n                [com.jakemccrary/lein-test-refresh &quot;0.24.1&quot;]\r\n                [lein-ancient &quot;0.6.15&quot;]\r\n                [lein-codox &quot;0.10.7&quot;]\r\n                ]\r\n    \r\n      :db &quot;jdbc:postgresql://localhost/default&quot;\r\n      :settings &quot;settings-default.edn&quot;\r\n    \r\n      :profiles {:dev     {:dependencies []}\r\n                 :uberjar {:aot :all}}\r\n    \r\n      :global-vars {*warn-on-reflection* false}\r\n      :main ^:skip-aot demo.core\r\n    \r\n      :source-paths [&quot;src/clj&quot;]\r\n      :java-source-paths [&quot;src/java&quot;]\r\n      :test-paths [&quot;test/clj&quot;]\r\n      :target-path &quot;target/%s&quot;\r\n      :compile-path &quot;%s/class-files&quot;\r\n      :clean-targets [:target-path]\r\n    \r\n      :jvm-opts [&quot;-Xms500m&quot; &quot;-Xmx4g&quot;]\r\n      )\r\n\r\nMake sure your code match the expected layout:\r\n\r\n    ~/expr/demo &gt; tree src\r\n    src\r\n    ├── clj\r\n    │&#160;&#160; └── demo\r\n    │&#160;&#160;     └── core.clj\r\n    └── java\r\n        └── demo\r\n            └── Calc.java\r\n\r\nRun tests:\r\n\r\n    &gt; lein clean ; lein test\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    Compiling 1 source files to /home/alan/expr/demo/target/default+test+test/class-files\r\n    \r\n    lein test _bootstrap\r\n    \r\n    -------------------------------\r\n       Clojure 1.10.1    Java 15\r\n    -------------------------------\r\n    \r\n    lein test tst.demo.core\r\n    (demo.Calc/theAnswer) =&gt; 42\r\n\r\nMake a uberjar:\r\n\r\n     &gt; lein uberjar\r\n    Java HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\r\n    Compiling 1 source files to /home/alan/expr/demo/target/uberjar/class-files\r\n    Compiling demo.core\r\n    Warning: The Main-Class specified does not exist within the jar. It may not be executable as expected. A gen-class directive may be missing in the namespace which contains the main method, or the namespace has not been AOT-compiled.\r\n    Created /home/alan/expr/demo/target/uberjar/demo-0.1.0-SNAPSHOT.jar\r\n    Created /home/alan/expr/demo/target/uberjar/demo-0.1.0-SNAPSHOT-standalone.jar\r\n\r\n\r\nThe unit test even uses Java interop:\r\n\r\n    (ns tst.demo.core\r\n      (:use demo.core tupelo.core tupelo.test))\r\n    \r\n    (dotest\r\n      (is= 42 (spyx (demo.Calc/theAnswer))))\r\n\r\n\r\n  [1]: https://github.com/cloojure/demo\r\n\r\n\r\n\r\n\r\n\r\n","title":"Package Clojure and Java source codes into a JAR file with Maven","body":"<p><a href=\"https://github.com/cloojure/demo\" rel=\"nofollow noreferrer\">This project</a>  shows how you can easily do this with Leiningen.  Just type <code>lein clean; lein jar</code> and select the uberjar to deploy.</p>\n<p>The <code>project.clj</code> includes the details:</p>\n<pre><code>(defproject demo &quot;0.1.0-SNAPSHOT&quot;\n  :license {:name &quot;Eclipse Public License&quot;\n            :url  &quot;http://www.eclipse.org/legal/epl-v10.html&quot;}\n  :dependencies [\n                 [org.clojure/clojure &quot;1.10.2-alpha1&quot;]\n                 [org.clojure/spec.alpha &quot;0.2.187&quot;]\n                 [prismatic/schema &quot;1.1.12&quot;]\n                 [tupelo &quot;20.08.27&quot;]\n                 ]\n  :plugins [\n            [com.jakemccrary/lein-test-refresh &quot;0.24.1&quot;]\n            [lein-ancient &quot;0.6.15&quot;]\n            [lein-codox &quot;0.10.7&quot;]\n            ]\n\n  :db &quot;jdbc:postgresql://localhost/default&quot;\n  :settings &quot;settings-default.edn&quot;\n\n  :profiles {:dev     {:dependencies []}\n             :uberjar {:aot :all}}\n\n  :global-vars {*warn-on-reflection* false}\n  :main ^:skip-aot demo.core\n\n  :source-paths [&quot;src/clj&quot;]\n  :java-source-paths [&quot;src/java&quot;]\n  :test-paths [&quot;test/clj&quot;]\n  :target-path &quot;target/%s&quot;\n  :compile-path &quot;%s/class-files&quot;\n  :clean-targets [:target-path]\n\n  :jvm-opts [&quot;-Xms500m&quot; &quot;-Xmx4g&quot;]\n  )\n</code></pre>\n<p>Make sure your code match the expected layout:</p>\n<pre><code>~/expr/demo &gt; tree src\nsrc\n├── clj\n│   └── demo\n│       └── core.clj\n└── java\n    └── demo\n        └── Calc.java\n</code></pre>\n<p>Run tests:</p>\n<pre><code>&gt; lein clean ; lein test\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nCompiling 1 source files to /home/alan/expr/demo/target/default+test+test/class-files\n\nlein test _bootstrap\n\n-------------------------------\n   Clojure 1.10.1    Java 15\n-------------------------------\n\nlein test tst.demo.core\n(demo.Calc/theAnswer) =&gt; 42\n</code></pre>\n<p>Make a uberjar:</p>\n<pre><code> &gt; lein uberjar\nJava HotSpot(TM) 64-Bit Server VM warning: Options -Xverify:none and -noverify were deprecated in JDK 13 and will likely be removed in a future release.\nCompiling 1 source files to /home/alan/expr/demo/target/uberjar/class-files\nCompiling demo.core\nWarning: The Main-Class specified does not exist within the jar. It may not be executable as expected. A gen-class directive may be missing in the namespace which contains the main method, or the namespace has not been AOT-compiled.\nCreated /home/alan/expr/demo/target/uberjar/demo-0.1.0-SNAPSHOT.jar\nCreated /home/alan/expr/demo/target/uberjar/demo-0.1.0-SNAPSHOT-standalone.jar\n</code></pre>\n<p>The unit test even uses Java interop:</p>\n<pre><code>(ns tst.demo.core\n  (:use demo.core tupelo.core tupelo.test))\n\n(dotest\n  (is= 42 (spyx (demo.Calc/theAnswer))))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8169712,"reputation":51,"user_id":6150642,"display_name":"HenryCo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677668265,"creation_date":1677668265,"answer_id":75602760,"question_id":65414780,"body_markdown":"    [ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\r\n    [ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\r\n      symbol:   variable Utils\r\n      location: class proj.Main\r\n\r\n&gt;  The point was to have the clojure-maven-plugin execute before maven-compiler-plugin but that&#39;s not the case. How can I reorder the plugin execution order and would that even help?\r\n\r\nYes, it definitely looks like a plugin execution order issue. To be precise, the clojure plugin is executed after java compile plugin and that causes the errors. To fix it just add **&lt;phase&gt;generate-sources&lt;/phase&gt;** to configuration in your clojure plugin section:\r\n\r\n    &lt;plugin&gt;\r\n    \t&lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;\r\n    \t&lt;version&gt;${clojure-maven-plugin.version}&lt;/version&gt;\r\n    \t&lt;extensions&gt;true&lt;/extensions&gt;\r\n    \t&lt;executions&gt;\r\n            &lt;execution&gt;\r\n                &lt;id&gt;compile&lt;/id&gt;\r\n                &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                    &lt;goal&gt;compile&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n    &lt;/plugin&gt;","title":"Package Clojure and Java source codes into a JAR file with Maven","body":"<pre><code>[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\n  symbol:   variable Utils\n  location: class proj.Main\n</code></pre>\n<blockquote>\n<p>The point was to have the clojure-maven-plugin execute before maven-compiler-plugin but that's not the case. How can I reorder the plugin execution order and would that even help?</p>\n</blockquote>\n<p>Yes, it definitely looks like a plugin execution order issue. To be precise, the clojure plugin is executed after java compile plugin and that causes the errors. To fix it just add <strong>generate-sources</strong> to configuration in your clojure plugin section:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\n    &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${clojure-maven-plugin.version}&lt;/version&gt;\n    &lt;extensions&gt;true&lt;/extensions&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":14161996,"reputation":131,"user_id":10231037,"display_name":"Loading BG"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":371,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1677668265,"creation_date":1608665466,"question_id":65414780,"body_markdown":"I want to use Clojure code in my Java application:\r\n```clj\r\n; clj.clj\r\n(ns utils\r\n  (:gen-class\r\n    :name clj.Clj\r\n    :methods [#^{:static true} [clj [] String]])\r\n\r\n(defn -clj []\r\n  &quot;Hello from Clojure!&quot;)\r\n```\r\n\r\n```java\r\n// Java.java\r\npackage main;\r\n\r\nimport clj.Clj;\r\n\r\npublic class Java {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Java main&quot;);\r\n        System.out.println(Clj.clj());\r\n    }\r\n}\r\n```\r\nWhen I run the JAR file I want the output:\r\n\r\n```\r\nJava main\r\nHello from Clojure!\r\n```\r\n\r\nHow can I compile both Clojure and Java files and package them into a runnable JAR file using Maven?\r\n&lt;hr/&gt;\r\nUpdate:&lt;br/&gt;\r\nHere is the current code I have:\r\n\r\n```xml\r\n&lt;!-- pom.xml --&gt;\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  \r\n  &lt;groupId&gt;com.github.loadingbg&lt;/groupId&gt;\r\n  &lt;artifactId&gt;proj&lt;/artifactId&gt;\r\n  &lt;version&gt;1.0.0&lt;/version&gt;\r\n  \r\n  &lt;properties&gt;\r\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n  &lt;/properties&gt;\r\n  \r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;!-- Clojure Compiler --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\r\n        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;1.8.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;compile&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;namespaces&gt;\r\n            &lt;namespace&gt;utils&lt;/namespace&gt;\r\n          &lt;/namespaces&gt;\r\n          &lt;compileDeclaredNamespaceOnly&gt;true&lt;/compileDeclaredNamespaceOnly&gt;\r\n          &lt;sourceDirectories&gt;\r\n            &lt;sourceDirectory&gt;src/main/clojure&lt;/sourceDirectory&gt;\r\n          &lt;/sourceDirectories&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;!-- Maven Compiler --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.8.1&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;!-- Maven Assembly Plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;single&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;archive&gt;\r\n            &lt;manifest&gt;\r\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n              &lt;mainClass&gt;proj.Main&lt;/mainClass&gt;\r\n            &lt;/manifest&gt;\r\n          &lt;/archive&gt;\r\n          &lt;descriptorRefs&gt;\r\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n          &lt;/descriptorRefs&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      \r\n      &lt;!-- Maven Shade Plugin --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.2.4&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;package&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;shade&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\r\n          &lt;transformers&gt;\r\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\r\n              &lt;mainClass&gt;proj.Main&lt;/mainClass&gt;\r\n            &lt;/transformer&gt;\r\n          &lt;/transformers&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  \r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.clojure&lt;/groupId&gt;\r\n      &lt;artifactId&gt;clojure&lt;/artifactId&gt;\r\n      &lt;version&gt;1.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n```clj\r\n; /src/main/clojure/utils.clj\r\n(ns utils\r\n  (:gen-class\r\n    :name utils.Utils\r\n    :methods [#^{:static true} [clj [] String]]))\r\n\r\n(defn -clj []\r\n  &quot;Hello from clojure&quot;)\r\n```\r\n\r\n```java\r\n// /src/main/java/pack/Main.java\r\npackage proj;\r\n\r\nimport utils.Utils;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Starting&quot;);\r\n        System.out.println(Utils.clj());\r\n    }\r\n}\r\n```\r\nI get the following when I run `mvn clean install`:\r\n\r\n```\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n[INFO] Scanning for projects...\r\n[INFO]\r\n[INFO] ----------------------&lt; com.github.loadingbg:bot &gt;----------------------\r\n[INFO] Building bot 1.0.0\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO]\r\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ bot ---\r\n[INFO] Deleting /home/loadingbg/proj/target\r\n[INFO]\r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ bot ---\r\n[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.\r\n[INFO] skip non existing resourceDirectory /home/loadingbg/proj/src/main/resources\r\n[INFO]\r\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ bot ---\r\n[INFO] Changes detected - recompiling the module!\r\n[INFO] Compiling 1 source file to /home/loadingbg/proj/target/classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR :\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\r\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\r\n  symbol:   variable Utils\r\n  location: class proj.Main\r\n[INFO] 2 errors\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.136 s\r\n[INFO] Finished at: 2020-12-22T22:36:42+02:00\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project\r\n bot: Compilation failure: Compilation failure:\r\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\r\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\r\n[ERROR]   symbol:   variable Utils\r\n[ERROR]   location: class proj.Main\r\n[ERROR] -&gt; [Help 1]\r\n[ERROR]\r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR]\r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\r\n```\r\nIt just refuses to acknowledge the class generated from the Clojure file. `utils.clj` should generate `utils.Utils` class having a static method `Utils#clj()` which returns a String.\r\n&lt;br/&gt;\r\nI saw that moving `clojure-maven-plugin` above `maven-compiler-plugin` would help but it didn&#39;t. The point was to have the `clojure-maven-plugin` execute before `maven-compiler-plugin` but that&#39;s not the case. How can I reorder the plugin execution order and would that even help?\r\n&lt;hr/&gt;\r\nUpdate 2 (In response to Alan Thompson):&lt;br/&gt;\r\nI copied the code I had before in the new Leiningen project but I get this error:\r\n\r\n```\r\nCompiling 1 source files to /home/loadingbg/proj/target/default/class-files\r\n/home/loadingbg/proj/src/java/proj/Main.java:3: error: package utils does not exist\r\nimport utils.Utils;\r\n            ^\r\n/home/loadingbg/proj/src/java/proj/Main.java:8: error: cannot find symbol\r\n        System.out.println(Utils.clj());\r\n                           ^\r\n  symbol:   variable Utils\r\n  location: class Main\r\n2 errors\r\nCompilation of Java sources(lein javac) failed.\r\n```\r\nDid I miss anything? I copied the `project.clj`.","title":"Package Clojure and Java source codes into a JAR file with Maven","body":"<p>I want to use Clojure code in my Java application:</p>\n<pre class=\"lang-clj prettyprint-override\"><code>; clj.clj\n(ns utils\n  (:gen-class\n    :name clj.Clj\n    :methods [#^{:static true} [clj [] String]])\n\n(defn -clj []\n  &quot;Hello from Clojure!&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Java.java\npackage main;\n\nimport clj.Clj;\n\npublic class Java {\n    public static void main(String[] args) {\n        System.out.println(&quot;Java main&quot;);\n        System.out.println(Clj.clj());\n    }\n}\n</code></pre>\n<p>When I run the JAR file I want the output:</p>\n<pre><code>Java main\nHello from Clojure!\n</code></pre>\n<p>How can I compile both Clojure and Java files and package them into a runnable JAR file using Maven?</p>\n<hr/>\nUpdate:<br/>\nHere is the current code I have:\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- pom.xml --&gt;\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  \n  &lt;groupId&gt;com.github.loadingbg&lt;/groupId&gt;\n  &lt;artifactId&gt;proj&lt;/artifactId&gt;\n  &lt;version&gt;1.0.0&lt;/version&gt;\n  \n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n  \n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;!-- Clojure Compiler --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;com.theoryinpractise&lt;/groupId&gt;\n        &lt;artifactId&gt;clojure-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.8.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;compile&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;namespaces&gt;\n            &lt;namespace&gt;utils&lt;/namespace&gt;\n          &lt;/namespaces&gt;\n          &lt;compileDeclaredNamespaceOnly&gt;true&lt;/compileDeclaredNamespaceOnly&gt;\n          &lt;sourceDirectories&gt;\n            &lt;sourceDirectory&gt;src/main/clojure&lt;/sourceDirectory&gt;\n          &lt;/sourceDirectories&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;!-- Maven Compiler --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;!-- Maven Assembly Plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;single&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;archive&gt;\n            &lt;manifest&gt;\n              &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n              &lt;mainClass&gt;proj.Main&lt;/mainClass&gt;\n            &lt;/manifest&gt;\n          &lt;/archive&gt;\n          &lt;descriptorRefs&gt;\n            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n          &lt;/descriptorRefs&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      \n      &lt;!-- Maven Shade Plugin --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.2.4&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;minimizeJar&gt;true&lt;/minimizeJar&gt;\n          &lt;transformers&gt;\n            &lt;transformer implementation=&quot;org.apache.maven.plugins.shade.resource.ManifestResourceTransformer&quot;&gt;\n              &lt;mainClass&gt;proj.Main&lt;/mainClass&gt;\n            &lt;/transformer&gt;\n          &lt;/transformers&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  \n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.clojure&lt;/groupId&gt;\n      &lt;artifactId&gt;clojure&lt;/artifactId&gt;\n      &lt;version&gt;1.10.0&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<pre class=\"lang-clj prettyprint-override\"><code>; /src/main/clojure/utils.clj\n(ns utils\n  (:gen-class\n    :name utils.Utils\n    :methods [#^{:static true} [clj [] String]]))\n\n(defn -clj []\n  &quot;Hello from clojure&quot;)\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// /src/main/java/pack/Main.java\npackage proj;\n\nimport utils.Utils;\n\npublic class Main {\n    public static void main(String[] args) {\n        System.out.println(&quot;Starting&quot;);\n        System.out.println(Utils.clj());\n    }\n}\n</code></pre>\n<p>I get the following when I run <code>mvn clean install</code>:</p>\n<pre><code>WARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by com.google.inject.internal.cglib.core.$ReflectUtils$1 (file:/usr/share/maven/lib/guice.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of com.google.inject.internal.cglib.core.$ReflectUtils$1\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n[INFO] Scanning for projects...\n[INFO]\n[INFO] ----------------------&lt; com.github.loadingbg:bot &gt;----------------------\n[INFO] Building bot 1.0.0\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO]\n[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ bot ---\n[INFO] Deleting /home/loadingbg/proj/target\n[INFO]\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ bot ---\n[INFO] Using 'UTF-8' encoding to copy filtered resources.\n[INFO] skip non existing resourceDirectory /home/loadingbg/proj/src/main/resources\n[INFO]\n[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ bot ---\n[INFO] Changes detected - recompiling the module!\n[INFO] Compiling 1 source file to /home/loadingbg/proj/target/classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\n  symbol:   variable Utils\n  location: class proj.Main\n[INFO] 2 errors\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.136 s\n[INFO] Finished at: 2020-12-22T22:36:42+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile (default-compile) on project\n bot: Compilation failure: Compilation failure:\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[3,13] package utils does not exist\n[ERROR] /home/loadingbg/proj/src/main/java/proj/Main.java:[8,28] cannot find symbol\n[ERROR]   symbol:   variable Utils\n[ERROR]   location: class proj.Main\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>It just refuses to acknowledge the class generated from the Clojure file. <code>utils.clj</code> should generate <code>utils.Utils</code> class having a static method <code>Utils#clj()</code> which returns a String.\n<br/>\nI saw that moving <code>clojure-maven-plugin</code> above <code>maven-compiler-plugin</code> would help but it didn't. The point was to have the <code>clojure-maven-plugin</code> execute before <code>maven-compiler-plugin</code> but that's not the case. How can I reorder the plugin execution order and would that even help?</p>\n<hr/>\nUpdate 2 (In response to Alan Thompson):<br/>\nI copied the code I had before in the new Leiningen project but I get this error:\n<pre><code>Compiling 1 source files to /home/loadingbg/proj/target/default/class-files\n/home/loadingbg/proj/src/java/proj/Main.java:3: error: package utils does not exist\nimport utils.Utils;\n            ^\n/home/loadingbg/proj/src/java/proj/Main.java:8: error: cannot find symbol\n        System.out.println(Utils.clj());\n                           ^\n  symbol:   variable Utils\n  location: class Main\n2 errors\nCompilation of Java sources(lein javac) failed.\n</code></pre>\n<p>Did I miss anything? I copied the <code>project.clj</code>.</p>\n"},{"tags":["java","awt","game-development"],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677668244,"creation_date":1677668244,"answer_id":75602754,"question_id":75602134,"body_markdown":"You are calling `image.getSubimage(i * 128, 64, 128, 64)`, which grabs the pixel rows from 64 to 128 - but the image only has 64 rows.\r\n\r\nUse `image.getSubimage(i * 128, 0, 128, 64)` instead.\r\n\r\nSee [Image.getSubimage() API documentation][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/image/BufferedImage.html#getSubimage(int,int,int,int)","title":"Java AWT (y + height) is outside of Raster error while trying to get subimage","body":"<p>You are calling <code>image.getSubimage(i * 128, 64, 128, 64)</code>, which grabs the pixel rows from 64 to 128 - but the image only has 64 rows.</p>\n<p>Use <code>image.getSubimage(i * 128, 0, 128, 64)</code> instead.</p>\n<p>See <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.desktop/java/awt/image/BufferedImage.html#getSubimage(int,int,int,int)\" rel=\"nofollow noreferrer\">Image.getSubimage() API documentation</a>.</p>\n"}],"owner":{"account_id":17475615,"reputation":19,"user_id":12670542,"display_name":"VictoRPiles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75602754,"answer_count":1,"score":0,"last_activity_date":1677668244,"creation_date":1677664818,"question_id":75602134,"body_markdown":"So I have this method that loads an 1024x64 image and slices it in 8 equal parts.\r\n\r\n```\r\n@Override\r\npublic void loadAnimations() {\r\n   idleAnimation = new LinkedList&lt;&gt;();\r\n   BufferedImage image = Loader.getSprite(PLAYER);\r\n\r\n   int idleAnimationLength = 8;\r\n   for (int i = 0; i &lt; idleAnimationLength; i++) {\r\n      System.out.println(image);\r\n      idleAnimation.add(image.getSubimage(i * 128, 64, 128, 64));\r\n   }\r\n}\r\n```\r\nThe image is this one:\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the output when the height (should be 64) is greater than 32.\r\n\r\n```\r\nBufferedImage@e6ea0c6: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@6a38e57f transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 1024 height = 64 #numDataElements 4 dataOff[0] = 3\r\nException in thread &quot;main&quot; java.awt.image.RasterFormatException: (y + height) is outside of Raster\r\n\tat java.desktop/sun.awt.image.ByteInterleavedRaster.createWritableChild(ByteInterleavedRaster.java:1244)\r\n\tat java.desktop/java.awt.image.BufferedImage.getSubimage(BufferedImage.java:1203)\r\n\tat org.victorpiles.engine.entity.player.Player.loadAnimations(Player.java:40)\r\n\tat org.victorpiles.engine.entity.player.Player.&lt;init&gt;(Player.java:19)\r\n\tat org.victorpiles.engine.Game.&lt;init&gt;(Game.java:13)\r\n\tat org.victorpiles.Main.main(Main.java:30)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nThe `System.out.println(image);` shows that the image width is 1024 and the height is 64. So what am I doing wrong?\r\n\r\nThanks.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FDHni.png","title":"Java AWT (y + height) is outside of Raster error while trying to get subimage","body":"<p>So I have this method that loads an 1024x64 image and slices it in 8 equal parts.</p>\n<pre><code>@Override\npublic void loadAnimations() {\n   idleAnimation = new LinkedList&lt;&gt;();\n   BufferedImage image = Loader.getSprite(PLAYER);\n\n   int idleAnimationLength = 8;\n   for (int i = 0; i &lt; idleAnimationLength; i++) {\n      System.out.println(image);\n      idleAnimation.add(image.getSubimage(i * 128, 64, 128, 64));\n   }\n}\n</code></pre>\n<p>The image is this one:\n<a href=\"https://i.stack.imgur.com/FDHni.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FDHni.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the output when the height (should be 64) is greater than 32.</p>\n<pre><code>BufferedImage@e6ea0c6: type = 6 ColorModel: #pixelBits = 32 numComponents = 4 color space = java.awt.color.ICC_ColorSpace@6a38e57f transparency = 3 has alpha = true isAlphaPre = false ByteInterleavedRaster: width = 1024 height = 64 #numDataElements 4 dataOff[0] = 3\nException in thread &quot;main&quot; java.awt.image.RasterFormatException: (y + height) is outside of Raster\n    at java.desktop/sun.awt.image.ByteInterleavedRaster.createWritableChild(ByteInterleavedRaster.java:1244)\n    at java.desktop/java.awt.image.BufferedImage.getSubimage(BufferedImage.java:1203)\n    at org.victorpiles.engine.entity.player.Player.loadAnimations(Player.java:40)\n    at org.victorpiles.engine.entity.player.Player.&lt;init&gt;(Player.java:19)\n    at org.victorpiles.engine.Game.&lt;init&gt;(Game.java:13)\n    at org.victorpiles.Main.main(Main.java:30)\n\nProcess finished with exit code 1\n</code></pre>\n<p>The <code>System.out.println(image);</code> shows that the image width is 1024 and the height is 64. So what am I doing wrong?</p>\n<p>Thanks.</p>\n"},{"tags":["java","permutation"],"answers":[{"tags":[],"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677668011,"creation_date":1677585483,"answer_id":75591763,"question_id":75587615,"body_markdown":"I think you should start by organizing your data a bit better, then you can use the permutation algorithm.\r\n\r\n    List&lt;String&gt; processes = List.of(&quot;A req R&quot;, &quot;A req S&quot;, &quot;A rel R&quot;, &quot;A rel S&quot;, &quot;B req S&quot;, &quot;B req R&quot;, &quot;B rel S&quot;, &quot;B rel R&quot;);\r\n\r\nFirst\r\n\r\n    Map&lt;String, List&lt;String&gt;&gt; grouped = processes.stream().collect(Collectors.groupingBy( s -&gt; s.substring(0, 1) ) );\r\n\r\nNow you have a collection of a list of processes that you&#39;re not going to re-arrange.\r\n\r\n    String order = processes.stream().map( s -&gt; s.substring(0, 1) ).collect( Collectors.joining() );\r\n\r\nNow order is a string of the process names, &quot;AAAABBBB&quot;. You can create all the permutations of this string. Your algorithm should work, it might produce duplicates so either store the results in a Set&lt;String&gt; so it only keeps unique values.\r\n\r\nThis version below should only generate unique permutations.\r\n\r\n    List&lt;String&gt; permutations = new HashSet&lt;&gt;();\r\n    \r\n    void permutations(String s){\r\n        permutation(&quot;&quot;, String str)\r\n    }\r\n\r\n    void permutation(String prefix, String str) {\r\n        int n = str.length();\r\n        if (n == 0) permutations.add(prefix);\r\n        else {\r\n            Set&lt;Character&gt; checked = new HashSet&lt;&gt;();\r\n            for (int i = 0; i &lt; n; i++){\r\n                Character c = str.charAt(i);\r\n                if( checked.contains(c) ) continue;\r\n                permutation(prefix + c, str.substring(0, i)  + str.substring(i+1, n));\r\n                checked.add(c);\r\n            }\r\n        }\r\n    }\r\n\r\nThe last step is to get the processes back.\r\n\r\n    String o = ...; //one entry taken from the list of all permutations.\r\n\r\n    Map&lt;Character, Iterator&lt;String&gt;&gt; iterators = grouped.entrySet().stream().collect( \r\n        Collectors.toMap( \r\n            e-&gt;e.getKey().charAt(0), \r\n            e-&gt; e.getValue().iterator() \r\n        ) \r\n    );\r\n    for( char c: o.toCharArray() ){ \r\n        System.out.print( iterators.get(c).next() + &quot;, &quot;);\r\n    }\r\n    System.out.println(); \r\n\r\nThat gives me.\r\n\r\n&gt;A req R, A req S, A rel R, A rel S, B req S, B req R, B rel S, B rel R,  \r\nA req R, A req S, A rel R, B req S, A rel S, B req R, B rel S, B rel R,  \r\nA req R, A req S, A rel R, B req S, B req R, A rel S, B rel S, B rel R,  \r\n...  \r\nB req S, B req R, B rel S, A req R, B rel R, A req S, A rel R, A rel S,  \r\nB req S, B req R, B rel S, B rel R, A req R, A req S, A rel R, A rel S,  \r\n","title":"how to generate all possible ordering permutations of given list of string in java","body":"<p>I think you should start by organizing your data a bit better, then you can use the permutation algorithm.</p>\n<pre><code>List&lt;String&gt; processes = List.of(&quot;A req R&quot;, &quot;A req S&quot;, &quot;A rel R&quot;, &quot;A rel S&quot;, &quot;B req S&quot;, &quot;B req R&quot;, &quot;B rel S&quot;, &quot;B rel R&quot;);\n</code></pre>\n<p>First</p>\n<pre><code>Map&lt;String, List&lt;String&gt;&gt; grouped = processes.stream().collect(Collectors.groupingBy( s -&gt; s.substring(0, 1) ) );\n</code></pre>\n<p>Now you have a collection of a list of processes that you're not going to re-arrange.</p>\n<pre><code>String order = processes.stream().map( s -&gt; s.substring(0, 1) ).collect( Collectors.joining() );\n</code></pre>\n<p>Now order is a string of the process names, &quot;AAAABBBB&quot;. You can create all the permutations of this string. Your algorithm should work, it might produce duplicates so either store the results in a Set so it only keeps unique values.</p>\n<p>This version below should only generate unique permutations.</p>\n<pre><code>List&lt;String&gt; permutations = new HashSet&lt;&gt;();\n\nvoid permutations(String s){\n    permutation(&quot;&quot;, String str)\n}\n\nvoid permutation(String prefix, String str) {\n    int n = str.length();\n    if (n == 0) permutations.add(prefix);\n    else {\n        Set&lt;Character&gt; checked = new HashSet&lt;&gt;();\n        for (int i = 0; i &lt; n; i++){\n            Character c = str.charAt(i);\n            if( checked.contains(c) ) continue;\n            permutation(prefix + c, str.substring(0, i)  + str.substring(i+1, n));\n            checked.add(c);\n        }\n    }\n}\n</code></pre>\n<p>The last step is to get the processes back.</p>\n<pre><code>String o = ...; //one entry taken from the list of all permutations.\n\nMap&lt;Character, Iterator&lt;String&gt;&gt; iterators = grouped.entrySet().stream().collect( \n    Collectors.toMap( \n        e-&gt;e.getKey().charAt(0), \n        e-&gt; e.getValue().iterator() \n    ) \n);\nfor( char c: o.toCharArray() ){ \n    System.out.print( iterators.get(c).next() + &quot;, &quot;);\n}\nSystem.out.println(); \n</code></pre>\n<p>That gives me.</p>\n<blockquote>\n<p>A req R, A req S, A rel R, A rel S, B req S, B req R, B rel S, B rel R,<br />\nA req R, A req S, A rel R, B req S, A rel S, B req R, B rel S, B rel R,<br />\nA req R, A req S, A rel R, B req S, B req R, A rel S, B rel S, B rel R,<br />\n...<br />\nB req S, B req R, B rel S, A req R, B rel R, A req S, A rel R, A rel S,<br />\nB req S, B req R, B rel S, B rel R, A req R, A req S, A rel R, A rel S,</p>\n</blockquote>\n"}],"owner":{"account_id":19599863,"reputation":1152,"user_id":14344959,"display_name":"Harsh Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":75591763,"answer_count":1,"score":0,"last_activity_date":1677668011,"creation_date":1677554961,"question_id":75587615,"body_markdown":"list of processes, resources, requests and releases:\r\n\r\n```\r\nA req R\r\nA req S\r\nA rel R\r\nA rel S\r\nB req S\r\nB req R\r\nB rel S\r\nB rel R\r\n```\r\n\r\nOrdering withing a process can&#39;t be rearranged (A must always request R before it can request S in the example above), however orderings across processes can be rearranged (B can request S and R before A requests R)\r\n\r\n```\r\npackage Test;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.HashMap;\r\nimport java.util.HashSet;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\nimport java.util.Stack;\r\n\r\npublic class SortStr {\r\n    public static void main(String[] args) {\r\n\r\n        Set&lt;String&gt; s = new HashSet&lt;String&gt;();\r\n\r\n        List&lt;String&gt; A = List.of(&quot;A req R&quot;, &quot;A req S&quot;, &quot;A rel R&quot;, &quot;A rel S&quot;);\r\n        List&lt;String&gt; B = List.of(&quot;B req S&quot;, &quot;B req R&quot;, &quot;B rel S&quot;, &quot;B rel R&quot;);\r\n        s.addAll(A);\r\n        s.addAll(B);\r\n\r\n        /* List&lt;String&gt; A = List.of(&quot;A&quot;);\r\n        List&lt;String&gt; B = List.of(&quot;1&quot;);\r\n        List&lt;String&gt; C = List.of(&quot;X&quot;);\r\n\r\n        s.addAll(A);\r\n        s.addAll(B);\r\n        s.addAll(C); */\r\n\r\n        Map&lt;Integer, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\r\n        permutations(s, new Stack&lt;String&gt;(), s.size(), result);\r\n\r\n        result.forEach((key, value) -&gt; \r\n            System.out.println(&quot;ORDER &quot; + key + &quot; : &quot; + value)\r\n        );\r\n    }\r\n\r\n    public static void permutations(Set&lt;String&gt; items, Stack&lt;String&gt; permutation, int size,\r\n            Map&lt;Integer, List&lt;String&gt;&gt; result) {\r\n\r\n        /* permutation stack has become equal to size that we require */\r\n        if (permutation.size() == size) {\r\n            /* print the permutation */\r\n            // System.out.println(Arrays.toString(permutation.toArray(new String[0])));\r\n\r\n            /* add the permutation in the result */\r\n            Integer key = (result.size() &gt; 0) ? result.size() + 1 : 0;\r\n            result.put(key, Arrays.asList(permutation.toArray(new String[0])));\r\n        }\r\n\r\n        /* items available for permutation */\r\n        String[] availableItems = items.toArray(new String[0]);\r\n        for (String i : availableItems) {\r\n            /* add current item */\r\n            permutation.push(i);\r\n\r\n            /* remove item from available item set */\r\n            items.remove(i);\r\n\r\n            /* pass it on for next permutation */\r\n            permutations(items, permutation, size, result);\r\n\r\n            /* pop and put the removed item back */\r\n            items.add(permutation.pop());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nAbove Program generate all the possible sorting permutations. but my conditional criteria is ` a process can&#39;t be rearranged (A must always request R before it can request S in the example above), however orderings across processes can be rearranged (B can request S and R before A requests R)`\r\n\r\nso, how can I sorting all possible orderings of resource request/releases?\r\n\r\n**Output Result what I want:-**\r\n\r\n```\r\nORDER 1: A req R, A req S, A rel R, A rel S, B req S, B req R, B rel S, B rel R\r\nORDER 2: A req R, A req S, A rel R, B req S, A rel S, B req R, B rel S, B rel R\r\n...\r\nORDER X: A req R, B req S, A req S, B req R ...\r\n```\r\n\r\n\r\n****\r\n**Test Case Inputs :-**\r\n\r\nCase 1 :-\r\n\r\n```\r\nA req R A req S A rel R A rel S B req S B req T B rel S B rel T C req T \r\nC req R C rel T C rel R\r\n```\r\nCase 2 :-\r\n\r\n```\r\nA req R A req S A rel R A rel S B req T B rel T C req S C rel S D req U \r\nD req S D req T D rel U D rel S D rel T E req T E req V E rel T E rel V \r\nF req W F req S F rel W F rel S G req V G req U G rel V G rel U\r\n\r\n```\r\n\r\nI tried a lot but I can&#39;t\r\nSo, Please guide me to achieve this permutations generation. \r\n\r\nThank you.","title":"how to generate all possible ordering permutations of given list of string in java","body":"<p>list of processes, resources, requests and releases:</p>\n<pre><code>A req R\nA req S\nA rel R\nA rel S\nB req S\nB req R\nB rel S\nB rel R\n</code></pre>\n<p>Ordering withing a process can't be rearranged (A must always request R before it can request S in the example above), however orderings across processes can be rearranged (B can request S and R before A requests R)</p>\n<pre><code>package Test;\n\nimport java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.HashSet;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.Set;\nimport java.util.Stack;\n\npublic class SortStr {\n    public static void main(String[] args) {\n\n        Set&lt;String&gt; s = new HashSet&lt;String&gt;();\n\n        List&lt;String&gt; A = List.of(&quot;A req R&quot;, &quot;A req S&quot;, &quot;A rel R&quot;, &quot;A rel S&quot;);\n        List&lt;String&gt; B = List.of(&quot;B req S&quot;, &quot;B req R&quot;, &quot;B rel S&quot;, &quot;B rel R&quot;);\n        s.addAll(A);\n        s.addAll(B);\n\n        /* List&lt;String&gt; A = List.of(&quot;A&quot;);\n        List&lt;String&gt; B = List.of(&quot;1&quot;);\n        List&lt;String&gt; C = List.of(&quot;X&quot;);\n\n        s.addAll(A);\n        s.addAll(B);\n        s.addAll(C); */\n\n        Map&lt;Integer, List&lt;String&gt;&gt; result = new HashMap&lt;&gt;();\n        permutations(s, new Stack&lt;String&gt;(), s.size(), result);\n\n        result.forEach((key, value) -&gt; \n            System.out.println(&quot;ORDER &quot; + key + &quot; : &quot; + value)\n        );\n    }\n\n    public static void permutations(Set&lt;String&gt; items, Stack&lt;String&gt; permutation, int size,\n            Map&lt;Integer, List&lt;String&gt;&gt; result) {\n\n        /* permutation stack has become equal to size that we require */\n        if (permutation.size() == size) {\n            /* print the permutation */\n            // System.out.println(Arrays.toString(permutation.toArray(new String[0])));\n\n            /* add the permutation in the result */\n            Integer key = (result.size() &gt; 0) ? result.size() + 1 : 0;\n            result.put(key, Arrays.asList(permutation.toArray(new String[0])));\n        }\n\n        /* items available for permutation */\n        String[] availableItems = items.toArray(new String[0]);\n        for (String i : availableItems) {\n            /* add current item */\n            permutation.push(i);\n\n            /* remove item from available item set */\n            items.remove(i);\n\n            /* pass it on for next permutation */\n            permutations(items, permutation, size, result);\n\n            /* pop and put the removed item back */\n            items.add(permutation.pop());\n        }\n    }\n}\n\n</code></pre>\n<p>Above Program generate all the possible sorting permutations. but my conditional criteria is <code> a process can't be rearranged (A must always request R before it can request S in the example above), however orderings across processes can be rearranged (B can request S and R before A requests R)</code></p>\n<p>so, how can I sorting all possible orderings of resource request/releases?</p>\n<p><strong>Output Result what I want:-</strong></p>\n<pre><code>ORDER 1: A req R, A req S, A rel R, A rel S, B req S, B req R, B rel S, B rel R\nORDER 2: A req R, A req S, A rel R, B req S, A rel S, B req R, B rel S, B rel R\n...\nORDER X: A req R, B req S, A req S, B req R ...\n</code></pre>\n<hr />\n<p><strong>Test Case Inputs :-</strong></p>\n<p>Case 1 :-</p>\n<pre><code>A req R A req S A rel R A rel S B req S B req T B rel S B rel T C req T \nC req R C rel T C rel R\n</code></pre>\n<p>Case 2 :-</p>\n<pre><code>A req R A req S A rel R A rel S B req T B rel T C req S C rel S D req U \nD req S D req T D rel U D rel S D rel T E req T E req V E rel T E rel V \nF req W F req S F rel W F rel S G req V G req U G rel V G rel U\n\n</code></pre>\n<p>I tried a lot but I can't\nSo, Please guide me to achieve this permutations generation.</p>\n<p>Thank you.</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","kafka-producer-api"],"comments":[{"owner":{"account_id":4401107,"reputation":1326,"user_id":4257751,"accept_rate":62,"display_name":"Karim Tawfik"},"score":0,"creation_date":1677676169,"post_id":75602367,"comment_id":133384232,"body_markdown":"did you check the isr for your topic, are all matching the min.isr?, any replication issues you can find in the brokers logs?","body":"did you check the isr for your topic, are all matching the min.isr?, any replication issues you can find in the brokers logs?"},{"owner":{"account_id":13103933,"reputation":3,"user_id":9467388,"display_name":"Sivasyam S"},"score":0,"creation_date":1677676381,"post_id":75602367,"comment_id":133384305,"body_markdown":"Yes. I tried describing my topic and i can see the the ISR is all met accordingly to what set in server.properties. I believe that it is not related to replication.","body":"Yes. I tried describing my topic and i can see the the ISR is all met accordingly to what set in server.properties. I believe that it is not related to replication."}],"owner":{"account_id":13103933,"reputation":3,"user_id":9467388,"display_name":"Sivasyam S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677667865,"creation_date":1677666158,"question_id":75602367,"body_markdown":"I have written a Kafka Consumer and Producer. The producer is a transacted producer and the consumer is configured with isolation.level as read_commited.\r\n\r\nBut eventually, after sometime, the consumer is not able to read the data. It does not happen suddenly. It happens eventually.\r\n\r\nWhen i checked, i found that the LSO (lastStableOffset) associated with read_commited consumer is not getting updated even after the transaction is completed at producer side. It is still being the start index of the transacted message.\r\n\r\nIf anyone got any idea on this, please guide me through. However, i am using a 3 node cluster kafka setup with version 2.3.0. The following are some properties which i specify in the server.properties of the Kafka broker.\r\n\r\n- default.replication.factor=3\r\n- min.insync.replicas=2\r\n- offsets.topic.replication.factor=3\r\n- transaction.state.log.replication.factor=3\r\n- transaction.state.log.min.isr=2\r\n- offsets.retention.minutes=10080\r\n- transaction.max.timeout.ms=18000000\r\n- num.partitions=2\r\n- log.retention.hours=24\r\n\r\nWhen i tried changing the KafkaConsumer to read_uncommited mode, it started reading the message since it no longer depends on lastStableOffset. So, i believe it has some connections related to updation of lastStableOffset.","title":"Issue related to Kafka Transaction","body":"<p>I have written a Kafka Consumer and Producer. The producer is a transacted producer and the consumer is configured with isolation.level as read_commited.</p>\n<p>But eventually, after sometime, the consumer is not able to read the data. It does not happen suddenly. It happens eventually.</p>\n<p>When i checked, i found that the LSO (lastStableOffset) associated with read_commited consumer is not getting updated even after the transaction is completed at producer side. It is still being the start index of the transacted message.</p>\n<p>If anyone got any idea on this, please guide me through. However, i am using a 3 node cluster kafka setup with version 2.3.0. The following are some properties which i specify in the server.properties of the Kafka broker.</p>\n<ul>\n<li>default.replication.factor=3</li>\n<li>min.insync.replicas=2</li>\n<li>offsets.topic.replication.factor=3</li>\n<li>transaction.state.log.replication.factor=3</li>\n<li>transaction.state.log.min.isr=2</li>\n<li>offsets.retention.minutes=10080</li>\n<li>transaction.max.timeout.ms=18000000</li>\n<li>num.partitions=2</li>\n<li>log.retention.hours=24</li>\n</ul>\n<p>When i tried changing the KafkaConsumer to read_uncommited mode, it started reading the message since it no longer depends on lastStableOffset. So, i believe it has some connections related to updation of lastStableOffset.</p>\n"},{"tags":["java","spring-boot","validation"],"comments":[{"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"score":0,"creation_date":1677666974,"post_id":75602485,"comment_id":133381527,"body_markdown":"Remove `@Validated ` from your controller because validated is used for a single parameter but for request body `@validate` is used in the argument.","body":"Remove <code>@Validated </code> from your controller because validated is used for a single parameter but for request body <code>@validate</code> is used in the argument."},{"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"score":0,"creation_date":1677667152,"post_id":75602485,"comment_id":133381582,"body_markdown":"@FarhaMansuri I tried that but still the same issue.","body":"@FarhaMansuri I tried that but still the same issue."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677667440,"post_id":75602485,"comment_id":133381646,"body_markdown":"Remove the `validation-api` dependency that is already part of the `spring-boot-starter-validation` dependency. You probably added it because you are following old tutorial and decided (yourself) to use the newest Spring Boot version (3) instead of 2. If you get compilation errors (and you will) fix those by replacing `javax.validation` with `jakarta.validation`.","body":"Remove the <code>validation-api</code> dependency that is already part of the <code>spring-boot-starter-validation</code> dependency. You probably added it because you are following old tutorial and decided (yourself) to use the newest Spring Boot version (3) instead of 2. If you get compilation errors (and you will) fix those by replacing <code>javax.validation</code> with <code>jakarta.validation</code>."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1677667503,"post_id":75602584,"comment_id":133381668,"body_markdown":"He uses Spring Boot 3, which supports JakartaEE **not** JavaEE.","body":"He uses Spring Boot 3, which supports JakartaEE <b>not</b> JavaEE."}],"tags":[],"owner":{"account_id":19680594,"reputation":149,"user_id":14407807,"display_name":"Farha Mansuri"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1677667696,"creation_date":1677667316,"answer_id":75602584,"question_id":75602485,"body_markdown":"Try this:\r\n````\r\n\r\n        @RestController\r\n        @RequestMapping(&quot;/&quot;)\r\n        public class AuthController {\r\n            @PostMapping(&quot;/login&quot;)\r\n            public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { \r\n                System.out.println(user.getUsername());\r\n                return ResponseEntity.ok(&quot;token&quot;);\r\n            }\r\n        }\r\n\r\n````\r\n\r\n","title":"@Valid: Expecting an error message but nothing happens","body":"<p>Try this:</p>\n<pre><code>\n        @RestController\n        @RequestMapping(&quot;/&quot;)\n        public class AuthController {\n            @PostMapping(&quot;/login&quot;)\n            public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { \n                System.out.println(user.getUsername());\n                return ResponseEntity.ok(&quot;token&quot;);\n            }\n        }\n\n</code></pre>\n"}],"owner":{"account_id":26226115,"reputation":27,"user_id":19941289,"display_name":"Reem"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":159,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677667696,"creation_date":1677666688,"question_id":75602485,"body_markdown":"I am using Spring Security 3 with Spring Security 6 and I have a problem with validations.\r\n\r\nMy pom.xml contains the following:\r\n```xml\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n  &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nMy controller:\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;/&quot;)\r\n@Validated\r\npublic class AuthController {\r\n    @PostMapping(&quot;/login&quot;)\r\n    public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { // @Valid is from jakarta.validation\r\n\r\n        System.out.println(user.getUsername());\r\n        return ResponseEntity.ok(&quot;token&quot;);\r\n    }\r\n}\r\n```\r\n\r\nMy User class:\r\n\r\n```java\r\n@Entity\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Getter\r\n@Setter\r\n@Table(name = &quot;users&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n    @NotBlank(message = &quot;username is mandatory&quot;)\r\n    @Email(message = &quot;username should be a valid email address&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;password is mandatory&quot;)\r\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\r\n    private String password;\r\n```\r\n\r\nUserDetails:\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class CustomUserDetails implements UserDetails {\r\n    @NotBlank(message = &quot;username is mandatory&quot;)\r\n    @Email(message = &quot;username should be a valid email address&quot;)\r\n    private String username;\r\n\r\n    @NotBlank(message = &quot;password is mandatory&quot;)\r\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\r\n    private String password;\r\n```\r\n\r\nI don&#39;t know what I am doing wrong, but I don&#39;t receive anything. No error, no exception, nothing.\r\n\r\nI also tried it with this exception handler:\r\n\r\n```java\r\n    @ExceptionHandler(MethodArgumentNotValidException.class)\r\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\r\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\r\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\r\n        return ResponseEntity.badRequest().body(errors);\r\n    }\r\n```\r\nBut still, nothing happens. What&#39;s wrong with my code?","title":"@Valid: Expecting an error message but nothing happens","body":"<p>I am using Spring Security 3 with Spring Security 6 and I have a problem with validations.</p>\n<p>My pom.xml contains the following:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n  &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n  &lt;version&gt;2.0.1.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>My controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;/&quot;)\n@Validated\npublic class AuthController {\n    @PostMapping(&quot;/login&quot;)\n    public ResponseEntity&lt;Object&gt; login(@Valid @RequestBody CustomUserDetails user) { // @Valid is from jakarta.validation\n\n        System.out.println(user.getUsername());\n        return ResponseEntity.ok(&quot;token&quot;);\n    }\n}\n</code></pre>\n<p>My User class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Table(name = &quot;users&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    @NotBlank(message = &quot;username is mandatory&quot;)\n    @Email(message = &quot;username should be a valid email address&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;password is mandatory&quot;)\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\n    private String password;\n</code></pre>\n<p>UserDetails:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class CustomUserDetails implements UserDetails {\n    @NotBlank(message = &quot;username is mandatory&quot;)\n    @Email(message = &quot;username should be a valid email address&quot;)\n    private String username;\n\n    @NotBlank(message = &quot;password is mandatory&quot;)\n    @Size(min = 8, message = &quot;password length should be at least 8 characters&quot;)\n    private String password;\n</code></pre>\n<p>I don't know what I am doing wrong, but I don't receive anything. No error, no exception, nothing.</p>\n<p>I also tried it with this exception handler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @ExceptionHandler(MethodArgumentNotValidException.class)\n    public ResponseEntity&lt;Object&gt; handleValidationException(MethodArgumentNotValidException ex) {\n        Map&lt;String, String&gt; errors = new HashMap&lt;&gt;();\n        ex.getBindingResult().getFieldErrors().forEach(error -&gt; errors.put(error.getField(), error.getDefaultMessage()));\n        return ResponseEntity.badRequest().body(errors);\n    }\n</code></pre>\n<p>But still, nothing happens. What's wrong with my code?</p>\n"},{"tags":["java","generics","spring-data-jdbc"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8228,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677485864,"creation_date":1677485551,"answer_id":75578085,"question_id":75567821,"body_markdown":"&gt;Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.\r\n\r\nBy default, you have to follow the naming of Spring Data to add custom methods through custom interface and implementation classes.\r\n\r\n```java\r\n\r\ninterface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt;,\r\n EmployeeRepositoryCustom{}\r\n\r\n\r\n//by default the custom interface must be with a `Custom` postfix\r\ninterface EmployeeRepositoryCustom{\r\n    customFindAll()\r\n}\r\n\r\n// by default the implementation class name must be ended with a `Impl`\r\nclass EmployeeRepositoryImpl implements EmployeeRepositoryCustom{\r\n    customFindAll(){ ...}\r\n}\r\n```\r\n\r\nOf course you can update Spring Data configuration to change this freely when you are familiar with it.\r\n\r\n\r\n","title":"Generic CustomRepository Implementation with dynamic Query using Spring Data JDBC","body":"<blockquote>\n<p>Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.</p>\n</blockquote>\n<p>By default, you have to follow the naming of Spring Data to add custom methods through custom interface and implementation classes.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\ninterface EmployeeRepository extends CrudRepository&lt;Employee, Long&gt;,\n EmployeeRepositoryCustom{}\n\n\n//by default the custom interface must be with a `Custom` postfix\ninterface EmployeeRepositoryCustom{\n    customFindAll()\n}\n\n// by default the implementation class name must be ended with a `Impl`\nclass EmployeeRepositoryImpl implements EmployeeRepositoryCustom{\n    customFindAll(){ ...}\n}\n</code></pre>\n<p>Of course you can update Spring Data configuration to change this freely when you are familiar with it.</p>\n"}],"owner":{"account_id":27878822,"reputation":1,"user_id":21287764,"display_name":"jimp a"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":247,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677667521,"creation_date":1677352596,"question_id":75567821,"body_markdown":"```java\r\n@Repository\r\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;, CustomRepository&lt;Student&gt; {\r\n}\r\n```\r\n```java\r\n@Repository\r\npublic interface EmployeeRepository extends CrudRepository&lt;Employee,String&gt; ,CustomRepository&lt;Employee&gt; {\r\n}\r\n```\r\n\r\n```java\r\n@NoRepositoryBean\r\npublic interface CustomRepository&lt;T&gt;  {\r\nList&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; map);}\r\n```\r\n\r\n```java\r\npublic abstract class CustomRepositoryImpl&lt;E, T&gt; implements CustomRepository&lt;T&gt; {\r\n\r\n  private JdbcTemplate jdbcTemplate;\r\n\r\n  @Autowired \r\n  CustomRepositoryImpl(JdbcTemplate jdbcTemplate){\r\n    this.jdbcTemplate = jdbcTemplate;\r\n  }\r\n  \r\n  @Override\r\n  public  List&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; params) {\r\n\r\n    //dynamic query goes here \r\n    return List&lt;Object&gt;\r\n  }\r\n```\r\n\r\nGetting Exception;\r\n```\r\nCaused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List EE.custom.repo.CustomRepository.customFindAll(java.util.Map); Reason: No property &#39;customFindAll&#39; found for type &#39;Employee&#39;; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property &#39;customFindAll&#39; found for type &#39;Employee&#39;\r\n```\r\n\r\nIt is trying to find `customFindAll` as a property in my `Employee` dao but it&#39;s a custom method name not a property.\r\n\r\nAny help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.\r\n\r\nReferred \r\n\r\nhttps://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations ","title":"Generic CustomRepository Implementation with dynamic Query using Spring Data JDBC","body":"<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface StudentRepository extends CrudRepository&lt;Student, String&gt;, CustomRepository&lt;Student&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface EmployeeRepository extends CrudRepository&lt;Employee,String&gt; ,CustomRepository&lt;Employee&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@NoRepositoryBean\npublic interface CustomRepository&lt;T&gt;  {\nList&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; map);}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class CustomRepositoryImpl&lt;E, T&gt; implements CustomRepository&lt;T&gt; {\n\n  private JdbcTemplate jdbcTemplate;\n\n  @Autowired \n  CustomRepositoryImpl(JdbcTemplate jdbcTemplate){\n    this.jdbcTemplate = jdbcTemplate;\n  }\n  \n  @Override\n  public  List&lt;Object&gt; customFindAll(Map&lt;String, Object&gt; params) {\n\n    //dynamic query goes here \n    return List&lt;Object&gt;\n  }\n</code></pre>\n<p>Getting Exception;</p>\n<pre><code>Caused by: org.springframework.data.repository.query.QueryCreationException: Could not create query for public abstract java.util.List EE.custom.repo.CustomRepository.customFindAll(java.util.Map); Reason: No property 'customFindAll' found for type 'Employee'; nested exception is org.springframework.data.mapping.PropertyReferenceException: No property 'customFindAll' found for type 'Employee'\n</code></pre>\n<p>It is trying to find <code>customFindAll</code> as a property in my <code>Employee</code> dao but it's a custom method name not a property.</p>\n<p>Any help , how to handle Generic CustomRepository with Custom methods for dynamic Queries in spring data jdbc.</p>\n<p>Referred</p>\n<p><a href=\"https://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/data-commons/docs/2.3.4.RELEASE/reference/html/#repositories.custom-implementations</a></p>\n"},{"tags":["java","gradle","intellij-idea","lombok","intellij-lombok-plugin"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1565232237,"post_id":57404454,"comment_id":101290403,"body_markdown":"Is the lombock Jar available in your specific project library?  In my IDE, after I add a library, I still have to specify that any given project uses it.","body":"Is the lombock Jar available in your specific project library?  In my IDE, after I add a library, I still have to specify that any given project uses it."},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565232423,"post_id":57404454,"comment_id":101290427,"body_markdown":"Yes I can see it&#39;s there. updated the screenshot in question section.","body":"Yes I can see it&#39;s there. updated the screenshot in question section."},{"owner":{"account_id":12234680,"reputation":763,"user_id":8929501,"display_name":"Matt Berteaux"},"score":0,"creation_date":1565235056,"post_id":57404454,"comment_id":101290896,"body_markdown":"Did you restart IntelliJ after you installed the lombok plugin?","body":"Did you restart IntelliJ after you installed the lombok plugin?"},{"owner":{"account_id":8868539,"reputation":2197,"user_id":6622913,"display_name":"Istiaque Hossain"},"score":0,"creation_date":1565237568,"post_id":57404454,"comment_id":101291330,"body_markdown":"this answer may help you https://stackoverflow.com/a/56787232/6622913","body":"this answer may help you <a href=\"https://stackoverflow.com/a/56787232/6622913\">stackoverflow.com/a/56787232/6622913</a>"},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565268943,"post_id":57404454,"comment_id":101306238,"body_markdown":"@IstiaqueHossain followed the same step. but same error,","body":"@IstiaqueHossain followed the same step. but same error,"},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565269152,"post_id":57404454,"comment_id":101306367,"body_markdown":"@MattBerteaux Yes, restarted after both the steps-Enable annotation processing and plugin installation.","body":"@MattBerteaux Yes, restarted after both the steps-Enable annotation processing and plugin installation."},{"owner":{"account_id":7297,"reputation":32778,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"score":0,"creation_date":1566291498,"post_id":57404454,"comment_id":101600681,"body_markdown":"Do you have problems in test classes? There have been some reports that to make that work you need to add lombok and the annotation processor to the test scope as well.","body":"Do you have problems in test classes? There have been some reports that to make that work you need to add lombok and the annotation processor to the test scope as well."},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1602163922,"post_id":57404454,"comment_id":113638056,"body_markdown":"Proberbly some dependencies don&#39;t meet the current requirements of lombox","body":"Proberbly some dependencies don&#39;t meet the current requirements of lombox"},{"owner":{"account_id":128739,"reputation":3915,"user_id":326807,"accept_rate":100,"display_name":"Reporter"},"score":0,"creation_date":1602164180,"post_id":57404454,"comment_id":113638178,"body_markdown":"Does lombox work if you using a current version of IntelliJ ?","body":"Does lombox work if you using a current version of IntelliJ ?"}],"answers":[{"comments":[{"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"score":0,"creation_date":1565232498,"post_id":57404518,"comment_id":101290437,"body_markdown":"@Avhi, try following the link I have shared. Worked for me for Eclipse iDE. probably, IntelliJ solution would also work.","body":"@Avhi, try following the link I have shared. Worked for me for Eclipse iDE. probably, IntelliJ solution would also work."},{"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"score":0,"creation_date":1565232561,"post_id":57404518,"comment_id":101290446,"body_markdown":"As I have provided the details in question. these both steps has been taken care already. still getting the error.","body":"As I have provided the details in question. these both steps has been taken care already. still getting the error."}],"tags":[],"owner":{"account_id":10813511,"reputation":892,"user_id":7953365,"display_name":"Ankur"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565232363,"creation_date":1565232363,"answer_id":57404518,"question_id":57404454,"body_markdown":"In order for intelliJ to be able to read lombok at compile time, you would have to update annotation processor settings in the IDE and then add the plugin for lombok.\r\n\r\nPlease refer to [this][1] link for details about how to do the above said changes.\r\n\r\n\r\n  [1]: https://www.baeldung.com/lombok-ide","title":"Package lombok does not exist","body":"<p>In order for intelliJ to be able to read lombok at compile time, you would have to update annotation processor settings in the IDE and then add the plugin for lombok.</p>\n\n<p>Please refer to <a href=\"https://www.baeldung.com/lombok-ide\" rel=\"nofollow noreferrer\">this</a> link for details about how to do the above said changes.</p>\n"},{"comments":[{"owner":{"account_id":1190548,"reputation":4725,"user_id":1163457,"accept_rate":91,"display_name":"dtrunk"},"score":1,"creation_date":1635962407,"post_id":64261421,"comment_id":123434264,"body_markdown":"Import a gradle project as maven project? Doesn&#39;t make any sense.","body":"Import a gradle project as maven project? Doesn&#39;t make any sense."}],"tags":[],"owner":{"account_id":18380700,"reputation":59,"user_id":13388811,"display_name":"flxj"},"comment_count":1,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1602157359,"creation_date":1602155886,"answer_id":64261421,"question_id":57404454,"body_markdown":"I had the same problem, after change git branch in intellij.\r\nThe solution is: \r\n  1. on project panel (left side) right click on pom.xml file\r\n  2. click on &quot;Add as Maven Project&quot;","title":"Package lombok does not exist","body":"<p>I had the same problem, after change git branch in intellij.\nThe solution is:</p>\n<ol>\n<li>on project panel (left side) right click on pom.xml file</li>\n<li>click on &quot;Add as Maven Project&quot;</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":14171691,"reputation":691,"user_id":10238086,"display_name":"yusuf hayırsever"},"score":1,"creation_date":1614233098,"post_id":66363173,"comment_id":117324259,"body_markdown":"While there is an answer to this question, it would be better if the main part of the answer is on the post.","body":"While there is an answer to this question, it would be better if the main part of the answer is on the post."}],"tags":[],"owner":{"account_id":12253682,"reputation":1,"user_id":8943255,"display_name":"Eddy.wk"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1614232817,"creation_date":1614232817,"answer_id":66363173,"question_id":57404454,"body_markdown":"Check out this link: https://projectlombok.org/setup/gradle\r\n\r\nI had the same problem and resolved it after adding lombok dependencies in build.gradle ","title":"Package lombok does not exist","body":"<p>Check out this link: <a href=\"https://projectlombok.org/setup/gradle\" rel=\"nofollow noreferrer\">https://projectlombok.org/setup/gradle</a></p>\n<p>I had the same problem and resolved it after adding lombok dependencies in build.gradle</p>\n"},{"tags":[],"owner":{"account_id":13803255,"reputation":11,"user_id":9962785,"display_name":"Ninni"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633455308,"creation_date":1633455308,"answer_id":69454944,"question_id":57404454,"body_markdown":"I met exactly the same issue, but couldn&#39;t let it go after tried all solutions I could found in stackoverflow.\r\n\r\nEventually, I fixed it, by changing Preferences - Build, Execution, deployment &gt; Build Tools &gt; Gradle:\r\n\r\nBuild and run using: Gradle (Default) // it was Intellij IDEA\r\n\r\nRun tests using: Gradle (Default) // it was Intellij IDEA\r\n\r\nGradle JVM: 11 // use 8 and above\r\n\r\nNot sure if this is the right answer, but any of you have this issue can try. I believe it&#39;s just the IntelliJ setting caused problem.","title":"Package lombok does not exist","body":"<p>I met exactly the same issue, but couldn't let it go after tried all solutions I could found in stackoverflow.</p>\n<p>Eventually, I fixed it, by changing Preferences - Build, Execution, deployment &gt; Build Tools &gt; Gradle:</p>\n<p>Build and run using: Gradle (Default) // it was Intellij IDEA</p>\n<p>Run tests using: Gradle (Default) // it was Intellij IDEA</p>\n<p>Gradle JVM: 11 // use 8 and above</p>\n<p>Not sure if this is the right answer, but any of you have this issue can try. I believe it's just the IntelliJ setting caused problem.</p>\n"},{"tags":[],"owner":{"account_id":6636029,"reputation":61,"user_id":5123179,"display_name":"Chuyasov Konstantin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1633796080,"creation_date":1633779376,"answer_id":69506360,"question_id":57404454,"body_markdown":"In my case, I forgot the test dependency:\r\n    \r\n    testCompileOnly &#39;org.projectlombok:lombok:1.18.22&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok:1.18.22&#39;\r\n\r\nGradle 4.10, java1.8, Intellij Idea 2018.3.2","title":"Package lombok does not exist","body":"<p>In my case, I forgot the test dependency:</p>\n<pre><code>testCompileOnly 'org.projectlombok:lombok:1.18.22'\ntestAnnotationProcessor 'org.projectlombok:lombok:1.18.22'\n</code></pre>\n<p>Gradle 4.10, java1.8, Intellij Idea 2018.3.2</p>\n"},{"tags":[],"owner":{"account_id":23208927,"reputation":1159,"user_id":17302718,"display_name":"Mounir bkr"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1656490018,"creation_date":1656490018,"answer_id":72797886,"question_id":57404454,"body_markdown":"for me:\r\n 1. I downmoad &quot;lombok.jar&quot; for origine site &quot;https://projectlombok.org/download&quot;.\r\n 2. in intellij IDE, File =&gt; Preject Structure =&gt; Librairies.\r\n 3. click to button &quot;+&quot; to add librairies =&gt; java =&gt; file &quot;lombok.jar&quot;\r\nthat&#39;s works for me","title":"Package lombok does not exist","body":"<p>for me:</p>\n<ol>\n<li>I downmoad &quot;lombok.jar&quot; for origine site &quot;https://projectlombok.org/download&quot;.</li>\n<li>in intellij IDE, File =&gt; Preject Structure =&gt; Librairies.</li>\n<li>click to button &quot;+&quot; to add librairies =&gt; java =&gt; file &quot;lombok.jar&quot;\nthat's works for me</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15238686,"reputation":31,"user_id":10995625,"display_name":"Evan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659279926,"creation_date":1659279926,"answer_id":73184399,"question_id":57404454,"body_markdown":"Try to setup the scope directly. Example for maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n        &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Package lombok does not exist","body":"<p>Try to setup the scope directly. Example for maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15849419,"reputation":1,"user_id":11435682,"display_name":"Md Ekramul Ansari"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677667404,"creation_date":1677667404,"answer_id":75602601,"question_id":57404454,"body_markdown":"I have tried all the above answers, it didn&#39;t work for me.\r\nAlso I have also tried adding -Djps.track.ap.dependencies=false in so many places but not solved the problem.\r\n\r\nTry deleting .idea folder which is inside your project and then after mvn clean install it solved the problem.","title":"Package lombok does not exist","body":"<p>I have tried all the above answers, it didn't work for me.\nAlso I have also tried adding -Djps.track.ap.dependencies=false in so many places but not solved the problem.</p>\n<p>Try deleting .idea folder which is inside your project and then after mvn clean install it solved the problem.</p>\n"}],"owner":{"account_id":4933341,"reputation":816,"user_id":3972355,"display_name":"Avhi"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57694,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":8,"score":21,"last_activity_date":1677667404,"creation_date":1565231750,"question_id":57404454,"body_markdown":"I am using IntelliJ IDEA 2018.2.5 (Community Edition). Here are the complete details.\r\n\r\n    Build #IC-182.4892.20, built on October 16, 2018\r\n    JRE: 1.8.0_152-release-1248-b19 amd64\r\n    JVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\r\n    Windows 10 10.0\r\n\r\nI have followed all the suggested solutions in so many different answers in SO. but nothing worked for me.\r\n\r\nHere are the screenshots of required setting that needs to be done for lombok package.  \r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n \r\n`lombok` jar is available in external libraries.  \r\n[![enter image description here][4]][4]\r\n\r\nI still get the error while compiling the application.  \r\n[![enter image description here][5]][5]\r\n\r\nProject Library:  \r\n[![enter image description here][6]][6]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/A45Ol.png\r\n  [2]: https://i.stack.imgur.com/ivN62.png\r\n  [3]: https://i.stack.imgur.com/4WqT9.png\r\n  [4]: https://i.stack.imgur.com/QbV3d.png\r\n  [5]: https://i.stack.imgur.com/P0xwH.png\r\n  [6]: https://i.stack.imgur.com/2BiF3.png","title":"Package lombok does not exist","body":"<p>I am using IntelliJ IDEA 2018.2.5 (Community Edition). Here are the complete details.</p>\n<pre><code>Build #IC-182.4892.20, built on October 16, 2018\nJRE: 1.8.0_152-release-1248-b19 amd64\nJVM: OpenJDK 64-Bit Server VM by JetBrains s.r.o\nWindows 10 10.0\n</code></pre>\n<p>I have followed all the suggested solutions in so many different answers in SO. but nothing worked for me.</p>\n<p>Here are the screenshots of required setting that needs to be done for lombok package.<br />\n<a href=\"https://i.stack.imgur.com/A45Ol.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/A45Ol.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ivN62.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ivN62.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/4WqT9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/4WqT9.png\" alt=\"enter image description here\" /></a></p>\n<p><code>lombok</code> jar is available in external libraries.<br />\n<a href=\"https://i.stack.imgur.com/QbV3d.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/QbV3d.png\" alt=\"enter image description here\" /></a></p>\n<p>I still get the error while compiling the application.<br />\n<a href=\"https://i.stack.imgur.com/P0xwH.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P0xwH.png\" alt=\"enter image description here\" /></a></p>\n<p>Project Library:<br />\n<a href=\"https://i.stack.imgur.com/2BiF3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2BiF3.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1677621691,"post_id":75597155,"comment_id":133373840,"body_markdown":"A full logout could help here... also why have you changed the reportOutputDirectory... keep the default stick with the conventions...don&#39;t change them if not needed...","body":"A full logout could help here... also why have you changed the reportOutputDirectory... keep the default stick with the conventions...don&#39;t change them if not needed..."}],"owner":{"account_id":19127415,"reputation":1,"user_id":13970104,"display_name":"Federico Cal&#242;"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677666995,"creation_date":1677617366,"question_id":75597155,"body_markdown":"I have a problem with maven javadoc plugin. i added it in my pom.xml file, but when i try the command ```mvn javadoc:javaodc``` i have this type of error: ```java.util.ConcurrentModificationException```why it occures?\r\n\r\n```\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.5.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;show&gt;private&lt;/show&gt;\r\n                    &lt;reportOutputDirectory&gt;./documentation&lt;/reportOutputDirectory&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n```\r\n\r\nLog\r\n\r\n```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-javadoc-plugin:3.5.0:javadoc (default-cli) on project GestionaleOnStage: An error has occurred in Javadoc report generation: \r\n[ERROR] Exit code: 1\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerAreaSoci.java:16: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerAreaSoci implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\eventi\\ControllerEventi.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerEventi {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\gestione\\ControllerGestione.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerGestione {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:60: warning: no @throws for java.io.IOException\r\n[ERROR]     public void modificaSoci( ) throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:26: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSoci {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: no comment\r\n[ERROR] public class ControllerSociModifica implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:49: warning: no comment\r\n[ERROR]     private TextField cap;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:55: warning: no comment\r\n[ERROR]     private TextField cellulare;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:51: warning: no comment\r\n[ERROR]     private TextField citta;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:41: warning: no comment\r\n[ERROR]     private TextField cognome;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:61: warning: no comment\r\n[ERROR]     private RadioButton consensoNegativo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:59: warning: no comment\r\n[ERROR]     private RadioButton consensoPositivo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:29: warning: no comment\r\n[ERROR]     private DatePicker dataApprovazione;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:31: warning: no comment\r\n[ERROR]     private DatePicker dataRevoca;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:45: warning: no comment\r\n[ERROR]     private DatePicker dateNascita;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:67: warning: no comment\r\n[ERROR]     private DatePicker datePresentazione;\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:25: warning: no comment\r\n[ERROR]     private final TreeSet&lt;Soci&gt; elencoSoci=new TreeSet&lt;&gt;();\r\n[ERROR]                                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:57: warning: no comment\r\n[ERROR]     private TextField email;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:37: warning: no comment\r\n[ERROR]     private TextField idTessera;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:35: warning: no comment\r\n[ERROR]     private Button infoSocio;\r\n[ERROR]                    ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:33: warning: no comment\r\n[ERROR]     private ListView listSoci;\r\n[ERROR]                      ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:43: warning: no comment\r\n[ERROR]     private TextField luogoNascita;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:65: warning: no comment\r\n[ERROR]     private RadioButton minorenneNegativo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:63: warning: no comment\r\n[ERROR]     private RadioButton minorennePositivo;\r\n[ERROR]                         ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:39: warning: no comment\r\n[ERROR]     private TextField nome;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:53: warning: no comment\r\n[ERROR]     private TextField provincia;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:27: warning: no comment\r\n[ERROR]     private Button salva;\r\n[ERROR]                    ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:47: warning: no comment\r\n[ERROR]     private TextField via;\r\n[ERROR]                       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSociModifica implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:207: warning: no comment\r\n[ERROR]     private void ableModifyArea() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:229: warning: no comment\r\n[ERROR]     private void disableModifyArea() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:135: warning: no comment\r\n[ERROR]     public void displayInfo() {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:95: warning: no comment\r\n[ERROR]     private void executeUpdateQuery() throws SQLException {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:199: warning: no comment\r\n[ERROR]     private void popUpAllert() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:145: warning: no comment\r\n[ERROR]     private void popUpErrorDate() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:83: warning: no comment\r\n[ERROR]     public void salvaInfoSocio() {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:153: warning: no comment\r\n[ERROR]     private void setInfoTextField(String selectedSocio) {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:282: warning: no comment\r\n[ERROR]     private void uploadElencoSoci(){\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:168: warning: no comment\r\n[ERROR]     private void uploadInfoSoci(Soci temp) {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:251: warning: no comment\r\n[ERROR]     private void uploadViewSoci() {\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:23: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSociView implements Initializable {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:209: warning: no comment\r\n[ERROR]     private void uploadElencoSoci(){\r\n[ERROR]                  ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\sviluppo\\ControllerSviluppo.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class ControllerSviluppo {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:16: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class DatabaseTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:76: warning: no comment\r\n[ERROR]     public void dbConvertType() throws SQLException, EmptySetException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\database\\DbScript.java:24: warning: no @throws for java.sql.SQLException\r\n[ERROR]     public void initTableSoci(Connection db) throws SQLException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:8: warning: no comment\r\n[ERROR] public class FolderTree {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:9: warning: no comment\r\n[ERROR]     public FolderTree(){\r\n[ERROR]            ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeApplication.java:14: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class HomeApplication extends Application {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeController.java:9: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class HomeController {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:17: warning: no @throws for java.sql.SQLException\r\n[ERROR]     public static void main(String[] args) throws SQLException {\r\n[ERROR]                        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:12: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class Launcher {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: no comment\r\n[ERROR] public class PoiTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: use of default constructor, which does not provide a comment\r\n[ERROR] public class PoiTest {\r\n[ERROR]        ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:15: warning: no comment\r\n[ERROR]     public void readXlsxFile() throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:46: warning: no comment\r\n[ERROR]     public void writeExcel() throws IOException {\r\n[ERROR]                 ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\entity\\Soci.java:237: warning: no description for @return\r\n[ERROR]     * @return\r\n[ERROR]       ^\r\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\module-info.java:1: warning: no comment\r\n[ERROR] module com.gestionaleonstage {\r\n[ERROR] ^\r\n[ERROR] error: An internal exception has occurred.\r\n[ERROR]   \t(java.util.ConcurrentModificationException)\r\n[ERROR] Please file a bug against the javadoc tool via the Java bug reporting page\r\n[ERROR] (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com)\r\n[ERROR] for duplicates. Include error messages and the following diagnostic in your report. Thank you.\r\n[ERROR] java.util.ConcurrentModificationException\r\n[ERROR] \tat java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1229)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getTreePath(Utils.java:2299)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo0(Utils.java:2382)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo(Utils.java:2360)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree0(Utils.java:2328)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree(Utils.java:2415)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2202)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2217)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2229)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDeprecatedTrees(Utils.java:2444)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.WorkArounds.isDeprecated0(WorkArounds.java:109)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.isDeprecated(Utils.java:1282)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.elementFlags(Utils.java:2784)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDocletWriter.getPackageLink(HtmlDocletWriter.java:615)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackageSummary(ModuleWriterImpl.java:588)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackagesSummary(ModuleWriterImpl.java:503)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildPackagesSummary(ModuleSummaryBuilder.java:158)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildSummary(ModuleSummaryBuilder.java:136)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildContent(ModuleSummaryBuilder.java:121)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildModuleDoc(ModuleSummaryBuilder.java:103)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.build(ModuleSummaryBuilder.java:92)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDoclet.generateModuleFiles(HtmlDoclet.java:389)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:211)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.run(AbstractDoclet.java:110)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.doclet.StandardDoclet.run(StandardDoclet.java:103)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.parseAndExecute(Start.java:574)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:397)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:346)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:57)\r\n[ERROR] \tat jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:46)\r\n[ERROR] 1 error\r\n[ERROR] 58 warnings\r\n[ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\BellSoft\\LibericaJDK-19\\bin\\javadoc.exe&quot; @options @packages @argfile&quot;\r\n[ERROR] \r\n[ERROR] Refer to the generated Javadoc files in &#39;D:\\prj\\GestionaleAssociazione\\documentation\\apidocs&#39; dir.\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n```","title":"Maven javadoc error: java.util.ConcurrentModificationException","body":"<p>I have a problem with maven javadoc plugin. i added it in my pom.xml file, but when i try the command <code>mvn javadoc:javaodc</code> i have this type of error: <code>java.util.ConcurrentModificationException</code>why it occures?</p>\n<pre><code>&lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;show&gt;private&lt;/show&gt;\n                    &lt;reportOutputDirectory&gt;./documentation&lt;/reportOutputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n</code></pre>\n<p>Log</p>\n<pre><code>[ERROR] Exit code: 1\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerAreaSoci.java:16: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerAreaSoci implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\eventi\\ControllerEventi.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerEventi {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\gestione\\ControllerGestione.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerGestione {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:60: warning: no @throws for java.io.IOException\n[ERROR]     public void modificaSoci( ) throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSoci.java:26: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSoci {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: no comment\n[ERROR] public class ControllerSociModifica implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:49: warning: no comment\n[ERROR]     private TextField cap;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:55: warning: no comment\n[ERROR]     private TextField cellulare;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:51: warning: no comment\n[ERROR]     private TextField citta;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:41: warning: no comment\n[ERROR]     private TextField cognome;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:61: warning: no comment\n[ERROR]     private RadioButton consensoNegativo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:59: warning: no comment\n[ERROR]     private RadioButton consensoPositivo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:29: warning: no comment\n[ERROR]     private DatePicker dataApprovazione;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:31: warning: no comment\n[ERROR]     private DatePicker dataRevoca;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:45: warning: no comment\n[ERROR]     private DatePicker dateNascita;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:67: warning: no comment\n[ERROR]     private DatePicker datePresentazione;\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:25: warning: no comment\n[ERROR]     private final TreeSet&lt;Soci&gt; elencoSoci=new TreeSet&lt;&gt;();\n[ERROR]                                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:57: warning: no comment\n[ERROR]     private TextField email;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:37: warning: no comment\n[ERROR]     private TextField idTessera;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:35: warning: no comment\n[ERROR]     private Button infoSocio;\n[ERROR]                    ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:33: warning: no comment\n[ERROR]     private ListView listSoci;\n[ERROR]                      ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:43: warning: no comment\n[ERROR]     private TextField luogoNascita;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:65: warning: no comment\n[ERROR]     private RadioButton minorenneNegativo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:63: warning: no comment\n[ERROR]     private RadioButton minorennePositivo;\n[ERROR]                         ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:39: warning: no comment\n[ERROR]     private TextField nome;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:53: warning: no comment\n[ERROR]     private TextField provincia;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:27: warning: no comment\n[ERROR]     private Button salva;\n[ERROR]                    ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:47: warning: no comment\n[ERROR]     private TextField via;\n[ERROR]                       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:24: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSociModifica implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:207: warning: no comment\n[ERROR]     private void ableModifyArea() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:229: warning: no comment\n[ERROR]     private void disableModifyArea() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:135: warning: no comment\n[ERROR]     public void displayInfo() {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:95: warning: no comment\n[ERROR]     private void executeUpdateQuery() throws SQLException {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:199: warning: no comment\n[ERROR]     private void popUpAllert() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:145: warning: no comment\n[ERROR]     private void popUpErrorDate() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:83: warning: no comment\n[ERROR]     public void salvaInfoSocio() {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:153: warning: no comment\n[ERROR]     private void setInfoTextField(String selectedSocio) {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:282: warning: no comment\n[ERROR]     private void uploadElencoSoci(){\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:168: warning: no comment\n[ERROR]     private void uploadInfoSoci(Soci temp) {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociModifica.java:251: warning: no comment\n[ERROR]     private void uploadViewSoci() {\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:23: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSociView implements Initializable {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\soci\\ControllerSociView.java:209: warning: no comment\n[ERROR]     private void uploadElencoSoci(){\n[ERROR]                  ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\sviluppo\\ControllerSviluppo.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class ControllerSviluppo {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:16: warning: use of default constructor, which does not provide a comment\n[ERROR] public class DatabaseTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\DatabaseTest.java:76: warning: no comment\n[ERROR]     public void dbConvertType() throws SQLException, EmptySetException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\database\\DbScript.java:24: warning: no @throws for java.sql.SQLException\n[ERROR]     public void initTableSoci(Connection db) throws SQLException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:8: warning: no comment\n[ERROR] public class FolderTree {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\util\\FolderTree.java:9: warning: no comment\n[ERROR]     public FolderTree(){\n[ERROR]            ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeApplication.java:14: warning: use of default constructor, which does not provide a comment\n[ERROR] public class HomeApplication extends Application {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\HomeController.java:9: warning: use of default constructor, which does not provide a comment\n[ERROR] public class HomeController {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:17: warning: no @throws for java.sql.SQLException\n[ERROR]     public static void main(String[] args) throws SQLException {\n[ERROR]                        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\Launcher.java:12: warning: use of default constructor, which does not provide a comment\n[ERROR] public class Launcher {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: no comment\n[ERROR] public class PoiTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:13: warning: use of default constructor, which does not provide a comment\n[ERROR] public class PoiTest {\n[ERROR]        ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:15: warning: no comment\n[ERROR]     public void readXlsxFile() throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\test\\PoiTest.java:46: warning: no comment\n[ERROR]     public void writeExcel() throws IOException {\n[ERROR]                 ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\com\\gestionaleonstage\\entity\\Soci.java:237: warning: no description for @return\n[ERROR]     * @return\n[ERROR]       ^\n[ERROR] D:\\prj\\GestionaleAssociazione\\src\\main\\java\\module-info.java:1: warning: no comment\n[ERROR] module com.gestionaleonstage {\n[ERROR] ^\n[ERROR] error: An internal exception has occurred.\n[ERROR]     (java.util.ConcurrentModificationException)\n[ERROR] Please file a bug against the javadoc tool via the Java bug reporting page\n[ERROR] (http://bugreport.java.com) after checking the Bug Database (http://bugs.java.com)\n[ERROR] for duplicates. Include error messages and the following diagnostic in your report. Thank you.\n[ERROR] java.util.ConcurrentModificationException\n[ERROR]     at java.base/java.util.HashMap.computeIfAbsent(HashMap.java:1229)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getTreePath(Utils.java:2299)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo0(Utils.java:2382)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentInfo(Utils.java:2360)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree0(Utils.java:2328)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDocCommentTree(Utils.java:2415)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2202)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2217)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getBlockTags(Utils.java:2229)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.getDeprecatedTrees(Utils.java:2444)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.WorkArounds.isDeprecated0(WorkArounds.java:109)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.isDeprecated(Utils.java:1282)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.util.Utils.elementFlags(Utils.java:2784)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDocletWriter.getPackageLink(HtmlDocletWriter.java:615)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackageSummary(ModuleWriterImpl.java:588)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.ModuleWriterImpl.addPackagesSummary(ModuleWriterImpl.java:503)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildPackagesSummary(ModuleSummaryBuilder.java:158)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildSummary(ModuleSummaryBuilder.java:136)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildContent(ModuleSummaryBuilder.java:121)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.buildModuleDoc(ModuleSummaryBuilder.java:103)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.builders.ModuleSummaryBuilder.build(ModuleSummaryBuilder.java:92)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.formats.html.HtmlDoclet.generateModuleFiles(HtmlDoclet.java:389)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.startGeneration(AbstractDoclet.java:211)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.doclets.toolkit.AbstractDoclet.run(AbstractDoclet.java:110)\n[ERROR]     at jdk.javadoc/jdk.javadoc.doclet.StandardDoclet.run(StandardDoclet.java:103)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.parseAndExecute(Start.java:574)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:397)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Start.begin(Start.java:346)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Main.execute(Main.java:57)\n[ERROR]     at jdk.javadoc/jdk.javadoc.internal.tool.Main.main(Main.java:46)\n[ERROR] 1 error\n[ERROR] 58 warnings\n[ERROR] Command line was: cmd.exe /X /C &quot;&quot;C:\\Program Files\\BellSoft\\LibericaJDK-19\\bin\\javadoc.exe&quot; @options @packages @argfile&quot;\n[ERROR] \n[ERROR] Refer to the generated Javadoc files in 'D:\\prj\\GestionaleAssociazione\\documentation\\apidocs' dir.\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n"},{"tags":["java","apache-camel","paho"],"comments":[{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1505736188,"post_id":46278550,"comment_id":79520387,"body_markdown":"What version of Camel do you use?","body":"What version of Camel do you use?"},{"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"score":0,"creation_date":1505738085,"post_id":46278550,"comment_id":79521632,"body_markdown":"I just updated to 2.19.3","body":"I just updated to 2.19.3"}],"answers":[{"comments":[{"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"score":0,"creation_date":1505740039,"post_id":46278824,"comment_id":79523033,"body_markdown":"This does not help with camel-paho as the connection to the server is opened when initializing the route (not when running it).","body":"This does not help with camel-paho as the connection to the server is opened when initializing the route (not when running it)."},{"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"score":0,"creation_date":1505742256,"post_id":46278824,"comment_id":79524612,"body_markdown":"I guess one workaround is not to hard code the uri. Add it as a property and inject the value in the dynamic router toD() instead. For instance read the url from a property file or environment variable? That way, it should start and only when the property is injected will it fail.","body":"I guess one workaround is not to hard code the uri. Add it as a property and inject the value in the dynamic router toD() instead. For instance read the url from a property file or environment variable? That way, it should start and only when the property is injected will it fail."}],"tags":[],"owner":{"account_id":6918239,"reputation":3153,"user_id":5311694,"accept_rate":47,"display_name":"Souciance Eqdam Rashti"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1505736248,"creation_date":1505736248,"answer_id":46278824,"question_id":46278550,"body_markdown":"Camel has a try() catch() functionality.\r\n\r\nWhy not add a try() before calling the to() and catch the exception and then just log it? Something like:\r\n\r\n    from(&quot;timer:heartbeat?period=5000&quot;)\r\n        .routeId(&quot;send heartbeat&quot;)\r\n        .setBody(simple(&quot;Hello World!&quot;))\r\n        .doTry()\r\n        .to(&quot;paho:myhostnome/heartbeat?brokerUrl={{broker.url}}&quot;)\r\n         .doCatch( java.net.ConnectException.class).log(&quot;failed&quot;)\r\n        .end()","title":"How to start camel even if the MQTT server is not reachable","body":"<p>Camel has a try() catch() functionality.</p>\n\n<p>Why not add a try() before calling the to() and catch the exception and then just log it? Something like:</p>\n\n<pre><code>from(\"timer:heartbeat?period=5000\")\n    .routeId(\"send heartbeat\")\n    .setBody(simple(\"Hello World!\"))\n    .doTry()\n    .to(\"paho:myhostnome/heartbeat?brokerUrl={{broker.url}}\")\n     .doCatch( java.net.ConnectException.class).log(\"failed\")\n    .end()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"score":0,"creation_date":1505739327,"post_id":46278868,"comment_id":79522547,"body_markdown":"This sounds like what we would need. Any ETA on Camel 2.20?","body":"This sounds like what we would need. Any ETA on Camel 2.20?"},{"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"score":0,"creation_date":1505740763,"post_id":46278868,"comment_id":79523537,"body_markdown":"End of this month, follow the talk on Camel dev mailinglist: http://camel.465427.n5.nabble.com/DISCUSS-Camel-2-20-0-Release-end-of-September-td5813049.html","body":"End of this month, follow the talk on Camel dev mailinglist: <a href=\"http://camel.465427.n5.nabble.com/DISCUSS-Camel-2-20-0-Release-end-of-September-td5813049.html\" rel=\"nofollow noreferrer\">camel.465427.n5.nabble.com/&hellip;</a>"}],"tags":[],"owner":{"account_id":176018,"reputation":56316,"user_id":406429,"display_name":"Claus Ibsen"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1677666856,"creation_date":1505736384,"answer_id":46278868,"question_id":46278550,"body_markdown":"Apache Camel 2.20 onwards comes with a new functionality to let the startup procedure run using a _superviser controller_ that takes over starting up from `CamelContext` itself. This allows to setup more advanced configuration to let the controller handle errors, and attempt to retry starting the failed routes etc.\r\n\r\nThere is an example where its configured via Spring Boot, but you can configure it from Java API as well: https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller\r\n\r\nIn the upcoming releases we will improve on this new functionality.\r\nFor older versions of Camel then its often the component itself that may or may not offer any kind of retry mechanism, you need to configure, instead of failing fast.","title":"How to start camel even if the MQTT server is not reachable","body":"<p>Apache Camel 2.20 onwards comes with a new functionality to let the startup procedure run using a <em>superviser controller</em> that takes over starting up from <code>CamelContext</code> itself. This allows to setup more advanced configuration to let the controller handle errors, and attempt to retry starting the failed routes etc.</p>\n<p>There is an example where its configured via Spring Boot, but you can configure it from Java API as well: <a href=\"https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller\" rel=\"nofollow noreferrer\">https://github.com/apache/camel-spring-boot-examples/tree/main/supervising-route-controller</a></p>\n<p>In the upcoming releases we will improve on this new functionality.\nFor older versions of Camel then its often the component itself that may or may not offer any kind of retry mechanism, you need to configure, instead of failing fast.</p>\n"}],"owner":{"account_id":2558232,"reputation":760,"user_id":2219787,"display_name":"Michi Gysel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":838,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1677666856,"creation_date":1505735396,"question_id":46278550,"body_markdown":"I would like to make my Apache Camel application to be more resilient and start even when the MQTT broker is not reachable. We are using Camel on IoT devices with a possibly unstable internet connection and I want our application to start even without internet access.\r\n\r\nAn exemplary route looks like the following:\r\n\r\n    from(&quot;timer:heartbeat?period=5000&quot;)\r\n        .routeId(&quot;send heartbeat&quot;)\r\n        .setBody(simple(&quot;Hello World!&quot;))\r\n        .to(&quot;paho:myhostnome/heartbeat?brokerUrl={{broker.url}}&quot;)\r\n\r\nThis works fine as long as the MQTT server is available. However when the server is not reachable, the context fails while warming up the PahoEndpoint.\r\n\r\n    Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route send heartbeat: Route(send heartbeat)[[From[timer:heartbeat?period={{heartbe... because of Unable to connect to server\r\n\tat org.apache.camel.impl.RouteService.warmUp(RouteService.java:147) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3758) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3665) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3451) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3305) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:202) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3089) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3108) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3022) ~[camel-core-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.spring.boot.RoutesCollector.maybeStart(RoutesCollector.java:242) ~[camel-spring-boot-2.19.3.jar:2.19.3]\r\n\tat org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:217) ~[camel-spring-boot-2.19.3.jar:2.19.3]\r\n\t... 13 common frames omitted\r\n    Caused by: org.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\r\n\tat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:79) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\tat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\tat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_121]\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n\tat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_121]\r\n\tat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_121]\r\n\tat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_121]\r\n\tat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_121]\r\n\tat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\r\n\r\nMy first idea was to disable auto startup on all routes involving Paho and start them manually. This does not work as the PahoEndpoint is started even when the route itself is not started.\r\n\r\nI&#39;m now looking for an alternative approach to handle this problem.\r\n","title":"How to start camel even if the MQTT server is not reachable","body":"<p>I would like to make my Apache Camel application to be more resilient and start even when the MQTT broker is not reachable. We are using Camel on IoT devices with a possibly unstable internet connection and I want our application to start even without internet access.</p>\n\n<p>An exemplary route looks like the following:</p>\n\n<pre><code>from(\"timer:heartbeat?period=5000\")\n    .routeId(\"send heartbeat\")\n    .setBody(simple(\"Hello World!\"))\n    .to(\"paho:myhostnome/heartbeat?brokerUrl={{broker.url}}\")\n</code></pre>\n\n<p>This works fine as long as the MQTT server is available. However when the server is not reachable, the context fails while warming up the PahoEndpoint.</p>\n\n<pre><code>Caused by: org.apache.camel.FailedToCreateRouteException: Failed to create route send heartbeat: Route(send heartbeat)[[From[timer:heartbeat?period={{heartbe... because of Unable to connect to server\nat org.apache.camel.impl.RouteService.warmUp(RouteService.java:147) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doWarmUpRoutes(DefaultCamelContext.java:3758) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.safelyStartRouteServices(DefaultCamelContext.java:3665) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStartOrResumeRoutes(DefaultCamelContext.java:3451) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStartCamel(DefaultCamelContext.java:3305) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.access$000(DefaultCamelContext.java:202) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3089) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext$2.call(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doWithDefinedClassLoader(DefaultCamelContext.java:3108) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.doStart(DefaultCamelContext.java:3085) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.support.ServiceSupport.start(ServiceSupport.java:61) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.impl.DefaultCamelContext.start(DefaultCamelContext.java:3022) ~[camel-core-2.19.3.jar:2.19.3]\nat org.apache.camel.spring.boot.RoutesCollector.maybeStart(RoutesCollector.java:242) ~[camel-spring-boot-2.19.3.jar:2.19.3]\nat org.apache.camel.spring.boot.RoutesCollector.onApplicationEvent(RoutesCollector.java:217) ~[camel-spring-boot-2.19.3.jar:2.19.3]\n... 13 common frames omitted\nCaused by: org.eclipse.paho.client.mqttv3.MqttException: Unable to connect to server\nat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:79) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\nat org.eclipse.paho.client.mqttv3.internal.ClientComms$ConnectBG.run(ClientComms.java:650) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\nat java.lang.Thread.run(Thread.java:745) ~[na:1.8.0_121]\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\nat java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206) ~[na:1.8.0_121]\nat java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188) ~[na:1.8.0_121]\nat java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:1.8.0_121]\nat java.net.Socket.connect(Socket.java:589) ~[na:1.8.0_121]\nat org.eclipse.paho.client.mqttv3.internal.TCPNetworkModule.start(TCPNetworkModule.java:70) ~[org.eclipse.paho.client.mqttv3-1.1.0.jar:na]\n</code></pre>\n\n<p>My first idea was to disable auto startup on all routes involving Paho and start them manually. This does not work as the PahoEndpoint is started even when the route itself is not started.</p>\n\n<p>I'm now looking for an alternative approach to handle this problem.</p>\n"},{"tags":["java","android","memory","window-managers"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1655327911,"post_id":72637865,"comment_id":128309845,"body_markdown":"Do you use `Toast`?","body":"Do you use <code>Toast</code>?"},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":0,"creation_date":1655401199,"post_id":72637865,"comment_id":128329393,"body_markdown":"@CommonsWare Yes there are a few functions throughout the app that will show a Toast, but they are not used very often at all.","body":"@CommonsWare Yes there are a few functions throughout the app that will show a Toast, but they are not used very often at all."},{"owner":{"account_id":2235406,"reputation":61,"user_id":1971925,"display_name":"C&#233;sar Ynga"},"score":1,"creation_date":1666895540,"post_id":72637865,"comment_id":131049415,"body_markdown":"Could you solve this issue? I am getting the same stracktrace that you post in EDIT 1 and only in Android 12.","body":"Could you solve this issue? I am getting the same stracktrace that you post in EDIT 1 and only in Android 12."},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":1,"creation_date":1669746402,"post_id":72637865,"comment_id":131711440,"body_markdown":"@C&#233;sarYnga No solution yet. Opened a Bug report in the Android issue Tracker\nhttps://issuetracker.google.com/issues/260731729... we&#39;ll see if it gets anywhere","body":"@C&#233;sarYnga No solution yet. Opened a Bug report in the Android issue Tracker <a href=\"https://issuetracker.google.com/issues/260731729\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/260731729</a>... we&#39;ll see if it gets anywhere"},{"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"score":0,"creation_date":1672093887,"post_id":72637865,"comment_id":132220712,"body_markdown":"I also get this stacktrace like in edit 3 (window count is over max!!) since december &#39;22.\nAndroid Dolphin | 2021.3.1 Patch 1, targetSdkVersion 33. \nOn Device Android 13 (SDK 33)","body":"I also get this stacktrace like in edit 3 (window count is over max!!) since december &#39;22. Android Dolphin | 2021.3.1 Patch 1, targetSdkVersion 33.  On Device Android 13 (SDK 33)"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1675878551,"post_id":72637865,"comment_id":133024573,"body_markdown":"Same here, happening on Android 13 only, with crash message &quot;Window count is over max!!&quot;","body":"Same here, happening on Android 13 only, with crash message &quot;Window count is over max!!&quot;"},{"owner":{"account_id":14423201,"reputation":840,"user_id":10418725,"display_name":"Jorn Rigter"},"score":0,"creation_date":1675879218,"post_id":72637865,"comment_id":133024773,"body_markdown":"Created a [bug report in Issue Tracker](https://issuetracker.google.com/issues/268299881), please upvote if relevant so we can find a fix soon","body":"Created a <a href=\"https://issuetracker.google.com/issues/268299881\" rel=\"nofollow noreferrer\">bug report in Issue Tracker</a>, please upvote if relevant so we can find a fix soon"},{"owner":{"account_id":7532341,"reputation":204,"user_id":5719982,"accept_rate":86,"display_name":"code ketty"},"score":0,"creation_date":1680456331,"post_id":72637865,"comment_id":133897843,"body_markdown":"Kindly let us know if you figured it out","body":"Kindly let us know if you figured it out"},{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":0,"creation_date":1681999751,"post_id":72637865,"comment_id":134149532,"body_markdown":"I dont have much of an update, but this does appear to be related to some kind of Dialog and a new app session beginning after a few hours of no activity.\nDoes anyone else having this issue use any kind of Dialog style/theme. For example, i use\n    &lt;style name=&quot;MyThemeDialog&quot; parent=&quot;@android:style/Theme.Holo.Dialog&quot;&gt;\nI am wondering if this is somehow related since i am running out of possible causes.","body":"I dont have much of an update, but this does appear to be related to some kind of Dialog and a new app session beginning after a few hours of no activity. Does anyone else having this issue use any kind of Dialog style/theme. For example, i use     &lt;style name=&quot;MyThemeDialog&quot; parent=&quot;@android:style/Theme.Holo.Dialog&quot;&gt; I am wondering if this is somehow related since i am running out of possible causes."},{"owner":{"account_id":7532341,"reputation":204,"user_id":5719982,"accept_rate":86,"display_name":"code ketty"},"score":0,"creation_date":1684652116,"post_id":72637865,"comment_id":134546193,"body_markdown":"@RH201 finally got it fixed but I did many changes so first let me ask you if you use billing or window overlay in a service?","body":"@RH201 finally got it fixed but I did many changes so first let me ask you if you use billing or window overlay in a service?"}],"answers":[{"comments":[{"owner":{"account_id":7958616,"reputation":465,"user_id":6007077,"display_name":"guenter47"},"score":0,"creation_date":1672094318,"post_id":74862880,"comment_id":132220780,"body_markdown":"Nice if it were that simple, , unfortunately it is not.","body":"Nice if it were that simple, , unfortunately it is not."}],"tags":[],"owner":{"account_id":20146620,"reputation":115,"user_id":14774991,"display_name":"Abhnav Maurya"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1671538174,"creation_date":1671538174,"answer_id":74862880,"question_id":72637865,"body_markdown":"I am not sure you are still facing this issue.\r\n\r\nActually this happens when you are opening Windows more than 300.\r\n\r\nCheck if there is any such for or infinite loop.","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I am not sure you are still facing this issue.</p>\n<p>Actually this happens when you are opening Windows more than 300.</p>\n<p>Check if there is any such for or infinite loop.</p>\n"},{"comments":[{"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"score":0,"creation_date":1677767467,"post_id":75602481,"comment_id":133405785,"body_markdown":"This makes sense with what i see in the logs for this issue. The app always crashes early in the life cycle, almost as soon as it is started. So there may be some dialog or possibly a countdown that is not being killed properly when the app is closed. I will do some testing with LeakCanary and see if i can isolate any leaks after the app is killed.","body":"This makes sense with what i see in the logs for this issue. The app always crashes early in the life cycle, almost as soon as it is started. So there may be some dialog or possibly a countdown that is not being killed properly when the app is closed. I will do some testing with LeakCanary and see if i can isolate any leaks after the app is killed."}],"tags":[],"owner":{"account_id":27907948,"reputation":21,"user_id":21310737,"display_name":"Roman"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677666685,"creation_date":1677666661,"answer_id":75602481,"question_id":72637865,"body_markdown":"I run into exactly the same issue as you. For my case it was not a bug but a badly written code, where it ended up creating hundreds of dialog. Simply speaking it went to infinite loop.\r\n\r\nNot sure if that will help you but what caused the error for me was when the activity was destroyed by the system (it happened only on few kind of Samsung devices). Then, when user bring the app back to life, this created duplicate viewModel with duplicate listeners etc.. It all went mad.\r\n\r\nSo my guess is your app is either not cleaning properly something or by any other way it get trapped in infinite loop creating hundreds of those dialogs and windows. Check what is happening in your code around those lines. There is no simple solution to this.","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I run into exactly the same issue as you. For my case it was not a bug but a badly written code, where it ended up creating hundreds of dialog. Simply speaking it went to infinite loop.</p>\n<p>Not sure if that will help you but what caused the error for me was when the activity was destroyed by the system (it happened only on few kind of Samsung devices). Then, when user bring the app back to life, this created duplicate viewModel with duplicate listeners etc.. It all went mad.</p>\n<p>So my guess is your app is either not cleaning properly something or by any other way it get trapped in infinite loop creating hundreds of those dialogs and windows. Check what is happening in your code around those lines. There is no simple solution to this.</p>\n"}],"owner":{"account_id":4406399,"reputation":312,"user_id":3590679,"display_name":"RH201"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1504,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1677666685,"creation_date":1655327430,"question_id":72637865,"body_markdown":"I am seeing this error getting reported in my logging software but cant determine what is causing it, or what the 300 limit is referring to... the number of views or possibly items displayed in a list... \r\n\r\nThis is all i could pull from my log:\r\n\r\n    window count is over max 300\r\n    android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\r\n    android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n    android.widget.PopupWindow.invokePopup(PopupWindow.java:1688)\r\n    android.widget.PopupWindow.showAtLocation(PopupWindow.java:1408)\r\n    android.widget.PopupWindow.showAtLocation(PopupWindow.java:1374)\r\n\r\nI did some research and a bunch of debugging on any Dialog or PopupWindow but cant recreate this.\r\nAny ideas or suggestions would be appreciated.\r\n\r\n\r\n**EDIT**\r\nI was able to pull another occurrence of this issue with a different stacktrace...\r\n\r\n    window count is over max 300 \r\n    android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\r\n    android.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\r\n    android.app.ActivityThread.handleResumeActivity(ActivityThread.java:5322)\r\n    android.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:54)\r\n    android.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\r\n    android.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\r\n    android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\r\n    android.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\r\n    android.os.Handler.dispatchMessage(Handler.java:106)\r\n    android.os.Looper.loopOnce(Looper.java:226)\r\n    android.os.Looper.loop(Looper.java:313)\r\n    android.app.ActivityThread.main(ActivityThread.java:8663)\r\n    java.lang.reflect.Method.invoke(Native Method)\r\n    com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n    com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n\r\n**EDIT 2**\r\n\r\nThis appears to only be happening on Android 12 OS\r\n\r\n**EDIT 3**\r\n\r\nThis appears to also be happening on Android 13 with a slightly different error message\r\n\r\n    window count is over max!!\r\n\r\n","title":"Android - WindowManager causing crash with &quot;window count is over max 300 &quot;","body":"<p>I am seeing this error getting reported in my logging software but cant determine what is causing it, or what the 300 limit is referring to... the number of views or possibly items displayed in a list...</p>\n<p>This is all i could pull from my log:</p>\n<pre><code>window count is over max 300\nandroid.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\nandroid.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\nandroid.widget.PopupWindow.invokePopup(PopupWindow.java:1688)\nandroid.widget.PopupWindow.showAtLocation(PopupWindow.java:1408)\nandroid.widget.PopupWindow.showAtLocation(PopupWindow.java:1374)\n</code></pre>\n<p>I did some research and a bunch of debugging on any Dialog or PopupWindow but cant recreate this.\nAny ideas or suggestions would be appreciated.</p>\n<p><strong>EDIT</strong>\nI was able to pull another occurrence of this issue with a different stacktrace...</p>\n<pre><code>window count is over max 300 \nandroid.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:430)\nandroid.view.WindowManagerImpl.addView(WindowManagerImpl.java:133)\nandroid.app.ActivityThread.handleResumeActivity(ActivityThread.java:5322)\nandroid.app.servertransaction.ResumeActivityItem.execute(ResumeActivityItem.java:54)\nandroid.app.servertransaction.ActivityTransactionItem.execute(ActivityTransactionItem.java:45)\nandroid.app.servertransaction.TransactionExecutor.executeLifecycleState(TransactionExecutor.java:176)\nandroid.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:97)\nandroid.app.ActivityThread$H.handleMessage(ActivityThread.java:2438)\nandroid.os.Handler.dispatchMessage(Handler.java:106)\nandroid.os.Looper.loopOnce(Looper.java:226)\nandroid.os.Looper.loop(Looper.java:313)\nandroid.app.ActivityThread.main(ActivityThread.java:8663)\njava.lang.reflect.Method.invoke(Native Method)\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\ncom.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\n</code></pre>\n<p><strong>EDIT 2</strong></p>\n<p>This appears to only be happening on Android 12 OS</p>\n<p><strong>EDIT 3</strong></p>\n<p>This appears to also be happening on Android 13 with a slightly different error message</p>\n<pre><code>window count is over max!!\n</code></pre>\n"},{"tags":["java","spring-boot","spring-security","jwt","spring-cloud-gateway"],"answers":[{"tags":[],"owner":{"account_id":298886,"reputation":40480,"user_id":605153,"accept_rate":67,"display_name":"Mark Bramnik"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1608755880,"creation_date":1608755880,"answer_id":65430650,"question_id":65429794,"body_markdown":"In the [Documentation of spring cloud gateway][1] it is explicitely stated that this product runs on top of Netty and requires webflux, hence it&#39;s not compatible with spring MVC.\r\n\r\nThe filter that you use (`JwtAuthorizationFilter`) is something that belongs to the non-reactive world so you probably should rewrite it with spring security for web flux building blocks.\r\n\r\nDisclaimer, I&#39;m not a spring web flux / spring-security expert, but please consider checking  [This application][2] - it shows how to define JWT secured application with a reactive version of spring security.\r\n\r\nSo bottom line you should choose whether you want a reactive application or a traditional one and use the relevant technologies but you can&#39;t really mix them.\r\n\r\n  [1]: https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\r\n  [2]: https://github.com/raphaelDL/spring-webflux-security-jwt/blob/master/src/main/java/io/rapha/spring/reactive/security/SecuredRestApplication.java","title":"Spring Cloud Gateway with spring-boot-starter-web","body":"<p>In the <a href=\"https://cloud.spring.io/spring-cloud-gateway/reference/html/#gateway-starter\" rel=\"nofollow noreferrer\">Documentation of spring cloud gateway</a> it is explicitely stated that this product runs on top of Netty and requires webflux, hence it's not compatible with spring MVC.</p>\n<p>The filter that you use (<code>JwtAuthorizationFilter</code>) is something that belongs to the non-reactive world so you probably should rewrite it with spring security for web flux building blocks.</p>\n<p>Disclaimer, I'm not a spring web flux / spring-security expert, but please consider checking  <a href=\"https://github.com/raphaelDL/spring-webflux-security-jwt/blob/master/src/main/java/io/rapha/spring/reactive/security/SecuredRestApplication.java\" rel=\"nofollow noreferrer\">This application</a> - it shows how to define JWT secured application with a reactive version of spring security.</p>\n<p>So bottom line you should choose whether you want a reactive application or a traditional one and use the relevant technologies but you can't really mix them.</p>\n"}],"owner":{"account_id":19480048,"reputation":73,"user_id":14250588,"display_name":"programer20"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8620,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":65430650,"answer_count":1,"score":5,"last_activity_date":1677666478,"creation_date":1608751188,"question_id":65429794,"body_markdown":"I am creating gateway for Spring Boot microservices using Spring Cloud Gateway. Gateway is also responsible for JWT authorization using Spring Security.\r\n\r\n```\r\npublic class JwtAuthorizationFilter extends BasicAuthenticationFilter {\r\n\r\n\t...\r\n\r\n\t@Override\r\n\tprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n\t\tString header = request.getHeader(JwtProperties.HEADER_STRING);\r\n\r\n\t\tif (header == null || !header.startsWith(JwtProperties.TOKEN_PREFIX)) {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tAuthentication authentication = getUsernamePasswordAuthentication(request);\r\n\t\tSecurityContextHolder.getContext().setAuthentication(authentication);\r\n\r\n\t\tchain.doFilter(request, response);\r\n\t}\r\n\r\n\tprivate Authentication getUsernamePasswordAuthentication(HttpServletRequest request) {\r\n\t\tString token = request.getHeader(JwtProperties.HEADER_STRING).replace(JwtProperties.TOKEN_PREFIX, &quot;&quot;);\r\n\r\n\t\tDecodedJWT decodedJWT = JWT.require(Algorithm.HMAC512(JwtProperties.SECRET.getBytes())).build().verify(token);\r\n\t\tString username = decodedJWT.getSubject();\r\n\r\n\t\tif (username != null) {\r\n\t\t\tUserPrincipal principal = (UserPrincipal) userPrincipalService.loadUserByUsername(username);\r\n\t\t\tAuthentication auth = new UsernamePasswordAuthenticationToken(username, null, principal.getAuthorities());\r\n\t\t\treturn auth;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\r\n}\r\n```\r\nThis filter is registred in configure method like this:\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\t\r\n\t...\r\n\t\r\n\t@Override\r\n\tprotected void configure(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t\t.cors()\r\n\t\t\t.and()\r\n\t\t\t.csrf().disable()\r\n\t\t\t.sessionManagement()\r\n\t\t\t\t.sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n\t\t\t.and()\r\n\t\t\t.addFilter(new JwtAuthorizationFilter(authenticationManager(), userPrincipalService))\r\n\t\t\t.authorizeRequests()\r\n\t\t\t.antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\r\n\t\t\t...\r\n\t\t\t.anyRequest().authenticated();\r\n\t\t\r\n\t}\r\n...\r\n}\r\n```\r\n\r\nAs you can see, Spring Security is using HttpServletRequest, HttpServletResponse, FilterChain interfaces which belong to spring-boot-starter-web. But that is **main problem** beacause it&#39;s incompatible with spring cloud gateway.\r\n\r\n```\r\nSpring MVC found on classpath, which is incompatible with Spring Cloud Gateway at this time. Please remove spring-boot-starter-web dependency.\r\n```\r\n\r\nIs there any way to avoid this error or any different solution for implementing jwt authorization filter on gateway?\r\nThanks!","title":"Spring Cloud Gateway with spring-boot-starter-web","body":"<p>I am creating gateway for Spring Boot microservices using Spring Cloud Gateway. Gateway is also responsible for JWT authorization using Spring Security.</p>\n<pre><code>public class JwtAuthorizationFilter extends BasicAuthenticationFilter {\n\n    ...\n\n    @Override\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        String header = request.getHeader(JwtProperties.HEADER_STRING);\n\n        if (header == null || !header.startsWith(JwtProperties.TOKEN_PREFIX)) {\n            chain.doFilter(request, response);\n            return;\n        }\n\n        Authentication authentication = getUsernamePasswordAuthentication(request);\n        SecurityContextHolder.getContext().setAuthentication(authentication);\n\n        chain.doFilter(request, response);\n    }\n\n    private Authentication getUsernamePasswordAuthentication(HttpServletRequest request) {\n        String token = request.getHeader(JwtProperties.HEADER_STRING).replace(JwtProperties.TOKEN_PREFIX, &quot;&quot;);\n\n        DecodedJWT decodedJWT = JWT.require(Algorithm.HMAC512(JwtProperties.SECRET.getBytes())).build().verify(token);\n        String username = decodedJWT.getSubject();\n\n        if (username != null) {\n            UserPrincipal principal = (UserPrincipal) userPrincipalService.loadUserByUsername(username);\n            Authentication auth = new UsernamePasswordAuthenticationToken(username, null, principal.getAuthorities());\n            return auth;\n        }\n        return null;\n    }\n\n}\n</code></pre>\n<p>This filter is registred in configure method like this:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class ApplicationSecurityConfig extends WebSecurityConfigurerAdapter {\n    \n    ...\n    \n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n            .cors()\n            .and()\n            .csrf().disable()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            .and()\n            .addFilter(new JwtAuthorizationFilter(authenticationManager(), userPrincipalService))\n            .authorizeRequests()\n            .antMatchers(HttpMethod.POST, &quot;/login&quot;).permitAll()\n            ...\n            .anyRequest().authenticated();\n        \n    }\n...\n}\n</code></pre>\n<p>As you can see, Spring Security is using HttpServletRequest, HttpServletResponse, FilterChain interfaces which belong to spring-boot-starter-web. But that is <strong>main problem</strong> beacause it's incompatible with spring cloud gateway.</p>\n<pre><code>Spring MVC found on classpath, which is incompatible with Spring Cloud Gateway at this time. Please remove spring-boot-starter-web dependency.\n</code></pre>\n<p>Is there any way to avoid this error or any different solution for implementing jwt authorization filter on gateway?\nThanks!</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":16369743,"reputation":1,"user_id":11823266,"display_name":"lbj"},"score":0,"creation_date":1677726293,"post_id":75602419,"comment_id":133396486,"body_markdown":"this won&#39;t add cpu cost?","body":"this won&#39;t add cpu cost?"},{"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"score":0,"creation_date":1677729704,"post_id":75602419,"comment_id":133396875,"body_markdown":"Using the `UsageStatsManager` will only be a low-cost way of getting the information without any impact for the app performance.","body":"Using the <code>UsageStatsManager</code> will only be a low-cost way of getting the information without any impact for the app performance."}],"tags":[],"owner":{"account_id":17258715,"reputation":96,"user_id":21301929,"display_name":"vinoth raj"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677666386,"creation_date":1677666386,"answer_id":75602419,"question_id":75601938,"body_markdown":"You can use the method `UsageStatsManager`. This will provide you all the historical usage data.","title":"How do I know which Android apps have been started through code","body":"<p>You can use the method <code>UsageStatsManager</code>. This will provide you all the historical usage data.</p>\n"}],"owner":{"account_id":16369743,"reputation":1,"user_id":11823266,"display_name":"lbj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677666386,"creation_date":1677663789,"question_id":75601938,"body_markdown":"I want know started apps recently with low cpu, so I dont want user `activityManager.getRunningAppProcesses()` and so on, plz help me\r\n\r\nI tried use activityManager, but this method mad cpu surge","title":"How do I know which Android apps have been started through code","body":"<p>I want know started apps recently with low cpu, so I dont want user <code>activityManager.getRunningAppProcesses()</code> and so on, plz help me</p>\n<p>I tried use activityManager, but this method mad cpu surge</p>\n"},{"tags":["java","mysql","json","hibernate","jpa"],"comments":[{"owner":{"account_id":2633442,"reputation":1050,"user_id":2278773,"accept_rate":75,"display_name":"Ady Junior"},"score":3,"creation_date":1496322148,"post_id":44308167,"comment_id":75621823,"body_markdown":"Try use **columnDefinition = &quot;json&quot;** :\n\n@Column(name = &quot;json_value&quot;, columnDefinition = &quot;json&quot;)","body":"Try use <b>columnDefinition = &quot;json&quot;</b> :  @Column(name = &quot;json_value&quot;, columnDefinition = &quot;json&quot;)"},{"owner":{"account_id":7637185,"reputation":2467,"user_id":5790398,"display_name":"eg04lt3r"},"score":0,"creation_date":1496323454,"post_id":44308167,"comment_id":75622807,"body_markdown":"Please, share exception you received.","body":"Please, share exception you received."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1497252395,"post_id":44308167,"comment_id":75980617,"body_markdown":"Problem can be JSONArray type, because everything is working fine if I put String instead.","body":"Problem can be JSONArray type, because everything is working fine if I put String instead."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1497252441,"post_id":44308167,"comment_id":75980634,"body_markdown":"Exception: Could not determine type for: org.json.JSONArray, at table: some_table_name.","body":"Exception: Could not determine type for: org.json.JSONArray, at table: some_table_name."}],"answers":[{"comments":[{"owner":{"account_id":898334,"reputation":3738,"user_id":935122,"accept_rate":65,"display_name":"Christian"},"score":2,"creation_date":1514341717,"post_id":47801208,"comment_id":82940191,"body_markdown":"The `@Type` is a `org.hibernate.annotations.Type`","body":"The <code>@Type</code> is a <code>org.hibernate.annotations.Type</code>"},{"owner":{"account_id":22097760,"reputation":63,"user_id":16354724,"display_name":"Pradeep Virtuele"},"score":0,"creation_date":1676477728,"post_id":47801208,"comment_id":133145712,"body_markdown":"Cannot resolve method &#39;type&#39;","body":"Cannot resolve method &#39;type&#39;"}],"tags":[],"owner":{"account_id":6828920,"reputation":81,"user_id":5253717,"display_name":"J. Wang"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1513195117,"creation_date":1513195117,"answer_id":47801208,"question_id":44308167,"body_markdown":"If the values inside your json array are simple strings you can do this:\r\n\r\n    @Type( type = &quot;json&quot; )\r\n    @Column( columnDefinition = &quot;json&quot; )\r\n    private String[] jsonValue;\r\n    ","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>If the values inside your json array are simple strings you can do this:</p>\n\n<pre><code>@Type( type = \"json\" )\n@Column( columnDefinition = \"json\" )\nprivate String[] jsonValue;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1539202219,"post_id":48298818,"comment_id":92420591,"body_markdown":"This is also a good solution, using hibernate types but I think maybe is better to use attribute converter and map. Check out my answer bellow.","body":"This is also a good solution, using hibernate types but I think maybe is better to use attribute converter and map. Check out my answer bellow."}],"tags":[],"owner":{"account_id":1861986,"reputation":1003,"user_id":1686407,"display_name":"min"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1516184812,"creation_date":1516184812,"answer_id":48298818,"question_id":44308167,"body_markdown":"For anyone can&#39;t make @J. Wang answer work :\r\n\r\nTry add this dependency(it&#39;s for hibernate 5.1 and 5.0, other version check [here][1])\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hibernate-types-5&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd add this line to the entity\r\n\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n\r\nSo full version of the entity class :\r\n\r\n    @Entity\r\n    @Table(name = &quot;some_table_name&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class MyCustomEntity implements Serializable {\r\n    \r\n       private static final long serialVersionUID = 1L;\r\n    \r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.AUTO)\r\n       private Long id;\r\n    \r\n       @Type( type = &quot;json&quot; )\r\n       @Column( columnDefinition = &quot;json&quot; )\r\n       private List&lt;String&gt; jsonValue;\r\n    }\r\n\r\nI test the code with spring boot 1.5.9 and hibernate-types-5 1.2.0 .\r\n\r\n\r\n  [1]: https://github.com/vladmihalcea/hibernate-types\r\n","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>For anyone can't make @J. Wang answer work :</p>\n\n<p>Try add this dependency(it's for hibernate 5.1 and 5.0, other version check <a href=\"https://github.com/vladmihalcea/hibernate-types\" rel=\"noreferrer\">here</a>)</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-5&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And add this line to the entity</p>\n\n<pre><code>@TypeDef(name = \"json\", typeClass = JsonStringType.class)\n</code></pre>\n\n<p>So full version of the entity class :</p>\n\n<pre><code>@Entity\n@Table(name = \"some_table_name\")\n@TypeDef(name = \"json\", typeClass = JsonStringType.class)\npublic class MyCustomEntity implements Serializable {\n\n   private static final long serialVersionUID = 1L;\n\n   @Id\n   @GeneratedValue(strategy = GenerationType.AUTO)\n   private Long id;\n\n   @Type( type = \"json\" )\n   @Column( columnDefinition = \"json\" )\n   private List&lt;String&gt; jsonValue;\n}\n</code></pre>\n\n<p>I test the code with spring boot 1.5.9 and hibernate-types-5 1.2.0 .</p>\n"},{"comments":[{"owner":{"account_id":3343791,"reputation":179,"user_id":11183056,"display_name":"Bobby"},"score":0,"creation_date":1560318560,"post_id":52748015,"comment_id":99691496,"body_markdown":"hi, i get this error . `Unexpected error occurred: Error attempting to apply AttributeConverter`","body":"hi, i get this error . <code>Unexpected error occurred: Error attempting to apply AttributeConverter</code>"},{"owner":{"account_id":1530819,"reputation":2490,"user_id":1428052,"accept_rate":50,"display_name":"Abhijeet Ashok Muneshwar"},"score":0,"creation_date":1570643705,"post_id":52748015,"comment_id":102980915,"body_markdown":"@Heril Same here","body":"@Heril Same here"},{"owner":{"account_id":416949,"reputation":2931,"user_id":792664,"accept_rate":67,"display_name":"Omtara"},"score":4,"creation_date":1570959061,"post_id":52748015,"comment_id":103076008,"body_markdown":"You mixed up in the definition of the convertor. It should implement `AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;`","body":"You mixed up in the definition of the convertor. It should implement <code>AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;</code>"},{"owner":{"account_id":306410,"reputation":6036,"user_id":617146,"accept_rate":56,"display_name":"Duc Tran"},"score":0,"creation_date":1578649813,"post_id":52748015,"comment_id":105515794,"body_markdown":"Doesn&#39;t work for me. If I change the database data type to String then it works.","body":"Doesn&#39;t work for me. If I change the database data type to String then it works."},{"owner":{"account_id":1166807,"reputation":3087,"user_id":1144868,"accept_rate":56,"display_name":"sandeep"},"score":1,"creation_date":1590739683,"post_id":52748015,"comment_id":109799865,"body_markdown":"What will be the data type in DTO.","body":"What will be the data type in DTO."},{"owner":{"account_id":3216552,"reputation":2553,"user_id":2715083,"accept_rate":57,"display_name":"Somjit"},"score":0,"creation_date":1626520217,"post_id":52748015,"comment_id":120918422,"body_markdown":"what is the use of `attributeName = &quot;data&quot;` here?","body":"what is the use of <code>attributeName = &quot;data&quot;</code> here?"},{"owner":{"account_id":476146,"reputation":1754,"user_id":886895,"accept_rate":67,"display_name":"simgineer"},"score":0,"creation_date":1641455783,"post_id":52748015,"comment_id":124810121,"body_markdown":"Will this work for eclipselink as well? I&#39;m using the org.eclipse.persistence.jpa.PersistenceProvider and my jar files are eclipselink.jar and  javax.persistence_2.1.0.v201304241213.jar.","body":"Will this work for eclipselink as well? I&#39;m using the org.eclipse.persistence.jpa.PersistenceProvider and my jar files are eclipselink.jar and  javax.persistence_2.1.0.v201304241213.jar."},{"owner":{"account_id":9047434,"reputation":146,"user_id":8189527,"display_name":"Will Udstrand"},"score":0,"creation_date":1692106870,"post_id":52748015,"comment_id":135577467,"body_markdown":"The converter causes issues for me when persisting entities. I had to go with the UserType approach.","body":"The converter causes issues for me when persisting entities. I had to go with the UserType approach."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1692734188,"post_id":52748015,"comment_id":135664385,"body_markdown":"@Will Udstrand What do you mean by UserType approach?","body":"@Will Udstrand What do you mean by UserType approach?"}],"tags":[],"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"comment_count":9,"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1539202076,"creation_date":1539202076,"answer_id":52748015,"question_id":44308167,"body_markdown":"I prefer to do this way:  \r\n\r\n* Creating converter (attribute converter) from Map&lt;String, Object&gt; to String and vice versa.   \r\n* Using Map&lt;String, Object&gt; to map mysql JSON column type in domain (entity) class\r\n\r\nThe code is bellow.\r\n\r\n&gt; JsonToMapConverted.java\r\n\r\n    @Converter\r\n    public class JsonToMapConverter \r\n                        implements AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt; \r\n    {\r\n        private static final Logger LOGGER = LoggerFactory.getLogger(JsonToMapConverter.class);\r\n\r\n        @Override\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        public Map&lt;String, Object&gt; convertToDatabaseColumn(String attribute)\r\n        {\r\n            if (attribute == null) {\r\n               return new HashMap&lt;&gt;();\r\n            }\r\n            try\r\n            {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                return objectMapper.readValue(attribute, HashMap.class);\r\n            }\r\n            catch (IOException e) {\r\n                LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;);\r\n            }\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n\r\n        @Override\r\n        public String convertToEntityAttribute(Map&lt;String, Object&gt; dbData)\r\n        {\r\n            try\r\n            {\r\n                ObjectMapper objectMapper = new ObjectMapper();\r\n                return objectMapper.writeValueAsString(dbData);\r\n            }\r\n            catch (JsonProcessingException e)\r\n            {\r\n                LOGGER.error(&quot;Could not convert map to json string.&quot;);\r\n                return null;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n&gt; Part of domain (entity-mapping) class\r\n\r\n    ...\r\n \r\n    @Column(name = &quot;meta_data&quot;, columnDefinition = &quot;json&quot;)\r\n    @Convert(attributeName = &quot;data&quot;, converter = JsonToMapConverter.class)\r\n    private Map&lt;String, Object&gt; metaData = new HashMap&lt;&gt;();\r\n\r\n    ...\r\n\r\nThis solution perfectly works for me.","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>I prefer to do this way:  </p>\n\n<ul>\n<li>Creating converter (attribute converter) from Map to String and vice versa.   </li>\n<li>Using Map to map mysql JSON column type in domain (entity) class</li>\n</ul>\n\n<p>The code is bellow.</p>\n\n<blockquote>\n  <p>JsonToMapConverted.java</p>\n</blockquote>\n\n<pre><code>@Converter\npublic class JsonToMapConverter \n                    implements AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt; \n{\n    private static final Logger LOGGER = LoggerFactory.getLogger(JsonToMapConverter.class);\n\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; convertToDatabaseColumn(String attribute)\n    {\n        if (attribute == null) {\n           return new HashMap&lt;&gt;();\n        }\n        try\n        {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(attribute, HashMap.class);\n        }\n        catch (IOException e) {\n            LOGGER.error(\"Convert error while trying to convert string(JSON) to map data structure.\");\n        }\n        return new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public String convertToEntityAttribute(Map&lt;String, Object&gt; dbData)\n    {\n        try\n        {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.writeValueAsString(dbData);\n        }\n        catch (JsonProcessingException e)\n        {\n            LOGGER.error(\"Could not convert map to json string.\");\n            return null;\n        }\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Part of domain (entity-mapping) class</p>\n</blockquote>\n\n<pre><code>...\n\n@Column(name = \"meta_data\", columnDefinition = \"json\")\n@Convert(attributeName = \"data\", converter = JsonToMapConverter.class)\nprivate Map&lt;String, Object&gt; metaData = new HashMap&lt;&gt;();\n\n...\n</code></pre>\n\n<p>This solution perfectly works for me.</p>\n"},{"comments":[{"owner":{"account_id":1166807,"reputation":3087,"user_id":1144868,"accept_rate":56,"display_name":"sandeep"},"score":1,"creation_date":1590742478,"post_id":57387038,"comment_id":109801314,"body_markdown":"I am getting this error after using the above class. My problem is - My postgres table has a JSON column, need to map them in aggEntity class. So used the above class but getting error.","body":"I am getting this error after using the above class. My problem is - My postgres table has a JSON column, need to map them in aggEntity class. So used the above class but getting error."}],"tags":[],"owner":{"account_id":5900911,"reputation":61,"user_id":4644462,"display_name":"Songle Bao"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1565152634,"creation_date":1565152634,"answer_id":57387038,"question_id":44308167,"body_markdown":"[Heril Muratovic&#39;s answer][1] is good, but I think the `JsonToMapConverter` should implement `AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;`, not `AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt;`. Here is the code that works for me\r\n\r\n```java\r\n@Slf4j\r\n@Converter\r\npublic class JsonToMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\r\n    @Override\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String attribute) {\r\n        if (attribute == null) {\r\n            return new HashMap&lt;&gt;();\r\n        }\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.readValue(attribute, HashMap.class);\r\n        } catch (IOException e) {\r\n            log.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;, e);\r\n        }\r\n        return new HashMap&lt;&gt;();\r\n    }\r\n\r\n    @Override\r\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; dbData) {\r\n        try {\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            return objectMapper.writeValueAsString(dbData);\r\n        } catch (JsonProcessingException e) {\r\n            log.error(&quot;Could not convert map to json string.&quot;, e);\r\n            return null;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/52748015/4644462","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p><a href=\"https://stackoverflow.com/a/52748015/4644462\">Heril Muratovic's answer</a> is good, but I think the <code>JsonToMapConverter</code> should implement <code>AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt;</code>, not <code>AttributeConverter&lt;String, Map&lt;String, Object&gt;&gt;</code>. Here is the code that works for me</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Slf4j\n@Converter\npublic class JsonToMapConverter implements AttributeConverter&lt;Map&lt;String, Object&gt;, String&gt; {\n    @Override\n    @SuppressWarnings(\"unchecked\")\n    public Map&lt;String, Object&gt; convertToEntityAttribute(String attribute) {\n        if (attribute == null) {\n            return new HashMap&lt;&gt;();\n        }\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.readValue(attribute, HashMap.class);\n        } catch (IOException e) {\n            log.error(\"Convert error while trying to convert string(JSON) to map data structure.\", e);\n        }\n        return new HashMap&lt;&gt;();\n    }\n\n    @Override\n    public String convertToDatabaseColumn(Map&lt;String, Object&gt; dbData) {\n        try {\n            ObjectMapper objectMapper = new ObjectMapper();\n            return objectMapper.writeValueAsString(dbData);\n        } catch (JsonProcessingException e) {\n            log.error(\"Could not convert map to json string.\", e);\n            return null;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5339596,"reputation":632,"user_id":4257226,"accept_rate":79,"display_name":"TiggerToo"},"score":0,"creation_date":1568914840,"post_id":57937974,"comment_id":102436416,"body_markdown":"Breaks my H2 unit tests: `JdbcSQLNonTransientException: Unknown data type: &quot;JSON&quot;;`","body":"Breaks my H2 unit tests: <code>JdbcSQLNonTransientException: Unknown data type: &quot;JSON&quot;;</code>"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1568915853,"post_id":57937974,"comment_id":102436820,"body_markdown":"@TiggerToo, Of course, it breaks your H2 tests. MySQL functions and features are meant to be tested on MySQL, not H2. Unless you are using H2 in production, which is highly unlikely, then, there is no reason why you&#39;d want to test your data access layer against a different DB engine than the one you are using in production.","body":"@TiggerToo, Of course, it breaks your H2 tests. MySQL functions and features are meant to be tested on MySQL, not H2. Unless you are using H2 in production, which is highly unlikely, then, there is no reason why you&#39;d want to test your data access layer against a different DB engine than the one you are using in production."},{"owner":{"account_id":5339596,"reputation":632,"user_id":4257226,"accept_rate":79,"display_name":"TiggerToo"},"score":2,"creation_date":1568917282,"post_id":57937974,"comment_id":102437444,"body_markdown":"I believe it was you I said this to in another question, but yes, there is a very good reason to use a different DB engine, and it&#39;s called unit tests.","body":"I believe it was you I said this to in another question, but yes, there is a very good reason to use a different DB engine, and it&#39;s called unit tests."},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":4,"creation_date":1568919570,"post_id":57937974,"comment_id":102438416,"body_markdown":"Testing a database is called integration testing. Unit testing is for units, like when you test a method of a POJO or a Service with Mocks.","body":"Testing a database is called integration testing. Unit testing is for units, like when you test a method of a POJO or a Service with Mocks."},{"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"score":0,"creation_date":1602424142,"post_id":57937974,"comment_id":113709666,"body_markdown":"@VladMihalcea when reading JSON data from DB, I get special characters for slovenian letters. My DB encoding is utf8, utf8_slovenian_ci. Check this question please for more info: https://stackoverflow.com/questions/64246519/mysql-json-data-type-jpa-encoding-issue","body":"@VladMihalcea when reading JSON data from DB, I get special characters for slovenian letters. My DB encoding is utf8, utf8_slovenian_ci. Check this question please for more info: <a href=\"https://stackoverflow.com/questions/64246519/mysql-json-data-type-jpa-encoding-issue\" title=\"mysql json data type jpa encoding issue\">stackoverflow.com/questions/64246519/&hellip;</a>"},{"owner":{"account_id":1693760,"reputation":9824,"user_id":1555615,"accept_rate":62,"display_name":"Marinos An"},"score":0,"creation_date":1612956409,"post_id":57937974,"comment_id":116926265,"body_markdown":"On [your site](https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/) you have an example with     `@Type(type = &quot;json&quot;) @Column(columnDefinition = &quot;json&quot;)` on top of an `Location` and `Ticket` classes (not just `String`). Is there a specific reason why your example here uses a `String` property and not a Pojo?","body":"On <a href=\"https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\" rel=\"nofollow noreferrer\">your site</a> you have an example with     <code>@Type(type = &quot;json&quot;) @Column(columnDefinition = &quot;json&quot;)</code> on top of an <code>Location</code> and <code>Ticket</code> classes (not just <code>String</code>). Is there a specific reason why your example here uses a <code>String</code> property and not a Pojo?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":2,"creation_date":1612971417,"post_id":57937974,"comment_id":116933125,"body_markdown":"It works with both String, DTOs, Map or other entity attributes","body":"It works with both String, DTOs, Map or other entity attributes"},{"owner":{"account_id":243084,"reputation":31440,"user_id":515034,"accept_rate":59,"display_name":"Abimaran Kugathasan"},"score":0,"creation_date":1632800570,"post_id":57937974,"comment_id":122584487,"body_markdown":"@VladMihalcea, I&#39;m getting `Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Cannot create a JSON value from a string with CHARACTER SET &#39;binary&#39;.` Any idea how to resolve this?","body":"@VladMihalcea, I&#39;m getting <code>Caused by: com.mysql.cj.jdbc.exceptions.MysqlDataTruncation: Data truncation: Cannot create a JSON value from a string with CHARACTER SET &#39;binary&#39;.</code> Any idea how to resolve this?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1632803488,"post_id":57937974,"comment_id":122584929,"body_markdown":"@AbimaranKugathasan In the GitHub repository of the project, you&#39;ll find plenty of tests that show you how to use it. Compare those to your code and see where they differ.","body":"@AbimaranKugathasan In the GitHub repository of the project, you&#39;ll find plenty of tests that show you how to use it. Compare those to your code and see where they differ."},{"owner":{"account_id":1975340,"reputation":561,"user_id":1773237,"display_name":"Hhovhann"},"score":0,"creation_date":1668616742,"post_id":57937974,"comment_id":131450495,"body_markdown":"@TiggerToo you can use TestContainers(https://www.testcontainers.org/) if you are writing Integration tests.\nVladMihalcea thanks for the interesting answer.","body":"@TiggerToo you can use TestContainers(<a href=\"https://www.testcontainers.org/\" rel=\"nofollow noreferrer\">testcontainers.org</a>) if you are writing Integration tests. VladMihalcea thanks for the interesting answer."},{"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"score":0,"creation_date":1674567291,"post_id":57937974,"comment_id":132737568,"body_markdown":"@VladMihalcea Is there any solution to add inner fields in JOSN column to `Where` clause of a select query?","body":"@VladMihalcea Is there any solution to add inner fields in JOSN column to <code>Where</code> clause of a select query?"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":0,"creation_date":1674572023,"post_id":57937974,"comment_id":132739478,"body_markdown":"@AliSohrabi You need to use a native SQL with the DB-specific syntax to access inner JSON attributes for reading or writing them.","body":"@AliSohrabi You need to use a native SQL with the DB-specific syntax to access inner JSON attributes for reading or writing them."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1681798101,"post_id":57937974,"comment_id":134110220,"body_markdown":"@VladMIhalcea The annotation at class level TypeDef, is it necessary? Because I have a table with many columns, only one of them is the json string, I do not want to make mysql think that all the class is a Json","body":"@VladMIhalcea The annotation at class level TypeDef, is it necessary? Because I have a table with many columns, only one of them is the json string, I do not want to make mysql think that all the class is a Json"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1681798341,"post_id":57937974,"comment_id":134110273,"body_markdown":"The `@TypeDef` annotation is global and allows you to define an alias you&#39;d reference later at the property level. Without it, you&#39;d have to use the String-based fully-qualified class name on each `@Type` you add to an entity property.","body":"The <code>@TypeDef</code> annotation is global and allows you to define an alias you&#39;d reference later at the property level. Without it, you&#39;d have to use the String-based fully-qualified class name on each <code>@Type</code> you add to an entity property."},{"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"score":0,"creation_date":1681902862,"post_id":57937974,"comment_id":134130954,"body_markdown":"@VladMihalcea hey I see that in hibernate 6.1.6 this annotation TypeDef got removed, can you pls show example how to call in the Type annotation with fully qualified class JsonType? I was trying but I think it changed alot, what should I do for it to keep working with the JsonType? Think the Type annotation also changed at field level (column)","body":"@VladMihalcea hey I see that in hibernate 6.1.6 this annotation TypeDef got removed, can you pls show example how to call in the Type annotation with fully qualified class JsonType? I was trying but I think it changed alot, what should I do for it to keep working with the JsonType? Think the Type annotation also changed at field level (column)"},{"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"score":1,"creation_date":1681904780,"post_id":57937974,"comment_id":134131420,"body_markdown":"You can find lots of examples for Hibernate 6 here https://github.com/vladmihalcea/hypersistence-utils/tree/master/hypersistence-utils-hibernate-60/src/test/java/io/hypersistence/utils/hibernate/type/json","body":"You can find lots of examples for Hibernate 6 here <a href=\"https://github.com/vladmihalcea/hypersistence-utils/tree/master/hypersistence-utils-hibernate-60/src/test/java/io/hypersistence/utils/hibernate/type/json\" rel=\"nofollow noreferrer\">github.com/vladmihalcea/hypersistence-utils/tree/master/&hellip;</a>"}],"tags":[],"owner":{"account_id":1012936,"reputation":145178,"user_id":1025118,"accept_rate":100,"display_name":"Vlad Mihalcea"},"comment_count":16,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1620657070,"creation_date":1568483884,"answer_id":57937974,"question_id":44308167,"body_markdown":"&gt; You don’t have to create all these types manually, you can simply get\r\n&gt; them via Maven Central using the following dependency:\r\n&gt; \r\n&gt;     &lt;dependency&gt;\r\n&gt;         &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\r\n&gt;         &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\r\n&gt;         &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \r\n&gt;     &lt;/dependency&gt; \r\n&gt; \r\n&gt; For more info, check out the [Hibernate Types open-source project](https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/).\r\n\r\nNow, to explain how it all works.\r\n\r\nAssuming you have the following entity:\r\n\r\n\t@Entity(name = &quot;Book&quot;)\r\n\t@Table(name = &quot;book&quot;)\r\n\t@TypeDef(\r\n\t\tname = &quot;json&quot;, \r\n\t\ttypeClass = JsonType.class\r\n\t)\r\n\tpublic class Book {\r\n\t \r\n\t\t@Id\r\n\t\t@GeneratedValue\r\n\t\tprivate Long id;\r\n\t \r\n\t\t@NaturalId\r\n\t\tprivate String isbn;\r\n\t \r\n\t\t@Type(type = &quot;json&quot;)\r\n\t\t@Column(columnDefinition = &quot;json&quot;)\r\n\t\tprivate String properties;\r\n\t \r\n\t\t//Getters and setters omitted for brevity\r\n\t}\r\n\r\nNotice two things in the code snippet above:\r\n\r\n- the `@TypeDef` is used to define a new custom Hibernate Type, `json` which is handled by the [`JsonType`](https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/)\r\n- the `properties` attribute has a `json` column type and it&#39;s mapped as a `String`\r\n\r\nThat&#39;s it!\r\n\r\nNow, if you save an entity:\r\n\r\n\tBook book = new Book();\r\n\tbook.setIsbn(&quot;978-9730228236&quot;);\r\n\tbook.setProperties(\r\n\t\t&quot;{&quot; +\r\n\t\t&quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;price\\&quot;: 44.99&quot; +\r\n\t\t&quot;}&quot;\r\n\t);\r\n\t \r\n\tentityManager.persist(book);\r\n\r\nHibernate is going to generate the following SQL statement:\r\n\r\n    INSERT INTO\r\n        book \r\n    (\r\n        isbn, \r\n        properties, \r\n        id\r\n    ) \r\n    VALUES\r\n    (\r\n        &#39;978-9730228236&#39;, \r\n        &#39;{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99}&#39;,  \r\n        1\r\n    )\r\n\r\nAnd you can also load it back and modify it:\r\n\t \r\n\tBook book = entityManager\r\n\t    .unwrap(Session.class)\r\n\t\t.bySimpleNaturalId(Book.class)\r\n\t\t.load(&quot;978-9730228236&quot;);\r\n\t \t \r\n\tbook.setProperties(\r\n\t\t&quot;{&quot; +\r\n\t\t&quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\r\n\t\t&quot;   \\&quot;price\\&quot;: 44.99,&quot; +\r\n\t\t&quot;   \\&quot;url\\&quot;: \\&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/\\&quot;&quot; +\r\n\t\t&quot;}&quot;\r\n\t);\r\n\r\nHibernate taking caare of the `UPDATE` statement for you:\r\n\r\n    SELECT  b.id AS id1_0_\r\n    FROM    book b\r\n    WHERE   b.isbn = &#39;978-9730228236&#39;\r\n     \r\n    SELECT  b.id AS id1_0_0_ ,\r\n            b.isbn AS isbn2_0_0_ ,\r\n            b.properties AS properti3_0_0_\r\n    FROM    book b\r\n    WHERE   b.id = 1    \r\n     \r\n    UPDATE\r\n        book \r\n    SET\r\n        properties = &#39;{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99,&quot;url&quot;:&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/&quot;}&#39;\r\n    WHERE\r\n        id = 1\r\n\r\nAll code available on [**GitHub**][3].\r\n\r\n  [2]: https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/\r\n  [3]: https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/type/json","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<blockquote>\n<p>You don’t have to create all these types manually, you can simply get\nthem via Maven Central using the following dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.vladmihalcea&lt;/groupId&gt;\n    &lt;artifactId&gt;hibernate-types-52&lt;/artifactId&gt;\n    &lt;version&gt;${hibernate-types.version}&lt;/version&gt; \n&lt;/dependency&gt; \n</code></pre>\n<p>For more info, check out the <a href=\"https://vladmihalcea.com/the-hibernate-types-open-source-project-is-born/\" rel=\"noreferrer\">Hibernate Types open-source project</a>.</p>\n</blockquote>\n<p>Now, to explain how it all works.</p>\n<p>Assuming you have the following entity:</p>\n<pre><code>@Entity(name = &quot;Book&quot;)\n@Table(name = &quot;book&quot;)\n@TypeDef(\n    name = &quot;json&quot;, \n    typeClass = JsonType.class\n)\npublic class Book {\n \n    @Id\n    @GeneratedValue\n    private Long id;\n \n    @NaturalId\n    private String isbn;\n \n    @Type(type = &quot;json&quot;)\n    @Column(columnDefinition = &quot;json&quot;)\n    private String properties;\n \n    //Getters and setters omitted for brevity\n}\n</code></pre>\n<p>Notice two things in the code snippet above:</p>\n<ul>\n<li>the <code>@TypeDef</code> is used to define a new custom Hibernate Type, <code>json</code> which is handled by the <a href=\"https://vladmihalcea.com/how-to-store-schema-less-eav-entity-attribute-value-data-using-json-and-hibernate/\" rel=\"noreferrer\"><code>JsonType</code></a></li>\n<li>the <code>properties</code> attribute has a <code>json</code> column type and it's mapped as a <code>String</code></li>\n</ul>\n<p>That's it!</p>\n<p>Now, if you save an entity:</p>\n<pre><code>Book book = new Book();\nbook.setIsbn(&quot;978-9730228236&quot;);\nbook.setProperties(\n    &quot;{&quot; +\n    &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\n    &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\n    &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\n    &quot;   \\&quot;price\\&quot;: 44.99&quot; +\n    &quot;}&quot;\n);\n \nentityManager.persist(book);\n</code></pre>\n<p>Hibernate is going to generate the following SQL statement:</p>\n<pre><code>INSERT INTO\n    book \n(\n    isbn, \n    properties, \n    id\n) \nVALUES\n(\n    '978-9730228236', \n    '{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99}',  \n    1\n)\n</code></pre>\n<p>And you can also load it back and modify it:</p>\n<pre><code>Book book = entityManager\n    .unwrap(Session.class)\n    .bySimpleNaturalId(Book.class)\n    .load(&quot;978-9730228236&quot;);\n     \nbook.setProperties(\n    &quot;{&quot; +\n    &quot;   \\&quot;title\\&quot;: \\&quot;High-Performance Java Persistence\\&quot;,&quot; +\n    &quot;   \\&quot;author\\&quot;: \\&quot;Vlad Mihalcea\\&quot;,&quot; +\n    &quot;   \\&quot;publisher\\&quot;: \\&quot;Amazon\\&quot;,&quot; +\n    &quot;   \\&quot;price\\&quot;: 44.99,&quot; +\n    &quot;   \\&quot;url\\&quot;: \\&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/\\&quot;&quot; +\n    &quot;}&quot;\n);\n</code></pre>\n<p>Hibernate taking caare of the <code>UPDATE</code> statement for you:</p>\n<pre><code>SELECT  b.id AS id1_0_\nFROM    book b\nWHERE   b.isbn = '978-9730228236'\n \nSELECT  b.id AS id1_0_0_ ,\n        b.isbn AS isbn2_0_0_ ,\n        b.properties AS properti3_0_0_\nFROM    book b\nWHERE   b.id = 1    \n \nUPDATE\n    book \nSET\n    properties = '{&quot;title&quot;:&quot;High-Performance Java Persistence&quot;,&quot;author&quot;:&quot;Vlad Mihalcea&quot;,&quot;publisher&quot;:&quot;Amazon&quot;,&quot;price&quot;:44.99,&quot;url&quot;:&quot;https://www.amazon.com/High-Performance-Java-Persistence-Vlad-Mihalcea/dp/973022823X/&quot;}'\nWHERE\n    id = 1\n</code></pre>\n<p>All code available on <a href=\"https://github.com/vladmihalcea/high-performance-java-persistence/tree/master/core/src/test/java/com/vladmihalcea/book/hpjp/hibernate/type/json\" rel=\"noreferrer\"><strong>GitHub</strong></a>.</p>\n"},{"tags":[],"owner":{"account_id":15414248,"reputation":1,"user_id":11120201,"display_name":"N Ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1605400902,"creation_date":1605399119,"answer_id":64840002,"question_id":44308167,"body_markdown":"In Kotlin, the following variation/combination of the above suggestions worked for me:\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;product_menu&quot;)\r\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType::class)\r\ndata class ProductMenu(\r\n\r\n    @Type(type = &quot;json&quot;)\r\n    @Column(name = &quot;menu_json&quot;, columnDefinition = &quot;json&quot;)\r\n    @Convert(attributeName = &quot;menuJson&quot;, converter = JsonToMapConverter::class)\r\n    val menuJson: HashMap&lt;String, Any&gt; = HashMap()\r\n\r\n) : Serializable\r\n\r\n\r\n\r\nimport com.fasterxml.jackson.core.JsonProcessingException\r\nimport com.fasterxml.jackson.databind.ObjectMapper\r\nimport org.slf4j.LoggerFactory\r\nimport java.io.IOException\r\nimport javax.persistence.AttributeConverter\r\n\r\nclass JsonToMapConverter : AttributeConverter&lt;String, HashMap&lt;String, Any&gt;&gt; {\r\n\r\n    companion object {\r\n        private val LOGGER = LoggerFactory.getLogger(JsonToMapConverter::class.java)\r\n    }\r\n\r\n    override fun convertToDatabaseColumn(attribute: String?): HashMap&lt;String, Any&gt; {\r\n        if(attribute == null) {\r\n            return HashMap()\r\n        }\r\n        try {\r\n            val objectMapper = ObjectMapper()\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return objectMapper.readValue(attribute, HashMap::class.java) as HashMap&lt;String, Any&gt;\r\n        } catch (e: IOException) {\r\n            LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;)\r\n        }\r\n        return HashMap()\r\n    }\r\n\r\n    override fun convertToEntityAttribute(dbData: HashMap&lt;String, Any&gt;?): String? {\r\n        return try {\r\n            val objectMapper = ObjectMapper()\r\n            objectMapper.writeValueAsString(dbData)\r\n        } catch (e: JsonProcessingException) {\r\n            LOGGER.error(&quot;Could not convert map to json string.&quot;)\r\n            return null\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>In Kotlin, the following variation/combination of the above suggestions worked for me:</p>\n<pre><code>@Entity\n@Table(name = &quot;product_menu&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType::class)\ndata class ProductMenu(\n\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;menu_json&quot;, columnDefinition = &quot;json&quot;)\n    @Convert(attributeName = &quot;menuJson&quot;, converter = JsonToMapConverter::class)\n    val menuJson: HashMap&lt;String, Any&gt; = HashMap()\n\n) : Serializable\n\n\n\nimport com.fasterxml.jackson.core.JsonProcessingException\nimport com.fasterxml.jackson.databind.ObjectMapper\nimport org.slf4j.LoggerFactory\nimport java.io.IOException\nimport javax.persistence.AttributeConverter\n\nclass JsonToMapConverter : AttributeConverter&lt;String, HashMap&lt;String, Any&gt;&gt; {\n\n    companion object {\n        private val LOGGER = LoggerFactory.getLogger(JsonToMapConverter::class.java)\n    }\n\n    override fun convertToDatabaseColumn(attribute: String?): HashMap&lt;String, Any&gt; {\n        if(attribute == null) {\n            return HashMap()\n        }\n        try {\n            val objectMapper = ObjectMapper()\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\n            return objectMapper.readValue(attribute, HashMap::class.java) as HashMap&lt;String, Any&gt;\n        } catch (e: IOException) {\n            LOGGER.error(&quot;Convert error while trying to convert string(JSON) to map data structure.&quot;)\n        }\n        return HashMap()\n    }\n\n    override fun convertToEntityAttribute(dbData: HashMap&lt;String, Any&gt;?): String? {\n        return try {\n            val objectMapper = ObjectMapper()\n            objectMapper.writeValueAsString(dbData)\n        } catch (e: JsonProcessingException) {\n            LOGGER.error(&quot;Could not convert map to json string.&quot;)\n            return null\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25000153,"reputation":1,"user_id":18860625,"display_name":"nguyen_vts"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677666181,"creation_date":1677666181,"answer_id":75602372,"question_id":44308167,"body_markdown":"For anyone can&#39;t make @J. Wang answer work :\r\n\r\nTry add this dependency\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nCreating converter\r\n\r\n&gt; JSONObjectConverter.java\r\n\r\n    @Converter(autoApply = true)\r\n    public class JSONObjectConverter implements AttributeConverter&lt;JSONObject, String&gt; {\r\n\r\n     private static final Logger logger = (Logger) LoggerFactory.getLogger(JSONArrayConverter.class);\r\n\r\n     @Override\r\n     public String convertToDatabaseColumn(JSONObject obj)\r\n     {\r\n        String data = null;\r\n        try\r\n        {\r\n            data = obj.toString();\r\n        }\r\n        catch (final Exception e)\r\n        {\r\n            logger.error(&quot;JSON writing error&quot;, e);\r\n        }\r\n\r\n        return data;\r\n     }\r\n\r\n     @Override\r\n     public JSONObject convertToEntityAttribute(String data)\r\n     {\r\n        JSONObject obj = null;\r\n\r\n        try\r\n        {\r\n            Object temp = JSONValue.parse(data);\r\n            obj = (JSONObject) temp ;\r\n        }\r\n        catch (final Exception e)\r\n        {\r\n            logger.error(&quot;JSON reading error&quot;, e);\r\n        }\r\n\r\n        return obj;\r\n     }\r\n    }\r\n\r\n&gt; Part of domain (entity-mapping) class\r\n\r\n    ...\r\n    \r\n    @Lob\r\n    @Column(name = &quot;pano_data&quot;, columnDefinition = &quot;JSON&quot;, nullable = true)\r\n    @Convert(converter = JSONObjectConverter.class)\r\n    private JSONObject panoData;\r\n\r\n    ...\r\nThis solution perfectly works for me.","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>For anyone can't make @J. Wang answer work :</p>\n<p>Try add this dependency</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.googlecode.json-simple&lt;/groupId&gt;\n  &lt;artifactId&gt;json-simple&lt;/artifactId&gt;\n  &lt;version&gt;1.1.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Creating converter</p>\n<blockquote>\n<p>JSONObjectConverter.java</p>\n</blockquote>\n<pre><code>@Converter(autoApply = true)\npublic class JSONObjectConverter implements AttributeConverter&lt;JSONObject, String&gt; {\n\n private static final Logger logger = (Logger) LoggerFactory.getLogger(JSONArrayConverter.class);\n\n @Override\n public String convertToDatabaseColumn(JSONObject obj)\n {\n    String data = null;\n    try\n    {\n        data = obj.toString();\n    }\n    catch (final Exception e)\n    {\n        logger.error(&quot;JSON writing error&quot;, e);\n    }\n\n    return data;\n }\n\n @Override\n public JSONObject convertToEntityAttribute(String data)\n {\n    JSONObject obj = null;\n\n    try\n    {\n        Object temp = JSONValue.parse(data);\n        obj = (JSONObject) temp ;\n    }\n    catch (final Exception e)\n    {\n        logger.error(&quot;JSON reading error&quot;, e);\n    }\n\n    return obj;\n }\n}\n</code></pre>\n<blockquote>\n<p>Part of domain (entity-mapping) class</p>\n</blockquote>\n<pre><code>...\n\n@Lob\n@Column(name = &quot;pano_data&quot;, columnDefinition = &quot;JSON&quot;, nullable = true)\n@Convert(converter = JSONObjectConverter.class)\nprivate JSONObject panoData;\n\n...\n</code></pre>\n<p>This solution perfectly works for me.</p>\n"}],"owner":{"account_id":5082970,"reputation":1960,"user_id":4078505,"accept_rate":70,"display_name":"Heril Muratovic"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66960,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":52748015,"answer_count":7,"score":36,"last_activity_date":1677666181,"creation_date":1496321804,"question_id":44308167,"body_markdown":"I have a MySQL column declared as type **JSON** and I have problems to map it with JPA/Hibernate. I&#39;m using Spring Boot on back-end.\r\n\r\nHere is small part of my code:  \r\n\r\n    @Entity\r\n    @Table(name = &quot;some_table_name&quot;)\r\n    public class MyCustomEntity implements Serializable {\r\n\r\n    private static final long serialVersionUID = 1L;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;json_value&quot;)\r\n    private JSONArray jsonValue;\r\n\r\nThe program returns me an error and tells me that I can&#39;t map the column.\r\n\r\nIn mysql table the column is defined as:\r\n\r\n\r\n```\r\njson_value JSON NOT NULL;\r\n```","title":"How to map a MySQL JSON column to a Java entity property using JPA and Hibernate","body":"<p>I have a MySQL column declared as type <strong>JSON</strong> and I have problems to map it with JPA/Hibernate. I'm using Spring Boot on back-end.</p>\n<p>Here is small part of my code:</p>\n<pre><code>@Entity\n@Table(name = &quot;some_table_name&quot;)\npublic class MyCustomEntity implements Serializable {\n\nprivate static final long serialVersionUID = 1L;\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n\n@Column(name = &quot;json_value&quot;)\nprivate JSONArray jsonValue;\n</code></pre>\n<p>The program returns me an error and tells me that I can't map the column.</p>\n<p>In mysql table the column is defined as:</p>\n<pre><code>json_value JSON NOT NULL;\n</code></pre>\n"},{"tags":["java","graphics","processing","projection","raytracing"],"comments":[{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":1,"creation_date":1671107475,"post_id":74811382,"comment_id":132029370,"body_markdown":"Ray tracing is an expensive process, and it doesn&#39;t do what you seem to think it does.  In order to determine the color of each pixel, it simulates a ray emitted from the eye through each pixel, how it reflects and refracts on each surface it hits, and how those reflected/refracted rays reach light sources.  The outputs of the process do not generally include any kind of polygon classification.\nYou probably want to try Z-buffering","body":"Ray tracing is an expensive process, and it doesn&#39;t do what you seem to think it does.  In order to determine the color of each pixel, it simulates a ray emitted from the eye through each pixel, how it reflects and refracts on each surface it hits, and how those reflected/refracted rays reach light sources.  The outputs of the process do not generally include any kind of polygon classification. You probably want to try Z-buffering"}],"answers":[{"tags":[],"owner":{"account_id":1020868,"reputation":1502,"user_id":1031253,"accept_rate":57,"display_name":"Simon Lundberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1677666129,"creation_date":1671543990,"answer_id":74864052,"question_id":74811382,"body_markdown":"Ray tracing doesn&#39;t determine whether or not a polygon is visible. It determines what point (if any) on what polygon is visible in a given direction. \r\n\r\nAs a simplification: rasterisation works by taking a set of geometry and for each one determining what pixels it affects. Ray tracing works by taking a set of pixels, and for each one determining what geometry is visible along that direction.\r\n\r\nWith rasterisation, there are many ways of making sure that polygons don&#39;t draw in the wrong order. One approach is to sort them by distance to the camera, but that doesn&#39;t work with polygons that overlap. The usual approach is to use a z-buffer: when a polygon is rasterised, calculate the distance to the camera in each pixel, and only update the buffer if the new value is nearer to the camera than the old value. \r\n\r\nWith ray tracing, each ray returns the *nearest* hit location along a direction, along with what it hit. Since each pixel will only be visited once, you don&#39;t need to worry about triangles drawing on top of each other.\r\n\r\nIf you just want to project a piece of 3D geometry onto a plane, rasterisation will likely be much, *much* faster. At a very high level, do this:\r\n\r\n```\r\ncreate an RGBA buffer of size X*Y\r\ncreate a z buffer of size X*Y and fill it with &#39;inf&#39;\r\nfor each triangle:\r\n    project the triangle onto the projection plane\r\n    for each pixel the triangle might affect:\r\n        calculate distance from camera to the corresponding position on the triangle\r\n        if the distance is lower than the current value in the z buffer:\r\n            replace the value in the RGBA and z buffers with the new values\r\n```","title":"Raytracing from scratch","body":"<p>Ray tracing doesn't determine whether or not a polygon is visible. It determines what point (if any) on what polygon is visible in a given direction.</p>\n<p>As a simplification: rasterisation works by taking a set of geometry and for each one determining what pixels it affects. Ray tracing works by taking a set of pixels, and for each one determining what geometry is visible along that direction.</p>\n<p>With rasterisation, there are many ways of making sure that polygons don't draw in the wrong order. One approach is to sort them by distance to the camera, but that doesn't work with polygons that overlap. The usual approach is to use a z-buffer: when a polygon is rasterised, calculate the distance to the camera in each pixel, and only update the buffer if the new value is nearer to the camera than the old value.</p>\n<p>With ray tracing, each ray returns the <em>nearest</em> hit location along a direction, along with what it hit. Since each pixel will only be visited once, you don't need to worry about triangles drawing on top of each other.</p>\n<p>If you just want to project a piece of 3D geometry onto a plane, rasterisation will likely be much, <em>much</em> faster. At a very high level, do this:</p>\n<pre><code>create an RGBA buffer of size X*Y\ncreate a z buffer of size X*Y and fill it with 'inf'\nfor each triangle:\n    project the triangle onto the projection plane\n    for each pixel the triangle might affect:\n        calculate distance from camera to the corresponding position on the triangle\n        if the distance is lower than the current value in the z buffer:\n            replace the value in the RGBA and z buffers with the new values\n</code></pre>\n"}],"owner":{"account_id":26053641,"reputation":35,"user_id":19756377,"display_name":"mardari"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":347,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1677666129,"creation_date":1671106632,"question_id":74811382,"body_markdown":"I made a 3D-renderer that parses .obj files (ASCII) and projects them on to a 2d plane.\r\n\r\nAt first glance the projection model seems to be fine except one thing.\r\n\r\nI noticed that the projection model looks a bit odd: &lt;br/&gt;\r\n[1]: https://i.stack.imgur.com/iaLOu.png\r\n\r\nAll polygons are being drawn including the ones in the back of the model, which I \r\nshould definitely not be able to see.\r\nI made a quick recherche in Wikipedia to see what this is about and I think I found something called &quot;Sichtbarkeitsproblem&quot; (Hidden-surface determination). \r\n&lt;hr/&gt;\r\n(DE): &lt;a href=&quot;https://de.wikipedia.org/wiki/Sichtbarkeitsproblem&quot;&gt;https://de.wikipedia.org/wiki/Sichtbarkeitsproblem&lt;/a&gt;\r\n&lt;br/&gt; (EN):\r\n&lt;a href=&quot;https://en.wikipedia.org/wiki/Hidden-surface_determination&quot;&gt;https://en.wikipedia.org/wiki/Hidden-surface_determination&lt;/a&gt;\r\n&lt;br/&gt;\r\n&lt;hr/&gt;\r\n\r\nThe article mentions that this is a common thing in computer graphics and that there are many different ways to perform a &quot;Verdeckungsberechnung&quot; (cover up calculation).\r\n\r\nIt mentions things like using a z-Buffer and **Raytracing**.\r\nNow I don&#39;t really know a lot about Raytracing but It seems to be quite applicable as I later want to add a light source.\r\n\r\nI am not sure how Raytracing works but If I just send out rays in an angle that matches the slope from the camera to every pixel on screen and check which polygon hits it first I would only end up having some polygons completely missing only due to one vertex being potentially covered.\r\n\r\nHow do other Raytracers work? Do they remove the entire polygon when not getting a hit? Remove only one or more vertecies? (which I belief would cause massive distortion in shape) or do they just render all the Polygons and arrange them in a way that they are sorted by the minimum distance to the camera? (I guess this would made it very bad at performance)\r\n\r\nPlease help me implement this into my code or give me a hint, it would mean a lot to me.\r\n\r\nMy code is as followed, and the **link for the projection model** (see Image no. 1) I put here:\r\nhttps://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing\r\n&lt;br/&gt;\r\n*(Note that the 3d-model and code must be in same folder in order to work)*\r\n\r\n    // 12.11.2022\r\n    // Siehe Rotation Matrix in Wikipedia\r\n    \r\n    // View Space: The world space vertex positions relative to the view of the camera\r\n    \r\n    /* Die Verdeckungsberechnung ist zum korrekten Rendern einer 3D-Szene notwendig, weil Oberfl&#228;chen,\r\n       die f&#252;r den Betrachter nicht sichtbar sind, auch nicht dargestellt werden sollten\r\n    */\r\n    \r\n    // -&gt;  https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\r\n    \r\n    \r\n    // TODO: Raytracing/Verdeckungsberechnung\r\n    // TODO: Texture Mapping\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    import java.awt.Robot;\r\n    \r\n    \r\n    import java.nio.ByteBuffer;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.ArrayList;\r\n    \r\n    byte b[];\r\n    \r\n    int amount = 0;\r\n    String lines[];\r\n    \r\n    \r\n    PVector[][] vertices;\r\n    int[] faces;\r\n    \r\n    \r\n    \r\n    float a = 0;\r\n    \r\n    \r\n    PVector cam, cam_angle, cam_move, cam_speed;\r\n    \r\n    float angle = 0.0;\r\n    \r\n    \r\n    void setup() {\r\n      size(800,600);\r\n      frameRate(60);\r\n      noCursor();\r\n    \r\n      cam  = new PVector(0, 100, -500);\r\n      cam_angle = new PVector(0, 0, 0);\r\n      cam_move = new PVector(0, 0, 0);\r\n      cam_speed = new PVector(50, 50, 50);\r\n      \r\n      lines =  loadStrings(&quot;UM2_SkullPile28mm.obj&quot;); \r\n     \r\n      println(&quot;File loaded. Now scanning contents...&quot;);\r\n      \r\n      println();\r\n      \r\n      Pattern numbers = Pattern.compile(&quot;(-?\\\\d+)&quot;);\r\n      \r\n      \r\n      ArrayList&lt;PVector&gt; vertices_ = new ArrayList&lt;PVector&gt;();\r\n      ArrayList&lt;ArrayList&gt; faces_ = new ArrayList&lt;ArrayList&gt;();\r\n      \r\n      int parsed_lines = 0; \r\n      \r\n      for(String i:lines) {\r\n        switch(i.charAt(0)) {\r\n          \r\n          // Find faces\r\n          case &#39;f&#39;:\r\n            ArrayList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\r\n            for(Matcher m = numbers.matcher(i); m.find(); values.add(Integer.parseInt(m.group())));\r\n            faces_.add(values);\r\n            break;\r\n            \r\n          // Find Vectors  \r\n          case &#39;v&#39;:\r\n            String s[] = i.trim().split(&quot;\\\\s+&quot;);\r\n            vertices_.add(new PVector(Float.parseFloat(s[1])*20, Float.parseFloat(s[2])*20, Float.parseFloat(s[3])*20));\r\n            break;\r\n        };\r\n        if(++parsed_lines % (lines.length/6) == 0 || parsed_lines == lines.length) println((int)(map(parsed_lines, 0, lines.length, 0, 100)), &quot;%&quot;);\r\n      }\r\n      \r\n      println();\r\n      println(&quot;Done. Found&quot;, vertices_.size(), &quot;Vertices and&quot;, faces_.size(), &quot;faces&quot;);\r\n      \r\n      \r\n    \r\n      int i=0;  \r\n      \r\n      vertices = new PVector[faces_.size()][];\r\n      \r\n      for(ArrayList&lt;Integer&gt; f_:faces_) {   \r\n        vertices[i] = new PVector[f_.size()]; \r\n        int j = 0;\r\n        \r\n        for(int f: f_) {\r\n          PVector v = vertices_.get(f-1);\r\n          vertices[i][j] = Rotate3d_x(v, -90); \r\n          j++;\r\n        }\r\n        \r\n        i++;\r\n      }\r\n      \r\n    }\r\n    \r\n    \r\n    PVector Rotate2d(PVector p, float a) {\r\n      // a = angle\r\n    \r\n      float[][] m2 = {\r\n        {cos(a), -sin(a)},\r\n        {sin(a), cos(a)}\r\n      };\r\n    \r\n      float[][] rotated = matmul(m2, new float[][] {\r\n        { p.x },\r\n        { p.y }\r\n        });\r\n    \r\n      return new PVector(rotated[0][0], rotated[1][0]);\r\n    }\r\n    \r\n    \r\n    PVector Rotate3d(PVector p, float[][] m2) {\r\n    \r\n      float[][] rotated = matmul(m2, new float[][] {\r\n        { p.x },\r\n        { p.y },\r\n        { p.z }\r\n        });\r\n    \r\n      return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\r\n    }\r\n    \r\n    \r\n    \r\n    PVector Rotate3d_x(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {1, 0, 0},\r\n        {0, cos(a), -sin(a)},\r\n        {0, sin(a), cos(a)}\r\n        });\r\n    };\r\n    \r\n    PVector Rotate3d_y(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {cos(a), 0, sin(a)},\r\n        {0, 1, 0},\r\n        {-sin(a), 0, cos(a)}\r\n        });\r\n    }\r\n    \r\n    PVector Rotate3d_z(PVector p, float a) {\r\n      return Rotate3d(p,\r\n        new float[][] {\r\n        {cos(a), -sin(a), 0},\r\n        {sin(a), cos(a), 0},\r\n        {0, 0, 1}\r\n        });\r\n    }\r\n    \r\n    PVector Rotate3d(PVector p, PVector a) {\r\n      return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\r\n    }\r\n    \r\n    \r\n    \r\n    // Matrixmultiplikation\r\n    float[][] matmul(float[][] m1, float[][] m2) {\r\n    \r\n      int cols_m1 = m1.length,\r\n        rows_m1 = m1[0].length;\r\n    \r\n      int cols_m2 = m2.length,\r\n        rows_m2 = m2[0].length;\r\n    \r\n      try {\r\n        if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\r\n      }\r\n      catch(Exception e) {\r\n        println(e);\r\n      }\r\n    \r\n    \r\n      float[][] res = new float[cols_m2][rows_m2];\r\n    \r\n    \r\n      for (int c=0; c &lt; cols_m1; c++) {\r\n    \r\n        for (int r2=0; r2 &lt; rows_m2; r2++) {\r\n    \r\n          float sum = 0;\r\n          float[] buf = new float[rows_m1];\r\n    \r\n          // Multiply rows of m1 with columns of m2 and store in buf\r\n          for (int r=0; r &lt; rows_m1; r++) {\r\n            buf[r] = m1[c][r]* m2[r][r2];\r\n          }\r\n    \r\n          // Add up all entries into sum\r\n          for (float entry : buf) {\r\n            sum += entry;\r\n          }\r\n    \r\n          res[c][r2] = sum;\r\n        }\r\n      }\r\n    \r\n      return res;\r\n    }\r\n    \r\n    \r\n    PVector applyPerspective(PVector p) {\r\n        PVector d = applyViewTransform(p);\r\n        return applyPerspectiveTransform(d);\r\n    }\r\n    \r\n    PVector applyViewTransform(PVector p) {\r\n        // c = camera position\r\n        // co = camera orientation / camera rotation\r\n        PVector c = cam;\r\n        PVector co = cam_angle;\r\n     \r\n    \r\n        // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\r\n        float[][] dxyz = matmul(\r\n                matmul(new float[][]{\r\n                        {1, 0, 0},\r\n                        {0, cos(co.x), sin(co.x)},\r\n                        {0, -sin(co.x), cos(co.x)}\r\n                }, new float[][]{\r\n                        {cos(co.y), 0, -sin(co.y)},\r\n                        {0, 1, 0},\r\n                        {sin(co.y), 0, cos(co.y)}\r\n                }),\r\n    \r\n                matmul(new float[][]{\r\n                        {cos(co.z), sin(co.z), 0},\r\n                        {-sin(co.z), cos(co.z), 0},\r\n                        {0, 0, 1}\r\n                }, new float[][]{\r\n                        {p.x - c.x},\r\n                        {p.y - c.y},\r\n                        {p.z - c.z},\r\n                }));\r\n    \r\n        PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\r\n        return d;\r\n    }\r\n    \r\n    \r\n    PVector applyPerspectiveTransform(PVector d) {\r\n         // e = displays surface pos relative to camera pinhole c\r\n        PVector e = new PVector(0, 0, 300);\r\n        return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\r\n    }\r\n    \r\n    \r\n    void draw() {\r\n      background(255);\r\n      translate(width/2, height/2);\r\n      scale(1,-1); \r\n      noStroke();\r\n      fill(0, 100, 0, 50);\r\n      \r\n     \r\n      \r\n      PVector[][] points_view = new PVector[vertices.length][];\r\n      \r\n      for(int i=0; i &lt; vertices.length; i++) {\r\n        points_view[i] = new PVector[vertices[i].length];\r\n        for(int j=0; j &lt; vertices[i].length; j++)\r\n        points_view[i][j] = applyViewTransform(Rotate3d_y(vertices[i][j], angle));\r\n      }\r\n    \r\n    \r\n        // The following snippet I got from:  https://stackoverflow.com/questions/74443149/3d-projection-axis-inversion-problem-java-processing?noredirect=1#comment131433616_74443149\r\n      \r\n        float nearPlane = 1.0;   \r\n        \r\n        for (int c = 0; c &lt; points_view.length; c++) {\r\n          beginShape();\r\n          \r\n            for (int r = 0; r &lt; points_view[c].length-1; r++) {\r\n                // Alle Punkte verbinden\r\n                //if (i == a) continue;\r\n                \r\n                PVector p0 = points_view[c][r];    \r\n                PVector p1 = points_view[c][r+1];\r\n                 \r\n                \r\n                 if(p0.z &lt; nearPlane &amp;&amp; p1.z &lt; nearPlane){ continue; };\r\n                 \r\n               \r\n                 if(p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane)\r\n                 p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\r\n                  \r\n                 if(p0.z &lt; nearPlane &amp;&amp; p1.z &gt;= nearPlane)\r\n                 p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\r\n     \r\n                \r\n                // project\r\n                p0 = applyPerspectiveTransform(p0);\r\n                p1 = applyPerspectiveTransform(p1);\r\n                vertex(p0.x, p0.y);\r\n                vertex(p1.x, p1.y);\r\n    \r\n            }\r\n            endShape();\r\n        }\r\n        \r\n      \r\n        \r\n    \r\n      \r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n ","title":"Raytracing from scratch","body":"<p>I made a 3D-renderer that parses .obj files (ASCII) and projects them on to a 2d plane.</p>\n<p>At first glance the projection model seems to be fine except one thing.</p>\n<p>I noticed that the projection model looks a bit odd: <br/>\n[1]: <a href=\"https://i.stack.imgur.com/iaLOu.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iaLOu.png</a></p>\n<p>All polygons are being drawn including the ones in the back of the model, which I\nshould definitely not be able to see.\nI made a quick recherche in Wikipedia to see what this is about and I think I found something called &quot;Sichtbarkeitsproblem&quot; (Hidden-surface determination).</p>\n<hr/>\n(DE): <a href=\"https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\" rel=\"nofollow noreferrer\">https://de.wikipedia.org/wiki/Sichtbarkeitsproblem</a>\n<br/> (EN):\n<a href=\"https://en.wikipedia.org/wiki/Hidden-surface_determination\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Hidden-surface_determination</a>\n<br/>\n<hr/>\n<p>The article mentions that this is a common thing in computer graphics and that there are many different ways to perform a &quot;Verdeckungsberechnung&quot; (cover up calculation).</p>\n<p>It mentions things like using a z-Buffer and <strong>Raytracing</strong>.\nNow I don't really know a lot about Raytracing but It seems to be quite applicable as I later want to add a light source.</p>\n<p>I am not sure how Raytracing works but If I just send out rays in an angle that matches the slope from the camera to every pixel on screen and check which polygon hits it first I would only end up having some polygons completely missing only due to one vertex being potentially covered.</p>\n<p>How do other Raytracers work? Do they remove the entire polygon when not getting a hit? Remove only one or more vertecies? (which I belief would cause massive distortion in shape) or do they just render all the Polygons and arrange them in a way that they are sorted by the minimum distance to the camera? (I guess this would made it very bad at performance)</p>\n<p>Please help me implement this into my code or give me a hint, it would mean a lot to me.</p>\n<p>My code is as followed, and the <strong>link for the projection model</strong> (see Image no. 1) I put here:\n<a href=\"https://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/10dpjcL2d2QB15qqTSu5p6kQ534hNOzCz/view?usp=sharing</a>\n<br/>\n<em>(Note that the 3d-model and code must be in same folder in order to work)</em></p>\n<pre><code>// 12.11.2022\n// Siehe Rotation Matrix in Wikipedia\n\n// View Space: The world space vertex positions relative to the view of the camera\n\n/* Die Verdeckungsberechnung ist zum korrekten Rendern einer 3D-Szene notwendig, weil Oberflächen,\n   die für den Betrachter nicht sichtbar sind, auch nicht dargestellt werden sollten\n*/\n\n// -&gt;  https://de.wikipedia.org/wiki/Sichtbarkeitsproblem\n\n\n// TODO: Raytracing/Verdeckungsberechnung\n// TODO: Texture Mapping\n\nimport java.util.Arrays;\n\nimport java.awt.Robot;\n\n\nimport java.nio.ByteBuffer;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.ArrayList;\n\nbyte b[];\n\nint amount = 0;\nString lines[];\n\n\nPVector[][] vertices;\nint[] faces;\n\n\n\nfloat a = 0;\n\n\nPVector cam, cam_angle, cam_move, cam_speed;\n\nfloat angle = 0.0;\n\n\nvoid setup() {\n  size(800,600);\n  frameRate(60);\n  noCursor();\n\n  cam  = new PVector(0, 100, -500);\n  cam_angle = new PVector(0, 0, 0);\n  cam_move = new PVector(0, 0, 0);\n  cam_speed = new PVector(50, 50, 50);\n  \n  lines =  loadStrings(&quot;UM2_SkullPile28mm.obj&quot;); \n \n  println(&quot;File loaded. Now scanning contents...&quot;);\n  \n  println();\n  \n  Pattern numbers = Pattern.compile(&quot;(-?\\\\d+)&quot;);\n  \n  \n  ArrayList&lt;PVector&gt; vertices_ = new ArrayList&lt;PVector&gt;();\n  ArrayList&lt;ArrayList&gt; faces_ = new ArrayList&lt;ArrayList&gt;();\n  \n  int parsed_lines = 0; \n  \n  for(String i:lines) {\n    switch(i.charAt(0)) {\n      \n      // Find faces\n      case 'f':\n        ArrayList&lt;Integer&gt; values = new ArrayList&lt;Integer&gt;();\n        for(Matcher m = numbers.matcher(i); m.find(); values.add(Integer.parseInt(m.group())));\n        faces_.add(values);\n        break;\n        \n      // Find Vectors  \n      case 'v':\n        String s[] = i.trim().split(&quot;\\\\s+&quot;);\n        vertices_.add(new PVector(Float.parseFloat(s[1])*20, Float.parseFloat(s[2])*20, Float.parseFloat(s[3])*20));\n        break;\n    };\n    if(++parsed_lines % (lines.length/6) == 0 || parsed_lines == lines.length) println((int)(map(parsed_lines, 0, lines.length, 0, 100)), &quot;%&quot;);\n  }\n  \n  println();\n  println(&quot;Done. Found&quot;, vertices_.size(), &quot;Vertices and&quot;, faces_.size(), &quot;faces&quot;);\n  \n  \n\n  int i=0;  \n  \n  vertices = new PVector[faces_.size()][];\n  \n  for(ArrayList&lt;Integer&gt; f_:faces_) {   \n    vertices[i] = new PVector[f_.size()]; \n    int j = 0;\n    \n    for(int f: f_) {\n      PVector v = vertices_.get(f-1);\n      vertices[i][j] = Rotate3d_x(v, -90); \n      j++;\n    }\n    \n    i++;\n  }\n  \n}\n\n\nPVector Rotate2d(PVector p, float a) {\n  // a = angle\n\n  float[][] m2 = {\n    {cos(a), -sin(a)},\n    {sin(a), cos(a)}\n  };\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0]);\n}\n\n\nPVector Rotate3d(PVector p, float[][] m2) {\n\n  float[][] rotated = matmul(m2, new float[][] {\n    { p.x },\n    { p.y },\n    { p.z }\n    });\n\n  return new PVector(rotated[0][0], rotated[1][0], rotated[2][0]);\n}\n\n\n\nPVector Rotate3d_x(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {1, 0, 0},\n    {0, cos(a), -sin(a)},\n    {0, sin(a), cos(a)}\n    });\n};\n\nPVector Rotate3d_y(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), 0, sin(a)},\n    {0, 1, 0},\n    {-sin(a), 0, cos(a)}\n    });\n}\n\nPVector Rotate3d_z(PVector p, float a) {\n  return Rotate3d(p,\n    new float[][] {\n    {cos(a), -sin(a), 0},\n    {sin(a), cos(a), 0},\n    {0, 0, 1}\n    });\n}\n\nPVector Rotate3d(PVector p, PVector a) {\n  return Rotate3d_z( Rotate3d_y(Rotate3d_x(p, a.x), a.y), a.z );\n}\n\n\n\n// Matrixmultiplikation\nfloat[][] matmul(float[][] m1, float[][] m2) {\n\n  int cols_m1 = m1.length,\n    rows_m1 = m1[0].length;\n\n  int cols_m2 = m2.length,\n    rows_m2 = m2[0].length;\n\n  try {\n    if (rows_m1 != cols_m2) throw new Exception(&quot;Rows of m1 must match Columns of m2!&quot;);\n  }\n  catch(Exception e) {\n    println(e);\n  }\n\n\n  float[][] res = new float[cols_m2][rows_m2];\n\n\n  for (int c=0; c &lt; cols_m1; c++) {\n\n    for (int r2=0; r2 &lt; rows_m2; r2++) {\n\n      float sum = 0;\n      float[] buf = new float[rows_m1];\n\n      // Multiply rows of m1 with columns of m2 and store in buf\n      for (int r=0; r &lt; rows_m1; r++) {\n        buf[r] = m1[c][r]* m2[r][r2];\n      }\n\n      // Add up all entries into sum\n      for (float entry : buf) {\n        sum += entry;\n      }\n\n      res[c][r2] = sum;\n    }\n  }\n\n  return res;\n}\n\n\nPVector applyPerspective(PVector p) {\n    PVector d = applyViewTransform(p);\n    return applyPerspectiveTransform(d);\n}\n\nPVector applyViewTransform(PVector p) {\n    // c = camera position\n    // co = camera orientation / camera rotation\n    PVector c = cam;\n    PVector co = cam_angle;\n \n\n    // dx, dy, dz     https://en.wikipedia.org/wiki/3D_projection   :   Mathematical Formula\n    float[][] dxyz = matmul(\n            matmul(new float[][]{\n                    {1, 0, 0},\n                    {0, cos(co.x), sin(co.x)},\n                    {0, -sin(co.x), cos(co.x)}\n            }, new float[][]{\n                    {cos(co.y), 0, -sin(co.y)},\n                    {0, 1, 0},\n                    {sin(co.y), 0, cos(co.y)}\n            }),\n\n            matmul(new float[][]{\n                    {cos(co.z), sin(co.z), 0},\n                    {-sin(co.z), cos(co.z), 0},\n                    {0, 0, 1}\n            }, new float[][]{\n                    {p.x - c.x},\n                    {p.y - c.y},\n                    {p.z - c.z},\n            }));\n\n    PVector d = new PVector(dxyz[0][0], dxyz[1][0], dxyz[2][0]);\n    return d;\n}\n\n\nPVector applyPerspectiveTransform(PVector d) {\n     // e = displays surface pos relative to camera pinhole c\n    PVector e = new PVector(0, 0, 300);\n    return new PVector((e.z / d.z) * d.x + e.x, (e.z / d.z) * d.y + e.y);\n}\n\n\nvoid draw() {\n  background(255);\n  translate(width/2, height/2);\n  scale(1,-1); \n  noStroke();\n  fill(0, 100, 0, 50);\n  \n \n  \n  PVector[][] points_view = new PVector[vertices.length][];\n  \n  for(int i=0; i &lt; vertices.length; i++) {\n    points_view[i] = new PVector[vertices[i].length];\n    for(int j=0; j &lt; vertices[i].length; j++)\n    points_view[i][j] = applyViewTransform(Rotate3d_y(vertices[i][j], angle));\n  }\n\n\n    // The following snippet I got from:  https://stackoverflow.com/questions/74443149/3d-projection-axis-inversion-problem-java-processing?noredirect=1#comment131433616_74443149\n  \n    float nearPlane = 1.0;   \n    \n    for (int c = 0; c &lt; points_view.length; c++) {\n      beginShape();\n      \n        for (int r = 0; r &lt; points_view[c].length-1; r++) {\n            // Alle Punkte verbinden\n            //if (i == a) continue;\n            \n            PVector p0 = points_view[c][r];    \n            PVector p1 = points_view[c][r+1];\n             \n            \n             if(p0.z &lt; nearPlane &amp;&amp; p1.z &lt; nearPlane){ continue; };\n             \n           \n             if(p0.z &gt;= nearPlane &amp;&amp; p1.z &lt; nearPlane)\n             p1 = PVector.lerp(p0, p1, (p0.z - nearPlane) / (p0.z - p1.z));\n              \n             if(p0.z &lt; nearPlane &amp;&amp; p1.z &gt;= nearPlane)\n             p0 = PVector.lerp(p1, p0, (p1.z - nearPlane) / (p1.z - p0.z));\n \n            \n            // project\n            p0 = applyPerspectiveTransform(p0);\n            p1 = applyPerspectiveTransform(p1);\n            vertex(p0.x, p0.y);\n            vertex(p1.x, p1.y);\n\n        }\n        endShape();\n    }\n    \n  \n    \n\n  \n}\n</code></pre>\n"},{"tags":["java","formatting","apache-commons"],"comments":[{"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"score":42,"creation_date":1285058894,"post_id":3758606,"comment_id":3975471,"body_markdown":"If you use the standardized units, 1024 should become &quot;1KiB&quot; and 1024*1024 should become &quot;1MiB&quot;. http://en.wikipedia.org/wiki/Binary_prefix","body":"If you use the standardized units, 1024 should become &quot;1KiB&quot; and 1024*1024 should become &quot;1MiB&quot;. <a href=\"http://en.wikipedia.org/wiki/Binary_prefix\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Binary_prefix</a>"},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1285058969,"post_id":3758606,"comment_id":3975482,"body_markdown":"@Pascal: There should be several functions or an option to specify the base and the unit.","body":"@Pascal: There should be several functions or an option to specify the base and the unit."},{"owner":{"account_id":15903,"reputation":323453,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"score":0,"creation_date":1285062744,"post_id":3758606,"comment_id":3976035,"body_markdown":"possible duplicate of [Format file size as MB, GB etc](http://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\">Format file size as MB, GB etc</a>"},{"owner":{"account_id":56534,"reputation":85043,"user_id":169346,"display_name":"JeremyP"},"score":4,"creation_date":1285066088,"post_id":3758606,"comment_id":3976498,"body_markdown":"@Pascal Cuoq: Thanks for the reference.  I didn&#39;t realise until I read it that here in the EU we are required to use the correct prefixes by law.","body":"@Pascal Cuoq: Thanks for the reference.  I didn&#39;t realise until I read it that here in the EU we are required to use the correct prefixes by law."},{"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"score":2,"creation_date":1468589304,"post_id":3758606,"comment_id":64203025,"body_markdown":"@DerMike You mentioned that &quot;Until such a library exists&quot;. This has now become true. :-)\n\nhttp://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338","body":"@DerMike You mentioned that &quot;Until such a library exists&quot;. This has now become true. :-)  <a href=\"http://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338\" title=\"how to convert byte size into human readable format in java\">stackoverflow.com/questions/3758606/&hellip;</a>"},{"owner":{"account_id":7547772,"reputation":8593,"user_id":5730279,"display_name":"hc_dev"},"score":1,"creation_date":1575128944,"post_id":3758606,"comment_id":104465401,"body_markdown":"@AaronDigulla You are right. Why was that __2 months older question__ closed as duplicate, and not this here?","body":"@AaronDigulla You are right. Why was that <b>2 months older question</b> closed as duplicate, and not this here?"},{"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"score":0,"creation_date":1575804570,"post_id":3758606,"comment_id":104681820,"body_markdown":"Similar topic in Kotlin https://stackoverflow.com/q/59234916","body":"Similar topic in Kotlin <a href=\"https://stackoverflow.com/q/59234916\">stackoverflow.com/q/59234916</a>"},{"owner":{"account_id":68898,"reputation":1741,"user_id":200794,"display_name":"FeRD"},"score":1,"creation_date":1631110159,"post_id":3758606,"comment_id":122135871,"body_markdown":"@hc_dev I imagine the 2-months-older question was closed because this one had far better answers. These questions were both posted in 2010, the other one wasn&#39;t closed until 2013. (SO should really have a &quot;merge questions&quot; feature, come to think of it, to pull the answers from both together into one place.)","body":"@hc_dev I imagine the 2-months-older question was closed because this one had far better answers. These questions were both posted in 2010, the other one wasn&#39;t closed until 2013. (SO should really have a &quot;merge questions&quot; feature, come to think of it, to pull the answers from both together into one place.)"}],"answers":[{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":3,"creation_date":1285061379,"post_id":3758653,"comment_id":3975837,"body_markdown":"Why is 0 an invalid file-size?","body":"Why is 0 an invalid file-size?"},{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":0,"creation_date":1285061885,"post_id":3758653,"comment_id":3975921,"body_markdown":"@aioobe it was in my use case (displaying the size of an uploaded file), but arguably that&#39;s not universal","body":"@aioobe it was in my use case (displaying the size of an uploaded file), but arguably that&#39;s not universal"},{"owner":{"account_id":2509000,"reputation":2724,"user_id":2181915,"accept_rate":50,"display_name":"tom"},"score":0,"creation_date":1382617818,"post_id":3758653,"comment_id":29035080,"body_markdown":"If you change the last line to  return NumberFormat.getFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit; it works in GWT too!  Thanks for this, it&#39;s still not in Guava.","body":"If you change the last line to  return NumberFormat.getFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit; it works in GWT too!  Thanks for this, it&#39;s still not in Guava."}],"tags":[],"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"comment_count":3,"down_vote_count":1,"up_vote_count":30,"is_accepted":false,"score":29,"last_activity_date":1661812352,"creation_date":1285058956,"answer_id":3758653,"question_id":3758606,"body_markdown":"I asked the same question recently:\r\n\r\n*[Format file size as MB, GB, etc.][1]*\r\n\r\nWhile there is no out-of-the-box answer, I can live with the solution:\r\n\r\n    private static final long K = 1024;\r\n    private static final long M = K * K;\r\n    private static final long G = M * K;\r\n    private static final long T = G * K;\r\n\r\n    public static String convertToStringRepresentation(final long value){\r\n        final long[] dividers = new long[] { T, G, M, K, 1 };\r\n        final String[] units = new String[] { &quot;TB&quot;, &quot;GB&quot;, &quot;MB&quot;, &quot;KB&quot;, &quot;B&quot; };\r\n        if(value &lt; 1)\r\n            throw new IllegalArgumentException(&quot;Invalid file size: &quot; + value);\r\n        String result = null;\r\n        for(int i = 0; i &lt; dividers.length; i++){\r\n            final long divider = dividers[i];\r\n            if(value &gt;= divider){\r\n                result = format(value, divider, units[i]);\r\n                break;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n\r\n    private static String format(final long value,\r\n        final long divider,\r\n        final String unit){\r\n        final double result =\r\n            divider &gt; 1 ? (double) value / (double) divider : (double) value;\r\n        return new DecimalFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit;\r\n    }\r\n\r\n\r\nTest code:\r\n\r\n    public static void main(final String[] args){\r\n        final long[] l = new long[] { 1l, 4343l, 43434334l, 3563543743l };\r\n        for(final long ll : l){\r\n            System.out.println(convertToStringRepresentation(ll));\r\n        }\r\n    }\r\n\r\nOutput (on my German locale):\r\n\r\n```lang-none\r\n1 B\r\n4,2 KB\r\n41,4 MB\r\n3,3 GB\r\n```\r\n\r\n\r\n----------\r\n\r\nI have opened an [issue requesting this functionality for Google Guava][2]. Perhaps someone would care to support it.\r\n\r\n  [1]: https://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\r\n  [2]: http://code.google.com/p/guava-libraries/issues/detail?id=428\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I asked the same question recently:</p>\n<p><em><a href=\"https://stackoverflow.com/questions/3263892/format-file-size-as-mb-gb-etc\">Format file size as MB, GB, etc.</a></em></p>\n<p>While there is no out-of-the-box answer, I can live with the solution:</p>\n<pre><code>private static final long K = 1024;\nprivate static final long M = K * K;\nprivate static final long G = M * K;\nprivate static final long T = G * K;\n\npublic static String convertToStringRepresentation(final long value){\n    final long[] dividers = new long[] { T, G, M, K, 1 };\n    final String[] units = new String[] { &quot;TB&quot;, &quot;GB&quot;, &quot;MB&quot;, &quot;KB&quot;, &quot;B&quot; };\n    if(value &lt; 1)\n        throw new IllegalArgumentException(&quot;Invalid file size: &quot; + value);\n    String result = null;\n    for(int i = 0; i &lt; dividers.length; i++){\n        final long divider = dividers[i];\n        if(value &gt;= divider){\n            result = format(value, divider, units[i]);\n            break;\n        }\n    }\n    return result;\n}\n\nprivate static String format(final long value,\n    final long divider,\n    final String unit){\n    final double result =\n        divider &gt; 1 ? (double) value / (double) divider : (double) value;\n    return new DecimalFormat(&quot;#,##0.#&quot;).format(result) + &quot; &quot; + unit;\n}\n</code></pre>\n<p>Test code:</p>\n<pre><code>public static void main(final String[] args){\n    final long[] l = new long[] { 1l, 4343l, 43434334l, 3563543743l };\n    for(final long ll : l){\n        System.out.println(convertToStringRepresentation(ll));\n    }\n}\n</code></pre>\n<p>Output (on my German locale):</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 B\n4,2 KB\n41,4 MB\n3,3 GB\n</code></pre>\n<hr />\n<p>I have opened an <a href=\"http://code.google.com/p/guava-libraries/issues/detail?id=428\" rel=\"nofollow noreferrer\">issue requesting this functionality for Google Guava</a>. Perhaps someone would care to support it.</p>\n"},{"comments":[{"owner":{"account_id":138128,"reputation":294236,"user_id":342852,"accept_rate":97,"display_name":"Sean Patrick Floyd"},"score":1,"creation_date":1285079609,"post_id":3758880,"comment_id":3978752,"body_markdown":"The only thing I don&#39;t like about it is that 1.0 KB could be displayed prettier as 1 KB. (Which is why I use DecimalFormat in my answer)","body":"The only thing I don&#39;t like about it is that 1.0 KB could be displayed prettier as 1 KB. (Which is why I use DecimalFormat in my answer)"},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":14,"creation_date":1285080514,"post_id":3758880,"comment_id":3978983,"body_markdown":"I prefer 1.0 KB. Then it&#39;s clear how many significant figures the output entails. (This also seems to be the behavior of for instance the `du` command in Linux.)","body":"I prefer 1.0 KB. Then it&#39;s clear how many significant figures the output entails. (This also seems to be the behavior of for instance the <code>du</code> command in Linux.)"},{"owner":{"account_id":1924594,"reputation":1793,"user_id":1735347,"accept_rate":40,"display_name":"Borys"},"score":28,"creation_date":1369316008,"post_id":3758880,"comment_id":24063833,"body_markdown":"I think every one should note that in your project customer want see values in base 2 (devided by 1024) but with common prefix. Not KiB, MiB, GiB etc. Use KB, MB, GB, TB for it.","body":"I think every one should note that in your project customer want see values in base 2 (devided by 1024) but with common prefix. Not KiB, MiB, GiB etc. Use KB, MB, GB, TB for it."},{"owner":{"account_id":3480522,"reputation":878,"user_id":2912715,"display_name":"duthen"},"score":6,"creation_date":1439469591,"post_id":3758880,"comment_id":51881349,"body_markdown":"@Mazyod For iOS developers, you can use [NSByteCountFormatter](https://developer.apple.com/library/ios/documentation/Foundation/Reference/NSByteCountFormatter_Class/index.html). \n\nFor example (in swift):\n\n`let bytes = 110592\nNSByteCountFormatter.stringFromByteCount(Int64(bytes), countStyle: NSByteCountFormatterCountStyle.File)`\nwould produce &quot;111 KB&quot;","body":"@Mazyod For iOS developers, you can use <a href=\"https://developer.apple.com/library/ios/documentation/Foundation/Reference/NSByteCountFormatter_Class/index.html\" rel=\"nofollow noreferrer\">NSByteCountFormatter</a>.   For example (in swift):  <code>let bytes = 110592 NSByteCountFormatter.stringFromByteCount(Int64(bytes), countStyle: NSByteCountFormatterCountStyle.File)</code> would produce &quot;111 KB&quot;"},{"owner":{"account_id":4888356,"reputation":2983,"user_id":3940133,"accept_rate":100,"display_name":"HendraWD"},"score":0,"creation_date":1528715297,"post_id":3758880,"comment_id":88598509,"body_markdown":"For android developers, you can use https://stackoverflow.com/a/26502430/3940133 instead","body":"For android developers, you can use <a href=\"https://stackoverflow.com/a/26502430/3940133\">stackoverflow.com/a/26502430/3940133</a> instead"},{"owner":{"account_id":8444837,"reputation":707,"user_id":6335914,"display_name":"Bo Lu"},"score":1,"creation_date":1572435511,"post_id":3758880,"comment_id":103556714,"body_markdown":"Probably better to use locale-wise &quot;String.format&quot;, e.g. String.format(Locale.US, &quot;%.1f %sB&quot;, bytes / Math.pow(unit, exp), pre)","body":"Probably better to use locale-wise &quot;String.format&quot;, e.g. String.format(Locale.US, &quot;%.1f %sB&quot;, bytes / Math.pow(unit, exp), pre)"},{"owner":{"account_id":2828469,"reputation":1888,"user_id":2430555,"accept_rate":52,"display_name":"Pedro Paulo Amorim"},"score":0,"creation_date":1575657897,"post_id":3758880,"comment_id":104652929,"body_markdown":"Swift version for humanReadableByteCountSI: https://stackoverflow.com/a/59218639/2430555","body":"Swift version for humanReadableByteCountSI: <a href=\"https://stackoverflow.com/a/59218639/2430555\">stackoverflow.com/a/59218639/2430555</a>"},{"owner":{"account_id":434721,"reputation":10478,"user_id":1414809,"accept_rate":100,"display_name":"Ebrahim Byagowi"},"score":0,"creation_date":1575804603,"post_id":3758880,"comment_id":104681825,"body_markdown":"The answer based on the updated code here but in Kotlin https://stackoverflow.com/a/59234917","body":"The answer based on the updated code here but in Kotlin <a href=\"https://stackoverflow.com/a/59234917\">stackoverflow.com/a/59234917</a>"}],"tags":[],"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"comment_count":8,"down_vote_count":4,"up_vote_count":1497,"is_accepted":true,"score":1493,"last_activity_date":1661812391,"creation_date":1285060941,"answer_id":3758880,"question_id":3758606,"body_markdown":"&gt; **Fun fact:** The original snippet posted here was the most copied Java snippet of all time on Stack Overflow, and it was flawed. It was fixed, but it got messy.\r\n&gt;\r\n&gt; Full story in this article: [The most copied Stack Overflow snippet of all time is flawed!][1]\r\n\r\nSource: [Formatting byte size to human readable format | Programming.Guide][2]\r\n\r\n# SI (1 k = 1,000)\r\n\r\n    public static String humanReadableByteCountSI(long bytes) {\r\n        if (-1000 &lt; bytes &amp;&amp; bytes &lt; 1000) {\r\n            return bytes + &quot; B&quot;;\r\n        }\r\n        CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\r\n        while (bytes &lt;= -999_950 || bytes &gt;= 999_950) {\r\n            bytes /= 1000;\r\n            ci.next();\r\n        }\r\n        return String.format(&quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\r\n    }\r\n\r\n\r\n# Binary (1 Ki = 1,024)\r\n\r\n    public static String humanReadableByteCountBin(long bytes) {\r\n        long absB = bytes == Long.MIN_VALUE ? Long.MAX_VALUE : Math.abs(bytes);\r\n        if (absB &lt; 1024) {\r\n            return bytes + &quot; B&quot;;\r\n        }\r\n        long value = absB;\r\n        CharacterIterator ci = new StringCharacterIterator(&quot;KMGTPE&quot;);\r\n        for (int i = 40; i &gt;= 0 &amp;&amp; absB &gt; 0xfffccccccccccccL &gt;&gt; i; i -= 10) {\r\n            value &gt;&gt;= 10;\r\n            ci.next();\r\n        }\r\n        value *= Long.signum(bytes);\r\n        return String.format(&quot;%.1f %ciB&quot;, value / 1024.0, ci.current());\r\n    }\r\n\r\n# Example output:\r\n\r\n ```lang-none\r\n                              SI     BINARY\r\n\r\n                   0:        0 B        0 B\r\n                  27:       27 B       27 B\r\n                 999:      999 B      999 B\r\n                1000:     1.0 kB     1000 B\r\n                1023:     1.0 kB     1023 B\r\n                1024:     1.0 kB    1.0 KiB\r\n                1728:     1.7 kB    1.7 KiB\r\n              110592:   110.6 kB  108.0 KiB\r\n             7077888:     7.1 MB    6.8 MiB\r\n           452984832:   453.0 MB  432.0 MiB\r\n         28991029248:    29.0 GB   27.0 GiB\r\n       1855425871872:     1.9 TB    1.7 TiB\r\n 9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)\r\n ```\r\n\r\n  [1]: https://programming.guide/worlds-most-copied-so-snippet.html\r\n  [2]: http://programming.guide/java/formatting-byte-size-to-human-readable-format.html\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<blockquote>\n<p><strong>Fun fact:</strong> The original snippet posted here was the most copied Java snippet of all time on Stack Overflow, and it was flawed. It was fixed, but it got messy.</p>\n<p>Full story in this article: <a href=\"https://programming.guide/worlds-most-copied-so-snippet.html\" rel=\"noreferrer\">The most copied Stack Overflow snippet of all time is flawed!</a></p>\n</blockquote>\n<p>Source: <a href=\"http://programming.guide/java/formatting-byte-size-to-human-readable-format.html\" rel=\"noreferrer\">Formatting byte size to human readable format | Programming.Guide</a></p>\n<h1>SI (1 k = 1,000)</h1>\n<pre><code>public static String humanReadableByteCountSI(long bytes) {\n    if (-1000 &lt; bytes &amp;&amp; bytes &lt; 1000) {\n        return bytes + &quot; B&quot;;\n    }\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\n    while (bytes &lt;= -999_950 || bytes &gt;= 999_950) {\n        bytes /= 1000;\n        ci.next();\n    }\n    return String.format(&quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\n}\n</code></pre>\n<h1>Binary (1 Ki = 1,024)</h1>\n<pre><code>public static String humanReadableByteCountBin(long bytes) {\n    long absB = bytes == Long.MIN_VALUE ? Long.MAX_VALUE : Math.abs(bytes);\n    if (absB &lt; 1024) {\n        return bytes + &quot; B&quot;;\n    }\n    long value = absB;\n    CharacterIterator ci = new StringCharacterIterator(&quot;KMGTPE&quot;);\n    for (int i = 40; i &gt;= 0 &amp;&amp; absB &gt; 0xfffccccccccccccL &gt;&gt; i; i -= 10) {\n        value &gt;&gt;= 10;\n        ci.next();\n    }\n    value *= Long.signum(bytes);\n    return String.format(&quot;%.1f %ciB&quot;, value / 1024.0, ci.current());\n}\n</code></pre>\n<h1>Example output:</h1>\n<pre class=\"lang-none prettyprint-override\"><code>                             SI     BINARY\n\n                  0:        0 B        0 B\n                 27:       27 B       27 B\n                999:      999 B      999 B\n               1000:     1.0 kB     1000 B\n               1023:     1.0 kB     1023 B\n               1024:     1.0 kB    1.0 KiB\n               1728:     1.7 kB    1.7 KiB\n             110592:   110.6 kB  108.0 KiB\n            7077888:     7.1 MB    6.8 MiB\n          452984832:   453.0 MB  432.0 MiB\n        28991029248:    29.0 GB   27.0 GiB\n      1855425871872:     1.9 TB    1.7 TiB\n9223372036854775807:     9.2 EB    8.0 EiB   (Long.MAX_VALUE)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":63520,"reputation":5139,"user_id":187996,"accept_rate":65,"display_name":"Iravanchi"},"score":22,"creation_date":1341837070,"post_id":4888400,"comment_id":15022048,"body_markdown":"I already have commons-io on my project, but ended up using aioobe&#39;s code, because of the rounding behavior (see the link for JavaDoc)","body":"I already have commons-io on my project, but ended up using aioobe&#39;s code, because of the rounding behavior (see the link for JavaDoc)"},{"owner":{"account_id":1673966,"reputation":3112,"user_id":1539858,"accept_rate":72,"display_name":"arunmoezhi"},"score":3,"creation_date":1435172558,"post_id":4888400,"comment_id":50094095,"body_markdown":"is there a utility to do the reverse operation. Getting byte count from human readable byte count?","body":"is there a utility to do the reverse operation. Getting byte count from human readable byte count?"},{"owner":{"account_id":877717,"reputation":383,"user_id":1026164,"display_name":"Tacroy"},"score":7,"creation_date":1450365973,"post_id":4888400,"comment_id":56417656,"body_markdown":"Unfortunately this function is not locale-aware; in French, for example, they always call bytes &quot;octets&quot; so if you&#39;re going to display a 100 KB file to a French user the correct label would be 100 Ko.","body":"Unfortunately this function is not locale-aware; in French, for example, they always call bytes &quot;octets&quot; so if you&#39;re going to display a 100 KB file to a French user the correct label would be 100 Ko."},{"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"score":0,"creation_date":1483623549,"post_id":4888400,"comment_id":70178058,"body_markdown":"@Tacroy You can get octets output with the UnitFormatter in the triava library. You can pass any unit for bytes, Watts or octets. Example, slightly modified from the examples in https://github.com/trivago/triava:\n\n    UnitFormatter.formatAsUnit(1126, UnitSystem.SI, &quot;o&quot;);\n    // = &quot;1.13 ko&quot;\n\nMore examples in:\nhttp://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338","body":"@Tacroy You can get octets output with the UnitFormatter in the triava library. You can pass any unit for bytes, Watts or octets. Example, slightly modified from the examples in <a href=\"https://github.com/trivago/triava\" rel=\"nofollow noreferrer\">github.com/trivago/triava</a>:      UnitFormatter.formatAsUnit(1126, UnitSystem.SI, &quot;o&quot;);     // = &quot;1.13 ko&quot;  More examples in: <a href=\"http://stackoverflow.com/questions/3758606/how-to-convert-byte-size-into-human-readable-format-in-java/38390338#38390338\" title=\"how to convert byte size into human readable format in java\">stackoverflow.com/questions/3758606/&hellip;</a>"},{"owner":{"account_id":1934104,"reputation":2962,"user_id":1742799,"accept_rate":50,"display_name":"tksfz"},"score":7,"creation_date":1508262923,"post_id":4888400,"comment_id":80539252,"body_markdown":"this rounds to the nearest gb when &gt; 1 gb, which means that the precision you get out of it varies","body":"this rounds to the nearest gb when &gt; 1 gb, which means that the precision you get out of it varies"},{"owner":{"account_id":3041416,"reputation":236,"user_id":2578331,"display_name":"Thiengo"},"score":0,"creation_date":1656712940,"post_id":4888400,"comment_id":128647339,"body_markdown":"For anyone using the Zendesk Util APIs (`com.zendesk.util`), then you should have the following API as an option: `FileUtils.humanReadableFileSize(bytesSize)`.","body":"For anyone using the Zendesk Util APIs (<code>com.zendesk.util</code>), then you should have the following API as an option: <code>FileUtils.humanReadableFileSize(bytesSize)</code>."},{"owner":{"account_id":320962,"reputation":31681,"user_id":639520,"accept_rate":72,"display_name":"E-Riz"},"score":0,"creation_date":1699320995,"post_id":4888400,"comment_id":136514431,"body_markdown":"Just to be clear for future readers - this method from Apache Commons IO is FUNDAMENTALLY FLAWED and they are not going to change it. It always _rounds down_ and does not include fractional/decimal portions - meaning a size of 1.99 GB will produce a value of &quot;1 GB&quot;","body":"Just to be clear for future readers - this method from Apache Commons IO is FUNDAMENTALLY FLAWED and they are not going to change it. It always <i>rounds down</i> and does not include fractional/decimal portions - meaning a size of 1.99 GB will produce a value of &quot;1 GB&quot;"}],"tags":[],"owner":{"account_id":296692,"reputation":3827,"user_id":601806,"display_name":"user601806"},"comment_count":7,"down_vote_count":2,"up_vote_count":383,"is_accepted":false,"score":381,"last_activity_date":1465306055,"creation_date":1296748636,"answer_id":4888400,"question_id":3758606,"body_markdown":"`FileUtils.byteCountToDisplaySize(long size)` would work if your project can depend on `org.apache.commons.io`.\r\n\r\n[JavaDoc for this method](https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#byteCountToDisplaySize(long))","title":"How can I convert byte size into a human-readable format in Java?","body":"<p><code>FileUtils.byteCountToDisplaySize(long size)</code> would work if your project can depend on <code>org.apache.commons.io</code>.</p>\n\n<p><a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-2.4/org/apache/commons/io/FileUtils.html#byteCountToDisplaySize(long)\" rel=\"noreferrer\">JavaDoc for this method</a></p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1661812863,"post_id":6046761,"comment_id":129856220,"body_markdown":"This uses a loop as it should, instead of the gross copy-paste reuse in many other answers. However, it is missing an explanation. Does it work?","body":"This uses a loop as it should, instead of the gross copy-paste reuse in many other answers. However, it is missing an explanation. Does it work?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1661813031,"post_id":6046761,"comment_id":129856251,"body_markdown":"Is the magic number &quot;6&quot; necessary? Isn&#39;t it related to the length of `Q`?","body":"Is the magic number &quot;6&quot; necessary? Isn&#39;t it related to the length of <code>Q</code>?"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1697665909,"post_id":6046761,"comment_id":136310177,"body_markdown":"OK, the OP has [left the building](https://www.explainxkcd.com/wiki/index.php/979:_Wisdom_of_the_Ancients): *&quot;Last seen more than 6 years ago&quot;*","body":"OK, the OP has <a href=\"https://www.explainxkcd.com/wiki/index.php/979:_Wisdom_of_the_Ancients\" rel=\"nofollow noreferrer\">left the building</a>: <i>&quot;Last seen more than 6 years ago&quot;</i>"}],"tags":[],"owner":{"account_id":195831,"reputation":1001,"user_id":438960,"accept_rate":100,"display_name":"Lars Bohl"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1305730415,"creation_date":1305730415,"answer_id":6046761,"question_id":3758606,"body_markdown":"&lt;pre&gt;&lt;code&gt;\r\nprivate static final String[] Q = new String[]{&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;};\r\n\r\npublic String getAsString(long bytes)\r\n{\r\n\tfor (int i = 6; i &gt; 0; i--)\r\n\t{\r\n\t\tdouble step = Math.pow(1024, i);\r\n\t\tif (bytes &gt; step) return String.format(&quot;%3.1f %s&quot;, bytes / step, Q[i]);\r\n\t}\r\n\treturn Long.toString(bytes);\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>\nprivate static final String[] Q = new String[]{\"\", \"K\", \"M\", \"G\", \"T\", \"P\", \"E\"};\n\npublic String getAsString(long bytes)\n{\n    for (int i = 6; i > 0; i--)\n    {\n        double step = Math.pow(1024, i);\n        if (bytes > step) return String.format(\"%3.1f %s\", bytes / step, Q[i]);\n    }\n    return Long.toString(bytes);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4954794,"reputation":360,"user_id":3987745,"display_name":"Edward Quixote"},"score":2,"creation_date":1578738396,"post_id":22933591,"comment_id":105542463,"body_markdown":"This answer, while it works, is a complement to a previous answer in this thread by @user601806: https://stackoverflow.com/a/4888400/3987745\nFor this answer to work, you need Apache Commons IO (http://commons.apache.org/proper/commons-io/) dependency.","body":"This answer, while it works, is a complement to a previous answer in this thread by @user601806: <a href=\"https://stackoverflow.com/a/4888400/3987745\">stackoverflow.com/a/4888400/3987745</a> For this answer to work, you need Apache Commons IO (<a href=\"http://commons.apache.org/proper/commons-io/\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-io</a>) dependency."}],"tags":[],"owner":{"account_id":4295113,"reputation":191,"user_id":3510382,"display_name":"Mano Chella"},"comment_count":1,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1396952116,"creation_date":1396951061,"answer_id":22933591,"question_id":3758606,"body_markdown":"    filename=filedilg.getSelectedFile().getAbsolutePath();\r\n    File file=new File(filename);\r\n\r\n    String disp=FileUtils.byteCountToDisplaySize(file.length());\r\n    System.out.println(&quot;THE FILE PATH IS &quot;+file+&quot;THIS File SIZE IS IN MB &quot;+disp);","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>filename=filedilg.getSelectedFile().getAbsolutePath();\nFile file=new File(filename);\n\nString disp=FileUtils.byteCountToDisplaySize(file.length());\nSystem.out.println(\"THE FILE PATH IS \"+file+\"THIS File SIZE IS IN MB \"+disp);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":968773,"reputation":9034,"user_id":991737,"accept_rate":94,"display_name":"XXX"},"comment_count":0,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1397057213,"creation_date":1397057213,"answer_id":22967188,"question_id":3758606,"body_markdown":"        public static String floatForm (double d)\r\n    \t{\r\n    \t   return new DecimalFormat(&quot;#.##&quot;).format(d);\r\n    \t}\r\n    \r\n    \r\n        public static String bytesToHuman (long size)\r\n    \t{\r\n    \t\tlong Kb = 1  * 1024;\r\n    \t\tlong Mb = Kb * 1024;\r\n    \t\tlong Gb = Mb * 1024;\r\n    \t\tlong Tb = Gb * 1024;\r\n    \t\tlong Pb = Tb * 1024;\r\n    \t\tlong Eb = Pb * 1024;\r\n    \t\t\r\n    \t\tif (size &lt;  Kb) \t\t\t\treturn floatForm(        size     )\t+ &quot; byte&quot;;\r\n    \t\tif (size &gt;= Kb &amp;&amp; size &lt; Mb)\treturn floatForm((double)size / Kb)\t+ &quot; Kb&quot;;\r\n    \t\tif (size &gt;= Mb &amp;&amp; size &lt; Gb)\treturn floatForm((double)size / Mb)\t+ &quot; Mb&quot;;\r\n    \t\tif (size &gt;= Gb &amp;&amp; size &lt; Tb)\treturn floatForm((double)size / Gb)\t+ &quot; Gb&quot;;\r\n    \t\tif (size &gt;= Tb &amp;&amp; size &lt; Pb)\treturn floatForm((double)size / Tb)\t+ &quot; Tb&quot;;\r\n    \t\tif (size &gt;= Pb &amp;&amp; size &lt; Eb)\treturn floatForm((double)size / Pb)\t+ &quot; Pb&quot;;\r\n    \t\tif (size &gt;= Eb)\t\t\t\t\treturn floatForm((double)size / Eb)\t+ &quot; Eb&quot;;\r\n    \t\t\r\n    \t\treturn &quot;???&quot;;\r\n    \t}","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>    public static String floatForm (double d)\n    {\n       return new DecimalFormat(\"#.##\").format(d);\n    }\n\n\n    public static String bytesToHuman (long size)\n    {\n        long Kb = 1  * 1024;\n        long Mb = Kb * 1024;\n        long Gb = Mb * 1024;\n        long Tb = Gb * 1024;\n        long Pb = Tb * 1024;\n        long Eb = Pb * 1024;\n\n        if (size &lt;  Kb)                 return floatForm(        size     ) + \" byte\";\n        if (size &gt;= Kb &amp;&amp; size &lt; Mb)    return floatForm((double)size / Kb) + \" Kb\";\n        if (size &gt;= Mb &amp;&amp; size &lt; Gb)    return floatForm((double)size / Mb) + \" Mb\";\n        if (size &gt;= Gb &amp;&amp; size &lt; Tb)    return floatForm((double)size / Gb) + \" Gb\";\n        if (size &gt;= Tb &amp;&amp; size &lt; Pb)    return floatForm((double)size / Tb) + \" Tb\";\n        if (size &gt;= Pb &amp;&amp; size &lt; Eb)    return floatForm((double)size / Pb) + \" Pb\";\n        if (size &gt;= Eb)                 return floatForm((double)size / Eb) + \" Eb\";\n\n        return \"???\";\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1399291359,"post_id":23442686,"comment_id":35986243,"body_markdown":"You seem to have an off-by-one error in your for-loop. I think it should be `unitsCount` and not `unitsCount-1`.","body":"You seem to have an off-by-one error in your for-loop. I think it should be <code>unitsCount</code> and not <code>unitsCount-1</code>."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1399293026,"post_id":23442686,"comment_id":35987260,"body_markdown":"@aioobe but this means the loop can stop when i==unitsCount, which means i==6, which means &quot;charAt&quot; will fail...","body":"@aioobe but this means the loop can stop when i==unitsCount, which means i==6, which means &quot;charAt&quot; will fail..."},{"owner":{"account_id":102965,"reputation":415240,"user_id":276052,"accept_rate":80,"display_name":"aioobe"},"score":0,"creation_date":1399294453,"post_id":23442686,"comment_id":35988147,"body_markdown":"`if(result&lt;unit) break;` will kick in before that. No worries. (If you test it, you&#39;ll notice that you can skip the for-loop condition entirely.)","body":"<code>if(result&lt;unit) break;</code> will kick in before that. No worries. (If you test it, you&#39;ll notice that you can skip the for-loop condition entirely.)"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1399297147,"post_id":23442686,"comment_id":35989855,"body_markdown":"@aioobe Correct, that&#39;s because of the assumption (which is correct) that I handle &quot;long&quot; variable type. Also, it&#39;s based on the assumption that the units will be at least what I&#39;ve written. If you use less units, it will produce weird results (will prefer less-than-1 values, rather than larger-than-1000 values).","body":"@aioobe Correct, that&#39;s because of the assumption (which is correct) that I handle &quot;long&quot; variable type. Also, it&#39;s based on the assumption that the units will be at least what I&#39;ve written. If you use less units, it will produce weird results (will prefer less-than-1 values, rather than larger-than-1000 values)."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1399377007,"post_id":23442686,"comment_id":36026731,"body_markdown":"@aioobe Correct. I will fix it. BTW, your algorithm can also provide a weird result. try giving it &quot;999999,true&quot; as the arguments. it will show &quot;1000.0 kB&quot; , so it&#39;s rounded, but when people see it, they can wonder: why can&#39;t it show 1MB , as 1000KB=1MB ... How do you think this should be handled? It&#39;s because of the String.format, but I&#39;m not sure how it should be fixed.","body":"@aioobe Correct. I will fix it. BTW, your algorithm can also provide a weird result. try giving it &quot;999999,true&quot; as the arguments. it will show &quot;1000.0 kB&quot; , so it&#39;s rounded, but when people see it, they can wonder: why can&#39;t it show 1MB , as 1000KB=1MB ... How do you think this should be handled? It&#39;s because of the String.format, but I&#39;m not sure how it should be fixed."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1399377136,"post_id":23442686,"comment_id":36026821,"body_markdown":"@aioobe Maybe using this could help: http://stackoverflow.com/questions/1305827/prevent-round-off-in-string-format-2f-doublevalue-in-java ?","body":"@aioobe Maybe using this could help: <a href=\"http://stackoverflow.com/questions/1305827/prevent-round-off-in-string-format-2f-doublevalue-in-java\" title=\"prevent round off in string format 2f doublevalue in java\">stackoverflow.com/questions/1305827/&hellip;</a> ?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1407193816,"post_id":23442686,"comment_id":39112715,"body_markdown":"@aioobe I&#39;ve also added a short way to do it in case you use Android.","body":"@aioobe I&#39;ve also added a short way to do it in case you use Android."},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1646077981,"post_id":23442686,"comment_id":126031126,"body_markdown":"@aioobe It seems this solution doesn&#39;t work for values that are too large, as Double can&#39;t handle those. I think that &quot;E&quot; unit is problematic (I use the 10224 bytes-per-kilo). Till then, I think it works fine. If you send it `Long.MAX_VALUE`, it won&#39;t show the correct value. What do you think?","body":"@aioobe It seems this solution doesn&#39;t work for values that are too large, as Double can&#39;t handle those. I think that &quot;E&quot; unit is problematic (I use the 10224 bytes-per-kilo). Till then, I think it works fine. If you send it <code>Long.MAX_VALUE</code>, it won&#39;t show the correct value. What do you think?"},{"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"score":0,"creation_date":1646510627,"post_id":23442686,"comment_id":126143023,"body_markdown":"OK I&#39;ve fixed it and I&#39;ve updated my answer","body":"OK I&#39;ve fixed it and I&#39;ve updated my answer"}],"tags":[],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":9,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1658160688,"creation_date":1399109911,"answer_id":23442686,"question_id":3758606,"body_markdown":"If you use Android, you can simply use [android.text.format.Formatter.formatFileSize()][1]. The advantage is that it&#39;s easy to use it, and it depends on the locale to show it nicely for the user. The disadvantage is that it doesn&#39;t handle EB, and that it&#39;s only used for the metric units (each Kilo is 1000 bytes, without the ability to use it as 1024 bytes).\r\n\r\nAlternatively, here&#39;s a solution based on [**this popular post**][2]:\r\n\r\n```kt\r\n\r\ninterface BytesFormatter {\r\n    /**called when the type of the result to format is Long. Example: 123KB\r\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\r\n     * available units and their order: B,K,M,G,T,P,E\r\n     * @param isMetric true if each kilo==1000, false if kilo==1024\r\n     * */\r\n    fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String\r\n\r\n    /**called when the type of the result to format is Double. Example: 1.23KB\r\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\r\n     * available units and their order: B,K,M,G,T,P,E\r\n     * @param isMetric true if each kilo==1000, false if kilo==1024\r\n     * */\r\n    fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String\r\n}\r\n\r\n/**\r\n * formats the bytes to a human readable format, by providing the values to format later in the unit that we&#39;ve found best to fit it\r\n *\r\n * @param isMetric true if each kilo==1000, false if kilo==1024\r\n * */\r\nfun bytesIntoHumanReadable(\r\n    @IntRange(from = 0L) bytesToFormat: Long, bytesFormatter: BytesFormatter,\r\n    isMetric: Boolean = true\r\n): String {\r\n    val units = if (isMetric) 1000L else 1024L\r\n    if (bytesToFormat &lt; units)\r\n        return bytesFormatter.onFormatLong(bytesToFormat, 0, isMetric)\r\n    var bytesLeft = bytesToFormat\r\n    var unitPowerIndex = 0\r\n    while (unitPowerIndex &lt; 6) {\r\n        val newBytesLeft = bytesLeft / units\r\n        if (newBytesLeft &lt; units) {\r\n            val byteLeftAsDouble = bytesLeft.toDouble() / units\r\n            val needToShowAsInteger =\r\n                byteLeftAsDouble == (bytesLeft / units).toDouble()\r\n            ++unitPowerIndex\r\n            if (needToShowAsInteger) {\r\n                bytesLeft = newBytesLeft\r\n                break\r\n            }\r\n            return bytesFormatter.onFormatDouble(byteLeftAsDouble, unitPowerIndex, isMetric)\r\n        }\r\n        bytesLeft = newBytesLeft\r\n        ++unitPowerIndex\r\n    }\r\n    return bytesFormatter.onFormatLong(bytesLeft, unitPowerIndex, isMetric)\r\n}\r\n\r\nSample usage:\r\n\r\n// val valueToTest = 2_000L\r\n// val valueToTest = 2_000_000L\r\n// val valueToTest = 2_000_000_000L\r\n// val valueToTest = 9_000_000_000_000_000_000L\r\n// val valueToTest = 9_200_000_000_000_000_000L\r\nval bytesToFormat = Random.nextLong(Long.MAX_VALUE)\r\nval bytesFormatter = object : BytesFormatter {\r\n    val numberFormat = NumberFormat.getNumberInstance(Locale.ROOT).also {\r\n        it.maximumFractionDigits = 2\r\n        it.minimumFractionDigits = 0\r\n    }\r\n\r\n    private fun formatByUnit(formattedNumber: String, threePowerIndex: Int, isMetric: Boolean): String {\r\n        val sb = StringBuilder(formattedNumber.length + 4)\r\n        sb.append(formattedNumber)\r\n        val unitsToUse = &quot;B${if (isMetric) &quot;k&quot; else &quot;K&quot;}MGTPE&quot;\r\n        sb.append(unitsToUse[threePowerIndex])\r\n        if (threePowerIndex &gt; 0)\r\n            if (isMetric) sb.append(&#39;B&#39;) else sb.append(&quot;iB&quot;)\r\n        return sb.toString()\r\n    }\r\n\r\n    override fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String {\r\n        return formatByUnit(String.format(&quot;%,d&quot;, valueToFormat), unitPowerIndex, isMetric)\r\n    }\r\n\r\n    override fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String {\r\n        //alternative for using numberFormat :\r\n        //val formattedNumber = String.format(&quot;%,.2f&quot;, valueToFormat).let { initialFormattedString -&gt;\r\n        //    if (initialFormattedString.contains(&#39;.&#39;))\r\n        //        return@let initialFormattedString.dropLastWhile { it == &#39;0&#39; }\r\n        //    else return@let initialFormattedString\r\n        //}\r\n        return formatByUnit(numberFormat.format(valueToFormat), unitPowerIndex, isMetric)\r\n    }\r\n}\r\nLog.d(&quot;AppLog&quot;, &quot;formatting of $bytesToFormat bytes (${String.format(&quot;%,d&quot;, bytesToFormat)})&quot;)\r\nLog.d(&quot;AppLog&quot;, bytesIntoHumanReadable(bytesToFormat, bytesFormatter))\r\nLog.d(&quot;AppLog&quot;, &quot;Android:${android.text.format.Formatter.formatFileSize(this, bytesToFormat)}&quot;)\r\n\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/text/format/Formatter.html#formatFileSize(android.content.Context,%20long)\r\n  [2]: https://stackoverflow.com/a/3758880/878126\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>If you use Android, you can simply use <a href=\"http://developer.android.com/reference/android/text/format/Formatter.html#formatFileSize(android.content.Context,%20long)\" rel=\"nofollow noreferrer\">android.text.format.Formatter.formatFileSize()</a>. The advantage is that it's easy to use it, and it depends on the locale to show it nicely for the user. The disadvantage is that it doesn't handle EB, and that it's only used for the metric units (each Kilo is 1000 bytes, without the ability to use it as 1024 bytes).</p>\n<p>Alternatively, here's a solution based on <a href=\"https://stackoverflow.com/a/3758880/878126\"><strong>this popular post</strong></a>:</p>\n<pre><code>\ninterface BytesFormatter {\n    /**called when the type of the result to format is Long. Example: 123KB\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\n     * available units and their order: B,K,M,G,T,P,E\n     * @param isMetric true if each kilo==1000, false if kilo==1024\n     * */\n    fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String\n\n    /**called when the type of the result to format is Double. Example: 1.23KB\n     * @param unitPowerIndex the unit-power we need to format to. Examples: 0 is bytes, 1 is kb, 2 is mb, etc...\n     * available units and their order: B,K,M,G,T,P,E\n     * @param isMetric true if each kilo==1000, false if kilo==1024\n     * */\n    fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String\n}\n\n/**\n * formats the bytes to a human readable format, by providing the values to format later in the unit that we've found best to fit it\n *\n * @param isMetric true if each kilo==1000, false if kilo==1024\n * */\nfun bytesIntoHumanReadable(\n    @IntRange(from = 0L) bytesToFormat: Long, bytesFormatter: BytesFormatter,\n    isMetric: Boolean = true\n): String {\n    val units = if (isMetric) 1000L else 1024L\n    if (bytesToFormat &lt; units)\n        return bytesFormatter.onFormatLong(bytesToFormat, 0, isMetric)\n    var bytesLeft = bytesToFormat\n    var unitPowerIndex = 0\n    while (unitPowerIndex &lt; 6) {\n        val newBytesLeft = bytesLeft / units\n        if (newBytesLeft &lt; units) {\n            val byteLeftAsDouble = bytesLeft.toDouble() / units\n            val needToShowAsInteger =\n                byteLeftAsDouble == (bytesLeft / units).toDouble()\n            ++unitPowerIndex\n            if (needToShowAsInteger) {\n                bytesLeft = newBytesLeft\n                break\n            }\n            return bytesFormatter.onFormatDouble(byteLeftAsDouble, unitPowerIndex, isMetric)\n        }\n        bytesLeft = newBytesLeft\n        ++unitPowerIndex\n    }\n    return bytesFormatter.onFormatLong(bytesLeft, unitPowerIndex, isMetric)\n}\n\nSample usage:\n\n// val valueToTest = 2_000L\n// val valueToTest = 2_000_000L\n// val valueToTest = 2_000_000_000L\n// val valueToTest = 9_000_000_000_000_000_000L\n// val valueToTest = 9_200_000_000_000_000_000L\nval bytesToFormat = Random.nextLong(Long.MAX_VALUE)\nval bytesFormatter = object : BytesFormatter {\n    val numberFormat = NumberFormat.getNumberInstance(Locale.ROOT).also {\n        it.maximumFractionDigits = 2\n        it.minimumFractionDigits = 0\n    }\n\n    private fun formatByUnit(formattedNumber: String, threePowerIndex: Int, isMetric: Boolean): String {\n        val sb = StringBuilder(formattedNumber.length + 4)\n        sb.append(formattedNumber)\n        val unitsToUse = &quot;B${if (isMetric) &quot;k&quot; else &quot;K&quot;}MGTPE&quot;\n        sb.append(unitsToUse[threePowerIndex])\n        if (threePowerIndex &gt; 0)\n            if (isMetric) sb.append('B') else sb.append(&quot;iB&quot;)\n        return sb.toString()\n    }\n\n    override fun onFormatLong(valueToFormat: Long, unitPowerIndex: Int, isMetric: Boolean): String {\n        return formatByUnit(String.format(&quot;%,d&quot;, valueToFormat), unitPowerIndex, isMetric)\n    }\n\n    override fun onFormatDouble(valueToFormat: Double, unitPowerIndex: Int, isMetric: Boolean): String {\n        //alternative for using numberFormat :\n        //val formattedNumber = String.format(&quot;%,.2f&quot;, valueToFormat).let { initialFormattedString -&gt;\n        //    if (initialFormattedString.contains('.'))\n        //        return@let initialFormattedString.dropLastWhile { it == '0' }\n        //    else return@let initialFormattedString\n        //}\n        return formatByUnit(numberFormat.format(valueToFormat), unitPowerIndex, isMetric)\n    }\n}\nLog.d(&quot;AppLog&quot;, &quot;formatting of $bytesToFormat bytes (${String.format(&quot;%,d&quot;, bytesToFormat)})&quot;)\nLog.d(&quot;AppLog&quot;, bytesIntoHumanReadable(bytesToFormat, bytesFormatter))\nLog.d(&quot;AppLog&quot;, &quot;Android:${android.text.format.Formatter.formatFileSize(this, bytesToFormat)}&quot;)\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1673011885,"post_id":24805871,"comment_id":132407340,"body_markdown":"Note that instead of `(double)v / (1L &lt;&lt; (z*10))`, you can also use `Math.scalb(v, z * -10)`.","body":"Note that instead of <code>(double)v &#47; (1L &lt;&lt; (z*10))</code>, you can also use <code>Math.scalb(v, z * -10)</code>."},{"owner":{"account_id":6433784,"reputation":870,"user_id":4985984,"display_name":"Razi Kallayi"},"score":0,"creation_date":1676608144,"post_id":24805871,"comment_id":133175541,"body_markdown":"Receiving division by zero error in some case. I used coerceAtLeast(1) in denominator in kotlin","body":"Receiving division by zero error in some case. I used coerceAtLeast(1) in denominator in kotlin"}],"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":2,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1673011670,"creation_date":1405606092,"answer_id":24805871,"question_id":3758606,"body_markdown":"We can completely avoid using the slow `Math.pow()` and `Math.log()` methods without sacrificing simplicity since the factor between the units (for example, B, KB, MB, etc.) is 1024 which is 2^10. The `Long` class has a handy `numberOfLeadingZeros()` method which we can use to tell which unit the size value falls in.\r\n\r\n**Key point:** Size units have a distance of 10 bits (1024 = 2^10) meaning the position of the highest one bit–or in other words the *number of leading zeros*–differ by 10 (Bytes = KB\\*1024, KB = MB\\*1024, etc.).\r\n\r\n**Correlation between number of leading zeros and size unit:**\r\n\r\n\r\n|# of leading 0&#39;s |  Size unit  |\r\n|-----------------|-------------|\r\n|&gt;53              |  B (Bytes)  |\r\n|&gt;43              |  KB         |\r\n|&gt;33              |  MB         |\r\n|&gt;23              |  GB         |\r\n|&gt;13              |  TB         |\r\n|&gt;3               |  PB         |\r\n|&lt;=3              |  EB         |\r\n\r\n\r\n\r\n**The final code:**\r\n\r\n    public static String formatSize(long v) {\r\n        if (v &lt; 1024) return v + &quot; B&quot;;\r\n        int z = (63 - Long.numberOfLeadingZeros(v)) / 10;\r\n        return String.format(&quot;%.1f %sB&quot;, (double)v / (1L &lt;&lt; (z*10)), &quot; KMGTPE&quot;.charAt(z));\r\n    }\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>We can completely avoid using the slow <code>Math.pow()</code> and <code>Math.log()</code> methods without sacrificing simplicity since the factor between the units (for example, B, KB, MB, etc.) is 1024 which is 2^10. The <code>Long</code> class has a handy <code>numberOfLeadingZeros()</code> method which we can use to tell which unit the size value falls in.</p>\n<p><strong>Key point:</strong> Size units have a distance of 10 bits (1024 = 2^10) meaning the position of the highest one bit–or in other words the <em>number of leading zeros</em>–differ by 10 (Bytes = KB*1024, KB = MB*1024, etc.).</p>\n<p><strong>Correlation between number of leading zeros and size unit:</strong></p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th># of leading 0's</th>\n<th>Size unit</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>&gt;53</td>\n<td>B (Bytes)</td>\n</tr>\n<tr>\n<td>&gt;43</td>\n<td>KB</td>\n</tr>\n<tr>\n<td>&gt;33</td>\n<td>MB</td>\n</tr>\n<tr>\n<td>&gt;23</td>\n<td>GB</td>\n</tr>\n<tr>\n<td>&gt;13</td>\n<td>TB</td>\n</tr>\n<tr>\n<td>&gt;3</td>\n<td>PB</td>\n</tr>\n<tr>\n<td>&lt;=3</td>\n<td>EB</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p><strong>The final code:</strong></p>\n<pre><code>public static String formatSize(long v) {\n    if (v &lt; 1024) return v + &quot; B&quot;;\n    int z = (63 - Long.numberOfLeadingZeros(v)) / 10;\n    return String.format(&quot;%.1f %sB&quot;, (double)v / (1L &lt;&lt; (z*10)), &quot; KMGTPE&quot;.charAt(z));\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1597258540,"post_id":28046139,"comment_id":112077475,"body_markdown":"Why not one code block? At first glance, it appears as if there is a missing &quot;`}`.","body":"Why not one code block? At first glance, it appears as if there is a missing &quot;<code>}</code>."},{"owner":{"account_id":2444253,"reputation":465,"user_id":2132004,"display_name":"Vishwajit R. Shinde"},"score":0,"creation_date":1597346510,"post_id":28046139,"comment_id":112110703,"body_markdown":"@PeterMortensen, Thanks, for letting me know about it! It was typo, I have corrected it now.","body":"@PeterMortensen, Thanks, for letting me know about it! It was typo, I have corrected it now."}],"tags":[],"owner":{"account_id":2444253,"reputation":465,"user_id":2132004,"display_name":"Vishwajit R. Shinde"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597346418,"creation_date":1421759264,"answer_id":28046139,"question_id":3758606,"body_markdown":"    String[] fileSizeUnits = {&quot;bytes&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;};\r\n\r\n    public String calculateProperFileSize(double bytes){\r\n        String sizeToReturn = &quot;&quot;;\r\n        int index = 0;\r\n        for(index = 0; index &lt; fileSizeUnits.length; index++){\r\n            if(bytes &lt; 1024){\r\n                break;\r\n            }\r\n            bytes = bytes / 1024;\r\n        }\r\n\r\n        System.out.println(&quot;File size in proper format: &quot; + bytes + &quot; &quot; + fileSizeUnits[index]);\r\n        sizeToReturn = String.valueOf(bytes) + &quot; &quot; + fileSizeUnits[index];\r\n        return sizeToReturn;\r\n    }\r\n\r\n\r\n\r\nJust add more file units (if any missing), and you will see unit size up to that unit (if your file has that much length):\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>String[] fileSizeUnits = {&quot;bytes&quot;, &quot;KB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;};\n\npublic String calculateProperFileSize(double bytes){\n    String sizeToReturn = &quot;&quot;;\n    int index = 0;\n    for(index = 0; index &lt; fileSizeUnits.length; index++){\n        if(bytes &lt; 1024){\n            break;\n        }\n        bytes = bytes / 1024;\n    }\n\n    System.out.println(&quot;File size in proper format: &quot; + bytes + &quot; &quot; + fileSizeUnits[index]);\n    sizeToReturn = String.valueOf(bytes) + &quot; &quot; + fileSizeUnits[index];\n    return sizeToReturn;\n}\n</code></pre>\n<p>Just add more file units (if any missing), and you will see unit size up to that unit (if your file has that much length):</p>\n"},{"comments":[{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":0,"creation_date":1519752802,"post_id":30822306,"comment_id":85034060,"body_markdown":"I like this because it&#39;s easy to follow and easy to understand.","body":"I like this because it&#39;s easy to follow and easy to understand."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1597258903,"post_id":30822306,"comment_id":112077621,"body_markdown":"@Joshua Pinter: Yes, but there is also a lot of redundancy. It begs for a loop and a (static) list of strings.","body":"@Joshua Pinter: Yes, but there is also a lot of redundancy. It begs for a loop and a (static) list of strings."},{"owner":{"account_id":110909,"reputation":45713,"user_id":293280,"accept_rate":77,"display_name":"Joshua Pinter"},"score":2,"creation_date":1597260613,"post_id":30822306,"comment_id":112078324,"body_markdown":"You can always make things more &quot;efficient&quot; but at some point that can come at a cost of clarity to the human reader. I think this is a great trade off. Now, if you needed to support 2x or 3x the units (e.g. &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;), like some of the other answers, do, then I think DRYing things up would be a good approach. Thankfully, in our application we&#39;ll never go past &quot;GB&quot;, let alone &quot;TB&quot;.","body":"You can always make things more &quot;efficient&quot; but at some point that can come at a cost of clarity to the human reader. I think this is a great trade off. Now, if you needed to support 2x or 3x the units (e.g. &quot;PB&quot;, &quot;EB&quot;, &quot;ZB&quot;, &quot;YB&quot;), like some of the other answers, do, then I think DRYing things up would be a good approach. Thankfully, in our application we&#39;ll never go past &quot;GB&quot;, let alone &quot;TB&quot;."},{"owner":{"account_id":1629745,"reputation":18644,"user_id":1504556,"accept_rate":63,"display_name":"peterh"},"score":0,"creation_date":1667813264,"post_id":30822306,"comment_id":131248506,"body_markdown":"While this is probably quite fast, it doesn&#39;t produce decimal output. There is quite a lot of difference between a file of size 1.01 GB and a file of size 1.99 GB. Using this method they will both be displayed as `1 GB`.","body":"While this is probably quite fast, it doesn&#39;t produce decimal output. There is quite a lot of difference between a file of size 1.01 GB and a file of size 1.99 GB. Using this method they will both be displayed as <code>1 GB</code>."}],"tags":[],"owner":{"account_id":2012138,"reputation":1420,"user_id":1800333,"accept_rate":71,"display_name":"Sujith S Manjavana"},"comment_count":4,"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1597258803,"creation_date":1434221292,"answer_id":30822306,"question_id":3758606,"body_markdown":"    private String bytesIntoHumanReadable(long bytes) {\r\n        long kilobyte = 1024;\r\n        long megabyte = kilobyte * 1024;\r\n        long gigabyte = megabyte * 1024;\r\n        long terabyte = gigabyte * 1024;\r\n\r\n        if ((bytes &gt;= 0) &amp;&amp; (bytes &lt; kilobyte)) {\r\n            return bytes + &quot; B&quot;;\r\n\r\n        } else if ((bytes &gt;= kilobyte) &amp;&amp; (bytes &lt; megabyte)) {\r\n            return (bytes / kilobyte) + &quot; KB&quot;;\r\n\r\n        } else if ((bytes &gt;= megabyte) &amp;&amp; (bytes &lt; gigabyte)) {\r\n            return (bytes / megabyte) + &quot; MB&quot;;\r\n\r\n        } else if ((bytes &gt;= gigabyte) &amp;&amp; (bytes &lt; terabyte)) {\r\n            return (bytes / gigabyte) + &quot; GB&quot;;\r\n\r\n        } else if (bytes &gt;= terabyte) {\r\n            return (bytes / terabyte) + &quot; TB&quot;;\r\n\r\n        } else {\r\n            return bytes + &quot; Bytes&quot;;\r\n        }\r\n    }\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>private String bytesIntoHumanReadable(long bytes) {\n    long kilobyte = 1024;\n    long megabyte = kilobyte * 1024;\n    long gigabyte = megabyte * 1024;\n    long terabyte = gigabyte * 1024;\n\n    if ((bytes &gt;= 0) &amp;&amp; (bytes &lt; kilobyte)) {\n        return bytes + &quot; B&quot;;\n\n    } else if ((bytes &gt;= kilobyte) &amp;&amp; (bytes &lt; megabyte)) {\n        return (bytes / kilobyte) + &quot; KB&quot;;\n\n    } else if ((bytes &gt;= megabyte) &amp;&amp; (bytes &lt; gigabyte)) {\n        return (bytes / megabyte) + &quot; MB&quot;;\n\n    } else if ((bytes &gt;= gigabyte) &amp;&amp; (bytes &lt; terabyte)) {\n        return (bytes / gigabyte) + &quot; GB&quot;;\n\n    } else if (bytes &gt;= terabyte) {\n        return (bytes / terabyte) + &quot; TB&quot;;\n\n    } else {\n        return bytes + &quot; Bytes&quot;;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1971679,"reputation":3447,"user_id":1770430,"accept_rate":74,"display_name":"Nzall"},"score":1,"creation_date":1572338267,"post_id":33753118,"comment_id":103518845,"body_markdown":"It is a bit mixed results to pass along a Locale parameter just for the separator symbols, but then don&#39;t also localize the unit to account for languages that also use a different symbol for Bytes, like the French.","body":"It is a bit mixed results to pass along a Locale parameter just for the separator symbols, but then don&#39;t also localize the unit to account for languages that also use a different symbol for Bytes, like the French."},{"owner":{"account_id":68162,"reputation":7331,"user_id":199048,"accept_rate":90,"display_name":"Christian Strempfer"},"score":0,"creation_date":1572384821,"post_id":33753118,"comment_id":103541182,"body_markdown":"@Nzall Do you mean the octet? Wikipedia is stating it&#39;s no longer common. Else, do you have a reference?","body":"@Nzall Do you mean the octet? Wikipedia is stating it&#39;s no longer common. Else, do you have a reference?"},{"owner":{"account_id":1077854,"reputation":735,"user_id":1075613,"display_name":"user1075613"},"score":0,"creation_date":1628709139,"post_id":33753118,"comment_id":121496790,"body_markdown":"as a French I confirm &quot;octet&quot; is still very used; french people will expect &quot;Ko&quot;, &quot;Mo&quot;, &quot;Go&quot;, etc. Anyway i18n seems out of scope for OP. If you really need i18n you would probably have to use some properties files","body":"as a French I confirm &quot;octet&quot; is still very used; french people will expect &quot;Ko&quot;, &quot;Mo&quot;, &quot;Go&quot;, etc. Anyway i18n seems out of scope for OP. If you really need i18n you would probably have to use some properties files"}],"tags":[],"owner":{"account_id":68162,"reputation":7331,"user_id":199048,"accept_rate":90,"display_name":"Christian Strempfer"},"comment_count":3,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1447751886,"creation_date":1447751886,"answer_id":33753118,"question_id":3758606,"body_markdown":"This is a modified version of [aioobe&#39;s answer][1].\r\n\r\nChanges:\r\n\r\n - `Locale` parameter, because some languages use `.` and others `,` as decimal point.\r\n - human-readable code \r\n\r\n\r\n----------\r\n\r\n\r\n    private static final String[] SI_UNITS = { &quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;, &quot;PB&quot;, &quot;EB&quot; };\r\n    private static final String[] BINARY_UNITS = { &quot;B&quot;, &quot;KiB&quot;, &quot;MiB&quot;, &quot;GiB&quot;, &quot;TiB&quot;, &quot;PiB&quot;, &quot;EiB&quot; };\r\n\r\n    public static String humanReadableByteCount(final long bytes, final boolean useSIUnits, final Locale locale)\r\n    {\r\n        final String[] units = useSIUnits ? SI_UNITS : BINARY_UNITS;\r\n        final int base = useSIUnits ? 1000 : 1024;\r\n\r\n        // When using the smallest unit no decimal point is needed, because it&#39;s the exact number.\r\n        if (bytes &lt; base) {\r\n            return bytes + &quot; &quot; + units[0];\r\n        }\r\n\r\n        final int exponent = (int) (Math.log(bytes) / Math.log(base));\r\n        final String unit = units[exponent];\r\n        return String.format(locale, &quot;%.1f %s&quot;, bytes / Math.pow(base, exponent), unit);\r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/3758880/199048","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>This is a modified version of <a href=\"https://stackoverflow.com/a/3758880/199048\">aioobe's answer</a>.</p>\n\n<p>Changes:</p>\n\n<ul>\n<li><code>Locale</code> parameter, because some languages use <code>.</code> and others <code>,</code> as decimal point.</li>\n<li>human-readable code </li>\n</ul>\n\n<hr>\n\n<pre><code>private static final String[] SI_UNITS = { \"B\", \"kB\", \"MB\", \"GB\", \"TB\", \"PB\", \"EB\" };\nprivate static final String[] BINARY_UNITS = { \"B\", \"KiB\", \"MiB\", \"GiB\", \"TiB\", \"PiB\", \"EiB\" };\n\npublic static String humanReadableByteCount(final long bytes, final boolean useSIUnits, final Locale locale)\n{\n    final String[] units = useSIUnits ? SI_UNITS : BINARY_UNITS;\n    final int base = useSIUnits ? 1000 : 1024;\n\n    // When using the smallest unit no decimal point is needed, because it's the exact number.\n    if (bytes &lt; base) {\n        return bytes + \" \" + units[0];\n    }\n\n    final int exponent = (int) (Math.log(bytes) / Math.log(base));\n    final String unit = units[exponent];\n    return String.format(locale, \"%.1f %s\", bytes / Math.pow(base, exponent), unit);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7504951,"reputation":21,"user_id":5701801,"display_name":"Chan Fun Chiat"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1597259043,"creation_date":1459397655,"answer_id":36324030,"question_id":3758606,"body_markdown":"Here&#39;s the C# .NET equivalent for Java correct consensus answer above\r\n(there&#39;s another below which has shorter code):\r\n\r\n        public static String BytesNumberToHumanReadableString(long bytes, bool SI1000orBinary1024)\r\n        {\r\n            int unit = SI1000orBinary1024 ? 1000 : 1024;\r\n            if (bytes &lt; unit)\r\n                return bytes + &quot; B&quot;;\r\n\r\n            int exp = (int)(Math.Log(bytes) / Math.Log(unit));\r\n            String pre = (SI1000orBinary1024 ? &quot;kMGTPE&quot; : &quot;KMGTPE&quot;)[(exp - 1)] + (SI1000orBinary1024 ? &quot;&quot; : &quot;i&quot;);\r\n            return String.Format(&quot;{0:F1} {1}B&quot;, bytes / Math.Pow(unit, exp), pre);\r\n        }\r\n\r\nTechnically speaking, if we stick to SI units, this routine works for any regular use of numbers. There are many other good answers from experts. Suppose you are doing databinding of numbers on gridviews, it&#39;s worth to check out performance optimized routines from them.\r\n\r\nPS: This was posted because this question/answer came up on top on a Google search while I was doing a C# project.\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here's the C# .NET equivalent for Java correct consensus answer above\n(there's another below which has shorter code):</p>\n<pre><code>    public static String BytesNumberToHumanReadableString(long bytes, bool SI1000orBinary1024)\n    {\n        int unit = SI1000orBinary1024 ? 1000 : 1024;\n        if (bytes &lt; unit)\n            return bytes + &quot; B&quot;;\n\n        int exp = (int)(Math.Log(bytes) / Math.Log(unit));\n        String pre = (SI1000orBinary1024 ? &quot;kMGTPE&quot; : &quot;KMGTPE&quot;)[(exp - 1)] + (SI1000orBinary1024 ? &quot;&quot; : &quot;i&quot;);\n        return String.Format(&quot;{0:F1} {1}B&quot;, bytes / Math.Pow(unit, exp), pre);\n    }\n</code></pre>\n<p>Technically speaking, if we stick to SI units, this routine works for any regular use of numbers. There are many other good answers from experts. Suppose you are doing databinding of numbers on gridviews, it's worth to check out performance optimized routines from them.</p>\n<p>PS: This was posted because this question/answer came up on top on a Google search while I was doing a C# project.</p>\n"},{"tags":[],"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1468567860,"creation_date":1468567860,"answer_id":38390338,"question_id":3758606,"body_markdown":"There is now one library available that contains unit formatting. I added it to the [triava][1] library, as the only other existing library seems to be one for Android.\r\n\r\nIt can format numbers with arbitrary precision, in 3 different systems (SI, IEC, JEDEC) and various output options. Here are some code examples from the [triava unit tests][2]:\r\n\r\n    UnitFormatter.formatAsUnit(1126, UnitSystem.SI, &quot;B&quot;);\r\n    // = &quot;1.13kB&quot;\r\n    UnitFormatter.formatAsUnit(2094, UnitSystem.IEC, &quot;B&quot;);\r\n    // = &quot;2.04KiB&quot;\r\n\r\nPrinting exact kilo, mega values (here with W = Watt):\r\n\r\n    UnitFormatter.formatAsUnits(12_000_678, UnitSystem.SI, &quot;W&quot;, &quot;, &quot;);\r\n    // = &quot;12MW, 678W&quot;\r\n\r\nYou can pass a DecimalFormat to customize the output:\r\n\r\n    UnitFormatter.formatAsUnit(2085, UnitSystem.IEC, &quot;B&quot;, new DecimalFormat(&quot;0.0000&quot;));\r\n    // = &quot;2.0361KiB&quot;\r\n\r\nFor arbitrary operations on  kilo or mega values, you can split them into components:\r\n\r\n    UnitComponent uc = new  UnitComponent(123_345_567_789L, UnitSystem.SI);\r\n    int kilos = uc.kilo(); // 567\r\n    int gigas = uc.giga(); // 123\r\n\r\n\r\n  [1]: https://github.com/trivago/triava\r\n  [2]: https://github.com/trivago/triava/blob/master/src/test/java/com/trivago/triava/util/UnitToolsTest.java","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>There is now one library available that contains unit formatting. I added it to the <a href=\"https://github.com/trivago/triava\" rel=\"nofollow\">triava</a> library, as the only other existing library seems to be one for Android.</p>\n\n<p>It can format numbers with arbitrary precision, in 3 different systems (SI, IEC, JEDEC) and various output options. Here are some code examples from the <a href=\"https://github.com/trivago/triava/blob/master/src/test/java/com/trivago/triava/util/UnitToolsTest.java\" rel=\"nofollow\">triava unit tests</a>:</p>\n\n<pre><code>UnitFormatter.formatAsUnit(1126, UnitSystem.SI, \"B\");\n// = \"1.13kB\"\nUnitFormatter.formatAsUnit(2094, UnitSystem.IEC, \"B\");\n// = \"2.04KiB\"\n</code></pre>\n\n<p>Printing exact kilo, mega values (here with W = Watt):</p>\n\n<pre><code>UnitFormatter.formatAsUnits(12_000_678, UnitSystem.SI, \"W\", \", \");\n// = \"12MW, 678W\"\n</code></pre>\n\n<p>You can pass a DecimalFormat to customize the output:</p>\n\n<pre><code>UnitFormatter.formatAsUnit(2085, UnitSystem.IEC, \"B\", new DecimalFormat(\"0.0000\"));\n// = \"2.0361KiB\"\n</code></pre>\n\n<p>For arbitrary operations on  kilo or mega values, you can split them into components:</p>\n\n<pre><code>UnitComponent uc = new  UnitComponent(123_345_567_789L, UnitSystem.SI);\nint kilos = uc.kilo(); // 567\nint gigas = uc.giga(); // 123\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2014864"},"comment_count":0,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471469451,"creation_date":1471454149,"answer_id":39002685,"question_id":3758606,"body_markdown":"[Byte Units](https://github.com/JakeWharton/byteunits) allows you to do it like this:\r\n\r\n    long input1 = 1024;\r\n    long input2 = 1024 * 1024;\r\n\r\n    Assert.assertEquals(&quot;1 KiB&quot;, BinaryByteUnit.format(input1));\r\n    Assert.assertEquals(&quot;1 MiB&quot;, BinaryByteUnit.format(input2));\r\n\r\n    Assert.assertEquals(&quot;1.024 KB&quot;, DecimalByteUnit.format(input1, &quot;#.0&quot;));\r\n    Assert.assertEquals(&quot;1.049 MB&quot;, DecimalByteUnit.format(input2, &quot;#.000&quot;));\r\n\r\n    NumberFormat format = new DecimalFormat(&quot;#.#&quot;);\r\n    Assert.assertEquals(&quot;1 KiB&quot;, BinaryByteUnit.format(input1, format));\r\n    Assert.assertEquals(&quot;1 MiB&quot;, BinaryByteUnit.format(input2, format));\r\n\r\nI have written another library called [storage-units](https://github.com/sebhoss/storage-units) that allows you to do it like this:\r\n\r\n    String formattedUnit1 = StorageUnits.formatAsCommonUnit(input1, &quot;#&quot;);\r\n    String formattedUnit2 = StorageUnits.formatAsCommonUnit(input2, &quot;#&quot;);\r\n    String formattedUnit3 = StorageUnits.formatAsBinaryUnit(input1);\r\n    String formattedUnit4 = StorageUnits.formatAsBinaryUnit(input2);\r\n    String formattedUnit5 = StorageUnits.formatAsDecimalUnit(input1, &quot;#.00&quot;, Locale.GERMAN);\r\n    String formattedUnit6 = StorageUnits.formatAsDecimalUnit(input2, &quot;#.00&quot;, Locale.GERMAN);\r\n    String formattedUnit7 = StorageUnits.formatAsBinaryUnit(input1, format);\r\n    String formattedUnit8 = StorageUnits.formatAsBinaryUnit(input2, format);\r\n\r\n    Assert.assertEquals(&quot;1 kB&quot;, formattedUnit1);\r\n    Assert.assertEquals(&quot;1 MB&quot;, formattedUnit2);\r\n    Assert.assertEquals(&quot;1.00 KiB&quot;, formattedUnit3);\r\n    Assert.assertEquals(&quot;1.00 MiB&quot;, formattedUnit4);\r\n    Assert.assertEquals(&quot;1,02 kB&quot;, formattedUnit5);\r\n    Assert.assertEquals(&quot;1,05 MB&quot;, formattedUnit6);\r\n    Assert.assertEquals(&quot;1 KiB&quot;, formattedUnit7);\r\n    Assert.assertEquals(&quot;1 MiB&quot;, formattedUnit8);\r\n\r\nIn case you want to force a certain unit, do this:\r\n\r\n    String formattedUnit9 = StorageUnits.formatAsKibibyte(input2);\r\n    String formattedUnit10 = StorageUnits.formatAsCommonMegabyte(input2);\r\n    \r\n    Assert.assertEquals(&quot;1024.00 KiB&quot;, formattedUnit9);\r\n    Assert.assertEquals(&quot;1.00 MB&quot;, formattedUnit10);","title":"How can I convert byte size into a human-readable format in Java?","body":"<p><a href=\"https://github.com/JakeWharton/byteunits\" rel=\"noreferrer\">Byte Units</a> allows you to do it like this:</p>\n\n<pre><code>long input1 = 1024;\nlong input2 = 1024 * 1024;\n\nAssert.assertEquals(\"1 KiB\", BinaryByteUnit.format(input1));\nAssert.assertEquals(\"1 MiB\", BinaryByteUnit.format(input2));\n\nAssert.assertEquals(\"1.024 KB\", DecimalByteUnit.format(input1, \"#.0\"));\nAssert.assertEquals(\"1.049 MB\", DecimalByteUnit.format(input2, \"#.000\"));\n\nNumberFormat format = new DecimalFormat(\"#.#\");\nAssert.assertEquals(\"1 KiB\", BinaryByteUnit.format(input1, format));\nAssert.assertEquals(\"1 MiB\", BinaryByteUnit.format(input2, format));\n</code></pre>\n\n<p>I have written another library called <a href=\"https://github.com/sebhoss/storage-units\" rel=\"noreferrer\">storage-units</a> that allows you to do it like this:</p>\n\n<pre><code>String formattedUnit1 = StorageUnits.formatAsCommonUnit(input1, \"#\");\nString formattedUnit2 = StorageUnits.formatAsCommonUnit(input2, \"#\");\nString formattedUnit3 = StorageUnits.formatAsBinaryUnit(input1);\nString formattedUnit4 = StorageUnits.formatAsBinaryUnit(input2);\nString formattedUnit5 = StorageUnits.formatAsDecimalUnit(input1, \"#.00\", Locale.GERMAN);\nString formattedUnit6 = StorageUnits.formatAsDecimalUnit(input2, \"#.00\", Locale.GERMAN);\nString formattedUnit7 = StorageUnits.formatAsBinaryUnit(input1, format);\nString formattedUnit8 = StorageUnits.formatAsBinaryUnit(input2, format);\n\nAssert.assertEquals(\"1 kB\", formattedUnit1);\nAssert.assertEquals(\"1 MB\", formattedUnit2);\nAssert.assertEquals(\"1.00 KiB\", formattedUnit3);\nAssert.assertEquals(\"1.00 MiB\", formattedUnit4);\nAssert.assertEquals(\"1,02 kB\", formattedUnit5);\nAssert.assertEquals(\"1,05 MB\", formattedUnit6);\nAssert.assertEquals(\"1 KiB\", formattedUnit7);\nAssert.assertEquals(\"1 MiB\", formattedUnit8);\n</code></pre>\n\n<p>In case you want to force a certain unit, do this:</p>\n\n<pre><code>String formattedUnit9 = StorageUnits.formatAsKibibyte(input2);\nString formattedUnit10 = StorageUnits.formatAsCommonMegabyte(input2);\n\nAssert.assertEquals(\"1024.00 KiB\", formattedUnit9);\nAssert.assertEquals(\"1.00 MB\", formattedUnit10);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":286835,"reputation":612,"user_id":586318,"display_name":"Werner Keil"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597261289,"creation_date":1477297484,"answer_id":40213761,"question_id":3758606,"body_markdown":"Try [JSR 363][1]. Its unit extension modules like Unicode CLDR (in [GitHub: uom-systems][2]) do all that for you.\r\n\r\nYou can use `MetricPrefix` included in every implementation or `BinaryPrefix` (comparable to some of the examples above) and if you e.g. live and work in India or a nearby country, `IndianPrefix` (also in the common module of uom-systems) allows you to use and format &quot;Crore Bytes&quot; or &quot;Lakh Bytes&quot;, too.\r\n\r\n  [1]: https://jcp.org/en/jsr/detail?id=363\r\n  [2]: https://github.com/unitsofmeasurement/uom-systems\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Try <a href=\"https://jcp.org/en/jsr/detail?id=363\" rel=\"nofollow noreferrer\">JSR 363</a>. Its unit extension modules like Unicode CLDR (in <a href=\"https://github.com/unitsofmeasurement/uom-systems\" rel=\"nofollow noreferrer\">GitHub: uom-systems</a>) do all that for you.</p>\n<p>You can use <code>MetricPrefix</code> included in every implementation or <code>BinaryPrefix</code> (comparable to some of the examples above) and if you e.g. live and work in India or a nearby country, <code>IndianPrefix</code> (also in the common module of uom-systems) allows you to use and format &quot;Crore Bytes&quot; or &quot;Lakh Bytes&quot;, too.</p>\n"},{"tags":[],"owner":{"account_id":4123889,"reputation":1712,"user_id":3383543,"display_name":"Ahmad AlMughrabi"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661811897,"creation_date":1501357025,"answer_id":45393326,"question_id":3758606,"body_markdown":"Create an interface:\r\n\r\n    public interface IUnits {\r\n        public String format(long size, String pattern);\r\n        public long getUnitSize();\r\n    }\r\n\r\nCreate the StorageUnits class:\r\n\r\n    import java.text.DecimalFormat;\r\n\r\n    public class StorageUnits {\r\n\r\n        private static final long K = 1024;\r\n        private static final long M = K * K;\r\n        private static final long G = M * K;\r\n        private static final long T = G * K;\r\n\r\n        enum Unit implements IUnits {\r\n\r\n            TERA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;TB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return T;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Terabytes&quot;;\r\n                }\r\n            },\r\n            GIGA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;GB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return G;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Gigabytes&quot;;\r\n                }\r\n            },\r\n            MEGA_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;MB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return M;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Megabytes&quot;;\r\n                }\r\n            },\r\n            KILO_BYTE {\r\n                @Override\r\n                public String format(long size, String pattern) {\r\n                    return format(size, getUnitSize(), &quot;kB&quot;, pattern);\r\n                }\r\n                @Override\r\n                public long getUnitSize() {\r\n                    return K;\r\n                }\r\n                @Override\r\n                public String toString() {\r\n                    return &quot;Kilobytes&quot;;\r\n                }\r\n\r\n            };\r\n\r\n            String format(long size, long base, String unit, String pattern) {\r\n                return new DecimalFormat(pattern).format(\r\n                               Long.valueOf(size).doubleValue() /\r\n                               Long.valueOf(base).doubleValue()\r\n                ) + unit;\r\n            }\r\n        }\r\n\r\n        public static String format(long size, String pattern) {\r\n            for(Unit unit : Unit.values()) {\r\n                if(size &gt;= unit.getUnitSize()) {\r\n                    return unit.format(size, pattern);\r\n                }\r\n            }\r\n            return (&quot;???(&quot; + size + &quot;)???&quot;);\r\n        }\r\n\r\n        public static String format(long size) {\r\n            return format(size, &quot;#,##0.#&quot;);\r\n        }\r\n    }\r\n\r\nCall it:\r\n\r\n    class Main {\r\n        public static void main(String... args) {\r\n            System.out.println(StorageUnits.format(21885));\r\n            System.out.println(StorageUnits.format(2188121545L));\r\n        }\r\n    }\r\n\r\nOutput:\r\n\r\n```lang-none\r\n21.4kB\r\n2GB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Create an interface:</p>\n<pre><code>public interface IUnits {\n    public String format(long size, String pattern);\n    public long getUnitSize();\n}\n</code></pre>\n<p>Create the StorageUnits class:</p>\n<pre><code>import java.text.DecimalFormat;\n\npublic class StorageUnits {\n\n    private static final long K = 1024;\n    private static final long M = K * K;\n    private static final long G = M * K;\n    private static final long T = G * K;\n\n    enum Unit implements IUnits {\n\n        TERA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;TB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return T;\n            }\n            @Override\n            public String toString() {\n                return &quot;Terabytes&quot;;\n            }\n        },\n        GIGA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;GB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return G;\n            }\n            @Override\n            public String toString() {\n                return &quot;Gigabytes&quot;;\n            }\n        },\n        MEGA_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;MB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return M;\n            }\n            @Override\n            public String toString() {\n                return &quot;Megabytes&quot;;\n            }\n        },\n        KILO_BYTE {\n            @Override\n            public String format(long size, String pattern) {\n                return format(size, getUnitSize(), &quot;kB&quot;, pattern);\n            }\n            @Override\n            public long getUnitSize() {\n                return K;\n            }\n            @Override\n            public String toString() {\n                return &quot;Kilobytes&quot;;\n            }\n\n        };\n\n        String format(long size, long base, String unit, String pattern) {\n            return new DecimalFormat(pattern).format(\n                           Long.valueOf(size).doubleValue() /\n                           Long.valueOf(base).doubleValue()\n            ) + unit;\n        }\n    }\n\n    public static String format(long size, String pattern) {\n        for(Unit unit : Unit.values()) {\n            if(size &gt;= unit.getUnitSize()) {\n                return unit.format(size, pattern);\n            }\n        }\n        return (&quot;???(&quot; + size + &quot;)???&quot;);\n    }\n\n    public static String format(long size) {\n        return format(size, &quot;#,##0.#&quot;);\n    }\n}\n</code></pre>\n<p>Call it:</p>\n<pre><code>class Main {\n    public static void main(String... args) {\n        System.out.println(StorageUnits.format(21885));\n        System.out.println(StorageUnits.format(2188121545L));\n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>21.4kB\n2GB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1129328,"reputation":2404,"user_id":1115762,"accept_rate":100,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597259354,"creation_date":1509459530,"answer_id":47037629,"question_id":3758606,"body_markdown":"You can use [StringUtils][1]’s `TraditionalBinarPrefix`:\r\n\r\n    public static String humanReadableInt(long number) {\r\n        return TraditionalBinaryPrefix.long2String(number, ””, 1);\r\n    }\r\n\r\n  [1]: https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/StringUtils.html\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>You can use <a href=\"https://hadoop.apache.org/docs/r1.2.1/api/org/apache/hadoop/util/StringUtils.html\" rel=\"nofollow noreferrer\">StringUtils</a>’s <code>TraditionalBinarPrefix</code>:</p>\n<pre><code>public static String humanReadableInt(long number) {\n    return TraditionalBinaryPrefix.long2String(number, ””, 1);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1597259509,"post_id":51276102,"comment_id":112077898,"body_markdown":"That is a lot of redundancy. It begs for a loop and a (static) list of strings.","body":"That is a lot of redundancy. It begs for a loop and a (static) list of strings."}],"tags":[],"owner":{"account_id":11028672,"reputation":11,"user_id":10062052,"display_name":"Jacons Morais"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597259450,"creation_date":1531273622,"answer_id":51276102,"question_id":3758606,"body_markdown":"Maybe you can use this code (in C#):\r\n\r\n    long Kb = 1024;\r\n    long Mb = Kb * 1024;\r\n    long Gb = Mb * 1024;\r\n    long Tb = Gb * 1024;\r\n    long Pb = Tb * 1024;\r\n    long Eb = Pb * 1024;\r\n\r\n    if (size &lt; Kb)  return size.ToString() + &quot; byte&quot;;\r\n\r\n    if (size &lt; Mb)  return (size / Kb).ToString(&quot;###.##&quot;) + &quot; Kb.&quot;;\r\n    if (size &lt; Gb)  return (size / Mb).ToString(&quot;###.##&quot;) + &quot; Mb.&quot;;\r\n    if (size &lt; Tb)  return (size / Gb).ToString(&quot;###.##&quot;) + &quot; Gb.&quot;;\r\n    if (size &lt; Pb)  return (size / Tb).ToString(&quot;###.##&quot;) + &quot; Tb.&quot;;\r\n    if (size &lt; Eb)  return (size / Pb).ToString(&quot;###.##&quot;) + &quot; Pb.&quot;;\r\n    if (size &gt;= Eb) return (size / Eb).ToString(&quot;###.##&quot;) + &quot; Eb.&quot;;\r\n\r\n    return &quot;invalid size&quot;;\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Maybe you can use this code (in C#):</p>\n<pre><code>long Kb = 1024;\nlong Mb = Kb * 1024;\nlong Gb = Mb * 1024;\nlong Tb = Gb * 1024;\nlong Pb = Tb * 1024;\nlong Eb = Pb * 1024;\n\nif (size &lt; Kb)  return size.ToString() + &quot; byte&quot;;\n\nif (size &lt; Mb)  return (size / Kb).ToString(&quot;###.##&quot;) + &quot; Kb.&quot;;\nif (size &lt; Gb)  return (size / Mb).ToString(&quot;###.##&quot;) + &quot; Mb.&quot;;\nif (size &lt; Tb)  return (size / Gb).ToString(&quot;###.##&quot;) + &quot; Gb.&quot;;\nif (size &lt; Pb)  return (size / Tb).ToString(&quot;###.##&quot;) + &quot; Tb.&quot;;\nif (size &lt; Eb)  return (size / Pb).ToString(&quot;###.##&quot;) + &quot; Pb.&quot;;\nif (size &gt;= Eb) return (size / Eb).ToString(&quot;###.##&quot;) + &quot; Eb.&quot;;\n\nreturn &quot;invalid size&quot;;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":70467,"reputation":9832,"user_id":204313,"accept_rate":86,"display_name":"Rick-777"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1597259650,"creation_date":1538666493,"answer_id":52650298,"question_id":3758606,"body_markdown":"Here&#39;s a [Go][1] version. For simplicity, I&#39;ve only included the binary output case.\r\n\r\n    func sizeOf(bytes int64) string {\r\n        const unit = 1024\r\n        if bytes &lt; unit {\r\n            return fmt.Sprintf(&quot;%d B&quot;, bytes)\r\n        }\r\n\r\n        fb := float64(bytes)\r\n        exp := int(math.Log(fb) / math.Log(unit))\r\n        pre := &quot;KMGTPE&quot;[exp-1]\r\n        div := math.Pow(unit, float64(exp))\r\n        return fmt.Sprintf(&quot;%.1f %ciB&quot;, fb / div, pre)\r\n    }\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Go_%28programming_language%29\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here's a <a href=\"https://en.wikipedia.org/wiki/Go_%28programming_language%29\" rel=\"nofollow noreferrer\">Go</a> version. For simplicity, I've only included the binary output case.</p>\n<pre><code>func sizeOf(bytes int64) string {\n    const unit = 1024\n    if bytes &lt; unit {\n        return fmt.Sprintf(&quot;%d B&quot;, bytes)\n    }\n\n    fb := float64(bytes)\n    exp := int(math.Log(fb) / math.Log(unit))\n    pre := &quot;KMGTPE&quot;[exp-1]\n    div := math.Pow(unit, float64(exp))\n    return fmt.Sprintf(&quot;%.1f %ciB&quot;, fb / div, pre)\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1597259685,"post_id":54271898,"comment_id":112077969,"body_markdown":"That is a lot of redundancy. It begs for a loop and a (static) list of strings.","body":"That is a lot of redundancy. It begs for a loop and a (static) list of strings."}],"tags":[],"owner":{"account_id":13446508,"reputation":31,"user_id":9913630,"display_name":"Samkov Max"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547936670,"creation_date":1547936670,"answer_id":54271898,"question_id":3758606,"body_markdown":"    public String humanReadable(long size) {\r\n        long limit = 10 * 1024;\r\n        long limit2 = limit * 2 - 1;\r\n        String negative = &quot;&quot;;\r\n        if(size &lt; 0) {\r\n            negative = &quot;-&quot;;\r\n            size = Math.abs(size);\r\n        }\r\n\r\n        if(size &lt; limit) {\r\n            return String.format(&quot;%s%s bytes&quot;, negative, size);\r\n        } else {\r\n            size = Math.round((double) size / 1024);\r\n            if (size &lt; limit2) {\r\n                return String.format(&quot;%s%s kB&quot;, negative, size);\r\n            } else {\r\n                size = Math.round((double)size / 1024);\r\n                if (size &lt; limit2) {\r\n                    return String.format(&quot;%s%s MB&quot;, negative, size);\r\n                } else {\r\n                    size = Math.round((double)size / 1024);\r\n                    if (size &lt; limit2) {\r\n                        return String.format(&quot;%s%s GB&quot;, negative, size);\r\n                    } else {\r\n                        size = Math.round((double)size / 1024);\r\n                            return String.format(&quot;%s%s TB&quot;, negative, size);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }","title":"How can I convert byte size into a human-readable format in Java?","body":"<pre><code>public String humanReadable(long size) {\n    long limit = 10 * 1024;\n    long limit2 = limit * 2 - 1;\n    String negative = \"\";\n    if(size &lt; 0) {\n        negative = \"-\";\n        size = Math.abs(size);\n    }\n\n    if(size &lt; limit) {\n        return String.format(\"%s%s bytes\", negative, size);\n    } else {\n        size = Math.round((double) size / 1024);\n        if (size &lt; limit2) {\n            return String.format(\"%s%s kB\", negative, size);\n        } else {\n            size = Math.round((double)size / 1024);\n            if (size &lt; limit2) {\n                return String.format(\"%s%s MB\", negative, size);\n            } else {\n                size = Math.round((double)size / 1024);\n                if (size &lt; limit2) {\n                    return String.format(\"%s%s GB\", negative, size);\n                } else {\n                    size = Math.round((double)size / 1024);\n                        return String.format(\"%s%s TB\", negative, size);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1597260047,"post_id":54442933,"comment_id":112078110,"body_markdown":"That is a lot of redundancy. It begs for a loop and a (static) list of strings.","body":"That is a lot of redundancy. It begs for a loop and a (static) list of strings."}],"tags":[],"owner":{"account_id":6575754,"reputation":9298,"user_id":5081877,"accept_rate":92,"display_name":"Yash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1597259795,"creation_date":1548858707,"answer_id":54442933,"question_id":3758606,"body_markdown":"Use the following function to get exact information. It is generated by taking the base of the `ATM_CashWithdrawl` concept.\r\n\r\n```\r\ngetFullMemoryUnit(): Total: [123 MB], Max: [1 GB, 773 MB, 512 KB], Free: [120 MB, 409 KB, 304 Bytes]\r\n```\r\n\r\n``` lang-java\r\npublic static String getFullMemoryUnit(long unit) {\r\n    long BYTE = 1024, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\r\n    long KILO_BYTE, MEGA_BYTE = 0, GIGA_BYTE = 0, TERA_BYTE = 0;\r\n    unit = Math.abs(unit);\r\n    StringBuffer buffer = new StringBuffer();\r\n    if ( unit / TB &gt; 0 ) {\r\n        TERA_BYTE = (int) (unit / TB);\r\n        buffer.append(TERA_BYTE+&quot; TB&quot;);\r\n        unit -= TERA_BYTE * TB;\r\n    }\r\n    if ( unit / GB &gt; 0 ) {\r\n        GIGA_BYTE = (int) (unit / GB);\r\n        if (TERA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(GIGA_BYTE+&quot; GB&quot;);\r\n        unit %= GB;\r\n    }\r\n    if ( unit / MB &gt; 0 ) {\r\n        MEGA_BYTE = (int) (unit / MB);\r\n        if (GIGA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(MEGA_BYTE+&quot; MB&quot;);\r\n        unit %= MB;\r\n    }\r\n    if ( unit / KB &gt; 0 ) {\r\n        KILO_BYTE = (int) (unit / KB);\r\n        if (MEGA_BYTE != 0) buffer.append(&quot;, &quot;);\r\n        buffer.append(KILO_BYTE+&quot; KB&quot;);\r\n        unit %= KB;\r\n    }\r\n    if ( unit &gt; 0 ) buffer.append(&quot;, &quot;+unit+&quot; Bytes&quot;);\r\n    return buffer.toString();\r\n}\r\n```\r\n\r\nI have just modified the code of [facebookarchive-`StringUtils`][1] to get the below format. The same format you will get when you use [apache.hadoop-`StringUtils`][2]\r\n\r\n```\r\ngetMemoryUnit(): Total: [123.0 MB], Max: [1.8 GB], Free: [120.4 MB]\r\n```\r\n\r\n``` lang-java\r\npublic static String getMemoryUnit(long bytes) {\r\n    DecimalFormat oneDecimal = new DecimalFormat(&quot;0.0&quot;);\r\n    float BYTE = 1024.0f, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\r\n    long absNumber = Math.abs(bytes);\r\n    double result = bytes;\r\n    String suffix = &quot; Bytes&quot;;\r\n    if (absNumber &lt; MB) {\r\n        result = bytes / KB;\r\n        suffix = &quot; KB&quot;;\r\n    } else if (absNumber &lt; GB) {\r\n        result = bytes / MB;\r\n        suffix = &quot; MB&quot;;\r\n    } else if (absNumber &lt; TB) {\r\n        result = bytes / GB;\r\n        suffix = &quot; GB&quot;;\r\n    }\r\n    return oneDecimal.format(result) + suffix;\r\n}\r\n```\r\n\r\nExample usage of the above methods:\r\n\r\n```lang-java\r\npublic static void main(String[] args) {\r\n    Runtime runtime = Runtime.getRuntime();\r\n    int availableProcessors = runtime.availableProcessors();\r\n\r\n    long heapSize = Runtime.getRuntime().totalMemory();\r\n    long heapMaxSize = Runtime.getRuntime().maxMemory();\r\n    long heapFreeSize = Runtime.getRuntime().freeMemory();\r\n\r\n    System.out.format(&quot;Total: [%s], Max: [%s], Free: [%s]\\n&quot;, heapSize, heapMaxSize, heapFreeSize);\r\n    System.out.format(&quot;getMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\r\n            getMemoryUnit(heapSize), getMemoryUnit(heapMaxSize), getMemoryUnit(heapFreeSize));\r\n    System.out.format(&quot;getFullMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\r\n            getFullMemoryUnit(heapSize), getFullMemoryUnit(heapMaxSize), getFullMemoryUnit(heapFreeSize));\r\n}\r\n```\r\n\r\nBytes to get the above format\r\n\r\n```\r\nTotal: [128974848], Max: [1884815360], Free: [126248240]\r\n```\r\n\r\nIn order to display time in a human-readable format, use the function [`millisToShortDHMS(long duration)`][3].\r\n\r\n  [1]: https://github.com/facebookarchive/hadoop-20/blob/master/src/core/org/apache/hadoop/util/StringUtils.java\r\n  [2]: https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/StringUtils.java\r\n  [3]: https://stackoverflow.com/questions/180158/how-do-i-time-a-methods-execution-in-java/34086460#34086460\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Use the following function to get exact information. It is generated by taking the base of the <code>ATM_CashWithdrawl</code> concept.</p>\n<pre><code>getFullMemoryUnit(): Total: [123 MB], Max: [1 GB, 773 MB, 512 KB], Free: [120 MB, 409 KB, 304 Bytes]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getFullMemoryUnit(long unit) {\n    long BYTE = 1024, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\n    long KILO_BYTE, MEGA_BYTE = 0, GIGA_BYTE = 0, TERA_BYTE = 0;\n    unit = Math.abs(unit);\n    StringBuffer buffer = new StringBuffer();\n    if ( unit / TB &gt; 0 ) {\n        TERA_BYTE = (int) (unit / TB);\n        buffer.append(TERA_BYTE+&quot; TB&quot;);\n        unit -= TERA_BYTE * TB;\n    }\n    if ( unit / GB &gt; 0 ) {\n        GIGA_BYTE = (int) (unit / GB);\n        if (TERA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(GIGA_BYTE+&quot; GB&quot;);\n        unit %= GB;\n    }\n    if ( unit / MB &gt; 0 ) {\n        MEGA_BYTE = (int) (unit / MB);\n        if (GIGA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(MEGA_BYTE+&quot; MB&quot;);\n        unit %= MB;\n    }\n    if ( unit / KB &gt; 0 ) {\n        KILO_BYTE = (int) (unit / KB);\n        if (MEGA_BYTE != 0) buffer.append(&quot;, &quot;);\n        buffer.append(KILO_BYTE+&quot; KB&quot;);\n        unit %= KB;\n    }\n    if ( unit &gt; 0 ) buffer.append(&quot;, &quot;+unit+&quot; Bytes&quot;);\n    return buffer.toString();\n}\n</code></pre>\n<p>I have just modified the code of <a href=\"https://github.com/facebookarchive/hadoop-20/blob/master/src/core/org/apache/hadoop/util/StringUtils.java\" rel=\"nofollow noreferrer\">facebookarchive-<code>StringUtils</code></a> to get the below format. The same format you will get when you use <a href=\"https://github.com/apache/hadoop/blob/trunk/hadoop-common-project/hadoop-common/src/main/java/org/apache/hadoop/util/StringUtils.java\" rel=\"nofollow noreferrer\">apache.hadoop-<code>StringUtils</code></a></p>\n<pre><code>getMemoryUnit(): Total: [123.0 MB], Max: [1.8 GB], Free: [120.4 MB]\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static String getMemoryUnit(long bytes) {\n    DecimalFormat oneDecimal = new DecimalFormat(&quot;0.0&quot;);\n    float BYTE = 1024.0f, KB = BYTE, MB = KB * KB, GB = MB * KB, TB = GB * KB;\n    long absNumber = Math.abs(bytes);\n    double result = bytes;\n    String suffix = &quot; Bytes&quot;;\n    if (absNumber &lt; MB) {\n        result = bytes / KB;\n        suffix = &quot; KB&quot;;\n    } else if (absNumber &lt; GB) {\n        result = bytes / MB;\n        suffix = &quot; MB&quot;;\n    } else if (absNumber &lt; TB) {\n        result = bytes / GB;\n        suffix = &quot; GB&quot;;\n    }\n    return oneDecimal.format(result) + suffix;\n}\n</code></pre>\n<p>Example usage of the above methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Runtime runtime = Runtime.getRuntime();\n    int availableProcessors = runtime.availableProcessors();\n\n    long heapSize = Runtime.getRuntime().totalMemory();\n    long heapMaxSize = Runtime.getRuntime().maxMemory();\n    long heapFreeSize = Runtime.getRuntime().freeMemory();\n\n    System.out.format(&quot;Total: [%s], Max: [%s], Free: [%s]\\n&quot;, heapSize, heapMaxSize, heapFreeSize);\n    System.out.format(&quot;getMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\n            getMemoryUnit(heapSize), getMemoryUnit(heapMaxSize), getMemoryUnit(heapFreeSize));\n    System.out.format(&quot;getFullMemoryUnit(): Total: [%s], Max: [%s], Free: [%s]\\n&quot;,\n            getFullMemoryUnit(heapSize), getFullMemoryUnit(heapMaxSize), getFullMemoryUnit(heapFreeSize));\n}\n</code></pre>\n<p>Bytes to get the above format</p>\n<pre><code>Total: [128974848], Max: [1884815360], Free: [126248240]\n</code></pre>\n<p>In order to display time in a human-readable format, use the function <a href=\"https://stackoverflow.com/questions/180158/how-do-i-time-a-methods-execution-in-java/34086460#34086460\"><code>millisToShortDHMS(long duration)</code></a>.</p>\n"},{"comments":[{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":1,"creation_date":1661813379,"post_id":60298747,"comment_id":129856304,"body_markdown":"Why the floaty numbers? Is there a particular reason? Wouldn&#39;t it be covered by 64-bit integers (if that is supported)?","body":"Why the floaty numbers? Is there a particular reason? Wouldn&#39;t it be covered by 64-bit integers (if that is supported)?"}],"tags":[],"owner":{"account_id":988959,"reputation":173,"user_id":1006741,"display_name":"Kibotu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1597260161,"creation_date":1582109759,"answer_id":60298747,"question_id":3758606,"body_markdown":"Here is [the conversion from *aioobe*][1] converted to Kotlin:\r\n\r\n    /**\r\n     * https://stackoverflow.com/a/3758880/1006741\r\n     */\r\n    fun Long.humanReadableByteCountBinary(): String {\r\n        val b = when (this) {\r\n            Long.MIN_VALUE -&gt; Long.MAX_VALUE\r\n            else -&gt; abs(this)\r\n        }\r\n        return when {\r\n            b &lt; 1024L -&gt; &quot;$this B&quot;\r\n            b &lt;= 0xfffccccccccccccL shr 40 -&gt; &quot;%.1f KiB&quot;.format(Locale.UK, this / 1024.0)\r\n            b &lt;= 0xfffccccccccccccL shr 30 -&gt; &quot;%.1f MiB&quot;.format(Locale.UK, this / 1048576.0)\r\n            b &lt;= 0xfffccccccccccccL shr 20 -&gt; &quot;%.1f GiB&quot;.format(Locale.UK, this / 1.073741824E9)\r\n            b &lt;= 0xfffccccccccccccL shr 10 -&gt; &quot;%.1f TiB&quot;.format(Locale.UK, this / 1.099511627776E12)\r\n            b &lt;= 0xfffccccccccccccL -&gt; &quot;%.1f PiB&quot;.format(Locale.UK, (this shr 10) / 1.099511627776E12)\r\n            else -&gt; &quot;%.1f EiB&quot;.format(Locale.UK, (this shr 20) / 1.099511627776E12)\r\n        }\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/3758880#3758880\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Here is <a href=\"https://stackoverflow.com/questions/3758606/how-can-i-convert-byte-size-into-a-human-readable-format-in-java/3758880#3758880\">the conversion from <em>aioobe</em></a> converted to Kotlin:</p>\n<pre><code>/**\n * https://stackoverflow.com/a/3758880/1006741\n */\nfun Long.humanReadableByteCountBinary(): String {\n    val b = when (this) {\n        Long.MIN_VALUE -&gt; Long.MAX_VALUE\n        else -&gt; abs(this)\n    }\n    return when {\n        b &lt; 1024L -&gt; &quot;$this B&quot;\n        b &lt;= 0xfffccccccccccccL shr 40 -&gt; &quot;%.1f KiB&quot;.format(Locale.UK, this / 1024.0)\n        b &lt;= 0xfffccccccccccccL shr 30 -&gt; &quot;%.1f MiB&quot;.format(Locale.UK, this / 1048576.0)\n        b &lt;= 0xfffccccccccccccL shr 20 -&gt; &quot;%.1f GiB&quot;.format(Locale.UK, this / 1.073741824E9)\n        b &lt;= 0xfffccccccccccccL shr 10 -&gt; &quot;%.1f TiB&quot;.format(Locale.UK, this / 1.099511627776E12)\n        b &lt;= 0xfffccccccccccccL -&gt; &quot;%.1f PiB&quot;.format(Locale.UK, (this shr 10) / 1.099511627776E12)\n        else -&gt; &quot;%.1f EiB&quot;.format(Locale.UK, (this shr 20) / 1.099511627776E12)\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4888255,"reputation":4312,"user_id":3940047,"accept_rate":80,"display_name":"Pavan Kumar"},"score":0,"creation_date":1598250000,"post_id":61079945,"comment_id":112385193,"body_markdown":"My requirement was to print the memory of the system and this helped me as I know it needs to be printed in MB always.","body":"My requirement was to print the memory of the system and this helped me as I know it needs to be printed in MB always."}],"tags":[],"owner":{"account_id":12076581,"reputation":469,"user_id":8829807,"display_name":"Tama"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1597260376,"creation_date":1586262194,"answer_id":61079945,"question_id":3758606,"body_markdown":"org.springframework.util.unit.DataSize could suit this requirement at least for the calculation. Then a simple decorator will do.\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>org.springframework.util.unit.DataSize could suit this requirement at least for the calculation. Then a simple decorator will do.</p>\n"},{"comments":[{"owner":{"account_id":22748746,"reputation":521,"user_id":16909190,"display_name":"Kevin Germain"},"score":1,"creation_date":1676482503,"post_id":63389334,"comment_id":133147292,"body_markdown":"Tried this method and it works!","body":"Tried this method and it works!"}],"tags":[],"owner":{"account_id":1791757,"reputation":22226,"user_id":1631967,"display_name":"aminography"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1677666127,"creation_date":1597300052,"answer_id":63389334,"question_id":3758606,"body_markdown":"### Kotlin version via an extension property\r\n\r\nIf you are using Kotlin, it&#39;s pretty easy to format file size by these extension properties. It is loop-free and completely based on pure math.\r\n\r\n&lt;br/&gt;\r\n\r\n### [HumanizeUtils.kt](https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/HumanizeUtils.kt)\r\n\r\n```\r\nimport java.io.File\r\nimport kotlin.math.log2\r\nimport kotlin.math.pow\r\n\r\n/**\r\n * @author aminography\r\n */\r\n\r\nval File.formatSize: String\r\n    get() = length().formatAsFileSize\r\n\r\nval Int.formatAsFileSize: String\r\n    get() = toLong().formatAsFileSize\r\n\r\nval Long.formatAsFileSize: String\r\n    get() = log2(coerceAtLeast(1).toDouble()).toInt().div(10).let {\r\n        val precision = when (it) {\r\n            0 -&gt; 0; 1 -&gt; 1; else -&gt; 2\r\n        }\r\n        val prefix = arrayOf(&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;, &quot;Z&quot;, &quot;Y&quot;)\r\n        String.format(&quot;%.${precision}f ${prefix[it]}B&quot;, toDouble() / 2.0.pow(it * 10.0))\r\n    }\r\n```\r\n\r\n&lt;br/&gt;\r\n\r\n### Usage:\r\n\r\n    println(&quot;0:          &quot; + 0.formatAsFileSize)\r\n    println(&quot;170:        &quot; + 170.formatAsFileSize)\r\n    println(&quot;14356:      &quot; + 14356.formatAsFileSize)\r\n    println(&quot;968542985:  &quot; + 968542985.formatAsFileSize)\r\n    println(&quot;8729842496: &quot; + 8729842496.formatAsFileSize)\r\n\r\n    println(&quot;file: &quot; + file.formatSize)\r\n\r\n&lt;br/&gt;\r\n\r\n### Result:\r\n\r\n```lang-none\r\n0:          0 B\r\n170:        170 B\r\n14356:      14.0 KB\r\n968542985:  923.67 MB\r\n8729842496: 8.13 GB\r\n\r\nfile: 6.15 MB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<h3>Kotlin version via an extension property</h3>\n<p>If you are using Kotlin, it's pretty easy to format file size by these extension properties. It is loop-free and completely based on pure math.</p>\n<br/>\n<h3><a href=\"https://github.com/aminography/CommonUtils/blob/master/library/src/main/java/com/aminography/commonutils/HumanizeUtils.kt\" rel=\"nofollow noreferrer\">HumanizeUtils.kt</a></h3>\n<pre><code>import java.io.File\nimport kotlin.math.log2\nimport kotlin.math.pow\n\n/**\n * @author aminography\n */\n\nval File.formatSize: String\n    get() = length().formatAsFileSize\n\nval Int.formatAsFileSize: String\n    get() = toLong().formatAsFileSize\n\nval Long.formatAsFileSize: String\n    get() = log2(coerceAtLeast(1).toDouble()).toInt().div(10).let {\n        val precision = when (it) {\n            0 -&gt; 0; 1 -&gt; 1; else -&gt; 2\n        }\n        val prefix = arrayOf(&quot;&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;T&quot;, &quot;P&quot;, &quot;E&quot;, &quot;Z&quot;, &quot;Y&quot;)\n        String.format(&quot;%.${precision}f ${prefix[it]}B&quot;, toDouble() / 2.0.pow(it * 10.0))\n    }\n</code></pre>\n<br/>\n<h3>Usage:</h3>\n<pre><code>println(&quot;0:          &quot; + 0.formatAsFileSize)\nprintln(&quot;170:        &quot; + 170.formatAsFileSize)\nprintln(&quot;14356:      &quot; + 14356.formatAsFileSize)\nprintln(&quot;968542985:  &quot; + 968542985.formatAsFileSize)\nprintln(&quot;8729842496: &quot; + 8729842496.formatAsFileSize)\n\nprintln(&quot;file: &quot; + file.formatSize)\n</code></pre>\n<br/>\n<h3>Result:</h3>\n<pre class=\"lang-none prettyprint-override\"><code>0:          0 B\n170:        170 B\n14356:      14.0 KB\n968542985:  923.67 MB\n8729842496: 8.13 GB\n\nfile: 6.15 MB\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5422650,"reputation":151,"user_id":4315871,"display_name":"Forcuti Alessandro"},"score":1,"creation_date":1601629881,"post_id":64168033,"comment_id":113471999,"body_markdown":"With some improvement it could be generalized to any unit of measurement.","body":"With some improvement it could be generalized to any unit of measurement."}],"tags":[],"owner":{"account_id":5422650,"reputation":151,"user_id":4315871,"display_name":"Forcuti Alessandro"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661811233,"creation_date":1601625392,"answer_id":64168033,"question_id":3758606,"body_markdown":"I usually do it in this way:\r\n\r\n    public static String getFileSize(double size) {\r\n\t\treturn _getFileSize(size,0,1024);\r\n\t}\r\n\t\r\n    public static String _getFileSize(double size, int i, double base) {\r\n    \tString units = &quot; KMGTP&quot;;\r\n    \tString unit = (i&gt;0)?(&quot;&quot;+units.charAt(i)).toUpperCase()+&quot;i&quot;:&quot;&quot;;\r\n    \tif(size&lt;base)\r\n    \t\treturn size +&quot; &quot;+unit.trim()+&quot;B&quot;;\r\n    \telse {\r\n    \t    size = Math.floor(size/base);\r\n    \t\treturn _getFileSize(size,++i,base);\r\n    \t}\r\n    }\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I usually do it in this way:</p>\n<pre><code>public static String getFileSize(double size) {\n    return _getFileSize(size,0,1024);\n}\n\npublic static String _getFileSize(double size, int i, double base) {\n    String units = &quot; KMGTP&quot;;\n    String unit = (i&gt;0)?(&quot;&quot;+units.charAt(i)).toUpperCase()+&quot;i&quot;:&quot;&quot;;\n    if(size&lt;base)\n        return size +&quot; &quot;+unit.trim()+&quot;B&quot;;\n    else {\n        size = Math.floor(size/base);\n        return _getFileSize(size,++i,base);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13406308,"reputation":4142,"user_id":9674249,"display_name":"i30mb1"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661811644,"creation_date":1603285736,"answer_id":64464262,"question_id":3758606,"body_markdown":"I&#39;m using a slightly modified method than the accepted answer:\r\n\r\n```\r\npublic static String formatFileSize(long bytes) {\r\n    if (bytes &lt;= 0)\r\n        return &quot;&quot;;\r\n    if (bytes &lt; 1000)\r\n        return bytes + &quot; B&quot;;\r\n\r\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\r\n    while (bytes &gt;= 99_999) {\r\n        bytes /= 1000;\r\n        ci.next();\r\n    }\r\n    return String.format(Locale.getDefault(), &quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\r\n}\r\n```\r\n\r\nBecause I want to see another output:\r\n\r\n```lang-none\r\n                              SI\r\n\r\n                   0:            &lt;--------- instead of 0 B\r\n                  27:       27 B\r\n                 999:      999 B\r\n                1000:     1.0 kB\r\n                1023:     1.0 kB\r\n                1024:     1.0 kB\r\n                1728:     1.7 kB\r\n              110592:     0.1 MB &lt;--------- instead of 110.6 kB\r\n             7077888:     7.1 MB\r\n           452984832:     0.5 GB &lt;--------- instead of 453.0 MB\r\n         28991029248:    29.0 GB\r\n```\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>I'm using a slightly modified method than the accepted answer:</p>\n<pre><code>public static String formatFileSize(long bytes) {\n    if (bytes &lt;= 0)\n        return &quot;&quot;;\n    if (bytes &lt; 1000)\n        return bytes + &quot; B&quot;;\n\n    CharacterIterator ci = new StringCharacterIterator(&quot;kMGTPE&quot;);\n    while (bytes &gt;= 99_999) {\n        bytes /= 1000;\n        ci.next();\n    }\n    return String.format(Locale.getDefault(), &quot;%.1f %cB&quot;, bytes / 1000.0, ci.current());\n}\n</code></pre>\n<p>Because I want to see another output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>                              SI\n\n                   0:            &lt;--------- instead of 0 B\n                  27:       27 B\n                 999:      999 B\n                1000:     1.0 kB\n                1023:     1.0 kB\n                1024:     1.0 kB\n                1728:     1.7 kB\n              110592:     0.1 MB &lt;--------- instead of 110.6 kB\n             7077888:     7.1 MB\n           452984832:     0.5 GB &lt;--------- instead of 453.0 MB\n         28991029248:    29.0 GB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":231391,"reputation":6221,"user_id":495598,"display_name":"Manu Manjunath"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617090493,"creation_date":1617090493,"answer_id":66866736,"question_id":3758606,"body_markdown":"Below is a fast, simple and readable code snippet to achieve this:\r\n\r\n```java\r\n/**\r\n * Converts byte size to human readable strings (also declares useful constants)\r\n *\r\n * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/File_size&quot;&gt;File size&lt;/a&gt;\r\n */\r\n@SuppressWarnings(&quot;SpellCheckingInspection&quot;)\r\npublic class HumanReadableSize {\r\n    public static final double\r\n            KILO = 1000L, // 1000 power 1 (10 power 3)\r\n            KIBI = 1024L, // 1024 power 1 (2 power 10)\r\n            MEGA = KILO * KILO, // 1000 power 2 (10 power 6)\r\n            MEBI = KIBI * KIBI, // 1024 power 2 (2 power 20)\r\n            GIGA = MEGA * KILO, // 1000 power 3 (10 power 9)\r\n            GIBI = MEBI * KIBI, // 1024 power 3 (2 power 30)\r\n            TERA = GIGA * KILO, // 1000 power 4 (10 power 12)\r\n            TEBI = GIBI * KIBI, // 1024 power 4 (2 power 40)\r\n            PETA = TERA * KILO, // 1000 power 5 (10 power 15)\r\n            PEBI = TEBI * KIBI, // 1024 power 5 (2 power 50)\r\n            EXA = PETA * KILO, // 1000 power 6 (10 power 18)\r\n            EXBI = PEBI * KIBI; // 1024 power 6 (2 power 60)\r\n\r\n    private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\r\n    public static String binaryBased(long size) {\r\n        if (size &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\r\n        } else if (size &lt; KIBI) {\r\n            return df.format(size).concat(&quot;B&quot;);\r\n        } else if (size &lt; MEBI) {\r\n            return df.format(size / KIBI).concat(&quot;KiB&quot;);\r\n        } else if (size &lt; GIBI) {\r\n            return df.format(size / MEBI).concat(&quot;MiB&quot;);\r\n        } else if (size &lt; TEBI) {\r\n            return df.format(size / GIBI).concat(&quot;GiB&quot;);\r\n        } else if (size &lt; PEBI) {\r\n            return df.format(size / TEBI).concat(&quot;TiB&quot;);\r\n        } else if (size &lt; EXBI) {\r\n            return df.format(size / PEBI).concat(&quot;PiB&quot;);\r\n        } else {\r\n            return df.format(size / EXBI).concat(&quot;EiB&quot;);\r\n        }\r\n    }\r\n\r\n    public static String decimalBased(long size) {\r\n        if (size &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\r\n        } else if (size &lt; KILO) {\r\n            return df.format(size).concat(&quot;B&quot;);\r\n        } else if (size &lt; MEGA) {\r\n            return df.format(size / KILO).concat(&quot;KB&quot;);\r\n        } else if (size &lt; GIGA) {\r\n            return df.format(size / MEGA).concat(&quot;MB&quot;);\r\n        } else if (size &lt; TERA) {\r\n            return df.format(size / GIGA).concat(&quot;GB&quot;);\r\n        } else if (size &lt; PETA) {\r\n            return df.format(size / TERA).concat(&quot;TB&quot;);\r\n        } else if (size &lt; EXA) {\r\n            return df.format(size / PETA).concat(&quot;PB&quot;);\r\n        } else {\r\n            return df.format(size / EXA).concat(&quot;EB&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNote:\r\n\r\n 1. Above code is verbose and straightforward.\r\n     * It does **not** use loops (loops should be used only when you do not know how many times you need to iterate during compilation time)\r\n     * It does **not** make unnecessary library calls (`StringBuilder`, `Math` etc.)\r\n 2. Above code is fast and uses very less memory. Based on benchmarks run on my personal entry-level cloud machine, it&#39;s the fastest (not that performance matters in these cases, but still)\r\n 3. Above code is a modified version of one of the good answers","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Below is a fast, simple and readable code snippet to achieve this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Converts byte size to human readable strings (also declares useful constants)\n *\n * @see &lt;a href=&quot;https://en.wikipedia.org/wiki/File_size&quot;&gt;File size&lt;/a&gt;\n */\n@SuppressWarnings(&quot;SpellCheckingInspection&quot;)\npublic class HumanReadableSize {\n    public static final double\n            KILO = 1000L, // 1000 power 1 (10 power 3)\n            KIBI = 1024L, // 1024 power 1 (2 power 10)\n            MEGA = KILO * KILO, // 1000 power 2 (10 power 6)\n            MEBI = KIBI * KIBI, // 1024 power 2 (2 power 20)\n            GIGA = MEGA * KILO, // 1000 power 3 (10 power 9)\n            GIBI = MEBI * KIBI, // 1024 power 3 (2 power 30)\n            TERA = GIGA * KILO, // 1000 power 4 (10 power 12)\n            TEBI = GIBI * KIBI, // 1024 power 4 (2 power 40)\n            PETA = TERA * KILO, // 1000 power 5 (10 power 15)\n            PEBI = TEBI * KIBI, // 1024 power 5 (2 power 50)\n            EXA = PETA * KILO, // 1000 power 6 (10 power 18)\n            EXBI = PEBI * KIBI; // 1024 power 6 (2 power 60)\n\n    private static final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n\n    public static String binaryBased(long size) {\n        if (size &lt; 0) {\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\n        } else if (size &lt; KIBI) {\n            return df.format(size).concat(&quot;B&quot;);\n        } else if (size &lt; MEBI) {\n            return df.format(size / KIBI).concat(&quot;KiB&quot;);\n        } else if (size &lt; GIBI) {\n            return df.format(size / MEBI).concat(&quot;MiB&quot;);\n        } else if (size &lt; TEBI) {\n            return df.format(size / GIBI).concat(&quot;GiB&quot;);\n        } else if (size &lt; PEBI) {\n            return df.format(size / TEBI).concat(&quot;TiB&quot;);\n        } else if (size &lt; EXBI) {\n            return df.format(size / PEBI).concat(&quot;PiB&quot;);\n        } else {\n            return df.format(size / EXBI).concat(&quot;EiB&quot;);\n        }\n    }\n\n    public static String decimalBased(long size) {\n        if (size &lt; 0) {\n            throw new IllegalArgumentException(&quot;Argument cannot be negative&quot;);\n        } else if (size &lt; KILO) {\n            return df.format(size).concat(&quot;B&quot;);\n        } else if (size &lt; MEGA) {\n            return df.format(size / KILO).concat(&quot;KB&quot;);\n        } else if (size &lt; GIGA) {\n            return df.format(size / MEGA).concat(&quot;MB&quot;);\n        } else if (size &lt; TERA) {\n            return df.format(size / GIGA).concat(&quot;GB&quot;);\n        } else if (size &lt; PETA) {\n            return df.format(size / TERA).concat(&quot;TB&quot;);\n        } else if (size &lt; EXA) {\n            return df.format(size / PETA).concat(&quot;PB&quot;);\n        } else {\n            return df.format(size / EXA).concat(&quot;EB&quot;);\n        }\n    }\n}\n</code></pre>\n<p>Note:</p>\n<ol>\n<li>Above code is verbose and straightforward.\n<ul>\n<li>It does <strong>not</strong> use loops (loops should be used only when you do not know how many times you need to iterate during compilation time)</li>\n<li>It does <strong>not</strong> make unnecessary library calls (<code>StringBuilder</code>, <code>Math</code> etc.)</li>\n</ul>\n</li>\n<li>Above code is fast and uses very less memory. Based on benchmarks run on my personal entry-level cloud machine, it's the fastest (not that performance matters in these cases, but still)</li>\n<li>Above code is a modified version of one of the good answers</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":242136,"reputation":3005,"user_id":513451,"accept_rate":61,"display_name":"Michel Jung"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1661810140,"creation_date":1629902099,"answer_id":68924895,"question_id":3758606,"body_markdown":"Yet another concise solution without a loop, but with locale-sensitive formatting and correct binary prefixes:\r\n\r\n```java\r\nimport java.util.Locale;\r\n\r\npublic final class Bytes {\r\n\r\n  private Bytes() {\r\n  }\r\n\r\n  public static String format(long value, Locale locale) {\r\n    if (value &lt; 1024) {\r\n      return value + &quot; B&quot;;\r\n    }\r\n    int z = (63 - Long.numberOfLeadingZeros(value)) / 10;\r\n    return String.format(locale, &quot;%.1f %siB&quot;, (double) value / (1L &lt;&lt; (z * 10)), &quot; KMGTPE&quot;.charAt(z));\r\n  }\r\n}\r\n```\r\n\r\nTest:\r\n```java\r\nLocale locale = Locale.getDefault()\r\nSystem.out.println(Bytes.format(1L, locale))\r\nSystem.out.println(Bytes.format(2L * 1024, locale))\r\nSystem.out.println(Bytes.format(3L * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(4L * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(5L * 1024 * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(6L * 1024 * 1024 * 1024 * 1024 * 1024, locale))\r\nSystem.out.println(Bytes.format(Long.MAX_VALUE, locale))\r\n```\r\n\r\n\r\nOutput:\r\n\r\n```lang-none\r\n1 B\r\n2.0 KiB\r\n3.0 MiB\r\n4.0 GiB\r\n5.0 GiB\r\n6.0 PiB\r\n8.0 EiB\r\n```\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Yet another concise solution without a loop, but with locale-sensitive formatting and correct binary prefixes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Locale;\n\npublic final class Bytes {\n\n  private Bytes() {\n  }\n\n  public static String format(long value, Locale locale) {\n    if (value &lt; 1024) {\n      return value + &quot; B&quot;;\n    }\n    int z = (63 - Long.numberOfLeadingZeros(value)) / 10;\n    return String.format(locale, &quot;%.1f %siB&quot;, (double) value / (1L &lt;&lt; (z * 10)), &quot; KMGTPE&quot;.charAt(z));\n  }\n}\n</code></pre>\n<p>Test:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Locale locale = Locale.getDefault()\nSystem.out.println(Bytes.format(1L, locale))\nSystem.out.println(Bytes.format(2L * 1024, locale))\nSystem.out.println(Bytes.format(3L * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(4L * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(5L * 1024 * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(6L * 1024 * 1024 * 1024 * 1024 * 1024, locale))\nSystem.out.println(Bytes.format(Long.MAX_VALUE, locale))\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>1 B\n2.0 KiB\n3.0 MiB\n4.0 GiB\n5.0 GiB\n6.0 PiB\n8.0 EiB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14172306,"reputation":1738,"user_id":10238560,"display_name":"Tarif Chakder"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1661810004,"creation_date":1636653090,"answer_id":69932759,"question_id":3758606,"body_markdown":"Kotlin lovers can use this extension:\r\n\r\n    fun Long.readableFormat(): String {\r\n        if (this &lt;= 0 ) return &quot;0&quot;\r\n        val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\r\n        val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\r\n        return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\r\n    }\r\n\r\nNow use\r\n\r\n    val size : Long = 90836457\r\n    val readbleString = size.readableFormat()\r\n\r\nAnother approach\r\n\r\n    val Long.formatSize : String\r\n        get() {\r\n            if (this &lt;= 0) return &quot;0&quot;\r\n            val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\r\n            val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\r\n            return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\r\n        }\r\n\r\nNow use\r\n\r\n    val size : Long = 90836457\r\n    val readbleString = size.formatSize\r\n\r\n\r\n\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>Kotlin lovers can use this extension:</p>\n<pre><code>fun Long.readableFormat(): String {\n    if (this &lt;= 0 ) return &quot;0&quot;\n    val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\n    val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\n    return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\n}\n</code></pre>\n<p>Now use</p>\n<pre><code>val size : Long = 90836457\nval readbleString = size.readableFormat()\n</code></pre>\n<p>Another approach</p>\n<pre><code>val Long.formatSize : String\n    get() {\n        if (this &lt;= 0) return &quot;0&quot;\n        val units = arrayOf(&quot;B&quot;, &quot;kB&quot;, &quot;MB&quot;, &quot;GB&quot;, &quot;TB&quot;)\n        val digitGroups = (log10(this.toDouble()) / log10(1024.0)).toInt()\n        return DecimalFormat(&quot;#,##0.#&quot;).format(this / 1024.0.pow(digitGroups.toDouble())).toString() + &quot; &quot; + units[digitGroups]\n    }\n</code></pre>\n<p>Now use</p>\n<pre><code>val size : Long = 90836457\nval readbleString = size.formatSize\n</code></pre>\n"},{"tags":[],"owner":{"account_id":235896,"reputation":1859,"user_id":503025,"accept_rate":21,"display_name":"weberjn"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1663687522,"creation_date":1663687522,"answer_id":73789128,"question_id":3758606,"body_markdown":"In practice megabytes are human readable enough.\r\n\r\n\tlong l = 1367343104l;\r\n\t\t\r\n\tString s = String.format(&quot;%dm&quot;, l / 1024 / 1024);\r\n\r\n1304m","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>In practice megabytes are human readable enough.</p>\n<pre><code>long l = 1367343104l;\n    \nString s = String.format(&quot;%dm&quot;, l / 1024 / 1024);\n</code></pre>\n<p>1304m</p>\n"},{"tags":[],"owner":{"account_id":3022791,"reputation":1815,"user_id":2563422,"display_name":"clwhisk"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1666630209,"creation_date":1666630209,"answer_id":74184360,"question_id":3758606,"body_markdown":"If on Android, you may simply call one of the static methods of ``android.text.Format.Formatter``.\r\n\r\nhttps://developer.android.com/reference/android/text/format/Formatter","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>If on Android, you may simply call one of the static methods of <code>android.text.Format.Formatter</code>.</p>\n<p><a href=\"https://developer.android.com/reference/android/text/format/Formatter\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/text/format/Formatter</a></p>\n"}],"owner":{"account_id":174948,"reputation":15184,"user_id":404615,"accept_rate":79,"display_name":"Igor Mukhin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356867,"favorite_count":0,"down_vote_count":1,"up_vote_count":683,"accepted_answer_id":3758880,"answer_count":31,"score":682,"last_activity_date":1677666127,"creation_date":1285058579,"question_id":3758606,"body_markdown":"How can I convert byte size into a human-readable format in Java?\r\n\r\nLike 1024 should become &quot;1 Kb&quot; and 1024*1024 should become &quot;1 Mb&quot;.\r\n\r\nI am kind of sick of writing this utility method for each project. Is there a static method in [Apache Commons][1] for this?\r\n\r\n  [1]: https://commons.apache.org/\r\n","title":"How can I convert byte size into a human-readable format in Java?","body":"<p>How can I convert byte size into a human-readable format in Java?</p>\n<p>Like 1024 should become &quot;1 Kb&quot; and 1024*1024 should become &quot;1 Mb&quot;.</p>\n<p>I am kind of sick of writing this utility method for each project. Is there a static method in <a href=\"https://commons.apache.org/\" rel=\"noreferrer\">Apache Commons</a> for this?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677515410,"post_id":75582439,"comment_id":133348579,"body_markdown":"I suspect it is your Entidad  holdingJurisdiccion relationship. If ID_HOL_JURI really is the ID column for HOL_JURI, that means it alone uniquely identifies a HoldingJurisdiccion instance - you have no need to define foriegn keys using ID_HOL_JURI AND ID_HOL in Entidad - ID_HOL is unneccessarily redundant and should be removed. JPA providers can map fks to non-id fields, but it isn&#39;t part of the spec, and in this case it might be a problem because there is no basic mapping holding the ID_HOL value in the instance for it to use - just a guess though. You are better off with only the single FK","body":"I suspect it is your Entidad  holdingJurisdiccion relationship. If ID_HOL_JURI really is the ID column for HOL_JURI, that means it alone uniquely identifies a HoldingJurisdiccion instance - you have no need to define foriegn keys using ID_HOL_JURI AND ID_HOL in Entidad - ID_HOL is unneccessarily redundant and should be removed. JPA providers can map fks to non-id fields, but it isn&#39;t part of the spec, and in this case it might be a problem because there is no basic mapping holding the ID_HOL value in the instance for it to use - just a guess though. You are better off with only the single FK"},{"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"score":0,"creation_date":1677517139,"post_id":75582439,"comment_id":133349176,"body_markdown":"oh i forgot to add , uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})}) to &quot;HOL_JURI&quot;; the client wants the column ID_HOL en the table &quot;ENTIDAD&quot;","body":"oh i forgot to add , uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})}) to &quot;HOL_JURI&quot;; the client wants the column ID_HOL en the table &quot;ENTIDAD&quot;"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":0,"creation_date":1677519947,"post_id":75582439,"comment_id":133350012,"body_markdown":"@MiguelArias Can you update your question and include the database schema?  The error is indicating that it cannot find the column in the table.","body":"@MiguelArias Can you update your question and include the database schema?  The error is indicating that it cannot find the column in the table."},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1677527084,"post_id":75582439,"comment_id":133351799,"body_markdown":"If the client wants that field for some reason, you should push back an ask why - I would suspect they will eventually want to filter using that value, and will then be stuck with the potential performance issues of only being able to access that value through joining across multiple entities (and so table joins) instead of just having it mapped as a basic column. Ie Select e from Entidad e where e.holdingJurisdiccion.holding.idHolding=:someValue vs just Select e from Entidad e where e.holdingId = someValue. Regardless, that join column is the source of your issue - remove it to confirm","body":"If the client wants that field for some reason, you should push back an ask why - I would suspect they will eventually want to filter using that value, and will then be stuck with the potential performance issues of only being able to access that value through joining across multiple entities (and so table joins) instead of just having it mapped as a basic column. Ie Select e from Entidad e where e.holdingJurisdiccion.holding.idHolding=:someValue vs just Select e from Entidad e where e.holdingId = someValue. Regardless, that join column is the source of your issue - remove it to confirm"}],"answers":[{"tags":[],"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677665979,"creation_date":1677665979,"answer_id":75602333,"question_id":75582439,"body_markdown":"I figured out how to make it work.\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;HOL&quot;)\r\n    public class Holding  implements Serializable{\r\n    \r\n        private static final long serialVersionUID = 1110819289093936782L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_HOL&quot;)\r\n        private Long idHolding;\r\n    \r\n    \r\n        @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\r\n        private String nombre;\r\n    \r\n    }\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\r\n    public class HoldingJurisdiccion implements Serializable{\r\n    \r\n        /**\r\n         * \r\n         */\r\n        private static final long serialVersionUID = 3441056203408582532L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_HOL_JURI&quot;)\r\n        private Long idHoldingJurisdiccion;\r\n        \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL&quot;)\r\n        private Holding holding;\r\n        \r\n        @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\r\n        private String nombreHoldingJuridiccion;\r\n    \r\n        \r\n    }\r\n    \r\n    @Data\r\n    @Entity\r\n    @Table(name=&quot;ENTIDAD&quot;)\r\n    public class Entidad  implements Serializable{\r\n    \r\n    \r\n        private static final long serialVersionUID = -1038561346897695629L;\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy=GenerationType.IDENTITY)\r\n        @Column(name=&quot;ID_ENTIDAD&quot;)\r\n        private Long idEntidad;\r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;)\r\n        private HoldingJurisdiccion holdingJurisdiccion;    \r\n    \r\n        @ManyToOne(fetch=FetchType.LAZY)\r\n        @JoinColumn(name=&quot;ID_HOL&quot;)\r\n        private Holding holding;\r\n    \r\n    }","title":"JPA @JoinColumns Unable to find column with logical name","body":"<p>I figured out how to make it work.</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;HOL&quot;)\npublic class Holding  implements Serializable{\n\n    private static final long serialVersionUID = 1110819289093936782L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL&quot;)\n    private Long idHolding;\n\n\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\n    private String nombre;\n\n}\n\n@Data\n@Entity\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\npublic class HoldingJurisdiccion implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 3441056203408582532L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL_JURI&quot;)\n    private Long idHoldingJurisdiccion;\n    \n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n    \n    @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\n    private String nombreHoldingJuridiccion;\n\n    \n}\n\n@Data\n@Entity\n@Table(name=&quot;ENTIDAD&quot;)\npublic class Entidad  implements Serializable{\n\n\n    private static final long serialVersionUID = -1038561346897695629L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_ENTIDAD&quot;)\n    private Long idEntidad;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;)\n    private HoldingJurisdiccion holdingJurisdiccion;    \n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n\n}\n</code></pre>\n"}],"owner":{"account_id":27891917,"reputation":1,"user_id":21298115,"display_name":"Miguel Arias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677665979,"creation_date":1677511837,"question_id":75582439,"body_markdown":"I Have a Spring Boot Project. Nothing but 3 clases (entities), when i try to run the project i get the error &quot; Caused by: org.hibernate.MappingException: Unable to find column with logical name:&quot;\r\n\r\nThese are the classes:\r\n\r\n```\r\n@Data\r\n@Entity\r\n@Table(name=&quot;HOL&quot;)\r\npublic class Holding  implements Serializable{\r\n\r\n\tprivate static final long serialVersionUID = 1110819289093936782L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_HOL&quot;)\r\n\tprivate Long idHolding;\r\n\r\n\r\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\r\n\tprivate String nombre;\r\n\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\r\npublic class HoldingJurisdiccion implements Serializable{\r\n\r\n\t/**\r\n\t * \r\n\t */\r\n\tprivate static final long serialVersionUID = 3441056203408582532L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_HOL_JURI&quot;)\r\n\tprivate Long idHoldingJurisdiccion;\r\n\t\r\n\t@ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumn(name=&quot;ID_HOL&quot;)\r\n\tprivate Holding holding;\r\n\t\r\n\t@Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\r\n\tprivate String nombreHoldingJuridiccion;\r\n\r\n\t\r\n}\r\n\r\n@Data\r\n@Entity\r\n@Table(name=&quot;ENTIDAD&quot;)\r\npublic class Entidad  implements Serializable{\r\n\r\n\r\n\tprivate static final long serialVersionUID = -1038561346897695629L;\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name=&quot;ID_ENTIDAD&quot;)\r\n\tprivate Long idEntidad;\r\n\r\n\t@ManyToOne(fetch=FetchType.LAZY)\r\n\t@JoinColumns({\r\n\t\t@JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;),\r\n\t\t@JoinColumn(name=&quot;ID_HOL&quot;, referencedColumnName=&quot;ID_HOL&quot;)\r\n\t})\r\n\tprivate HoldingJurisdiccion holdingJurisdiccion;\t\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI expected the project to run, but instead got the error:\r\n\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\r\n\tat com.example.springBootTest.SpringBootTestApplication.main(SpringBootTestApplication.java:10) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n\tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\r\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\r\n\tat org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:865) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\r\n\tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\r\n\t... 21 common frames omitted\r\n\r\n```\r\n\r\nI tried to add backticks (&#180;) to the referenced column name, I also tried to put the property spring.jpa.properties.hibernate.globally_quoted_identifiers=true in application.properties, but still getting the same error","title":"JPA @JoinColumns Unable to find column with logical name","body":"<p>I Have a Spring Boot Project. Nothing but 3 clases (entities), when i try to run the project i get the error &quot; Caused by: org.hibernate.MappingException: Unable to find column with logical name:&quot;</p>\n<p>These are the classes:</p>\n<pre><code>@Data\n@Entity\n@Table(name=&quot;HOL&quot;)\npublic class Holding  implements Serializable{\n\n    private static final long serialVersionUID = 1110819289093936782L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL&quot;)\n    private Long idHolding;\n\n\n    @Column(name=&quot;NOMBRE_HOLDING&quot;, unique = true, nullable = false, length = 50)\n    private String nombre;\n\n}\n\n@Data\n@Entity\n@Table(name=&quot;HOL_JURI&quot;, uniqueConstraints = {@UniqueConstraint(columnNames = { &quot;ID_HOL_JURI&quot;, &quot;ID_HOL&quot;})})\npublic class HoldingJurisdiccion implements Serializable{\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 3441056203408582532L;\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name=&quot;ID_HOL_JURI&quot;)\n    private Long idHoldingJurisdiccion;\n    \n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumn(name=&quot;ID_HOL&quot;)\n    private Holding holding;\n    \n    @Column(name=&quot;NOMBRE&quot;, nullable = false, length = 50)\n    private String nombreHoldingJuridiccion;\n\n    \n}\n\n@Data\n@Entity\n@Table(name=&quot;ENTIDAD&quot;)\npublic class Entidad  implements Serializable{\n\n\n    private static final long serialVersionUID = -1038561346897695629L;\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name=&quot;ID_ENTIDAD&quot;)\n    private Long idEntidad;\n\n    @ManyToOne(fetch=FetchType.LAZY)\n    @JoinColumns({\n        @JoinColumn(name=&quot;ID_HOL_JURI&quot;, referencedColumnName = &quot;ID_HOL_JURI&quot;),\n        @JoinColumn(name=&quot;ID_HOL&quot;, referencedColumnName=&quot;ID_HOL&quot;)\n    })\n    private HoldingJurisdiccion holdingJurisdiccion;    \n\n}\n</code></pre>\n<p>I expected the project to run, but instead got the error:</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1804) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:908) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.23.jar:5.3.23]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.5.jar:2.7.5]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.5.jar:2.7.5]\n    at com.example.springBootTest.SpringBootTestApplication.main(SpringBootTestApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.5.jar:2.7.5]\nCaused by: org.hibernate.MappingException: Unable to find column with logical name: ID_HOL in hol_juri\n    at org.hibernate.cfg.Ejb3JoinColumn.checkReferencedColumnsType(Ejb3JoinColumn.java:865) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.cfg.BinderHelper.createSyntheticPropertyReference(BinderHelper.java:126) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.cfg.ToOneFkSecondPass.doSecondPass(ToOneFkSecondPass.java:104) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processEndOfQueue(InFlightMetadataCollectorImpl.java:1750) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processFkSecondPassesInOrder(InFlightMetadataCollectorImpl.java:1694) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.internal.InFlightMetadataCollectorImpl.processSecondPasses(InFlightMetadataCollectorImpl.java:1623) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:295) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1460) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1494) ~[hibernate-core-5.6.12.Final.jar:5.6.12.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:58) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:365) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:341) ~[spring-orm-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1863) ~[spring-beans-5.3.23.jar:5.3.23]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1800) ~[spring-beans-5.3.23.jar:5.3.23]\n    ... 21 common frames omitted\n\n</code></pre>\n<p>I tried to add backticks (´) to the referenced column name, I also tried to put the property spring.jpa.properties.hibernate.globally_quoted_identifiers=true in application.properties, but still getting the same error</p>\n"},{"tags":["java","api","rest","okhttp","http-status-code-415"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1677601588,"post_id":75594723,"comment_id":133368547,"body_markdown":"Your Accept headers are different between Postman and Java.  Have you tried to make them the same and see what happens?  In theory it shouldn&#39;t matter but some API are picky.","body":"Your Accept headers are different between Postman and Java.  Have you tried to make them the same and see what happens?  In theory it shouldn&#39;t matter but some API are picky."},{"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"score":0,"creation_date":1677602053,"post_id":75594723,"comment_id":133368722,"body_markdown":"Hi, thank&#39;s for your answer. Yes, I&#39;ve tried to change my &quot;Content-Type&quot; to `*/*` and my &quot;Accept&quot; to `*/*`... But i&#39;ve always a 415 HTTP Error. The MIME type `*/*` for the directives &quot;Accept&quot; or &quot;Content-Type&quot; don&#39;t change anything","body":"Hi, thank&#39;s for your answer. Yes, I&#39;ve tried to change my &quot;Content-Type&quot; to <code>*&#47;*</code> and my &quot;Accept&quot; to <code>*&#47;*</code>... But i&#39;ve always a 415 HTTP Error. The MIME type <code>*&#47;*</code> for the directives &quot;Accept&quot; or &quot;Content-Type&quot; don&#39;t change anything"}],"answers":[{"tags":[],"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677665848,"creation_date":1677665848,"answer_id":75602309,"question_id":75594723,"body_markdown":"So, I have finally found a solution to solve this problem.\r\n\r\nFor all people who use the OkHttp3 library, when you build the `RequestBody` object, you specify the `RequestBody` and the `MediaType` like that :\r\n```java\r\nMediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\nRequestBody body = RequestBody.Companion.create(jsonBody, mediaType);\r\n\r\nRequest request = new Request.Builder()\r\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n    .post(body)\r\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\r\n    .build()\r\n;\r\n```\r\n\r\nThe `MediaType.parse(...)` method concat `charset=utf-8` to the `Content-Type`.  \r\nSome API doesn&#39;t accept header like that : `Content-Type: application/json; charset=utf-8` but accept that : `Content-Type: application/json`  \r\n\r\nSo, remove the `MediaType` object, create the `RequestBody` without the `MediaType` and specify the `Content-Type` into the `Request.Builder()` method. The final code looks like that :\r\n\r\n```java\r\n// Remove the below line\r\n// MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\n// Set the second parameter to &quot;null&quot;\r\nRequestBody body = RequestBody.Companion.create(jsonBody, null);\r\n\r\n// Add a new header with the desired Content-Type\r\nRequest request = new Request.Builder()\r\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n    .post(body)\r\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\r\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n    .build()\r\n;\r\n```\r\n\r\nFor more informations, you can referer to the discussion of the following GitHub issue : https://github.com/square/okhttp/issues/3081","title":"JAVA OkHTTP3 Library gives me a 415 HTTP Error","body":"<p>So, I have finally found a solution to solve this problem.</p>\n<p>For all people who use the OkHttp3 library, when you build the <code>RequestBody</code> object, you specify the <code>RequestBody</code> and the <code>MediaType</code> like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\nRequestBody body = RequestBody.Companion.create(jsonBody, mediaType);\n\nRequest request = new Request.Builder()\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n    .post(body)\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\n    .build()\n;\n</code></pre>\n<p>The <code>MediaType.parse(...)</code> method concat <code>charset=utf-8</code> to the <code>Content-Type</code>.<br />\nSome API doesn't accept header like that : <code>Content-Type: application/json; charset=utf-8</code> but accept that : <code>Content-Type: application/json</code></p>\n<p>So, remove the <code>MediaType</code> object, create the <code>RequestBody</code> without the <code>MediaType</code> and specify the <code>Content-Type</code> into the <code>Request.Builder()</code> method. The final code looks like that :</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Remove the below line\n// MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\n// Set the second parameter to &quot;null&quot;\nRequestBody body = RequestBody.Companion.create(jsonBody, null);\n\n// Add a new header with the desired Content-Type\nRequest request = new Request.Builder()\n    .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n    .post(body)\n    .addHeader(&quot;Authorization&quot;, oAuthToken.getAccessToken())\n    .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n    .build()\n;\n</code></pre>\n<p>For more informations, you can referer to the discussion of the following GitHub issue : <a href=\"https://github.com/square/okhttp/issues/3081\" rel=\"nofollow noreferrer\">https://github.com/square/okhttp/issues/3081</a></p>\n"}],"owner":{"account_id":12832290,"reputation":169,"user_id":9283066,"display_name":"Alexandre"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":289,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677665949,"creation_date":1677601395,"question_id":75594723,"body_markdown":"### I have found a solution to solve this issue.  \r\n**Check the first answer to this topic**\r\n\r\n---\r\n\r\nI&#39;ve a problem with the library **OkHTTP3**. I want to join an API endpoint with the library.  \r\n\r\n---  \r\n\r\nFirstly, I&#39;ve created my request with Postman to test the API endpoint. After configuring the URL, the access token and the JSON Body, I&#39;ve launched my request. Postman gived me a positive response (JSON response + HTTP Code 200). All works fine.\r\n\r\nAfter that, I&#39;ve coded my Java method. The first request to get the access token works fine.  \r\nBut the second request return me a 415 HTTP Code. When I dump the JSON body given to the JAVA request and I paste it into Postman, I don&#39;t have any problem.\r\n\r\nAlso, the headers between my JAVA method with OkHTTP3 and my Postman configuration are litterally the same... I don&#39;t know why it doesn&#39;t work !\r\n\r\nBelow, my JAVA code and a screen capture of my Postman configuration.  \r\nIf anyone has an idea... thanks in advance !\r\n\r\n---\r\n\r\n```java\r\npublic static void getAlertModels(OAuthToken oAuthToken, int customerId) throws IOException {\r\n\r\n    ApiRequest apiRequest = new ApiRequest(\r\n        new ApiRequestSearch(\r\n            Arrays.asList(&quot;triggers&quot;, &quot;customers&quot;),\r\n            Arrays.asList(\r\n                Arrays.asList(&quot;product&quot;),\r\n                Arrays.asList(9)\r\n            )\r\n        )\r\n    );\r\n    \r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n    String jsonBody = objectMapper.writeValueAsString(apiRequest);\r\n\r\n    OkHttpClient client = new OkHttpClient().newBuilder().build();\r\n\r\n    MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\r\n\r\n    RequestBody body = RequestBody.create(jsonBody, mediaType);\r\n\r\n    Request request = new Request.Builder()\r\n        .url(&quot;https://api.anonymous.tld/alertModels&quot;)\r\n        .method(&quot;POST&quot;, body)\r\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + oAuthToken.getAccessToken())\r\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n        .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n        .build()\r\n    ;\r\n\r\n    Response response = client.newCall(request).execute();\r\n\r\n    System.out.println(jsonBody);\r\n    System.out.println(response.code());\r\n    System.out.println(response.body().string());\r\n}\r\n```\r\n\r\n---\r\n\r\nPostman Body Configuration : https://i.stack.imgur.com/YFOXV.png  \r\nPostman Headers Configuration : https://i.stack.imgur.com/7cBI7.png\r\n\r\n  [1]: https://i.stack.imgur.com/YFOXV.png\r\n  [2]: https://i.stack.imgur.com/7cBI7.png","title":"JAVA OkHTTP3 Library gives me a 415 HTTP Error","body":"<h3>I have found a solution to solve this issue.</h3>\n<p><strong>Check the first answer to this topic</strong></p>\n<hr />\n<p>I've a problem with the library <strong>OkHTTP3</strong>. I want to join an API endpoint with the library.</p>\n<hr />\n<p>Firstly, I've created my request with Postman to test the API endpoint. After configuring the URL, the access token and the JSON Body, I've launched my request. Postman gived me a positive response (JSON response + HTTP Code 200). All works fine.</p>\n<p>After that, I've coded my Java method. The first request to get the access token works fine.<br />\nBut the second request return me a 415 HTTP Code. When I dump the JSON body given to the JAVA request and I paste it into Postman, I don't have any problem.</p>\n<p>Also, the headers between my JAVA method with OkHTTP3 and my Postman configuration are litterally the same... I don't know why it doesn't work !</p>\n<p>Below, my JAVA code and a screen capture of my Postman configuration.<br />\nIf anyone has an idea... thanks in advance !</p>\n<hr />\n<pre class=\"lang-java prettyprint-override\"><code>public static void getAlertModels(OAuthToken oAuthToken, int customerId) throws IOException {\n\n    ApiRequest apiRequest = new ApiRequest(\n        new ApiRequestSearch(\n            Arrays.asList(&quot;triggers&quot;, &quot;customers&quot;),\n            Arrays.asList(\n                Arrays.asList(&quot;product&quot;),\n                Arrays.asList(9)\n            )\n        )\n    );\n    \n    ObjectMapper objectMapper = new ObjectMapper();\n\n    String jsonBody = objectMapper.writeValueAsString(apiRequest);\n\n    OkHttpClient client = new OkHttpClient().newBuilder().build();\n\n    MediaType mediaType = MediaType.parse(&quot;application/json&quot;);\n\n    RequestBody body = RequestBody.create(jsonBody, mediaType);\n\n    Request request = new Request.Builder()\n        .url(&quot;https://api.anonymous.tld/alertModels&quot;)\n        .method(&quot;POST&quot;, body)\n        .addHeader(&quot;Authorization&quot;, &quot;Bearer &quot; + oAuthToken.getAccessToken())\n        .addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\n        .addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\n        .build()\n    ;\n\n    Response response = client.newCall(request).execute();\n\n    System.out.println(jsonBody);\n    System.out.println(response.code());\n    System.out.println(response.body().string());\n}\n</code></pre>\n<hr />\n<p>Postman Body Configuration : <a href=\"https://i.stack.imgur.com/YFOXV.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/YFOXV.png</a><br />\nPostman Headers Configuration : <a href=\"https://i.stack.imgur.com/7cBI7.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/7cBI7.png</a></p>\n"},{"tags":["java","iterator","abstraction"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1677665951,"post_id":75602299,"comment_id":133381234,"body_markdown":"Why do you think the second way &quot;reveals the implementation&quot;? In what way does it reveal the implementation? How does anyone know that you used a `List&lt;Card&gt;` to implement `Deck` just by seeing that `randomOrder` returns a `List&lt;Card&gt;`?","body":"Why do you think the second way &quot;reveals the implementation&quot;? In what way does it reveal the implementation? How does anyone know that you used a <code>List&lt;Card&gt;</code> to implement <code>Deck</code> just by seeing that <code>randomOrder</code> returns a <code>List&lt;Card&gt;</code>?"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1677665983,"post_id":75602299,"comment_id":133381238,"body_markdown":"Does this answer your question? [Can a collection have multiple iterators in Java?](https://stackoverflow.com/questions/5315441/can-a-collection-have-multiple-iterators-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5315441/can-a-collection-have-multiple-iterators-in-java\">Can a collection have multiple iterators in Java?</a>"},{"owner":{"account_id":3185265,"reputation":7712,"user_id":2691058,"accept_rate":85,"display_name":"toastrackengima"},"score":0,"creation_date":1677666008,"post_id":75602299,"comment_id":133381244,"body_markdown":"You can just provide multiple iterators for your class","body":"You can just provide multiple iterators for your class"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1677666224,"post_id":75602299,"comment_id":133381302,"body_markdown":"IMO this requires first to define the purpose of the class precisely: Is a &quot;Deck&quot; in your case the set of cards that make up the deck or is it a *specific shuffle* of a deck? IMO you mostly likely need the second one and don&#39;t *usually* need the first one specifically (or can substitue a well-defined instance of the second for the first). If it&#39;s the later, then returning a new `Deck` from the `shuffle()` method would be appropriate (as would modifying the current instance, if you don&#39;t want/need immutable objects).","body":"IMO this requires first to define the purpose of the class precisely: Is a &quot;Deck&quot; in your case the set of cards that make up the deck or is it a <i>specific shuffle</i> of a deck? IMO you mostly likely need the second one and don&#39;t <i>usually</i> need the first one specifically (or can substitue a well-defined instance of the second for the first). If it&#39;s the later, then returning a new <code>Deck</code> from the <code>shuffle()</code> method would be appropriate (as would modifying the current instance, if you don&#39;t want/need immutable objects)."}],"owner":{"account_id":19296835,"reputation":94,"user_id":14105640,"display_name":"thomaoc"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677665797,"creation_date":1677665797,"question_id":75602299,"body_markdown":"Context\r\n=\r\nI have the following class which represents a deck of cards, containing an array of Cards:\r\n```\r\npublic class Deck {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    ...\r\n}\r\n```\r\n\r\nProblem\r\n=\r\nI would like to be able to iterate through the Deck class in different ways. For example, in order, in random order, etc. In addition, I would like to do this while hiding the implementation of the class as much as possible.\r\n\r\nWhat I have tried\r\n=\r\n**1. Implementing Iterable\\&lt;Card&gt;** &lt;br&gt;\r\nFrom my understanding, if I make the Deck class implement the Iterable class as follows:\r\n```\r\npublic class Deck implements Iterable&lt;Card&gt; {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    @Override\r\n    public Iterator&lt;Card&gt; iterator() {\r\n         ...\r\n    }\r\n\r\n    ...\r\n}\r\n```\r\nit will only allow one way of traversing the deck. &lt;br&gt;\r\n\r\n**2. Returning a copy of the array in a different order** &lt;br&gt;\r\nFor example, for a random order:\r\n```\r\npublic class Deck {\r\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\r\n    \r\n    public List&lt;Card&gt; randomOrder() {\r\n         List&lt;Card&gt; copy = new ArrayList&lt;Card&gt;( cards );\r\n         Collections.shuffle(copy);\r\n         return copy;\r\n    }\r\n\r\n    ...\r\n}\r\n\r\n```\r\n\r\nThis way seems to be the simplest but I feel reveals the implementation of the class a lot more.\r\n\r\nConclusion\r\n=\r\nWhat is the best way to do it? ","title":"Allowing different ways of iterating through a class in Java","body":"<h1>Context</h1>\n<p>I have the following class which represents a deck of cards, containing an array of Cards:</p>\n<pre><code>public class Deck {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    ...\n}\n</code></pre>\n<h1>Problem</h1>\n<p>I would like to be able to iterate through the Deck class in different ways. For example, in order, in random order, etc. In addition, I would like to do this while hiding the implementation of the class as much as possible.</p>\n<h1>What I have tried</h1>\n<p><strong>1. Implementing Iterable&lt;Card&gt;</strong> <br>\nFrom my understanding, if I make the Deck class implement the Iterable class as follows:</p>\n<pre><code>public class Deck implements Iterable&lt;Card&gt; {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    @Override\n    public Iterator&lt;Card&gt; iterator() {\n         ...\n    }\n\n    ...\n}\n</code></pre>\n<p>it will only allow one way of traversing the deck. <br></p>\n<p><strong>2. Returning a copy of the array in a different order</strong> <br>\nFor example, for a random order:</p>\n<pre><code>public class Deck {\n    private List&lt;Card&gt; cards = new ArrayList&lt;Card&gt;;\n    \n    public List&lt;Card&gt; randomOrder() {\n         List&lt;Card&gt; copy = new ArrayList&lt;Card&gt;( cards );\n         Collections.shuffle(copy);\n         return copy;\n    }\n\n    ...\n}\n\n</code></pre>\n<p>This way seems to be the simplest but I feel reveals the implementation of the class a lot more.</p>\n<h1>Conclusion</h1>\n<p>What is the best way to do it?</p>\n"},{"tags":["java","matcher"],"comments":[{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677663572,"post_id":75601849,"comment_id":133380554,"body_markdown":"https://regex101.com/ I m thinking your first group is a greedy expression meaning it captures all the digits and there is nothing left to match 2nd group, thus it is not a match overall","body":"<a href=\"https://regex101.com/\" rel=\"nofollow noreferrer\">regex101.com</a> I m thinking your first group is a greedy expression meaning it captures all the digits and there is nothing left to match 2nd group, thus it is not a match overall"},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1677663946,"post_id":75601849,"comment_id":133380670,"body_markdown":"`matcher.matches()` would work fine. Did you just make an error by using a wrong text variable? You have `String testNumber = &quot;52021CCC&quot;;` defined, but you are using `Matcher matcher = pattern.matcher(celexNumber)`, with `celexNumber` as the input.","body":"<code>matcher.matches()</code> would work fine. Did you just make an error by using a wrong text variable? You have <code>String testNumber = &quot;52021CCC&quot;;</code> defined, but you are using <code>Matcher matcher = pattern.matcher(celexNumber)</code>, with <code>celexNumber</code> as the input."},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1677664178,"post_id":75601849,"comment_id":133380753,"body_markdown":"Sorry that was my mistake, the input is testNumber","body":"Sorry that was my mistake, the input is testNumber"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":0,"creation_date":1677664314,"post_id":75601849,"comment_id":133380781,"body_markdown":"I m thinking, can you try replacing `\\\\d` with `[0-9]`? its basically the same, but its possible that by using \\\\d you escape the escape and it searches for literally \\d","body":"I m thinking, can you try replacing <code>\\\\d</code> with <code>[0-9]</code>? its basically the same, but its possible that by using \\\\d you escape the escape and it searches for literally \\d"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677664690,"post_id":75601849,"comment_id":133380874,"body_markdown":"`matcher.find()` is not executed because `matcher.matches()` returns true and the expression short-circuits because of the `||`.","body":"<code>matcher.find()</code> is not executed because <code>matcher.matches()</code> returns true and the expression short-circuits because of the <code>||</code>."},{"owner":{"account_id":4739783,"reputation":612632,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1677664723,"post_id":75601849,"comment_id":133380885,"body_markdown":"Also, if you add the missing `)` after `matcher.find()`, [your code will work fine](https://ideone.com/VstRaS). Still looks like a typo to me. The error cannot be reproduced.","body":"Also, if you add the missing <code>)</code> after <code>matcher.find()</code>, <a href=\"https://ideone.com/VstRaS\" rel=\"nofollow noreferrer\">your code will work fine</a>. Still looks like a typo to me. The error cannot be reproduced."},{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1677666036,"post_id":75601849,"comment_id":133381252,"body_markdown":"Yeah, no clue why this doesn&#39;t work in my environment.","body":"Yeah, no clue why this doesn&#39;t work in my environment."}],"answers":[{"comments":[{"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"score":0,"creation_date":1677666291,"post_id":75602293,"comment_id":133381318,"body_markdown":"Tried everything, same output. As Wiktor said above, it should work with both conditions. Maybe I need to change the regex.","body":"Tried everything, same output. As Wiktor said above, it should work with both conditions. Maybe I need to change the regex."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1677666480,"post_id":75602293,"comment_id":133381375,"body_markdown":"Did you save the file? Wiktor proved that the code works. That means that you are not running the code you think you are running.","body":"Did you save the file? Wiktor proved that the code works. That means that you are not running the code you think you are running."}],"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1677665760,"creation_date":1677665760,"answer_id":75602293,"question_id":75601849,"body_markdown":"The problem is in the expression in the `if`:\r\n\r\n    if (matcher.matches() || matcher.find()) {\r\n\r\nSince `matcher.matches()` returns true and this is a logical `or`, this expression short-circuits and the `matcher.find()` is never executed. This, all calls to `group()` will return `null`.\r\n\r\nA simple fix is to replace the `or` with an `and`:\r\n\r\n    if (matcher.matches() &amp;&amp; matcher.find()) {\r\n\r\nIn this case it might actually be enough to only call `find` and remove the `matches` check.","title":"Matcher group() function returns null","body":"<p>The problem is in the expression in the <code>if</code>:</p>\n<pre><code>if (matcher.matches() || matcher.find()) {\n</code></pre>\n<p>Since <code>matcher.matches()</code> returns true and this is a logical <code>or</code>, this expression short-circuits and the <code>matcher.find()</code> is never executed. This, all calls to <code>group()</code> will return <code>null</code>.</p>\n<p>A simple fix is to replace the <code>or</code> with an <code>and</code>:</p>\n<pre><code>if (matcher.matches() &amp;&amp; matcher.find()) {\n</code></pre>\n<p>In this case it might actually be enough to only call <code>find</code> and remove the <code>matches</code> check.</p>\n"}],"owner":{"account_id":24365143,"reputation":5,"user_id":18298993,"display_name":"komplRX"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":236,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":75602293,"answer_count":1,"score":-2,"last_activity_date":1677665760,"creation_date":1677663364,"question_id":75601849,"body_markdown":"I have this regular expression `&quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;` and the string `&quot;52021CCC&quot;`.\r\n\r\n\tString testNumber = &quot;52021CCC&quot;;\r\n    String[] parts = null;\r\n\r\n\tString regex = &quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;;\r\n\tPattern pattern = Pattern.compile(regex);\r\n\tMatcher matcher = pattern.matcher(testNumber);\r\n    if (matcher.matches() || matcher.find()) {\r\n\t\tparts = new String[3];\r\n\t\tparts[0] = matcher.group(1);\r\n\t\tparts[1] = matcher.group(2);\r\n\t\tparts[2] = matcher.group(3);\r\n\t\tSystem.out.println(parts[0]);\r\n\t\tSystem.out.println(parts[1]);\r\n\t\tSystem.out.println(parts[2]);\r\n    }\r\nI expected to print : 5, 2021, CCC\r\n\r\nbut it prints null, null, null.\r\n\r\nWhen I change the input string to 5T2021CCC, it prints: T, 2021, CCC\r\n\r\nMy question is, since the first group is a single digit or the charaters T or A shouldnt the 52021CCC be matched and printed correctly?\r\n\r\nI cannot understand where is the problem here.\r\n","title":"Matcher group() function returns null","body":"<p>I have this regular expression <code>&quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;</code> and the string <code>&quot;52021CCC&quot;</code>.</p>\n<pre><code>String testNumber = &quot;52021CCC&quot;;\nString[] parts = null;\n\nString regex = &quot;([0-9TA])?(\\\\d{4})?([A-Z]{3})?&quot;;\nPattern pattern = Pattern.compile(regex);\nMatcher matcher = pattern.matcher(testNumber);\nif (matcher.matches() || matcher.find()) {\n    parts = new String[3];\n    parts[0] = matcher.group(1);\n    parts[1] = matcher.group(2);\n    parts[2] = matcher.group(3);\n    System.out.println(parts[0]);\n    System.out.println(parts[1]);\n    System.out.println(parts[2]);\n}\n</code></pre>\n<p>I expected to print : 5, 2021, CCC</p>\n<p>but it prints null, null, null.</p>\n<p>When I change the input string to 5T2021CCC, it prints: T, 2021, CCC</p>\n<p>My question is, since the first group is a single digit or the charaters T or A shouldnt the 52021CCC be matched and printed correctly?</p>\n<p>I cannot understand where is the problem here.</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677665540,"post_id":75601583,"comment_id":133381119,"body_markdown":"Surprise! There are 2 sets of metadata, the second one is the XMP stuff https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/ExtractMetadata.java?view=markup","body":"Surprise! There are 2 sets of metadata, the second one is the XMP stuff <a href=\"https://svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/java/org/apache/pdfbox/examples/pdmodel/ExtractMetadata.java?view=markup\" rel=\"nofollow noreferrer\">svn.apache.org/viewvc/pdfbox/branches/2.0/examples/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677721412,"post_id":75601583,"comment_id":133395867,"body_markdown":"Thank you for the quick response. I read the codes from the link you gave and tried with metadata but it didn&#39;t work. The error i&#39;m getting was &quot;org.apache.xmpbox.xml.XmpParsingException: Cannot find a definition for the namespace http://ns.adobe.com/pdfx/1.3/\n&quot;. Thus, I&#39;m stuck with PDDocumentInformation. I also check my pdf versions with veraPDF and they were PDF/A-1B (https://issues.apache.org/jira/browse/PDFBOX-4961)","body":"Thank you for the quick response. I read the codes from the link you gave and tried with metadata but it didn&#39;t work. The error i&#39;m getting was &quot;org.apache.xmpbox.xml.XmpParsingException: Cannot find a definition for the namespace <a href=\"http://ns.adobe.com/pdfx/1.3/\" rel=\"nofollow noreferrer\">ns.adobe.com/pdfx/1.3</a> &quot;. Thus, I&#39;m stuck with PDDocumentInformation. I also check my pdf versions with veraPDF and they were PDF/A-1B (<a href=\"https://issues.apache.org/jira/browse/PDFBOX-4961\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/PDFBOX-4961</a>)"},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677723443,"post_id":75601583,"comment_id":133396099,"body_markdown":"I had a look at the pdf properties.\nFile&gt;Properties&gt;Custom\nIt have exactly all the property which are test1-test7 and that&#39;s all. It also have a note...\n&quot;You can add custom properties to this document. Each custom property requires a unique name, which must not be one of the standard property names Title, Author, Subject, Keywords, Creator, Producer, CreationDate, ModDate and Trapped.&quot;","body":"I had a look at the pdf properties. File&gt;Properties&gt;Custom It have exactly all the property which are test1-test7 and that&#39;s all. It also have a note... &quot;You can add custom properties to this document. Each custom property requires a unique name, which must not be one of the standard property names Title, Author, Subject, Keywords, Creator, Producer, CreationDate, ModDate and Trapped.&quot;"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677760136,"post_id":75601583,"comment_id":133403531,"body_markdown":"This is a weakness of xmpbox. You can use JempBox of PDFBox 1.8.17. Sadly I don&#39;t have any quick examples, you could look into the tika source code. Or in the test cases of the jempbox source code.","body":"This is a weakness of xmpbox. You can use JempBox of PDFBox 1.8.17. Sadly I don&#39;t have any quick examples, you could look into the tika source code. Or in the test cases of the jempbox source code."},{"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"score":0,"creation_date":1677813081,"post_id":75601583,"comment_id":133415748,"body_markdown":"Thank you for the suggestion but i will remain it this way first and ensure i exclude the standard property name due to some circumstances &#128077;","body":"Thank you for the suggestion but i will remain it this way first and ensure i exclude the standard property name due to some circumstances 👍"}],"owner":{"account_id":19270417,"reputation":71,"user_id":14084448,"display_name":"Chan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1677665735,"creation_date":1677661934,"question_id":75601583,"body_markdown":"I&#39;m using **commons-logging-1.2.jar** and **fontbox-2.0.27.jar**\r\nFor some reason, some value like &quot;CreationDate&quot;, &quot;ModDate&quot; and &quot;Title&quot; was detected in my custom properties but i didn&#39;t declare it whatsoever or even added it. I use if else statement to prevent them adding into arraylist. Does anyone know what is the root cause or how to solve it?\r\n\r\n**My code...**\r\n```\r\npublic List&lt;String[]&gt; readPDFProperties(String fileName, String filePath) {\r\n        System.out.println(&quot;PDF&quot;);\r\n        System.out.println(fileName);\r\n        List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\r\n        try {\r\n\r\n            PDDocument pdDocument = PDDocument.load(new FileInputStream(filePath));\r\n            PDDocumentInformation pdDocumentInformation = pdDocument.getDocumentInformation();\r\n            Set&lt;String&gt; set = pdDocumentInformation.getMetadataKeys();\r\n            Iterator&lt;String&gt; iterator = set.iterator();\r\n\r\n            while (iterator.hasNext()) {\r\n                String value = iterator.next().trim();\r\n                if (value.equalsIgnoreCase(&quot;Author&quot;) || value.equalsIgnoreCase(&quot;CreationDate&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Creator&quot;) || value.equalsIgnoreCase(&quot;ModDate&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Title&quot;) || value.equalsIgnoreCase(&quot;Trapped&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Producer&quot;) || value.equalsIgnoreCase(&quot;Subject&quot;) ||\r\n                        value.equalsIgnoreCase(&quot;Keywords&quot;) || value.equalsIgnoreCase(&quot;Config File&quot;)) {\r\n                } else {\r\n                    String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\r\n                    String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\r\n                    String[] arr = new String[14];\r\n\r\n                    arr[0] = fileName;\r\n                    arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\r\n                    arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\r\n                    arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\r\n                    arr[4] = &quot;&quot;;\r\n                    arr[5] = &quot;&quot;;\r\n                    arr[6] = &quot;&quot;;\r\n                    arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\r\n                    arr[8] = &quot;&quot;; //9\r\n\r\n                    arr[9] = value != null ? value : &quot;&quot;;\r\n                    arr[10] = pdDocumentInformation.getCOSObject().getString(value) != null ? pdDocumentInformation.getCOSObject().getString(value) : &quot;&quot;;\r\n\r\n                    arr[11] = creationDate;\r\n                    arr[12] = modifiedDate;\r\n                    arr[13] = &quot;&quot;; //3\r\n                    arrList.add(arr);\r\n                }\r\n            }\r\n\r\n            if (arrList.size() == 0) {\r\n                String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\r\n                String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\r\n                String[] arr = new String[14];\r\n\r\n                arr[0] = fileName;\r\n                arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\r\n                arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\r\n                arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\r\n                arr[4] = &quot;&quot;;\r\n                arr[5] = &quot;&quot;;\r\n                arr[6] = &quot;&quot;;\r\n                arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\r\n                arr[8] = &quot;&quot;; //9\r\n\r\n                arr[9] = &quot;&quot;;\r\n                arr[10] = &quot;&quot;;\r\n\r\n                arr[11] = creationDate;\r\n                arr[12] = modifiedDate;\r\n                arr[13] = &quot;&quot;; //3\r\n                arrList.add(arr);\r\n            }\r\n            pdDocument.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return arrList;\r\n    }\r\n```\r\n**CSV**\r\n[![enter image description here](https://i.stack.imgur.com/eJfiC.png)](https://i.stack.imgur.com/eJfiC.png)\r\n\r\n\r\nExpecting a solution or a reason","title":"Other properties appear in Apache PDFBox custom properties","body":"<p>I'm using <strong>commons-logging-1.2.jar</strong> and <strong>fontbox-2.0.27.jar</strong>\nFor some reason, some value like &quot;CreationDate&quot;, &quot;ModDate&quot; and &quot;Title&quot; was detected in my custom properties but i didn't declare it whatsoever or even added it. I use if else statement to prevent them adding into arraylist. Does anyone know what is the root cause or how to solve it?</p>\n<p><strong>My code...</strong></p>\n<pre><code>public List&lt;String[]&gt; readPDFProperties(String fileName, String filePath) {\n        System.out.println(&quot;PDF&quot;);\n        System.out.println(fileName);\n        List&lt;String[]&gt; arrList = new ArrayList&lt;&gt;();\n        try {\n\n            PDDocument pdDocument = PDDocument.load(new FileInputStream(filePath));\n            PDDocumentInformation pdDocumentInformation = pdDocument.getDocumentInformation();\n            Set&lt;String&gt; set = pdDocumentInformation.getMetadataKeys();\n            Iterator&lt;String&gt; iterator = set.iterator();\n\n            while (iterator.hasNext()) {\n                String value = iterator.next().trim();\n                if (value.equalsIgnoreCase(&quot;Author&quot;) || value.equalsIgnoreCase(&quot;CreationDate&quot;) ||\n                        value.equalsIgnoreCase(&quot;Creator&quot;) || value.equalsIgnoreCase(&quot;ModDate&quot;) ||\n                        value.equalsIgnoreCase(&quot;Title&quot;) || value.equalsIgnoreCase(&quot;Trapped&quot;) ||\n                        value.equalsIgnoreCase(&quot;Producer&quot;) || value.equalsIgnoreCase(&quot;Subject&quot;) ||\n                        value.equalsIgnoreCase(&quot;Keywords&quot;) || value.equalsIgnoreCase(&quot;Config File&quot;)) {\n                } else {\n                    String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\n                    String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\n                    String[] arr = new String[14];\n\n                    arr[0] = fileName;\n                    arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\n                    arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\n                    arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\n                    arr[4] = &quot;&quot;;\n                    arr[5] = &quot;&quot;;\n                    arr[6] = &quot;&quot;;\n                    arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\n                    arr[8] = &quot;&quot;; //9\n\n                    arr[9] = value != null ? value : &quot;&quot;;\n                    arr[10] = pdDocumentInformation.getCOSObject().getString(value) != null ? pdDocumentInformation.getCOSObject().getString(value) : &quot;&quot;;\n\n                    arr[11] = creationDate;\n                    arr[12] = modifiedDate;\n                    arr[13] = &quot;&quot;; //3\n                    arrList.add(arr);\n                }\n            }\n\n            if (arrList.size() == 0) {\n                String creationDate = pdDocumentInformation.getCreationDate().getTime().toString() != null ? pdDocumentInformation.getCreationDate().getTime().toString() : &quot;&quot;;\n                String modifiedDate = pdDocumentInformation.getModificationDate().getTime().toString() != null ? pdDocumentInformation.getModificationDate().getTime().toString() : &quot;&quot;;\n                String[] arr = new String[14];\n\n                arr[0] = fileName;\n                arr[1] = pdDocumentInformation.getTitle() != null ? pdDocumentInformation.getTitle() : pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Title&quot;) : &quot;&quot;;\n                arr[2] = pdDocumentInformation.getSubject() != null ? pdDocumentInformation.getSubject() : pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Subject&quot;) : &quot;&quot;;\n                arr[3] = pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Author&quot;) : &quot;&quot;;\n                arr[4] = &quot;&quot;;\n                arr[5] = &quot;&quot;;\n                arr[6] = &quot;&quot;;\n                arr[7] = pdDocumentInformation.getKeywords() != null ? pdDocumentInformation.getKeywords() : pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) != null ? pdDocumentInformation.getCOSObject().getString(&quot;Keywords&quot;) : &quot;&quot;;\n                arr[8] = &quot;&quot;; //9\n\n                arr[9] = &quot;&quot;;\n                arr[10] = &quot;&quot;;\n\n                arr[11] = creationDate;\n                arr[12] = modifiedDate;\n                arr[13] = &quot;&quot;; //3\n                arrList.add(arr);\n            }\n            pdDocument.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return arrList;\n    }\n</code></pre>\n<p><strong>CSV</strong>\n<a href=\"https://i.stack.imgur.com/eJfiC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eJfiC.png\" alt=\"enter image description here\" /></a></p>\n<p>Expecting a solution or a reason</p>\n"},{"tags":["java","graphics","jpanel","bufferedimage"],"comments":[{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1671098810,"post_id":74808125,"comment_id":132026389,"body_markdown":"If you are painting an image on a `JPanel` and the result is stretched, this is likely due to display scaling. Try writing the image to disk (as PNG to get the correct transparency) instead, and see if it looks smooth there.","body":"If you are painting an image on a <code>JPanel</code> and the result is stretched, this is likely due to display scaling. Try writing the image to disk (as PNG to get the correct transparency) instead, and see if it looks smooth there."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671103461,"post_id":74808125,"comment_id":132027949,"body_markdown":"Would not &#39;see if it looks smooth there&#39; imply he brings it back up onto the scaled screen? Well, a file on disk can also be moved to a different screen/computer.","body":"Would not &#39;see if it looks smooth there&#39; imply he brings it back up onto the scaled screen? Well, a file on disk can also be moved to a different screen/computer."},{"owner":{"account_id":1531514,"reputation":26639,"user_id":1428606,"accept_rate":71,"display_name":"Harald K"},"score":0,"creation_date":1671114319,"post_id":74808125,"comment_id":132032058,"body_markdown":"@HiranChaudhuri He would obviously need to look at the file in a tool that can display pixels 1:1 or somehow control the scaling, but good point! &#128077;","body":"@HiranChaudhuri He would obviously need to look at the file in a tool that can display pixels 1:1 or somehow control the scaling, but good point! 👍"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1671116673,"post_id":74808125,"comment_id":132032972,"body_markdown":"I think you need to set the rendering hints for the Graphics2D object. Check out: https://stackoverflow.com/a/16863758/131872 for an example.","body":"I think you need to set the rendering hints for the Graphics2D object. Check out: <a href=\"https://stackoverflow.com/a/16863758/131872\">stackoverflow.com/a/16863758/131872</a> for an example."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1671177987,"post_id":74808125,"comment_id":132047124,"body_markdown":"On the image drawn I cannot see a problem with my computer. But on the printed image it seems that some pixels that should be in the lower right somehow appear in the top left. Not sure whether that could indicate where the problem stems from.","body":"On the image drawn I cannot see a problem with my computer. But on the printed image it seems that some pixels that should be in the lower right somehow appear in the top left. Not sure whether that could indicate where the problem stems from."}],"owner":{"account_id":27258769,"reputation":1,"user_id":20781917,"display_name":"Tyler"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677665569,"creation_date":1671089443,"question_id":74808125,"body_markdown":"I&#39;m trying to print a smooth curve but it seems that some of the pixels are stretched. I tried to debug this by printing the pixel array but it looked smooth. The JPanel created has width and height 800.\r\n\r\nThis is the printed pixels of the double array:\r\n\r\n[![printed pixels of the double array][1]][1]\r\n\r\n\r\nThis is the image drawn: \r\n\r\n[![image drawn][2]][2]\r\n\r\n\r\nI have found this function that does the same thing and is really smooth but I want to figure out how to make this from an array of pixels.\r\n```\r\ngrf.drawRoundRect(50, 50, 400, 400, 200, 200);\r\n```\r\n\r\n\r\n```\r\npublic void draw(){\r\n  Graphics grf = screen.get_graphics();\r\n  int width = 400;\r\n  int height = 400;\r\n  int scale = 1;\r\n  BufferedImage red_fill = BufferedImageFactory.fill(width, height, Color.RED);\r\n  Matrixi2d square_mask = new Soft_Square().get_filled_in_mask(width, height);\r\n  BufferedImage hue_soft_square = square_mask.mask_image(red_fill);\r\n  grf.drawImage(hue_soft_square, 50, 50, null);\r\n}\r\n```\r\n\r\n```\r\npublic BufferedImage mask_image(BufferedImage input){\r\n  //BufferedImage result = new BufferedImage(width + edge*2, height + edge*2, BufferedImage.TYPE_INT_ARGB);\r\n  BufferedImage result = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\r\n  //for(int x = edge, mask_x = 0; x &lt; width; x++, mask_x++){\r\n    //for(int y = edge, mask_y = 0; y &lt; height; y++, mask_y++){\r\n  for(int x = 0, mask_x = 0; x &lt; width; x++, mask_x++){\r\n    for(int y = 0, mask_y = 0; y &lt; height; y++, mask_y++){\r\n      if(get(mask_x, mask_y) != 0){\r\n        int mask_alpha = get(mask_x, mask_y);\r\n        int color = input.getRGB(x, y);\r\n        int red = (0xFF &amp; ( color &gt;&gt; 16));\r\n        int alpha = (0xFF &amp; (color &gt;&gt; 24));\r\n        int blue = (0xFF &amp; (color &gt;&gt; 0 ));\r\n        int green = (0xFF &amp; (color &gt;&gt; 8 ));\r\n        //System.out.println(&quot;mask value: &quot;+get(mask_x, mask_y));\r\n        //System.out.println(&quot;initial alpha: &quot; + alpha);\r\n        alpha = (int)(alpha * mask_alpha / 255.0);\r\n        int sum = ((alpha &amp; 0xff) &lt;&lt; 24 | (red &amp; 0xff) &lt;&lt; 16 | (blue &amp; 0xff) &lt;&lt; 8 | (green &amp; 0xff));\r\n        //System.out.println(&quot;alpha: &quot; + alpha);\r\n        //System.out.println(&quot;mask alpha: &quot; + mask_alpha);\r\n        result.setRGB(x, y, sum);\r\n        //System.out.println(&quot;setting result: &quot;+sum);\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n```\r\n\r\nEdit:\r\nDownloading the image shows that the BufferedImage doesn&#39;t have the stretching. How do you eliminate the stretching in JPanel?\r\n[Here&#39;s the BufferedImage as png][3]\r\n\r\n\r\nEdit: \r\nThis [SO-Question][4] fixed the problem. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eQEwd.png\r\n  [2]: https://i.stack.imgur.com/VWF17.png\r\n  [3]: https://i.stack.imgur.com/CRrM2.png\r\n  [4]: https://stackoverflow.com/questions/16863716/how-to-smooth-out-corners-in-rounded-rectangle-swing/16863758#16863758","title":"Why do some pixels in JPanel look stretched giving a pixelated look to this curve","body":"<p>I'm trying to print a smooth curve but it seems that some of the pixels are stretched. I tried to debug this by printing the pixel array but it looked smooth. The JPanel created has width and height 800.</p>\n<p>This is the printed pixels of the double array:</p>\n<p><a href=\"https://i.stack.imgur.com/eQEwd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eQEwd.png\" alt=\"printed pixels of the double array\" /></a></p>\n<p>This is the image drawn:</p>\n<p><a href=\"https://i.stack.imgur.com/VWF17.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VWF17.png\" alt=\"image drawn\" /></a></p>\n<p>I have found this function that does the same thing and is really smooth but I want to figure out how to make this from an array of pixels.</p>\n<pre><code>grf.drawRoundRect(50, 50, 400, 400, 200, 200);\n</code></pre>\n<pre><code>public void draw(){\n  Graphics grf = screen.get_graphics();\n  int width = 400;\n  int height = 400;\n  int scale = 1;\n  BufferedImage red_fill = BufferedImageFactory.fill(width, height, Color.RED);\n  Matrixi2d square_mask = new Soft_Square().get_filled_in_mask(width, height);\n  BufferedImage hue_soft_square = square_mask.mask_image(red_fill);\n  grf.drawImage(hue_soft_square, 50, 50, null);\n}\n</code></pre>\n<pre><code>public BufferedImage mask_image(BufferedImage input){\n  //BufferedImage result = new BufferedImage(width + edge*2, height + edge*2, BufferedImage.TYPE_INT_ARGB);\n  BufferedImage result = new BufferedImage(width, height, BufferedImage.TYPE_INT_ARGB);\n  //for(int x = edge, mask_x = 0; x &lt; width; x++, mask_x++){\n    //for(int y = edge, mask_y = 0; y &lt; height; y++, mask_y++){\n  for(int x = 0, mask_x = 0; x &lt; width; x++, mask_x++){\n    for(int y = 0, mask_y = 0; y &lt; height; y++, mask_y++){\n      if(get(mask_x, mask_y) != 0){\n        int mask_alpha = get(mask_x, mask_y);\n        int color = input.getRGB(x, y);\n        int red = (0xFF &amp; ( color &gt;&gt; 16));\n        int alpha = (0xFF &amp; (color &gt;&gt; 24));\n        int blue = (0xFF &amp; (color &gt;&gt; 0 ));\n        int green = (0xFF &amp; (color &gt;&gt; 8 ));\n        //System.out.println(&quot;mask value: &quot;+get(mask_x, mask_y));\n        //System.out.println(&quot;initial alpha: &quot; + alpha);\n        alpha = (int)(alpha * mask_alpha / 255.0);\n        int sum = ((alpha &amp; 0xff) &lt;&lt; 24 | (red &amp; 0xff) &lt;&lt; 16 | (blue &amp; 0xff) &lt;&lt; 8 | (green &amp; 0xff));\n        //System.out.println(&quot;alpha: &quot; + alpha);\n        //System.out.println(&quot;mask alpha: &quot; + mask_alpha);\n        result.setRGB(x, y, sum);\n        //System.out.println(&quot;setting result: &quot;+sum);\n      }\n    }\n  }\n  return result;\n}\n</code></pre>\n<p>Edit:\nDownloading the image shows that the BufferedImage doesn't have the stretching. How do you eliminate the stretching in JPanel?\n<a href=\"https://i.stack.imgur.com/CRrM2.png\" rel=\"nofollow noreferrer\">Here's the BufferedImage as png</a></p>\n<p>Edit:\nThis <a href=\"https://stackoverflow.com/questions/16863716/how-to-smooth-out-corners-in-rounded-rectangle-swing/16863758#16863758\">SO-Question</a> fixed the problem.</p>\n"},{"tags":["java","email","encoding","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":163644,"reputation":13168,"user_id":385913,"accept_rate":95,"display_name":"Swift"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1365089743,"creation_date":1365089743,"answer_id":15815609,"question_id":15807977,"body_markdown":"Setting the content-type in the header isn&#39;t actually the right way to change the content-type to UTF-8.  You need to actually set the type on the `BodyPart`.  For example:\r\n\r\n    // Create a message part to represent the body text \r\n    BodyPart messageBodyPart = new MimeBodyPart(); \r\n    messageBodyPart.setContent( &quot;&lt;strong&gt;some html content&lt;/strong&gt;&quot;, &quot;text/html; charset=utf-8&quot; );\r\n\r\n    ","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>Setting the content-type in the header isn't actually the right way to change the content-type to UTF-8.  You need to actually set the type on the <code>BodyPart</code>.  For example:</p>\n\n<pre><code>// Create a message part to represent the body text \nBodyPart messageBodyPart = new MimeBodyPart(); \nmessageBodyPart.setContent( \"&lt;strong&gt;some html content&lt;/strong&gt;\", \"text/html; charset=utf-8\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1540775,"reputation":12055,"user_id":1435513,"accept_rate":79,"display_name":"John"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365093960,"creation_date":1365093960,"answer_id":15817041,"question_id":15807977,"body_markdown":"Did you copy and paste the content from MS Word?\r\n\r\nThere are certain characters that don&#39;t render in html. You can manually replace all apostrophe characters by simply retyping it in your text editor, it will replace the MS Word slanted apostrophe with a standard vertical one, or if you like them to remain slanted, you can use `&amp;ldquo;` or `&amp;rdquo;` ","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>Did you copy and paste the content from MS Word?</p>\n\n<p>There are certain characters that don't render in html. You can manually replace all apostrophe characters by simply retyping it in your text editor, it will replace the MS Word slanted apostrophe with a standard vertical one, or if you like them to remain slanted, you can use <code>&amp;ldquo;</code> or <code>&amp;rdquo;</code> </p>\n"},{"tags":[],"owner":{"account_id":17074926,"reputation":101,"user_id":12354781,"display_name":"dsugrue"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1573470253,"creation_date":1573467886,"answer_id":58799562,"question_id":15807977,"body_markdown":"I know this answer is 6.5 years too late for you but, as the issue is still happening for people and this post appears high up in google search,I thought I would offer an alternative solution.\r\n\r\nOn the template itself in SendGrid, you can simply escape these problematic characters by using a triple curly brace as opposed to a double. i.e.\r\n\r\n&gt; {{{recipient_name}}}\r\n\r\ninstead of\r\n\r\n    \r\n\r\n&gt; {{recipient_name}}\r\n\r\nThis solution is hidden within the bowels of SendGrid documentation: \r\n\r\nhttps://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js\r\n\r\n","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>I know this answer is 6.5 years too late for you but, as the issue is still happening for people and this post appears high up in google search,I thought I would offer an alternative solution.</p>\n\n<p>On the template itself in SendGrid, you can simply escape these problematic characters by using a triple curly brace as opposed to a double. i.e.</p>\n\n<blockquote>\n  <p>{{{recipient_name}}}</p>\n</blockquote>\n\n<p>instead of</p>\n\n<blockquote>\n  <p>{{recipient_name}}</p>\n</blockquote>\n\n<p>This solution is hidden within the bowels of SendGrid documentation: </p>\n\n<p><a href=\"https://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js\" rel=\"noreferrer\">https://github.com/sendgrid/sendgrid-nodejs/blob/master/packages/helpers/constants/index.js</a></p>\n"},{"comments":[{"owner":{"account_id":210829,"reputation":1306,"user_id":462655,"accept_rate":50,"display_name":"msonsona"},"score":0,"creation_date":1655378953,"post_id":58800530,"comment_id":128321216,"body_markdown":"This solution worked for me to have text variables working in the email subject with characters like &#39;&amp;&#39;","body":"This solution worked for me to have text variables working in the email subject with characters like &#39;&amp;&#39;"}],"tags":[],"owner":{"account_id":15467508,"reputation":731,"user_id":11158447,"display_name":"Mukesh Kashyap"},"comment_count":1,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1573472334,"creation_date":1573471955,"answer_id":58800530,"question_id":15807977,"body_markdown":"You have to pass your subject variable in triple curly braces ,so that it will parse as text instead of HTML \r\nyou can pass it like this -  `{{{subject}}}`\r\n\r\nor you can follow [all the steps][1] again.\r\n\r\n\r\n  [1]: https://sendgrid.com/docs/API_Reference/index.html\r\nThis one is worked for me.\r\n","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>You have to pass your subject variable in triple curly braces ,so that it will parse as text instead of HTML \nyou can pass it like this -  <code>{{{subject}}}</code></p>\n\n<p>or you can follow <a href=\"https://sendgrid.com/docs/API_Reference/index.html\" rel=\"noreferrer\">all the steps</a> again.</p>\n\n<p>This one is worked for me.</p>\n"}],"owner":{"account_id":1476785,"reputation":1621,"user_id":1386990,"accept_rate":57,"display_name":"Toseef Zafar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5226,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1677665132,"creation_date":1365069285,"question_id":15807977,"body_markdown":"I&#39;m trying to send emails using SendGrid with Java. The apostrophe character appears like a ? (question mark). \r\n\r\nI am sending the header to have text encoding as UTF-8 but it still appears like a question mark.\r\n\r\n    mailMessage.setHeaders(&quot;{&#39;text&#39;:&#39;UTF-8&#39;}&quot;);\r\n\r\nThe above line has no effect. I am sure that the input HTML string I have is UTF-8 encoded. The email client is MS Outlook 2010","title":"Sendgrid email sending having issue with apostrophe ’ character?","body":"<p>I'm trying to send emails using SendGrid with Java. The apostrophe character appears like a ? (question mark).</p>\n<p>I am sending the header to have text encoding as UTF-8 but it still appears like a question mark.</p>\n<pre><code>mailMessage.setHeaders(&quot;{'text':'UTF-8'}&quot;);\n</code></pre>\n<p>The above line has no effect. I am sure that the input HTML string I have is UTF-8 encoded. The email client is MS Outlook 2010</p>\n"},{"tags":["java","json","function","jackson","arguments"],"comments":[{"owner":{"account_id":1327194,"reputation":1809,"user_id":1271785,"accept_rate":67,"display_name":"pfurbacher"},"score":0,"creation_date":1677629268,"post_id":75595821,"comment_id":133375145,"body_markdown":"Shouldn&#39;t you be writing `new TypeReference&lt;Batch&gt;(){}`? See, for example, [Map Serialization and Deserialization with Jackson](https://www.baeldung.com/jackson-map) and [Jackson&#39;s ObjectMapper and TypeReference](https://northcoder.com/post/jackson-object-mapper-which-way-is/).","body":"Shouldn&#39;t you be writing <code>new TypeReference&lt;Batch&gt;(){}</code>? See, for example, <a href=\"https://www.baeldung.com/jackson-map\" rel=\"nofollow noreferrer\">Map Serialization and Deserialization with Jackson</a> and <a href=\"https://northcoder.com/post/jackson-object-mapper-which-way-is/\" rel=\"nofollow noreferrer\">Jackson&#39;s ObjectMapper and TypeReference</a>."},{"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"score":0,"creation_date":1677664426,"post_id":75595821,"comment_id":133380800,"body_markdown":"My problem is that I want a specific type of Batch. My Batch have a count and a [] of elements that will extends the ENTITY that is the SuperClass of &quot;Person, Dog, etc&quot;.\nThe TypeRef in the first example doesnt need anything to know that is a input of Persons, but when I try to improve my code by creating the function, somehow the mapping stops working. And I dont know the right way of do it. I already saw that links, but I dont thing that fits my especific example","body":"My problem is that I want a specific type of Batch. My Batch have a count and a [] of elements that will extends the ENTITY that is the SuperClass of &quot;Person, Dog, etc&quot;. The TypeRef in the first example doesnt need anything to know that is a input of Persons, but when I try to improve my code by creating the function, somehow the mapping stops working. And I dont know the right way of do it. I already saw that links, but I dont thing that fits my especific example"}],"owner":{"account_id":23493741,"reputation":3,"user_id":17545992,"display_name":"Renato Quelhas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677665122,"creation_date":1677607944,"question_id":75595821,"body_markdown":"I am trying to call a function that parse the JSON String to Java Object using the objectMapper of jackson but I have a problem.\r\n\r\nRight now I have: \r\n\r\n```\r\nBatch&lt;Person&gt; batch = new Batch();\r\n\r\n        //Try Map Json String &quot;Batch&quot; to JAVA OBJECT\r\n        try {\r\n            batch = objectMapper.readValue(response, new TypeReference&lt;&gt;(){});\r\n        .\r\n        .\r\n        .\r\n\r\n\r\n//Class Batch\r\n\r\npublic class Batch&lt;T extends  Entity&gt; {\r\n\r\n    public String count;\r\n    public T[] elements; //They can be subtypes of Entities.\r\n\r\n}\r\n\r\n//Objects Class\r\npublic class Persona extends Entity {}\r\npublic class Dog extends Entity {}\r\n....\r\n\r\n//SuperClass\r\npublic abstract class Entity{}\r\n\r\n```\r\n\r\nAnd I want something like this:\r\n\r\n\r\n```\r\nBatch&lt;Person&gt; batch = new Batch();\r\nparseFunction(Batch);\r\n```\r\n\r\nIn the function I expect this:\r\n\r\n\r\n```\r\npublic void parseFunction(Batch batch)\r\n        try {\r\n            batch = objectMapper.readValue(response, new TypeReference&lt;batch&gt;(){});\r\n}\r\n```\r\n\r\n\r\n\r\nI try to send the Batch and I get an error because the TypeReference dont know if its a Batch of Person or Batch of Dog or whatever.\r\n\r\nHow can I pass by argument the information that I need to make the TypeReference work and the map goes well?","title":"Jackson TypeReference&lt;BY ARGUMENT&gt; JSON to Java method","body":"<p>I am trying to call a function that parse the JSON String to Java Object using the objectMapper of jackson but I have a problem.</p>\n<p>Right now I have:</p>\n<pre><code>Batch&lt;Person&gt; batch = new Batch();\n\n        //Try Map Json String &quot;Batch&quot; to JAVA OBJECT\n        try {\n            batch = objectMapper.readValue(response, new TypeReference&lt;&gt;(){});\n        .\n        .\n        .\n\n\n//Class Batch\n\npublic class Batch&lt;T extends  Entity&gt; {\n\n    public String count;\n    public T[] elements; //They can be subtypes of Entities.\n\n}\n\n//Objects Class\npublic class Persona extends Entity {}\npublic class Dog extends Entity {}\n....\n\n//SuperClass\npublic abstract class Entity{}\n\n</code></pre>\n<p>And I want something like this:</p>\n<pre><code>Batch&lt;Person&gt; batch = new Batch();\nparseFunction(Batch);\n</code></pre>\n<p>In the function I expect this:</p>\n<pre><code>public void parseFunction(Batch batch)\n        try {\n            batch = objectMapper.readValue(response, new TypeReference&lt;batch&gt;(){});\n}\n</code></pre>\n<p>I try to send the Batch and I get an error because the TypeReference dont know if its a Batch of Person or Batch of Dog or whatever.</p>\n<p>How can I pass by argument the information that I need to make the TypeReference work and the map goes well?</p>\n"},{"tags":["java","security","gitlab"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":1,"creation_date":1677656899,"post_id":75600773,"comment_id":133378929,"body_markdown":"If path is `/this/is/some/path/../dir`, it should resolve it to `/this/is/some/dir`. Then just check if it is allowed to access files in that path.","body":"If path is <code>&#47;this&#47;is&#47;some&#47;path&#47;..&#47;dir</code>, it should resolve it to <code>&#47;this&#47;is&#47;some&#47;dir</code>. Then just check if it is allowed to access files in that path."},{"owner":{"account_id":1475,"reputation":533794,"user_id":1968,"accept_rate":83,"display_name":"Konrad Rudolph"},"score":2,"creation_date":1677666739,"post_id":75600773,"comment_id":133381453,"body_markdown":"First off, *is* this actually a vulnerability in your case? Just because user input can set an arbitrary path this isn’t necessarily a vulnerability — unless, of course, you *want* to restrict valid paths. In that case I agree with @kiner_shah: construct the path, and afterwards check whether the path has an allowed prefix.","body":"First off, <i>is</i> this actually a vulnerability in your case? Just because user input can set an arbitrary path this isn’t necessarily a vulnerability — unless, of course, you <i>want</i> to restrict valid paths. In that case I agree with @kiner_shah: construct the path, and afterwards check whether the path has an allowed prefix."},{"owner":{"account_id":14148329,"reputation":77,"user_id":10221025,"display_name":"pankaj543"},"score":0,"creation_date":1677836858,"post_id":75600773,"comment_id":133419885,"body_markdown":"@KonradRudolph this is the code we have in our code base and the GitLab is showing it as Path Traversal Vulnerability. Not sure, why it&#39;s showing as a vulnerability if we&#39;re getting the file path from the props file and then creating a File object by using it. Can we mark it as a false positive in the tool?","body":"@KonradRudolph this is the code we have in our code base and the GitLab is showing it as Path Traversal Vulnerability. Not sure, why it&#39;s showing as a vulnerability if we&#39;re getting the file path from the props file and then creating a File object by using it. Can we mark it as a false positive in the tool?"}],"owner":{"account_id":14148329,"reputation":77,"user_id":10221025,"display_name":"pankaj543"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":946,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677664809,"creation_date":1677656577,"question_id":75600773,"body_markdown":"I&#39;m trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. I tried using multiple ways which are present on the web to fix it but still, Gitlab marked it as Path Traversal Vulnerability. The file name we&#39;re getting from the properties file and setting it into the Config class. A\r\n\r\nThe actual source code:\r\n\r\n    public Config(String filename) throws IOException {\r\n\t\t\t\tsetFile(new File(filename));\r\n\t\t\r\n\t}\r\n\r\nwhat we have tried so far:\r\n\r\n    public Config(String filename) throws IOException {\r\n\t\tif(filename.indexOf( &quot;../&quot; ) == -1) {\r\n\t\t\tString pathUsingCanonical = Paths.get(filename).toFile().getCanonicalPath();\r\n\t\t\tString pathUsingAbsolute = Paths.get(filename).toFile().getAbsolutePath();\r\n\t\t\tif(pathUsingCanonical.equals(pathUsingAbsolute)) {\r\n\t\t\t\tsetFile(new File(filename));\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n","title":"Path Traversal Vulnerability in Java","body":"<p>I'm trying to fix Path Traversal Vulnerability raised by Gitlab SAST in the Java Source code. I tried using multiple ways which are present on the web to fix it but still, Gitlab marked it as Path Traversal Vulnerability. The file name we're getting from the properties file and setting it into the Config class. A</p>\n<p>The actual source code:</p>\n<pre><code>public Config(String filename) throws IOException {\n            setFile(new File(filename));\n    \n}\n</code></pre>\n<p>what we have tried so far:</p>\n<pre><code>public Config(String filename) throws IOException {\n    if(filename.indexOf( &quot;../&quot; ) == -1) {\n        String pathUsingCanonical = Paths.get(filename).toFile().getCanonicalPath();\n        String pathUsingAbsolute = Paths.get(filename).toFile().getAbsolutePath();\n        if(pathUsingCanonical.equals(pathUsingAbsolute)) {\n            setFile(new File(filename));\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","pdfbox","pdf.js"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1677661955,"post_id":75601492,"comment_id":133380105,"body_markdown":"Please share the PDF in question, before and after image insertion.","body":"Please share the PDF in question, before and after image insertion."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677663409,"post_id":75601492,"comment_id":133380510,"body_markdown":"Added in the question","body":"Added in the question"},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1677664945,"post_id":75601492,"comment_id":133380951,"body_markdown":"Both image pushbuttons are visible in firefox, which uses PDF.js (Windows 10)","body":"Both image pushbuttons are visible in firefox, which uses PDF.js (Windows 10)"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1677672558,"post_id":75601492,"comment_id":133383028,"body_markdown":"I see nothing special in your example PDFs. In particular, the image should be visible. Thus, I would propose you file a bug with the pdf.js project... except that @Tilman&#39;s comment shows that you overgeneralized, the image does show on some pdf.js installations. Before filing the bug, therefore, you should find out what is different between the pdf.js versions that show the image and those that don&#39;t.","body":"I see nothing special in your example PDFs. In particular, the image should be visible. Thus, I would propose you file a bug with the pdf.js project... except that @Tilman&#39;s comment shows that you overgeneralized, the image does show on some pdf.js installations. Before filing the bug, therefore, you should find out what is different between the pdf.js versions that show the image and those that don&#39;t."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1677680294,"post_id":75601492,"comment_id":133385623,"body_markdown":"Correcting myself, it&#39;s not visible in the second file &quot;Image inserted in PDTextField instead of PDPushButton&quot;. But that is likely because PDF.js clears the field area for input.","body":"Correcting myself, it&#39;s not visible in the second file &quot;Image inserted in PDTextField instead of PDPushButton&quot;. But that is likely because PDF.js clears the field area for input."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677681535,"post_id":75601492,"comment_id":133386034,"body_markdown":"My bad , you are correct this is pdf.js 3.3.56 version issue. Works well with older version.","body":"My bad , you are correct this is pdf.js 3.3.56 version issue. Works well with older version."},{"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"score":0,"creation_date":1677681907,"post_id":75601492,"comment_id":133386174,"body_markdown":"This particular version is shipped with Mozilla. Works well with older version and latest pdf.js (v3.4.120) published on CDN . Seems issue is only with PDF.js lib shipped with Mozilla.  Filling with them.","body":"This particular version is shipped with Mozilla. Works well with older version and latest pdf.js (v3.4.120) published on CDN . Seems issue is only with PDF.js lib shipped with Mozilla.  Filling with them."}],"owner":{"account_id":7196410,"reputation":93,"user_id":5495096,"display_name":"Vas K"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1677664706,"creation_date":1677661282,"question_id":75601492,"body_markdown":"Image inserted into PDPushButton with PDFBox is not visible when opened with Mozilla browser (pdf.js). Although it is visible in few other common renderers  \r\n\r\n    PDPushButton pdPushButton = (PDPushButton) field;\r\n\r\n    List&lt;PDAnnotationWidget&gt; widgets = pdPushButton.getWidgets();\r\n    if (widgets != null &amp;&amp; widgets.size() &gt; 0) {\r\n      PDAnnotationWidget annotationWidget = widgets.get(0); // just need one widget\r\n \r\n    String filePath = item.getValue();\r\n      File imageFile = new File(filePath);\r\n    \r\n      if (imageFile.exists()) {\r\n        PDImageXObject pdImageXObject = PDImageXObject.createFromFile(filePath, document);\r\n        float imageScaleRatio = (float) pdImageXObject.getHeight() / (float) pdImageXObject.getWidth();\r\n\r\n    PDRectangle buttonPosition = getFieldArea(pdPushButton);\r\n    float height = buttonPosition.getHeight();\r\n    float width = height / imageScaleRatio;\r\n    float x = buttonPosition.getLowerLeftX();\r\n    float y = buttonPosition.getLowerLeftY();\r\n\r\n    PDAppearanceStream pdAppearanceStream = new PDAppearanceStream(document);\r\n    pdAppearanceStream.setResources(new PDResources());\r\n    try (PDPageContentStream pdPageContentStream = new PDPageContentStream(document, pdAppearanceStream)) {\r\n        pdPageContentStream.drawImage(pdImageXObject, x, y, width, height);\r\n    }\r\n    pdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\r\n\r\n    PDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\r\n    if (pdAppearanceDictionary == null) {\r\n        pdAppearanceDictionary = new PDAppearanceDictionary();\r\n        annotationWidget.setAppearance(pdAppearanceDictionary);\r\n    }\r\n\r\n    pdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\r\n    System.out.println(&quot;Image &#39;&quot; + filePath + &quot;&#39; inserted&quot;);\r\n    field.setReadOnly(true);\r\n      }\r\n    }\r\n\r\n   \r\n\r\n[Full Code example](https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/form/FillImageField.java)\r\n\r\n[PDF before insertion](https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img.pdf)\r\n\r\n[PDF after insertion](https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img-filled.pdf)\r\n\r\n[PDF after insertion](https://github.com/nofelkad/pdf-sample/blob/main/Sample_form_filled.pdf) (Image inserted in PDTextField instead of PDPushButton)\r\n\r\n\r\nThanks in advance\r\n\r\n","title":"Image inserted in PDPushButton is not visible in pdf.js(Mozilla browser)","body":"<p>Image inserted into PDPushButton with PDFBox is not visible when opened with Mozilla browser (pdf.js). Although it is visible in few other common renderers</p>\n<pre><code>PDPushButton pdPushButton = (PDPushButton) field;\n\nList&lt;PDAnnotationWidget&gt; widgets = pdPushButton.getWidgets();\nif (widgets != null &amp;&amp; widgets.size() &gt; 0) {\n  PDAnnotationWidget annotationWidget = widgets.get(0); // just need one widget\n\nString filePath = item.getValue();\n  File imageFile = new File(filePath);\n\n  if (imageFile.exists()) {\n    PDImageXObject pdImageXObject = PDImageXObject.createFromFile(filePath, document);\n    float imageScaleRatio = (float) pdImageXObject.getHeight() / (float) pdImageXObject.getWidth();\n\nPDRectangle buttonPosition = getFieldArea(pdPushButton);\nfloat height = buttonPosition.getHeight();\nfloat width = height / imageScaleRatio;\nfloat x = buttonPosition.getLowerLeftX();\nfloat y = buttonPosition.getLowerLeftY();\n\nPDAppearanceStream pdAppearanceStream = new PDAppearanceStream(document);\npdAppearanceStream.setResources(new PDResources());\ntry (PDPageContentStream pdPageContentStream = new PDPageContentStream(document, pdAppearanceStream)) {\n    pdPageContentStream.drawImage(pdImageXObject, x, y, width, height);\n}\npdAppearanceStream.setBBox(new PDRectangle(x, y, width, height));\n\nPDAppearanceDictionary pdAppearanceDictionary = annotationWidget.getAppearance();\nif (pdAppearanceDictionary == null) {\n    pdAppearanceDictionary = new PDAppearanceDictionary();\n    annotationWidget.setAppearance(pdAppearanceDictionary);\n}\n\npdAppearanceDictionary.setNormalAppearance(pdAppearanceStream);\nSystem.out.println(&quot;Image '&quot; + filePath + &quot;' inserted&quot;);\nfield.setReadOnly(true);\n  }\n}\n</code></pre>\n<p><a href=\"https://github.com/mkl-public/testarea-pdfbox2/blob/master/src/test/java/mkl/testarea/pdfbox2/form/FillImageField.java\" rel=\"nofollow noreferrer\">Full Code example</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img.pdf\" rel=\"nofollow noreferrer\">PDF before insertion</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/sof/test_wo_img-filled.pdf\" rel=\"nofollow noreferrer\">PDF after insertion</a></p>\n<p><a href=\"https://github.com/nofelkad/pdf-sample/blob/main/Sample_form_filled.pdf\" rel=\"nofollow noreferrer\">PDF after insertion</a> (Image inserted in PDTextField instead of PDPushButton)</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","selenium-webdriver","testng"],"comments":[{"owner":{"account_id":16422586,"reputation":1841,"user_id":11863448,"display_name":"Akzy"},"score":0,"creation_date":1677664871,"post_id":75602082,"comment_id":133380926,"body_markdown":"Yes, that&#39;s wrong. Can we see your `code` to see the issue ?","body":"Yes, that&#39;s wrong. Can we see your <code>code</code> to see the issue ?"},{"owner":{"account_id":16840055,"reputation":300,"user_id":12175652,"display_name":"Rolandas Ulevicius"},"score":0,"creation_date":1677666691,"post_id":75602082,"comment_id":133381442,"body_markdown":"not sure which is worse, when someone copy pastes an error message from IDE or this. like @Akzy said, provide your code and an actual error.","body":"not sure which is worse, when someone copy pastes an error message from IDE or this. like @Akzy said, provide your code and an actual error."}],"owner":{"account_id":15530601,"reputation":19,"user_id":11204249,"display_name":"kavya s"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1677664692,"creation_date":1677664554,"question_id":75602082,"body_markdown":"I am running 2 test cases in TestNG. One is writing data in to Excel file and another one is reading that written data from Excel file. When I try to read data from csv/excel file it reads the previous data not the newly added data.","title":"Unable to read updated data from csv/excel file in selenium java","body":"<p>I am running 2 test cases in TestNG. One is writing data in to Excel file and another one is reading that written data from Excel file. When I try to read data from csv/excel file it reads the previous data not the newly added data.</p>\n"},{"tags":["java","jsonpath","jayway"],"comments":[{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1677581245,"post_id":75586180,"comment_id":133361980,"body_markdown":"_I tried few ways to extract the results but was not successfull_ You should include what you tried","body":"<i>I tried few ways to extract the results but was not successfull</i> You should include what you tried"},{"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"score":0,"creation_date":1677581466,"post_id":75586180,"comment_id":133362054,"body_markdown":"Just curious to know how you determine if the salary is paid or not when you have both values for `isSalaryPaid` in the array.","body":"Just curious to know how you determine if the salary is paid or not when you have both values for <code>isSalaryPaid</code> in the array."},{"owner":{"account_id":1003978,"reputation":435,"user_id":1018188,"accept_rate":69,"display_name":"Mandy"},"score":0,"creation_date":1677582512,"post_id":75586180,"comment_id":133362348,"body_markdown":"@AkshayG updated the nodes for your understanding . Problem statement is same","body":"@AkshayG updated the nodes for your understanding . Problem statement is same"}],"answers":[{"tags":[],"owner":{"account_id":4998502,"reputation":2080,"user_id":4018180,"accept_rate":60,"display_name":"Akshay G"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1677591418,"creation_date":1677591418,"answer_id":75592825,"question_id":75586180,"body_markdown":"There are different possible solutions using [Jayway-JSONPath][1] Filter Operators\r\n\r\nusing nested expressions and **empty** filter operator.\r\n\r\n    $[*].empDetails[?(@.compensation.salary[?(@.iscomponentInSal == true)] empty false)].name\r\n\r\nusing **in** filter operator; right side expression returns an array\r\n\r\n    $[*].empDetails[?(true in @.compensation.salary[*].iscomponentInSal)].name\r\n\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Get Parent Node using Jayway JSONPATH","body":"<p>There are different possible solutions using <a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">Jayway-JSONPath</a> Filter Operators</p>\n<p>using nested expressions and <strong>empty</strong> filter operator.</p>\n<pre><code>$[*].empDetails[?(@.compensation.salary[?(@.iscomponentInSal == true)] empty false)].name\n</code></pre>\n<p>using <strong>in</strong> filter operator; right side expression returns an array</p>\n<pre><code>$[*].empDetails[?(true in @.compensation.salary[*].iscomponentInSal)].name\n</code></pre>\n"}],"owner":{"account_id":1003978,"reputation":435,"user_id":1018188,"accept_rate":69,"display_name":"Mandy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75592825,"answer_count":1,"score":0,"last_activity_date":1677664423,"creation_date":1677537014,"question_id":75586180,"body_markdown":"In the below JSON file I want to extract the `empDetails.name` where one or both `iscomponentInSal` is true .\r\n\r\nJSON\r\n````\r\n[\r\n*// Retrieve below `empDetails.name` as for one of the components we have `&quot;iscomponentInSal&quot;: true`* \r\n  {\r\n    &quot;empDetails&quot;: {\r\n    &quot;name&quot;:&quot;John&quot;,\r\n      &quot;compensation&quot;: {\r\n        &quot;salary&quot;: [\r\n          {\r\n            &quot;component&quot;: &quot;Basic&quot;,\r\n            &quot;iscomponentInSal&quot;: true\r\n          },\r\n          {\r\n            &quot;component&quot;: &quot;HRA&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  },\r\n*// Do not retrieve below `empDetails.name` as for both components we have `&quot;iscomponentInSal&quot;: false`* \r\n{\r\n    &quot;empDetails&quot;: {\r\n    &quot;name&quot;:&quot;Steve&quot;,\r\n      &quot;compensation&quot;: {\r\n        &quot;salary&quot;: [\r\n          {\r\n            &quot;component&quot;: &quot;Basic&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          },\r\n          {\r\n            &quot;component&quot;: &quot;HRA&quot;,\r\n            &quot;iscomponentInSal&quot;: false\r\n          }\r\n        ]\r\n      }\r\n    }\r\n  }\r\n]    \r\n````\r\nI tried few ways to extract the results as below , but was not successfull\r\n\r\n`$.[salary[?(@.iscomponentInSal  == true)])]`  \r\n\r\n//This retrieves below json\r\n```\r\n[\r\n  {\r\n    &quot;component&quot;: &quot;Basic&quot;,\r\n    &quot;iscomponentInSal&quot;: true\r\n  }\r\n]\r\n```","title":"Get Parent Node using Jayway JSONPATH","body":"<p>In the below JSON file I want to extract the <code>empDetails.name</code> where one or both <code>iscomponentInSal</code> is true .</p>\n<p>JSON</p>\n<pre><code>[\n*// Retrieve below `empDetails.name` as for one of the components we have `&quot;iscomponentInSal&quot;: true`* \n  {\n    &quot;empDetails&quot;: {\n    &quot;name&quot;:&quot;John&quot;,\n      &quot;compensation&quot;: {\n        &quot;salary&quot;: [\n          {\n            &quot;component&quot;: &quot;Basic&quot;,\n            &quot;iscomponentInSal&quot;: true\n          },\n          {\n            &quot;component&quot;: &quot;HRA&quot;,\n            &quot;iscomponentInSal&quot;: false\n          }\n        ]\n      }\n    }\n  },\n*// Do not retrieve below `empDetails.name` as for both components we have `&quot;iscomponentInSal&quot;: false`* \n{\n    &quot;empDetails&quot;: {\n    &quot;name&quot;:&quot;Steve&quot;,\n      &quot;compensation&quot;: {\n        &quot;salary&quot;: [\n          {\n            &quot;component&quot;: &quot;Basic&quot;,\n            &quot;iscomponentInSal&quot;: false\n          },\n          {\n            &quot;component&quot;: &quot;HRA&quot;,\n            &quot;iscomponentInSal&quot;: false\n          }\n        ]\n      }\n    }\n  }\n]    \n</code></pre>\n<p>I tried few ways to extract the results as below , but was not successfull</p>\n<p><code>$.[salary[?(@.iscomponentInSal  == true)])]</code></p>\n<p>//This retrieves below json</p>\n<pre><code>[\n  {\n    &quot;component&quot;: &quot;Basic&quot;,\n    &quot;iscomponentInSal&quot;: true\n  }\n]\n</code></pre>\n"},{"tags":["java","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1677621578,"post_id":75596444,"comment_id":133373806,"body_markdown":"Need more details. How is Car class created?","body":"Need more details. How is Car class created?"},{"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"score":1,"creation_date":1677663866,"post_id":75596444,"comment_id":133380642,"body_markdown":"@OneCricketeer it is created via avro plugin, its from avro schema","body":"@OneCricketeer it is created via avro plugin, its from avro schema"}],"answers":[{"tags":[],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1677664399,"creation_date":1677664399,"answer_id":75602056,"question_id":75596444,"body_markdown":"I needed to add the following to the configuration\r\n\r\n    props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);","title":"AVRO class cast exception","body":"<p>I needed to add the following to the configuration</p>\n<pre><code>props.put(KafkaAvroDeserializerConfig.SPECIFIC_AVRO_READER_CONFIG, &quot;true&quot;);\n</code></pre>\n"}],"owner":{"account_id":1693221,"reputation":2947,"user_id":1555190,"accept_rate":72,"display_name":"user1555190"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75602056,"answer_count":1,"score":1,"last_activity_date":1677664399,"creation_date":1677612190,"question_id":75596444,"body_markdown":"Hi so in my spring listener consumer i keep getting the following error thrown, when i attempt to get the value..\r\n\r\n      public void listen(ConsumerRecord&lt;String, Car&gt; consumerRecord) {\r\n        Car value = consumerRecord.value();\r\n        int i= 0;\r\n    }\r\n\r\n---\r\n\r\n      java.lang.ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class com.test.avro.Car (org.apache.avro.generic.GenericData$Record and com.test.avro.Car are in unnamed module of loader &#39;app&#39;)\r\n","title":"AVRO class cast exception","body":"<p>Hi so in my spring listener consumer i keep getting the following error thrown, when i attempt to get the value..</p>\n<pre><code>  public void listen(ConsumerRecord&lt;String, Car&gt; consumerRecord) {\n    Car value = consumerRecord.value();\n    int i= 0;\n}\n</code></pre>\n<hr />\n<pre><code>  java.lang.ClassCastException: class org.apache.avro.generic.GenericData$Record cannot be cast to class com.test.avro.Car (org.apache.avro.generic.GenericData$Record and com.test.avro.Car are in unnamed module of loader 'app')\n</code></pre>\n"},{"tags":["python","java","android","opencv"],"comments":[{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":1,"creation_date":1677557202,"post_id":75587763,"comment_id":133357051,"body_markdown":"Does this answer your question? [Return type of net.forward()](https://stackoverflow.com/questions/59409692/return-type-of-net-forward)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/59409692/return-type-of-net-forward\">Return type of net.forward()</a>"},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677557382,"post_id":75587763,"comment_id":133357077,"body_markdown":"No, I know the return type. I dont understand this syntax or even where to begin looking for its explanation `detections[0, 0, i, 2]` what are there 4 values in an array, what does it do? What does it return?","body":"No, I know the return type. I dont understand this syntax or even where to begin looking for its explanation <code>detections[0, 0, i, 2]</code> what are there 4 values in an array, what does it do? What does it return?"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1677557390,"post_id":75587763,"comment_id":133357080,"body_markdown":"The dup is a bit of a tangent, but I think what you are really asking is what does `net.forward()` return. If you check the [Java documentation](https://docs.opencv.org/3.4/javadoc/org/opencv/dnn/Net.html#forward()), it&#39;s not very useful IMO, so perhaps the explanation in the dup will help you more.","body":"The dup is a bit of a tangent, but I think what you are really asking is what does <code>net.forward()</code> return. If you check the <a href=\"https://docs.opencv.org/3.4/javadoc/org/opencv/dnn/Net.html#forward()\" rel=\"nofollow noreferrer\">Java documentation</a>, it&#39;s not very useful IMO, so perhaps the explanation in the dup will help you more."},{"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"score":0,"creation_date":1677557430,"post_id":75587763,"comment_id":133357087,"body_markdown":"Again, I know what net.forward() returns, Its a CV Mat, its in the question description. I need to understand what this returns `detections[0, 0, i, 2]`","body":"Again, I know what net.forward() returns, Its a CV Mat, its in the question description. I need to understand what this returns <code>detections[0, 0, i, 2]</code>"},{"owner":{"account_id":1326012,"reputation":14772,"user_id":1270789,"accept_rate":81,"display_name":"Ken Y-N"},"score":0,"creation_date":1677557506,"post_id":75587763,"comment_id":133357095,"body_markdown":"The [answers to the dup](https://stackoverflow.com/a/71163224/1270789) explain what they mean.","body":"The <a href=\"https://stackoverflow.com/a/71163224/1270789\">answers to the dup</a> explain what they mean."},{"owner":{"account_id":111736,"reputation":11811,"user_id":295004,"display_name":"Morrison Chang"},"score":1,"creation_date":1677567383,"post_id":75587763,"comment_id":133358301,"body_markdown":"You may want to go through [NumPy Quickstart](https://numpy.org/doc/stable/user/quickstart.html) and [NumPy for Beginners](https://numpy.org/doc/stable/user/absolute_beginners.html)","body":"You may want to go through <a href=\"https://numpy.org/doc/stable/user/quickstart.html\" rel=\"nofollow noreferrer\">NumPy Quickstart</a> and <a href=\"https://numpy.org/doc/stable/user/absolute_beginners.html\" rel=\"nofollow noreferrer\">NumPy for Beginners</a>"}],"answers":[{"tags":[],"owner":{"account_id":2205293,"reputation":3363,"user_id":4136999,"display_name":"toyota Supra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677664232,"creation_date":1677664232,"answer_id":75602024,"question_id":75587763,"body_markdown":"Convert from Python to Jave.\r\n\r\n    confidence = detections[0, 0, i, 2]\r\n\r\nto:\r\n \r\n    double confidence = detections.get(i, 2)[0];","title":"What does Mat[0,0,i,2] function do in Python with OpenCV","body":"<p>Convert from Python to Jave.</p>\n<pre><code>confidence = detections[0, 0, i, 2]\n</code></pre>\n<p>to:</p>\n<pre><code>double confidence = detections.get(i, 2)[0];\n</code></pre>\n"}],"owner":{"account_id":2345937,"reputation":3332,"user_id":2056201,"accept_rate":23,"display_name":"Mich"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677664232,"creation_date":1677556886,"question_id":75587763,"body_markdown":"I am trying to understand this code and to convert it to Java\r\n\r\nCode is from this tutorial, full code snippet shown below\r\nhttps://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\r\n\r\nI want to convert the line \r\n`confidence = detections[0, 0, i, 2]` to Java\r\n\r\n`detections` is an OpenCV Mat class which is returned by `net.forward()`\r\n\r\nFirst I need to understand what this means\r\n\r\nIs this an ROI? Why is there an array of 4 values, what do they represent?\r\n\r\n\r\nNext, how will this line of code look in Java?\r\n\r\nAlso this line is incredibly confusing to read\r\n`box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])`\r\n\r\nWhat does it mean and how can it be converted to Java?\r\n\r\n    # pass the blob through the network and obtain the detections and\r\n    # predictions\r\n    print(&quot;[INFO] computing object detections...&quot;)\r\n    net.setInput(blob)\r\n    detections = net.forward()\r\n    \r\n    # loop over the detections\r\n    for i in np.arange(0, detections.shape[2]):\r\n    \t# extract the confidence (i.e., probability) associated with the\r\n    \t# prediction\r\n    \tconfidence = detections[0, 0, i, 2]\r\n    \t# filter out weak detections by ensuring the `confidence` is\r\n    \t# greater than the minimum confidence\r\n    \tif confidence &gt; args[&quot;confidence&quot;]:\r\n    \t\t# extract the index of the class label from the `detections`,\r\n    \t\t# then compute the (x, y)-coordinates of the bounding box for\r\n    \t\t# the object\r\n    \t\tidx = int(detections[0, 0, i, 1])\r\n    \t\tbox = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\r\n    \t\t(startX, startY, endX, endY) = box.astype(&quot;int&quot;)\r\n    \t\t# display the prediction\r\n    \t\tlabel = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\r\n    \t\tprint(&quot;[INFO] {}&quot;.format(label))\r\n    \t\tcv2.rectangle(image, (startX, startY), (endX, endY),\r\n    \t\t\tCOLORS[idx], 2)\r\n    \t\ty = startY - 15 if startY - 15 &gt; 15 else startY + 15\r\n    \t\tcv2.putText(image, label, (startX, y),\r\n    \t\t\tcv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)","title":"What does Mat[0,0,i,2] function do in Python with OpenCV","body":"<p>I am trying to understand this code and to convert it to Java</p>\n<p>Code is from this tutorial, full code snippet shown below\n<a href=\"https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/\" rel=\"nofollow noreferrer\">https://pyimagesearch.com/2017/09/11/object-detection-with-deep-learning-and-opencv/</a></p>\n<p>I want to convert the line\n<code>confidence = detections[0, 0, i, 2]</code> to Java</p>\n<p><code>detections</code> is an OpenCV Mat class which is returned by <code>net.forward()</code></p>\n<p>First I need to understand what this means</p>\n<p>Is this an ROI? Why is there an array of 4 values, what do they represent?</p>\n<p>Next, how will this line of code look in Java?</p>\n<p>Also this line is incredibly confusing to read\n<code>box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])</code></p>\n<p>What does it mean and how can it be converted to Java?</p>\n<pre><code># pass the blob through the network and obtain the detections and\n# predictions\nprint(&quot;[INFO] computing object detections...&quot;)\nnet.setInput(blob)\ndetections = net.forward()\n\n# loop over the detections\nfor i in np.arange(0, detections.shape[2]):\n    # extract the confidence (i.e., probability) associated with the\n    # prediction\n    confidence = detections[0, 0, i, 2]\n    # filter out weak detections by ensuring the `confidence` is\n    # greater than the minimum confidence\n    if confidence &gt; args[&quot;confidence&quot;]:\n        # extract the index of the class label from the `detections`,\n        # then compute the (x, y)-coordinates of the bounding box for\n        # the object\n        idx = int(detections[0, 0, i, 1])\n        box = detections[0, 0, i, 3:7] * np.array([w, h, w, h])\n        (startX, startY, endX, endY) = box.astype(&quot;int&quot;)\n        # display the prediction\n        label = &quot;{}: {:.2f}%&quot;.format(CLASSES[idx], confidence * 100)\n        print(&quot;[INFO] {}&quot;.format(label))\n        cv2.rectangle(image, (startX, startY), (endX, endY),\n            COLORS[idx], 2)\n        y = startY - 15 if startY - 15 &gt; 15 else startY + 15\n        cv2.putText(image, label, (startX, y),\n            cv2.FONT_HERSHEY_SIMPLEX, 0.5, COLORS[idx], 2)\n</code></pre>\n"},{"tags":["java","eclipse","debugging","jdb"],"comments":[{"owner":{"account_id":1137222,"reputation":2406,"user_id":1122039,"display_name":"Cebence"},"score":0,"creation_date":1367326308,"post_id":2278447,"comment_id":23335013,"body_markdown":"What you&#39;re looking for is something like a [property change listener](http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html) that would let you detect a specific change and capture the stack trace. I don&#39;t believe this is available in any debugger yet, and it will be difficult to implement if the original library developers didn&#39;t make it into a property.","body":"What you&#39;re looking for is something like a <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/events/propertychangelistener.html\" rel=\"nofollow noreferrer\">property change listener</a> that would let you detect a specific change and capture the stack trace. I don&#39;t believe this is available in any debugger yet, and it will be difficult to implement if the original library developers didn&#39;t make it into a property."}],"answers":[{"comments":[{"owner":{"account_id":589561,"reputation":499,"user_id":273302,"display_name":"Daniel"},"score":0,"creation_date":1266386223,"post_id":2278513,"comment_id":2241500,"body_markdown":"I&#39;ve been playing around with watchpoints but they don&#39;t seem to get hit unless I define the watchpoint when the variable is in scope. \n\nCan I define a watchpoint and have it enable when the watched variable comes into scope? Is there a way to qualify the watched variable names?","body":"I&#39;ve been playing around with watchpoints but they don&#39;t seem to get hit unless I define the watchpoint when the variable is in scope.   Can I define a watchpoint and have it enable when the watched variable comes into scope? Is there a way to qualify the watched variable names?"},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1366799253,"post_id":2278513,"comment_id":23144841,"body_markdown":"This doesn&#39;t seem to let you only break when a specific value is found.","body":"This doesn&#39;t seem to let you only break when a specific value is found."}],"tags":[],"owner":{"account_id":47499,"reputation":144100,"user_id":140740,"display_name":"DigitalRoss"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1266384823,"creation_date":1266384187,"answer_id":2278513,"question_id":2278447,"body_markdown":"Yes, those are called *watchpoints*, and watchpoints can have *watch expressions*.\r\n\r\nDepending on versions and such, you do this by selecting a variable in the Outline view and right-clicking on it, or in the Variables view, control/click on it. \r\n\r\nA context menu will have choices for *Add Watch Expression* and *Edit Watch Expression*.","title":"Break when a variable is assigned some value","body":"<p>Yes, those are called <em>watchpoints</em>, and watchpoints can have <em>watch expressions</em>.</p>\n\n<p>Depending on versions and such, you do this by selecting a variable in the Outline view and right-clicking on it, or in the Variables view, control/click on it. </p>\n\n<p>A context menu will have choices for <em>Add Watch Expression</em> and <em>Edit Watch Expression</em>.</p>\n"},{"comments":[{"owner":{"account_id":10741,"reputation":23755,"user_id":20426,"accept_rate":88,"display_name":"Daniel"},"score":8,"creation_date":1267684666,"post_id":2302945,"comment_id":2353855,"body_markdown":"Hi Diunk, \nIsn&#39;t your suggestion is dependent on the condition being satisfied at a particular line number? I&#39;d like a more general solution that obivates the need to identify line numbers. I just want to know when &quot;x&quot; is assigned something, irrespective of the method in which the assignment takes place.","body":"Hi Diunk,  Isn&#39;t your suggestion is dependent on the condition being satisfied at a particular line number? I&#39;d like a more general solution that obivates the need to identify line numbers. I just want to know when &quot;x&quot; is assigned something, irrespective of the method in which the assignment takes place."},{"owner":{"account_id":17012,"reputation":1516,"user_id":37651,"accept_rate":75,"display_name":"Dinuk"},"score":0,"creation_date":1267687461,"post_id":2302945,"comment_id":2354036,"body_markdown":"Hi Daniel,\n\nYour questions states everytime &quot;x&quot; (a variable) gets set a certain value you want the control flow to break . Questions is, where?\n\nWell, if you think about it, &quot;x&quot; has to be an instance or local variable. In both contexts you would know exactly which line in your source you would want to observe ,wouldn&#39;t you? (the setter, or the local block scope). From that point, you call look at the call stack and backtrack.","body":"Hi Daniel,  Your questions states everytime &quot;x&quot; (a variable) gets set a certain value you want the control flow to break . Questions is, where?  Well, if you think about it, &quot;x&quot; has to be an instance or local variable. In both contexts you would know exactly which line in your source you would want to observe ,wouldn&#39;t you? (the setter, or the local block scope). From that point, you call look at the call stack and backtrack."},{"owner":{"account_id":10741,"reputation":23755,"user_id":20426,"accept_rate":88,"display_name":"Daniel"},"score":5,"creation_date":1267743666,"post_id":2302945,"comment_id":2360793,"body_markdown":"Hi Diunk, \n\nI was actually trying to debug an issue in a library that isn&#39;t mine. The variable is protected and there is a reasonably large type hierarchy extending the base class where it is defined. The access could be in lots of places which is why I wanted a context-free breakpoint. It seems like thSoft and DigitalRoss are correct in their suggestion.","body":"Hi Diunk,   I was actually trying to debug an issue in a library that isn&#39;t mine. The variable is protected and there is a reasonably large type hierarchy extending the base class where it is defined. The access could be in lots of places which is why I wanted a context-free breakpoint. It seems like thSoft and DigitalRoss are correct in their suggestion."},{"owner":{"account_id":17012,"reputation":1516,"user_id":37651,"accept_rate":75,"display_name":"Dinuk"},"score":0,"creation_date":1267976194,"post_id":2302945,"comment_id":2376138,"body_markdown":"Hi Daniel,\n\nThanks for clarifying - I misunderstood the context in which you wanted to observe the variable :-)\n\nBest regards,\nDinuk","body":"Hi Daniel,  Thanks for clarifying - I misunderstood the context in which you wanted to observe the variable :-)  Best regards, Dinuk"}],"tags":[],"owner":{"account_id":17012,"reputation":1516,"user_id":37651,"accept_rate":75,"display_name":"Dinuk"},"comment_count":4,"down_vote_count":4,"up_vote_count":46,"is_accepted":false,"score":42,"last_activity_date":1677664144,"creation_date":1266685871,"answer_id":2302945,"question_id":2278447,"body_markdown":"Yes - What you need to setup is a **&#39;Conditional Breakpoint&#39;** - this gives you the ability to stop the program execution and step through the debugger when a certain state of the application is reached.\r\n\r\nSo, let&#39;s say you want to jump into a particular point in the execution when a certain condition is fulfilled (as per the image attached), you can do this as follows:\r\n\r\n \r\n\r\n 1. \r\n\r\nOpen your debugger perspective and select the **&#39;BreakPoints&#39;** tab \r\n\r\n 1. Add a new BreakPoint in the code file - at the appropriate place where you would like to observe the program execution\r\n\r\n \r\n\r\n 1. Then go back to the **&#39;Breakpoints&#39;** tab, right-click on the newly added entry, and select **&#39;Breakpoint Properties&#39;**\r\n\r\n 2. Set the condition upon which it should be activated\r\n\r\n[![alt text][1]][1]  \n&lt;sub&gt;(source: [ibm.com](https://www.ibm.com/developerworks/library/os-ecbug/fig6.jpg))&lt;/sub&gt;  \n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qOeCV.jpg","title":"Break when a variable is assigned some value","body":"<p>Yes - What you need to setup is a <strong>'Conditional Breakpoint'</strong> - this gives you the ability to stop the program execution and step through the debugger when a certain state of the application is reached.</p>\n<p>So, let's say you want to jump into a particular point in the execution when a certain condition is fulfilled (as per the image attached), you can do this as follows:</p>\n<p>1.</p>\n<p>Open your debugger perspective and select the <strong>'BreakPoints'</strong> tab</p>\n<ol>\n<li><p>Add a new BreakPoint in the code file - at the appropriate place where you would like to observe the program execution</p>\n</li>\n<li><p>Then go back to the <strong>'Breakpoints'</strong> tab, right-click on the newly added entry, and select <strong>'Breakpoint Properties'</strong></p>\n</li>\n<li><p>Set the condition upon which it should be activated</p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/qOeCV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qOeCV.jpg\" alt=\"alt text\" /></a><br />\n<sub>(source: <a href=\"https://www.ibm.com/developerworks/library/os-ecbug/fig6.jpg\" rel=\"nofollow noreferrer\">ibm.com</a>)</sub></p>\n"},{"tags":[],"owner":{"account_id":2657758,"reputation":635,"user_id":2298085,"display_name":"mki"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1367217900,"creation_date":1367217900,"answer_id":16272691,"question_id":2278447,"body_markdown":"Sorry, but there is no way to do what you want in Eclipse. What you need is a watchpoints with the conditional expression of a breakpoint. It does not exist in Eclipse.&lt;br&gt;\r\n\r\nYour problem is also specific debug a library. There are probably other ways to achieve what you need. Search over forum to see how developers do that.\r\n\r\n","title":"Break when a variable is assigned some value","body":"<p>Sorry, but there is no way to do what you want in Eclipse. What you need is a watchpoints with the conditional expression of a breakpoint. It does not exist in Eclipse.<br></p>\n\n<p>Your problem is also specific debug a library. There are probably other ways to achieve what you need. Search over forum to see how developers do that.</p>\n"},{"comments":[{"owner":{"account_id":103559,"reputation":73828,"user_id":277304,"accept_rate":66,"display_name":"leonbloy"},"score":0,"creation_date":1367332493,"post_id":16273524,"comment_id":23339069,"body_markdown":"+1 But notice: besides being restricted to fields (which seems to be ok with the OP&#39;s requirement), it will trigger not exactly when it _changes_ but when it&#39;s _written_ (even when it&#39;s written with the same previous value).","body":"+1 But notice: besides being restricted to fields (which seems to be ok with the OP&#39;s requirement), it will trigger not exactly when it <i>changes</i> but when it&#39;s <i>written</i> (even when it&#39;s written with the same previous value)."}],"tags":[],"owner":{"account_id":366927,"reputation":24862,"user_id":712765,"accept_rate":42,"display_name":"Old Pro"},"comment_count":1,"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1367348141,"creation_date":1367221280,"answer_id":16273524,"question_id":2278447,"body_markdown":"You can come pretty close with [Field Modification Watchpoints][1].  They are limited to being placed on fields of objects (not local variables, parameters, or expressions) and they are triggered whenever the field is written to, but it&#39;s the closest Eclipse has to what you want.  \r\n\r\n\r\n  [1]: http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.cdt.doc.user/tasks/cdt_t_add_watch.htm","title":"Break when a variable is assigned some value","body":"<p>You can come pretty close with <a href=\"http://help.eclipse.org/juno/index.jsp?topic=/org.eclipse.cdt.doc.user/tasks/cdt_t_add_watch.htm\" rel=\"noreferrer\">Field Modification Watchpoints</a>.  They are limited to being placed on fields of objects (not local variables, parameters, or expressions) and they are triggered whenever the field is written to, but it's the closest Eclipse has to what you want.  </p>\n"},{"comments":[{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1367397473,"post_id":16312667,"comment_id":23361213,"body_markdown":"Exactly the kind of answer I was hoping for. Thank you. I&#39;m not sure whether I&#39;ll vote for it or not, I agree it sounds very complex but it shouldn&#39;t be complex so I guess the next question is where the Java bug report is. (But that&#39;s a completely and utterly pointless question unless you work for Oracle because community votes are worth less than zero to the current Java maintainers)","body":"Exactly the kind of answer I was hoping for. Thank you. I&#39;m not sure whether I&#39;ll vote for it or not, I agree it sounds very complex but it shouldn&#39;t be complex so I guess the next question is where the Java bug report is. (But that&#39;s a completely and utterly pointless question unless you work for Oracle because community votes are worth less than zero to the current Java maintainers)"},{"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"score":0,"creation_date":1367445046,"post_id":16312667,"comment_id":23382366,"body_markdown":"@mjaggard Even worse is the actual Oracle bug database is private, and you can only access it if you pay for an Oracle support contract. The OpenJDK bug database is open though.","body":"@mjaggard Even worse is the actual Oracle bug database is private, and you can only access it if you pay for an Oracle support contract. The OpenJDK bug database is open though."},{"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"score":0,"creation_date":1367491942,"post_id":16312667,"comment_id":23397699,"body_markdown":"Open + meaningless as far as I can see.","body":"Open + meaningless as far as I can see."}],"tags":[],"owner":{"account_id":325446,"reputation":17129,"user_id":646634,"accept_rate":100,"display_name":"Brian"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1518030524,"creation_date":1367381933,"answer_id":16312667,"question_id":2278447,"body_markdown":"**Edit**: [The ticket I&#39;ve linked in this answer][1] has been marked verified/fixed. It has been integrated into the latest Oxygen release, [as detailed in the release notes][2]. I&#39;ll leave my original answer below since it has a lot of useful information regarding how JDI and JDT work together in Eclipse.\r\n\r\n---\r\n\r\nI&#39;m going to start with the final answer to your question so you don&#39;t have to read the details if you don&#39;t want to. Basically, this is kind of possible but with a lot of questions that have to be answered first. If you want to skip that and go straight to the ticket, [here you go][1], but I recommend you read on.\r\n\r\nEclipse uses [JDI][3] (very bottom of that page) to register watchpoints with the JVM. This is done through the [`EventRequestManager`][4] methods (the implementation is provided by the JVM itself, not Eclipse) that create watchpoints, i.e. [`EventRequstManager.createModificationWatchpointRequest`][5]. The only thing that these methods accept is a [`Field`][6] (note that this isn&#39;t the reflective [`Field`][7] class). So in short, Eclipse can&#39;t do it directly through Java. Never fear, Java doesn&#39;t handle conditional breakpoints either. Those are also implemented through Eclipse directly instead of relying on Java. There are, however, some caveats that make conditional watchpoints much more difficult to implement than conditional breakpoints.\r\n\r\nLet&#39;s consider plain, conditional breakpoints. In order for them to work, you need a context in which you can execute the code snippet. Without an execution context for the code, we can&#39;t evaluate the expression/statements in the snippet since we have no way of resolving variables, values, types, etc. This is done using an [AST][8] parser that processes the Java code into actual instructions. Remember that you can type a number of statements into a condition, not just a single expression. The evaluator then uses a context (specifically, an [`IJavaStackFrame`][9]) to evaluate the expression itself after parsing it.\r\n\r\nNow think about a conditional watchpoint, because that last point is very important. What is a watchpoint&#39;s execution context? Variable access can happen not only within the same class, but also in other classes (think `protected` and package members), and in inner classes as well (via `MyClass.this.myField`). This means that:\r\n\r\n1. the local variables are never consistent since the field can be accessed from multiple methods,\r\n2. the member variables of the class from which access is invoked are never consistent since the field can be accessed from multiple classes,\r\n3. the imported classes that are available in the execution context are never consistent for the same reason as (2), and\r\n4. the access of the field itself is never consistent since it may require qualification with an instance, class name, `super` or with something like `MyClass.this.myField` (for inner class access).\r\n\r\nThe feasibility of such a feature is kind of limited. You&#39;d be hard-pressed to actually evaluate a non-changing conditional statement for a watchpoint since absolutely nothing in the execution context is going to be consistent. This means that the code cannot be easily parsed and interpreted without special meaning applied to pieces of the code, such as:\r\n\r\n&gt; `myField` is always the same as `this.myField` or `super.myField` or `MyClass.myField` or `MyClass.this.myField`, depending on where the field is being accessed.\r\n\r\nThis complicates things quite a bit, especially in a system that is already relatively complex. An example of the conditional breakpoint code can be found [here][10] (search for `getEvaluationEngine` using Ctrl+F). Now take that and add in pre-processing on the expression based on a set of rules about where we are and where the field is, and doing things can get complicated.\r\n\r\nAFAIK, you can&#39;t do something like, &quot;if the old/new value is this, suspend&quot;, because that information simply isn&#39;t available from the information you can get in the stack frame (and thus from the debugger). The expression being assigned to the value has been evaluated by time the watchpoint is hit, but its result isn&#39;t available to the debugger, therefore it isn&#39;t available to an evaluator on the watchpoint itself. A step would have to be performed first to perform the assignment, then the expression would have to be evaluated after the step. It&#39;d be horribly messy, and honestly, rather hacky at that.\r\n\r\nIn any case, if you want to voice your support for this feature, you can use [this Eclipse ticket][1]. However, it&#39;s been around since 2005 (8 years as of now) and has limited support from the community. TBH, I don&#39;t see it going very far, especially without more clarification of the expectations behind this kind of a feature request and without some major design consideration put behind it first.\r\n\r\n\r\n  [1]: https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\r\n  [2]: https://www.eclipse.org/eclipse/news/4.7/jdt.php#watchpoint-condition\r\n  [3]: http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#interfaces\r\n  [4]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html\r\n  [5]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html#createModificationWatchpointRequest%28com.sun.jdi.Field%29\r\n  [6]: http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/Field.html\r\n  [7]: http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\r\n  [8]: http://en.wikipedia.org/wiki/Abstract_syntax_tree\r\n  [9]: http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fdebug%2Fcore%2FIJavaStackFrame.html\r\n  [10]: http://kickjava.com/src/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java.htm","title":"Break when a variable is assigned some value","body":"<p><strong>Edit</strong>: <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">The ticket I've linked in this answer</a> has been marked verified/fixed. It has been integrated into the latest Oxygen release, <a href=\"https://www.eclipse.org/eclipse/news/4.7/jdt.php#watchpoint-condition\" rel=\"nofollow noreferrer\">as detailed in the release notes</a>. I'll leave my original answer below since it has a lot of useful information regarding how JDI and JDT work together in Eclipse.</p>\n\n<hr>\n\n<p>I'm going to start with the final answer to your question so you don't have to read the details if you don't want to. Basically, this is kind of possible but with a lot of questions that have to be answered first. If you want to skip that and go straight to the ticket, <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">here you go</a>, but I recommend you read on.</p>\n\n<p>Eclipse uses <a href=\"http://docs.oracle.com/javase/6/docs/technotes/guides/jpda/architecture.html#interfaces\" rel=\"nofollow noreferrer\">JDI</a> (very bottom of that page) to register watchpoints with the JVM. This is done through the <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html\" rel=\"nofollow noreferrer\"><code>EventRequestManager</code></a> methods (the implementation is provided by the JVM itself, not Eclipse) that create watchpoints, i.e. <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/request/EventRequestManager.html#createModificationWatchpointRequest%28com.sun.jdi.Field%29\" rel=\"nofollow noreferrer\"><code>EventRequstManager.createModificationWatchpointRequest</code></a>. The only thing that these methods accept is a <a href=\"http://docs.oracle.com/javase/6/docs/jdk/api/jpda/jdi/com/sun/jdi/Field.html\" rel=\"nofollow noreferrer\"><code>Field</code></a> (note that this isn't the reflective <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/reflect/Field.html\" rel=\"nofollow noreferrer\"><code>Field</code></a> class). So in short, Eclipse can't do it directly through Java. Never fear, Java doesn't handle conditional breakpoints either. Those are also implemented through Eclipse directly instead of relying on Java. There are, however, some caveats that make conditional watchpoints much more difficult to implement than conditional breakpoints.</p>\n\n<p>Let's consider plain, conditional breakpoints. In order for them to work, you need a context in which you can execute the code snippet. Without an execution context for the code, we can't evaluate the expression/statements in the snippet since we have no way of resolving variables, values, types, etc. This is done using an <a href=\"http://en.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">AST</a> parser that processes the Java code into actual instructions. Remember that you can type a number of statements into a condition, not just a single expression. The evaluator then uses a context (specifically, an <a href=\"http://help.eclipse.org/juno/index.jsp?topic=%2Forg.eclipse.jdt.doc.isv%2Freference%2Fapi%2Forg%2Feclipse%2Fjdt%2Fdebug%2Fcore%2FIJavaStackFrame.html\" rel=\"nofollow noreferrer\"><code>IJavaStackFrame</code></a>) to evaluate the expression itself after parsing it.</p>\n\n<p>Now think about a conditional watchpoint, because that last point is very important. What is a watchpoint's execution context? Variable access can happen not only within the same class, but also in other classes (think <code>protected</code> and package members), and in inner classes as well (via <code>MyClass.this.myField</code>). This means that:</p>\n\n<ol>\n<li>the local variables are never consistent since the field can be accessed from multiple methods,</li>\n<li>the member variables of the class from which access is invoked are never consistent since the field can be accessed from multiple classes,</li>\n<li>the imported classes that are available in the execution context are never consistent for the same reason as (2), and</li>\n<li>the access of the field itself is never consistent since it may require qualification with an instance, class name, <code>super</code> or with something like <code>MyClass.this.myField</code> (for inner class access).</li>\n</ol>\n\n<p>The feasibility of such a feature is kind of limited. You'd be hard-pressed to actually evaluate a non-changing conditional statement for a watchpoint since absolutely nothing in the execution context is going to be consistent. This means that the code cannot be easily parsed and interpreted without special meaning applied to pieces of the code, such as:</p>\n\n<blockquote>\n  <p><code>myField</code> is always the same as <code>this.myField</code> or <code>super.myField</code> or <code>MyClass.myField</code> or <code>MyClass.this.myField</code>, depending on where the field is being accessed.</p>\n</blockquote>\n\n<p>This complicates things quite a bit, especially in a system that is already relatively complex. An example of the conditional breakpoint code can be found <a href=\"http://kickjava.com/src/org/eclipse/jdt/internal/debug/core/breakpoints/JavaLineBreakpoint.java.htm\" rel=\"nofollow noreferrer\">here</a> (search for <code>getEvaluationEngine</code> using Ctrl+F). Now take that and add in pre-processing on the expression based on a set of rules about where we are and where the field is, and doing things can get complicated.</p>\n\n<p>AFAIK, you can't do something like, \"if the old/new value is this, suspend\", because that information simply isn't available from the information you can get in the stack frame (and thus from the debugger). The expression being assigned to the value has been evaluated by time the watchpoint is hit, but its result isn't available to the debugger, therefore it isn't available to an evaluator on the watchpoint itself. A step would have to be performed first to perform the assignment, then the expression would have to be evaluated after the step. It'd be horribly messy, and honestly, rather hacky at that.</p>\n\n<p>In any case, if you want to voice your support for this feature, you can use <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=96719\" rel=\"nofollow noreferrer\">this Eclipse ticket</a>. However, it's been around since 2005 (8 years as of now) and has limited support from the community. TBH, I don't see it going very far, especially without more clarification of the expectations behind this kind of a feature request and without some major design consideration put behind it first.</p>\n"}],"owner":{"account_id":589561,"reputation":499,"user_id":273302,"display_name":"Daniel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24394,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"answer_count":5,"score":42,"last_activity_date":1677664144,"creation_date":1266383109,"question_id":2278447,"body_markdown":"I want jdb (which I&#39;m using via the Eclipse debugger) to break when a variable is assigned some value.\r\nI&#39;m not interested in setting a breakpoint at some specific line but rather more generally. \r\n\r\nFor example, break every time x == null.\r\n\r\nIs such a thing achievable?\r\n","title":"Break when a variable is assigned some value","body":"<p>I want jdb (which I'm using via the Eclipse debugger) to break when a variable is assigned some value.\nI'm not interested in setting a breakpoint at some specific line but rather more generally. </p>\n\n<p>For example, break every time x == null.</p>\n\n<p>Is such a thing achievable?</p>\n"},{"tags":["java","macos","printing"],"answers":[{"comments":[{"owner":{"account_id":7063614,"reputation":1188,"user_id":5407797,"accept_rate":92,"display_name":"AAM111"},"score":0,"creation_date":1541297814,"post_id":8729801,"comment_id":93167397,"body_markdown":"Is this link still valid?","body":"Is this link still valid?"}],"tags":[],"owner":{"account_id":139990,"reputation":922,"user_id":345970,"display_name":"Atonewell"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1325692652,"creation_date":1325692652,"answer_id":8729801,"question_id":2301831,"body_markdown":"You are correct in think you need to go down the JNI route.\r\n\r\nApple has a tech note on developing JNI routines here: http://developer.apple.com/library/mac/#technotes/tn2147/_index.html","title":"Mac OS X native printing from a Java desktop application","body":"<p>You are correct in think you need to go down the JNI route.</p>\n\n<p>Apple has a tech note on developing JNI routines here: <a href=\"http://developer.apple.com/library/mac/#technotes/tn2147/_index.html\" rel=\"nofollow\">http://developer.apple.com/library/mac/#technotes/tn2147/_index.html</a></p>\n"}],"owner":{"account_id":41550,"reputation":13392,"user_id":120820,"accept_rate":100,"display_name":"William"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1850,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":8729801,"answer_count":1,"score":4,"last_activity_date":1677664059,"creation_date":1266661410,"question_id":2301831,"body_markdown":"I would like to implement Mac OS X native printing in my Java desktop application.\r\n\r\nThat is, this print dialog when the user chooses to print:  \r\n[![][1]][1]  \n&lt;sub&gt;(source: [blogcdn.com](https://www.blogcdn.com/www.tuaw.com/media/2008/09/terminal-tips_-make-extended-print-dialog-default.jpg))&lt;/sub&gt;  \n  \r\nwhich then expands to a dialog such as this:  \r\n[![][2]][2]  \r\nAs I understand it, native Mac OS X applications can customise the 2nd dialog by adding an option in the lower drop-down (&quot;TextEdit&quot; in the screenshot) which when selected displays options specific to the application.\r\n\r\nHow is the best way to go about achieving this in my Java application? I presume I will need to write some Objective C to do what I need, then use JNA/JNI to call it? Are they are pre-existing libraries that can help me?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/U6F7u.jpg\r\n  [2]: https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg","title":"Mac OS X native printing from a Java desktop application","body":"<p>I would like to implement Mac OS X native printing in my Java desktop application.</p>\n<p>That is, this print dialog when the user chooses to print:<br />\n<a href=\"https://i.stack.imgur.com/U6F7u.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/U6F7u.jpg\" alt=\"\" /></a><br />\n<sub>(source: <a href=\"https://www.blogcdn.com/www.tuaw.com/media/2008/09/terminal-tips_-make-extended-print-dialog-default.jpg\" rel=\"nofollow noreferrer\">blogcdn.com</a>)</sub></p>\n<p>which then expands to a dialog such as this:<br />\n<a href=\"https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://kb.epson-europe.com/pf/12/webfiles/Article%20Images/Operating%20Systems/Mac%20OS%20X/Mac_OSX_Leopard_Print_Advanced.jpg\" alt=\"\" /></a><br />\nAs I understand it, native Mac OS X applications can customise the 2nd dialog by adding an option in the lower drop-down (&quot;TextEdit&quot; in the screenshot) which when selected displays options specific to the application.</p>\n<p>How is the best way to go about achieving this in my Java application? I presume I will need to write some Objective C to do what I need, then use JNA/JNI to call it? Are they are pre-existing libraries that can help me?</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"answers":[{"comments":[{"owner":{"account_id":3110025,"reputation":1011,"user_id":2631988,"display_name":"Liam Mitchell"},"score":0,"creation_date":1677668498,"post_id":75601983,"comment_id":133381925,"body_markdown":"Thanks @Christian, I attempted something like that but found that the hint was not applied because it was unrecognized there was a info log about it. I saw an abstract query contract that had some method forget the wording at the moment, but was not sure how I could make my own hint get applied as the hint is not present in the dialects hint query string function. Although was using at QueryHints","body":"Thanks @Christian, I attempted something like that but found that the hint was not applied because it was unrecognized there was a info log about it. I saw an abstract query contract that had some method forget the wording at the moment, but was not sure how I could make my own hint get applied as the hint is not present in the dialects hint query string function. Although was using at QueryHints"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":1,"creation_date":1677670212,"post_id":75601983,"comment_id":133382375,"body_markdown":"I&#39;m telling you, this code works if the MySQL dialect supports skip locked. Update to the latest Hibernate version.","body":"I&#39;m telling you, this code works if the MySQL dialect supports skip locked. Update to the latest Hibernate version."}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677664020,"creation_date":1677664020,"answer_id":75601983,"question_id":75588563,"body_markdown":"You can do that with a custom Hibernate `Dialect` by providing a query comment. You can set the comment via a JPA query hint `org.hibernate.comment`. Then in the `Dialect` you can apply that comment by implementing `addSqlHintOrComment`.\r\n\r\nUsing SKIP LOCKED is easy though, you can write a query like this:\r\n\r\n```\r\nentityManager.createQuery(&quot;from Thing t where t.something = 1&quot;)\r\n    .setMaxResults(1)\r\n    .setHint(&quot;org.hibernate.lockMode&quot;, LockMode.UPGRADE_SKIPLOCKED)\r\n```","title":"Use Force Index with Hibernate JPA Repository Query Hint?","body":"<p>You can do that with a custom Hibernate <code>Dialect</code> by providing a query comment. You can set the comment via a JPA query hint <code>org.hibernate.comment</code>. Then in the <code>Dialect</code> you can apply that comment by implementing <code>addSqlHintOrComment</code>.</p>\n<p>Using SKIP LOCKED is easy though, you can write a query like this:</p>\n<pre><code>entityManager.createQuery(&quot;from Thing t where t.something = 1&quot;)\n    .setMaxResults(1)\n    .setHint(&quot;org.hibernate.lockMode&quot;, LockMode.UPGRADE_SKIPLOCKED)\n</code></pre>\n"}],"owner":{"account_id":3110025,"reputation":1011,"user_id":2631988,"display_name":"Liam Mitchell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":871,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677664020,"creation_date":1677565873,"question_id":75588563,"body_markdown":"Looking for a way to use Force Index on a MySQL query (not native).\r\n\r\nIs it possible to create a custom QueryHint that can be registered and applied which will add the necessary sql `FORCE INDEX (some_index_name)` to the query?\r\n\r\nIf so can anyone give an example or point in the right direction for how to accomplish this.\r\n\r\nUsing MySQL 8, wanting to write a query like this.\r\n\r\n```\r\nSELECT * FROM Thing WHERE something = 1 LIMIT 1 FOR UPDATE SKIP LOCKED\r\n```\r\n\r\nI have the query working at the moment other than the index is not used the for update, skip locked etc is all sorted.\r\n\r\nTried a native query but it kept giving an error about some jpa mapping being null.\r\nThe query works fine other than it needs to force the index.","title":"Use Force Index with Hibernate JPA Repository Query Hint?","body":"<p>Looking for a way to use Force Index on a MySQL query (not native).</p>\n<p>Is it possible to create a custom QueryHint that can be registered and applied which will add the necessary sql <code>FORCE INDEX (some_index_name)</code> to the query?</p>\n<p>If so can anyone give an example or point in the right direction for how to accomplish this.</p>\n<p>Using MySQL 8, wanting to write a query like this.</p>\n<pre><code>SELECT * FROM Thing WHERE something = 1 LIMIT 1 FOR UPDATE SKIP LOCKED\n</code></pre>\n<p>I have the query working at the moment other than the index is not used the for update, skip locked etc is all sorted.</p>\n<p>Tried a native query but it kept giving an error about some jpa mapping being null.\nThe query works fine other than it needs to force the index.</p>\n"},{"tags":["javascript","java","spring","kotlin","jestjs"],"comments":[{"owner":{"account_id":4589129,"reputation":5389,"user_id":5078746,"display_name":"Fcmam5"},"score":0,"creation_date":1677657057,"post_id":75600819,"comment_id":133378964,"body_markdown":"Why do you have java, spring and kotlin tags in this post?","body":"Why do you have java, spring and kotlin tags in this post?"},{"owner":{"account_id":16135677,"reputation":1,"user_id":11648206,"display_name":"Nikolay Nickolskiy"},"score":0,"creation_date":1677660966,"post_id":75600819,"comment_id":133379876,"body_markdown":"because i want to write my own microservice and it is not matter what program language to use. I write on all of them","body":"because i want to write my own microservice and it is not matter what program language to use. I write on all of them"}],"answers":[{"comments":[{"owner":{"account_id":16135677,"reputation":1,"user_id":11648206,"display_name":"Nikolay Nickolskiy"},"score":0,"creation_date":1677666991,"post_id":75601915,"comment_id":133381529,"body_markdown":"No i want to test word template expected with word template actual. It is like a snapshot testing but with word or pdf","body":"No i want to test word template expected with word template actual. It is like a snapshot testing but with word or pdf"},{"owner":{"account_id":4589129,"reputation":5389,"user_id":5078746,"display_name":"Fcmam5"},"score":0,"creation_date":1677671329,"post_id":75601915,"comment_id":133382661,"body_markdown":"In this case there is no native method from Jest to do this snapshot testing, however you may find third-party libraries like [this](https://www.npmjs.com/package/jest-pdf-snapshot) or build your own","body":"In this case there is no native method from Jest to do this snapshot testing, however you may find third-party libraries like <a href=\"https://www.npmjs.com/package/jest-pdf-snapshot\" rel=\"nofollow noreferrer\">this</a> or build your own"}],"tags":[],"owner":{"account_id":4589129,"reputation":5389,"user_id":5078746,"display_name":"Fcmam5"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663721,"creation_date":1677663721,"answer_id":75601915,"question_id":75600819,"body_markdown":"I assume that you are using a JS library to generate this word document, which means that should not test third-party libraries you can only [mock it][1] and make sure that it&#39;s being called with the correct parameters by using\r\n\r\n- [`.toHaveBeenCalledWith`][2]\r\n- [`.toHaveBeenCalledTimes`][3]\r\n\r\nOr that it throws when something wrong happens:\r\n\r\n- [`.toThrow`][4]\r\n\r\nAnd in case you need more than to unit-test it, I suggest that you use a library that parses and reads the word document for you and compares the results. \r\n\r\n  [1]: https://jestjs.io/docs/mock-function-api\r\n  [2]: https://jestjs.io/docs/expect#tohavebeencalledwitharg1-arg2-\r\n  [3]: https://jestjs.io/docs/expect#tohavebeencalledtimesnumber\r\n  [4]: https://jestjs.io/docs/expect#tothrowerror","title":"Is it possible to test word document like a snapshot test in Java, Spring, JS or whatever else?","body":"<p>I assume that you are using a JS library to generate this word document, which means that should not test third-party libraries you can only <a href=\"https://jestjs.io/docs/mock-function-api\" rel=\"nofollow noreferrer\">mock it</a> and make sure that it's being called with the correct parameters by using</p>\n<ul>\n<li><a href=\"https://jestjs.io/docs/expect#tohavebeencalledwitharg1-arg2-\" rel=\"nofollow noreferrer\"><code>.toHaveBeenCalledWith</code></a></li>\n<li><a href=\"https://jestjs.io/docs/expect#tohavebeencalledtimesnumber\" rel=\"nofollow noreferrer\"><code>.toHaveBeenCalledTimes</code></a></li>\n</ul>\n<p>Or that it throws when something wrong happens:</p>\n<ul>\n<li><a href=\"https://jestjs.io/docs/expect#tothrowerror\" rel=\"nofollow noreferrer\"><code>.toThrow</code></a></li>\n</ul>\n<p>And in case you need more than to unit-test it, I suggest that you use a library that parses and reads the word document for you and compares the results.</p>\n"}],"owner":{"account_id":16135677,"reputation":1,"user_id":11648206,"display_name":"Nikolay Nickolskiy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1677663721,"creation_date":1677656836,"question_id":75600819,"body_markdown":"I have a service that generated a word document with some variables. I want to check is it the same as example ? Now I test it manually but it very time consuming process. Is it possible to automate it ? I know that in jest I can make a snapshot testing of my frontend but not found any similar for my task","title":"Is it possible to test word document like a snapshot test in Java, Spring, JS or whatever else?","body":"<p>I have a service that generated a word document with some variables. I want to check is it the same as example ? Now I test it manually but it very time consuming process. Is it possible to automate it ? I know that in jest I can make a snapshot testing of my frontend but not found any similar for my task</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677663096,"creation_date":1677663096,"answer_id":75601796,"question_id":75574332,"body_markdown":"No you can&#39;t make that work for merge. If you code correctly, you shouldn&#39;t be able to get access to an entity in the first place when querying with the filter enabled, so there is no reason for Hibernate to consider the filter anywhere else.","title":"Hibernate filter is not working for select and update statement executed inside merge method","body":"<p>No you can't make that work for merge. If you code correctly, you shouldn't be able to get access to an entity in the first place when querying with the filter enabled, so there is no reason for Hibernate to consider the filter anywhere else.</p>\n"}],"owner":{"account_id":6893973,"reputation":25,"user_id":5296538,"display_name":"adarsh srivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677663096,"creation_date":1677437995,"question_id":75574332,"body_markdown":"I have JPA entities with a filter defined like this:\r\n\r\n```\r\n@Filter(name = &quot;tenantFilter&quot;, condition = &quot;tenant_id = :tenantId&quot;)\r\npublic abstract class TenantAwareBaseEntity extends BaseEntity {\r\n    @Column(name = &quot;tenantId&quot;, nullable = false)\r\n    private String tenantId;\r\n}\r\n```\r\n\r\nI am enabling the filter using the following code before calling the merge method like this:\r\n\r\n```\r\nentityManager\r\n             .unwrap(Session.class)\r\n             .enableFilter(&quot;tenantFilter&quot;)\r\n             .setParameter(&quot;tenantId&quot;, TenantContext.getCurrentTenantId());\r\n```\r\n\r\nWhen the merge method executes, it executes two sql statements, one select and one update, but when I am checking the sql statements generated for these select and update statements, I am not seeing any filter for tenantId like this:\r\n```\r\nselect.....where tenatId = ?\r\n\r\nor\r\n\r\nupdate.....where tenantId = ?\r\n\r\n```\r\n\r\nThis filter is working on other methods, but it&#39;s not working for merge. Is there any way I can enable the hibernate filter on the merge method?\r\n\r\n","title":"Hibernate filter is not working for select and update statement executed inside merge method","body":"<p>I have JPA entities with a filter defined like this:</p>\n<pre><code>@Filter(name = &quot;tenantFilter&quot;, condition = &quot;tenant_id = :tenantId&quot;)\npublic abstract class TenantAwareBaseEntity extends BaseEntity {\n    @Column(name = &quot;tenantId&quot;, nullable = false)\n    private String tenantId;\n}\n</code></pre>\n<p>I am enabling the filter using the following code before calling the merge method like this:</p>\n<pre><code>entityManager\n             .unwrap(Session.class)\n             .enableFilter(&quot;tenantFilter&quot;)\n             .setParameter(&quot;tenantId&quot;, TenantContext.getCurrentTenantId());\n</code></pre>\n<p>When the merge method executes, it executes two sql statements, one select and one update, but when I am checking the sql statements generated for these select and update statements, I am not seeing any filter for tenantId like this:</p>\n<pre><code>select.....where tenatId = ?\n\nor\n\nupdate.....where tenantId = ?\n\n</code></pre>\n<p>This filter is working on other methods, but it's not working for merge. Is there any way I can enable the hibernate filter on the merge method?</p>\n"},{"tags":["java","hibernate","orm"],"answers":[{"comments":[{"owner":{"account_id":25056726,"reputation":5,"user_id":18912023,"display_name":"Damian Iwańczyk"},"score":0,"creation_date":1677752757,"post_id":75601768,"comment_id":133401415,"body_markdown":"So, the best approach would be to select all the relationships from the database that contains the id of the object that is updated and append those object from non-owning side to the updated object?","body":"So, the best approach would be to select all the relationships from the database that contains the id of the object that is updated and append those object from non-owning side to the updated object?"},{"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"score":0,"creation_date":1677753851,"post_id":75601768,"comment_id":133401750,"body_markdown":"You don&#39;t have to select all relationships. You can just load the `Student` and apply all the basic attributes from the incoming object on that loaded object.","body":"You don&#39;t have to select all relationships. You can just load the <code>Student</code> and apply all the basic attributes from the incoming object on that loaded object."},{"owner":{"account_id":25056726,"reputation":5,"user_id":18912023,"display_name":"Damian Iwańczyk"},"score":0,"creation_date":1678089877,"post_id":75601768,"comment_id":133458892,"body_markdown":"Yeah, that&#39;s what I meant. Works like a charm, thank you very much!!","body":"Yeah, that&#39;s what I meant. Works like a charm, thank you very much!!"}],"tags":[],"owner":{"account_id":179640,"reputation":15442,"user_id":412446,"accept_rate":41,"display_name":"Christian Beikov"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1677662927,"creation_date":1677662927,"answer_id":75601768,"question_id":75572714,"body_markdown":"The owning side of the relationship is `Student`. So when you merge a detached `Student` object, Hibernate will synchronize the `projects` collection with the database. This has nothing to do with cascading. That&#39;s just simply the relationship ownership that causes this. If the `projection` of that `Student` you merge are empty, all existing projects from `student_project` will be deleted for that student.","title":"Hibernate unwanted delete after update in @ManyToMany relationship","body":"<p>The owning side of the relationship is <code>Student</code>. So when you merge a detached <code>Student</code> object, Hibernate will synchronize the <code>projects</code> collection with the database. This has nothing to do with cascading. That's just simply the relationship ownership that causes this. If the <code>projection</code> of that <code>Student</code> you merge are empty, all existing projects from <code>student_project</code> will be deleted for that student.</p>\n"}],"owner":{"account_id":25056726,"reputation":5,"user_id":18912023,"display_name":"Damian Iwańczyk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75601768,"answer_count":1,"score":0,"last_activity_date":1677662927,"creation_date":1677422394,"question_id":75572714,"body_markdown":"Here are my entities &lt;br&gt;\r\nMaster:\r\n```   \r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = &quot;student_project&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;student_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;))\r\n    private Set&lt;Project&gt; projects;\r\n```\r\nSlave:\r\n```   \r\n    @ManyToMany(mappedBy = &quot;projects&quot;, fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\r\n    private Set&lt;Student&gt; students;\r\n```\r\n\r\nWhen I update project, everything seems fine. But when I update student, all relations in the student_project table with the students id are gone. \r\nI think it has something to do with the cascade field in the master table, but I am not sure. How should it look like? Or maybe it is something else?\r\nBtw I merge both entities using em.merge(student) / em.merge(project)","title":"Hibernate unwanted delete after update in @ManyToMany relationship","body":"<p>Here are my entities <br>\nMaster:</p>\n<pre><code>    @ManyToMany\n    @JoinTable(\n            name = &quot;student_project&quot;,\n            joinColumns = @JoinColumn(name = &quot;student_id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;project_id&quot;))\n    private Set&lt;Project&gt; projects;\n</code></pre>\n<p>Slave:</p>\n<pre><code>    @ManyToMany(mappedBy = &quot;projects&quot;, fetch = FetchType.EAGER, cascade = CascadeType.MERGE)\n    private Set&lt;Student&gt; students;\n</code></pre>\n<p>When I update project, everything seems fine. But when I update student, all relations in the student_project table with the students id are gone.\nI think it has something to do with the cascade field in the master table, but I am not sure. How should it look like? Or maybe it is something else?\nBtw I merge both entities using em.merge(student) / em.merge(project)</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1677655883,"post_id":75600574,"comment_id":133378706,"body_markdown":"The only way to exit the loop is for `hasNext` to return `false` or for you to `break`, and the `break` you have is in case the number you read is negative. Seems to me like a `for` loop with an upper limit on `n` and an `if(!scan.hasNext()) break;` would have been more readable and easy to handle.","body":"The only way to exit the loop is for <code>hasNext</code> to return <code>false</code> or for you to <code>break</code>, and the <code>break</code> you have is in case the number you read is negative. Seems to me like a <code>for</code> loop with an upper limit on <code>n</code> and an <code>if(!scan.hasNext()) break;</code> would have been more readable and easy to handle."}],"answers":[{"comments":[{"owner":{"account_id":21698059,"reputation":1,"user_id":16011635,"display_name":"Ben Jerrings"},"score":0,"creation_date":1677792599,"post_id":75601708,"comment_id":133412813,"body_markdown":"Is there a way to see also say if the input value was 3 then 5 inputs are submitted to get an invalid input.","body":"Is there a way to see also say if the input value was 3 then 5 inputs are submitted to get an invalid input."}],"tags":[],"owner":{"account_id":26037703,"reputation":305,"user_id":19742955,"display_name":"Jai Prakash"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662707,"creation_date":1677662707,"answer_id":75601708,"question_id":75600574,"body_markdown":"According to your question. it&#39;s code should work.\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Sequ {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t// Prepare the scanner\r\n    \t\tScanner scan = new Scanner(System.in);\r\n    \t\t// Read the number of input numbers\r\n    \t\tint n = scan.nextInt();\r\n    \r\n    \t\t// Check for invalid input\r\n    \t\tif (n &lt;= 0) {\r\n    \t\t\tSystem.out.println(&quot;Invalid input.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \r\n    \t\t// Read the input numbers\r\n    \t\tint[] inputs = new int[n];\r\n    \t\tint numInputs = 0;\r\n    \t\twhile (scan.hasNext() &amp;&amp; numInputs &lt; n) {\r\n    \t\t\tint val = scan.nextInt();\r\n    \t\t\tif (val &gt;= 0) {\r\n    \t\t\t\tinputs[numInputs] = val;\r\n    \t\t\t\tnumInputs++;\r\n    \r\n    \t\t\t\tif (numInputs &gt; 1 &amp;&amp; inputs[numInputs - 1] &lt;= inputs[numInputs - 2]) {\r\n    \t\t\t\t\tSystem.out.println(&quot;Input numbers not in increasing order.&quot;);\r\n    \t\t\t\t\treturn;\r\n    \t\t\t\t}\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(&quot;Invalid input.&quot;);\r\n    \t\t\t\treturn;\r\n    \t\t\t}\r\n    \t\t}\r\n    \r\n    \t\t// Check for incomplete input\r\n    \t\tif (numInputs &lt; n) {\r\n    \t\t\tSystem.out.println(&quot;Incomplete input.&quot;);\r\n    \t\t\treturn;\r\n    \t\t}\r\n    \t}\r\n    }","title":"My while loop won&#39;t exit JAVA with scanner","body":"<p>According to your question. it's code should work.</p>\n<pre><code>import java.util.Scanner;\n\npublic class Sequ {\n    public static void main(String[] args) {\n        // Prepare the scanner\n        Scanner scan = new Scanner(System.in);\n        // Read the number of input numbers\n        int n = scan.nextInt();\n\n        // Check for invalid input\n        if (n &lt;= 0) {\n            System.out.println(&quot;Invalid input.&quot;);\n            return;\n        }\n\n        // Read the input numbers\n        int[] inputs = new int[n];\n        int numInputs = 0;\n        while (scan.hasNext() &amp;&amp; numInputs &lt; n) {\n            int val = scan.nextInt();\n            if (val &gt;= 0) {\n                inputs[numInputs] = val;\n                numInputs++;\n\n                if (numInputs &gt; 1 &amp;&amp; inputs[numInputs - 1] &lt;= inputs[numInputs - 2]) {\n                    System.out.println(&quot;Input numbers not in increasing order.&quot;);\n                    return;\n                }\n            } else {\n                System.out.println(&quot;Invalid input.&quot;);\n                return;\n            }\n        }\n\n        // Check for incomplete input\n        if (numInputs &lt; n) {\n            System.out.println(&quot;Incomplete input.&quot;);\n            return;\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21698059,"reputation":1,"user_id":16011635,"display_name":"Ben Jerrings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677662707,"creation_date":1677655053,"question_id":75600574,"body_markdown":"I have it working some what but it is not fully working i need to recieve and input of \r\n4 --&gt; This line is the number of numbers in the next line. \r\n2 4 5 6 --&gt; the inputs \r\n\r\nA requirement is that say if the bottom line had 5 numbers it shows error but i keep getting into an infinite loop. \r\n\r\n\r\n```\r\nimport java.util.Scanner;\r\n\r\n\r\npublic class Sequ{\r\n    public static void main(String[] args){\r\n        try{\r\n            //To see if they are integers\r\n            //Prepare the scanner \r\n            Scanner scan = new Scanner(System.in);\r\n            //Read the inputs\r\n            boolean error_input = false;\r\n            int k = 0;\r\n            int n = scan.nextInt();\r\n            int counter = 0; \r\n            int[] inputs = new int[n];\r\n            if (n &lt;= 0) {      \r\n                valid_input = true;\r\n            }\r\n\r\n            else {\r\n                //Add try catch for too long a list\r\n                while (scan.hasNext()){\r\n                    int val = scan.nextInt();\r\n                    if (val &gt;= 0){\r\n                        inputs[k] = val;\r\n                        \r\n                        if (k &gt; 1){\r\n                            if (inputs[k] &lt;= inputs[k-1]){\r\n                                ordinary_order = true;\r\n                            }\r\n                        }\r\n                        \r\n                    }\r\n                    else {\r\n                        error_input = true;\r\n                        break;\r\n                    }\r\n                }\r\n```\r\n\r\n\r\nThere is more below that doesn&#39;t matter but the while loop ","title":"My while loop won&#39;t exit JAVA with scanner","body":"<p>I have it working some what but it is not fully working i need to recieve and input of\n4 --&gt; This line is the number of numbers in the next line.\n2 4 5 6 --&gt; the inputs</p>\n<p>A requirement is that say if the bottom line had 5 numbers it shows error but i keep getting into an infinite loop.</p>\n<pre><code>import java.util.Scanner;\n\n\npublic class Sequ{\n    public static void main(String[] args){\n        try{\n            //To see if they are integers\n            //Prepare the scanner \n            Scanner scan = new Scanner(System.in);\n            //Read the inputs\n            boolean error_input = false;\n            int k = 0;\n            int n = scan.nextInt();\n            int counter = 0; \n            int[] inputs = new int[n];\n            if (n &lt;= 0) {      \n                valid_input = true;\n            }\n\n            else {\n                //Add try catch for too long a list\n                while (scan.hasNext()){\n                    int val = scan.nextInt();\n                    if (val &gt;= 0){\n                        inputs[k] = val;\n                        \n                        if (k &gt; 1){\n                            if (inputs[k] &lt;= inputs[k-1]){\n                                ordinary_order = true;\n                            }\n                        }\n                        \n                    }\n                    else {\n                        error_input = true;\n                        break;\n                    }\n                }\n</code></pre>\n<p>There is more below that doesn't matter but the while loop</p>\n"},{"tags":["java","mongodb","spring-boot","mapping","java-17"],"comments":[{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677653525,"post_id":75600319,"comment_id":133378235,"body_markdown":"setItem_details method accepts only one String as a parameter. But you are passing more than one String. I think you need to concatenate all the String to one String and set it.","body":"setItem_details method accepts only one String as a parameter. But you are passing more than one String. I think you need to concatenate all the String to one String and set it."},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1677654015,"post_id":75600319,"comment_id":133378337,"body_markdown":"How do I do this? Basically, all the data&#39;s I want to extract from my class are all coming from the List Object. I am at loss as to how I could call on the selected data&#39;s I want from my entity class..:(","body":"How do I do this? Basically, all the data&#39;s I want to extract from my class are all coming from the List Object. I am at loss as to how I could call on the selected data&#39;s I want from my entity class..:("},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677654225,"post_id":75600319,"comment_id":133378374,"body_markdown":"you can iterate the list and return as a String.","body":"you can iterate the list and return as a String."},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677654404,"post_id":75600319,"comment_id":133378402,"body_markdown":"Can you provide sample input(BookingEntity) and output(ViewAllDTO) expected from the above toDTO method.","body":"Can you provide sample input(BookingEntity) and output(ViewAllDTO) expected from the above toDTO method."},{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1677654407,"post_id":75600319,"comment_id":133378403,"body_markdown":"Can I see a sample code for this one? If it&#39;s possible on your end for visibility? &#129402; And further question, if I do this will be a able to call a data from the different List Dto&#39;s inside my entity class and set it to my preferred response dto?","body":"Can I see a sample code for this one? If it&#39;s possible on your end for visibility? 🥺 And further question, if I do this will be a able to call a data from the different List Dto&#39;s inside my entity class and set it to my preferred response dto?"},{"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"score":0,"creation_date":1677662964,"post_id":75600319,"comment_id":133380390,"body_markdown":"I didnt understand your question. But check the answer i have provided and that might help to clarify your second doubt","body":"I didnt understand your question. But check the answer i have provided and that might help to clarify your second doubt"}],"answers":[{"comments":[{"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"score":0,"creation_date":1677914039,"post_id":75601696,"comment_id":133434942,"body_markdown":"Hey! I come back to say thank you to you. You have no idea how much this helps me. You save my life and my job. I love you. God Bless you, my hero. This code works for me.&#128557;&#128557;&#128557;❤️❤️❤️❤️❤️❤️","body":"Hey! I come back to say thank you to you. You have no idea how much this helps me. You save my life and my job. I love you. God Bless you, my hero. This code works for me.😭😭😭❤️❤️❤️❤️❤️❤️"}],"tags":[],"owner":{"account_id":11478953,"reputation":937,"user_id":8413680,"display_name":"Sujay Mohan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662648,"creation_date":1677662648,"answer_id":75601696,"question_id":75600319,"body_markdown":"I am not sure whether this is the response you want but I have written below sample code for reference.\r\n\r\n```\r\n        ViewAllDTO viewAllDTO = new ViewAllDTO();\r\n        List&lt;BookingDTO&gt; booking=new ArrayList&lt;&gt;();\r\n        booking.add(new BookingDTO(&quot;123&quot;,&quot;success&quot;));\r\n        List&lt;ItemDTO&gt; item= new ArrayList&lt;&gt;();\r\n        item.add(new ItemDTO(&quot;new Item&quot;, new BigDecimal(&quot;1&quot;), \r\n                new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), \r\n                new BigDecimal(&quot;1&quot;),&quot;big&quot;));\r\n        List&lt;ShipperDetailsDTO&gt; shipper_details=new ArrayList&lt;&gt;();\r\n        shipper_details.add(new ShipperDetailsDTO(&quot;Shipper_First&quot;,&quot;Shipper_Last&quot;));\r\n\r\n        String bookingDetails = booking.stream()\r\n                .map(x-&gt;x.getBooking_number())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n        String senderDetails = shipper_details.stream()\r\n                .map(x-&gt;x.getFirst_name()+x.getLast_name())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n        String itemDetails = item.stream()\r\n                .map(x-&gt;x.getItem_description() + &quot; - &quot; +\r\n                        x.getWeight() + &quot; - &quot; +\r\n                        x.getHeight()+ &quot; - &quot; +\r\n                        x.getLength()+ &quot; - &quot; +\r\n                        x.getWidth()+ &quot; - &quot; +\r\n                        x.getDeclared_value()+ &quot; - &quot; +\r\n                        x.getPackage_handling_type())\r\n                .collect(Collectors.joining(&quot;, &quot;));\r\n\r\n        viewAllDTO.setBooking_number(bookingDetails);\r\n        viewAllDTO.setItem_details(itemDetails);\r\n        viewAllDTO.setSender_name(senderDetails);\r\n\r\n        System.out.println(viewAllDTO);\r\n```\r\n\r\nSo you will get out put like the below.\r\n```\r\nViewAllDTO(booking_number=123, sender_name=Shipper_FirstShipper_Last, item_details=new Item - 1 - 1 - 1 - 1 - 1 - big)\r\n\r\n```","title":"Mapping String data from List","body":"<p>I am not sure whether this is the response you want but I have written below sample code for reference.</p>\n<pre><code>        ViewAllDTO viewAllDTO = new ViewAllDTO();\n        List&lt;BookingDTO&gt; booking=new ArrayList&lt;&gt;();\n        booking.add(new BookingDTO(&quot;123&quot;,&quot;success&quot;));\n        List&lt;ItemDTO&gt; item= new ArrayList&lt;&gt;();\n        item.add(new ItemDTO(&quot;new Item&quot;, new BigDecimal(&quot;1&quot;), \n                new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), new BigDecimal(&quot;1&quot;), \n                new BigDecimal(&quot;1&quot;),&quot;big&quot;));\n        List&lt;ShipperDetailsDTO&gt; shipper_details=new ArrayList&lt;&gt;();\n        shipper_details.add(new ShipperDetailsDTO(&quot;Shipper_First&quot;,&quot;Shipper_Last&quot;));\n\n        String bookingDetails = booking.stream()\n                .map(x-&gt;x.getBooking_number())\n                .collect(Collectors.joining(&quot;, &quot;));\n        String senderDetails = shipper_details.stream()\n                .map(x-&gt;x.getFirst_name()+x.getLast_name())\n                .collect(Collectors.joining(&quot;, &quot;));\n        String itemDetails = item.stream()\n                .map(x-&gt;x.getItem_description() + &quot; - &quot; +\n                        x.getWeight() + &quot; - &quot; +\n                        x.getHeight()+ &quot; - &quot; +\n                        x.getLength()+ &quot; - &quot; +\n                        x.getWidth()+ &quot; - &quot; +\n                        x.getDeclared_value()+ &quot; - &quot; +\n                        x.getPackage_handling_type())\n                .collect(Collectors.joining(&quot;, &quot;));\n\n        viewAllDTO.setBooking_number(bookingDetails);\n        viewAllDTO.setItem_details(itemDetails);\n        viewAllDTO.setSender_name(senderDetails);\n\n        System.out.println(viewAllDTO);\n</code></pre>\n<p>So you will get out put like the below.</p>\n<pre><code>ViewAllDTO(booking_number=123, sender_name=Shipper_FirstShipper_Last, item_details=new Item - 1 - 1 - 1 - 1 - 1 - big)\n\n</code></pre>\n"}],"owner":{"account_id":27275195,"reputation":1,"user_id":20795925,"display_name":"Practice Tech"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":378,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1677662648,"creation_date":1677652992,"question_id":75600319,"body_markdown":"I am new in mapping response DTO&#39;s coming from a List DTO&#39;s and I am stuck in this dilemma.\r\n\r\nFF are the details of my Issue:\r\n\r\nThis is my flat table entity using MongoDb\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    @Document(collection = &quot;booking&quot;)\r\n    public class BookingEntity  {\r\n    \r\n    \r\n        @Id\r\n        private String id;\r\n    \r\n        private List&lt;BookingDTO&gt; booking;\r\n    \r\n        private List&lt;ItemDTO&gt; item;\r\n    \r\n        private List&lt;ShipperDetailsDTO&gt; shipper_details;\r\n    \r\n        }\r\n\r\n\r\nThis is my response DTO\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ViewAllDTO  {\r\n    \r\n    \r\n        private String booking_number;\r\n    \r\n        private String sender_name;\r\n    \r\n        private String item_details;\r\n   \r\n    \r\n    }\r\n\r\nNow, what I want to happen is this.\r\n\r\nI want a mapper delegator wherein my ViewAllDto class could get the selected data from my Booking entity class something like this:\r\n\r\n     public ViewAllDTO toDTO (BookingEntity entity) {\r\n            ViewAllDTO dto = bookingMapper.toDTO(entity);\r\n            dto.setBooking_number(entity.getBooking_number()); // -&gt; This is taken from the List&lt;BookingDTO&gt; on the Booking entity class\r\n            dto.setSender_name(StringUtils.normalizeSpace(String.format(&quot;%s %s&quot;, entity.getFirst_name(), entity.getLast_name()))); // -&gt; This is taken from the List&lt;ShipperDetailsDTO&gt; on the Booking entity class\r\n            dto.setItem_details(\r\n                entity.getItem_description(),\r\n                entity.getWeight(),\r\n                entity.getHeight(),\r\n                entity.getLength(),\r\n                entity.getWidth(),\r\n                entity.getDeclared_value(),\r\n                entity.getPackage_handling_type()); // -&gt; This is taken from the List&lt;ItemDTO&gt; on the Booking entity class\r\n    \r\n            return dto;\r\n        }\r\n\r\n\r\nNOTE: the sample delegated mapper above is incorrect as you can see this produces a build error since I can&#39;t directly map string data for my ViewAllDTO from the List DTO&#39;s inside my entity class.\r\n\r\nI wonder what could be the solution for this issue. Any insights will be sincerely and highly appreciated. Thanks.\r\n\r\n\r\nAddendum:\r\n\r\nBookingDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class BookingDTO  {\r\n    \r\n    \r\n        @Indexed(unique = true)\r\n        private String booking_number;\r\n    \r\n        private String status; }\r\n\r\n\r\nItemDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ItemDTO  {\r\n    \r\n    \r\n        private String item_description;\r\n    \r\n        private BigDecimal weight;\r\n    \r\n        private BigDecimal height;\r\n    \r\n        private BigDecimal length;\r\n    \r\n        private BigDecimal width;\r\n    \r\n        private BigDecimal declared_value;\r\n    \r\n        private String package_handling_type;}\r\n\r\nShipperDetailsDTO class\r\n\r\n    @Data\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    public class ShipperDetailsDTO  {\r\n    \r\n        private String first_name;\r\n    \r\n        private String last_name;}\r\n\r\n\r\nSample payload I want to achive:\r\n\r\n    GET Method:\r\n    \r\n        {\r\n        &quot;booking_number&quot;: &quot;&lt;String&gt;&quot;, (Booking number from BookingDTO)\r\n         &quot;sender_name&quot;:  &quot;&lt;String&gt;&quot;, (First name + Last name from ShipperDetailsDTO)\r\n          &quot;item_details&quot;: &quot;&lt;String&gt;&quot; (All item details from ItemDTO)\r\n        }","title":"Mapping String data from List","body":"<p>I am new in mapping response DTO's coming from a List DTO's and I am stuck in this dilemma.</p>\n<p>FF are the details of my Issue:</p>\n<p>This is my flat table entity using MongoDb</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\n@Document(collection = &quot;booking&quot;)\npublic class BookingEntity  {\n\n\n    @Id\n    private String id;\n\n    private List&lt;BookingDTO&gt; booking;\n\n    private List&lt;ItemDTO&gt; item;\n\n    private List&lt;ShipperDetailsDTO&gt; shipper_details;\n\n    }\n</code></pre>\n<p>This is my response DTO</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ViewAllDTO  {\n\n\n    private String booking_number;\n\n    private String sender_name;\n\n    private String item_details;\n\n\n}\n</code></pre>\n<p>Now, what I want to happen is this.</p>\n<p>I want a mapper delegator wherein my ViewAllDto class could get the selected data from my Booking entity class something like this:</p>\n<pre><code> public ViewAllDTO toDTO (BookingEntity entity) {\n        ViewAllDTO dto = bookingMapper.toDTO(entity);\n        dto.setBooking_number(entity.getBooking_number()); // -&gt; This is taken from the List&lt;BookingDTO&gt; on the Booking entity class\n        dto.setSender_name(StringUtils.normalizeSpace(String.format(&quot;%s %s&quot;, entity.getFirst_name(), entity.getLast_name()))); // -&gt; This is taken from the List&lt;ShipperDetailsDTO&gt; on the Booking entity class\n        dto.setItem_details(\n            entity.getItem_description(),\n            entity.getWeight(),\n            entity.getHeight(),\n            entity.getLength(),\n            entity.getWidth(),\n            entity.getDeclared_value(),\n            entity.getPackage_handling_type()); // -&gt; This is taken from the List&lt;ItemDTO&gt; on the Booking entity class\n\n        return dto;\n    }\n</code></pre>\n<p>NOTE: the sample delegated mapper above is incorrect as you can see this produces a build error since I can't directly map string data for my ViewAllDTO from the List DTO's inside my entity class.</p>\n<p>I wonder what could be the solution for this issue. Any insights will be sincerely and highly appreciated. Thanks.</p>\n<p>Addendum:</p>\n<p>BookingDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class BookingDTO  {\n\n\n    @Indexed(unique = true)\n    private String booking_number;\n\n    private String status; }\n</code></pre>\n<p>ItemDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ItemDTO  {\n\n\n    private String item_description;\n\n    private BigDecimal weight;\n\n    private BigDecimal height;\n\n    private BigDecimal length;\n\n    private BigDecimal width;\n\n    private BigDecimal declared_value;\n\n    private String package_handling_type;}\n</code></pre>\n<p>ShipperDetailsDTO class</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class ShipperDetailsDTO  {\n\n    private String first_name;\n\n    private String last_name;}\n</code></pre>\n<p>Sample payload I want to achive:</p>\n<pre><code>GET Method:\n\n    {\n    &quot;booking_number&quot;: &quot;&lt;String&gt;&quot;, (Booking number from BookingDTO)\n     &quot;sender_name&quot;:  &quot;&lt;String&gt;&quot;, (First name + Last name from ShipperDetailsDTO)\n      &quot;item_details&quot;: &quot;&lt;String&gt;&quot; (All item details from ItemDTO)\n    }\n</code></pre>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":4887270,"reputation":595,"user_id":3939356,"accept_rate":52,"display_name":"Pranesh Sahu"},"score":0,"creation_date":1533797993,"post_id":31401669,"comment_id":90480348,"body_markdown":"The Form action url is &quot;@{/action/edit}&quot; but in your controller &quot;/edit&quot;,can you please tell me how you are linking your html &amp; controller.","body":"The Form action url is &quot;@{/action/edit}&quot; but in your controller &quot;/edit&quot;,can you please tell me how you are linking your html &amp; controller."},{"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"score":0,"creation_date":1578418764,"post_id":31401669,"comment_id":105429038,"body_markdown":"Pranesh Sahu, maybe a prefix `@RequestMapping(value=&quot;action&quot;)` on a controller class?","body":"Pranesh Sahu, maybe a prefix <code>@RequestMapping(value=&quot;action&quot;)</code> on a controller class?"}],"answers":[{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"comment_count":0,"down_vote_count":0,"up_vote_count":49,"is_accepted":true,"score":49,"last_activity_date":1436865065,"creation_date":1436865065,"answer_id":31402408,"question_id":31401669,"body_markdown":"You can create separate methods with different `@RequestMappings` using the params variable.\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST, params=&quot;action=save&quot;)\r\n    public ModelAndView save() {}\r\n    \r\n    \r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST, params=&quot;action=cancel&quot;)\r\n    public ModelAndView cancel() {}\r\n\r\n","title":"Thymeleaf multiple submit button in one form","body":"<p>You can create separate methods with different <code>@RequestMappings</code> using the params variable.</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST, params=\"action=save\")\npublic ModelAndView save() {}\n\n\n@RequestMapping(value=\"/edit\", method=RequestMethod.POST, params=\"action=cancel\")\npublic ModelAndView cancel() {}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1616405097,"post_id":31402696,"comment_id":117981815,"body_markdown":"Quite late to notice, but `break;` in `default` is heavily redundant (as the `switch` statement exits anyway).","body":"Quite late to notice, but <code>break;</code> in <code>default</code> is heavily redundant (as the <code>switch</code> statement exits anyway)."}],"tags":[],"owner":{"account_id":4645337,"reputation":6283,"user_id":3763850,"accept_rate":83,"display_name":"Gemtastic"},"comment_count":1,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1436865845,"creation_date":1436865845,"answer_id":31402696,"question_id":31401669,"body_markdown":"Instead of an if-case you could have a switch case, should you not want to take in every option as a new request mapping.\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST)\r\n    public ModelAndView edit(@ModelAttribute SomeModel model, \r\n            @RequestParam(value=&quot;action&quot;, required=true) String action) {\r\n        switch(action) {\r\n            case &quot;save&quot;:\r\n                // do stuff\r\n                break;\r\n            case &quot;cancel&quot;:\r\n                // do stuff\r\n                break;\r\n            case &quot;newthing&quot;:\r\n                // do stuff\r\n                break;\r\n            default:\r\n                // do stuff\r\n                break;\r\n        }\r\n    }","title":"Thymeleaf multiple submit button in one form","body":"<p>Instead of an if-case you could have a switch case, should you not want to take in every option as a new request mapping.</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST)\npublic ModelAndView edit(@ModelAttribute SomeModel model, \n        @RequestParam(value=\"action\", required=true) String action) {\n    switch(action) {\n        case \"save\":\n            // do stuff\n            break;\n        case \"cancel\":\n            // do stuff\n            break;\n        case \"newthing\":\n            // do stuff\n            break;\n        default:\n            // do stuff\n            break;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6089000,"reputation":206,"user_id":4751990,"accept_rate":100,"display_name":"Egor Hans"},"score":0,"creation_date":1616405405,"post_id":36883571,"comment_id":117981932,"body_markdown":"To clarify the downvotes: Not only is this entirely different from the point of the question (looking for ways to avoid the `if` construct in this situation), but also, using `request.getParameter(...)` is way worse than wiring it directly to a method parameter using `@RequestParam` (as done in the question&#39;s code).","body":"To clarify the downvotes: Not only is this entirely different from the point of the question (looking for ways to avoid the <code>if</code> construct in this situation), but also, using <code>request.getParameter(...)</code> is way worse than wiring it directly to a method parameter using <code>@RequestParam</code> (as done in the question&#39;s code)."}],"tags":[],"owner":{"account_id":8175499,"reputation":21,"user_id":6154371,"display_name":"Backbencher"},"comment_count":1,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1461743421,"creation_date":1461743421,"answer_id":36883571,"question_id":31401669,"body_markdown":" You can know which submit button has been clicked and then act upon the button\r\nHere is the code\r\n\r\n    String btnName = request.getParameter(&quot;action&quot;);\r\n\r\n    if(btnName.equals(&quot;save&quot;))\r\n        // you code....\r\n    else if(btnName.equals(&quot;cancel&quot;))\r\n        // you code....","title":"Thymeleaf multiple submit button in one form","body":"<p>You can know which submit button has been clicked and then act upon the button\nHere is the code</p>\n\n<pre><code>String btnName = request.getParameter(\"action\");\n\nif(btnName.equals(\"save\"))\n    // you code....\nelse if(btnName.equals(\"cancel\"))\n    // you code....\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3708,"reputation":16857,"user_id":5382,"display_name":"Mikezx6r"},"score":0,"creation_date":1660530231,"post_id":61013622,"comment_id":129547422,"body_markdown":"Very nice! Much cleaner than accepted answer, as it allows for well defined methods in Controller.","body":"Very nice! Much cleaner than accepted answer, as it allows for well defined methods in Controller."}],"tags":[],"owner":{"account_id":18160455,"reputation":99,"user_id":13211928,"display_name":"Parth Sarkheliya"},"comment_count":1,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1607323416,"creation_date":1585922554,"answer_id":61013622,"question_id":31401669,"body_markdown":"this works in my problem.\r\nuse **th:formaction** on submit button this is work on how many you have submit button\r\nand this is also usefull for give more links to one form with different submit button\r\n\r\n    &lt;form action=&quot;#&quot;  class=&quot;form&quot; th:action=&quot;@{&#39;/publish-post/&#39;+${post.id}}&quot; method=&quot;post&quot;&gt;\r\n    &lt;input class=&quot;savebtn&quot; type=&quot;submit&quot; value=&quot;Save&quot; th:formaction=&quot;&#39;/save-post/&#39;+${post.id}&quot;&gt;\r\n    &lt;input class=&quot;publish&quot; type=&quot;submit&quot; value=&quot;Publish Article&quot;&gt;\r\n    &lt;/form&gt;","title":"Thymeleaf multiple submit button in one form","body":"<p>this works in my problem.\nuse <strong>th:formaction</strong> on submit button this is work on how many you have submit button\nand this is also usefull for give more links to one form with different submit button</p>\n<pre><code>&lt;form action=&quot;#&quot;  class=&quot;form&quot; th:action=&quot;@{'/publish-post/'+${post.id}}&quot; method=&quot;post&quot;&gt;\n&lt;input class=&quot;savebtn&quot; type=&quot;submit&quot; value=&quot;Save&quot; th:formaction=&quot;'/save-post/'+${post.id}&quot;&gt;\n&lt;input class=&quot;publish&quot; type=&quot;submit&quot; value=&quot;Publish Article&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446965,"reputation":119,"user_id":9062897,"display_name":"Cynthia.Berry"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1624980646,"creation_date":1624980332,"answer_id":68181631,"question_id":31401669,"body_markdown":"For multiple submit buttons, the below worked for me.\r\n*Notice the: **th:formaction** in the cancel button.*\r\n```\r\n&lt;form action=&quot;#&quot; th:action=&quot;@{/saveProducts}&quot; th:object=&quot;${model}&quot; method=&quot;post&quot;&gt;\r\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot; th:formaction=&quot;@{/cancelProducts}&quot;&gt;CANCEL&lt;/button&gt;\r\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;SAVE&lt;/button&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nFor the controller:\r\n\r\n```\r\n   @RequestMapping(value=&quot;/saveProducts&quot;, method= RequestMethod.POST)\r\n    public String save(@ModelAttribute SomeModel model) {\r\n      *//Do something*\r\n    }\r\n\r\n    @RequestMapping(value=&quot;/cancelProducts&quot;, method=RequestMethod.POST)\r\n    public String cancel(@ModelAttribute SomeModel model) {\r\n      *//Do something*\r\n\r\n    }\r\n```","title":"Thymeleaf multiple submit button in one form","body":"<p>For multiple submit buttons, the below worked for me.\n<em>Notice the: <strong>th:formaction</strong> in the cancel button.</em></p>\n<pre><code>&lt;form action=&quot;#&quot; th:action=&quot;@{/saveProducts}&quot; th:object=&quot;${model}&quot; method=&quot;post&quot;&gt;\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot; th:formaction=&quot;@{/cancelProducts}&quot;&gt;CANCEL&lt;/button&gt;\n  &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;SAVE&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n<p>For the controller:</p>\n<pre><code>   @RequestMapping(value=&quot;/saveProducts&quot;, method= RequestMethod.POST)\n    public String save(@ModelAttribute SomeModel model) {\n      *//Do something*\n    }\n\n    @RequestMapping(value=&quot;/cancelProducts&quot;, method=RequestMethod.POST)\n    public String cancel(@ModelAttribute SomeModel model) {\n      *//Do something*\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26514178,"reputation":1,"user_id":20148955,"display_name":"Pratham Chapla"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677662469,"creation_date":1677662394,"answer_id":75601659,"question_id":31401669,"body_markdown":"HTML Code: \r\n\r\n    &lt;div class=&quot;inner&quot;&gt;\r\n\t\t&lt;a href=&quot;#&quot; th:onclick=&quot;|deleteContact(${c.cId})|&quot; class=&quot;btn btn-danger btn-small&quot;&gt;Delete&lt;/a&gt;\r\n\t&lt;div class=&quot;inner&quot;&gt;\r\n\t\t&lt;form th:action=&quot;@{&#39;/update-contact/&#39;+${c.cId}}&quot;&gt;\r\n\t\t\t&lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-small&quot;&gt;Update&lt;/button&gt;\r\n\t\t&lt;/form&gt;\r\n\t&lt;/div&gt;\r\n    &lt;/div&gt;\r\n\r\nCSS Code:\r\n\r\n    .inner {\r\n    \tdisplay: inline-block;\r\n    }\r\n\r\n[Here is output:][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZbyNJ.png","title":"Thymeleaf multiple submit button in one form","body":"<p>HTML Code:</p>\n<pre><code>&lt;div class=&quot;inner&quot;&gt;\n    &lt;a href=&quot;#&quot; th:onclick=&quot;|deleteContact(${c.cId})|&quot; class=&quot;btn btn-danger btn-small&quot;&gt;Delete&lt;/a&gt;\n&lt;div class=&quot;inner&quot;&gt;\n    &lt;form th:action=&quot;@{'/update-contact/'+${c.cId}}&quot;&gt;\n        &lt;button type=&quot;submit&quot; class=&quot;btn btn-primary btn-small&quot;&gt;Update&lt;/button&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n</code></pre>\n<p>CSS Code:</p>\n<pre><code>.inner {\n    display: inline-block;\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/ZbyNJ.png\" rel=\"nofollow noreferrer\">Here is output:</a></p>\n"}],"owner":{"account_id":6457756,"reputation":943,"user_id":5002572,"display_name":"Liem Do"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50840,"favorite_count":0,"down_vote_count":0,"up_vote_count":36,"accepted_answer_id":31402408,"answer_count":6,"score":36,"last_activity_date":1677662469,"creation_date":1436862872,"question_id":31401669,"body_markdown":"I have a fragment of HTML page with one form and 2 button:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;form action=&quot;#&quot; data-th-action=&quot;@{/action/edit}&quot; data-th-object=&quot;${model}&quot; method=&quot;post&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;save&quot;&gt;save&lt;/button&gt;\r\n        &lt;button type=&quot;submit&quot; name=&quot;action&quot; value=&quot;cancel&quot;&gt;cancel&lt;/button&gt;\r\n    &lt;/form&gt;\r\n\r\nAnd the controller:\r\n\r\n    @RequestMapping(value=&quot;/edit&quot;, method=RequestMethod.POST)\r\n    public ModelAndView edit(@ModelAttribute SomeModel model, \r\n            @RequestParam(value=&quot;action&quot;, required=true) String action) {\r\n     \r\n        if (action.equals(&quot;save&quot;)) {\r\n            // do something here     \r\n        }\r\n     \r\n        if (action.equals(&quot;cancel&quot;)) {\r\n           // do another thing\r\n        }\r\n        return modelAndView;\r\n    }\r\n\r\nThis work good, but if I have more button, I must add more `if` statement to check the `action` string. Is there another way that I can create **one action** for **each button** in the form?","title":"Thymeleaf multiple submit button in one form","body":"<p>I have a fragment of HTML page with one form and 2 button:</p>\n\n<pre class=\"lang-html prettyprint-override\"><code>&lt;form action=\"#\" data-th-action=\"@{/action/edit}\" data-th-object=\"${model}\" method=\"post\"&gt;\n    &lt;button type=\"submit\" name=\"action\" value=\"save\"&gt;save&lt;/button&gt;\n    &lt;button type=\"submit\" name=\"action\" value=\"cancel\"&gt;cancel&lt;/button&gt;\n&lt;/form&gt;\n</code></pre>\n\n<p>And the controller:</p>\n\n<pre><code>@RequestMapping(value=\"/edit\", method=RequestMethod.POST)\npublic ModelAndView edit(@ModelAttribute SomeModel model, \n        @RequestParam(value=\"action\", required=true) String action) {\n\n    if (action.equals(\"save\")) {\n        // do something here     \n    }\n\n    if (action.equals(\"cancel\")) {\n       // do another thing\n    }\n    return modelAndView;\n}\n</code></pre>\n\n<p>This work good, but if I have more button, I must add more <code>if</code> statement to check the <code>action</code> string. Is there another way that I can create <strong>one action</strong> for <strong>each button</strong> in the form?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"comments":[{"owner":{"account_id":5971519,"reputation":661,"user_id":4693713,"display_name":"Avishek Das"},"score":1,"creation_date":1445151550,"post_id":32798390,"comment_id":54195758,"body_markdown":"I delete the &quot;2.2.1&quot; from &quot;C:\\Users\\user.gradle\\caches\\&quot;. Then I restart the Android Studio. That&#39;s works for me...","body":"I delete the &quot;2.2.1&quot; from &quot;C:\\Users\\user.gradle\\caches\\&quot;. Then I restart the Android Studio. That&#39;s works for me..."}],"tags":[],"owner":{"account_id":5486420,"reputation":771,"user_id":4361020,"accept_rate":50,"display_name":"Sirojiddin Komolov"},"comment_count":1,"down_vote_count":1,"up_vote_count":9,"is_accepted":false,"score":8,"last_activity_date":1443278646,"creation_date":1443278646,"answer_id":32798390,"question_id":32285065,"body_markdown":"You should delete &quot;scripts&quot; folder from &quot;C:\\Users\\user.gradle\\caches\\2.4\\&quot; via [this][1] answer. Then refresh gradle from Android Studio. This worked for me.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/32121034/android-studio-gradle-refresh-failed-the-system-cannot-find-the-file-specified","title":"could not open initscript class cache for initialization script","body":"<p>You should delete \"scripts\" folder from \"C:\\Users\\user.gradle\\caches\\2.4\\\" via <a href=\"https://stackoverflow.com/questions/32121034/android-studio-gradle-refresh-failed-the-system-cannot-find-the-file-specified\">this</a> answer. Then refresh gradle from Android Studio. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":4009553,"reputation":564,"user_id":3303365,"display_name":"Md. Maidul Islam"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460291839,"creation_date":1460291839,"answer_id":36529811,"question_id":32285065,"body_markdown":"You should check android studio power save menu in file. If it was previously  selected, then it should be unselected the power save mode in android studio in file menu. I hope it will be worked. ","title":"could not open initscript class cache for initialization script","body":"<p>You should check android studio power save menu in file. If it was previously  selected, then it should be unselected the power save mode in android studio in file menu. I hope it will be worked. </p>\n"},{"tags":[],"owner":{"account_id":4111096,"reputation":614,"user_id":3373865,"display_name":"Anand Kumar Jha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477048215,"creation_date":1477048215,"answer_id":40175118,"question_id":32285065,"body_markdown":"In my case I have deleted .gradle folder and clean the project on re run the project was working fine.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6Dbpw.png","title":"could not open initscript class cache for initialization script","body":"<p>In my case I have deleted .gradle folder and clean the project on re run the project was working fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/6Dbpw.png\" rel=\"nofollow\"><img src=\"https://i.stack.imgur.com/6Dbpw.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":11102229,"reputation":21,"user_id":8150579,"display_name":"jude nneji"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507528545,"creation_date":1507501032,"answer_id":46636616,"question_id":32285065,"body_markdown":"You may have opened Android Studio twice. In that case close one of the instances and click on Try Again or Synchronize Gradle, or restart Android Studio. It is because the gradle build was not completed and other dependencies like classpath did not initialize at startup.","title":"could not open initscript class cache for initialization script","body":"<p>You may have opened Android Studio twice. In that case close one of the instances and click on Try Again or Synchronize Gradle, or restart Android Studio. It is because the gradle build was not completed and other dependencies like classpath did not initialize at startup.</p>\n"},{"tags":[],"owner":{"account_id":15760084,"reputation":13,"user_id":11372030,"display_name":"Harshit Chaniyara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1594733937,"creation_date":1594733937,"answer_id":62896545,"question_id":32285065,"body_markdown":"1. Close the android studio\r\n\r\n2. Delete this file from your pc **C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle**\r\n\r\n3. Delete folder from your pc **C:\\Users\\Avishek.gradle\\caches\\2.2.1**\r\n\r\n4. Your app in **.gradle** and **.idea** file is also delete\r\n\r\n5. And start your android studio","title":"could not open initscript class cache for initialization script","body":"<ol>\n<li><p>Close the android studio</p>\n</li>\n<li><p>Delete this file from your pc <strong>C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle</strong></p>\n</li>\n<li><p>Delete folder from your pc <strong>C:\\Users\\Avishek.gradle\\caches\\2.2.1</strong></p>\n</li>\n<li><p>Your app in <strong>.gradle</strong> and <strong>.idea</strong> file is also delete</p>\n</li>\n<li><p>And start your android studio</p>\n</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":7837088,"reputation":123,"user_id":5924707,"display_name":"Arun K Babu"},"score":0,"creation_date":1635011306,"post_id":66800467,"comment_id":123183413,"body_markdown":"This Answer should be accepted! It worked for me","body":"This Answer should be accepted! It worked for me"},{"owner":{"account_id":1367929,"reputation":394,"user_id":4129245,"display_name":"Ovi Trif"},"score":0,"creation_date":1649799027,"post_id":66800467,"comment_id":126966535,"body_markdown":"Same. Upvoting &#128077;. The problem is indeed occuring only with JDK 17 for me, downgrading to JDK 15 worked &#127881;. I got it for a fresh compose-desktop app created with IntelliJ Idea.","body":"Same. Upvoting 👍. The problem is indeed occuring only with JDK 17 for me, downgrading to JDK 15 worked 🎉. I got it for a fresh compose-desktop app created with IntelliJ Idea."}],"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"comment_count":2,"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1616678759,"creation_date":1616678759,"answer_id":66800467,"question_id":32285065,"body_markdown":"Don&#39;t use Gradle with a fresh version of JDK. It may not support it. In my case, downgrading JDK solved the issue.","title":"could not open initscript class cache for initialization script","body":"<p>Don't use Gradle with a fresh version of JDK. It may not support it. In my case, downgrading JDK solved the issue.</p>\n"},{"comments":[{"owner":{"account_id":10647346,"reputation":5559,"user_id":7839518,"display_name":"Tonnie"},"score":0,"creation_date":1688831140,"post_id":74503933,"comment_id":135128190,"body_markdown":"This worked for me, I think there is a problem with the Graddle Build System esp if you are using JDK Version 20.","body":"This worked for me, I think there is a problem with the Graddle Build System esp if you are using JDK Version 20."}],"tags":[],"owner":{"account_id":11562480,"reputation":6622,"user_id":8471798,"display_name":"canerkaseler"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1668893671,"creation_date":1668893671,"answer_id":74503933,"question_id":32285065,"body_markdown":"**2022 New Answer for Kotlin base projects**\r\n\r\n 1. Open IntelliJ IDEA CE \r\n 2. Click **Create New Project** or **File/New/Project**\r\n\r\n**Important !!!**\r\n\r\n 3. Select ***Kotlin*** from left side of window.\r\n 4. Select ***IntelliJ*** in Build System.\r\n 5. Click Next.\r\n 6. Done. You will not have this error when you run your Kotlin file in the IDE.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8IrVZ.png","title":"could not open initscript class cache for initialization script","body":"<p><strong>2022 New Answer for Kotlin base projects</strong></p>\n<ol>\n<li>Open IntelliJ IDEA CE</li>\n<li>Click <strong>Create New Project</strong> or <strong>File/New/Project</strong></li>\n</ol>\n<p><strong>Important !!!</strong></p>\n<ol start=\"3\">\n<li>Select <em><strong>Kotlin</strong></em> from left side of window.</li>\n<li>Select <em><strong>IntelliJ</strong></em> in Build System.</li>\n<li>Click Next.</li>\n<li>Done. You will not have this error when you run your Kotlin file in the IDE.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/8IrVZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8IrVZ.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":5971519,"reputation":661,"user_id":4693713,"display_name":"Avishek Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44673,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":7,"score":20,"last_activity_date":1677662015,"creation_date":1440844546,"question_id":32285065,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n&gt; Error:Could not open initscript class cache for initialization script &#39;C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle&#39; (C:\\Users\\Avishek\\.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript).\r\n java.io.FileNotFoundException: C:\\Users\\Avishek\\.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript\\cache.properties (The system cannot find the file specified)\r\n\r\n\r\n\r\nThis error gives when I want to rebuild a project or clean project or run project.\r\n\r\nPlease someone help me...Thank you...\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/At9hG.png","title":"could not open initscript class cache for initialization script","body":"<p><a href=\"https://i.stack.imgur.com/At9hG.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/At9hG.png\" alt=\"enter image description here\"></a></p>\n\n<blockquote>\n  <p>Error:Could not open initscript class cache for initialization script 'C:\\Users\\Avishek\\AppData\\Local\\Temp\\asLocalRepo14.gradle' (C:\\Users\\Avishek.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript).\n   java.io.FileNotFoundException: C:\\Users\\Avishek.gradle\\caches\\2.2.1\\scripts\\asLocalRepo14_dkwbdtenxxgt2q2wfe57wj30b\\InitScript\\initscript\\cache.properties (The system cannot find the file specified)</p>\n</blockquote>\n\n<p>This error gives when I want to rebuild a project or clean project or run project.</p>\n\n<p>Please someone help me...Thank you...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9614,"page":611,"page_size":100}
