{"items":[{"tags":["java","spring-boot","spring-webflux","rsocket"],"answers":[{"tags":[],"owner":{"account_id":20657,"reputation":8081,"user_id":49573,"accept_rate":78,"display_name":"maximdim"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1620748979,"creation_date":1620748979,"answer_id":67490427,"question_id":61604826,"body_markdown":"Client&#39;s ip address is available in the `DuplexConnection` class. You can add an interceptor to the `RSocketServer` like this:\r\n\r\n```\r\n@Bean\r\npublic RSocketServerCustomizer ipCustomizer() {\r\n    return rSocketServer -&gt; rSocketServer.interceptors(registry -&gt; registry.forConnection(new ConnectionInterceptor()));\r\n}\r\n\r\n```\r\n\r\nwhere `ConnectionInterceptor` is:\r\n\r\n```\r\nstatic class ConnectionInterceptor implements DuplexConnectionInterceptor {\r\n    @Override\r\n    public DuplexConnection apply(Type type, DuplexConnection duplexConnection) {\r\n        SocketAddress socketAddress = duplexConnection.remoteAddress();\r\n        if (socketAddress instanceof InetSocketAddress) {\r\n            InetSocketAddress iso = (InetSocketAddress) socketAddress;\r\n            // Here is the ip: iso.getHostString()\r\n        }\r\n        return duplexConnection;\r\n    }\r\n}\r\n\r\n``` ","title":"How do I get the remote IP address for an Rsocket connection in SpringBoot","body":"<p>Client's ip address is available in the <code>DuplexConnection</code> class. You can add an interceptor to the <code>RSocketServer</code> like this:</p>\n<pre><code>@Bean\npublic RSocketServerCustomizer ipCustomizer() {\n    return rSocketServer -&gt; rSocketServer.interceptors(registry -&gt; registry.forConnection(new ConnectionInterceptor()));\n}\n\n</code></pre>\n<p>where <code>ConnectionInterceptor</code> is:</p>\n<pre><code>static class ConnectionInterceptor implements DuplexConnectionInterceptor {\n    @Override\n    public DuplexConnection apply(Type type, DuplexConnection duplexConnection) {\n        SocketAddress socketAddress = duplexConnection.remoteAddress();\n        if (socketAddress instanceof InetSocketAddress) {\n            InetSocketAddress iso = (InetSocketAddress) socketAddress;\n            // Here is the ip: iso.getHostString()\n        }\n        return duplexConnection;\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1288668,"reputation":2490,"user_id":1241218,"display_name":"Nonika"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642844079,"creation_date":1642843290,"answer_id":70811489,"question_id":61604826,"body_markdown":"In my scenario, I wanted to pass the remote host and the original HTTP request headers to my `@MessageMapping` handlers. The best way I came up with is to create my own `NettyRouteProvider` and enrich  the subscription context with desired data:\r\n\r\n    @Component\r\n    public class MyRouteProvider implements NettyRouteProvider {\r\n    \r\n        private final String mappingPath;\r\n        private final SocketAcceptor socketAcceptor;\r\n        private final List&lt;RSocketServerCustomizer&gt; customizers;\r\n    \r\n        @Autowired\r\n        MyRouteProvider(RSocketProperties properties, RSocketMessageHandler messageHandler,\r\n                        ObjectProvider&lt;RSocketServerCustomizer&gt; customizers) {\r\n            this.mappingPath = properties.getServer().getMappingPath();\r\n            this.socketAcceptor = messageHandler.responder();\r\n            this.customizers = customizers.orderedStream().collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public HttpServerRoutes apply(HttpServerRoutes httpServerRoutes) {\r\n            RSocketServer server = RSocketServer.create(this.socketAcceptor);\r\n            this.customizers.forEach((customizer) -&gt; customizer.customize(server));\r\n            ServerTransport.ConnectionAcceptor connectionAcceptor = server.asConnectionAcceptor();\r\n    \r\n            return httpServerRoutes.ws(this.mappingPath, (in, out) -&gt;\r\n                    connectionAcceptor.apply(new WebsocketDuplexConnection((Connection) in)).then(out.neverComplete())\r\n                            .contextWrite(context -&gt; {\r\n                                String ip = in.headers().get(&quot;x-forwarded-for&quot;);\r\n                                SocketAddress remoteAddress = ((Connection) in).channel().remoteAddress();\r\n                                \r\n                                if(in.headers().contains(&quot;x-forwarded-for&quot;)){\r\n                                    return context\r\n                                            .put(&quot;remoteHost&quot;,remoteAddress)\r\n                                            .put(HttpHeaders.class, in.headers())\r\n                                            .put(&quot;client-ip&quot;, ip);\r\n                                }\r\n                                return context\r\n                                        .put(&quot;remoteHost&quot;,remoteAddress)\r\n                                        .put(HttpHeaders.class, in.headers());\r\n                            }));\r\n        }\r\n    \r\n    }\r\n\r\nAfter this you will be able to get the data from the context in any of your @MessageMapping methods, for example:\r\n\r\n    @MessageMapping(&quot;remote-host&quot;)\r\n    fun remoteHost(): Mono&lt;SocketAddress&gt; {\r\n        return Mono.deferContextual { context -&gt;\r\n            Mono.just(context.get&lt;SocketAddress&gt;(&quot;remoteHost&quot;))\r\n        }\r\n    }","title":"How do I get the remote IP address for an Rsocket connection in SpringBoot","body":"<p>In my scenario, I wanted to pass the remote host and the original HTTP request headers to my <code>@MessageMapping</code> handlers. The best way I came up with is to create my own <code>NettyRouteProvider</code> and enrich  the subscription context with desired data:</p>\n<pre><code>@Component\npublic class MyRouteProvider implements NettyRouteProvider {\n\n    private final String mappingPath;\n    private final SocketAcceptor socketAcceptor;\n    private final List&lt;RSocketServerCustomizer&gt; customizers;\n\n    @Autowired\n    MyRouteProvider(RSocketProperties properties, RSocketMessageHandler messageHandler,\n                    ObjectProvider&lt;RSocketServerCustomizer&gt; customizers) {\n        this.mappingPath = properties.getServer().getMappingPath();\n        this.socketAcceptor = messageHandler.responder();\n        this.customizers = customizers.orderedStream().collect(Collectors.toList());\n    }\n\n    @Override\n    public HttpServerRoutes apply(HttpServerRoutes httpServerRoutes) {\n        RSocketServer server = RSocketServer.create(this.socketAcceptor);\n        this.customizers.forEach((customizer) -&gt; customizer.customize(server));\n        ServerTransport.ConnectionAcceptor connectionAcceptor = server.asConnectionAcceptor();\n\n        return httpServerRoutes.ws(this.mappingPath, (in, out) -&gt;\n                connectionAcceptor.apply(new WebsocketDuplexConnection((Connection) in)).then(out.neverComplete())\n                        .contextWrite(context -&gt; {\n                            String ip = in.headers().get(&quot;x-forwarded-for&quot;);\n                            SocketAddress remoteAddress = ((Connection) in).channel().remoteAddress();\n                            \n                            if(in.headers().contains(&quot;x-forwarded-for&quot;)){\n                                return context\n                                        .put(&quot;remoteHost&quot;,remoteAddress)\n                                        .put(HttpHeaders.class, in.headers())\n                                        .put(&quot;client-ip&quot;, ip);\n                            }\n                            return context\n                                    .put(&quot;remoteHost&quot;,remoteAddress)\n                                    .put(HttpHeaders.class, in.headers());\n                        }));\n    }\n\n}\n</code></pre>\n<p>After this you will be able to get the data from the context in any of your @MessageMapping methods, for example:</p>\n<pre><code>@MessageMapping(&quot;remote-host&quot;)\nfun remoteHost(): Mono&lt;SocketAddress&gt; {\n    return Mono.deferContextual { context -&gt;\n        Mono.just(context.get&lt;SocketAddress&gt;(&quot;remoteHost&quot;))\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2085257,"reputation":2179,"user_id":1856400,"display_name":"spheenik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661720658,"creation_date":1661720658,"answer_id":73522265,"question_id":61604826,"body_markdown":"I fought with this problem for quite a while.\r\nI did not like the accepted answer, since there is no way to pass the information to the handlers. The answer from Nokina worked, but only on the initial request. On subsequent requests, the context would not contain the address. After spending hours, I just went back to good ol&#39; reflection, and came up with this: \r\n\r\n    import io.rsocket.DuplexConnection;\r\n    import io.rsocket.RSocket;\r\n    import org.springframework.messaging.rsocket.RSocketRequester;\r\n    import org.springframework.util.ReflectionUtils;\r\n    \r\n    import java.lang.reflect.Field;\r\n    import java.net.SocketAddress;\r\n    \r\n    public class RSocketUtil {\r\n    \r\n        public static DuplexConnection getConnectionFromRequester(RSocketRequester requester) {\r\n            RSocket rsocket = requester.rsocket();\r\n            Field connectionField = ReflectionUtils.findField(rsocket.getClass(), &quot;connection&quot;);\r\n            connectionField.setAccessible(true);\r\n            return (DuplexConnection) ReflectionUtils.getField(connectionField, rsocket);\r\n        }\r\n    \r\n        public static SocketAddress getRemoteAddressFromRequester(RSocketRequester requester) {\r\n            DuplexConnection connection = getConnectionFromRequester(requester);\r\n            return connection.remoteAddress();\r\n        }\r\n    \r\n    }\r\n","title":"How do I get the remote IP address for an Rsocket connection in SpringBoot","body":"<p>I fought with this problem for quite a while.\nI did not like the accepted answer, since there is no way to pass the information to the handlers. The answer from Nokina worked, but only on the initial request. On subsequent requests, the context would not contain the address. After spending hours, I just went back to good ol' reflection, and came up with this:</p>\n<pre><code>import io.rsocket.DuplexConnection;\nimport io.rsocket.RSocket;\nimport org.springframework.messaging.rsocket.RSocketRequester;\nimport org.springframework.util.ReflectionUtils;\n\nimport java.lang.reflect.Field;\nimport java.net.SocketAddress;\n\npublic class RSocketUtil {\n\n    public static DuplexConnection getConnectionFromRequester(RSocketRequester requester) {\n        RSocket rsocket = requester.rsocket();\n        Field connectionField = ReflectionUtils.findField(rsocket.getClass(), &quot;connection&quot;);\n        connectionField.setAccessible(true);\n        return (DuplexConnection) ReflectionUtils.getField(connectionField, rsocket);\n    }\n\n    public static SocketAddress getRemoteAddressFromRequester(RSocketRequester requester) {\n        DuplexConnection connection = getConnectionFromRequester(requester);\n        return connection.remoteAddress();\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":2681078,"reputation":83,"user_id":6174655,"display_name":"sr33"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":67490427,"answer_count":3,"score":7,"last_activity_date":1661720658,"creation_date":1588646461,"question_id":61604826,"body_markdown":"I&#39;m trying to get the remote IP of the browser that connects to a RSocket+SpringBoot webserver. Connection is RSocket over WebSocket. \r\n\r\nThe webserver is Java-8, SpringBoot-2, using RSocket over WebSocket and sending RequestStreams to the browser. I&#39;m leveraging SpringBoot autoconfig for the RSocket setup, so really minimal code on the server side - see below. \r\n\r\n`@Headers and MessageHeader` in the code below was just to see if they had anything that could lead to the remote IP, no other reason they&#39;re there.\r\n\r\nI&#39;ve scoured the web looking for an answer - lots for http, a few for websockets, ***zero*** for RSocket.\r\nThis - [https://github.com/rsocket/rsocket-java/issues/735][1] - looked promising, but was unable to get a handle to DuplexConnection, so no cigar there.\r\n\r\n\r\n\r\n\r\nAny ideas ? Thx !\r\n\r\n\r\n**application.yml:**\r\n```\r\nspring.rsocket.server:\r\n  mapping-path: /rsocket-test\r\n  transport: websocket\r\n\r\nserver.port: 8080\r\n```\r\n**TestController.java**\r\n```\r\n /**\r\n     * TODO: get the remote IP address and log.\r\n     * Options:\r\n     * 1. @see &lt;a href=&quot;https://github.com/rsocket/rsocket-java/issues/735&quot;&gt;Ability to intercept requests and access channel information such as remote address&lt;/a&gt;.\r\n     * 2. Inject IP in header by nginx. See if it shows up in the @Headers param here.\r\n     * 3. Browser gets its public IP and adds it to the request object. Doable, but lame\r\n     * 4. (Unlikely) Find a way to access thru this chain of private members: headers.req.rsocket().source.connection.source.connection.connection.channel.remoteAddress\r\n     */\r\n    @MessageMapping(&quot;subscribe-topic&quot;)\r\n    public Flux&lt;StreamingEvent&gt; subscribeToEventStream(\r\n                @Headers Map&lt;String,Object&gt; hdrs,\r\n                MessageHeaders mh,\r\n                testRequest request) {\r\n        return testService.subscribeTopic(request.getRequestId(), request.getTopic());\r\n    }\r\n```\r\n\r\n\r\n  [1]: https://github.com/rsocket/rsocket-java/issues/735","title":"How do I get the remote IP address for an Rsocket connection in SpringBoot","body":"<p>I'm trying to get the remote IP of the browser that connects to a RSocket+SpringBoot webserver. Connection is RSocket over WebSocket. </p>\n\n<p>The webserver is Java-8, SpringBoot-2, using RSocket over WebSocket and sending RequestStreams to the browser. I'm leveraging SpringBoot autoconfig for the RSocket setup, so really minimal code on the server side - see below. </p>\n\n<p><code>@Headers and MessageHeader</code> in the code below was just to see if they had anything that could lead to the remote IP, no other reason they're there.</p>\n\n<p>I've scoured the web looking for an answer - lots for http, a few for websockets, <strong><em>zero</em></strong> for RSocket.\nThis - <a href=\"https://github.com/rsocket/rsocket-java/issues/735\" rel=\"noreferrer\">https://github.com/rsocket/rsocket-java/issues/735</a> - looked promising, but was unable to get a handle to DuplexConnection, so no cigar there.</p>\n\n<p>Any ideas ? Thx !</p>\n\n<p><strong>application.yml:</strong></p>\n\n<pre><code>spring.rsocket.server:\n  mapping-path: /rsocket-test\n  transport: websocket\n\nserver.port: 8080\n</code></pre>\n\n<p><strong>TestController.java</strong></p>\n\n<pre><code> /**\n     * TODO: get the remote IP address and log.\n     * Options:\n     * 1. @see &lt;a href=\"https://github.com/rsocket/rsocket-java/issues/735\"&gt;Ability to intercept requests and access channel information such as remote address&lt;/a&gt;.\n     * 2. Inject IP in header by nginx. See if it shows up in the @Headers param here.\n     * 3. Browser gets its public IP and adds it to the request object. Doable, but lame\n     * 4. (Unlikely) Find a way to access thru this chain of private members: headers.req.rsocket().source.connection.source.connection.connection.channel.remoteAddress\n     */\n    @MessageMapping(\"subscribe-topic\")\n    public Flux&lt;StreamingEvent&gt; subscribeToEventStream(\n                @Headers Map&lt;String,Object&gt; hdrs,\n                MessageHeaders mh,\n                testRequest request) {\n        return testService.subscribeTopic(request.getRequestId(), request.getTopic());\n    }\n</code></pre>\n"},{"tags":["java","null","option-type","nullable","null-check"],"comments":[{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1660303785,"post_id":73332706,"comment_id":129506882,"body_markdown":"Here is a nice article that explains what you can do to avoid null checks: https://www.baeldung.com/java-avoid-null-check","body":"Here is a nice article that explains what you can do to avoid null checks: <a href=\"https://www.baeldung.com/java-avoid-null-check\" rel=\"nofollow noreferrer\">baeldung.com/java-avoid-null-check</a>"},{"owner":{"account_id":24193243,"reputation":39,"user_id":19725796,"display_name":"Rosa"},"score":0,"creation_date":1660308021,"post_id":73332706,"comment_id":129508360,"body_markdown":"@AlexanderIvanchenko there are no `Optional` fields here. I meant &quot;optional&quot; as in &quot;not required&quot;, not the Java class. I explain this at the top of my post. The problem here is that some fields in my model are not required, and can be null in the database.","body":"@AlexanderIvanchenko there are no <code>Optional</code> fields here. I meant &quot;optional&quot; as in &quot;not required&quot;, not the Java class. I explain this at the top of my post. The problem here is that some fields in my model are not required, and can be null in the database."},{"owner":{"account_id":24193243,"reputation":39,"user_id":19725796,"display_name":"Rosa"},"score":0,"creation_date":1660308287,"post_id":73332706,"comment_id":129508448,"body_markdown":"@BoškoBezik Hey I came across that article while searching but unfortunately that&#39;s for a different case where you want a value to actually not be null, whereas in my case null is allowed.","body":"@BoškoBezik Hey I came across that article while searching but unfortunately that&#39;s for a different case where you want a value to actually not be null, whereas in my case null is allowed."},{"owner":{"account_id":24193243,"reputation":39,"user_id":19725796,"display_name":"Rosa"},"score":0,"creation_date":1660308376,"post_id":73332706,"comment_id":129508486,"body_markdown":"@AlexanderIvanchenko You said &quot;you make these fields `Optional` in the first place&quot; in your other comment, not me. I never said I had `Optional` fields. This was something you said.","body":"@AlexanderIvanchenko You said &quot;you make these fields <code>Optional</code> in the first place&quot; in your other comment, not me. I never said I had <code>Optional</code> fields. This was something you said."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1660309043,"post_id":73332706,"comment_id":129508704,"body_markdown":"Your best option might be to use a language that has null-safety built in, such as Kotlin. That would allow you to write `product?.let { quantityAvailable &gt; quantityRequired }`, which still has the same null check it&#39;s just easier to read and write.","body":"Your best option might be to use a language that has null-safety built in, such as Kotlin. That would allow you to write <code>product?.let { quantityAvailable &gt; quantityRequired }</code>, which still has the same null check it&#39;s just easier to read and write."},{"owner":{"account_id":11639624,"reputation":1651,"user_id":8524584,"display_name":"bezbos."},"score":0,"creation_date":1660311590,"post_id":73332706,"comment_id":129509632,"body_markdown":"@Rosa well in that case there is not much you can do. You will have to do a bunch of null checks.","body":"@Rosa well in that case there is not much you can do. You will have to do a bunch of null checks."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1660313366,"post_id":73332706,"comment_id":129510333,"body_markdown":"@Rosa The title of the question and some phrases in it are confusing. It has to be **Nullable** instead of *Optional*. The phrase `optional properties` makes sense only in JavaScript, **not** in Java.","body":"@Rosa The title of the question and some phrases in it are confusing. It has to be <b>Nullable</b> instead of <i>Optional</i>. The phrase <code>optional properties</code> makes sense only in JavaScript, <b>not</b> in Java."}],"answers":[{"tags":[],"owner":{"account_id":23011234,"reputation":26,"user_id":17133755,"display_name":"Long Ngo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660303231,"creation_date":1660303231,"answer_id":73333343,"question_id":73332706,"body_markdown":"I think you should define models with default values for additional attributes instead of accept null value. Example, with an Integer attribute, default value is 0 and String attribute is empty string","title":"Validating Nullable fields in Java","body":"<p>I think you should define models with default values for additional attributes instead of accept null value. Example, with an Integer attribute, default value is 0 and String attribute is empty string</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660304587,"creation_date":1660304587,"answer_id":73333616,"question_id":73332706,"body_markdown":"I would not discount `Optional`, `OptionalInt` and such, even if the persistent database column uses NULL.\r\n\r\nIndeed it would be cumbersome:\r\n\r\n    product.getQuantityAvailable()\r\n        .ifPresent((available) -&gt; {\r\n              product.getQuantityReserved()\r\n                  .ifPresent((reserved) -&gt; {\r\n                        if (available &lt; reserved) {\r\n                          System.out.println(&quot;Error&quot;);\r\n                        }\r\n                      });\r\n            });\r\n\r\nBut with a map from OptionalInt to IntStream:\r\n            \r\n    if (product.getQuantityAvailable()\r\n            .map().anyMatch(av -&gt; product.getQuantityReserved()\r\n                .map.anyMatch(res -&gt; av &lt; res))) {\r\n        System.out.println(&quot;Error&quot;);\r\n    }\r\n\r\nYou could store the predicate lambdas separately, say in the product.\r\n\r\nThe code is more readable, less errorprone, though a bit )))-ish.","title":"Validating Nullable fields in Java","body":"<p>I would not discount <code>Optional</code>, <code>OptionalInt</code> and such, even if the persistent database column uses NULL.</p>\n<p>Indeed it would be cumbersome:</p>\n<pre><code>product.getQuantityAvailable()\n    .ifPresent((available) -&gt; {\n          product.getQuantityReserved()\n              .ifPresent((reserved) -&gt; {\n                    if (available &lt; reserved) {\n                      System.out.println(&quot;Error&quot;);\n                    }\n                  });\n        });\n</code></pre>\n<p>But with a map from OptionalInt to IntStream:</p>\n<pre><code>if (product.getQuantityAvailable()\n        .map().anyMatch(av -&gt; product.getQuantityReserved()\n            .map.anyMatch(res -&gt; av &lt; res))) {\n    System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n<p>You could store the predicate lambdas separately, say in the product.</p>\n<p>The code is more readable, less errorprone, though a bit )))-ish.</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661720450,"creation_date":1660312115,"answer_id":73335193,"question_id":73332706,"body_markdown":"Firstly, there&#39;s nothing wrong with explicit *null-checks*.\r\n\r\nSecondly, `Optional.ofNullable()` is **not** meant for validation. By hiding a *null-check* with it, you&#39;re obscuring what the code does and making it harder to read.\r\n\r\nHere&#39;s a quote from the [*answer*](https://stackoverflow.com/a/34458582/17949945) by *@StuartMarks*, Java and OpenJDK developer, regarding what `Optional` is meant to be used for:\r\n\r\n&gt; The ***primary use*** of `Optional` is as follows: \r\n&gt; \r\n&gt; Optional is intended to\r\n&gt; provide a limited mechanism for library ***method return types*** where\r\n&gt; there is a clear need to represent &quot;no result,&quot; and where using null\r\n&gt; for that is overwhelmingly likely to cause errors.\r\n\r\n&gt; A typical **code smell** is, instead of the code using method chaining to\r\n&gt; handle an Optional returned from some method, it creates an `Optional`\r\n&gt; from something that&#39;s **nullable**, in order to chain methods and **avoid\r\n&gt; conditionals**.\r\n\r\nAlso have a look at this answer by *Stuart Marks* [*&quot;Should Optional.ofNullable() be used for null check?&quot;*](https://stackoverflow.com/a/52048770/17949945).\r\n\r\nUsing `Optional.ofNullable()` to avoid *null-checks* is an **antipattern**. You shouldn&#39;t create `Optional` in order to validate an object that can be `null`\r\n\r\nI see nothing that can be considered to be &quot;bad&quot; in this snippet from your question. Yes, it&#39;s verbose, it&#39;s a price for allowing *nullable* fields. \r\n\r\n```\r\nif (product.getQuantityAvailable() != null &amp;&amp; product.getQuantityReserved() != null) {\r\n    if (product.getQuantityAvailable() &lt; product.getQuantityReserved()) {\r\n        System.out.println(&quot;Error&quot;);\r\n    }\r\n}\r\n```\r\n\r\nIf you want to reduce the level of nesting, here&#39;s a *null-safe* alternative with [`Objects.compare()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#compare(T,T,java.util.Comparator)):\r\n\r\n```\r\nif (Objects.compare(product.getQuantityAvailable(), \r\n                    product.getQuantityReserved(), \r\n                    Comparator.nullsFirst(Comparator.naturalOrder())) &lt; 0) {\r\n    // perform the required action\r\n    throw new MyCustomException(&quot;a message helpful in debuging here&quot;);\r\n}\r\n```\r\n\r\nWhen you have a lot of *nullable fields* in your objects, which you eventually expect to contain some values, *null-checks are inevitable.\r\n\r\nCode clattered with *null-checks* can be difficult to read, but it doesn&#39;t imply that *null-checks* are the root of all evil. It&#39;s just the consequence of your design decisions.\r\n\r\nIf you want to reduce the number of *null-checks* in your code, then assign default values (`0` for `Integer`, `BigDecimal.ZERO`, empty collections, etc.) instead of keeping `null` references in every place where it doesn&#39;t harm the logic of the application.\r\n\r\n***Sidenote:*** contrary to some languages like type TypeScript, in Java there&#39;s **no** notion of *optional properties*, which was initially mentioned in the title of the question. Practices that are suitable for one language aren&#39;t necessarily applicable in another. If you want to leverage Java to its full power, reproducing your experience with frontend languages isn&#39;t the right way to go.","title":"Validating Nullable fields in Java","body":"<p>Firstly, there's nothing wrong with explicit <em>null-checks</em>.</p>\n<p>Secondly, <code>Optional.ofNullable()</code> is <strong>not</strong> meant for validation. By hiding a <em>null-check</em> with it, you're obscuring what the code does and making it harder to read.</p>\n<p>Here's a quote from the <a href=\"https://stackoverflow.com/a/34458582/17949945\"><em>answer</em></a> by <em>@StuartMarks</em>, Java and OpenJDK developer, regarding what <code>Optional</code> is meant to be used for:</p>\n<blockquote>\n<p>The <em><strong>primary use</strong></em> of <code>Optional</code> is as follows:</p>\n<p>Optional is intended to\nprovide a limited mechanism for library <em><strong>method return types</strong></em> where\nthere is a clear need to represent &quot;no result,&quot; and where using null\nfor that is overwhelmingly likely to cause errors.</p>\n</blockquote>\n<blockquote>\n<p>A typical <strong>code smell</strong> is, instead of the code using method chaining to\nhandle an Optional returned from some method, it creates an <code>Optional</code>\nfrom something that's <strong>nullable</strong>, in order to chain methods and <strong>avoid\nconditionals</strong>.</p>\n</blockquote>\n<p>Also have a look at this answer by <em>Stuart Marks</em> <a href=\"https://stackoverflow.com/a/52048770/17949945\"><em>&quot;Should Optional.ofNullable() be used for null check?&quot;</em></a>.</p>\n<p>Using <code>Optional.ofNullable()</code> to avoid <em>null-checks</em> is an <strong>antipattern</strong>. You shouldn't create <code>Optional</code> in order to validate an object that can be <code>null</code></p>\n<p>I see nothing that can be considered to be &quot;bad&quot; in this snippet from your question. Yes, it's verbose, it's a price for allowing <em>nullable</em> fields.</p>\n<pre><code>if (product.getQuantityAvailable() != null &amp;&amp; product.getQuantityReserved() != null) {\n    if (product.getQuantityAvailable() &lt; product.getQuantityReserved()) {\n        System.out.println(&quot;Error&quot;);\n    }\n}\n</code></pre>\n<p>If you want to reduce the level of nesting, here's a <em>null-safe</em> alternative with <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#compare(T,T,java.util.Comparator)\" rel=\"nofollow noreferrer\"><code>Objects.compare()</code></a>:</p>\n<pre><code>if (Objects.compare(product.getQuantityAvailable(), \n                    product.getQuantityReserved(), \n                    Comparator.nullsFirst(Comparator.naturalOrder())) &lt; 0) {\n    // perform the required action\n    throw new MyCustomException(&quot;a message helpful in debuging here&quot;);\n}\n</code></pre>\n<p>When you have a lot of <em>nullable fields</em> in your objects, which you eventually expect to contain some values, *null-checks are inevitable.</p>\n<p>Code clattered with <em>null-checks</em> can be difficult to read, but it doesn't imply that <em>null-checks</em> are the root of all evil. It's just the consequence of your design decisions.</p>\n<p>If you want to reduce the number of <em>null-checks</em> in your code, then assign default values (<code>0</code> for <code>Integer</code>, <code>BigDecimal.ZERO</code>, empty collections, etc.) instead of keeping <code>null</code> references in every place where it doesn't harm the logic of the application.</p>\n<p><em><strong>Sidenote:</strong></em> contrary to some languages like type TypeScript, in Java there's <strong>no</strong> notion of <em>optional properties</em>, which was initially mentioned in the title of the question. Practices that are suitable for one language aren't necessarily applicable in another. If you want to leverage Java to its full power, reproducing your experience with frontend languages isn't the right way to go.</p>\n"}],"owner":{"account_id":24193243,"reputation":39,"user_id":19725796,"display_name":"Rosa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1036,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73335193,"answer_count":3,"score":1,"last_activity_date":1661720450,"creation_date":1660300019,"question_id":73332706,"body_markdown":"Let&#39;s say we have a class `Product` which has some *nullable* fields that are allowed to be null, for example, `quantityAvailable` and `quantityReserved`.\r\n\r\nI may want to validate these fields and throw an error, but since they are allowed to be `null`, I have, firstly, to check for `null`:\r\n\r\n    if (product.getQuantityAvailable() != null &amp;&amp; product.getQuantityReserved() != null) {\r\n      if (product.getQuantityAvailable() &lt; product.getQuantityReserved()) {\r\n        System.out.println(&quot;Error&quot;);\r\n      }\r\n    }\r\n\r\n\r\nWhen you have many *nullable* fields and many *null-checks*, this becomes tedious. Even with `ofNullable` it doesn&#39;t get any better.\r\n\r\n    Optional.ofNullable(product.getQuantityAvailable())\r\n        .ifPresent((available) -&gt; {\r\n              Optional.ofNullable(product.getQuantityReserved())\r\n                  .ifPresent((reserved) -&gt; {\r\n                        if (available &lt; reserved) {\r\n                          System.out.println(&quot;Error&quot;);\r\n                        }\r\n                      });\r\n            });\r\n\r\nIdeally there would exist some annotation that would check for nulls and skip if any were found, but obviously this wouldn&#39;t work.\r\n\r\n    if (@Nullable product.getQuantityAvailable() &lt; @Nullable product.getQuantityReserved()) {\r\n      System.out.println(&quot;Error&quot;);\r\n    }\r\n\r\nIs there a solution to avoid the boilerplate above?","title":"Validating Nullable fields in Java","body":"<p>Let's say we have a class <code>Product</code> which has some <em>nullable</em> fields that are allowed to be null, for example, <code>quantityAvailable</code> and <code>quantityReserved</code>.</p>\n<p>I may want to validate these fields and throw an error, but since they are allowed to be <code>null</code>, I have, firstly, to check for <code>null</code>:</p>\n<pre><code>if (product.getQuantityAvailable() != null &amp;&amp; product.getQuantityReserved() != null) {\n  if (product.getQuantityAvailable() &lt; product.getQuantityReserved()) {\n    System.out.println(&quot;Error&quot;);\n  }\n}\n</code></pre>\n<p>When you have many <em>nullable</em> fields and many <em>null-checks</em>, this becomes tedious. Even with <code>ofNullable</code> it doesn't get any better.</p>\n<pre><code>Optional.ofNullable(product.getQuantityAvailable())\n    .ifPresent((available) -&gt; {\n          Optional.ofNullable(product.getQuantityReserved())\n              .ifPresent((reserved) -&gt; {\n                    if (available &lt; reserved) {\n                      System.out.println(&quot;Error&quot;);\n                    }\n                  });\n        });\n</code></pre>\n<p>Ideally there would exist some annotation that would check for nulls and skip if any were found, but obviously this wouldn't work.</p>\n<pre><code>if (@Nullable product.getQuantityAvailable() &lt; @Nullable product.getQuantityReserved()) {\n  System.out.println(&quot;Error&quot;);\n}\n</code></pre>\n<p>Is there a solution to avoid the boilerplate above?</p>\n"},{"tags":["java","collections","set","guava","set-intersection"],"answers":[{"tags":[],"owner":{"account_id":1626304,"reputation":169369,"user_id":1501794,"accept_rate":72,"display_name":"Rahul Tripathi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1379438593,"creation_date":1379438593,"answer_id":18856096,"question_id":18856066,"body_markdown":"You may use [Collection#retainAll()][1].\r\n\r\n&gt; Retains only the elements in this collection that are contained in the\r\n&gt; specified collection (optional operation). In other words, removes\r\n&gt; from this collection all of its elements that are not contained in the\r\n&gt; specified collection.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll%28java.util.Collection%29","title":"Java Collections - Quickest way to find if there is a Common element between two Sets","body":"<p>You may use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/util/Collection.html#retainAll%28java.util.Collection%29\" rel=\"nofollow\">Collection#retainAll()</a>.</p>\n\n<blockquote>\n  <p>Retains only the elements in this collection that are contained in the\n  specified collection (optional operation). In other words, removes\n  from this collection all of its elements that are not contained in the\n  specified collection.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":38,"is_accepted":false,"score":38,"last_activity_date":1379438819,"creation_date":1379438819,"answer_id":18856162,"question_id":18856066,"body_markdown":"With the normal JDK, this is just\r\n\r\n    !Collections.disjoint(set1, set2)\r\n\r\nThis bails immediately if an element is found in common.\r\n\r\n(Although -- for what it&#39;s worth -- `Sets.intersection` is lazier than you realize.  It returns a view in constant time, and its `isEmpty()` method would also bail immediately upon finding the first element in common, so it&#39;d be just as efficient.)","title":"Java Collections - Quickest way to find if there is a Common element between two Sets","body":"<p>With the normal JDK, this is just</p>\n\n<pre><code>!Collections.disjoint(set1, set2)\n</code></pre>\n\n<p>This bails immediately if an element is found in common.</p>\n\n<p>(Although -- for what it's worth -- <code>Sets.intersection</code> is lazier than you realize.  It returns a view in constant time, and its <code>isEmpty()</code> method would also bail immediately upon finding the first element in common, so it'd be just as efficient.)</p>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661720071,"creation_date":1661205935,"answer_id":73451439,"question_id":18856066,"body_markdown":"It can be done with the best case time complexity **Ω(1)** with Stream API.\r\n\r\nWe can create a stream over the elements from the *fist set*, and check each element against the *second set* using [`anyMatch()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)).\r\n\r\n```\r\nboolean hasIntersection = set1.stream().anyMatch(set2::contains);\r\n```\r\nStreams are lazy, and `anyMatch()` - is a *short-circuit* terminal operation, which means that after the first element for which the *predicate* passed as argument would be evaluated to `true` the stream would terminate producing the resulting value, and all remained elements would **not** be processed.","title":"Java Collections - Quickest way to find if there is a Common element between two Sets","body":"<p>It can be done with the best case time complexity <strong>Ω(1)</strong> with Stream API.</p>\n<p>We can create a stream over the elements from the <em>fist set</em>, and check each element against the <em>second set</em> using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#anyMatch(java.util.function.Predicate)\" rel=\"nofollow noreferrer\"><code>anyMatch()</code></a>.</p>\n<pre><code>boolean hasIntersection = set1.stream().anyMatch(set2::contains);\n</code></pre>\n<p>Streams are lazy, and <code>anyMatch()</code> - is a <em>short-circuit</em> terminal operation, which means that after the first element for which the <em>predicate</em> passed as argument would be evaluated to <code>true</code> the stream would terminate producing the resulting value, and all remained elements would <strong>not</strong> be processed.</p>\n"}],"owner":{"account_id":281184,"reputation":21762,"user_id":577334,"accept_rate":50,"display_name":"billygoat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9245,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":3,"score":20,"last_activity_date":1661720071,"creation_date":1379438496,"question_id":18856066,"body_markdown":"I have two *sets* from Guava `HashMultimap.values()`.\r\n\r\nI need to find out if there&#39;s an **intersection** of these two *non-empty sets* with the best possible time complexity.\r\n\r\nI don&#39;t need to know about the common elements, just if there&#39;s at least one common element.\r\n\r\nI was thinking of using `Sets.intersection()`, but it has time complexity **O(m+n)**. Can we find out whether there&#39;s a common element without creating the entire intersection?\r\n\r\nSomething like (*pseudocode*): \r\n```\r\nset.intersection(set2).any()\r\n```\r\n\r\nThe data set is pretty big and this operation happens within a loop, and hence performance is paramount.","title":"Java Collections - Quickest way to find if there is a Common element between two Sets","body":"<p>I have two <em>sets</em> from Guava <code>HashMultimap.values()</code>.</p>\n<p>I need to find out if there's an <strong>intersection</strong> of these two <em>non-empty sets</em> with the best possible time complexity.</p>\n<p>I don't need to know about the common elements, just if there's at least one common element.</p>\n<p>I was thinking of using <code>Sets.intersection()</code>, but it has time complexity <strong>O(m+n)</strong>. Can we find out whether there's a common element without creating the entire intersection?</p>\n<p>Something like (<em>pseudocode</em>):</p>\n<pre><code>set.intersection(set2).any()\n</code></pre>\n<p>The data set is pretty big and this operation happens within a loop, and hence performance is paramount.</p>\n"},{"tags":["java","spring-boot","spring-batch"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661638529,"post_id":73514579,"comment_id":129820516,"body_markdown":"What is `SimplePartitioner` It’s a class of spring? And you are not telling the reader witch line he should read. And I don’t know if you can instruct `FlatFileItemReader` to read only some lines of the file. Maybe you have to create your own reader and you should inject in it the lines you set in the `ExecutionContext` by the partitioner.","body":"What is <code>SimplePartitioner</code> It’s a class of spring? And you are not telling the reader witch line he should read. And I don’t know if you can instruct <code>FlatFileItemReader</code> to read only some lines of the file. Maybe you have to create your own reader and you should inject in it the lines you set in the <code>ExecutionContext</code> by the partitioner."},{"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"score":0,"creation_date":1661678291,"post_id":73514579,"comment_id":129824778,"body_markdown":"```SimplePartitioner``` is spring&#39;s class.","body":"<code>SimplePartitioner</code> is spring&#39;s class."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661678408,"post_id":73514579,"comment_id":129824804,"body_markdown":"Yes I see it, It doe&#39;s nothing...","body":"Yes I see it, It doe&#39;s nothing..."},{"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"score":0,"creation_date":1661681329,"post_id":73514579,"comment_id":129825273,"body_markdown":"Hmm, it assigns the ExecutionContext to the partition, so it does something. Later, you could extract the information about the partition in the reader using late binding (```@Value(#...)```) and decide if this line is supposed to be read by this or the other thread.","body":"Hmm, it assigns the ExecutionContext to the partition, so it does something. Later, you could extract the information about the partition in the reader using late binding (<code>@Value(#...)</code>) and decide if this line is supposed to be read by this or the other thread."},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":0,"creation_date":1661681492,"post_id":73514579,"comment_id":129825291,"body_markdown":"It only creates a map with `ExecutonContext` but it has noting ist in it to inject in the step, so it&#39;s useless","body":"It only creates a map with <code>ExecutonContext</code> but it has noting ist in it to inject in the step, so it&#39;s useless"}],"answers":[{"tags":[],"owner":{"account_id":14135505,"reputation":105,"user_id":10212116,"display_name":"Veysel &#214;z"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661646898,"creation_date":1661646898,"answer_id":73515255,"question_id":73514579,"body_markdown":"I don&#39;t know whether my solution is the best but it is worked.\r\n\r\nI added two parameters as global in `JobConfig` class:\r\n\r\n    private int startLine = -1;\r\n    private int lastLine = 1;\r\n\r\nThen I set these parameters to reader in `flatFileItemReader` method:\r\n\r\n    reader.setCurrentItemCount(startLine);\r\n    reader.setMaxItemCount(lastLine);\r\n    startLine+=2;\r\n    lastLine+=2;\r\n\r\nAll code:\r\n\r\n    @Configuration\r\n    @RequiredArgsConstructor\r\n    public class JobConfig {\r\n        private final JobBuilderFactory jobBuilderFactory;\r\n        private final StepBuilderFactory stepBuilderFactory;\r\n    \r\n        private int startLine = -1;\r\n        private int lastLine = 1;\r\n    \r\n        @Value(&quot;classpath:employees.csv&quot;)\r\n        private Resource resourceFile;\r\n    \r\n        @Bean(&quot;MyJob1&quot;)\r\n        public Job createJob() {\r\n            return jobBuilderFactory.get(&quot;my job 1&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(step())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(&quot;MyStep1&quot;)\r\n        public Step step() {\r\n            return stepBuilderFactory.get(&quot;my step 1&quot;)\r\n                    .partitioner(&quot;my step 1&quot;, new SimplePartitioner())\r\n                    .partitionHandler(partitionHandler())\r\n                    .build();\r\n        }\r\n    \r\n        @Bean(&quot;slaveStep&quot;)\r\n        public Step slaveStep() {\r\n            return stepBuilderFactory.get(&quot;read csv stream&quot;)\r\n                    .&lt;Employee, Employee&gt;chunk(1)\r\n                    .reader(flatFileItemReader())\r\n                    .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\r\n                        System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\r\n                        return employee;\r\n                    })\r\n                    .writer(list -&gt; {\r\n                        for (Employee item : list) {\r\n                            //System.out.println(item);\r\n                        }\r\n                    })\r\n                    .build();\r\n        }\r\n    \r\n        @StepScope\r\n        @Bean\r\n        public FlatFileItemReader&lt;Employee&gt; flatFileItemReader() {\r\n            FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n            reader.setResource(resourceFile);\r\n    \r\n            DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n            lineMapper.setFieldSetMapper(fieldSet -&gt; {\r\n                String[] values = fieldSet.getValues();\r\n                return Employee.builder()\r\n                        .id(Integer.parseInt(values[0]))\r\n                        .firstName(values[1])\r\n                        .build();\r\n            });\r\n    \r\n            lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\r\n            reader.setLineMapper(lineMapper);\r\n            reader.setCurrentItemCount(startLine);\r\n            reader.setMaxItemCount(lastLine);\r\n            startLine+=2;\r\n            lastLine+=2;\r\n            return reader;\r\n        }\r\n    \r\n        @Bean\r\n        public PartitionHandler partitionHandler() {\r\n            TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\r\n    \r\n            taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\r\n            taskExecutorPartitionHandler.setStep(slaveStep());\r\n            taskExecutorPartitionHandler.setGridSize(5);\r\n    \r\n            return taskExecutorPartitionHandler;\r\n        }\r\n    \r\n        @Bean\r\n        public TaskExecutor taskExecutor() {\r\n            ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n            taskExecutor.setMaxPoolSize(5);\r\n            taskExecutor.setCorePoolSize(5);\r\n            taskExecutor.setQueueCapacity(5);\r\n            taskExecutor.afterPropertiesSet();\r\n            return taskExecutor;\r\n        }\r\n    }\r\n\r\n","title":"Spring-batch partitioned step duplicated processing","body":"<p>I don't know whether my solution is the best but it is worked.</p>\n<p>I added two parameters as global in <code>JobConfig</code> class:</p>\n<pre><code>private int startLine = -1;\nprivate int lastLine = 1;\n</code></pre>\n<p>Then I set these parameters to reader in <code>flatFileItemReader</code> method:</p>\n<pre><code>reader.setCurrentItemCount(startLine);\nreader.setMaxItemCount(lastLine);\nstartLine+=2;\nlastLine+=2;\n</code></pre>\n<p>All code:</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class JobConfig {\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    private int startLine = -1;\n    private int lastLine = 1;\n\n    @Value(&quot;classpath:employees.csv&quot;)\n    private Resource resourceFile;\n\n    @Bean(&quot;MyJob1&quot;)\n    public Job createJob() {\n        return jobBuilderFactory.get(&quot;my job 1&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(step())\n                .build();\n    }\n\n    @Bean(&quot;MyStep1&quot;)\n    public Step step() {\n        return stepBuilderFactory.get(&quot;my step 1&quot;)\n                .partitioner(&quot;my step 1&quot;, new SimplePartitioner())\n                .partitionHandler(partitionHandler())\n                .build();\n    }\n\n    @Bean(&quot;slaveStep&quot;)\n    public Step slaveStep() {\n        return stepBuilderFactory.get(&quot;read csv stream&quot;)\n                .&lt;Employee, Employee&gt;chunk(1)\n                .reader(flatFileItemReader())\n                .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\n                    System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\n                    return employee;\n                })\n                .writer(list -&gt; {\n                    for (Employee item : list) {\n                        //System.out.println(item);\n                    }\n                })\n                .build();\n    }\n\n    @StepScope\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader() {\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(resourceFile);\n\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\n            String[] values = fieldSet.getValues();\n            return Employee.builder()\n                    .id(Integer.parseInt(values[0]))\n                    .firstName(values[1])\n                    .build();\n        });\n\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\n        reader.setLineMapper(lineMapper);\n        reader.setCurrentItemCount(startLine);\n        reader.setMaxItemCount(lastLine);\n        startLine+=2;\n        lastLine+=2;\n        return reader;\n    }\n\n    @Bean\n    public PartitionHandler partitionHandler() {\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\n\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\n        taskExecutorPartitionHandler.setStep(slaveStep());\n        taskExecutorPartitionHandler.setGridSize(5);\n\n        return taskExecutorPartitionHandler;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setMaxPoolSize(5);\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setQueueCapacity(5);\n        taskExecutor.afterPropertiesSet();\n        return taskExecutor;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661678502,"creation_date":1661677817,"answer_id":73517388,"question_id":73514579,"body_markdown":"This should be the solution look at the partitioner he will take care of counting the lines of the file and divde them for the reader and the usage of `@Value(&quot;#{stepExecutionContext[&#39;fromLine&#39;]}&quot;)` to inject in the reader the correct lines to read.\r\n\r\nAn please use injection instead of calling the methods.\r\n```\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class JobConfig {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(JobConfig.class);\r\n\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Value(value = &quot;classpath:employees.csv&quot;)\r\n    private Resource resource;\r\n\r\n    @Bean(&quot;MyJob1&quot;)\r\n    public Job createJob(@Qualifier(&quot;MyStep1&quot;) Step stepMaster) {\r\n        return jobBuilderFactory.get(&quot;MyJob1&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .start(stepMaster)\r\n            .build();\r\n    }\r\n\r\n    @Bean(&quot;MyStep1&quot;)\r\n    public Step step(PartitionHandler partitionHandler, Partitioner partitioner) {\r\n        return stepBuilderFactory.get(&quot;MyStep1&quot;)\r\n            .partitioner(&quot;slaveStep&quot;, partitioner)\r\n            .partitionHandler(partitionHandler)\r\n            .build();\r\n    }\r\n\r\n    @Bean(&quot;slaveStep&quot;)\r\n    public Step slaveStep(FlatFileItemReader&lt;Employee&gt; reader) {\r\n        return stepBuilderFactory.get(&quot;slaveStep&quot;)\r\n            .&lt;Employee, Employee&gt;chunk(1)\r\n            .reader(reader)\r\n            .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\r\n                System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\r\n                return employee;\r\n            })\r\n            .writer(list -&gt; {\r\n                for (Employee item : list) {\r\n                    System.out.println(item);\r\n                }\r\n            })\r\n            .build();\r\n    }\r\n    \r\n    @Bean\r\n    public Partitioner partitioner() {\r\n    \treturn gridSize -&gt; {\r\n    \t\tMap&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\r\n    \t\tint lines = 0;\r\n    \t\ttry(BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()))) {\r\n    \t\t\twhile (reader.readLine() != null) lines++;\r\n    \t\t} catch (IOException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n    \t\tint range = lines / gridSize;\r\n    \t\tint remains = lines % gridSize;\r\n    \t\tint fromLine = 0;\r\n    \t\tint toLine = range;\r\n    \t\tfor (int i = 1; i &lt;= gridSize; i++) {\r\n    \t\t\tif(i == gridSize) {\r\n    \t\t\t\ttoLine += remains;\r\n    \t\t\t}\r\n    \t\t\tExecutionContext value = new ExecutionContext();\r\n    \t\t\tvalue.putInt(&quot;fromLine&quot;, fromLine);\r\n                value.putInt(&quot;toLine&quot;, toLine);\r\n                fromLine = toLine;\r\n                toLine += range;\r\n                result.put(&quot;partition&quot; + i, value);\r\n    \t\t}\r\n    \t\treturn result;\r\n    \t};\r\n    }\r\n    \t\r\n\r\n    @StepScope\r\n    @Bean\r\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader(@Value(&quot;#{stepExecutionContext[&#39;fromLine&#39;]}&quot;) int startLine, @Value(&quot;#{stepExecutionContext[&#39;toLine&#39;]}&quot;) int lastLine) {\r\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(resource);\r\n\r\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\r\n            String[] values = fieldSet.getValues();\r\n            return Employee.builder()\r\n                    .id(Integer.parseInt(values[0]))\r\n                    .firstName(values[1])\r\n                    .build();\r\n        });\r\n\r\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\r\n        reader.setLineMapper(lineMapper);\r\n        reader.setCurrentItemCount(startLine);\r\n        reader.setMaxItemCount(lastLine);\r\n\r\n        return reader;\r\n    }\r\n\r\n    @Bean\r\n    public PartitionHandler partitionHandler(@Qualifier(&quot;slaveStep&quot;) Step step, TaskExecutor taskExecutor) {\r\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\r\n\r\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor);\r\n        taskExecutorPartitionHandler.setStep(step);\r\n        taskExecutorPartitionHandler.setGridSize(5);\r\n\r\n        return taskExecutorPartitionHandler;\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setMaxPoolSize(5);\r\n        taskExecutor.setCorePoolSize(5);\r\n        taskExecutor.setQueueCapacity(5);\r\n        taskExecutor.afterPropertiesSet();\r\n        return taskExecutor;\r\n    }\r\n    \r\n}\r\n```","title":"Spring-batch partitioned step duplicated processing","body":"<p>This should be the solution look at the partitioner he will take care of counting the lines of the file and divde them for the reader and the usage of <code>@Value(&quot;#{stepExecutionContext['fromLine']}&quot;)</code> to inject in the reader the correct lines to read.</p>\n<p>An please use injection instead of calling the methods.</p>\n<pre><code>@Configuration\n@RequiredArgsConstructor\npublic class JobConfig {\n\n    private static final Logger log = LoggerFactory.getLogger(JobConfig.class);\n\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    @Value(value = &quot;classpath:employees.csv&quot;)\n    private Resource resource;\n\n    @Bean(&quot;MyJob1&quot;)\n    public Job createJob(@Qualifier(&quot;MyStep1&quot;) Step stepMaster) {\n        return jobBuilderFactory.get(&quot;MyJob1&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(stepMaster)\n            .build();\n    }\n\n    @Bean(&quot;MyStep1&quot;)\n    public Step step(PartitionHandler partitionHandler, Partitioner partitioner) {\n        return stepBuilderFactory.get(&quot;MyStep1&quot;)\n            .partitioner(&quot;slaveStep&quot;, partitioner)\n            .partitionHandler(partitionHandler)\n            .build();\n    }\n\n    @Bean(&quot;slaveStep&quot;)\n    public Step slaveStep(FlatFileItemReader&lt;Employee&gt; reader) {\n        return stepBuilderFactory.get(&quot;slaveStep&quot;)\n            .&lt;Employee, Employee&gt;chunk(1)\n            .reader(reader)\n            .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\n                System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\n                return employee;\n            })\n            .writer(list -&gt; {\n                for (Employee item : list) {\n                    System.out.println(item);\n                }\n            })\n            .build();\n    }\n    \n    @Bean\n    public Partitioner partitioner() {\n        return gridSize -&gt; {\n            Map&lt;String, ExecutionContext&gt; result = new HashMap&lt;&gt;();\n            int lines = 0;\n            try(BufferedReader reader = new BufferedReader(new InputStreamReader(resource.getInputStream()))) {\n                while (reader.readLine() != null) lines++;\n            } catch (IOException e) {\n                throw new RuntimeException(e);\n            }\n            int range = lines / gridSize;\n            int remains = lines % gridSize;\n            int fromLine = 0;\n            int toLine = range;\n            for (int i = 1; i &lt;= gridSize; i++) {\n                if(i == gridSize) {\n                    toLine += remains;\n                }\n                ExecutionContext value = new ExecutionContext();\n                value.putInt(&quot;fromLine&quot;, fromLine);\n                value.putInt(&quot;toLine&quot;, toLine);\n                fromLine = toLine;\n                toLine += range;\n                result.put(&quot;partition&quot; + i, value);\n            }\n            return result;\n        };\n    }\n        \n\n    @StepScope\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader(@Value(&quot;#{stepExecutionContext['fromLine']}&quot;) int startLine, @Value(&quot;#{stepExecutionContext['toLine']}&quot;) int lastLine) {\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(resource);\n\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\n            String[] values = fieldSet.getValues();\n            return Employee.builder()\n                    .id(Integer.parseInt(values[0]))\n                    .firstName(values[1])\n                    .build();\n        });\n\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\n        reader.setLineMapper(lineMapper);\n        reader.setCurrentItemCount(startLine);\n        reader.setMaxItemCount(lastLine);\n\n        return reader;\n    }\n\n    @Bean\n    public PartitionHandler partitionHandler(@Qualifier(&quot;slaveStep&quot;) Step step, TaskExecutor taskExecutor) {\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\n\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor);\n        taskExecutorPartitionHandler.setStep(step);\n        taskExecutorPartitionHandler.setGridSize(5);\n\n        return taskExecutorPartitionHandler;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setMaxPoolSize(5);\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setQueueCapacity(5);\n        taskExecutor.afterPropertiesSet();\n        return taskExecutor;\n    }\n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661718351,"creation_date":1661718351,"answer_id":73522023,"question_id":73514579,"body_markdown":"I think in principle my initial idea to partition reading from the CSV file is wrong. Partitioning is effective when it is easy to partition the resource from which the reading will be performed.\r\n\r\n 1. For example database table. Every thread would read the separate range of the records.\r\n 2. Several files. Every thread would read the separate file.\r\n\r\nHowever, partitioning the file where one thread would read a specific range of the records will not necessarily mean any performance gain:\r\n[https://stackoverflow.com/questions/51566645/split-one-large-file-into-multiple-inputstreams-to-be-processed-in-multithread][1]\r\n\r\nOne-line improvement to employ several threads into batch processing would be to add ```SimpleAsyncTaskExecutor```. Each chunk of items then is read, processed and written in a separate thread:\r\n\r\n```java\r\n@Bean(&quot;MyStep1&quot;)\r\npublic Step step() {\r\n    return stepBuilderFactory.get(&quot;my step 1&quot;)\r\n        .&lt;Employee, Employee&gt;chunk(1)\r\n        .reader(flatFileItemReader())\r\n        .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\r\n            System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\r\n            return employee;\r\n        })\r\n        .writer(list -&gt; {\r\n            for (Employee item : list) {\r\n                System.out.println(item);\r\n            }\r\n        })\r\n        .taskExecutor(new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;))\r\n        .build();\r\n}\r\n```\r\n\r\n  [1]: https://stackoverflow.com/questions/51566645/split-one-large-file-into-multiple-inputstreams-to-be-processed-in-multithread","title":"Spring-batch partitioned step duplicated processing","body":"<p>I think in principle my initial idea to partition reading from the CSV file is wrong. Partitioning is effective when it is easy to partition the resource from which the reading will be performed.</p>\n<ol>\n<li>For example database table. Every thread would read the separate range of the records.</li>\n<li>Several files. Every thread would read the separate file.</li>\n</ol>\n<p>However, partitioning the file where one thread would read a specific range of the records will not necessarily mean any performance gain:\n<a href=\"https://stackoverflow.com/questions/51566645/split-one-large-file-into-multiple-inputstreams-to-be-processed-in-multithread\">Split one large file into multiple InputStream(s) to be processed in multithreading in Java</a></p>\n<p>One-line improvement to employ several threads into batch processing would be to add <code>SimpleAsyncTaskExecutor</code>. Each chunk of items then is read, processed and written in a separate thread:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean(&quot;MyStep1&quot;)\npublic Step step() {\n    return stepBuilderFactory.get(&quot;my step 1&quot;)\n        .&lt;Employee, Employee&gt;chunk(1)\n        .reader(flatFileItemReader())\n        .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\n            System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\n            return employee;\n        })\n        .writer(list -&gt; {\n            for (Employee item : list) {\n                System.out.println(item);\n            }\n        })\n        .taskExecutor(new SimpleAsyncTaskExecutor(&quot;spring_batch&quot;))\n        .build();\n}\n</code></pre>\n"}],"owner":{"account_id":11935386,"reputation":1273,"user_id":8734046,"display_name":"jwpol"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1316,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1661718351,"creation_date":1661636205,"question_id":73514579,"body_markdown":"I have thousands of records to process using spring-batch and it takes too much time for our business requirement. The logic is simply to read a CSV file record by record and do the processing.\r\n\r\nI want to parallelise the step execution to speed up batch processing. I think the best choice would be to partition the step and execute let&#39;s say 1-100 records in one thread, 101-200 in another and so on. But instead, every thread processes all of the records. \r\n\r\nThe same happens in this very simple example:\r\n\r\n 1. 10 rows in CSV file\r\n 2. 5 threads\r\n 3. Each should process 2 records\r\n 4. Instead each processes 10 records\r\n\r\n```java\r\n@Configuration\r\n@RequiredArgsConstructor\r\npublic class JobConfig {\r\n    private final JobBuilderFactory jobBuilderFactory;\r\n    private final StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Value(&quot;classpath:employees.csv&quot;)\r\n    private Resource resourceFile;\r\n\r\n    @Bean(&quot;MyJob1&quot;)\r\n    public Job createJob() {\r\n        return jobBuilderFactory.get(&quot;my job 1&quot;)\r\n            .incrementer(new RunIdIncrementer())\r\n            .start(step())\r\n            .build();\r\n    }\r\n\r\n    @Bean(&quot;MyStep1&quot;)\r\n    public Step step() {\r\n        return stepBuilderFactory.get(&quot;my step 1&quot;)\r\n            .partitioner(&quot;my step 1&quot;, new SimplePartitioner())\r\n            .partitionHandler(partitionHandler())\r\n            .build();\r\n    }\r\n\r\n    @Bean(&quot;slaveStep&quot;)\r\n    public Step slaveStep() {\r\n        return stepBuilderFactory.get(&quot;read csv stream&quot;)\r\n            .&lt;Employee, Employee&gt;chunk(1)\r\n            .reader(flatFileItemReader())\r\n            .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\r\n                System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\r\n                return employee;\r\n            })\r\n            .writer(list -&gt; {\r\n                for (Employee item : list) {\r\n                    System.out.println(item);\r\n                }\r\n            })\r\n            .build();\r\n    }\r\n\r\n    @StepScope\r\n    @Bean\r\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader() {\r\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\r\n        reader.setResource(resourceFile);\r\n\r\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\r\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\r\n            String[] values = fieldSet.getValues();\r\n            return Employee.builder()\r\n                .id(Integer.parseInt(values[0]))\r\n                .firstName(values[1])\r\n                .build();\r\n        });\r\n\r\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\r\n        reader.setLineMapper(lineMapper);\r\n\r\n        return reader;\r\n    }\r\n\r\n    @Bean\r\n    public PartitionHandler partitionHandler() {\r\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\r\n\r\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\r\n        taskExecutorPartitionHandler.setStep(slaveStep());\r\n        taskExecutorPartitionHandler.setGridSize(5);\r\n\r\n        return taskExecutorPartitionHandler;\r\n    }\r\n\r\n    @Bean\r\n    public TaskExecutor taskExecutor() {\r\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n        taskExecutor.setMaxPoolSize(5);\r\n        taskExecutor.setCorePoolSize(5);\r\n        taskExecutor.setQueueCapacity(5);\r\n        taskExecutor.afterPropertiesSet();\r\n        return taskExecutor;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@SpringBootApplication\r\n@EnableBatchProcessing\r\npublic class SpringBatchTestsApplication implements CommandLineRunner {\r\n    private final JobLauncher jobLauncher;\r\n    private final Job job;\r\n\r\n    public SpringBatchTestsApplication(JobLauncher jobLauncher,\r\n                                       @Qualifier(&quot;MyJob1&quot;) Job job) {\r\n        this.jobLauncher = jobLauncher;\r\n        this.job = job;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SpringBatchTestsApplication.class, args);\r\n    }\r\n\r\n    @Override\r\n    public void run(String... args) throws Exception {\r\n        jobLauncher.run(job, new JobParameters());\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n@Value\r\n@Builder\r\npublic class Employee {\r\n    private final int id;\r\n    private final String firstName;\r\n}\r\n```\r\n\r\nemployees.csv:\r\n```csv\r\n1;Jakub\r\n2;Mike\r\n3;Pawel\r\n4;Joana\r\n5;Michal\r\n6;Joe\r\n7;Bailey\r\n8;Bailhache\r\n9;John\r\n10;Eva\r\n```\r\n\r\nExample (example because the order is not important) expected output for 5 threads (gridSize):\r\n```\r\nProcessed item 1\r\nEmployee(id=1, firstName=Jakub)\r\nProcessed item 2\r\nEmployee(id=2, firstName=Mike)\r\nProcessed item 3\r\nEmployee(id=3, firstName=Pawel)\r\nProcessed item 4\r\nEmployee(id=4, firstName=Joana)\r\nProcessed item 5\r\nEmployee(id=5, firstName=Michal)\r\nProcessed item 6\r\nEmployee(id=6, firstName=Joe)\r\nProcessed item 7\r\nEmployee(id=7, firstName=Bailey)\r\nProcessed item 8\r\nEmployee(id=8, firstName=Bailhache)\r\nProcessed item 9\r\nEmployee(id=9, firstName=John)\r\nProcessed item 10\r\nEmployee(id=10, firstName=Eva)\r\n```\r\n\r\nThe actual output is that the above occurs 5 times.","title":"Spring-batch partitioned step duplicated processing","body":"<p>I have thousands of records to process using spring-batch and it takes too much time for our business requirement. The logic is simply to read a CSV file record by record and do the processing.</p>\n<p>I want to parallelise the step execution to speed up batch processing. I think the best choice would be to partition the step and execute let's say 1-100 records in one thread, 101-200 in another and so on. But instead, every thread processes all of the records.</p>\n<p>The same happens in this very simple example:</p>\n<ol>\n<li>10 rows in CSV file</li>\n<li>5 threads</li>\n<li>Each should process 2 records</li>\n<li>Instead each processes 10 records</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@RequiredArgsConstructor\npublic class JobConfig {\n    private final JobBuilderFactory jobBuilderFactory;\n    private final StepBuilderFactory stepBuilderFactory;\n\n    @Value(&quot;classpath:employees.csv&quot;)\n    private Resource resourceFile;\n\n    @Bean(&quot;MyJob1&quot;)\n    public Job createJob() {\n        return jobBuilderFactory.get(&quot;my job 1&quot;)\n            .incrementer(new RunIdIncrementer())\n            .start(step())\n            .build();\n    }\n\n    @Bean(&quot;MyStep1&quot;)\n    public Step step() {\n        return stepBuilderFactory.get(&quot;my step 1&quot;)\n            .partitioner(&quot;my step 1&quot;, new SimplePartitioner())\n            .partitionHandler(partitionHandler())\n            .build();\n    }\n\n    @Bean(&quot;slaveStep&quot;)\n    public Step slaveStep() {\n        return stepBuilderFactory.get(&quot;read csv stream&quot;)\n            .&lt;Employee, Employee&gt;chunk(1)\n            .reader(flatFileItemReader())\n            .processor((ItemProcessor&lt;Employee, Employee&gt;) employee -&gt; {\n                System.out.printf(&quot;Processed item %s%n&quot;, employee.getId());\n                return employee;\n            })\n            .writer(list -&gt; {\n                for (Employee item : list) {\n                    System.out.println(item);\n                }\n            })\n            .build();\n    }\n\n    @StepScope\n    @Bean\n    public FlatFileItemReader&lt;Employee&gt; flatFileItemReader() {\n        FlatFileItemReader&lt;Employee&gt; reader = new FlatFileItemReader&lt;&gt;();\n        reader.setResource(resourceFile);\n\n        DefaultLineMapper&lt;Employee&gt; lineMapper = new DefaultLineMapper&lt;&gt;();\n        lineMapper.setFieldSetMapper(fieldSet -&gt; {\n            String[] values = fieldSet.getValues();\n            return Employee.builder()\n                .id(Integer.parseInt(values[0]))\n                .firstName(values[1])\n                .build();\n        });\n\n        lineMapper.setLineTokenizer(new DelimitedLineTokenizer(&quot;;&quot;));\n        reader.setLineMapper(lineMapper);\n\n        return reader;\n    }\n\n    @Bean\n    public PartitionHandler partitionHandler() {\n        TaskExecutorPartitionHandler taskExecutorPartitionHandler = new TaskExecutorPartitionHandler();\n\n        taskExecutorPartitionHandler.setTaskExecutor(taskExecutor());\n        taskExecutorPartitionHandler.setStep(slaveStep());\n        taskExecutorPartitionHandler.setGridSize(5);\n\n        return taskExecutorPartitionHandler;\n    }\n\n    @Bean\n    public TaskExecutor taskExecutor() {\n        ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n        taskExecutor.setMaxPoolSize(5);\n        taskExecutor.setCorePoolSize(5);\n        taskExecutor.setQueueCapacity(5);\n        taskExecutor.afterPropertiesSet();\n        return taskExecutor;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@EnableBatchProcessing\npublic class SpringBatchTestsApplication implements CommandLineRunner {\n    private final JobLauncher jobLauncher;\n    private final Job job;\n\n    public SpringBatchTestsApplication(JobLauncher jobLauncher,\n                                       @Qualifier(&quot;MyJob1&quot;) Job job) {\n        this.jobLauncher = jobLauncher;\n        this.job = job;\n    }\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBatchTestsApplication.class, args);\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        jobLauncher.run(job, new JobParameters());\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\npublic class Employee {\n    private final int id;\n    private final String firstName;\n}\n</code></pre>\n<p>employees.csv:</p>\n<pre><code>1;Jakub\n2;Mike\n3;Pawel\n4;Joana\n5;Michal\n6;Joe\n7;Bailey\n8;Bailhache\n9;John\n10;Eva\n</code></pre>\n<p>Example (example because the order is not important) expected output for 5 threads (gridSize):</p>\n<pre><code>Processed item 1\nEmployee(id=1, firstName=Jakub)\nProcessed item 2\nEmployee(id=2, firstName=Mike)\nProcessed item 3\nEmployee(id=3, firstName=Pawel)\nProcessed item 4\nEmployee(id=4, firstName=Joana)\nProcessed item 5\nEmployee(id=5, firstName=Michal)\nProcessed item 6\nEmployee(id=6, firstName=Joe)\nProcessed item 7\nEmployee(id=7, firstName=Bailey)\nProcessed item 8\nEmployee(id=8, firstName=Bailhache)\nProcessed item 9\nEmployee(id=9, firstName=John)\nProcessed item 10\nEmployee(id=10, firstName=Eva)\n</code></pre>\n<p>The actual output is that the above occurs 5 times.</p>\n"},{"tags":["java","exception","processing","classnotfoundexception","noclassdeffounderror"],"comments":[{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1661715805,"post_id":73521264,"comment_id":129832420,"body_markdown":"Which version of Processing are you using and which OS (and OS version) ?","body":"Which version of Processing are you using and which OS (and OS version) ?"},{"owner":{"account_id":24917386,"reputation":11,"user_id":18786117,"display_name":"Danermar"},"score":0,"creation_date":1661779503,"post_id":73521264,"comment_id":129845946,"body_markdown":"I am using Processing 3.3.7 and Windows 11 Home Version 21H2","body":"I am using Processing 3.3.7 and Windows 11 Home Version 21H2"},{"owner":{"account_id":32369,"reputation":51044,"user_id":89766,"accept_rate":92,"display_name":"George Profenza"},"score":0,"creation_date":1662030978,"post_id":73521264,"comment_id":129914586,"body_markdown":"Interesting: I&#39;ve done a test using Processing 3.4 on Windows 11 21H2 and from within the Processing IDE it works if I save the GameSketch class (without the package) in GameSketch.java within the sketch, then in setup `PApplet.main(GameSketch.class.getName());` or `PApplet.runSketch(new String[]{GameSketch.class.getName()}, new GameSketch());`. Are you using command line or an IDE outside of the Processing editor ? (perhaps it doesn&#39;t have the javafx jars in the class path ?)","body":"Interesting: I&#39;ve done a test using Processing 3.4 on Windows 11 21H2 and from within the Processing IDE it works if I save the GameSketch class (without the package) in GameSketch.java within the sketch, then in setup <code>PApplet.main(GameSketch.class.getName());</code> or <code>PApplet.runSketch(new String[]{GameSketch.class.getName()}, new GameSketch());</code>. Are you using command line or an IDE outside of the Processing editor ? (perhaps it doesn&#39;t have the javafx jars in the class path ?)"}],"answers":[{"tags":[],"owner":{"account_id":17715726,"reputation":2190,"user_id":12862111,"display_name":"apodidae"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661717625,"creation_date":1661717625,"answer_id":73521944,"question_id":73521264,"body_markdown":"The following source code will run in Processing 3.5.4 (or 4.0.1 if you unREM the import) on a Mac.  Use cmd-Q to exit the fullscreen.  \r\n\r\n```\r\n// Add this for Processing 4:\r\n//import processing.javafx.*;\r\n\r\nclass GameSketch extends PApplet {\r\n\r\n  GameSketch() {  \r\n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\r\n  }\r\n  \r\n  void settings() {\r\n    fullScreen(FX2D);\r\n    smooth(4);\r\n  }\r\n\r\n  void setup() {\r\n    background(255);\r\n    frameRate(60);\r\n  }\r\n\r\n  void draw() {\r\n    background(255);\r\n    fill(0);\r\n    textSize(104);\r\n    text(&quot;Hello World!&quot;, width / 2, height / 2);\r\n  }\r\n}\r\n\r\nstatic GameSketch gameSketch;\r\n\r\nvoid setup() {\r\n  gameSketch = new GameSketch();\r\n}\r\n\r\n```","title":"How can I use the FX2D render option in Java + Processing?","body":"<p>The following source code will run in Processing 3.5.4 (or 4.0.1 if you unREM the import) on a Mac.  Use cmd-Q to exit the fullscreen.</p>\n<pre><code>// Add this for Processing 4:\n//import processing.javafx.*;\n\nclass GameSketch extends PApplet {\n\n  GameSketch() {  \n    PApplet.runSketch(new String[]{this.getClass().getName()}, this);\n  }\n  \n  void settings() {\n    fullScreen(FX2D);\n    smooth(4);\n  }\n\n  void setup() {\n    background(255);\n    frameRate(60);\n  }\n\n  void draw() {\n    background(255);\n    fill(0);\n    textSize(104);\n    text(&quot;Hello World!&quot;, width / 2, height / 2);\n  }\n}\n\nstatic GameSketch gameSketch;\n\nvoid setup() {\n  gameSketch = new GameSketch();\n}\n\n</code></pre>\n"}],"owner":{"account_id":24917386,"reputation":11,"user_id":18786117,"display_name":"Danermar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661717625,"creation_date":1661711844,"question_id":73521264,"body_markdown":"I am doing the tests for a program I have to do with Java + Processing. I imported the core to the dependencies and I was trying to get the best quality possible with the FX2D rendering, but the moment I use it it just crashes (Tried without specifying the rendering option and worked normally) with this exception:\r\n\r\n    java.lang.NoClassDefFoundError: com/sun/javafx/geom/Shape\r\n    \tat java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\r\n    \tat java.base/java.lang.Class.getConstructor0(Class.java:3610)\r\n    \tat java.base/java.lang.Class.getConstructor(Class.java:2303)\r\n    \tat processing.core.PApplet.makeGraphics(PApplet.java:2234)\r\n    \tat processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\r\n    \tat processing.core.PApplet.initSurface(PApplet.java:10828)\r\n    \tat processing.core.PApplet.runSketch(PApplet.java:10767)\r\n    \tat game.GameSketch.run(GameSketch.java:29)\r\n    \tat game.App.main(App.java:7)\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.javafx.geom.Shape\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \t... 10 more\r\n    Command execution failed.\r\n    org.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\r\n        at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\r\n        at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\r\n        at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\r\n        at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\r\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\r\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\r\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\r\n        at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\r\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\r\n        at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\r\n        at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\r\n        at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\r\n        at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\r\n        at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\r\n        at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\r\n        at java.lang.reflect.Method.invoke (Method.java:577)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\r\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\r\n    ------------------------------------------------------------------------\r\n    BUILD FAILURE\r\n    ------------------------------------------------------------------------\r\n    Total time:  2.234 s\r\n    Finished at: 2022-08-28T13:10:00-05:00\r\n    ------------------------------------------------------------------------\r\n    Failed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project ProcessingTest: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\r\n    \r\n    To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n\r\nThe code I am compiling:\r\n\r\n    package game;\r\n    \r\n    import processing.core.PApplet;\r\n    \r\n    public class GameSketch extends PApplet {\r\n    \r\n        @Override\r\n        public void settings() {\r\n            fullScreen(FX2D);\r\n        }\r\n    \r\n        @Override\r\n        public void setup() {\r\n            background(255);\r\n            frameRate(60);\r\n            smooth(4);\r\n        }\r\n    \r\n        @Override\r\n        public void draw() {\r\n            background(255);\r\n            fill(0);\r\n            textSize(104);\r\n            text(&quot;Hello World!&quot;, width / 2, height / 2);\r\n        }\r\n    \r\n        public void run() {\r\n            String[] processingArgs = {this.getClass().getName()};\r\n            PApplet.runSketch(processingArgs, this);\r\n        }\r\n    }\r\n\r\nI tried importing every library I found of processing in case I was not importing the right one, also changing the &quot;import processing.core.PApplet;&quot; to &quot;import processing.core.*;&quot; but it continues giving the same exception.\r\n\r\nHow could I use this processing render option in java?","title":"How can I use the FX2D render option in Java + Processing?","body":"<p>I am doing the tests for a program I have to do with Java + Processing. I imported the core to the dependencies and I was trying to get the best quality possible with the FX2D rendering, but the moment I use it it just crashes (Tried without specifying the rendering option and worked normally) with this exception:</p>\n<pre><code>java.lang.NoClassDefFoundError: com/sun/javafx/geom/Shape\n    at java.base/java.lang.Class.getDeclaredConstructors0(Native Method)\n    at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3405)\n    at java.base/java.lang.Class.getConstructor0(Class.java:3610)\n    at java.base/java.lang.Class.getConstructor(Class.java:2303)\n    at processing.core.PApplet.makeGraphics(PApplet.java:2234)\n    at processing.core.PApplet.createPrimaryGraphics(PApplet.java:2314)\n    at processing.core.PApplet.initSurface(PApplet.java:10828)\n    at processing.core.PApplet.runSketch(PApplet.java:10767)\n    at game.GameSketch.run(GameSketch.java:29)\n    at game.App.main(App.java:7)\nCaused by: java.lang.ClassNotFoundException: com.sun.javafx.geom.Shape\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n    ... 10 more\nCommand execution failed.\norg.apache.commons.exec.ExecuteException: Process exited with an error: 1 (Exit value: 1)\n    at org.apache.commons.exec.DefaultExecutor.executeInternal (DefaultExecutor.java:404)\n    at org.apache.commons.exec.DefaultExecutor.execute (DefaultExecutor.java:166)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:982)\n    at org.codehaus.mojo.exec.ExecMojo.executeCommandLine (ExecMojo.java:929)\n    at org.codehaus.mojo.exec.ExecMojo.execute (ExecMojo.java:457)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo (DefaultBuildPluginManager.java:137)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.doExecute (MojoExecutor.java:301)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:211)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:165)\n    at org.apache.maven.lifecycle.internal.MojoExecutor.execute (MojoExecutor.java:157)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:121)\n    at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject (LifecycleModuleBuilder.java:81)\n    at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build (SingleThreadedBuilder.java:56)\n    at org.apache.maven.lifecycle.internal.LifecycleStarter.execute (LifecycleStarter.java:127)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:294)\n    at org.apache.maven.DefaultMaven.doExecute (DefaultMaven.java:192)\n    at org.apache.maven.DefaultMaven.execute (DefaultMaven.java:105)\n    at org.apache.maven.cli.MavenCli.execute (MavenCli.java:960)\n    at org.apache.maven.cli.MavenCli.doMain (MavenCli.java:293)\n    at org.apache.maven.cli.MavenCli.main (MavenCli.java:196)\n    at jdk.internal.reflect.DirectMethodHandleAccessor.invoke (DirectMethodHandleAccessor.java:104)\n    at java.lang.reflect.Method.invoke (Method.java:577)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced (Launcher.java:282)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.launch (Launcher.java:225)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode (Launcher.java:406)\n    at org.codehaus.plexus.classworlds.launcher.Launcher.main (Launcher.java:347)\n------------------------------------------------------------------------\nBUILD FAILURE\n------------------------------------------------------------------------\nTotal time:  2.234 s\nFinished at: 2022-08-28T13:10:00-05:00\n------------------------------------------------------------------------\nFailed to execute goal org.codehaus.mojo:exec-maven-plugin:3.0.0:exec (default-cli) on project ProcessingTest: Command execution failed.: Process exited with an error: 1 (Exit value: 1) -&gt; [Help 1]\n\nTo see the full stack trace of the errors, re-run Maven with the -e switch.\nRe-run Maven using the -X switch to enable full debug logging.\n</code></pre>\n<p>The code I am compiling:</p>\n<pre><code>package game;\n\nimport processing.core.PApplet;\n\npublic class GameSketch extends PApplet {\n\n    @Override\n    public void settings() {\n        fullScreen(FX2D);\n    }\n\n    @Override\n    public void setup() {\n        background(255);\n        frameRate(60);\n        smooth(4);\n    }\n\n    @Override\n    public void draw() {\n        background(255);\n        fill(0);\n        textSize(104);\n        text(&quot;Hello World!&quot;, width / 2, height / 2);\n    }\n\n    public void run() {\n        String[] processingArgs = {this.getClass().getName()};\n        PApplet.runSketch(processingArgs, this);\n    }\n}\n</code></pre>\n<p>I tried importing every library I found of processing in case I was not importing the right one, also changing the &quot;import processing.core.PApplet;&quot; to &quot;import processing.core.*;&quot; but it continues giving the same exception.</p>\n<p>How could I use this processing render option in java?</p>\n"},{"tags":["java","algorithm","semaphore"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1661717357,"post_id":73521884,"comment_id":129832694,"body_markdown":"What you have posted is subject to something called **deadlock**. The *dead* should be a hint as to why you might want to avoid changing lock orders like that.","body":"What you have posted is subject to something called <b>deadlock</b>. The <i>dead</i> should be a hint as to why you might want to avoid changing lock orders like that."},{"owner":{"account_id":26182855,"reputation":1,"user_id":19865917,"display_name":"wichtig ja"},"score":0,"creation_date":1661717627,"post_id":73521884,"comment_id":129832753,"body_markdown":"No I dont have a deadlock, because semaphore kx is initialized with 1 and mutex with 0, so of course consumer cannot start, but producer cans start and use his method. after this he makes mutex up and consumer cans start, with down mutex and producer waits until consumer ups kx, and starts again, so never a deadlock.","body":"No I dont have a deadlock, because semaphore kx is initialized with 1 and mutex with 0, so of course consumer cannot start, but producer cans start and use his method. after this he makes mutex up and consumer cans start, with down mutex and producer waits until consumer ups kx, and starts again, so never a deadlock."},{"owner":{"account_id":26182855,"reputation":1,"user_id":19865917,"display_name":"wichtig ja"},"score":0,"creation_date":1661718096,"post_id":73521884,"comment_id":129832826,"body_markdown":"Or do you mean that i have avoided a deadlock with my code and that was the prof made is something else?","body":"Or do you mean that i have avoided a deadlock with my code and that was the prof made is something else?"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1661719081,"post_id":73521884,"comment_id":129833010,"body_markdown":"Why don&#39;t you ask your prof directly? What he meant and why he&#39;s doing it like that can best be explained by himself.","body":"Why don&#39;t you ask your prof directly? What he meant and why he&#39;s doing it like that can best be explained by himself."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1661719086,"post_id":73521884,"comment_id":129833013,"body_markdown":"The `mutex` allows only one thread to produce or consume an element at a time. Or, more specifically, it only allows one thread to modify the data structure at a time. The `full` and `empty` semaphores are used to control &quot;capacity&quot;. As in, it prevents the data structure from containing more than `N` elements or less than `0` elements. Notice the order these semaphores are used. If the data structure is empty or full, then the thread waits until the data structure is not empty or not full before it acquires the mutex.","body":"The <code>mutex</code> allows only one thread to produce or consume an element at a time. Or, more specifically, it only allows one thread to modify the data structure at a time. The <code>full</code> and <code>empty</code> semaphores are used to control &quot;capacity&quot;. As in, it prevents the data structure from containing more than <code>N</code> elements or less than <code>0</code> elements. Notice the order these semaphores are used. If the data structure is empty or full, then the thread waits until the data structure is not empty or not full before it acquires the mutex."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661719324,"post_id":73521884,"comment_id":129833049,"body_markdown":"Your code does not prevent multiple threads from modifying the data structure simultaneously. Well, it might, because your capacity is effectively `1`. But if you increased the maximum capacity to `2` or more, then that&#39;s where you&#39;d run into problems.","body":"Your code does not prevent multiple threads from modifying the data structure simultaneously. Well, it might, because your capacity is effectively <code>1</code>. But if you increased the maximum capacity to <code>2</code> or more, then that&#39;s where you&#39;d run into problems."},{"owner":{"account_id":26182855,"reputation":1,"user_id":19865917,"display_name":"wichtig ja"},"score":0,"creation_date":1661721656,"post_id":73521884,"comment_id":129833437,"body_markdown":"Thank you Slaw! You are completely right!","body":"Thank you Slaw! You are completely right!"}],"owner":{"account_id":26182855,"reputation":1,"user_id":19865917,"display_name":"wichtig ja"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661717285,"creation_date":1661717217,"question_id":73521884,"body_markdown":"[Pseudocode with Semaphores][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ty1WE.png\r\n\r\nHello, in our Java-course at our university we learn at the moment something about Semaphores.Our prof showed us code with only one semaphore. After this he said: &quot;now I will you show a pseudocode with semaphores and synchronisation&quot;...\r\n\r\nThat, what he showed us i uploaded here. \r\n\r\nWhat I dont understand why we need now 3 semaphores, why he doesnt do this:\r\n\r\n    semaphore mutex=0;\r\n    semaphore kx=1;\r\n    \r\n    void producer{\r\n    \r\n    down(kx);\r\n    insert_item(item);\r\n    up(mutex);\r\n    \r\n    \r\n    }\r\n    \r\n    void consumer{\r\n    \r\n    down(mutex);\r\n    item=remove_item();\r\n    up(kx);\r\n    consume_item(item)\r\n    \r\n    }\r\n\r\nThis is the same or not? With only two semaphores? What he means with synchronisation?\r\n","title":"Why this code (pseudocode) with semaphores use three semaphores instead of 2?","body":"<p><a href=\"https://i.stack.imgur.com/ty1WE.png\" rel=\"nofollow noreferrer\">Pseudocode with Semaphores</a></p>\n<p>Hello, in our Java-course at our university we learn at the moment something about Semaphores.Our prof showed us code with only one semaphore. After this he said: &quot;now I will you show a pseudocode with semaphores and synchronisation&quot;...</p>\n<p>That, what he showed us i uploaded here.</p>\n<p>What I dont understand why we need now 3 semaphores, why he doesnt do this:</p>\n<pre><code>semaphore mutex=0;\nsemaphore kx=1;\n\nvoid producer{\n\ndown(kx);\ninsert_item(item);\nup(mutex);\n\n\n}\n\nvoid consumer{\n\ndown(mutex);\nitem=remove_item();\nup(kx);\nconsume_item(item)\n\n}\n</code></pre>\n<p>This is the same or not? With only two semaphores? What he means with synchronisation?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1661560619,"post_id":73507553,"comment_id":129808763,"body_markdown":"This is the fundamental error: `java.lang.ClassNotFoundException: Cannot find class: Cart`. Make sure the `Cart` class is being included with the application.","body":"This is the fundamental error: <code>java.lang.ClassNotFoundException: Cannot find class: Cart</code>. Make sure the <code>Cart</code> class is being included with the application."},{"owner":{"account_id":26170048,"reputation":21,"user_id":19855196,"display_name":"Amlieades"},"score":0,"creation_date":1661561599,"post_id":73507553,"comment_id":129808857,"body_markdown":"Thank you for leaving comments. First of all, I checked The cart.class file exists inside my spring application built with jar now.","body":"Thank you for leaving comments. First of all, I checked The cart.class file exists inside my spring application built with jar now."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661565760,"post_id":73507553,"comment_id":129809175,"body_markdown":"Java is case sensitive. Ibatis is expecting a class named `Cart`, not `cart`. Also check that `Cart` is in the default package.","body":"Java is case sensitive. Ibatis is expecting a class named <code>Cart</code>, not <code>cart</code>. Also check that <code>Cart</code> is in the default package."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1661565906,"post_id":73507553,"comment_id":129809187,"body_markdown":"&quot;It&#39;s like rain, on your wedding day/An exception in your jar, when your IDE&#39;s fine&quot; as Ms. Morissette might have said.","body":"&quot;It&#39;s like rain, on your wedding day/An exception in your jar, when your IDE&#39;s fine&quot; as Ms. Morissette might have said."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661582972,"post_id":73507553,"comment_id":129810793,"body_markdown":"If the file is indeed named `cart.class`, then that could explain the difference in behavior, assuming you&#39;re developing on a platform with a case-insensitive file system (e.g., Windows). If your class is named `Cart` (no package), then Java will look for a file named `Cart.class` on the class-path/module-path. On a case-insensitive file system, this will still find the file named `cart.class`. But the JAR &quot;file system&quot; is _case-sensitive_, meaning the file `Cart.class` does not exist, resulting in a `ClassNotFoundException`.","body":"If the file is indeed named <code>cart.class</code>, then that could explain the difference in behavior, assuming you&#39;re developing on a platform with a case-insensitive file system (e.g., Windows). If your class is named <code>Cart</code> (no package), then Java will look for a file named <code>Cart.class</code> on the class-path/module-path. On a case-insensitive file system, this will still find the file named <code>cart.class</code>. But the JAR &quot;file system&quot; is <i>case-sensitive</i>, meaning the file <code>Cart.class</code> does not exist, resulting in a <code>ClassNotFoundException</code>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661583062,"post_id":73507553,"comment_id":129810803,"body_markdown":"So, if that is the problem, then rename your _source file_ from `cart.java` to `Cart.java`.","body":"So, if that is the problem, then rename your <i>source file</i> from <code>cart.java</code> to <code>Cart.java</code>."},{"owner":{"account_id":26170048,"reputation":21,"user_id":19855196,"display_name":"Amlieades"},"score":0,"creation_date":1661612174,"post_id":73507553,"comment_id":129815759,"body_markdown":"Thank you for your valuable answer to my question. However, as you said, I changed the class name to cart and build it to jar, but a similar exception occurred.","body":"Thank you for your valuable answer to my question. However, as you said, I changed the class name to cart and build it to jar, but a similar exception occurred."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1661619111,"post_id":73507553,"comment_id":129817134,"body_markdown":"As an aside, you should keep the class name `Cart` as that follows standard Java naming conventions (classes use PascalCase) and rename the source file to match the class name. But if you&#39;re still getting a `ClassNotFoundException` where the source file and class have matching names, then I&#39;m not sure what&#39;s happening, assuming the class file is being packaged in your JAR file and deployed. Though perhaps the problem is similar to the one in this other Q&amp;A: https://stackoverflow.com/questions/46141920/mybatis-spring-spring-boot-could-not-resolve-type-alias-issue","body":"As an aside, you should keep the class name <code>Cart</code> as that follows standard Java naming conventions (classes use PascalCase) and rename the source file to match the class name. But if you&#39;re still getting a <code>ClassNotFoundException</code> where the source file and class have matching names, then I&#39;m not sure what&#39;s happening, assuming the class file is being packaged in your JAR file and deployed. Though perhaps the problem is similar to the one in this other Q&amp;A: <a href=\"https://stackoverflow.com/questions/46141920/mybatis-spring-spring-boot-could-not-resolve-type-alias-issue\" title=\"mybatis spring spring boot could not resolve type alias issue\">stackoverflow.com/questions/46141920/&hellip;</a>"},{"owner":{"account_id":26170048,"reputation":21,"user_id":19855196,"display_name":"Amlieades"},"score":0,"creation_date":1661704711,"post_id":73507553,"comment_id":129830131,"body_markdown":"Thank you!! The enthusiastic answers helped me so much. I finally found out what was wrong. It is presumed to have been because sqlSessionFactoryBeans was parsing the mapper.xml file from a strange directory.","body":"Thank you!! The enthusiastic answers helped me so much. I finally found out what was wrong. It is presumed to have been because sqlSessionFactoryBeans was parsing the mapper.xml file from a strange directory."}],"owner":{"account_id":26170048,"reputation":21,"user_id":19855196,"display_name":"Amlieades"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661715715,"creation_date":1661559651,"question_id":73507553,"body_markdown":"Question:\r\n\r\nIf I run the jar file that I made with the spring application,That Shows an exception that a beans cannot be created. Ironically, it works fine in my local IntelliJ IDE. An exception occurs if I just run it in cmd.\r\n\r\nHow can I solve this?\r\n\r\n\r\n\r\n -- Exception Log -- (after changed class name : cart)\r\n\r\n    2022-08-27 23:46:58.159  WARN 7816 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;boardController&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/controller/BoardController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemService&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mybatisItemRepository&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemMapper&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean &#39;sqlSessionTemplate&#39; while setting bean property &#39;sqlSessionTemplate&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n    2022-08-27 23:46:58.162  INFO 7816 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\r\n    2022-08-27 23:46:58.170  INFO 7816 --- [           main] ConditionEvaluationReportLoggingListener :\r\n    \r\n    Error starting ApplicationContext. To display the conditions report re-run your application with &#39;debug&#39; enabled.\r\n    2022-08-27 23:46:58.187 ERROR 7816 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;boardController&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/controller/BoardController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemService&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mybatisItemRepository&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemMapper&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean &#39;sqlSessionTemplate&#39; while setting bean property &#39;sqlSessionTemplate&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;itemService&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mybatisItemRepository&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemMapper&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean &#39;sqlSessionTemplate&#39; while setting bean property &#39;sqlSessionTemplate&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 27 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;mybatisItemRepository&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemMapper&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean &#39;sqlSessionTemplate&#39; while setting bean property &#39;sqlSessionTemplate&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip \r\n            ... 41 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;itemMapper&#39; defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean &#39;sqlSessionTemplate&#39; while setting bean property &#39;sqlSessionTemplate&#39;; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 55 common frames omitted\r\n    Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;sqlSessionTemplate&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;sqlSessionTemplate&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 69 common frames omitted\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sqlSessionFactory&#39; defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 79 common frames omitted\r\n    Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method &#39;sqlSessionFactory&#39; threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar!/:5.3.21]\r\n            at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar!/:5.3.21]\r\n            ... 93 common frames omitted\r\n    Caused by: org.springframework.core.NestedIOException: Failed to parse mapping resource: &#39;class path resource [mapper/forum/cartMapper.xml]&#39;; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip \r\n            ... 94 common frames omitted\r\n    Caused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is &#39;class path resource [mapper/forum/cartMapper.xml]&#39;. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 107 common frames omitted\r\n    Caused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 109 common frames omitted\r\n    Caused by: org.apache.ibatis.type.TypeException: Could not resolve type alias &#39;cart&#39;.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 113 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: Cannot find class: cart\r\n            ... skip\r\n            ... 115 common frames omitted\r\n\r\n\r\n\r\n\r\n(Edit)\r\n\r\nI checked the Mybatis log and found that sqlSessionFactoryBean was referring to the mapper xml file in another directory.\r\n\r\nI would like to have sqlSessionFactoryBean refer to the mapper.xml that I wrote. \r\n\r\nBut, I don&#39;t know how.\r\n\r\n\r\n\r\n\r\n1)application.properties setting\r\n\r\n(username and password were hidden for security purposes)\r\n[![enter image description here][1]][1]\r\n\r\n2)Mybatis Log\r\n[![enter image description here][2]][2]\r\n\r\n\r\n3) mapper.xml Location that I wrote\r\n\r\nsrc &gt; main &gt; resources &gt; mapper &gt; forum &gt; *.xml\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x5jnz.png\r\n  [2]: https://i.stack.imgur.com/cw7Le.png\r\n  [3]: https://i.stack.imgur.com/NAOwL.png","title":"Exeception while running spring jar application file","body":"<p>Question:</p>\n<p>If I run the jar file that I made with the spring application,That Shows an exception that a beans cannot be created. Ironically, it works fine in my local IntelliJ IDE. An exception occurs if I just run it in cmd.</p>\n<p>How can I solve this?</p>\n<p>-- Exception Log -- (after changed class name : cart)</p>\n<pre><code>2022-08-27 23:46:58.159  WARN 7816 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'boardController' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/controller/BoardController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemService' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mybatisItemRepository' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemMapper' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n2022-08-27 23:46:58.162  INFO 7816 --- [           main] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]\n2022-08-27 23:46:58.170  INFO 7816 --- [           main] ConditionEvaluationReportLoggingListener :\n\nError starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.\n2022-08-27 23:46:58.187 ERROR 7816 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'boardController' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/controller/BoardController.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemService' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mybatisItemRepository' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemMapper' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'itemService' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/service/ItemService.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mybatisItemRepository' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemMapper' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 27 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'mybatisItemRepository' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/MybatisItemRepository.class]: Unsatisfied dependency expressed through constructor parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemMapper' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip \n        ... 41 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'itemMapper' defined in URL [jar:file:/C:/BoardGameShop/board-1.0.0.jar!/BOOT-INF/classes!/forum/board/repository/mybatisMapper/ItemMapper.class]: Cannot resolve reference to bean 'sqlSessionTemplate' while setting bean property 'sqlSessionTemplate'; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 55 common frames omitted\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'sqlSessionTemplate' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Unsatisfied dependency expressed through method 'sqlSessionTemplate' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 69 common frames omitted\nCaused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [org/mybatis/spring/boot/autoconfigure/MybatisAutoConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 79 common frames omitted\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception; nested exception is org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185) ~[spring-beans-5.3.21.jar!/:5.3.21]\n        at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653) ~[spring-beans-5.3.21.jar!/:5.3.21]\n        ... 93 common frames omitted\nCaused by: org.springframework.core.NestedIOException: Failed to parse mapping resource: 'class path resource [mapper/forum/cartMapper.xml]'; nested exception is org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip \n        ... 94 common frames omitted\nCaused by: org.apache.ibatis.builder.BuilderException: Error parsing Mapper XML. The XML location is 'class path resource [mapper/forum/cartMapper.xml]'. Cause: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 107 common frames omitted\nCaused by: org.apache.ibatis.builder.BuilderException: Error resolving class. Cause: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 109 common frames omitted\nCaused by: org.apache.ibatis.type.TypeException: Could not resolve type alias 'cart'.  Cause: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 113 common frames omitted\nCaused by: java.lang.ClassNotFoundException: Cannot find class: cart\n        ... skip\n        ... 115 common frames omitted\n</code></pre>\n<p>(Edit)</p>\n<p>I checked the Mybatis log and found that sqlSessionFactoryBean was referring to the mapper xml file in another directory.</p>\n<p>I would like to have sqlSessionFactoryBean refer to the mapper.xml that I wrote.</p>\n<p>But, I don't know how.</p>\n<p>1)application.properties setting</p>\n<p>(username and password were hidden for security purposes)\n<a href=\"https://i.stack.imgur.com/x5jnz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x5jnz.png\" alt=\"enter image description here\" /></a></p>\n<p>2)Mybatis Log\n<a href=\"https://i.stack.imgur.com/cw7Le.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cw7Le.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"3\">\n<li>mapper.xml Location that I wrote</li>\n</ol>\n<p>src &gt; main &gt; resources &gt; mapper &gt; forum &gt; *.xml\n<a href=\"https://i.stack.imgur.com/NAOwL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NAOwL.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","google-cloud-bigtable"],"answers":[{"tags":[],"owner":{"account_id":4244507,"reputation":1608,"user_id":3473568,"accept_rate":70,"display_name":"Billy Jacobson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1654094560,"creation_date":1654094560,"answer_id":72463784,"question_id":72433694,"body_markdown":"It is possible to create a filter on a range of values, but it will depend on how you are encoding them. If they are encoded as strings, you would use the ValueRange filter like so:\r\n\r\n```\r\n  Filter filter = FILTERS.value().range().startClosed(&quot;10&quot;).endClosed(&quot;20&quot;);\r\n```\r\n\r\nThen perform your read with the filter \r\n\r\n```\r\n    try (BigtableDataClient dataClient = BigtableDataClient.create(projectId, instanceId)) {\r\n      Query query = Query.create(tableId).filter(filter);\r\n      ServerStream&lt;Row&gt; rows = dataClient.readRows(query);\r\n      for (Row row : rows) {\r\n        printRow(row);\r\n      }\r\n    } catch (IOException e) {\r\n      System.out.println(\r\n          &quot;Unable to initialize service client, as a network error occurred: \\n&quot; + e.toString());\r\n    }\r\n```\r\n\r\nYou can also pass bytes to the range, so if your numbers are encoded in some way, you could encode them as bytes in the same way and pass that into `startClosed` and `endClosed`.\r\n\r\nYou can read more about [filters in the Cloud Bigtable Documentation][1].\r\n\r\n\r\n  [1]: https://cloud.google.com/bigtable/docs/using-filters#value-range","title":"Google Big table Filter with Java","body":"<p>It is possible to create a filter on a range of values, but it will depend on how you are encoding them. If they are encoded as strings, you would use the ValueRange filter like so:</p>\n<pre><code>  Filter filter = FILTERS.value().range().startClosed(&quot;10&quot;).endClosed(&quot;20&quot;);\n</code></pre>\n<p>Then perform your read with the filter</p>\n<pre><code>    try (BigtableDataClient dataClient = BigtableDataClient.create(projectId, instanceId)) {\n      Query query = Query.create(tableId).filter(filter);\n      ServerStream&lt;Row&gt; rows = dataClient.readRows(query);\n      for (Row row : rows) {\n        printRow(row);\n      }\n    } catch (IOException e) {\n      System.out.println(\n          &quot;Unable to initialize service client, as a network error occurred: \\n&quot; + e.toString());\n    }\n</code></pre>\n<p>You can also pass bytes to the range, so if your numbers are encoded in some way, you could encode them as bytes in the same way and pass that into <code>startClosed</code> and <code>endClosed</code>.</p>\n<p>You can read more about <a href=\"https://cloud.google.com/bigtable/docs/using-filters#value-range\" rel=\"nofollow noreferrer\">filters in the Cloud Bigtable Documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":11649700,"reputation":42,"user_id":8531349,"display_name":"G. Potok"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661715623,"creation_date":1661715623,"answer_id":73521707,"question_id":72433694,"body_markdown":"You are trying to filter rows that contain min numerical *qualifier* that is &lt; x, as well as containing a max numerical *qualifier* that is &gt; x , and then maybe you are trying to filter data from those rows, that are between those qualifiers. \r\n\r\nThis is pretty much the opposite sort of access pattern that one tries to achieve when setting up a BigTable. This has a code smell. Having said that, you can succesfully achieve this sort of query, using a combination of filters. However, these filters cannot be chained together, as far as I can tell.\r\n\r\nFirst, use a filter to get keys with a cq &lt; x. Next, send a query to bigtable per each key from the first filter, and filter on key as well as filter such that cq &gt; x. This is an optimized way. An even more optimized way might be to limit the first filter to 1 element (i.e. get the min element), and only query without a limit on the lessThen portion, after the second step.\r\n\r\nMy implementation below is slightly more naive, in that the second step filters only on cq &gt; x, and not keys from the first step. But the gist is the same:\r\n\r\n\r\n```\r\n  val x = &quot;15&quot;\r\n        val a = new mutable.HashMap[ByteString, Row]\r\n        val b = new mutable.HashMap[ByteString, Row]\r\n        val c = new mutable.HashMap[ByteString, Row]\r\n        dataClient.readRows( Query.create(tableId)\r\n          .filter(Filters.FILTERS.qualifier().rangeWithinFamily(&quot;cf&quot;).startClosed(Int.MinValue.toString.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()).endOpen(x.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()\r\n          )))\r\n          .forEach(r =&gt; a.put(r.getKey, r))\r\n        dataClient.readRows(Query.create(tableId)\r\n          .filter(Filters.FILTERS.qualifier().rangeWithinFamily(&quot;cf&quot;).startOpen(x).endClosed(Int.MaxValue.toString.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()))\r\n          )\r\n          .forEach(r =&gt; b.put(r.getKey, r))\r\n        dataClient.readRows(Query.create(tableId)\r\n          .filter(Filters.FILTERS.qualifier().exactMatch(x)))\r\n          .forEach(r =&gt; c.put(r.getKey, r))\r\n        val all_cells = a.keys.toSet.intersect(b.keys.toSet).flatMap(k =&gt; a.get(k).map(_.getCells).get.toArray.toSeq ++ b.get(k).map(_.getCells).get.toArray.toSeq\r\n          ++ c.get(k).map(_.getCells).get.toArray.toSeq)\r\n```\r\n\r\nCan you tell me more about your use case?","title":"Google Big table Filter with Java","body":"<p>You are trying to filter rows that contain min numerical <em>qualifier</em> that is &lt; x, as well as containing a max numerical <em>qualifier</em> that is &gt; x , and then maybe you are trying to filter data from those rows, that are between those qualifiers.</p>\n<p>This is pretty much the opposite sort of access pattern that one tries to achieve when setting up a BigTable. This has a code smell. Having said that, you can succesfully achieve this sort of query, using a combination of filters. However, these filters cannot be chained together, as far as I can tell.</p>\n<p>First, use a filter to get keys with a cq &lt; x. Next, send a query to bigtable per each key from the first filter, and filter on key as well as filter such that cq &gt; x. This is an optimized way. An even more optimized way might be to limit the first filter to 1 element (i.e. get the min element), and only query without a limit on the lessThen portion, after the second step.</p>\n<p>My implementation below is slightly more naive, in that the second step filters only on cq &gt; x, and not keys from the first step. But the gist is the same:</p>\n<pre><code>  val x = &quot;15&quot;\n        val a = new mutable.HashMap[ByteString, Row]\n        val b = new mutable.HashMap[ByteString, Row]\n        val c = new mutable.HashMap[ByteString, Row]\n        dataClient.readRows( Query.create(tableId)\n          .filter(Filters.FILTERS.qualifier().rangeWithinFamily(&quot;cf&quot;).startClosed(Int.MinValue.toString.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()).endOpen(x.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()\n          )))\n          .forEach(r =&gt; a.put(r.getKey, r))\n        dataClient.readRows(Query.create(tableId)\n          .filter(Filters.FILTERS.qualifier().rangeWithinFamily(&quot;cf&quot;).startOpen(x).endClosed(Int.MaxValue.toString.padTo(Ints.max(Int.MinValue.toString.length, Int.MaxValue.toString.length), &quot;0&quot;).toString()))\n          )\n          .forEach(r =&gt; b.put(r.getKey, r))\n        dataClient.readRows(Query.create(tableId)\n          .filter(Filters.FILTERS.qualifier().exactMatch(x)))\n          .forEach(r =&gt; c.put(r.getKey, r))\n        val all_cells = a.keys.toSet.intersect(b.keys.toSet).flatMap(k =&gt; a.get(k).map(_.getCells).get.toArray.toSeq ++ b.get(k).map(_.getCells).get.toArray.toSeq\n          ++ c.get(k).map(_.getCells).get.toArray.toSeq)\n</code></pre>\n<p>Can you tell me more about your use case?</p>\n"}],"owner":{"account_id":18442655,"reputation":372,"user_id":13434872,"display_name":"Trong Van"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":522,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661715623,"creation_date":1653910520,"question_id":72433694,"body_markdown":"I want to filter all rows that match this condition: with input value `x`, return all records between two quantifier values in Java.\r\n\r\nExample: With input value `x = 15`,\r\n\r\na record with quantifier `q1 = 10` and `q2 = 20` will match,\r\na record  with quantifier `q1 = 1` and `q2 = 10` will not match","title":"Google Big table Filter with Java","body":"<p>I want to filter all rows that match this condition: with input value <code>x</code>, return all records between two quantifier values in Java.</p>\n<p>Example: With input value <code>x = 15</code>,</p>\n<p>a record with quantifier <code>q1 = 10</code> and <code>q2 = 20</code> will match,\na record  with quantifier <code>q1 = 1</code> and <code>q2 = 10</code> will not match</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":1,"creation_date":1661697367,"post_id":73519406,"comment_id":129828549,"body_markdown":"Look into prefix-sums :). There is also a post of this question here: https://stackoverflow.com/questions/19552754/java-codility-training-genomic-range-query","body":"Look into prefix-sums :). There is also a post of this question here: <a href=\"https://stackoverflow.com/questions/19552754/java-codility-training-genomic-range-query\" title=\"java codility training genomic range query\">stackoverflow.com/questions/19552754/&hellip;</a>"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1661713544,"post_id":73519406,"comment_id":129831939,"body_markdown":"Timeout Errors Put the full stack trace printout of the error from the error console into your post , it always helps in some way. Of time out are you doing that over a network or http?","body":"Timeout Errors Put the full stack trace printout of the error from the error console into your post , it always helps in some way. Of time out are you doing that over a network or http?"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1661714495,"post_id":73519406,"comment_id":129832163,"body_markdown":"On P and Q , how do you get numbers larger than 4 and also 0 zero. Are those site numbers representing sets of those assigned letters A C G T. ... and you want some type of precedence sorting rules. (possibly use java.text.RuleBasedCollator)","body":"On P and Q , how do you get numbers larger than 4 and also 0 zero. Are those site numbers representing sets of those assigned letters A C G T. ... and you want some type of precedence sorting rules. (possibly use java.text.RuleBasedCollator)"},{"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"score":0,"creation_date":1661716946,"post_id":73519406,"comment_id":129832615,"body_markdown":"@SamuelMarchant you don&#39;t have numbers larger than 4 or lower than 0, A C G and T represent 1,2,3,4 respectively. The numbers on P and Q mean the position on the original Array! P={0,0,1} and Q={0,1,1} means that in the String S, you will need to get position 0 and go to position 0, then 0 and go to 1 and finally 1 and go to 1!","body":"@SamuelMarchant you don&#39;t have numbers larger than 4 or lower than 0, A C G and T represent 1,2,3,4 respectively. The numbers on P and Q mean the position on the original Array! P={0,0,1} and Q={0,1,1} means that in the String S, you will need to get position 0 and go to position 0, then 0 and go to 1 and finally 1 and go to 1!"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1661848368,"post_id":73519406,"comment_id":129862822,"body_markdown":"Take a look where you wrote ...&quot;For example, consider string S = GACACCATA and arrays P, Q such that:&quot;... below are array examples that have 7 and 5 , also , that String GACACCATA is 9 long but taking a look in some pdf&#39;s on nucleotide tests that stands to be as i said a vastly long string and any one character read from a file associated its RandomAccessFile seek() index (hence 2 byte char test to check symbol ISO) to understand where it was grabbed from after test. What is the 7 and 5 ? 1234 either as index or 1234 as value of the found index , why 7 and 5 as a value in the example P and Q.","body":"Take a look where you wrote ...&quot;For example, consider string S = GACACCATA and arrays P, Q such that:&quot;... below are array examples that have 7 and 5 , also , that String GACACCATA is 9 long but taking a look in some pdf&#39;s on nucleotide tests that stands to be as i said a vastly long string and any one character read from a file associated its RandomAccessFile seek() index (hence 2 byte char test to check symbol ISO) to understand where it was grabbed from after test. What is the 7 and 5 ? 1234 either as index or 1234 as value of the found index , why 7 and 5 as a value in the example P and Q."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1661851364,"post_id":73519406,"comment_id":129863956,"body_markdown":"And if you want to get between reading a section from file, to operating on the info with test, then save results, then move along, you can use threads rather than simply separate methods to clearly separate long periods of activity, replace method activity with threads. java.util.concurrent.ThreadFactory , java.util.concurrent.ThreadPoolExecutor , java.util.concurrent.Executors , take a look at the constructors and static methods to create pools and assign cores. Set of jobs threadpool , set of activities in each job inside job class subset of threads","body":"And if you want to get between reading a section from file, to operating on the info with test, then save results, then move along, you can use threads rather than simply separate methods to clearly separate long periods of activity, replace method activity with threads. java.util.concurrent.ThreadFactory , java.util.concurrent.ThreadPoolExecutor , java.util.concurrent.Executors , take a look at the constructors and static methods to create pools and assign cores. Set of jobs threadpool , set of activities in each job inside job class subset of threads"}],"answers":[{"tags":[],"owner":{"account_id":8414320,"reputation":4785,"user_id":6315242,"display_name":"Per Huss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661697543,"creation_date":1661697543,"answer_id":73519618,"question_id":73519406,"body_markdown":"One simple optimization would be to short-circuit the innermost loop when you have found the value 1 (as you will not be able to find a lower value):\r\n\r\n    for(int j = pValue; j &lt;= qValue; j++){\r\n       if(stringToIntegers[j] &lt; minimalImpact){\r\n          minimalImpact = stringToIntegers[j];\r\n          if(minimalImpact == 1)\r\n             return 1;\r\n       }\r\n    }\r\n    return minimalImpact;\r\n","title":"Take into consideration Long Arrays/Strings","body":"<p>One simple optimization would be to short-circuit the innermost loop when you have found the value 1 (as you will not be able to find a lower value):</p>\n<pre><code>for(int j = pValue; j &lt;= qValue; j++){\n   if(stringToIntegers[j] &lt; minimalImpact){\n      minimalImpact = stringToIntegers[j];\n      if(minimalImpact == 1)\n         return 1;\n   }\n}\nreturn minimalImpact;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661715078,"creation_date":1661701159,"answer_id":73520041,"question_id":73519406,"body_markdown":"**HMMMMMMMM OH WOW MAN ... WOW ... a timeout you say ... WOW ....**\r\nDid someone mention **D**eoxy **R**ibo **N**ucleic Acid?\r\n i think the problem you have is more you may be using a large PC not a **&quot;Super Cradle&quot;**\r\n**!!!!!!!!!!!!!!!!!!!!!**\r\n\r\nDo not use String/arrays unless there may be ISO character set *problems, then those should be char[] arrays*.\r\nGet the String data to match and chew through it reading it from a file into a temporary handlable String[] array looping over it, such as a java.io.RandomAccessFile \r\ncom.nicephotog.tools.discfileifc Interface FileUnitisedByteRead may be useful\r\nhttps://drive.google.com/file/d/1IBbsBY9zWewKaq7hYnTzdI4M1XcVWELS/view?usp=sharing\r\n*note randomacessfile can have its file length extended or created at size required.\r\n\r\nFirst, setup your java program command line for \r\nhttps://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\r\n\r\n**-Xss1024k** (1mb is maximum under Linux or Win X64) this is your maximum **stack size memory reserved**, it is the most important because it will allow the variables and methods to shift the values and operations around in the registers.\r\n\r\nThen the others used usually in the startup java command\r\nhttps://docs.oracle.com/cd/E15289_01/JRPTG/memman.htm\r\n\r\n-Xms\r\n\r\n-Xmx\r\n\r\n-XX:ErrorFile=filename\r\n\r\nYou cannot do that with a string that long, chew along it in pieces.\r\nA regex would have the same memory problem.\r\nYou should also asses whether your data contains &quot;2 byte&quot; characters to match in the charset data that may need searching the extracted array section first before to find them and the array end last element whether it is suspected part of a 2 byte character.\r\nThis last scenario has array length and file read skip over single element problems to custom write into the code.\r\n\r\nCheck your loop rules of the conditions terminate properly. Precedence sorting can be expensive and unefficient at shuffling them into order too https://www.scribd.com/doc/44569594/avg-pdf.","title":"Take into consideration Long Arrays/Strings","body":"<p><strong>HMMMMMMMM OH WOW MAN ... WOW ... a timeout you say ... WOW ....</strong>\nDid someone mention <strong>D</strong>eoxy <strong>R</strong>ibo <strong>N</strong>ucleic Acid?\ni think the problem you have is more you may be using a large PC not a <strong>&quot;Super Cradle&quot;</strong>\n<strong>!!!!!!!!!!!!!!!!!!!!!</strong></p>\n<p>Do not use String/arrays unless there may be ISO character set <em>problems, then those should be char[] arrays</em>.\nGet the String data to match and chew through it reading it from a file into a temporary handlable String[] array looping over it, such as a java.io.RandomAccessFile\ncom.nicephotog.tools.discfileifc Interface FileUnitisedByteRead may be useful\n<a href=\"https://drive.google.com/file/d/1IBbsBY9zWewKaq7hYnTzdI4M1XcVWELS/view?usp=sharing\" rel=\"nofollow noreferrer\">https://drive.google.com/file/d/1IBbsBY9zWewKaq7hYnTzdI4M1XcVWELS/view?usp=sharing</a>\n*note randomacessfile can have its file length extended or created at size required.</p>\n<p>First, setup your java program command line for\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/tools/unix/java.html</a></p>\n<p><strong>-Xss1024k</strong> (1mb is maximum under Linux or Win X64) this is your maximum <strong>stack size memory reserved</strong>, it is the most important because it will allow the variables and methods to shift the values and operations around in the registers.</p>\n<p>Then the others used usually in the startup java command\n<a href=\"https://docs.oracle.com/cd/E15289_01/JRPTG/memman.htm\" rel=\"nofollow noreferrer\">https://docs.oracle.com/cd/E15289_01/JRPTG/memman.htm</a></p>\n<p>-Xms</p>\n<p>-Xmx</p>\n<p>-XX:ErrorFile=filename</p>\n<p>You cannot do that with a string that long, chew along it in pieces.\nA regex would have the same memory problem.\nYou should also asses whether your data contains &quot;2 byte&quot; characters to match in the charset data that may need searching the extracted array section first before to find them and the array end last element whether it is suspected part of a 2 byte character.\nThis last scenario has array length and file read skip over single element problems to custom write into the code.</p>\n<p>Check your loop rules of the conditions terminate properly. Precedence sorting can be expensive and unefficient at shuffling them into order too <a href=\"https://www.scribd.com/doc/44569594/avg-pdf\" rel=\"nofollow noreferrer\">https://www.scribd.com/doc/44569594/avg-pdf</a>.</p>\n"}],"owner":{"account_id":17278892,"reputation":89,"user_id":12512936,"display_name":"Box"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":430,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661715078,"creation_date":1661695970,"question_id":73519406,"body_markdown":"I&#39;ve been trying the challenges/Exercises of codility and I&#39;ve come across a problem. When it tests Large Arrays/Strings my code always results in Timeout Errors. An example of this would be the following challenge: \r\n*&quot;GenomicRangeQuery&quot;*\r\n\r\nA non-empty zero-indexed string S is given. String S consists of N characters from the set of upper-case English letters A, C, G, T.\r\n\r\nThis string actually represents a DNA sequence, and the upper-case letters represent single nucleotides.\r\n\r\nYou are also given non-empty zero-indexed arrays P and Q consisting of M integers. These arrays represent queries about minimal nucleotides. We represent the letters of string S as integers 1, 2, 3, 4 in arrays P and Q, where A = 1, C = 2, G = 3, T = 4, and we assume that A &lt; C &lt; G &lt; T.\r\n\r\nQuery K requires you to find the minimal nucleotide from the range (P[K], Q[K]), 0 ≤ P[i] ≤ Q[i] &lt; N.\r\n\r\nFor example, consider string S = GACACCATA and arrays P, Q such that:\r\n\r\n    P[0] = 0    Q[0] = 8\r\n    P[1] = 0    Q[1] = 2\r\n    P[2] = 4    Q[2] = 5\r\n    P[3] = 7    Q[3] = 7\r\n\r\nThe minimal nucleotides from these ranges are as follows:\r\n\r\n    (0, 8) is A identified by 1,\r\n    (0, 2) is A identified by 1,\r\n    (4, 5) is C identified by 2,\r\n    (7, 7) is T identified by 4.\r\nWrite a function:\r\n\r\n    class Solution { public int[] solution(String S, int[] P, int[] Q); } \r\n\r\nthat, given a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting of M integers, returns an array consisting of M characters specifying the consecutive answers to all queries.\r\n\r\nFor example, given the string S = GACACCATA and arrays P, Q such that:\r\n\r\n    P[0] = 0    Q[0] = 8\r\n    P[1] = 0    Q[1] = 2\r\n    P[2] = 4    Q[2] = 5\r\n    P[3] = 7    Q[3] = 7\r\n\r\nthe function should return the values [1, 1, 2, 4], as explained above.\r\n\r\nAssume that:\r\n\r\n    N is an integer within the range [1..100,000];\r\n    M is an integer within the range [1..50,000];\r\n    each element of array P, Q is an integer within the range [0..N − 1];\r\n    P[i] ≤ Q[i];\r\n    string S consists only of upper-case English letters A, C, G, T.\r\n\r\nBelow is the code I&#39;ve come up with but unfortunately always gives me the Timeout Error when going against Large Arrays/Strings.\r\nIf you have suggestions on how to improve or wipe out that error please don&#39;t hesitate! I&#39;m always trying to think outside of the box and come up with solutions of my own but that error has been plaguing me for a while.\r\n\r\n\r\n    \r\n    import java.util.Arrays;\r\n    \r\n    class Solution {\r\n        public int[] solution(String S, int[] P, int[] Q) {\r\n            // A impact = 1; C=2, G=3; T=4\r\n            // S not empty\r\n            // minimal impact\r\n            String[] split;\r\n            int[] stringToIntegers = new int[S.length()];\r\n            int[] solution = new int[P.length];\r\n    \r\n            if(S.isEmpty()) return solution;\r\n            if(P.length != Q.length) return solution;\r\n            split = S.split(&quot;&quot;);\r\n    \r\n            for(int k=0;k&lt;split.length;k++){\r\n                switch(split[k]){\r\n                    case &quot;A&quot;:\r\n                        stringToIntegers[k] = 1;\r\n                        break;\r\n                    case &quot;C&quot;:\r\n                        stringToIntegers[k] = 2;\r\n                         break;\r\n                    case &quot;G&quot;:\r\n                        stringToIntegers[k] = 3;\r\n                        break;\r\n                    case &quot;T&quot;:\r\n                        stringToIntegers[k] = 4;\r\n                        break;\r\n                }\r\n            }\r\n            for(int i =0; i&lt;solution.length;i++){\r\n                    solution[i] = LowestValue(stringToIntegers, P[i], Q[i]);\r\n            }\r\n            return solution;\r\n        }\r\n    \r\n        public int LowestValue(int[] stringToIntegers, int pValue, int qValue){\r\n            int minimalImpact = 4;\r\n            for(int j = pValue; j &lt;= qValue; j++){\r\n                if(stringToIntegers[j] &lt; minimalImpact){\r\n                    minimalImpact = stringToIntegers[j];\r\n                }\r\n            }\r\n            return minimalImpact;\r\n        }\r\n    }","title":"Take into consideration Long Arrays/Strings","body":"<p>I've been trying the challenges/Exercises of codility and I've come across a problem. When it tests Large Arrays/Strings my code always results in Timeout Errors. An example of this would be the following challenge:\n<em>&quot;GenomicRangeQuery&quot;</em></p>\n<p>A non-empty zero-indexed string S is given. String S consists of N characters from the set of upper-case English letters A, C, G, T.</p>\n<p>This string actually represents a DNA sequence, and the upper-case letters represent single nucleotides.</p>\n<p>You are also given non-empty zero-indexed arrays P and Q consisting of M integers. These arrays represent queries about minimal nucleotides. We represent the letters of string S as integers 1, 2, 3, 4 in arrays P and Q, where A = 1, C = 2, G = 3, T = 4, and we assume that A &lt; C &lt; G &lt; T.</p>\n<p>Query K requires you to find the minimal nucleotide from the range (P[K], Q[K]), 0 ≤ P[i] ≤ Q[i] &lt; N.</p>\n<p>For example, consider string S = GACACCATA and arrays P, Q such that:</p>\n<pre><code>P[0] = 0    Q[0] = 8\nP[1] = 0    Q[1] = 2\nP[2] = 4    Q[2] = 5\nP[3] = 7    Q[3] = 7\n</code></pre>\n<p>The minimal nucleotides from these ranges are as follows:</p>\n<pre><code>(0, 8) is A identified by 1,\n(0, 2) is A identified by 1,\n(4, 5) is C identified by 2,\n(7, 7) is T identified by 4.\n</code></pre>\n<p>Write a function:</p>\n<pre><code>class Solution { public int[] solution(String S, int[] P, int[] Q); } \n</code></pre>\n<p>that, given a non-empty zero-indexed string S consisting of N characters and two non-empty zero-indexed arrays P and Q consisting of M integers, returns an array consisting of M characters specifying the consecutive answers to all queries.</p>\n<p>For example, given the string S = GACACCATA and arrays P, Q such that:</p>\n<pre><code>P[0] = 0    Q[0] = 8\nP[1] = 0    Q[1] = 2\nP[2] = 4    Q[2] = 5\nP[3] = 7    Q[3] = 7\n</code></pre>\n<p>the function should return the values [1, 1, 2, 4], as explained above.</p>\n<p>Assume that:</p>\n<pre><code>N is an integer within the range [1..100,000];\nM is an integer within the range [1..50,000];\neach element of array P, Q is an integer within the range [0..N − 1];\nP[i] ≤ Q[i];\nstring S consists only of upper-case English letters A, C, G, T.\n</code></pre>\n<p>Below is the code I've come up with but unfortunately always gives me the Timeout Error when going against Large Arrays/Strings.\nIf you have suggestions on how to improve or wipe out that error please don't hesitate! I'm always trying to think outside of the box and come up with solutions of my own but that error has been plaguing me for a while.</p>\n<pre><code>import java.util.Arrays;\n\nclass Solution {\n    public int[] solution(String S, int[] P, int[] Q) {\n        // A impact = 1; C=2, G=3; T=4\n        // S not empty\n        // minimal impact\n        String[] split;\n        int[] stringToIntegers = new int[S.length()];\n        int[] solution = new int[P.length];\n\n        if(S.isEmpty()) return solution;\n        if(P.length != Q.length) return solution;\n        split = S.split(&quot;&quot;);\n\n        for(int k=0;k&lt;split.length;k++){\n            switch(split[k]){\n                case &quot;A&quot;:\n                    stringToIntegers[k] = 1;\n                    break;\n                case &quot;C&quot;:\n                    stringToIntegers[k] = 2;\n                     break;\n                case &quot;G&quot;:\n                    stringToIntegers[k] = 3;\n                    break;\n                case &quot;T&quot;:\n                    stringToIntegers[k] = 4;\n                    break;\n            }\n        }\n        for(int i =0; i&lt;solution.length;i++){\n                solution[i] = LowestValue(stringToIntegers, P[i], Q[i]);\n        }\n        return solution;\n    }\n\n    public int LowestValue(int[] stringToIntegers, int pValue, int qValue){\n        int minimalImpact = 4;\n        for(int j = pValue; j &lt;= qValue; j++){\n            if(stringToIntegers[j] &lt; minimalImpact){\n                minimalImpact = stringToIntegers[j];\n            }\n        }\n        return minimalImpact;\n    }\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","ide","java-11"],"owner":{"account_id":25819076,"reputation":1,"user_id":19558542,"display_name":"Bots"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1066,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661714688,"creation_date":1657912278,"question_id":72998654,"body_markdown":"I am trying to do the MOOC.Fi course to learn how Java (new to programming).\r\n\r\nI went through the tutorial, https://www.mooc.fi/en/installation/netbeans/#javan-asentaminen.\r\n\r\nFor Mac, for installing the JDK, I first went to https://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot, I chose &quot;OpenJDK 11 (LTS)&quot; and &quot;Hot Spot&quot;. I clicked the button to &quot;Adoptium has moved to - adoptium.net&quot; and downloaded the &quot;jdk-11.0.15+10 Temurin AQAvit logo April 26, 2022 - MacOS - x64 - JDK -186 MB .pkg&quot;.\r\nI then downloaded the TMCBeans from this link in the tutorial, &quot;https://download.mooc.fi/tmcbeans/installers/tmcbeans_1.4.0_installer.dmg&quot;.\r\n\r\nI dragged the file icon to the application folder and then after it finished downloading to the application folder, I ejected &quot;tmcbeans&quot;, per the instructions.\r\n\r\nAfter clicking on &quot;tmcbeans&quot; application in the applications folder, I got an error saying that it won&#39;t open from an unidentified developer, so I allowed it to open by going to Settings&gt;Security and Privacy&gt;Allowing &quot;tmcbeans&quot; top open on the general page.\r\n\r\nFinally, when I launch the Netbeans app again, tmcbeans, the following error message pops up:\r\n\r\n\r\n&gt; The JDK is missing and is required to run some NetBeans modules. Please\r\n&gt; use the --jdkhome command line option to specify a JDKinstallation or\r\n&gt; see http://wiki.netbeans.org/FaqRunningOnJreformore information.\r\n\r\n\r\nUsing this tutorial, https://www.youtube.com/watch?v=9ysgBcbSfhg to fix the issue, I went into applications&gt;right click on tmcbeans&gt;click on &quot;show package contents&quot;&gt;open &quot;contents&quot; folder&gt;open &quot;resources&quot; folder&gt;open &quot;tmcbeans&quot; folder&gt;open &quot;etc&quot; folder&gt;open &quot;tmcbeans.conf&quot; with Textedit application&gt; changed bottom to:\r\n#jdkhome=&quot;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home&quot;\r\n\r\nHit Save in Textedit &gt; Closed TextEdit &gt; Restarted TMCBeans\r\nI get the same error. What am I doing wrong? What alternatives can I use to TMCBeans that has a JDK incorporated into it, so I can get through the course (i.e. could I use Intellij)? I am a complete novice in anything programming and am just trying to make it past the installation step.","title":"How do I fix this error to take the MOOC.Fi Java Course?","body":"<p>I am trying to do the MOOC.Fi course to learn how Java (new to programming).</p>\n<p>I went through the tutorial, <a href=\"https://www.mooc.fi/en/installation/netbeans/#javan-asentaminen\" rel=\"nofollow noreferrer\">https://www.mooc.fi/en/installation/netbeans/#javan-asentaminen</a>.</p>\n<p>For Mac, for installing the JDK, I first went to <a href=\"https://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/?variant=openjdk11&amp;jvmVariant=hotspot</a>, I chose &quot;OpenJDK 11 (LTS)&quot; and &quot;Hot Spot&quot;. I clicked the button to &quot;Adoptium has moved to - adoptium.net&quot; and downloaded the &quot;jdk-11.0.15+10 Temurin AQAvit logo April 26, 2022 - MacOS - x64 - JDK -186 MB .pkg&quot;.\nI then downloaded the TMCBeans from this link in the tutorial, &quot;https://download.mooc.fi/tmcbeans/installers/tmcbeans_1.4.0_installer.dmg&quot;.</p>\n<p>I dragged the file icon to the application folder and then after it finished downloading to the application folder, I ejected &quot;tmcbeans&quot;, per the instructions.</p>\n<p>After clicking on &quot;tmcbeans&quot; application in the applications folder, I got an error saying that it won't open from an unidentified developer, so I allowed it to open by going to Settings&gt;Security and Privacy&gt;Allowing &quot;tmcbeans&quot; top open on the general page.</p>\n<p>Finally, when I launch the Netbeans app again, tmcbeans, the following error message pops up:</p>\n<blockquote>\n<p>The JDK is missing and is required to run some NetBeans modules. Please\nuse the --jdkhome command line option to specify a JDKinstallation or\nsee <a href=\"http://wiki.netbeans.org/FaqRunningOnJreformore\" rel=\"nofollow noreferrer\">http://wiki.netbeans.org/FaqRunningOnJreformore</a> information.</p>\n</blockquote>\n<p>Using this tutorial, <a href=\"https://www.youtube.com/watch?v=9ysgBcbSfhg\" rel=\"nofollow noreferrer\">https://www.youtube.com/watch?v=9ysgBcbSfhg</a> to fix the issue, I went into applications&gt;right click on tmcbeans&gt;click on &quot;show package contents&quot;&gt;open &quot;contents&quot; folder&gt;open &quot;resources&quot; folder&gt;open &quot;tmcbeans&quot; folder&gt;open &quot;etc&quot; folder&gt;open &quot;tmcbeans.conf&quot; with Textedit application&gt; changed bottom to:\n#jdkhome=&quot;/Library/Java/JavaVirtualMachines/temurin-11.jdk/Contents/Home&quot;</p>\n<p>Hit Save in Textedit &gt; Closed TextEdit &gt; Restarted TMCBeans\nI get the same error. What am I doing wrong? What alternatives can I use to TMCBeans that has a JDK incorporated into it, so I can get through the course (i.e. could I use Intellij)? I am a complete novice in anything programming and am just trying to make it past the installation step.</p>\n"},{"tags":["java","spring-boot","hibernate","hibernate-validator"],"answers":[{"tags":[],"owner":{"account_id":25690087,"reputation":1360,"user_id":19451633,"display_name":"Andrei Titov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661714250,"creation_date":1661714250,"answer_id":73521531,"question_id":73520639,"body_markdown":"Hibernate provides the validation implementation and it is used by Spring.\r\n\r\nI may be oversimplifying, but as I understand Spring configures Hibernate&#39;s `ValidationFactory` implementation ([`ValidationFactoryImpl`][1]) with `Validator` and `ExecutableValidator` implementation ([`ValidatorImpl`][2]) for Spring&#39;s application context usage, exposes it for other Spring components and convert validation results into `BindingResult`.\r\n\r\nAt the same time, Hibernate&#39;s `ValidatorImpl` uses validation context, in which `ConstraintValidator`s are registered as a map with different annotations from package `javax.validation.constraints` as keys, along with Hibernate&#39;s own constraints, such as `@URL` and `@ISBN`. This map can be found in the [`ConstraintHelper`][3] class.  \r\n\r\nFor example, you can find [`PatternValidator`][4] registered there for validating values annotated with `@Pattern`.\r\n\r\nThen we have the next Hibernate validation flow (again - simplified):\r\n1) `ValidatorImpl` tries to validate something and creates `MetaConstraint`s (helper class with all information needed for validation);\r\n2) `MetaConstraint` creates `ConstraintTree` for multiple constraints check;\r\n3) `ConstraintTree` calls `ConstraintValidatorManager` and its `getInitializedValidator` method, which returns needed `ConstraintValidator` for a specific annotation from a map, mentioned before.\r\n\r\nSo the validation framework, used by Spring, already knows which `ConstraintValidator` instances to use for specific validation annotations.\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/engine/ValidatorFactoryImpl.java\r\n  [2]: https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/engine/ValidatorImpl.java\r\n  [3]: https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/metadata/core/ConstraintHelper.java\r\n  [4]: https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/PatternValidator.java","title":"How are hibernate Validators integrated into spring boot starter project","body":"<p>Hibernate provides the validation implementation and it is used by Spring.</p>\n<p>I may be oversimplifying, but as I understand Spring configures Hibernate's <code>ValidationFactory</code> implementation (<a href=\"https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/engine/ValidatorFactoryImpl.java\" rel=\"nofollow noreferrer\"><code>ValidationFactoryImpl</code></a>) with <code>Validator</code> and <code>ExecutableValidator</code> implementation (<a href=\"https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/engine/ValidatorImpl.java\" rel=\"nofollow noreferrer\"><code>ValidatorImpl</code></a>) for Spring's application context usage, exposes it for other Spring components and convert validation results into <code>BindingResult</code>.</p>\n<p>At the same time, Hibernate's <code>ValidatorImpl</code> uses validation context, in which <code>ConstraintValidator</code>s are registered as a map with different annotations from package <code>javax.validation.constraints</code> as keys, along with Hibernate's own constraints, such as <code>@URL</code> and <code>@ISBN</code>. This map can be found in the <a href=\"https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/metadata/core/ConstraintHelper.java\" rel=\"nofollow noreferrer\"><code>ConstraintHelper</code></a> class.</p>\n<p>For example, you can find <a href=\"https://github.com/hibernate/hibernate-validator/blob/main/engine/src/main/java/org/hibernate/validator/internal/constraintvalidators/bv/PatternValidator.java\" rel=\"nofollow noreferrer\"><code>PatternValidator</code></a> registered there for validating values annotated with <code>@Pattern</code>.</p>\n<p>Then we have the next Hibernate validation flow (again - simplified):</p>\n<ol>\n<li><code>ValidatorImpl</code> tries to validate something and creates <code>MetaConstraint</code>s (helper class with all information needed for validation);</li>\n<li><code>MetaConstraint</code> creates <code>ConstraintTree</code> for multiple constraints check;</li>\n<li><code>ConstraintTree</code> calls <code>ConstraintValidatorManager</code> and its <code>getInitializedValidator</code> method, which returns needed <code>ConstraintValidator</code> for a specific annotation from a map, mentioned before.</li>\n</ol>\n<p>So the validation framework, used by Spring, already knows which <code>ConstraintValidator</code> instances to use for specific validation annotations.</p>\n"}],"owner":{"account_id":340612,"reputation":839,"user_id":670731,"accept_rate":46,"display_name":"Veeraraghavan N"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":321,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73521531,"answer_count":1,"score":1,"last_activity_date":1661714250,"creation_date":1661706547,"question_id":73520639,"body_markdown":"I often use constraints on fields in spring . The constraint are standard or custom \r\n\r\n    public  abstract class OrganizationEntity {\r\n    @Length(min = 1 , max = 256, message = &quot;Organization name max length is 256 and min length is 1&quot;)\r\n    @NotNull(message = &quot;Organization name should not be empty&quot;)\r\n    @Pattern(regexp = &quot;^[a-zA-Z0-9][-a-zA-Z0-9]+[a-zA-Z0-9]$&quot;,message = &quot;Organization name can contain Alphanumeric character and Hyphen in the middle&quot;)\r\n    public abstract String getName();\r\n    }\r\nOn navigating to Length or Pattern annotation I see the definition of annotation\r\norg.hibernate.validator.constraints\r\n\r\n        @Documented\r\n    @Constraint(\r\n        validatedBy = {}\r\n    )\r\n    @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @Repeatable(List.class)\r\n    public @interface Length {\r\n        int min() default 0;\r\n    \r\n        int max() default Integer.MAX_VALUE;\r\n    \r\n        String message() default &quot;{org.hibernate.validator.constraints.Length.message}&quot;;\r\n    \r\n        Class&lt;?&gt;[] groups() default {};\r\n    \r\n        Class&lt;? extends Payload&gt;[] payload() default {};\r\n    \r\n        @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\r\n        @Retention(RetentionPolicy.RUNTIME)\r\n        @Documented\r\n        public @interface List {\r\n            Length[] value();\r\n        }\r\n        }\r\n\r\nI see validatedBy is left empty which implies there is somebody mechanism/library which has implementation for these checks. Which library provides these implementation? How does spring manage this validation flow.","title":"How are hibernate Validators integrated into spring boot starter project","body":"<p>I often use constraints on fields in spring . The constraint are standard or custom</p>\n<pre><code>public  abstract class OrganizationEntity {\n@Length(min = 1 , max = 256, message = &quot;Organization name max length is 256 and min length is 1&quot;)\n@NotNull(message = &quot;Organization name should not be empty&quot;)\n@Pattern(regexp = &quot;^[a-zA-Z0-9][-a-zA-Z0-9]+[a-zA-Z0-9]$&quot;,message = &quot;Organization name can contain Alphanumeric character and Hyphen in the middle&quot;)\npublic abstract String getName();\n}\n</code></pre>\n<p>On navigating to Length or Pattern annotation I see the definition of annotation\norg.hibernate.validator.constraints</p>\n<pre><code>    @Documented\n@Constraint(\n    validatedBy = {}\n)\n@Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\n@Retention(RetentionPolicy.RUNTIME)\n@Repeatable(List.class)\npublic @interface Length {\n    int min() default 0;\n\n    int max() default Integer.MAX_VALUE;\n\n    String message() default &quot;{org.hibernate.validator.constraints.Length.message}&quot;;\n\n    Class&lt;?&gt;[] groups() default {};\n\n    Class&lt;? extends Payload&gt;[] payload() default {};\n\n    @Target({ElementType.METHOD, ElementType.FIELD, ElementType.ANNOTATION_TYPE, ElementType.CONSTRUCTOR, ElementType.PARAMETER, ElementType.TYPE_USE})\n    @Retention(RetentionPolicy.RUNTIME)\n    @Documented\n    public @interface List {\n        Length[] value();\n    }\n    }\n</code></pre>\n<p>I see validatedBy is left empty which implies there is somebody mechanism/library which has implementation for these checks. Which library provides these implementation? How does spring manage this validation flow.</p>\n"},{"tags":["java","camunda"],"comments":[{"owner":{"account_id":6570695,"reputation":66,"user_id":5078826,"display_name":"rodrobin"},"score":0,"creation_date":1661538306,"post_id":73457770,"comment_id":129804370,"body_markdown":"It would be very helpful to know the “why” for the question as this frequently leads to better answers. Is it to appease a firewall rule only allowing traffic out on port 80 or something else entirely? I do have a possibly solution but it is fairly involved so hopefully the “why” could lead in a better direction","body":"It would be very helpful to know the “why” for the question as this frequently leads to better answers. Is it to appease a firewall rule only allowing traffic out on port 80 or something else entirely? I do have a possibly solution but it is fairly involved so hopefully the “why” could lead in a better direction"},{"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"score":0,"creation_date":1661917644,"post_id":73457770,"comment_id":129883137,"body_markdown":"Which Camunda version?","body":"Which Camunda version?"}],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661661117,"creation_date":1661661117,"answer_id":73516012,"question_id":73457770,"body_markdown":"Why is it a random port? Under the hood the ExternalTaskClient uses the REST-API. The baseURL you are providing in its configuration is the URL of the engine REST-API. It runs on one specific port. In your case on the default port 8080. You can change the server.port if you want the API to run on a different port.\r\n","title":"How to bind a Camunda ExternalTaskClient to a local port?","body":"<p>Why is it a random port? Under the hood the ExternalTaskClient uses the REST-API. The baseURL you are providing in its configuration is the URL of the engine REST-API. It runs on one specific port. In your case on the default port 8080. You can change the server.port if you want the API to run on a different port.</p>\n"},{"tags":[],"owner":{"account_id":6570695,"reputation":66,"user_id":5078826,"display_name":"rodrobin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661713454,"creation_date":1661713454,"answer_id":73521447,"question_id":73457770,"body_markdown":"If it really is necessary to specify a specific source (client) port then these are the steps:\r\n\r\n 1. Implement a custom socket factory that implements ConnectionSocketFactory and returns a socket with your preferred local port - Camunda uses Apache HttpClient internally\r\n 2. Register that factory with a scheme through the connection manager and schema registry - `httpClient.getConnectionManager().getSchemeRegistry().register(new Scheme(&lt;scheme&gt;, &lt;outgoing port&gt;, &lt;your factory&gt;));`\r\n 3. Hope that Camunda uses the HttpClient library as intended and no unpleasant side-effects pop up\r\n\r\nIn addition to the above you also need to think about handling an SSL context (in the custom factory) if the connection needs to be HTTPS. Also remember that using any port below 1024 means the user running the client needs special permissions.","title":"How to bind a Camunda ExternalTaskClient to a local port?","body":"<p>If it really is necessary to specify a specific source (client) port then these are the steps:</p>\n<ol>\n<li>Implement a custom socket factory that implements ConnectionSocketFactory and returns a socket with your preferred local port - Camunda uses Apache HttpClient internally</li>\n<li>Register that factory with a scheme through the connection manager and schema registry - <code>httpClient.getConnectionManager().getSchemeRegistry().register(new Scheme(&lt;scheme&gt;, &lt;outgoing port&gt;, &lt;your factory&gt;));</code></li>\n<li>Hope that Camunda uses the HttpClient library as intended and no unpleasant side-effects pop up</li>\n</ol>\n<p>In addition to the above you also need to think about handling an SSL context (in the custom factory) if the connection needs to be HTTPS. Also remember that using any port below 1024 means the user running the client needs special permissions.</p>\n"}],"owner":{"account_id":26138507,"reputation":31,"user_id":19828220,"display_name":"asdqwessdfxcv"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":184,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661713454,"creation_date":1661253485,"question_id":73457770,"body_markdown":"I am working with Camunda&#39;s `ExternalTaskClient` Java client. I am able to subscribe to a topic successfully, but this uses a random port on the host machine to communicate with Camunda.\r\n\r\nHow can I tell the `ExternalTaskClient` to use a custom outgoing port? Here is my client so far:\r\n\r\n    ExternalTaskClient client = ExternalTaskClient.create().baseUrl(&quot;http://1.2.3.4:8080/engine-rest&quot;).build();\r\n\r\n    client.subscribe(&quot;my-topic&quot;).handler(new MyHandler()).open();\r\n\r\nThanks!","title":"How to bind a Camunda ExternalTaskClient to a local port?","body":"<p>I am working with Camunda's <code>ExternalTaskClient</code> Java client. I am able to subscribe to a topic successfully, but this uses a random port on the host machine to communicate with Camunda.</p>\n<p>How can I tell the <code>ExternalTaskClient</code> to use a custom outgoing port? Here is my client so far:</p>\n<pre><code>ExternalTaskClient client = ExternalTaskClient.create().baseUrl(&quot;http://1.2.3.4:8080/engine-rest&quot;).build();\n\nclient.subscribe(&quot;my-topic&quot;).handler(new MyHandler()).open();\n</code></pre>\n<p>Thanks!</p>\n"},{"tags":["java","multidimensional-array"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661095258,"creation_date":1661095258,"answer_id":73435734,"question_id":73435638,"body_markdown":"You&#39;re getting `ArrayIndexOutOfBounds` because array `copyArray` has greater length than your source array `myArray`.\r\n\r\nTherefore, when index `i` exceeded the length of the source array, this line would cause an exception:\r\n\r\n```\r\ncopyArray[i] = new int[myArray[i].length];\r\n```\r\nBecause there would be no nested array referred by `myArray[i]`.","title":"How to copy values from a 2d array to a new and bigger one in Java?","body":"<p>You're getting <code>ArrayIndexOutOfBounds</code> because array <code>copyArray</code> has greater length than your source array <code>myArray</code>.</p>\n<p>Therefore, when index <code>i</code> exceeded the length of the source array, this line would cause an exception:</p>\n<pre><code>copyArray[i] = new int[myArray[i].length];\n</code></pre>\n<p>Because there would be no nested array referred by <code>myArray[i]</code>.</p>\n"},{"tags":[],"owner":{"account_id":16732777,"reputation":91,"user_id":12094709,"display_name":"GreenChicken"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661100865,"creation_date":1661100768,"answer_id":73436464,"question_id":73435638,"body_markdown":"Try it like this \r\n\r\n```\r\nint[][] copyArray =new int[myArray.length+3][3];\r\n      \r\nfor (int i = 0; i &lt; myArray.length; ++i) { // length of myArray\r\n    \r\n    copyArray[i] = new int[myArray[0].length]; // 0 instead of i\r\n    \r\n    for (int j = 0; j &lt; myArray[i].length; ++j) { // length of myArray\r\n       copyArray[i][j] = myArray[i][j];\r\n    }      \r\n}\r\n```\r\n\r\nAlso since copyArray has already increased size you don&#39;t need the **+3** in the last for loop. Hope I helped, good luck","title":"How to copy values from a 2d array to a new and bigger one in Java?","body":"<p>Try it like this</p>\n<pre><code>int[][] copyArray =new int[myArray.length+3][3];\n      \nfor (int i = 0; i &lt; myArray.length; ++i) { // length of myArray\n    \n    copyArray[i] = new int[myArray[0].length]; // 0 instead of i\n    \n    for (int j = 0; j &lt; myArray[i].length; ++j) { // length of myArray\n       copyArray[i][j] = myArray[i][j];\n    }      \n}\n</code></pre>\n<p>Also since copyArray has already increased size you don't need the <strong>+3</strong> in the last for loop. Hope I helped, good luck</p>\n"}],"owner":{"account_id":24377524,"reputation":57,"user_id":18309642,"display_name":"Lukas E"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73436464,"answer_count":2,"score":-1,"last_activity_date":1661712922,"creation_date":1661094530,"question_id":73435638,"body_markdown":"How can I copy a 2d array to a new and bigger one with eye for adding more items in the new one while still having the original data? My code makes out of bounds failure - what is my mistake? I try to say that the copy array should be original array.length + x - but doesn&#39;t work. \r\n\r\n\r\n       \r\n\r\nimport java.util.Scanner;  // import scanner to the program\r\n\r\npublic class TestTest {\r\n\t\r\n\t// Declaring Scanner object.\r\n\t\r\n\tpublic static Scanner userInput = new Scanner(System.in); \r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// Variables\r\n\t\t\r\n\t\t int number = 1;\r\n\t\t \r\n\t\t// Declaring 2d Array\r\n\t\t \r\n\t\t int[][] myArray = new int [3][3];\r\n\t\t \r\n\t\t // Loop values into the array\r\n\t\t \r\n\t\t for(int i =0; i&lt;myArray.length; i++) \r\n\t\t {\r\n\t\t\t myArray[i][0]= number;\r\n\t\t\t number++;\r\n\t\t\t \r\n\t\t\t myArray[i][1]= (int) (Math.random () * 10) +1;\r\n\t\t\t myArray[i][2]= (int)(Math.random() * ((1000 - 100) + 1)) + 100;  \t\t \r\n\t\t\t \r\n\t\t }\r\n\t\t \r\n\t\t // Print the original array\r\n\t\t \r\n\t\t System.out.println(&quot;This is original array:&quot;);\r\n\t\t \r\n\t\t for(int i =0; i&lt;myArray.length; i++) \r\n\t\t {\r\n\t\t\t \r\n\t\t\t \r\n\t\t  System.out.println(myArray[i][0]+&quot; &quot; + myArray[i][1]+&quot; &quot;+ myArray[i][2]);\r\n\t\t\t\t \r\n\t\t\t \r\n\t\t }\r\n\t\t \r\n\t\t // Make a copy of the original array and expand the length with 3.\r\n\t\t \r\n\t      int[][] copyArray =new int[myArray.length+3][3];\r\n\t      \r\n\t      for (int i = 0; i &lt; copyArray.length; ++i) \r\n\t      {\r\n\t        copyArray[i] = new int[myArray[i].length];\r\n\t         \r\n\t        \r\n\t         for (int j = 0; j &lt; copyArray[i].length; ++j) \r\n\t         {\r\n\t            copyArray[i][j] = myArray[i][j];\r\n\t         }\r\n\t         \r\n\t      }\r\n\t      \r\n\t     \r\n\t     \r\n\t      \r\n\t      \r\n\t      // Print the copy\r\n\t      \r\n\t      System.out.println(&quot;This is the copy:&quot;);\r\n\t      \r\n\t      \r\n\t      for (int i = 0; i &lt; copyArray.length+3; ++i) \r\n\t      {\r\n\t    \t  \r\n\t    \tSystem.out.println(copyArray[i][0]+&quot; &quot; + copyArray[i][1]+&quot; &quot;+ copyArray[i][2] ); \r\n\t    \t  \r\n\t         \r\n\t      \r\n\t      }\r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t      \r\n\t \r\n\r\n\t}\r\n\r\n}\r\n","title":"How to copy values from a 2d array to a new and bigger one in Java?","body":"<p>How can I copy a 2d array to a new and bigger one with eye for adding more items in the new one while still having the original data? My code makes out of bounds failure - what is my mistake? I try to say that the copy array should be original array.length + x - but doesn't work.</p>\n<p>import java.util.Scanner;  // import scanner to the program</p>\n<p>public class TestTest {</p>\n<pre><code>// Declaring Scanner object.\n\npublic static Scanner userInput = new Scanner(System.in); \n\npublic static void main(String[] args) {\n    \n    // Variables\n    \n     int number = 1;\n     \n    // Declaring 2d Array\n     \n     int[][] myArray = new int [3][3];\n     \n     // Loop values into the array\n     \n     for(int i =0; i&lt;myArray.length; i++) \n     {\n         myArray[i][0]= number;\n         number++;\n         \n         myArray[i][1]= (int) (Math.random () * 10) +1;\n         myArray[i][2]= (int)(Math.random() * ((1000 - 100) + 1)) + 100;         \n         \n     }\n     \n     // Print the original array\n     \n     System.out.println(&quot;This is original array:&quot;);\n     \n     for(int i =0; i&lt;myArray.length; i++) \n     {\n         \n         \n      System.out.println(myArray[i][0]+&quot; &quot; + myArray[i][1]+&quot; &quot;+ myArray[i][2]);\n             \n         \n     }\n     \n     // Make a copy of the original array and expand the length with 3.\n     \n      int[][] copyArray =new int[myArray.length+3][3];\n      \n      for (int i = 0; i &lt; copyArray.length; ++i) \n      {\n        copyArray[i] = new int[myArray[i].length];\n         \n        \n         for (int j = 0; j &lt; copyArray[i].length; ++j) \n         {\n            copyArray[i][j] = myArray[i][j];\n         }\n         \n      }\n      \n     \n     \n      \n      \n      // Print the copy\n      \n      System.out.println(&quot;This is the copy:&quot;);\n      \n      \n      for (int i = 0; i &lt; copyArray.length+3; ++i) \n      {\n          \n        System.out.println(copyArray[i][0]+&quot; &quot; + copyArray[i][1]+&quot; &quot;+ copyArray[i][2] ); \n          \n         \n      \n      }\n      \n      \n      \n      \n      \n      \n      \n      \n      \n \n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays","while-loop","numberformatexception"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":8,"creation_date":1475577253,"post_id":39849984,"comment_id":66987997,"body_markdown":"`int first_value = Integer.parseInt(cards[index]);`  - you&#39;re trying to parse the string as an int, but the string is `&quot;Ace of Clubs&quot;`.","body":"<code>int first_value = Integer.parseInt(cards[index]);</code>  - you&#39;re trying to parse the string as an int, but the string is <code>&quot;Ace of Clubs&quot;</code>."},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1476270083,"post_id":39849984,"comment_id":67271599,"body_markdown":"You are missing a card ... King is 13, Queen is 12 and Jack is 11, just saying ;) You should use if else because you can&#39;t have a card starting with `king` and also `3`. Why are you using an index limit of 52 ? You are not using colors. And last thing, if you try to `q`, you will receive a not valid answer message before ending. For the error, well everything is said.","body":"You are missing a card ... King is 13, Queen is 12 and Jack is 11, just saying ;) You should use if else because you can&#39;t have a card starting with <code>king</code> and also <code>3</code>. Why are you using an index limit of 52 ? You are not using colors. And last thing, if you try to <code>q</code>, you will receive a not valid answer message before ending. For the error, well everything is said."}],"answers":[{"tags":[],"owner":{"account_id":9298553,"reputation":186,"user_id":6904778,"display_name":"Vivek G"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1475577464,"creation_date":1475577464,"answer_id":39850124,"question_id":39849984,"body_markdown":"Looks like `cards[]` is **String** array and you are trying to convert `Ace of Clubs` to **Integer**.\r\n\r\n    int first_value = Integer.parseInt(cards[index]);","title":"What is a NumberFormatException and how can I fix it?","body":"<p>Looks like <code>cards[]</code> is <strong>String</strong> array and you are trying to convert <code>Ace of Clubs</code> to <strong>Integer</strong>.</p>\n\n<pre><code>int first_value = Integer.parseInt(cards[index]);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6014409,"reputation":15624,"user_id":4723795,"accept_rate":82,"display_name":"xenteros"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1524510752,"creation_date":1475577524,"answer_id":39850130,"question_id":39849984,"body_markdown":"    Error Message:\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Ace of Clubs&quot;\r\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.lang.Integer.parseInt(Integer.java:580)\r\n        at java.lang.Integer.parseInt(Integer.java:615)\r\n        at set07102.Cards.main(Cards.java:68)\r\n    C:\\Users\\qasim\\AppData\\Local\\NetBeans\\Cache\\8.1\\executor-snippets\\run.xml:53: Java returned: 1\r\n\r\nmeans:\r\n\r\n    There was an error. We try to give you as much information as possible\r\n    It was an Exception in main thread. It&#39;s called NumberFormatException and has occurred for input &quot;Ace of Clubs&quot;.\r\n    at line 65th of NumberFormatException.java which is a constructor,\r\n    which was invoked from Integer.parseInt() which is in file Integer.java in line 580,\r\n    which was invoked from Integer.parseInt() which is in file Integer.java in line 615,\r\n    which was invoked from method main in file Cards.java in line 68.\r\n\r\n    It has resulted in exit code 1\r\n\r\nIn other words, you tried to parse `&quot;Ace of Clubs&quot;` to an `int` what Java can&#39;t do with method `Integer.parseInt`. Java has provided beautiful stacktrace which tells you exactly what the problem is. The tool you&#39;re looking for is **debugger** and using **breakpoints** will allow you to inspect the *state* of you application at the chosen moment.\r\n\r\nThe solution might be the following logic in case you want to use *parsing*:\r\n\r\n    if (cards[index].startsWith(&quot;Ace&quot;)) \r\n        value = 1;\r\n    else if (cards[index].startsWith(&quot;King&quot;))\r\n        value = 12;\r\n    else if (cards[index].startsWith(&quot;Queen&quot;))\r\n        value = 11;\r\n    ...\r\n    else {\r\n        try {\r\n            Integer.parseInt(string.substring(0, cards[index].indexOf(&quot; &quot;))); \r\n        } catch (NumberFormatException e){\r\n            //something went wrong\r\n        }\r\n    }\r\n\r\n#**What is an `Exception` in Java?**  \r\n\r\n&gt; An exception is an event, which occurs during the execution of a\r\n&gt; program, that disrupts the normal flow of the program&#39;s instructions.\r\n\r\n-[Documentation][1]\r\n\r\n###Constructors and usage in `Integer#parseInt`  \r\n\r\n    static NumberFormatException forInputString(String s) {\r\n        return new NumberFormatException(&quot;For input string: \\&quot;&quot; + s + &quot;\\&quot;&quot;);\r\n    }\r\n\r\n    public NumberFormatException (String s) {\r\n        super (s);\r\n    }\r\n\r\nThey are important for understanding how to read the stacktrace. Look how the `NumberFormatException` is thrown from `Integer#parseInt`:\r\n\r\n    if (s == null) {\r\n        throw new NumberFormatException(&quot;null&quot;);\r\n    }\r\n\r\nor later if the format of the input `String s` is not parsable:\r\n\r\n    throw NumberFormatException.forInputString(s); \r\n\r\n#**What is a `NumberFormatException`?**\r\n\r\n&gt; Thrown to indicate that the application has attempted to convert a string to one of the numeric types, but that the string does not have the appropriate format.\r\n\r\n-[Documentation][2]\r\n\r\n`NumberFormatException` `extends` `IllegalArgumentException`. It tells us that it&#39;s more specialized `IllegalArgumentException`. Indeed, it&#39;s used for highlighting that although, the argument type was correct (`String`) the content of the `String` wasn&#39;t numeric (*a,b,c,d,e,f are considered digits in HEX and are legal when needed*).\r\n\r\n**How do I fix it?**  \r\nWell, don&#39;t fix the fact that it&#39;s thrown. It&#39;s good that it&#39;s thrown. There are some things you need to consider:\r\n\r\n 1. Can I read the stacktrace?\r\n 2. Is the `String` which causes an `Exception` a `null`?\r\n 3. Does it look like a number?\r\n 4. Is it &#39;my string&#39; or user&#39;s input?\r\n 5. *to be continued*\r\n\r\n###**Ad. 1.**  \r\nThe first line of a message is an information that the Exception occurred and the input `String` which caused the problem. The String always follows `:` and is quoted (`&quot;some text&quot;`). Then you become interested in reading the stacktrace from the end, as the first few lines are usually `NumberFormatException`&#39;s constructor, parsing method etc. Then at the end, there is your method in which you made a bug. It will be pointed out in which file it was called and in which method. Even a line will be attached. You&#39;ll see. The example of how to read the stacktrace is above.\r\n\r\n###**Ad. 2.**  \r\nWhen you see, that instead of `&quot;For input string:&quot;` and the input, there is a `null` (*not `&quot;null&quot;`*) it means, that you tried to pass the null reference to a number. If you actually want to treat is as 0 or any other number, you might be interested in my another post on StackOverflow. It&#39;s available [here][3].\r\n\r\nThe description of solving unexpected `null`s is well described on StackOverflow thread *[What is a NullPointerException and how can I fix it?][4]*. \r\n\r\n###**Ad. 3.**  \r\nIf the `String` that follows the `:` and is quoted looks like a number in your opinion, there might be a character which your system don&#39;t decode or an unseen white space. Obviously `&quot; 6&quot;` can&#39;t be parsed as well as `&quot;123 &quot;` can&#39;t. It&#39;s because of the spaces. But it can occure, that the `String` will look like `&quot;6&quot;` but actually it&#39;s length will be larger than the number of digits you can see.\r\n\r\nIn this case I suggest using the **debugger** or at least `System.out.println` and print the length of the `String` you&#39;re trying to parse. If it shows more than the number of digits, try passing `stringToParse.trim()` to the parsing method. If it won&#39;t work, copy the whole string after the `:` and decode it using online decoder. It&#39;ll give you codes of all characters.\r\n\r\nThere is also one case which I have found recently on `StackOverflow`, that you might see, that the input looks like a number e.g. `&quot;1.86&quot;` and it only contains those 4 characters but the error still exists. Remember, one can only parse integers with #Integer#parseInt#. For parsing decimal numbers, one should use `Double#parseDouble`.\r\n\r\nAnother situation is, when the number has many digits. It might be, that it&#39;s too large or too small to fit `int` or `long`. You might want to try `new BigDecimal(&lt;str&gt;)`.\r\n\r\n###**Ad. 4.**  \r\nFinally we come to the place in which we agree, that we can&#39;t avoid situations when it&#39;s user typing &quot;abc&quot; as a numeric string. Why? Because he can. In a lucky case, it&#39;s because he&#39;s a tester or simply a geek. In a bad case it&#39;s the attacker.\r\n\r\n*What can I do now?* Well, Java gives us `try-catch` you can do the following:\r\n\r\n    try {\r\n        i = Integer.parseInt(myString);\r\n    } catch (NumberFormatException e) {\r\n        e.printStackTrace();\r\n        //somehow workout the issue with an improper input. It&#39;s up to your business logic.\r\n    }\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html\r\n  [3]: https://stackoverflow.com/a/39726883/4723795\r\n  [4]: https://stackoverflow.com/a/24100776/4723795","title":"What is a NumberFormatException and how can I fix it?","body":"<pre><code>Error Message:\nException in thread \"main\" java.lang.NumberFormatException: For input string: \"Ace of Clubs\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at set07102.Cards.main(Cards.java:68)\nC:\\Users\\qasim\\AppData\\Local\\NetBeans\\Cache\\8.1\\executor-snippets\\run.xml:53: Java returned: 1\n</code></pre>\n\n<p>means:</p>\n\n<pre><code>There was an error. We try to give you as much information as possible\nIt was an Exception in main thread. It's called NumberFormatException and has occurred for input \"Ace of Clubs\".\nat line 65th of NumberFormatException.java which is a constructor,\nwhich was invoked from Integer.parseInt() which is in file Integer.java in line 580,\nwhich was invoked from Integer.parseInt() which is in file Integer.java in line 615,\nwhich was invoked from method main in file Cards.java in line 68.\n\nIt has resulted in exit code 1\n</code></pre>\n\n<p>In other words, you tried to parse <code>\"Ace of Clubs\"</code> to an <code>int</code> what Java can't do with method <code>Integer.parseInt</code>. Java has provided beautiful stacktrace which tells you exactly what the problem is. The tool you're looking for is <strong>debugger</strong> and using <strong>breakpoints</strong> will allow you to inspect the <em>state</em> of you application at the chosen moment.</p>\n\n<p>The solution might be the following logic in case you want to use <em>parsing</em>:</p>\n\n<pre><code>if (cards[index].startsWith(\"Ace\")) \n    value = 1;\nelse if (cards[index].startsWith(\"King\"))\n    value = 12;\nelse if (cards[index].startsWith(\"Queen\"))\n    value = 11;\n...\nelse {\n    try {\n        Integer.parseInt(string.substring(0, cards[index].indexOf(\" \"))); \n    } catch (NumberFormatException e){\n        //something went wrong\n    }\n}\n</code></pre>\n\n<h1><strong>What is an <code>Exception</code> in Java?</strong></h1>\n\n<blockquote>\n  <p>An exception is an event, which occurs during the execution of a\n  program, that disrupts the normal flow of the program's instructions.</p>\n</blockquote>\n\n<p>-<a href=\"http://docs.oracle.com/javase/tutorial/essential/exceptions/definition.html\" rel=\"noreferrer\">Documentation</a></p>\n\n<h3>Constructors and usage in <code>Integer#parseInt</code></h3>\n\n<pre><code>static NumberFormatException forInputString(String s) {\n    return new NumberFormatException(\"For input string: \\\"\" + s + \"\\\"\");\n}\n\npublic NumberFormatException (String s) {\n    super (s);\n}\n</code></pre>\n\n<p>They are important for understanding how to read the stacktrace. Look how the <code>NumberFormatException</code> is thrown from <code>Integer#parseInt</code>:</p>\n\n<pre><code>if (s == null) {\n    throw new NumberFormatException(\"null\");\n}\n</code></pre>\n\n<p>or later if the format of the input <code>String s</code> is not parsable:</p>\n\n<pre><code>throw NumberFormatException.forInputString(s); \n</code></pre>\n\n<h1><strong>What is a <code>NumberFormatException</code>?</strong></h1>\n\n<blockquote>\n  <p>Thrown to indicate that the application has attempted to convert a string to one of the numeric types, but that the string does not have the appropriate format.</p>\n</blockquote>\n\n<p>-<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html\" rel=\"noreferrer\">Documentation</a></p>\n\n<p><code>NumberFormatException</code> <code>extends</code> <code>IllegalArgumentException</code>. It tells us that it's more specialized <code>IllegalArgumentException</code>. Indeed, it's used for highlighting that although, the argument type was correct (<code>String</code>) the content of the <code>String</code> wasn't numeric (<em>a,b,c,d,e,f are considered digits in HEX and are legal when needed</em>).</p>\n\n<p><strong>How do I fix it?</strong><br>\nWell, don't fix the fact that it's thrown. It's good that it's thrown. There are some things you need to consider:</p>\n\n<ol>\n<li>Can I read the stacktrace?</li>\n<li>Is the <code>String</code> which causes an <code>Exception</code> a <code>null</code>?</li>\n<li>Does it look like a number?</li>\n<li>Is it 'my string' or user's input?</li>\n<li><em>to be continued</em></li>\n</ol>\n\n<h3><strong>Ad. 1.</strong></h3>\n\n<p>The first line of a message is an information that the Exception occurred and the input <code>String</code> which caused the problem. The String always follows <code>:</code> and is quoted (<code>\"some text\"</code>). Then you become interested in reading the stacktrace from the end, as the first few lines are usually <code>NumberFormatException</code>'s constructor, parsing method etc. Then at the end, there is your method in which you made a bug. It will be pointed out in which file it was called and in which method. Even a line will be attached. You'll see. The example of how to read the stacktrace is above.</p>\n\n<h3><strong>Ad. 2.</strong></h3>\n\n<p>When you see, that instead of <code>\"For input string:\"</code> and the input, there is a <code>null</code> (<em>not <code>\"null\"</code></em>) it means, that you tried to pass the null reference to a number. If you actually want to treat is as 0 or any other number, you might be interested in my another post on StackOverflow. It's available <a href=\"https://stackoverflow.com/a/39726883/4723795\">here</a>.</p>\n\n<p>The description of solving unexpected <code>null</code>s is well described on StackOverflow thread <em><a href=\"https://stackoverflow.com/a/24100776/4723795\">What is a NullPointerException and how can I fix it?</a></em>. </p>\n\n<h3><strong>Ad. 3.</strong></h3>\n\n<p>If the <code>String</code> that follows the <code>:</code> and is quoted looks like a number in your opinion, there might be a character which your system don't decode or an unseen white space. Obviously <code>\" 6\"</code> can't be parsed as well as <code>\"123 \"</code> can't. It's because of the spaces. But it can occure, that the <code>String</code> will look like <code>\"6\"</code> but actually it's length will be larger than the number of digits you can see.</p>\n\n<p>In this case I suggest using the <strong>debugger</strong> or at least <code>System.out.println</code> and print the length of the <code>String</code> you're trying to parse. If it shows more than the number of digits, try passing <code>stringToParse.trim()</code> to the parsing method. If it won't work, copy the whole string after the <code>:</code> and decode it using online decoder. It'll give you codes of all characters.</p>\n\n<p>There is also one case which I have found recently on <code>StackOverflow</code>, that you might see, that the input looks like a number e.g. <code>\"1.86\"</code> and it only contains those 4 characters but the error still exists. Remember, one can only parse integers with #Integer#parseInt#. For parsing decimal numbers, one should use <code>Double#parseDouble</code>.</p>\n\n<p>Another situation is, when the number has many digits. It might be, that it's too large or too small to fit <code>int</code> or <code>long</code>. You might want to try <code>new BigDecimal(&lt;str&gt;)</code>.</p>\n\n<h3><strong>Ad. 4.</strong></h3>\n\n<p>Finally we come to the place in which we agree, that we can't avoid situations when it's user typing \"abc\" as a numeric string. Why? Because he can. In a lucky case, it's because he's a tester or simply a geek. In a bad case it's the attacker.</p>\n\n<p><em>What can I do now?</em> Well, Java gives us <code>try-catch</code> you can do the following:</p>\n\n<pre><code>try {\n    i = Integer.parseInt(myString);\n} catch (NumberFormatException e) {\n    e.printStackTrace();\n    //somehow workout the issue with an improper input. It's up to your business logic.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1476346466,"creation_date":1476287343,"answer_id":40002939,"question_id":39849984,"body_markdown":"### What is a `NumberFormatException`?\r\n\r\n&gt; This exception is thrown to indicate that the application has\r\n&gt; attempted to convert a `string` to one of the numeric types, but that\r\n&gt; the `string` does not have the appropriate format.\r\n\r\nIn your case, according to your stack trace this exception was thrown by [`Integer.parseInt(String)`][1] which means that the provided `String` does not contain a parseable `integer`. And still according to the stack trace, it is due to the fact that you tried to parse the `String`  &quot;*Ace of Clubs*&quot; as an integer which cannot work as it is not the `String` representation of an integer.\r\n\r\n### How to fix it?\r\n\r\nThe simplest and generic way is to catch the exception `NumberFormatException`\r\n\r\n    int value = -1;\r\n    try {\r\n        value = Integer.parseInt(myString);\r\n    } catch (NumberFormatException e) {\r\n        // The format was incorrect\r\n    }\r\n\r\nIt will work but catching an exception is slow because it needs to build the call stack to create the `Exception` which is costly, so if you can avoid it do it. Moreover you will need to manage the exception properly which is not always obvious.\r\n\r\nOr you could use a `regular expression` to check first if the `String` [`matches`][2] with an `Integer` but it is quite error prone as you could easily use a wrong `regular expression`.\r\n\r\n---\r\n\r\nIn your case, a more OO approach should be used instead of dealing with `String`, for example you could use a `class` or an `enum` to represent your cards instead of using simple `String` because it is much more error prone as you have already noticed. \r\n\r\nSo if you decide to use a dedicated class for your card, your code could be:\r\n\r\n    public class Card {\r\n\r\n        private final Rank rank;\r\n        private final Suit suit;\r\n\r\n        public Card(final Rank rank, final Suit suit) {\r\n            this.rank = rank;\r\n            this.suit = suit;\r\n        }\r\n\r\n        public Rank getRank() {\r\n            return this.rank;\r\n        }\r\n\r\n        public Suit getSuit() {\r\n            return this.suit;\r\n        }\r\n    }\r\n\r\nFor the suit and the rank of a card, we can use an `enum` since there are limited amounts of existing ranks and suits.\r\n\r\n    public enum Rank {\r\n        ACE(1), TWO(2), THREE(3), FOUR(4), FIVE(5), SIX(6), SEVEN(7), HEIGHT(8),\r\n        NINE(9), TEN(10), JACK(11), QUEEN(12), KING(13);\r\n\r\n        private final int value;\r\n\r\n        Rank(final int value) {\r\n            this.value = value;\r\n        }\r\n\r\n        public int getValue() {\r\n            return this.value;\r\n        }\r\n    }\r\n\r\n    public enum Suit {\r\n        SPADE, HEART, DIAMOND, CLUB\r\n    }\r\n\r\nThen `cards` would be an array of `Card` instead of an array of `String`, and could be initialized as next:\r\n\r\n    Rank[] ranks = Rank.values();\r\n    Suit[] suits = Suit.values();\r\n    Card[] cards = new Card[ranks.length * suits.length];\r\n    for (int i = 0; i &lt; ranks.length; i++) {\r\n        for (int j = 0; j &lt; suits.length; j++) {\r\n            cards[i * suits.length + j] = new Card(ranks[i], suits[j]);\r\n        }\r\n    }\r\n    \r\nIf you need to shuffle your array of cards, you can proceed as next (please note that if you decide to use a `List` of cards instead of an array simply use `Collections.shuffle(list)`)\r\n\r\n    List&lt;Card&gt; allCards = Arrays.asList(cards);\r\n    Collections.shuffle(allCards);\r\n    allCards.toArray(cards);\r\n\r\nThen you will be able to access directly to the value of your card with `cards[index].getRank().getValue()` without taking the risk to get an exception (except an `IndexOutOfBoundsException` if you don&#39;t use a proper index).\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-","title":"What is a NumberFormatException and how can I fix it?","body":"<h3>What is a <code>NumberFormatException</code>?</h3>\n\n<blockquote>\n  <p>This exception is thrown to indicate that the application has\n  attempted to convert a <code>string</code> to one of the numeric types, but that\n  the <code>string</code> does not have the appropriate format.</p>\n</blockquote>\n\n<p>In your case, according to your stack trace this exception was thrown by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html#parseInt-java.lang.String-\"><code>Integer.parseInt(String)</code></a> which means that the provided <code>String</code> does not contain a parseable <code>integer</code>. And still according to the stack trace, it is due to the fact that you tried to parse the <code>String</code>  \"<em>Ace of Clubs</em>\" as an integer which cannot work as it is not the <code>String</code> representation of an integer.</p>\n\n<h3>How to fix it?</h3>\n\n<p>The simplest and generic way is to catch the exception <code>NumberFormatException</code></p>\n\n<pre><code>int value = -1;\ntry {\n    value = Integer.parseInt(myString);\n} catch (NumberFormatException e) {\n    // The format was incorrect\n}\n</code></pre>\n\n<p>It will work but catching an exception is slow because it needs to build the call stack to create the <code>Exception</code> which is costly, so if you can avoid it do it. Moreover you will need to manage the exception properly which is not always obvious.</p>\n\n<p>Or you could use a <code>regular expression</code> to check first if the <code>String</code> <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/String.html#matches-java.lang.String-\"><code>matches</code></a> with an <code>Integer</code> but it is quite error prone as you could easily use a wrong <code>regular expression</code>.</p>\n\n<hr>\n\n<p>In your case, a more OO approach should be used instead of dealing with <code>String</code>, for example you could use a <code>class</code> or an <code>enum</code> to represent your cards instead of using simple <code>String</code> because it is much more error prone as you have already noticed. </p>\n\n<p>So if you decide to use a dedicated class for your card, your code could be:</p>\n\n<pre><code>public class Card {\n\n    private final Rank rank;\n    private final Suit suit;\n\n    public Card(final Rank rank, final Suit suit) {\n        this.rank = rank;\n        this.suit = suit;\n    }\n\n    public Rank getRank() {\n        return this.rank;\n    }\n\n    public Suit getSuit() {\n        return this.suit;\n    }\n}\n</code></pre>\n\n<p>For the suit and the rank of a card, we can use an <code>enum</code> since there are limited amounts of existing ranks and suits.</p>\n\n<pre><code>public enum Rank {\n    ACE(1), TWO(2), THREE(3), FOUR(4), FIVE(5), SIX(6), SEVEN(7), HEIGHT(8),\n    NINE(9), TEN(10), JACK(11), QUEEN(12), KING(13);\n\n    private final int value;\n\n    Rank(final int value) {\n        this.value = value;\n    }\n\n    public int getValue() {\n        return this.value;\n    }\n}\n\npublic enum Suit {\n    SPADE, HEART, DIAMOND, CLUB\n}\n</code></pre>\n\n<p>Then <code>cards</code> would be an array of <code>Card</code> instead of an array of <code>String</code>, and could be initialized as next:</p>\n\n<pre><code>Rank[] ranks = Rank.values();\nSuit[] suits = Suit.values();\nCard[] cards = new Card[ranks.length * suits.length];\nfor (int i = 0; i &lt; ranks.length; i++) {\n    for (int j = 0; j &lt; suits.length; j++) {\n        cards[i * suits.length + j] = new Card(ranks[i], suits[j]);\n    }\n}\n</code></pre>\n\n<p>If you need to shuffle your array of cards, you can proceed as next (please note that if you decide to use a <code>List</code> of cards instead of an array simply use <code>Collections.shuffle(list)</code>)</p>\n\n<pre><code>List&lt;Card&gt; allCards = Arrays.asList(cards);\nCollections.shuffle(allCards);\nallCards.toArray(cards);\n</code></pre>\n\n<p>Then you will be able to access directly to the value of your card with <code>cards[index].getRank().getValue()</code> without taking the risk to get an exception (except an <code>IndexOutOfBoundsException</code> if you don't use a proper index).</p>\n"},{"tags":[],"owner":{"account_id":9422539,"reputation":668,"user_id":7008561,"display_name":"thekodester"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476789033,"creation_date":1476789033,"answer_id":40106655,"question_id":39849984,"body_markdown":"The very first thing that threw me for a loop (no pun intended) was you were limiting the value to 1-13 when it needs to be 0-52. Also with your logic the value was always be higher. A better approach is with a number generator. Here is my code using a number generator (or Java Random):\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    String[] cards = { &quot;Ace of Clubs&quot;, &quot;1 of Clubs&quot;, &quot;2 of Clubs&quot;,\r\n            &quot;3 of Clubs&quot;, &quot;4 of Clubs&quot;, &quot;5 of Clubs&quot;, &quot;6 of Clubs&quot;,\r\n            &quot;7 of Clubs&quot;, &quot;8 of Clubs&quot;, &quot;9 of Clubs&quot;, &quot;10 of Clubs&quot;,\r\n            &quot;Queen of Clubs&quot;, &quot;King of Clubs&quot;, &quot;Ace of Diamonds&quot;,\r\n            &quot;1 of Diamonds&quot;, &quot;2 of Diamonds&quot;, &quot;3 of Diamonds&quot;,\r\n            &quot;4 of Diamonds&quot;, &quot;5 of Diamonds&quot;, &quot;6 of Diamonds&quot;,\r\n            &quot;7 of Diamonds&quot;, &quot;8 of Diamonds&quot;, &quot;9 of Diamonds&quot;,\r\n            &quot;10 of Diamonds&quot;, &quot;Queen of Diamonds&quot;, &quot;King of Diamonds&quot;,\r\n            &quot;Ace of Hearts&quot;, &quot;1 of Hearts&quot;, &quot;2 of Hearts&quot;, &quot;3 of Hearts&quot;,\r\n            &quot;4 of Hearts&quot;, &quot;5 of Hearts&quot;, &quot;6 of Hearts&quot;, &quot;7 of Hearts&quot;,\r\n            &quot;8 of Hearts&quot;, &quot;9 of Hearts&quot;, &quot;10 of Hearts&quot;,\r\n            &quot;Queen of Hearts&quot;, &quot;King of Hearts&quot;, &quot;Ace of Spades&quot;,\r\n            &quot;1 of Spades&quot;, &quot;2 of Spades&quot;, &quot;3 of Spades&quot;, &quot;4 of Spades&quot;,\r\n            &quot;5 of Spades&quot;, &quot;6 of Spades&quot;, &quot;7 of Spades&quot;, &quot;8 of Spades&quot;,\r\n            &quot;9 of Spades&quot;, &quot;10 of Spades&quot;, &quot;Queen of Spades&quot;,\r\n            &quot;King of Spades&quot; };\r\n    \r\n    Scanner scanner = new Scanner(System.in);\r\n    Random rand = new Random();\r\n    String response = &quot;&quot;;\r\n    int index = 0;\r\n    int value = 0;  \r\n    while (!response.equals(&quot;q&quot;) &amp;&amp; index &lt; 52) {\r\n    \r\n        // set next card value based on current set of cards in play\r\n        if (cards[index].endsWith(&quot;Clubs&quot;)) {\r\n            value = rand.nextInt(12);\r\n        }\r\n        if (cards[index].endsWith(&quot;Diamonds&quot;)) {\r\n            value = rand.nextInt(12) + 13;\r\n        }\r\n        if (cards[index].endsWith(&quot;Hearts&quot;)) {\r\n            value = rand.nextInt(12) + 26;\r\n        }\r\n        if (cards[index].endsWith(&quot;Spades&quot;)) {\r\n            value = rand.nextInt(12) + 39;\r\n        }\r\n    \r\n        // display card too user (NOTE: we use the random number not the index)\r\n        System.out.println(&quot;Card is: &quot; + cards[value]);\r\n    \r\n        // ask user what well the next card be\r\n        System.out.println(&quot;Will the next card be higher or lower?, press q if you want to quit&quot;);\r\n        response = scanner.nextLine();\r\n    \r\n        // display if user was right (NOTE: compared the random number to the current index)\r\n        // ignore incorrect response and just continue\r\n        if ((value &gt; index &amp;&amp; response.startsWith(&quot;h&quot;)) || (value &lt; index &amp;&amp; response.startsWith(&quot;l&quot;))) {\r\n            System.out.println(&quot;You answer was right, well done!&quot;);\r\n        } else {\r\n            System.out.println(&quot;You answer was wrong, try again!&quot;);\r\n        }\r\n    \r\n        // continue loop\r\n        index++;\r\n    }\r\n    }\r\n\r\nAs for the NumberFormatException I believe Nicolas Filotto did a good job explaining that.","title":"What is a NumberFormatException and how can I fix it?","body":"<p>The very first thing that threw me for a loop (no pun intended) was you were limiting the value to 1-13 when it needs to be 0-52. Also with your logic the value was always be higher. A better approach is with a number generator. Here is my code using a number generator (or Java Random):</p>\n\n<pre><code>public static void main(String[] args) {\n\nString[] cards = { \"Ace of Clubs\", \"1 of Clubs\", \"2 of Clubs\",\n        \"3 of Clubs\", \"4 of Clubs\", \"5 of Clubs\", \"6 of Clubs\",\n        \"7 of Clubs\", \"8 of Clubs\", \"9 of Clubs\", \"10 of Clubs\",\n        \"Queen of Clubs\", \"King of Clubs\", \"Ace of Diamonds\",\n        \"1 of Diamonds\", \"2 of Diamonds\", \"3 of Diamonds\",\n        \"4 of Diamonds\", \"5 of Diamonds\", \"6 of Diamonds\",\n        \"7 of Diamonds\", \"8 of Diamonds\", \"9 of Diamonds\",\n        \"10 of Diamonds\", \"Queen of Diamonds\", \"King of Diamonds\",\n        \"Ace of Hearts\", \"1 of Hearts\", \"2 of Hearts\", \"3 of Hearts\",\n        \"4 of Hearts\", \"5 of Hearts\", \"6 of Hearts\", \"7 of Hearts\",\n        \"8 of Hearts\", \"9 of Hearts\", \"10 of Hearts\",\n        \"Queen of Hearts\", \"King of Hearts\", \"Ace of Spades\",\n        \"1 of Spades\", \"2 of Spades\", \"3 of Spades\", \"4 of Spades\",\n        \"5 of Spades\", \"6 of Spades\", \"7 of Spades\", \"8 of Spades\",\n        \"9 of Spades\", \"10 of Spades\", \"Queen of Spades\",\n        \"King of Spades\" };\n\nScanner scanner = new Scanner(System.in);\nRandom rand = new Random();\nString response = \"\";\nint index = 0;\nint value = 0;  \nwhile (!response.equals(\"q\") &amp;&amp; index &lt; 52) {\n\n    // set next card value based on current set of cards in play\n    if (cards[index].endsWith(\"Clubs\")) {\n        value = rand.nextInt(12);\n    }\n    if (cards[index].endsWith(\"Diamonds\")) {\n        value = rand.nextInt(12) + 13;\n    }\n    if (cards[index].endsWith(\"Hearts\")) {\n        value = rand.nextInt(12) + 26;\n    }\n    if (cards[index].endsWith(\"Spades\")) {\n        value = rand.nextInt(12) + 39;\n    }\n\n    // display card too user (NOTE: we use the random number not the index)\n    System.out.println(\"Card is: \" + cards[value]);\n\n    // ask user what well the next card be\n    System.out.println(\"Will the next card be higher or lower?, press q if you want to quit\");\n    response = scanner.nextLine();\n\n    // display if user was right (NOTE: compared the random number to the current index)\n    // ignore incorrect response and just continue\n    if ((value &gt; index &amp;&amp; response.startsWith(\"h\")) || (value &lt; index &amp;&amp; response.startsWith(\"l\"))) {\n        System.out.println(\"You answer was right, well done!\");\n    } else {\n        System.out.println(\"You answer was wrong, try again!\");\n    }\n\n    // continue loop\n    index++;\n}\n}\n</code></pre>\n\n<p>As for the NumberFormatException I believe Nicolas Filotto did a good job explaining that.</p>\n"},{"tags":[],"owner":{"account_id":5899883,"reputation":758,"user_id":4643764,"accept_rate":25,"display_name":"Anands23"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476790199,"creation_date":1476790199,"answer_id":40107068,"question_id":39849984,"body_markdown":"The Exception comes in your code, where you convert the String to an Integer :\r\n\r\n    int first_value = Integer.parseInt(cards[index]);\r\n\r\nwhere you pass a String as **&quot;Ace of Clubs&quot;** which is not possible to convert as integer,so it throws Number Format Exception. You can use,\r\n\r\n    try {\r\n         ....\r\n         // Your Code\r\n         ....\r\n        }\r\n    catch(NumberFormatException e)\r\n    {\r\n        e.getMessage();  //You can use anyone like printStackTrace() ,getMessage() to handle the Exception\r\n    }\r\n\r\n","title":"What is a NumberFormatException and how can I fix it?","body":"<p>The Exception comes in your code, where you convert the String to an Integer :</p>\n\n<pre><code>int first_value = Integer.parseInt(cards[index]);\n</code></pre>\n\n<p>where you pass a String as <strong>\"Ace of Clubs\"</strong> which is not possible to convert as integer,so it throws Number Format Exception. You can use,</p>\n\n<pre><code>try {\n     ....\n     // Your Code\n     ....\n    }\ncatch(NumberFormatException e)\n{\n    e.getMessage();  //You can use anyone like printStackTrace() ,getMessage() to handle the Exception\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2651276,"reputation":300,"user_id":2292883,"display_name":"Andrew Tofelt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476824398,"creation_date":1476824398,"answer_id":40117980,"question_id":39849984,"body_markdown":"A `NumberFormatException` means that `Integer.parseInt()` couldn&#39;t translate the string  into a number.\r\n\r\nI would suggest one of two options:\r\n\r\n1. Encapsulate cards as a name(string)/value(int) combo. Use the value to do comparisons, and the name to present info to the user. `Cards[]` then becomes a list of cards, not strings.\r\n\r\n2. Parse the strings yourself. Which may be easier, since you&#39;ve already done it with the `if(cards[index].startsWith(&quot;Ace&quot;)) { value = 1; }` bits. You can move those into a function called `CardToInt()` (or whatever), and use that function instead of `Integer.parseInt()`.","title":"What is a NumberFormatException and how can I fix it?","body":"<p>A <code>NumberFormatException</code> means that <code>Integer.parseInt()</code> couldn't translate the string  into a number.</p>\n\n<p>I would suggest one of two options:</p>\n\n<ol>\n<li><p>Encapsulate cards as a name(string)/value(int) combo. Use the value to do comparisons, and the name to present info to the user. <code>Cards[]</code> then becomes a list of cards, not strings.</p></li>\n<li><p>Parse the strings yourself. Which may be easier, since you've already done it with the <code>if(cards[index].startsWith(\"Ace\")) { value = 1; }</code> bits. You can move those into a function called <code>CardToInt()</code> (or whatever), and use that function instead of <code>Integer.parseInt()</code>.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3413718,"reputation":863,"user_id":2863159,"accept_rate":25,"display_name":"Rajesh Gopu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476862735,"creation_date":1476862735,"answer_id":40125041,"question_id":39849984,"body_markdown":"    java.lang.NumberFormatException \r\noccurs when you are trying to parse some input which not a Number string.\r\n\r\nIn your case your trying to parse a string (which not has number )as Integer.\r\nAs its not possible\r\nNumberFormatException  exception occured.\r\n\r\n    int first_value = Integer.parseInt(cards[index]);//cards[index] value should be //number string &quot;123&quot; not &quot;abc&quot;","title":"What is a NumberFormatException and how can I fix it?","body":"<pre><code>java.lang.NumberFormatException \n</code></pre>\n\n<p>occurs when you are trying to parse some input which not a Number string.</p>\n\n<p>In your case your trying to parse a string (which not has number )as Integer.\nAs its not possible\nNumberFormatException  exception occured.</p>\n\n<pre><code>int first_value = Integer.parseInt(cards[index]);//cards[index] value should be //number string \"123\" not \"abc\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4700372,"reputation":449,"user_id":3804085,"display_name":"roopaliv"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476863160,"creation_date":1476863160,"answer_id":40125168,"question_id":39849984,"body_markdown":"    int first_value = Integer.parseInt(cards[index]); \r\n\r\nwhile writing the above statement, you are trying to parse &quot;Ace of Clubs&quot; as a number. \r\n\r\nyou can use the following method to test if any string can be parsed as Integer:\r\n\r\n    boolean tryParseInt(String value) {  \r\n         try {  \r\n             Integer.parseInt(value);  \r\n             return true;  \r\n          } catch (NumberFormatException e) {  \r\n             return false;  \r\n          }  \r\n    }\r\n\r\n\r\nRegarding your question, what is NumberFormatException : It is thrown to indicate that the application has attempted to convert a string to one of the numeric types, but that the string does not have the appropriate format. (ref -[http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html][1])\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html","title":"What is a NumberFormatException and how can I fix it?","body":"<pre><code>int first_value = Integer.parseInt(cards[index]); \n</code></pre>\n\n<p>while writing the above statement, you are trying to parse \"Ace of Clubs\" as a number. </p>\n\n<p>you can use the following method to test if any string can be parsed as Integer:</p>\n\n<pre><code>boolean tryParseInt(String value) {  \n     try {  \n         Integer.parseInt(value);  \n         return true;  \n      } catch (NumberFormatException e) {  \n         return false;  \n      }  \n}\n</code></pre>\n\n<p>Regarding your question, what is NumberFormatException : It is thrown to indicate that the application has attempted to convert a string to one of the numeric types, but that the string does not have the appropriate format. (ref -<a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/lang/NumberFormatException.html</a>)</p>\n"},{"tags":[],"owner":{"account_id":9453636,"reputation":51,"user_id":7029589,"display_name":"jmlotero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1476867967,"creation_date":1476867967,"answer_id":40126848,"question_id":39849984,"body_markdown":"A NumberFormatException is the way Java has to say you &quot;I tried to convert a String to int and I could not do it&quot;.\r\n\r\nIn your exception trace you can read\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Ace of Clubs&quot;\r\n        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.lang.Integer.parseInt(Integer.java:580)\r\n        at java.lang.Integer.parseInt(Integer.java:615)\r\n        at set07102.Cards.main(Cards.java:68)\r\n\r\nBasically, it means that at the line 68 of your code you call to the Integer.parseInt method passing &quot;Ace of Clubs&quot; as paremeter. This method expects a integer value represented as String, e.g. &quot;4&quot;, so method complains throwing a NumberFormatException because &quot;Ace of Clubs&quot; does not seem a integer at all.","title":"What is a NumberFormatException and how can I fix it?","body":"<p>A NumberFormatException is the way Java has to say you \"I tried to convert a String to int and I could not do it\".</p>\n\n<p>In your exception trace you can read</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NumberFormatException: For input string: \"Ace of Clubs\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at set07102.Cards.main(Cards.java:68)\n</code></pre>\n\n<p>Basically, it means that at the line 68 of your code you call to the Integer.parseInt method passing \"Ace of Clubs\" as paremeter. This method expects a integer value represented as String, e.g. \"4\", so method complains throwing a NumberFormatException because \"Ace of Clubs\" does not seem a integer at all.</p>\n"}],"owner":{"account_id":9321739,"reputation":529,"user_id":6920275,"accept_rate":0,"display_name":"Qasim Imtiaz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":131573,"favorite_count":0,"down_vote_count":7,"up_vote_count":39,"answer_count":9,"score":32,"last_activity_date":1661711789,"creation_date":1475577063,"question_id":39849984,"body_markdown":"    Error Message:\r\n    Exception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;Ace of Clubs&quot;\r\n    \tat java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n    \tat java.lang.Integer.parseInt(Integer.java:580)\r\n    \tat java.lang.Integer.parseInt(Integer.java:615)\r\n    \tat set07102.Cards.main(Cards.java:68)\r\n    C:\\Users\\qasim\\AppData\\Local\\NetBeans\\Cache\\8.1\\executor-snippets\\run.xml:53: Java returned: 1\r\n    BUILD FAILED (total time: 0 seconds)\r\n\r\nMy While Loop:\r\n\r\n    while (response != &#39;q&#39; &amp;&amp; index &lt; 52) {\r\n    \tSystem.out.println(cards[index]);\r\n        int first_value = Integer.parseInt(cards[index]);\r\n        int value = 0;\r\n    \t//Add a Scanner\r\n        Scanner scanner = new Scanner(System.in);\r\n        System.out.println(&quot;Will the next card be higher or lower?, press q if you want to quit&quot;);\r\n        String guess = scanner.nextLine();\r\n        if(cards[index].startsWith(&quot;Ace&quot;)) { value = 1; }\r\n        if(cards[index].startsWith(&quot;2&quot;)) { value = 2; }\r\n        if(cards[index].startsWith(&quot;3&quot;)) { value = 3; }\r\n        //checking 4-10\r\n        if(cards[index].startsWith(&quot;Queen&quot;)){ value = 11; }\r\n        if(cards[index].startsWith(&quot;King&quot;)){ value = 12; }\r\n        if(guess.startsWith(&quot;h&quot;)){\r\n            if(value &gt; first_value){ System.out.println(&quot;You answer was right, weldone!&quot;); } \r\n            else { System.out.println(&quot;You answer was wrong, try again!&quot;); }\r\n        } else if(guess.startsWith(&quot;l&quot;)){\r\n            if(value &lt; first_value) { System.out.println(&quot;You answer as right, try again!&quot;); }\r\n            else { System.out.println(&quot;You answer was wrong, try again!&quot;); }\r\n        } else { System.out.println(&quot;Your was not valid, try again!&quot;); }\r\n    \tscanner.close();\t\t\t\r\n    \tindex++;\r\n    }//end of while loop\r\n                    ","title":"What is a NumberFormatException and how can I fix it?","body":"<pre><code>Error Message:\nException in thread \"main\" java.lang.NumberFormatException: For input string: \"Ace of Clubs\"\n    at java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n    at java.lang.Integer.parseInt(Integer.java:580)\n    at java.lang.Integer.parseInt(Integer.java:615)\n    at set07102.Cards.main(Cards.java:68)\nC:\\Users\\qasim\\AppData\\Local\\NetBeans\\Cache\\8.1\\executor-snippets\\run.xml:53: Java returned: 1\nBUILD FAILED (total time: 0 seconds)\n</code></pre>\n\n<p>My While Loop:</p>\n\n<pre><code>while (response != 'q' &amp;&amp; index &lt; 52) {\n    System.out.println(cards[index]);\n    int first_value = Integer.parseInt(cards[index]);\n    int value = 0;\n    //Add a Scanner\n    Scanner scanner = new Scanner(System.in);\n    System.out.println(\"Will the next card be higher or lower?, press q if you want to quit\");\n    String guess = scanner.nextLine();\n    if(cards[index].startsWith(\"Ace\")) { value = 1; }\n    if(cards[index].startsWith(\"2\")) { value = 2; }\n    if(cards[index].startsWith(\"3\")) { value = 3; }\n    //checking 4-10\n    if(cards[index].startsWith(\"Queen\")){ value = 11; }\n    if(cards[index].startsWith(\"King\")){ value = 12; }\n    if(guess.startsWith(\"h\")){\n        if(value &gt; first_value){ System.out.println(\"You answer was right, weldone!\"); } \n        else { System.out.println(\"You answer was wrong, try again!\"); }\n    } else if(guess.startsWith(\"l\")){\n        if(value &lt; first_value) { System.out.println(\"You answer as right, try again!\"); }\n        else { System.out.println(\"You answer was wrong, try again!\"); }\n    } else { System.out.println(\"Your was not valid, try again!\"); }\n    scanner.close();            \n    index++;\n}//end of while loop\n</code></pre>\n"},{"tags":["java","max","processing"],"answers":[{"tags":[],"owner":{"account_id":17632797,"reputation":41,"user_id":12796577,"display_name":"gerome"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661670292,"creation_date":1661151702,"answer_id":73441268,"question_id":73425665,"body_markdown":"I found a post which suggests that there is a problem with Max using Processing&#180;s OpenGL related capacities: &quot;since OpenGL uses also native libraries (*.dll files) and not only *.jar files. I don&#39;t know if its possible in MaxMSP - that depends on how they set up their JVM.&quot; \r\nhttps://forum.processing.org/one/topic/use-processing-from-within-max-msp-or-from-matlab.html","title":"Max cycling74 mxj dependency","body":"<p>I found a post which suggests that there is a problem with Max using Processing´s OpenGL related capacities: &quot;since OpenGL uses also native libraries (*.dll files) and not only *.jar files. I don't know if its possible in MaxMSP - that depends on how they set up their JVM.&quot;\n<a href=\"https://forum.processing.org/one/topic/use-processing-from-within-max-msp-or-from-matlab.html\" rel=\"nofollow noreferrer\">https://forum.processing.org/one/topic/use-processing-from-within-max-msp-or-from-matlab.html</a></p>\n"}],"owner":{"account_id":17632797,"reputation":41,"user_id":12796577,"display_name":"gerome"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661711538,"creation_date":1660988929,"question_id":73425665,"body_markdown":"My goal: Running **Processing.org (version 3.5.4)** from **Max (cycling74) version 8** on **Windows 10** `64` through writing an `MXJ` external (Max Java support). I want to open a processing test sketch within window from `MAX` by sending a bang message to the `MXJ` external. For this I have \r\n```JAVA\r\nclass MaxJavaTest3 extends MaxObject which calls \r\nclass TestProcessing extends PApplet.    \r\n\r\n     public class MaxJavaTest3 extends MaxObject {\r\n        \r\n            public void bang() {\r\n                String[] args = {};\r\n                TestProcessing.main(args);\r\n            }\r\n        }\r\n        \r\n        public class TestProcessing extends PApplet {\r\n        \r\n            public static void main(String args[] ) {\r\n              PApplet.main(&quot;TestProcessing&quot;, args);\r\n            }\r\n        \r\n            public void settings() {        \r\n                size(920, 780); \r\n            }\r\n        \r\n            public void setup() {        \r\n                background(0);\r\n                fill(255, 0, 0);\r\n                circle(width/2, height/2, 80);        \r\n            }\r\n        }\r\n```\r\n\r\nIn IntelliJ, I set the dependencies for `Max` and `Java`. The bang message is received in Java e.g. triggering some text messages to the console. If I execute PApplet.main via the entry point TestProcessing.main, the processing window opens. So far so good, but trying to invoke PApplet.main via MaxJavaTest3.bang() method I get the error: \r\n```JAVA\r\n    java.lang.RuntimeException: java.lang.ClassNotFoundException: TestProcessing\r\n    \tat processing.core.PApplet.runSketch(PApplet.java:10852)\r\n    \tat processing.core.PApplet.main(PApplet.java:10657)\r\n    \tat TestProcessing.main(TestProcessing.java:11)\r\n    \tat MaxJavaTest3.bang(MaxJavaTest3.java:19)\r\n    Caused by: java.lang.ClassNotFoundException: TestProcessing\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\r\n    \tat processing.core.PApplet.runSketch(PApplet.java:10845)\r\n    \t... 3 more\r\n```JAVA\r\n","title":"Max cycling74 mxj dependency","body":"<p>My goal: Running <strong>Processing.org (version 3.5.4)</strong> from <strong>Max (cycling74) version 8</strong> on <strong>Windows 10</strong> <code>64</code> through writing an <code>MXJ</code> external (Max Java support). I want to open a processing test sketch within window from <code>MAX</code> by sending a bang message to the <code>MXJ</code> external. For this I have</p>\n<pre><code>class MaxJavaTest3 extends MaxObject which calls \nclass TestProcessing extends PApplet.    \n\n     public class MaxJavaTest3 extends MaxObject {\n        \n            public void bang() {\n                String[] args = {};\n                TestProcessing.main(args);\n            }\n        }\n        \n        public class TestProcessing extends PApplet {\n        \n            public static void main(String args[] ) {\n              PApplet.main(&quot;TestProcessing&quot;, args);\n            }\n        \n            public void settings() {        \n                size(920, 780); \n            }\n        \n            public void setup() {        \n                background(0);\n                fill(255, 0, 0);\n                circle(width/2, height/2, 80);        \n            }\n        }\n</code></pre>\n<p>In IntelliJ, I set the dependencies for <code>Max</code> and <code>Java</code>. The bang message is received in Java e.g. triggering some text messages to the console. If I execute PApplet.main via the entry point TestProcessing.main, the processing window opens. So far so good, but trying to invoke PApplet.main via MaxJavaTest3.bang() method I get the error:</p>\n<pre><code>    java.lang.RuntimeException: java.lang.ClassNotFoundException: TestProcessing\n        at processing.core.PApplet.runSketch(PApplet.java:10852)\n        at processing.core.PApplet.main(PApplet.java:10657)\n        at TestProcessing.main(TestProcessing.java:11)\n        at MaxJavaTest3.bang(MaxJavaTest3.java:19)\n    Caused by: java.lang.ClassNotFoundException: TestProcessing\n        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\n        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521)\n        at processing.core.PApplet.runSketch(PApplet.java:10845)\n        ... 3 more\n```JAVA\n</code></pre>\n"},{"tags":["java","jsf"],"answers":[{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661710842,"creation_date":1661710215,"answer_id":73521080,"question_id":73520414,"body_markdown":"Quite true, the image ui element in JSF is only a box for a graphic.\r\nThe JSF ui component must implement ActionSource interface in its hierarchy to bind an event.\r\nAlso, command button elements do not tend to operate unless inside a jsf form element.\r\nYou can wrap a commandButton around the image.","title":"JSF: use &lt;f:setPropertyActionListener /&gt; inside a graphicImage","body":"<p>Quite true, the image ui element in JSF is only a box for a graphic.\nThe JSF ui component must implement ActionSource interface in its hierarchy to bind an event.\nAlso, command button elements do not tend to operate unless inside a jsf form element.\nYou can wrap a commandButton around the image.</p>\n"}],"owner":{"account_id":26181717,"reputation":3,"user_id":19864996,"display_name":"yothats.ju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73521080,"answer_count":1,"score":0,"last_activity_date":1661710842,"creation_date":1661704455,"question_id":73520414,"body_markdown":"Every time I try to use &quot;setPropertyActionListener&quot; inside an graphicImage, this shows up:\r\n[Error Message][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tN1I3.png\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h:graphicImage value=&quot;/images/h.png&quot;&gt;\r\n         &lt;f:setPropertyActionListener target=&quot;#{pokemonController.haarfarbe}&quot; value=&quot;h&quot; /&gt;\r\n&lt;/h:graphicImage&gt;\r\n                \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nDoes it only work with commandButtons?\r\n\r\n**EDIT:**\r\ncorrect way:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;h:commandLink action=&quot;Augenfarbe.xhtml&quot;&gt;\r\n          &lt;h:graphicImage value=&quot;/images/h.png&quot; /&gt;             \r\n          &lt;f:setPropertyActionListener target=&quot;#{pokemonController.hautfarbe}&quot; value=&quot;h&quot; /&gt;\r\n    &lt;/h:commandLink&gt;\r\n                \r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"JSF: use &lt;f:setPropertyActionListener /&gt; inside a graphicImage","body":"<p>Every time I try to use &quot;setPropertyActionListener&quot; inside an graphicImage, this shows up:\n<a href=\"https://i.stack.imgur.com/tN1I3.png\" rel=\"nofollow noreferrer\">Error Message</a></p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;h:graphicImage value=\"/images/h.png\"&gt;\n     &lt;f:setPropertyActionListener target=\"#{pokemonController.haarfarbe}\" value=\"h\" /&gt;\n&lt;/h:graphicImage&gt;\n            </code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Does it only work with commandButtons?</p>\n<p><strong>EDIT:</strong>\ncorrect way:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;h:commandLink action=&quot;Augenfarbe.xhtml&quot;&gt;\n      &lt;h:graphicImage value=&quot;/images/h.png&quot; /&gt;             \n      &lt;f:setPropertyActionListener target=&quot;#{pokemonController.hautfarbe}&quot; value=&quot;h&quot; /&gt;\n&lt;/h:commandLink&gt;\n            \n</code></pre>\n\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7739148,"reputation":3345,"user_id":5859654,"display_name":"Nemanja"},"score":0,"creation_date":1661693689,"post_id":73518751,"comment_id":129827803,"body_markdown":"Can&#39;t reproduce this. Please share full dependency list of pom.xml.Btw, what is this dependency: &lt;dependency&gt;\n            &lt;groupId&gt;com.rajansoft&lt;/groupId&gt;\n            &lt;artifactId&gt;service&lt;/artifactId&gt;\n            &lt;version&gt;${project.version}&lt;/version&gt;\n        &lt;/dependency&gt;","body":"Can&#39;t reproduce this. Please share full dependency list of pom.xml.Btw, what is this dependency: &lt;dependency&gt;             &lt;groupId&gt;com.rajansoft&lt;/groupId&gt;             &lt;artifactId&gt;service&lt;/artifactId&gt;             &lt;version&gt;${project.version}&lt;/version&gt;         &lt;/dependency&gt;"}],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661710702,"creation_date":1661692003,"answer_id":73518926,"question_id":73518751,"body_markdown":"Try this additional dependency as the first dependency in the dependencies-node:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3&lt;/version&gt;\r\n        \r\n    &lt;/dependency&gt;\r\n\r\nIt ususally is a transient-dependency of spring-boot-starter-tomcat. ","title":"&quot;Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletConfig&quot; when running Spring Boot program","body":"<p>Try this additional dependency as the first dependency in the dependencies-node:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;2.3&lt;/version&gt;\n    \n&lt;/dependency&gt;\n</code></pre>\n<p>It ususally is a transient-dependency of spring-boot-starter-tomcat.</p>\n"}],"owner":{"account_id":1428787,"reputation":37,"user_id":9571572,"display_name":"Mohammad Yazdian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1693,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661710702,"creation_date":1661690464,"question_id":73518751,"body_markdown":"I am using Spring Boot 2.7.3 and java 11.0.16 and I package and run my project using the spring-boot-starter-undertow library.\r\n\r\npom.xml\r\n\r\n    ...\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;!-- Web Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.rajansoft&lt;/groupId&gt;\r\n            &lt;artifactId&gt;service&lt;/artifactId&gt;\r\n            &lt;version&gt;${project.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    \r\n        &lt;!-- Commons Dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-validator&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    ...\r\n\r\nBut when running the project I get the following error:\r\n    \r\n    java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@77556fd]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:743) ~[spring-core-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.util.ReflectionUtils.findField(ReflectionUtils.java:611) ~[spring-core-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.retrieveResourceLoader(ClassLoaderFilesResourcePatternResolver.java:81) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.&lt;init&gt;(ClassLoaderFilesResourcePatternResolver.java:77) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:442) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:430) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationPreparedEvent(RestartApplicationListener.java:100) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationEvent(RestartApplicationListener.java:53) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.22.jar:5.3.22]\r\n    \tat org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:103) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:74) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:74) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:401) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\r\n    \tat com.rajansoft.systeminfo.main.SystemInfoServiceApplication.main(SystemInfoServiceApplication.java:21) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\r\n    Caused by: java.lang.NoClassDefFoundError: Ljavax/servlet/ServletConfig;\r\n    \tat java.base/java.lang.Class.getDeclaredFields0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061) ~[na:na]\r\n    \tat java.base/java.lang.Class.getDeclaredFields(Class.java:2248) ~[na:na]\r\n    \tat org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:738) ~[spring-core-5.3.22.jar:5.3.22]\r\n    \t... 27 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletConfig\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\r\n    \t... 31 common frames omitted\r\n    \r\n    Disconnected from the target VM, address: &#39;127.0.0.1:60389&#39;, transport: &#39;socket&#39;\r\n    \r\n    Process finished with exit code 0\r\n\r\nIf I use the default spring-boot-starter-tomcat, no error is thrown and the project runs without any error.\r\nI googled this issue a lot but could not solve the problem.\r\nCan anyone guide me?","title":"&quot;Caused by: java.lang.ClassNotFoundException: javax.servlet.ServletConfig&quot; when running Spring Boot program","body":"<p>I am using Spring Boot 2.7.3 and java 11.0.16 and I package and run my project using the spring-boot-starter-undertow library.</p>\n<p>pom.xml</p>\n<pre><code>...\n\n&lt;dependencies&gt;\n    &lt;!-- Web Dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-undertow&lt;/artifactId&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.rajansoft&lt;/groupId&gt;\n        &lt;artifactId&gt;service&lt;/artifactId&gt;\n        &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;!-- Commons Dependencies --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-validator&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-validator&lt;/artifactId&gt;\n        &lt;version&gt;1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n...\n</code></pre>\n<p>But when running the project I get the following error:</p>\n<pre><code>java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext] from ClassLoader [jdk.internal.loader.ClassLoaders$AppClassLoader@77556fd]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:743) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.util.ReflectionUtils.findField(ReflectionUtils.java:611) ~[spring-core-5.3.22.jar:5.3.22]\n    at org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.retrieveResourceLoader(ClassLoaderFilesResourcePatternResolver.java:81) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.boot.devtools.restart.ClassLoaderFilesResourcePatternResolver.&lt;init&gt;(ClassLoaderFilesResourcePatternResolver.java:77) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:442) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.boot.devtools.restart.Restarter.prepare(Restarter.java:430) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationPreparedEvent(RestartApplicationListener.java:100) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.boot.devtools.restart.RestartApplicationListener.onApplicationEvent(RestartApplicationListener.java:53) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.doInvokeListener(SimpleApplicationEventMulticaster.java:176) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:169) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:143) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:131) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.context.event.EventPublishingRunListener.contextLoaded(EventPublishingRunListener.java:103) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplicationRunListeners.lambda$contextLoaded$4(SpringApplicationRunListeners.java:74) ~[spring-boot-2.7.3.jar:2.7.3]\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1541) ~[na:na]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:120) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplicationRunListeners.doWithListeners(SpringApplicationRunListeners.java:114) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplicationRunListeners.contextLoaded(SpringApplicationRunListeners.java:74) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.prepareContext(SpringApplication.java:401) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:307) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.3.jar:2.7.3]\n    at com.rajansoft.systeminfo.main.SystemInfoServiceApplication.main(SystemInfoServiceApplication.java:21) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-2.7.3.jar:2.7.3]\nCaused by: java.lang.NoClassDefFoundError: Ljavax/servlet/ServletConfig;\n    at java.base/java.lang.Class.getDeclaredFields0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredFields(Class.java:3061) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredFields(Class.java:2248) ~[na:na]\n    at org.springframework.util.ReflectionUtils.getDeclaredFields(ReflectionUtils.java:738) ~[spring-core-5.3.22.jar:5.3.22]\n    ... 27 common frames omitted\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletConfig\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:521) ~[na:na]\n    ... 31 common frames omitted\n\nDisconnected from the target VM, address: '127.0.0.1:60389', transport: 'socket'\n\nProcess finished with exit code 0\n</code></pre>\n<p>If I use the default spring-boot-starter-tomcat, no error is thrown and the project runs without any error.\nI googled this issue a lot but could not solve the problem.\nCan anyone guide me?</p>\n"},{"tags":["java","google-cloud-platform","google-cloud-pubsub"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":1,"creation_date":1661714733,"post_id":73521022,"comment_id":129832211,"body_markdown":"The ordering key is always a string, the message data is in B64, encode whatever you want in the payload.","body":"The ordering key is always a string, the message data is in B64, encode whatever you want in the payload."},{"owner":{"account_id":10089234,"reputation":69,"user_id":7456736,"accept_rate":0,"display_name":"Kiras"},"score":0,"creation_date":1661803426,"post_id":73521022,"comment_id":129854113,"body_markdown":"Thanks for the information. \nCan’t I have an object as avro and convert to ByteString and do pubsubmessage.setOrderingKeyBytes( byteString) ? This way I can use avro, json or normal string as key?","body":"Thanks for the information.  Can’t I have an object as avro and convert to ByteString and do pubsubmessage.setOrderingKeyBytes( byteString) ? This way I can use avro, json or normal string as key?"},{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1661805586,"post_id":73521022,"comment_id":129854652,"body_markdown":"Hmm you could. I didn&#39;t find the max length but I&#39;m sure there is a limit. However, I&#39;m not sure to understand the use case...","body":"Hmm you could. I didn&#39;t find the max length but I&#39;m sure there is a limit. However, I&#39;m not sure to understand the use case..."}],"owner":{"account_id":10089234,"reputation":69,"user_id":7456736,"accept_rate":0,"display_name":"Kiras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661709693,"creation_date":1661709693,"question_id":73521022,"body_markdown":"I have started using gcp pubsub to publish messages in my application through Java client libraries. Though I have one question regarding ordering key type. In the PubSubMessage object, the setter for ordering key as input argument as String.. Is it possible to use ordering key as avro or other types? ( for data we can use string, json, avro etc )\r\n","title":"Gcp pubsub ordering key","body":"<p>I have started using gcp pubsub to publish messages in my application through Java client libraries. Though I have one question regarding ordering key type. In the PubSubMessage object, the setter for ordering key as input argument as String.. Is it possible to use ordering key as avro or other types? ( for data we can use string, json, avro etc )</p>\n"},{"tags":["java","spring","spring-boot","spring-cloud-gateway"],"comments":[{"owner":{"account_id":268201,"reputation":419,"user_id":1573368,"display_name":"Sheel Prabhakar"},"score":0,"creation_date":1661169655,"post_id":73421082,"comment_id":129700209,"body_markdown":"you should check this https://stackoverflow.com/questions/66254535/spring-cloud-gateway-global-exception-handling-and-custom-error-response","body":"you should check this <a href=\"https://stackoverflow.com/questions/66254535/spring-cloud-gateway-global-exception-handling-and-custom-error-response\" title=\"spring cloud gateway global exception handling and custom error response\">stackoverflow.com/questions/66254535/&hellip;</a>"},{"owner":{"account_id":4890986,"reputation":1123,"user_id":3942132,"display_name":"Roie Beck"},"score":0,"creation_date":1661670967,"post_id":73421082,"comment_id":129823667,"body_markdown":"I asked the same question(only not in the SCG), but it shouldn&#39;t matter to you:\n\nhttps://stackoverflow.com/questions/62321371/spring-webflux-redirect-all-404-pages-to-index-html\n\nThe router beans are loaded via the order in the class from top to bottom (or via the use of @Order annotation), you can simply add a redirect to all unmapped(/**) to the UI at the button of the class, or even better at a new router file with Order lowestPriority","body":"I asked the same question(only not in the SCG), but it shouldn&#39;t matter to you:  <a href=\"https://stackoverflow.com/questions/62321371/spring-webflux-redirect-all-404-pages-to-index-html\" title=\"spring webflux redirect all 404 pages to index html\">stackoverflow.com/questions/62321371/&hellip;</a>  The router beans are loaded via the order in the class from top to bottom (or via the use of @Order annotation), you can simply add a redirect to all unmapped(/**) to the UI at the button of the class, or even better at a new router file with Order lowestPriority"}],"answers":[{"tags":[],"owner":{"account_id":26059441,"reputation":83,"user_id":19761037,"display_name":"mpette"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661667611,"creation_date":1661667611,"answer_id":73516455,"question_id":73421082,"body_markdown":"```java\r\n@Controller\r\n@RequestMapping(&quot;${server.error.path:${error.path:/error}}&quot;)\r\npublic class ErrorHandler implements ErrorController {\r\n\r\n    @ResponseBody\r\n    @RequestMapping(produces = MediaType.TEXT_HTML_VALUE)\r\n    public String errorHtml() {\r\n        return &quot;custom error controller&quot;;\r\n    }\r\n}\r\n```\r\nThe request mappings are basically copied from the source code of BasicErrorController.\r\nSee https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/BasicErrorController.java\r\n\r\nThe `@ResponseBody` annotation is needed because the method is returning a string. The other two `@RequestMapping` annotations are directly copied from the source code.","title":"How to handle 404 error when using Spring Cloud Gateway","body":"<pre class=\"lang-java prettyprint-override\"><code>@Controller\n@RequestMapping(&quot;${server.error.path:${error.path:/error}}&quot;)\npublic class ErrorHandler implements ErrorController {\n\n    @ResponseBody\n    @RequestMapping(produces = MediaType.TEXT_HTML_VALUE)\n    public String errorHtml() {\n        return &quot;custom error controller&quot;;\n    }\n}\n</code></pre>\n<p>The request mappings are basically copied from the source code of BasicErrorController.\nSee <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/BasicErrorController.java\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/web/servlet/error/BasicErrorController.java</a></p>\n<p>The <code>@ResponseBody</code> annotation is needed because the method is returning a string. The other two <code>@RequestMapping</code> annotations are directly copied from the source code.</p>\n"},{"tags":[],"owner":{"account_id":17434662,"reputation":77,"user_id":12637910,"display_name":"Carlos"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661709684,"creation_date":1661709684,"answer_id":73521020,"question_id":73421082,"body_markdown":"In Spring Cloud Gateway you should extend AbstractErrorWebExceptionHandler. As you&#39;re using RouterFunction i guessed webflux involved there. The next example is extracted from spring boot (v2.7.3) docs (https://docs.spring.io/spring-boot/docs/2.7.3/reference/htmlsingle/#web.reactive.webflux.error-handling):\r\n\r\n\r\n    @Component\r\n    public class MyErrorWebExceptionHandler extends AbstractErrorWebExceptionHandler {\r\n        \r\n        public MyErrorWebExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\r\n            super(errorAttributes, resources, applicationContext);\r\n        }\r\n        \r\n        @Override\r\n        protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\r\n            return RouterFunctions.route(this::acceptsXml, this::handleErrorAsXml);\r\n        }\r\n        \r\n        private boolean acceptsXml(ServerRequest request) {\r\n            return request.headers().accept().contains(MediaType.APPLICATION_XML);\r\n        }\r\n        \r\n        public Mono&lt;ServerResponse&gt; handleErrorAsXml(ServerRequest request) {\r\n            BodyBuilder builder = ServerResponse.status(HttpStatus.INTERNAL_SERVER_ERROR);\r\n            // ... additional builder calls\r\n            return builder.build();\r\n        }\r\n    }\r\n\r\n","title":"How to handle 404 error when using Spring Cloud Gateway","body":"<p>In Spring Cloud Gateway you should extend AbstractErrorWebExceptionHandler. As you're using RouterFunction i guessed webflux involved there. The next example is extracted from spring boot (v2.7.3) docs (<a href=\"https://docs.spring.io/spring-boot/docs/2.7.3/reference/htmlsingle/#web.reactive.webflux.error-handling\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/2.7.3/reference/htmlsingle/#web.reactive.webflux.error-handling</a>):</p>\n<pre><code>@Component\npublic class MyErrorWebExceptionHandler extends AbstractErrorWebExceptionHandler {\n    \n    public MyErrorWebExceptionHandler(ErrorAttributes errorAttributes, Resources resources, ApplicationContext applicationContext) {\n        super(errorAttributes, resources, applicationContext);\n    }\n    \n    @Override\n    protected RouterFunction&lt;ServerResponse&gt; getRoutingFunction(ErrorAttributes errorAttributes) {\n        return RouterFunctions.route(this::acceptsXml, this::handleErrorAsXml);\n    }\n    \n    private boolean acceptsXml(ServerRequest request) {\n        return request.headers().accept().contains(MediaType.APPLICATION_XML);\n    }\n    \n    public Mono&lt;ServerResponse&gt; handleErrorAsXml(ServerRequest request) {\n        BodyBuilder builder = ServerResponse.status(HttpStatus.INTERNAL_SERVER_ERROR);\n        // ... additional builder calls\n        return builder.build();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8246209,"reputation":2826,"user_id":6202210,"accept_rate":52,"display_name":"s1n7ax"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1623,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1661709684,"creation_date":1660934967,"question_id":73421082,"body_markdown":"Application I&#39;m working serving static files of a frontend application inside the spring cloud gateway. At the moment any route other than the predefined once are ended up being 404 as expected.\r\n\r\n```java\r\n@Bean\r\npublic RouterFunction&lt;ServerResponse&gt; htmlRemoteAppointmentRouter(\r\n      @Value(&quot;classpath:/static/index.html&quot;)\r\n      Resource html) {\r\n    return route(GET(&quot;/&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html))\r\n        .andRoute(GET(&quot;/home/{*path}&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html))\r\n        .andRoute(GET(&quot;/user/{*path}&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html));\r\n}\r\n```\r\n\r\nHow ever, what I&#39;m expecting is to handle the 404 error and serve the index.html for all the failing GET requests.\r\n\r\n\r\nI tried to add the `/error` mapping. However on client, it still shows the `Whitelabel Error Page` for 404.\r\n\r\n```java\r\n@Controller\r\npublic class ErrorHandler implements ErrorController {\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String something() {\r\n        return &quot;error&quot;;\r\n    }\r\n}\r\n```\r\n","title":"How to handle 404 error when using Spring Cloud Gateway","body":"<p>Application I'm working serving static files of a frontend application inside the spring cloud gateway. At the moment any route other than the predefined once are ended up being 404 as expected.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic RouterFunction&lt;ServerResponse&gt; htmlRemoteAppointmentRouter(\n      @Value(&quot;classpath:/static/index.html&quot;)\n      Resource html) {\n    return route(GET(&quot;/&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html))\n        .andRoute(GET(&quot;/home/{*path}&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html))\n        .andRoute(GET(&quot;/user/{*path}&quot;), request -&gt; ok().contentType(MediaType.TEXT_HTML).bodyValue(html));\n}\n</code></pre>\n<p>How ever, what I'm expecting is to handle the 404 error and serve the index.html for all the failing GET requests.</p>\n<p>I tried to add the <code>/error</code> mapping. However on client, it still shows the <code>Whitelabel Error Page</code> for 404.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class ErrorHandler implements ErrorController {\n    @RequestMapping(&quot;/error&quot;)\n    public String something() {\n        return &quot;error&quot;;\n    }\n}\n</code></pre>\n"},{"tags":["java","selenium-webdriver","annotations"],"answers":[{"tags":[],"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1470904079,"creation_date":1470904079,"answer_id":38891095,"question_id":38889394,"body_markdown":"You need to mention any listener class that implements IAnnotationTransformer in testng.xml as @listeners annotation does not pick it up.\r\n\r\nFrom the TestNg documentation - \r\n\r\nThe @Listeners annotation can contain any class that extends org.testng.ITestNGListener except IAnnotationTransformer and IAnnotationTransformer2. The reason is that these listeners need to be known very early in the process so that TestNG can use them to rewrite your annotations, therefore you need to specify these listeners in your testng.xml file.\r\n\r\nURL - http://testng.org/doc/documentation-main.html#testng-listeners","title":"overridden transform method of IAnnotationTransformer interface is not called/executed","body":"<p>You need to mention any listener class that implements IAnnotationTransformer in testng.xml as @listeners annotation does not pick it up.</p>\n\n<p>From the TestNg documentation - </p>\n\n<p>The @Listeners annotation can contain any class that extends org.testng.ITestNGListener except IAnnotationTransformer and IAnnotationTransformer2. The reason is that these listeners need to be known very early in the process so that TestNG can use them to rewrite your annotations, therefore you need to specify these listeners in your testng.xml file.</p>\n\n<p>URL - <a href=\"http://testng.org/doc/documentation-main.html#testng-listeners\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#testng-listeners</a></p>\n"},{"tags":[],"owner":{"account_id":3838373,"reputation":1,"user_id":3182186,"display_name":"user3182186"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661709138,"creation_date":1661668887,"answer_id":73516548,"question_id":38889394,"body_markdown":"I used `testng.xml` to use listeners but invocation count is not changing.\r\n    \r\n### testng.xml\r\n    \r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\r\n&lt;suite name=&quot;All Test Suite&quot;&gt;\r\n\t&lt;listeners&gt;\r\n\t\t&lt;listener class-name=&quot;org.example.Listeners&quot;/&gt;\r\n\t&lt;/listeners&gt;\r\n\t&lt;test name=&quot;E:/DemoOfListeners&quot;&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;org.example.testClass_listeners&quot;&gt;&lt;/class&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n&lt;/suite&gt;\r\n```\r\n\r\n### test class\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.testng.annotations.Test;\r\n\r\npublic class testClass_listeners {\r\n  Listeners obj = new Listeners();\r\n\r\n  @Test(invocationCount = 5)\r\n  public void testMethod() {\r\n    System.out.println(&quot;invocation count is changed to: &quot; + obj.countFromListeners);\r\n  }\r\n}\r\n```\r\n    \r\n### listeners class\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport org.testng.IAnnotationTransformer;\r\nimport org.testng.internal.annotations.ITest;\r\n\r\nimport java.lang.reflect.Constructor;\r\nimport java.lang.reflect.Method;\r\n\r\npublic class Listeners implements IAnnotationTransformer {\r\n  int countFromListeners = 3;\r\n\r\n  public void transform(ITest annotation, Class testClass, Constructor testConstructor, Method testMethod) {\r\n\r\n    if (testMethod.getName().contains(&quot;testClass_listeners&quot;)) {\r\n      annotation.setInvocationCount(countFromListeners);\r\n    }\r\n  }\r\n}\r\n```","title":"overridden transform method of IAnnotationTransformer interface is not called/executed","body":"<p>I used <code>testng.xml</code> to use listeners but invocation count is not changing.</p>\n<h3>testng.xml</h3>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;http://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;All Test Suite&quot;&gt;\n    &lt;listeners&gt;\n        &lt;listener class-name=&quot;org.example.Listeners&quot;/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;E:/DemoOfListeners&quot;&gt;\n        &lt;classes&gt;\n            &lt;class name=&quot;org.example.testClass_listeners&quot;&gt;&lt;/class&gt;\n        &lt;/classes&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<h3>test class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.testng.annotations.Test;\n\npublic class testClass_listeners {\n  Listeners obj = new Listeners();\n\n  @Test(invocationCount = 5)\n  public void testMethod() {\n    System.out.println(&quot;invocation count is changed to: &quot; + obj.countFromListeners);\n  }\n}\n</code></pre>\n<h3>listeners class</h3>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport org.testng.IAnnotationTransformer;\nimport org.testng.internal.annotations.ITest;\n\nimport java.lang.reflect.Constructor;\nimport java.lang.reflect.Method;\n\npublic class Listeners implements IAnnotationTransformer {\n  int countFromListeners = 3;\n\n  public void transform(ITest annotation, Class testClass, Constructor testConstructor, Method testMethod) {\n\n    if (testMethod.getName().contains(&quot;testClass_listeners&quot;)) {\n      annotation.setInvocationCount(countFromListeners);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":8631618,"reputation":101,"user_id":6463043,"accept_rate":50,"display_name":"RamaKrishna"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2697,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":38891095,"answer_count":2,"score":2,"last_activity_date":1661709138,"creation_date":1470898839,"question_id":38889394,"body_markdown":"overridden transform method of IAnnotationTransformer interface is not called/executed when listener is implemented internally using the @listener annotation. While it is working fine when executed from TestNG.xml\r\n\r\nTest Class\r\n\r\n    @Listeners(Annotation.AnnotationTransform.class)\r\n    public class factory {\r\n    \r\n        @\r\n        Test(priority = 1, invocationCount = 3)\r\n        public void t1() {\r\n            System.out.println(&quot;Method is t1, parameter is &quot; + &quot;one&quot;);\r\n            AssertJUnit.assertTrue(true);\r\n        }\r\n    \r\n        @\r\n        Test(priority = 2)\r\n        public void t2() {\r\n            System.out.println(&quot;Method is t2, parameter is &quot; + &quot;two&quot;);\r\n        }\r\n    \r\n        @\r\n        Test(priority = 3)\r\n        public void t3() {\r\n            System.out.println(&quot;Method is t3&quot;);\r\n        }\r\n    }\r\n\r\nListener Class\r\n\r\n    public class AnnotationTransform implements IAnnotationTransformer, IRetryAnalyzer {\r\n        @Override\r\n        public void transform(ITestAnnotation annotation, Class testClass,\r\n            Constructor testConstructor, Method testMethod) {\r\n            if (testMethod.getName().equals(&quot;t1&quot;)) {\r\n                System.out.println(&quot;set data provider for &quot; + testMethod.getName());\r\n                annotation.setInvocationCount(10);\r\n            } else if (testMethod.getName().equals(&quot;t3&quot;)) {\r\n                System.out.println(&quot;set data provider for &quot; + testMethod.getName());\r\n            } else if (testMethod.getName().equals(&quot;t2&quot;)) {\r\n                System.out.println(&quot;Disable &quot; + testMethod.getName());\r\n                annotation.setEnabled(false);\r\n            }\r\n        }\r\n    }\r\n\r\nRunning the above code as &#39;Run as TestNG Test&#39; is not invoking transform method\r\nwhile it is fine  when &#39;Run as TestNG Suite&#39; from below testNG.xml file\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;suite name=&quot;Suite&quot; parallel=&quot;false&quot; &gt;\r\n\t&lt;listeners&gt;\r\n\t\t&lt;listener class-name=&quot;Annotation.AnnotationTransform&quot; /&gt;\r\n\t&lt;/listeners&gt;\r\n\r\n\t&lt;test name=&quot;Test&quot; preserve-order=&quot;true&quot;&gt;\r\n\t\t&lt;classes&gt;\r\n\t\t\t&lt;class name=&quot;Annotation.factory&quot; /&gt;\r\n\t\t&lt;/classes&gt;\r\n\t&lt;/test&gt;\r\n    &lt;/suite&gt;\r\n","title":"overridden transform method of IAnnotationTransformer interface is not called/executed","body":"<p>overridden transform method of IAnnotationTransformer interface is not called/executed when listener is implemented internally using the @listener annotation. While it is working fine when executed from TestNG.xml</p>\n\n<p>Test Class</p>\n\n<pre><code>@Listeners(Annotation.AnnotationTransform.class)\npublic class factory {\n\n    @\n    Test(priority = 1, invocationCount = 3)\n    public void t1() {\n        System.out.println(\"Method is t1, parameter is \" + \"one\");\n        AssertJUnit.assertTrue(true);\n    }\n\n    @\n    Test(priority = 2)\n    public void t2() {\n        System.out.println(\"Method is t2, parameter is \" + \"two\");\n    }\n\n    @\n    Test(priority = 3)\n    public void t3() {\n        System.out.println(\"Method is t3\");\n    }\n}\n</code></pre>\n\n<p>Listener Class</p>\n\n<pre><code>public class AnnotationTransform implements IAnnotationTransformer, IRetryAnalyzer {\n    @Override\n    public void transform(ITestAnnotation annotation, Class testClass,\n        Constructor testConstructor, Method testMethod) {\n        if (testMethod.getName().equals(\"t1\")) {\n            System.out.println(\"set data provider for \" + testMethod.getName());\n            annotation.setInvocationCount(10);\n        } else if (testMethod.getName().equals(\"t3\")) {\n            System.out.println(\"set data provider for \" + testMethod.getName());\n        } else if (testMethod.getName().equals(\"t2\")) {\n            System.out.println(\"Disable \" + testMethod.getName());\n            annotation.setEnabled(false);\n        }\n    }\n}\n</code></pre>\n\n<p>Running the above code as 'Run as TestNG Test' is not invoking transform method\nwhile it is fine  when 'Run as TestNG Suite' from below testNG.xml file</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;suite name=\"Suite\" parallel=\"false\" &gt;\n&lt;listeners&gt;\n    &lt;listener class-name=\"Annotation.AnnotationTransform\" /&gt;\n&lt;/listeners&gt;\n\n&lt;test name=\"Test\" preserve-order=\"true\"&gt;\n    &lt;classes&gt;\n        &lt;class name=\"Annotation.factory\" /&gt;\n    &lt;/classes&gt;\n&lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n"},{"tags":["java","for-loop","methods"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661708908,"creation_date":1661708908,"answer_id":73520916,"question_id":73520863,"body_markdown":"Problem 1 you are trying to determine the &quot;tier&quot; in `main` when you should be doing so in `computeIncome`. I base this on the fact all branches of the `if` logic do the same thing in`main`. Problem 2 you aren&#39;t printing `salesAmount` at all, just the result of `computeIncome`. Fixing both issues is relatively simple, and could be done like\r\n\r\n\tpublic static double computeIncome(double salesAmount) {\r\n\t\tint base = 5000;\r\n\t\tif (salesAmount &lt;= 5000) {\r\n\t\t\treturn (salesAmount * .08 + base);\r\n\t\t} else if ((salesAmount &gt; 5001) &amp;&amp; (salesAmount &lt;= 10000)) {\r\n\t\t\treturn (salesAmount - 5000) * 0.10 + 400 + base;\r\n\t\t}\r\n\t\treturn (salesAmount - 10000) * .12 + 900 + base;\r\n\t}\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(&quot;Sales    \\t \\t Income&quot;);\r\n\t\tfor (double salesAmount = 1000; salesAmount &lt;= 20000; salesAmount += 1000) {\r\n\t\t\tSystem.out.printf(&quot;%9s \\t \\t %.2f%n&quot;,\r\n\t\t\t\t\t\tString.format(&quot;%.2f&quot;, salesAmount), \r\n\t\t\t\t\t\tcomputeIncome(salesAmount));\r\n\t\t}\r\n\t}","title":"How to link method to main method&#39;s if loop","body":"<p>Problem 1 you are trying to determine the &quot;tier&quot; in <code>main</code> when you should be doing so in <code>computeIncome</code>. I base this on the fact all branches of the <code>if</code> logic do the same thing in<code>main</code>. Problem 2 you aren't printing <code>salesAmount</code> at all, just the result of <code>computeIncome</code>. Fixing both issues is relatively simple, and could be done like</p>\n<pre><code>public static double computeIncome(double salesAmount) {\n    int base = 5000;\n    if (salesAmount &lt;= 5000) {\n        return (salesAmount * .08 + base);\n    } else if ((salesAmount &gt; 5001) &amp;&amp; (salesAmount &lt;= 10000)) {\n        return (salesAmount - 5000) * 0.10 + 400 + base;\n    }\n    return (salesAmount - 10000) * .12 + 900 + base;\n}\n\npublic static void main(String[] args) {\n    System.out.println(&quot;Sales    \\t \\t Income&quot;);\n    for (double salesAmount = 1000; salesAmount &lt;= 20000; salesAmount += 1000) {\n        System.out.printf(&quot;%9s \\t \\t %.2f%n&quot;,\n                    String.format(&quot;%.2f&quot;, salesAmount), \n                    computeIncome(salesAmount));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24928200,"reputation":9,"user_id":18795668,"display_name":"Cheyenne"},"comment_count":0,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"closed_date":1661723071,"accepted_answer_id":73520916,"answer_count":1,"score":-3,"last_activity_date":1661708908,"creation_date":1661708399,"question_id":73520863,"body_markdown":"I need to output the Sales on one column and the Income in another based on the if loop. I can not find a way to put my tier 1 with the first if condition, tier 2 with the second condition and tier 3 with the third if those tiers are in another method other than the main.\r\n\r\n    public class HW_1 \r\n    {\t\r\n\r\n\t\r\n    public static double computeIncome(double salesAmount) {\r\n    \t\t\r\n    \t\tint base = 5000;\r\n    \t\tdouble tier1 = (salesAmount * .08 + base);\r\n    \t\tdouble tier2 = (salesAmount - 5000) * 0.10 + 400 + base;\r\n    \t\tdouble tier3 = (salesAmount - 10000)* .12 + 900 + base;\r\n    \t\t\r\n    \t\treturn salesAmount;\r\n    \t}\r\n    \r\n    public static void main(String[] args) {\r\n    \t\r\n    \tSystem.out.println(&quot;Sales \\t \\t Income&quot;);\r\n    \t\r\n    \tfor(double salesAmount = 1000; salesAmount &lt;= 20000; salesAmount += 1000)\r\n    \t{\r\n    \t\tif(salesAmount &lt;= 5000)\r\n    \t\t\tSystem.out.println(computeIncome(salesAmount));\r\n    \t\telse if((salesAmount &gt; 5001) &amp;&amp; (salesAmount &lt;= 10000))\r\n    \t\t\tSystem.out.println(computeIncome(salesAmount));\r\n    \t\telse\r\n    \t\t\tSystem.out.println(computeIncome(salesAmount));\r\n    \t}\r\n    }\r\n    }\r\n\r\n","title":"How to link method to main method&#39;s if loop","body":"<p>I need to output the Sales on one column and the Income in another based on the if loop. I can not find a way to put my tier 1 with the first if condition, tier 2 with the second condition and tier 3 with the third if those tiers are in another method other than the main.</p>\n<pre><code>public class HW_1 \n{   \n\n\npublic static double computeIncome(double salesAmount) {\n        \n        int base = 5000;\n        double tier1 = (salesAmount * .08 + base);\n        double tier2 = (salesAmount - 5000) * 0.10 + 400 + base;\n        double tier3 = (salesAmount - 10000)* .12 + 900 + base;\n        \n        return salesAmount;\n    }\n\npublic static void main(String[] args) {\n    \n    System.out.println(&quot;Sales \\t \\t Income&quot;);\n    \n    for(double salesAmount = 1000; salesAmount &lt;= 20000; salesAmount += 1000)\n    {\n        if(salesAmount &lt;= 5000)\n            System.out.println(computeIncome(salesAmount));\n        else if((salesAmount &gt; 5001) &amp;&amp; (salesAmount &lt;= 10000))\n            System.out.println(computeIncome(salesAmount));\n        else\n            System.out.println(computeIncome(salesAmount));\n    }\n}\n}\n</code></pre>\n"},{"tags":["java","json","mongodb","bson"],"comments":[{"owner":{"account_id":8447748,"reputation":38021,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"score":0,"creation_date":1475874026,"post_id":39923406,"comment_id":67135117,"body_markdown":"What is your mongo version and java driver version?","body":"What is your mongo version and java driver version?"},{"owner":{"account_id":3067401,"reputation":113,"user_id":2598802,"display_name":"Bharath Karnam"},"score":0,"creation_date":1475902105,"post_id":39923406,"comment_id":67140703,"body_markdown":"My mongo is 3.2 and driver is 3.3","body":"My mongo is 3.2 and driver is 3.3"}],"answers":[{"tags":[],"owner":{"account_id":8447748,"reputation":38021,"user_id":6337748,"accept_rate":38,"display_name":"notionquest"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1475964398,"creation_date":1475964398,"answer_id":39937835,"question_id":39923406,"body_markdown":"No, it is not possible to produce the plain JSON. Please refer this [link][1].\r\n\r\nHowever, it can produce JSON in two modes.\r\n\r\n1) Strict mode - Output that you have already got\r\n\r\n2) Shell mode\r\n\r\n**Shell Mode:-**\r\n\r\n    JsonWriterSettings writerSettings = new JsonWriterSettings(JsonMode.SHELL, true);        \t\r\n    System.out.println(doc.toJson(writerSettings));\r\n\r\n**Output:-**\r\n\r\n    &quot;createdOn&quot; : ISODate(&quot;2016-07-16T16:26:51.951Z&quot;)\r\n\r\n[MongoDB Extended JSON][2]\r\n\r\n\r\n  [1]: https://groups.google.com/forum/#!msg/mongodb-user/c8lmyg9RvSY/_9kAdHOBYS8J\r\n  [2]: https://docs.mongodb.com/manual/reference/mongodb-extended-json/","title":"Bson Document to Json in Java","body":"<p>No, it is not possible to produce the plain JSON. Please refer this <a href=\"https://groups.google.com/forum/#!msg/mongodb-user/c8lmyg9RvSY/_9kAdHOBYS8J\" rel=\"nofollow noreferrer\">link</a>.</p>\n\n<p>However, it can produce JSON in two modes.</p>\n\n<p>1) Strict mode - Output that you have already got</p>\n\n<p>2) Shell mode</p>\n\n<p><strong>Shell Mode:-</strong></p>\n\n<pre><code>JsonWriterSettings writerSettings = new JsonWriterSettings(JsonMode.SHELL, true);           \nSystem.out.println(doc.toJson(writerSettings));\n</code></pre>\n\n<p><strong>Output:-</strong></p>\n\n<pre><code>\"createdOn\" : ISODate(\"2016-07-16T16:26:51.951Z\")\n</code></pre>\n\n<p><a href=\"https://docs.mongodb.com/manual/reference/mongodb-extended-json/\" rel=\"nofollow noreferrer\">MongoDB Extended JSON</a></p>\n"},{"tags":[],"owner":{"account_id":2489808,"reputation":3274,"user_id":2167531,"accept_rate":75,"display_name":"Shadow Man"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1490644053,"creation_date":1490644053,"answer_id":43055189,"question_id":39923406,"body_markdown":"Sadly, IMO, MongoDB Java support is broken.\r\n\r\nThat said, there is a `@deprecated` class in the mongo-java-driver that you can use:\r\n\r\n    String json = com.mongodb.util.JSON.serialize(document);\r\n    System.out.println(&quot;JSON serialized Document: &quot; + json);\r\n\r\nI&#39;m using this to produce fasterxml (jackson) compatible JSON from a `Document` object that I can deserialize via `new ObjectMapper().readValue(json, MyObject.class)`.\r\n     \r\nHowever, I&#39;m not sure what they expect you to use now that the `JSON` class is deprecated. But for the time being, it is still in the project (as of v3.4.2).\r\n\r\nI&#39;m importing the following in my pom:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongodb-driver-async&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- Sadly, we need the mongo-java-driver solely to serialize\r\n         Document objects in a sane manner --&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI&#39;m using the async driver for actually fetching and pushing updates to mongo, and the non-async driver solely for the use of the `JSON.serialize` method.","title":"Bson Document to Json in Java","body":"<p>Sadly, IMO, MongoDB Java support is broken.</p>\n\n<p>That said, there is a <code>@deprecated</code> class in the mongo-java-driver that you can use:</p>\n\n<pre><code>String json = com.mongodb.util.JSON.serialize(document);\nSystem.out.println(\"JSON serialized Document: \" + json);\n</code></pre>\n\n<p>I'm using this to produce fasterxml (jackson) compatible JSON from a <code>Document</code> object that I can deserialize via <code>new ObjectMapper().readValue(json, MyObject.class)</code>.</p>\n\n<p>However, I'm not sure what they expect you to use now that the <code>JSON</code> class is deprecated. But for the time being, it is still in the project (as of v3.4.2).</p>\n\n<p>I'm importing the following in my pom:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongodb-driver-async&lt;/artifactId&gt;\n  &lt;version&gt;3.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- Sadly, we need the mongo-java-driver solely to serialize\n     Document objects in a sane manner --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mongodb&lt;/groupId&gt;\n  &lt;artifactId&gt;mongo-java-driver&lt;/artifactId&gt;\n  &lt;version&gt;3.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I'm using the async driver for actually fetching and pushing updates to mongo, and the non-async driver solely for the use of the <code>JSON.serialize</code> method.</p>\n"},{"tags":[],"owner":{"account_id":3469420,"reputation":191,"user_id":2904212,"display_name":"Kenneth M. Kolano"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1517524759,"creation_date":1517524759,"answer_id":48572927,"question_id":39923406,"body_markdown":"In theory we are supposed to use `toJSON()` per...\r\nhttps://jira.mongodb.org/browse/JAVA-1770\r\n\r\nHowever, it seems that, at least up through 3.6, `toJSON()` isn&#39;t supported on various types the old `JSON.serialize()` method handled without issue, such as the `AggregateIterable&lt;Document&gt;` objects output by `aggregate()`.","title":"Bson Document to Json in Java","body":"<p>In theory we are supposed to use <code>toJSON()</code> per...\n<a href=\"https://jira.mongodb.org/browse/JAVA-1770\" rel=\"nofollow noreferrer\">https://jira.mongodb.org/browse/JAVA-1770</a></p>\n\n<p>However, it seems that, at least up through 3.6, <code>toJSON()</code> isn't supported on various types the old <code>JSON.serialize()</code> method handled without issue, such as the <code>AggregateIterable&lt;Document&gt;</code> objects output by <code>aggregate()</code>.</p>\n"},{"tags":[],"owner":{"account_id":4392368,"reputation":2150,"user_id":3580357,"display_name":"Benjamin Caure"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1585915603,"creation_date":1585915603,"answer_id":61011562,"question_id":39923406,"body_markdown":"Here is a 2020 update to answer exactly your question, i.e. getting this exact format:\r\n\r\n    &quot;modified&quot;:&quot;2016-07-16T16:26:51.951Z&quot;\r\n\r\nYou have to use writerSettings like notionquest suggested, but with a custom date converter and *DateTimeFormatter.ISO_INSTANT*:\r\n\r\n```\r\npublic class JsonDateTimeConverter implements Converter&lt;Long&gt; {\r\n\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(JsonDateTimeConverter.class);\r\n    static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ISO_INSTANT\r\n        .withZone(ZoneId.of(&quot;UTC&quot;));\r\n\r\n    @Override\r\n    public void convert(Long value, StrictJsonWriter writer) {\r\n        try {\r\n            Instant instant = new Date(value).toInstant();\r\n            String s = DATE_TIME_FORMATTER.format(instant);\r\n            writer.writeString(s);\r\n        } catch (Exception e) {\r\n            LOGGER.error(String.format(&quot;Fail to convert offset %d to JSON date&quot;, value), e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nUse it like this:\r\n\r\n    doc.toJson(JsonWriterSettings\r\n                .builder()\r\n                .dateTimeConverter(new JsonDateTimeConverter())\r\n                .build())","title":"Bson Document to Json in Java","body":"<p>Here is a 2020 update to answer exactly your question, i.e. getting this exact format:</p>\n\n<pre><code>\"modified\":\"2016-07-16T16:26:51.951Z\"\n</code></pre>\n\n<p>You have to use writerSettings like notionquest suggested, but with a custom date converter and <em>DateTimeFormatter.ISO_INSTANT</em>:</p>\n\n<pre><code>public class JsonDateTimeConverter implements Converter&lt;Long&gt; {\n\n    private static final Logger LOGGER = LoggerFactory.getLogger(JsonDateTimeConverter.class);\n    static final DateTimeFormatter DATE_TIME_FORMATTER = DateTimeFormatter.ISO_INSTANT\n        .withZone(ZoneId.of(\"UTC\"));\n\n    @Override\n    public void convert(Long value, StrictJsonWriter writer) {\n        try {\n            Instant instant = new Date(value).toInstant();\n            String s = DATE_TIME_FORMATTER.format(instant);\n            writer.writeString(s);\n        } catch (Exception e) {\n            LOGGER.error(String.format(\"Fail to convert offset %d to JSON date\", value), e);\n        }\n    }\n}\n</code></pre>\n\n<p>Use it like this:</p>\n\n<pre><code>doc.toJson(JsonWriterSettings\n            .builder()\n            .dateTimeConverter(new JsonDateTimeConverter())\n            .build())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2411350,"reputation":7732,"user_id":2106348,"display_name":"Vinod Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590948726,"creation_date":1590948726,"answer_id":62120532,"question_id":39923406,"body_markdown":"I used following \r\n\r\n    try {\r\n    \t\t\t\r\n    \t\t\tMongoDatabase db = mongoClient.getDatabase(&quot;dbname&quot;);\r\n    \t\t\t\r\n    \t\t\tMongoCollection&lt;Document&gt; collection = db.getCollection(&quot;nameofcollect&quot;);\r\n    \t\t\r\n    \t\t\tGson gson = new Gson();\r\n    \t\t\t\r\n    \t\t\tArrayList&lt;JsonObject&gt; array = new ArrayList&lt;JsonObject&gt;();\r\n    \t\t\t\r\n    \t\t\t\t\t\r\n    \t\t\tString jsonString = null;\r\n    \t\t\t/*WARNING Gson lib serialize string -&gt;means add slash if you convert &quot;json string&quot; into &quot;json string&quot;*/\r\n    \t\t\tfor (Document doc : collection.find()) {\r\n    \t\t\t\t jsonString = gson.toJson(doc);\t\t\t\t \r\n    \t\t\t\t array.add(new Gson().fromJson(jsonString, JsonObject.class));\r\n    \t        }\r\n    \t\t\t\t\t\t\t\t\t\r\n    \t\t\t//String finalarry = gson.toJson(array);\r\n    \r\n    \t\t\tMap&lt;Object, ArrayList&lt;JsonObject&gt;&gt; seedMap = new HashMap&lt;Object, ArrayList&lt;JsonObject&gt;&gt;();\r\n    \t\t\t// String encode = coCoRy.encryptAndEncode(jsonString);\r\n    \t\t\tseedMap.put(&quot;seed&quot;, array);\t\t\r\n    \t\t\tString seedJsonString = gson.toJson(seedMap);\r\n    \t\t\t\r\n    \t\t\tmongoClient.close();\r\n    \t\t\t\r\n    \t\t\treturn seedJsonString;\r\n    \t\t\t\r\n    \r\n    \t\t} catch (MongoException | ClassCastException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t\treturn null;\r\n    \t\t}\r\n\r\nResult will be like following\r\n\r\n    {\r\n        &quot;seed&quot;: [\r\n            {\r\n                &quot;_id&quot;: {\r\n                    &quot;timestamp&quot;: 1590914828,\r\n                    &quot;counter&quot;: 10457170,\r\n                    &quot;randomValue1&quot;: 5587428,\r\n                    &quot;randomValue2&quot;: -25784\r\n                },\r\n                &quot;FIR_EVID_NUM&quot;: &quot;3436345346&quot;,\r\n                &quot;FIR_REG_NUM&quot;: &quot;89678967&quot;,\r\n                &quot;LOGIN_ID&quot;: &quot;pc_admin&quot;,\r\n                &quot;MEDIA_PATH&quot;: &quot;C:\\\\Users\\\\ALPHAMALE\\\\Documents\\\\ShareX\\\\Screenshots\\\\2020-05\\\\1590211570.png&quot;\r\n            },\r\n            {\r\n                &quot;_id&quot;: {\r\n                    &quot;timestamp&quot;: 1590924463,\r\n                    &quot;counter&quot;: 7254997,\r\n                    &quot;randomValue1&quot;: 5012578,\r\n                    &quot;randomValue2&quot;: 24700\r\n                },\r\n                &quot;FIR_EVID_NUM&quot;: &quot;999999&quot;,\r\n                &quot;FIR_REG_NUM&quot;: &quot;888888&quot;,\r\n                &quot;LOGIN_ID&quot;: &quot;32323&quot;,\r\n                &quot;MEDIA_PATH&quot;: &quot;C:/uploads/c46847c7e2d130ffd746c789c0f0932e.png&quot;\r\n            }\r\n        ]\r\n    }","title":"Bson Document to Json in Java","body":"<p>I used following </p>\n\n<pre><code>try {\n\n            MongoDatabase db = mongoClient.getDatabase(\"dbname\");\n\n            MongoCollection&lt;Document&gt; collection = db.getCollection(\"nameofcollect\");\n\n            Gson gson = new Gson();\n\n            ArrayList&lt;JsonObject&gt; array = new ArrayList&lt;JsonObject&gt;();\n\n\n            String jsonString = null;\n            /*WARNING Gson lib serialize string -&gt;means add slash if you convert \"json string\" into \"json string\"*/\n            for (Document doc : collection.find()) {\n                 jsonString = gson.toJson(doc);              \n                 array.add(new Gson().fromJson(jsonString, JsonObject.class));\n            }\n\n            //String finalarry = gson.toJson(array);\n\n            Map&lt;Object, ArrayList&lt;JsonObject&gt;&gt; seedMap = new HashMap&lt;Object, ArrayList&lt;JsonObject&gt;&gt;();\n            // String encode = coCoRy.encryptAndEncode(jsonString);\n            seedMap.put(\"seed\", array);     \n            String seedJsonString = gson.toJson(seedMap);\n\n            mongoClient.close();\n\n            return seedJsonString;\n\n\n        } catch (MongoException | ClassCastException e) {\n            e.printStackTrace();\n            return null;\n        }\n</code></pre>\n\n<p>Result will be like following</p>\n\n<pre><code>{\n    \"seed\": [\n        {\n            \"_id\": {\n                \"timestamp\": 1590914828,\n                \"counter\": 10457170,\n                \"randomValue1\": 5587428,\n                \"randomValue2\": -25784\n            },\n            \"FIR_EVID_NUM\": \"3436345346\",\n            \"FIR_REG_NUM\": \"89678967\",\n            \"LOGIN_ID\": \"pc_admin\",\n            \"MEDIA_PATH\": \"C:\\\\Users\\\\ALPHAMALE\\\\Documents\\\\ShareX\\\\Screenshots\\\\2020-05\\\\1590211570.png\"\n        },\n        {\n            \"_id\": {\n                \"timestamp\": 1590924463,\n                \"counter\": 7254997,\n                \"randomValue1\": 5012578,\n                \"randomValue2\": 24700\n            },\n            \"FIR_EVID_NUM\": \"999999\",\n            \"FIR_REG_NUM\": \"888888\",\n            \"LOGIN_ID\": \"32323\",\n            \"MEDIA_PATH\": \"C:/uploads/c46847c7e2d130ffd746c789c0f0932e.png\"\n        }\n    ]\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3757784,"reputation":325,"user_id":3123742,"display_name":"eheck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591210256,"creation_date":1591210256,"answer_id":62180506,"question_id":39923406,"body_markdown":"try this:\r\n\r\n    final JsonWriterSettings settings = JsonWriterSettings.builder( ).outputMode( JsonMode.SHELL ).build( );\r\n    \r\n    System.out.println(doc.toJson(settings));\r\n\r\n\r\nYou can change the JsonMode is you wish\r\n","title":"Bson Document to Json in Java","body":"<p>try this:</p>\n\n<pre><code>final JsonWriterSettings settings = JsonWriterSettings.builder( ).outputMode( JsonMode.SHELL ).build( );\n\nSystem.out.println(doc.toJson(settings));\n</code></pre>\n\n<p>You can change the JsonMode is you wish</p>\n"},{"tags":[],"owner":{"account_id":877270,"reputation":742,"user_id":153271,"accept_rate":33,"display_name":"chendu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661708839,"creation_date":1661708839,"answer_id":73520906,"question_id":39923406,"body_markdown":"if the bson.jar version is &gt; `3.0.0` you may try `document.toJson()` ","title":"Bson Document to Json in Java","body":"<p>if the bson.jar version is &gt; <code>3.0.0</code> you may try <code>document.toJson()</code></p>\n"}],"owner":{"account_id":3067401,"reputation":113,"user_id":2598802,"display_name":"Bharath Karnam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37603,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":39937835,"answer_count":7,"score":10,"last_activity_date":1661708839,"creation_date":1475863591,"question_id":39923406,"body_markdown":"This is my code:\r\n\r\n    MongoDBSingleton dbSingleton = MongoDBSingleton.getInstance();\r\n    MongoDatabase db;\r\n\r\n\ttry {\r\n\t    db = dbSingleton.getTestdb();\r\n\t\tMongoIterable&lt;String&gt; mg = db.listCollectionNames();\r\n\t\tMongoCursor&lt;String&gt; iterator=mg.iterator();\r\n\r\n\t\twhile (iterator.hasNext()) {\r\n\t\t    MongoCollection&lt;Document&gt; table = db.getCollection(iterator.next());\r\n\t\t\t \r\n\t        for (Document doc: table.find()) {\t\r\n\t\t        System.out.println(doc.toJson());\r\n\t    \t}\r\n\t    }\r\n\r\n    }\r\n\r\nThis the output of `toJson`:\r\n\r\n    &quot;modified&quot; : { &quot;$date&quot; : 1475789185087}\r\n\r\nThis is my output of `toString`:\r\n\r\n    {&quot;modified&quot;:&quot;Fri Oct 07 02:56:25 IST 2016&quot;}\r\n\r\nI want String date format in Json, how to do it?\r\n","title":"Bson Document to Json in Java","body":"<p>This is my code:</p>\n\n<pre><code>MongoDBSingleton dbSingleton = MongoDBSingleton.getInstance();\nMongoDatabase db;\n\ntry {\n    db = dbSingleton.getTestdb();\n    MongoIterable&lt;String&gt; mg = db.listCollectionNames();\n    MongoCursor&lt;String&gt; iterator=mg.iterator();\n\n    while (iterator.hasNext()) {\n        MongoCollection&lt;Document&gt; table = db.getCollection(iterator.next());\n\n        for (Document doc: table.find()) {  \n            System.out.println(doc.toJson());\n        }\n    }\n\n}\n</code></pre>\n\n<p>This the output of <code>toJson</code>:</p>\n\n<pre><code>\"modified\" : { \"$date\" : 1475789185087}\n</code></pre>\n\n<p>This is my output of <code>toString</code>:</p>\n\n<pre><code>{\"modified\":\"Fri Oct 07 02:56:25 IST 2016\"}\n</code></pre>\n\n<p>I want String date format in Json, how to do it?</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647925917,"post_id":71567134,"comment_id":126487844,"body_markdown":"Your issue is `int big = 0;` and this loop `for (i = 0; i &lt; size; i++) {` you never actually change the value of `big` anywhere, so it just stays at `0` so when you swap [0] for [0] using `temp` it remains as 1. Rethink that loop, and assign `big` correctly any you will solve your issue.","body":"Your issue is <code>int big = 0;</code> and this loop <code>for (i = 0; i &lt; size; i++) {</code> you never actually change the value of <code>big</code> anywhere, so it just stays at <code>0</code> so when you swap [0] for [0] using <code>temp</code> it remains as 1. Rethink that loop, and assign <code>big</code> correctly any you will solve your issue."},{"owner":{"display_name":"user17612029"},"score":0,"creation_date":1647926303,"post_id":71567134,"comment_id":126487941,"body_markdown":"@sorifiend Okay I fixed the part where I find the smallest and largest values. The &quot;big&quot; part was a mistake I think it should work now, but it still prints the same array. Thoughts?","body":"@sorifiend Okay I fixed the part where I find the smallest and largest values. The &quot;big&quot; part was a mistake I think it should work now, but it still prints the same array. Thoughts?"},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1647926382,"post_id":71567134,"comment_id":126487961,"body_markdown":"The answer from Bohemian below will solve your issues, specifically `array[small] = i` should change to `small = i` as well as your other change where `array[big] = i` should change to `big = i`","body":"The answer from Bohemian below will solve your issues, specifically <code>array[small] = i</code> should change to <code>small = i</code> as well as your other change where <code>array[big] = i</code> should change to <code>big = i</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1647926830,"post_id":71567134,"comment_id":126488019,"body_markdown":"After the array values have been entered by User: `Arrays.sort(array); int tmp = array[array.length - 1]; array[array.length - 1] = array[0]; array[0] = tmp;`.","body":"After the array values have been entered by User: <code>Arrays.sort(array); int tmp = array[array.length - 1]; array[array.length - 1] = array[0]; array[0] = tmp;</code>."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647926021,"creation_date":1647925916,"answer_id":71567183,"question_id":71567134,"body_markdown":"Your *main* bug is here:\r\n\r\n    int small = 0;\r\n\r\nshould be\r\n\r\n    int small = Integer.MAX_VALUE;\r\n\r\nBut that alone won&#39;t fix your program. You also need to fix these:\r\n\r\n- `for (i = 1; i &lt; size; i++)` should loop from `0`, not `1`.\r\n- `if (array[small] &lt; array[i])` should be `if (array[small] &gt; array[i])` \r\n- `if (array[big] &gt; array[i])` should be `if (array[big] &lt; array[i])` \r\n- `array[small] = i` should be `small = i`\r\n- `array[big] = i` should be `big = i`\r\n\r\n---\r\n\r\nI recommend replacing your code altogether with:\r\n\r\n    int small = Arrays.stream(array).min().getAsInt();\r\n    int big = Arrays.stream(array).max().getAsInt();\r\n\r\n\r\n","title":"Swapping smallest and largest values in array","body":"<p>Your <em>main</em> bug is here:</p>\n<pre><code>int small = 0;\n</code></pre>\n<p>should be</p>\n<pre><code>int small = Integer.MAX_VALUE;\n</code></pre>\n<p>But that alone won't fix your program. You also need to fix these:</p>\n<ul>\n<li><code>for (i = 1; i &lt; size; i++)</code> should loop from <code>0</code>, not <code>1</code>.</li>\n<li><code>if (array[small] &lt; array[i])</code> should be <code>if (array[small] &gt; array[i])</code></li>\n<li><code>if (array[big] &gt; array[i])</code> should be <code>if (array[big] &lt; array[i])</code></li>\n<li><code>array[small] = i</code> should be <code>small = i</code></li>\n<li><code>array[big] = i</code> should be <code>big = i</code></li>\n</ul>\n<hr />\n<p>I recommend replacing your code altogether with:</p>\n<pre><code>int small = Arrays.stream(array).min().getAsInt();\nint big = Arrays.stream(array).max().getAsInt();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16856869,"reputation":1,"user_id":12188598,"display_name":"Sajid Alam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661707361,"creation_date":1661706953,"answer_id":73520702,"question_id":71567134,"body_markdown":"    import java.util.*;\r\n    \r\n    public class Solution {\r\n        public static void swapMinMax(int arr[]){\r\n            int minIdx = 0, maxIdx = 0, min = arr[0], max = arr[0];\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                if(min &lt; arr[i]){\r\n                    min = arr[i];\r\n                    maxIdx = i;\r\n                }else if(max &gt; arr[i]){\r\n                    max = arr[i];\r\n                    minIdx = i;\r\n                }\r\n            }\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                if(i == minIdx){\r\n                    arr[i] = min;\r\n                }else if(i == maxIdx){\r\n                    arr[i] = max;\r\n                }\r\n                System.out.print(arr[i] + &quot; &quot;);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner scn = new Scanner(System.in);\r\n            int ln = scn.nextInt();\r\n            int arr[] = new int [ln];\r\n            for(int i = 0; i &lt; arr.length; i++){\r\n                arr[i] = scn.nextInt();\r\n            }\r\n            swapMinMax(arr);\r\n        }\r\n    }","title":"Swapping smallest and largest values in array","body":"<pre><code>import java.util.*;\n\npublic class Solution {\n    public static void swapMinMax(int arr[]){\n        int minIdx = 0, maxIdx = 0, min = arr[0], max = arr[0];\n        for(int i = 0; i &lt; arr.length; i++){\n            if(min &lt; arr[i]){\n                min = arr[i];\n                maxIdx = i;\n            }else if(max &gt; arr[i]){\n                max = arr[i];\n                minIdx = i;\n            }\n        }\n        for(int i = 0; i &lt; arr.length; i++){\n            if(i == minIdx){\n                arr[i] = min;\n            }else if(i == maxIdx){\n                arr[i] = max;\n            }\n            System.out.print(arr[i] + &quot; &quot;);\n        }\n    }\n\n    public static void main(String[] args) {\n        Scanner scn = new Scanner(System.in);\n        int ln = scn.nextInt();\n        int arr[] = new int [ln];\n        for(int i = 0; i &lt; arr.length; i++){\n            arr[i] = scn.nextInt();\n        }\n        swapMinMax(arr);\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17612029"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2090,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661707361,"creation_date":1647925441,"question_id":71567134,"body_markdown":"So I have to input a list of numbers stored in an array, specify how many int values that are to be stored in the array, and print out the original array plus the list of integers with the maximum and minimum values swapped.\r\n\r\n**I am not allowed to use library other than java.util.Scanner**\r\n\r\nSo, if I input {1 2 3 4 5 6 7}, I&#39;m supposed to get {7 2 3 4 5 6 1}.\r\nEverything in my code works except the swapping part, but I&#39;ve managed to find the maximum and minimum values, I just don&#39;t know how to deal with them. Here&#39;s what I got:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\t\tScanner in = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.print(&quot;Enter array size (minimum size 7)? &quot;);\r\n\t\tint size = in.nextInt();\r\n\t\tint [] array = new int [size];\r\n\t\tSystem.out.print(&quot;Enter &quot; + size + &quot; distinct integer values to store in the array: &quot;);\r\n\t\t\r\n\t\tint i = 0;\r\n\t\tfor (i = 0; i &lt; size; i++) {\r\n\t\t\tarray[i] = in.nextInt();\r\n\t\t}\r\n\t\t\tSystem.out.println();\r\n\t\t\tSystem.out.println(&quot;Original array:&quot;);\r\n\t\t\r\n\t\tfor (i = 0; i &lt; size; i++) {\r\n\t\t\tSystem.out.print(array[i]);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(&quot; &quot;);\r\n\t\tSystem.out.println(&quot;Array after swapping the smallest and largest:&quot;);\r\n\t\t\r\n\t\tint large = array[0];\r\n\t\tint small = array[0];\r\n\t\tfor (i = 0; i &lt; size; i++) {\r\n\t\t\tif (array[i] &gt; large) {\r\n\t\t\t\tlarge = array[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\tfor (i = 1; i &lt; size; i++) {\r\n\t\t\tif (array[i] &lt; small) {\r\n\t\t\t\tsmall = array[i];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tint temp = small;\r\n\t\tlarge = large;\r\n\t\tlarge = temp;\r\n\t\t\r\n\t\tfor (i = 0; i &lt; size; i++) {\r\n\t\t\tSystem.out.print(array[i]);\r\n\t\t\tSystem.out.print(&quot;\\t&quot;);\r\n\t\t}\r\n\t\r\n\t\t\r\n\t}\r\n```","title":"Swapping smallest and largest values in array","body":"<p>So I have to input a list of numbers stored in an array, specify how many int values that are to be stored in the array, and print out the original array plus the list of integers with the maximum and minimum values swapped.</p>\n<p><strong>I am not allowed to use library other than java.util.Scanner</strong></p>\n<p>So, if I input {1 2 3 4 5 6 7}, I'm supposed to get {7 2 3 4 5 6 1}.\nEverything in my code works except the swapping part, but I've managed to find the maximum and minimum values, I just don't know how to deal with them. Here's what I got:</p>\n<pre><code>public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        \n        System.out.print(&quot;Enter array size (minimum size 7)? &quot;);\n        int size = in.nextInt();\n        int [] array = new int [size];\n        System.out.print(&quot;Enter &quot; + size + &quot; distinct integer values to store in the array: &quot;);\n        \n        int i = 0;\n        for (i = 0; i &lt; size; i++) {\n            array[i] = in.nextInt();\n        }\n            System.out.println();\n            System.out.println(&quot;Original array:&quot;);\n        \n        for (i = 0; i &lt; size; i++) {\n            System.out.print(array[i]);\n            System.out.print(&quot;\\t&quot;);\n        }\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot; &quot;);\n        System.out.println(&quot;Array after swapping the smallest and largest:&quot;);\n        \n        int large = array[0];\n        int small = array[0];\n        for (i = 0; i &lt; size; i++) {\n            if (array[i] &gt; large) {\n                large = array[i];\n            }\n        }\n        for (i = 1; i &lt; size; i++) {\n            if (array[i] &lt; small) {\n                small = array[i];\n            }\n        }\n        \n        int temp = small;\n        large = large;\n        large = temp;\n        \n        for (i = 0; i &lt; size; i++) {\n            System.out.print(array[i]);\n            System.out.print(&quot;\\t&quot;);\n        }\n    \n        \n    }\n</code></pre>\n"},{"tags":["java","spring","kotlin","dependency-injection"],"comments":[{"owner":{"account_id":9487947,"reputation":2945,"user_id":7053782,"display_name":"Sheinbergon"},"score":0,"creation_date":1661617568,"post_id":73509709,"comment_id":129816800,"body_markdown":"Please provide full error stacktraces...","body":"Please provide full error stacktraces..."},{"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"score":0,"creation_date":1661619275,"post_id":73509709,"comment_id":129817173,"body_markdown":"I&#39;ve added a stacktrace during test but very similar error occurs on app running","body":"I&#39;ve added a stacktrace during test but very similar error occurs on app running"},{"owner":{"account_id":9487947,"reputation":2945,"user_id":7053782,"display_name":"Sheinbergon"},"score":0,"creation_date":1661690172,"post_id":73509709,"comment_id":129827031,"body_markdown":"Great, now add the `UserFacade` source code :-)","body":"Great, now add the <code>UserFacade</code> source code :-)"}],"answers":[{"tags":[],"owner":{"account_id":9487947,"reputation":2945,"user_id":7053782,"display_name":"Sheinbergon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661707236,"creation_date":1661706846,"answer_id":73520690,"question_id":73509709,"body_markdown":"Looks like a behind the scene maven/kotlin compilation issue, as Kotlin&#39;s null assertion should kick in during standard code compilation.\r\n\r\nPlease try adding this `executions` section to the kotlin-maven plugin:\r\n\r\n```XML\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;compile&lt;/id&gt;\r\n            &lt;phase&gt;process-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;test-compile&lt;/id&gt;\r\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;test-compile&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n```","title":"Kotlin, Spring, DI, and null beans","body":"<p>Looks like a behind the scene maven/kotlin compilation issue, as Kotlin's null assertion should kick in during standard code compilation.</p>\n<p>Please try adding this <code>executions</code> section to the kotlin-maven plugin:</p>\n<pre><code>    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;compile&lt;/id&gt;\n            &lt;phase&gt;process-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;test-compile&lt;/id&gt;\n            &lt;phase&gt;process-test-sources&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;test-compile&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n</code></pre>\n"}],"owner":{"account_id":19206274,"reputation":107,"user_id":14033074,"display_name":"Sampeteq"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661707236,"creation_date":1661591650,"question_id":73509709,"body_markdown":"My beans config class:\r\n\r\n    @Configuration\r\n    class UserConfig {\r\n\r\n    @Bean\r\n    fun userFacade(userRepository: UserRepository,\r\n                   passwordEncoder: PasswordEncoder): UserFacade =\r\n        UserFacade(\r\n            userRepository,\r\n            passwordEncoder,\r\n            UserFactory(passwordEncoder, userRepository)\r\n        )\r\n\r\n\r\n    @Bean\r\n    fun passwordEncoder(): PasswordEncoder = BCryptPasswordEncoder()\r\n\r\n    }\r\n\r\nUserFacade:\r\n\r\n    open class UserFacade(private val userRepository: UserRepository,\r\n                          private val passwordEncoder: PasswordEncoder,\r\n                          private val userFactory: UserFactory) {\r\n\r\n    fun registerUser(dto: RegisterUserDTO): UserDTO {\r\n        val user = userFactory.createCommon(dto.username, dto.password)\r\n        return userRepository\r\n            .save(user)\r\n            .toDTO()\r\n    }\r\n\r\n\r\nPOM.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \r\n     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;2.6.11&lt;/version&gt;\r\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;task-manager&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;task-manager&lt;/name&gt;\r\n    &lt;description&gt;task-manager&lt;/description&gt;\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;kotlin.version&gt;1.6.21&lt;/kotlin.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n            &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\r\n        &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;args&gt;\r\n                        &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\r\n                    &lt;/args&gt;\r\n                    &lt;compilerPlugins&gt;\r\n                        &lt;plugin&gt;spring&lt;/plugin&gt;\r\n                        &lt;plugin&gt;jpa&lt;/plugin&gt;\r\n                    &lt;/compilerPlugins&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\r\n                        &lt;version&gt;${kotlin.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nThe problem is that some classes are null during app running and i don&#39;t know why. If i use standard approach with @Service, @Compontent etc. all works. In Java all works too.\r\n///////////////////////////////////////////////////////////////////////////////// - for SO reqs\r\n\r\nStacktrace:\r\n\r\n    java.lang.NullPointerException: Cannot invoke &quot;com.example.taskmanager.user.domain.UserFactory.createCommon(String, String)&quot; because &quot;this.userFactory&quot; is null\r\n\r\n\tat com.example.taskmanager.user.domain.UserFacade.registerUser(UserFacade.kt:16)\r\n\tat com.example.taskmanager.user.domain.UserIT.should_register_user(UserIT.kt:27)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n\tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n","title":"Kotlin, Spring, DI, and null beans","body":"<p>My beans config class:</p>\n<pre><code>@Configuration\nclass UserConfig {\n\n@Bean\nfun userFacade(userRepository: UserRepository,\n               passwordEncoder: PasswordEncoder): UserFacade =\n    UserFacade(\n        userRepository,\n        passwordEncoder,\n        UserFactory(passwordEncoder, userRepository)\n    )\n\n\n@Bean\nfun passwordEncoder(): PasswordEncoder = BCryptPasswordEncoder()\n\n}\n</code></pre>\n<p>UserFacade:</p>\n<pre><code>open class UserFacade(private val userRepository: UserRepository,\n                      private val passwordEncoder: PasswordEncoder,\n                      private val userFactory: UserFactory) {\n\nfun registerUser(dto: RegisterUserDTO): UserDTO {\n    val user = userFactory.createCommon(dto.username, dto.password)\n    return userRepository\n        .save(user)\n        .toDTO()\n}\n</code></pre>\n<p>POM.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; \n xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.6.11&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;task-manager&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;task-manager&lt;/name&gt;\n&lt;description&gt;task-manager&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;kotlin.version&gt;1.6.21&lt;/kotlin.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.fasterxml.jackson.module&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-module-kotlin&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-reflect&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.11&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;sourceDirectory&gt;${project.basedir}/src/main/kotlin&lt;/sourceDirectory&gt;\n    &lt;testSourceDirectory&gt;${project.basedir}/src/test/kotlin&lt;/testSourceDirectory&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n            &lt;artifactId&gt;kotlin-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;args&gt;\n                    &lt;arg&gt;-Xjsr305=strict&lt;/arg&gt;\n                &lt;/args&gt;\n                &lt;compilerPlugins&gt;\n                    &lt;plugin&gt;spring&lt;/plugin&gt;\n                    &lt;plugin&gt;jpa&lt;/plugin&gt;\n                &lt;/compilerPlugins&gt;\n            &lt;/configuration&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-allopen&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n                    &lt;artifactId&gt;kotlin-maven-noarg&lt;/artifactId&gt;\n                    &lt;version&gt;${kotlin.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>The problem is that some classes are null during app running and i don't know why. If i use standard approach with @Service, @Compontent etc. all works. In Java all works too.\n///////////////////////////////////////////////////////////////////////////////// - for SO reqs</p>\n<p>Stacktrace:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke &quot;com.example.taskmanager.user.domain.UserFactory.createCommon(String, String)&quot; because &quot;this.userFactory&quot; is null\n\nat com.example.taskmanager.user.domain.UserFacade.registerUser(UserFacade.kt:16)\nat com.example.taskmanager.user.domain.UserIT.should_register_user(UserIT.kt:27)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:568)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\nat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n"},{"tags":["java","kotlin"],"answers":[{"tags":[],"owner":{"account_id":25052403,"reputation":1,"user_id":18908169,"display_name":"alex ramos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661707146,"creation_date":1661707146,"answer_id":73520720,"question_id":73520576,"body_markdown":"I fixed it by changing\r\n\r\n     binding.passwordTextbox.text\r\n\r\nto\r\n\r\n     binding.passwordTextbox.text.toString()","title":"Text not changing when password and confirm password are the same KOTLIN android studio","body":"<p>I fixed it by changing</p>\n<pre><code> binding.passwordTextbox.text\n</code></pre>\n<p>to</p>\n<pre><code> binding.passwordTextbox.text.toString()\n</code></pre>\n"}],"owner":{"account_id":25052403,"reputation":1,"user_id":18908169,"display_name":"alex ramos"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661707146,"creation_date":1661705929,"question_id":73520576,"body_markdown":"Code:\r\n\r\n\r\n    binding.confirmpasswordTextbox.doOnTextChanged { text, start, before, count -&gt;\r\n\r\n            cpasswordFiltered = binding.passwordTextbox.text == binding.confirmpasswordTextbox.text\r\n\r\n            binding.textCPassAlert.text = if (cpasswordFiltered) &quot;&quot; else &quot;As passwords n&#227;o correspondem!&quot;\r\n        \r\n        }\r\n\r\nAnd before that I have this:\r\n\r\n    binding.passwordTextbox.doOnTextChanged { text, start, before, count -&gt;\r\n\r\n            passwordFiltered = !isValidPassword(text)\r\n\r\n            binding.textPassAlert.text = if (passwordFiltered) &quot;&quot; else &quot;A password deve conter 8+ caracteres, uma letra mai&#250;scula, min&#250;scula e um caracter especial!&quot;\r\n\r\n            cpasswordFiltered = binding.passwordTextbox.text == binding.confirmpasswordTextbox.text\r\n\r\n            binding.textCPassAlert.text = if (cpasswordFiltered) &quot;&quot; else &quot;As passwords n&#227;o correspondem!&quot;\r\n        }\r\n\r\n\r\nSo what I can&#39;t understand is that it works for password filter, but not when confirming the password, are they different types of texts and that&#39;s why I can&#39;t get it to work?","title":"Text not changing when password and confirm password are the same KOTLIN android studio","body":"<p>Code:</p>\n<pre><code>binding.confirmpasswordTextbox.doOnTextChanged { text, start, before, count -&gt;\n\n        cpasswordFiltered = binding.passwordTextbox.text == binding.confirmpasswordTextbox.text\n\n        binding.textCPassAlert.text = if (cpasswordFiltered) &quot;&quot; else &quot;As passwords não correspondem!&quot;\n    \n    }\n</code></pre>\n<p>And before that I have this:</p>\n<pre><code>binding.passwordTextbox.doOnTextChanged { text, start, before, count -&gt;\n\n        passwordFiltered = !isValidPassword(text)\n\n        binding.textPassAlert.text = if (passwordFiltered) &quot;&quot; else &quot;A password deve conter 8+ caracteres, uma letra maiúscula, minúscula e um caracter especial!&quot;\n\n        cpasswordFiltered = binding.passwordTextbox.text == binding.confirmpasswordTextbox.text\n\n        binding.textCPassAlert.text = if (cpasswordFiltered) &quot;&quot; else &quot;As passwords não correspondem!&quot;\n    }\n</code></pre>\n<p>So what I can't understand is that it works for password filter, but not when confirming the password, are they different types of texts and that's why I can't get it to work?</p>\n"},{"tags":["java","spring","spring-boot","mocking","integration-testing"],"comments":[{"owner":{"account_id":18868507,"reputation":980,"user_id":13763713,"display_name":"oliver_t"},"score":0,"creation_date":1630335033,"post_id":68940583,"comment_id":121921848,"body_markdown":"You say, that a task will be scheduled immediately. Wich task? How is it scheduled? Is there any @Service/@Controller/@Component that you can share with us? Can you clearly isolate a System Under Test (SUT)?","body":"You say, that a task will be scheduled immediately. Wich task? How is it scheduled? Is there any @Service/@Controller/@Component that you can share with us? Can you clearly isolate a System Under Test (SUT)?"}],"answers":[{"tags":[],"owner":{"account_id":3057249,"reputation":1522,"user_id":2590615,"display_name":"de-jcup"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661706530,"creation_date":1630482950,"answer_id":69009869,"question_id":68940583,"body_markdown":"I normally use `@MockBean` directly inside my test classes and inject the dedicated (but mocked) repository directly there and not create it inside the test configuration. I also add the test configuration class by `@ContextConfiguration` so it is loaded in current test context.\r\n\r\nInside my tests I am just using mockito the standard way and prepare the mocked parts as wanted for the dedicated test method.\r\n\r\nHere an example snippet:\r\n\r\n```java\r\n// ... do some imports ...\r\n@RunWith(SpringRunner.class)\r\n@ContextConfiguration(classes= {XYZSomeWantedClazz.class, DemoXYZMockTest.SimpleTestConfiguration.class})\r\n@ActiveProfiles({Profiles.TEST})\r\npublic class DemoXYZMockTest {\r\n   //...\r\n   @MockBean\r\n   private DemoRepository mockedDemoRepository;\r\n   // ...\r\n   @Test\r\n   public void testMethodName() throws Exception{\r\n       /* prepare */\r\n\t   List&lt;WantedEntityClazz&gt; list = new ArrayList&lt;&gt;();\r\n       // add your wanted data to your list\r\n\r\n       // apply to mockito:\r\n       when(mockedDemoRepository.findAll()).thenReturn(list);\r\n\r\n       /* execute */\r\n       // ... execute the part you want to test...\r\n \r\n       /* test */\r\n       // ... test the results after execution ...\r\n\r\n   }\r\n\r\n\r\n   @TestConfiguration\r\n   @Profile(Profiles.TEST)\r\n   @EnableAutoConfiguration\r\n   public static class SimpleTestConfiguration{\r\n      // .. do stuff if necessary or just keep it empty\r\n   }\r\n\r\n}\r\n```\r\n\r\n\r\nFor a complete (old Junit4) working test example please take a look at:\r\nhttps://github.com/mercedes-benz/sechub/blob/3f176a8f4c00b7e8577c9e3bea847ecfc91974c3/sechub-administration/src/test/java/com/daimler/sechub/domain/administration/signup/SignupAdministrationRestControllerMockTest.java\r\n","title":"Spring Boot Integration Testing - Mocking @Service before Application Context Starts?","body":"<p>I normally use <code>@MockBean</code> directly inside my test classes and inject the dedicated (but mocked) repository directly there and not create it inside the test configuration. I also add the test configuration class by <code>@ContextConfiguration</code> so it is loaded in current test context.</p>\n<p>Inside my tests I am just using mockito the standard way and prepare the mocked parts as wanted for the dedicated test method.</p>\n<p>Here an example snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// ... do some imports ...\n@RunWith(SpringRunner.class)\n@ContextConfiguration(classes= {XYZSomeWantedClazz.class, DemoXYZMockTest.SimpleTestConfiguration.class})\n@ActiveProfiles({Profiles.TEST})\npublic class DemoXYZMockTest {\n   //...\n   @MockBean\n   private DemoRepository mockedDemoRepository;\n   // ...\n   @Test\n   public void testMethodName() throws Exception{\n       /* prepare */\n       List&lt;WantedEntityClazz&gt; list = new ArrayList&lt;&gt;();\n       // add your wanted data to your list\n\n       // apply to mockito:\n       when(mockedDemoRepository.findAll()).thenReturn(list);\n\n       /* execute */\n       // ... execute the part you want to test...\n \n       /* test */\n       // ... test the results after execution ...\n\n   }\n\n\n   @TestConfiguration\n   @Profile(Profiles.TEST)\n   @EnableAutoConfiguration\n   public static class SimpleTestConfiguration{\n      // .. do stuff if necessary or just keep it empty\n   }\n\n}\n</code></pre>\n<p>For a complete (old Junit4) working test example please take a look at:\n<a href=\"https://github.com/mercedes-benz/sechub/blob/3f176a8f4c00b7e8577c9e3bea847ecfc91974c3/sechub-administration/src/test/java/com/daimler/sechub/domain/administration/signup/SignupAdministrationRestControllerMockTest.java\" rel=\"nofollow noreferrer\">https://github.com/mercedes-benz/sechub/blob/3f176a8f4c00b7e8577c9e3bea847ecfc91974c3/sechub-administration/src/test/java/com/daimler/sechub/domain/administration/signup/SignupAdministrationRestControllerMockTest.java</a></p>\n"}],"owner":{"account_id":12538774,"reputation":77,"user_id":9124525,"display_name":"Nick G."},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2771,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1661706530,"creation_date":1629988631,"question_id":68940583,"body_markdown":"I have to create a integration test for a microservice X which downloads, processes and importing csv files from external sftp servers. The whole process is started by a spring boot scheduler task which starts a spring batch job for processing and importing the data. The import process is done by the spring batch writer, which is a restTemplate Repository (so it calls post requests to another microservice Y).\r\n\r\nI already managed to mock the sftp server, putting a test file on it and the current integration test is downloading the file. (https://github.com/stefanbirkner/fake-sftp-server-rule/)\r\n\r\nMy problem is, that the task will be scheduled immediately when the application context starts so there is no trigger like a api call. To get the whole integration test working i have to mock the part where the external microservice Y is called through a restTemplate call. This repository is called in the spring batch writer and this repository is created by a repositoryFactory which is a @Service. The repositoryFactory is injected in the spring batch configuration class. \r\n\r\nI already tried to use the @MockBean annotation in the test class as well as in a separate test configuration where i am mocking the create() function of the factory to deliver a repository mock. But at some point it does not work and it delivers still the original object which leads to interupt the import job.\r\n\r\nI also tried to use the WireMock library, but also in this case it does not catched any api calls and at some point leads to interrupt the sftp socket. (?)\r\n\r\nI hope someone could help me out.\r\n\r\nThe current test:\r\n```\r\n@NoArgsConstructor\r\n@RunWith(SpringRunner.class)\r\n@SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n@ContextConfiguration(classes = {JsonHalConfig.class})\r\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\r\n@TestMethodOrder(MethodOrderer.MethodName.class)\r\npublic class ImportIT {\r\n\r\n    @ClassRule\r\n    public static final FakeSftpServerRule sftpServer = new FakeSftpServerRule();\r\n    private static final String PASSWORD = &quot;password&quot;;\r\n    private static final String USER = &quot;username&quot;;\r\n    private static final int PORT = 14022;\r\n\r\n    @BeforeClass\r\n    public static void beforeClass() throws IOException {\r\n        URL resource = getTestResource();\r\n        if (resource != null) {\r\n            sftpServer.setPort(PORT).addUser(USER, PASSWORD);\r\n            sftpServer.createDirectories(&quot;/home/username/it-space/IMPORT&quot;, &quot;/home/username/it-space/EXPORT&quot;);\r\n            sftpServer.putFile(&quot;/home/username/it-space/IMPORT/INBOX/testFile.csv&quot;,\r\n                    resource.openStream());\r\n        } else {\r\n            throw new IOException(&quot;Failed to get test resources&quot;);\r\n        }\r\n    }\r\n\r\n    private static URL getTestResource() {\r\n        return ImportIT.class.getClassLoader().getResource(&quot;testFile.csv&quot;);\r\n    }\r\n\r\n    @Test\r\n    public void test_A_() throws IOException, RepositoryException {\r\n        assertTrue(true);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried following configuration classes\r\n\r\n(included in @ContextConfiguration)\r\n```\r\n@Configuration/@TestConfiguration\r\npublic class RepositoryTestConfig {\r\n    @Bean\r\n    @Primary\r\n    public IRepositoryFactory repositoryFactory() {\r\n        IRepositoryFactory repositoryFactory = mock(IRepositoryFactory.class);\r\n        IRepository repository = mock(IRepository.class);\r\n        when(repositoryFactory.create(anyString())).thenReturn(repository);\r\n        return repositoryFactory;\r\n    }\r\n}\r\n```\r\n\r\n(as static class in the test class)\r\n```\r\n    @TestConfiguration/@Configuration\r\n    public static class RepositoryTestConfig {\r\n        @MockBean\r\n        private IRepositoryFactory repositoryFactory;\r\n\r\n        @PostConstruct\r\n        public void initMock(){\r\n            IRepository repository = mock(IRepository.class);\r\n            Mockito.when(repositoryFactory.create(anyString())).thenReturn(\r\n                    repository\r\n            );\r\n        }\r\n    }\r\n```\r\n---------------------------------------------------------\r\n**UPDATE 27.08.2021**\r\nI have a RestConfig @Component where a new RestTemplateBuilder is created. I tried to @MockBean this component to deliver a RestTemplateBuilder Mock and injected a MockRestServiceServer object to catch outgoing api calls. But unfortunately it does not work as aspected. Am i missing something? I also tried to create a &quot;TestRestController&quot; to trigger the scheduling of the task but it never delivers the mock...","title":"Spring Boot Integration Testing - Mocking @Service before Application Context Starts?","body":"<p>I have to create a integration test for a microservice X which downloads, processes and importing csv files from external sftp servers. The whole process is started by a spring boot scheduler task which starts a spring batch job for processing and importing the data. The import process is done by the spring batch writer, which is a restTemplate Repository (so it calls post requests to another microservice Y).</p>\n<p>I already managed to mock the sftp server, putting a test file on it and the current integration test is downloading the file. (<a href=\"https://github.com/stefanbirkner/fake-sftp-server-rule/\" rel=\"nofollow noreferrer\">https://github.com/stefanbirkner/fake-sftp-server-rule/</a>)</p>\n<p>My problem is, that the task will be scheduled immediately when the application context starts so there is no trigger like a api call. To get the whole integration test working i have to mock the part where the external microservice Y is called through a restTemplate call. This repository is called in the spring batch writer and this repository is created by a repositoryFactory which is a @Service. The repositoryFactory is injected in the spring batch configuration class.</p>\n<p>I already tried to use the @MockBean annotation in the test class as well as in a separate test configuration where i am mocking the create() function of the factory to deliver a repository mock. But at some point it does not work and it delivers still the original object which leads to interupt the import job.</p>\n<p>I also tried to use the WireMock library, but also in this case it does not catched any api calls and at some point leads to interrupt the sftp socket. (?)</p>\n<p>I hope someone could help me out.</p>\n<p>The current test:</p>\n<pre><code>@NoArgsConstructor\n@RunWith(SpringRunner.class)\n@SpringBootTest(classes = Application.class, webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = {JsonHalConfig.class})\n@TestPropertySource(locations = &quot;classpath:application-test.properties&quot;)\n@TestMethodOrder(MethodOrderer.MethodName.class)\npublic class ImportIT {\n\n    @ClassRule\n    public static final FakeSftpServerRule sftpServer = new FakeSftpServerRule();\n    private static final String PASSWORD = &quot;password&quot;;\n    private static final String USER = &quot;username&quot;;\n    private static final int PORT = 14022;\n\n    @BeforeClass\n    public static void beforeClass() throws IOException {\n        URL resource = getTestResource();\n        if (resource != null) {\n            sftpServer.setPort(PORT).addUser(USER, PASSWORD);\n            sftpServer.createDirectories(&quot;/home/username/it-space/IMPORT&quot;, &quot;/home/username/it-space/EXPORT&quot;);\n            sftpServer.putFile(&quot;/home/username/it-space/IMPORT/INBOX/testFile.csv&quot;,\n                    resource.openStream());\n        } else {\n            throw new IOException(&quot;Failed to get test resources&quot;);\n        }\n    }\n\n    private static URL getTestResource() {\n        return ImportIT.class.getClassLoader().getResource(&quot;testFile.csv&quot;);\n    }\n\n    @Test\n    public void test_A_() throws IOException, RepositoryException {\n        assertTrue(true);\n    }\n}\n\n</code></pre>\n<p>I tried following configuration classes</p>\n<p>(included in @ContextConfiguration)</p>\n<pre><code>@Configuration/@TestConfiguration\npublic class RepositoryTestConfig {\n    @Bean\n    @Primary\n    public IRepositoryFactory repositoryFactory() {\n        IRepositoryFactory repositoryFactory = mock(IRepositoryFactory.class);\n        IRepository repository = mock(IRepository.class);\n        when(repositoryFactory.create(anyString())).thenReturn(repository);\n        return repositoryFactory;\n    }\n}\n</code></pre>\n<p>(as static class in the test class)</p>\n<pre><code>    @TestConfiguration/@Configuration\n    public static class RepositoryTestConfig {\n        @MockBean\n        private IRepositoryFactory repositoryFactory;\n\n        @PostConstruct\n        public void initMock(){\n            IRepository repository = mock(IRepository.class);\n            Mockito.when(repositoryFactory.create(anyString())).thenReturn(\n                    repository\n            );\n        }\n    }\n</code></pre>\n<hr />\n<p><strong>UPDATE 27.08.2021</strong>\nI have a RestConfig @Component where a new RestTemplateBuilder is created. I tried to @MockBean this component to deliver a RestTemplateBuilder Mock and injected a MockRestServiceServer object to catch outgoing api calls. But unfortunately it does not work as aspected. Am i missing something? I also tried to create a &quot;TestRestController&quot; to trigger the scheduling of the task but it never delivers the mock...</p>\n"},{"tags":["java","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1661617739,"post_id":73512034,"comment_id":129816837,"body_markdown":"That `&#164;` character is the [generic currency sign](https://en.wikipedia.org/wiki/Currency_sign_(typography)), which in your case is probably being used because of the default locale your Spring app is using. For example, my app uses a locale of `en-US` and the symbol I see is `$`.","body":"That <code>&#164;</code> character is the <a href=\"https://en.wikipedia.org/wiki/Currency_sign_(typography)\" rel=\"nofollow noreferrer\">generic currency sign</a>, which in your case is probably being used because of the default locale your Spring app is using. For example, my app uses a locale of <code>en-US</code> and the symbol I see is <code>$</code>."},{"owner":{"account_id":12743722,"reputation":19956,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1661617742,"post_id":73512034,"comment_id":129816839,"body_markdown":"There are various ways to manage the locale you want to use. See [Setting Locale in spring mvc Controller](https://stackoverflow.com/questions/29824839/setting-locale-in-spring-mvc-controller) for one approach. You can also use [the Thymeleaf `#locale` object](https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#expression-basic-objects) to see what locale your Thymeleaf renderer is picking up.","body":"There are various ways to manage the locale you want to use. See <a href=\"https://stackoverflow.com/questions/29824839/setting-locale-in-spring-mvc-controller\">Setting Locale in spring mvc Controller</a> for one approach. You can also use <a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf#expression-basic-objects\" rel=\"nofollow noreferrer\">the Thymeleaf <code>#locale</code> object</a> to see what locale your Thymeleaf renderer is picking up."}],"answers":[{"tags":[],"owner":{"account_id":5156722,"reputation":457,"user_id":4129771,"accept_rate":25,"display_name":"Bruno Fernandez Ellerbach"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661706491,"creation_date":1661706491,"answer_id":73520632,"question_id":73512034,"body_markdown":"I found out what the problem was.\r\nWhen using Google Chrome as a client, you should see the language of your browser, and see if it is a language of a specific country, or it is a language of a region.\r\nIn my case, i had the &quot;Spanish(Latin America)&quot; region selected, and that caused the unexpected currency sign.\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThe solution is to move to the top the language of a specific country, like &quot;Spanish(Argentina)&quot;.\r\n[![enter image description here][2]][2]\r\n\r\nThanks everyone for the other possible solutions.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7xFDZ.png\r\n  [2]: https://i.stack.imgur.com/aeare.png","title":"Why Thymeleaf is showing a strange symbol when using numbers.formatCurrency(value)?","body":"<p>I found out what the problem was.\nWhen using Google Chrome as a client, you should see the language of your browser, and see if it is a language of a specific country, or it is a language of a region.\nIn my case, i had the &quot;Spanish(Latin America)&quot; region selected, and that caused the unexpected currency sign.\n<a href=\"https://i.stack.imgur.com/7xFDZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7xFDZ.png\" alt=\"enter image description here\" /></a></p>\n<p>The solution is to move to the top the language of a specific country, like &quot;Spanish(Argentina)&quot;.\n<a href=\"https://i.stack.imgur.com/aeare.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aeare.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks everyone for the other possible solutions.</p>\n"}],"owner":{"account_id":5156722,"reputation":457,"user_id":4129771,"accept_rate":25,"display_name":"Bruno Fernandez Ellerbach"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":476,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661706491,"creation_date":1661612141,"question_id":73512034,"body_markdown":"I&#180;m learning Spring MVC, and i&#180;m using Thymeleaf to add logic to the views.\r\nThe video that i&#180;m following, shows this line of code:\r\n\r\n    &lt;div class=&quot;col-md-5&quot;&gt; Valor: &lt;span th:text=&quot;${#numbers.formatCurrency(order.negotiatedValue)}&quot;&gt;200,99&lt;/span&gt;&lt;/div&gt;\r\n\r\nIn this video, he shows that the Symbol is R$ (because he is in Brazil). I&#180;m in Brazil too, but I received this weird symbol: &#164;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/804YM.png\r\n\r\nWhy is this happening? Is there a way to force it to show the same Brazilian currency symbol, without hardcoding the string (adding R$ at the beginnning)?","title":"Why Thymeleaf is showing a strange symbol when using numbers.formatCurrency(value)?","body":"<p>I´m learning Spring MVC, and i´m using Thymeleaf to add logic to the views.\nThe video that i´m following, shows this line of code:</p>\n<pre><code>&lt;div class=&quot;col-md-5&quot;&gt; Valor: &lt;span th:text=&quot;${#numbers.formatCurrency(order.negotiatedValue)}&quot;&gt;200,99&lt;/span&gt;&lt;/div&gt;\n</code></pre>\n<p>In this video, he shows that the Symbol is R$ (because he is in Brazil). I´m in Brazil too, but I received this weird symbol: ¤</p>\n<p><a href=\"https://i.stack.imgur.com/804YM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/804YM.png\" alt=\"enter image description here\" /></a></p>\n<p>Why is this happening? Is there a way to force it to show the same Brazilian currency symbol, without hardcoding the string (adding R$ at the beginnning)?</p>\n"},{"tags":["java","spring","spring-boot","jmx"],"answers":[{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661705725,"creation_date":1661705725,"answer_id":73520558,"question_id":73491376,"body_markdown":"Actually it was one of my attempts that just didn&#39;t start up correctly.  The value to enable it is `spring.jmx.enabled` so the YAML stanza would be.\r\n\r\n```\r\nspring:\r\n  main:\r\n    banner-mode: &quot;off&quot;\r\n    web-application-type: none\r\n  jmx:\r\n    enabled: true\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      enabled: true\r\n  endpoints:\r\n    jmx:\r\n      exposure:\r\n        include: health\r\n```","title":"How do you use Spring Boot Actuator using JMX only on a non-web spring boot app","body":"<p>Actually it was one of my attempts that just didn't start up correctly.  The value to enable it is <code>spring.jmx.enabled</code> so the YAML stanza would be.</p>\n<pre><code>spring:\n  main:\n    banner-mode: &quot;off&quot;\n    web-application-type: none\n  jmx:\n    enabled: true\nmanagement:\n  endpoint:\n    health:\n      enabled: true\n  endpoints:\n    jmx:\n      exposure:\n        include: health\n</code></pre>\n"}],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":314,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661705725,"creation_date":1661447514,"question_id":73491376,"body_markdown":"I am trying to create a stand alone GRPC server but with Spring Boot so I get DI and other things that are provided by Spring Boot.  What I am trying to do is implement the [health check endpoint via JMX](https://stackoverflow.com/questions/56105364/how-to-use-springboot-actuator-over-jmx/73180551#73180551) but when I run it with the following dependendices (note I commented out webflux because I don&#39;t want the webflux engine) \r\n\r\n```\r\n\truntimeOnly &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-webflux&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-sleuth&#39;\r\n```\r\n\r\nMy application yaml is\r\n\r\n```\r\nspring:\r\n  main:\r\n    banner-mode: &quot;off&quot;\r\n    web-application-type: none\r\nmanagement:\r\n  endpoint:\r\n    health:\r\n      enabled: true\r\n  endpoints:\r\n    jmx:\r\n      exposure:\r\n        include: health\r\n```\r\n\r\nWhen I go to jconsole locally I don&#39;t see any of the spring boot mbeans though.\r\n\r\nI tried to `spring.application.admin.enabled: true` and [`spring.jmx.enabled: true`](https://stackoverflow.com/questions/65943892/what-is-the-exact-purpose-for-spring-jmx-enabled) with no luck","title":"How do you use Spring Boot Actuator using JMX only on a non-web spring boot app","body":"<p>I am trying to create a stand alone GRPC server but with Spring Boot so I get DI and other things that are provided by Spring Boot.  What I am trying to do is implement the <a href=\"https://stackoverflow.com/questions/56105364/how-to-use-springboot-actuator-over-jmx/73180551#73180551\">health check endpoint via JMX</a> but when I run it with the following dependendices (note I commented out webflux because I don't want the webflux engine)</p>\n<pre><code>    runtimeOnly 'org.springframework.boot:spring-boot-starter-actuator'\n//  implementation 'org.springframework.boot:spring-boot-starter-webflux'\n    implementation 'org.springframework.cloud:spring-cloud-starter-sleuth'\n</code></pre>\n<p>My application yaml is</p>\n<pre><code>spring:\n  main:\n    banner-mode: &quot;off&quot;\n    web-application-type: none\nmanagement:\n  endpoint:\n    health:\n      enabled: true\n  endpoints:\n    jmx:\n      exposure:\n        include: health\n</code></pre>\n<p>When I go to jconsole locally I don't see any of the spring boot mbeans though.</p>\n<p>I tried to <code>spring.application.admin.enabled: true</code> and <a href=\"https://stackoverflow.com/questions/65943892/what-is-the-exact-purpose-for-spring-jmx-enabled\"><code>spring.jmx.enabled: true</code></a> with no luck</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1661331564,"post_id":73470241,"comment_id":129744214,"body_markdown":"Looks like a bug in the netbeans installation. You should create a bug report at apache netbeans","body":"Looks like a bug in the netbeans installation. You should create a bug report at apache netbeans"},{"owner":{"account_id":13509992,"reputation":41,"user_id":9746671,"display_name":"Ara"},"score":0,"creation_date":1661705025,"post_id":73470241,"comment_id":129830211,"body_markdown":"Jens, hello. I have created a bug in netbeans, but no response. https://github.com/apache/netbeans/issues/4530    I do not know what to do now.","body":"Jens, hello. I have created a bug in netbeans, but no response. <a href=\"https://github.com/apache/netbeans/issues/4530\" rel=\"nofollow noreferrer\">github.com/apache/netbeans/issues/4530</a>    I do not know what to do now."}],"owner":{"account_id":13509992,"reputation":41,"user_id":9746671,"display_name":"Ara"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661705068,"creation_date":1661331346,"question_id":73470241,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vE02q.jpg\r\n\r\ndear collegues.\r\n\r\nwhile removing neatbeans, I got an exception like this. I don&#39;t know how to overcome with it. I I click on Yes, netBeans asks to uninstall the system, While clicking on Uninstall, the system removes, in actually the netbeans leaves. ","title":"Error while deleting Netbeans, NetBeans leaves in windows 10","body":"<p><a href=\"https://i.stack.imgur.com/vE02q.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vE02q.jpg\" alt=\"enter image description here\" /></a></p>\n<p>dear collegues.</p>\n<p>while removing neatbeans, I got an exception like this. I don't know how to overcome with it. I I click on Yes, netBeans asks to uninstall the system, While clicking on Uninstall, the system removes, in actually the netbeans leaves.</p>\n"},{"tags":["python","java","abstract-syntax-tree"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1661675961,"post_id":73517090,"comment_id":129824419,"body_markdown":"Not sure to understand. Are you trying to inline the function call?","body":"Not sure to understand. Are you trying to inline the function call?"},{"owner":{"account_id":15900060,"reputation":155,"user_id":11521542,"display_name":"Peter"},"score":0,"creation_date":1661679549,"post_id":73517090,"comment_id":129824982,"body_markdown":"@Olivier exactly. Instead of treating the call function as a single node in the tree, I want to replace it with a tree related to the source code of the call function","body":"@Olivier exactly. Instead of treating the call function as a single node in the tree, I want to replace it with a tree related to the source code of the call function"},{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":0,"creation_date":1661679949,"post_id":73517090,"comment_id":129825041,"body_markdown":"That doesn&#39;t really make sense as an operation to perform on ASTs.","body":"That doesn&#39;t really make sense as an operation to perform on ASTs."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1661681004,"post_id":73517090,"comment_id":129825218,"body_markdown":"In general you can&#39;t know which code the method call will use - the class might have subtypes or it might be an interface. For example if the call is to `List.add` it might actually end up being `ArrayList.add` or `LinkedList.add`","body":"In general you can&#39;t know which code the method call will use - the class might have subtypes or it might be an interface. For example if the call is to <code>List.add</code> it might actually end up being <code>ArrayList.add</code> or <code>LinkedList.add</code>"},{"owner":{"account_id":15900060,"reputation":155,"user_id":11521542,"display_name":"Peter"},"score":0,"creation_date":1661684250,"post_id":73517090,"comment_id":129825781,"body_markdown":"@greg-449 well, in theory, you are right. My case study is a java code related to Functional tests the code is written in a propper way.","body":"@greg-449 well, in theory, you are right. My case study is a java code related to Functional tests the code is written in a propper way."},{"owner":{"account_id":15900060,"reputation":155,"user_id":11521542,"display_name":"Peter"},"score":0,"creation_date":1661684366,"post_id":73517090,"comment_id":129825802,"body_markdown":"@user2357112 I&#39;m researching to predict the functional test&#39;s execution time depending on the source code&#39;s structure. We parse the test file ti an AST, but we want to enrich the tree taking into account the calls of function","body":"@user2357112 I&#39;m researching to predict the functional test&#39;s execution time depending on the source code&#39;s structure. We parse the test file ti an AST, but we want to enrich the tree taking into account the calls of function"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661704990,"post_id":73517090,"comment_id":129830204,"body_markdown":"Asking for recommendations on books, etc. is explicitly off-topic on this site. I suggest you edit your Question to remove that part.","body":"Asking for recommendations on books, etc. is explicitly off-topic on this site. I suggest you edit your Question to remove that part."}],"owner":{"account_id":15900060,"reputation":155,"user_id":11521542,"display_name":"Peter"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":390,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661704869,"creation_date":1661674694,"question_id":73517090,"body_markdown":"I am using [*javalang*][1], a [Python][2] package for parsing the [Java][3] code into an [abstract syntax tree (AST)][4]. \r\n\r\nThis parser treated the call function as a single node in the tree. However, I&#39;m looking to go further in-depth and parse the code of the call function as well. So the tree of the original code will be extended by the tree of the call function. I&#39;m looking for tutorials or books ( with code) that do such analysis for the code. \r\n\r\nIn other words, I&#39;m trying to inline the function call. \r\n\r\n\r\n  [1]: https://github.com/c2nes/javalang\r\n  [2]: https://en.wikipedia.org/wiki/Python_(programming_language)\r\n  [3]: https://en.wikipedia.org/wiki/Java_(programming_language)\r\n  [4]: https://en.m.wikipedia.org/wiki/Abstract_syntax_tree","title":"Extract the Abstract Syntax tree (AST) of the java call function using python code","body":"<p>I am using <a href=\"https://github.com/c2nes/javalang\" rel=\"nofollow noreferrer\"><em>javalang</em></a>, a <a href=\"https://en.wikipedia.org/wiki/Python_(programming_language)\" rel=\"nofollow noreferrer\">Python</a> package for parsing the <a href=\"https://en.wikipedia.org/wiki/Java_(programming_language)\" rel=\"nofollow noreferrer\">Java</a> code into an <a href=\"https://en.m.wikipedia.org/wiki/Abstract_syntax_tree\" rel=\"nofollow noreferrer\">abstract syntax tree (AST)</a>.</p>\n<p>This parser treated the call function as a single node in the tree. However, I'm looking to go further in-depth and parse the code of the call function as well. So the tree of the original code will be extended by the tree of the call function. I'm looking for tutorials or books ( with code) that do such analysis for the code.</p>\n<p>In other words, I'm trying to inline the function call.</p>\n"},{"tags":["java","android-fragments","android-recyclerview","duplicates","bottomnavigationview"],"answers":[{"tags":[],"owner":{"account_id":26181678,"reputation":1,"user_id":19864962,"display_name":"Misbah Tk."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661704173,"creation_date":1661704173,"answer_id":73520386,"question_id":72536464,"body_markdown":"I&#39;m having the same problem and currently have no answer. You can try my method but only works if your recycler items are definite.\r\nGoto your viewholder class=&gt;\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return num;\r\n    }\r\n\r\nWhere num is the number of your items in recyclerview.","title":"RecyclerView Items Duplicating when navigating through different Fragments, arraylist.clear() doesn&#180;t work","body":"<p>I'm having the same problem and currently have no answer. You can try my method but only works if your recycler items are definite.\nGoto your viewholder class=&gt;</p>\n<pre><code>@Override\npublic int getItemCount() {\n    return num;\n}\n</code></pre>\n<p>Where num is the number of your items in recyclerview.</p>\n"}],"owner":{"account_id":25499566,"reputation":1,"user_id":19293075,"display_name":"Rubs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661704173,"creation_date":1654629224,"question_id":72536464,"body_markdown":"This is my first post here. I&#180;m having trouble with a RecyclerView which I&#180;m using into a fragment. I have two different fragments for a BottomNavigationMenu and the items duplicate everytime I get back to the fragment where the RecyclerView is in. I have tried using arraylist.clear(); as it is been suggested many times here but it doesn&#180;t work. I have used the exact same code before using TabLayout with fragments instead of BottomNavigationMenu and it worked fine! the items didn&#180;t duplicate at all...  I&#180;m making a music library for an audio streaming app and I&#180;m using realtime firebase to print the information for the RecyclerView onto the screen, if I use: if (audioFileArrayList == null) {\r\n            loadData();\r\n        } it fixes the issue beacuse this way it doesn&#180;t print the information twice but I don&#180;t think this is a proper solution to this problem. It seems as if everytime I go back to the RecyclerView fragment the view doesn&#180;t refresh but instead it prints everything again and again at the bottom... \r\n\r\n\r\nThis is the MainActivity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        ActivityMainBinding binding;\r\n        BottomNavigationView bottomNavigationView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n    \r\n            binding = ActivityMainBinding.inflate(getLayoutInflater());\r\n            View view = binding.getRoot();\r\n            setContentView(view);\r\n            getSupportActionBar().hide(); //escondemos la action bar\r\n    \r\n            bottomNavigationView = binding.bottomNavigationID;\r\n            getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout_id, new BibliotecaFragment()).commit();\r\n    \r\n            bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n    \r\n                    Fragment fragmentSeleccionado = null;\r\n    \r\n                    switch (item.getItemId()) {\r\n                        case R.id.biblioteca_ID:\r\n                            fragmentSeleccionado = new BibliotecaFragment();\r\n                            break;\r\n                        case R.id.playlists_ID:\r\n                            fragmentSeleccionado = new PlayListsFragment();\r\n                            break;\r\n                    }\r\n                    getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout_id, fragmentSeleccionado).commit();\r\n                    return true;\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nThis is the fragment for the library, as I said before if I use \r\n\r\n    if (audioFileArrayList == null) {\r\n                    loadData();\r\n                }\r\n\r\n it stops it from printing it twice.\r\n\r\npublic class BibliotecaFragment extends Fragment {\r\n\r\n    FragmentBibliotecaBinding binding;\r\n    RecyclerView recyclerView;\r\n    AudioFileAdapter audioFileAdapter;\r\n    static ArrayList&lt;AudioFile&gt; audioFileArrayList;\r\n\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        binding = FragmentBibliotecaBinding.inflate(getLayoutInflater());\r\n\r\n        recyclerView = binding.BibliotecaFragmentRecyclerViewID;\r\n        recyclerView.setHasFixedSize(true);\r\n        LinearLayoutManager manager = new LinearLayoutManager(getContext(), RecyclerView.VERTICAL, false);\r\n        recyclerView.setLayoutManager(manager);\r\n        audioFileAdapter = new AudioFileAdapter(getContext());\r\n        recyclerView.setAdapter(audioFileAdapter);\r\n\r\n\r\n        loadData();\r\n        \r\n        return binding.getRoot();\r\n    }\r\n\r\n    public void loadData() {\r\n\r\n        DatabaseReference dbr = FirebaseDatabase.getInstance().getReference();\r\n\r\n        dbr.child(&quot;biblioteca&quot;).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n\r\n                audioFileArrayList = new ArrayList&lt;&gt;();\r\n                for (DataSnapshot data : snapshot.getChildren()) {\r\n\r\n                    AudioFile audioFile = data.getValue(AudioFile.class);\r\n                    audioFileArrayList.add(audioFile);\r\n                }\r\n                audioFileAdapter.setItems(audioFileArrayList);\r\n                audioFileAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nThis is my adapter:\r\n\r\n    public class AudioFileAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\r\n    \r\n        private Context context;\r\n        static ArrayList&lt;AudioFile&gt; audioFileList = new ArrayList&lt;&gt;();\r\n    \r\n        public AudioFileAdapter(Context ctx) {\r\n            this.context = ctx;\r\n        }\r\n    \r\n        public void setItems(ArrayList&lt;AudioFile&gt; audioFile) {\r\n            audioFileList.addAll(audioFile);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n            View view = LayoutInflater.from(context).inflate(R.layout.audio_item, parent, false);\r\n            return new AudioFileViewHolder(view);\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n    \r\n            AudioFileViewHolder audioFileViewHolder = (AudioFileViewHolder) holder;\r\n            AudioFile audioFile = audioFileList.get(position);\r\n    \r\n            audioFileViewHolder.txtArtist.setText(audioFile.getArtist());\r\n            audioFileViewHolder.txtTitle.setText(audioFile.getTitle());\r\n            Glide.with(context).load(audioFile.getImgURL()).into(audioFileViewHolder.imageViewPicture);\r\n    \r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    Bundle bundle = new Bundle();\r\n                    bundle.putInt(&quot;posicion&quot;, position);\r\n                    Intent intent = new Intent(context, Reproductor.class);\r\n                    intent.putExtras(bundle);\r\n                    context.startActivity(intent);\r\n                }\r\n            });\r\n    \r\n            ((AudioFileViewHolder) holder).imageViewMenu.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    PopupMenu popupMenu = new PopupMenu(context, view);\r\n                    popupMenu.getMenuInflater().inflate(R.menu.audio_item_popup_menu, popupMenu.getMenu());\r\n                    popupMenu.show();\r\n    \r\n                    popupMenu.setOnMenuItemClickListener((menuItem) -&gt; {\r\n    \r\n                        switch (menuItem.getItemId()) {\r\n    \r\n                            case R.id.agregar_a_lista_ID: {\r\n    \r\n                                break;\r\n                            }\r\n                            case R.id.eliminar_de_biblioteca_ID: {\r\n                                eliminar(position);\r\n                                break;\r\n                            }\r\n                        }\r\n                        return true;\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    \r\n        public void eliminar(int position) {\r\n    \r\n            String id = audioFileList.get(position).getId();\r\n    \r\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n            Query delete = databaseReference.child(&quot;biblioteca&quot;).orderByChild(&quot;id&quot;).equalTo(id);\r\n    \r\n            delete.addListenerForSingleValueEvent(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    audioFileList.clear(); // importante limpiar la lista cada vez que se elimina un item para que no se dupliquen en la parte de abajo...\r\n                    for (DataSnapshot data : dataSnapshot.getChildren()) {\r\n                        data.getRef().removeValue();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onCancelled(DatabaseError databaseError) {\r\n                }\r\n            });\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return audioFileList.size();\r\n        }\r\n    \r\n        public interface ItemClickListener { //interfaz listener para RyclerView\r\n            void onItemClick(AudioFile audioFile);\r\n        }\r\n    }\r\n\r\nMy ViewHolder:\r\n\r\n    public class AudioFileViewHolder extends RecyclerView.ViewHolder {\r\n    \r\n        public TextView txtArtist, txtTitle;\r\n        public ImageView imageViewPicture, imageViewMenu;\r\n    \r\n        public AudioFileViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            txtArtist = itemView.findViewById(R.id.artistID);\r\n            txtTitle = itemView.findViewById(R.id.titleID);\r\n            imageViewPicture = itemView.findViewById(R.id.item_imageID);\r\n            imageViewMenu = itemView.findViewById(R.id.item_menu_ID);\r\n        }\r\n    }\r\n\r\nThe XML code for MainActivity:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;FrameLayout\r\n            android:id=&quot;@+id/frame_layout_id&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_above=&quot;@id/bottom_navigation_ID&quot; /&gt;\r\n    \r\n        &lt;com.google.android.material.bottomnavigation.BottomNavigationView\r\n            android:id=&quot;@+id/bottom_navigation_ID&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_alignParentBottom=&quot;true&quot;\r\n            android:layout_gravity=&quot;bottom&quot;\r\n            app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\r\n    \r\n    &lt;/RelativeLayout&gt;\r\n\r\nThe XML code for RecyclerView:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.BibliotecaFragment&quot;&gt;\r\n    \r\n        &lt;androidx.recyclerview.widget.RecyclerView\r\n            android:id=&quot;@+id/BibliotecaFragmentRecyclerViewID&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:background=&quot;#3C3A3A&quot;\r\n            app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;&gt;\r\n    \r\n        &lt;/androidx.recyclerview.widget.RecyclerView&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nAnd the XML code for each item into the RecyclerView:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:id=&quot;@+id/audio_itemID&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:background=&quot;@color/black&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/item_imageID&quot;\r\n            android:layout_width=&quot;60dp&quot;\r\n            android:layout_height=&quot;60dp&quot;\r\n            android:background=&quot;@drawable/ic_launcher_foreground&quot;\r\n            android:padding=&quot;5dp&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/artistID&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Artist&quot;\r\n            android:textColor=&quot;@color/white&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;-&quot;\r\n            android:textColor=&quot;@color/white&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/titleID&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:layout_marginLeft=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Title&quot;\r\n            android:textColor=&quot;@color/white&quot; /&gt;\r\n    \r\n        &lt;ImageView\r\n            android:id=&quot;@+id/item_menu_ID&quot;\r\n            android:layout_width=&quot;40dp&quot;\r\n            android:layout_height=&quot;40dp&quot;\r\n            android:layout_marginLeft=&quot;150dp&quot;\r\n            android:background=&quot;@drawable/ic_baseline_more_vert&quot;\r\n            android:padding=&quot;5dp&quot;\r\n            android:layout_gravity=&quot;center_vertical&quot;/&gt;\r\n    \r\n    &lt;/LinearLayout&gt;\r\n\r\nSorry for my english, I know it is not perfect, I hope you guys can help me with this.\r\n\r\n\r\nRub&#233;n.","title":"RecyclerView Items Duplicating when navigating through different Fragments, arraylist.clear() doesn&#180;t work","body":"<p>This is my first post here. I´m having trouble with a RecyclerView which I´m using into a fragment. I have two different fragments for a BottomNavigationMenu and the items duplicate everytime I get back to the fragment where the RecyclerView is in. I have tried using arraylist.clear(); as it is been suggested many times here but it doesn´t work. I have used the exact same code before using TabLayout with fragments instead of BottomNavigationMenu and it worked fine! the items didn´t duplicate at all...  I´m making a music library for an audio streaming app and I´m using realtime firebase to print the information for the RecyclerView onto the screen, if I use: if (audioFileArrayList == null) {\nloadData();\n} it fixes the issue beacuse this way it doesn´t print the information twice but I don´t think this is a proper solution to this problem. It seems as if everytime I go back to the RecyclerView fragment the view doesn´t refresh but instead it prints everything again and again at the bottom...</p>\n<p>This is the MainActivity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    ActivityMainBinding binding;\n    BottomNavigationView bottomNavigationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n\n        binding = ActivityMainBinding.inflate(getLayoutInflater());\n        View view = binding.getRoot();\n        setContentView(view);\n        getSupportActionBar().hide(); //escondemos la action bar\n\n        bottomNavigationView = binding.bottomNavigationID;\n        getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout_id, new BibliotecaFragment()).commit();\n\n        bottomNavigationView.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n            @Override\n            public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n\n                Fragment fragmentSeleccionado = null;\n\n                switch (item.getItemId()) {\n                    case R.id.biblioteca_ID:\n                        fragmentSeleccionado = new BibliotecaFragment();\n                        break;\n                    case R.id.playlists_ID:\n                        fragmentSeleccionado = new PlayListsFragment();\n                        break;\n                }\n                getSupportFragmentManager().beginTransaction().replace(R.id.frame_layout_id, fragmentSeleccionado).commit();\n                return true;\n            }\n        });\n    }\n}\n</code></pre>\n<p>This is the fragment for the library, as I said before if I use</p>\n<pre><code>if (audioFileArrayList == null) {\n                loadData();\n            }\n</code></pre>\n<p>it stops it from printing it twice.</p>\n<p>public class BibliotecaFragment extends Fragment {</p>\n<pre><code>FragmentBibliotecaBinding binding;\nRecyclerView recyclerView;\nAudioFileAdapter audioFileAdapter;\nstatic ArrayList&lt;AudioFile&gt; audioFileArrayList;\n\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n    binding = FragmentBibliotecaBinding.inflate(getLayoutInflater());\n\n    recyclerView = binding.BibliotecaFragmentRecyclerViewID;\n    recyclerView.setHasFixedSize(true);\n    LinearLayoutManager manager = new LinearLayoutManager(getContext(), RecyclerView.VERTICAL, false);\n    recyclerView.setLayoutManager(manager);\n    audioFileAdapter = new AudioFileAdapter(getContext());\n    recyclerView.setAdapter(audioFileAdapter);\n\n\n    loadData();\n    \n    return binding.getRoot();\n}\n\npublic void loadData() {\n\n    DatabaseReference dbr = FirebaseDatabase.getInstance().getReference();\n\n    dbr.child(&quot;biblioteca&quot;).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n\n            audioFileArrayList = new ArrayList&lt;&gt;();\n            for (DataSnapshot data : snapshot.getChildren()) {\n\n                AudioFile audioFile = data.getValue(AudioFile.class);\n                audioFileArrayList.add(audioFile);\n            }\n            audioFileAdapter.setItems(audioFileArrayList);\n            audioFileAdapter.notifyDataSetChanged();\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n\n        }\n    });\n}\n</code></pre>\n<p>}</p>\n<p>This is my adapter:</p>\n<pre><code>public class AudioFileAdapter extends RecyclerView.Adapter&lt;RecyclerView.ViewHolder&gt; {\n\n    private Context context;\n    static ArrayList&lt;AudioFile&gt; audioFileList = new ArrayList&lt;&gt;();\n\n    public AudioFileAdapter(Context ctx) {\n        this.context = ctx;\n    }\n\n    public void setItems(ArrayList&lt;AudioFile&gt; audioFile) {\n        audioFileList.addAll(audioFile);\n    }\n\n    @NonNull\n    @Override\n    public RecyclerView.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.audio_item, parent, false);\n        return new AudioFileViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerView.ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n\n        AudioFileViewHolder audioFileViewHolder = (AudioFileViewHolder) holder;\n        AudioFile audioFile = audioFileList.get(position);\n\n        audioFileViewHolder.txtArtist.setText(audioFile.getArtist());\n        audioFileViewHolder.txtTitle.setText(audioFile.getTitle());\n        Glide.with(context).load(audioFile.getImgURL()).into(audioFileViewHolder.imageViewPicture);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Bundle bundle = new Bundle();\n                bundle.putInt(&quot;posicion&quot;, position);\n                Intent intent = new Intent(context, Reproductor.class);\n                intent.putExtras(bundle);\n                context.startActivity(intent);\n            }\n        });\n\n        ((AudioFileViewHolder) holder).imageViewMenu.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                PopupMenu popupMenu = new PopupMenu(context, view);\n                popupMenu.getMenuInflater().inflate(R.menu.audio_item_popup_menu, popupMenu.getMenu());\n                popupMenu.show();\n\n                popupMenu.setOnMenuItemClickListener((menuItem) -&gt; {\n\n                    switch (menuItem.getItemId()) {\n\n                        case R.id.agregar_a_lista_ID: {\n\n                            break;\n                        }\n                        case R.id.eliminar_de_biblioteca_ID: {\n                            eliminar(position);\n                            break;\n                        }\n                    }\n                    return true;\n                });\n            }\n        });\n    }\n\n    public void eliminar(int position) {\n\n        String id = audioFileList.get(position).getId();\n\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n        Query delete = databaseReference.child(&quot;biblioteca&quot;).orderByChild(&quot;id&quot;).equalTo(id);\n\n        delete.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                audioFileList.clear(); // importante limpiar la lista cada vez que se elimina un item para que no se dupliquen en la parte de abajo...\n                for (DataSnapshot data : dataSnapshot.getChildren()) {\n                    data.getRef().removeValue();\n                }\n            }\n\n            @Override\n            public void onCancelled(DatabaseError databaseError) {\n            }\n        });\n    }\n\n    @Override\n    public int getItemCount() {\n        return audioFileList.size();\n    }\n\n    public interface ItemClickListener { //interfaz listener para RyclerView\n        void onItemClick(AudioFile audioFile);\n    }\n}\n</code></pre>\n<p>My ViewHolder:</p>\n<pre><code>public class AudioFileViewHolder extends RecyclerView.ViewHolder {\n\n    public TextView txtArtist, txtTitle;\n    public ImageView imageViewPicture, imageViewMenu;\n\n    public AudioFileViewHolder(@NonNull View itemView) {\n        super(itemView);\n        txtArtist = itemView.findViewById(R.id.artistID);\n        txtTitle = itemView.findViewById(R.id.titleID);\n        imageViewPicture = itemView.findViewById(R.id.item_imageID);\n        imageViewMenu = itemView.findViewById(R.id.item_menu_ID);\n    }\n}\n</code></pre>\n<p>The XML code for MainActivity:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;FrameLayout\n        android:id=&quot;@+id/frame_layout_id&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_above=&quot;@id/bottom_navigation_ID&quot; /&gt;\n\n    &lt;com.google.android.material.bottomnavigation.BottomNavigationView\n        android:id=&quot;@+id/bottom_navigation_ID&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_gravity=&quot;bottom&quot;\n        app:menu=&quot;@menu/bottom_navigation_menu&quot; /&gt;\n\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>The XML code for RecyclerView:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.BibliotecaFragment&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/BibliotecaFragmentRecyclerViewID&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:background=&quot;#3C3A3A&quot;\n        app:layoutManager=&quot;androidx.recyclerview.widget.LinearLayoutManager&quot;&gt;\n\n    &lt;/androidx.recyclerview.widget.RecyclerView&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>And the XML code for each item into the RecyclerView:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:id=&quot;@+id/audio_itemID&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:background=&quot;@color/black&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/item_imageID&quot;\n        android:layout_width=&quot;60dp&quot;\n        android:layout_height=&quot;60dp&quot;\n        android:background=&quot;@drawable/ic_launcher_foreground&quot;\n        android:padding=&quot;5dp&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/artistID&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Artist&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;-&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/titleID&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginLeft=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Title&quot;\n        android:textColor=&quot;@color/white&quot; /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/item_menu_ID&quot;\n        android:layout_width=&quot;40dp&quot;\n        android:layout_height=&quot;40dp&quot;\n        android:layout_marginLeft=&quot;150dp&quot;\n        android:background=&quot;@drawable/ic_baseline_more_vert&quot;\n        android:padding=&quot;5dp&quot;\n        android:layout_gravity=&quot;center_vertical&quot;/&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Sorry for my english, I know it is not perfect, I hope you guys can help me with this.</p>\n<p>Rubén.</p>\n"},{"tags":["java","intellij-idea","ram"],"comments":[{"owner":{"account_id":17693330,"reputation":3781,"user_id":12844632,"display_name":"Egor Klepikov"},"score":3,"creation_date":1661149156,"post_id":73435783,"comment_id":129693811,"body_markdown":"In addition to the answer below you can reduce -Xmx in Help | Edit Custom VM Options and restart the IDE. If none of the provided steps helped and you see **abnormal** RAM consumtion (like 10GB), contact JetBrains support at https://intellij-support.jetbrains.com/hc/en-us/requests/new and provide diagnostic details as per https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems .","body":"In addition to the answer below you can reduce -Xmx in Help | Edit Custom VM Options and restart the IDE. If none of the provided steps helped and you see <b>abnormal</b> RAM consumtion (like 10GB), contact JetBrains support at <a href=\"https://intellij-support.jetbrains.com/hc/en-us/requests/new\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/requests/new</a> and provide diagnostic details as per <a href=\"https://intellij-support.jetbrains.com/hc/en-us/articles/207241235-Reporting-performance-problems\" rel=\"nofollow noreferrer\">intellij-support.jetbrains.com/hc/en-us/articles/&hellip;</a> ."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1661703984,"creation_date":1661095809,"answer_id":73435811,"question_id":73435783,"body_markdown":"Be aware that all [IDE][3]s tend to demand much RAM. This includes *IntelliJ*, *NetBeans*, and *Eclipse*. They are not intended to be run on machines with constrained resources.\r\n\r\n# Disable plugins\r\n\r\nIntelliJ by default has many active plugins. \r\n\r\nUse the *Plugins* panel in preferences to examine each one. Deactivate the ones of no use to you. \r\n\r\n[See the manual][1].\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n# Remote access\r\n\r\nFYI, if the computer in front of you is constrained but you have access to a more powerful computer remotely, you may want to try the *JetBrains Client* to make use of IntelliJ running remotely on that other machine. See the JetBrains page, [*Remote Development Overview*][4].\r\n\r\nI vaguely recall that JetBrains announced a paid service where they would provide an IntelliJ environment in the cloud. You could configure to your liking, paying for CPU cores and memory. I don’t know the current status.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/managing-plugins.html#required-plugins\r\n  [2]: https://i.stack.imgur.com/V8mOY.png\r\n  [3]: https://en.wikipedia.org/wiki/Integrated_development_environment\r\n  [4]: https://www.jetbrains.com/help/idea/remote-development-overview.html","title":"Ways to decrease IntelliJ IDEA ram usage?","body":"<p>Be aware that all <a href=\"https://en.wikipedia.org/wiki/Integrated_development_environment\" rel=\"noreferrer\">IDE</a>s tend to demand much RAM. This includes <em>IntelliJ</em>, <em>NetBeans</em>, and <em>Eclipse</em>. They are not intended to be run on machines with constrained resources.</p>\n<h1>Disable plugins</h1>\n<p>IntelliJ by default has many active plugins.</p>\n<p>Use the <em>Plugins</em> panel in preferences to examine each one. Deactivate the ones of no use to you.</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/managing-plugins.html#required-plugins\" rel=\"noreferrer\">See the manual</a>.</p>\n<p><a href=\"https://i.stack.imgur.com/V8mOY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/V8mOY.png\" alt=\"enter image description here\" /></a></p>\n<h1>Remote access</h1>\n<p>FYI, if the computer in front of you is constrained but you have access to a more powerful computer remotely, you may want to try the <em>JetBrains Client</em> to make use of IntelliJ running remotely on that other machine. See the JetBrains page, <a href=\"https://www.jetbrains.com/help/idea/remote-development-overview.html\" rel=\"noreferrer\"><em>Remote Development Overview</em></a>.</p>\n<p>I vaguely recall that JetBrains announced a paid service where they would provide an IntelliJ environment in the cloud. You could configure to your liking, paying for CPU cores and memory. I don’t know the current status.</p>\n"}],"owner":{"account_id":20820193,"reputation":65,"user_id":15292031,"display_name":"Marcelsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8031,"favorite_count":0,"down_vote_count":2,"up_vote_count":7,"accepted_answer_id":73435811,"answer_count":1,"score":5,"last_activity_date":1661703984,"creation_date":1661095634,"question_id":73435783,"body_markdown":"I need to make it so IntelliJ idea uses less ram, any tips to make it use less ram?","title":"Ways to decrease IntelliJ IDEA ram usage?","body":"<p>I need to make it so IntelliJ idea uses less ram, any tips to make it use less ram?</p>\n"},{"tags":["java","spring","spring-boot","spring-security","spring-oauth2"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661663639,"post_id":73515834,"comment_id":129822906,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":1,"creation_date":1661670426,"post_id":73515834,"comment_id":129823603,"body_markdown":"first you should enable debug logging on spring boot, thats the basics of finding problems. Also you should use the web browser console to look for errors. This is most likely CORS, and we get about 2-3 questions a day about specifically CORS and there are 1000s of web pages explaining it. But without logs its impossible to be 100% sure. Learn to read logs it will help you a lot in the future","body":"first you should enable debug logging on spring boot, thats the basics of finding problems. Also you should use the web browser console to look for errors. This is most likely CORS, and we get about 2-3 questions a day about specifically CORS and there are 1000s of web pages explaining it. But without logs its impossible to be 100% sure. Learn to read logs it will help you a lot in the future"},{"owner":{"account_id":21488921,"reputation":4715,"user_id":15835039,"display_name":"Steve Riesenberg"},"score":0,"creation_date":1661908118,"post_id":73515834,"comment_id":129881909,"body_markdown":"As @Toerktumlare mentions, enabling debug or trace logs will help. Add `logging.level.org.springframework.security=trace` to your application.properties (or application.yml). You&#39;re most likely seeing a 403 due to [CSRF protection](https://docs.spring.io/spring-security/reference/features/exploits/csrf.html) and will need to include a CSRF token in your form.","body":"As @Toerktumlare mentions, enabling debug or trace logs will help. Add <code>logging.level.org.springframework.security=trace</code> to your application.properties (or application.yml). You&#39;re most likely seeing a 403 due to <a href=\"https://docs.spring.io/spring-security/reference/features/exploits/csrf.html\" rel=\"nofollow noreferrer\">CSRF protection</a> and will need to include a CSRF token in your form."}],"answers":[{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661703899,"creation_date":1661703899,"answer_id":73520354,"question_id":73515834,"body_markdown":"Your &quot;API&quot; is an Oauth2 **resource-server** and your web-pages the **ckient** for this resource-server.\r\n\r\nI don&#39;t see any security config for this resource-server. It should populate security context from `Authorization` header (not Jsessionid) either by decoding a JWT or introspection the bearer token on **authorization-server**.\r\n\r\nYou can start by splitting client and resource-server in different apps to better understand their respective config (you&#39;ll have to configure CORS on resource-server to allow requests from client socket)\r\n\r\nSample resource-server config here: https://github.com/ch4mpy/spring-addons/tree/master/samples%2Ftutorials","title":"Error 403 Despite having a valid JSESSIONID (Spring Boot)","body":"<p>Your &quot;API&quot; is an Oauth2 <strong>resource-server</strong> and your web-pages the <strong>ckient</strong> for this resource-server.</p>\n<p>I don't see any security config for this resource-server. It should populate security context from <code>Authorization</code> header (not Jsessionid) either by decoding a JWT or introspection the bearer token on <strong>authorization-server</strong>.</p>\n<p>You can start by splitting client and resource-server in different apps to better understand their respective config (you'll have to configure CORS on resource-server to allow requests from client socket)</p>\n<p>Sample resource-server config here: <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples%2Ftutorials\" rel=\"nofollow noreferrer\">https://github.com/ch4mpy/spring-addons/tree/master/samples%2Ftutorials</a></p>\n"}],"owner":{"account_id":26177178,"reputation":9,"user_id":19861121,"display_name":"justsayKK"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":210,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1661703899,"creation_date":1661657900,"question_id":73515834,"body_markdown":"Hihi,\r\n\r\nI&#39;m very new to the whole OAuth2 and Spring security. I&#39;m a student and would appreciate any help I can get on this topic. \r\n\r\nI want to implement OAuth2 login for my project site. A lot like those websites that you log in once at the start and it persists throughout the use of the website (untill logout). \r\n\r\nI&#39;m using the name and email from the `OAuth2AuthenticationToken` to retrieve the information of the current logged-on user to form a profile among other stuff. \r\n\r\nAll is well for all the `@GetMapping` paths. However when i try to post this form:\r\n```\r\n&lt;form method=&quot;post&quot; action=&quot;/api/adddrink&quot;&gt;\r\n    &lt;div class=&quot;input-group mb-3&quot;&gt;\r\n        &lt;button type=&quot;submit&quot; data-th-value=&quot;${cocktailDetails.idDrink}&quot; \r\n         name=&quot;idDrink&quot;&gt;Add to Profile&lt;/button&gt;\r\n    &lt;/div&gt;\r\n&lt;/form&gt;\r\n```\r\n\r\nto the following path on my `@RestController`: `/api/adddrink`\r\n\r\nI get an Error 403. I initially thought that it might be the redirect that my `@RestController` had. However, i soon found out that the code is not even being ran. \r\n\r\nChecking the request headers, I see that the JSESSIONID is present. And the cookie is also present. \r\n\r\nI&#39;ve checked several tutorials to no avail. Something to note is that I do not have security config. \r\n\r\nThings that I have done thus far to implement the OAuth2:\r\n\r\n 1. Added the following dependency: `spring-boot-starter-oauth2-client`\r\n 2. Set up the application.yml file to look like this:\r\n```xml\r\nspring:\r\n  redis:\r\n    database: 0\r\n    host: ${redis.host}    \r\n    port: ${redis.port}\r\n    username: default\r\n  security:\r\n    oauth2:\r\n      client:\r\n        registration:\r\n          github:\r\n            clientId: ${GITHUB_CLIENT_ID}\r\n            clientSecret: ${GITHUB_CLIENT_SECRET}\r\n          google:\r\n            clientId: ${GOOGLE_CLIENT_ID}\r\n            clientSecret: ${GOOGLE_CLIENT_SECRET}\r\n```\r\n 3. For all the paths that I need information from the logged in user, i&#39;ve used this: \r\n\r\n``` java\r\n@Controller\r\npublic class FrontEndController {\r\n        @GetMapping(path = &quot;/profile&quot;)\r\n         public String currentUserName(\r\n            OAuth2AuthenticationToken token) {\r\n            String currentUserName = token.getPrincipal().getAttribute(&#39;name);\r\n         return currentUserName;\r\n}\r\n```\r\n\r\nAnd all is well. Till I post that above mentioned form :/ \r\n\r\n","title":"Error 403 Despite having a valid JSESSIONID (Spring Boot)","body":"<p>Hihi,</p>\n<p>I'm very new to the whole OAuth2 and Spring security. I'm a student and would appreciate any help I can get on this topic.</p>\n<p>I want to implement OAuth2 login for my project site. A lot like those websites that you log in once at the start and it persists throughout the use of the website (untill logout).</p>\n<p>I'm using the name and email from the <code>OAuth2AuthenticationToken</code> to retrieve the information of the current logged-on user to form a profile among other stuff.</p>\n<p>All is well for all the <code>@GetMapping</code> paths. However when i try to post this form:</p>\n<pre><code>&lt;form method=&quot;post&quot; action=&quot;/api/adddrink&quot;&gt;\n    &lt;div class=&quot;input-group mb-3&quot;&gt;\n        &lt;button type=&quot;submit&quot; data-th-value=&quot;${cocktailDetails.idDrink}&quot; \n         name=&quot;idDrink&quot;&gt;Add to Profile&lt;/button&gt;\n    &lt;/div&gt;\n&lt;/form&gt;\n</code></pre>\n<p>to the following path on my <code>@RestController</code>: <code>/api/adddrink</code></p>\n<p>I get an Error 403. I initially thought that it might be the redirect that my <code>@RestController</code> had. However, i soon found out that the code is not even being ran.</p>\n<p>Checking the request headers, I see that the JSESSIONID is present. And the cookie is also present.</p>\n<p>I've checked several tutorials to no avail. Something to note is that I do not have security config.</p>\n<p>Things that I have done thus far to implement the OAuth2:</p>\n<ol>\n<li>Added the following dependency: <code>spring-boot-starter-oauth2-client</code></li>\n<li>Set up the application.yml file to look like this:</li>\n</ol>\n<pre class=\"lang-xml prettyprint-override\"><code>spring:\n  redis:\n    database: 0\n    host: ${redis.host}    \n    port: ${redis.port}\n    username: default\n  security:\n    oauth2:\n      client:\n        registration:\n          github:\n            clientId: ${GITHUB_CLIENT_ID}\n            clientSecret: ${GITHUB_CLIENT_SECRET}\n          google:\n            clientId: ${GOOGLE_CLIENT_ID}\n            clientSecret: ${GOOGLE_CLIENT_SECRET}\n</code></pre>\n<ol start=\"3\">\n<li>For all the paths that I need information from the logged in user, i've used this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class FrontEndController {\n        @GetMapping(path = &quot;/profile&quot;)\n         public String currentUserName(\n            OAuth2AuthenticationToken token) {\n            String currentUserName = token.getPrincipal().getAttribute('name);\n         return currentUserName;\n}\n</code></pre>\n<p>And all is well. Till I post that above mentioned form :/</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":22341068,"reputation":692,"user_id":16560836,"display_name":"yezper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661671967,"creation_date":1661671967,"answer_id":73516797,"question_id":73516678,"body_markdown":"First of all I want to mention that your question is not specific to *Hibernate*, as you can solely rely on the **JPA Specification** for this task. However, Hibernate is the default ORM for Spring and will implement the JPA spec in your program by default. \r\n\r\nSecond, I do not think that you need separate database tables for `Section` and `Grade`, and they could be modeled as simple Java Enums. In the following I made a quick sketch of a class diagram (not DB Model!) that came to my mind.\r\n\r\n[![class-diagram][1]][1]\r\n\r\nNote that `Grade` and `Section` are `Enums`, to restrict entering corrupted values. In the database the `Grade` and `Section` object can be mapped as either `ordinal` or `String`, [see here for reference][2]. I would recommend persisting as `String` by using this annotation `@Enumerated(EnumType.STRING)`. With regard to mapping the one to many relationship between teacher and class, I would recommend a bidirectional relation such as shown [here][3]. However, note that there are multiple ways to model this relationship in JPA. I hope I was able to help. Good luck!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sjIVv.png\r\n  [2]: https://www.baeldung.com/jpa-persisting-enums-in-jpa\r\n  [3]: https://www.baeldung.com/hibernate-one-to-many#models","title":"Understanding Entity Modeling using 3 models in Hibernate","body":"<p>First of all I want to mention that your question is not specific to <em>Hibernate</em>, as you can solely rely on the <strong>JPA Specification</strong> for this task. However, Hibernate is the default ORM for Spring and will implement the JPA spec in your program by default.</p>\n<p>Second, I do not think that you need separate database tables for <code>Section</code> and <code>Grade</code>, and they could be modeled as simple Java Enums. In the following I made a quick sketch of a class diagram (not DB Model!) that came to my mind.</p>\n<p><a href=\"https://i.stack.imgur.com/sjIVv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sjIVv.png\" alt=\"class-diagram\" /></a></p>\n<p>Note that <code>Grade</code> and <code>Section</code> are <code>Enums</code>, to restrict entering corrupted values. In the database the <code>Grade</code> and <code>Section</code> object can be mapped as either <code>ordinal</code> or <code>String</code>, <a href=\"https://www.baeldung.com/jpa-persisting-enums-in-jpa\" rel=\"nofollow noreferrer\">see here for reference</a>. I would recommend persisting as <code>String</code> by using this annotation <code>@Enumerated(EnumType.STRING)</code>. With regard to mapping the one to many relationship between teacher and class, I would recommend a bidirectional relation such as shown <a href=\"https://www.baeldung.com/hibernate-one-to-many#models\" rel=\"nofollow noreferrer\">here</a>. However, note that there are multiple ways to model this relationship in JPA. I hope I was able to help. Good luck!</p>\n"}],"owner":{"account_id":977185,"reputation":3014,"user_id":1161062,"accept_rate":50,"display_name":"r4jiv007"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661702812,"creation_date":1661670631,"question_id":73516678,"body_markdown":"I am starting to learn Spring Boot and Hibernate by building small rest services.\r\nI am using MySQL as my database.\r\nI am able to understand relationship annotation used in hibernate though sometimes it&#39;s tricky to write with all the verbose syntax.\r\n\r\nRight now I am struggling with how to map 3 entities together.\r\nThe following is what I am trying to achieve.\r\nI have a teacher entity, a grade entity, and a section entity.\r\nNow, each Grade can have multiple sections. \r\n\r\n```java\r\npublic class Grade {\r\n   private String name;\r\n\r\n   @OneToMany\r\n   private List&lt;Section&gt; sections;\r\n}\r\n\r\npublic class Section {\r\n   private String name;\r\n}\r\n```\r\nAnd, a teacher can teach in multiple grades or multiple sections of the same grade.\r\n\r\nImagine grade 1 to 5, each grade has section A to D.\r\n\r\nTeacher, let&#39;s say John can teach Grade 1 (sec A, B) and Grade 2 ( sec C, D).\r\n\r\nI am failing to understand the syntax to implement the above relationhip.\r\nOne way is to use another Entity called Class which will have grade and section as property.\r\n```java\r\npublic class Class {\r\n   private Grade grade;\r\n   private Section section;\r\n}\r\n```\r\n\r\nanother way can be to use a map data structure like `Map&lt;Grade, List&lt;Section&gt;&gt; class;`\r\n\r\nStill, I am looking for help to write it down with JPA annotations.\r\nAny lead is appreciated.\r\n\r\n\r\n\r\n","title":"Understanding Entity Modeling using 3 models in Hibernate","body":"<p>I am starting to learn Spring Boot and Hibernate by building small rest services.\nI am using MySQL as my database.\nI am able to understand relationship annotation used in hibernate though sometimes it's tricky to write with all the verbose syntax.</p>\n<p>Right now I am struggling with how to map 3 entities together.\nThe following is what I am trying to achieve.\nI have a teacher entity, a grade entity, and a section entity.\nNow, each Grade can have multiple sections.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Grade {\n   private String name;\n\n   @OneToMany\n   private List&lt;Section&gt; sections;\n}\n\npublic class Section {\n   private String name;\n}\n</code></pre>\n<p>And, a teacher can teach in multiple grades or multiple sections of the same grade.</p>\n<p>Imagine grade 1 to 5, each grade has section A to D.</p>\n<p>Teacher, let's say John can teach Grade 1 (sec A, B) and Grade 2 ( sec C, D).</p>\n<p>I am failing to understand the syntax to implement the above relationhip.\nOne way is to use another Entity called Class which will have grade and section as property.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Class {\n   private Grade grade;\n   private Section section;\n}\n</code></pre>\n<p>another way can be to use a map data structure like <code>Map&lt;Grade, List&lt;Section&gt;&gt; class;</code></p>\n<p>Still, I am looking for help to write it down with JPA annotations.\nAny lead is appreciated.</p>\n"},{"tags":["java","eclipse","heap-memory"],"comments":[{"owner":{"account_id":1005212,"reputation":28558,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"score":0,"creation_date":1365028933,"post_id":15799476,"comment_id":22467280,"body_markdown":"run the program from command line!","body":"run the program from command line!"},{"owner":{"account_id":1540981,"reputation":11432,"user_id":1435657,"accept_rate":91,"display_name":"asteri"},"score":2,"creation_date":1365029018,"post_id":15799476,"comment_id":22467317,"body_markdown":"You are setting the max heap size for Eclipse, not for the program itself.","body":"You are setting the max heap size for Eclipse, not for the program itself."},{"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"score":0,"creation_date":1365029084,"post_id":15799476,"comment_id":22467333,"body_markdown":"How can I run it from the command line while increasing the heap size?","body":"How can I run it from the command line while increasing the heap size?"},{"owner":{"account_id":2492581,"reputation":16143,"user_id":2169762,"display_name":"Martin"},"score":0,"creation_date":1365029145,"post_id":15799476,"comment_id":22467350,"body_markdown":"Have you checked the path to the Java VM in the `eclipse.ini`?  By default it points to the 32bit version of Java.  Look for the `-vm` tag and see what it&#39;s set to.","body":"Have you checked the path to the Java VM in the <code>eclipse.ini</code>?  By default it points to the 32bit version of Java.  Look for the <code>-vm</code> tag and see what it&#39;s set to."},{"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"score":0,"creation_date":1365029597,"post_id":15799476,"comment_id":22467487,"body_markdown":"There is no path to java in my eclipse.ini","body":"There is no path to java in my eclipse.ini"},{"owner":{"account_id":1878140,"reputation":8733,"user_id":1698887,"accept_rate":50,"display_name":"Daniel Williams"},"score":0,"creation_date":1365030643,"post_id":15799476,"comment_id":22467888,"body_markdown":"What VM are you using? Some of them do have built-in maximums","body":"What VM are you using? Some of them do have built-in maximums"},{"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"score":0,"creation_date":1365030850,"post_id":15799476,"comment_id":22467970,"body_markdown":"Version 7 Update 17 from oracle.com","body":"Version 7 Update 17 from oracle.com"},{"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"score":0,"creation_date":1365036797,"post_id":15799476,"comment_id":22469717,"body_markdown":"I forgot to mention, java version is HotSpot","body":"I forgot to mention, java version is HotSpot"}],"answers":[{"tags":[],"owner":{"account_id":1878140,"reputation":8733,"user_id":1698887,"accept_rate":50,"display_name":"Daniel Williams"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1365028941,"creation_date":1365028941,"answer_id":15799527,"question_id":15799476,"body_markdown":"Try doing this:\r\n\r\n    System.getProperty(&quot;sun.arch.data.model&quot;) \r\n\r\nAnd see if it returns 32 or 64 inside your program\r\n\r\nAlso you need to add -Xmx to your launch params for your program not just for eclipse.\r\n\r\nYou can verify your program&#39;s -Xmx is configured properly by doing:\r\n\r\n    Runtime.getRuntime().maxMemory();","title":"64-bit java won&#39;t allocate more than 2GB of heap memory","body":"<p>Try doing this:</p>\n\n<pre><code>System.getProperty(\"sun.arch.data.model\") \n</code></pre>\n\n<p>And see if it returns 32 or 64 inside your program</p>\n\n<p>Also you need to add -Xmx to your launch params for your program not just for eclipse.</p>\n\n<p>You can verify your program's -Xmx is configured properly by doing:</p>\n\n<pre><code>Runtime.getRuntime().maxMemory();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645895,"reputation":5799,"user_id":1517453,"display_name":"Pradeep Pati"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1365029192,"creation_date":1365029192,"answer_id":15799582,"question_id":15799476,"body_markdown":"In the run configuration screen, go to Arguments tab, add `-Xmx8g` to the VM arguments text box.","title":"64-bit java won&#39;t allocate more than 2GB of heap memory","body":"<p>In the run configuration screen, go to Arguments tab, add <code>-Xmx8g</code> to the VM arguments text box.</p>\n"},{"tags":[],"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1365080380,"creation_date":1365080380,"answer_id":15811928,"question_id":15799476,"body_markdown":"After trying everything else, it looked like VMArguments were simply not working in eclipse.\r\n\r\nChanging the DEFAULT VM args within eclipse worked (finally!):\r\n\r\nInserting VM arguments into your JRE: while Eclipse is open, open up Preferences (for Windows: located under Window menu item. for Mac: located under Eclipse menu item), open the Java section, click on Installed JREs, click on the JRE being used (probably will be jre6), click on the Edit... button, and insert this into the Default VM Arguments:\r\n\r\n-Xms256M -Xmx8192M","title":"64-bit java won&#39;t allocate more than 2GB of heap memory","body":"<p>After trying everything else, it looked like VMArguments were simply not working in eclipse.</p>\n\n<p>Changing the DEFAULT VM args within eclipse worked (finally!):</p>\n\n<p>Inserting VM arguments into your JRE: while Eclipse is open, open up Preferences (for Windows: located under Window menu item. for Mac: located under Eclipse menu item), open the Java section, click on Installed JREs, click on the JRE being used (probably will be jre6), click on the Edit... button, and insert this into the Default VM Arguments:</p>\n\n<p>-Xms256M -Xmx8192M</p>\n"},{"tags":[],"owner":{"account_id":249491,"reputation":4337,"user_id":525578,"accept_rate":100,"display_name":"Serg Kryvonos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661702495,"creation_date":1404322512,"answer_id":24537541,"question_id":15799476,"body_markdown":"Try adding `-d64` option to the`eclipse.ini`","title":"64-bit java won&#39;t allocate more than 2GB of heap memory","body":"<p>Try adding <code>-d64</code> option to the<code>eclipse.ini</code></p>\n"}],"owner":{"account_id":332708,"reputation":447,"user_id":658157,"accept_rate":77,"display_name":"Justin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13515,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":15811928,"answer_count":4,"score":7,"last_activity_date":1661702495,"creation_date":1365028653,"question_id":15799476,"body_markdown":"I&#39;m running my program from eclipse and using 64-bit java, but I still can&#39;t get it to allocate more than 2GB of memory.  I&#39;m running some benchmarks so I need a lot of memory.\r\n\r\nI have this in my eclipse.ini:\r\n-Xmx8g\r\n\r\nI want it to use all my memory.\r\nCould this be due to a 32-bit version of eclipse? I&#39;m not sure what I have for eclipse.\r\n\r\nI&#39;ve tried sending in \r\n-Xmx8g\r\nto VMArgs when running the program.\r\nI&#39;m running 64-bit windows 7 and a 64-bit JRE.","title":"64-bit java won&#39;t allocate more than 2GB of heap memory","body":"<p>I'm running my program from eclipse and using 64-bit java, but I still can't get it to allocate more than 2GB of memory.  I'm running some benchmarks so I need a lot of memory.</p>\n\n<p>I have this in my eclipse.ini:\n-Xmx8g</p>\n\n<p>I want it to use all my memory.\nCould this be due to a 32-bit version of eclipse? I'm not sure what I have for eclipse.</p>\n\n<p>I've tried sending in \n-Xmx8g\nto VMArgs when running the program.\nI'm running 64-bit windows 7 and a 64-bit JRE.</p>\n"},{"tags":["java","kubernetes","junit"],"comments":[{"owner":{"account_id":6014322,"reputation":7624,"user_id":4723732,"accept_rate":93,"display_name":"Richard Rublev"},"score":0,"creation_date":1661709653,"post_id":73519886,"comment_id":129831160,"body_markdown":"Maybe this https://piotrminkowski.com/2020/09/01/integration-testing-on-kubernetes-with-junit5/ can help.","body":"Maybe this <a href=\"https://piotrminkowski.com/2020/09/01/integration-testing-on-kubernetes-with-junit5/\" rel=\"nofollow noreferrer\">piotrminkowski.com/2020/09/01/&hellip;</a> can help."},{"owner":{"account_id":1459097,"reputation":748,"user_id":1373900,"display_name":"intel_chris"},"score":1,"creation_date":1661788048,"post_id":73519886,"comment_id":129849136,"body_markdown":"Thanks I read that page (and a few others).  The page that was most helpful was this one: https://www.baeldung.com/junit-run-from-command-line\n\nIt shows how to use junit-platform-console-standalone-1.7.2.jar (which is part of junit itself) to run without a build system (i.e. no gradle, no maven, no ant), which is what I want.  Most of the other tutorials show you how to use some &quot;tool&quot; that I would have to load into the pod to achieve that purpose.","body":"Thanks I read that page (and a few others).  The page that was most helpful was this one: <a href=\"https://www.baeldung.com/junit-run-from-command-line\" rel=\"nofollow noreferrer\">baeldung.com/junit-run-from-command-line</a>  It shows how to use junit-platform-console-standalone-1.7.2.jar (which is part of junit itself) to run without a build system (i.e. no gradle, no maven, no ant), which is what I want.  Most of the other tutorials show you how to use some &quot;tool&quot; that I would have to load into the pod to achieve that purpose."}],"owner":{"account_id":1459097,"reputation":748,"user_id":1373900,"display_name":"intel_chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661701768,"creation_date":1661699661,"question_id":73519886,"body_markdown":"Overview:  I have a frontend service running in a Kubernetes pod that I want to run integration tests on to assure that the backend services do what is expected.  The service uses junit tests that I have repurposed to be integration tests.  And that runs fine in a development environment, but we need them to run in a set of (canary) test pods that mimic our eventual SaaS solution so that we can make them part of our CI/CD pipeline that needs to run on each merge request.  That way people won&#39;t be able to check in code that &quot;breaks the build&quot;.  \r\n\r\nSo, what I need to find is how to have the minimal stuff to add to our front end (canary) test pod to allow it to run these junit tests.\r\n\r\nI found junit5 via apt-get and in it is junit-platform-console-standalone-1.3.2.jar.  That is the start of what I need, but the tests reference org.junit.jupiter.api.Test (and Disabled) and other files in our test classes (e.g. FooTestBaseClass.java) and our tests in the development world are in /foo/src/test/java/com/bar/foo/test with resources in /foo/src/test/resources.\r\n\r\n***So, I need to know where to &quot;put&quot; the org.junit.jupiter.api directory as well as what to put in my classpath to find the local java classes.***\r\n\r\nThe stuff works by &quot;magic&quot; incantations in the development environment, e.g. I just type &quot;gradle test&quot;, but I don&#39;t want to replicate that entire environment in the Kubernetes pod.  I want to understand the &quot;sufficiently advanced technology&quot; so that it is no longer magic.\r\n\r\nNote, I can&#39;t run the integration tests in the CICD pipeline outside the pod because the backend code is not in Java (it&#39;s mostly in Rust) and there is a hardware layer which is currently simulated in C++ and all the communication is done via GraphQL in yaml files.  And the point of these tests are to make certain that the different implementations of the yaml (and the contents in the GraphQL) are speaking compatible dialects.  Thus, I have to spin up 3 different servers.\r\n\r\nPartial success.  I found the 1.9.0 version (as a jar file) in the Maven Central repository.  (It took a bit of looking to find that and how to get it as a jar file rather than just a Maven link in xml.)  That satisfies the junit.jupiter packages.","title":"How to run Junit5 tests in a kubernetes pod without gradle or maven just minimal support","body":"<p>Overview:  I have a frontend service running in a Kubernetes pod that I want to run integration tests on to assure that the backend services do what is expected.  The service uses junit tests that I have repurposed to be integration tests.  And that runs fine in a development environment, but we need them to run in a set of (canary) test pods that mimic our eventual SaaS solution so that we can make them part of our CI/CD pipeline that needs to run on each merge request.  That way people won't be able to check in code that &quot;breaks the build&quot;.</p>\n<p>So, what I need to find is how to have the minimal stuff to add to our front end (canary) test pod to allow it to run these junit tests.</p>\n<p>I found junit5 via apt-get and in it is junit-platform-console-standalone-1.3.2.jar.  That is the start of what I need, but the tests reference org.junit.jupiter.api.Test (and Disabled) and other files in our test classes (e.g. FooTestBaseClass.java) and our tests in the development world are in /foo/src/test/java/com/bar/foo/test with resources in /foo/src/test/resources.</p>\n<p><em><strong>So, I need to know where to &quot;put&quot; the org.junit.jupiter.api directory as well as what to put in my classpath to find the local java classes.</strong></em></p>\n<p>The stuff works by &quot;magic&quot; incantations in the development environment, e.g. I just type &quot;gradle test&quot;, but I don't want to replicate that entire environment in the Kubernetes pod.  I want to understand the &quot;sufficiently advanced technology&quot; so that it is no longer magic.</p>\n<p>Note, I can't run the integration tests in the CICD pipeline outside the pod because the backend code is not in Java (it's mostly in Rust) and there is a hardware layer which is currently simulated in C++ and all the communication is done via GraphQL in yaml files.  And the point of these tests are to make certain that the different implementations of the yaml (and the contents in the GraphQL) are speaking compatible dialects.  Thus, I have to spin up 3 different servers.</p>\n<p>Partial success.  I found the 1.9.0 version (as a jar file) in the Maven Central repository.  (It took a bit of looking to find that and how to get it as a jar file rather than just a Maven link in xml.)  That satisfies the junit.jupiter packages.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":3538580,"reputation":248,"user_id":15072863,"display_name":"Dmitry"},"score":0,"creation_date":1661701176,"post_id":73519408,"comment_id":129829366,"body_markdown":"What version of Idea do you have? In Idea 2022.2.1, in settings &quot;Editor-&gt;General-&gt;Smart Keys&quot; I see option &quot;Insert Paired brackets (), [], {}, &lt;&gt;&quot;, which presumably controls everything.","body":"What version of Idea do you have? In Idea 2022.2.1, in settings &quot;Editor-&gt;General-&gt;Smart Keys&quot; I see option &quot;Insert Paired brackets (), [], {}, &lt;&gt;&quot;, which presumably controls everything."}],"answers":[{"tags":[],"owner":{"account_id":26181398,"reputation":46,"user_id":19864743,"display_name":"Anush Shetty"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661701687,"creation_date":1661701687,"answer_id":73520094,"question_id":73519408,"body_markdown":"Follow following steps\r\n\r\n\r\n**Step 1**:Go to File\r\n\r\n\r\n\r\n**Step 2**:Search Smart keys\r\n\r\n\r\n**Step 3**:Select the Insert pair &#39;}&#39; checkbox in the Enter group","title":"How to open double curly bracket in idea","body":"<p>Follow following steps</p>\n<p><strong>Step 1</strong>:Go to File</p>\n<p><strong>Step 2</strong>:Search Smart keys</p>\n<p><strong>Step 3</strong>:Select the Insert pair '}' checkbox in the Enter group</p>\n"}],"owner":{"account_id":15323666,"reputation":43,"user_id":15921183,"display_name":"Realag"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73520094,"answer_count":1,"score":0,"last_activity_date":1661701687,"creation_date":1661695984,"question_id":73519408,"body_markdown":"Maybe this question will be a little silly, but this problem has already got me.\r\n\r\nWhen I press, the ```[``` button immediately opens the second bracket ```[]```,\r\nbut when i need ```{```, i press ```shift+[``` and second bracket dont opens, like this ```{}```.\r\n\r\nThe most interesting thing is when I need ```(```, combination ```shift + 9```, open double ```()```.\r\n\r\n**How to fix this, strange problem?**\r\n\r\nP.s. I know what you will say, &quot;Are you too lazy to press the another key?&quot;, no, I&#39;m not too lazy, but I have already developed a habit from MS Visual Studio, where there was no such problem.","title":"How to open double curly bracket in idea","body":"<p>Maybe this question will be a little silly, but this problem has already got me.</p>\n<p>When I press, the <code>[</code> button immediately opens the second bracket <code>[]</code>,\nbut when i need <code>{</code>, i press <code>shift+[</code> and second bracket dont opens, like this <code>{}</code>.</p>\n<p>The most interesting thing is when I need <code>(</code>, combination <code>shift + 9</code>, open double <code>()</code>.</p>\n<p><strong>How to fix this, strange problem?</strong></p>\n<p>P.s. I know what you will say, &quot;Are you too lazy to press the another key?&quot;, no, I'm not too lazy, but I have already developed a habit from MS Visual Studio, where there was no such problem.</p>\n"},{"tags":["java","sockets"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1661688698,"post_id":73518498,"comment_id":129826711,"body_markdown":"One issue: You should be reading using try-with-resources, so that the socket closes appropriately","body":"One issue: You should be reading using try-with-resources, so that the socket closes appropriately"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1661688730,"post_id":73518498,"comment_id":129826717,"body_markdown":"But your socket may be being closed by &quot;the other end&quot;","body":"But your socket may be being closed by &quot;the other end&quot;"},{"owner":{"account_id":25534785,"reputation":532,"user_id":19322069,"display_name":"access violation"},"score":1,"creation_date":1661690125,"post_id":73518498,"comment_id":129827018,"body_markdown":"The actual cause is &#39;connection reset&#39;, which means the other end sent a RST.","body":"The actual cause is &#39;connection reset&#39;, which means the other end sent a RST."},{"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1661695322,"post_id":73518498,"comment_id":129828175,"body_markdown":"@accessviolation+ or at least something external did. RST was designed to be end-to-end, but the modern Internet has _lots_ of middleboxes that use it to forcibly break a connection whenever their admins see fit.","body":"@accessviolation+ or at least something external did. RST was designed to be end-to-end, but the modern Internet has <i>lots</i> of middleboxes that use it to forcibly break a connection whenever their admins see fit."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661701504,"post_id":73518498,"comment_id":129829431,"body_markdown":"By the way, there is no point in checking if `data` is null.  Collectors.joining will *never* return a null terminal result.","body":"By the way, there is no point in checking if <code>data</code> is null.  Collectors.joining will <i>never</i> return a null terminal result."}],"owner":{"account_id":26034884,"reputation":1,"user_id":19740469,"display_name":"CustomPayload"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661701251,"creation_date":1661688389,"question_id":73518498,"body_markdown":"Im getting an UncheckedException when im trying to read the lines from BufferedReader\r\n\r\n    Exception in thread &quot;Thread-7&quot; java.io.UncheckedIOException: java.net.SocketException: \r\n    Connection reset\r\n\tat java.io.BufferedReader$1.hasNext(BufferedReader.java:574)\r\n\tat java.util.Iterator.forEachRemaining(Iterator.java:115)\r\n\tat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n\tat net.custompayload.LunarRAT.handler.PacketHandler.Packet(PacketHandler.java:31)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: java.net.SocketException: Connection reset\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:210)\r\n\tat java.net.SocketInputStream.read(SocketInputStream.java:141)\r\n\tat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\r\n\tat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\r\n\tat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\r\n\tat java.io.InputStreamReader.read(InputStreamReader.java:184)\r\n\tat java.io.BufferedReader.fill(BufferedReader.java:161)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:324)\r\n\tat java.io.BufferedReader.readLine(BufferedReader.java:389)\r\n\tat java.io.BufferedReader$1.hasNext(BufferedReader.java:571)\r\n\t... 9 more\r\n\r\nProcess finished with exit code 130\r\n\r\nThis is my code, it tries to loop through every module which is like a check for what message it is and it executes the code with the arguments but for some reason when the client sends data to the server it receives nothing\r\n\r\n```java\r\nreader = new BufferedReader(new InputStreamReader(_socket.getInputStream(), \r\nStandardCharsets.UTF_8));\r\nreader.ready();\r\nString data = reader.lines().collect(Collectors.joining());\r\nif(data != null &amp;&amp; !data.isEmpty()){\r\n    ArrayList&lt;String&gt; args = StringUtils.ConvertStringToArrayListArguments(data);\r\n    for(String module : Module.Modules.keySet()){\r\n        String name = Module.Modules.get(module).getName();\r\n        if(data.equalsIgnoreCase(name)){\r\n            Module.Modules.get(module).Execute(args);\r\n        }\r\n    }\r\n}\r\n```","title":"java.net.SocketException when trying to read from BufferedReader","body":"<p>Im getting an UncheckedException when im trying to read the lines from BufferedReader</p>\n<pre><code>Exception in thread &quot;Thread-7&quot; java.io.UncheckedIOException: java.net.SocketException: \nConnection reset\nat java.io.BufferedReader$1.hasNext(BufferedReader.java:574)\nat java.util.Iterator.forEachRemaining(Iterator.java:115)\nat java.util.Spliterators$IteratorSpliterator.forEachRemaining(Spliterators.java:1801)\nat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)\nat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\nat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\nat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\nat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\nat net.custompayload.LunarRAT.handler.PacketHandler.Packet(PacketHandler.java:31)\nat java.lang.Thread.run(Thread.java:748)\nCaused by: java.net.SocketException: Connection reset\nat java.net.SocketInputStream.read(SocketInputStream.java:210)\nat java.net.SocketInputStream.read(SocketInputStream.java:141)\nat sun.nio.cs.StreamDecoder.readBytes(StreamDecoder.java:284)\nat sun.nio.cs.StreamDecoder.implRead(StreamDecoder.java:326)\nat sun.nio.cs.StreamDecoder.read(StreamDecoder.java:178)\nat java.io.InputStreamReader.read(InputStreamReader.java:184)\nat java.io.BufferedReader.fill(BufferedReader.java:161)\nat java.io.BufferedReader.readLine(BufferedReader.java:324)\nat java.io.BufferedReader.readLine(BufferedReader.java:389)\nat java.io.BufferedReader$1.hasNext(BufferedReader.java:571)\n... 9 more\n</code></pre>\n<p>Process finished with exit code 130</p>\n<p>This is my code, it tries to loop through every module which is like a check for what message it is and it executes the code with the arguments but for some reason when the client sends data to the server it receives nothing</p>\n<pre class=\"lang-java prettyprint-override\"><code>reader = new BufferedReader(new InputStreamReader(_socket.getInputStream(), \nStandardCharsets.UTF_8));\nreader.ready();\nString data = reader.lines().collect(Collectors.joining());\nif(data != null &amp;&amp; !data.isEmpty()){\n    ArrayList&lt;String&gt; args = StringUtils.ConvertStringToArrayListArguments(data);\n    for(String module : Module.Modules.keySet()){\n        String name = Module.Modules.get(module).getName();\n        if(data.equalsIgnoreCase(name)){\n            Module.Modules.get(module).Execute(args);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","libpd"],"comments":[{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":2,"creation_date":1652642654,"post_id":72251433,"comment_id":127650055,"body_markdown":"Simply file an [issue](https://github.com/libpd/pd-for-android/issues) and provide PR to it, then update the dependency.","body":"Simply file an <a href=\"https://github.com/libpd/pd-for-android/issues\" rel=\"nofollow noreferrer\">issue</a> and provide PR to it, then update the dependency."},{"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"score":0,"creation_date":1652642734,"post_id":72251433,"comment_id":127650067,"body_markdown":"@MartinZeitler there is nothing I can do? Need to wait them?","body":"@MartinZeitler there is nothing I can do? Need to wait them?"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1652642812,"post_id":72251433,"comment_id":127650085,"body_markdown":"You can also link against the library project and fix it locally, but this doesn&#39;t fix the provided AAR library... but when already doing so, you can as well push these changes as PR.","body":"You can also link against the library project and fix it locally, but this doesn&#39;t fix the provided AAR library... but when already doing so, you can as well push these changes as PR."},{"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"score":0,"creation_date":1652642963,"post_id":72251433,"comment_id":127650121,"body_markdown":"@MartinZeitler Can you give me an example of that? They usually take much time to correct things and I cannot wait.","body":"@MartinZeitler Can you give me an example of that? They usually take much time to correct things and I cannot wait."},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":1,"creation_date":1652643139,"post_id":72251433,"comment_id":127650147,"body_markdown":"I&#39;m not going to explain how forking and pull requests work, as this is well documented, but can tell which line to fix: https://github.com/libpd/pd-for-android/blob/master/PdCore/src/main/java/org/puredata/android/service/PdService.java#L245","body":"I&#39;m not going to explain how forking and pull requests work, as this is well documented, but can tell which line to fix: <a href=\"https://github.com/libpd/pd-for-android/blob/master/PdCore/src/main/java/org/puredata/android/service/PdService.java#L245\" rel=\"nofollow noreferrer\">github.com/libpd/pd-for-android/blob/master/PdCore/src/main/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":2731786,"reputation":409,"user_id":2355408,"accept_rate":40,"display_name":"uncle_scrooge"},"score":0,"creation_date":1678081786,"post_id":72251433,"comment_id":133457448,"body_markdown":"were you able to fix this,without updating library","body":"were you able to fix this,without updating library"}],"answers":[{"tags":[],"owner":{"account_id":26148371,"reputation":1,"user_id":19836683,"display_name":"Arsalan"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1661700923,"creation_date":1661336474,"answer_id":73471434,"question_id":72251433,"body_markdown":"Add the `android:exported` tag in your service or activity in manifest. For example:\r\n\r\n    android:exported=&quot;true&quot;","title":"How to correct missing pending intent on android 12 in a third party library?","body":"<p>Add the <code>android:exported</code> tag in your service or activity in manifest. For example:</p>\n<pre><code>android:exported=&quot;true&quot;\n</code></pre>\n"}],"owner":{"account_id":6926316,"reputation":4123,"user_id":5317298,"accept_rate":70,"display_name":"RGS"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":908,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661700923,"creation_date":1652641801,"question_id":72251433,"body_markdown":"I have a 3rd party library that uses pending intent and my app crushes on android 12 because of that:\r\n\r\n&gt; java.lang.IllegalArgumentException: com.myapp: Targeting S+ (version\r\n&gt; 31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be\r\n&gt; specified when creating a PendingIntent.\r\n&gt;     Strongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\r\n&gt; it needs to be used with inline replies or bubbles.\r\n&gt;         at android.app.PendingIntent.checkFlags(PendingIntent.java:375)\r\n\r\nI try to add:\r\n\r\n    implementation &#39;androidx.work:work-runtime:2.7.1&#39;\r\n\r\nbut the error continues.\r\n\r\nI also tried to add:\r\n\r\n    allproject {\r\n      project.configurations.all {\r\n        resolutionStrategy {\r\n          force &#39;androidx.work:work-runtime:2.7.0&#39;\r\n        }\r\n      }\r\n    }\r\n\r\nin my build.gradle and nothing.\r\n\r\nThe library I need to use is this one:\r\n\r\n    implementation &#39;org.puredata.android:pd-core:1.2.1-rc1&#39;\r\n    \r\n    &lt;service android:name=&quot;org.puredata.android.service.PdService&quot;\r\n                android:foregroundServiceType=&quot;microphone|phoneCall&quot; /&gt;\r\n\r\nAny ideas how to make it work?\r\nThanks","title":"How to correct missing pending intent on android 12 in a third party library?","body":"<p>I have a 3rd party library that uses pending intent and my app crushes on android 12 because of that:</p>\n<blockquote>\n<p>java.lang.IllegalArgumentException: com.myapp: Targeting S+ (version\n31 and above) requires that one of FLAG_IMMUTABLE or FLAG_MUTABLE be\nspecified when creating a PendingIntent.\nStrongly consider using FLAG_IMMUTABLE, only use FLAG_MUTABLE if some functionality depends on the PendingIntent being mutable, e.g. if\nit needs to be used with inline replies or bubbles.\nat android.app.PendingIntent.checkFlags(PendingIntent.java:375)</p>\n</blockquote>\n<p>I try to add:</p>\n<pre><code>implementation 'androidx.work:work-runtime:2.7.1'\n</code></pre>\n<p>but the error continues.</p>\n<p>I also tried to add:</p>\n<pre><code>allproject {\n  project.configurations.all {\n    resolutionStrategy {\n      force 'androidx.work:work-runtime:2.7.0'\n    }\n  }\n}\n</code></pre>\n<p>in my build.gradle and nothing.</p>\n<p>The library I need to use is this one:</p>\n<pre><code>implementation 'org.puredata.android:pd-core:1.2.1-rc1'\n\n&lt;service android:name=&quot;org.puredata.android.service.PdService&quot;\n            android:foregroundServiceType=&quot;microphone|phoneCall&quot; /&gt;\n</code></pre>\n<p>Any ideas how to make it work?\nThanks</p>\n"},{"tags":["java","asynchronous","completable-future","retrypolicy","java-failsafe"],"answers":[{"tags":[],"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1543760346,"creation_date":1543760346,"answer_id":53581113,"question_id":53580754,"body_markdown":"CompletionStage API gives several different ways of handling and dealing with unchecked exceptions. But in your case what you get is a Checked exception and you are out of luck. You either have to handle it or throw it outward towards your caller. Here&#39;s a one way of doing it, if you prefer the latter approach.\r\n\r\n    Failsafe.with(retryPolicy).with(executor).future(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    // Remainder omitted\r\n                    return response;\r\n                } catch (IOException e) {\r\n                    throw new CompletionException(e);\r\n                }\r\n            }).thenApplyAsync(response -&gt; &quot;Response: &quot; + response)\r\n              .thenAccept(System.out::println));","title":"Failsafe RetryPolicy - throw exception from supplyAsync","body":"<p>CompletionStage API gives several different ways of handling and dealing with unchecked exceptions. But in your case what you get is a Checked exception and you are out of luck. You either have to handle it or throw it outward towards your caller. Here's a one way of doing it, if you prefer the latter approach.</p>\n\n<pre><code>Failsafe.with(retryPolicy).with(executor).future(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                // Remainder omitted\n                return response;\n            } catch (IOException e) {\n                throw new CompletionException(e);\n            }\n        }).thenApplyAsync(response -&gt; \"Response: \" + response)\n          .thenAccept(System.out::println));\n</code></pre>\n"}],"owner":{"account_id":8215057,"reputation":25,"user_id":7208502,"display_name":"imeshU"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2208,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":53581113,"answer_count":1,"score":0,"last_activity_date":1661700782,"creation_date":1543757659,"question_id":53580754,"body_markdown":"I&#39;m implementing a retry policy. Basically what I want to do is retry a POST request on a separate thread. I&#39;m using Failsafe (https://failsafe.dev/async-execution/#async-integration) Here is my code\r\n\r\n    Failsafe.with(retryPolicy).with(executor).future(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\r\n                try {\r\n                    CloseableHttpResponse response = client.execute(httpPost);\r\n                    httpPost.releaseConnection();\r\n                    client.close();\r\n                    return response;\r\n                } catch (IOException e) {\r\n                    return null;\r\n                }\r\n            }).thenApplyAsync(response -&gt; &quot;Response: &quot; + response)\r\n              .thenAccept(System.out::println));\r\n\r\nI don&#39;t want to catch the IOException here. It is handled by the retry policy. Currently retrying won&#39;t happen since I&#39;m catching the exception here. Is there a way to throw an exception from &#39;supplyAsync&#39; so it will be handled by the retry policy?\r\nThanks.\r\nThanks ","title":"Failsafe RetryPolicy - throw exception from supplyAsync","body":"<p>I'm implementing a retry policy. Basically what I want to do is retry a POST request on a separate thread. I'm using Failsafe (<a href=\"https://failsafe.dev/async-execution/#async-integration\" rel=\"nofollow noreferrer\">https://failsafe.dev/async-execution/#async-integration</a>) Here is my code</p>\n<pre><code>Failsafe.with(retryPolicy).with(executor).future(() -&gt; CompletableFuture.supplyAsync(() -&gt; {\n            try {\n                CloseableHttpResponse response = client.execute(httpPost);\n                httpPost.releaseConnection();\n                client.close();\n                return response;\n            } catch (IOException e) {\n                return null;\n            }\n        }).thenApplyAsync(response -&gt; &quot;Response: &quot; + response)\n          .thenAccept(System.out::println));\n</code></pre>\n<p>I don't want to catch the IOException here. It is handled by the retry policy. Currently retrying won't happen since I'm catching the exception here. Is there a way to throw an exception from 'supplyAsync' so it will be handled by the retry policy?\nThanks.\nThanks</p>\n"},{"tags":["java","swing","alignment","frame"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1661699233,"post_id":73519644,"comment_id":129828915,"body_markdown":"[Avoid](https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing) null layouts","body":"<a href=\"https://technojeeves.com/index.php/aliasjava1/114-avoid-null-layouts-in-swing\" rel=\"nofollow noreferrer\">Avoid</a> null layouts"},{"owner":{"account_id":20951392,"reputation":68,"user_id":15392983,"display_name":"MK.Whridoy"},"score":0,"creation_date":1661699364,"post_id":73519644,"comment_id":129828961,"body_markdown":"What do you exactly want to do? Do you want to align the button after click on it? or anything else?","body":"What do you exactly want to do? Do you want to align the button after click on it? or anything else?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1661699494,"post_id":73519644,"comment_id":129828989,"body_markdown":"Nest JPanels and use layout managers.","body":"Nest JPanels and use layout managers."}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661699466,"creation_date":1661699466,"answer_id":73519846,"question_id":73519644,"body_markdown":"In Swing, you have to plan for the whole window and put layout managers so they decide of components location and resizing when window is resized. So:\r\n1. Do not put null as layout\r\n2. Do not use size nor location\r\n\r\nIf you want to have bottom bar with buttons and button od the right, use BorderLayout to put bottom bar, and Flow layout inside:\r\n```\r\nclass Frame extends JFrame {\r\n    public Frame() {\r\n        JPanel btPanel = new JPanel();\r\n        btPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\r\n        JButton closeButton = new JButton(&quot;Close&quot;);\r\n        btPanel.add(closeButton);\r\n        getContentPane().add(btPanel,BorderLayout.SOUTH);\r\n\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        \r\n        setSize(300, 300);\r\n        setTitle(&quot;Frame&quot;);\r\n        setVisible(true);\r\n    }\r\n}\r\n```","title":"Swing — How alignments works","body":"<p>In Swing, you have to plan for the whole window and put layout managers so they decide of components location and resizing when window is resized. So:</p>\n<ol>\n<li>Do not put null as layout</li>\n<li>Do not use size nor location</li>\n</ol>\n<p>If you want to have bottom bar with buttons and button od the right, use BorderLayout to put bottom bar, and Flow layout inside:</p>\n<pre><code>class Frame extends JFrame {\n    public Frame() {\n        JPanel btPanel = new JPanel();\n        btPanel.setLayout(new FlowLayout(FlowLayout.RIGHT));\n        JButton closeButton = new JButton(&quot;Close&quot;);\n        btPanel.add(closeButton);\n        getContentPane().add(btPanel,BorderLayout.SOUTH);\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n        setSize(300, 300);\n        setTitle(&quot;Frame&quot;);\n        setVisible(true);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26181103,"reputation":3,"user_id":19864493,"display_name":"Leandros"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661699479,"accepted_answer_id":73519846,"answer_count":1,"score":0,"last_activity_date":1661699466,"creation_date":1661697774,"question_id":73519644,"body_markdown":"I just want to align the button to right of the bottom. This code below not working as expected.\r\n\r\n```\r\nclass Frame extends JFrame {\r\n    public Frame() {\r\n        JButton closeButton = new JButton(&quot;Close&quot;);\r\n        closeButton.setSize(new Dimension(75, 25));\r\n        closeButton.setLocation(new Point(225, 275));\r\n        add(closeButton);\r\n\r\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n        \r\n        setSize(300, 300);\r\n        setLayout(null);\r\n        setTitle(&quot;Frame&quot;);\r\n        setVisible(true);\r\n    }\r\n}\r\n```","title":"Swing — How alignments works","body":"<p>I just want to align the button to right of the bottom. This code below not working as expected.</p>\n<pre><code>class Frame extends JFrame {\n    public Frame() {\n        JButton closeButton = new JButton(&quot;Close&quot;);\n        closeButton.setSize(new Dimension(75, 25));\n        closeButton.setLocation(new Point(225, 275));\n        add(closeButton);\n\n        setDefaultCloseOperation(EXIT_ON_CLOSE);\n        \n        setSize(300, 300);\n        setLayout(null);\n        setTitle(&quot;Frame&quot;);\n        setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","sonarqube","code-coverage","junit5"],"comments":[{"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"score":0,"creation_date":1574537554,"post_id":59011373,"comment_id":104270650,"body_markdown":"Did you run the tests after setting up Sonarqube? The code coverage is populated with the data from a run. You also need to set you the coverage variables.\nhttps://docs.sonarqube.org/latest/analysis/coverage/","body":"Did you run the tests after setting up Sonarqube? The code coverage is populated with the data from a run. You also need to set you the coverage variables. <a href=\"https://docs.sonarqube.org/latest/analysis/coverage/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/analysis/coverage</a>"},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1574537713,"post_id":59011373,"comment_id":104270694,"body_markdown":"This project has had Sonarqube set up for 1 week now. But I *just* started adding unit tests, hence why I did not realize that this part of it wasn&#39;t working properly. Which variable is the &quot;coverage variable&quot; ?","body":"This project has had Sonarqube set up for 1 week now. But I <i>just</i> started adding unit tests, hence why I did not realize that this part of it wasn&#39;t working properly. Which variable is the &quot;coverage variable&quot; ?"},{"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"score":0,"creation_date":1574537803,"post_id":59011373,"comment_id":104270713,"body_markdown":"&quot;SonarSource analyzers do not run your tests or generate reports. They only import pre-generated reports. Below you&#39;ll find language- and tool-specific analysis parameters for importing coverage and execution reports.&quot; You need to use jacoco or similar tools.","body":"&quot;SonarSource analyzers do not run your tests or generate reports. They only import pre-generated reports. Below you&#39;ll find language- and tool-specific analysis parameters for importing coverage and execution reports.&quot; You need to use jacoco or similar tools."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1574537932,"post_id":59011373,"comment_id":104270741,"body_markdown":"Yes, I knew about that. Using `mvn test` generates a `surefire` report: that is what I&#39;m trying to plug in there, right? It&#39;s just hard to know which ensemble of variables should be determined.","body":"Yes, I knew about that. Using <code>mvn test</code> generates a <code>surefire</code> report: that is what I&#39;m trying to plug in there, right? It&#39;s just hard to know which ensemble of variables should be determined."},{"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"score":1,"creation_date":1574537986,"post_id":59011373,"comment_id":104270763,"body_markdown":"I think it is not enough. You need to use a code coverage tool such as jacoco.","body":"I think it is not enough. You need to use a code coverage tool such as jacoco."},{"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"score":0,"creation_date":1574538079,"post_id":59011373,"comment_id":104270787,"body_markdown":"Ah! I see now. `surefire` is only for the *execution* of the tests. Somehow it produces a bunch of xml reports, but it seems like those can&#39;t be interpreted by SonarQube. I&#39;ll have to look into `jacoco`. Thank you!","body":"Ah! I see now. <code>surefire</code> is only for the <i>execution</i> of the tests. Somehow it produces a bunch of xml reports, but it seems like those can&#39;t be interpreted by SonarQube. I&#39;ll have to look into <code>jacoco</code>. Thank you!"}],"answers":[{"tags":[],"owner":{"account_id":2180986,"reputation":807,"user_id":1930495,"display_name":"Michele Dorigatti"},"down_vote_count":0,"up_vote_count":21,"is_accepted":true,"score":21,"last_activity_date":1574538913,"creation_date":1574538328,"answer_id":59011548,"question_id":59011373,"body_markdown":"From SonarQube&#39;s [documentation](https://docs.sonarqube.org/latest/analysis/coverage/):\r\n\r\n&gt; SonarSource analyzers do not run your tests or generate reports. They only import pre-generated reports.\r\n\r\nA popular library for generating code coverage for Java is [Jacoco](https://www.eclemma.org/jacoco/).\r\n\r\nSonarQube provides [this guide](https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151) to create and import Jacoco&#39;s reports.","title":"Setting up properly SonarQube for Code Coverage","body":"<p>From SonarQube's <a href=\"https://docs.sonarqube.org/latest/analysis/coverage/\" rel=\"noreferrer\">documentation</a>:</p>\n\n<blockquote>\n  <p>SonarSource analyzers do not run your tests or generate reports. They only import pre-generated reports.</p>\n</blockquote>\n\n<p>A popular library for generating code coverage for Java is <a href=\"https://www.eclemma.org/jacoco/\" rel=\"noreferrer\">Jacoco</a>.</p>\n\n<p>SonarQube provides <a href=\"https://community.sonarsource.com/t/coverage-test-data-importing-jacoco-coverage-report-in-xml-format/12151\" rel=\"noreferrer\">this guide</a> to create and import Jacoco's reports.</p>\n"},{"tags":[],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1576105638,"creation_date":1576105638,"answer_id":59295478,"question_id":59011373,"body_markdown":"Here is the working `sonar-project.properties` file:\r\n\r\n```\r\n# SONAR CLOUD CONFIGS\r\nsonar.host.url=https://sonarcloud.io\r\nsonar.organization=xxx\r\nsonar.projectKey=xxx\r\nsonar.login=xxx\r\n\r\n# SOURCES\r\nsonar.java.source=12\r\nsonar.sources=src/main/java\r\nsonar.java.binaries=target/classes\r\nsonar.sourceEncoding=UTF-8\r\n\r\n# EXCLUSIONS\r\n# (exclusion of Lombok-generated stuff comes from the `lombok.config` file)\r\nsonar.coverage.exclusions = **/*Exception.java , **/MySpringBootApplication.java\r\n\r\n# TESTS\r\nsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml\r\nsonar.junit.reportsPath=target/surefire-reports/TEST-*.xml\r\nsonar.tests=src/test/java\r\n```","title":"Setting up properly SonarQube for Code Coverage","body":"<p>Here is the working <code>sonar-project.properties</code> file:</p>\n\n<pre><code># SONAR CLOUD CONFIGS\nsonar.host.url=https://sonarcloud.io\nsonar.organization=xxx\nsonar.projectKey=xxx\nsonar.login=xxx\n\n# SOURCES\nsonar.java.source=12\nsonar.sources=src/main/java\nsonar.java.binaries=target/classes\nsonar.sourceEncoding=UTF-8\n\n# EXCLUSIONS\n# (exclusion of Lombok-generated stuff comes from the `lombok.config` file)\nsonar.coverage.exclusions = **/*Exception.java , **/MySpringBootApplication.java\n\n# TESTS\nsonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml\nsonar.junit.reportsPath=target/surefire-reports/TEST-*.xml\nsonar.tests=src/test/java\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9352472,"reputation":49,"user_id":7024084,"display_name":"Bhakti Bhoj"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1600671145,"creation_date":1600671145,"answer_id":63987435,"question_id":59011373,"body_markdown":"We have same issue. You need to add coverage blocks in your pom.xml\r\nCan refer following sample pom.xml \r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;testapp&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;testapp&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;sonar.coverage.jacoco.xmlReportPaths&gt;../target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n          &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\r\n          &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.6.0.1398&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;0.8.5&lt;/version&gt;\r\n        &lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n    \r\n    &lt;profiles&gt;\r\n    &lt;profile&gt;\r\n      &lt;id&gt;coverage&lt;/id&gt;\r\n      &lt;activation&gt;\r\n        &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n      &lt;/activation&gt;\r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;prepare-agent&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n              &lt;execution&gt;\r\n                &lt;id&gt;report&lt;/id&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;report&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n  &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n\r\nReference URL: https://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven/maven-basic","title":"Setting up properly SonarQube for Code Coverage","body":"<p>We have same issue. You need to add coverage blocks in your pom.xml\nCan refer following sample pom.xml</p>\n\n<p>\n4.0.0\n\norg.springframework.boot\nspring-boot-starter-parent\n2.3.3.RELEASE\n \n\ncom.test\ntestapp\n0.0.1-SNAPSHOT\ntestapp\nDemo project for Spring Boot</p>\n<pre><code>&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;sonar.coverage.jacoco.xmlReportPaths&gt;../target/site/jacoco-aggregate/jacoco.xml&lt;/sonar.coverage.jacoco.xmlReportPaths&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n      &lt;groupId&gt;org.sonarsource.scanner.maven&lt;/groupId&gt;\n      &lt;artifactId&gt;sonar-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.6.0.1398&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n      &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;0.8.5&lt;/version&gt;\n    &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;profiles&gt;\n&lt;profile&gt;\n  &lt;id&gt;coverage&lt;/id&gt;\n  &lt;activation&gt;\n    &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n  &lt;/activation&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n        &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n          &lt;execution&gt;\n            &lt;id&gt;report&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;report&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n  \n\n<p>Reference URL: <a href=\"https://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven/maven-basic\" rel=\"nofollow noreferrer\">https://github.com/SonarSource/sonar-scanning-examples/tree/master/sonarqube-scanner-maven/maven-basic</a></p>\n"}],"owner":{"account_id":13540458,"reputation":4811,"user_id":9768291,"display_name":"payne"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51360,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":59011548,"answer_count":3,"score":14,"last_activity_date":1661699153,"creation_date":1574537336,"question_id":59011373,"body_markdown":"I&#39;m using JUnit5 on a SpringBoot backend application server using Maven. Here is the `sonar-project.properties` file that is at the root of the project:\r\n\r\n```\r\nsonar.host.url=https://sonarcloud.io\r\nsonar.login=xxx\r\nsonar.organization=xxx\r\nsonar.projectKey=xxx\r\n\r\nsonar.sourceEncoding=UTF-8\r\nsonar.language=java\r\nsonar.java.source=12\r\n\r\nsonar.sources=src/main/java\r\nsonar.test=src/test\r\nsonar.java.binaries=target/classes\r\nsonar.junit.reportPaths=target/test-results/TEST-**.xml\r\n```\r\n\r\nI use the `sonar-scanner` command line to run update the project after a build/test.\r\n\r\nThe `Overview` board on sonar-cloud looks like this:\r\n\r\n[![overview][1]][1]\r\n\r\nI at least got the unit tests to be recognized, but somehow I&#39;m still at 0% in terms of code coverage. Furthermore, here is the `Measures` board:\r\n\r\n[![measures][2]][2]\r\n\r\nApparently, my tests do not cover any lines whatsoever. Now, I&#39;m aware that this means that I most probably didn&#39;t hook up the test-results properly, but I&#39;m not sure how to do that.\r\n\r\nWhat puzzles me, too, is that despite SonarQube recognizing my tests, it actually says that the lines-of-code of the tests themselves aren&#39;t tested. What is this supposed to mean?\r\n\r\n[![Testing tests?][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eDOSk.png\r\n  [2]: https://i.stack.imgur.com/KChVP.png\r\n  [3]: https://i.stack.imgur.com/BO1Ns.png","title":"Setting up properly SonarQube for Code Coverage","body":"<p>I'm using JUnit5 on a SpringBoot backend application server using Maven. Here is the <code>sonar-project.properties</code> file that is at the root of the project:</p>\n\n<pre><code>sonar.host.url=https://sonarcloud.io\nsonar.login=xxx\nsonar.organization=xxx\nsonar.projectKey=xxx\n\nsonar.sourceEncoding=UTF-8\nsonar.language=java\nsonar.java.source=12\n\nsonar.sources=src/main/java\nsonar.test=src/test\nsonar.java.binaries=target/classes\nsonar.junit.reportPaths=target/test-results/TEST-**.xml\n</code></pre>\n\n<p>I use the <code>sonar-scanner</code> command line to run update the project after a build/test.</p>\n\n<p>The <code>Overview</code> board on sonar-cloud looks like this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/eDOSk.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eDOSk.png\" alt=\"overview\"></a></p>\n\n<p>I at least got the unit tests to be recognized, but somehow I'm still at 0% in terms of code coverage. Furthermore, here is the <code>Measures</code> board:</p>\n\n<p><a href=\"https://i.stack.imgur.com/KChVP.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/KChVP.png\" alt=\"measures\"></a></p>\n\n<p>Apparently, my tests do not cover any lines whatsoever. Now, I'm aware that this means that I most probably didn't hook up the test-results properly, but I'm not sure how to do that.</p>\n\n<p>What puzzles me, too, is that despite SonarQube recognizing my tests, it actually says that the lines-of-code of the tests themselves aren't tested. What is this supposed to mean?</p>\n\n<p><a href=\"https://i.stack.imgur.com/BO1Ns.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/BO1Ns.png\" alt=\"Testing tests?\"></a></p>\n"},{"tags":["java","hibernate","intellij-idea","data-persistence"],"comments":[{"owner":{"account_id":5311173,"reputation":225,"user_id":4237447,"display_name":"KKaar"},"score":1,"creation_date":1527106255,"post_id":50496327,"comment_id":88006142,"body_markdown":"Remove the `mappedBy = &#39;userDetail&#39;` and it should work just fine","body":"Remove the <code>mappedBy = &#39;userDetail&#39;</code> and it should work just fine"}],"answers":[{"tags":[],"owner":{"account_id":383107,"reputation":50638,"user_id":738746,"accept_rate":97,"display_name":"Bhesh Gurung"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1527106017,"creation_date":1527106017,"answer_id":50496647,"question_id":50496327,"body_markdown":"From the documentation of [`OneToOne#mappedBy`](https://docs.oracle.com/javaee/6/api/javax/persistence/OneToOne.html#mappedBy()):\r\n\r\n&gt; (Optional) The field that owns the relationship. This element is only\r\n&gt; specified on the inverse (non-owning) side of the association.\r\n\r\nSo remove `mappedBy = &quot;userDetail&quot;` in `UserDetail`.","title":"@OneToOne JPA hibernate Could not determine type for","body":"<p>From the documentation of <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/OneToOne.html#mappedBy()\" rel=\"nofollow noreferrer\"><code>OneToOne#mappedBy</code></a>:</p>\n\n<blockquote>\n  <p>(Optional) The field that owns the relationship. This element is only\n  specified on the inverse (non-owning) side of the association.</p>\n</blockquote>\n\n<p>So remove <code>mappedBy = \"userDetail\"</code> in <code>UserDetail</code>.</p>\n"},{"tags":[],"owner":{"account_id":26180981,"reputation":1,"user_id":19864390,"display_name":"Ocat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661698582,"creation_date":1661698582,"answer_id":73519742,"question_id":50496327,"body_markdown":"Inside User, try to move the annotation @OneToOne in the UserDetail getter :\r\n\r\n    @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,\r\n    fetch = FetchType.LAZY, optional = false)\r\n    public UserDetail getUserDetail() {\r\n        return userDetail;\r\n    }\r\n\r\n","title":"@OneToOne JPA hibernate Could not determine type for","body":"<p>Inside User, try to move the annotation @OneToOne in the UserDetail getter :</p>\n<pre><code>@OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,\nfetch = FetchType.LAZY, optional = false)\npublic UserDetail getUserDetail() {\n    return userDetail;\n}\n</code></pre>\n"}],"owner":{"account_id":6809522,"reputation":337,"user_id":5240235,"accept_rate":100,"display_name":"Raspberry"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":923,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":50496647,"answer_count":2,"score":0,"last_activity_date":1661698582,"creation_date":1527104644,"question_id":50496327,"body_markdown":"&gt; Could not determine type for:\r\n&gt; com.brainstormers.justlearnit.models.UserDetail, at table: users, for\r\n&gt; columns: [org.hibernate.mapping.Column(userDetail)]\r\n\r\n\r\nHere is my User class: \r\n\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;users&quot;)\r\n    public class User {\r\n        private String username;\r\n        private String password;\r\n        private int enabled;\r\n        @OneToOne(mappedBy = &quot;user&quot;, cascade = CascadeType.ALL,\r\n                fetch = FetchType.LAZY, optional = false)\r\n        private UserDetail userDetail;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        @Id\r\n        @Column(name = &quot;username&quot;, nullable = false, length = 50)\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;password&quot;, nullable = false, length = 50)\r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;enabled&quot;, nullable = false)\r\n        public int getEnabled() {\r\n            return enabled;\r\n        }\r\n    \r\n        public void setEnabled(int enabled) {\r\n            this.enabled = enabled;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            User user = (User) o;\r\n            return enabled == user.enabled &amp;&amp;\r\n                    Objects.equals(username, user.username) &amp;&amp;\r\n                    Objects.equals(password, user.password);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n    \r\n            return Objects.hash(username, password, enabled);\r\n        }\r\n    \r\n    \r\n        public UserDetail getUserDetail() {\r\n            return userDetail;\r\n        }\r\n    \r\n        public void setUserDetail(UserDetail userDetail) {\r\n            this.userDetail = userDetail;\r\n        }\r\n    }\r\n    \r\nAnd UserDetail class:\r\n    \r\n    \r\n    @Entity\r\n    @Table(name = &quot;user_detail&quot;)\r\n    public class UserDetail {\r\n        private String username;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String email;\r\n        private String country;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, mappedBy = &quot;userDetail&quot;)\r\n        @JoinColumn(name = &quot;username&quot;)\r\n        private User user;\r\n    \r\n    \r\n        public UserDetail() {\r\n        }\r\n    \r\n        @Id\r\n        @Column(name = &quot;username&quot;, nullable = false, length = 50)\r\n        public String getUsername() {\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username) {\r\n            this.username = username;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;first_name&quot;, nullable = false, length = 50)\r\n        public String getFirstName() {\r\n            return firstName;\r\n        }\r\n    \r\n        public void setFirstName(String firstName) {\r\n            this.firstName = firstName;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;last_name&quot;, nullable = false, length = 50)\r\n        public String getLastName() {\r\n            return lastName;\r\n        }\r\n    \r\n        public void setLastName(String lastName) {\r\n            this.lastName = lastName;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;email&quot;, nullable = false, length = 50)\r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        @Basic\r\n        @Column(name = &quot;country&quot;, nullable = false, length = 50)\r\n        public String getCountry() {\r\n            return country;\r\n        }\r\n    \r\n        public void setCountry(String country) {\r\n            this.country = country;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n            UserDetail that = (UserDetail) o;\r\n            return Objects.equals(username, that.username) &amp;&amp;\r\n                    Objects.equals(firstName, that.firstName) &amp;&amp;\r\n                    Objects.equals(lastName, that.lastName) &amp;&amp;\r\n                    Objects.equals(email, that.email) &amp;&amp;\r\n                    Objects.equals(country, that.country);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n    \r\n            return Objects.hash(username, firstName, lastName, email, country);\r\n        }\r\n    \r\n        public User getUser() {\r\n            return user;\r\n        }\r\n    \r\n        public void setUser(User user) {\r\n            this.user = user;\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n\r\nIt&#39;s generated by persistence framework in IntelliJ IDEA. I tried to code entities by myself, but I have got the same result.\r\n\r\n\r\n","title":"@OneToOne JPA hibernate Could not determine type for","body":"<blockquote>\n  <p>Could not determine type for:\n  com.brainstormers.justlearnit.models.UserDetail, at table: users, for\n  columns: [org.hibernate.mapping.Column(userDetail)]</p>\n</blockquote>\n\n<p>Here is my User class: </p>\n\n<pre><code>@Entity\n@Table(name = \"users\")\npublic class User {\n    private String username;\n    private String password;\n    private int enabled;\n    @OneToOne(mappedBy = \"user\", cascade = CascadeType.ALL,\n            fetch = FetchType.LAZY, optional = false)\n    private UserDetail userDetail;\n\n    public User() {\n    }\n\n    @Id\n    @Column(name = \"username\", nullable = false, length = 50)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Basic\n    @Column(name = \"password\", nullable = false, length = 50)\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Basic\n    @Column(name = \"enabled\", nullable = false)\n    public int getEnabled() {\n        return enabled;\n    }\n\n    public void setEnabled(int enabled) {\n        this.enabled = enabled;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        User user = (User) o;\n        return enabled == user.enabled &amp;&amp;\n                Objects.equals(username, user.username) &amp;&amp;\n                Objects.equals(password, user.password);\n    }\n\n    @Override\n    public int hashCode() {\n\n        return Objects.hash(username, password, enabled);\n    }\n\n\n    public UserDetail getUserDetail() {\n        return userDetail;\n    }\n\n    public void setUserDetail(UserDetail userDetail) {\n        this.userDetail = userDetail;\n    }\n}\n</code></pre>\n\n<p>And UserDetail class:</p>\n\n<pre><code>@Entity\n@Table(name = \"user_detail\")\npublic class UserDetail {\n    private String username;\n    private String firstName;\n    private String lastName;\n    private String email;\n    private String country;\n\n    @OneToOne(fetch = FetchType.LAZY, mappedBy = \"userDetail\")\n    @JoinColumn(name = \"username\")\n    private User user;\n\n\n    public UserDetail() {\n    }\n\n    @Id\n    @Column(name = \"username\", nullable = false, length = 50)\n    public String getUsername() {\n        return username;\n    }\n\n    public void setUsername(String username) {\n        this.username = username;\n    }\n\n    @Basic\n    @Column(name = \"first_name\", nullable = false, length = 50)\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    @Basic\n    @Column(name = \"last_name\", nullable = false, length = 50)\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    @Basic\n    @Column(name = \"email\", nullable = false, length = 50)\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    @Basic\n    @Column(name = \"country\", nullable = false, length = 50)\n    public String getCountry() {\n        return country;\n    }\n\n    public void setCountry(String country) {\n        this.country = country;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        UserDetail that = (UserDetail) o;\n        return Objects.equals(username, that.username) &amp;&amp;\n                Objects.equals(firstName, that.firstName) &amp;&amp;\n                Objects.equals(lastName, that.lastName) &amp;&amp;\n                Objects.equals(email, that.email) &amp;&amp;\n                Objects.equals(country, that.country);\n    }\n\n    @Override\n    public int hashCode() {\n\n        return Objects.hash(username, firstName, lastName, email, country);\n    }\n\n    public User getUser() {\n        return user;\n    }\n\n    public void setUser(User user) {\n        this.user = user;\n    }\n\n\n}\n</code></pre>\n\n<p>It's generated by persistence framework in IntelliJ IDEA. I tried to code entities by myself, but I have got the same result.</p>\n"},{"tags":["java","mockito","junit5"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":1,"creation_date":1661575776,"post_id":73508324,"comment_id":129809982,"body_markdown":"Well, I can see two compilation errors in the code that you&#39;ve shown. It&#39;s hard to comment on why your code does what it does, if I have to guess at what your REAL code looks like.  In particular, what will `getNumber` return if the email address you&#39;re looking for is not found?  If it&#39;s null (which would mean that the return type is something other than `int`), then you&#39;d get the error you&#39;ve described.  But please don&#39;t make me guess at what your code MIGHT look like.","body":"Well, I can see two compilation errors in the code that you&#39;ve shown. It&#39;s hard to comment on why your code does what it does, if I have to guess at what your REAL code looks like.  In particular, what will <code>getNumber</code> return if the email address you&#39;re looking for is not found?  If it&#39;s null (which would mean that the return type is something other than <code>int</code>), then you&#39;d get the error you&#39;ve described.  But please don&#39;t make me guess at what your code MIGHT look like."},{"owner":{"account_id":26170839,"reputation":21,"user_id":19855815,"display_name":"Mahmudul Khan"},"score":0,"creation_date":1661576961,"post_id":73508324,"comment_id":129810107,"body_markdown":"when I run debugging, I see the exception happens when the code try to loop through the addressList, my guess is that even though I&#39;m mocking the getAddressList function. getNumber function doesn&#39;t have a list to loop through.","body":"when I run debugging, I see the exception happens when the code try to loop through the addressList, my guess is that even though I&#39;m mocking the getAddressList function. getNumber function doesn&#39;t have a list to loop through."},{"owner":{"account_id":1713236,"reputation":22836,"user_id":1570854,"accept_rate":71,"display_name":"Lesiak"},"score":0,"creation_date":1661589695,"post_id":73508324,"comment_id":129811733,"body_markdown":"Where does `addressList1` come from?","body":"Where does <code>addressList1</code> come from?"},{"owner":{"account_id":26170839,"reputation":21,"user_id":19855815,"display_name":"Mahmudul Khan"},"score":0,"creation_date":1661630755,"post_id":73508324,"comment_id":129819353,"body_markdown":"@Lesiak it&#39;s a variable I have in the same class. Sorry for not mentioning that.","body":"@Lesiak it&#39;s a variable I have in the same class. Sorry for not mentioning that."}],"answers":[{"tags":[],"owner":{"account_id":26170839,"reputation":21,"user_id":19855815,"display_name":"Mahmudul Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661697708,"creation_date":1661697708,"answer_id":73519631,"question_id":73508324,"body_markdown":"I found the answer for this.\r\n\r\nSince addressList1 was a local variable, I had to set the value for this, before I call the getNumber function.\r\n\r\n    ReflectionTestUtils.setField(emailService2, &quot;addressList1&quot;,&quot;test1@gmail.com,test2@gmail.com&quot;);","title":"Trying to junit test a function using mockito which needs to call another function of same class, getting org.opentest4j.AssertionFailedError: null","body":"<p>I found the answer for this.</p>\n<p>Since addressList1 was a local variable, I had to set the value for this, before I call the getNumber function.</p>\n<pre><code>ReflectionTestUtils.setField(emailService2, &quot;addressList1&quot;,&quot;test1@gmail.com,test2@gmail.com&quot;);\n</code></pre>\n"}],"owner":{"account_id":26170839,"reputation":21,"user_id":19855815,"display_name":"Mahmudul Khan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661697735,"creation_date":1661574011,"question_id":73508324,"body_markdown":"Let&#39;s say I have 2 function like this: (I don&#39;t want to share the actual code, it&#39;s pretty huge)\r\n\r\n\r\n    public class EmailService{\r\n    \r\n        String addressList1 = &quot;test1@gmail.com,test2@gmail.com&quot;;\r\n        public String[] getAddressList(String addressList){\r\n            return addressList.split(&quot;,&quot;);\r\n        }\r\n        public int getNumber(){\r\n            for (String address : getAddressList(addressList1))\r\n            {\r\n                if (address.equals(&quot;test1@gmail.com&quot;)){return 1;}\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\nAnd I tried this for testing the getNumber() function: \r\n\r\n    EmailService emailService1 = new EmailService();\r\n    EmailService emailService2 = Mockito.spy(emailService1);\r\n    String deliveryAddress = &quot;test1@gmail.com,test2@gmail.com&quot;;       \r\n    doReturn(deliveryAddress.split(&quot;,&quot;)).when(emailService2).getAddressList(deliveryAddress);\r\n    \r\n    assertEquals(EmailService2.getNumber(), 1);\r\n\r\n\r\nBut I&#39;m getting:\r\n    org.opentest4j.AssertionFailedError: null\r\n    \r\n\r\n\r\n    \r\n\r\n","title":"Trying to junit test a function using mockito which needs to call another function of same class, getting org.opentest4j.AssertionFailedError: null","body":"<p>Let's say I have 2 function like this: (I don't want to share the actual code, it's pretty huge)</p>\n<pre><code>public class EmailService{\n\n    String addressList1 = &quot;test1@gmail.com,test2@gmail.com&quot;;\n    public String[] getAddressList(String addressList){\n        return addressList.split(&quot;,&quot;);\n    }\n    public int getNumber(){\n        for (String address : getAddressList(addressList1))\n        {\n            if (address.equals(&quot;test1@gmail.com&quot;)){return 1;}\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>And I tried this for testing the getNumber() function:</p>\n<pre><code>EmailService emailService1 = new EmailService();\nEmailService emailService2 = Mockito.spy(emailService1);\nString deliveryAddress = &quot;test1@gmail.com,test2@gmail.com&quot;;       \ndoReturn(deliveryAddress.split(&quot;,&quot;)).when(emailService2).getAddressList(deliveryAddress);\n\nassertEquals(EmailService2.getNumber(), 1);\n</code></pre>\n<p>But I'm getting:\norg.opentest4j.AssertionFailedError: null</p>\n"},{"tags":["java","algorithm","logic"],"comments":[{"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"score":0,"creation_date":1661668376,"post_id":73516413,"comment_id":129823349,"body_markdown":"It is the same problem... anyway... I will put their link too.","body":"It is the same problem... anyway... I will put their link too."},{"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"score":1,"creation_date":1661668484,"post_id":73516413,"comment_id":129823374,"body_markdown":"It is an algorithm... I can ask why it has a problem here. I like StackOverflow =).","body":"It is an algorithm... I can ask why it has a problem here. I like StackOverflow =)."},{"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"score":0,"creation_date":1661668613,"post_id":73516413,"comment_id":129823395,"body_markdown":"I dont know... they don&#180;t offer it... it is locked. The input that is not locked is correct.","body":"I dont know... they don&#180;t offer it... it is locked. The input that is not locked is correct."},{"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"score":0,"creation_date":1661669010,"post_id":73516413,"comment_id":129823447,"body_markdown":"It starts the loop if petrolpumps.get(i).get(0) &gt;= petrolpumps.get(i).get(1) ... tank can be negative at the loop start.","body":"It starts the loop if petrolpumps.get(i).get(0) &gt;= petrolpumps.get(i).get(1) ... tank can be negative at the loop start."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661693591,"creation_date":1661690924,"answer_id":73518803,"question_id":73516413,"body_markdown":"Your mistake is rooted in the initialization of the `tank` variable. You double-count the amount of petrol provided by the pump `i` - it gets added to the `tank` first while initializing the `tank` and second time in the inner `for`-loop when `j=0`. For that reason, you&#39;re getting incorrect results.\r\n\r\nTo fix it, instead of this line:\r\n```\r\ntank = (petrolpumps.get(i).get(0) - petrolpumps.get(i).get(1));\r\n```\r\n\r\nSimply initialize the `tank` to zero. And you can also remove the declaration `tank` before the outer `for`-loop, to confine this variable to a more narrow scope (which is a good practice).\r\n\r\n```\r\nlong tank = 0;\r\n```\r\n\r\nThis fix is sufficient to pass all the test cases on *HackerRank*.\r\n\r\nThere are also a few changes can be done to make the solution more readable and a bit more concise.\r\n\r\nI would rather use `if (conditionIsNotMet) continue;` then `if (conditionIsMet) { doStuff }` to reduce the level of nesting.\r\n\r\nAnd since we can&#39;t use the index of the inner `for`-loop as is, but instead have to perform some extra actions with it (check if the size exceeded, then apply modulo `%`) I would prefer using `while` loop.\r\n\r\nThat&#39;s how it can be done (*this solution is tested as well*):\r\n\r\n    public static int truckTour(List&lt;List&lt;Integer&gt;&gt; petrolpumps) {\r\n        \r\n        final int size = petrolpumps.size();\r\n        \r\n        for (int start = 0; start &lt; size; start++) {\r\n            if (petrolpumps.get(start).get(0) &lt; petrolpumps.get(start).get(1)) continue;\r\n            \r\n            long tank = 0;\r\n            int position = start;\r\n            int pumpCount = 0;\r\n            \r\n            while (true) {\r\n                if (pumpCount == size) return start; // all pumps has been visited\r\n                if (tank &lt; 0) break;                 // not enough petrol to move further\r\n\r\n                tank += petrolpumps.get(position % size).get(0) - petrolpumps.get(position % size).get(1);\r\n                \r\n                position++;\r\n                pumpCount++;\r\n            }\r\n        }\r\n        return -1;\r\n    }","title":"Find the first staring Point of the circular tour that allows to visits all petrol pumps","body":"<p>Your mistake is rooted in the initialization of the <code>tank</code> variable. You double-count the amount of petrol provided by the pump <code>i</code> - it gets added to the <code>tank</code> first while initializing the <code>tank</code> and second time in the inner <code>for</code>-loop when <code>j=0</code>. For that reason, you're getting incorrect results.</p>\n<p>To fix it, instead of this line:</p>\n<pre><code>tank = (petrolpumps.get(i).get(0) - petrolpumps.get(i).get(1));\n</code></pre>\n<p>Simply initialize the <code>tank</code> to zero. And you can also remove the declaration <code>tank</code> before the outer <code>for</code>-loop, to confine this variable to a more narrow scope (which is a good practice).</p>\n<pre><code>long tank = 0;\n</code></pre>\n<p>This fix is sufficient to pass all the test cases on <em>HackerRank</em>.</p>\n<p>There are also a few changes can be done to make the solution more readable and a bit more concise.</p>\n<p>I would rather use <code>if (conditionIsNotMet) continue;</code> then <code>if (conditionIsMet) { doStuff }</code> to reduce the level of nesting.</p>\n<p>And since we can't use the index of the inner <code>for</code>-loop as is, but instead have to perform some extra actions with it (check if the size exceeded, then apply modulo <code>%</code>) I would prefer using <code>while</code> loop.</p>\n<p>That's how it can be done (<em>this solution is tested as well</em>):</p>\n<pre><code>public static int truckTour(List&lt;List&lt;Integer&gt;&gt; petrolpumps) {\n    \n    final int size = petrolpumps.size();\n    \n    for (int start = 0; start &lt; size; start++) {\n        if (petrolpumps.get(start).get(0) &lt; petrolpumps.get(start).get(1)) continue;\n        \n        long tank = 0;\n        int position = start;\n        int pumpCount = 0;\n        \n        while (true) {\n            if (pumpCount == size) return start; // all pumps has been visited\n            if (tank &lt; 0) break;                 // not enough petrol to move further\n\n            tank += petrolpumps.get(position % size).get(0) - petrolpumps.get(position % size).get(1);\n            \n            position++;\n            pumpCount++;\n        }\n    }\n    return -1;\n}\n</code></pre>\n"}],"owner":{"account_id":153296,"reputation":16708,"user_id":368453,"accept_rate":67,"display_name":"Alucard"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":758,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73518803,"answer_count":1,"score":0,"last_activity_date":1661696526,"creation_date":1661666913,"question_id":73516413,"body_markdown":"I&#39;m trying to solve the following [HackerRank problem][2] (similar problem also can be found [here][1]).\r\n\r\n&gt; **Truck Tour**\r\n&gt; \r\n&gt; \r\n&gt; Suppose there is a circle. There are petrol pumps on that circle.\r\n&gt; Petrol pumps are numbered from `0` to `N` (both inclusive).\r\n&gt; \r\n&gt; You have *two pieces of information* corresponding to\r\n&gt; each of the petrol pump:\r\n&gt; * the **amount of petrol** that particular\r\n&gt; petrol pump will give,\r\n&gt; * the **distance** from that petrol pump to\r\n&gt; the next petrol pump.\r\n&gt; \r\n&gt; Initially, you have a **tank** of **infinite capacity** carrying no petrol.\r\n&gt; You can start the tour at any of the petrol pumps.\r\n&gt; \r\n&gt; Calculate the first\r\n&gt; point from where the truck will be able to complete the circle.\r\n&gt; Consider that the truck will stop at each of the petrol pumps. The\r\n&gt; truck will move one kilometer for each litre of the petrol.\r\n\r\nThe input of the method is a matrix `Nx2` represented as a nested list `List&lt;List&lt;Integer&gt;&gt;`, where `N` is the number of petrol pumps (size of the list).\r\n\r\nEach of the pumps (inner list `List&lt;Integer&gt;`) has `2` elements that correspond to the *amount of petrol the pump gives* and the *amount of petrol required* to reach the next pump (*see detailed description in the links above*).\r\n\r\nWe need to find the index of the first pump that would allow to visit all `N` petrol pumps in a circular fashion.\r\n\r\nMy code seems to be fine, but Hackerrank says that it fails in some situations. What am I missing here?\r\n\r\n    public static int truckTour(List&lt;List&lt;Integer&gt;&gt; petrolpumps) {\r\n        \r\n        long tank;\r\n        \r\n        for(int i = 0; i &lt; petrolpumps.size(); i++){\r\n            if(petrolpumps.get(i).get(0) &gt;= petrolpumps.get(i).get(1)){\r\n               \r\n                tank = (petrolpumps.get(i).get(0) - petrolpumps.get(i).get(1));\r\n                \r\n                boolean good = true;\r\n                \r\n                for(int j = 0; j &lt; petrolpumps.size(); j++){\r\n                    int index = j + i;\r\n                    \r\n                    if(index &gt; (petrolpumps.size() - 1))\r\n                        index = index % petrolpumps.size();\r\n                    \r\n                    tank += (petrolpumps.get(index).get(0) - petrolpumps.get(index).get(1));\r\n                    \r\n                    if(tank &lt; 0){\r\n                        good = false;\r\n                        break;\r\n                    }\r\n                }\r\n                \r\n                if(good)\r\n                    return i;\r\n            }\r\n        }\r\n             \r\n        System.out.println(&quot;=/&quot;);\r\n        return -1; \r\n\r\n    }\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/find-a-tour-that-visits-all-stations/\r\n  [2]: https://www.hackerrank.com/challenges/truck-tour/problem\r\n\r\n\r\n\r\n","title":"Find the first staring Point of the circular tour that allows to visits all petrol pumps","body":"<p>I'm trying to solve the following <a href=\"https://www.hackerrank.com/challenges/truck-tour/problem\" rel=\"nofollow noreferrer\">HackerRank problem</a> (similar problem also can be found <a href=\"https://www.geeksforgeeks.org/find-a-tour-that-visits-all-stations/\" rel=\"nofollow noreferrer\">here</a>).</p>\n<blockquote>\n<p><strong>Truck Tour</strong></p>\n<p>Suppose there is a circle. There are petrol pumps on that circle.\nPetrol pumps are numbered from <code>0</code> to <code>N</code> (both inclusive).</p>\n<p>You have <em>two pieces of information</em> corresponding to\neach of the petrol pump:</p>\n<ul>\n<li>the <strong>amount of petrol</strong> that particular\npetrol pump will give,</li>\n<li>the <strong>distance</strong> from that petrol pump to\nthe next petrol pump.</li>\n</ul>\n<p>Initially, you have a <strong>tank</strong> of <strong>infinite capacity</strong> carrying no petrol.\nYou can start the tour at any of the petrol pumps.</p>\n<p>Calculate the first\npoint from where the truck will be able to complete the circle.\nConsider that the truck will stop at each of the petrol pumps. The\ntruck will move one kilometer for each litre of the petrol.</p>\n</blockquote>\n<p>The input of the method is a matrix <code>Nx2</code> represented as a nested list <code>List&lt;List&lt;Integer&gt;&gt;</code>, where <code>N</code> is the number of petrol pumps (size of the list).</p>\n<p>Each of the pumps (inner list <code>List&lt;Integer&gt;</code>) has <code>2</code> elements that correspond to the <em>amount of petrol the pump gives</em> and the <em>amount of petrol required</em> to reach the next pump (<em>see detailed description in the links above</em>).</p>\n<p>We need to find the index of the first pump that would allow to visit all <code>N</code> petrol pumps in a circular fashion.</p>\n<p>My code seems to be fine, but Hackerrank says that it fails in some situations. What am I missing here?</p>\n<pre><code>public static int truckTour(List&lt;List&lt;Integer&gt;&gt; petrolpumps) {\n    \n    long tank;\n    \n    for(int i = 0; i &lt; petrolpumps.size(); i++){\n        if(petrolpumps.get(i).get(0) &gt;= petrolpumps.get(i).get(1)){\n           \n            tank = (petrolpumps.get(i).get(0) - petrolpumps.get(i).get(1));\n            \n            boolean good = true;\n            \n            for(int j = 0; j &lt; petrolpumps.size(); j++){\n                int index = j + i;\n                \n                if(index &gt; (petrolpumps.size() - 1))\n                    index = index % petrolpumps.size();\n                \n                tank += (petrolpumps.get(index).get(0) - petrolpumps.get(index).get(1));\n                \n                if(tank &lt; 0){\n                    good = false;\n                    break;\n                }\n            }\n            \n            if(good)\n                return i;\n        }\n    }\n         \n    System.out.println(&quot;=/&quot;);\n    return -1; \n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1661620793,"post_id":73509807,"comment_id":129817482,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":16078344,"reputation":126,"user_id":11604994,"display_name":"AziKar24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661696215,"creation_date":1661696215,"answer_id":73519440,"question_id":73509807,"body_markdown":"You need to clarify your question more. However I believe you meant homebutton should start first and after you click calculate it should take you to the second one.\r\n\r\nIf that&#39;s the case, then you need to define your start activity from the AndroidManifest because currently your app is starting on MainActivity.java","title":"Why I can&#39;t run the two activities together? the two activities and the image shows that I reached MainActivity directly without clicking homebutton","body":"<p>You need to clarify your question more. However I believe you meant homebutton should start first and after you click calculate it should take you to the second one.</p>\n<p>If that's the case, then you need to define your start activity from the AndroidManifest because currently your app is starting on MainActivity.java</p>\n"}],"owner":{"account_id":26172227,"reputation":1,"user_id":19857006,"display_name":"Joseph Kamel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"answer_count":1,"score":-4,"last_activity_date":1661696215,"creation_date":1661592579,"question_id":73509807,"body_markdown":"knowing that there is no errors, only MainActivity shows without homebutton................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................\r\n\r\nMainActivity.java\r\n-----------------\r\n\r\n    package com.example.AppCalculator;\r\n        \r\n        import androidx.appcompat.app.AppCompatActivity;\r\n        import android.os.Bundle;\r\n        import android.view.View;\r\n        import android.widget.Button;\r\n        import android.widget.EditText;\r\n        import android.widget.TextView;\r\n        \r\n        public class MainActivity extends AppCompatActivity {\r\n            EditText etfirstvalue,etsecondvalue;\r\n            Button btnadd,btnsubs,btnmultiply,btndivide;\r\n        \r\n            Double num1,num2;\r\n            TextView tvresult;\r\n        \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n                super.onCreate(savedInstanceState);\r\n                setContentView(R.layout.activity_main);\r\n                etfirstvalue=findViewById(R.id.etfirstvalue);\r\n                etsecondvalue=findViewById(R.id.etsecondvalue);\r\n                btnadd=findViewById(R.id.btnadd);\r\n                btndivide=findViewById(R.id.btndivision);\r\n                btnmultiply=findViewById(R.id.btnmultiply);\r\n                btnsubs=findViewById(R.id.btnsubs);\r\n                tvresult=findViewById(R.id.tvresult);\r\n        \r\n                Clicklistener();\r\n            }\r\n            public void Clicklistener(){\r\n                btnadd.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n                        num1=Double.parseDouble(etfirstvalue.getText().toString());\r\n                        num2=Double.parseDouble(etsecondvalue.getText().toString());\r\n                        Double result=num1+num2;\r\n                        tvresult.setText(String.valueOf(result));\r\n                    }\r\n                });\r\n                btnsubs.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View v) {\r\n        \r\n        \r\n                        num1=Double.parseDouble(etfirstvalue.getText().toString());\r\n                        num2=Double.parseDouble(etsecondvalue.getText().toString());\r\n                        Double result=num1-num2;\r\n                        tvresult.setText(String.valueOf(result));\r\n                    }\r\n                });\r\n                btnmultiply.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        num1=Double.parseDouble(etfirstvalue.getText().toString());\r\n                        num2=Double.parseDouble(etsecondvalue.getText().toString());\r\n                        Double result=num1*num2;\r\n                        tvresult.setText(String.valueOf(result));\r\n                    }\r\n                });\r\n                btndivide.setOnClickListener(new View.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(View view) {\r\n                        num1=Double.parseDouble(etfirstvalue.getText().toString());\r\n                        num2=Double.parseDouble(etsecondvalue.getText().toString());\r\n                        Double result=num1/num2;\r\n                        tvresult.setText(String.valueOf(result));\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\nMainActivity.xml\r\n----------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#FFFFFF&quot;\r\n        android:backgroundTint=&quot;#FFFFFF&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        tools:context=&quot;.MainActivity&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Simple Calculator&quot;\r\n            android:textSize=&quot;25sp&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/etfirstvalue&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter First Value&quot;\r\n            android:inputType=&quot;number&quot; /&gt;\r\n    \r\n        &lt;EditText\r\n            android:id=&quot;@+id/etsecondvalue&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:hint=&quot;Enter Second Value&quot;\r\n            android:inputType=&quot;number&quot; /&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/tvresult&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:text=&quot;Result&quot;\r\n            android:textColor=&quot;@color/purple_500&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnadd&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:backgroundTint=&quot;@color/purple_500&quot;\r\n                android:text=&quot;ADD&quot; /&gt;\r\n    \r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnsubs&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:backgroundTint=&quot;@color/purple_500&quot;\r\n                android:text=&quot;Subs&quot; /&gt;\r\n    \r\n        &lt;/LinearLayout&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_margin=&quot;10dp&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:orientation=&quot;horizontal&quot;\r\n            android:weightSum=&quot;2&quot;&gt;\r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btnmultiply&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:backgroundTint=&quot;@color/purple_500&quot;\r\n                android:text=&quot;Multiply&quot; /&gt;\r\n    \r\n    \r\n            &lt;Button\r\n                android:id=&quot;@+id/btndivision&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;10dp&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:backgroundTint=&quot;@color/purple_500&quot;\r\n                android:text=&quot;Divide&quot; /&gt;\r\n    \r\n    \r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nhomebutton.java\r\n---------------\r\n\r\n    package com.example.AppCalculator;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    \r\n    \r\n    public class homebutton extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.homebutton);\r\n            Button btncalc=findViewById(R.id.btncalc);\r\n            btncalc.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    Intent intent = new Intent(homebutton.this, MainActivity.class);\r\n                    startActivity(intent);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\nhomebutton.xml\r\n--------------\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        tools:context=&quot;.homebutton&quot;\r\n        tools:ignore=&quot;ExtraText&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:id=&quot;@+id/btncalc&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginHorizontal=&quot;10dp&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:backgroundTint=&quot;@color/purple_500&quot;\r\n            android:text=&quot;Calculator&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Z3uCx.jpg","title":"Why I can&#39;t run the two activities together? the two activities and the image shows that I reached MainActivity directly without clicking homebutton","body":"<p>knowing that there is no errors, only MainActivity shows without homebutton................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................</p>\n<h2>MainActivity.java</h2>\n<pre><code>package com.example.AppCalculator;\n    \n    import androidx.appcompat.app.AppCompatActivity;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.EditText;\n    import android.widget.TextView;\n    \n    public class MainActivity extends AppCompatActivity {\n        EditText etfirstvalue,etsecondvalue;\n        Button btnadd,btnsubs,btnmultiply,btndivide;\n    \n        Double num1,num2;\n        TextView tvresult;\n    \n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n            super.onCreate(savedInstanceState);\n            setContentView(R.layout.activity_main);\n            etfirstvalue=findViewById(R.id.etfirstvalue);\n            etsecondvalue=findViewById(R.id.etsecondvalue);\n            btnadd=findViewById(R.id.btnadd);\n            btndivide=findViewById(R.id.btndivision);\n            btnmultiply=findViewById(R.id.btnmultiply);\n            btnsubs=findViewById(R.id.btnsubs);\n            tvresult=findViewById(R.id.tvresult);\n    \n            Clicklistener();\n        }\n        public void Clicklistener(){\n            btnadd.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    num1=Double.parseDouble(etfirstvalue.getText().toString());\n                    num2=Double.parseDouble(etsecondvalue.getText().toString());\n                    Double result=num1+num2;\n                    tvresult.setText(String.valueOf(result));\n                }\n            });\n            btnsubs.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n    \n    \n                    num1=Double.parseDouble(etfirstvalue.getText().toString());\n                    num2=Double.parseDouble(etsecondvalue.getText().toString());\n                    Double result=num1-num2;\n                    tvresult.setText(String.valueOf(result));\n                }\n            });\n            btnmultiply.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    num1=Double.parseDouble(etfirstvalue.getText().toString());\n                    num2=Double.parseDouble(etsecondvalue.getText().toString());\n                    Double result=num1*num2;\n                    tvresult.setText(String.valueOf(result));\n                }\n            });\n            btndivide.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View view) {\n                    num1=Double.parseDouble(etfirstvalue.getText().toString());\n                    num2=Double.parseDouble(etsecondvalue.getText().toString());\n                    Double result=num1/num2;\n                    tvresult.setText(String.valueOf(result));\n                }\n            });\n        }\n    }\n</code></pre>\n<h2>MainActivity.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#FFFFFF&quot;\n    android:backgroundTint=&quot;#FFFFFF&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Simple Calculator&quot;\n        android:textSize=&quot;25sp&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/etfirstvalue&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:hint=&quot;Enter First Value&quot;\n        android:inputType=&quot;number&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/etsecondvalue&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:hint=&quot;Enter Second Value&quot;\n        android:inputType=&quot;number&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tvresult&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:gravity=&quot;center&quot;\n        android:text=&quot;Result&quot;\n        android:textColor=&quot;@color/purple_500&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;2&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnadd&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:backgroundTint=&quot;@color/purple_500&quot;\n            android:text=&quot;ADD&quot; /&gt;\n\n\n        &lt;Button\n            android:id=&quot;@+id/btnsubs&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:backgroundTint=&quot;@color/purple_500&quot;\n            android:text=&quot;Subs&quot; /&gt;\n\n    &lt;/LinearLayout&gt;\n\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_margin=&quot;10dp&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:orientation=&quot;horizontal&quot;\n        android:weightSum=&quot;2&quot;&gt;\n\n        &lt;Button\n            android:id=&quot;@+id/btnmultiply&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:backgroundTint=&quot;@color/purple_500&quot;\n            android:text=&quot;Multiply&quot; /&gt;\n\n\n        &lt;Button\n            android:id=&quot;@+id/btndivision&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;10dp&quot;\n            android:layout_weight=&quot;1&quot;\n            android:backgroundTint=&quot;@color/purple_500&quot;\n            android:text=&quot;Divide&quot; /&gt;\n\n\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<h2>homebutton.java</h2>\n<pre><code>package com.example.AppCalculator;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\n\npublic class homebutton extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.homebutton);\n        Button btncalc=findViewById(R.id.btncalc);\n        btncalc.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Intent intent = new Intent(homebutton.this, MainActivity.class);\n                startActivity(intent);\n            }\n        });\n    }\n}\n</code></pre>\n<h2>homebutton.xml</h2>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.homebutton&quot;\n    tools:ignore=&quot;ExtraText&quot;&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btncalc&quot;\n        android:layout_width=&quot;0dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginHorizontal=&quot;10dp&quot;\n        android:layout_weight=&quot;1&quot;\n        android:backgroundTint=&quot;@color/purple_500&quot;\n        android:text=&quot;Calculator&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":["java","node.js","amazon-web-services","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":2332817,"reputation":866,"user_id":2045777,"accept_rate":17,"display_name":"Jacobs2000"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661696128,"creation_date":1661696128,"answer_id":73519427,"question_id":73498520,"body_markdown":"After exploring the source code for AmazonSQSExtendedClient at https://github.com/awslabs/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/AmazonSQSExtendedClient.java it turns out that it uses PayloadStore - https://github.com/awslabs/payload-offloading-java-common-lib-for-aws/blob/master/src/main/java/software/amazon/payloadoffloading/PayloadStore.java\r\nThe interface method storeOriginalPayload has no parameter for setting zip behavior. The implementing class S3BackedPayloadStore does not show any evidence of zipping either. So my conclusion is that this functionality is currently not implemented.","title":"Does Amazon SQS Extended Client Library support zipping of uploaded file in S3?","body":"<p>After exploring the source code for AmazonSQSExtendedClient at <a href=\"https://github.com/awslabs/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/AmazonSQSExtendedClient.java\" rel=\"nofollow noreferrer\">https://github.com/awslabs/amazon-sqs-java-extended-client-lib/blob/master/src/main/java/com/amazon/sqs/javamessaging/AmazonSQSExtendedClient.java</a> it turns out that it uses PayloadStore - <a href=\"https://github.com/awslabs/payload-offloading-java-common-lib-for-aws/blob/master/src/main/java/software/amazon/payloadoffloading/PayloadStore.java\" rel=\"nofollow noreferrer\">https://github.com/awslabs/payload-offloading-java-common-lib-for-aws/blob/master/src/main/java/software/amazon/payloadoffloading/PayloadStore.java</a>\nThe interface method storeOriginalPayload has no parameter for setting zip behavior. The implementing class S3BackedPayloadStore does not show any evidence of zipping either. So my conclusion is that this functionality is currently not implemented.</p>\n"}],"owner":{"account_id":2332817,"reputation":866,"user_id":2045777,"accept_rate":17,"display_name":"Jacobs2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73519427,"answer_count":1,"score":1,"last_activity_date":1661696128,"creation_date":1661504310,"question_id":73498520,"body_markdown":"I am trying to figure out if Amazon SQS Extended Client Library supports zipping of uploaded file in S3. I Googled quite a lot but found no evidence of such support. The idea is to tell SQS in the message request to store in S3 as a Zip. So looking in the Java example https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html , it would be something like sqsExtended.sendMessage(myMessageRequest, true /*a parameter telling to zip the file in S3*/);\r\nThis example is in Java but I know there are implementations of the extended client library also for Nodejs and python.\r\nDoes anyone know if there is such support or if such support is intended to be added?","title":"Does Amazon SQS Extended Client Library support zipping of uploaded file in S3?","body":"<p>I am trying to figure out if Amazon SQS Extended Client Library supports zipping of uploaded file in S3. I Googled quite a lot but found no evidence of such support. The idea is to tell SQS in the message request to store in S3 as a Zip. So looking in the Java example <a href=\"https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-s3-messages.html</a> , it would be something like sqsExtended.sendMessage(myMessageRequest, true /<em>a parameter telling to zip the file in S3</em>/);\nThis example is in Java but I know there are implementations of the extended client library also for Nodejs and python.\nDoes anyone know if there is such support or if such support is intended to be added?</p>\n"},{"tags":["java","math","calculator"],"comments":[{"owner":{"account_id":25376058,"reputation":1338,"user_id":19189183,"display_name":"Sayan Bhattacharya"},"score":0,"creation_date":1658486837,"post_id":73078977,"comment_id":129069024,"body_markdown":"use [hasNextDouble](https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextDouble()) to check. Similar thread https://stackoverflow.com/questions/39316625/make-user-only-input-integer-in-scanner-java","body":"use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#hasNextDouble()\" rel=\"nofollow noreferrer\">hasNextDouble</a> to check. Similar thread <a href=\"https://stackoverflow.com/questions/39316625/make-user-only-input-integer-in-scanner-java\" title=\"make user only input integer in scanner java\">stackoverflow.com/questions/39316625/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":21900699,"reputation":60,"user_id":16186420,"display_name":"Ethan Powers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661695384,"creation_date":1658492347,"answer_id":73080254,"question_id":73078977,"body_markdown":"Try this:\r\n\r\n```\r\ndouble number1;\r\ndouble number2;\r\nboolean validInput = false;\r\nScanner scanner = new Scanner(System.in))\r\nwhile(!validInput){\r\n    System.out.println(&quot;Enter Number 1&quot;);\r\n    if(scanner.hasNextDouble()){\r\n        validInput = true;\r\n        number1 = scanner.nextDouble();\r\n    }\r\n}\r\n\r\nvalidInput = false;\r\nwhile(!validInput){\r\n    System.out.println(&quot;Enter Number 2&quot;);\r\n    if(scanner.hasNextDouble()){\r\n        validInput = true;\r\n        number2 = scanner.nextDouble();\r\n    }\r\n}\r\n```\r\n\r\nA few notes on code style:\r\n\r\n - It&#39;s generally bad practice to have multiple scanners listening to\r\n   System.in\r\n   \r\n - The naming convention for variables follows camelCase, so &#39;number1&#39;\r\n   not &#39;Number1&#39;, but it&#39;s not a huge deal.\r\n   \r\n - For code readability, consider adding comments explaining the\r\n   conditions inside the nested if-blocks.","title":"how to restrict input only as numbers in java","body":"<p>Try this:</p>\n<pre><code>double number1;\ndouble number2;\nboolean validInput = false;\nScanner scanner = new Scanner(System.in))\nwhile(!validInput){\n    System.out.println(&quot;Enter Number 1&quot;);\n    if(scanner.hasNextDouble()){\n        validInput = true;\n        number1 = scanner.nextDouble();\n    }\n}\n\nvalidInput = false;\nwhile(!validInput){\n    System.out.println(&quot;Enter Number 2&quot;);\n    if(scanner.hasNextDouble()){\n        validInput = true;\n        number2 = scanner.nextDouble();\n    }\n}\n</code></pre>\n<p>A few notes on code style:</p>\n<ul>\n<li><p>It's generally bad practice to have multiple scanners listening to\nSystem.in</p>\n</li>\n<li><p>The naming convention for variables follows camelCase, so 'number1'\nnot 'Number1', but it's not a huge deal.</p>\n</li>\n<li><p>For code readability, consider adding comments explaining the\nconditions inside the nested if-blocks.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":25869001,"reputation":21,"user_id":19600147,"display_name":"Ryan Dsouza"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1658936528,"answer_count":1,"score":2,"last_activity_date":1661695384,"creation_date":1658486310,"question_id":73078977,"body_markdown":"I&#39;m coding a calculator just for fun. I got through most of the errors except for one, how to restrict input only to numbers. While executing the program I realized that if I input an alphabetic character and not a number, it gave me an error. Can anyone help me out on making a loop so that if a non-number is typed, the loop will continue until a number is typed? Here&#39;s the code of the calculator:\r\n\r\n```java\r\nimport java.text.DecimalFormat;\r\nimport java.util.Scanner;\r\nclass Calculator\r\n{\r\n    public static void main(String arg[])\r\n    {\r\n        try (\r\n        Scanner Number$1 = new Scanner(System.in)) \r\n        {\r\n            double Number1;\r\n            System.out.println(&quot;Enter Number 1&quot;); \r\n            Number1= Number$1.nextDouble();\r\n            try (\r\n            Scanner Number$2 = new Scanner(System.in)) \r\n            {\r\n                double Number2;\r\n                System.out.println(&quot;Enter Number 2&quot;); \r\n                Number2 = Number$2.nextDouble();\r\n                //to make ui better\r\n                String a= &quot;The addition of the two numbers is: &quot;;\r\n                String b= &quot;The subtraction of the two numbers is: &quot;;\r\n                String c= &quot;The multiplication of the two numbers is: &quot;;\r\n                String d= &quot;The division of the two numbers is: &quot;;\r\n                String Options= &quot;&quot;;\r\n                try (Scanner scan = new Scanner(System.in)) {\r\n                    System.out.println(&quot;Do You Want To Add, Subtract, Multiply, Divide? &quot;);\r\n                    System.out.println(&quot;a: Add&quot;);\r\n                    System.out.println(&quot;b: Subtract&quot;);\r\n                    System.out.println(&quot;c: Multiply&quot;);\r\n                    System.out.println(&quot;d: Divide&quot;);\r\n                    Options = scan.nextLine();\r\n                }\r\n                double add= Number1+Number2;\r\n                double sub= Number1-Number2;\r\n                double multi= Number1*Number2;\r\n                double div= Number1/Number2;\r\n                if(Options.equals(&quot;a&quot;))\r\n                {\r\n                    if(((add*10)%10==0)==true)\r\n                    {\r\n                        DecimalFormat format= new DecimalFormat();\r\n                        format.setDecimalSeparatorAlwaysShown(false);\r\n                        System.out.println(a+(format.format(add)));\r\n                    }\r\n                    if(((add*10)%10==0)==false)\r\n                    {\r\n                        System.out.println(a+(add));\r\n                    }\r\n                }\r\n                if(Options.equals(&quot;b&quot;))\r\n                {\r\n                    if(((sub*10)%10==0)==true)\r\n                    {\r\n                        DecimalFormat format= new DecimalFormat();\r\n                        format.setDecimalSeparatorAlwaysShown(false);\r\n                        System.out.println(b+(format.format(sub)));\r\n                    }\r\n                    if(((sub*10)%10==0)==false)\r\n                    {\r\n                        System.out.println(b+(sub));\r\n                    }\r\n                }\r\n                if(Options.equals(&quot;c&quot;))\r\n                {\r\n                    if(((multi*10)%10==0)==true)\r\n                    {\r\n                        DecimalFormat format= new DecimalFormat();\r\n                        format.setDecimalSeparatorAlwaysShown(false);\r\n                        System.out.println(c+(format.format(multi)));\r\n                    }\r\n                    if(((multi*10)%10==0)==false)\r\n                    {\r\n                        System.out.println(c+(multi));\r\n                    }\r\n                }\r\n                if(Options.equals(&quot;d&quot;))\r\n                {\r\n                    if(((div*10)%10==0)==true)\r\n                    {\r\n                        DecimalFormat format= new DecimalFormat();\r\n                        format.setDecimalSeparatorAlwaysShown(false);\r\n                        System.out.println(d+(format.format(div)));\r\n                    }\r\n                    if(((div*10)%10==0)==false)\r\n                    {\r\n                        System.out.println(d+(div));\r\n                    }\r\n                }\r\n            }\r\n        }     \r\n    }\r\n}\r\n```\r\n","title":"how to restrict input only as numbers in java","body":"<p>I'm coding a calculator just for fun. I got through most of the errors except for one, how to restrict input only to numbers. While executing the program I realized that if I input an alphabetic character and not a number, it gave me an error. Can anyone help me out on making a loop so that if a non-number is typed, the loop will continue until a number is typed? Here's the code of the calculator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.text.DecimalFormat;\nimport java.util.Scanner;\nclass Calculator\n{\n    public static void main(String arg[])\n    {\n        try (\n        Scanner Number$1 = new Scanner(System.in)) \n        {\n            double Number1;\n            System.out.println(&quot;Enter Number 1&quot;); \n            Number1= Number$1.nextDouble();\n            try (\n            Scanner Number$2 = new Scanner(System.in)) \n            {\n                double Number2;\n                System.out.println(&quot;Enter Number 2&quot;); \n                Number2 = Number$2.nextDouble();\n                //to make ui better\n                String a= &quot;The addition of the two numbers is: &quot;;\n                String b= &quot;The subtraction of the two numbers is: &quot;;\n                String c= &quot;The multiplication of the two numbers is: &quot;;\n                String d= &quot;The division of the two numbers is: &quot;;\n                String Options= &quot;&quot;;\n                try (Scanner scan = new Scanner(System.in)) {\n                    System.out.println(&quot;Do You Want To Add, Subtract, Multiply, Divide? &quot;);\n                    System.out.println(&quot;a: Add&quot;);\n                    System.out.println(&quot;b: Subtract&quot;);\n                    System.out.println(&quot;c: Multiply&quot;);\n                    System.out.println(&quot;d: Divide&quot;);\n                    Options = scan.nextLine();\n                }\n                double add= Number1+Number2;\n                double sub= Number1-Number2;\n                double multi= Number1*Number2;\n                double div= Number1/Number2;\n                if(Options.equals(&quot;a&quot;))\n                {\n                    if(((add*10)%10==0)==true)\n                    {\n                        DecimalFormat format= new DecimalFormat();\n                        format.setDecimalSeparatorAlwaysShown(false);\n                        System.out.println(a+(format.format(add)));\n                    }\n                    if(((add*10)%10==0)==false)\n                    {\n                        System.out.println(a+(add));\n                    }\n                }\n                if(Options.equals(&quot;b&quot;))\n                {\n                    if(((sub*10)%10==0)==true)\n                    {\n                        DecimalFormat format= new DecimalFormat();\n                        format.setDecimalSeparatorAlwaysShown(false);\n                        System.out.println(b+(format.format(sub)));\n                    }\n                    if(((sub*10)%10==0)==false)\n                    {\n                        System.out.println(b+(sub));\n                    }\n                }\n                if(Options.equals(&quot;c&quot;))\n                {\n                    if(((multi*10)%10==0)==true)\n                    {\n                        DecimalFormat format= new DecimalFormat();\n                        format.setDecimalSeparatorAlwaysShown(false);\n                        System.out.println(c+(format.format(multi)));\n                    }\n                    if(((multi*10)%10==0)==false)\n                    {\n                        System.out.println(c+(multi));\n                    }\n                }\n                if(Options.equals(&quot;d&quot;))\n                {\n                    if(((div*10)%10==0)==true)\n                    {\n                        DecimalFormat format= new DecimalFormat();\n                        format.setDecimalSeparatorAlwaysShown(false);\n                        System.out.println(d+(format.format(div)));\n                    }\n                    if(((div*10)%10==0)==false)\n                    {\n                        System.out.println(d+(div));\n                    }\n                }\n            }\n        }     \n    }\n}\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661744381,"post_id":73519207,"comment_id":129836223,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661757900,"post_id":73519207,"comment_id":129838862,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond using @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond using @AlexMamo"}],"owner":{"account_id":21516107,"reputation":1,"user_id":15857948,"display_name":"Y.İslam &#231;alışkan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661694321,"creation_date":1661694321,"question_id":73519207,"body_markdown":"I am logging in with google in my application, but when I made a signed apk and uploaded it to my phone while it was working properly on the virtual device, I couldn&#39;t log in with google. I had installed it on my phone before and it was working fine.\r\n\r\nAlso, after installing the apk on the phone, when I want to use my own phone in android studio, I get the error that the signatures are different, I would appreciate it if you could help.","title":"problem with firebase google login in signed app","body":"<p>I am logging in with google in my application, but when I made a signed apk and uploaded it to my phone while it was working properly on the virtual device, I couldn't log in with google. I had installed it on my phone before and it was working fine.</p>\n<p>Also, after installing the apk on the phone, when I want to use my own phone in android studio, I get the error that the signatures are different, I would appreciate it if you could help.</p>\n"},{"tags":["java","xml","xsd","jaxb","schemagen"],"comments":[{"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"score":0,"creation_date":1661694347,"post_id":73519200,"comment_id":129827945,"body_markdown":"as small addition: i tried all other possible values for @XmlAccessType but it doesn&#39;t get better","body":"as small addition: i tried all other possible values for @XmlAccessType but it doesn&#39;t get better"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661695093,"post_id":73519200,"comment_id":129828122,"body_markdown":"It is strange, that you have different outcomes from marshalling/schemagen... Are you sure, schemagen considers all (same) &quot;locations/phases/pre-processors&quot;?","body":"It is strange, that you have different outcomes from marshalling/schemagen... Are you sure, schemagen considers all (same) &quot;locations/phases/pre-processors&quot;?"},{"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"score":0,"creation_date":1661698355,"post_id":73519200,"comment_id":129828750,"body_markdown":"there is something really strange going on: i added package-info.java class to specify target namespace but it&#39;s totally ignored by schemagen while jaxb marshaller/unmarshaller treat namespace well\n\ni use maven plugin \n\n\n```xml\n                      \n  &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb2-maven-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.1.0&lt;/version&gt;\n\n```\n\nand enabled debug level output to see what command line is used but all looks quite well: all files (including package-info.java) are specified as command line parameters","body":"there is something really strange going on: i added package-info.java class to specify target namespace but it&#39;s totally ignored by schemagen while jaxb marshaller/unmarshaller treat namespace well  i use maven plugin    <code>xml                          &lt;groupId&gt;org.codehaus.mojo&lt;&#47;groupId&gt;   &lt;artifactId&gt;jaxb2-maven-plugin&lt;&#47;artifactId&gt;   &lt;version&gt;3.1.0&lt;&#47;version&gt;  </code>  and enabled debug level output to see what command line is used but all looks quite well: all files (including package-info.java) are specified as command line parameters"},{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":0,"creation_date":1661698882,"post_id":73519200,"comment_id":129828852,"body_markdown":"&quot;however when i remove lombok \\@Getter \\@Setter and add methods manually then schema gets generated as expected&quot; Seems to me that they are generated as elements, not attributes.","body":"&quot;however when i remove lombok \\@Getter \\@Setter and add methods manually then schema gets generated as expected&quot; Seems to me that they are generated as elements, not attributes."},{"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"score":0,"creation_date":1661726731,"post_id":73519200,"comment_id":129834137,"body_markdown":"no, it has no effect on schemagen absolutely, \nalso while when i generate schema through java code with JaxbContext, then it works nice, \nbut i need to integrate xsd chema generation into my gitlab ci/cd pipeline\nwhich is the reason i am wasting time with schemagen and various maven plugins around it","body":"no, it has no effect on schemagen absolutely,  also while when i generate schema through java code with JaxbContext, then it works nice,  but i need to integrate xsd chema generation into my gitlab ci/cd pipeline which is the reason i am wasting time with schemagen and various maven plugins around it"},{"owner":{"account_id":5225450,"reputation":270,"user_id":4177643,"display_name":"David"},"score":0,"creation_date":1668780735,"post_id":73519200,"comment_id":131496029,"body_markdown":"do you find a solution to this apart from adding getters and setters manually?","body":"do you find a solution to this apart from adding getters and setters manually?"}],"owner":{"account_id":22961911,"reputation":55,"user_id":17091618,"display_name":"k31"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661694266,"creation_date":1661694266,"question_id":73519200,"body_markdown":"say i have a class that must be marshalled/unmarshalled using jaxb \r\n\r\n```java\r\n@XmlAccessorType(XmlAccessType.NONE)\r\n@XmlRootElement(name = &quot;myEvent&quot;)\r\n@SuperBuilder()\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\npublic class MyEvent extends SomeBaseClass {\r\n    @XmlAttribute(required = true)\r\n    private long processId;\r\n    @XmlAttribute(required = false)\r\n    private Long groupId;\r\n}\r\n```\r\n\r\njudging from @XmlAccessorType(XmlAccessType.NONE) description it should \r\n```text\r\nNone of the fields or properties is bound to XML unless they are specifically annotated with some of the JAXB annotations.\r\n```\r\nso i tried to serialize and deserialize my java object and all worked as charm:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\r\n&lt;ns2:message xmlns:ns2=&quot;my-namespace&quot;&gt;\r\n  &lt;ns2:myEvent processId=&quot;1&quot; groupId=&quot;2&quot;/&gt;\r\n&lt;/ns2:message&gt;\r\n```\r\n\r\nthe problem is that when i try to generate xsd schema such properties are totally ignored \r\n```xsd\r\n  &lt;xs:complexType name=&quot;myEvent&quot;&gt;\r\n    &lt;xs:complexContent&gt;\r\n      &lt;xs:extension base=&quot;someBaseClass&quot;&gt;\r\n        &lt;xs:sequence/&gt;\r\n      &lt;/xs:extension&gt;\r\n    &lt;/xs:complexContent&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n```\r\n\r\nhowever when i remove lombok @Getter @Setter and add methods manually then schema gets generated as expected\r\n\r\n\r\n```xml\r\n  &lt;xs:complexType name=&quot;myEvent&quot;&gt;\r\n    &lt;xs:complexContent&gt;\r\n      &lt;xs:extension base=&quot;someBaseClass&quot;&gt;\r\n        &lt;xs:sequence&gt;\r\n          &lt;xs:element name=&quot;groupId&quot; type=&quot;xs:long&quot; minOccurs=&quot;0&quot;/&gt;\r\n          &lt;xs:element name=&quot;processId&quot; type=&quot;xs:long&quot;/&gt;\r\n        &lt;/xs:sequence&gt;\r\n      &lt;/xs:extension&gt;\r\n    &lt;/xs:complexContent&gt;\r\n  &lt;/xs:complexType&gt;\r\n\r\n```\r\n\r\n\r\none would say not a big deal, but i am used to lombok fluent api for getters/setters and don&#39;t want to loose it, not even speaking that code gets less clear and cluttered with boilerplate code\r\n\r\nplus i see such behavior illogical as there is no requirement on presence getters/setters in source code mentioned anywhere in documentation.\r\n\r\nany ideas ?\r\n","title":"jaxb schemagen ignores @XmlAttribute when used with lombok","body":"<p>say i have a class that must be marshalled/unmarshalled using jaxb</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlAccessorType(XmlAccessType.NONE)\n@XmlRootElement(name = &quot;myEvent&quot;)\n@SuperBuilder()\n@NoArgsConstructor\n@Getter\n@Setter\npublic class MyEvent extends SomeBaseClass {\n    @XmlAttribute(required = true)\n    private long processId;\n    @XmlAttribute(required = false)\n    private Long groupId;\n}\n</code></pre>\n<p>judging from @XmlAccessorType(XmlAccessType.NONE) description it should</p>\n<pre><code>None of the fields or properties is bound to XML unless they are specifically annotated with some of the JAXB annotations.\n</code></pre>\n<p>so i tried to serialize and deserialize my java object and all worked as charm:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;\n&lt;ns2:message xmlns:ns2=&quot;my-namespace&quot;&gt;\n  &lt;ns2:myEvent processId=&quot;1&quot; groupId=&quot;2&quot;/&gt;\n&lt;/ns2:message&gt;\n</code></pre>\n<p>the problem is that when i try to generate xsd schema such properties are totally ignored</p>\n<pre><code>  &lt;xs:complexType name=&quot;myEvent&quot;&gt;\n    &lt;xs:complexContent&gt;\n      &lt;xs:extension base=&quot;someBaseClass&quot;&gt;\n        &lt;xs:sequence/&gt;\n      &lt;/xs:extension&gt;\n    &lt;/xs:complexContent&gt;\n  &lt;/xs:complexType&gt;\n\n</code></pre>\n<p>however when i remove lombok @Getter @Setter and add methods manually then schema gets generated as expected</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;xs:complexType name=&quot;myEvent&quot;&gt;\n    &lt;xs:complexContent&gt;\n      &lt;xs:extension base=&quot;someBaseClass&quot;&gt;\n        &lt;xs:sequence&gt;\n          &lt;xs:element name=&quot;groupId&quot; type=&quot;xs:long&quot; minOccurs=&quot;0&quot;/&gt;\n          &lt;xs:element name=&quot;processId&quot; type=&quot;xs:long&quot;/&gt;\n        &lt;/xs:sequence&gt;\n      &lt;/xs:extension&gt;\n    &lt;/xs:complexContent&gt;\n  &lt;/xs:complexType&gt;\n\n</code></pre>\n<p>one would say not a big deal, but i am used to lombok fluent api for getters/setters and don't want to loose it, not even speaking that code gets less clear and cluttered with boilerplate code</p>\n<p>plus i see such behavior illogical as there is no requirement on presence getters/setters in source code mentioned anywhere in documentation.</p>\n<p>any ideas ?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":2522926,"reputation":30310,"user_id":2192903,"accept_rate":73,"display_name":"Arnaud Denoyelle"},"score":1,"creation_date":1506611494,"post_id":46472539,"comment_id":79900184,"body_markdown":"Because `ACTION.valueOf(&quot;cryalot&quot;)` is as much invalid as `Integer.valueOf(&quot;ghj&quot;)`. You can either try to call `String.toUpperCase()` or try/catch the IllegalArgumentException if you cannot guarantee that the input always corresponds to an enum value.","body":"Because <code>ACTION.valueOf(&quot;cryalot&quot;)</code> is as much invalid as <code>Integer.valueOf(&quot;ghj&quot;)</code>. You can either try to call <code>String.toUpperCase()</code> or try/catch the IllegalArgumentException if you cannot guarantee that the input always corresponds to an enum value."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1506611644,"creation_date":1506611644,"answer_id":46472678,"question_id":46472539,"body_markdown":"You need to catch the IllegalArgumentException\r\n\r\n    try {\r\n        switch (ACTION.valueOf(valueToCompare)) {\r\n\r\n        }\r\n    } catch (IllegalArgumentException iae) {\r\n        // unknown\r\n    }\r\n\r\nOr you can create your own function which does this.\r\n\r\n    public static &lt;E extends Enum&lt;E&gt;&gt; E valueOf(E defaultValue, String s) {\r\n        try {\r\n            return Enum.valueOf(defaultValue.getDeclaringClass(), s);\r\n        } catch (Exception e) {\r\n            return defaultValue;\r\n        }\r\n    }\r\n\r\nNote: `switch(null)` throws a `NullPointerException` rather than branching to `default:`","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>You need to catch the IllegalArgumentException</p>\n\n<pre><code>try {\n    switch (ACTION.valueOf(valueToCompare)) {\n\n    }\n} catch (IllegalArgumentException iae) {\n    // unknown\n}\n</code></pre>\n\n<p>Or you can create your own function which does this.</p>\n\n<pre><code>public static &lt;E extends Enum&lt;E&gt;&gt; E valueOf(E defaultValue, String s) {\n    try {\n        return Enum.valueOf(defaultValue.getDeclaringClass(), s);\n    } catch (Exception e) {\n        return defaultValue;\n    }\n}\n</code></pre>\n\n<p>Note: <code>switch(null)</code> throws a <code>NullPointerException</code> rather than branching to <code>default:</code></p>\n"},{"tags":[],"owner":{"account_id":10998452,"reputation":2722,"user_id":8079754,"display_name":"Moe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506612336,"creation_date":1506612336,"answer_id":46472928,"question_id":46472539,"body_markdown":"the problem here is this line:\r\n`ACTION.valueOf(valueToCompare)` - you are trying to run `valueOf` on `valueToCompare`, and its erroring out since the value isn&#39;t an enum in `ACTION`. It&#39;s not even making the switch statement to print out the default msg.\r\n\r\nHave a look at the changes I&#39;ve done, you&#39;ll notice a few things, the main one being actionToCompare...\r\n\r\n        enum Action {\r\n          CRY,\r\n          CRYALOT,\r\n          EXAMPLE\r\n        }\r\n    \r\n      public static void main(String[] args) {\r\n        Action actionToCompare = Action.EXAMPLE;\r\n        switch (actionToCompare) {\r\n          case CRY:\r\n            System.out.println(&quot;Cry&quot;);\r\n            break;\r\n          case CRYALOT:\r\n            System.out.println(&quot;Cry a lot&quot;);\r\n            break;\r\n          default:\r\n            System.out.println(&quot;catch posible not expected value&quot;);\r\n            break;\r\n        }\r\n      }\r\n\r\nif you insist on using a `String` over converting it to the enum `Action`, wrap it in a `try...catch` statement so if an invalid string is passed in it can handle the error.","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>the problem here is this line:\n<code>ACTION.valueOf(valueToCompare)</code> - you are trying to run <code>valueOf</code> on <code>valueToCompare</code>, and its erroring out since the value isn't an enum in <code>ACTION</code>. It's not even making the switch statement to print out the default msg.</p>\n\n<p>Have a look at the changes I've done, you'll notice a few things, the main one being actionToCompare...</p>\n\n<pre><code>    enum Action {\n      CRY,\n      CRYALOT,\n      EXAMPLE\n    }\n\n  public static void main(String[] args) {\n    Action actionToCompare = Action.EXAMPLE;\n    switch (actionToCompare) {\n      case CRY:\n        System.out.println(\"Cry\");\n        break;\n      case CRYALOT:\n        System.out.println(\"Cry a lot\");\n        break;\n      default:\n        System.out.println(\"catch posible not expected value\");\n        break;\n    }\n  }\n</code></pre>\n\n<p>if you insist on using a <code>String</code> over converting it to the enum <code>Action</code>, wrap it in a <code>try...catch</code> statement so if an invalid string is passed in it can handle the error.</p>\n"},{"tags":[],"owner":{"account_id":775068,"reputation":64803,"user_id":823393,"accept_rate":86,"display_name":"OldCurmudgeon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1506613386,"creation_date":1506613386,"answer_id":46473287,"question_id":46472539,"body_markdown":"You can always build yourself a reverse-lookup.\r\n\r\n    enum Action {\r\n        CRY,\r\n        CRYALOT,\r\n        EXAMPLE;\r\n        \r\n        // Lookup map for actions in string form.\r\n        static Map&lt;String,Action&gt; lookup = Arrays.stream(values()).collect(Collectors.toMap(\r\n                // Key is name in lowercase.\r\n                a -&gt; a.name().toLowerCase(),\r\n                // Value is the Action.\r\n                a -&gt; a));\r\n\r\n        public static Action lookup(String name) {\r\n            return lookup.get(name.toLowerCase());\r\n        }\r\n    }\r\n\r\n    public void test() throws Exception {\r\n        System.out.println(Action.lookup(&quot;cry&quot;));\r\n        System.out.println(Action.lookup(&quot;CryAlot&quot;));\r\n    }\r\n","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>You can always build yourself a reverse-lookup.</p>\n\n<pre><code>enum Action {\n    CRY,\n    CRYALOT,\n    EXAMPLE;\n\n    // Lookup map for actions in string form.\n    static Map&lt;String,Action&gt; lookup = Arrays.stream(values()).collect(Collectors.toMap(\n            // Key is name in lowercase.\n            a -&gt; a.name().toLowerCase(),\n            // Value is the Action.\n            a -&gt; a));\n\n    public static Action lookup(String name) {\n        return lookup.get(name.toLowerCase());\n    }\n}\n\npublic void test() throws Exception {\n    System.out.println(Action.lookup(\"cry\"));\n    System.out.println(Action.lookup(\"CryAlot\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12446909,"reputation":81,"user_id":9062853,"display_name":"aka"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1563979008,"creation_date":1563975719,"answer_id":57184382,"question_id":46472539,"body_markdown":"Using exceptions for flow control is considered as a bad practice. \r\n        \r\n        String valueToCompare = value.toUpperCase();\r\n\r\n        ACTION action = Arrays.stream(ACTION.values())\r\n           .filter(a -&gt; a.name().equals(valueToCompare)).findFirst().orElse(ACTION.NOTVALID);","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>Using exceptions for flow control is considered as a bad practice. </p>\n\n<pre><code>    String valueToCompare = value.toUpperCase();\n\n    ACTION action = Arrays.stream(ACTION.values())\n       .filter(a -&gt; a.name().equals(valueToCompare)).findFirst().orElse(ACTION.NOTVALID);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11342171,"reputation":805,"user_id":8315843,"display_name":"Sybuser"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589230832,"creation_date":1589226459,"answer_id":61738047,"question_id":46472539,"body_markdown":"A solution that does not involve exceptions in the control flow and enables mapping the enum name or the action name to the action with a default behavior in case there is no mapping entry:\r\n\r\n```\r\npublic enum CryActions {\r\n\tCRY_A_LITTLE(&quot;Cry a little&quot;, CryALittleActionHandler::new), CRY_A_LOT(&quot;Cry a lot&quot;, CryALotActionHandler::new), DEFAULT(&quot;Default&quot;, DefaultCryActionHandler::new);\r\n\r\n\tprivate String actionName;\r\n\tprivate Supplier&lt;CryActionHandler&gt; supplier;\r\n\r\n\tprivate CryActions(String actionName, Supplier&lt;CryActionHandler&gt; supplier) {\r\n\t\tthis.actionName = actionName;\r\n\t\tthis.supplier = supplier;\r\n\t\tPossibleCryActions.byEnumName.put(name(), this);\r\n\t\tPossibleCryActions.byActionName.put(actionName, this);\r\n\t}\r\n\r\n\tpublic void handleAction() {\r\n\t\tsupplier.get().handleAction();\r\n\t}\r\n\r\n\tpublic String getActionName() {\r\n\t\treturn actionName;\r\n\t}\r\n\r\n\tpublic static CryActions fromEnumName(String enumName) {\r\n\t\treturn PossibleCryActions.byEnumName.computeIfAbsent(enumName, x -&gt; DEFAULT);\r\n\t}\r\n\r\n\tpublic static CryActions fromActionName(String actionName) {\r\n\t\treturn PossibleCryActions.byActionName.computeIfAbsent(actionName, x -&gt; DEFAULT);\r\n\t}\r\n\r\n\tprivate static class PossibleCryActions {\r\n\t\tprivate static Map&lt;String, CryActions&gt; byEnumName = new HashMap&lt;&gt;();\r\n\t\tprivate static Map&lt;String, CryActions&gt; byActionName = new HashMap&lt;&gt;();\r\n\t}\r\n}\r\n\r\npublic interface CryActionHandler {\r\n\tvoid handleAction();\r\n}\r\n\r\npublic class CryALittleActionHandler implements CryActionHandler {\r\n\r\n\t@Override\r\n\tpublic void handleAction() {\r\n\t\tSystem.out.println(&quot;Just crying a little...&quot;);\r\n\t}\r\n}\r\n\r\npublic class CryALotActionHandler implements CryActionHandler {\r\n\r\n\t@Override\r\n\tpublic void handleAction() {\r\n\t\tSystem.out.println(&quot;Crying a river...&quot;);\r\n\t}\r\n}\r\n\r\npublic class DefaultCryActionHandler implements CryActionHandler {\r\n\r\n\t@Override\r\n\tpublic void handleAction() {\r\n\t\tSystem.out.println(&quot;Just crying as default behavior...&quot;);\r\n\t}\r\n}\r\n\r\npublic class Main {\r\n\tpublic static void main(String[] args) {\r\n\t\tCryActions.fromEnumName(&quot;CRY_A_LITTLE&quot;).handleAction();\r\n\t\tCryActions.fromEnumName(&quot;CRY_A_LOT&quot;).handleAction();\r\n\t\tCryActions.fromEnumName(&quot;CRY_UNEXPECTEDLY&quot;).handleAction();\r\n\t\tCryActions.fromActionName(&quot;Cry a little&quot;).handleAction();\r\n\t\tCryActions.fromActionName(&quot;Cry a lot&quot;).handleAction();\r\n\t\tCryActions.fromActionName(&quot;Cry unexpectedly&quot;).handleAction();\r\n\t}\r\n}\r\n","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>A solution that does not involve exceptions in the control flow and enables mapping the enum name or the action name to the action with a default behavior in case there is no mapping entry:</p>\n\n<pre><code>public enum CryActions {\n    CRY_A_LITTLE(\"Cry a little\", CryALittleActionHandler::new), CRY_A_LOT(\"Cry a lot\", CryALotActionHandler::new), DEFAULT(\"Default\", DefaultCryActionHandler::new);\n\n    private String actionName;\n    private Supplier&lt;CryActionHandler&gt; supplier;\n\n    private CryActions(String actionName, Supplier&lt;CryActionHandler&gt; supplier) {\n        this.actionName = actionName;\n        this.supplier = supplier;\n        PossibleCryActions.byEnumName.put(name(), this);\n        PossibleCryActions.byActionName.put(actionName, this);\n    }\n\n    public void handleAction() {\n        supplier.get().handleAction();\n    }\n\n    public String getActionName() {\n        return actionName;\n    }\n\n    public static CryActions fromEnumName(String enumName) {\n        return PossibleCryActions.byEnumName.computeIfAbsent(enumName, x -&gt; DEFAULT);\n    }\n\n    public static CryActions fromActionName(String actionName) {\n        return PossibleCryActions.byActionName.computeIfAbsent(actionName, x -&gt; DEFAULT);\n    }\n\n    private static class PossibleCryActions {\n        private static Map&lt;String, CryActions&gt; byEnumName = new HashMap&lt;&gt;();\n        private static Map&lt;String, CryActions&gt; byActionName = new HashMap&lt;&gt;();\n    }\n}\n\npublic interface CryActionHandler {\n    void handleAction();\n}\n\npublic class CryALittleActionHandler implements CryActionHandler {\n\n    @Override\n    public void handleAction() {\n        System.out.println(\"Just crying a little...\");\n    }\n}\n\npublic class CryALotActionHandler implements CryActionHandler {\n\n    @Override\n    public void handleAction() {\n        System.out.println(\"Crying a river...\");\n    }\n}\n\npublic class DefaultCryActionHandler implements CryActionHandler {\n\n    @Override\n    public void handleAction() {\n        System.out.println(\"Just crying as default behavior...\");\n    }\n}\n\npublic class Main {\n    public static void main(String[] args) {\n        CryActions.fromEnumName(\"CRY_A_LITTLE\").handleAction();\n        CryActions.fromEnumName(\"CRY_A_LOT\").handleAction();\n        CryActions.fromEnumName(\"CRY_UNEXPECTEDLY\").handleAction();\n        CryActions.fromActionName(\"Cry a little\").handleAction();\n        CryActions.fromActionName(\"Cry a lot\").handleAction();\n        CryActions.fromActionName(\"Cry unexpectedly\").handleAction();\n    }\n}\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":185012,"reputation":3371,"user_id":421467,"accept_rate":100,"display_name":"Dr.jacky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661693852,"creation_date":1653572325,"answer_id":72392768,"question_id":46472539,"body_markdown":"**Kotlin** version:\r\n```kotlin\r\ninline fun &lt;reified T : Enum&lt;T&gt;&gt; safeValueOf(name: String, defaultValue: T): T =\r\ntry {\r\n    java.lang.Enum.valueOf(T::class.java, name) ?: defaultValue\r\n} catch(e: IllegalArgumentException) {\r\n    defaultValue\r\n}\r\n\r\n```","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p><strong>Kotlin</strong> version:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>inline fun &lt;reified T : Enum&lt;T&gt;&gt; safeValueOf(name: String, defaultValue: T): T =\ntry {\n    java.lang.Enum.valueOf(T::class.java, name) ?: defaultValue\n} catch(e: IllegalArgumentException) {\n    defaultValue\n}\n\n</code></pre>\n"}],"owner":{"account_id":7861469,"reputation":491,"user_id":5941730,"accept_rate":50,"display_name":"Xaren"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18220,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":46472678,"answer_count":6,"score":9,"last_activity_date":1661693852,"creation_date":1506611259,"question_id":46472539,"body_markdown":"How to safe implement the use of valueOf in case i get a String different than the supported on the enum `ACTION`. I mean is possible to force to `ACTION.valueOf(valueToCompare)` to get a valid value even when happens that `valueToCompare` is not a valid enum member\r\n\r\n I get an expected execution when `valueToCompare` is `&quot;CRY&quot;` or `&quot;CRYALOT&quot;` or `&quot;cryalot&quot;` etc. \r\n\r\nAnd i get `java.lang.IllegalArgumentException` on cases like in the code.\r\n\r\n    \r\n\r\n\t\r\n\tpublic enum ACTION{\r\n        CRY,\r\n        CRYALOT;\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString valueTocompare = &quot;posible not expected value&quot;.toUpperCase();\r\n\r\n\t\tswitch (ACTION.valueOf(valueToCompare)) {\r\n            case CRY:\r\n            \tSystem.out.println(&quot;Cry&quot;);\r\n            \tbreak;\r\n            case CRYALOT:\r\n            \tSystem.out.println(&quot;Cry a lot&quot;);\r\n            \tbreak;\r\n            default:\r\n            \tSystem.out.println(&quot;catch posible not expected value&quot;);\r\n            \tbreak;\r\n        }\r\n\t}\r\n\r\nEDIT &amp; used SOLUTION:\r\n\r\nI solved this by using a try-catch as @Peter Lawrey suggested:\r\n\r\n    public enum ACTION{\r\n        CRY,\r\n        CRYALOT,\r\n        NOTVALID;\r\n    }\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tString valueToCompare = &quot;NOTVALID&quot;;\r\n\t\tACTION action;\r\n\t\ttry {\r\n\t\t\tvalueToCompare= &quot;variable posible not expected value&quot;.toUpperCase();\r\n\t\t\taction = ACTION.valueOf(valueToCompare);\r\n\t\t} catch(IllegalArgumentException e){\r\n\t\t\tSystem.out.println(&quot;Handled glitch on the Matrix&quot;);\r\n\t\t\taction = ACTION.NOTVALID;\r\n\t\t}\r\n\r\n\t\tswitch (action) {\r\n            case CRY:\r\n            \tSystem.out.println(&quot;Cry&quot;);\r\n            \tbreak;\r\n            case CRYALOT:\r\n            \tSystem.out.println(&quot;Cry a lot&quot;);\r\n            \tbreak;\r\n            default:\r\n           \t\tSystem.out.println(&quot;catch posible not expected value&quot;);\r\n           \t\tbreak;\r\n        }\r\n\t\t\r\n\t\tSystem.out.println(&quot;We continue normal execution on main thread...&quot;);\r\n\t}\r\n\r\n","title":"Safe use of Enum valueOf for String comparison on a switch","body":"<p>How to safe implement the use of valueOf in case i get a String different than the supported on the enum <code>ACTION</code>. I mean is possible to force to <code>ACTION.valueOf(valueToCompare)</code> to get a valid value even when happens that <code>valueToCompare</code> is not a valid enum member</p>\n\n<p>I get an expected execution when <code>valueToCompare</code> is <code>\"CRY\"</code> or <code>\"CRYALOT\"</code> or <code>\"cryalot\"</code> etc. </p>\n\n<p>And i get <code>java.lang.IllegalArgumentException</code> on cases like in the code.</p>\n\n<pre><code>public enum ACTION{\n    CRY,\n    CRYALOT;\n}\n\npublic static void main(String[] args) {\n\n    String valueTocompare = \"posible not expected value\".toUpperCase();\n\n    switch (ACTION.valueOf(valueToCompare)) {\n        case CRY:\n            System.out.println(\"Cry\");\n            break;\n        case CRYALOT:\n            System.out.println(\"Cry a lot\");\n            break;\n        default:\n            System.out.println(\"catch posible not expected value\");\n            break;\n    }\n}\n</code></pre>\n\n<p>EDIT &amp; used SOLUTION:</p>\n\n<p>I solved this by using a try-catch as @Peter Lawrey suggested:</p>\n\n<pre><code>public enum ACTION{\n    CRY,\n    CRYALOT,\n    NOTVALID;\n}\n\npublic static void main(String[] args) {\n\n    String valueToCompare = \"NOTVALID\";\n    ACTION action;\n    try {\n        valueToCompare= \"variable posible not expected value\".toUpperCase();\n        action = ACTION.valueOf(valueToCompare);\n    } catch(IllegalArgumentException e){\n        System.out.println(\"Handled glitch on the Matrix\");\n        action = ACTION.NOTVALID;\n    }\n\n    switch (action) {\n        case CRY:\n            System.out.println(\"Cry\");\n            break;\n        case CRYALOT:\n            System.out.println(\"Cry a lot\");\n            break;\n        default:\n            System.out.println(\"catch posible not expected value\");\n            break;\n    }\n\n    System.out.println(\"We continue normal execution on main thread...\");\n}\n</code></pre>\n"},{"tags":["java","android","kotlin"],"answers":[{"tags":[],"owner":{"account_id":14750547,"reputation":326,"user_id":10652763,"display_name":"Payam Monsef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661693693,"creation_date":1661693693,"answer_id":73519123,"question_id":73518859,"body_markdown":"It&#39;s not bad to read the [Documents][1] \r\n&gt; The recommended way to navigate between destinations is to use the Safe Args Gradle plugin. This plugin generates simple object and builder classes that enable type-safe navigation and argument passing between destinations.\r\n\r\nSafeArgs is a Gradle plugin that allows you to enter information into the navigation graph about the arguments you want to pass. It then generates code for you that creates a Bundle for these arguments on your behalf and pulls them from that Bundle so that you can use them\r\n\r\nSo when you want to pass data between fragments it&#39;s recommended to use safeArgs (less code for us to maintain, type-safety for your arguments), but still you can use raw Bundles to do that.\r\n\r\nIn conclusion, if you want to navigate from one fragment to another, you can use any of those methods you mentioned above with no difference in the result. If you also want to pass data between them, SafeArgs just generates the required code for navigation to make data transfer more manageable for you\r\n\r\n\r\n  [1]: https://developer.android.com/guide/navigation/navigation-getting-started","title":"Differrence between Safe args generates nav direction classes vs action IDs","body":"<p>It's not bad to read the <a href=\"https://developer.android.com/guide/navigation/navigation-getting-started\" rel=\"nofollow noreferrer\">Documents</a></p>\n<blockquote>\n<p>The recommended way to navigate between destinations is to use the Safe Args Gradle plugin. This plugin generates simple object and builder classes that enable type-safe navigation and argument passing between destinations.</p>\n</blockquote>\n<p>SafeArgs is a Gradle plugin that allows you to enter information into the navigation graph about the arguments you want to pass. It then generates code for you that creates a Bundle for these arguments on your behalf and pulls them from that Bundle so that you can use them</p>\n<p>So when you want to pass data between fragments it's recommended to use safeArgs (less code for us to maintain, type-safety for your arguments), but still you can use raw Bundles to do that.</p>\n<p>In conclusion, if you want to navigate from one fragment to another, you can use any of those methods you mentioned above with no difference in the result. If you also want to pass data between them, SafeArgs just generates the required code for navigation to make data transfer more manageable for you</p>\n"}],"owner":{"account_id":24540536,"reputation":45,"user_id":18450921,"display_name":"James Gosling"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73519123,"answer_count":1,"score":1,"last_activity_date":1661693693,"creation_date":1661691433,"question_id":73518859,"body_markdown":"I&#39;m learning Navigation Component and I&#39;m just wondering the difference between the two\r\n\r\n    view.findNavController().navigate(R.id.action_gameFragment_to_gameWonFragment)\r\n\r\nand \r\n\r\n        view.findNavController().navigate(GameWonFragmentDirections.actionGameWonFragmentToGameFragment())\r\n\r\n\r\nis using `Safe args generates nav direction classes` more efficient???","title":"Differrence between Safe args generates nav direction classes vs action IDs","body":"<p>I'm learning Navigation Component and I'm just wondering the difference between the two</p>\n<pre><code>view.findNavController().navigate(R.id.action_gameFragment_to_gameWonFragment)\n</code></pre>\n<p>and</p>\n<pre><code>    view.findNavController().navigate(GameWonFragmentDirections.actionGameWonFragmentToGameFragment())\n</code></pre>\n<p>is using <code>Safe args generates nav direction classes</code> more efficient???</p>\n"},{"tags":["java","recursion","shortest-path","traveling-salesman","hamiltonian-cycle"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1661507732,"post_id":73498878,"comment_id":129793940,"body_markdown":"Your code is not really good for tracking the path. You could pass a Stack (Collection) from the outside, then whenever following a path, you *push* the current item on the stack. When leaving (exiting) the method and not accepting its answer (which you do implicitly by using `Math.min` you should *pop* the last element. This way, when accepting the final result, your stack should contain the path.","body":"Your code is not really good for tracking the path. You could pass a Stack (Collection) from the outside, then whenever following a path, you <i>push</i> the current item on the stack. When leaving (exiting) the method and not accepting its answer (which you do implicitly by using <code>Math.min</code> you should <i>pop</i> the last element. This way, when accepting the final result, your stack should contain the path."},{"owner":{"account_id":25652696,"reputation":29,"user_id":19419705,"display_name":"Oana"},"score":0,"creation_date":1661511560,"post_id":73498878,"comment_id":129795196,"body_markdown":"I kind of understood what you said, but I&#39;m not sure if I got it right. So in for, after i have visited[city] = true, I&#39;ll have something like stack.push(currPos), and then, after `Math.min()` I put stack.pop(currPos)?","body":"I kind of understood what you said, but I&#39;m not sure if I got it right. So in for, after i have visited[city] = true, I&#39;ll have something like stack.push(currPos), and then, after <code>Math.min()</code> I put stack.pop(currPos)?"},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1661513060,"post_id":73498878,"comment_id":129795682,"body_markdown":"Not quite. `Math.min()` is actually the short form of the decision, whether you take the latest result or not. You could (and in this case, must) write it as an if-else-statement. So each time you probe a city, you must push it onto the stack. And each time you dismiss that last invalid choice, you pop that element again. Only if you accept the latest steps as results, you can keep them. Otherwise you would flood your Stack with invalid choices.","body":"Not quite. <code>Math.min()</code> is actually the short form of the decision, whether you take the latest result or not. You could (and in this case, must) write it as an if-else-statement. So each time you probe a city, you must push it onto the stack. And each time you dismiss that last invalid choice, you pop that element again. Only if you accept the latest steps as results, you can keep them. Otherwise you would flood your Stack with invalid choices."},{"owner":{"account_id":25652696,"reputation":29,"user_id":19419705,"display_name":"Oana"},"score":0,"creation_date":1661674422,"post_id":73498878,"comment_id":129824158,"body_markdown":"I still can&#39;t achieve to do that. Could you do that to my code so I can see what I&#39;m doing wrong? I made that if statment you said `if(result &gt; k)\n            {\n                result = k;\n                stack.pop();\n            }`  and after visitCity[i]=true I put stack.push(currPos), but it&#39;s not returning the shortest path..","body":"I still can&#39;t achieve to do that. Could you do that to my code so I can see what I&#39;m doing wrong? I made that if statment you said <code>if(result &gt; k)             {                 result = k;                 stack.pop();             }</code>  and after visitCity[i]=true I put stack.push(currPos), but it&#39;s not returning the shortest path.."}],"answers":[{"tags":[],"owner":{"account_id":18857764,"reputation":11,"user_id":13755303,"display_name":"HypedBuddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661507619,"creation_date":1661507619,"answer_id":73499179,"question_id":73498878,"body_markdown":"So, before giving a possible solution to your question i want to say, if you don&#39;t already know, that the Travelling Salesman Problem is known as an NP-hard problem (here&#39;s the first result for the search but there&#39;s many research papers about this question: https://en.wikipedia.org/wiki/Travelling_salesman_problem).\r\n\r\nAnyway i&#39;ll threat the problem reducing it to a more easier and specific one: how to get the path made by the salesman? This problem is solved in many different ways (save path to a data structure as a list, queue or a simple array), a way to do it is this i link down below\r\nhttps://stackoverflow.com/questions/72094489/java-efficient-way-to-print-shortest-path-in-2d-matrix\r\nYou could also use a tree instead of the matrix and mark down the leaves you chose, otherwise you can also create the tree and cut down the nodes that are not part of the solution. ","title":"Find the final path of Traveling Salesman Problem","body":"<p>So, before giving a possible solution to your question i want to say, if you don't already know, that the Travelling Salesman Problem is known as an NP-hard problem (here's the first result for the search but there's many research papers about this question: <a href=\"https://en.wikipedia.org/wiki/Travelling_salesman_problem\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Travelling_salesman_problem</a>).</p>\n<p>Anyway i'll threat the problem reducing it to a more easier and specific one: how to get the path made by the salesman? This problem is solved in many different ways (save path to a data structure as a list, queue or a simple array), a way to do it is this i link down below\n<a href=\"https://stackoverflow.com/questions/72094489/java-efficient-way-to-print-shortest-path-in-2d-matrix\">Java: Efficient way to print shortest path in 2d Matrix</a>\nYou could also use a tree instead of the matrix and mark down the leaves you chose, otherwise you can also create the tree and cut down the nodes that are not part of the solution.</p>\n"},{"tags":[],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661693165,"creation_date":1661692779,"answer_id":73519017,"question_id":73498878,"body_markdown":"I remodeled your algorithm into ObjectOriented stlye, to prevent passing too many arguments, and ease access to result values. \r\n\r\nI could have returned *Pair&lt;costs, path&gt;*, but the OO style fits better in Java and allows easier access/maintenance.\r\n\r\nThe test method (main) print the calculated distance matrix first, then uses each city as starting and end place and prints the results for it.\r\n\r\nNote that instead of the `Stack&lt;Integer&gt;` path tracer I am now using indexed arrays, they are faster and easier to rewrite.\r\n\r\n    package snippet;\r\n    \r\n    import java.awt.Point;\r\n    import java.text.DecimalFormat;\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class SimpleTSP {\r\n    \r\n    \r\n    \r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal int cityCount = 5;\r\n    \t\tfinal ArrayList&lt;Point&gt; cities = buildCities(cityCount);\r\n    \t\tfinal SimpleTSP tsp = new SimpleTSP(cities);\r\n    \r\n    \t\t// run multiple times, take each city as a starting point once\r\n    \t\tfor (int i = 0; i &lt; cities.size(); i++) {\r\n    \t\t\ttsp.runTSP(i);\r\n    \t\t\ttsp.printBestPath();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tstatic private ArrayList&lt;Point&gt; buildCities(final int pCityCount) {\r\n    \t\tfinal ArrayList&lt;Point&gt; ret = new ArrayList&lt;&gt;(pCityCount);\r\n    \t\tret.add(new Point(4, 2));\r\n    \t\tret.add(new Point(1, 5));\r\n    \t\tret.add(new Point(5, 1));\r\n    \t\tret.add(new Point(0, 0));\r\n    \t\tret.add(new Point(3, 3));\r\n    \t\tret.add(new Point(2, 4));\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tstatic private float[][] buildDistanceMatrix(final ArrayList&lt;Point&gt; pCities) {\r\n    \t\tfinal float[][] ret = new float[pCities.size()][pCities.size()];\r\n    \t\tfor (int outerIndex = 0; outerIndex &lt; pCities.size(); outerIndex++) {\r\n    \t\t\tfinal Point oc = pCities.get(outerIndex);\r\n    \r\n    \t\t\tfor (int innerIndex = 0; innerIndex &lt; pCities.size(); innerIndex++) {\r\n    \t\t\t\tif (outerIndex == innerIndex) continue;\r\n    \r\n    \t\t\t\tfinal Point ic = pCities.get(innerIndex);\r\n    \t\t\t\tfinal float dist = (float) Math.sqrt(Math.pow(ic.x - oc.x, 2) + Math.pow(ic.y - oc.y, 2));\r\n    \t\t\t\tret[outerIndex][innerIndex] = dist;\r\n    \t\t\t\tret[innerIndex][outerIndex] = dist;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn ret;\r\n    \t}\r\n    \r\n    \tprivate static void printDistancMatrix(final float[][] pMatrix) {\r\n    \t\tfinal DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n    \t\tfor (int o = 0; o &lt; pMatrix.length; o++) {\r\n    \t\t\tfor (int i = 0; i &lt; pMatrix[o].length; i++) {\r\n    \t\t\t\tSystem.out.print(df.format(pMatrix[o][i]) + &quot;\\t&quot;);\r\n    \t\t\t}\r\n    \t\t\tSystem.out.println();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * OBJECT\r\n    \t */\r\n    \r\n    \tprivate final ArrayList&lt;Point&gt;\tmCities;\r\n    \tprivate final float[][]\t\t\tmDistanceMatrix;\r\n    \tprivate final boolean[]\t\t\tmVisitedCities;\r\n    \r\n    \tprivate int\t\t\tmStartAndEndTownIndex;\r\n    \tprivate final int[]\tmCurrentPath;\r\n    \r\n    \tprivate int[]\tmBestPath;\r\n    \tprivate float\tmBestPathCosts;\r\n    \r\n    \tpublic SimpleTSP(final ArrayList&lt;Point&gt; pCities) {\r\n    \t\tmCities = pCities;\r\n    \t\tmDistanceMatrix = buildDistanceMatrix(mCities);\r\n    \t\tmVisitedCities = new boolean[mCities.size()];\r\n    \t\tmCurrentPath = new int[mCities.size()];\r\n    \t\tprintDistancMatrix(mDistanceMatrix);\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic float runTSP(final int pStartAndEndTownIndex) {\r\n    \t\tmStartAndEndTownIndex = pStartAndEndTownIndex;\r\n    \t\tfor (int i = 0; i &lt; mVisitedCities.length; i++)\r\n    \t\t\tmVisitedCities[i] = false;\r\n    \t\tmVisitedCities[pStartAndEndTownIndex] = true;\r\n    \t\tmCurrentPath[0] = pStartAndEndTownIndex;\r\n    \t\tmBestPathCosts = Float.MAX_VALUE;\r\n    \t\tTSP(pStartAndEndTownIndex, 1, 0);\r\n    \t\treturn mBestPathCosts;\r\n    \t}\r\n    \r\n    \r\n    \tprivate float TSP(final int pCurrentCity, final int pCityCounter, final float pCurrentTotalCost) {\r\n    \t\t// all cities visited, now return to start city and end with temporary result\r\n    \t\tif (pCityCounter &gt;= mVisitedCities.length) {\r\n    \t\t\tfinal float distanceToStartTown = mDistanceMatrix[pCurrentCity][mStartAndEndTownIndex];\r\n    \t\t\tif (distanceToStartTown &gt; 0) return pCurrentTotalCost + distanceToStartTown;\r\n    \t\t}\r\n    \r\n    \t\tfloat localResult = Float.MAX_VALUE;\r\n    \t\tfor (int i = 0; i &lt; mVisitedCities.length; i++) {\r\n    \t\t\tif (mVisitedCities[i] == false &amp;&amp; pCurrentCity != i) { // do not re-visit visited city or yourself\r\n    \t\t\t\tmVisitedCities[i] = true;\r\n    \t\t\t\tmCurrentPath[pCityCounter] = i;\r\n    \t\t\t\tlocalResult = TSP(i, pCityCounter + 1, pCurrentTotalCost + mDistanceMatrix[pCurrentCity][i]);\r\n    \t\t\t\tmVisitedCities[i] = false;\r\n    \t\t\t\tif (localResult &lt; mBestPathCosts) {\r\n    \t\t\t\t\tmBestPathCosts = localResult;\r\n    \t\t\t\t\tmBestPath = Arrays.copyOf(mCurrentPath, mCurrentPath.length);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn localResult;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \tpublic void printBestPath() {\r\n    \t\tSystem.out.print(&quot;Best path: (&quot; + mBestPathCosts + &quot; costs): &quot;);\r\n    \t\tfor (final int i : mBestPath) {\r\n    \t\t\tSystem.out.print(i + &quot; -&gt; &quot;);\r\n    \t\t}\r\n    \t\tSystem.out.println(mStartAndEndTownIndex);\r\n    \t}\r\n    \tpublic int[] getBestPath() {\r\n    \t\treturn mBestPath;\r\n    \t}\r\n    \tpublic float getBestPathCosts() {\r\n    \t\treturn mBestPathCosts;\r\n    \t}\r\n    \r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nI ran my test with this sexy piece of map to prevent possible first-choice-errors on local minimums:\r\n[![Graph map][1]][1]\r\n\r\n\r\nOutput:\r\n\r\n    0\t4,24\t1,41\t4,47\t1,41\t2,83\t\r\n    4,24\t0\t5,66\t5,1\t2,83\t1,41\t\r\n    1,41\t5,66\t0\t5,1\t2,83\t4,24\t\r\n    4,47\t5,1\t5,1\t0\t4,24\t4,47\t\r\n    1,41\t2,83\t2,83\t4,24\t0\t1,41\t\r\n    2,83\t1,41\t4,24\t4,47\t1,41\t0\t\r\n    Best path: (15.854893 costs): 0 -&gt; 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0\r\n    Best path: (15.854892 costs): 1 -&gt; 3 -&gt; 2 -&gt; 0 -&gt; 4 -&gt; 5 -&gt; 1\r\n    Best path: (15.854892 costs): 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0 -&gt; 2\r\n    Best path: (15.854893 costs): 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0 -&gt; 2 -&gt; 3\r\n    Best path: (15.854893 costs): 4 -&gt; 0 -&gt; 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4\r\n    Best path: (15.854893 costs): 5 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 0 -&gt; 4 -&gt; 5\r\n\r\n  [1]: https://i.stack.imgur.com/JCkhn.png\r\n\r\n\r\n","title":"Find the final path of Traveling Salesman Problem","body":"<p>I remodeled your algorithm into ObjectOriented stlye, to prevent passing too many arguments, and ease access to result values.</p>\n<p>I could have returned <em>Pair&lt;costs, path&gt;</em>, but the OO style fits better in Java and allows easier access/maintenance.</p>\n<p>The test method (main) print the calculated distance matrix first, then uses each city as starting and end place and prints the results for it.</p>\n<p>Note that instead of the <code>Stack&lt;Integer&gt;</code> path tracer I am now using indexed arrays, they are faster and easier to rewrite.</p>\n<pre><code>package snippet;\n\nimport java.awt.Point;\nimport java.text.DecimalFormat;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class SimpleTSP {\n\n\n\n    public static void main(final String[] args) {\n        final int cityCount = 5;\n        final ArrayList&lt;Point&gt; cities = buildCities(cityCount);\n        final SimpleTSP tsp = new SimpleTSP(cities);\n\n        // run multiple times, take each city as a starting point once\n        for (int i = 0; i &lt; cities.size(); i++) {\n            tsp.runTSP(i);\n            tsp.printBestPath();\n        }\n    }\n\n\n\n    static private ArrayList&lt;Point&gt; buildCities(final int pCityCount) {\n        final ArrayList&lt;Point&gt; ret = new ArrayList&lt;&gt;(pCityCount);\n        ret.add(new Point(4, 2));\n        ret.add(new Point(1, 5));\n        ret.add(new Point(5, 1));\n        ret.add(new Point(0, 0));\n        ret.add(new Point(3, 3));\n        ret.add(new Point(2, 4));\n        return ret;\n    }\n\n    static private float[][] buildDistanceMatrix(final ArrayList&lt;Point&gt; pCities) {\n        final float[][] ret = new float[pCities.size()][pCities.size()];\n        for (int outerIndex = 0; outerIndex &lt; pCities.size(); outerIndex++) {\n            final Point oc = pCities.get(outerIndex);\n\n            for (int innerIndex = 0; innerIndex &lt; pCities.size(); innerIndex++) {\n                if (outerIndex == innerIndex) continue;\n\n                final Point ic = pCities.get(innerIndex);\n                final float dist = (float) Math.sqrt(Math.pow(ic.x - oc.x, 2) + Math.pow(ic.y - oc.y, 2));\n                ret[outerIndex][innerIndex] = dist;\n                ret[innerIndex][outerIndex] = dist;\n            }\n        }\n        return ret;\n    }\n\n    private static void printDistancMatrix(final float[][] pMatrix) {\n        final DecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\n        for (int o = 0; o &lt; pMatrix.length; o++) {\n            for (int i = 0; i &lt; pMatrix[o].length; i++) {\n                System.out.print(df.format(pMatrix[o][i]) + &quot;\\t&quot;);\n            }\n            System.out.println();\n        }\n    }\n\n\n\n    /*\n     * OBJECT\n     */\n\n    private final ArrayList&lt;Point&gt;  mCities;\n    private final float[][]         mDistanceMatrix;\n    private final boolean[]         mVisitedCities;\n\n    private int         mStartAndEndTownIndex;\n    private final int[] mCurrentPath;\n\n    private int[]   mBestPath;\n    private float   mBestPathCosts;\n\n    public SimpleTSP(final ArrayList&lt;Point&gt; pCities) {\n        mCities = pCities;\n        mDistanceMatrix = buildDistanceMatrix(mCities);\n        mVisitedCities = new boolean[mCities.size()];\n        mCurrentPath = new int[mCities.size()];\n        printDistancMatrix(mDistanceMatrix);\n    }\n\n\n\n    public float runTSP(final int pStartAndEndTownIndex) {\n        mStartAndEndTownIndex = pStartAndEndTownIndex;\n        for (int i = 0; i &lt; mVisitedCities.length; i++)\n            mVisitedCities[i] = false;\n        mVisitedCities[pStartAndEndTownIndex] = true;\n        mCurrentPath[0] = pStartAndEndTownIndex;\n        mBestPathCosts = Float.MAX_VALUE;\n        TSP(pStartAndEndTownIndex, 1, 0);\n        return mBestPathCosts;\n    }\n\n\n    private float TSP(final int pCurrentCity, final int pCityCounter, final float pCurrentTotalCost) {\n        // all cities visited, now return to start city and end with temporary result\n        if (pCityCounter &gt;= mVisitedCities.length) {\n            final float distanceToStartTown = mDistanceMatrix[pCurrentCity][mStartAndEndTownIndex];\n            if (distanceToStartTown &gt; 0) return pCurrentTotalCost + distanceToStartTown;\n        }\n\n        float localResult = Float.MAX_VALUE;\n        for (int i = 0; i &lt; mVisitedCities.length; i++) {\n            if (mVisitedCities[i] == false &amp;&amp; pCurrentCity != i) { // do not re-visit visited city or yourself\n                mVisitedCities[i] = true;\n                mCurrentPath[pCityCounter] = i;\n                localResult = TSP(i, pCityCounter + 1, pCurrentTotalCost + mDistanceMatrix[pCurrentCity][i]);\n                mVisitedCities[i] = false;\n                if (localResult &lt; mBestPathCosts) {\n                    mBestPathCosts = localResult;\n                    mBestPath = Arrays.copyOf(mCurrentPath, mCurrentPath.length);\n                }\n            }\n        }\n        return localResult;\n    }\n\n\n\n    public void printBestPath() {\n        System.out.print(&quot;Best path: (&quot; + mBestPathCosts + &quot; costs): &quot;);\n        for (final int i : mBestPath) {\n            System.out.print(i + &quot; -&gt; &quot;);\n        }\n        System.out.println(mStartAndEndTownIndex);\n    }\n    public int[] getBestPath() {\n        return mBestPath;\n    }\n    public float getBestPathCosts() {\n        return mBestPathCosts;\n    }\n\n\n\n}\n</code></pre>\n<p>I ran my test with this sexy piece of map to prevent possible first-choice-errors on local minimums:\n<a href=\"https://i.stack.imgur.com/JCkhn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JCkhn.png\" alt=\"Graph map\" /></a></p>\n<p>Output:</p>\n<pre><code>0   4,24    1,41    4,47    1,41    2,83    \n4,24    0   5,66    5,1 2,83    1,41    \n1,41    5,66    0   5,1 2,83    4,24    \n4,47    5,1 5,1 0   4,24    4,47    \n1,41    2,83    2,83    4,24    0   1,41    \n2,83    1,41    4,24    4,47    1,41    0   \nBest path: (15.854893 costs): 0 -&gt; 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0\nBest path: (15.854892 costs): 1 -&gt; 3 -&gt; 2 -&gt; 0 -&gt; 4 -&gt; 5 -&gt; 1\nBest path: (15.854892 costs): 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0 -&gt; 2\nBest path: (15.854893 costs): 3 -&gt; 1 -&gt; 5 -&gt; 4 -&gt; 0 -&gt; 2 -&gt; 3\nBest path: (15.854893 costs): 4 -&gt; 0 -&gt; 2 -&gt; 3 -&gt; 1 -&gt; 5 -&gt; 4\nBest path: (15.854893 costs): 5 -&gt; 1 -&gt; 3 -&gt; 2 -&gt; 0 -&gt; 4 -&gt; 5\n</code></pre>\n"}],"owner":{"account_id":25652696,"reputation":29,"user_id":19419705,"display_name":"Oana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":743,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73519017,"answer_count":2,"score":0,"last_activity_date":1661693165,"creation_date":1661506181,"question_id":73498878,"body_markdown":"I am trying to implement the Traveling Salesman Problem and I need to return the path that lead to the minimum cost. I have a distance matrix, and this is the code:\r\n\r\n    static int TSP(int[][] distance, boolean[] visitCity, int currPos, int cities, int count, int cost, int result)\r\n    {\r\n        if (count == cities &amp;&amp; distance[currPos][0] &gt; 0) {\r\n\r\n            result = Math.min(result, cost + distance[currPos][0]);\r\n\r\n            return result;\r\n        }\r\n        \r\n        for (int i = 0; i &lt; cities; i++)\r\n        {\r\n            if (visitCity[i] == false &amp;&amp; distance[currPos][i] &gt; 0)\r\n            {\r\n                visitCity[i] = true;\r\n\r\n                result = TSP(distance, visitCity, i, cities, count + 1, cost + distance[currPos][i], result);\r\n\r\n                visitCity[i] = false;\r\n            }\r\n        }\r\n        return result;\r\n    }\r\nI call this method like this:\r\n\r\n    boolean[] visitCity = new boolean[cities];\r\n    visitCity[0] = true;\r\n    int result = Integer.MAX_VALUE;\r\n    result = TSP(distance, visitCity, 0, cities, 1, 0, result);\r\nIn the end, the algorithm print the cost of the path, but I also need it to print the path that lead to this. Like &quot;0-&gt;1-&gt;3-&gt;2-&gt;etc-&gt;0&quot;.\r\nIs there any posibility to achieve that?","title":"Find the final path of Traveling Salesman Problem","body":"<p>I am trying to implement the Traveling Salesman Problem and I need to return the path that lead to the minimum cost. I have a distance matrix, and this is the code:</p>\n<pre><code>static int TSP(int[][] distance, boolean[] visitCity, int currPos, int cities, int count, int cost, int result)\n{\n    if (count == cities &amp;&amp; distance[currPos][0] &gt; 0) {\n\n        result = Math.min(result, cost + distance[currPos][0]);\n\n        return result;\n    }\n    \n    for (int i = 0; i &lt; cities; i++)\n    {\n        if (visitCity[i] == false &amp;&amp; distance[currPos][i] &gt; 0)\n        {\n            visitCity[i] = true;\n\n            result = TSP(distance, visitCity, i, cities, count + 1, cost + distance[currPos][i], result);\n\n            visitCity[i] = false;\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>I call this method like this:</p>\n<pre><code>boolean[] visitCity = new boolean[cities];\nvisitCity[0] = true;\nint result = Integer.MAX_VALUE;\nresult = TSP(distance, visitCity, 0, cities, 1, 0, result);\n</code></pre>\n<p>In the end, the algorithm print the cost of the path, but I also need it to print the path that lead to this. Like &quot;0-&gt;1-&gt;3-&gt;2-&gt;etc-&gt;0&quot;.\nIs there any posibility to achieve that?</p>\n"},{"tags":["java","database"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1661692806,"post_id":73519004,"comment_id":129827619,"body_markdown":"Please clarify what type of database you have and what form of login are you using? Passwords? If both servers use the same database, why shouldn&#39;t logins be allowed in both? Have you tried storing login session information or a counter to the database?","body":"Please clarify what type of database you have and what form of login are you using? Passwords? If both servers use the same database, why shouldn&#39;t logins be allowed in both? Have you tried storing login session information or a counter to the database?"},{"owner":{"account_id":16016658,"reputation":64,"user_id":11559187,"display_name":"Volzy"},"score":0,"creation_date":1661692937,"post_id":73519004,"comment_id":129827652,"body_markdown":"you have to lock tables and use some flags on the database server, or if the servers run in same process you can use some boolean variables.","body":"you have to lock tables and use some flags on the database server, or if the servers run in same process you can use some boolean variables."}],"owner":{"account_id":26180531,"reputation":23,"user_id":19864004,"display_name":"duy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661692770,"creation_date":1661692708,"question_id":73519004,"body_markdown":"I have 2 simple java game servers using the same database. I wonder how to allow only 1 account to login to 1 server. Currently, it is possible to login 1 account to 2 servers and that messes up the data. ","title":"how to allow only 1 account login 1 server","body":"<p>I have 2 simple java game servers using the same database. I wonder how to allow only 1 account to login to 1 server. Currently, it is possible to login 1 account to 2 servers and that messes up the data.</p>\n"},{"tags":["java","xml","dom"],"comments":[{"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"score":1,"creation_date":1382702506,"post_id":19589231,"comment_id":29073737,"body_markdown":"You cannot use foreach loop for NodeList as it does not implement Iterable interface. Only option you have it to use the for or while loop using nodeList.getLength.\n\nhttp://docs.oracle.com/javase/7/docs/api/org/w3c/dom/NodeList.html","body":"You cannot use foreach loop for NodeList as it does not implement Iterable interface. Only option you have it to use the for or while loop using nodeList.getLength.  <a href=\"http://docs.oracle.com/javase/7/docs/api/org/w3c/dom/NodeList.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/org/w3c/dom/NodeList.html</a>"},{"owner":{"account_id":118925,"reputation":5299,"user_id":310297,"accept_rate":97,"display_name":"Jazzepi"},"score":4,"creation_date":1382702785,"post_id":19589231,"comment_id":29073878,"body_markdown":"While this is tangential to the question you&#39;re asking, I would shy away from using the w3c stuff from the Java standard library. IMO it&#39;s a hot mess and there are much better XML parsing libraries out there.","body":"While this is tangential to the question you&#39;re asking, I would shy away from using the w3c stuff from the Java standard library. IMO it&#39;s a hot mess and there are much better XML parsing libraries out there."},{"owner":{"account_id":2030250,"reputation":438,"user_id":1814159,"accept_rate":67,"display_name":"Jean-Christophe Blanchard"},"score":3,"creation_date":1466503996,"post_id":19589231,"comment_id":63331920,"body_markdown":"+Jazzepi I know it&#39;s old topic but which XML parsing library are you suggesting ? NB The fact that this w3c library doesn&#39;t offer a simple and generic Iterator is a &quot;detail&quot; but look like one more argument against this stuff (even if the choice of a library could be more complex than this point).","body":"+Jazzepi I know it&#39;s old topic but which XML parsing library are you suggesting ? NB The fact that this w3c library doesn&#39;t offer a simple and generic Iterator is a &quot;detail&quot; but look like one more argument against this stuff (even if the choice of a library could be more complex than this point)."}],"answers":[{"tags":[],"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1382702473,"creation_date":1382702473,"answer_id":19589298,"question_id":19589231,"body_markdown":"`NodeList` does not implement `Iterable`, so you cannot use it with the enhanced `for` loop.","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p><code>NodeList</code> does not implement <code>Iterable</code>, so you cannot use it with the enhanced <code>for</code> loop.</p>\n"},{"tags":[],"owner":{"account_id":3278667,"reputation":3523,"user_id":2759848,"accept_rate":83,"display_name":"Eel Lee"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1382702585,"creation_date":1382702585,"answer_id":19589356,"question_id":19589231,"body_markdown":"As `NodeList` is just an interface, you could create a class which would implement both `NodeList` and `Iterable`, in order to iterate through it.","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>As <code>NodeList</code> is just an interface, you could create a class which would implement both <code>NodeList</code> and <code>Iterable</code>, in order to iterate through it.</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":52,"is_accepted":true,"score":52,"last_activity_date":1382707873,"creation_date":1382707873,"answer_id":19591302,"question_id":19589231,"body_markdown":"The workaround for this problem is straight-forward, and, thankfully you have to implements it only once.\r\n\r\n    import java.util.*;\r\n    import org.w3c.dom.*;\r\n    \r\n    public final class XmlUtil {\r\n      private XmlUtil(){}\r\n    \r\n      public static List&lt;Node&gt; asList(NodeList n) {\r\n        return n.getLength()==0?\r\n          Collections.&lt;Node&gt;emptyList(): new NodeListWrapper(n);\r\n      }\r\n      static final class NodeListWrapper extends AbstractList&lt;Node&gt;\r\n      implements RandomAccess {\r\n        private final NodeList list;\r\n        NodeListWrapper(NodeList l) {\r\n          list=l;\r\n        }\r\n        public Node get(int index) {\r\n          return list.item(index);\r\n        }\r\n        public int size() {\r\n          return list.getLength();\r\n        }\r\n      }\r\n    }\r\n\r\nOnce you have added this utility class to your project and added a `static` `import` for the `XmlUtil.asList` method to your source code you can use it like this:\r\n\r\n    for(Node n: asList(dom.getElementsByTagName(&quot;year&quot;))) {\r\n      …\r\n    }","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>The workaround for this problem is straight-forward, and, thankfully you have to implements it only once.</p>\n\n<pre><code>import java.util.*;\nimport org.w3c.dom.*;\n\npublic final class XmlUtil {\n  private XmlUtil(){}\n\n  public static List&lt;Node&gt; asList(NodeList n) {\n    return n.getLength()==0?\n      Collections.&lt;Node&gt;emptyList(): new NodeListWrapper(n);\n  }\n  static final class NodeListWrapper extends AbstractList&lt;Node&gt;\n  implements RandomAccess {\n    private final NodeList list;\n    NodeListWrapper(NodeList l) {\n      list=l;\n    }\n    public Node get(int index) {\n      return list.item(index);\n    }\n    public int size() {\n      return list.getLength();\n    }\n  }\n}\n</code></pre>\n\n<p>Once you have added this utility class to your project and added a <code>static</code> <code>import</code> for the <code>XmlUtil.asList</code> method to your source code you can use it like this:</p>\n\n<pre><code>for(Node n: asList(dom.getElementsByTagName(\"year\"))) {\n  …\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1443182619,"creation_date":1443182619,"answer_id":32781802,"question_id":19589231,"body_markdown":"    public static Iterable&lt;Node&gt; iterable(final NodeList n) {\r\n      return new Iterable&lt;Node&gt;() {\r\n     \r\n        @Override\r\n        public Iterator&lt;Node&gt; iterator() {\r\n     \r\n          return new Iterator&lt;Node&gt;() {\r\n     \r\n            int index = 0;\r\n     \r\n            @Override\r\n            public boolean hasNext() {\r\n              return index &lt; n.getLength();\r\n            }\r\n     \r\n            @Override\r\n            public Node next() {\r\n              if (hasNext()) {\r\n                return n.item(index++);\r\n              } else {\r\n                throw new NoSuchElementException();\r\n              }  \r\n            }\r\n     \r\n            @Override\r\n            public void remove() {\r\n              throw new UnsupportedOperationException();\r\n            }\r\n          };\r\n        }\r\n      };\r\n    }","title":"Can I iterate through a NodeList using for-each in Java?","body":"<pre><code>public static Iterable&lt;Node&gt; iterable(final NodeList n) {\n  return new Iterable&lt;Node&gt;() {\n\n    @Override\n    public Iterator&lt;Node&gt; iterator() {\n\n      return new Iterator&lt;Node&gt;() {\n\n        int index = 0;\n\n        @Override\n        public boolean hasNext() {\n          return index &lt; n.getLength();\n        }\n\n        @Override\n        public Node next() {\n          if (hasNext()) {\n            return n.item(index++);\n          } else {\n            throw new NoSuchElementException();\n          }  \n        }\n\n        @Override\n        public void remove() {\n          throw new UnsupportedOperationException();\n        }\n      };\n    }\n  };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7964546,"reputation":11,"user_id":6011172,"display_name":"dfielder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1456977793,"creation_date":1456977793,"answer_id":35762965,"question_id":19589231,"body_markdown":"If the current DOM element is removed (via JavaScript) while iterating a NodeList (created from getElementsByTagName() and maybe others), the element will disappear from the NodeList. This makes correct iteration of the NodeList more tricky.\r\n\r\n    public class IteratableNodeList implements Iterable&lt;Node&gt; {\r\n    \tfinal NodeList nodeList;\r\n    \tpublic IteratableNodeList(final NodeList _nodeList) {\r\n    \t\tnodeList = _nodeList;\r\n    \t}\r\n    \t@Override\r\n    \tpublic Iterator&lt;Node&gt; iterator() {\r\n    \t\treturn new Iterator&lt;Node&gt;() {\r\n    \t\t\tprivate int index = -1;\r\n    \t\t\tprivate Node lastNode = null;\r\n    \t\t\tprivate boolean isCurrentReplaced() {\r\n    \t\t\t\treturn lastNode != null &amp;&amp; index &lt; nodeList.getLength() &amp;&amp;\r\n                           lastNode != nodeList.item(index);\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic boolean hasNext() {\r\n    \t\t\t\treturn index + 1 &lt; nodeList.getLength() || isCurrentReplaced();\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic Node next() {\r\n    \t\t\t\tif (hasNext()) {\r\n    \t\t\t\t\tif (isCurrentReplaced()) {\r\n    \t\t\t\t\t\t//\tIt got removed by a change in the DOM.\r\n    \t\t\t\t\t\tlastNode = nodeList.item(index);\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tlastNode = nodeList.item(++index);\r\n    \t\t\t\t\t}\r\n    \t\t\t\t\treturn lastNode;\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tthrow new NoSuchElementException();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void remove() {\r\n    \t\t\t\tthrow new UnsupportedOperationException();\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    \t\r\n    \tpublic Stream&lt;Node&gt; stream() {\r\n    \t\tSpliterator&lt;Node&gt; spliterator =\r\n                Spliterators.spliterator(iterator(), nodeList.getLength(), 0);\r\n    \t\treturn StreamSupport.stream(spliterator, false);\r\n    \t}\r\n    }\r\n\r\nThen use it like this:\r\n`new IteratableNodeList(doc.getElementsByTagName(elementType)).\r\nstream().filter(...)`\r\n\r\nOr:\r\n`new IteratableNodeList(doc.getElementsByTagName(elementType)).forEach(...)`","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>If the current DOM element is removed (via JavaScript) while iterating a NodeList (created from getElementsByTagName() and maybe others), the element will disappear from the NodeList. This makes correct iteration of the NodeList more tricky.</p>\n\n<pre><code>public class IteratableNodeList implements Iterable&lt;Node&gt; {\n    final NodeList nodeList;\n    public IteratableNodeList(final NodeList _nodeList) {\n        nodeList = _nodeList;\n    }\n    @Override\n    public Iterator&lt;Node&gt; iterator() {\n        return new Iterator&lt;Node&gt;() {\n            private int index = -1;\n            private Node lastNode = null;\n            private boolean isCurrentReplaced() {\n                return lastNode != null &amp;&amp; index &lt; nodeList.getLength() &amp;&amp;\n                       lastNode != nodeList.item(index);\n            }\n\n            @Override\n            public boolean hasNext() {\n                return index + 1 &lt; nodeList.getLength() || isCurrentReplaced();\n            }\n\n            @Override\n            public Node next() {\n                if (hasNext()) {\n                    if (isCurrentReplaced()) {\n                        //  It got removed by a change in the DOM.\n                        lastNode = nodeList.item(index);\n                    } else {\n                        lastNode = nodeList.item(++index);\n                    }\n                    return lastNode;\n                } else {\n                    throw new NoSuchElementException();\n                }\n            }\n\n            @Override\n            public void remove() {\n                throw new UnsupportedOperationException();\n            }\n        };\n    }\n\n    public Stream&lt;Node&gt; stream() {\n        Spliterator&lt;Node&gt; spliterator =\n            Spliterators.spliterator(iterator(), nodeList.getLength(), 0);\n        return StreamSupport.stream(spliterator, false);\n    }\n}\n</code></pre>\n\n<p>Then use it like this:\n<code>new IteratableNodeList(doc.getElementsByTagName(elementType)).\nstream().filter(...)</code></p>\n\n<p>Or:\n<code>new IteratableNodeList(doc.getElementsByTagName(elementType)).forEach(...)</code></p>\n"},{"tags":[],"owner":{"account_id":96095,"reputation":6711,"user_id":261363,"accept_rate":49,"display_name":"Calin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1504969796,"creation_date":1504969796,"answer_id":46132045,"question_id":19589231,"body_markdown":"Adding the happy little kotlin version for sience:\r\n\r\n    fun NodeList.forEach(action: (Node) -&gt; Unit) {\r\n        (0 until this.length)\r\n                .asSequence()\r\n                .map { this.item(it) }\r\n                .forEach { action(it) }\r\n    }\r\n\r\nOne can then use it with `nodeList.forEach { do_something_awesome() }`","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>Adding the happy little kotlin version for sience:</p>\n\n<pre><code>fun NodeList.forEach(action: (Node) -&gt; Unit) {\n    (0 until this.length)\n            .asSequence()\n            .map { this.item(it) }\n            .forEach { action(it) }\n}\n</code></pre>\n\n<p>One can then use it with <code>nodeList.forEach { do_something_awesome() }</code></p>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1515771431,"creation_date":1515426317,"answer_id":48153597,"question_id":19589231,"body_markdown":"I know it is late to the party, but...  \r\nSince Java-8 you can write [@RayHulha&#39;s solution](https://stackoverflow.com/questions/19589231/can-i-iterate-through-a-nodelist-using-for-each-in-java/32781802#32781802) even more concisely by using lambda expression (for creating a new [`Iterable`](https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html)) and default method (for [`Iterator.remove`](https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--)):\r\n\r\n    public static Iterable&lt;Node&gt; iterable(final NodeList nodeList) {\r\n        return () -&gt; new Iterator&lt;Node&gt;() {\r\n\r\n            private int index = 0;\r\n\r\n            @Override\r\n            public boolean hasNext() {\r\n                return index &lt; nodeList.getLength();\r\n            }\r\n\r\n            @Override\r\n            public Node next() {\r\n                if (!hasNext())\r\n                    throw new NoSuchElementException();\r\n                return nodeList.item(index++); \r\n            }\r\n        };\r\n    }\r\n\r\nand then use it like this:\r\n\r\n    NodeList nodeList = ...;\r\n    for (Node node : iterable(nodeList)) {\r\n        // ....\r\n    }\r\n\r\nor equivalently like this:\r\n\r\n    NodeList nodeList = ...;\r\n    iterable(nodeList).forEach(node -&gt; {\r\n        // ....\r\n    });","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>I know it is late to the party, but...<br>\nSince Java-8 you can write <a href=\"https://stackoverflow.com/questions/19589231/can-i-iterate-through-a-nodelist-using-for-each-in-java/32781802#32781802\">@RayHulha's solution</a> even more concisely by using lambda expression (for creating a new <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Iterable.html\" rel=\"noreferrer\"><code>Iterable</code></a>) and default method (for <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Iterator.html#remove--\" rel=\"noreferrer\"><code>Iterator.remove</code></a>):</p>\n\n<pre><code>public static Iterable&lt;Node&gt; iterable(final NodeList nodeList) {\n    return () -&gt; new Iterator&lt;Node&gt;() {\n\n        private int index = 0;\n\n        @Override\n        public boolean hasNext() {\n            return index &lt; nodeList.getLength();\n        }\n\n        @Override\n        public Node next() {\n            if (!hasNext())\n                throw new NoSuchElementException();\n            return nodeList.item(index++); \n        }\n    };\n}\n</code></pre>\n\n<p>and then use it like this:</p>\n\n<pre><code>NodeList nodeList = ...;\nfor (Node node : iterable(nodeList)) {\n    // ....\n}\n</code></pre>\n\n<p>or equivalently like this:</p>\n\n<pre><code>NodeList nodeList = ...;\niterable(nodeList).forEach(node -&gt; {\n    // ....\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":50198,"reputation":414,"user_id":1409655,"display_name":"jalopezsuarez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1529665411,"creation_date":1529664470,"answer_id":50986260,"question_id":19589231,"body_markdown":"The validated solution is very useful, but here I share an improved solution based on the valid one, this helps you iterate as well, but easy to use, and secure:  \r\n \r\n    public class XMLHelper {\r\n\t\tprivate XMLHelper() { }\r\n\r\n\t\tpublic static List&lt;Node&gt; getChildNodes(NodeList l) {\r\n\t\t\tList&lt;Node&gt; children = Collections.&lt;Node&gt;emptyList();\r\n\t\t\tif (l != null &amp;&amp; l.getLength() &gt; 0) {\r\n\t\t\t\tif (l.item(0) != null &amp;&amp; l.item(0).hasChildNodes()) {\r\n\t\t\t\t\tchildren = new NodeListWrapper(l.item(0).getChildNodes());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn children;\r\n\t\t}\r\n\r\n\t\tpublic static List&lt;Node&gt; getChildNodes(Node n) {\r\n\t\t\tList&lt;Node&gt; children = Collections.&lt;Node&gt;emptyList();\r\n\t\t\tif (n != null &amp;&amp; n.hasChildNodes()) {\r\n\t\t\t\tNodeList l = n.getChildNodes();\r\n\t\t\t\tif (l != null &amp;&amp; l.getLength() &gt; 0) {\r\n\t\t\t\t\tchildren = new NodeListWrapper(l);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn children;\r\n\t\t}\r\n\r\n\t\tprivate static final class NodeListWrapper extends AbstractList&lt;Node&gt; implements RandomAccess {\r\n\t\t\tprivate final NodeList list;\r\n\t\t\tNodeListWrapper(NodeList l) {\r\n\t\t\t\tlist = l;\r\n\t\t\t}\r\n\t\t\tpublic Node get(int index) {\r\n\t\t\t\treturn list.item(index);\r\n\t\t\t}\r\n\t\t\tpublic int size() {\r\n\t\t\t\treturn list.getLength();\r\n\t\t\t}\r\n\t\t}\r\n}\r\n\r\nUsage:\r\n\r\n     for (Node inner : XMLHelper.getChildNodes(node)) { ... }\r\n\r\nThanks @Holger.","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>The validated solution is very useful, but here I share an improved solution based on the valid one, this helps you iterate as well, but easy to use, and secure:  </p>\n\n<pre><code>public class XMLHelper {\n    private XMLHelper() { }\n\n    public static List&lt;Node&gt; getChildNodes(NodeList l) {\n        List&lt;Node&gt; children = Collections.&lt;Node&gt;emptyList();\n        if (l != null &amp;&amp; l.getLength() &gt; 0) {\n            if (l.item(0) != null &amp;&amp; l.item(0).hasChildNodes()) {\n                children = new NodeListWrapper(l.item(0).getChildNodes());\n            }\n        }\n        return children;\n    }\n\n    public static List&lt;Node&gt; getChildNodes(Node n) {\n        List&lt;Node&gt; children = Collections.&lt;Node&gt;emptyList();\n        if (n != null &amp;&amp; n.hasChildNodes()) {\n            NodeList l = n.getChildNodes();\n            if (l != null &amp;&amp; l.getLength() &gt; 0) {\n                children = new NodeListWrapper(l);\n            }\n        }\n        return children;\n    }\n\n    private static final class NodeListWrapper extends AbstractList&lt;Node&gt; implements RandomAccess {\n        private final NodeList list;\n        NodeListWrapper(NodeList l) {\n            list = l;\n        }\n        public Node get(int index) {\n            return list.item(index);\n        }\n        public int size() {\n            return list.getLength();\n        }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>Usage:</p>\n\n<pre><code> for (Node inner : XMLHelper.getChildNodes(node)) { ... }\n</code></pre>\n\n<p>Thanks @Holger.</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1561118727,"creation_date":1561118727,"answer_id":56703135,"question_id":19589231,"body_markdown":"There are ready to use or copypaste iterator implementations in [`org.apache.commons.collections4.iterators.NodeListIterator`][1] and `com.sun.xml.internal.ws.util.xml.NodeListIterator`.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-collections/jacoco/org.apache.commons.collections4.iterators/NodeListIterator.java.html","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>There are ready to use or copypaste iterator implementations in <a href=\"https://commons.apache.org/proper/commons-collections/jacoco/org.apache.commons.collections4.iterators/NodeListIterator.java.html\" rel=\"nofollow noreferrer\"><code>org.apache.commons.collections4.iterators.NodeListIterator</code></a> and <code>com.sun.xml.internal.ws.util.xml.NodeListIterator</code>.</p>\n"},{"tags":[],"owner":{"account_id":12053794,"reputation":121,"user_id":8815657,"display_name":"Radhakrishnan CH"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1591183373,"creation_date":1591183373,"answer_id":62171621,"question_id":19589231,"body_markdown":"One can use the Java8 stream to iterate the NodeList.\r\n\r\n    NodeList filterList = source.getChildNodes();\r\n\r\n    IntStream.range(0, filterList.getLength()).boxed().map(filterList::item).forEach(node -&gt; {\r\n\r\n   \r\n    });","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>One can use the Java8 stream to iterate the NodeList.</p>\n\n<pre><code>NodeList filterList = source.getChildNodes();\n\nIntStream.range(0, filterList.getLength()).boxed().map(filterList::item).forEach(node -&gt; {\n\n\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":374755,"reputation":950,"user_id":725138,"display_name":"TachikomaGT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611589830,"creation_date":1611589830,"answer_id":65888029,"question_id":19589231,"body_markdown":"I want to thank @Calin for the inspiration with the Kotlin code, but I want to go a little bit further and to be able to filter NodeList content by type and subclass in one line\r\n``` lang-kotlin\r\nfun &lt;T : Node&gt; NodeList.forEach(clazz : KClass&lt;T&gt;, vararg nodeType: Short, action: (T) -&gt; Unit) {\r\n    (0 until this.length).asSequence().map { this.item(it) }\r\n        .filter { nodeType.isEmpty() || nodeType.contains(it.nodeType)  }\r\n        .filter { clazz.isInstance(it) }.map { clazz.java.cast(it) }\r\n        .forEach { action(it) }\r\n}\r\n\r\n// original variant without any filtering, used for node&#39;s attributes\r\n\r\nfun NamedNodeMap.forEach(action: (Node) -&gt; Unit) {\r\n    (0 until this.length).asSequence().map { this.item(it) }\r\n        .forEach { action(it) }\r\n}\r\n```\r\nUsage example:\r\n``` lang-kotlin\r\nxmlDoc.childNodes.forEach(Element::class, Node.ELEMENT_NODE) {\r\n    println(&quot;tag ${it.tagName} with attributes: &quot;) // &#39;it&#39; is an Element here\r\n    it.attributes.forEach { attr -&gt; println(&quot;${attr.nodeName} - ${attr.nodeValue}&quot;)}\r\n}\r\n```","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>I want to thank @Calin for the inspiration with the Kotlin code, but I want to go a little bit further and to be able to filter NodeList content by type and subclass in one line</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun &lt;T : Node&gt; NodeList.forEach(clazz : KClass&lt;T&gt;, vararg nodeType: Short, action: (T) -&gt; Unit) {\n    (0 until this.length).asSequence().map { this.item(it) }\n        .filter { nodeType.isEmpty() || nodeType.contains(it.nodeType)  }\n        .filter { clazz.isInstance(it) }.map { clazz.java.cast(it) }\n        .forEach { action(it) }\n}\n\n// original variant without any filtering, used for node's attributes\n\nfun NamedNodeMap.forEach(action: (Node) -&gt; Unit) {\n    (0 until this.length).asSequence().map { this.item(it) }\n        .forEach { action(it) }\n}\n</code></pre>\n<p>Usage example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>xmlDoc.childNodes.forEach(Element::class, Node.ELEMENT_NODE) {\n    println(&quot;tag ${it.tagName} with attributes: &quot;) // 'it' is an Element here\n    it.attributes.forEach { attr -&gt; println(&quot;${attr.nodeName} - ${attr.nodeValue}&quot;)}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8565960,"reputation":1060,"user_id":6418426,"display_name":"Andreas Siegel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661692579,"creation_date":1661692579,"answer_id":73518986,"question_id":19589231,"body_markdown":"It&#39;s not exactly an answer to the question but may still be helpful for others ending up here:\r\n\r\nI also looked for a way to iterate over `NodeList` but I usually prefer streams of loops. So I ended up with this method:\r\n\r\n```java\r\npublic static Stream&lt;Node&gt; streamElementsByTagName(Document dom, String tagName) {\r\n  var nodes = dom.getElementsByTagName(tagName);\r\n  return nodes == null\r\n      ? Stream.empty()\r\n      : IntStream.range(0, nodes.getLength()).mapToObj(nodes::item);\r\n}\r\n```","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>It's not exactly an answer to the question but may still be helpful for others ending up here:</p>\n<p>I also looked for a way to iterate over <code>NodeList</code> but I usually prefer streams of loops. So I ended up with this method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Stream&lt;Node&gt; streamElementsByTagName(Document dom, String tagName) {\n  var nodes = dom.getElementsByTagName(tagName);\n  return nodes == null\n      ? Stream.empty()\n      : IntStream.range(0, nodes.getLength()).mapToObj(nodes::item);\n}\n</code></pre>\n"}],"owner":{"account_id":3489870,"reputation":543,"user_id":2919834,"display_name":"user2919834"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79184,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"accepted_answer_id":19591302,"answer_count":12,"score":54,"last_activity_date":1661692579,"creation_date":1382702304,"question_id":19589231,"body_markdown":"I want to iterate through a `NodeList` using a for-each loop in Java. I have it working with a for loop and a do-while loop but not for-each.\r\n\r\n\tNodeList nList = dom.getElementsByTagName(&quot;year&quot;);\r\n\tdo {\r\n\t\tElement ele = (Element) nList.item(i);\r\n\t\tlist.add(ele.getElementsByTagName(&quot;MonthId&quot;).item(0).getTextContent());\r\n\t\ti++;\r\n\t} while (i &lt; nList.getLength());\r\n\t\r\n\tNodeList nList = dom.getElementsByTagName(&quot;year&quot;);\r\n\t\r\n\tfor (int i = 0; i &lt; nList.getLength(); i++) {\r\n\t\tElement ele = (Element) nList.item(i);\r\n\t\tlist.add(ele.getElementsByTagName(&quot;MonthId&quot;).item(0).getTextContent());\r\n\t}","title":"Can I iterate through a NodeList using for-each in Java?","body":"<p>I want to iterate through a <code>NodeList</code> using a for-each loop in Java. I have it working with a for loop and a do-while loop but not for-each.</p>\n\n<pre><code>NodeList nList = dom.getElementsByTagName(\"year\");\ndo {\n    Element ele = (Element) nList.item(i);\n    list.add(ele.getElementsByTagName(\"MonthId\").item(0).getTextContent());\n    i++;\n} while (i &lt; nList.getLength());\n\nNodeList nList = dom.getElementsByTagName(\"year\");\n\nfor (int i = 0; i &lt; nList.getLength(); i++) {\n    Element ele = (Element) nList.item(i);\n    list.add(ele.getElementsByTagName(\"MonthId\").item(0).getTextContent());\n}\n</code></pre>\n"},{"tags":["java","apache","jms","activemq"],"comments":[{"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"score":0,"creation_date":1482615305,"post_id":41316711,"comment_id":69837778,"body_markdown":"Have you changed the hostname of ws transport ?? This what the logs are saying. Post your activemq.xml transports part please","body":"Have you changed the hostname of ws transport ?? This what the logs are saying. Post your activemq.xml transports part please"}],"answers":[{"tags":[],"owner":{"account_id":8694271,"reputation":3895,"user_id":6506229,"display_name":"Hassen Bennour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1482674791,"creation_date":1482615429,"answer_id":41317005,"question_id":41316711,"body_markdown":"Verify that the ws transport is like this \r\n\r\n     &lt;transportConnector name=&quot;ws&quot; uri=&quot;ws://0.0.0.0:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n   \r\n**Update**\r\n\r\nTry with jre 1.7","title":"Error while ActiveMQ installation","body":"<p>Verify that the ws transport is like this </p>\n\n<pre><code> &lt;transportConnector name=\"ws\" uri=\"ws://0.0.0.0:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n</code></pre>\n\n<p><strong>Update</strong></p>\n\n<p>Try with jre 1.7</p>\n"},{"tags":[],"owner":{"account_id":9013600,"reputation":909,"user_id":6717287,"accept_rate":62,"display_name":"Amir Choubani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661692541,"creation_date":1661692541,"answer_id":73518982,"question_id":41316711,"body_markdown":"Sorry for answering on old question but I prefer posting here for further readers.\r\n\r\nThe solution is to update `conf/activemq.xml` file.\r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;transportConnectors&gt;\r\n                &lt;!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB --&gt;\r\n                &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://127.0.0.1:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;amqp&quot; uri=&quot;amqp://127.0.0.1:5672?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://127.0.0.1:61613?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;mqtt&quot; uri=&quot;mqtt://127.0.0.1:1883?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;ws&quot; uri=&quot;ws://127.0.0.1:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n    &lt;/transportConnectors&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Error while ActiveMQ installation","body":"<p>Sorry for answering on old question but I prefer posting here for further readers.</p>\n<p>The solution is to update <code>conf/activemq.xml</code> file.</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;transportConnectors&gt;\n            &lt;!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB --&gt;\n            &lt;transportConnector name=\"openwire\" uri=\"tcp://127.0.0.1:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"amqp\" uri=\"amqp://127.0.0.1:5672?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"stomp\" uri=\"stomp://127.0.0.1:61613?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"mqtt\" uri=\"mqtt://127.0.0.1:1883?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"ws\" uri=\"ws://127.0.0.1:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n&lt;/transportConnectors&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":9670315,"reputation":128,"user_id":7338447,"display_name":"Mama Bullki"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1050,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41317005,"answer_count":2,"score":1,"last_activity_date":1661692541,"creation_date":1482612109,"question_id":41316711,"body_markdown":"I&#39;m trying to install ActiveMQ 5.14.3 on windows7 x32.\r\nBut i&#39;ve got some errors while installation.\r\nHow can i fix it?\r\n\r\n    jvm 1    | ERROR | Failed to start Apache ActiveMQ ([localhost, ID:Admin--49711-\r\n    1482610732322-0:1], java.net.URISyntaxException: Illegal character in hostname a\r\n    t index 10: ws://Admin-╧╩:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=\r\n    104857600)\r\n    jvm 1    |  WARN | Exception thrown from LifecycleProcessor on context close\r\n    jvm 1    |  WARN | Exception encountered during context initialization - cancell\r\n    Jvm 1    | ERROR: java.lang.RuntimeException: Failed to execute start task. Reas\r\n    on: java.lang.IllegalStateException: BeanFactory not initialized or already clos\r\n    ed - call &#39;refresh&#39; before accessing beans via the ApplicationContext\r\n\r\nHere is full output of console: [pastebin][1]\r\n\r\n\r\n  [1]: http://pastebin.com/19954Acw\r\n**UPD 1**\r\nMy activemq.xml transports part\r\n\r\n    &lt;transportConnectors&gt;\r\n                &lt;!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB --&gt;\r\n                &lt;transportConnector name=&quot;openwire&quot; uri=&quot;tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;amqp&quot; uri=&quot;amqp://0.0.0.0:5672?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;stomp&quot; uri=&quot;stomp://0.0.0.0:61613?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;mqtt&quot; uri=&quot;mqtt://0.0.0.0:1883?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n                &lt;transportConnector name=&quot;ws&quot; uri=&quot;ws://0.0.0.0:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600&quot;/&gt;\r\n    &lt;/transportConnectors&gt;","title":"Error while ActiveMQ installation","body":"<p>I'm trying to install ActiveMQ 5.14.3 on windows7 x32.\nBut i've got some errors while installation.\nHow can i fix it?</p>\n\n<pre><code>jvm 1    | ERROR | Failed to start Apache ActiveMQ ([localhost, ID:Admin--49711-\n1482610732322-0:1], java.net.URISyntaxException: Illegal character in hostname a\nt index 10: ws://Admin-╧╩:61614?maximumConnections=1000&amp;wireFormat.maxFrameSize=\n104857600)\njvm 1    |  WARN | Exception thrown from LifecycleProcessor on context close\njvm 1    |  WARN | Exception encountered during context initialization - cancell\nJvm 1    | ERROR: java.lang.RuntimeException: Failed to execute start task. Reas\non: java.lang.IllegalStateException: BeanFactory not initialized or already clos\ned - call 'refresh' before accessing beans via the ApplicationContext\n</code></pre>\n\n<p>Here is full output of console: <a href=\"http://pastebin.com/19954Acw\" rel=\"nofollow noreferrer\">pastebin</a></p>\n\n<p><strong>UPD 1</strong>\nMy activemq.xml transports part</p>\n\n<pre><code>&lt;transportConnectors&gt;\n            &lt;!-- DOS protection, limit concurrent connections to 1000 and frame size to 100MB --&gt;\n            &lt;transportConnector name=\"openwire\" uri=\"tcp://0.0.0.0:61616?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"amqp\" uri=\"amqp://0.0.0.0:5672?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"stomp\" uri=\"stomp://0.0.0.0:61613?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"mqtt\" uri=\"mqtt://0.0.0.0:1883?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n            &lt;transportConnector name=\"ws\" uri=\"ws://0.0.0.0:61614?maximumConnections=1000&amp;amp;wireFormat.maxFrameSize=104857600\"/&gt;\n&lt;/transportConnectors&gt;\n</code></pre>\n"},{"tags":["java","parallel-processing","completable-future"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1661704551,"post_id":73518897,"comment_id":129830102,"body_markdown":"Please show more respect for your reader. Use proper case, punctuation, complete sentences, etc. This site is meant to more like Wikipedia, less like a casual chat room.","body":"Please show more respect for your reader. Use proper case, punctuation, complete sentences, etc. This site is meant to more like Wikipedia, less like a casual chat room."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1661740712,"post_id":73518897,"comment_id":129835790,"body_markdown":"Are you sure you want to delete the tweets even if the save to database operation fails?","body":"Are you sure you want to delete the tweets even if the save to database operation fails?"}],"owner":{"account_id":4801578,"reputation":81,"user_id":3878073,"display_name":"user3878073"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661691720,"creation_date":1661691720,"question_id":73518897,"body_markdown":"i&#39;m running a rest call once i get the output i want to run two calls asynchronously with the result \r\n\r\none is to persist the data to the data base and another calling another web services with those results \r\n\r\n\r\n\r\n \r\n\r\n    CompletableFuture&lt;List&lt;Tweet&gt;&gt; tweetFuture = CompletableFuture.supplyAsync(() -&gt; restUtils.getTweetsByUserId(userId))\r\n                    .thenApply(TweetConvertor::convertToTweet);\r\n    \r\n                      tweetFuture.thenApply(tweetRepository::saveAll);\r\n                     return   tweetFuture.thenCompose(this::deleteTweets);\r\n\r\n\r\nhere first i called an rest service and convert the result to an List of tweet object and , then i want to run two parallel calls saving the list to DB and send it to another Rest call , my doubt is that \r\n\r\n                tweetFuture.thenApply(tweetRepository::saveAll);\r\n                 return   tweetFuture.thenCompose(this::deleteTweets);\r\nweather these two calls are run synchronously \r\n","title":"running two calls Asynchronously using completable Future","body":"<p>i'm running a rest call once i get the output i want to run two calls asynchronously with the result</p>\n<p>one is to persist the data to the data base and another calling another web services with those results</p>\n<pre><code>CompletableFuture&lt;List&lt;Tweet&gt;&gt; tweetFuture = CompletableFuture.supplyAsync(() -&gt; restUtils.getTweetsByUserId(userId))\n                .thenApply(TweetConvertor::convertToTweet);\n\n                  tweetFuture.thenApply(tweetRepository::saveAll);\n                 return   tweetFuture.thenCompose(this::deleteTweets);\n</code></pre>\n<p>here first i called an rest service and convert the result to an List of tweet object and , then i want to run two parallel calls saving the list to DB and send it to another Rest call , my doubt is that</p>\n<pre><code>            tweetFuture.thenApply(tweetRepository::saveAll);\n             return   tweetFuture.thenCompose(this::deleteTweets);\n</code></pre>\n<p>weather these two calls are run synchronously</p>\n"},{"tags":["java","json","spring-boot"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661690708,"post_id":73518755,"comment_id":129827160,"body_markdown":"You&#39;re asking about a problem calling `setDiscountAmount`, but you haven&#39;t shown the code that is calling it.","body":"You&#39;re asking about a problem calling <code>setDiscountAmount</code>, but you haven&#39;t shown the code that is calling it."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1661690817,"post_id":73518755,"comment_id":129827182,"body_markdown":"You also haven&#39;t shown the type of `listItems`, or explained which item you want from the array (your loop always gets the last value).","body":"You also haven&#39;t shown the type of <code>listItems</code>, or explained which item you want from the array (your loop always gets the last value)."},{"owner":{"account_id":26077349,"reputation":79,"user_id":19776112,"display_name":"justrying"},"score":0,"creation_date":1661691121,"post_id":73518755,"comment_id":129827250,"body_markdown":"Hi @tgdavies I have updated, I want to extract the `discountPrice`","body":"Hi @tgdavies I have updated, I want to extract the <code>discountPrice</code>"},{"owner":{"account_id":19896419,"reputation":66,"user_id":14577421,"display_name":"Maxime Pillier"},"score":1,"creation_date":1661698572,"post_id":73518755,"comment_id":129828794,"body_markdown":"maybe this answer in another topic will help : https://stackoverflow.com/a/1568815/14577421","body":"maybe this answer in another topic will help : <a href=\"https://stackoverflow.com/a/1568815/14577421\">stackoverflow.com/a/1568815/14577421</a>"}],"owner":{"account_id":26077349,"reputation":79,"user_id":19776112,"display_name":"justrying"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661691100,"creation_date":1661690490,"question_id":73518755,"body_markdown":"I am receiving the JSONArray below,\r\n\r\n    [\r\n        {\r\n            &quot;test&quot;: &quot;Nivea Men&quot;,\r\n            &quot;category&quot;: null,\r\n            &quot;stock&quot;: null,\r\n            &quot;promoBundle&quot;: true,\r\n            &quot;discountPrice&quot;: 12.5\r\n        },\r\n        {\r\n            &quot;test&quot;: &quot;Vaseline&quot;,\r\n            &quot;category&quot;: null,\r\n            &quot;stock&quot;: null,\r\n            &quot;promoBundle&quot;: true,\r\n            &quot;discountPrice&quot;: 12.5\r\n        },\r\n        {\r\n            &quot;test&quot;: &quot;Blueband&quot;,\r\n            &quot;category&quot;: null,\r\n            &quot;stock&quot;: null,\r\n            &quot;promoBundle&quot;: true,\r\n            &quot;discountPrice&quot;: 12.5\r\n        }\r\n    ]\r\n\r\n\r\n\r\nHow can I extract a single object like `discountPrice` and introduce it to a if statement to check if is null or not and perform some logic.\r\n\r\nI know the way how to loop through a list of items and add them to an array like. And also extract a single String value and map it to an `AtomicReference` \r\n\r\n    AtomicReference&lt;String&gt; territory = new AtomicReference&lt;&gt;(&quot;&quot;);\r\n    List &lt;String&gt; itemData = new ArrayList&lt;&gt;();\r\n    cart.getItems().forEach(pt -&gt; {\r\n      itemData.add(pt.getItemId());\r\n      territory.set(pt.getTerritory());\r\n    });\r\n\r\nbut how can I extract only a single value of type double without adding it to an array list?. Any help is appreciated.\r\nI have tried tried \r\n\r\n      AtomicReference&lt;Double&gt; discountPrice  = new AtomicReference&lt;&gt;((double) 0);\r\n        listItems.forEach(dc-&gt;{\r\n          discountPRice.set(dc.getDiscountPrice());\r\n        });\r\n\r\nPassing the discountPrice after extracting it\r\n\r\n     cart.getItems().forEach(\r\n          cartItem -&gt; {\r\n              CreateOrderDto.ItemDto item = CreateOrderDto.ItemDto();\r\n              item.setDiscountPrice(discountPrice);\r\n    \r\n            }\r\n\r\nbut whenever I try to access the discount amount from somewhere else it prompts me to Change 1st parameter of method `setDiscountPrice` from `Double` to `AtomicReference&lt;Double&gt;`, and I don&#39;t want to change it I want it to remain as `double`. Any help is appreciated ","title":"How to Loop through an object array and retrieve a specific item in Java without using JSONArray","body":"<p>I am receiving the JSONArray below,</p>\n<pre><code>[\n    {\n        &quot;test&quot;: &quot;Nivea Men&quot;,\n        &quot;category&quot;: null,\n        &quot;stock&quot;: null,\n        &quot;promoBundle&quot;: true,\n        &quot;discountPrice&quot;: 12.5\n    },\n    {\n        &quot;test&quot;: &quot;Vaseline&quot;,\n        &quot;category&quot;: null,\n        &quot;stock&quot;: null,\n        &quot;promoBundle&quot;: true,\n        &quot;discountPrice&quot;: 12.5\n    },\n    {\n        &quot;test&quot;: &quot;Blueband&quot;,\n        &quot;category&quot;: null,\n        &quot;stock&quot;: null,\n        &quot;promoBundle&quot;: true,\n        &quot;discountPrice&quot;: 12.5\n    }\n]\n</code></pre>\n<p>How can I extract a single object like <code>discountPrice</code> and introduce it to a if statement to check if is null or not and perform some logic.</p>\n<p>I know the way how to loop through a list of items and add them to an array like. And also extract a single String value and map it to an <code>AtomicReference</code></p>\n<pre><code>AtomicReference&lt;String&gt; territory = new AtomicReference&lt;&gt;(&quot;&quot;);\nList &lt;String&gt; itemData = new ArrayList&lt;&gt;();\ncart.getItems().forEach(pt -&gt; {\n  itemData.add(pt.getItemId());\n  territory.set(pt.getTerritory());\n});\n</code></pre>\n<p>but how can I extract only a single value of type double without adding it to an array list?. Any help is appreciated.\nI have tried tried</p>\n<pre><code>  AtomicReference&lt;Double&gt; discountPrice  = new AtomicReference&lt;&gt;((double) 0);\n    listItems.forEach(dc-&gt;{\n      discountPRice.set(dc.getDiscountPrice());\n    });\n</code></pre>\n<p>Passing the discountPrice after extracting it</p>\n<pre><code> cart.getItems().forEach(\n      cartItem -&gt; {\n          CreateOrderDto.ItemDto item = CreateOrderDto.ItemDto();\n          item.setDiscountPrice(discountPrice);\n\n        }\n</code></pre>\n<p>but whenever I try to access the discount amount from somewhere else it prompts me to Change 1st parameter of method <code>setDiscountPrice</code> from <code>Double</code> to <code>AtomicReference&lt;Double&gt;</code>, and I don't want to change it I want it to remain as <code>double</code>. Any help is appreciated</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1555647546,"post_id":55756272,"comment_id":98188805,"body_markdown":"Note that the main benefit of Spring Data is that you don&#39;t have to write an implementing class for your `AnswerRepository`; Spring does that automatically for you.","body":"Note that the main benefit of Spring Data is that you don&#39;t have to write an implementing class for your <code>AnswerRepository</code>; Spring does that automatically for you."}],"answers":[{"tags":[],"owner":{"account_id":11037988,"reputation":848,"user_id":8107013,"display_name":"Manjunath H M"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1661690395,"creation_date":1555645385,"answer_id":55756311,"question_id":55756272,"body_markdown":"Basically JPA Repositories are interfaces.\r\n\r\nIn your code you declared a class and extending it with an interface.\r\nA Class can implement an interface, but not extends it. \r\n\r\nSo please change Class declaration to an interface as below.\r\n\r\n    @Repository\r\n    public class PropertyRepository extends JpaRepository&lt;Property, Long&gt; {    \r\n    \r\n    }\r\n\r\nto \r\n\r\n    @Repository\r\n    public interface PropertyRepository extends JpaRepository&lt;Property, Long&gt; {\r\n        \r\n    }\r\n","title":"Repository not extending JpaRepository","body":"<p>Basically JPA Repositories are interfaces.</p>\n<p>In your code you declared a class and extending it with an interface.\nA Class can implement an interface, but not extends it.</p>\n<p>So please change Class declaration to an interface as below.</p>\n<pre><code>@Repository\npublic class PropertyRepository extends JpaRepository&lt;Property, Long&gt; {    \n\n}\n</code></pre>\n<p>to</p>\n<pre><code>@Repository\npublic interface PropertyRepository extends JpaRepository&lt;Property, Long&gt; {\n    \n}\n</code></pre>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7358,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":55756311,"answer_count":1,"score":3,"last_activity_date":1661690395,"creation_date":1555644996,"question_id":55756272,"body_markdown":"I&#39;m new to using JPA, I am reading tutorials online and all of them extend from JPARespository like below\r\n\r\nfrom this page \r\n\r\nhttps://www.callicoder.com/spring-boot-jpa-hibernate-postgresql-restful-crud-api-example/\r\n\r\n    package com.example.postgresdemo.repository;\r\n    \r\n    import com.example.postgresdemo.model.Answer;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public interface AnswerRepository extends JpaRepository&lt;Answer, Long&gt; {\r\n        List&lt;Answer&gt; findByQuestionId(Long questionId);\r\n    }\r\n\r\n\r\nBut in my project Eclipse complains with the following\r\n\r\n    The type JpaRepository&lt;Property,Long&gt; cannot be the superclass of PropertyRepository; a superclass must be a class\r\n\r\nBelow is my class\r\n\r\n    package realestate.repository;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    import realestate.model.Property;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Repository\r\n    public class PropertyRepository extends JpaRepository&lt;Property, Long&gt; {\r\n    \r\n    \t\r\n    }\r\n\r\n","title":"Repository not extending JpaRepository","body":"<p>I'm new to using JPA, I am reading tutorials online and all of them extend from JPARespository like below</p>\n\n<p>from this page </p>\n\n<p><a href=\"https://www.callicoder.com/spring-boot-jpa-hibernate-postgresql-restful-crud-api-example/\" rel=\"nofollow noreferrer\">https://www.callicoder.com/spring-boot-jpa-hibernate-postgresql-restful-crud-api-example/</a></p>\n\n<pre><code>package com.example.postgresdemo.repository;\n\nimport com.example.postgresdemo.model.Answer;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\nimport java.util.List;\n\n@Repository\npublic interface AnswerRepository extends JpaRepository&lt;Answer, Long&gt; {\n    List&lt;Answer&gt; findByQuestionId(Long questionId);\n}\n</code></pre>\n\n<p>But in my project Eclipse complains with the following</p>\n\n<pre><code>The type JpaRepository&lt;Property,Long&gt; cannot be the superclass of PropertyRepository; a superclass must be a class\n</code></pre>\n\n<p>Below is my class</p>\n\n<pre><code>package realestate.repository;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport realestate.model.Property;\n\nimport java.util.List;\n\n@Repository\npublic class PropertyRepository extends JpaRepository&lt;Property, Long&gt; {\n\n\n}\n</code></pre>\n"},{"tags":["java","sharepoint","microsoft-graph-api","office365","spring-resttemplate"],"comments":[{"owner":{"account_id":2596604,"reputation":15928,"user_id":2250152,"accept_rate":72,"display_name":"user2250152"},"score":1,"creation_date":1654353889,"post_id":72499441,"comment_id":128073371,"body_markdown":"What is the type of the item specified by item-id? Check if the folder with the same name already exists inside the item. Content-Type must be application/json","body":"What is the type of the item specified by item-id? Check if the folder with the same name already exists inside the item. Content-Type must be application/json"},{"owner":{"account_id":21418897,"reputation":117,"user_id":15777628,"display_name":"Sagnik Chatterjee"},"score":0,"creation_date":1654429307,"post_id":72499441,"comment_id":128084234,"body_markdown":"Thank you. Adding &#39;Content-Type: application/json&#39; in request header worked fine.","body":"Thank you. Adding &#39;Content-Type: application/json&#39; in request header worked fine."}],"answers":[{"tags":[],"owner":{"account_id":18314651,"reputation":8673,"user_id":13336683,"display_name":"Carl Zhao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661690152,"creation_date":1654504251,"answer_id":72514984,"question_id":72499441,"body_markdown":"Reference code snippet:\r\n\r\n    GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\r\n    \r\n    DriveItem driveItem = new DriveItem();\r\n    driveItem.name = &quot;Folder name&quot;;\r\n    Folder folder = new Folder();\r\n    driveItem.folder = folder;\r\n    \r\n    graphClient.drives(&quot;drive id&quot;).items(&quot;item id&quot;).children()\r\n    \t.buildRequest()\r\n    \t.post(driveItem);\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npnzm.png","title":"Creating folder on Office 365 using Java Spring boot","body":"<p>Reference code snippet:</p>\n<pre><code>GraphServiceClient graphClient = GraphServiceClient.builder().authenticationProvider( authProvider ).buildClient();\n\nDriveItem driveItem = new DriveItem();\ndriveItem.name = &quot;Folder name&quot;;\nFolder folder = new Folder();\ndriveItem.folder = folder;\n\ngraphClient.drives(&quot;drive id&quot;).items(&quot;item id&quot;).children()\n    .buildRequest()\n    .post(driveItem);\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/npnzm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npnzm.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":21418897,"reputation":117,"user_id":15777628,"display_name":"Sagnik Chatterjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":222,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661690187,"creation_date":1654342805,"question_id":72499441,"body_markdown":"I want to create a folder inside an item on office 365 sharepoint using Java.\r\nThe request to be hit is:\r\n\r\n    https://graph.microsoft.com/v1.0/drives/{drive-id}/items/{item-id}/children\r\n\r\nAnd the body of the request is to be:\r\n\r\n    {\r\n      &quot;name&quot;: &quot;Folder Name&quot;,\r\n      &quot;folder&quot;: {}\r\n    }\r\n\r\nFor the Rest call (POST) to be made, I need help on how to initialize this &quot;folder&quot;: {} for sending the request. I tried forming a JSON String or creating a DTO, but getting 400: Bad Request each time.\r\n","title":"Creating folder on Office 365 using Java Spring boot","body":"<p>I want to create a folder inside an item on office 365 sharepoint using Java.\nThe request to be hit is:</p>\n<pre><code>https://graph.microsoft.com/v1.0/drives/{drive-id}/items/{item-id}/children\n</code></pre>\n<p>And the body of the request is to be:</p>\n<pre><code>{\n  &quot;name&quot;: &quot;Folder Name&quot;,\n  &quot;folder&quot;: {}\n}\n</code></pre>\n<p>For the Rest call (POST) to be made, I need help on how to initialize this &quot;folder&quot;: {} for sending the request. I tried forming a JSON String or creating a DTO, but getting 400: Bad Request each time.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1661525052,"post_id":73502358,"comment_id":129800005,"body_markdown":"The main step is how to convert a single character to a number representing that single digit. There&#39;s method `Character.digit`, but you can&#39;t use that. It does tell you what it mostly does. Once you know how to get the single digits, you need to combine them. Some basic math will help you out there.","body":"The main step is how to convert a single character to a number representing that single digit. There&#39;s method <code>Character.digit</code>, but you can&#39;t use that. It does tell you what it mostly does. Once you know how to get the single digits, you need to combine them. Some basic math will help you out there."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1661525125,"post_id":73502358,"comment_id":129800038,"body_markdown":"*that converts said string into a hexadecimal integer, and then output the results.* is confusing. Do you want to convert something like `FF` to `255` or `255` to `FF`?","body":"<i>that converts said string into a hexadecimal integer, and then output the results.</i> is confusing. Do you want to convert something like <code>FF</code> to <code>255</code> or <code>255</code> to <code>FF</code>?"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1661525472,"post_id":73502358,"comment_id":129800151,"body_markdown":"`Ints` don&#39;t really have an internal representation.  At best they are voltage levels.   Representations in any base are for human consumption.","body":"<code>Ints</code> don&#39;t really have an internal representation.  At best they are voltage levels.   Representations in any base are for human consumption."},{"owner":{"account_id":26166686,"reputation":1,"user_id":19852390,"display_name":"Chris_Motte"},"score":0,"creation_date":1661525482,"post_id":73502358,"comment_id":129800153,"body_markdown":"Hey there, thanks for the help you guys!\n\nUser, yes, the input would be a hexadecimal representation of a number, put in as a string. \n\nRob, I&#39;ve tried this concept but can&#39;t seem to figure out how to combine certain characters of a string. (my for loop is my attempt of this) \n\nWJS, I want to convert FF to 255 :)","body":"Hey there, thanks for the help you guys!  User, yes, the input would be a hexadecimal representation of a number, put in as a string.   Rob, I&#39;ve tried this concept but can&#39;t seem to figure out how to combine certain characters of a string. (my for loop is my attempt of this)   WJS, I want to convert FF to 255 :)"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661525909,"creation_date":1661524660,"answer_id":73502706,"question_id":73502358,"body_markdown":"Consider this, lets says you have the hex value `1EC` which in hex digits would be `1, E, C`.  In decimal they would be `1, 14, 12`.\r\n\r\nso set sum = 0.\r\n- sum = sum*16 + 1.  sum is now 1\r\n- sum = sum*16 + 14  sum is now 30\r\n- sum = sum*16 + 12  sum is now 492\r\n\r\nSo 492 is the answer.\r\n\r\nIf you have a string of `1EC` you need to convert to characters and then convert those characters to the decimal equivalent of hex values.\r\n\r\nTry this on paper until you get the feel and then code it.   You can check your results using the `Integer` method you mentioned.\r\n","title":"Converting a hexadecimal string to integer value without pre-made syntax","body":"<p>Consider this, lets says you have the hex value <code>1EC</code> which in hex digits would be <code>1, E, C</code>.  In decimal they would be <code>1, 14, 12</code>.</p>\n<p>so set sum = 0.</p>\n<ul>\n<li>sum = sum*16 + 1.  sum is now 1</li>\n<li>sum = sum*16 + 14  sum is now 30</li>\n<li>sum = sum*16 + 12  sum is now 492</li>\n</ul>\n<p>So 492 is the answer.</p>\n<p>If you have a string of <code>1EC</code> you need to convert to characters and then convert those characters to the decimal equivalent of hex values.</p>\n<p>Try this on paper until you get the feel and then code it.   You can check your results using the <code>Integer</code> method you mentioned.</p>\n"},{"tags":[],"owner":{"account_id":5490196,"reputation":670,"user_id":4363776,"accept_rate":100,"display_name":"David Gomes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661549791,"creation_date":1661549791,"answer_id":73506698,"question_id":73502358,"body_markdown":"@WJS gave a good hint, I&#39;d just like to add that the `charAt()` returns the _char_, which is encoded in ASCII.\r\n\r\nAs you can see in the [ASCII table](https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/ASCII-Table-wide.svg/800px-ASCII-Table-wide.svg.png), the characters A-F have decimal values from 65 to 70, while 0-9 go from 48 to 57 so you&#39;ll need to use them to convert the ASCII characters to their intended value.\r\n\r\nTo do so, you can either get the decimal value of a character by casting to `short` like `short dec = (short)in.charAt(i);`, or directly use the characters like `char current = in.charAt(i) - &#39;A&#39;`.\r\n\r\nWith this in mind, all that&#39;s left is some calculation, I&#39;ll leave that as the homework. :)\r\n\r\nAlso:\r\n- you are looping one character more than needed, change the `i &lt;= in.length()` to `i &lt; in.length()`, since it&#39;s going from 0\r\n- I don&#39;t know what that 316 &quot;magic number&quot; is, if it does mean something, declare a variable with a meaningful name, like:\r\n```java\r\nfinal int MEANINGFUL_NAME = 316;\r\n```\r\n\r\n","title":"Converting a hexadecimal string to integer value without pre-made syntax","body":"<p>@WJS gave a good hint, I'd just like to add that the <code>charAt()</code> returns the <em>char</em>, which is encoded in ASCII.</p>\n<p>As you can see in the <a href=\"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/ASCII-Table-wide.svg/800px-ASCII-Table-wide.svg.png\" rel=\"nofollow noreferrer\">ASCII table</a>, the characters A-F have decimal values from 65 to 70, while 0-9 go from 48 to 57 so you'll need to use them to convert the ASCII characters to their intended value.</p>\n<p>To do so, you can either get the decimal value of a character by casting to <code>short</code> like <code>short dec = (short)in.charAt(i);</code>, or directly use the characters like <code>char current = in.charAt(i) - 'A'</code>.</p>\n<p>With this in mind, all that's left is some calculation, I'll leave that as the homework. :)</p>\n<p>Also:</p>\n<ul>\n<li>you are looping one character more than needed, change the <code>i &lt;= in.length()</code> to <code>i &lt; in.length()</code>, since it's going from 0</li>\n<li>I don't know what that 316 &quot;magic number&quot; is, if it does mean something, declare a variable with a meaningful name, like:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>final int MEANINGFUL_NAME = 316;\n</code></pre>\n"}],"owner":{"account_id":26166686,"reputation":1,"user_id":19852390,"display_name":"Chris_Motte"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661688536,"creation_date":1661523114,"question_id":73502358,"body_markdown":"I&#39;m taking a computer organization class in college. I was tasked with writing a java program that takes a user-inputted string, calls a function that converts said string into a hexadecimal integer, and then outputs the results. \r\n\r\nThe kicker is that I can&#39;t use any existing syntax to do this. for example, `Integer.parseInt(__,16)` or `printf`. It all neds to be hardcoded.\r\n\r\nNow I&#39;m not asking you to do my homework for me, just wanting to be put in the right direction.\r\n\r\nSo far, I&#39;ve made this but can&#39;t seem to get the method created right:\r\n\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Demo_Class \r\n{\r\n\r\n\tpublic static void main(String[] args) \r\n\t{\r\n\t\tScanner AI = new Scanner(System.in);\r\n\t\tString str;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Please input a hexadecimal number: &quot;);\r\n\t\tstr = AI.nextLine();\r\n\t\t\r\n\t\tconverter(str);\r\n\t}\r\n\t\t\r\n\t\r\n\tpublic static int converter(String in)\r\n\t{\r\n\t\tString New = new String();\r\n\t\tfor(int i = 0; i&lt;= in.length(); i++)\r\n\t\t{\r\n\t\t\tNew += in.charAt(i);\r\n\t\t\tSystem.out.println(New + 316);\r\n\t\t}\r\n\t\t\r\n\t\treturn 0;\r\n\t}\r\n}\r\n```","title":"Converting a hexadecimal string to integer value without pre-made syntax","body":"<p>I'm taking a computer organization class in college. I was tasked with writing a java program that takes a user-inputted string, calls a function that converts said string into a hexadecimal integer, and then outputs the results.</p>\n<p>The kicker is that I can't use any existing syntax to do this. for example, <code>Integer.parseInt(__,16)</code> or <code>printf</code>. It all neds to be hardcoded.</p>\n<p>Now I'm not asking you to do my homework for me, just wanting to be put in the right direction.</p>\n<p>So far, I've made this but can't seem to get the method created right:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Demo_Class \n{\n\n    public static void main(String[] args) \n    {\n        Scanner AI = new Scanner(System.in);\n        String str;\n        \n        System.out.println(&quot;Please input a hexadecimal number: &quot;);\n        str = AI.nextLine();\n        \n        converter(str);\n    }\n        \n    \n    public static int converter(String in)\n    {\n        String New = new String();\n        for(int i = 0; i&lt;= in.length(); i++)\n        {\n            New += in.charAt(i);\n            System.out.println(New + 316);\n        }\n        \n        return 0;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":15325562,"reputation":21,"user_id":11056814,"display_name":"Forest"},"score":0,"creation_date":1661687334,"post_id":73518383,"comment_id":129826437,"body_markdown":"Here is my pom.xml","body":"Here is my pom.xml"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661687390,"post_id":73518383,"comment_id":129826449,"body_markdown":"Please [edit] the question, don&#39;t try to add your whole pom.xml inside a comment because 1) It won&#39;t fit; 2) Even if it did, it would be unreadable.","body":"Please <a href=\"https://stackoverflow.com/posts/73518383/edit\">edit</a> the question, don&#39;t try to add your whole pom.xml inside a comment because 1) It won&#39;t fit; 2) Even if it did, it would be unreadable."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1661687416,"post_id":73518383,"comment_id":129826456,"body_markdown":"Anyway, how are you running this? Looks like something is expecting a parameter you&#39;re not passing. And it seems like something related to whatever `com.expedia.www.platform.configuration.spring.SpringEnvironment.createEnvironment` is, rather than Spring itself.","body":"Anyway, how are you running this? Looks like something is expecting a parameter you&#39;re not passing. And it seems like something related to whatever <code>com.expedia.www.platform.configuration.spring.SpringEnvironm&zwnj;&#8203;ent.createEnvironmen&zwnj;&#8203;t</code> is, rather than Spring itself."},{"owner":{"account_id":15325562,"reputation":21,"user_id":11056814,"display_name":"Forest"},"score":0,"creation_date":1661687544,"post_id":73518383,"comment_id":129826486,"body_markdown":"I&#39;m unable to add my pom to the question getting these errors.\nBody is limited to 30000 characters; you entered 40240.\nIt looks like your post is mostly code; please add some more details.","body":"I&#39;m unable to add my pom to the question getting these errors. Body is limited to 30000 characters; you entered 40240. It looks like your post is mostly code; please add some more details."},{"owner":{"account_id":15325562,"reputation":21,"user_id":11056814,"display_name":"Forest"},"score":0,"creation_date":1661687598,"post_id":73518383,"comment_id":129826498,"body_markdown":"Run Command\n mvn spring-boot:run -Dapplication.name=auxiliary-service -Dapplication.home=. -Dspring.profiles.active=dev -Dapplication.environment=dev","body":"Run Command  mvn spring-boot:run -Dapplication.name=auxiliary-service -Dapplication.home=. -Dspring.profiles.active=dev -Dapplication.environment=dev"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1661687805,"post_id":73518383,"comment_id":129826540,"body_markdown":"Looks to me it&#39;s talking about `-Dapplication.name=auxiliary-service` and its value is neither of those you cited in the title (or it&#39;s about some other property called `name` you&#39;re not even passing). Again, this seems to be specific to some library you&#39;re using (and you&#39;re not mentioning) rather than Spring itself.","body":"Looks to me it&#39;s talking about <code>-Dapplication.name=auxiliary-service</code> and its value is neither of those you cited in the title (or it&#39;s about some other property called <code>name</code> you&#39;re not even passing). Again, this seems to be specific to some library you&#39;re using (and you&#39;re not mentioning) rather than Spring itself."}],"owner":{"account_id":15325562,"reputation":21,"user_id":11056814,"display_name":"Forest"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1661688037,"creation_date":1661687307,"question_id":73518383,"body_markdown":"Recently I tried to upgrade my application (maven) to Spring boot version to 2.7.3 and Spring version 5.3.22. After upgrading the version I am getting the below error while starting the application.\r\nJava version 1.8\r\n\r\nPrevious versions\r\n\r\nSpring boot - 2.0.9.RELEASE\r\n\r\nSpring - 5.0.13.RELEASE\r\n\r\n\r\n```\r\n[ERROR] - Application run failed\r\njava.lang.IllegalArgumentException: name must be specified as one of stress, prod, prod-p, dev, test, int, dr\r\n\tat org.apache.commons.lang.Validate.isTrue(Validate.java:136) ~[commons-lang-2.6.jar:2.6]\r\n\tat com.expedia.www.platform.configuration.spring.SpringEnvironment.createEnvironment(SpringEnvironment.java:49) ~[platform-configuration-spring-2.0.23.jar:local]\r\n\tat com.expedia.www.platform.configuration.spring.SpringEnvironment.postProcessBeanFactory(SpringEnvironment.java:38) ~[platform-configuration-spring-2.0.23.jar:local]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:183) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.22.jar:5.3.22]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.3.jar:2.7.3]\r\n\tat com.expedia.www.eps.auxiliary.Starter.main(Starter.java:46) [classes/:?]\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  29.701 s\r\n[INFO] Finished at: 2022-08-28T16:52:57+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:run (default-cli) on project eps-auxiliary-service: Application finished with exit code: 1 -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n\r\n```\r\nHere is my pom.xml snippet\r\n```\r\n&lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.jdk.version&gt;${java.version}&lt;/project.jdk.version&gt;\r\n        &lt;project.sourceEncoding&gt;UTF-8&lt;/project.sourceEncoding&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\r\n        &lt;start-class&gt;com.expedia.www.eps.auxiliary.Starter&lt;/start-class&gt;\r\n\r\n        &lt;!-- Following properties are for release. --&gt;\r\n        &lt;buildType&gt;sandbox&lt;/buildType&gt;\r\n        &lt;buildNumber&gt;0&lt;/buildNumber&gt;\r\n        &lt;buildBranch&gt;local&lt;/buildBranch&gt;\r\n        &lt;changeNumber&gt;local&lt;/changeNumber&gt;\r\n        &lt;depotInfo&gt;none&lt;/depotInfo&gt;\r\n        &lt;buildTime&gt;${maven.build.timestamp}&lt;/buildTime&gt;\r\n\r\n        &lt;spring-boot.version&gt;2.7.3&lt;/spring-boot.version&gt;\r\n        &lt;spring.version&gt;5.3.22&lt;/spring.version&gt;\r\n        &lt;aws.version&gt;1.10.22&lt;/aws.version&gt;\r\n        &lt;metrics-servlet.version&gt;3.1.2&lt;/metrics-servlet.version&gt;\r\n        &lt;platform-monitoring.version&gt;1.2.0&lt;/platform-monitoring.version&gt;\r\n        &lt;platform-isactive.version&gt;1.1.18&lt;/platform-isactive.version&gt;\r\n        &lt;platform-build-tools.version&gt;0.1.49&lt;/platform-build-tools.version&gt;\r\n        &lt;fasterxml.jackson.version&gt;2.13.2&lt;/fasterxml.jackson.version&gt;\r\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n\r\n        &lt;findbugs-maven-plugin.version&gt;3.0.4&lt;/findbugs-maven-plugin.version&gt;\r\n        &lt;findbugs.include.filter.location&gt;buildtools/findbugs/include.xml&lt;/findbugs.include.filter.location&gt;\r\n        &lt;findbugs.exclude.filter.location&gt;buildtools/findbugs/exclude.xml&lt;/findbugs.exclude.filter.location&gt;\r\n        &lt;maven-pmd-plugin.version&gt;3.5&lt;/maven-pmd-plugin.version&gt;\r\n        &lt;pmd.version&gt;5.3.2&lt;/pmd.version&gt;\r\n        &lt;pmd.ruleset.location&gt;${project.basedir}/buildtools/ruleset.xml&lt;/pmd.ruleset.location&gt;\r\n        &lt;pmd.skip&gt;false&lt;/pmd.skip&gt;\r\n\r\n        &lt;!-- spring boot --&gt;\r\n        &lt;debug.port&gt;5000&lt;/debug.port&gt;\r\n        &lt;run.jvmArguments&gt;-Dspring.profiles.active=dev -Dapplication.home=. -Dapplication.name=${project.name}\r\n            -Dapplication.environment=dev -Dproject.name=${project.name} -Xdebug\r\n            -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\r\n        &lt;/run.jvmArguments&gt;\r\n\r\n        &lt;error-inspector.version&gt;0.1.9&lt;/error-inspector.version&gt;\r\n        &lt;platform-diagnostics.version&gt;1.1.5&lt;/platform-diagnostics.version&gt;\r\n\r\n        &lt;!-- Jacoco code coverage --&gt;\r\n        &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\r\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\r\n        &lt;sonar.jacoco.reportPath&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\r\n        &lt;sonar.jacoco.itReportPath&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/sonar.jacoco.itReportPath&gt;\r\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\r\n        &lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\r\n        &lt;sonar.exclusions&gt;**/*HttpConfiguration.java&lt;/sonar.exclusions&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!--\r\n                explicit override for the log4j2 vulnerability;\r\n                this can be removed once newer spring boot version released with the fix;\r\n                this HAS TO be defined before the default spring boot dependencies.\r\n            --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n                &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\r\n                &lt;version&gt;${log4j2.version}&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-transit&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-serialization&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.13&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.codahale.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www&lt;/groupId&gt;\r\n            &lt;artifactId&gt;offerservice-sdk-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.88-SNAPSHOT&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-configuration-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.23&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-isactive&lt;/artifactId&gt;\r\n            &lt;version&gt;${platform-isactive.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-monitoring&lt;/artifactId&gt;\r\n            &lt;version&gt;${platform-monitoring.version}&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\r\n            &lt;artifactId&gt;metrics-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${metrics-servlet.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springboot-metrics&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mangofactory&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-springmvc&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.ajar&lt;/groupId&gt;\r\n            &lt;artifactId&gt;swagger-spring-mvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;0.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cxf-bundle&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.2&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;geronimo-servlet_3.0_spec&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\r\n            &lt;artifactId&gt;platform-diagnostics&lt;/artifactId&gt;\r\n            &lt;version&gt;${platform-diagnostics.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.mikesamuel&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json-sanitizer&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;expedia.ews&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ews-partner&lt;/artifactId&gt;\r\n            &lt;version&gt;4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;expedia.ews&lt;/groupId&gt;\r\n            &lt;artifactId&gt;ews-filters&lt;/artifactId&gt;\r\n            &lt;version&gt;3.20&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"java.lang.IllegalArgumentException: name must be specified as one of stress, prod, prod-p, dev, test, int, dr","body":"<p>Recently I tried to upgrade my application (maven) to Spring boot version to 2.7.3 and Spring version 5.3.22. After upgrading the version I am getting the below error while starting the application.\nJava version 1.8</p>\n<p>Previous versions</p>\n<p>Spring boot - 2.0.9.RELEASE</p>\n<p>Spring - 5.0.13.RELEASE</p>\n<pre><code>[ERROR] - Application run failed\njava.lang.IllegalArgumentException: name must be specified as one of stress, prod, prod-p, dev, test, int, dr\n    at org.apache.commons.lang.Validate.isTrue(Validate.java:136) ~[commons-lang-2.6.jar:2.6]\n    at com.expedia.www.platform.configuration.spring.SpringEnvironment.createEnvironment(SpringEnvironment.java:49) ~[platform-configuration-spring-2.0.23.jar:local]\n    at com.expedia.www.platform.configuration.spring.SpringEnvironment.postProcessBeanFactory(SpringEnvironment.java:38) ~[platform-configuration-spring-2.0.23.jar:local]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:325) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:183) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:746) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564) ~[spring-context-5.3.22.jar:5.3.22]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) [spring-boot-2.7.3.jar:2.7.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) [spring-boot-2.7.3.jar:2.7.3]\n    at com.expedia.www.eps.auxiliary.Starter.main(Starter.java:46) [classes/:?]\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  29.701 s\n[INFO] Finished at: 2022-08-28T16:52:57+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.7.3:run (default-cli) on project eps-auxiliary-service: Application finished with exit code: 1 -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n\n</code></pre>\n<p>Here is my pom.xml snippet</p>\n<pre><code>&lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.jdk.version&gt;${java.version}&lt;/project.jdk.version&gt;\n        &lt;project.sourceEncoding&gt;UTF-8&lt;/project.sourceEncoding&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n\n        &lt;start-class&gt;com.expedia.www.eps.auxiliary.Starter&lt;/start-class&gt;\n\n        &lt;!-- Following properties are for release. --&gt;\n        &lt;buildType&gt;sandbox&lt;/buildType&gt;\n        &lt;buildNumber&gt;0&lt;/buildNumber&gt;\n        &lt;buildBranch&gt;local&lt;/buildBranch&gt;\n        &lt;changeNumber&gt;local&lt;/changeNumber&gt;\n        &lt;depotInfo&gt;none&lt;/depotInfo&gt;\n        &lt;buildTime&gt;${maven.build.timestamp}&lt;/buildTime&gt;\n\n        &lt;spring-boot.version&gt;2.7.3&lt;/spring-boot.version&gt;\n        &lt;spring.version&gt;5.3.22&lt;/spring.version&gt;\n        &lt;aws.version&gt;1.10.22&lt;/aws.version&gt;\n        &lt;metrics-servlet.version&gt;3.1.2&lt;/metrics-servlet.version&gt;\n        &lt;platform-monitoring.version&gt;1.2.0&lt;/platform-monitoring.version&gt;\n        &lt;platform-isactive.version&gt;1.1.18&lt;/platform-isactive.version&gt;\n        &lt;platform-build-tools.version&gt;0.1.49&lt;/platform-build-tools.version&gt;\n        &lt;fasterxml.jackson.version&gt;2.13.2&lt;/fasterxml.jackson.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n\n        &lt;findbugs-maven-plugin.version&gt;3.0.4&lt;/findbugs-maven-plugin.version&gt;\n        &lt;findbugs.include.filter.location&gt;buildtools/findbugs/include.xml&lt;/findbugs.include.filter.location&gt;\n        &lt;findbugs.exclude.filter.location&gt;buildtools/findbugs/exclude.xml&lt;/findbugs.exclude.filter.location&gt;\n        &lt;maven-pmd-plugin.version&gt;3.5&lt;/maven-pmd-plugin.version&gt;\n        &lt;pmd.version&gt;5.3.2&lt;/pmd.version&gt;\n        &lt;pmd.ruleset.location&gt;${project.basedir}/buildtools/ruleset.xml&lt;/pmd.ruleset.location&gt;\n        &lt;pmd.skip&gt;false&lt;/pmd.skip&gt;\n\n        &lt;!-- spring boot --&gt;\n        &lt;debug.port&gt;5000&lt;/debug.port&gt;\n        &lt;run.jvmArguments&gt;-Dspring.profiles.active=dev -Dapplication.home=. -Dapplication.name=${project.name}\n            -Dapplication.environment=dev -Dproject.name=${project.name} -Xdebug\n            -Xrunjdwp:transport=dt_socket,server=y,suspend=n,address=${debug.port}\n        &lt;/run.jvmArguments&gt;\n\n        &lt;error-inspector.version&gt;0.1.9&lt;/error-inspector.version&gt;\n        &lt;platform-diagnostics.version&gt;1.1.5&lt;/platform-diagnostics.version&gt;\n\n        &lt;!-- Jacoco code coverage --&gt;\n        &lt;sonar.core.codeCoveragePlugin&gt;jacoco&lt;/sonar.core.codeCoveragePlugin&gt;\n        &lt;sonar.dynamicAnalysis&gt;reuseReports&lt;/sonar.dynamicAnalysis&gt;\n        &lt;sonar.jacoco.reportPath&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/sonar.jacoco.reportPath&gt;\n        &lt;sonar.jacoco.itReportPath&gt;${project.build.directory}/coverage-reports/jacoco.exec&lt;/sonar.jacoco.itReportPath&gt;\n        &lt;sonar.language&gt;java&lt;/sonar.language&gt;\n        &lt;sonar.sources&gt;src/main/java&lt;/sonar.sources&gt;\n        &lt;sonar.exclusions&gt;**/*HttpConfiguration.java&lt;/sonar.exclusions&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;!--\n                explicit override for the log4j2 vulnerability;\n                this can be removed once newer spring boot version released with the fix;\n                this HAS TO be defined before the default spring boot dependencies.\n            --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n                &lt;artifactId&gt;log4j-bom&lt;/artifactId&gt;\n                &lt;version&gt;${log4j2.version}&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n                    &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context-support&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-expression&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-tx&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-jms&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-messaging&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-transit&lt;/artifactId&gt;\n            &lt;version&gt;0.4.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-serialization&lt;/artifactId&gt;\n            &lt;version&gt;1.1.13&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.fasterxml.jackson.jaxrs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jackson-jaxrs-json-provider&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.codahale.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;metrics-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www&lt;/groupId&gt;\n            &lt;artifactId&gt;offerservice-sdk-api&lt;/artifactId&gt;\n            &lt;version&gt;1.1.88-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-configuration-spring&lt;/artifactId&gt;\n            &lt;version&gt;2.0.23&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-isactive&lt;/artifactId&gt;\n            &lt;version&gt;${platform-isactive.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-monitoring&lt;/artifactId&gt;\n            &lt;version&gt;${platform-monitoring.version}&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n                    &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;com.google.code.findbugs&lt;/groupId&gt;\n                    &lt;artifactId&gt;jsr305&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-properties-migrator&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-jdbc&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-autoconfigure&lt;/artifactId&gt;\n            &lt;version&gt;2.7.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-context&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-cloud-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n            &lt;version&gt;2.2.11&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.dropwizard.metrics&lt;/groupId&gt;\n            &lt;artifactId&gt;metrics-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${metrics-servlet.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www&lt;/groupId&gt;\n            &lt;artifactId&gt;springboot-metrics&lt;/artifactId&gt;\n            &lt;version&gt;2.2.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mangofactory&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-springmvc&lt;/artifactId&gt;\n            &lt;version&gt;1.0.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;asm&lt;/groupId&gt;\n                    &lt;artifactId&gt;asm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.ajar&lt;/groupId&gt;\n            &lt;artifactId&gt;swagger-spring-mvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;0.4&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n            &lt;artifactId&gt;cxf-bundle&lt;/artifactId&gt;\n            &lt;version&gt;2.4.2&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-asm&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                    &lt;artifactId&gt;geronimo-servlet_3.0_spec&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                    &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.expedia.www.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;platform-diagnostics&lt;/artifactId&gt;\n            &lt;version&gt;${platform-diagnostics.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;junit&lt;/groupId&gt;\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mikesamuel&lt;/groupId&gt;\n            &lt;artifactId&gt;json-sanitizer&lt;/artifactId&gt;\n            &lt;version&gt;1.2.3&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;expedia.ews&lt;/groupId&gt;\n            &lt;artifactId&gt;ews-partner&lt;/artifactId&gt;\n            &lt;version&gt;4.7&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;expedia.ews&lt;/groupId&gt;\n            &lt;artifactId&gt;ews-filters&lt;/artifactId&gt;\n            &lt;version&gt;3.20&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n                    &lt;artifactId&gt;bcprov-jdk15on&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":5212777,"reputation":20542,"user_id":4168607,"accept_rate":28,"display_name":"ADM"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661687885,"creation_date":1661687885,"answer_id":73518441,"question_id":73518183,"body_markdown":"`notifyItemRangeChanged` will work if you add/remove the data in same instance of Adapter or any other notify method for that matter. The problem here is you are creating a new Adapter every time inside your `readMessages` method. \r\n\r\nCreate adapter only once and notify it as needed .. Since you already created the `messageAdapter` inside `onCreate` you can use the same instance.\r\n\r\n     public void readMessages(String sender, String receiver, String message){\r\n        Chat chat = new Chat(sender, receiver, message);\r\n        mChat.add(chat);\r\n        messageAdapter.notifyItemRangeChanged(messageAdapter.getItemCount(), mChat.size());\r\n       \r\n    }","title":"How can I refresh RecyclerView after adding new data?","body":"<p><code>notifyItemRangeChanged</code> will work if you add/remove the data in same instance of Adapter or any other notify method for that matter. The problem here is you are creating a new Adapter every time inside your <code>readMessages</code> method.</p>\n<p>Create adapter only once and notify it as needed .. Since you already created the <code>messageAdapter</code> inside <code>onCreate</code> you can use the same instance.</p>\n<pre><code> public void readMessages(String sender, String receiver, String message){\n    Chat chat = new Chat(sender, receiver, message);\n    mChat.add(chat);\n    messageAdapter.notifyItemRangeChanged(messageAdapter.getItemCount(), mChat.size());\n   \n}\n</code></pre>\n"}],"owner":{"account_id":15898538,"reputation":256,"user_id":11471617,"display_name":"Ahmed Heasat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73518441,"answer_count":1,"score":1,"last_activity_date":1661687885,"creation_date":1661685318,"question_id":73518183,"body_markdown":"How can I refresh the RecyclerView after adding a new item, Note that I&#39;m using a hub connection to send and receive messages from the back-end side, and I&#39;m trying to use `notifyItemRangeChanged` to refresh the RecyclerView but it does not work,\r\nHere is the adapter class:\r\n\r\n```\r\n    public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.ViewHolder&gt; {\r\n\r\n    public static final int MSG_TYPE_LEFT = 0;\r\n    public static final int MSG_TYPE_RIGHT = 1;\r\n\r\n    public static int i = 0;\r\n\r\n    private Context mContext;\r\n    private List&lt;Chat&gt; mChat;\r\n    private String imageurl;\r\n\r\n    public MessageAdapter(Context mContext, List&lt;Chat&gt; mChat, String imageurl) {\r\n        this.mContext = mContext;\r\n        this.mChat = mChat;\r\n        this.imageurl = imageurl;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public MessageAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n\r\n        if(viewType == MSG_TYPE_RIGHT){\r\n            View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_right, parent, false);\r\n            return new MessageAdapter.ViewHolder(view);\r\n        }else{\r\n            View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_left, parent, false);\r\n            return new MessageAdapter.ViewHolder(view);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull MessageAdapter.ViewHolder holder, int position) {\r\n        Chat chat = mChat.get(position);\r\n\r\n        holder.show_message.setText(chat.getMessage());\r\n        holder.profile_image.setImageResource(R.mipmap.ic_launcher);\r\n\r\n        holder.setItem_on_click_listener(new item_on_click_listener() {\r\n            @Override\r\n            public void onClick(View view, int position, boolean isLongClick) {\r\n                Toast.makeText(mContext, &quot;Clicked&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return mChat.size();\r\n    }\r\n\r\n    public  class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, View.OnLongClickListener{\r\n\r\n        public TextView show_message;\r\n        public ImageView profile_image;\r\n\r\n        private item_on_click_listener item_on_click_listener;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n\r\n            show_message = itemView.findViewById(R.id.show_message);\r\n            profile_image = itemView.findViewById(R.id.profile_image);\r\n\r\n        }\r\n\r\n        public void setItem_on_click_listener(item_on_click_listener item_on_click_listener){\r\n            this.item_on_click_listener = item_on_click_listener;\r\n        }\r\n\r\n        @Override\r\n        public void onClick(View view) {\r\n            item_on_click_listener.onClick(view, getAdapterPosition(), false);\r\n            \r\n        }\r\n\r\n        @Override\r\n        public boolean onLongClick(View view) {\r\n            item_on_click_listener.onClick(view, getAdapterPosition(), false);\r\n            \r\n            return true;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int getItemViewType(int position) {\r\n        i = position;\r\n        if(mChat.get(position).getSender() == &quot;Sender Name&quot;){\r\n            return MSG_TYPE_RIGHT;\r\n        }\r\n        else{\r\n            return MSG_TYPE_LEFT;\r\n        }\r\n\r\n        \r\n    }\r\n\r\n    @Override\r\n    public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\r\n        super.onAttachedToRecyclerView(recyclerView);\r\n\r\n        recyclerView.refreshDrawableState();\r\n    }\r\n\r\n}\r\n```\r\n\r\nHere is the main-activity class:\r\n\r\n``` \r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    Button sendBtn;\r\n    ArrayList&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\r\n\r\n\r\n    HubConnection hubConnection;\r\n    EditText edt_text;\r\n    TextView txt_received;\r\n\r\n    MessageAdapter messageAdapter;\r\n    List&lt;Chat&gt; mChat;\r\n    RecyclerView recyclerView;\r\n\r\n  \r\n    public void readMessages(String sender, String receiver, String message){\r\n        Chat chat = new Chat(sender, receiver, message);\r\n        mChat.add(chat);\r\n        messageAdapter = new MessageAdapter(MainActivity.this, mChat, &quot;default&quot;);\r\n        recyclerView.setAdapter(messageAdapter);\r\n        messageAdapter.notifyItemRangeChanged(messageAdapter.getItemCount(), mChat.size());\r\n       \r\n    }\r\n\r\n    @SuppressLint(&quot;WrongThread&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        \r\n      \r\n        recyclerView = findViewById(R.id.recyclerView);\r\n        recyclerView.setHasFixedSize(true);\r\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getApplicationContext());\r\n        linearLayoutManager.setStackFromEnd(true);\r\n        recyclerView.setLayoutManager(linearLayoutManager);\r\n        mChat = new ArrayList&lt;&gt;();\r\n\r\n\r\n        messageAdapter = new MessageAdapter(MainActivity.this, mChat, &quot;default&quot;);\r\n        recyclerView.setAdapter(messageAdapter);\r\n\r\n        sendBtn = findViewById(R.id.send_btn);\r\n        edt_text = findViewById(R.id.edt_text);\r\n\r\n        try {\r\n            hubConnection = HubConnectionBuilder.create(&quot;URL&quot;).build();\r\n            hubConnection.start();\r\n            AtomicReference&lt;String&gt; state = new AtomicReference&lt;&gt;(&quot;&quot;);\r\n            hubConnection.start().subscribe(() -&gt; {\r\n                        state.set(&quot;Connect&quot;);\r\n                    },\r\n                    error -&gt; {\r\n                        state.set(&quot;error&quot;);\r\n                    });\r\n\r\n            hubConnection.on(&quot;SendMessage&quot;, (param1, param2, param3, param4) -&gt; {\r\n           \r\n            readMessages(&quot;Sender Name&quot;, &quot;Receiver Name&quot;, &quot;Message&quot;);\r\n\r\n            }, String.class, String.class, String.class, Integer.class);\r\n            \r\n        }\r\n        catch (Exception e){\r\n            String exMessage = e.getMessage();\r\n        }\r\n\r\n\r\n        sendBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                try {\r\n                    if(edt_text.getText().toString().length() &gt; 0){\r\n                        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED){\r\n                            hubConnection.start();\r\n                        }\r\n                        \r\n                        hubConnection.send(&quot;Method Name&quot;, &quot;param1&quot;, &quot;param2&quot;, &quot;param3&quot;, &quot;param4&quot;);\r\n                       \r\n                        hubConnection.on(&quot;ReceiveMessage&quot;, (param1, param2, param3 , param4) -&gt; {\r\n                                                     \r\n                            \r\n                            readMessages(&quot;Sender Name&quot;, &quot;Receiver Name&quot;, &quot;Message&quot;);\r\n\r\n                        }, String.class, String.class, String.class, Integer.class);\r\n                        \r\n                    }\r\n                    else{\r\n                        edt_text.setHint(&quot;Can not be empty&quot;);\r\n                    }\r\n\r\n                }catch (Exception ex){\r\n                    String message ;\r\n                    message = ex.getMessage();\r\n                }\r\n            }\r\n        });\r\n\r\n    }\r\n }\r\n\r\n```\r\n\r\nCan anyone help me, please?","title":"How can I refresh RecyclerView after adding new data?","body":"<p>How can I refresh the RecyclerView after adding a new item, Note that I'm using a hub connection to send and receive messages from the back-end side, and I'm trying to use <code>notifyItemRangeChanged</code> to refresh the RecyclerView but it does not work,\nHere is the adapter class:</p>\n<pre><code>    public class MessageAdapter extends RecyclerView.Adapter&lt;MessageAdapter.ViewHolder&gt; {\n\n    public static final int MSG_TYPE_LEFT = 0;\n    public static final int MSG_TYPE_RIGHT = 1;\n\n    public static int i = 0;\n\n    private Context mContext;\n    private List&lt;Chat&gt; mChat;\n    private String imageurl;\n\n    public MessageAdapter(Context mContext, List&lt;Chat&gt; mChat, String imageurl) {\n        this.mContext = mContext;\n        this.mChat = mChat;\n        this.imageurl = imageurl;\n    }\n\n    @NonNull\n    @Override\n    public MessageAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n\n        if(viewType == MSG_TYPE_RIGHT){\n            View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_right, parent, false);\n            return new MessageAdapter.ViewHolder(view);\n        }else{\n            View view = LayoutInflater.from(mContext).inflate(R.layout.chat_item_left, parent, false);\n            return new MessageAdapter.ViewHolder(view);\n        }\n\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull MessageAdapter.ViewHolder holder, int position) {\n        Chat chat = mChat.get(position);\n\n        holder.show_message.setText(chat.getMessage());\n        holder.profile_image.setImageResource(R.mipmap.ic_launcher);\n\n        holder.setItem_on_click_listener(new item_on_click_listener() {\n            @Override\n            public void onClick(View view, int position, boolean isLongClick) {\n                Toast.makeText(mContext, &quot;Clicked&quot;, Toast.LENGTH_LONG).show();\n            }\n        });\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return mChat.size();\n    }\n\n    public  class ViewHolder extends RecyclerView.ViewHolder implements View.OnClickListener, View.OnLongClickListener{\n\n        public TextView show_message;\n        public ImageView profile_image;\n\n        private item_on_click_listener item_on_click_listener;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n\n            show_message = itemView.findViewById(R.id.show_message);\n            profile_image = itemView.findViewById(R.id.profile_image);\n\n        }\n\n        public void setItem_on_click_listener(item_on_click_listener item_on_click_listener){\n            this.item_on_click_listener = item_on_click_listener;\n        }\n\n        @Override\n        public void onClick(View view) {\n            item_on_click_listener.onClick(view, getAdapterPosition(), false);\n            \n        }\n\n        @Override\n        public boolean onLongClick(View view) {\n            item_on_click_listener.onClick(view, getAdapterPosition(), false);\n            \n            return true;\n        }\n    }\n\n    @Override\n    public int getItemViewType(int position) {\n        i = position;\n        if(mChat.get(position).getSender() == &quot;Sender Name&quot;){\n            return MSG_TYPE_RIGHT;\n        }\n        else{\n            return MSG_TYPE_LEFT;\n        }\n\n        \n    }\n\n    @Override\n    public void onAttachedToRecyclerView(@NonNull RecyclerView recyclerView) {\n        super.onAttachedToRecyclerView(recyclerView);\n\n        recyclerView.refreshDrawableState();\n    }\n\n}\n</code></pre>\n<p>Here is the main-activity class:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    Button sendBtn;\n    ArrayList&lt;String&gt; messagesList = new ArrayList&lt;&gt;();\n\n\n    HubConnection hubConnection;\n    EditText edt_text;\n    TextView txt_received;\n\n    MessageAdapter messageAdapter;\n    List&lt;Chat&gt; mChat;\n    RecyclerView recyclerView;\n\n  \n    public void readMessages(String sender, String receiver, String message){\n        Chat chat = new Chat(sender, receiver, message);\n        mChat.add(chat);\n        messageAdapter = new MessageAdapter(MainActivity.this, mChat, &quot;default&quot;);\n        recyclerView.setAdapter(messageAdapter);\n        messageAdapter.notifyItemRangeChanged(messageAdapter.getItemCount(), mChat.size());\n       \n    }\n\n    @SuppressLint(&quot;WrongThread&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        \n      \n        recyclerView = findViewById(R.id.recyclerView);\n        recyclerView.setHasFixedSize(true);\n        LinearLayoutManager linearLayoutManager = new LinearLayoutManager(getApplicationContext());\n        linearLayoutManager.setStackFromEnd(true);\n        recyclerView.setLayoutManager(linearLayoutManager);\n        mChat = new ArrayList&lt;&gt;();\n\n\n        messageAdapter = new MessageAdapter(MainActivity.this, mChat, &quot;default&quot;);\n        recyclerView.setAdapter(messageAdapter);\n\n        sendBtn = findViewById(R.id.send_btn);\n        edt_text = findViewById(R.id.edt_text);\n\n        try {\n            hubConnection = HubConnectionBuilder.create(&quot;URL&quot;).build();\n            hubConnection.start();\n            AtomicReference&lt;String&gt; state = new AtomicReference&lt;&gt;(&quot;&quot;);\n            hubConnection.start().subscribe(() -&gt; {\n                        state.set(&quot;Connect&quot;);\n                    },\n                    error -&gt; {\n                        state.set(&quot;error&quot;);\n                    });\n\n            hubConnection.on(&quot;SendMessage&quot;, (param1, param2, param3, param4) -&gt; {\n           \n            readMessages(&quot;Sender Name&quot;, &quot;Receiver Name&quot;, &quot;Message&quot;);\n\n            }, String.class, String.class, String.class, Integer.class);\n            \n        }\n        catch (Exception e){\n            String exMessage = e.getMessage();\n        }\n\n\n        sendBtn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                try {\n                    if(edt_text.getText().toString().length() &gt; 0){\n                        if(hubConnection.getConnectionState() == HubConnectionState.DISCONNECTED){\n                            hubConnection.start();\n                        }\n                        \n                        hubConnection.send(&quot;Method Name&quot;, &quot;param1&quot;, &quot;param2&quot;, &quot;param3&quot;, &quot;param4&quot;);\n                       \n                        hubConnection.on(&quot;ReceiveMessage&quot;, (param1, param2, param3 , param4) -&gt; {\n                                                     \n                            \n                            readMessages(&quot;Sender Name&quot;, &quot;Receiver Name&quot;, &quot;Message&quot;);\n\n                        }, String.class, String.class, String.class, Integer.class);\n                        \n                    }\n                    else{\n                        edt_text.setHint(&quot;Can not be empty&quot;);\n                    }\n\n                }catch (Exception ex){\n                    String message ;\n                    message = ex.getMessage();\n                }\n            }\n        });\n\n    }\n }\n\n</code></pre>\n<p>Can anyone help me, please?</p>\n"},{"tags":["java","for-loop"],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":1,"up_vote_count":432,"is_accepted":true,"score":431,"last_activity_date":1340385016,"creation_date":1340385016,"answer_id":11160969,"question_id":11160952,"body_markdown":"    continue;\r\n\r\n`continue;` key word would start the next iteration upon invocation \r\n\r\n**For Example**\r\n\r\n    for(int i= 0 ; i &lt; 5; i++){\r\n     if(i==2){\r\n      continue;\r\n     }\r\n    System.out.print(i);\r\n    }\r\n\r\nThis will print\r\n\r\n    0134\r\n\r\n------------\r\n\r\n**See**\r\n\r\n - [Document][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","title":"GoTo Next Iteration in For Loop in java","body":"<pre><code>continue;\n</code></pre>\n\n<p><code>continue;</code> key word would start the next iteration upon invocation </p>\n\n<p><strong>For Example</strong></p>\n\n<pre><code>for(int i= 0 ; i &lt; 5; i++){\n if(i==2){\n  continue;\n }\nSystem.out.print(i);\n}\n</code></pre>\n\n<p>This will print</p>\n\n<pre><code>0134\n</code></pre>\n\n<hr>\n\n<p><strong>See</strong></p>\n\n<ul>\n<li><a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"noreferrer\">Document</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":439593,"reputation":15022,"user_id":828625,"accept_rate":88,"display_name":"Kazekage Gaara"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1340385054,"creation_date":1340385054,"answer_id":11160980,"question_id":11160952,"body_markdown":"Use the `continue` keyword. Read [here][1].\r\n\r\n&gt;The continue statement skips the current iteration of a for, while , or do-while loop.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","title":"GoTo Next Iteration in For Loop in java","body":"<p>Use the <code>continue</code> keyword. Read <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow\">here</a>.</p>\n\n<blockquote>\n  <p>The continue statement skips the current iteration of a for, while , or do-while loop.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":907854,"reputation":15741,"user_id":942391,"accept_rate":57,"display_name":"Sumit Singh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1340385563,"creation_date":1340385134,"answer_id":11161001,"question_id":11160952,"body_markdown":"use [continue][1] keyword .\r\n\r\n**EX:**\r\n\r\n    for(int i = 0; i &lt; 10; i++){\r\n      if(i == 5){\r\n        continue;\r\n       }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html","title":"GoTo Next Iteration in For Loop in java","body":"<p>use <a href=\"http://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"nofollow\">continue</a> keyword .</p>\n\n<p><strong>EX:</strong></p>\n\n<pre><code>for(int i = 0; i &lt; 10; i++){\n  if(i == 5){\n    continue;\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1355206,"reputation":33312,"user_id":1293744,"accept_rate":44,"display_name":"Kumar Vivek Mitra"},"down_vote_count":1,"up_vote_count":79,"is_accepted":false,"score":78,"last_activity_date":1628166560,"creation_date":1340385160,"answer_id":11161011,"question_id":11160952,"body_markdown":"Try this,\r\n\r\n1. If you want to skip a particular iteration, use `continue`.\r\n\r\n2. If you want to break out of the immediate loop, use `break`\r\n\r\n3. If there are 2 loop, outer and inner.... and you want to break out of both the loop from the inner loop, use break with [label][1] ([another question about label][2]).\r\n\r\n\r\n----------\r\nExample: \r\n\r\n   **continue**\r\n\r\n\r\n    for(int i=0 ; i&lt;5 ; i++){\r\n    \r\n        if (i==2){\r\n       \r\n          continue;\r\n        }\r\n     }\r\n\r\n\r\n**break**\r\n\r\n    for(int i=0 ; i&lt;5 ; i++){\r\n        \r\n            if (i==2){\r\n           \r\n              break;\r\n            }\r\n         }\r\n**break with label**\r\n\r\n    lab1: for(int j=0 ; j&lt;5 ; j++){\r\n         for(int i=0 ; i&lt;5 ; i++){\r\n        \r\n            if (i==2){\r\n           \r\n              break lab1;\r\n            }\r\n         }\r\n      }\r\n         \r\n\r\n  \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\r\n  [2]: https://stackoverflow.com/questions/14960419/is-using-a-labeled-break-a-good-practice-in-java","title":"GoTo Next Iteration in For Loop in java","body":"<p>Try this,</p>\n<ol>\n<li><p>If you want to skip a particular iteration, use <code>continue</code>.</p>\n</li>\n<li><p>If you want to break out of the immediate loop, use <code>break</code></p>\n</li>\n<li><p>If there are 2 loop, outer and inner.... and you want to break out of both the loop from the inner loop, use break with <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/branch.html\" rel=\"noreferrer\">label</a> (<a href=\"https://stackoverflow.com/questions/14960419/is-using-a-labeled-break-a-good-practice-in-java\">another question about label</a>).</p>\n</li>\n</ol>\n<hr />\n<p>Example:</p>\n<p><strong>continue</strong></p>\n<pre><code>for(int i=0 ; i&lt;5 ; i++){\n\n    if (i==2){\n   \n      continue;\n    }\n }\n</code></pre>\n<p><strong>break</strong></p>\n<pre><code>for(int i=0 ; i&lt;5 ; i++){\n    \n        if (i==2){\n       \n          break;\n        }\n     }\n</code></pre>\n<p><strong>break with label</strong></p>\n<pre><code>lab1: for(int j=0 ; j&lt;5 ; j++){\n     for(int i=0 ; i&lt;5 ; i++){\n    \n        if (i==2){\n       \n          break lab1;\n        }\n     }\n  }\n     \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1402515,"reputation":4978,"user_id":1331011,"accept_rate":100,"display_name":"Wormbo"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1340385664,"creation_date":1340385664,"answer_id":11161140,"question_id":11160952,"body_markdown":"As mentioned in all other answers, the keyword `continue` will skip to the end of the current iteration.\r\n\r\nAdditionally you can label your loop starts and then use `continue [labelname];` or `break [labelname];` to control what&#39;s going on in nested loops:\r\n\r\n    loop1: for (int i = 1; i &lt; 10; i++) {\r\n        loop2: for (int j = 1; j &lt; 10; j++) {\r\n            if (i + j == 10)\r\n                continue loop1;\r\n\r\n            System.out.print(j);\r\n        }\r\n        System.out.println();\r\n    }\r\n\r\n","title":"GoTo Next Iteration in For Loop in java","body":"<p>As mentioned in all other answers, the keyword <code>continue</code> will skip to the end of the current iteration.</p>\n\n<p>Additionally you can label your loop starts and then use <code>continue [labelname];</code> or <code>break [labelname];</code> to control what's going on in nested loops:</p>\n\n<pre><code>loop1: for (int i = 1; i &lt; 10; i++) {\n    loop2: for (int j = 1; j &lt; 10; j++) {\n        if (i + j == 10)\n            continue loop1;\n\n        System.out.print(j);\n    }\n    System.out.println();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":225705,"reputation":4446,"user_id":486332,"accept_rate":100,"display_name":"nana"},"down_vote_count":0,"up_vote_count":48,"is_accepted":false,"score":48,"last_activity_date":1414534217,"creation_date":1382734681,"answer_id":19599319,"question_id":11160952,"body_markdown":"**If you want to skip current iteration, use `continue;`.**\r\n\r\n    for(int i = 0; i &lt; 5; i++){\r\n        if (i == 2){\r\n            continue;\r\n        }\r\n     }\r\n\r\n**Need to break out of the whole loop? Use `break;`**\r\n\r\n    for(int i = 0; i &lt; 5; i++){\r\n        if (i == 2){\r\n            break;\r\n        }\r\n    }\r\n\r\n**If you need to break out of more than one loop use `break someLabel;`**\r\n\r\n    outerLoop:                                           // Label the loop\r\n    for(int j = 0; j &lt; 5; j++){\r\n         for(int i = 0; i &lt; 5; i++){\r\n            if (i==2){\r\n              break outerLoop;\r\n            }\r\n         }\r\n      }\r\n\r\n*Note that in this case you are not marking a point in code to jump to, you are labeling the loop! So after the break the code will continue right after the loop!\r\n\r\n**When you need to skip one iteration in nested loops use `continue someLabel;`, but you can also combine them all.**\r\n\r\n    outerLoop:\r\n    for(int j = 0; j &lt; 10; j++){\r\n         innerLoop:\r\n         for(int i = 0; i &lt; 10; i++){\r\n            if (i + j == 2){\r\n              continue innerLoop;\r\n            }\r\n            if (i + j == 4){\r\n              continue outerLoop;\r\n            }\r\n            if (i + j == 6){\r\n              break innerLoop;\r\n            }\r\n            if (i + j == 8){\r\n              break outerLoop;\r\n            }\r\n         }\r\n      }\r\n","title":"GoTo Next Iteration in For Loop in java","body":"<p><strong>If you want to skip current iteration, use <code>continue;</code>.</strong></p>\n\n<pre><code>for(int i = 0; i &lt; 5; i++){\n    if (i == 2){\n        continue;\n    }\n }\n</code></pre>\n\n<p><strong>Need to break out of the whole loop? Use <code>break;</code></strong></p>\n\n<pre><code>for(int i = 0; i &lt; 5; i++){\n    if (i == 2){\n        break;\n    }\n}\n</code></pre>\n\n<p><strong>If you need to break out of more than one loop use <code>break someLabel;</code></strong></p>\n\n<pre><code>outerLoop:                                           // Label the loop\nfor(int j = 0; j &lt; 5; j++){\n     for(int i = 0; i &lt; 5; i++){\n        if (i==2){\n          break outerLoop;\n        }\n     }\n  }\n</code></pre>\n\n<p>*Note that in this case you are not marking a point in code to jump to, you are labeling the loop! So after the break the code will continue right after the loop!</p>\n\n<p><strong>When you need to skip one iteration in nested loops use <code>continue someLabel;</code>, but you can also combine them all.</strong></p>\n\n<pre><code>outerLoop:\nfor(int j = 0; j &lt; 10; j++){\n     innerLoop:\n     for(int i = 0; i &lt; 10; i++){\n        if (i + j == 2){\n          continue innerLoop;\n        }\n        if (i + j == 4){\n          continue outerLoop;\n        }\n        if (i + j == 6){\n          break innerLoop;\n        }\n        if (i + j == 8){\n          break outerLoop;\n        }\n     }\n  }\n</code></pre>\n"}],"owner":{"account_id":1333956,"reputation":3177,"user_id":1277170,"accept_rate":56,"display_name":"user1277170"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":361619,"favorite_count":0,"down_vote_count":2,"up_vote_count":238,"accepted_answer_id":11160969,"answer_count":6,"score":236,"last_activity_date":1661687650,"creation_date":1340384967,"question_id":11160952,"body_markdown":"Is there a token in java that skips the rest of the for loop?\r\nSomething like [VB&#39;s Continue](http://msdn.microsoft.com/en-us/library/801hyx6f.aspx) in java.","title":"GoTo Next Iteration in For Loop in java","body":"<p>Is there a token in java that skips the rest of the for loop?\nSomething like <a href=\"http://msdn.microsoft.com/en-us/library/801hyx6f.aspx\">VB's Continue</a> in java.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1661268540,"post_id":73461344,"comment_id":129729420,"body_markdown":"Hint: use a `List&lt;IntUnaryOperator&gt;`.","body":"Hint: use a <code>List&lt;IntUnaryOperator&gt;</code>."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1661268573,"post_id":73461344,"comment_id":129729431,"body_markdown":"The proper way to do that in Java is to go through functional interfaces and then use for example method references `List&lt;Runnable&gt; tasks = List.of(Foo::printHello);` (or lambdas or anonymous classes or regular classes that implement the interface)","body":"The proper way to do that in Java is to go through functional interfaces and then use for example method references <code>List&lt;Runnable&gt; tasks = List.of(Foo::printHello);</code> (or lambdas or anonymous classes or regular classes that implement the interface)"},{"owner":{"account_id":3273747,"reputation":20856,"user_id":2756409,"accept_rate":100,"display_name":"TylerH"},"score":0,"creation_date":1661527132,"post_id":73461344,"comment_id":129800750,"body_markdown":"I&#39;m not sure why this question asking about Lists is closed as duplicates asking about Arrays. They are different entities, are they not? It seems to be the case since the answers on the targets say &quot;no&quot; but the answer here says &quot;yes&quot;.","body":"I&#39;m not sure why this question asking about Lists is closed as duplicates asking about Arrays. They are different entities, are they not? It seems to be the case since the answers on the targets say &quot;no&quot; but the answer here says &quot;yes&quot;."},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1661685834,"post_id":73461344,"comment_id":129826099,"body_markdown":"@TylerH I agree.  I reopened it.","body":"@TylerH I agree.  I reopened it."}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1661268577,"creation_date":1661268577,"answer_id":73461399,"question_id":73461344,"body_markdown":"Yes.  You can store a lambda in a list.\r\n```\r\nList&lt;Function&lt;Double, Double&gt;&gt; list = new ArrayList&lt;&gt;();\r\nlist.add(v-&gt;v*20);\r\nlist.add(v-&gt;v*30);\r\n\r\nSystem.out.println(list.get(0).apply(10.));\r\nSystem.out.println(list.get(1).apply(10.));\r\n```\r\nprints\r\n```\r\n200\r\n300","title":"Is it possible to save Java method in some Collections such as list?","body":"<p>Yes.  You can store a lambda in a list.</p>\n<pre><code>List&lt;Function&lt;Double, Double&gt;&gt; list = new ArrayList&lt;&gt;();\nlist.add(v-&gt;v*20);\nlist.add(v-&gt;v*30);\n\nSystem.out.println(list.get(0).apply(10.));\nSystem.out.println(list.get(1).apply(10.));\n</code></pre>\n<p>prints</p>\n<pre><code>200\n300\n</code></pre>\n"}],"owner":{"account_id":9113618,"reputation":633,"user_id":6781380,"accept_rate":92,"display_name":"xiaodelaoshi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":5,"up_vote_count":3,"accepted_answer_id":73461399,"answer_count":1,"score":-2,"last_activity_date":1661685777,"creation_date":1661268349,"question_id":73461344,"body_markdown":"I know that some language such as python can do this:\r\n```\r\nmaps = []\r\ncur = 1\r\nmaps.append(function)\r\nfor func in self.maps:\r\n&#160; &#160;&#160;cur = func(cur)\r\n```\r\nIt adds a function to list and can iteratively call it. I&#39;m wondering if Java can do the similar thing, if yes, how can it be done?","title":"Is it possible to save Java method in some Collections such as list?","body":"<p>I know that some language such as python can do this:</p>\n<pre><code>maps = []\ncur = 1\nmaps.append(function)\nfor func in self.maps:\n    cur = func(cur)\n</code></pre>\n<p>It adds a function to list and can iteratively call it. I'm wondering if Java can do the similar thing, if yes, how can it be done?</p>\n"},{"tags":["java","json","spring-mvc","junit4"],"answers":[{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":0,"up_vote_count":199,"is_accepted":true,"score":199,"last_activity_date":1391245108,"creation_date":1391243362,"answer_id":21495872,"question_id":21495296,"body_markdown":"Try this code:\r\n\r\n    resultActions.andDo(MockMvcResultHandlers.print());","title":"Spring MVC controller Test - print the result JSON String","body":"<p>Try this code:</p>\n\n<pre><code>resultActions.andDo(MockMvcResultHandlers.print());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":90257,"reputation":37945,"user_id":248521,"accept_rate":70,"display_name":"jax"},"down_vote_count":0,"up_vote_count":73,"is_accepted":false,"score":73,"last_activity_date":1391293780,"creation_date":1391244212,"answer_id":21495978,"question_id":21495296,"body_markdown":"The trick is to use `andReturn()`\r\n\r\n    MvcResult result = springMvc.perform(MockMvcRequestBuilders\r\n             .get(&quot;/jobsdetails/2&quot;).accept(MediaType.APPLICATION_JSON)).andReturn();\r\n    \r\n    String content = result.getResponse().getContentAsString();","title":"Spring MVC controller Test - print the result JSON String","body":"<p>The trick is to use <code>andReturn()</code></p>\n\n<pre><code>MvcResult result = springMvc.perform(MockMvcRequestBuilders\n         .get(\"/jobsdetails/2\").accept(MediaType.APPLICATION_JSON)).andReturn();\n\nString content = result.getResponse().getContentAsString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1708417,"reputation":426,"user_id":1567005,"display_name":"funkygono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1391246824,"creation_date":1391246824,"answer_id":21496314,"question_id":21495296,"body_markdown":"If you are testing the Controller, you won&#39;t get the JSon result, which is returned by the view. Whether you can test the view (or test the controller and then the view), or starting a servlet contrainer (with Cargo for example), and test at HTTP level, which is a good way to check what really happen.","title":"Spring MVC controller Test - print the result JSON String","body":"<p>If you are testing the Controller, you won't get the JSon result, which is returned by the view. Whether you can test the view (or test the controller and then the view), or starting a servlet contrainer (with Cargo for example), and test at HTTP level, which is a good way to check what really happen.</p>\n"},{"tags":[],"owner":{"account_id":1090652,"reputation":4072,"user_id":1085360,"accept_rate":73,"display_name":"Chris Sim"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1470397905,"creation_date":1470397905,"answer_id":38788576,"question_id":21495296,"body_markdown":"For me it worked when I used the code below:\r\n\r\n    ResultActions result =\r\n         this.mockMvc.perform(post(resource).sessionAttr(Constants.SESSION_USER, user).param(&quot;parameter&quot;, &quot;parameterValue&quot;))\r\n            .andExpect(status().isOk());\r\n    String content = result.andReturn().getResponse().getContentAsString();\r\n\r\nAnd it worked !! :D\r\n\r\nHope I can help the other with my answer","title":"Spring MVC controller Test - print the result JSON String","body":"<p>For me it worked when I used the code below:</p>\n\n<pre><code>ResultActions result =\n     this.mockMvc.perform(post(resource).sessionAttr(Constants.SESSION_USER, user).param(\"parameter\", \"parameterValue\"))\n        .andExpect(status().isOk());\nString content = result.andReturn().getResponse().getContentAsString();\n</code></pre>\n\n<p>And it worked !! :D</p>\n\n<p>Hope I can help the other with my answer</p>\n"},{"tags":[],"owner":{"account_id":140438,"reputation":5061,"user_id":1208276,"accept_rate":58,"display_name":"uiroshan"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1497938879,"creation_date":1497938879,"answer_id":44645066,"question_id":21495296,"body_markdown":"You can enable printing response of each test method when setting up the `MockMvc` instance.  \r\n\r\n    springMvc = MockMvcBuilders.webAppContextSetup(wContext)\r\n                   .alwaysDo(MockMvcResultHandlers.print())\r\n                   .build();\r\n\r\nNotice the `.alwaysDo(MockMvcResultHandlers.print())` part of the above code. This way you can avoid applying print handler for each test method.","title":"Spring MVC controller Test - print the result JSON String","body":"<p>You can enable printing response of each test method when setting up the <code>MockMvc</code> instance.  </p>\n\n<pre><code>springMvc = MockMvcBuilders.webAppContextSetup(wContext)\n               .alwaysDo(MockMvcResultHandlers.print())\n               .build();\n</code></pre>\n\n<p>Notice the <code>.alwaysDo(MockMvcResultHandlers.print())</code> part of the above code. This way you can avoid applying print handler for each test method.</p>\n"},{"tags":[],"owner":{"account_id":4393877,"reputation":6964,"user_id":3581539,"accept_rate":48,"display_name":"Kirill"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661685415,"creation_date":1661685415,"answer_id":73518194,"question_id":21495296,"body_markdown":"For modern projects using Spring Boot, where `MockMvc` is already pre-configured for you with a single `@WebMvcTest` &quot;slicing&quot; test annotation, the easiest answer to the question would be explicitly adding `@AutoConfigureMockMvc` with `printOnlyOnFailure = false`:\r\n\r\n```java\r\n@WebMvcTest(MyController.class)\r\n@AutoConfigureMockMvc(printOnlyOnFailure = false)\r\nclass MySlicedControllerTest {\r\n  // ...\r\n}\r\n```","title":"Spring MVC controller Test - print the result JSON String","body":"<p>For modern projects using Spring Boot, where <code>MockMvc</code> is already pre-configured for you with a single <code>@WebMvcTest</code> &quot;slicing&quot; test annotation, the easiest answer to the question would be explicitly adding <code>@AutoConfigureMockMvc</code> with <code>printOnlyOnFailure = false</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(MyController.class)\n@AutoConfigureMockMvc(printOnlyOnFailure = false)\nclass MySlicedControllerTest {\n  // ...\n}\n</code></pre>\n"}],"owner":{"account_id":2518869,"reputation":8932,"user_id":2189617,"accept_rate":68,"display_name":"iCode"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88368,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":21495872,"answer_count":6,"score":81,"last_activity_date":1661685415,"creation_date":1391238875,"question_id":21495296,"body_markdown":"Hi I have a Spring mvc controller \r\n\r\n    @RequestMapping(value = &quot;/jobsdetails/{userId}&quot;, method = RequestMethod.GET)\r\n    @ResponseBody\r\n    public List&lt;Jobs&gt; jobsDetails(@PathVariable Integer userId,HttpServletResponse response) throws IOException {\r\n    \ttry {\t\t\r\n    \t\tMap&lt;String, Object&gt; queryParams=new LinkedHashMap&lt;String, Object&gt;(); \r\n    \t\t\r\n    \t\tqueryParams.put(&quot;userId&quot;, userId);\r\n    \t\t\r\n    \t\tjobs=jobsService.findByNamedQuery(&quot;findJobsByUserId&quot;, queryParams);\r\n    \t\t\r\n    \t} catch(Exception e) {\r\n    \t\tlogger.debug(e.getMessage());\r\n    \t\tresponse.sendError(HttpServletResponse.SC_BAD_REQUEST);\r\n    \t}\r\n    \treturn jobs;\r\n    }\r\n\r\nI want to see how the JSON String will looks like when I run this. I wrote this test case\r\n\r\n    @RunWith(SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration(&quot;classpath:webapptest&quot;)\r\n    @ContextConfiguration(locations = {&quot;classpath:test-applicationcontext.xml&quot;})\r\n    public class FindJobsControllerTest {\r\n    private MockMvc springMvc;\r\n    \t\r\n    \t@Autowired\r\n    \tWebApplicationContext wContext;\r\n    \t\r\n    \t@Before\r\n    \tpublic void init() throws Exception {\r\n    \t\tspringMvc = MockMvcBuilders.webAppContextSetup(wContext).build();\r\n    \t}\r\n    \t\r\n    \t@Test\r\n    \tpublic void documentsPollingTest() throws Exception {\r\n    \t\tResultActions resultActions = springMvc.perform(MockMvcRequestBuilders.get(&quot;/jobsdetails/2&quot;).accept(MediaType.APPLICATION_JSON));\r\n    \t\t\r\n    \t\tSystem.out.println(/* Print the JSON String */); //How ?\r\n    \t}\r\n    }\r\n\r\nHow to get the JSON string?\r\n\r\nI am using Spring 3, codehause Jackson 1.8.4","title":"Spring MVC controller Test - print the result JSON String","body":"<p>Hi I have a Spring mvc controller </p>\n\n<pre><code>@RequestMapping(value = \"/jobsdetails/{userId}\", method = RequestMethod.GET)\n@ResponseBody\npublic List&lt;Jobs&gt; jobsDetails(@PathVariable Integer userId,HttpServletResponse response) throws IOException {\n    try {       \n        Map&lt;String, Object&gt; queryParams=new LinkedHashMap&lt;String, Object&gt;(); \n\n        queryParams.put(\"userId\", userId);\n\n        jobs=jobsService.findByNamedQuery(\"findJobsByUserId\", queryParams);\n\n    } catch(Exception e) {\n        logger.debug(e.getMessage());\n        response.sendError(HttpServletResponse.SC_BAD_REQUEST);\n    }\n    return jobs;\n}\n</code></pre>\n\n<p>I want to see how the JSON String will looks like when I run this. I wrote this test case</p>\n\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration(\"classpath:webapptest\")\n@ContextConfiguration(locations = {\"classpath:test-applicationcontext.xml\"})\npublic class FindJobsControllerTest {\nprivate MockMvc springMvc;\n\n    @Autowired\n    WebApplicationContext wContext;\n\n    @Before\n    public void init() throws Exception {\n        springMvc = MockMvcBuilders.webAppContextSetup(wContext).build();\n    }\n\n    @Test\n    public void documentsPollingTest() throws Exception {\n        ResultActions resultActions = springMvc.perform(MockMvcRequestBuilders.get(\"/jobsdetails/2\").accept(MediaType.APPLICATION_JSON));\n\n        System.out.println(/* Print the JSON String */); //How ?\n    }\n}\n</code></pre>\n\n<p>How to get the JSON string?</p>\n\n<p>I am using Spring 3, codehause Jackson 1.8.4</p>\n"},{"tags":["java","spring-boot","maven","csvreader"],"comments":[{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1591825304,"post_id":62313538,"comment_id":110207701,"body_markdown":"Your dependency is correct looking at https://search.maven.org/artifact/com.opencsv/opencsv/5.2/jar have you got a conflict perhaps with the Apache commons lib? http://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html","body":"Your dependency is correct looking at <a href=\"https://search.maven.org/artifact/com.opencsv/opencsv/5.2/jar\" rel=\"nofollow noreferrer\">search.maven.org/artifact/com.opencsv/opencsv/5.2/jar</a> have you got a conflict perhaps with the Apache commons lib? <a href=\"http://commons.apache.org/proper/commons-csv/apidocs/org/apache/commons/csv/CSVParser.html\" rel=\"nofollow noreferrer\">commons.apache.org/proper/commons-csv/apidocs/org/apache/&hellip;</a>"},{"owner":{"account_id":14863446,"reputation":347,"user_id":10733389,"display_name":"BobbKitty729"},"score":0,"creation_date":1591825453,"post_id":62313538,"comment_id":110207746,"body_markdown":"@RobEvans Maybe, I have ```org.apache.commons``` also as a dependency in my pom.xml","body":"@RobEvans Maybe, I have <code>org.apache.commons</code> also as a dependency in my pom.xml"},{"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"score":0,"creation_date":1591825621,"post_id":62313538,"comment_id":110207817,"body_markdown":"Seems you will have a conflict then. https://stackoverflow.com/questions/547805/exclude-all-transitive-dependencies-of-a-single-dependency might help you but you&#39;ll need to decide whether the additional opencsv lib is needed or whether the (transitive?) apache dependency is wanted","body":"Seems you will have a conflict then. <a href=\"https://stackoverflow.com/questions/547805/exclude-all-transitive-dependencies-of-a-single-dependency\" title=\"exclude all transitive dependencies of a single dependency\">stackoverflow.com/questions/547805/&hellip;</a> might help you but you&#39;ll need to decide whether the additional opencsv lib is needed or whether the (transitive?) apache dependency is wanted"}],"answers":[{"tags":[],"owner":{"account_id":20559734,"reputation":76,"user_id":15090501,"display_name":"Ariye Caspi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1634030658,"creation_date":1634030658,"answer_id":69538048,"question_id":62313538,"body_markdown":"**Had the same issue.**\r\nA right-click on the project -&gt; Maven -&gt; &#39;Reload project&#39; may probably fix it.","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p><strong>Had the same issue.</strong>\nA right-click on the project -&gt; Maven -&gt; 'Reload project' may probably fix it.</p>\n"},{"tags":[],"owner":{"account_id":18810786,"reputation":556,"user_id":13719014,"display_name":"Innomight"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1661684214,"creation_date":1661684214,"answer_id":73518074,"question_id":62313538,"body_markdown":"Commenting out lines where you used the dependency and then building the project once and reloading helps. ","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p>Commenting out lines where you used the dependency and then building the project once and reloading helps.</p>\n"}],"owner":{"account_id":14863446,"reputation":347,"user_id":10733389,"display_name":"BobbKitty729"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7088,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69538048,"answer_count":2,"score":3,"last_activity_date":1661684214,"creation_date":1591825069,"question_id":62313538,"body_markdown":"In Maven, I have quite a few dependencies that IntelliJ import. I also have the one for ```CSVReader```\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn the class that uses it, I have ```import com.opencsv.CSVParser;```. It says, &quot;Cannot resolve symbol CSVParser&quot;. It gives me an option to add library to classpath. I&#39;m hesitant to do this as last time I did this, it resolved the error but wouldn&#39;t allow me to run my Spring Boot application. Why can&#39;t the library just be imported like the other ones?","title":"How to solve &quot;java: package com.opencsv does not exist&quot; in Maven with IntelliJ?","body":"<p>In Maven, I have quite a few dependencies that IntelliJ import. I also have the one for <code>CSVReader</code></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n    &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n    &lt;version&gt;5.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>In the class that uses it, I have <code>import com.opencsv.CSVParser;</code>. It says, \"Cannot resolve symbol CSVParser\". It gives me an option to add library to classpath. I'm hesitant to do this as last time I did this, it resolved the error but wouldn't allow me to run my Spring Boot application. Why can't the library just be imported like the other ones?</p>\n"},{"tags":["java","unit-testing","console","output","user-input"],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661683675,"creation_date":1661683675,"answer_id":73518021,"question_id":73517451,"body_markdown":"There are several ways, depending on what is actually being tested and whether the class under test can be modified. From the question I&#39;ll assume that you don&#39;t want to or can&#39;t change ConsoleTalker. I also assume that running the class under test in a separate process is not an option, because it should be tested during the build process. \r\n\r\nLeaves me with PipedInputStream/PipedOutputStream, that is create a pair for each direction (read / write), redirect System.out and System.in and run ConsoleTalker in a separate thread, e. g.\r\n\r\n```\r\npublic class ConsoleTalkerTest {\r\n    private static PrintStream sOut;\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        sOut = System.out;\r\n        InputStream sIn = System.in;\r\n\r\n        try (PipedOutputStream srcOut = new PipedOutputStream();\r\n             PipedInputStream srcIn = new PipedInputStream();\r\n             PipedInputStream pis = new PipedInputStream(srcOut);\r\n             PipedOutputStream pos = new PipedOutputStream(srcIn);\r\n             BufferedReader reader = new BufferedReader(new InputStreamReader(pis));\r\n             PrintStream writer = new PrintStream(pos, true)) {\r\n        \r\n            System.setOut(new PrintStream(srcOut, true));\r\n            System.setIn(srcIn);\r\n\r\n            Thread th = new Thread(() -&gt; {\r\n                ConsoleTalker talker = new ConsoleTalker();\r\n                talker.Start();\r\n            });\r\n            th.start();\r\n\r\n            writer.println(&quot;Test&quot;);\r\n\r\n            String response = reader.readLine();\r\n            showResults(&quot;Test&quot;, response);\r\n        \r\n            writer.println(&quot;exit&quot;);\r\n            response = reader.readLine();\r\n            showResults(&quot;ABCDEF&quot;, response);\r\n        } finally {\r\n            System.setIn(sIn);\r\n            System.setOut(sOut);\r\n        }\r\n    }\r\n\r\n    static void showResults(String expected, String actual) {\r\n        if (Objects.equals(expected, actual)) {\r\n            sOut.println(&quot;Received expected answer &quot; + expected);\r\n        } else {\r\n            sOut.println(&quot;Expected &quot; + expected + &quot; but got &quot; + actual);\r\n        }\r\n    }\r\n}\r\n```","title":"Testing standard in and out in java without anticipating the user input that will be written","body":"<p>There are several ways, depending on what is actually being tested and whether the class under test can be modified. From the question I'll assume that you don't want to or can't change ConsoleTalker. I also assume that running the class under test in a separate process is not an option, because it should be tested during the build process.</p>\n<p>Leaves me with PipedInputStream/PipedOutputStream, that is create a pair for each direction (read / write), redirect System.out and System.in and run ConsoleTalker in a separate thread, e. g.</p>\n<pre><code>public class ConsoleTalkerTest {\n    private static PrintStream sOut;\n\n    public static void main(String[] args) throws Exception {\n        sOut = System.out;\n        InputStream sIn = System.in;\n\n        try (PipedOutputStream srcOut = new PipedOutputStream();\n             PipedInputStream srcIn = new PipedInputStream();\n             PipedInputStream pis = new PipedInputStream(srcOut);\n             PipedOutputStream pos = new PipedOutputStream(srcIn);\n             BufferedReader reader = new BufferedReader(new InputStreamReader(pis));\n             PrintStream writer = new PrintStream(pos, true)) {\n        \n            System.setOut(new PrintStream(srcOut, true));\n            System.setIn(srcIn);\n\n            Thread th = new Thread(() -&gt; {\n                ConsoleTalker talker = new ConsoleTalker();\n                talker.Start();\n            });\n            th.start();\n\n            writer.println(&quot;Test&quot;);\n\n            String response = reader.readLine();\n            showResults(&quot;Test&quot;, response);\n        \n            writer.println(&quot;exit&quot;);\n            response = reader.readLine();\n            showResults(&quot;ABCDEF&quot;, response);\n        } finally {\n            System.setIn(sIn);\n            System.setOut(sOut);\n        }\n    }\n\n    static void showResults(String expected, String actual) {\n        if (Objects.equals(expected, actual)) {\n            sOut.println(&quot;Received expected answer &quot; + expected);\n        } else {\n            sOut.println(&quot;Expected &quot; + expected + &quot; but got &quot; + actual);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":6991103,"reputation":295,"user_id":5360345,"display_name":"Silverman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73518021,"answer_count":1,"score":0,"last_activity_date":1661683966,"creation_date":1661678415,"question_id":73517451,"body_markdown":"I have the typical java class that reads a user input from the console, processes it, and answers accordingly. For example:\r\n- If the user types &quot;hello&quot;\r\n- The program answers &quot;Hello world!&quot;\r\n\r\netc.\r\n\r\n\r\n```\r\npublic class ConsoleTalker\r\n{\r\n    private Scanner scanner;\r\n    \r\n    public boolean continueExecution;\r\n    \r\n    public ConsoleTalker()\r\n    {\r\n        this.scanner = new Scanner(System.in);\r\n    }\r\n    \r\n    public void Start()\r\n    {\r\n        this.continueExecution = true;\r\n        \r\n        while(continueExecution)\r\n        {\r\n            String userInput = this.ReadUserInput();\r\n            \r\n            this.ExecuteAction(userInput);\r\n        }\r\n    }\r\n    \r\n    private String ReadUserInput()\r\n    {\r\n        return scanner.nextLine();\r\n    }\r\n    \r\n    private void println(String text)\r\n    {\r\n        System.out.println(text);\r\n    }\r\n\r\n    private void ExecuteAction(String userInput)\r\n    {\r\n        // ...\r\n    }\r\n```\r\n\r\nOnly the `.Start()` method is public. So you start it and the program will go on until:\r\n- The user types &quot;exit&quot;\r\n- The program answers &quot;Goodbye!&quot;, sets `continueExecuting = false` and the loop ends\r\n\r\nI want to test this class. I have followed the suggestions found in this website:\r\nhttps://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/\r\n\r\nHowever, this presents a problem, which is that I need to write all the userInput beforehand:\r\n\r\n```\r\n@Test\r\n    public void StartListening_WriteHello_AnswersHelloWorld() {\r\n        // Arrange\r\n            //here you see I need to anticipate I will write a hello and an exit during the conversation\r\n        String userInput = &quot;hello&quot; + System.lineSeparator() + &quot;exit&quot;;\r\n        String expectedAnswer1 = &quot;Hello world!&quot;;\r\n        String expectedAnswer2 = &quot;Goodbye!&quot;;\r\n        \r\n        \r\n            // Redirect standard in\r\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\r\n        System.setIn(bais);\r\n        \r\n            // Redirect standard out\r\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n        PrintStream printStream = new PrintStream(baos);\r\n        System.setOut(printStream);\r\n        \r\n        // Act\r\n        var consoleTalker = new ConsoleTalker();\r\n        consoleTalker.Start();\r\n        \r\n        // Assert\r\n        String[] lines = baos.toString().split(System.lineSeparator());\r\n        String actualAnswer1 = lines[lines.length-2];\r\n        String actualAnswer2 = lines[lines.length-1];\r\n        \r\n        Assertions.assertEquals(expectedAnswer1, actualAnswer1);\r\n        Assertions.assertEquals(expectedAnswer2, actualAnswer2);\r\n        Assertions.assertFalse(consoleTalker.continueExecution);\r\n    }\r\n```\r\n\r\n**How can I intercalate inputs and outputs during the test, back and forth? Where I read the output and I write the next simulated user input based on that output, or I compute the next expected output based on previous outputs.**\r\n\r\n**Some of the outputs from ConsoleTalker are not going to be predictable (for example, if it contains some sort of random answer, or ids). If I need to write all the userInput I will be using during the test beforehand, some scenarios are not going to be testable.**\r\n\r\nI can modify ConsoleTalker in order to make it more testable but, for the sake of the answer, please try to avoid:\r\n- turning the private methods into public.\r\n- any workaround where I anticipate the program output and can write all the user input beforehand. I really need to go back and forth in the test with the inputs and outputs.\r\n\r\n","title":"Testing standard in and out in java without anticipating the user input that will be written","body":"<p>I have the typical java class that reads a user input from the console, processes it, and answers accordingly. For example:</p>\n<ul>\n<li>If the user types &quot;hello&quot;</li>\n<li>The program answers &quot;Hello world!&quot;</li>\n</ul>\n<p>etc.</p>\n<pre><code>public class ConsoleTalker\n{\n    private Scanner scanner;\n    \n    public boolean continueExecution;\n    \n    public ConsoleTalker()\n    {\n        this.scanner = new Scanner(System.in);\n    }\n    \n    public void Start()\n    {\n        this.continueExecution = true;\n        \n        while(continueExecution)\n        {\n            String userInput = this.ReadUserInput();\n            \n            this.ExecuteAction(userInput);\n        }\n    }\n    \n    private String ReadUserInput()\n    {\n        return scanner.nextLine();\n    }\n    \n    private void println(String text)\n    {\n        System.out.println(text);\n    }\n\n    private void ExecuteAction(String userInput)\n    {\n        // ...\n    }\n</code></pre>\n<p>Only the <code>.Start()</code> method is public. So you start it and the program will go on until:</p>\n<ul>\n<li>The user types &quot;exit&quot;</li>\n<li>The program answers &quot;Goodbye!&quot;, sets <code>continueExecuting = false</code> and the loop ends</li>\n</ul>\n<p>I want to test this class. I have followed the suggestions found in this website:\n<a href=\"https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/\" rel=\"nofollow noreferrer\">https://www.danvega.dev/blog/2020/12/16/testing-standard-in-out-java/</a></p>\n<p>However, this presents a problem, which is that I need to write all the userInput beforehand:</p>\n<pre><code>@Test\n    public void StartListening_WriteHello_AnswersHelloWorld() {\n        // Arrange\n            //here you see I need to anticipate I will write a hello and an exit during the conversation\n        String userInput = &quot;hello&quot; + System.lineSeparator() + &quot;exit&quot;;\n        String expectedAnswer1 = &quot;Hello world!&quot;;\n        String expectedAnswer2 = &quot;Goodbye!&quot;;\n        \n        \n            // Redirect standard in\n        ByteArrayInputStream bais = new ByteArrayInputStream(userInput.getBytes());\n        System.setIn(bais);\n        \n            // Redirect standard out\n        ByteArrayOutputStream baos = new ByteArrayOutputStream();\n        PrintStream printStream = new PrintStream(baos);\n        System.setOut(printStream);\n        \n        // Act\n        var consoleTalker = new ConsoleTalker();\n        consoleTalker.Start();\n        \n        // Assert\n        String[] lines = baos.toString().split(System.lineSeparator());\n        String actualAnswer1 = lines[lines.length-2];\n        String actualAnswer2 = lines[lines.length-1];\n        \n        Assertions.assertEquals(expectedAnswer1, actualAnswer1);\n        Assertions.assertEquals(expectedAnswer2, actualAnswer2);\n        Assertions.assertFalse(consoleTalker.continueExecution);\n    }\n</code></pre>\n<p><strong>How can I intercalate inputs and outputs during the test, back and forth? Where I read the output and I write the next simulated user input based on that output, or I compute the next expected output based on previous outputs.</strong></p>\n<p><strong>Some of the outputs from ConsoleTalker are not going to be predictable (for example, if it contains some sort of random answer, or ids). If I need to write all the userInput I will be using during the test beforehand, some scenarios are not going to be testable.</strong></p>\n<p>I can modify ConsoleTalker in order to make it more testable but, for the sake of the answer, please try to avoid:</p>\n<ul>\n<li>turning the private methods into public.</li>\n<li>any workaround where I anticipate the program output and can write all the user input beforehand. I really need to go back and forth in the test with the inputs and outputs.</li>\n</ul>\n"},{"tags":["java","php","android","json","android-volley"],"comments":[{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682211,"post_id":73517843,"comment_id":129825429,"body_markdown":"Please clarify `mistakes in the php script `. Do you receive errors, wrong output, something else? Please add as much detail as you can.","body":"Please clarify <code>mistakes in the php script </code>. Do you receive errors, wrong output, something else? Please add as much detail as you can."},{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682308,"post_id":73517843,"comment_id":129825446,"body_markdown":"Unrelated but I&#39;ve never seen a need for `array_push`, it is the same as `$allarray[] = $row[&quot;quote_id&quot;];`.... additionally `$_POST[$key]` should be the same as `$value`.","body":"Unrelated but I&#39;ve never seen a need for <code>array_push</code>, it is the same as <code>$allarray[] = $row[&quot;quote_id&quot;];</code>.... additionally <code>$_POST[$key]</code> should be the same as <code>$value</code>."},{"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"score":0,"creation_date":1661682575,"post_id":73517843,"comment_id":129825490,"body_markdown":"D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray","body":"D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray"},{"owner":{"account_id":4671581,"reputation":5413,"user_id":3783243,"accept_rate":82,"display_name":"user3783243"},"score":0,"creation_date":1661682632,"post_id":73517843,"comment_id":129825499,"body_markdown":"Debug on the PHP side first, are you sending back JSON to the JAVA app? Please edit the question to include errors and details, https://stackoverflow.com/posts/73517843/edit.","body":"Debug on the PHP side first, are you sending back JSON to the JAVA app? Please edit the question to include errors and details, <a href=\"https://stackoverflow.com/posts/73517843/edit\">stackoverflow.com/posts/73517843/edit</a>."}],"owner":{"account_id":19005930,"reputation":31,"user_id":13872688,"display_name":"Ali Haydar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661683635,"creation_date":1661681895,"question_id":73517843,"body_markdown":"Synchronize SQLite With MySql by sending array of ids for the quotes available in the SQLite to php script that will compare it with the available in the database and receive the missing quotes\r\n\r\nthis method will work in every moment when the app started\r\n\r\nbtw i know i have mistakes in the php script for that i&#39;m asking now\r\n\r\n\r\nim facing this error !\r\n\r\n&gt;D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray\r\n\r\nthank you !\r\n\r\n   **DatabaseHelper.java**\r\n\r\n    public Map&lt;String,String&gt; readIds(){\r\n\r\n    SQLiteDatabase db=this.getReadableDatabase();\r\n\r\n    Cursor cursor=db.rawQuery(&quot;SELECT * FROM &quot;+TABLE_NAME_QUOTES,null);\r\n\r\n    Map&lt;String,String&gt; QuotesModuleArray = new HashMap&lt;String, String&gt;();\r\n    \r\n    if (cursor.moveToFirst()){\r\n\r\n        do {\r\n            QuotesModuleArray.put(&quot;quote_id&quot;+&quot;[&quot;+cursor.getString(0)+&quot;]&quot;, cursor.getString(0));\r\n\r\n        }while (cursor.moveToNext());\r\n\r\n    }\r\n\r\n    cursor.close();\r\n\r\n    return QuotesModuleArray;\r\n    }\r\n **MainActivity.java**\r\n\r\n    public void Quotes_SQLITE() throws UnsupportedEncodingException {\r\n\r\n    String url=&quot;.../android/checkquotes.php&quot;;\r\n\r\n    Map&lt;String,String&gt; arrayListQuotes;\r\n    dbHandler = new DataBaseHelper(MainActivity.this);\r\n    arrayListQuotes = dbHandler.readIds();\r\n    System.out.println(Arrays.toString(new Map[]{arrayListQuotes}));\r\n\r\n    quotesListSQLite.clear();\r\n\r\n    JsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null,\r\n            response -&gt; {\r\n\r\n\r\n                Log.e(&quot;Quotesqlite : &quot;,response.toString());\r\n\r\n\r\n                progressBar.setVisibility(View.GONE);\r\n                swipeRefreshLayout.setRefreshing(false);\r\n                for (int i = 0 ; i &lt; response.length() ; i++){\r\n                    try {\r\n\r\n                        JSONObject jsonObject = response.getJSONObject(i);\r\n\r\n                        int quote_id = jsonObject.getInt(&quot;quote_id&quot;);\r\n                        String quote_name = jsonObject.getString(&quot;quote_name&quot;);\r\n                        String quote_details = jsonObject.getString(&quot;quote_details&quot;);\r\n                        String status = jsonObject.getString(&quot;status&quot;);\r\n                        String parent_id = jsonObject.getString(&quot;parent_id&quot;);\r\n                        int language_id = jsonObject.getInt(&quot;language_id&quot;);\r\n\r\n\r\n                        QuoteSQLite quote = new QuoteSQLite(quote_id , quote_name , quote_details , status,parent_id, language_id);\r\n\r\n                        dbHandler.Add_Quote(quote_id,quote_name,quote_details, status,parent_id, language_id);\r\n\r\n                        quotesListSQLite.add(quote);\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n\r\n                }\r\n            }, new Response.ErrorListener() {\r\n        @Override\r\n        public void onErrorResponse(VolleyError error) {\r\n            Toast.makeText(context, error.getMessage()+&quot;&quot;, Toast.LENGTH_SHORT).show();\r\n            Log.d(&quot;error&quot;,error.getMessage()+&quot;&quot;);\r\n            if((error.getMessage()+&quot;&quot;).equals(&quot;null&quot;)) {\r\n                try {\r\n                    Quotes_SQLITE();\r\n                } catch (UnsupportedEncodingException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n\r\n        }\r\n    })\r\n    {\r\n        @Override\r\n        protected Map&lt;String, String&gt; getParams() {\r\n\r\n            Map&lt;String, String&gt; params;\r\n            params=arrayListQuotes;\r\n\r\n           \r\n            return params;\r\n        }\r\n    };\r\n\r\n    requestQueue.add(jsonArrayRequest);\r\n\r\n      }\r\n\r\n **PHP Script**\r\n\r\n    &lt;?php \r\n    header(&#39;Content-Type: application/json; charset=utf-8&#39;);\r\n\r\n    define(&#39;DB_HOST&#39;, &#39;localhost&#39;);\r\n    define(&#39;DB_USER&#39;, &#39;ibnabita_alihaydar&#39;);\r\n    define(&#39;DB_PASS&#39;, &#39;81336874&#39;);\r\n    define(&#39;DB_NAME&#39;, &#39;ibnabita_secure_imam&#39;);\r\n\r\n    $conn = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME);\r\n    mysqli_query($conn,&quot;SET NAMES &#39;utf8&#39;&quot;);\r\n    mysqli_query($conn,&#39;SET CHARACTER SET utf8&#39;);\r\n\r\n\r\n    $allarray = array();\r\n    $toaddarray = array();\r\n    $flag = [];\r\n    $i = 0 ;\r\n    if(mysqli_connect_error($conn))\r\n    {\r\n     echo &quot;Failed to connect to database &quot;.mysqli_connect_error();\r\n    }\r\n\r\n\r\n    $sql=&quot;select quote_id from quotes&quot;;\r\n\r\n    $result2=mysqli_query($conn,$sql);\r\n    if($result2)\r\n    {\r\n    while($row=mysqli_fetch_array($result2,MYSQLI_BOTH))\r\n    {\r\n    array_push($allarray,$row[&quot;quote_id&quot;]);\r\n    }\r\n    }\r\n\r\n    $ids = array();\r\n\r\n    foreach($_POST as $key=&gt;$value){\r\n    $ids[] = $_POST[$key];\r\n    }\r\n\r\n\r\n     $data = json_decode($ids,true);\r\n\r\n     foreach($data as $item) { //foreach element in $arr\r\n\r\n     echo $item.&quot;\\n&quot; ;\r\n \r\n     }\r\n\r\n\r\n    foreach($allarray as $item) { //foreach element in $arr\r\n    //echo $item.&quot;\\n&quot; ;\r\n\r\n    if(in_array( $item ,$data))\r\n    {\r\n   \r\n    \r\n    }\r\n    else\r\n    {\r\n    $sql23=&quot;select * from quotes where quote_id=&quot;.$item;\r\n    $result23=mysqli_query($conn,$sql23);\r\n    $row23=mysqli_fetch_array($result23,MYSQLI_BOTH);\r\n    $flag[]=$row23;\r\n\r\n     }\r\n\r\n     }\r\n     print(json_encode($flag,JSON_UNESCAPED_UNICODE));\r\n\r\n\r\n\r\n     mysqli_close($conn); \r\n\r\n     ?&gt;","title":"Synchronize SQLite With MySql by sending array of available quotes and receive the missing Android Java","body":"<p>Synchronize SQLite With MySql by sending array of ids for the quotes available in the SQLite to php script that will compare it with the available in the database and receive the missing quotes</p>\n<p>this method will work in every moment when the app started</p>\n<p>btw i know i have mistakes in the php script for that i'm asking now</p>\n<p>im facing this error !</p>\n<blockquote>\n<p>D/error: org.json.JSONException: Value Arraynull of type java.lang.String cannot be converted to JSONArray</p>\n</blockquote>\n<p>thank you !</p>\n<p><strong>DatabaseHelper.java</strong></p>\n<pre><code>public Map&lt;String,String&gt; readIds(){\n\nSQLiteDatabase db=this.getReadableDatabase();\n\nCursor cursor=db.rawQuery(&quot;SELECT * FROM &quot;+TABLE_NAME_QUOTES,null);\n\nMap&lt;String,String&gt; QuotesModuleArray = new HashMap&lt;String, String&gt;();\n\nif (cursor.moveToFirst()){\n\n    do {\n        QuotesModuleArray.put(&quot;quote_id&quot;+&quot;[&quot;+cursor.getString(0)+&quot;]&quot;, cursor.getString(0));\n\n    }while (cursor.moveToNext());\n\n}\n\ncursor.close();\n\nreturn QuotesModuleArray;\n}\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public void Quotes_SQLITE() throws UnsupportedEncodingException {\n\nString url=&quot;.../android/checkquotes.php&quot;;\n\nMap&lt;String,String&gt; arrayListQuotes;\ndbHandler = new DataBaseHelper(MainActivity.this);\narrayListQuotes = dbHandler.readIds();\nSystem.out.println(Arrays.toString(new Map[]{arrayListQuotes}));\n\nquotesListSQLite.clear();\n\nJsonArrayRequest jsonArrayRequest = new JsonArrayRequest(Request.Method.GET, url, null,\n        response -&gt; {\n\n\n            Log.e(&quot;Quotesqlite : &quot;,response.toString());\n\n\n            progressBar.setVisibility(View.GONE);\n            swipeRefreshLayout.setRefreshing(false);\n            for (int i = 0 ; i &lt; response.length() ; i++){\n                try {\n\n                    JSONObject jsonObject = response.getJSONObject(i);\n\n                    int quote_id = jsonObject.getInt(&quot;quote_id&quot;);\n                    String quote_name = jsonObject.getString(&quot;quote_name&quot;);\n                    String quote_details = jsonObject.getString(&quot;quote_details&quot;);\n                    String status = jsonObject.getString(&quot;status&quot;);\n                    String parent_id = jsonObject.getString(&quot;parent_id&quot;);\n                    int language_id = jsonObject.getInt(&quot;language_id&quot;);\n\n\n                    QuoteSQLite quote = new QuoteSQLite(quote_id , quote_name , quote_details , status,parent_id, language_id);\n\n                    dbHandler.Add_Quote(quote_id,quote_name,quote_details, status,parent_id, language_id);\n\n                    quotesListSQLite.add(quote);\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n\n            }\n        }, new Response.ErrorListener() {\n    @Override\n    public void onErrorResponse(VolleyError error) {\n        Toast.makeText(context, error.getMessage()+&quot;&quot;, Toast.LENGTH_SHORT).show();\n        Log.d(&quot;error&quot;,error.getMessage()+&quot;&quot;);\n        if((error.getMessage()+&quot;&quot;).equals(&quot;null&quot;)) {\n            try {\n                Quotes_SQLITE();\n            } catch (UnsupportedEncodingException e) {\n                e.printStackTrace();\n            }\n        }\n\n    }\n})\n{\n    @Override\n    protected Map&lt;String, String&gt; getParams() {\n\n        Map&lt;String, String&gt; params;\n        params=arrayListQuotes;\n\n       \n        return params;\n    }\n};\n\nrequestQueue.add(jsonArrayRequest);\n\n  }\n</code></pre>\n<p><strong>PHP Script</strong></p>\n<pre><code>&lt;?php \nheader('Content-Type: application/json; charset=utf-8');\n\ndefine('DB_HOST', 'localhost');\ndefine('DB_USER', 'ibnabita_alihaydar');\ndefine('DB_PASS', '81336874');\ndefine('DB_NAME', 'ibnabita_secure_imam');\n\n$conn = mysqli_connect(DB_HOST, DB_USER, DB_PASS, DB_NAME);\nmysqli_query($conn,&quot;SET NAMES 'utf8'&quot;);\nmysqli_query($conn,'SET CHARACTER SET utf8');\n\n\n$allarray = array();\n$toaddarray = array();\n$flag = [];\n$i = 0 ;\nif(mysqli_connect_error($conn))\n{\n echo &quot;Failed to connect to database &quot;.mysqli_connect_error();\n}\n\n\n$sql=&quot;select quote_id from quotes&quot;;\n\n$result2=mysqli_query($conn,$sql);\nif($result2)\n{\nwhile($row=mysqli_fetch_array($result2,MYSQLI_BOTH))\n{\narray_push($allarray,$row[&quot;quote_id&quot;]);\n}\n}\n\n$ids = array();\n\nforeach($_POST as $key=&gt;$value){\n$ids[] = $_POST[$key];\n}\n\n\n $data = json_decode($ids,true);\n\n foreach($data as $item) { //foreach element in $arr\n\n echo $item.&quot;\\n&quot; ;\n\n }\n\n\nforeach($allarray as $item) { //foreach element in $arr\n//echo $item.&quot;\\n&quot; ;\n\nif(in_array( $item ,$data))\n{\n\n\n}\nelse\n{\n$sql23=&quot;select * from quotes where quote_id=&quot;.$item;\n$result23=mysqli_query($conn,$sql23);\n$row23=mysqli_fetch_array($result23,MYSQLI_BOTH);\n$flag[]=$row23;\n\n }\n\n }\n print(json_encode($flag,JSON_UNESCAPED_UNICODE));\n\n\n\n mysqli_close($conn); \n\n ?&gt;\n</code></pre>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661682498,"creation_date":1661682498,"answer_id":73517903,"question_id":73517764,"body_markdown":"From [EmbeddedId][1]:\r\n\r\n&gt; Relationship mappings defined within an embedded id class are not supported.\r\n\r\nWhat you need to do is replace the `User` field with a field for the user&#39;s id (`private long userId`), then use [MapsId][2] in your `PersonalScore` class to add a relation with `User` using the `userId` field from the embedded id.\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EmbeddedId.html\r\n  [2]: https://javaee.github.io/javaee-spec/javadocs/javax/persistence/MapsId.html","title":"Can&#39;t create composite primary key: Unable to build Hibernate SessionFactory","body":"<p>From <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/EmbeddedId.html\" rel=\"nofollow noreferrer\">EmbeddedId</a>:</p>\n<blockquote>\n<p>Relationship mappings defined within an embedded id class are not supported.</p>\n</blockquote>\n<p>What you need to do is replace the <code>User</code> field with a field for the user's id (<code>private long userId</code>), then use <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/persistence/MapsId.html\" rel=\"nofollow noreferrer\">MapsId</a> in your <code>PersonalScore</code> class to add a relation with <code>User</code> using the <code>userId</code> field from the embedded id.</p>\n"}],"owner":{"account_id":13429807,"reputation":1816,"user_id":9689945,"display_name":"hhrzc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73517903,"answer_count":1,"score":0,"last_activity_date":1661682498,"creation_date":1661681259,"question_id":73517764,"body_markdown":"I try to create a composite primary key but can&#39;t.\r\n\r\nMy attempt (there is the [tutorial][1] I used):\r\n\r\n- User entity:\r\n```java\r\n@Entity\r\n@Table(name = &quot;user&quot;)\r\npublic class User {\r\n\r\n    @Id\r\n    @Column\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    @Column\r\n    private String name;\r\n\r\n    //getters, setters, equals, hashcode\r\n}\r\n```\r\n\r\n- PersonalScore class:\r\n```java\r\n@Entity\r\npublic class PersonalScore {\r\n\r\n    @EmbeddedId\r\n    private PersonalScoreId personalScoreId;\r\n    //getters, setters, equals, hashcode, constructors\r\n}\r\n```\r\n\r\n- PersonalScoreId class (Primary key):\r\n\r\n```java\r\n@Embeddable\r\npublic class PersonalScoreId implements Serializable {\r\n    \r\n    private User user;\r\n    private Date date;\r\n\r\n    //getters, setters, equals, hashcode, constructors (noargs included)\r\n\r\n```\r\n\r\nThat&#39;s all. In the result I got the error:\r\n\r\n```\r\n\r\n&gt; Caused by: javax.persistence.PersistenceException: [PersistenceUnit:\r\n&gt; default] Unable to build Hibernate SessionFactory; nested exception is\r\n&gt; org.hibernate.MappingException: Could not determine type for:\r\n&gt; com...model.dto.User, at table: personal_score, for columns:\r\n&gt; [org.hibernate.mapping.Column(user)]\r\n\r\n```\r\n\r\n\r\n  [1]: https://Caused%20by:%20javax.persistence.PersistenceException:%20[PersistenceUnit:%20default]%20Unable%20to%20build%20Hibernate%20SessionFactory;%20nested%20exception%20is%20org.hibernate.MappingException:%20Could%20not%20determine%20type%20for:%20com.hltr.deardiary.model.dto.User,%20at%20table:%20personal_score,%20for%20columns:%20[org.hibernate.mapping.Column(user)]","title":"Can&#39;t create composite primary key: Unable to build Hibernate SessionFactory","body":"<p>I try to create a composite primary key but can't.</p>\n<p>My attempt (there is the <a href=\"https://Caused%20by:%20javax.persistence.PersistenceException:%20%5BPersistenceUnit:%20default%5D%20Unable%20to%20build%20Hibernate%20SessionFactory;%20nested%20exception%20is%20org.hibernate.MappingException:%20Could%20not%20determine%20type%20for:%20com.hltr.deardiary.model.dto.User,%20at%20table:%20personal_score,%20for%20columns:%20%5Borg.hibernate.mapping.Column(user)%5D\" rel=\"nofollow noreferrer\">tutorial</a> I used):</p>\n<ul>\n<li>User entity:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;user&quot;)\npublic class User {\n\n    @Id\n    @Column\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    @Column\n    private String name;\n\n    //getters, setters, equals, hashcode\n}\n</code></pre>\n<ul>\n<li>PersonalScore class:</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class PersonalScore {\n\n    @EmbeddedId\n    private PersonalScoreId personalScoreId;\n    //getters, setters, equals, hashcode, constructors\n}\n</code></pre>\n<ul>\n<li>PersonalScoreId class (Primary key):</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class PersonalScoreId implements Serializable {\n    \n    private User user;\n    private Date date;\n\n    //getters, setters, equals, hashcode, constructors (noargs included)\n\n</code></pre>\n<p>That's all. In the result I got the error:</p>\n<pre><code>\n&gt; Caused by: javax.persistence.PersistenceException: [PersistenceUnit:\n&gt; default] Unable to build Hibernate SessionFactory; nested exception is\n&gt; org.hibernate.MappingException: Could not determine type for:\n&gt; com...model.dto.User, at table: personal_score, for columns:\n&gt; [org.hibernate.mapping.Column(user)]\n\n</code></pre>\n"},{"tags":["java","oop","object","serialization","stream"],"comments":[{"owner":{"account_id":16519,"reputation":10181,"user_id":36071,"accept_rate":68,"display_name":"Yoni"},"score":0,"creation_date":1265752093,"post_id":2232759,"comment_id":2188260,"body_markdown":"Do you mean serializing classes, or objects?","body":"Do you mean serializing classes, or objects?"},{"owner":{"account_id":55654,"reputation":90563,"user_id":166712,"accept_rate":100,"display_name":"Anthony Forloney"},"score":8,"creation_date":1265752433,"post_id":2232759,"comment_id":2188292,"body_markdown":"He &quot;wasn&#39;t convinced&quot; they answered his questions.","body":"He &quot;wasn&#39;t convinced&quot; they answered his questions."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":5,"creation_date":1265753654,"post_id":2232759,"comment_id":2188446,"body_markdown":"The answers provided were, in fact, correct. If they don&#39;t work for you, reply to them as comments and try to work it out instead of just ignoring them and then starting to flame others when they point out you&#39;re not using SO right.","body":"The answers provided were, in fact, correct. If they don&#39;t work for you, reply to them as comments and try to work it out instead of just ignoring them and then starting to flame others when they point out you&#39;re not using SO right."},{"owner":{"account_id":69531,"reputation":1950,"user_id":202224,"accept_rate":81,"display_name":"David"},"score":0,"creation_date":1265753733,"post_id":2232759,"comment_id":2188461,"body_markdown":"No article should convince you to use serialisation. If you need it to solve a problem that need is what will convince you to use it. The articles just need to help you use it correctly.","body":"No article should convince you to use serialisation. If you need it to solve a problem that need is what will convince you to use it. The articles just need to help you use it correctly."},{"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"score":0,"creation_date":1265754131,"post_id":2232759,"comment_id":2188513,"body_markdown":"@Anon: Did you pay attention to the post date of my posts? I tried getting an answer for almost over a month for the same problem I was having and I was getting the same answer from the same people. I don&#39;t see how you are using SO right, I will say it one more time, mind your business, if you can&#39;t contribute anything positive then don&#39;t contribute anything.","body":"@Anon: Did you pay attention to the post date of my posts? I tried getting an answer for almost over a month for the same problem I was having and I was getting the same answer from the same people. I don&#39;t see how you are using SO right, I will say it one more time, mind your business, if you can&#39;t contribute anything positive then don&#39;t contribute anything."},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":0,"creation_date":1265754516,"post_id":2232759,"comment_id":2188542,"body_markdown":"If we look at this question: http://stackoverflow.com/questions/1941775/utf8-encoded-xhtml-content-in-jsp\n\nYou got an answer which answered the question posted, and just ignored it.","body":"If we look at this question: <a href=\"http://stackoverflow.com/questions/1941775/utf8-encoded-xhtml-content-in-jsp\" title=\"utf8 encoded xhtml content in jsp\">stackoverflow.com/questions/1941775/&hellip;</a>  You got an answer which answered the question posted, and just ignored it."},{"owner":{"account_id":67242,"reputation":3450,"user_id":196852,"accept_rate":85,"display_name":"Chris"},"score":4,"creation_date":1265754574,"post_id":2232759,"comment_id":2188547,"body_markdown":"Anon is contributing to the quality of the site by discouraging duplicate questions. It&#39;s silly to see five separate questions that are all asking the same thing. If you can&#39;t get an answer, well sometimes that&#39;s just how it is. If you get an answer but it doesn&#39;t seem to work, then continue the discussion in comments. SO is not a magic box that will magically give you an answer if you just ask the right question, or ask enough times, or catch the eye of the right expert.","body":"Anon is contributing to the quality of the site by discouraging duplicate questions. It&#39;s silly to see five separate questions that are all asking the same thing. If you can&#39;t get an answer, well sometimes that&#39;s just how it is. If you get an answer but it doesn&#39;t seem to work, then continue the discussion in comments. SO is not a magic box that will magically give you an answer if you just ask the right question, or ask enough times, or catch the eye of the right expert."},{"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"score":0,"creation_date":1265755281,"post_id":2232759,"comment_id":2188640,"body_markdown":"@Anon: I see, so what should I do now? mark it correct/accept it? Since you somehow know that the posted answer &quot;answered&quot; my question, would you be kind enough to tell me what should be my next step in order to comply with SO rules?","body":"@Anon: I see, so what should I do now? mark it correct/accept it? Since you somehow know that the posted answer &quot;answered&quot; my question, would you be kind enough to tell me what should be my next step in order to comply with SO rules?"},{"owner":{"account_id":78982,"reputation":59009,"user_id":224346,"display_name":"Anon."},"score":1,"creation_date":1265755693,"post_id":2232759,"comment_id":2188684,"body_markdown":"Either: (Accept the answer) or (Post a comment and/or amend the question explaining why it&#39;s not what you need).","body":"Either: (Accept the answer) or (Post a comment and/or amend the question explaining why it&#39;s not what you need)."},{"owner":{"account_id":1387192,"reputation":61110,"user_id":1318946,"accept_rate":52,"display_name":"Pratik Butani"},"score":0,"creation_date":1374812927,"post_id":2232759,"comment_id":26097425,"body_markdown":"Its better explain here : http://www.vogella.com/articles/JavaSerialization/article.html","body":"Its better explain here : <a href=\"http://www.vogella.com/articles/JavaSerialization/article.html\" rel=\"nofollow noreferrer\">vogella.com/articles/JavaSerialization/article.html</a>"},{"owner":{"account_id":415074,"reputation":14411,"user_id":789657,"accept_rate":84,"display_name":"Simon"},"score":1,"creation_date":1388093895,"post_id":2232759,"comment_id":31168202,"body_markdown":"No-one seems to have pointed out that you do not serialise a class, you serialise an object which represents an instance of a class. Perhaps that helps to see why it&#39;s useful?","body":"No-one seems to have pointed out that you do not serialise a class, you serialise an object which represents an instance of a class. Perhaps that helps to see why it&#39;s useful?"}],"answers":[{"tags":[],"owner":{"account_id":57685,"reputation":1790,"user_id":172821,"accept_rate":40,"display_name":"ddyer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1265752096,"creation_date":1265752096,"answer_id":2232777,"question_id":2232759,"body_markdown":"The most obvious is that you can transmit the serialized class over a network,\r\nand the recepient can construct a duplicate of the original instanstance.  Likewise,\r\nyou can save a serialized structure to a file system.\r\n\r\nAlso, note that serialization is recursive, so you can serialize an entire heterogenous\r\ndata structure in one swell foop, if desired.\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>The most obvious is that you can transmit the serialized class over a network,\nand the recepient can construct a duplicate of the original instanstance.  Likewise,\nyou can save a serialized structure to a file system.</p>\n\n<p>Also, note that serialization is recursive, so you can serialize an entire heterogenous\ndata structure in one swell foop, if desired.</p>\n"},{"tags":[],"owner":{"account_id":28874,"reputation":12117,"user_id":2352432,"accept_rate":74,"display_name":"Pool"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1509602285,"creation_date":1265752189,"answer_id":2232790,"question_id":2232759,"body_markdown":"&lt;a href=&quot;http://oreilly.com/catalog/javarmi/chapter/ch10.html&quot;&gt;In essense&lt;/a&gt;:\r\n\r\n&gt; Serialization is the process of\r\n&gt; converting a set of object instances\r\n&gt; that contain references to each other\r\n&gt; into a linear stream of bytes, which\r\n&gt; can then be sent through a socket,\r\n&gt; stored to a file, or simply\r\n&gt; manipulated as a stream of data\r\n\r\nSee uses from &lt;a href=&quot;http://en.wikipedia.org/wiki/Serialization&quot;&gt;Wiki&lt;/a&gt;:\r\n\r\nSerialization has a number of advantages. It provides:\r\n\r\n&gt;  1. a method of persisting objects which\r\n&gt;     is more convenient than writing\r\n&gt;     their properties to a text file on\r\n&gt;     disk, and re-assembling them by\r\n&gt;     reading this back in.\r\n&gt;  2. a method of\r\n&gt;     issuing remote procedure calls,\r\n&gt;     e.g., as in SOAP\r\n&gt;  3. a method for\r\n&gt;     distributing objects, especially in\r\n&gt;     software componentry such as COM,\r\n&gt;     CORBA, etc. \r\n&gt;  4. a method for detecting\r\n&gt;     changes in time-varying data.","title":"What is the purpose of Serialization in Java?","body":"<p><a href=\"http://oreilly.com/catalog/javarmi/chapter/ch10.html\" rel=\"nofollow noreferrer\">In essense</a>:</p>\n\n<blockquote>\n  <p>Serialization is the process of\n  converting a set of object instances\n  that contain references to each other\n  into a linear stream of bytes, which\n  can then be sent through a socket,\n  stored to a file, or simply\n  manipulated as a stream of data</p>\n</blockquote>\n\n<p>See uses from <a href=\"http://en.wikipedia.org/wiki/Serialization\" rel=\"nofollow noreferrer\">Wiki</a>:</p>\n\n<p>Serialization has a number of advantages. It provides:</p>\n\n<blockquote>\n  <ol>\n  <li>a method of persisting objects which\n  is more convenient than writing\n  their properties to a text file on\n  disk, and re-assembling them by\n  reading this back in.</li>\n  <li>a method of\n  issuing remote procedure calls,\n  e.g., as in SOAP</li>\n  <li>a method for\n  distributing objects, especially in\n  software componentry such as COM,\n  CORBA, etc. </li>\n  <li>a method for detecting\n  changes in time-varying data.</li>\n  </ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265752301,"creation_date":1265752301,"answer_id":2232804,"question_id":2232759,"body_markdown":"Serialized objects maintain state in space, they can be transferred over the network, file system, etc... and time, they can outlive the JVM that created them. \r\n\r\nSometimes this is useful.","title":"What is the purpose of Serialization in Java?","body":"<p>Serialized objects maintain state in space, they can be transferred over the network, file system, etc... and time, they can outlive the JVM that created them. </p>\n\n<p>Sometimes this is useful.</p>\n"},{"tags":[],"owner":{"account_id":32417,"reputation":40343,"user_id":89989,"accept_rate":74,"display_name":"Gordon Gustafson"},"down_vote_count":0,"up_vote_count":72,"is_accepted":false,"score":72,"last_activity_date":1400522160,"creation_date":1265752558,"answer_id":2232824,"question_id":2232759,"body_markdown":"While you&#39;re running your application, all of its objects are stored in memory (RAM). When you exit, that memory gets reclaimed by the operating system, and your program essentially &#39;forgets&#39; everything that happened while it was running. Serialization remedies this by letting your application save objects to disk so it can read them back the next time it starts. If your application is going to provide any way of saving/sharing a previous state, you&#39;ll need some form of serialization.\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>While you're running your application, all of its objects are stored in memory (RAM). When you exit, that memory gets reclaimed by the operating system, and your program essentially 'forgets' everything that happened while it was running. Serialization remedies this by letting your application save objects to disk so it can read them back the next time it starts. If your application is going to provide any way of saving/sharing a previous state, you'll need some form of serialization.</p>\n"},{"tags":[],"owner":{"account_id":100026,"reputation":2141,"user_id":269844,"display_name":"Schmelter"},"down_vote_count":0,"up_vote_count":203,"is_accepted":true,"score":203,"last_activity_date":1265752594,"creation_date":1265752594,"answer_id":2232828,"question_id":2232759,"body_markdown":"Let&#39;s define serialization first, then we can talk about why it&#39;s so useful.\r\n\r\nSerialization is simply turning an existing object into a byte array.  This byte array represents the class of the object, the version of the object, and the internal state of the object.  This byte array can then be used between JVM&#39;s running the same code to transmit/read the object.\r\n\r\nWhy would we want to do this?\r\n\r\nThere are several reasons:\r\n\r\n- Communication: If you have two machines that are running the same code, and they need to communicate, an easy way is for one machine to build an object with information that it would like to transmit, and then serialize that object to the other machine.  It&#39;s not the best method for communication, but it gets the job done.\r\n\r\n- Persistence: If you want to store the state of a particular operation in a database, it can be easily serialized to a byte array, and stored in the database for later retrieval.\r\n\r\n- Deep Copy: If you need an *exact* replica of an Object, and don&#39;t want to go to the trouble of writing your own specialized clone() class, simply serializing the object to a byte array, and then de-serializing it to another object achieves this goal.\r\n\r\n- Caching: Really just an application of the above, but sometimes an object takes 10 minutes to build, but would only take 10 seconds to de-serialize.  So, rather than hold onto the giant object in memory, just cache it out to a file via serialization, and read it in later when it&#39;s needed.\r\n\r\n- Cross JVM Synchronization: Serialization works across different JVMs that may be running on different architectures.","title":"What is the purpose of Serialization in Java?","body":"<p>Let's define serialization first, then we can talk about why it's so useful.</p>\n\n<p>Serialization is simply turning an existing object into a byte array.  This byte array represents the class of the object, the version of the object, and the internal state of the object.  This byte array can then be used between JVM's running the same code to transmit/read the object.</p>\n\n<p>Why would we want to do this?</p>\n\n<p>There are several reasons:</p>\n\n<ul>\n<li><p>Communication: If you have two machines that are running the same code, and they need to communicate, an easy way is for one machine to build an object with information that it would like to transmit, and then serialize that object to the other machine.  It's not the best method for communication, but it gets the job done.</p></li>\n<li><p>Persistence: If you want to store the state of a particular operation in a database, it can be easily serialized to a byte array, and stored in the database for later retrieval.</p></li>\n<li><p>Deep Copy: If you need an <em>exact</em> replica of an Object, and don't want to go to the trouble of writing your own specialized clone() class, simply serializing the object to a byte array, and then de-serializing it to another object achieves this goal.</p></li>\n<li><p>Caching: Really just an application of the above, but sometimes an object takes 10 minutes to build, but would only take 10 seconds to de-serialize.  So, rather than hold onto the giant object in memory, just cache it out to a file via serialization, and read it in later when it's needed.</p></li>\n<li><p>Cross JVM Synchronization: Serialization works across different JVMs that may be running on different architectures.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":939794,"reputation":2423,"user_id":968064,"accept_rate":86,"display_name":"Rushdi Shams"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1441867329,"creation_date":1412871056,"answer_id":26283126,"question_id":2232759,"body_markdown":"I can share my story and I hope it will give some ideas why serialization is necessary. However, the answers to your question are already remarkably detail.\r\n\r\nI had several projects that need to load and read a bunch of text files. The files contained stop words, biomedical verbs, biomedical abbreviations, words semantically connected to each other, etc. The contents of these files are simple: **words**! \r\n\r\nNow for each project, I needed to read the words from each of these files and put them into different arrays; as the contents of the file never changed, it became a common, however redundant, task after the first project. \r\n\r\nSo, what I did is that I created one object to read each of these files and to populate individual arrays (instance variables of the objects). Then I serialized the objects and then for the later projects, I simply deserialized them. I didn&#39;t have to read the files and populate the arrays again and again.","title":"What is the purpose of Serialization in Java?","body":"<p>I can share my story and I hope it will give some ideas why serialization is necessary. However, the answers to your question are already remarkably detail.</p>\n\n<p>I had several projects that need to load and read a bunch of text files. The files contained stop words, biomedical verbs, biomedical abbreviations, words semantically connected to each other, etc. The contents of these files are simple: <strong>words</strong>! </p>\n\n<p>Now for each project, I needed to read the words from each of these files and put them into different arrays; as the contents of the file never changed, it became a common, however redundant, task after the first project. </p>\n\n<p>So, what I did is that I created one object to read each of these files and to populate individual arrays (instance variables of the objects). Then I serialized the objects and then for the later projects, I simply deserialized them. I didn't have to read the files and populate the arrays again and again.</p>\n"},{"tags":[],"owner":{"account_id":5374830,"reputation":9,"user_id":4282124,"display_name":"Ron Norman"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1416670756,"creation_date":1416670756,"answer_id":27079162,"question_id":2232759,"body_markdown":"I use serialized objects to standardize the arguments I pass to functions or class constructors.  Passing one serialized bean is much cleaner than a long list of arguments.  The result is code that is easier to read and debug.","title":"What is the purpose of Serialization in Java?","body":"<p>I use serialized objects to standardize the arguments I pass to functions or class constructors.  Passing one serialized bean is much cleaner than a long list of arguments.  The result is code that is easier to read and debug.</p>\n"},{"tags":[],"owner":{"account_id":5305974,"reputation":189,"user_id":4233869,"accept_rate":41,"display_name":"JCoder"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1427405478,"creation_date":1427405478,"answer_id":29289268,"question_id":2232759,"body_markdown":"   For the simple purpose of learning (notice, I said learning, I did not say best, or even good, but just for the sake of understanding stuff), you could save your data to a text file on the computer, then have a program that reads that info, and based on the file, you could have your program respond differently. If you were more advanced, it wouldn&#39;t necessarily have to be a txt file, but something else.\r\n\r\n   Serializing on the other hand, puts things directly into computer language. It&#39;s like you&#39;re telling a Spanish computer something in Spanish, rather than telling it something in French, forcing it to learn French, then save things into its native Spanish by translating everything. Not the most tech-intensive answer, I&#39;m just trying to create an understandable example in a common language format. \r\n\r\n   Serialization is also faster, because in Java, objects are handled on the heap, and take much longer than if they were represented as primitives on the stack. Speed, speed, speed. And less file processing from a programmer point of view.","title":"What is the purpose of Serialization in Java?","body":"<p>For the simple purpose of learning (notice, I said learning, I did not say best, or even good, but just for the sake of understanding stuff), you could save your data to a text file on the computer, then have a program that reads that info, and based on the file, you could have your program respond differently. If you were more advanced, it wouldn't necessarily have to be a txt file, but something else.</p>\n\n<p>Serializing on the other hand, puts things directly into computer language. It's like you're telling a Spanish computer something in Spanish, rather than telling it something in French, forcing it to learn French, then save things into its native Spanish by translating everything. Not the most tech-intensive answer, I'm just trying to create an understandable example in a common language format. </p>\n\n<p>Serialization is also faster, because in Java, objects are handled on the heap, and take much longer than if they were represented as primitives on the stack. Speed, speed, speed. And less file processing from a programmer point of view.</p>\n"},{"tags":[],"owner":{"account_id":4063743,"reputation":39,"user_id":3339502,"display_name":"dar24"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661681396,"creation_date":1661681396,"answer_id":73517782,"question_id":2232759,"body_markdown":"One of the classical example where serialization is used in daily life is &quot;Save Game&quot; option in any computer games. When player decides save his progress in the game then the application writes the saved state of the game into a file via serialization and when player &quot;Load Game&quot; the serialized file is read and Game state is re-created. ","title":"What is the purpose of Serialization in Java?","body":"<p>One of the classical example where serialization is used in daily life is &quot;Save Game&quot; option in any computer games. When player decides save his progress in the game then the application writes the saved state of the game into a file via serialization and when player &quot;Load Game&quot; the serialized file is read and Game state is re-created.</p>\n"}],"owner":{"account_id":880058,"reputation":1531,"user_id":212462,"accept_rate":33,"display_name":"m_a_khan"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113305,"favorite_count":0,"down_vote_count":1,"up_vote_count":117,"accepted_answer_id":2232828,"answer_count":9,"score":116,"last_activity_date":1661681396,"creation_date":1265751920,"question_id":2232759,"body_markdown":"I have read quite a number of articles on Serialization and how it is so nice and great but none of the arguments were convincing enough. I am wondering if someone can really tell me what is it that we can really achieve by serializing a class?\r\n","title":"What is the purpose of Serialization in Java?","body":"<p>I have read quite a number of articles on Serialization and how it is so nice and great but none of the arguments were convincing enough. I am wondering if someone can really tell me what is it that we can really achieve by serializing a class?</p>\n"},{"tags":["java","sql","postgresql","orm","ebean"],"comments":[{"owner":{"account_id":1001733,"reputation":34918,"user_id":1016435,"display_name":"xQbert"},"score":1,"creation_date":1639520981,"post_id":70356250,"comment_id":124368854,"body_markdown":"Can you use native SQL? https://ebean.io/docs/query/native-sql  it looks like it may work *note I&quot;ve never used ebean.  This is just a quick review of the ebean docs*  or perhaps RawSQL","body":"Can you use native SQL? <a href=\"https://ebean.io/docs/query/native-sql\" rel=\"nofollow noreferrer\">ebean.io/docs/query/native-sql</a>  it looks like it may work <i>note I&quot;ve never used ebean.  This is just a quick review of the ebean docs</i>  or perhaps RawSQL"},{"owner":{"account_id":23648316,"reputation":1,"user_id":17677609,"display_name":"Nick Kl"},"score":0,"creation_date":1639528821,"post_id":70356250,"comment_id":124370515,"body_markdown":"Thanks for your reply. I can&#39;t use native sql.","body":"Thanks for your reply. I can&#39;t use native sql."}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661681218,"creation_date":1661681218,"answer_id":73517754,"question_id":70356250,"body_markdown":"you can use **sqlQuery in ebean** see [sqlQuery][1] :\r\n\r\n    String sql = &quot;select sum(ff.money) as sum, count(ff.name) as count from (\\r\\n&quot;\r\n\t\t \t\t+ &quot;select owr.clientName as name, owr.sumOfMoney as money from OrderWorkReport owr) ff ;&quot;;\r\n    SqlRow row = DB.sqlQuery(sql).findOne();\r\n    int count= row.getInteger(&quot;count&quot;);\r\n    int sum =row.getInteger(&quot;sum&quot;);\r\n    System.out.println(&quot;sum = &quot;+sum+&quot;\\ncount = &quot;+count);\r\n\r\n  [1]: https://ebean.io/docs/query/sqlquery","title":"Subquery in ebean","body":"<p>you can use <strong>sqlQuery in ebean</strong> see <a href=\"https://ebean.io/docs/query/sqlquery\" rel=\"nofollow noreferrer\">sqlQuery</a> :</p>\n<pre><code>String sql = &quot;select sum(ff.money) as sum, count(ff.name) as count from (\\r\\n&quot;\n            + &quot;select owr.clientName as name, owr.sumOfMoney as money from OrderWorkReport owr) ff ;&quot;;\nSqlRow row = DB.sqlQuery(sql).findOne();\nint count= row.getInteger(&quot;count&quot;);\nint sum =row.getInteger(&quot;sum&quot;);\nSystem.out.println(&quot;sum = &quot;+sum+&quot;\\ncount = &quot;+count);\n</code></pre>\n"}],"owner":{"account_id":23648316,"reputation":1,"user_id":17677609,"display_name":"Nick Kl"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661681218,"creation_date":1639520686,"question_id":70356250,"body_markdown":"I am faced with the problem of forming subqueries in ebean. I need to compose a query that is similar to the following sql:\r\n\r\n    select sum(money), count(name) from (\r\n        select owr.&quot;clientName&quot; as name, owr.&quot;sumOfMoney&quot; as money from nm.&quot;OrderWorkReport&quot; owr) ff; \r\n\r\nThis request is just an example, but it reflects the essence of the problem. I need to compose a select query from a select query.\r\n\r\nI studied the ebean sources and documentation, but I didn&#39;t find an answer! Maybe someone has encountered this and knows how to write this select query using the ebean interfaces in java.","title":"Subquery in ebean","body":"<p>I am faced with the problem of forming subqueries in ebean. I need to compose a query that is similar to the following sql:</p>\n<pre><code>select sum(money), count(name) from (\n    select owr.&quot;clientName&quot; as name, owr.&quot;sumOfMoney&quot; as money from nm.&quot;OrderWorkReport&quot; owr) ff; \n</code></pre>\n<p>This request is just an example, but it reflects the essence of the problem. I need to compose a select query from a select query.</p>\n<p>I studied the ebean sources and documentation, but I didn't find an answer! Maybe someone has encountered this and knows how to write this select query using the ebean interfaces in java.</p>\n"},{"tags":["java","spring","spring-boot","intellij-idea"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1661680616,"post_id":73517630,"comment_id":129825147,"body_markdown":"first, do `invalidate cache restart` with intellij and retry it. if still same proble, then change port to `8081` and retry. still nothing, then open your browser in `cognito` mod.","body":"first, do <code>invalidate cache restart</code> with intellij and retry it. if still same proble, then change port to <code>8081</code> and retry. still nothing, then open your browser in <code>cognito</code> mod."}],"answers":[{"tags":[],"owner":{"account_id":1713714,"reputation":781,"user_id":1571268,"accept_rate":78,"display_name":"criztovyl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1661681194,"creation_date":1661681194,"answer_id":73517752,"question_id":73517630,"body_markdown":"Your `Starter` and `Hello` classes are in different packages (`com.learn.spring` vs `com.learning.spring.hello`), for Spring to automatically pick up your `Hello` class it must be in the same package as your `Starter`.\r\n\r\nIf the different packages are intended that way, you will need to tell Spring to scan them using `ComponentScan` annotation:\r\n\r\n```\r\npackage com.learn.spring;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@SpringBootApplication\r\n@ComponentScan(&quot;com.learning.spring&quot;)\r\npublic class StarterClass {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(StarterClass.class,args);\r\n    }\r\n}\r\n```","title":"Sping Boot basic project not running in Intellij Community Edition Same code runs in STS","body":"<p>Your <code>Starter</code> and <code>Hello</code> classes are in different packages (<code>com.learn.spring</code> vs <code>com.learning.spring.hello</code>), for Spring to automatically pick up your <code>Hello</code> class it must be in the same package as your <code>Starter</code>.</p>\n<p>If the different packages are intended that way, you will need to tell Spring to scan them using <code>ComponentScan</code> annotation:</p>\n<pre><code>package com.learn.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(&quot;com.learning.spring&quot;)\npublic class StarterClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StarterClass.class,args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11503543,"reputation":23,"user_id":8430581,"display_name":"Rajat"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73517752,"answer_count":1,"score":0,"last_activity_date":1661681194,"creation_date":1661680213,"question_id":73517630,"body_markdown":"I have created a Basic Spring Project with following three files in IntelliJ community Edition.\r\n\r\nStarter Class :\r\n\r\n    package com.learn.spring;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    \r\n    @SpringBootApplication\r\n    public class StarterClass {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(StarterClass.class,args);\r\n        }\r\n    }\r\n\r\n\r\nHello.java\r\n\r\n    package com.learning.spring.hello;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class Hello {\r\n    \r\n        @RequestMapping(&quot;/hello&quot;)\r\n        public String hi() {\r\n            return &quot;Hello How Are you doing in IntelliJ&quot;;\r\n        }\r\n    }\r\n\r\npom.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n        &lt;artifactId&gt;SpringProjectIntelliJ28082022&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;parent&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.14&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.14&lt;/version&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nWhen I run the application I get the following in my Console :\r\n\r\n \r\n\r\n     .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::               (v2.5.14)\r\n    \r\n    2022-08-28 15:07:36.980  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Starting StarterClass using Java 1.8.0_291 on ******** with PID 9408 (S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022\\target\\classes started by **** in S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022)\r\n    2022-08-28 15:07:36.981  INFO 9408 --- [           main] com.learn.spring.StarterClass            : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-08-28 15:07:37.912  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-08-28 15:07:37.932  INFO 9408 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-08-28 15:07:37.932  INFO 9408 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\r\n    2022-08-28 15:07:38.084  INFO 9408 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-08-28 15:07:38.084  INFO 9408 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms\r\n    2022-08-28 15:07:38.382  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path &#39;&#39;\r\n    2022-08-28 15:07:38.382  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Started StarterClass in 1.739 seconds (JVM running for 2.04)\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\r\n\r\nbut when I open the browser and hit \r\n**localhost:8080/hello**\r\n\r\nI get the error message webpage.\r\n[![enter image description here][1]][1]\r\n\r\nPlease guide me on where am i going wrong.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EVLjd.png","title":"Sping Boot basic project not running in Intellij Community Edition Same code runs in STS","body":"<p>I have created a Basic Spring Project with following three files in IntelliJ community Edition.</p>\n<p>Starter Class :</p>\n<pre><code>package com.learn.spring;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class StarterClass {\n\n    public static void main(String[] args) {\n        SpringApplication.run(StarterClass.class,args);\n    }\n}\n</code></pre>\n<p>Hello.java</p>\n<pre><code>package com.learning.spring.hello;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class Hello {\n\n    @RequestMapping(&quot;/hello&quot;)\n    public String hi() {\n        return &quot;Hello How Are you doing in IntelliJ&quot;;\n    }\n}\n</code></pre>\n<p>pom.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;SpringProjectIntelliJ28082022&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;parent&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n            &lt;version&gt;2.5.14&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.14&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>When I run the application I get the following in my Console :</p>\n<pre><code> .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::               (v2.5.14)\n\n2022-08-28 15:07:36.980  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Starting StarterClass using Java 1.8.0_291 on ******** with PID 9408 (S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022\\target\\classes started by **** in S:\\Java_Workspaces\\spring\\SpringProjectIntelliJ28082022)\n2022-08-28 15:07:36.981  INFO 9408 --- [           main] com.learn.spring.StarterClass            : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-08-28 15:07:37.912  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-08-28 15:07:37.932  INFO 9408 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-08-28 15:07:37.932  INFO 9408 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.63]\n2022-08-28 15:07:38.084  INFO 9408 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-08-28 15:07:38.084  INFO 9408 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms\n2022-08-28 15:07:38.382  INFO 9408 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''\n2022-08-28 15:07:38.382  INFO 9408 --- [           main] com.learn.spring.StarterClass            : Started StarterClass in 1.739 seconds (JVM running for 2.04)\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'\n2022-08-28 15:08:01.308  INFO 9408 --- [nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 0 ms\n</code></pre>\n<p>but when I open the browser and hit\n<strong>localhost:8080/hello</strong></p>\n<p>I get the error message webpage.\n<a href=\"https://i.stack.imgur.com/EVLjd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EVLjd.png\" alt=\"enter image description here\" /></a></p>\n<p>Please guide me on where am i going wrong.</p>\n"},{"tags":["java","multithreading","output","sample"],"comments":[{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":1,"creation_date":1661599223,"post_id":73510495,"comment_id":129813277,"body_markdown":"Note: No need to synchronize in the c&#39;tor `SharedResources`.","body":"Note: No need to synchronize in the c&#39;tor <code>SharedResources</code>."},{"owner":{"account_id":39574,"reputation":24267,"user_id":114226,"accept_rate":79,"display_name":"PeterMmm"},"score":3,"creation_date":1661599571,"post_id":73510495,"comment_id":129813347,"body_markdown":"Note: `sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);` even if the setter and the getter are synchronized, two threads may get+set the same value. Probably you want here a `getAndSet()` that sync on the shared resource.","body":"Note: <code>sharedResources.setSharedPar1(sharedResources.getSharedPar1(&zwnj;&#8203;) + 100);</code> even if the setter and the getter are synchronized, two threads may get+set the same value. Probably you want here a <code>getAndSet()</code> that sync on the shared resource."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":0,"creation_date":1661601451,"post_id":73510495,"comment_id":129813663,"body_markdown":"Rule of thumb: when one resource is written by one thread and read by other threads, declaring the field volatile is enough (all reading threads will read the updated values). However, when multiple threads both write and read one field, then simply volatile is not enough because as suggested above, if the set and get are not synchronized you may read twice the same value. Either you lock both set and get (using synchronization and so on), or you use the very comfortable utility called AtomicReference which already implements all those tricks for you","body":"Rule of thumb: when one resource is written by one thread and read by other threads, declaring the field volatile is enough (all reading threads will read the updated values). However, when multiple threads both write and read one field, then simply volatile is not enough because as suggested above, if the set and get are not synchronized you may read twice the same value. Either you lock both set and get (using synchronization and so on), or you use the very comfortable utility called AtomicReference which already implements all those tricks for you"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1661632553,"post_id":73510495,"comment_id":129819637,"body_markdown":"SharedResources is synchronized, but System.out may not be.  Try adding `System.out.flush();` after every System.out.println statement.","body":"SharedResources is synchronized, but System.out may not be.  Try adding <code>System.out.flush();</code> after every System.out.println statement."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1661681177,"creation_date":1661681177,"answer_id":73517751,"question_id":73510495,"body_markdown":"There are several issues.  Firstly you have a race condition on the get/set cycles so that each thread may read the same initial value and therefore they replace an updated value of another thread. This is caused as you do not synchronise on this entire block for atomic change to each independent variable and two threads perform `getSharedParX()` before each runs `sharedResource.setSharedParX(updatedValue)`:\r\n\r\n    sharedResource.setSharedParX(sharedResource.getSharedParX() + x);\r\n\r\nThe timeline of your read/updates is therefore trampling the results of other threads (note that main prints before it updates), and first line of output of these threads use a mix of the first/second values of `sharedPar1` and `sharedPar2`:\r\n\r\n\t// Task1 read sharedPar1=0 and saved sharedPar1=1000\r\n\tMain thread! - Shared resources: 1000 and \r\n\t\r\n\t// Task2 reads sharedPar1=1000 and saved sharedPar1=1100 (trampling main values)\r\n\t// Task2 read sharedPar2=&quot;&quot; and saved sharedPar2=&quot;b&quot; (trampling main/Task2 values)\r\n\tTask2, it. 0. - Shared resources: 1100 and b\r\n\tTask1, it. 0. - Shared resources: 1100 and b\r\n\r\nSecondly note that `System.out` is a `PrintWriter` so the `println` messages are synchronized. Main thread was simply able to print more results before Task1/Task2 had a chance to, which is why the first lines from Task1/2 appear well down the list. It&#39;s generally not a good idea to print to same stream inside threads as the I/O contention could slow down all the threads as they contend with each other to write output.\r\n\r\nYou need to fix so that the operations are atomic - look at using `AtomicInteger` or `AtomicReference&lt;String&gt;` or implement your own handlers to perform the changes needed in one step (and remove setX) such as:\r\n\r\n    synchronized int addAndGet(int delta) {\r\n\t    sharedPar1 += delta;\r\n\t\treturn sharedPar1;\r\n\t}\r\n    synchronized String appendAndGet(String delta) {\r\n\t    sharedPar2 += delta;\r\n\t\treturn sharedPar2;\r\n\t}\r\n\r\n","title":"Java multithreading unexpected output","body":"<p>There are several issues.  Firstly you have a race condition on the get/set cycles so that each thread may read the same initial value and therefore they replace an updated value of another thread. This is caused as you do not synchronise on this entire block for atomic change to each independent variable and two threads perform <code>getSharedParX()</code> before each runs <code>sharedResource.setSharedParX(updatedValue)</code>:</p>\n<pre><code>sharedResource.setSharedParX(sharedResource.getSharedParX() + x);\n</code></pre>\n<p>The timeline of your read/updates is therefore trampling the results of other threads (note that main prints before it updates), and first line of output of these threads use a mix of the first/second values of <code>sharedPar1</code> and <code>sharedPar2</code>:</p>\n<pre><code>// Task1 read sharedPar1=0 and saved sharedPar1=1000\nMain thread! - Shared resources: 1000 and \n\n// Task2 reads sharedPar1=1000 and saved sharedPar1=1100 (trampling main values)\n// Task2 read sharedPar2=&quot;&quot; and saved sharedPar2=&quot;b&quot; (trampling main/Task2 values)\nTask2, it. 0. - Shared resources: 1100 and b\nTask1, it. 0. - Shared resources: 1100 and b\n</code></pre>\n<p>Secondly note that <code>System.out</code> is a <code>PrintWriter</code> so the <code>println</code> messages are synchronized. Main thread was simply able to print more results before Task1/Task2 had a chance to, which is why the first lines from Task1/2 appear well down the list. It's generally not a good idea to print to same stream inside threads as the I/O contention could slow down all the threads as they contend with each other to write output.</p>\n<p>You need to fix so that the operations are atomic - look at using <code>AtomicInteger</code> or <code>AtomicReference&lt;String&gt;</code> or implement your own handlers to perform the changes needed in one step (and remove setX) such as:</p>\n<pre><code>synchronized int addAndGet(int delta) {\n    sharedPar1 += delta;\n    return sharedPar1;\n}\nsynchronized String appendAndGet(String delta) {\n    sharedPar2 += delta;\n    return sharedPar2;\n}\n</code></pre>\n"}],"owner":{"account_id":22543172,"reputation":11,"user_id":19679944,"display_name":"Armin Petrović"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73517751,"answer_count":1,"score":0,"last_activity_date":1661681177,"creation_date":1661598815,"question_id":73510495,"body_markdown":"I am trying to learn multithreading in Java. Here is the code that I wrote:\r\n\r\n```\r\npublic class SharedResources {\r\n    volatile private int sharedPar1;\r\n    volatile private String sharedPar2;\r\n\r\n    public SharedResources(Integer sharedPar1, String sharedPar2) {\r\n        synchronized (sharedPar1) {\r\n            this.sharedPar1 = sharedPar1;\r\n        }\r\n        synchronized (sharedPar2) {\r\n            this.sharedPar2 = sharedPar2;\r\n        }\r\n    }\r\n\r\n    public synchronized int getSharedPar1() {\r\n        return sharedPar1;\r\n    }\r\n\r\n    public synchronized void setSharedPar1(int sharedPar1) {\r\n        this.sharedPar1 = sharedPar1;\r\n    }\r\n\r\n    public synchronized String getSharedPar2() {\r\n        return sharedPar2;\r\n    }\r\n\r\n    public synchronized void setSharedPar2(String sharedPar2) {\r\n        this.sharedPar2 = sharedPar2;\r\n    }\r\n}\r\n\r\n```\r\nThis above is simply one class that represents mock shared resources. Two mock thread classes:\r\n\r\n```\r\npublic class Task1 extends Thread {\r\n    volatile private SharedResources sharedResources;\r\n\r\n    public Task1(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    public SharedResources getSharedResources() {\r\n        return sharedResources;\r\n    }\r\n\r\n    public void setSharedResources(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 1000);\r\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;c&quot;);\r\n            System.out.println(&quot;Task1, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nTask 2 :\r\n\r\n```\r\npublic class Task2 extends Thread {\r\n    volatile private SharedResources sharedResources;\r\n\r\n    public Task2(SharedResources sharedResource) {\r\n        this.sharedResources = sharedResource;\r\n    }\r\n\r\n    public SharedResources getSharedResources() {\r\n        return sharedResources;\r\n    }\r\n\r\n    public void setSharedResources(SharedResources sharedResources) {\r\n        this.sharedResources = sharedResources;\r\n    }\r\n\r\n    @Override\r\n    public void run() {\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);\r\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;b&quot;);\r\n            System.out.println(&quot;Task2, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, the Main function:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n        SharedResources sharedResource = new SharedResources(0, &quot;&quot;);\r\n\r\n        Thread firstTask = new Task1(sharedResource);\r\n        Thread secondTask = new Task2(sharedResource);\r\n\r\n        firstTask.start();\r\n        secondTask.start();\r\n\r\n        for (int i = 0; i &lt; 10; i++) {\r\n            System.out.println(&quot;Main thread! - Shared resources: &quot; + sharedResource.getSharedPar1() + &quot; and &quot; + sharedResource.getSharedPar2());\r\n            sharedResource.setSharedPar1(sharedResource.getSharedPar1() + 1);\r\n            sharedResource.setSharedPar2(sharedResource.getSharedPar2() + &quot;a&quot;);\r\n        }\r\n        System.out.println();\r\n    }\r\n```\r\n\r\nNow, idea is this - having two threads that make different operations on variables **sharedPar1** and **sharedPar2**, in output I want to get consistent values of variables, meaning I want to be able to logically connect output of this program, to its lines of code. But, I don&#39;t know why there are some things as they are in my output. Basically, I need someone to explain this kind of output to me: \r\n\r\n```\r\nMain thread! - Shared resources: 1000 and \r\nMain thread! - Shared resources: 1101 and ba\r\nMain thread! - Shared resources: 1102 and baa\r\nMain thread! - Shared resources: 1103 and baaa\r\nMain thread! - Shared resources: 1104 and baaaa\r\nMain thread! - Shared resources: 1105 and baaaaa\r\nMain thread! - Shared resources: 1106 and baaaaaa\r\nMain thread! - Shared resources: 1107 and baaaaaaa\r\nMain thread! - Shared resources: 1108 and baaaaaaaa\r\nMain thread! - Shared resources: 1109 and baaaaaaaaa\r\n\r\nTask2, it. 0. - Shared resources: 1100 and b\r\nTask1, it. 0. - Shared resources: 1100 and b\r\nTask2, it. 1. - Shared resources: 1210 and baaaaaaaaaab\r\nTask1, it. 1. - Shared resources: 2210 and baaaaaaaaaabc\r\nTask1, it. 2. - Shared resources: 3310 and baaaaaaaaaabcc\r\nTask2, it. 2. - Shared resources: 3310 and baaaaaaaaaabcb\r\nTask1, it. 3. - Shared resources: 4310 and baaaaaaaaaabcbc\r\nTask2, it. 3. - Shared resources: 4410 and baaaaaaaaaabcbcb\r\nTask1, it. 4. - Shared resources: 5410 and baaaaaaaaaabcbcbc\r\nTask2, it. 4. - Shared resources: 5510 and baaaaaaaaaabcbcbcb\r\nTask1, it. 5. - Shared resources: 6510 and baaaaaaaaaabcbcbcbc\r\nTask2, it. 5. - Shared resources: 6610 and baaaaaaaaaabcbcbcbcb\r\nTask1, it. 6. - Shared resources: 7610 and baaaaaaaaaabcbcbcbcbc\r\nTask2, it. 6. - Shared resources: 7710 and baaaaaaaaaabcbcbcbcbcb\r\nTask1, it. 7. - Shared resources: 8710 and baaaaaaaaaabcbcbcbcbcbc\r\nTask1, it. 8. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcc\r\nTask1, it. 9. - Shared resources: 10810 and baaaaaaaaaabcbcbcbcbcbccc\r\nTask2, it. 7. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcb\r\nTask2, it. 8. - Shared resources: 10910 and baaaaaaaaaabcbcbcbcbcbcccb\r\nTask2, it. 9. - Shared resources: 11010 and baaaaaaaaaabcbcbcbcbcbcccbb\r\n\r\n```\r\nI understand everything in the output until line **Task2, it. 0. - Shared resources: 1100 and b** - why in this line we do not have values from previous line (last line in Main loop)? Output of main, where we have &#39;aaa..&#39; added to string and ones added to integer variable are nowhere to be found in this line, and that is what I do not understand. \r\n\r\nSo, basically I want to be able to use shared class and variables between multiple different threads, but even if I have set variables to &#39;volatile&#39; and methods to &#39;synchronized&#39;, again values are not properly updated when outputted to the screen. Can someone explain why is that? And if you see that this is wrong way to do these kind of things, where am I wrong?\r\n\r\nAlso, I am wondering if there is a way to ensure that in one thread, we always execute lets say one full iteration of a loop before scheduler kicks our thread out of processor?","title":"Java multithreading unexpected output","body":"<p>I am trying to learn multithreading in Java. Here is the code that I wrote:</p>\n<pre><code>public class SharedResources {\n    volatile private int sharedPar1;\n    volatile private String sharedPar2;\n\n    public SharedResources(Integer sharedPar1, String sharedPar2) {\n        synchronized (sharedPar1) {\n            this.sharedPar1 = sharedPar1;\n        }\n        synchronized (sharedPar2) {\n            this.sharedPar2 = sharedPar2;\n        }\n    }\n\n    public synchronized int getSharedPar1() {\n        return sharedPar1;\n    }\n\n    public synchronized void setSharedPar1(int sharedPar1) {\n        this.sharedPar1 = sharedPar1;\n    }\n\n    public synchronized String getSharedPar2() {\n        return sharedPar2;\n    }\n\n    public synchronized void setSharedPar2(String sharedPar2) {\n        this.sharedPar2 = sharedPar2;\n    }\n}\n\n</code></pre>\n<p>This above is simply one class that represents mock shared resources. Two mock thread classes:</p>\n<pre><code>public class Task1 extends Thread {\n    volatile private SharedResources sharedResources;\n\n    public Task1(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    public SharedResources getSharedResources() {\n        return sharedResources;\n    }\n\n    public void setSharedResources(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 1000);\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;c&quot;);\n            System.out.println(&quot;Task1, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\n        }\n    }\n}\n\n</code></pre>\n<p>Task 2 :</p>\n<pre><code>public class Task2 extends Thread {\n    volatile private SharedResources sharedResources;\n\n    public Task2(SharedResources sharedResource) {\n        this.sharedResources = sharedResource;\n    }\n\n    public SharedResources getSharedResources() {\n        return sharedResources;\n    }\n\n    public void setSharedResources(SharedResources sharedResources) {\n        this.sharedResources = sharedResources;\n    }\n\n    @Override\n    public void run() {\n        for (int i = 0; i &lt; 10; i++) {\n            sharedResources.setSharedPar1(sharedResources.getSharedPar1() + 100);\n            sharedResources.setSharedPar2(sharedResources.getSharedPar2() + &quot;b&quot;);\n            System.out.println(&quot;Task2, it. &quot; + i + &quot;. - Shared resources: &quot; + sharedResources.getSharedPar1() + &quot; and &quot; + sharedResources.getSharedPar2());\n        }\n    }\n}\n</code></pre>\n<p>Now, the Main function:</p>\n<pre><code>public static void main(String[] args) {\n        SharedResources sharedResource = new SharedResources(0, &quot;&quot;);\n\n        Thread firstTask = new Task1(sharedResource);\n        Thread secondTask = new Task2(sharedResource);\n\n        firstTask.start();\n        secondTask.start();\n\n        for (int i = 0; i &lt; 10; i++) {\n            System.out.println(&quot;Main thread! - Shared resources: &quot; + sharedResource.getSharedPar1() + &quot; and &quot; + sharedResource.getSharedPar2());\n            sharedResource.setSharedPar1(sharedResource.getSharedPar1() + 1);\n            sharedResource.setSharedPar2(sharedResource.getSharedPar2() + &quot;a&quot;);\n        }\n        System.out.println();\n    }\n</code></pre>\n<p>Now, idea is this - having two threads that make different operations on variables <strong>sharedPar1</strong> and <strong>sharedPar2</strong>, in output I want to get consistent values of variables, meaning I want to be able to logically connect output of this program, to its lines of code. But, I don't know why there are some things as they are in my output. Basically, I need someone to explain this kind of output to me:</p>\n<pre><code>Main thread! - Shared resources: 1000 and \nMain thread! - Shared resources: 1101 and ba\nMain thread! - Shared resources: 1102 and baa\nMain thread! - Shared resources: 1103 and baaa\nMain thread! - Shared resources: 1104 and baaaa\nMain thread! - Shared resources: 1105 and baaaaa\nMain thread! - Shared resources: 1106 and baaaaaa\nMain thread! - Shared resources: 1107 and baaaaaaa\nMain thread! - Shared resources: 1108 and baaaaaaaa\nMain thread! - Shared resources: 1109 and baaaaaaaaa\n\nTask2, it. 0. - Shared resources: 1100 and b\nTask1, it. 0. - Shared resources: 1100 and b\nTask2, it. 1. - Shared resources: 1210 and baaaaaaaaaab\nTask1, it. 1. - Shared resources: 2210 and baaaaaaaaaabc\nTask1, it. 2. - Shared resources: 3310 and baaaaaaaaaabcc\nTask2, it. 2. - Shared resources: 3310 and baaaaaaaaaabcb\nTask1, it. 3. - Shared resources: 4310 and baaaaaaaaaabcbc\nTask2, it. 3. - Shared resources: 4410 and baaaaaaaaaabcbcb\nTask1, it. 4. - Shared resources: 5410 and baaaaaaaaaabcbcbc\nTask2, it. 4. - Shared resources: 5510 and baaaaaaaaaabcbcbcb\nTask1, it. 5. - Shared resources: 6510 and baaaaaaaaaabcbcbcbc\nTask2, it. 5. - Shared resources: 6610 and baaaaaaaaaabcbcbcbcb\nTask1, it. 6. - Shared resources: 7610 and baaaaaaaaaabcbcbcbcbc\nTask2, it. 6. - Shared resources: 7710 and baaaaaaaaaabcbcbcbcbcb\nTask1, it. 7. - Shared resources: 8710 and baaaaaaaaaabcbcbcbcbcbc\nTask1, it. 8. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcc\nTask1, it. 9. - Shared resources: 10810 and baaaaaaaaaabcbcbcbcbcbccc\nTask2, it. 7. - Shared resources: 9810 and baaaaaaaaaabcbcbcbcbcbcb\nTask2, it. 8. - Shared resources: 10910 and baaaaaaaaaabcbcbcbcbcbcccb\nTask2, it. 9. - Shared resources: 11010 and baaaaaaaaaabcbcbcbcbcbcccbb\n\n</code></pre>\n<p>I understand everything in the output until line <strong>Task2, it. 0. - Shared resources: 1100 and b</strong> - why in this line we do not have values from previous line (last line in Main loop)? Output of main, where we have 'aaa..' added to string and ones added to integer variable are nowhere to be found in this line, and that is what I do not understand.</p>\n<p>So, basically I want to be able to use shared class and variables between multiple different threads, but even if I have set variables to 'volatile' and methods to 'synchronized', again values are not properly updated when outputted to the screen. Can someone explain why is that? And if you see that this is wrong way to do these kind of things, where am I wrong?</p>\n<p>Also, I am wondering if there is a way to ensure that in one thread, we always execute lets say one full iteration of a loop before scheduler kicks our thread out of processor?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":16366460,"reputation":131,"user_id":11820819,"display_name":"Dorin Simion"},"score":1,"creation_date":1661040197,"post_id":73430478,"comment_id":129676666,"body_markdown":"Do it in one loop. Initialize  max and secondMax with Integer.MIN_VALUE.  then loop  array and if arr[i] bigger than max, than secondMax=max; max = arr[i]; else if arr[i] bigger than secondMax just secondMax=arr[i]. I didn&#39;t written code, as I assume you are practicing so give it a try :)","body":"Do it in one loop. Initialize  max and secondMax with Integer.MIN_VALUE.  then loop  array and if arr[i] bigger than max, than secondMax=max; max = arr[i]; else if arr[i] bigger than secondMax just secondMax=arr[i]. I didn&#39;t written code, as I assume you are practicing so give it a try :)"}],"answers":[{"tags":[],"owner":{"account_id":25937120,"reputation":2268,"user_id":19657183,"display_name":"Mihe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661037046,"creation_date":1661036559,"answer_id":73430641,"question_id":73430478,"body_markdown":"&gt; I swapped the largest with the first element of the array\r\n\r\nWell, not exactly. You copied the value of the largest element to a variable named `largest`. Then you swapped the value of this variable with the value of the first element of the array. The array-element that holds the largest value remains untouched.\r\n\r\nYou&#39;ve to store the index of the array element that holds the largest value, then you can swap:\r\n\r\n```\r\npublic static int secondLargest(int[] arr, int size)\r\n{\r\n    int largestIx = 0;\r\n\r\n    for(int i = 1; i &lt; size; i++) {\r\n        if(arr[i] &gt; arr[largestIx]) {\r\n            largestIx = i;\r\n        }\r\n    }\r\n\r\n    int temp = arr[0];\r\n    arr[0] = arr[largestIx];\r\n    arr[largestIx] = temp;\r\n    ...\r\n```\r\n","title":"Second Largest Element In an Array","body":"<blockquote>\n<p>I swapped the largest with the first element of the array</p>\n</blockquote>\n<p>Well, not exactly. You copied the value of the largest element to a variable named <code>largest</code>. Then you swapped the value of this variable with the value of the first element of the array. The array-element that holds the largest value remains untouched.</p>\n<p>You've to store the index of the array element that holds the largest value, then you can swap:</p>\n<pre><code>public static int secondLargest(int[] arr, int size)\n{\n    int largestIx = 0;\n\n    for(int i = 1; i &lt; size; i++) {\n        if(arr[i] &gt; arr[largestIx]) {\n            largestIx = i;\n        }\n    }\n\n    int temp = arr[0];\n    arr[0] = arr[largestIx];\n    arr[largestIx] = temp;\n    ...\n</code></pre>\n"}],"owner":{"account_id":16663974,"reputation":1,"user_id":19556047,"display_name":"Letter Box"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661680912,"creation_date":1661034347,"question_id":73430478,"body_markdown":"Here, if I do not consider time complexity and space complexity criteria in mind, I tried something.\r\nHere, **largest** represents the **largest element** in array and once largest was found, I **swapped** the **largest with the first element** of the array and then so I reused the method which I used to find **largest** in order to get the **second largest** method which I have stored in **secondLargest** variable.\r\nHere, Ideally I should get the **secondl̥argest** element in return while I am **getting the largest**.\r\n**PLEASE HELP**\r\n\r\n    public static int secondLargest(int[] arr, int size)\r\n    {\r\n        int largest= arr[0];\r\n        for(int i=1; i&lt;size; i++)\r\n        {\r\n            if(arr[i]&gt; largest)\r\n            {\r\n                largest= arr[i];\r\n            }\r\n            \r\n            \r\n        }\r\n         if(largest!= arr[0])\r\n         {\r\n            int temp= arr[0];\r\n            arr[0]= largest;\r\n            largest = temp;\r\n         }\r\n         int SecondLargest = arr[1];\r\n         for(int i=2; i&lt;size; i++)\r\n         {\r\n             if(arr[i]&gt; SecondLargest)\r\n             {\r\n                 SecondLargest= arr[i];\r\n             }\r\n             \r\n         }\r\n         return SecondLargest;\r\n","title":"Second Largest Element In an Array","body":"<p>Here, if I do not consider time complexity and space complexity criteria in mind, I tried something.\nHere, <strong>largest</strong> represents the <strong>largest element</strong> in array and once largest was found, I <strong>swapped</strong> the <strong>largest with the first element</strong> of the array and then so I reused the method which I used to find <strong>largest</strong> in order to get the <strong>second largest</strong> method which I have stored in <strong>secondLargest</strong> variable.\nHere, Ideally I should get the <strong>secondl̥argest</strong> element in return while I am <strong>getting the largest</strong>.\n<strong>PLEASE HELP</strong></p>\n<pre><code>public static int secondLargest(int[] arr, int size)\n{\n    int largest= arr[0];\n    for(int i=1; i&lt;size; i++)\n    {\n        if(arr[i]&gt; largest)\n        {\n            largest= arr[i];\n        }\n        \n        \n    }\n     if(largest!= arr[0])\n     {\n        int temp= arr[0];\n        arr[0]= largest;\n        largest = temp;\n     }\n     int SecondLargest = arr[1];\n     for(int i=2; i&lt;size; i++)\n     {\n         if(arr[i]&gt; SecondLargest)\n         {\n             SecondLargest= arr[i];\n         }\n         \n     }\n     return SecondLargest;\n</code></pre>\n"},{"tags":["java","list","collections","pascals-triangle"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1661246942,"post_id":73456194,"comment_id":129720199,"body_markdown":"`List&lt;Integer&gt; pre, row = null;` only initializes `row` and `List&lt;Integer&gt; row, pre = null;` only initializes `pre`. The `= null` at the end doesn&#39;t apply to all the variables you declared beforehand in that line.","body":"<code>List&lt;Integer&gt; pre, row = null;</code> only initializes <code>row</code> and <code>List&lt;Integer&gt; row, pre = null;</code> only initializes <code>pre</code>. The <code>= null</code> at the end doesn&#39;t apply to all the variables you declared beforehand in that line."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":1,"creation_date":1661247745,"post_id":73456194,"comment_id":129720476,"body_markdown":"So what you&#39;re looking for is `List&lt;Integer&gt; pre = null, row = null;`","body":"So what you&#39;re looking for is <code>List&lt;Integer&gt; pre = null, row = null;</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1661253367,"post_id":73456194,"comment_id":129722580,"body_markdown":"@QBrute there is no need to initialize `row` with `null` here.","body":"@QBrute there is no need to initialize <code>row</code> with <code>null</code> here."}],"answers":[{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1661254796,"creation_date":1661254796,"answer_id":73458054,"question_id":73456194,"body_markdown":"A variable initializer only initializes the variable before it, regardless of how many variables the declaration statement creates. So\r\n```java\r\nList&lt;Integer&gt; pre, row = null;\r\n```\r\nonly initializes `row` with `null` whereas\r\n```java\r\nList&lt;Integer&gt; row, pre = null;\r\n```\r\nonly initializes `pre` with `null` which would be the same as\r\n```java\r\nList&lt;Integer&gt; pre = null, row;\r\n```\r\nwhich demonstrates that is not an issue of the variable order.\r\n\r\n---\r\n\r\nThe first statement of your loop body is `row = new ArrayList&lt;Integer&gt;();`\r\n\r\nTherefore, `row` does not need to be initialized before the loop. The loop body will not be executed if `numRows` is zero or less, but this is not a problem, because `row` is not accessed after the loop. All accesses to `row` occur after the variable has been initialized.\r\n\r\nIn fact, you could move the declaration of `row` into the loop at the place where you initialize it.\r\n\r\nIn contrast, the `pre.get(j-1)` occurs before the first assignment, i.e. `pre=row;`, therefore, the compiler considers this an access to a potentially uninitialized variable for the first loop iteration. An experienced reader may recognize that this line will never be executed in the first loop iteration and the `pre` variable is initialized in subsequent iterations. But the compiler does not analyze the conditions to that depth.\r\n\r\nSo you need to initialize `pre` as with `List&lt;Integer&gt; row, pre = null;` even if you know that this initial value will never be used.\r\n\r\nAn alternative is to move the logic of the first iteration before the loop, e.g.\r\n\r\n```java\r\npublic List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n    if(numRows &lt;= 0) return Collections.emptyList();\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;&gt;();\r\n    List&lt;Integer&gt; pre = Collections.singletonList(1);\r\n    rows.add(pre);\r\n\r\n    for(int i = 1; i &lt; numRows; ++i) {\r\n        List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\r\n        for(int j = 0; j &lt;= i; ++j) {\r\n            if(j == 0 || j == i)\r\n                row.add(1);\r\n            else\r\n                row.add(pre.get(j - 1) + pre.get(j));\r\n        }\r\n        pre = row;\r\n        rows.add(row);\r\n    }\r\n\r\n    return rows;\r\n}\r\n```\r\n\r\nThe adds the invariant first row to the rows before the loop and starts the loop with the second row (index one). Note that this requires handling the empty case at the beginning. But the advantage is that this code doesn’t need to initialize a variable with an unused value.\r\n","title":"List may not be initialized for Pascal&#39;s triangle, but works when order is changed. Why?","body":"<p>A variable initializer only initializes the variable before it, regardless of how many variables the declaration statement creates. So</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; pre, row = null;\n</code></pre>\n<p>only initializes <code>row</code> with <code>null</code> whereas</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; row, pre = null;\n</code></pre>\n<p>only initializes <code>pre</code> with <code>null</code> which would be the same as</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Integer&gt; pre = null, row;\n</code></pre>\n<p>which demonstrates that is not an issue of the variable order.</p>\n<hr />\n<p>The first statement of your loop body is <code>row = new ArrayList&lt;Integer&gt;();</code></p>\n<p>Therefore, <code>row</code> does not need to be initialized before the loop. The loop body will not be executed if <code>numRows</code> is zero or less, but this is not a problem, because <code>row</code> is not accessed after the loop. All accesses to <code>row</code> occur after the variable has been initialized.</p>\n<p>In fact, you could move the declaration of <code>row</code> into the loop at the place where you initialize it.</p>\n<p>In contrast, the <code>pre.get(j-1)</code> occurs before the first assignment, i.e. <code>pre=row;</code>, therefore, the compiler considers this an access to a potentially uninitialized variable for the first loop iteration. An experienced reader may recognize that this line will never be executed in the first loop iteration and the <code>pre</code> variable is initialized in subsequent iterations. But the compiler does not analyze the conditions to that depth.</p>\n<p>So you need to initialize <code>pre</code> as with <code>List&lt;Integer&gt; row, pre = null;</code> even if you know that this initial value will never be used.</p>\n<p>An alternative is to move the logic of the first iteration before the loop, e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n    if(numRows &lt;= 0) return Collections.emptyList();\n\n    List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;&gt;();\n    List&lt;Integer&gt; pre = Collections.singletonList(1);\n    rows.add(pre);\n\n    for(int i = 1; i &lt; numRows; ++i) {\n        List&lt;Integer&gt; row = new ArrayList&lt;&gt;();\n        for(int j = 0; j &lt;= i; ++j) {\n            if(j == 0 || j == i)\n                row.add(1);\n            else\n                row.add(pre.get(j - 1) + pre.get(j));\n        }\n        pre = row;\n        rows.add(row);\n    }\n\n    return rows;\n}\n</code></pre>\n<p>The adds the invariant first row to the rows before the loop and starts the loop with the second row (index one). Note that this requires handling the empty case at the beginning. But the advantage is that this code doesn’t need to initialize a variable with an unused value.</p>\n"}],"owner":{"account_id":25158217,"reputation":65,"user_id":19002759,"display_name":"Sachin K Rao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73458054,"answer_count":1,"score":0,"last_activity_date":1661680894,"creation_date":1661246684,"question_id":73456194,"body_markdown":"While looking up solutions for the Pascal&#39;s triangle problem which takes in the number of rows as input (int numRows), and outputs a List containing all rows of the triangle, I tried this code:-\r\n\r\n```\r\nclass Solution {\r\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\r\n        List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;List&lt;Integer&gt;&gt;();\r\n        List&lt;Integer&gt; pre, row = null;\r\n        \r\n        for(int i=0; i&lt;numRows; ++i){\r\n            row = new ArrayList&lt;Integer&gt;();\r\n            for(int j=0; j&lt;=i; ++j){\r\n                if(j==0 || j==i)\r\n                    row.add(1);\r\n                else\r\n                    row.add(pre.get(j-1)+pre.get(j));\r\n            }\r\n            pre=row;\r\n            rows.add(row);\r\n        }\r\n        \r\n        return rows;\r\n    }\r\n}\r\n```\r\n\r\nThis gave me the error:-\r\n\r\n```\r\nLine 12: error: variable pre might not have been initialized\r\n                    row.add(pre.get(j-1)+pre.get(j));\r\n                            ^\r\n```\r\nHowever, by changing the fourth line to:-\r\n`\r\nList&lt;Integer&gt; row, pre = null;\r\n`\r\n\r\nThe code worked just fine. What&#39;s the reason behind this?","title":"List may not be initialized for Pascal&#39;s triangle, but works when order is changed. Why?","body":"<p>While looking up solutions for the Pascal's triangle problem which takes in the number of rows as input (int numRows), and outputs a List containing all rows of the triangle, I tried this code:-</p>\n<pre><code>class Solution {\n    public List&lt;List&lt;Integer&gt;&gt; generate(int numRows) {\n        List&lt;List&lt;Integer&gt;&gt; rows = new ArrayList&lt;List&lt;Integer&gt;&gt;();\n        List&lt;Integer&gt; pre, row = null;\n        \n        for(int i=0; i&lt;numRows; ++i){\n            row = new ArrayList&lt;Integer&gt;();\n            for(int j=0; j&lt;=i; ++j){\n                if(j==0 || j==i)\n                    row.add(1);\n                else\n                    row.add(pre.get(j-1)+pre.get(j));\n            }\n            pre=row;\n            rows.add(row);\n        }\n        \n        return rows;\n    }\n}\n</code></pre>\n<p>This gave me the error:-</p>\n<pre><code>Line 12: error: variable pre might not have been initialized\n                    row.add(pre.get(j-1)+pre.get(j));\n                            ^\n</code></pre>\n<p>However, by changing the fourth line to:-\n<code>List&lt;Integer&gt; row, pre = null;</code></p>\n<p>The code worked just fine. What's the reason behind this?</p>\n"},{"tags":["java","oop","interface","extends"],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1661680405,"creation_date":1661679720,"answer_id":73517582,"question_id":73517501,"body_markdown":"## General ##\r\n\r\nIn general there is no reason to write out the methods you already get from the other interface again. Do not do that.\r\n\r\n## Javadoc ##\r\n\r\nIn case of `Deque` however, it is to override the Javadoc, giving more details that are specific to `Deque` and not to general `Queue`s.\r\n\r\n#### add(E) ####\r\n\r\nCompare the source code, example `add`:\r\n\r\n[Queue][2]:\r\n\r\n    /**\r\n     * Inserts the specified element into this queue if it is possible to do so\r\n     * immediately without violating capacity restrictions, returning\r\n     * {@code true} upon success and throwing an {@code IllegalStateException}\r\n     * if no space is currently available.\r\n     *\r\n     * @param e the element to add\r\n     * @return {@code true} (as specified by {@link Collection#add})\r\n     * @throws IllegalStateException if the element cannot be added at this\r\n     *         time due to capacity restrictions\r\n     * @throws ClassCastException if the class of the specified element\r\n     *         prevents it from being added to this queue\r\n     * @throws NullPointerException if the specified element is null and\r\n     *         this queue does not permit null elements\r\n     * @throws IllegalArgumentException if some property of this element\r\n     *         prevents it from being added to this queue\r\n     */\r\n    boolean add(E e);\r\n\r\n[Deque][1]:\r\n\r\n    /**\r\n     * Inserts the specified element into the queue represented by this deque\r\n     * (in other words, at the tail of this deque) if it is possible to do so\r\n     * immediately without violating capacity restrictions, returning\r\n     * {@code true} upon success and throwing an\r\n     * {@code IllegalStateException} if no space is currently available.\r\n     * When using a capacity-restricted deque, it is generally preferable to\r\n     * use {@link #offer(Object) offer}.\r\n     *\r\n     * &lt;p&gt;This method is equivalent to {@link #addLast}.\r\n     *\r\n     * @param e the element to add\r\n     * @return {@code true} (as specified by {@link Collection#add})\r\n     * @throws IllegalStateException if the element cannot be added at this\r\n     *         time due to capacity restrictions\r\n     * @throws ClassCastException if the class of the specified element\r\n     *         prevents it from being added to this deque\r\n     * @throws NullPointerException if the specified element is null and this\r\n     *         deque does not permit null elements\r\n     * @throws IllegalArgumentException if some property of the specified\r\n     *         element prevents it from being added to this deque\r\n     */\r\n    boolean add(E e);\r\n\r\nThe diff:\r\n\r\n[![difference][3]][3]\r\n\r\n&lt;sub&gt;(diff created by P4Merge)&lt;/sub&gt;\r\n\r\nSo when you use `Deque`s `add` method, you will see another Javadoc than when just using the `add` method of another `Queue`.\r\n\r\n\r\n\r\n  [1]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Deque.java#L416\r\n  [2]: https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Queue.java#L156\r\n  [3]: https://i.stack.imgur.com/J0Qgc.png","title":"Interfaces extending other interfaces but also containing same methods","body":"<h2>General</h2>\n<p>In general there is no reason to write out the methods you already get from the other interface again. Do not do that.</p>\n<h2>Javadoc</h2>\n<p>In case of <code>Deque</code> however, it is to override the Javadoc, giving more details that are specific to <code>Deque</code> and not to general <code>Queue</code>s.</p>\n<h4>add(E)</h4>\n<p>Compare the source code, example <code>add</code>:</p>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Queue.java#L156\" rel=\"noreferrer\">Queue</a>:</p>\n<pre><code>/**\n * Inserts the specified element into this queue if it is possible to do so\n * immediately without violating capacity restrictions, returning\n * {@code true} upon success and throwing an {@code IllegalStateException}\n * if no space is currently available.\n *\n * @param e the element to add\n * @return {@code true} (as specified by {@link Collection#add})\n * @throws IllegalStateException if the element cannot be added at this\n *         time due to capacity restrictions\n * @throws ClassCastException if the class of the specified element\n *         prevents it from being added to this queue\n * @throws NullPointerException if the specified element is null and\n *         this queue does not permit null elements\n * @throws IllegalArgumentException if some property of this element\n *         prevents it from being added to this queue\n */\nboolean add(E e);\n</code></pre>\n<p><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/Deque.java#L416\" rel=\"noreferrer\">Deque</a>:</p>\n<pre><code>/**\n * Inserts the specified element into the queue represented by this deque\n * (in other words, at the tail of this deque) if it is possible to do so\n * immediately without violating capacity restrictions, returning\n * {@code true} upon success and throwing an\n * {@code IllegalStateException} if no space is currently available.\n * When using a capacity-restricted deque, it is generally preferable to\n * use {@link #offer(Object) offer}.\n *\n * &lt;p&gt;This method is equivalent to {@link #addLast}.\n *\n * @param e the element to add\n * @return {@code true} (as specified by {@link Collection#add})\n * @throws IllegalStateException if the element cannot be added at this\n *         time due to capacity restrictions\n * @throws ClassCastException if the class of the specified element\n *         prevents it from being added to this deque\n * @throws NullPointerException if the specified element is null and this\n *         deque does not permit null elements\n * @throws IllegalArgumentException if some property of the specified\n *         element prevents it from being added to this deque\n */\nboolean add(E e);\n</code></pre>\n<p>The diff:</p>\n<p><a href=\"https://i.stack.imgur.com/J0Qgc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/J0Qgc.png\" alt=\"difference\" /></a></p>\n<p><sub>(diff created by P4Merge)</sub></p>\n<p>So when you use <code>Deque</code>s <code>add</code> method, you will see another Javadoc than when just using the <code>add</code> method of another <code>Queue</code>.</p>\n"}],"owner":{"account_id":21714721,"reputation":23,"user_id":16025919,"display_name":"James Smith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73517582,"answer_count":1,"score":2,"last_activity_date":1661680405,"creation_date":1661678952,"question_id":73517501,"body_markdown":"Just looking Java Collections and I see the List interface, which extends the Collection interface, also contains the exact same method signatures in the Collection interface -- but not all of them just a subset. My question is why? Since it extends it, we know it will inherit them all by default. And why a subset? \r\n\r\nThe same can be seen with the Deque extending the Queue, containing all the method signatures of the Queue. Doesn&#39;t this make it harder to know what&#39;s unique about that interface?\r\n\r\nHere is a simple example of the above:\r\n\r\n```java\r\npublic interface A {\r\n   void someMethod();\r\n}\r\n```\r\n```java\r\npublic interface B extends A {\r\n   void someMethod(); // why make this explicit?\r\n   void anotherMethod();\r\n}\r\n```","title":"Interfaces extending other interfaces but also containing same methods","body":"<p>Just looking Java Collections and I see the List interface, which extends the Collection interface, also contains the exact same method signatures in the Collection interface -- but not all of them just a subset. My question is why? Since it extends it, we know it will inherit them all by default. And why a subset?</p>\n<p>The same can be seen with the Deque extending the Queue, containing all the method signatures of the Queue. Doesn't this make it harder to know what's unique about that interface?</p>\n<p>Here is a simple example of the above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A {\n   void someMethod();\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public interface B extends A {\n   void someMethod(); // why make this explicit?\n   void anotherMethod();\n}\n</code></pre>\n"},{"tags":["java","c#",".net","spring-boot","jdbctemplate"],"answers":[{"tags":[],"owner":{"account_id":3720263,"reputation":1076,"user_id":3095500,"display_name":"utrucceh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661172745,"creation_date":1661172745,"answer_id":73445441,"question_id":73410453,"body_markdown":"You don&#39;t need to write like that. If you use Entity framework like **eclipseLink** or **hibernate** they are automatically mapping. \r\nFor example with your types:\r\n\r\n    @Entity\r\n    @Table(name = &quot;Product&quot;)\r\n    @XmlRootElement\r\n    public class Product implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 1L;\r\n    \r\n        @Id\r\n        @Basic(optional = false)\r\n        @Column(nullable = false)\r\n        private Long productId;\r\n    \r\n        @Basic(optional = false)\r\n        @Column(name = &quot;PRODUCT_NAME&quot;, nullable = false, length = 200)\r\n        private String productName;\r\n        @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Supplier&gt; suppliers;\r\n        @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\r\n        private List&lt;Location&gt; locations;\r\n        \r\n        //set get\r\n    \r\n        \r\n    }\r\n\r\nYou can write your query simply like this:\r\n\r\n    List&lt;Product&gt; lst = em.createQuery(&quot;select a from Product a&quot;,Product.class).getResultList();\r\n    System.out.println(lst.getSuppliers().size());\r\n\r\nEntity framework will automaticly fill those values but in any way I dont recommend this auto fetches for big systems for performance and ram usage.\r\n\r\n","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>You don't need to write like that. If you use Entity framework like <strong>eclipseLink</strong> or <strong>hibernate</strong> they are automatically mapping.\nFor example with your types:</p>\n<pre><code>@Entity\n@Table(name = &quot;Product&quot;)\n@XmlRootElement\npublic class Product implements Serializable {\n\n    private static final long serialVersionUID = 1L;\n\n    @Id\n    @Basic(optional = false)\n    @Column(nullable = false)\n    private Long productId;\n\n    @Basic(optional = false)\n    @Column(name = &quot;PRODUCT_NAME&quot;, nullable = false, length = 200)\n    private String productName;\n    @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\n    private List&lt;Supplier&gt; suppliers;\n    @OneToMany( mappedBy = &quot;productId&quot;, fetch = FetchType.LAZY)\n    private List&lt;Location&gt; locations;\n    \n    //set get\n\n    \n}\n</code></pre>\n<p>You can write your query simply like this:</p>\n<pre><code>List&lt;Product&gt; lst = em.createQuery(&quot;select a from Product a&quot;,Product.class).getResultList();\nSystem.out.println(lst.getSuppliers().size());\n</code></pre>\n<p>Entity framework will automaticly fill those values but in any way I dont recommend this auto fetches for big systems for performance and ram usage.</p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661679024,"creation_date":1661383501,"answer_id":73480426,"question_id":73410453,"body_markdown":"Java offers you different options to implement the desired behavior.\r\n\r\nFirst, as a naive solution, you could try using JDBC directly and iterate over the different results returned by your query, taking into consideration the last fetched result of every type, and build the corresponding object graph on your own.\r\n\r\nFor instance, given the following query (note that it is ordered):\r\n\r\n```sql \r\nselect pr.*, sp.*, loc.* from dbo.Product pr\r\ninner join dbo.Suppliers \r\n   on suppliers.productId = product.productId\r\ninner join dbo.Locations \r\n   on locations.productId = product.productId\r\norder by pr.productId, sp.supplierId, loc.locationId\r\n```\r\n\r\nYou can use something like the following to iterate and build your object graph:\r\n\r\n```java\r\n// You can use PreparedStatement as well if you prefer to\r\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\nLong lastProductId = null;\r\nProduct product = null;\r\nLong lastSupplierId = null;\r\nSupplier supplier = null;\r\nLong lastLocationId = null;\r\nLocation location = null;\r\ntry (Statement stmt = con.createStatement()) {\r\n     ResultSet rs = stmt.executeQuery(query);\r\n  while (rs.next()) {\r\n     Long productId = rs.getLong(&quot;ProductId&quot;);\r\n     if (lastProductId == null || productId != lastProductId) {\r\n       product = new Product();\r\n       products.add(product);\r\n\r\n       product.setProductId(productId);\r\n       product.setProductName(rs.getString(&quot;ProductName&quot;));\r\n       product.setSuppliers(new ArrayList&lt;&gt;());\r\n       product.setLocations(new ArrayList&lt;&gt;());\r\n\r\n       lastProductId = productId;\r\n       lastSupplierId = null;\r\n       lastLocationId = null;\r\n     }\r\n\r\n     // Suppliers\r\n     Long supplierId = rs.getLong(&quot;SupplierId&quot;);\r\n     if (lastSupplierId == null || supplierId != lastSupplierId) {\r\n       supplier = new Supplier();\r\n       product.getSuppliers().add(supplier);\r\n\r\n       supplier.setSupplierId(supplierId);\r\n       //...\r\n\r\n       lastSupplierId = supplierId;\r\n     }\r\n\r\n     // Locations\r\n     Long locationId = rs.getLong(&quot;LocationId&quot;);\r\n     if (lastLocationId == null || locationId != lastLocationId) {\r\n       location = new Location();\r\n       product.getLocations().add(location);\r\n\r\n       location.setLocationId(locationId);\r\n       //...\r\n\r\n       lastLocationId = locationId;\r\n     }\r\n\r\n\r\n  }\r\n} catch (SQLException e) {\r\n  e.printStackTrace();\r\n} \r\n```\r\n\r\nWith `JdbcTemplate` probably the way to go would be using [`queryForList`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForList-java.lang.String-java.lang.Object...-). Consider for instance:\r\n\r\n```java\r\n// Every Map in the list is composed by the column names as keys and \r\n// the corresponding values as values\r\nList&lt;Map&lt;String, Object&gt;&gt; rows = jdbcTemplate.queryForList(productQuery);\r\n\r\n// The same code as above, but taking the information from the result Maps\r\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\r\nLong lastProductId = null;\r\nProduct product = null;\r\nLong lastSupplierId = null;\r\nSupplier supplier = null;\r\nLong lastLocationId = null;\r\nLocation location = null;\r\nfor (Map row : rows) {\r\n  Long productId = (Long)row.get(&quot;ProductId&quot;);\r\n  if (lastProductId == null || productId != lastProductId) {\r\n     product = new Product();\r\n     products.add(product);\r\n\r\n     product.setProductId(productId);\r\n     product.setProductName((String)row.get(&quot;ProductName&quot;));\r\n     product.setSuppliers(new ArrayList&lt;&gt;());\r\n     product.setLocations(new ArrayList&lt;&gt;());\r\n\r\n     lastProductId = productId;\r\n     lastSupplierId = null;\r\n     lastLocationId = null;\r\n   }\r\n\r\n   // Suppliers\r\n   Long supplierId = (Long)row.get(&quot;supplierId&quot;);\r\n   if (lastSupplierId == null || supplierId != lastSupplierId) {\r\n     supplier = new Supplier();\r\n     product.getSuppliers().add(supplier);\r\n\r\n     supplier.setSupplierId(supplierId);\r\n     //...\r\n\r\n     lastSupplierId = supplierId;\r\n   }\r\n\r\n   // Locations\r\n   Long locationId = (Long)row.get(&quot;locationId&quot;);\r\n   if (lastLocationId == null || locationId != lastLocationId) {\r\n     location = new Location();\r\n     product.getLocations().add(location);\r\n\r\n     location.setLocationId(locationId);\r\n     //...\r\n\r\n     lastLocationId = locationId;\r\n   }\r\n} \r\n\r\n```\r\n\r\nAs you can see, both approaches are neither very extensible nor maintainable, although suitable.\r\n\r\nSimilarly to EntityFramework, Java provides different ORM that you can use to alleviate these problems.\r\n\r\nThe first one is [MyBatis](https://mybatis.org/mybatis-3/getting-started.html).\r\n\r\nSimplifying a lot, with MyBatis you need a `SqlSession`, an artifact that correctly configured will allow you to obtain a reference to a `Mapper`.\r\n\r\nA `Mapper` is just an interface that declares different methods, one per every operation you need to perform against the database. A typical code block will be by like the following:\r\n\r\n```java\r\ntry (SqlSession session = sqlSessionFactory.openSession()) {\r\n  ProductMapper mapper = session.getMapper(ProductMapper.class);\r\n  //...\r\n}\r\n```\r\n\r\nWhere:\r\n\r\n```java\r\npublic interface ProductMapper {\r\n  List&lt;Product&gt; getProducts();\r\n}\r\n```\r\n\r\nFor every `Mapper` you need to provide an associated [XML configuration file](https://mybatis.org/mybatis-3/sqlmap-xml.html). This file will define as namespace the `Mapper` and, typically, for every method defined in the `Mapper`, the appropriate configuration. For example:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n&lt;mapper namespace=“my.pkg.ProducMapper”&gt;\r\n\r\n  &lt;resultMap id=“productWithSuppliersAndLocationsResultMap&quot; type=“my.pkg.Product”&gt;\r\n\t&lt;id property=“productId”         column=“ProductId” /&gt;\r\n    &lt;result property=“productName”   column=“ProductName” /&gt;\r\n    &lt;collection property=“suppliers” ofType=“my.pkg.Supplier”&gt;\r\n      &lt;id property=“supplierId&quot;      column=“SupplierId” /&gt;\r\n      &lt;!— ... —/&gt;\r\n    &lt;/collection&gt;\r\n    &lt;collection property=“locations” ofType=“my.pkg.Location”&gt;\r\n      &lt;id property=“locationId&quot;     column=“LocationId” /&gt;\r\n      &lt;!— ... —/&gt;\r\n    &lt;/collection&gt;\r\n  &lt;/resultMap&gt;\r\n\r\n  &lt;select id=“getProducts” resultMap=&quot;productWithSuppliersAndLocationsResultMap&quot;&gt;\r\n   select pr.*, sp.*, loc.* from dbo.Product pr\r\n                 inner join dbo.Suppliers \r\n                     on suppliers.productId = product.productId\r\n                 inner join dbo.Locations \r\n                     on locations.productId = product.productId\r\n       order by pr.productId, sp.supplierId, loc.locationId\r\n  &lt;/select&gt;\r\n\r\n&lt;/mapper&gt;\r\n```\r\n\r\nAs you can guess, it will use Reflection to populate the different properties from the provided SQL statement according to the provided `resultMap`.\r\n\r\nIt can be easily [integrated with Spring](http://mybatis.org/spring/) as well.\r\n\r\nOne more option, as explained as well by @utrucceh in his/her answer, is the use of [JPA](https://docs.oracle.com/javaee/6/tutorial/doc/bnbpz.html), which is the Java _de jure_ ORM standard.\r\n\r\nTo deal with it, you first need to transform your plain objects in [entities](https://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html), defining their columns and the relations within them. For example:\r\n\r\n```java\r\n@Entity\r\n@Table(name = &quot;Products&quot;)\r\npublic class Product  {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long productId;\r\n\r\n    @Column(name = “ProductName”, nullable = false)\r\n    private String productName;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;Supplier&gt; suppliers;\r\n\r\n    @OneToMany(mappedBy = &quot;product&quot;)\r\n    private List&lt;Location&gt; locations;\r\n    \r\n    //…\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name=“Suppliers”)\r\npublic class Supplier {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long supplierId;\r\n\r\n  @ManyToOne(fetch= FetchType.LAZY)\r\n  @JoinColumn(name=“productId”, nullable = false)\r\n  private Product product;\r\n\r\n  //…\r\n\r\n}\r\n\r\n@Entity\r\n@Table(name=“Locations”)\r\npublic class Location {\r\n\r\n  @Id\r\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n  private Long locationId;\r\n\r\n  @ManyToOne(fetch= FetchType.LAZY)\r\n  @JoinColumn(name=“productId”, nullable = false)\r\n  private Product product;\r\n\r\n  //…\r\n\r\n}\r\n```\r\n\r\nThis object graph can be queried in different ways.\r\n\r\nFor instance, you can use the [Criteria API](https://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html).\r\n\r\nThe code could be something similar to the following:\r\n\r\n```java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nCriteriaBuilder cb = em.getCriteriaBuilder();\r\n\r\nCriteriaQuery&lt;Product&gt; query = cb.createQuery(Product.class);\r\nRoot&lt;Product&gt; root = query.from(Product.class);\r\nquery.select(root);\r\n// Using fetchJoin will instruct the ORM to fetch, equivalent in a certain\r\n// way to Include(), your results. The JPA implementation will do it best to\r\n// optimize the way to return the actual information\r\nJoin&lt;Product, Supplier&gt; joinSuppliers = root.fetchJoin(&quot;suppliers&quot;, JoinType.INNER);\r\nJoin&lt;Product, Location&gt; joinLocations = root.fetchJoin(&quot;locations&quot;, JoinType.INNER);\r\nList&lt;Product&gt; results = query.getResultList();\r\n```\r\n\r\n\r\n\r\nAs an alternative, you could provide your SQL query as well, for example:\r\n\r\n```java\r\nEntityManager em = entityManagerFactory.createEntityManager();\r\nQuery query = em.createQuery(\r\n  &quot;SELECT DISTINCT pr FROM Product pr\r\n          INNER JOIN FETCH pr.suppliers s\r\n          INNER JOIN FETCH pr.locations l\r\n  &quot;);\r\nList&lt;Product&gt; resultList = query.getResultList();\r\n```\r\n\r\nSorry for the brevity of the examples, but both JPA and MyBatis are very extensive subjects.\r\n\r\nJPA implementations like [Hibernate](https://hibernate.org/) can be easily integrated with Spring.\r\n\r\nThe [Spring Data JPA](https://spring.io/projects/spring-data-jpa) project provides great value added as well.\r\n\r\nI realize that in my answer I actually didn&#39;t answer your question, I just provided different alternatives to achieve the desired results.\r\n\r\nThe actual answer is no, AFAIK `JdbcTemplate` doesn&#39;t include any functionally similar to the one provided by `Include`.\r\n\r\nIn Entity Framework `Include` identify the set of related entities you want to be fetched with the parent result.\r\n\r\nIn Java, the more similar approach to `Include` will be using JPA, with their entities and relationships as suggested, and the use of `fetchJoin` or a `FETCH JOIN` clause in your SQL query like indicated: that will actually fetch the related entities you need to.","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>Java offers you different options to implement the desired behavior.</p>\n<p>First, as a naive solution, you could try using JDBC directly and iterate over the different results returned by your query, taking into consideration the last fetched result of every type, and build the corresponding object graph on your own.</p>\n<p>For instance, given the following query (note that it is ordered):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>select pr.*, sp.*, loc.* from dbo.Product pr\ninner join dbo.Suppliers \n   on suppliers.productId = product.productId\ninner join dbo.Locations \n   on locations.productId = product.productId\norder by pr.productId, sp.supplierId, loc.locationId\n</code></pre>\n<p>You can use something like the following to iterate and build your object graph:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// You can use PreparedStatement as well if you prefer to\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\nLong lastProductId = null;\nProduct product = null;\nLong lastSupplierId = null;\nSupplier supplier = null;\nLong lastLocationId = null;\nLocation location = null;\ntry (Statement stmt = con.createStatement()) {\n     ResultSet rs = stmt.executeQuery(query);\n  while (rs.next()) {\n     Long productId = rs.getLong(&quot;ProductId&quot;);\n     if (lastProductId == null || productId != lastProductId) {\n       product = new Product();\n       products.add(product);\n\n       product.setProductId(productId);\n       product.setProductName(rs.getString(&quot;ProductName&quot;));\n       product.setSuppliers(new ArrayList&lt;&gt;());\n       product.setLocations(new ArrayList&lt;&gt;());\n\n       lastProductId = productId;\n       lastSupplierId = null;\n       lastLocationId = null;\n     }\n\n     // Suppliers\n     Long supplierId = rs.getLong(&quot;SupplierId&quot;);\n     if (lastSupplierId == null || supplierId != lastSupplierId) {\n       supplier = new Supplier();\n       product.getSuppliers().add(supplier);\n\n       supplier.setSupplierId(supplierId);\n       //...\n\n       lastSupplierId = supplierId;\n     }\n\n     // Locations\n     Long locationId = rs.getLong(&quot;LocationId&quot;);\n     if (lastLocationId == null || locationId != lastLocationId) {\n       location = new Location();\n       product.getLocations().add(location);\n\n       location.setLocationId(locationId);\n       //...\n\n       lastLocationId = locationId;\n     }\n\n\n  }\n} catch (SQLException e) {\n  e.printStackTrace();\n} \n</code></pre>\n<p>With <code>JdbcTemplate</code> probably the way to go would be using <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/jdbc/core/JdbcTemplate.html#queryForList-java.lang.String-java.lang.Object...-\" rel=\"nofollow noreferrer\"><code>queryForList</code></a>. Consider for instance:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Every Map in the list is composed by the column names as keys and \n// the corresponding values as values\nList&lt;Map&lt;String, Object&gt;&gt; rows = jdbcTemplate.queryForList(productQuery);\n\n// The same code as above, but taking the information from the result Maps\nList&lt;Product&gt; products = new ArrayList&lt;&gt;();\nLong lastProductId = null;\nProduct product = null;\nLong lastSupplierId = null;\nSupplier supplier = null;\nLong lastLocationId = null;\nLocation location = null;\nfor (Map row : rows) {\n  Long productId = (Long)row.get(&quot;ProductId&quot;);\n  if (lastProductId == null || productId != lastProductId) {\n     product = new Product();\n     products.add(product);\n\n     product.setProductId(productId);\n     product.setProductName((String)row.get(&quot;ProductName&quot;));\n     product.setSuppliers(new ArrayList&lt;&gt;());\n     product.setLocations(new ArrayList&lt;&gt;());\n\n     lastProductId = productId;\n     lastSupplierId = null;\n     lastLocationId = null;\n   }\n\n   // Suppliers\n   Long supplierId = (Long)row.get(&quot;supplierId&quot;);\n   if (lastSupplierId == null || supplierId != lastSupplierId) {\n     supplier = new Supplier();\n     product.getSuppliers().add(supplier);\n\n     supplier.setSupplierId(supplierId);\n     //...\n\n     lastSupplierId = supplierId;\n   }\n\n   // Locations\n   Long locationId = (Long)row.get(&quot;locationId&quot;);\n   if (lastLocationId == null || locationId != lastLocationId) {\n     location = new Location();\n     product.getLocations().add(location);\n\n     location.setLocationId(locationId);\n     //...\n\n     lastLocationId = locationId;\n   }\n} \n\n</code></pre>\n<p>As you can see, both approaches are neither very extensible nor maintainable, although suitable.</p>\n<p>Similarly to EntityFramework, Java provides different ORM that you can use to alleviate these problems.</p>\n<p>The first one is <a href=\"https://mybatis.org/mybatis-3/getting-started.html\" rel=\"nofollow noreferrer\">MyBatis</a>.</p>\n<p>Simplifying a lot, with MyBatis you need a <code>SqlSession</code>, an artifact that correctly configured will allow you to obtain a reference to a <code>Mapper</code>.</p>\n<p>A <code>Mapper</code> is just an interface that declares different methods, one per every operation you need to perform against the database. A typical code block will be by like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (SqlSession session = sqlSessionFactory.openSession()) {\n  ProductMapper mapper = session.getMapper(ProductMapper.class);\n  //...\n}\n</code></pre>\n<p>Where:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface ProductMapper {\n  List&lt;Product&gt; getProducts();\n}\n</code></pre>\n<p>For every <code>Mapper</code> you need to provide an associated <a href=\"https://mybatis.org/mybatis-3/sqlmap-xml.html\" rel=\"nofollow noreferrer\">XML configuration file</a>. This file will define as namespace the <code>Mapper</code> and, typically, for every method defined in the <code>Mapper</code>, the appropriate configuration. For example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\n&lt;mapper namespace=“my.pkg.ProducMapper”&gt;\n\n  &lt;resultMap id=“productWithSuppliersAndLocationsResultMap&quot; type=“my.pkg.Product”&gt;\n    &lt;id property=“productId”         column=“ProductId” /&gt;\n    &lt;result property=“productName”   column=“ProductName” /&gt;\n    &lt;collection property=“suppliers” ofType=“my.pkg.Supplier”&gt;\n      &lt;id property=“supplierId&quot;      column=“SupplierId” /&gt;\n      &lt;!— ... —/&gt;\n    &lt;/collection&gt;\n    &lt;collection property=“locations” ofType=“my.pkg.Location”&gt;\n      &lt;id property=“locationId&quot;     column=“LocationId” /&gt;\n      &lt;!— ... —/&gt;\n    &lt;/collection&gt;\n  &lt;/resultMap&gt;\n\n  &lt;select id=“getProducts” resultMap=&quot;productWithSuppliersAndLocationsResultMap&quot;&gt;\n   select pr.*, sp.*, loc.* from dbo.Product pr\n                 inner join dbo.Suppliers \n                     on suppliers.productId = product.productId\n                 inner join dbo.Locations \n                     on locations.productId = product.productId\n       order by pr.productId, sp.supplierId, loc.locationId\n  &lt;/select&gt;\n\n&lt;/mapper&gt;\n</code></pre>\n<p>As you can guess, it will use Reflection to populate the different properties from the provided SQL statement according to the provided <code>resultMap</code>.</p>\n<p>It can be easily <a href=\"http://mybatis.org/spring/\" rel=\"nofollow noreferrer\">integrated with Spring</a> as well.</p>\n<p>One more option, as explained as well by @utrucceh in his/her answer, is the use of <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbpz.html\" rel=\"nofollow noreferrer\">JPA</a>, which is the Java <em>de jure</em> ORM standard.</p>\n<p>To deal with it, you first need to transform your plain objects in <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/bnbqa.html\" rel=\"nofollow noreferrer\">entities</a>, defining their columns and the relations within them. For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;Products&quot;)\npublic class Product  {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long productId;\n\n    @Column(name = “ProductName”, nullable = false)\n    private String productName;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;Supplier&gt; suppliers;\n\n    @OneToMany(mappedBy = &quot;product&quot;)\n    private List&lt;Location&gt; locations;\n    \n    //…\n\n}\n\n@Entity\n@Table(name=“Suppliers”)\npublic class Supplier {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long supplierId;\n\n  @ManyToOne(fetch= FetchType.LAZY)\n  @JoinColumn(name=“productId”, nullable = false)\n  private Product product;\n\n  //…\n\n}\n\n@Entity\n@Table(name=“Locations”)\npublic class Location {\n\n  @Id\n  @GeneratedValue(strategy = GenerationType.IDENTITY)\n  private Long locationId;\n\n  @ManyToOne(fetch= FetchType.LAZY)\n  @JoinColumn(name=“productId”, nullable = false)\n  private Product product;\n\n  //…\n\n}\n</code></pre>\n<p>This object graph can be queried in different ways.</p>\n<p>For instance, you can use the <a href=\"https://docs.oracle.com/javaee/6/tutorial/doc/gjitv.html\" rel=\"nofollow noreferrer\">Criteria API</a>.</p>\n<p>The code could be something similar to the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nCriteriaBuilder cb = em.getCriteriaBuilder();\n\nCriteriaQuery&lt;Product&gt; query = cb.createQuery(Product.class);\nRoot&lt;Product&gt; root = query.from(Product.class);\nquery.select(root);\n// Using fetchJoin will instruct the ORM to fetch, equivalent in a certain\n// way to Include(), your results. The JPA implementation will do it best to\n// optimize the way to return the actual information\nJoin&lt;Product, Supplier&gt; joinSuppliers = root.fetchJoin(&quot;suppliers&quot;, JoinType.INNER);\nJoin&lt;Product, Location&gt; joinLocations = root.fetchJoin(&quot;locations&quot;, JoinType.INNER);\nList&lt;Product&gt; results = query.getResultList();\n</code></pre>\n<p>As an alternative, you could provide your SQL query as well, for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManager em = entityManagerFactory.createEntityManager();\nQuery query = em.createQuery(\n  &quot;SELECT DISTINCT pr FROM Product pr\n          INNER JOIN FETCH pr.suppliers s\n          INNER JOIN FETCH pr.locations l\n  &quot;);\nList&lt;Product&gt; resultList = query.getResultList();\n</code></pre>\n<p>Sorry for the brevity of the examples, but both JPA and MyBatis are very extensive subjects.</p>\n<p>JPA implementations like <a href=\"https://hibernate.org/\" rel=\"nofollow noreferrer\">Hibernate</a> can be easily integrated with Spring.</p>\n<p>The <a href=\"https://spring.io/projects/spring-data-jpa\" rel=\"nofollow noreferrer\">Spring Data JPA</a> project provides great value added as well.</p>\n<p>I realize that in my answer I actually didn't answer your question, I just provided different alternatives to achieve the desired results.</p>\n<p>The actual answer is no, AFAIK <code>JdbcTemplate</code> doesn't include any functionally similar to the one provided by <code>Include</code>.</p>\n<p>In Entity Framework <code>Include</code> identify the set of related entities you want to be fetched with the parent result.</p>\n<p>In Java, the more similar approach to <code>Include</code> will be using JPA, with their entities and relationships as suggested, and the use of <code>fetchJoin</code> or a <code>FETCH JOIN</code> clause in your SQL query like indicated: that will actually fetch the related entities you need to.</p>\n"}],"owner":{"account_id":21004999,"reputation":788,"user_id":15435022,"display_name":"mattsmith5"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":824,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73480426,"answer_count":2,"score":1,"last_activity_date":1661679024,"creation_date":1660865693,"question_id":73410453,"body_markdown":"Does Java JDBC Template have the equivalent of Entity Framework Linq Include? Whats the best way to conduct this if not in the JDBCTemplate library?\r\n\r\nFor example in .Net, the following example would map a single-to-many database relationship into Product Class, with Suppliers and Locations below automatically.\r\n\r\n\r\n**SQL**\r\n\r\n    select * from dbo.Product\r\n    inner join dbo.Suppliers \r\n       on suppliers.productId = product.productId\r\n    inner join dbo.Locations \r\n       on locations.productId = product.productId\r\n\r\n**Target Class:**\r\n\r\n    public class Product{\r\n        private Long productId;\r\n        private String productName;\r\n        private List&lt;Supplier&gt; suppliers; \r\n        private List&lt;Location&gt; locations;   \r\n    }\r\n\r\n\r\n\r\n**C#**\r\n\r\n    List&lt;Product&gt; productList = dbContext.Product.Include(x=&gt;x.Supplier)\r\n                  .Include(x=&gt;x.Location);\r\n\r\n\r\n**Java JDBC Template Proposed Solution:**\r\n\r\nHow can this be done with Java and JDBC Template? Is there a clean way? I am thinking of converting the sql query into JSON for suppliers and locations, and mapping.\r\n\r\n\r\n\r\n    String productQuery = \r\n      SELECT pr.productId\r\n          ,pr.productName\r\n            ,(select *\r\n              from dbo.Supplier supp\r\n            where supp.supplierId = pr.supplierId\r\n          for json auto) as SuppliersJson\r\n            ,(select *\r\n              from dbo.Location loc\r\n            where loc.locationId = pr.locationId\r\n          for json auto) as LocationsJson\r\n      FROM dbo.Product pr;\r\n\r\nWith this, \r\n\r\n    List&lt;Product&gt; products = namedJdbcTemplate.queryForObject(productQuery, new ProductMapper());\r\n\r\n    @Override\r\n    public ProductMapper mapRow(ResultSet rs, int rowNum) throws SQLException {\r\n        Product product = new Product();\r\n        product.setProductId(rs.getLong(&quot;ProductId&quot;));\r\n        product.setProductName(rs.getString(&quot;ProductName&quot;));\r\n        product.setSuppliers(new ObjectMapper().readValue(suppliersJson, Supplier.class));\r\n        product.setLocations(new ObjectMapper().readValue(locationsJson, Location.class));\r\n        return product;\r\n    }\r\n","title":"Java JDBC Template Equivalent for EntityFramework Include, map join list into subclass","body":"<p>Does Java JDBC Template have the equivalent of Entity Framework Linq Include? Whats the best way to conduct this if not in the JDBCTemplate library?</p>\n<p>For example in .Net, the following example would map a single-to-many database relationship into Product Class, with Suppliers and Locations below automatically.</p>\n<p><strong>SQL</strong></p>\n<pre><code>select * from dbo.Product\ninner join dbo.Suppliers \n   on suppliers.productId = product.productId\ninner join dbo.Locations \n   on locations.productId = product.productId\n</code></pre>\n<p><strong>Target Class:</strong></p>\n<pre><code>public class Product{\n    private Long productId;\n    private String productName;\n    private List&lt;Supplier&gt; suppliers; \n    private List&lt;Location&gt; locations;   \n}\n</code></pre>\n<p><strong>C#</strong></p>\n<pre><code>List&lt;Product&gt; productList = dbContext.Product.Include(x=&gt;x.Supplier)\n              .Include(x=&gt;x.Location);\n</code></pre>\n<p><strong>Java JDBC Template Proposed Solution:</strong></p>\n<p>How can this be done with Java and JDBC Template? Is there a clean way? I am thinking of converting the sql query into JSON for suppliers and locations, and mapping.</p>\n<pre><code>String productQuery = \n  SELECT pr.productId\n      ,pr.productName\n        ,(select *\n          from dbo.Supplier supp\n        where supp.supplierId = pr.supplierId\n      for json auto) as SuppliersJson\n        ,(select *\n          from dbo.Location loc\n        where loc.locationId = pr.locationId\n      for json auto) as LocationsJson\n  FROM dbo.Product pr;\n</code></pre>\n<p>With this,</p>\n<pre><code>List&lt;Product&gt; products = namedJdbcTemplate.queryForObject(productQuery, new ProductMapper());\n\n@Override\npublic ProductMapper mapRow(ResultSet rs, int rowNum) throws SQLException {\n    Product product = new Product();\n    product.setProductId(rs.getLong(&quot;ProductId&quot;));\n    product.setProductName(rs.getString(&quot;ProductName&quot;));\n    product.setSuppliers(new ObjectMapper().readValue(suppliersJson, Supplier.class));\n    product.setLocations(new ObjectMapper().readValue(locationsJson, Location.class));\n    return product;\n}\n</code></pre>\n"},{"tags":["java","ebean","db2-400"],"comments":[{"owner":{"account_id":904213,"reputation":1004,"user_id":939484,"display_name":"Dam"},"score":0,"creation_date":1650056626,"post_id":71888158,"comment_id":127034063,"body_markdown":"Data is too big to use a transaction and do a rollback if anything go wrong?","body":"Data is too big to use a transaction and do a rollback if anything go wrong?"}],"answers":[{"tags":[],"owner":{"account_id":24018229,"reputation":313,"user_id":18000902,"display_name":"Omar Hussien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661679019,"creation_date":1661679019,"answer_id":73517510,"question_id":71888158,"body_markdown":"you can use **Savepoint** see [savepoints in ebean][1]:\r\n\r\n\r\n**transaction.setNestedUseSavepoint()** :\r\n\r\n&gt; can use transaction.setNestedUseSavepoint() to enable it to use Savepoint for nested transactions. This means that these nested transactions can be rolled back leaving the outer transaction to continue and potentially commit\r\n\r\n    // start &#39;outer&#39; transaction\r\n    try (Transaction outerTxn = database.beginTransaction()) {\r\n\r\n      outerTxn.setNestedUseSavepoint();\r\n\r\n      // save backup here...\r\n      \r\n\r\n      try (Transaction nestedTransaction = database.beginTransaction()) {\r\n        // nested transaction is a savepoint ...\r\n\r\n            // do some piece of work which we might want to either commit or   rollback ...\r\n        otherBean.save();\r\n\r\n        if (...) {\r\n          nestedTransaction.rollback();\r\n\r\n        } else {\r\n          nestedTransaction.commit();\r\n        }\r\n      }\r\n\r\n      // continue using &#39;outer&#39; transaction ...\r\n\r\n      outerTxn.commit();\r\n    }\r\n\r\n  [1]: https://ebean.io/docs/transactions/savepoints","title":"Temporary backup tables, if process fails restore","body":"<p>you can use <strong>Savepoint</strong> see <a href=\"https://ebean.io/docs/transactions/savepoints\" rel=\"nofollow noreferrer\">savepoints in ebean</a>:</p>\n<p><strong>transaction.setNestedUseSavepoint()</strong> :</p>\n<blockquote>\n<p>can use transaction.setNestedUseSavepoint() to enable it to use Savepoint for nested transactions. This means that these nested transactions can be rolled back leaving the outer transaction to continue and potentially commit</p>\n</blockquote>\n<pre><code>// start 'outer' transaction\ntry (Transaction outerTxn = database.beginTransaction()) {\n\n  outerTxn.setNestedUseSavepoint();\n\n  // save backup here...\n  \n\n  try (Transaction nestedTransaction = database.beginTransaction()) {\n    // nested transaction is a savepoint ...\n\n        // do some piece of work which we might want to either commit or   rollback ...\n    otherBean.save();\n\n    if (...) {\n      nestedTransaction.rollback();\n\n    } else {\n      nestedTransaction.commit();\n    }\n  }\n\n  // continue using 'outer' transaction ...\n\n  outerTxn.commit();\n}\n</code></pre>\n"}],"owner":{"account_id":1457901,"reputation":420,"user_id":1373031,"accept_rate":75,"display_name":"Peter"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661679019,"creation_date":1650051028,"question_id":71888158,"body_markdown":"I have an application that periodically downloads a large XML and saves it into a database. What is the proper way to deal with failure during the insertion process. Current process:\r\n\r\n1. download XML\r\n2. parse XML\r\n3. clear current data\r\n4. insert data into database &lt;= spans thousands of rows over 8 different tables\r\n\r\nI would like to be able to do a backup before step 4 and if step 4 fails restore the data from backup. Currently using ebean to do persistence. I was trying to use temporary tables and copy all data there and if case of failure copy data back, but I am not sure how to hold on to a single session while waiting for 4 to finish.","title":"Temporary backup tables, if process fails restore","body":"<p>I have an application that periodically downloads a large XML and saves it into a database. What is the proper way to deal with failure during the insertion process. Current process:</p>\n<ol>\n<li>download XML</li>\n<li>parse XML</li>\n<li>clear current data</li>\n<li>insert data into database &lt;= spans thousands of rows over 8 different tables</li>\n</ol>\n<p>I would like to be able to do a backup before step 4 and if step 4 fails restore the data from backup. Currently using ebean to do persistence. I was trying to use temporary tables and copy all data there and if case of failure copy data back, but I am not sure how to hold on to a single session while waiting for 4 to finish.</p>\n"},{"tags":["java","file","exception","interface"],"comments":[{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809196,"post_id":20057972,"comment_id":29876702,"body_markdown":"of course! what class do you need?","body":"of course! what class do you need?"},{"owner":{"account_id":893424,"reputation":725,"user_id":931258,"display_name":"SimplyPanda"},"score":0,"creation_date":1384809369,"post_id":20057972,"comment_id":29876794,"body_markdown":"Preferably both the interface and the class that implements it.","body":"Preferably both the interface and the class that implements it."},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809453,"post_id":20057972,"comment_id":29876842,"body_markdown":"public interface Playable {\n\t\n\tpublic void ImprimirDatos();\n\n}","body":"public interface Playable { \t \tpublic void ImprimirDatos();  }"},{"owner":{"account_id":893424,"reputation":725,"user_id":931258,"display_name":"SimplyPanda"},"score":0,"creation_date":1384809503,"post_id":20057972,"comment_id":29876876,"body_markdown":"Preferably edit it into the question in a readable manner.","body":"Preferably edit it into the question in a readable manner."},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384809509,"post_id":20057972,"comment_id":29876879,"body_markdown":"public void ImprimirDatos(){\n\t\tSystem.out.println (&quot;TITULO PELICULA: &quot; + getTitulo());\n\t\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector());\n\t\tSystem.out.println (&quot;ACTOR PRINCIPAL: &quot; + getActor() );\n\t\tSystem.out.println (&quot;FECHA: &quot; + getFecha());\n\t}","body":"public void ImprimirDatos(){ \t\tSystem.out.println (&quot;TITULO PELICULA: &quot; + getTitulo()); \t\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector()); \t\tSystem.out.println (&quot;ACTOR PRINCIPAL: &quot; + getActor() ); \t\tSystem.out.println (&quot;FECHA: &quot; + getFecha()); \t}"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1384809716,"post_id":20057972,"comment_id":29876991,"body_markdown":"It seems that the problem is with you operating with different `Serial Versions` of the class.","body":"It seems that the problem is with you operating with different <code>Serial Versions</code> of the class."},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1384809836,"post_id":20057972,"comment_id":29877047,"body_markdown":"This is not a compilation error but `run-time exception`. Do you get compilation error(s) as well?","body":"This is not a compilation error but <code>run-time exception</code>. Do you get compilation error(s) as well?"},{"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"score":0,"creation_date":1384814668,"post_id":20057972,"comment_id":29879410,"body_markdown":"I have edit the question and i have put the code of the interface and the function","body":"I have edit the question and i have put the code of the interface and the function"}],"answers":[{"tags":[],"owner":{"account_id":7421,"reputation":20226,"user_id":12890,"accept_rate":83,"display_name":"Arne Burmeister"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1384810919,"creation_date":1384810919,"answer_id":20058532,"question_id":20057972,"body_markdown":"You (or the library you use) have changed the class `Teatro` to create another serial format (changed/added/removed a member, changed the superclass, ...) **after** you have written an object of class `Teatro` to a stream.\r\n\r\nIf you are really sure, use a fixed id:\r\n\r\n    public class Teatro implements Serializable {\r\n      private static final long serialVersionUID = -8638492166751354209L;\r\n    \r\n      ...\r\n    }\r\n\r\n","title":"implement interface in java","body":"<p>You (or the library you use) have changed the class <code>Teatro</code> to create another serial format (changed/added/removed a member, changed the superclass, ...) <strong>after</strong> you have written an object of class <code>Teatro</code> to a stream.</p>\n\n<p>If you are really sure, use a fixed id:</p>\n\n<pre><code>public class Teatro implements Serializable {\n  private static final long serialVersionUID = -8638492166751354209L;\n\n  ...\n}\n</code></pre>\n"}],"owner":{"account_id":3519324,"reputation":1,"user_id":2942023,"display_name":"user2942023"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661678574,"creation_date":1384809018,"question_id":20057972,"body_markdown":"I am using an interface in java. I want to put the data in a file and when i compile the program appear this error:\r\n\r\n    java.io.InvalidClassException: Teatro; local class incompatible: stream classdesc      serialVersionUID = -8638492166751354209, local class serialVersionUID = 8721614984870769537\r\n\tat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readClassDesc(Unknown Source)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject0(Unknown Source)\r\n\tat java.io.ObjectInputStream.readObject(Unknown Source)\r\n\tat CarteleraProg.main(CarteleraProg.java:107)\r\n\r\n&gt; error Teatro; local class incompatible: stream classdesc\r\n&gt; serialVersionUID = -8638492166751354209, local class serialVersionUID\r\n&gt; = 8721614984870769537\r\n\r\n     public interface Playable {\r\n\t\r\n\tpublic void ImprimirDatos();\r\n\r\n     }\r\n\r\n     public void ImprimirDatos(){\r\n\tSystem.out.println (&quot;TITULO TEATRO: &quot; + getTitulo());\r\n\tSystem.out.println (&quot;DIRECTOR: &quot; + getDirector());\r\n\tSystem.out.println (&quot;ESCENOGRAFO: &quot; + getEsceno() );\r\n\tSystem.out.println (&quot;FECHA: &quot; + getFecha());\r\n       }\r\nWhat can i do to solve that?\r\n\r\nThank you very much","title":"implement interface in java","body":"<p>I am using an interface in java. I want to put the data in a file and when i compile the program appear this error:</p>\n\n<pre><code>java.io.InvalidClassException: Teatro; local class incompatible: stream classdesc      serialVersionUID = -8638492166751354209, local class serialVersionUID = 8721614984870769537\nat java.io.ObjectStreamClass.initNonProxy(Unknown Source)\nat java.io.ObjectInputStream.readNonProxyDesc(Unknown Source)\nat java.io.ObjectInputStream.readClassDesc(Unknown Source)\nat java.io.ObjectInputStream.readOrdinaryObject(Unknown Source)\nat java.io.ObjectInputStream.readObject0(Unknown Source)\nat java.io.ObjectInputStream.readObject(Unknown Source)\nat CarteleraProg.main(CarteleraProg.java:107)\n</code></pre>\n\n<blockquote>\n  <p>error Teatro; local class incompatible: stream classdesc\n  serialVersionUID = -8638492166751354209, local class serialVersionUID\n  = 8721614984870769537</p>\n</blockquote>\n\n<pre><code> public interface Playable {\n\npublic void ImprimirDatos();\n\n }\n\n public void ImprimirDatos(){\nSystem.out.println (\"TITULO TEATRO: \" + getTitulo());\nSystem.out.println (\"DIRECTOR: \" + getDirector());\nSystem.out.println (\"ESCENOGRAFO: \" + getEsceno() );\nSystem.out.println (\"FECHA: \" + getFecha());\n   }\n</code></pre>\n\n<p>What can i do to solve that?</p>\n\n<p>Thank you very much</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":4,"creation_date":1282284041,"post_id":3528420,"comment_id":3691520,"body_markdown":"possible duplicate of [Why we are Implementing Interfaces ?](http://stackoverflow.com/questions/1583654/why-we-are-implementing-interfaces)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/1583654/why-we-are-implementing-interfaces\">Why we are Implementing Interfaces ?</a>"},{"owner":{"account_id":1286307,"reputation":631,"user_id":1239295,"accept_rate":67,"display_name":"Bruce Sun"},"score":1,"creation_date":1467688544,"post_id":3528420,"comment_id":63814441,"body_markdown":"Also a good explanation [here](http://programmers.stackexchange.com/a/131334/146150).","body":"Also a good explanation <a href=\"http://programmers.stackexchange.com/a/131334/146150\">here</a>."}],"answers":[{"tags":[],"owner":{"display_name":"user377136"},"down_vote_count":0,"up_vote_count":55,"is_accepted":false,"score":55,"last_activity_date":1282282990,"creation_date":1282282990,"answer_id":3528446,"question_id":3528420,"body_markdown":"I would say the main use is polymorphism, or the ability to perform the same operation on a number of different objects. If different objects all implement the same interface and have the same method, you can store all of those objects in a Vector, for example, and iterate through the Vector calling that method on each one. ","title":"Why do we need interfaces in Java?","body":"<p>I would say the main use is polymorphism, or the ability to perform the same operation on a number of different objects. If different objects all implement the same interface and have the same method, you can store all of those objects in a Vector, for example, and iterate through the Vector calling that method on each one. </p>\n"},{"tags":[],"owner":{"account_id":86477,"reputation":192886,"user_id":240443,"accept_rate":79,"display_name":"Amadan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1282283027,"creation_date":1282283027,"answer_id":3528447,"question_id":3528420,"body_markdown":"You need them so you can type your objects outside the hierarchy.\r\n\r\nFor example, the objects that can be compared can be pretty much anywhere on the object hierarchy - they do not need to have a common ancestor which can be compared. `String`s can be compared, `Integer`s can be compared, you could even make your own `Frame`s that could be compared (say, a frame is &quot;less&quot; than another frame if it is more in the foreground - i.e. if it would overlay the other frame). Thus, if you want to refer to a thing that can be compared, you would be forced to declare a variable with the most general ancestor - in this case, `Object`. This is too general, because then it can also receive values which are not comparable (and would throw errors when you try to compare them).\r\n\r\nThus, the interface `Comparable`: it selects all the classes that implement the comparison functionality *across* the subclass-superclass hierarchy.","title":"Why do we need interfaces in Java?","body":"<p>You need them so you can type your objects outside the hierarchy.</p>\n\n<p>For example, the objects that can be compared can be pretty much anywhere on the object hierarchy - they do not need to have a common ancestor which can be compared. <code>String</code>s can be compared, <code>Integer</code>s can be compared, you could even make your own <code>Frame</code>s that could be compared (say, a frame is \"less\" than another frame if it is more in the foreground - i.e. if it would overlay the other frame). Thus, if you want to refer to a thing that can be compared, you would be forced to declare a variable with the most general ancestor - in this case, <code>Object</code>. This is too general, because then it can also receive values which are not comparable (and would throw errors when you try to compare them).</p>\n\n<p>Thus, the interface <code>Comparable</code>: it selects all the classes that implement the comparison functionality <em>across</em> the subclass-superclass hierarchy.</p>\n"},{"tags":[],"owner":{"account_id":142896,"reputation":35109,"user_id":350890,"accept_rate":100,"display_name":"Peter Tillemans"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1375198561,"creation_date":1282284801,"answer_id":3528552,"question_id":3528420,"body_markdown":"In addition to these responses I would say the most important use for interfaces is to reduce coupling between components in your software.\r\n\r\nAn interface allows to represent an agreement between classes on how they will talk to each other without being tied to the actual implementations. \r\n\r\nThis allows us to replace implementations by others (very useful for testing, or changing use cases) without changing the compiled code.","title":"Why do we need interfaces in Java?","body":"<p>In addition to these responses I would say the most important use for interfaces is to reduce coupling between components in your software.</p>\n\n<p>An interface allows to represent an agreement between classes on how they will talk to each other without being tied to the actual implementations. </p>\n\n<p>This allows us to replace implementations by others (very useful for testing, or changing use cases) without changing the compiled code.</p>\n"},{"tags":[],"owner":{"account_id":1295433,"reputation":3,"user_id":1624708,"display_name":"Danny Crossley"},"down_vote_count":7,"up_vote_count":1,"is_accepted":false,"score":-6,"last_activity_date":1348644703,"creation_date":1348486297,"answer_id":12564187,"question_id":3528420,"body_markdown":"Some code won&#39;t compile without it.\r\n\r\nFor example, in:\r\n\r\n    for (String name : list)\r\n    {\r\n        System.out.print(&quot;\\nIn foreach loop: name: &quot; + name);\r\n    }\r\n\r\n`list` must implement the `java.lang.Iterable interface`.","title":"Why do we need interfaces in Java?","body":"<p>Some code won't compile without it.</p>\n\n<p>For example, in:</p>\n\n<pre><code>for (String name : list)\n{\n    System.out.print(\"\\nIn foreach loop: name: \" + name);\n}\n</code></pre>\n\n<p><code>list</code> must implement the <code>java.lang.Iterable interface</code>.</p>\n"},{"tags":[],"owner":{"account_id":431656,"reputation":3970,"user_id":815864,"accept_rate":70,"display_name":"Thein"},"down_vote_count":1,"up_vote_count":51,"is_accepted":false,"score":50,"last_activity_date":1513277473,"creation_date":1371542295,"answer_id":17163473,"question_id":3528420,"body_markdown":"I was also thinking about how interfaces are used. I hope this will help others:\r\n\r\n&gt; An interface is a contract (or a protocol, or a common understanding)\r\n&gt; of what the classes can do. When a class implements a certain\r\n&gt; interface, it promises to provide implementation to all the abstract\r\n&gt; methods declared in the interface. Interface defines a set of common\r\n&gt; behaviors. The classes implement the interface agree to these\r\n&gt; behaviors and provide their own implementation to the behaviors. This\r\n&gt; allows you to program at the interface, instead of the actual\r\n&gt; implementation. One of the main usage of interface is provide a\r\n&gt; communication contract between two objects. If you know a class\r\n&gt; implements an interface, then you know that class contains concrete\r\n&gt; implementations of the methods declared in that interface, and you are\r\n&gt; guaranteed to be able to invoke these methods safely. In other words,\r\n&gt; two objects can communicate based on the contract defined in the\r\n&gt; interface, instead of their specific implementation.\r\n&gt; \r\n&gt; Secondly, Java does not support multiple inheritance (whereas C++\r\n&gt; does). Multiple inheritance permits you to derive a subclass from more\r\n&gt; than one direct superclass. This poses a problem if two direct\r\n&gt; superclasses have conflicting implementations. (Which one to follow in\r\n&gt; the subclass?). However, multiple inheritance does have its place.\r\n&gt; Java does this by permitting you to &quot;implements&quot; more than one\r\n&gt; interfaces (but you can only &quot;extends&quot; from a single superclass).\r\n&gt; Since interfaces contain only abstract methods without actual\r\n&gt; implementation, no conflict can arise among the multiple interfaces.\r\n&gt; (Interface can hold constants but is not recommended. If a subclass\r\n&gt; implements two interfaces with conflicting constants, the compiler\r\n&gt; will flag out a compilation error.)\r\n\r\nfrom: http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6","title":"Why do we need interfaces in Java?","body":"<p>I was also thinking about how interfaces are used. I hope this will help others:</p>\n\n<blockquote>\n  <p>An interface is a contract (or a protocol, or a common understanding)\n  of what the classes can do. When a class implements a certain\n  interface, it promises to provide implementation to all the abstract\n  methods declared in the interface. Interface defines a set of common\n  behaviors. The classes implement the interface agree to these\n  behaviors and provide their own implementation to the behaviors. This\n  allows you to program at the interface, instead of the actual\n  implementation. One of the main usage of interface is provide a\n  communication contract between two objects. If you know a class\n  implements an interface, then you know that class contains concrete\n  implementations of the methods declared in that interface, and you are\n  guaranteed to be able to invoke these methods safely. In other words,\n  two objects can communicate based on the contract defined in the\n  interface, instead of their specific implementation.</p>\n  \n  <p>Secondly, Java does not support multiple inheritance (whereas C++\n  does). Multiple inheritance permits you to derive a subclass from more\n  than one direct superclass. This poses a problem if two direct\n  superclasses have conflicting implementations. (Which one to follow in\n  the subclass?). However, multiple inheritance does have its place.\n  Java does this by permitting you to \"implements\" more than one\n  interfaces (but you can only \"extends\" from a single superclass).\n  Since interfaces contain only abstract methods without actual\n  implementation, no conflict can arise among the multiple interfaces.\n  (Interface can hold constants but is not recommended. If a subclass\n  implements two interfaces with conflicting constants, the compiler\n  will flag out a compilation error.)</p>\n</blockquote>\n\n<p>from: <a href=\"http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6\" rel=\"noreferrer\">http://www.ntu.edu.sg/home/ehchua/programming/java/J3b_OOPInheritancePolymorphism.html#zz-6.6</a></p>\n"},{"tags":[],"owner":{"account_id":23895789,"reputation":21,"user_id":17894788,"display_name":"Rohini Patil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1645122798,"creation_date":1645122798,"answer_id":71163612,"question_id":3528420,"body_markdown":"We need interfaces :\r\n1. To achieve total abstraction.\r\n2. To achieve security.\r\n3. Java doesn&#39;t allow multiple inheritance but it can be achieved by implementing multiples interfaces.","title":"Why do we need interfaces in Java?","body":"<p>We need interfaces :</p>\n<ol>\n<li>To achieve total abstraction.</li>\n<li>To achieve security.</li>\n<li>Java doesn't allow multiple inheritance but it can be achieved by implementing multiples interfaces.</li>\n</ol>\n"}],"owner":{"account_id":643209,"reputation":3263,"user_id":426008,"accept_rate":0,"display_name":"Vinoth Kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":102831,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"answer_count":6,"score":72,"last_activity_date":1661678276,"creation_date":1282282576,"question_id":3528420,"body_markdown":"In Java to implement multiple inheritance we use interfaces. Is it the only use of interfaces? If yes, what is the main use of interface in Java? Why do we need interfaces in Java?","title":"Why do we need interfaces in Java?","body":"<p>In Java to implement multiple inheritance we use interfaces. Is it the only use of interfaces? If yes, what is the main use of interface in Java? Why do we need interfaces in Java?</p>\n"},{"tags":["java","stdout","stderr"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":0,"creation_date":1353451519,"post_id":13483443,"comment_id":18448958,"body_markdown":"This is pretty much the norm for *NIX commands.","body":"This is pretty much the norm for *NIX commands."},{"owner":{"account_id":358715,"reputation":1714,"user_id":699665,"display_name":"MarkHu"},"score":2,"creation_date":1503612461,"post_id":13483443,"comment_id":78702128,"body_markdown":"Sadly, `javac -version` is also odd that way. Workaround: `java -version 2&gt;&amp;1 | egrep &#39;java|version&#39; --color`","body":"Sadly, <code>javac -version</code> is also odd that way. Workaround: <code>java -version 2&gt;&amp;1 | egrep &#39;java|version&#39; --color</code>"}],"answers":[{"tags":[],"owner":{"account_id":411142,"reputation":34084,"user_id":783412,"accept_rate":100,"display_name":"hd1"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1353451428,"creation_date":1353451428,"answer_id":13483485,"question_id":13483443,"body_markdown":"The workaround for this problem is:\r\n\r\n    java -version 2&gt; java_version.txt","title":"Why does &#39;java -version&#39; go to stderr?","body":"<p>The workaround for this problem is:</p>\n\n<pre><code>java -version 2&gt; java_version.txt\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":31,"is_accepted":true,"score":30,"last_activity_date":1661677556,"creation_date":1353451595,"answer_id":13483519,"question_id":13483443,"body_markdown":"&gt; Is there any special reason for the results of java -version going to stderr?\r\n\r\nAFAIK, there is no special reason.  It is just how the `java` command was / is implemented.  Probably all the way back to Java 1.0, though it would be very difficult to verify that.\r\n\r\nMy brief investigation shows that this behavior is *inconsistent* with how most Linux commands behave ... everything else I&#39;ve tried uses stdout for version information.  (After all, the version information is not &quot;error&quot; output.)  \r\n\r\nNote however `--version` / `-version` options are a convention rather than something required by any formal standard.  (The [GNU coding standards][1] state that commands should implement `--version` and that version info should be written to standard output.  But POSIX standards don&#39;t mention this, nor do the LSB standards.)\r\n\r\n------------------\r\n\r\nWhat can / should you do?\r\n\r\n - It should be easy to capture stderr instead of stdout in your shell script or batch file.\r\n - There shouldn&#39;t be any risk in doing this.  Oracle cannot change the Java tool chains to send `-version` output to stdout without potentially breaking customer scripts.  This is highly unlikely&lt;sup&gt;1&lt;/sup&gt;.\r\n\r\n&lt;sup&gt;1 - Here is evidence of just how unlikely it is: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614.  Note the &quot;Resolution: Wont Fix&quot; ... and the final comment.&lt;/sup&gt;\r\n\r\n------------------\r\n\r\n**UPDATE**\r\n\r\nIn Java 9, they introduced some new &quot;version&quot; command line options.  If you run `java -help 2&gt;&amp;1 | grep version` against a Java 11 installation you will see the following:\r\n\r\n    $ java -help 2&gt;&amp;1 | grep version\r\n        -version      print product version to the error stream and exit\r\n        --version     print product version to the output stream and exit\r\n        -showversion  print product version to the error stream and continue\r\n        --show-version\r\n                      print product version to the output stream and continue.\r\n\r\nSo if you are using Java 11 LTS or later, the solution will be to use `--version` rather that `-version` to get the version information.\r\n\r\n\r\n  [1]: http://www.gnu.org/prep/standards/html_node/_002d_002dversion.html","title":"Why does &#39;java -version&#39; go to stderr?","body":"<blockquote>\n<p>Is there any special reason for the results of java -version going to stderr?</p>\n</blockquote>\n<p>AFAIK, there is no special reason.  It is just how the <code>java</code> command was / is implemented.  Probably all the way back to Java 1.0, though it would be very difficult to verify that.</p>\n<p>My brief investigation shows that this behavior is <em>inconsistent</em> with how most Linux commands behave ... everything else I've tried uses stdout for version information.  (After all, the version information is not &quot;error&quot; output.)</p>\n<p>Note however <code>--version</code> / <code>-version</code> options are a convention rather than something required by any formal standard.  (The <a href=\"http://www.gnu.org/prep/standards/html_node/_002d_002dversion.html\" rel=\"nofollow noreferrer\">GNU coding standards</a> state that commands should implement <code>--version</code> and that version info should be written to standard output.  But POSIX standards don't mention this, nor do the LSB standards.)</p>\n<hr />\n<p>What can / should you do?</p>\n<ul>\n<li>It should be easy to capture stderr instead of stdout in your shell script or batch file.</li>\n<li>There shouldn't be any risk in doing this.  Oracle cannot change the Java tool chains to send <code>-version</code> output to stdout without potentially breaking customer scripts.  This is highly unlikely<sup>1</sup>.</li>\n</ul>\n<p><sup>1 - Here is evidence of just how unlikely it is: <a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug.do?bug_id=4380614</a>.  Note the &quot;Resolution: Wont Fix&quot; ... and the final comment.</sup></p>\n<hr />\n<p><strong>UPDATE</strong></p>\n<p>In Java 9, they introduced some new &quot;version&quot; command line options.  If you run <code>java -help 2&gt;&amp;1 | grep version</code> against a Java 11 installation you will see the following:</p>\n<pre><code>$ java -help 2&gt;&amp;1 | grep version\n    -version      print product version to the error stream and exit\n    --version     print product version to the output stream and exit\n    -showversion  print product version to the error stream and continue\n    --show-version\n                  print product version to the output stream and continue.\n</code></pre>\n<p>So if you are using Java 11 LTS or later, the solution will be to use <code>--version</code> rather that <code>-version</code> to get the version information.</p>\n"}],"owner":{"account_id":3108,"reputation":10370,"user_id":4411,"accept_rate":87,"display_name":"Jagger"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4811,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":13483519,"answer_count":2,"score":28,"last_activity_date":1661677556,"creation_date":1353451238,"question_id":13483443,"body_markdown":"Is there any special reason for the results of `java -version` going to `stderr`?\r\n\r\nFor example, this command executed from Windows&#39; prompt line:\r\n\r\n    java -version &gt; java_version.txt\r\n\r\nleaves the file `java_version.txt` empty.\r\n\r\nEDIT: The same happens with the help printed out after executing `java.exe` without any parameters.\r\n\r\nEDIT: Just out of a sheer curiosity I checked whether it has been always like that and it turned out it actually has. `java -version` goes to `stderr` in JDK 1.1.8 and also in JDK 1.2.2, however the outputs of `java.exe` without any parameters do not.","title":"Why does &#39;java -version&#39; go to stderr?","body":"<p>Is there any special reason for the results of <code>java -version</code> going to <code>stderr</code>?</p>\n\n<p>For example, this command executed from Windows' prompt line:</p>\n\n<pre><code>java -version &gt; java_version.txt\n</code></pre>\n\n<p>leaves the file <code>java_version.txt</code> empty.</p>\n\n<p>EDIT: The same happens with the help printed out after executing <code>java.exe</code> without any parameters.</p>\n\n<p>EDIT: Just out of a sheer curiosity I checked whether it has been always like that and it turned out it actually has. <code>java -version</code> goes to <code>stderr</code> in JDK 1.1.8 and also in JDK 1.2.2, however the outputs of <code>java.exe</code> without any parameters do not.</p>\n"},{"tags":["java","generics","strategy-pattern","generic-type-parameters"],"comments":[{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1661637035,"post_id":73514616,"comment_id":129820326,"body_markdown":"Sounds like your storage requirement is that things conform to a storable interface?","body":"Sounds like your storage requirement is that things conform to a storable interface?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1661659004,"post_id":73514616,"comment_id":129822478,"body_markdown":"Looks like this is a question about Java generics, not actually a question about the diamond operator.","body":"Looks like this is a question about Java generics, not actually a question about the diamond operator."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1661639153,"creation_date":1661638632,"answer_id":73514748,"question_id":73514616,"body_markdown":"In the second code sample in the declaration of the interface `StorageStrategy&lt;MyThingToStore&gt;`, `MyThingToStore` is a [Type Variable](https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4).\r\n\r\nI.e. it&#39;s not the actual type, only a placeholder for a type, like `T`. The common convention is to use single-letter generic *type variables* (`T`, `U`, `R`, etc.), otherwise it might look confusing like in this case.\r\n\r\n**Note** that in the class declarations, like:\r\n```\r\npublic class StorageUsingArrayListStrategy \r\n    implements StorageStrategy&lt;MyThingToStore&gt;\r\n```\r\n`MyThingToStore` is no longer a *type variable*, but the name of the class `MyThingToStore` because in this case *parameterized* interface is implemented by a *non-parameterized* class (i.e. the actual type known to the compile is expected to be provided).","title":"Question on diamond operator for design pattern strategy","body":"<p>In the second code sample in the declaration of the interface <code>StorageStrategy&lt;MyThingToStore&gt;</code>, <code>MyThingToStore</code> is a <a href=\"https://docs.oracle.com/javase/specs/jls/se17/html/jls-4.html#jls-4.4\" rel=\"nofollow noreferrer\">Type Variable</a>.</p>\n<p>I.e. it's not the actual type, only a placeholder for a type, like <code>T</code>. The common convention is to use single-letter generic <em>type variables</em> (<code>T</code>, <code>U</code>, <code>R</code>, etc.), otherwise it might look confusing like in this case.</p>\n<p><strong>Note</strong> that in the class declarations, like:</p>\n<pre><code>public class StorageUsingArrayListStrategy \n    implements StorageStrategy&lt;MyThingToStore&gt;\n</code></pre>\n<p><code>MyThingToStore</code> is no longer a <em>type variable</em>, but the name of the class <code>MyThingToStore</code> because in this case <em>parameterized</em> interface is implemented by a <em>non-parameterized</em> class (i.e. the actual type known to the compile is expected to be provided).</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1661639288,"creation_date":1661639288,"answer_id":73514803,"question_id":73514616,"body_markdown":"I think the confusion comes from how you named type parameter for `StorageStrategy` in your 2nd example.\r\n\r\nLet&#39;s name it `T` for type instead. `T` in this case is just a placeholder to express what type of objects your `StorageStrategy` can work with. \r\n\r\n    public interface StorageStrategy&lt;T&gt; {\r\n        void addToStore(T myThingToStore);\r\n        int getSize();\r\n    }\r\n\r\nE.g.\r\n\r\n    StorageStrategy&lt;MyThingToStore&gt; strategy1 = // Initialization \r\n    StorageStrategy&lt;String&gt; strategy2 = // Initialization \r\n    strategy1.addToStore(new MyThingToStore(&quot;Apple&quot;));\r\n    // This works fine, because strategy2 accepts &quot;String&quot; instead of &quot;MyThingToStore&quot;\r\n    strategy2.addToStore(&quot;Apple&quot;);\r\n    // Last line doesn&#39;t work, because strategy1 can only handle objects of type &quot;MyThingToStore&quot;\r\n    strategy1.addToStore(&quot;Apple&quot;);\r\n\r\nTo make it work properly, you need to change your different `StorageStrategy` implementations to also include the type parameter.\r\n\r\n    public class StorageUsingHashSetStrategy&lt;T&gt; implements StorageStrategy&lt;T&gt; {\r\n    \r\n        private final Set&lt;T&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n        @Override\r\n        public void addToStore(T myThingToStore) {\r\n            storeUsingHashSet.add(myThingToStore);\r\n        }\r\n    \r\n        @Override\r\n        public int getSize() {\r\n            return storeUsingHashSet.size();\r\n        }\r\n    \r\n    }\r\n\r\nAnd lastly you also want to have a type paremeter for `MyStorage`\r\n\r\n    public class MyStorage&lt;T&gt; {\r\n    \r\n        private final StorageStrategy&lt;T&gt; storageStrategy;\r\n    \r\n        public MyStorage(StorageStrategy&lt;T&gt; storageStrategy) {\r\n            this.storageStrategy = storageStrategy;\r\n        }\r\n    \r\n        public void addToStore(T myThingToStore) {\r\n            storageStrategy.addToStore(myThingToStore);\r\n        }\r\n    \r\n        public int getSize() {\r\n            return storageStrategy.getSize();\r\n        }\r\n    \r\n    }\r\n\r\nNow you can create a `MyStorage` and can use it to store essentially any object into it and not just `MyThingToStore`. Whether that is something you want or not is up to you.","title":"Question on diamond operator for design pattern strategy","body":"<p>I think the confusion comes from how you named type parameter for <code>StorageStrategy</code> in your 2nd example.</p>\n<p>Let's name it <code>T</code> for type instead. <code>T</code> in this case is just a placeholder to express what type of objects your <code>StorageStrategy</code> can work with.</p>\n<pre><code>public interface StorageStrategy&lt;T&gt; {\n    void addToStore(T myThingToStore);\n    int getSize();\n}\n</code></pre>\n<p>E.g.</p>\n<pre><code>StorageStrategy&lt;MyThingToStore&gt; strategy1 = // Initialization \nStorageStrategy&lt;String&gt; strategy2 = // Initialization \nstrategy1.addToStore(new MyThingToStore(&quot;Apple&quot;));\n// This works fine, because strategy2 accepts &quot;String&quot; instead of &quot;MyThingToStore&quot;\nstrategy2.addToStore(&quot;Apple&quot;);\n// Last line doesn't work, because strategy1 can only handle objects of type &quot;MyThingToStore&quot;\nstrategy1.addToStore(&quot;Apple&quot;);\n</code></pre>\n<p>To make it work properly, you need to change your different <code>StorageStrategy</code> implementations to also include the type parameter.</p>\n<pre><code>public class StorageUsingHashSetStrategy&lt;T&gt; implements StorageStrategy&lt;T&gt; {\n\n    private final Set&lt;T&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n    @Override\n    public void addToStore(T myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n</code></pre>\n<p>And lastly you also want to have a type paremeter for <code>MyStorage</code></p>\n<pre><code>public class MyStorage&lt;T&gt; {\n\n    private final StorageStrategy&lt;T&gt; storageStrategy;\n\n    public MyStorage(StorageStrategy&lt;T&gt; storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(T myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n}\n</code></pre>\n<p>Now you can create a <code>MyStorage</code> and can use it to store essentially any object into it and not just <code>MyThingToStore</code>. Whether that is something you want or not is up to you.</p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73514803,"answer_count":2,"score":0,"last_activity_date":1661677348,"creation_date":1661636784,"question_id":73514616,"body_markdown":"Small question regarding the diamond operator and design pattern strategy for Java, please.\r\n\r\nI would like to implement a very specific requirement:\r\n- there are some objects to store (in my example called ```MyThingToStore```)\r\n\r\n- and the requirement is to store them with different kinds of data structures, for comparison.\r\n\r\nTherefore, I went to try with a strategy pattern, where each of the strategies is a different way to store, I think this pattern is quite lovely.\r\n\r\nThe code is as follows:\r\n\r\n```\r\n\r\npublic class MyThingToStore {\r\n\r\n    private final String name;\r\n\r\n    public MyThingToStore(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        MyThingToStore that = (MyThingToStore) o;\r\n        return Objects.equals(name, that.name);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return Objects.hash(name);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;MyThingToStore{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\npublic class MyStorage {\r\n\r\n    private final StorageStrategy storageStrategy;\r\n\r\n    public MyStorage(StorageStrategy storageStrategy) {\r\n        this.storageStrategy = storageStrategy;\r\n    }\r\n\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storageStrategy.addToStore(myThingToStore);\r\n    }\r\n\r\n    public int getSize() {\r\n        return storageStrategy.getSize();\r\n    }\r\n\r\n}\r\n\r\npublic interface StorageStrategy {\r\n\r\n    void addToStore(MyThingToStore myThingToStore);\r\n\r\n    int getSize();\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingArrayListStrategy implements StorageStrategy {\r\n\r\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingArrayList.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingArrayList.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingHashSetStrategy implements StorageStrategy{\r\n\r\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingHashSet.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingHashSet.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        final StorageStrategy storageStrategy = new StorageUsingArrayListStrategy();\r\n        final MyStorage myStorage = new MyStorage(storageStrategy);\r\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\r\n    }\r\n}\r\n```\r\n\r\nAnd this is working fine, very happy, especially tackled the requirement &quot;easy to change the data structure to do the actual store&quot;.\r\n\r\n(By the way, side question, if there is an even better way to do this, please let me know!)\r\n\r\nNow, looking online at different implementations of strategy patterns, I see this diamond operator which I am having a hard time understanding:\r\n\r\n```\r\n\r\nMyThingToStore stays the same.\r\n\r\n\r\npublic class MyStorage {\r\n\r\n    private final StorageStrategy&lt;MyThingToStore&gt; storageStrategy; //note the diamond here\r\n\r\n    public MyStorage(StorageStrategy&lt;MyThingToStore&gt; storageStrategy) {\r\n        this.storageStrategy = storageStrategy;\r\n    }\r\n\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storageStrategy.addToStore(myThingToStore);\r\n    }\r\n\r\n    public int getSize() {\r\n        return storageStrategy.getSize();\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;MyStorage{&quot; +\r\n                &quot;storageStrategy=&quot; + storageStrategy +\r\n                &#39;}&#39;;\r\n    }\r\n\r\n}\r\n\r\n\r\npublic interface StorageStrategy&lt;MyThingToStore&gt; {\r\n    //note the diamond, and it will be colored differently in IDEs\r\n    void addToStore(MyThingToStore myThingToStore);\r\n\r\n    int getSize();\r\n\r\n}\r\n\r\npublic class StorageUsingArrayListStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\r\n\r\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingArrayList.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingArrayList.size();\r\n    }\r\n\r\n}\r\n\r\n\r\npublic class StorageUsingHashSetStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\r\n\r\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\r\n\r\n    @Override\r\n    public void addToStore(MyThingToStore myThingToStore) {\r\n        storeUsingHashSet.add(myThingToStore);\r\n    }\r\n\r\n    @Override\r\n    public int getSize() {\r\n        return storeUsingHashSet.size();\r\n    }\r\n\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        final StorageStrategy&lt;MyThingToStore&gt; storageStrategy = new StorageUsingArrayListStrategy();\r\n        final MyStorage myStorage = new MyStorage(storageStrategy);\r\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\r\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAnd both versions will yield the same good result, also be able to answer requirements.\r\n\r\nMy question is: what are the differences between the version without a diamond operator, and the version with the diamond operator, please?\r\n\r\nWhich of the two ways are &quot;better&quot; and why?\r\n\r\nWhile this question might appear to be &quot;too vague&quot;, I believe there is a reason for a better choice.","title":"Question on diamond operator for design pattern strategy","body":"<p>Small question regarding the diamond operator and design pattern strategy for Java, please.</p>\n<p>I would like to implement a very specific requirement:</p>\n<ul>\n<li><p>there are some objects to store (in my example called <code>MyThingToStore</code>)</p>\n</li>\n<li><p>and the requirement is to store them with different kinds of data structures, for comparison.</p>\n</li>\n</ul>\n<p>Therefore, I went to try with a strategy pattern, where each of the strategies is a different way to store, I think this pattern is quite lovely.</p>\n<p>The code is as follows:</p>\n<pre><code>\npublic class MyThingToStore {\n\n    private final String name;\n\n    public MyThingToStore(String name) {\n        this.name = name;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        MyThingToStore that = (MyThingToStore) o;\n        return Objects.equals(name, that.name);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(name);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyThingToStore{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                '}';\n    }\n\n}\n\npublic class MyStorage {\n\n    private final StorageStrategy storageStrategy;\n\n    public MyStorage(StorageStrategy storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(MyThingToStore myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n}\n\npublic interface StorageStrategy {\n\n    void addToStore(MyThingToStore myThingToStore);\n\n    int getSize();\n\n}\n\n\npublic class StorageUsingArrayListStrategy implements StorageStrategy {\n\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingArrayList.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingArrayList.size();\n    }\n\n}\n\n\npublic class StorageUsingHashSetStrategy implements StorageStrategy{\n\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final StorageStrategy storageStrategy = new StorageUsingArrayListStrategy();\n        final MyStorage myStorage = new MyStorage(storageStrategy);\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\n    }\n}\n</code></pre>\n<p>And this is working fine, very happy, especially tackled the requirement &quot;easy to change the data structure to do the actual store&quot;.</p>\n<p>(By the way, side question, if there is an even better way to do this, please let me know!)</p>\n<p>Now, looking online at different implementations of strategy patterns, I see this diamond operator which I am having a hard time understanding:</p>\n<pre><code>\nMyThingToStore stays the same.\n\n\npublic class MyStorage {\n\n    private final StorageStrategy&lt;MyThingToStore&gt; storageStrategy; //note the diamond here\n\n    public MyStorage(StorageStrategy&lt;MyThingToStore&gt; storageStrategy) {\n        this.storageStrategy = storageStrategy;\n    }\n\n    public void addToStore(MyThingToStore myThingToStore) {\n        storageStrategy.addToStore(myThingToStore);\n    }\n\n    public int getSize() {\n        return storageStrategy.getSize();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MyStorage{&quot; +\n                &quot;storageStrategy=&quot; + storageStrategy +\n                '}';\n    }\n\n}\n\n\npublic interface StorageStrategy&lt;MyThingToStore&gt; {\n    //note the diamond, and it will be colored differently in IDEs\n    void addToStore(MyThingToStore myThingToStore);\n\n    int getSize();\n\n}\n\npublic class StorageUsingArrayListStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\n\n    private final List&lt;MyThingToStore&gt; storeUsingArrayList = new ArrayList&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingArrayList.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingArrayList.size();\n    }\n\n}\n\n\npublic class StorageUsingHashSetStrategy implements StorageStrategy&lt;MyThingToStore&gt; {\n\n    private final Set&lt;MyThingToStore&gt; storeUsingHashSet = new HashSet&lt;&gt;();\n\n    @Override\n    public void addToStore(MyThingToStore myThingToStore) {\n        storeUsingHashSet.add(myThingToStore);\n    }\n\n    @Override\n    public int getSize() {\n        return storeUsingHashSet.size();\n    }\n\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n        final StorageStrategy&lt;MyThingToStore&gt; storageStrategy = new StorageUsingArrayListStrategy();\n        final MyStorage myStorage = new MyStorage(storageStrategy);\n        myStorage.addToStore(new MyThingToStore(&quot;firstItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        myStorage.addToStore(new MyThingToStore(&quot;duplicatedSecondItem&quot;));\n        System.out.println(myStorage.getSize()); //changing strategy will return a different size, working!\n    }\n}\n\n\n</code></pre>\n<p>And both versions will yield the same good result, also be able to answer requirements.</p>\n<p>My question is: what are the differences between the version without a diamond operator, and the version with the diamond operator, please?</p>\n<p>Which of the two ways are &quot;better&quot; and why?</p>\n<p>While this question might appear to be &quot;too vague&quot;, I believe there is a reason for a better choice.</p>\n"},{"tags":["java","android","firebase-realtime-database","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633344225,"post_id":69434598,"comment_id":122725916,"body_markdown":"How many images do you have in that directory?","body":"How many images do you have in that directory?"},{"owner":{"account_id":18263780,"reputation":190,"user_id":13295989,"display_name":"MrCreed"},"score":0,"creation_date":1633425826,"post_id":69434598,"comment_id":122750139,"body_markdown":"As I mentioned above some items have over 200 images so a rough estimate would be around 1000 images","body":"As I mentioned above some items have over 200 images so a rough estimate would be around 1000 images"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1633426102,"post_id":69434598,"comment_id":122750243,"body_markdown":"Try to use a [recursive method](https://stackoverflow.com/questions/60443829/how-do-i-upload-multiple-files-to-firebase-databse-in-order-as-in-arraylist/).","body":"Try to use a <a href=\"https://stackoverflow.com/questions/60443829/how-do-i-upload-multiple-files-to-firebase-databse-in-order-as-in-arraylist/\">recursive method</a>."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633357119,"creation_date":1633357119,"answer_id":69437579,"question_id":69434598,"body_markdown":"You&#39;re downloading all files in parallel, which means that memory consumption is going to go up as the number of files goes up. To limit the memory consumption, download the files one by one, or with a reasonable maximum number of parallel downloads.","title":"How to manage memory when downloading multiple files from firebase in Android","body":"<p>You're downloading all files in parallel, which means that memory consumption is going to go up as the number of files goes up. To limit the memory consumption, download the files one by one, or with a reasonable maximum number of parallel downloads.</p>\n"}],"owner":{"account_id":18263780,"reputation":190,"user_id":13295989,"display_name":"MrCreed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69437579,"answer_count":1,"score":0,"last_activity_date":1661676803,"creation_date":1633343962,"question_id":69434598,"body_markdown":"I have an images directory in Firebase Storage and I am trying to download all the files in that directory to my app. each image has a corresponding field in the database that stores its name the downloads are mostly successful but the app freezes and gets an App Not Responding prompt when you try to interact with ui or crashes after a while when you just wait.\r\n\r\nbelow is the code I use to download the images to my app&#39;s storage directory\r\n\r\n    private void downloadAllTopicsAndFirstItems(Activity activity) {\r\n        databaseReference.child(FIREBASE_TOPIC_NODE).addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                int count = 0;\r\n                for (DataSnapshot snap : snapshot.getChildren()) {\r\n                    Topic topic = snap.getValue(Topic.class);\r\n                    if (topic == null) return;\r\n                    if (topic.getItems() != null) topic.setTotalItems(topic.getItems().size());\r\n                    File fileTopic = new File(activity.getFilesDir(), topic.getFirebaseImageNode() + &quot;.jpg&quot;);\r\n                    Topic topic1 = new Topic();\r\n                    LiveData&lt;Topic&gt; topicWithId = viewModel.getTopicWithId(topic.getId());\r\n                    topicWithId.observe((LifecycleOwner) activity, topic2 -&gt; {\r\n                        if (topic2 != null) {\r\n                            topic1.setId(topic2.getId());\r\n                            topic1.setFirebaseImageNode(topic2.getFirebaseImageNode());\r\n                            topic1.setImageUrl(topic2.getImageUrl());\r\n                            topic1.setTitle(topic2.getTitle());\r\n                            topic1.setDescription(topic2.getDescription());\r\n                            topicWithId.removeObservers((LifecycleOwner) activity);\r\n                        }\r\n                    });\r\n                    if (!fileTopic.exists()) {\r\n                        int finalCount = count;\r\n                        storageReference.child(FIREBASE_APP_IMAGES).child(topic.getFirebaseImageNode() + &quot;.jpg&quot;)\r\n                                .getFile(fileTopic)\r\n                                .addOnSuccessListener(taskSnapshot -&gt; {\r\n                                    topic.setLocalStorageUri(fileTopic.getAbsolutePath());\r\n                                    if (finalCount &lt;6) getTopicItems(topic.getItems(), activity);\r\n                                    if (topic.equals(topic1)) viewModel.updateTopic(topic);\r\n                                    else viewModel.insertTopics(topic);\r\n                                    Log.d(&quot;Topic Image&quot;, &quot;onSuccess: downloaded to &quot; + fileTopic.getAbsolutePath());\r\n                                })\r\n                                .addOnFailureListener(e -&gt; Log.d(&quot;Topic Image&quot;, &quot;onFailure: &quot; + topic.getFirebaseImageNode() + &quot;.jpg&quot; + e.toString()));\r\n                    } else {\r\n                        topic.setLocalStorageUri(fileTopic.getAbsolutePath());\r\n                        if (count&lt;6) getTopicItems(topic.getItems(), activity);\r\n                        if (topic.equals(topic1)) viewModel.updateTopic(topic);\r\n                        else viewModel.insertTopics(topic);\r\n                    }\r\n\r\n                    topics.add(topic);\r\n                    viewModel.insertTopics(topic);\r\n                    Log.d(&quot;Topic &quot;, topic.toString());\r\n                    count++;\r\n                    if (topics.size() == snapshot.getChildrenCount()) {\r\n                        Log.d(&quot;Topics&quot;, &quot;onDataChange: &quot; + topics.toString());\r\n                        topicRvAdapter.setItems(topics);\r\n                        progressBar.setVisibility(View.GONE);\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                if (error.getCode() == DatabaseError.DISCONNECTED) {\r\n                    errorView.setText(R.string.no_internet);\r\n                } else {\r\n                    errorView.setText(R.string.something_went_wrong);\r\n                }\r\n                progressBar.setVisibility(View.GONE);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nThe method below downloads the items contained in a single topic. *Note: Some topics have over 200 items*\r\n\r\n    private void getTopicItems(ArrayList&lt;Item&gt; items, Activity activity){\r\n        if (items != null) {\r\n            for (Item item : items) {\r\n                Item item1 = new Item();\r\n                LiveData&lt;Item&gt; itemWithId = viewModel.getItemWithId(item.getId());\r\n                itemWithId.observe((LifecycleOwner) activity, item2 -&gt; {\r\n                    if (item2 != null) {\r\n                        item1.setId(item2.getId());\r\n                        item1.setImageUrl(item2.getImageUrl());\r\n                        item1.setEnglishWord(item2.getEnglishWord());\r\n                        item1.setCategory(item2.getCategory());\r\n                        item1.setTopic(item2.getTopic());\r\n                        item1.setRutooroWord(item2.getRutooroWord());\r\n                        item1.setFirebaseImageNode(item2.getFirebaseImageNode());\r\n                        itemWithId.removeObservers((LifecycleOwner) activity);\r\n\r\n                    }\r\n                });\r\n                // download the item image to storage;\r\n                String itemNode = item.getFirebaseImageNode();\r\n                File file = new File(activity.getFilesDir(), itemNode + &quot;.jpg&quot;);\r\n                if (itemNode != null) {\r\n                    if (!file.exists()) {\r\n                        storageReference.child(FIREBASE_APP_IMAGES).child(itemNode + &quot;.jpg&quot;)\r\n                                .getFile(file)\r\n                                .addOnSuccessListener(taskSnapshot -&gt; {\r\n                                    item.setLocalStorageUri(file.getAbsolutePath());\r\n                                    if (item.equals(item1)) viewModel.updateItem(item);\r\n                                    else viewModel.insertItems(item);\r\n                                    Log.d(&quot;Topic Item Image&quot;, &quot;onSuccess: downloaded to &quot; + file.getAbsolutePath());\r\n                                })\r\n                                .addOnFailureListener(e -&gt; Log.d(&quot;Topic Item Image&quot;, &quot;onFailure: &quot; + itemNode + &quot;.jpg&quot; + e.toString()));\r\n                    } else {\r\n                        item.setLocalStorageUri(file.getAbsolutePath());\r\n                        if (item.equals(item1)) viewModel.updateItem(item);\r\n                        else viewModel.insertItems(item);\r\n                    }\r\n                } else {\r\n                    if (item.equals(item1)) viewModel.updateItem(item);\r\n                    else viewModel.insertItems(item);\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n\r\nAfter a minute or two the app crashes with the error below\r\n\r\n```\r\nE/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.allez.san.myapplication, PID: 18718\r\n    java.lang.OutOfMemoryError: Failed to allocate a 24 byte allocation with 2000472 free bytes and 1953KB until OOM, target footprint 201326592, growth limit 201326592; failed due to fragmentation (largest possible contiguous allocation 150470656 bytes)\r\n        at java.lang.reflect.Executable.getMethodOrConstructorGenericInfoInternal(Executable.java:708)\r\n        at java.lang.reflect.Executable.getGenericParameterTypes(Executable.java:270)\r\n        at java.lang.reflect.Method.getGenericParameterTypes(Method.java:212)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:588)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:246)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.allez.san.learnrutooro.utils.DownloadUtil$3.onDataChange(DownloadUtil.java:296)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:246)\r\n        at android.app.ActivityThread.main(ActivityThread.java:8512)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\r\nI/Process: Sending signal. PID: 18718 SIG: 9\r\n```","title":"How to manage memory when downloading multiple files from firebase in Android","body":"<p>I have an images directory in Firebase Storage and I am trying to download all the files in that directory to my app. each image has a corresponding field in the database that stores its name the downloads are mostly successful but the app freezes and gets an App Not Responding prompt when you try to interact with ui or crashes after a while when you just wait.</p>\n<p>below is the code I use to download the images to my app's storage directory</p>\n<pre><code>private void downloadAllTopicsAndFirstItems(Activity activity) {\n    databaseReference.child(FIREBASE_TOPIC_NODE).addValueEventListener(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            int count = 0;\n            for (DataSnapshot snap : snapshot.getChildren()) {\n                Topic topic = snap.getValue(Topic.class);\n                if (topic == null) return;\n                if (topic.getItems() != null) topic.setTotalItems(topic.getItems().size());\n                File fileTopic = new File(activity.getFilesDir(), topic.getFirebaseImageNode() + &quot;.jpg&quot;);\n                Topic topic1 = new Topic();\n                LiveData&lt;Topic&gt; topicWithId = viewModel.getTopicWithId(topic.getId());\n                topicWithId.observe((LifecycleOwner) activity, topic2 -&gt; {\n                    if (topic2 != null) {\n                        topic1.setId(topic2.getId());\n                        topic1.setFirebaseImageNode(topic2.getFirebaseImageNode());\n                        topic1.setImageUrl(topic2.getImageUrl());\n                        topic1.setTitle(topic2.getTitle());\n                        topic1.setDescription(topic2.getDescription());\n                        topicWithId.removeObservers((LifecycleOwner) activity);\n                    }\n                });\n                if (!fileTopic.exists()) {\n                    int finalCount = count;\n                    storageReference.child(FIREBASE_APP_IMAGES).child(topic.getFirebaseImageNode() + &quot;.jpg&quot;)\n                            .getFile(fileTopic)\n                            .addOnSuccessListener(taskSnapshot -&gt; {\n                                topic.setLocalStorageUri(fileTopic.getAbsolutePath());\n                                if (finalCount &lt;6) getTopicItems(topic.getItems(), activity);\n                                if (topic.equals(topic1)) viewModel.updateTopic(topic);\n                                else viewModel.insertTopics(topic);\n                                Log.d(&quot;Topic Image&quot;, &quot;onSuccess: downloaded to &quot; + fileTopic.getAbsolutePath());\n                            })\n                            .addOnFailureListener(e -&gt; Log.d(&quot;Topic Image&quot;, &quot;onFailure: &quot; + topic.getFirebaseImageNode() + &quot;.jpg&quot; + e.toString()));\n                } else {\n                    topic.setLocalStorageUri(fileTopic.getAbsolutePath());\n                    if (count&lt;6) getTopicItems(topic.getItems(), activity);\n                    if (topic.equals(topic1)) viewModel.updateTopic(topic);\n                    else viewModel.insertTopics(topic);\n                }\n\n                topics.add(topic);\n                viewModel.insertTopics(topic);\n                Log.d(&quot;Topic &quot;, topic.toString());\n                count++;\n                if (topics.size() == snapshot.getChildrenCount()) {\n                    Log.d(&quot;Topics&quot;, &quot;onDataChange: &quot; + topics.toString());\n                    topicRvAdapter.setItems(topics);\n                    progressBar.setVisibility(View.GONE);\n                }\n\n            }\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            if (error.getCode() == DatabaseError.DISCONNECTED) {\n                errorView.setText(R.string.no_internet);\n            } else {\n                errorView.setText(R.string.something_went_wrong);\n            }\n            progressBar.setVisibility(View.GONE);\n        }\n    });\n}\n</code></pre>\n<p>The method below downloads the items contained in a single topic. <em>Note: Some topics have over 200 items</em></p>\n<pre><code>private void getTopicItems(ArrayList&lt;Item&gt; items, Activity activity){\n    if (items != null) {\n        for (Item item : items) {\n            Item item1 = new Item();\n            LiveData&lt;Item&gt; itemWithId = viewModel.getItemWithId(item.getId());\n            itemWithId.observe((LifecycleOwner) activity, item2 -&gt; {\n                if (item2 != null) {\n                    item1.setId(item2.getId());\n                    item1.setImageUrl(item2.getImageUrl());\n                    item1.setEnglishWord(item2.getEnglishWord());\n                    item1.setCategory(item2.getCategory());\n                    item1.setTopic(item2.getTopic());\n                    item1.setRutooroWord(item2.getRutooroWord());\n                    item1.setFirebaseImageNode(item2.getFirebaseImageNode());\n                    itemWithId.removeObservers((LifecycleOwner) activity);\n\n                }\n            });\n            // download the item image to storage;\n            String itemNode = item.getFirebaseImageNode();\n            File file = new File(activity.getFilesDir(), itemNode + &quot;.jpg&quot;);\n            if (itemNode != null) {\n                if (!file.exists()) {\n                    storageReference.child(FIREBASE_APP_IMAGES).child(itemNode + &quot;.jpg&quot;)\n                            .getFile(file)\n                            .addOnSuccessListener(taskSnapshot -&gt; {\n                                item.setLocalStorageUri(file.getAbsolutePath());\n                                if (item.equals(item1)) viewModel.updateItem(item);\n                                else viewModel.insertItems(item);\n                                Log.d(&quot;Topic Item Image&quot;, &quot;onSuccess: downloaded to &quot; + file.getAbsolutePath());\n                            })\n                            .addOnFailureListener(e -&gt; Log.d(&quot;Topic Item Image&quot;, &quot;onFailure: &quot; + itemNode + &quot;.jpg&quot; + e.toString()));\n                } else {\n                    item.setLocalStorageUri(file.getAbsolutePath());\n                    if (item.equals(item1)) viewModel.updateItem(item);\n                    else viewModel.insertItems(item);\n                }\n            } else {\n                if (item.equals(item1)) viewModel.updateItem(item);\n                else viewModel.insertItems(item);\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>After a minute or two the app crashes with the error below</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.allez.san.myapplication, PID: 18718\n    java.lang.OutOfMemoryError: Failed to allocate a 24 byte allocation with 2000472 free bytes and 1953KB until OOM, target footprint 201326592, growth limit 201326592; failed due to fragmentation (largest possible contiguous allocation 150470656 bytes)\n        at java.lang.reflect.Executable.getMethodOrConstructorGenericInfoInternal(Executable.java:708)\n        at java.lang.reflect.Executable.getGenericParameterTypes(Executable.java:270)\n        at java.lang.reflect.Method.getGenericParameterTypes(Method.java:212)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:588)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:179)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToParameterizedType(CustomClassMapper.java:246)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToType(CustomClassMapper.java:177)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.access$100(CustomClassMapper.java:48)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:593)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper$BeanMapper.deserialize(CustomClassMapper.java:563)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:433)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.allez.san.learnrutooro.utils.DownloadUtil$3.onDataChange(DownloadUtil.java:296)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:246)\n        at android.app.ActivityThread.main(ActivityThread.java:8512)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:602)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1139)\nI/Process: Sending signal. PID: 18718 SIG: 9\n</code></pre>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1661678859,"post_id":73516729,"comment_id":129824875,"body_markdown":"A sidenote (both answers are excellent here): `&quot;1234&quot; == testManuscript.getMSId()` __does not work__ - that is comparing reference identity, not value equality. It&#39;s `&quot;1234&quot;.equals(testManuscript.getMSid())`, however, the better way is `assertEquals(&quot;1234&quot;, testManuscript.getMSid())`, as now JUnit will show you character-by-character where the differences are, if any. Also, `getMSid()` is not the proper style. It&#39;d be `getMsId()`. Java code style dictates: `.getDvdPlayer()`, not `.getDVDPlayer()`.","body":"A sidenote (both answers are excellent here): <code>&quot;1234&quot; == testManuscript.getMSId()</code> <b>does not work</b> - that is comparing reference identity, not value equality. It&#39;s <code>&quot;1234&quot;.equals(testManuscript.getMSid())</code>, however, the better way is <code>assertEquals(&quot;1234&quot;, testManuscript.getMSid())</code>, as now JUnit will show you character-by-character where the differences are, if any. Also, <code>getMSid()</code> is not the proper style. It&#39;d be <code>getMsId()</code>. Java code style dictates: <code>.getDvdPlayer()</code>, not <code>.getDVDPlayer()</code>."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1661674071,"creation_date":1661672780,"answer_id":73516884,"question_id":73516729,"body_markdown":"You have imported `@Test` from JUnit 5, while you&#39;re using `@Before` from JUnit 4, that combination doesn&#39;t work. You need to choose which JUnit version you want to use, 4 or 5, and then consistently import classes from that JUnit version. I would recommend using JUnit 5, and removing all JUnit 4 dependencies from your classpath, or at least configure your IDE to not suggest those imports.\r\n\r\nFor this specific case, replace `@Before` (`org.junit.Before`) with `@BeforeEach` (`org.junit.jupiter.api.BeforeEach`).\r\n\r\nIn the example as shown, you don&#39;t even need this `setUp` method, as each test-execution gets its own instance of the test class. You can use:\r\n\r\n```\r\nprivate Manuscript testManuscript = new Manuscript();\r\n```\r\n\r\nThat is, remove `static`, initialize the field directly, and remove the `setUp` method.\r\n\r\nEven if you continue to use the `setUp` method, I recommend removing the `static`, so `testManuscript` is an instance field, like it is actually used.","title":"JUnit setUp doesn&#39;t create object","body":"<p>You have imported <code>@Test</code> from JUnit 5, while you're using <code>@Before</code> from JUnit 4, that combination doesn't work. You need to choose which JUnit version you want to use, 4 or 5, and then consistently import classes from that JUnit version. I would recommend using JUnit 5, and removing all JUnit 4 dependencies from your classpath, or at least configure your IDE to not suggest those imports.</p>\n<p>For this specific case, replace <code>@Before</code> (<code>org.junit.Before</code>) with <code>@BeforeEach</code> (<code>org.junit.jupiter.api.BeforeEach</code>).</p>\n<p>In the example as shown, you don't even need this <code>setUp</code> method, as each test-execution gets its own instance of the test class. You can use:</p>\n<pre><code>private Manuscript testManuscript = new Manuscript();\n</code></pre>\n<p>That is, remove <code>static</code>, initialize the field directly, and remove the <code>setUp</code> method.</p>\n<p>Even if you continue to use the <code>setUp</code> method, I recommend removing the <code>static</code>, so <code>testManuscript</code> is an instance field, like it is actually used.</p>\n"},{"tags":[],"owner":{"account_id":14608568,"reputation":625,"user_id":10550655,"display_name":"Michael Katt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661676191,"creation_date":1661676191,"answer_id":73517227,"question_id":73516729,"body_markdown":"You have mixed Junit4 with Junit5. You should use only one version.\r\n\r\nJunit4 or \r\n\r\n    package org.lhoffjann;\r\n    \r\n    import org.junit.Before;\r\n    import org.junit.Test;\r\n    \r\n    import org.junit.Assert;\r\n    \r\n    public class ManuscriptTest {\r\n        private static Manuscript testManuscript;\r\n    \r\n        @Before\r\n        public void setUp(){\r\n            testManuscript = new Manuscript();\r\n        }\r\n        \r\n        @Test\r\n        public void testGetMSid() {\r\n            testManuscript.setMSid(&quot;1234&quot;);\r\n           Assert.assertEquals(&quot;1234&quot;,testManuscript.getMSid());\r\n        }\r\n\r\nor\r\n\r\nJunit5 \r\n\r\n    package org.lhoffjann;\r\n    \r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.BeforeEach;\r\n    import org.junit.jupiter.api.Test;\r\n    \r\n    class ManuscriptTest {\r\n    \tprivate static Manuscript testManuscript;\r\n    \r\n    \t@BeforeEach\r\n    \tpublic void setUp() {\r\n    \t\ttestManuscript = new Manuscript();\r\n    \t}\r\n    \r\n    \t@Test\r\n    \tvoid testGetMSid() {\r\n    \t\ttestManuscript.setMSid(&quot;1234&quot;);\r\n    \t\tAssertions.assertEquals(&quot;1234&quot;, testManuscript.getMSid());\r\n    \t}\r\n    }","title":"JUnit setUp doesn&#39;t create object","body":"<p>You have mixed Junit4 with Junit5. You should use only one version.</p>\n<p>Junit4 or</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.Before;\nimport org.junit.Test;\n\nimport org.junit.Assert;\n\npublic class ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @Before\n    public void setUp(){\n        testManuscript = new Manuscript();\n    }\n    \n    @Test\n    public void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n       Assert.assertEquals(&quot;1234&quot;,testManuscript.getMSid());\n    }\n</code></pre>\n<p>or</p>\n<p>Junit5</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.BeforeEach;\nimport org.junit.jupiter.api.Test;\n\nclass ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @BeforeEach\n    public void setUp() {\n        testManuscript = new Manuscript();\n    }\n\n    @Test\n    void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n        Assertions.assertEquals(&quot;1234&quot;, testManuscript.getMSid());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21570847,"reputation":13,"user_id":19724534,"display_name":"Lennart"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73516884,"answer_count":2,"score":1,"last_activity_date":1661676191,"creation_date":1661671100,"question_id":73516729,"body_markdown":"Why do I get a `NullPointerExeption` for `testManuscript` when trying to run my test?\r\n\r\n\r\n\r\nThis is my Manuscript.java:\r\n```\r\npackage org.lhoffjann;\r\n\r\n\r\npublic class Manuscript {\r\nprivate String msID;\r\nprivate String path;\r\n    public void setMSid(String msID){\r\n        this.msID = msID;\r\n    }\r\n\r\n    public String getMSid() {\r\n        return this.msID;\r\n    }\r\n}\r\n```\r\n\r\nThis is my ManuscriptTest.java:\r\n```\r\npackage org.lhoffjann;\r\n\r\nimport org.junit.Before;\r\nimport org.junit.BeforeClass;\r\nimport org.junit.jupiter.api.Test;\r\nimport static org.junit.jupiter.api.Assertions.assertTrue;\r\n\r\npublic class ManuscriptTest {\r\n    private static Manuscript testManuscript;\r\n\r\n    @Before\r\n    public void setUp(){\r\n        testManuscript = new Manuscript();\r\n    }\r\n    @Test\r\n    public void testGetMSid() {\r\n        testManuscript.setMSid(&quot;1234&quot;);\r\n        assertTrue(&quot;1234&quot; == testManuscript.getMSid());\r\n    }\r\n}\r\n```","title":"JUnit setUp doesn&#39;t create object","body":"<p>Why do I get a <code>NullPointerExeption</code> for <code>testManuscript</code> when trying to run my test?</p>\n<p>This is my Manuscript.java:</p>\n<pre><code>package org.lhoffjann;\n\n\npublic class Manuscript {\nprivate String msID;\nprivate String path;\n    public void setMSid(String msID){\n        this.msID = msID;\n    }\n\n    public String getMSid() {\n        return this.msID;\n    }\n}\n</code></pre>\n<p>This is my ManuscriptTest.java:</p>\n<pre><code>package org.lhoffjann;\n\nimport org.junit.Before;\nimport org.junit.BeforeClass;\nimport org.junit.jupiter.api.Test;\nimport static org.junit.jupiter.api.Assertions.assertTrue;\n\npublic class ManuscriptTest {\n    private static Manuscript testManuscript;\n\n    @Before\n    public void setUp(){\n        testManuscript = new Manuscript();\n    }\n    @Test\n    public void testGetMSid() {\n        testManuscript.setMSid(&quot;1234&quot;);\n        assertTrue(&quot;1234&quot; == testManuscript.getMSid());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","performance","java-stream"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1661560198,"post_id":73507392,"comment_id":129808710,"body_markdown":"If you have Guava you can do `Lists.partition(userList, chunkSize).forEach(customerService::saveBulk);`","body":"If you have Guava you can do <code>Lists.partition(userList, chunkSize).forEach(customerService::saveBulk);</code>"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1661561375,"post_id":73507392,"comment_id":129808828,"body_markdown":"Does `Stream::parallel()` work for you?","body":"Does <code>Stream::parallel()</code> work for you?"},{"owner":{"account_id":282893,"reputation":1061,"user_id":580082,"display_name":"jlc488"},"score":0,"creation_date":1661564537,"post_id":73507392,"comment_id":129809088,"body_markdown":"@MCEmperor you mean something like userList.parallelStream().forEach(customerService::saveBulk) ?? \n\nis it possible?? I mean the size of the list is too large to run parallel stream all at once ??","body":"@MCEmperor you mean something like userList.parallelStream().forEach(customerService::saveBulk) ??   is it possible?? I mean the size of the list is too large to run parallel stream all at once ??"}],"answers":[{"tags":[],"owner":{"account_id":14303081,"reputation":316,"user_id":10331902,"display_name":"Leonhard Bauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1661675812,"creation_date":1661558528,"answer_id":73507478,"question_id":73507392,"body_markdown":"You can use `Collectors.groupingBy()` for this and then iterate over it.\r\n\r\n``` java\r\n\r\nfinal List&lt;User&gt; users = userService.selectAll();\r\nfinal int partitionSize = 10000;\r\nfinal AtomicInteger counter = new AtomicInteger();\r\n\r\nusers\r\n    .stream()\r\n    .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / partitionSize))\r\n    .values()\r\n    // now you have a Collection&lt;List&lt;User&gt;&gt;\r\n    // each list contains partitionSize elments\r\n    .stream()\r\n    .map(group -&gt; customerService.saveBulk(group));\r\n    .forEach(future -&gt; future.get())\r\n```\r\n\r\nMy Java is a little rusty so you might want to return a single combined future if you want to make your method `@Async` also and return some `Future&lt;T&gt;` instead of calling `.get()` on the futures iteratively.\r\n\r\nDepending on the number of your users it might be better to individually load chunks of users, perform your needed actions and save them again. In this solution all users are loaded into memory by `userService.selectAll()` at the beginning. Depending on the number of your users this might be too much data (1.000.000 rows) loaded at the same time.\r\n\r\nI think the best approach would be to paginate `userService.selectAll()` and query 10.000 users, do you work, and save the 10.000 users back. For this you would need some kind of pagination of your data.\r\n\r\nIf your Backend is a database with a Hibernate ORM you can make it kind of like this:\r\n\r\n- Make your backing `userRepository` a `PagingAndSortingRepository`\r\n- Iterate over the batch sized pages to operate in batches\r\n\r\nThen the logic would be something like:\r\n```java\r\nUserRepository:\r\n@Repository\r\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\r\n\r\n}\r\n\r\n\r\nUserService:\r\npublic Page&lt;User&gt; findPaginated(int pageNo, int pageSize) {\r\n\r\n    Pageable paging = PageRequest.of(pageNo, pageSize);\r\n    Page&lt;User&gt; pagedResult = userRepository.findAll(paging);\r\n\r\n    return pagedResult;\r\n}\r\n\r\nYour Logic:\r\n\r\nint pageSize = 10000\r\nint totalPages = userService\r\n    .findPaginated(0,pageSize).getTotalPages()\r\n\r\n// Then you can iterate over all the pages however you like\r\nfor(int i = 0; i &lt; totalPages; i++) {\r\n    List&lt;User&gt; batch = userService.findPaginated(i, pageSize)\r\n    // do your stuff with the batch\r\n    customerService.saveBulk(batch)\r\n}\r\n\r\n```","title":"java11 stream split n of list chunk as arguments","body":"<p>You can use <code>Collectors.groupingBy()</code> for this and then iterate over it.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nfinal List&lt;User&gt; users = userService.selectAll();\nfinal int partitionSize = 10000;\nfinal AtomicInteger counter = new AtomicInteger();\n\nusers\n    .stream()\n    .collect(Collectors.groupingBy(x -&gt; counter.getAndIncrement() / partitionSize))\n    .values()\n    // now you have a Collection&lt;List&lt;User&gt;&gt;\n    // each list contains partitionSize elments\n    .stream()\n    .map(group -&gt; customerService.saveBulk(group));\n    .forEach(future -&gt; future.get())\n</code></pre>\n<p>My Java is a little rusty so you might want to return a single combined future if you want to make your method <code>@Async</code> also and return some <code>Future&lt;T&gt;</code> instead of calling <code>.get()</code> on the futures iteratively.</p>\n<p>Depending on the number of your users it might be better to individually load chunks of users, perform your needed actions and save them again. In this solution all users are loaded into memory by <code>userService.selectAll()</code> at the beginning. Depending on the number of your users this might be too much data (1.000.000 rows) loaded at the same time.</p>\n<p>I think the best approach would be to paginate <code>userService.selectAll()</code> and query 10.000 users, do you work, and save the 10.000 users back. For this you would need some kind of pagination of your data.</p>\n<p>If your Backend is a database with a Hibernate ORM you can make it kind of like this:</p>\n<ul>\n<li>Make your backing <code>userRepository</code> a <code>PagingAndSortingRepository</code></li>\n<li>Iterate over the batch sized pages to operate in batches</li>\n</ul>\n<p>Then the logic would be something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>UserRepository:\n@Repository\npublic interface UserRepository extends PagingAndSortingRepository&lt;User, Long&gt; {\n\n}\n\n\nUserService:\npublic Page&lt;User&gt; findPaginated(int pageNo, int pageSize) {\n\n    Pageable paging = PageRequest.of(pageNo, pageSize);\n    Page&lt;User&gt; pagedResult = userRepository.findAll(paging);\n\n    return pagedResult;\n}\n\nYour Logic:\n\nint pageSize = 10000\nint totalPages = userService\n    .findPaginated(0,pageSize).getTotalPages()\n\n// Then you can iterate over all the pages however you like\nfor(int i = 0; i &lt; totalPages; i++) {\n    List&lt;User&gt; batch = userService.findPaginated(i, pageSize)\n    // do your stuff with the batch\n    customerService.saveBulk(batch)\n}\n\n</code></pre>\n"}],"owner":{"account_id":282893,"reputation":1061,"user_id":580082,"display_name":"jlc488"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73507478,"answer_count":1,"score":1,"last_activity_date":1661675812,"creation_date":1661557491,"question_id":73507392,"body_markdown":"Let&#39;s say I have this (Spring boot) code:\r\n\r\n```\r\nList&lt;User&gt; userList = userService.selectAll(); &lt;-- this returns 1,000,000 rows\r\n\r\ncustomerService.saveBulk(userList).get(); \r\n```\r\n\r\nI want to split the list into small sizes and perform `saveBulk` iteratively.\r\n\r\nIs there any way to perform saveBulk smartly using java stream?\r\n\r\nsaveBulk is annotated with @Async ","title":"java11 stream split n of list chunk as arguments","body":"<p>Let's say I have this (Spring boot) code:</p>\n<pre><code>List&lt;User&gt; userList = userService.selectAll(); &lt;-- this returns 1,000,000 rows\n\ncustomerService.saveBulk(userList).get(); \n</code></pre>\n<p>I want to split the list into small sizes and perform <code>saveBulk</code> iteratively.</p>\n<p>Is there any way to perform saveBulk smartly using java stream?</p>\n<p>saveBulk is annotated with @Async</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1368332361,"post_id":16504140,"comment_id":23691539,"body_markdown":"Monitors are a crucial concept for multi threaded control and communication. You should take the time to read through something like [this](http://www.baptiste-wicht.com/2010/09/java-concurrency-part-5-monitors-locks-and-conditions/) to get a better understanding. Technically speaking, no, there isn&#39;t any sure way to stop any thread, event if it has internal mechanisms to allow for for it, as other parts of the libraries may not be monitoring the state of thread","body":"Monitors are a crucial concept for multi threaded control and communication. You should take the time to read through something like <a href=\"http://www.baptiste-wicht.com/2010/09/java-concurrency-part-5-monitors-locks-and-conditions/\" rel=\"nofollow noreferrer\">this</a> to get a better understanding. Technically speaking, no, there isn&#39;t any sure way to stop any thread, event if it has internal mechanisms to allow for for it, as other parts of the libraries may not be monitoring the state of thread"}],"answers":[{"tags":[],"owner":{"account_id":446792,"reputation":3194,"user_id":840055,"accept_rate":67,"display_name":"goblinjuice"},"down_vote_count":0,"up_vote_count":57,"is_accepted":true,"score":57,"last_activity_date":1571794611,"creation_date":1368332401,"answer_id":16504159,"question_id":16504140,"body_markdown":"You asked: \r\n&gt; My question is if theres no way to stop a thread in Java then how to stop a thread? \r\n\r\nThe Answer: In Java there&#39;s no clean, quick or reliable way to stop a thread. \r\n\r\n&gt; Thread termination is not so straight forward. A running thread, often called by many writers as a light-weight process, has its own stack and is the master of its own destiny (well daemons are). It may own files and sockets. It may hold locks. Abrupt Termination is not always easy: Unpredictable consequences may arise if the thread is in the middle of writing to a file and is killed before it can finish writing. Or what about the monitor locks held by the thread when it is shot in the head?\r\n\r\nInstead, Threads rely on a **cooperative** mechanism called **Interruption**. This means that Threads could only *signal* other threads to stop, not force them to stop. \r\n\r\n&gt; To stop threads in Java, we rely on a co-operative mechanism called Interruption. The concept is very simple. To stop a thread, all we can do is deliver it a signal, aka interrupt it, requesting that the thread stops itself at the next available opportunity. That’s all. There is no telling what the receiver thread might do with the signal: it may not even bother to check the signal; or even worse ignore it.\r\n\r\nSource: https://codeahoy.com/java/How-To-Stop-Threads-Safely/","title":"Thread.stop() - deprecated","body":"<p>You asked: </p>\n\n<blockquote>\n  <p>My question is if theres no way to stop a thread in Java then how to stop a thread? </p>\n</blockquote>\n\n<p>The Answer: In Java there's no clean, quick or reliable way to stop a thread. </p>\n\n<blockquote>\n  <p>Thread termination is not so straight forward. A running thread, often called by many writers as a light-weight process, has its own stack and is the master of its own destiny (well daemons are). It may own files and sockets. It may hold locks. Abrupt Termination is not always easy: Unpredictable consequences may arise if the thread is in the middle of writing to a file and is killed before it can finish writing. Or what about the monitor locks held by the thread when it is shot in the head?</p>\n</blockquote>\n\n<p>Instead, Threads rely on a <strong>cooperative</strong> mechanism called <strong>Interruption</strong>. This means that Threads could only <em>signal</em> other threads to stop, not force them to stop. </p>\n\n<blockquote>\n  <p>To stop threads in Java, we rely on a co-operative mechanism called Interruption. The concept is very simple. To stop a thread, all we can do is deliver it a signal, aka interrupt it, requesting that the thread stops itself at the next available opportunity. That’s all. There is no telling what the receiver thread might do with the signal: it may not even bother to check the signal; or even worse ignore it.</p>\n</blockquote>\n\n<p>Source: <a href=\"https://codeahoy.com/java/How-To-Stop-Threads-Safely/\" rel=\"noreferrer\">https://codeahoy.com/java/How-To-Stop-Threads-Safely/</a></p>\n"},{"tags":[],"owner":{"account_id":1249277,"reputation":1622,"user_id":1210038,"accept_rate":53,"display_name":"Harshal Pandya"},"down_vote_count":4,"up_vote_count":9,"is_accepted":false,"score":5,"last_activity_date":1368332637,"creation_date":1368332637,"answer_id":16504182,"question_id":16504140,"body_markdown":"The right way is to use a join. Instead of prematurely stopping the execution of a thread, join will wait for the thread to finish execution before moving to the next statement.  \r\n\r\n    Thread exampleThread = new Thread(){\r\n        public void run(){\r\n            try {\r\n                \r\n                Thread.sleep(2000);\r\n               \r\n            } catch (InterruptedException ex) {\r\n                //handle the exception\r\n            }\r\n        }\r\n    };\r\n  \r\n    exampleThread.start();\r\n    exampleThread.join();\r\nHere exampleThread.join() will wait until exampleThread is done executing before moving to the next statement. However, the onus of making sure that the thread does finish execution is on the programmer. \r\nIn essence there is no way to stop a thread but if you design it right you should not need to stop the thread.","title":"Thread.stop() - deprecated","body":"<p>The right way is to use a join. Instead of prematurely stopping the execution of a thread, join will wait for the thread to finish execution before moving to the next statement.  </p>\n\n<pre><code>Thread exampleThread = new Thread(){\n    public void run(){\n        try {\n\n            Thread.sleep(2000);\n\n        } catch (InterruptedException ex) {\n            //handle the exception\n        }\n    }\n};\n\nexampleThread.start();\nexampleThread.join();\n</code></pre>\n\n<p>Here exampleThread.join() will wait until exampleThread is done executing before moving to the next statement. However, the onus of making sure that the thread does finish execution is on the programmer. \nIn essence there is no way to stop a thread but if you design it right you should not need to stop the thread.</p>\n"},{"tags":[],"owner":{"account_id":2454231,"reputation":1496,"user_id":2139804,"accept_rate":70,"display_name":"Tinki"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1415731819,"creation_date":1415731259,"answer_id":26872090,"question_id":16504140,"body_markdown":"When your thread handles interrupts correctly, it should be possible to instantly terminate it with use of `ExecutorService` interface. According to Oracle documentation, `ExecutorService.shutdownNow()` method, attempts to stop all actively executing tasks without waiting for their termination. There are however no guarantees beyond best-effort attempts to stop them. Here is some sample code:\r\n    \r\n    class MyThread implements Runnable{\r\n        @Override\r\n    \tpublic void run() {\r\n    \t\tfor (int i = 1; i &lt; 10000000; i++)\r\n    \t\t\ttry {\r\n    \t\t\tSystem.out.println(i + &quot; ThreadID: &quot; + Thread.currentThread().getId());\r\n    \t\t\tif (Thread.interrupted()) \r\n    \t\t\t\t\tthrow new InterruptedException();\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\treturn;\r\n    \t\t}\t\r\n    \t}\r\n    }\r\n\r\n    ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.submit(new MyThread());\r\n        \t\texecutor.shutdownNow();\r\n\r\nWithout termination each thread should print message to console 10000000 times. `executor.shutdownNow()` method instantly stops all three threads. ","title":"Thread.stop() - deprecated","body":"<p>When your thread handles interrupts correctly, it should be possible to instantly terminate it with use of <code>ExecutorService</code> interface. According to Oracle documentation, <code>ExecutorService.shutdownNow()</code> method, attempts to stop all actively executing tasks without waiting for their termination. There are however no guarantees beyond best-effort attempts to stop them. Here is some sample code:</p>\n\n<pre><code>class MyThread implements Runnable{\n    @Override\n    public void run() {\n        for (int i = 1; i &lt; 10000000; i++)\n            try {\n            System.out.println(i + \" ThreadID: \" + Thread.currentThread().getId());\n            if (Thread.interrupted()) \n                    throw new InterruptedException();\n            } catch (InterruptedException e) {\n                return;\n        }   \n    }\n}\n\nExecutorService executor = Executors.newFixedThreadPool(3);\n            executor.submit(new MyThread());\n            executor.submit(new MyThread());\n            executor.submit(new MyThread());\n            executor.shutdownNow();\n</code></pre>\n\n<p>Without termination each thread should print message to console 10000000 times. <code>executor.shutdownNow()</code> method instantly stops all three threads. </p>\n"},{"tags":[],"owner":{"account_id":2683557,"reputation":426,"user_id":2318378,"display_name":"Akhil Patro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526131378,"creation_date":1499622503,"answer_id":44999313,"question_id":16504140,"body_markdown":"From https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html:\r\n\r\n&gt; Most uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. To ensure prompt communication of the stop-request, the variable must be volatile (or access to the variable must be synchronized \r\n).","title":"Thread.stop() - deprecated","body":"<p>From <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/lang/Thread.html</a>:</p>\n\n<blockquote>\n  <p>Most uses of stop should be replaced by code that simply modifies some variable to indicate that the target thread should stop running. The target thread should check this variable regularly, and return from its run method in an orderly fashion if the variable indicates that it is to stop running. To ensure prompt communication of the stop-request, the variable must be volatile (or access to the variable must be synchronized \n  ).</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3119418,"reputation":4685,"user_id":2639515,"accept_rate":45,"display_name":"Alessandro Roaro"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1581418444,"creation_date":1581418444,"answer_id":60167244,"question_id":16504140,"body_markdown":"The logic to stop the thread should be handled in your implementation of the thread, so that you are sure that everything goes the way you want. \r\nFor example, you could create a `cancel()` method that changes the state of the thread, which is checked cyclically. Like this:\r\n\r\n\r\n    class StoppableThread implements Runnable {\r\n    \r\n    \tboolean isCancelled = false;\r\n    \t\r\n    \r\n        public void run() {\r\n            while (!isCancelled) {\r\n                System.out.println(&quot;Thread is running with all its might!&quot;);\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000);\r\n    \t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n            }   \r\n        }\r\n    \t\r\n    \t\r\n    \tpublic void cancel () {\r\n    \t\tisCancelled = true;\r\n    \t}\r\n    }\r\n\r\n","title":"Thread.stop() - deprecated","body":"<p>The logic to stop the thread should be handled in your implementation of the thread, so that you are sure that everything goes the way you want. \nFor example, you could create a <code>cancel()</code> method that changes the state of the thread, which is checked cyclically. Like this:</p>\n\n<pre><code>class StoppableThread implements Runnable {\n\n    boolean isCancelled = false;\n\n\n    public void run() {\n        while (!isCancelled) {\n            System.out.println(\"Thread is running with all its might!\");\n\n            try {\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }   \n    }\n\n\n    public void cancel () {\n        isCancelled = true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17695615,"reputation":1,"user_id":13001661,"display_name":"Wayne"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675783,"creation_date":1661675783,"answer_id":73517183,"question_id":16504140,"body_markdown":"Threads in java are interesting because how you implement them depends on the purpose of the program you are writing. \r\nIf you do not prioritize the efficiency of your program, the `thread.join()` is a method that&#39;s used to wait for a Java thread to &quot;finish&quot; executing. Note, it&#39;s used to wait for a Java thread, not to stop a thread, and in this case we can assume a thread finishes executing after it&#39;s done running the `run()` method. \r\nThe reason using the `thread.stop()` method is dangerous, is because we do not know how the scheduler has ordered the execution of the thread, and that uncertainty is quite frustrating, but we have to accept it. Let&#39;s say you use the `thread.stop` method while the thread is reading objects from main memory. That may cause a huge overhead because the scheduler is now forced to sort of prioritize stopping this thread, and ignore other threads... \r\nSo this is one of the many reason why using `thread.stop` should be discouraged","title":"Thread.stop() - deprecated","body":"<p>Threads in java are interesting because how you implement them depends on the purpose of the program you are writing.\nIf you do not prioritize the efficiency of your program, the <code>thread.join()</code> is a method that's used to wait for a Java thread to &quot;finish&quot; executing. Note, it's used to wait for a Java thread, not to stop a thread, and in this case we can assume a thread finishes executing after it's done running the <code>run()</code> method.\nThe reason using the <code>thread.stop()</code> method is dangerous, is because we do not know how the scheduler has ordered the execution of the thread, and that uncertainty is quite frustrating, but we have to accept it. Let's say you use the <code>thread.stop</code> method while the thread is reading objects from main memory. That may cause a huge overhead because the scheduler is now forced to sort of prioritize stopping this thread, and ignore other threads...\nSo this is one of the many reason why using <code>thread.stop</code> should be discouraged</p>\n"}],"owner":{"display_name":"user2374107"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93463,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":16504159,"answer_count":6,"score":62,"last_activity_date":1661675783,"creation_date":1368332173,"question_id":16504140,"body_markdown":"Why is `Thread.stop()` deprecated in Java? On their website, I see the following:\r\n&gt; ###Why is `Thread.stop` deprecated?\r\nBecause it is inherently unsafe. Stopping a thread causes it to unlock all the monitors that it has locked. (The monitors are unlocked as the `ThreadDeath` exception propagates up the stack.) If any of the objects previously protected by these monitors were in an inconsistent state, other threads may now view these objects in an inconsistent state. Such objects are said to be damaged. When threads operate on damaged objects, arbitrary behavior can result. This behavior may be subtle and difficult to detect, or it may be pronounced. Unlike other unchecked exceptions, `ThreadDeath` kills threads silently; thus, the user has no warning that his program may be corrupted. The corruption can manifest itself at any time after the actual damage occurs, even hours or days in the future.\r\n\r\nI don&#39;t understand what they mean by &quot;monitors&quot;. Regardless, my question is if `Thread.stop()` should not be called then how should a Java thread be stopped?","title":"Thread.stop() - deprecated","body":"<p>Why is <code>Thread.stop()</code> deprecated in Java? On their website, I see the following:</p>\n\n<blockquote>\n  <h3>Why is <code>Thread.stop</code> deprecated?</h3>\n  \n  <p>Because it is inherently unsafe. Stopping a thread causes it to unlock all the monitors that it has locked. (The monitors are unlocked as the <code>ThreadDeath</code> exception propagates up the stack.) If any of the objects previously protected by these monitors were in an inconsistent state, other threads may now view these objects in an inconsistent state. Such objects are said to be damaged. When threads operate on damaged objects, arbitrary behavior can result. This behavior may be subtle and difficult to detect, or it may be pronounced. Unlike other unchecked exceptions, <code>ThreadDeath</code> kills threads silently; thus, the user has no warning that his program may be corrupted. The corruption can manifest itself at any time after the actual damage occurs, even hours or days in the future.</p>\n</blockquote>\n\n<p>I don't understand what they mean by \"monitors\". Regardless, my question is if <code>Thread.stop()</code> should not be called then how should a Java thread be stopped?</p>\n"},{"tags":["java","ms-word","apache-poi","apache-tika"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":3,"creation_date":1661674815,"post_id":73517031,"comment_id":129824232,"body_markdown":"For how to read equations to HTML see https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090. That does not answer the question about the formatting. But the task to fully convert a Word document to HTML will lead to program a whole library. That is much too broad for an answer here.","body":"For how to read equations to HTML see <a href=\"https://stackoverflow.com/questions/59414033/reading-equations-from-word-docx-to-html-together-with-their-text-context-us/59502090#59502090\" title=\"reading equations from word docx to html together with their text context us\">stackoverflow.com/questions/59414033/&hellip;</a>. That does not answer the question about the formatting. But the task to fully convert a Word document to HTML will lead to program a whole library. That is much too broad for an answer here."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":1,"creation_date":1661676463,"post_id":73517031,"comment_id":129824489,"body_markdown":"*&quot;This is not giving me any math information&quot;* What did you expect exactly? How could you convert an arbitrary math expression to a simple text string?","body":"<i>&quot;This is not giving me any math information&quot;</i> What did you expect exactly? How could you convert an arbitrary math expression to a simple text string?"},{"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"score":0,"creation_date":1661677299,"post_id":73517031,"comment_id":129824625,"body_markdown":"@Olivier I am expecting something like a string/boolean by which I can determine if there is any math present or not. \nFor example in my case: &lt;math&gt;1Σ10 x&lt;/math&gt;","body":"@Olivier I am expecting something like a string/boolean by which I can determine if there is any math present or not.  For example in my case: &lt;math&gt;1Σ10 x&lt;/math&gt;"},{"owner":{"account_id":23470251,"reputation":812,"user_id":17523866,"display_name":"jonsson"},"score":0,"creation_date":1661782880,"post_id":73517031,"comment_id":129847253,"body_markdown":"It looks as if the libraries you are using discard equation XML altogether. Not a familiar area but you might have to use something like POI-OpenXML4J to get the Math OOXML and interpret any formatting elements yourself. (Don&#39;t know whether many people actually do much formatting *inside* an equation as they may rely on the equation&#39;s built-in features for most formatting. Either you can rely on that or yoou can&#39;t!).","body":"It looks as if the libraries you are using discard equation XML altogether. Not a familiar area but you might have to use something like POI-OpenXML4J to get the Math OOXML and interpret any formatting elements yourself. (Don&#39;t know whether many people actually do much formatting <i>inside</i> an equation as they may rely on the equation&#39;s built-in features for most formatting. Either you can rely on that or yoou can&#39;t!)."}],"owner":{"account_id":12569632,"reputation":71,"user_id":9144154,"display_name":"Adnan Bin Zahir"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661675599,"creation_date":1661674178,"question_id":73517031,"body_markdown":"I am trying to read a word file which looks like this:\r\n[Docx file screenshot][1]\r\n\r\nFirst I have tried using XWPFRun:\r\n\r\n    public String[] readStringFromFile(String absolutePath) throws Exception {\r\n        FileInputStream fileInputStream = new FileInputStream(absolutePath);\r\n        XWPFDocument document = new XWPFDocument(fileInputStream);\r\n        List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\r\n        List&lt;String&gt; strings = new ArrayList&lt;&gt;();\r\n        \r\n        for (XWPFParagraph paragraph : paragraphs) {\r\n            strings.add(paragraph.getText());\r\n            for (XWPFRun run :\r\n                    paragraph.getRuns()) {\r\n                System.out.println(&quot;Run: &quot; + run.text());\r\n                System.out.println(&quot;Run infos:&quot;);\r\n                System.out.println(&quot;Bold: &quot; + run.isBold() + &quot; Italic: &quot; + run.isItalic() + &quot; Underlined: &quot; + run.getUnderline());\r\n                System.out.println(&quot;Superscript/Subscript: &quot; + run.getVerticalAlignment() + &quot;\\n&quot;);\r\n            }\r\n        }\r\n        document.close();\r\n        return strings.toArray(new String[0]);\r\n    }\r\n\r\nOutput:\r\n\r\n    Run: This one is a test Docx file.\r\n    Run infos:\r\n    Bold: false Italic: false Underlined: NONE\r\n    Superscript/Subscript: baseline\r\n\r\n\tRun: Math: \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: This is bold\r\n\tRun infos:\r\n\tBold: true Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: This one’s italic\r\n\tRun infos:\r\n\tBold: false Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Underlined\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold Italic and underlined\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold and italic\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: In Same Line: \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold\r\n\tRun infos:\r\n\tBold: true Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Italic\r\n\tRun infos:\r\n\tBold: false Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Underlined\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: SINGLE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun:  \r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: Bold and Italic\r\n\tRun infos:\r\n\tBold: true Italic: true Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: W\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: e have some\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: superscript\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: superscript\r\n\r\n\tRun:  and\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: baseline\r\n\r\n\tRun: subscript\r\n\tRun infos:\r\n\tBold: false Italic: false Underlined: NONE\r\n\tSuperscript/Subscript: subscript\r\n\r\nThis is not giving me any math information.\r\n\r\nThen I tried using Apache Tika and getting the information from the returned HTML:\r\n\r\n    private void getHtmlUsingTika(String absolutePath) throws IOException, TikaException, SAXException {\r\n        ContentHandler handler = new ToXMLContentHandler();\r\n        AutoDetectParser parser = new AutoDetectParser();\r\n        Metadata metadata = new Metadata();\r\n\r\n        InputStream stream = new FileInputStream(new File(absolutePath));\r\n\r\n        parser.parse(stream,handler,metadata);\r\n        System.out.println(handler.toString());\r\n    }\r\n\r\nOutput:\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n    &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta name=&quot;cp:revision&quot; content=&quot;25&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:AppVersion&quot; content=&quot;15.0000&quot; /&gt;\r\n    &lt;meta name=&quot;meta:paragraph-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;meta:word-count&quot; content=&quot;33&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Application&quot; content=&quot;Microsoft Office Word&quot; /&gt;\r\n    &lt;meta name=&quot;meta:last-author&quot; content=&quot;Microsoft account&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Company&quot; content=&quot;&quot; /&gt;\r\n    &lt;meta name=&quot;xmpTPg:NPages&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;dcterms:created&quot; content=&quot;2022-04-25T09:09:00Z&quot; /&gt;\r\n    &lt;meta name=&quot;meta:line-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;dcterms:modified&quot; content=&quot;2022-08-28T07:08:00Z&quot; /&gt;\r\n    &lt;meta name=&quot;meta:character-count&quot; content=&quot;189&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:Template&quot; content=&quot;Normal.dotm&quot; /&gt;\r\n    &lt;meta name=&quot;meta:character-count-with-spaces&quot; content=&quot;221&quot; /&gt;\r\n    &lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.DefaultParser&quot; /&gt;\r\n    &lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.microsoft.ooxml.OOXMLParser&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:DocSecurityString&quot; content=&quot;None&quot; /&gt;\r\n    &lt;meta name=&quot;extended-properties:TotalTime&quot; content=&quot;35&quot; /&gt;\r\n    &lt;meta name=&quot;meta:page-count&quot; content=&quot;1&quot; /&gt;\r\n    &lt;meta name=&quot;Content-Type&quot; content=&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; /&gt;\r\n    &lt;meta name=&quot;dc:publisher&quot; content=&quot;&quot; /&gt;\r\n    &lt;title&gt;&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;&lt;p&gt;This one is a test Docx file.&lt;/p&gt;\r\n    &lt;p&gt;Math: &lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;This is bold&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;i&gt;This one’s italic&lt;/i&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;u&gt;Underlined&lt;/u&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;Bold Italic and underlined&lt;/u&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;&lt;b&gt;&lt;i&gt;Bold and italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;In Same Line: &lt;b&gt;Bold&lt;/b&gt; &lt;i&gt;Italic&lt;/i&gt; &lt;u&gt;Underlined&lt;/u&gt; &lt;b&gt;&lt;i&gt;Bold and Italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\r\n    &lt;p&gt;We have somesuperscript andsubscript&lt;/p&gt;\r\n    &lt;p&gt;&lt;a name=&quot;_GoBack&quot; /&gt;&lt;/p&gt;\r\n    &lt;/body&gt;&lt;/html&gt;\r\n\r\nAgain I am not getting any math information furthermore I&#39;m not getting any superscript and subscript information using this approach.\r\n\r\nI am a beginner when it comes to handling word documents and stuck with this issue for a while now. Is there a way to get both math and other style information at the same time in java? \r\nAlso is it possible using javascript?\r\n\r\n  [1]: https://i.stack.imgur.com/N3OZ6.png","title":"How to read a Word file and get both formatting and math expression information in java?","body":"<p>I am trying to read a word file which looks like this:\n<a href=\"https://i.stack.imgur.com/N3OZ6.png\" rel=\"nofollow noreferrer\">Docx file screenshot</a></p>\n<p>First I have tried using XWPFRun:</p>\n<pre><code>public String[] readStringFromFile(String absolutePath) throws Exception {\n    FileInputStream fileInputStream = new FileInputStream(absolutePath);\n    XWPFDocument document = new XWPFDocument(fileInputStream);\n    List&lt;XWPFParagraph&gt; paragraphs = document.getParagraphs();\n    List&lt;String&gt; strings = new ArrayList&lt;&gt;();\n    \n    for (XWPFParagraph paragraph : paragraphs) {\n        strings.add(paragraph.getText());\n        for (XWPFRun run :\n                paragraph.getRuns()) {\n            System.out.println(&quot;Run: &quot; + run.text());\n            System.out.println(&quot;Run infos:&quot;);\n            System.out.println(&quot;Bold: &quot; + run.isBold() + &quot; Italic: &quot; + run.isItalic() + &quot; Underlined: &quot; + run.getUnderline());\n            System.out.println(&quot;Superscript/Subscript: &quot; + run.getVerticalAlignment() + &quot;\\n&quot;);\n        }\n    }\n    document.close();\n    return strings.toArray(new String[0]);\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Run: This one is a test Docx file.\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Math: \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: This is bold\nRun infos:\nBold: true Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: This one’s italic\nRun infos:\nBold: false Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Underlined\nRun infos:\nBold: false Italic: false Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun: Bold Italic and underlined\nRun infos:\nBold: true Italic: true Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun: Bold and italic\nRun infos:\nBold: true Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: In Same Line: \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Bold\nRun infos:\nBold: true Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Italic\nRun infos:\nBold: false Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Underlined\nRun infos:\nBold: false Italic: false Underlined: SINGLE\nSuperscript/Subscript: baseline\n\nRun:  \nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: Bold and Italic\nRun infos:\nBold: true Italic: true Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: W\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: e have some\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: superscript\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: superscript\n\nRun:  and\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: baseline\n\nRun: subscript\nRun infos:\nBold: false Italic: false Underlined: NONE\nSuperscript/Subscript: subscript\n</code></pre>\n<p>This is not giving me any math information.</p>\n<p>Then I tried using Apache Tika and getting the information from the returned HTML:</p>\n<pre><code>private void getHtmlUsingTika(String absolutePath) throws IOException, TikaException, SAXException {\n    ContentHandler handler = new ToXMLContentHandler();\n    AutoDetectParser parser = new AutoDetectParser();\n    Metadata metadata = new Metadata();\n\n    InputStream stream = new FileInputStream(new File(absolutePath));\n\n    parser.parse(stream,handler,metadata);\n    System.out.println(handler.toString());\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;\n&lt;head&gt;\n&lt;meta name=&quot;cp:revision&quot; content=&quot;25&quot; /&gt;\n&lt;meta name=&quot;extended-properties:AppVersion&quot; content=&quot;15.0000&quot; /&gt;\n&lt;meta name=&quot;meta:paragraph-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;meta:word-count&quot; content=&quot;33&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Application&quot; content=&quot;Microsoft Office Word&quot; /&gt;\n&lt;meta name=&quot;meta:last-author&quot; content=&quot;Microsoft account&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Company&quot; content=&quot;&quot; /&gt;\n&lt;meta name=&quot;xmpTPg:NPages&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;dcterms:created&quot; content=&quot;2022-04-25T09:09:00Z&quot; /&gt;\n&lt;meta name=&quot;meta:line-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;dcterms:modified&quot; content=&quot;2022-08-28T07:08:00Z&quot; /&gt;\n&lt;meta name=&quot;meta:character-count&quot; content=&quot;189&quot; /&gt;\n&lt;meta name=&quot;extended-properties:Template&quot; content=&quot;Normal.dotm&quot; /&gt;\n&lt;meta name=&quot;meta:character-count-with-spaces&quot; content=&quot;221&quot; /&gt;\n&lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.DefaultParser&quot; /&gt;\n&lt;meta name=&quot;X-TIKA:Parsed-By&quot; content=&quot;org.apache.tika.parser.microsoft.ooxml.OOXMLParser&quot; /&gt;\n&lt;meta name=&quot;extended-properties:DocSecurityString&quot; content=&quot;None&quot; /&gt;\n&lt;meta name=&quot;extended-properties:TotalTime&quot; content=&quot;35&quot; /&gt;\n&lt;meta name=&quot;meta:page-count&quot; content=&quot;1&quot; /&gt;\n&lt;meta name=&quot;Content-Type&quot; content=&quot;application/vnd.openxmlformats-officedocument.wordprocessingml.document&quot; /&gt;\n&lt;meta name=&quot;dc:publisher&quot; content=&quot;&quot; /&gt;\n&lt;title&gt;&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;&lt;p&gt;This one is a test Docx file.&lt;/p&gt;\n&lt;p&gt;Math: &lt;/p&gt;\n&lt;p&gt;&lt;b&gt;This is bold&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;&lt;i&gt;This one’s italic&lt;/i&gt;&lt;/p&gt;\n&lt;p&gt;&lt;u&gt;Underlined&lt;/u&gt;&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;&lt;i&gt;&lt;u&gt;Bold Italic and underlined&lt;/u&gt;&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;&lt;b&gt;&lt;i&gt;Bold and italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;In Same Line: &lt;b&gt;Bold&lt;/b&gt; &lt;i&gt;Italic&lt;/i&gt; &lt;u&gt;Underlined&lt;/u&gt; &lt;b&gt;&lt;i&gt;Bold and Italic&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;\n&lt;p&gt;We have somesuperscript andsubscript&lt;/p&gt;\n&lt;p&gt;&lt;a name=&quot;_GoBack&quot; /&gt;&lt;/p&gt;\n&lt;/body&gt;&lt;/html&gt;\n</code></pre>\n<p>Again I am not getting any math information furthermore I'm not getting any superscript and subscript information using this approach.</p>\n<p>I am a beginner when it comes to handling word documents and stuck with this issue for a while now. Is there a way to get both math and other style information at the same time in java?\nAlso is it possible using javascript?</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1661667630,"post_id":73516382,"comment_id":129823274,"body_markdown":"please read this question and answers: [Why should I not upload images of code/data/errors when asking a question?](https://meta.stackoverflow.com/q/285551/16320675)","body":"please read this question and answers: <a href=\"https://meta.stackoverflow.com/q/285551/16320675\">Why should I not upload images of code/data/errors when asking a question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675478,"creation_date":1661675478,"answer_id":73517153,"question_id":73516382,"body_markdown":"I think the one possible way is to inherit from JOptionPane and define new method like &quot;showUndecoratedOptionDialog&quot;. This method would be identical with showOptionDialog but with one additional line dialog.setUndecorated(true) just before dialog.show().\r\n\r\n","title":"How to setUndecorated(true) on a jOptionPane","body":"<p>I think the one possible way is to inherit from JOptionPane and define new method like &quot;showUndecoratedOptionDialog&quot;. This method would be identical with showOptionDialog but with one additional line dialog.setUndecorated(true) just before dialog.show().</p>\n"}],"owner":{"account_id":24485103,"reputation":1,"user_id":18402907,"display_name":"Jo&#227;o Victor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1661675478,"creation_date":1661666486,"question_id":73516382,"body_markdown":"How can I setUndecorated(true) my jOptionPane?\r\n\r\nI&#39;ve tried everything, I&#39;ll leave below the link to the image of jOptionPane.\r\n\r\nhttps://i.stack.imgur.com/RUWaR.png\r\n\r\nHere&#39;s what i tried:\r\n\r\n    private void btnExitMouseClicked(java.awt.event.MouseEvent evt) {                                     \r\n        // TODO add your handling code here:\r\n        Color temaDark = new Color(18, 18, 18);\r\n        UIManager.put(&quot;control&quot;, temaDark);\r\n        UIManager.put(&quot;OptionPane.background&quot;, temaDark);\r\n        UIManager.put(&quot;OptionPane.messageForeground&quot;, Color.white);\r\n        int resposta = JOptionPane.showOptionDialog(new JFrame(), &quot;Deseja realmente sair do sistema?&quot;, &quot;Sair&quot;,\r\n                JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null,\r\n                new Object[]{&quot;N&#227;o&quot;, &quot;Sim&quot;}, JOptionPane.YES_OPTION);\r\n        if (resposta == JOptionPane.NO_OPTION) { //Inverti a op&#231;&#227;o para facilitar, para o Netbeans focar no &quot;N&#227;o&quot;, caso o usuario clique sem querer em sair\r\n            System.exit(0);\r\n        }\r\n    }    ","title":"How to setUndecorated(true) on a jOptionPane","body":"<p>How can I setUndecorated(true) my jOptionPane?</p>\n<p>I've tried everything, I'll leave below the link to the image of jOptionPane.</p>\n<p><a href=\"https://i.stack.imgur.com/RUWaR.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/RUWaR.png</a></p>\n<p>Here's what i tried:</p>\n<pre><code>private void btnExitMouseClicked(java.awt.event.MouseEvent evt) {                                     \n    // TODO add your handling code here:\n    Color temaDark = new Color(18, 18, 18);\n    UIManager.put(&quot;control&quot;, temaDark);\n    UIManager.put(&quot;OptionPane.background&quot;, temaDark);\n    UIManager.put(&quot;OptionPane.messageForeground&quot;, Color.white);\n    int resposta = JOptionPane.showOptionDialog(new JFrame(), &quot;Deseja realmente sair do sistema?&quot;, &quot;Sair&quot;,\n            JOptionPane.YES_NO_OPTION, JOptionPane.QUESTION_MESSAGE, null,\n            new Object[]{&quot;Não&quot;, &quot;Sim&quot;}, JOptionPane.YES_OPTION);\n    if (resposta == JOptionPane.NO_OPTION) { //Inverti a opção para facilitar, para o Netbeans focar no &quot;Não&quot;, caso o usuario clique sem querer em sair\n        System.exit(0);\n    }\n}    \n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1661683750,"post_id":73517027,"comment_id":129825702,"body_markdown":"&quot;I wanted to differentiate between 43 inch and 50 inch smart tvs&quot; -- Android may not know how large the TV is.","body":"&quot;I wanted to differentiate between 43 inch and 50 inch smart tvs&quot; -- Android may not know how large the TV is."}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661675083,"creation_date":1661675083,"answer_id":73517128,"question_id":73517027,"body_markdown":"You can get the resolution of the screen in pixels of evey Android device.\r\n\r\nAlso you can get pixels per inch (or dots per inch) for every Android device.\r\n\r\nSo yes you can calculate the demension of the screen.\r\n\r\nThe device itself will not be smaller ;-)","title":"Is there a way to get the physical size(inches) of smart android TV Programmatically","body":"<p>You can get the resolution of the screen in pixels of evey Android device.</p>\n<p>Also you can get pixels per inch (or dots per inch) for every Android device.</p>\n<p>So yes you can calculate the demension of the screen.</p>\n<p>The device itself will not be smaller ;-)</p>\n"}],"owner":{"account_id":26178649,"reputation":1,"user_id":19862348,"display_name":"Leul Girma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661675083,"creation_date":1661674127,"question_id":73517027,"body_markdown":"I wanted to differentiate between 43 inch and 50 inch smart tvs and using display metrics i was able to get close enough result on my smartphone but on a 50 inch 4k tv it returns 28 inches with 1920&#215;1080 resolution, I installed some device info apps on the TV and they also show the size as 28 inch with 1080 res.\r\n\r\nThis [answer](https://stackoverflow.com/questions/67884567/how-to-read-the-real-native-physical-display-resolution-on-android-tv) suggested using DisplayCompat.ModeCompat, which has methods getPhysicalWidth and getPhysicalHeight that returns the correct resolution, but no other properties like display metrics that can help in determining the Inches.\r\n\r\nI want to know if there is methods inside DisplayCompat or other ways may to get the exact inch like combining the resolution, ppi or aspect ratio or if there is a library.","title":"Is there a way to get the physical size(inches) of smart android TV Programmatically","body":"<p>I wanted to differentiate between 43 inch and 50 inch smart tvs and using display metrics i was able to get close enough result on my smartphone but on a 50 inch 4k tv it returns 28 inches with 1920×1080 resolution, I installed some device info apps on the TV and they also show the size as 28 inch with 1080 res.</p>\n<p>This <a href=\"https://stackoverflow.com/questions/67884567/how-to-read-the-real-native-physical-display-resolution-on-android-tv\">answer</a> suggested using DisplayCompat.ModeCompat, which has methods getPhysicalWidth and getPhysicalHeight that returns the correct resolution, but no other properties like display metrics that can help in determining the Inches.</p>\n<p>I want to know if there is methods inside DisplayCompat or other ways may to get the exact inch like combining the resolution, ppi or aspect ratio or if there is a library.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1869831,"reputation":4089,"user_id":1692341,"accept_rate":90,"display_name":"Steffen"},"score":2,"creation_date":1401194197,"post_id":23889572,"comment_id":36778834,"body_markdown":"Does your class overwrite `toString()`? Probably not. As such, it will use the default implementation of [`Object`](http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--). Ah, and because it&#39;s an array you are trying to print at the beginning. Use `Arrays.toString(array)` instead. You&#39;ll still have to overwrite `toString()` for your Airport class.","body":"Does your class overwrite <code>toString()</code>? Probably not. As such, it will use the default implementation of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/lang/Object.html#toString--\" rel=\"nofollow noreferrer\"><code>Object</code></a>. Ah, and because it&#39;s an array you are trying to print at the beginning. Use <code>Arrays.toString(array)</code> instead. You&#39;ll still have to overwrite <code>toString()</code> for your Airport class."},{"owner":{"account_id":4459968,"reputation":106,"user_id":3629162,"display_name":"jlucidar"},"score":0,"creation_date":1401194201,"post_id":23889572,"comment_id":36778839,"body_markdown":"can you post your class airport ?","body":"can you post your class airport ?"},{"owner":{"account_id":1439900,"reputation":1569,"user_id":1360343,"accept_rate":50,"display_name":"Ankit Sharma"},"score":1,"creation_date":1401195421,"post_id":23889572,"comment_id":36779685,"body_markdown":"This is not memory address, It is full name of class + hash code of that object of same class.","body":"This is not memory address, It is full name of class + hash code of that object of same class."}],"answers":[{"tags":[],"owner":{"account_id":3260062,"reputation":6909,"user_id":2745792,"accept_rate":65,"display_name":"Ninad Pingale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401194196,"creation_date":1401194196,"answer_id":23889609,"question_id":23889572,"body_markdown":"If you implement `toString()` method of `Airport` object you can see strings on console.","title":"Why does my Java code return a memory address and not a string?","body":"<p>If you implement <code>toString()</code> method of <code>Airport</code> object you can see strings on console.</p>\n"},{"tags":[],"owner":{"account_id":2524075,"reputation":36076,"user_id":2193767,"accept_rate":78,"display_name":"TheLostMind"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1401194210,"creation_date":1401194210,"answer_id":23889613,"question_id":23889572,"body_markdown":"toString() doesn&#39;t return an address . It returns \r\n\r\n    getClass().getName() + &#39;@&#39; + Integer.toHexString(hashCode())","title":"Why does my Java code return a memory address and not a string?","body":"<p>toString() doesn't return an address . It returns </p>\n\n<pre><code>getClass().getName() + '@' + Integer.toHexString(hashCode())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3284464,"reputation":4395,"user_id":2764279,"accept_rate":89,"display_name":"earthmover"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401194351,"creation_date":1401194351,"answer_id":23889662,"question_id":23889572,"body_markdown":"Since `info` is an array of `String`, that&#39;s why the output is `[Lcom.flightwise.planexml.ws.Airport;@604ed9f0` and **not a `String`**, and if you want to print the `toString()` (if you have overrided) method of your `Airport` class, then just do : \r\n\r\n    System.out.println(info[0].toString()) // you can use any index in place of 0","title":"Why does my Java code return a memory address and not a string?","body":"<p>Since <code>info</code> is an array of <code>String</code>, that's why the output is <code>[Lcom.flightwise.planexml.ws.Airport;@604ed9f0</code> and <strong>not a <code>String</code></strong>, and if you want to print the <code>toString()</code> (if you have overrided) method of your <code>Airport</code> class, then just do : </p>\n\n<pre><code>System.out.println(info[0].toString()) // you can use any index in place of 0\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3076563,"reputation":6258,"user_id":2605733,"accept_rate":89,"display_name":"Abdul Fatir"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1401194752,"creation_date":1401194752,"answer_id":23889824,"question_id":23889572,"body_markdown":"As others have answered, you are:  \n\n1- Printing the array itself.  \n2- Using toString() without an override.    \n3- Printing an Airport Object.  \nIf you want to print specific things about the **Airport**, you need to use the properties explicitly. Also, read the documentaion https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport  \n\nIt reads:\n\n&gt; Provides basic information on an airport.\n&gt;\n&gt;Ident As String  \nICAO As String  \nLocation As String  \nLat As Double  \nLon As Double  \nElev As Int32  \nGMTOffset As Short  \nDST As Short","title":"Why does my Java code return a memory address and not a string?","body":"<p>As others have answered, you are:</p>\n<p>1- Printing the array itself.<br />\n2- Using toString() without an override.<br />\n3- Printing an Airport Object.<br />\nIf you want to print specific things about the <strong>Airport</strong>, you need to use the properties explicitly. Also, read the documentaion <a href=\"https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport\" rel=\"nofollow noreferrer\">https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#Airport</a></p>\n<p>It reads:</p>\n<blockquote>\n<p>Provides basic information on an airport.</p>\n<p>Ident As String<br />\nICAO As String<br />\nLocation As String<br />\nLat As Double<br />\nLon As Double<br />\nElev As Int32<br />\nGMTOffset As Short<br />\nDST As Short</p>\n</blockquote>\n"}],"owner":{"account_id":3194329,"reputation":1295,"user_id":2697874,"accept_rate":72,"display_name":"Ben Mayo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4068,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1661673770,"accepted_answer_id":23889824,"answer_count":4,"score":0,"last_activity_date":1661673764,"creation_date":1401194074,"question_id":23889572,"body_markdown":"I am calling a WSDL service from PlaneXML - API reference here\r\nhttps://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo\r\n\r\nMy code:\r\n\r\n    public static void airportName() throws RemoteException{\r\n\t\tString lax = &quot;LAX&quot;;       \r\n\t\tPlaneXMLv1SoapProxy foo = new PlaneXMLv1SoapProxy();\r\n\t\tAirport [] info = foo.airportInfo(lax);\r\n\t\tSystem.out.println(&quot;output 1: &quot; + info);\r\n        System.out.println(&quot;output 2: &quot; + info.toString());\r\n\t\tSystem.out.println(&quot;output 3: &quot; + info[0]);\r\n    }\r\n\r\nMy output:\r\n\r\n    output 1: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\r\n    output 2: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\r\n    test\r\n    test\r\n    output 3: com.flightwise.planexml.ws.Airport@9117a1a4\r\n\r\nWhy do I return these memory addresses and not a string?\r\nAny ideas what might be causing the &quot;test&quot; output?\r\n\r\n","title":"Why does my Java code return a memory address and not a string?","body":"<p>I am calling a WSDL service from PlaneXML - API reference here\n<a href=\"https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo\" rel=\"nofollow noreferrer\">https://flightwise.com/documentation/39/PlaneXML_API_Reference.html#AirportInfo</a></p>\n<p>My code:</p>\n<pre><code>public static void airportName() throws RemoteException{\n    String lax = &quot;LAX&quot;;       \n    PlaneXMLv1SoapProxy foo = new PlaneXMLv1SoapProxy();\n    Airport [] info = foo.airportInfo(lax);\n    System.out.println(&quot;output 1: &quot; + info);\n    System.out.println(&quot;output 2: &quot; + info.toString());\n    System.out.println(&quot;output 3: &quot; + info[0]);\n}\n</code></pre>\n<p>My output:</p>\n<pre><code>output 1: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\noutput 2: [Lcom.flightwise.planexml.ws.Airport;@604ed9f0\ntest\ntest\noutput 3: com.flightwise.planexml.ws.Airport@9117a1a4\n</code></pre>\n<p>Why do I return these memory addresses and not a string?\nAny ideas what might be causing the &quot;test&quot; output?</p>\n"},{"tags":["java","sqlite","database-connection"],"comments":[{"owner":{"account_id":3537759,"reputation":2321,"user_id":2955605,"display_name":"Slimu"},"score":0,"creation_date":1465297156,"post_id":37677443,"comment_id":62831879,"body_markdown":"This link: https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html should help you learn how to work with DB in Java. You can also use Hibernate for this, but if you are a begginer I recomend using the old way. You should have the jdbc jars for sqlite in your application so that you can establish a connection","body":"This link: <a href=\"https://docs.oracle.com/javase/tutorial/jdbc/basics/index.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/jdbc/basics/index.html</a> should help you learn how to work with DB in Java. You can also use Hibernate for this, but if you are a begginer I recomend using the old way. You should have the jdbc jars for sqlite in your application so that you can establish a connection"},{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1465297175,"post_id":37677443,"comment_id":62831894,"body_markdown":"If the server is remote you don&#39;t have to install the database on the client.  You have to install the database on the machine that will persist the data to disk.  It had to be done once.","body":"If the server is remote you don&#39;t have to install the database on the client.  You have to install the database on the machine that will persist the data to disk.  It had to be done once."}],"answers":[{"tags":[],"owner":{"account_id":7610459,"reputation":1833,"user_id":5771474,"accept_rate":74,"display_name":"Ice"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661673729,"creation_date":1465297544,"answer_id":37677654,"question_id":37677443,"body_markdown":"You need Jdbc driver only or you can use ORM like hibernate. \r\nYoutube has many tutorials about java and databases:\r\n\r\n[https://www.youtube.com/results?search_query=java+database+tutorial][1]\r\n\r\n\r\nIf you are a begginer, start with jdbc with sql queries, later you should start using ORM&#39;s.\r\nProbably you need to install mysql server or use this website [https://www.elephantsql.com/][2] to get database instant.\r\n\r\n\r\n  [1]: https://www.youtube.com/results?search_query=java%20database%20tutorial\r\n  [2]: https://www.elephantsql.com/","title":"do I need to install sqlite software to connect in java?","body":"<p>You need Jdbc driver only or you can use ORM like hibernate.\nYoutube has many tutorials about java and databases:</p>\n<p><a href=\"https://www.youtube.com/results?search_query=java%20database%20tutorial\" rel=\"nofollow noreferrer\">https://www.youtube.com/results?search_query=java+database+tutorial</a></p>\n<p>If you are a begginer, start with jdbc with sql queries, later you should start using ORM's.\nProbably you need to install mysql server or use this website <a href=\"https://www.elephantsql.com/\" rel=\"nofollow noreferrer\">https://www.elephantsql.com/</a> to get database instant.</p>\n"},{"tags":[],"owner":{"account_id":4392376,"reputation":3969,"user_id":3580365,"accept_rate":83,"display_name":"Gal Dreiman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1465297974,"creation_date":1465297974,"answer_id":37677809,"question_id":37677443,"body_markdown":"There are 2 options:\r\n\r\n 1. **Use your DB locally**:\r\nFor this you will need to install SQLLite on your machine, and in your project use JDBC jars for the connections from your java project to the DB. You may send queries to the DB as a string like &quot;SELECT XXX FROM YYY WHERE a&gt;b&quot; or use *Object Relational Mapping (ORM)* tools like [Hibernate][1].\r\n 2. If you have a **remote DB** installed on a VM on some cloud for example, then you don&#39;t need to install any DB on your local computer. But you will still need to use JDBC for connection.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/hibernate/orm_overview.htm","title":"do I need to install sqlite software to connect in java?","body":"<p>There are 2 options:</p>\n\n<ol>\n<li><strong>Use your DB locally</strong>:\nFor this you will need to install SQLLite on your machine, and in your project use JDBC jars for the connections from your java project to the DB. You may send queries to the DB as a string like \"SELECT XXX FROM YYY WHERE a>b\" or use <em>Object Relational Mapping (ORM)</em> tools like <a href=\"http://www.tutorialspoint.com/hibernate/orm_overview.htm\" rel=\"nofollow\">Hibernate</a>.</li>\n<li>If you have a <strong>remote DB</strong> installed on a VM on some cloud for example, then you don't need to install any DB on your local computer. But you will still need to use JDBC for connection.</li>\n</ol>\n"}],"owner":{"display_name":"user3375734"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1661673729,"creation_date":1465296998,"question_id":37677443,"body_markdown":"To make connection to sqlite database and do some transaction, is it mandatory that a database software should be installed in the machine. I have seen that some libraries just handle connection and transactions without even database software. Or did I miss to notice that there were some database is already installed? How does the connection mechanism works?\r\nA link to good article with detailed explanation would help me!\r\n\r\nThank you.","title":"do I need to install sqlite software to connect in java?","body":"<p>To make connection to sqlite database and do some transaction, is it mandatory that a database software should be installed in the machine. I have seen that some libraries just handle connection and transactions without even database software. Or did I miss to notice that there were some database is already installed? How does the connection mechanism works?\nA link to good article with detailed explanation would help me!</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","amazon-web-services","spring-boot","kotlin","aws-msk"],"comments":[{"owner":{"account_id":15422225,"reputation":419,"user_id":11125970,"display_name":"floating_hammer"},"score":1,"creation_date":1623683741,"post_id":67487870,"comment_id":120142268,"body_markdown":"This looks very similar to https://stackoverflow.com/questions/67574325/unable-to-use-iam-access-control-method-using-terraform-aws-msk-cluster-resource","body":"This looks very similar to <a href=\"https://stackoverflow.com/questions/67574325/unable-to-use-iam-access-control-method-using-terraform-aws-msk-cluster-resource\" title=\"unable to use iam access control method using terraform aws msk cluster resource\">stackoverflow.com/questions/67574325/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6025448,"reputation":368,"user_id":4731312,"display_name":"Matt Kindy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628171576,"creation_date":1628171576,"answer_id":68667927,"question_id":67487870,"body_markdown":"I had this issue. AWS MSK IAM relies on [communication over port 9098][1]. In my case, I had security groups allow inbound communication over the typical ports 9092 (plaintext) and 9094 (TLS) but not 9098. Make sure your cluster is accepting traffic over that port\r\n\r\n\r\n  [1]: https://aws.amazon.com/blogs/big-data/securing-apache-kafka-is-easy-and-familiar-with-iam-access-control-for-amazon-msk/","title":"AWS MSK with IAM - Timeout Exception","body":"<p>I had this issue. AWS MSK IAM relies on <a href=\"https://aws.amazon.com/blogs/big-data/securing-apache-kafka-is-easy-and-familiar-with-iam-access-control-for-amazon-msk/\" rel=\"nofollow noreferrer\">communication over port 9098</a>. In my case, I had security groups allow inbound communication over the typical ports 9092 (plaintext) and 9094 (TLS) but not 9098. Make sure your cluster is accepting traffic over that port</p>\n"},{"tags":[],"owner":{"account_id":5005938,"reputation":11,"user_id":4023601,"display_name":"Siraj Lakhani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645546272,"creation_date":1645116050,"answer_id":71162086,"question_id":67487870,"body_markdown":"I was facing similar issue and below is the config i had used in java code. Turns out I was using old kafka-client lib and after upgrading version till 2.6.11, I was able to resolve the issue.\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n          &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\r\n          &lt;version&gt;2.6.3&lt;/version&gt;\r\n     &lt;/dependency&gt;\r\n\r\n\r\n     props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\r\n     props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\r\n     props.put(&quot;sasl.mechanism&quot;, &quot;AWS_MSK_IAM&quot;);\r\n     props.put(&quot;sasl.jaas.config&quot;, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\r\n     props.put(&quot;sasl.client.callback.handler.class&quot;, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\r\n     props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;Random123&quot;);\r\n     props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n     props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\r\n     props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);","title":"AWS MSK with IAM - Timeout Exception","body":"<p>I was facing similar issue and below is the config i had used in java code. Turns out I was using old kafka-client lib and after upgrading version till 2.6.11, I was able to resolve the issue.</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n      &lt;artifactId&gt;kafka-clients&lt;/artifactId&gt;\n      &lt;version&gt;2.6.3&lt;/version&gt;\n &lt;/dependency&gt;\n\n\n props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, brokers);\n props.put(&quot;security.protocol&quot;, &quot;SASL_SSL&quot;);\n props.put(&quot;sasl.mechanism&quot;, &quot;AWS_MSK_IAM&quot;);\n props.put(&quot;sasl.jaas.config&quot;, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\n props.put(&quot;sasl.client.callback.handler.class&quot;, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\n props.put(ConsumerConfig.GROUP_ID_CONFIG, &quot;Random123&quot;);\n props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG,&quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, &quot;org.apache.kafka.common.serialization.StringDeserializer&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3188714,"reputation":1014,"user_id":2693608,"display_name":"ezer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652879493,"creation_date":1652879176,"answer_id":72289807,"question_id":67487870,"body_markdown":"this issue is seems to relate to networking.\r\n\r\nmake sure you expose the correct ports in your MSK security group ingress\r\n\r\nin case you use cloudformation to generate your security group, you can use the ingress that suits you (more than one option can be appplied)\r\n\r\nexample:\r\n```yaml\r\n  MskSecurityGroup:\r\n    Type: &quot;AWS::EC2::SecurityGroup&quot;\r\n    Properties:\r\n      GroupDescription: MSK security group\r\n      GroupName: !Sub &quot;${AWS::StackName}-securitygroup&quot;\r\n      SecurityGroupEgress:\r\n        - Description: No restrictions\r\n          CidrIp: &quot;0.0.0.0/0&quot;\r\n          FromPort: 0\r\n          IpProtocol: tcp\r\n          ToPort: 65535\r\n      SecurityGroupIngress:\r\n\r\n        # bootstrap servers IAM auth\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9098\r\n          IpProtocol: tcp\r\n          ToPort: 9098\r\n\r\n        # bootstrap servers TLS auth\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9094\r\n          IpProtocol: tcp\r\n          ToPort: 9094\r\n\r\n        # bootstrap servers PLAINTEXT\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 9092\r\n          IpProtocol: tcp\r\n          ToPort: 9092\r\n\r\n        # zookeeper TLS\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 2182\r\n          IpProtocol: tcp\r\n          ToPort: 2182\r\n\r\n        # zookeeper PLAINTEXT\r\n        - CidrIp: !Ref CidrIp\r\n          FromPort: 2181\r\n          IpProtocol: tcp\r\n          ToPort: 2181\r\n      VpcId: !Ref myVpcId\r\n```","title":"AWS MSK with IAM - Timeout Exception","body":"<p>this issue is seems to relate to networking.</p>\n<p>make sure you expose the correct ports in your MSK security group ingress</p>\n<p>in case you use cloudformation to generate your security group, you can use the ingress that suits you (more than one option can be appplied)</p>\n<p>example:</p>\n<pre class=\"lang-yaml prettyprint-override\"><code>  MskSecurityGroup:\n    Type: &quot;AWS::EC2::SecurityGroup&quot;\n    Properties:\n      GroupDescription: MSK security group\n      GroupName: !Sub &quot;${AWS::StackName}-securitygroup&quot;\n      SecurityGroupEgress:\n        - Description: No restrictions\n          CidrIp: &quot;0.0.0.0/0&quot;\n          FromPort: 0\n          IpProtocol: tcp\n          ToPort: 65535\n      SecurityGroupIngress:\n\n        # bootstrap servers IAM auth\n        - CidrIp: !Ref CidrIp\n          FromPort: 9098\n          IpProtocol: tcp\n          ToPort: 9098\n\n        # bootstrap servers TLS auth\n        - CidrIp: !Ref CidrIp\n          FromPort: 9094\n          IpProtocol: tcp\n          ToPort: 9094\n\n        # bootstrap servers PLAINTEXT\n        - CidrIp: !Ref CidrIp\n          FromPort: 9092\n          IpProtocol: tcp\n          ToPort: 9092\n\n        # zookeeper TLS\n        - CidrIp: !Ref CidrIp\n          FromPort: 2182\n          IpProtocol: tcp\n          ToPort: 2182\n\n        # zookeeper PLAINTEXT\n        - CidrIp: !Ref CidrIp\n          FromPort: 2181\n          IpProtocol: tcp\n          ToPort: 2181\n      VpcId: !Ref myVpcId\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9888134,"reputation":487,"user_id":7322039,"display_name":"Vahan Yeghyan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661673151,"creation_date":1661673151,"answer_id":73516922,"question_id":67487870,"body_markdown":"    @Bean\r\n\tpublic Map&lt;String, Object&gt; consumerConfigs() {\r\n\t\tMap&lt;String, Object&gt; props = new HashMap&lt;&gt;();\r\n\t\tprops.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, url);\r\n\t\tprops.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\r\n\t\tprops.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_MECHANISM, &quot;AWS_MSK_IAM&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_JAAS_CONFIG, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\r\n\t\tprops.put(SaslConfigs.SASL_CLIENT_CALLBACK_HANDLER_CLASS, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\r\n\t\treturn props;\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\r\n\t\treturn new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\r\n\t\tConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n\t\tfactory.setConsumerFactory(consumerFactory());\r\n\t\treturn factory;\r\n\t}\r\n\r\n1. Make sure that MSK cluster&#39;s security group opened access for current EC2.\r\n2. Make sure current EC2 has IAM role and that role should be configured with policies that allow or deny actions. If its serverless cluster you can see &quot;Configure IAM policy&quot; button, there you will see a json which you should copy then edit as described there and insert into your EC2 IAM role&#39;s policy and you will have access.\r\n3. Also you must have current dependency for maven \r\n    \r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\r\n          &lt;version&gt;1.1.4&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n\r\n which will do the client work part for you. Be informed that sometimes it gives conflict with &quot;aws-java-sdk&quot; dependency.","title":"AWS MSK with IAM - Timeout Exception","body":"<pre><code>@Bean\npublic Map&lt;String, Object&gt; consumerConfigs() {\n    Map&lt;String, Object&gt; props = new HashMap&lt;&gt;();\n    props.put(ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, url);\n    props.put(ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class);\n    props.put(CommonClientConfigs.SECURITY_PROTOCOL_CONFIG, &quot;SASL_SSL&quot;);\n    props.put(SaslConfigs.SASL_MECHANISM, &quot;AWS_MSK_IAM&quot;);\n    props.put(SaslConfigs.SASL_JAAS_CONFIG, &quot;software.amazon.msk.auth.iam.IAMLoginModule required;&quot;);\n    props.put(SaslConfigs.SASL_CLIENT_CALLBACK_HANDLER_CLASS, &quot;software.amazon.msk.auth.iam.IAMClientCallbackHandler&quot;);\n    return props;\n}\n\n@Bean\npublic ConsumerFactory&lt;String, String&gt; consumerFactory() {\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs());\n}\n\n@Bean\npublic KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, String&gt;&gt; kafkaListenerContainerFactory() {\n    ConcurrentKafkaListenerContainerFactory&lt;String, String&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n    factory.setConsumerFactory(consumerFactory());\n    return factory;\n}\n</code></pre>\n<ol>\n<li><p>Make sure that MSK cluster's security group opened access for current EC2.</p>\n</li>\n<li><p>Make sure current EC2 has IAM role and that role should be configured with policies that allow or deny actions. If its serverless cluster you can see &quot;Configure IAM policy&quot; button, there you will see a json which you should copy then edit as described there and insert into your EC2 IAM role's policy and you will have access.</p>\n</li>\n<li><p>Also you must have current dependency for maven</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;software.amazon.msk&lt;/groupId&gt;\n   &lt;artifactId&gt;aws-msk-iam-auth&lt;/artifactId&gt;\n   &lt;version&gt;1.1.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n</ol>\n<p>which will do the client work part for you. Be informed that sometimes it gives conflict with &quot;aws-java-sdk&quot; dependency.</p>\n"}],"owner":{"account_id":437387,"reputation":301,"user_id":825045,"accept_rate":83,"display_name":"Lucas Gazire"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4946,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1661673151,"creation_date":1620739996,"question_id":67487870,"body_markdown":"We are using Aws MSK, recently they announce the AWS MSK IAM AUTH(https://github.com/aws/aws-msk-iam-auth)\r\n\r\nWhen i tried to use it with the bellow configuration on my clients i got the exception:\r\n```[AdminClient clientId=adminclient-1] Metadata update failed\r\norg.apache.kafka.common.errors.TimeoutException: Call(callName=fetchMetadata, deadlineMs=1620677932733) timed out at 1620677932734 after 1 attempt(s)\r\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment.\r\n```\r\nMy application.yml:\r\n\r\n```security.protocol: SASL_SSL\r\nsasl:\r\n  mechanism: AWS_MSK_IAM\r\n  jaas:\r\n    config: software.amazon.msk.auth.iam.IAMLoginModule required\r\n  client:\r\n    callback:\r\n      handler:\r\n        class: software.amazon.msk.auth.iam.IAMClientCallbackHandler\r\n```\r\n\r\nThe telnet works but it seems that something is missing, any suggestions?","title":"AWS MSK with IAM - Timeout Exception","body":"<p>We are using Aws MSK, recently they announce the AWS MSK IAM AUTH(<a href=\"https://github.com/aws/aws-msk-iam-auth\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-msk-iam-auth</a>)</p>\n<p>When i tried to use it with the bellow configuration on my clients i got the exception:</p>\n<pre><code>org.apache.kafka.common.errors.TimeoutException: Call(callName=fetchMetadata, deadlineMs=1620677932733) timed out at 1620677932734 after 1 attempt(s)\nCaused by: org.apache.kafka.common.errors.TimeoutException: Timed out waiting for a node assignment.\n</code></pre>\n<p>My application.yml:</p>\n<pre><code>sasl:\n  mechanism: AWS_MSK_IAM\n  jaas:\n    config: software.amazon.msk.auth.iam.IAMLoginModule required\n  client:\n    callback:\n      handler:\n        class: software.amazon.msk.auth.iam.IAMClientCallbackHandler\n</code></pre>\n<p>The telnet works but it seems that something is missing, any suggestions?</p>\n"},{"tags":["java","java-threads"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1661359553,"post_id":73476556,"comment_id":129755727,"body_markdown":"If you want help debugging your code, then I think you should post a [mcve].","body":"If you want help debugging your code, then I think you should post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"score":0,"creation_date":1661360337,"post_id":73476556,"comment_id":129756004,"body_markdown":"Okey, I&#39;ll try. There&#39;s a lot of code required to make the wole thing work but I thougth these 2 snippets were enough to point out some obvious flaws.","body":"Okey, I&#39;ll try. There&#39;s a lot of code required to make the wole thing work but I thougth these 2 snippets were enough to point out some obvious flaws."},{"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"score":0,"creation_date":1661366475,"post_id":73476556,"comment_id":129758085,"body_markdown":"@Abra hey is this too much?","body":"@Abra hey is this too much?"}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661672964,"creation_date":1661672964,"answer_id":73516900,"question_id":73476556,"body_markdown":"Execution never stops because both players hang onto foo.wait(); and there is no one to wake them up.\r\n\r\nPlayer object should interrupt other sleeping players after making a move:\r\n```\r\n            do\r\n            {\r\n              while (mark == ticTacToe.lastMark())\r\n              { // if the last placed mark is the same as this player&#39;s mark wait for the other thread\r\n                try { foo.wait(); } catch (InterruptedException ex) {};\r\n              }\r\n              if (!wonBoard(ticTacToe.table(),&#39;O&#39;) &amp;&amp; !wonBoard(ticTacToe.table(),&#39;X&#39;))\r\n              {\r\n                ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\r\n              }\r\n              for (Thread th : ticTacToe.threads) th.interrupt();\r\n            } while (!wonBoard(ticTacToe.table(),&#39;O&#39;) &amp;&amp; !wonBoard(ticTacToe.table(),&#39;X&#39;)); //check if the board has 3 consecutive marks on any line\r\n```\r\n\r\nOf course first you have to write down references to threads:\r\n```\r\npublic class TicTacToe {\r\n  \r\n    public List&lt;Thread&gt; threads;\r\n```\r\n```\r\n        for (int i = 0; i &lt; marks.size(); i++) {\r\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\r\n            Thread thread = new Thread(player);\r\n            playerThreads.add(thread);\r\n        }\r\n\r\n        ticTacToe.threads=playerThreads;\r\n        playerThreads.forEach(Thread::start);\r\n        playerThreads.forEach(silentConsumer(Thread::join));\r\n```\r\n","title":"Java concurrent threads Tic Tac Toe simulation","body":"<p>Execution never stops because both players hang onto foo.wait(); and there is no one to wake them up.</p>\n<p>Player object should interrupt other sleeping players after making a move:</p>\n<pre><code>            do\n            {\n              while (mark == ticTacToe.lastMark())\n              { // if the last placed mark is the same as this player's mark wait for the other thread\n                try { foo.wait(); } catch (InterruptedException ex) {};\n              }\n              if (!wonBoard(ticTacToe.table(),'O') &amp;&amp; !wonBoard(ticTacToe.table(),'X'))\n              {\n                ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\n              }\n              for (Thread th : ticTacToe.threads) th.interrupt();\n            } while (!wonBoard(ticTacToe.table(),'O') &amp;&amp; !wonBoard(ticTacToe.table(),'X')); //check if the board has 3 consecutive marks on any line\n</code></pre>\n<p>Of course first you have to write down references to threads:</p>\n<pre><code>public class TicTacToe {\n  \n    public List&lt;Thread&gt; threads;\n</code></pre>\n<pre><code>        for (int i = 0; i &lt; marks.size(); i++) {\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\n            Thread thread = new Thread(player);\n            playerThreads.add(thread);\n        }\n\n        ticTacToe.threads=playerThreads;\n        playerThreads.forEach(Thread::start);\n        playerThreads.forEach(silentConsumer(Thread::join));\n</code></pre>\n"}],"owner":{"account_id":25070695,"reputation":1,"user_id":18924554,"display_name":"Piotruz"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":598,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1661672964,"creation_date":1661358034,"question_id":73476556,"body_markdown":"Hey I tried to synchronize two threads but I can&#39;t seem to get them to work properly.\r\n\r\nEach thread is a Player. They should wait for their turn after placing their mark. The problem is execution never stops and I&#39;m not sure why.\r\n\r\nIf this post does not meet minimal and readible criteria, let me know I&#39;ll keep editing.\r\n\r\nThis is `TicTacToe` class.\r\n```\r\npublic class TicTacToe {\r\n\r\n    static char prevMark=&#39;O&#39;;\r\n    static char[][] board;\r\n\r\n    public TicTacToe() {\r\n        newBoard(); // create board filled with blank spaces\r\n    }\r\n\r\n    public void setMark(int x, int y, char mark) {\r\n        if(x&gt;2||y&gt;2||(mark!=&#39;X&#39;&amp;&amp;mark!=&#39;O&#39;)) // if coordinates get outside the table or the mark is not X or O throw exception\r\n            throw new IllegalArgumentException();\r\n        if (board[x][y]==&#39; &#39;) { // if given place in the table is blank you can place the mark\r\n            board[x][y] = mark;\r\n            prevMark=mark;\r\n        }\r\n        else\r\n            throw new IllegalArgumentException();\r\n    }\r\n\r\n    public char[][] table() {\r\n        return Arrays.stream(board).map(char[]::clone).toArray(char[][]::new);\r\n    }\r\n\r\n    public char lastMark() {\r\n        return prevMark;\r\n    }\r\n\r\n    static private void newBoard() {\r\n        board= new char[][]{{&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n                {&#39; &#39;, &#39; &#39;, &#39; &#39;},\r\n        };\r\n    }\r\n\r\n}\r\n```\r\nThis class manages creation of the playing board, setting the marks on it and remembering the last mark placed to determine which player&#39;s turn is next.\r\n\r\nThis is `Player` interface\r\n```\r\npublic interface Player extends Runnable{\r\n\r\n    static boolean wonBoard(char[][] table, char mark){ //check if there is a line of 3 consecutive marks on the board\r\n        for(int i=0; i&lt;=2;i++){\r\n            if(table[0][i]==mark&amp;&amp;table[1][i]==mark&amp;&amp;table[2][i]==mark)\r\n                return true;\r\n            if(table[i][0]==mark&amp;&amp;table[i][1]==mark&amp;&amp;table[i][2]==mark)\r\n                return true;\r\n        }\r\n        if (table[0][0] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][2] == mark)\r\n            return true;\r\n        return table[0][2] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][0] == mark;\r\n    }\r\n\r\n    static Player createPlayer(final TicTacToe ticTacToe, final char mark, PlayerStrategy strategy) {\r\n\r\n        Object foo = new Object();\r\n\r\n        return new Player() {\r\n            @Override\r\n            public void run() {\r\n                synchronized (foo) {\r\n                    try {\r\n                        do {\r\n                            while (mark == ticTacToe.lastMark()) { // if the last placed mark is the same as this player&#39;s mark wait for the other thread\r\n                                foo.wait();\r\n                            }\r\n                            ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\r\n                        } while (!wonBoard(ticTacToe.table(), mark)); //check if the board has 3 consecutive marks on any line\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }\r\n}\r\n```\r\n\r\nThis class is for determining the next move of each player and returns coordinates of the move. There shouldn&#39;t be any problems here.\r\n\r\n```\r\npublic class PlayerStrategy {\r\n\r\n    public int[] computeMove(final char mark, final TicTacToe ticTacToe) {\r\n        final char[][] table = ticTacToe.table();\r\n        int[] coordinates = new int[0];\r\n        for (int dia = 0; dia &lt; 5; dia++) {\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                for (int j = 0; j &lt; 3; j++) {\r\n                    if (i + j == dia &amp;&amp; table[i][j] == &#39; &#39;) {\r\n                        coordinates = new int[]{i,j};\r\n                        return coordinates;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        throw new IllegalArgumentException();\r\n    }\r\n}\r\n```\r\n\r\nHere&#39;s an example of the test.\r\n\r\n```\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nclass GameTest {\r\n\r\n    @Test\r\n    void testPlayers() {\r\n        testCase(&quot;&quot; +\r\n                        &quot;XOO\\n&quot; +\r\n                        &quot;XXX\\n&quot; +\r\n                        &quot;O  &quot;,\r\n                new PlayerStrategy(), new PlayerStrategy());\r\n    }\r\n\r\n    private void testCase(String expected, PlayerStrategy... strategies) {\r\n        final TicTacToe ticTacToe = new TicTacToe();\r\n\r\n        final List&lt;Thread&gt; playerThreads = new ArrayList&lt;&gt;();\r\n        final List&lt;Character&gt; marks = Arrays.asList(&#39;X&#39;, &#39;O&#39;);\r\n\r\n        for (int i = 0; i &lt; marks.size(); i++) {\r\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\r\n            Thread thread = new Thread(player);\r\n            playerThreads.add(thread);\r\n        }\r\n\r\n        playerThreads.forEach(Thread::start);\r\n        playerThreads.forEach(silentConsumer(Thread::join));\r\n\r\n        assertEquals(expected, tableString(ticTacToe.table()));\r\n    }\r\n}\r\n```\r\n\r\nClass with `tableString` method for asserting equals\r\n```\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Utils {\r\n    public static String tableString(char[][] table){\r\n        return Arrays.stream(table)\r\n                .map(String::new)\r\n                .collect(Collectors.joining(&quot;\\n&quot;));\r\n    }\r\n\r\n}\r\n```\r\n\r\nConsumer for throws\r\n```\r\nimport java.util.function.Consumer;\r\n\r\n@FunctionalInterface\r\npublic interface ThrowingConsumer&lt;T, E extends Throwable&gt; {\r\n    void apply(T o) throws E;\r\n\r\n    static &lt;T, E extends Throwable&gt; Consumer&lt;T&gt; silentConsumer(ThrowingConsumer&lt;T, E&gt; throwingConsumer) {\r\n        return (param) -&gt; {\r\n            try {\r\n                throwingConsumer.apply(param);\r\n            } catch (Throwable e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        };\r\n    }\r\n}\r\n```","title":"Java concurrent threads Tic Tac Toe simulation","body":"<p>Hey I tried to synchronize two threads but I can't seem to get them to work properly.</p>\n<p>Each thread is a Player. They should wait for their turn after placing their mark. The problem is execution never stops and I'm not sure why.</p>\n<p>If this post does not meet minimal and readible criteria, let me know I'll keep editing.</p>\n<p>This is <code>TicTacToe</code> class.</p>\n<pre><code>public class TicTacToe {\n\n    static char prevMark='O';\n    static char[][] board;\n\n    public TicTacToe() {\n        newBoard(); // create board filled with blank spaces\n    }\n\n    public void setMark(int x, int y, char mark) {\n        if(x&gt;2||y&gt;2||(mark!='X'&amp;&amp;mark!='O')) // if coordinates get outside the table or the mark is not X or O throw exception\n            throw new IllegalArgumentException();\n        if (board[x][y]==' ') { // if given place in the table is blank you can place the mark\n            board[x][y] = mark;\n            prevMark=mark;\n        }\n        else\n            throw new IllegalArgumentException();\n    }\n\n    public char[][] table() {\n        return Arrays.stream(board).map(char[]::clone).toArray(char[][]::new);\n    }\n\n    public char lastMark() {\n        return prevMark;\n    }\n\n    static private void newBoard() {\n        board= new char[][]{{' ', ' ', ' '},\n                {' ', ' ', ' '},\n                {' ', ' ', ' '},\n        };\n    }\n\n}\n</code></pre>\n<p>This class manages creation of the playing board, setting the marks on it and remembering the last mark placed to determine which player's turn is next.</p>\n<p>This is <code>Player</code> interface</p>\n<pre><code>public interface Player extends Runnable{\n\n    static boolean wonBoard(char[][] table, char mark){ //check if there is a line of 3 consecutive marks on the board\n        for(int i=0; i&lt;=2;i++){\n            if(table[0][i]==mark&amp;&amp;table[1][i]==mark&amp;&amp;table[2][i]==mark)\n                return true;\n            if(table[i][0]==mark&amp;&amp;table[i][1]==mark&amp;&amp;table[i][2]==mark)\n                return true;\n        }\n        if (table[0][0] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][2] == mark)\n            return true;\n        return table[0][2] == mark &amp;&amp; table[1][1] == mark &amp;&amp; table[2][0] == mark;\n    }\n\n    static Player createPlayer(final TicTacToe ticTacToe, final char mark, PlayerStrategy strategy) {\n\n        Object foo = new Object();\n\n        return new Player() {\n            @Override\n            public void run() {\n                synchronized (foo) {\n                    try {\n                        do {\n                            while (mark == ticTacToe.lastMark()) { // if the last placed mark is the same as this player's mark wait for the other thread\n                                foo.wait();\n                            }\n                            ticTacToe.setMark(strategy.computeMove(mark, ticTacToe)[0], strategy.computeMove(mark, ticTacToe)[1], mark); // set the mark in place\n                        } while (!wonBoard(ticTacToe.table(), mark)); //check if the board has 3 consecutive marks on any line\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>This class is for determining the next move of each player and returns coordinates of the move. There shouldn't be any problems here.</p>\n<pre><code>public class PlayerStrategy {\n\n    public int[] computeMove(final char mark, final TicTacToe ticTacToe) {\n        final char[][] table = ticTacToe.table();\n        int[] coordinates = new int[0];\n        for (int dia = 0; dia &lt; 5; dia++) {\n            for (int i = 0; i &lt; 3; i++) {\n                for (int j = 0; j &lt; 3; j++) {\n                    if (i + j == dia &amp;&amp; table[i][j] == ' ') {\n                        coordinates = new int[]{i,j};\n                        return coordinates;\n                    }\n                }\n            }\n        }\n        throw new IllegalArgumentException();\n    }\n}\n</code></pre>\n<p>Here's an example of the test.</p>\n<pre><code>import static org.junit.jupiter.api.Assertions.assertEquals;\n\nclass GameTest {\n\n    @Test\n    void testPlayers() {\n        testCase(&quot;&quot; +\n                        &quot;XOO\\n&quot; +\n                        &quot;XXX\\n&quot; +\n                        &quot;O  &quot;,\n                new PlayerStrategy(), new PlayerStrategy());\n    }\n\n    private void testCase(String expected, PlayerStrategy... strategies) {\n        final TicTacToe ticTacToe = new TicTacToe();\n\n        final List&lt;Thread&gt; playerThreads = new ArrayList&lt;&gt;();\n        final List&lt;Character&gt; marks = Arrays.asList('X', 'O');\n\n        for (int i = 0; i &lt; marks.size(); i++) {\n            Player player = Player.createPlayer(ticTacToe, marks.get(i), strategies[i]);\n            Thread thread = new Thread(player);\n            playerThreads.add(thread);\n        }\n\n        playerThreads.forEach(Thread::start);\n        playerThreads.forEach(silentConsumer(Thread::join));\n\n        assertEquals(expected, tableString(ticTacToe.table()));\n    }\n}\n</code></pre>\n<p>Class with <code>tableString</code> method for asserting equals</p>\n<pre><code>import java.util.stream.Collectors;\n\npublic class Utils {\n    public static String tableString(char[][] table){\n        return Arrays.stream(table)\n                .map(String::new)\n                .collect(Collectors.joining(&quot;\\n&quot;));\n    }\n\n}\n</code></pre>\n<p>Consumer for throws</p>\n<pre><code>import java.util.function.Consumer;\n\n@FunctionalInterface\npublic interface ThrowingConsumer&lt;T, E extends Throwable&gt; {\n    void apply(T o) throws E;\n\n    static &lt;T, E extends Throwable&gt; Consumer&lt;T&gt; silentConsumer(ThrowingConsumer&lt;T, E&gt; throwingConsumer) {\n        return (param) -&gt; {\n            try {\n                throwingConsumer.apply(param);\n            } catch (Throwable e) {\n                throw new RuntimeException(e);\n            }\n        };\n    }\n}\n</code></pre>\n"},{"tags":["java","node.js","elasticsearch","sonarqube"],"comments":[{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661676599,"post_id":73516843,"comment_id":129824508,"body_markdown":"From those logs, I don&#39;t seen anything that could explain why elasticsearch is stopping. How do you start that container? Looks like container is being restarted.","body":"From those logs, I don&#39;t seen anything that could explain why elasticsearch is stopping. How do you start that container? Looks like container is being restarted."},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661684734,"post_id":73516843,"comment_id":129825890,"body_markdown":"Sonarqube service created at this location\nsudo nano /etc/systemd/system/sonarqube.service","body":"Sonarqube service created at this location sudo nano /etc/systemd/system/sonarqube.service"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661684808,"post_id":73516843,"comment_id":129825904,"body_markdown":"Here is the content of sonarqube service file https://gist.githubusercontent.com/prosenjit-manna/cac325b49649c3252b21c804fb57b7cf/raw/31b5d8a55800f9629847d913eb89ad6e5e2e7d24/sonarqube.service","body":"Here is the content of sonarqube service file <a href=\"https://gist.githubusercontent.com/prosenjit-manna/cac325b49649c3252b21c804fb57b7cf/raw/31b5d8a55800f9629847d913eb89ad6e5e2e7d24/sonarqube.service\" rel=\"nofollow noreferrer\">gist.githubusercontent.com/prosenjit-manna/&hellip;</a>"},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661691552,"post_id":73516843,"comment_id":129827347,"body_markdown":"allright, do you get anything from `journalctl -u sonarqube`","body":"allright, do you get anything from <code>journalctl -u sonarqube</code>"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661698768,"post_id":73516843,"comment_id":129828837,"body_markdown":"Hey, I run your commands and you can check the log from here https://gist.github.com/prosenjit-manna/f74aa7d98b111a6cb33fb6a3e93f4d95","body":"Hey, I run your commands and you can check the log from here <a href=\"https://gist.github.com/prosenjit-manna/f74aa7d98b111a6cb33fb6a3e93f4d95\" rel=\"nofollow noreferrer\">gist.github.com/prosenjit-manna/&hellip;</a>"},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661700397,"post_id":73516843,"comment_id":129829192,"body_markdown":"Sounds like something wrong with your systemd unit. Docs does something different, see: https://docs.sonarqube.org/latest/setup/operate-server/","body":"Sounds like something wrong with your systemd unit. Docs does something different, see: <a href=\"https://docs.sonarqube.org/latest/setup/operate-server/\" rel=\"nofollow noreferrer\">docs.sonarqube.org/latest/setup/operate-server</a>"},{"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"score":0,"creation_date":1661756396,"post_id":73516843,"comment_id":129838443,"body_markdown":"Hey thanks for your info, I checked your docs. And I understand my sonar. service file is different. \n\nThen I just copy and paste sonar. service from the documentation. But still not solved the issue. \n\nThanks  for your help.","body":"Hey thanks for your info, I checked your docs. And I understand my sonar. service file is different.   Then I just copy and paste sonar. service from the documentation. But still not solved the issue.   Thanks  for your help."},{"owner":{"account_id":6455405,"reputation":4591,"user_id":5607207,"display_name":"SYN"},"score":0,"creation_date":1661792545,"post_id":73516843,"comment_id":129850635,"body_markdown":"well... for sure something&#39;s wrong with that systemd unit. sonarqube isn&#39;t crashing, it&#39;s being restarted on a loop. check back on journalctl logs.","body":"well... for sure something&#39;s wrong with that systemd unit. sonarqube isn&#39;t crashing, it&#39;s being restarted on a loop. check back on journalctl logs."}],"owner":{"account_id":1068959,"reputation":474,"user_id":8021304,"display_name":"Prosenjit Manna"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1661672363,"creation_date":1661672363,"question_id":73516843,"body_markdown":"\r\nHow I can fix these error so that sonarqube web server start?\r\n\r\n**System info**:\r\n4gb ram \r\n20gb ssd \r\nUbuntu 20\r\nGCP instance \r\nopenjdk 11.0.16 2022-07-19\r\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\r\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)\r\nDatabase postgreysql \r\n\r\n\r\n\r\nadded this config \r\n\r\n```\r\nsudo nano /etc/sysctl.conf\r\nvm.max_map_count=524288\r\nfs.file-max=131072\r\n\r\nsudo nano /etc/security/limits.conf\r\nLimitNOFILE=131072\r\nLimitNPROC=8192\r\n\r\n```\r\n\r\nHere is the error log from es.log \r\n\r\n```\r\n\r\n    nux/5.10.0-17-cloud-amd64/amd64], JVM[Debian/OpenJDK 64-Bit Server VM/11.0.16/11.0.16+8-post-Debian-1deb11u1]\r\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM home [/usr/lib/jvm/java-11-openjdk-amd64]\r\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM arguments [-XX:+UseG1GC, -Djava.io.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:ErrorFile=../logs/es_hs_err_pid%p.log, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djna.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=COMPAT, -Dcom.redhat.fips=false, -Des.enforce.bootstrap.checks=true, -Xmx512m, -Xms512m, -XX:MaxDirectMemorySize=256m, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/opt/sonarqube/sonarqube-9.6.0.59041/elasticsearch, -Des.path.conf=/opt/sonarqube/sonarqube-9.6.0.59041/temp/conf/es, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=false]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [analysis-common]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [lang-painless]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [parent-join]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [reindex]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [transport-netty4]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] no plugins loaded\r\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [15gb], net total_space [19.4gb], types [ext4]\r\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] heap size [512mb], compressed ordinary object pointers [true]\r\n    2022.08.28 07:26:00 INFO  es[][o.e.n.Node] node name [sonarqube], node ID [hMHntBcSQP2N_BO7RmEq_Q], cluster name [sonarqube], roles [data_frozen, master, remote_cluster_client, data, data_content, data_hot, data_warm, data_cold, ingest]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.t.NettyAllocator] creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=256kb, factors={es.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=512mb}]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.i.r.RecoverySettings] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\r\n    2022.08.28 07:26:10 INFO  es[][o.e.d.DiscoveryModule] using discovery type [zen] and seed hosts providers [settings]\r\n    2022.08.28 07:26:11 INFO  es[][o.e.g.DanglingIndicesState] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually\r\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] initialized\r\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] starting ...\r\n    2022.08.28 07:26:12 INFO  es[][o.e.t.TransportService] publish_address {127.0.0.1:33021}, bound_addresses {127.0.0.1:33021}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.b.BootstrapChecks] explicitly enforcing bootstrap checks\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.c.Coordinator] cluster UUID [Zr7bq2njQaGGtYQLTPjNwA]\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.MasterService] elected-as-master ([1] nodes joined)[{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 5, version: 9, delta: master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.ClusterApplierService] master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}, term: 5, version: 9, reason: Publication{term=5, version=9}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.h.AbstractHttpServerTransport] publish_address {127.0.0.1:9001}, bound_addresses {127.0.0.1:9001}\r\n    2022.08.28 07:26:13 INFO  es[][o.e.n.Node] started\r\n    2022.08.28 07:26:13 INFO  es[][o.e.g.GatewayService] recovered [0] indices into cluster_state\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopping ...\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopped\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closing ...\r\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closed\r\n\r\n```","title":"Sonarqube not starting up because of elastic search error","body":"<p>How I can fix these error so that sonarqube web server start?</p>\n<p><strong>System info</strong>:\n4gb ram\n20gb ssd\nUbuntu 20\nGCP instance\nopenjdk 11.0.16 2022-07-19\nOpenJDK Runtime Environment (build 11.0.16+8-post-Debian-1deb11u1)\nOpenJDK 64-Bit Server VM (build 11.0.16+8-post-Debian-1deb11u1, mixed mode, sharing)\nDatabase postgreysql</p>\n<p>added this config</p>\n<pre><code>sudo nano /etc/sysctl.conf\nvm.max_map_count=524288\nfs.file-max=131072\n\nsudo nano /etc/security/limits.conf\nLimitNOFILE=131072\nLimitNPROC=8192\n\n</code></pre>\n<p>Here is the error log from es.log</p>\n<pre><code>\n    nux/5.10.0-17-cloud-amd64/amd64], JVM[Debian/OpenJDK 64-Bit Server VM/11.0.16/11.0.16+8-post-Debian-1deb11u1]\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM home [/usr/lib/jvm/java-11-openjdk-amd64]\n    2022.08.28 07:25:58 INFO  es[][o.e.n.Node] JVM arguments [-XX:+UseG1GC, -Djava.io.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:ErrorFile=../logs/es_hs_err_pid%p.log, -Des.networkaddress.cache.ttl=60, -Des.networkaddress.cache.negative.ttl=10, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djna.tmpdir=/opt/sonarqube/sonarqube-9.6.0.59041/temp, -XX:-OmitStackTraceInFastThrow, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dio.netty.allocator.numDirectArenas=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j2.formatMsgNoLookups=true, -Djava.locale.providers=COMPAT, -Dcom.redhat.fips=false, -Des.enforce.bootstrap.checks=true, -Xmx512m, -Xms512m, -XX:MaxDirectMemorySize=256m, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/opt/sonarqube/sonarqube-9.6.0.59041/elasticsearch, -Des.path.conf=/opt/sonarqube/sonarqube-9.6.0.59041/temp/conf/es, -Des.distribution.flavor=default, -Des.distribution.type=tar, -Des.bundled_jdk=false]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [analysis-common]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [lang-painless]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [parent-join]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [reindex]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] loaded module [transport-netty4]\n    2022.08.28 07:25:59 INFO  es[][o.e.p.PluginsService] no plugins loaded\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [15gb], net total_space [19.4gb], types [ext4]\n    2022.08.28 07:25:59 INFO  es[][o.e.e.NodeEnvironment] heap size [512mb], compressed ordinary object pointers [true]\n    2022.08.28 07:26:00 INFO  es[][o.e.n.Node] node name [sonarqube], node ID [hMHntBcSQP2N_BO7RmEq_Q], cluster name [sonarqube], roles [data_frozen, master, remote_cluster_client, data, data_content, data_hot, data_warm, data_cold, ingest]\n    2022.08.28 07:26:10 INFO  es[][o.e.t.NettyAllocator] creating NettyAllocator with the following configs: [name=unpooled, suggested_max_allocation_size=256kb, factors={es.unsafe.use_unpooled_allocator=null, g1gc_enabled=true, g1gc_region_size=1mb, heap_size=512mb}]\n    2022.08.28 07:26:10 INFO  es[][o.e.i.r.RecoverySettings] using rate limit [40mb] with [default=40mb, read=0b, write=0b, max=0b]\n    2022.08.28 07:26:10 INFO  es[][o.e.d.DiscoveryModule] using discovery type [zen] and seed hosts providers [settings]\n    2022.08.28 07:26:11 INFO  es[][o.e.g.DanglingIndicesState] gateway.auto_import_dangling_indices is disabled, dangling indices will not be automatically detected or imported and must be managed manually\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] initialized\n    2022.08.28 07:26:12 INFO  es[][o.e.n.Node] starting ...\n    2022.08.28 07:26:12 INFO  es[][o.e.t.TransportService] publish_address {127.0.0.1:33021}, bound_addresses {127.0.0.1:33021}\n    2022.08.28 07:26:13 INFO  es[][o.e.b.BootstrapChecks] explicitly enforcing bootstrap checks\n    2022.08.28 07:26:13 INFO  es[][o.e.c.c.Coordinator] cluster UUID [Zr7bq2njQaGGtYQLTPjNwA]\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.MasterService] elected-as-master ([1] nodes joined)[{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw} elect leader, _BECOME_MASTER_TASK_, _FINISH_ELECTION_], term: 5, version: 9, delta: master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}\n    2022.08.28 07:26:13 INFO  es[][o.e.c.s.ClusterApplierService] master node changed {previous [], current [{sonarqube}{hMHntBcSQP2N_BO7RmEq_Q}{cPlSdljHSWaa_qh9tCJnAw}{127.0.0.1}{127.0.0.1:33021}{cdfhimrsw}]}, term: 5, version: 9, reason: Publication{term=5, version=9}\n    2022.08.28 07:26:13 INFO  es[][o.e.h.AbstractHttpServerTransport] publish_address {127.0.0.1:9001}, bound_addresses {127.0.0.1:9001}\n    2022.08.28 07:26:13 INFO  es[][o.e.n.Node] started\n    2022.08.28 07:26:13 INFO  es[][o.e.g.GatewayService] recovered [0] indices into cluster_state\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopping ...\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] stopped\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closing ...\n    2022.08.28 07:26:20 INFO  es[][o.e.n.Node] closed\n\n</code></pre>\n"},{"tags":["java","xsd","sonarqube","schema"],"owner":{"account_id":13983587,"reputation":862,"user_id":10099219,"display_name":"Haripriya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1661670717,"creation_date":1661669714,"question_id":73516606,"body_markdown":"My working code -\r\n\r\n    @PostMapping(&quot;/process/validate&quot;)\r\n        public boolean validateProcessWithXSD(@Parameter(hidden = true) @RequestHeader(value = &quot;Authorization&quot;, required = true) String jwtToken\r\n                , int xsdVersion, @RequestBody ProcessObj processBytes) throws Exception {\r\n            boolean isValidated;\r\n            try {\r\n                String xsdPath = &quot;/assets/runtimeXsds/Process.v&quot; + xsdVersion + &quot;.xsd&quot;;\r\n                InputStream xsdStream = request.getSession().getServletContext().getResourceAsStream(xsdPath);\r\n                Source source = new StreamSource(xsdStream);\r\n                SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI); //Sonarqube Blocker - Disable access to external entities in XML parsing.\r\n                factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\r\n                javax.xml.validation.Schema schema = factory.newSchema(source);\r\n                Validator validator = schema.newValidator();\r\n                validator.validate(new StreamSource(new ByteArrayInputStream(processBytes.getBytes())));\r\n                isValidated = true;\r\n            \r\n            return isValidated;\r\n        }\r\n\r\nNow, if I include fix -\r\n\r\n    factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\r\n    factory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\r\n\r\n \r\n\r\nThen API fails -\r\n\r\n    org.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 154; schema_reference: Failed to read schema document &#39;xmldsig-core-schema.xsd&#39;, because &#39;http&#39; access is not allowed due to restriction set by the accessExternalSchema property.\r\n\r\nChanging above fix with `&quot;http&quot;` value works fine but then sonarqube re-appears.\r\n\r\nTried many ways as suggested in [XML External Entity Prevention Cheat Sheet][1] and similar SO posts but issue remains.\r\n\r\n\r\n  [1]: https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html","title":"Fix for Sonarqube - XML parsers should not be vulnerable to XXE attacks impacts xml validation in spring boot","body":"<p>My working code -</p>\n<pre><code>@PostMapping(&quot;/process/validate&quot;)\n    public boolean validateProcessWithXSD(@Parameter(hidden = true) @RequestHeader(value = &quot;Authorization&quot;, required = true) String jwtToken\n            , int xsdVersion, @RequestBody ProcessObj processBytes) throws Exception {\n        boolean isValidated;\n        try {\n            String xsdPath = &quot;/assets/runtimeXsds/Process.v&quot; + xsdVersion + &quot;.xsd&quot;;\n            InputStream xsdStream = request.getSession().getServletContext().getResourceAsStream(xsdPath);\n            Source source = new StreamSource(xsdStream);\n            SchemaFactory factory = SchemaFactory.newInstance(XMLConstants.W3C_XML_SCHEMA_NS_URI); //Sonarqube Blocker - Disable access to external entities in XML parsing.\n            factory.setFeature(XMLConstants.FEATURE_SECURE_PROCESSING, true);\n            javax.xml.validation.Schema schema = factory.newSchema(source);\n            Validator validator = schema.newValidator();\n            validator.validate(new StreamSource(new ByteArrayInputStream(processBytes.getBytes())));\n            isValidated = true;\n        \n        return isValidated;\n    }\n</code></pre>\n<p>Now, if I include fix -</p>\n<pre><code>factory.setProperty(XMLConstants.ACCESS_EXTERNAL_DTD, &quot;&quot;);\nfactory.setProperty(XMLConstants.ACCESS_EXTERNAL_SCHEMA, &quot;&quot;);\n</code></pre>\n<p>Then API fails -</p>\n<pre><code>org.xml.sax.SAXParseException; lineNumber: 4; columnNumber: 154; schema_reference: Failed to read schema document 'xmldsig-core-schema.xsd', because 'http' access is not allowed due to restriction set by the accessExternalSchema property.\n</code></pre>\n<p>Changing above fix with <code>&quot;http&quot;</code> value works fine but then sonarqube re-appears.</p>\n<p>Tried many ways as suggested in <a href=\"https://cheatsheetseries.owasp.org/cheatsheets/XML_External_Entity_Prevention_Cheat_Sheet.html\" rel=\"nofollow noreferrer\">XML External Entity Prevention Cheat Sheet</a> and similar SO posts but issue remains.</p>\n"},{"tags":["java","servlets"],"comments":[{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":1,"creation_date":1661288170,"post_id":73464951,"comment_id":129735694,"body_markdown":"That is not possible to do on the backend. You can make the front end code redirect with meta tags or JavaScript.","body":"That is not possible to do on the backend. You can make the front end code redirect with meta tags or JavaScript."}],"answers":[{"tags":[],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661670653,"creation_date":1661670653,"answer_id":73516679,"question_id":73464951,"body_markdown":"I did a work around. I added a html link to the display message to click to bring the user back to the home page.","title":"How to display a message and then redirect in Java","body":"<p>I did a work around. I added a html link to the display message to click to bring the user back to the home page.</p>\n"}],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661780708,"answer_count":1,"score":0,"last_activity_date":1661670653,"creation_date":1661288066,"question_id":73464951,"body_markdown":"I am working on a Java based registration page. The index page has a form that is filled out and then posted to local database. As of now when submitted it displays a message that states data was entered or not. I cannot figure out how to have that message displayed temporarily and then redirect it to a different page. Below is my Java Servlet.\r\n\r\n```\r\n\r\nimport jakarta.servlet.ServletException;\r\nimport jakarta.servlet.annotation.WebServlet;\r\nimport jakarta.servlet.http.HttpServlet;\r\nimport jakarta.servlet.http.HttpServletRequest;\r\nimport jakarta.servlet.http.HttpServletResponse;\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport java.util.Date;\r\n\r\n/**\r\n * Servlet implementation class Register\r\n */\r\n@WebServlet(&quot;/Register&quot;)\r\npublic class Register extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n    /**\r\n     * @see HttpServlet#HttpServlet()\r\n     */\r\n    public Register() {\r\n        super();\r\n        // TODO Auto-generated constructor stub\r\n    }\r\n\r\n\t/**\r\n\t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tresponse.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\r\n\t}\r\n\r\n\t/**\r\n\t * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\r\n\t */\r\n\tprotected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\t\r\n\t\tString id = request.getParameter(&quot;Id&quot;);\r\n\t\tString first = request.getParameter(&quot;First&quot;);\r\n\t\tString last = request.getParameter(&quot;Last&quot;);\r\n\t\tString email = request.getParameter(&quot;Email&quot;);\r\n\t\tString phone = request.getParameter(&quot;Phone&quot;);\r\n\t\t\r\n\t\tUser user = new User(id, first, last, email, phone);\r\n\t\t\r\n\t\tRegisterDao rDao = new RegisterDao();\r\n\t\tString result = rDao.insert(user);\r\n\t\tDateBean dBean = new DateBean(); /** import bean **/\r\n\t\tDate dateTime = dBean.getDateTime();\r\n\t\tPrintWriter writer = response.getWriter();\r\n\t\twriter.println(result + &quot; &quot; + dateTime);\r\n\t\twriter.flush();\r\n\t\twriter.close();\r\n\t\t\r\n\t\tresponse.sendRedirect(&quot;index.jsp&quot;);\r\n\t}\r\n\r\n}\r\n ```\r\n","title":"How to display a message and then redirect in Java","body":"<p>I am working on a Java based registration page. The index page has a form that is filled out and then posted to local database. As of now when submitted it displays a message that states data was entered or not. I cannot figure out how to have that message displayed temporarily and then redirect it to a different page. Below is my Java Servlet.</p>\n<pre><code>\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.annotation.WebServlet;\nimport jakarta.servlet.http.HttpServlet;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport java.util.Date;\n\n/**\n * Servlet implementation class Register\n */\n@WebServlet(&quot;/Register&quot;)\npublic class Register extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public Register() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        // TODO Auto-generated method stub\n        response.getWriter().append(&quot;Served at: &quot;).append(request.getContextPath());\n    }\n\n    /**\n     * @see HttpServlet#doPost(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doPost(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        \n        String id = request.getParameter(&quot;Id&quot;);\n        String first = request.getParameter(&quot;First&quot;);\n        String last = request.getParameter(&quot;Last&quot;);\n        String email = request.getParameter(&quot;Email&quot;);\n        String phone = request.getParameter(&quot;Phone&quot;);\n        \n        User user = new User(id, first, last, email, phone);\n        \n        RegisterDao rDao = new RegisterDao();\n        String result = rDao.insert(user);\n        DateBean dBean = new DateBean(); /** import bean **/\n        Date dateTime = dBean.getDateTime();\n        PrintWriter writer = response.getWriter();\n        writer.println(result + &quot; &quot; + dateTime);\n        writer.flush();\n        writer.close();\n        \n        response.sendRedirect(&quot;index.jsp&quot;);\n    }\n\n}\n</code></pre>\n"},{"tags":["javascript","java","mysql","xml","jsp"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1661295242,"post_id":73465772,"comment_id":129737014,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1661299437,"post_id":73465772,"comment_id":129737560,"body_markdown":"In index1.jsp you do not have any fields in your `form` - what do you expect to be posted?","body":"In index1.jsp you do not have any fields in your <code>form</code> - what do you expect to be posted?"},{"owner":{"account_id":3472091,"reputation":658,"user_id":2906157,"accept_rate":44,"display_name":"Sergio"},"score":0,"creation_date":1661580692,"post_id":73465772,"comment_id":129810522,"body_markdown":"your form is empty and you&#39;re also not gathering the submitted values anywhere.","body":"your form is empty and you&#39;re also not gathering the submitted values anywhere."}],"answers":[{"tags":[],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661670376,"creation_date":1661670376,"answer_id":73516654,"question_id":73465772,"body_markdown":"I figured it out. I reestablished new fields using the pulled data like this\r\n\r\n```\r\nString name2 = &lt;%=last %&gt;;\r\n```\r\n\r\nThanks anyway ","title":"JSP to Java Data transfer","body":"<p>I figured it out. I reestablished new fields using the pulled data like this</p>\n<pre><code>String name2 = &lt;%=last %&gt;;\n</code></pre>\n<p>Thanks anyway</p>\n"}],"owner":{"account_id":26143339,"reputation":11,"user_id":19832393,"display_name":"DyingAssassin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1661670537,"creation_date":1661295051,"question_id":73465772,"body_markdown":"I am trying to build a webpage where I input data, it goes to a page that displays the data and asks for confirmation, and then it submits the data to a SQL database. It works up until the second submission to the database, there it submits NULL values into the db. Here is the following code\r\n\r\n\r\nIndex.jsp:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Register&lt;/title&gt;\r\n&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n    &lt;form name=&quot;myform&quot; action=&quot;index1.jsp&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\r\n      &lt;div class=&quot;form-left-decoration&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;form-right-decoration&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\r\n      &lt;div class=&quot;form-inner&quot;&gt;\r\n        &lt;h1&gt;Register&lt;/h1&gt;\r\n        \r\n        &lt;input type=&quot;text&quot; name = &quot;First&quot; placeholder=&quot;First Name&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Last&quot; placeholder=&quot;Last Name&quot;&gt;\r\n        &lt;input type=&quot;email&quot; name=&quot;Email&quot; placeholder=&quot;Email&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Id&quot; placeholder=&quot;ID&quot;&gt;\r\n        &lt;input type=&quot;text&quot; name=&quot;Phone&quot; placeholder=&quot;Phone Number&quot;&gt;\r\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\r\n\r\n      &lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nIndex1.jsp:\r\n```\r\n&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\r\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n&lt;head&gt;\r\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\r\n&lt;title&gt;Confirm&lt;/title&gt;\r\n\r\n\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n\r\n\r\n&lt;h1&gt;Confirm for submission&lt;/h1&gt;\r\n\t&lt;%\r\n\t\r\n\tString id = request.getParameter(&quot;Id&quot;);\r\n\tString first = request.getParameter(&quot;First&quot;);\r\n\tString last = request.getParameter(&quot;Last&quot;);\r\n\tString email = request.getParameter(&quot;Email&quot;);\r\n\tString phone = request.getParameter(&quot;Phone&quot;);\r\n\t\t\r\n\t%&gt;\r\n&lt;table border=&quot;1&quot;&gt;\r\n&lt;tbody&gt;\r\n\r\n&lt;tr&gt;\r\n\t&lt;td&gt;ID : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=id %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;First Name : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=first %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Last Name : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=last %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Email : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=email %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n&lt;tr&gt;\r\n\t&lt;td&gt;Phone : &lt;/td&gt;\r\n\t&lt;td&gt;&lt;%=phone %&gt;&lt;/td&gt;\r\n&lt;/tr&gt;\r\n\r\n\r\n\r\n&lt;/tbody&gt;\r\n&lt;/table&gt;\r\n\r\n &lt;form target=&quot;_blank&quot; name=&quot;myform&quot; action=&quot;Register&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\r\n\t\t&lt;div&gt;\t\r\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\r\n\r\n     \t&lt;/div&gt;\r\n    &lt;/form&gt;\r\n  &lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\n","title":"JSP to Java Data transfer","body":"<p>I am trying to build a webpage where I input data, it goes to a page that displays the data and asks for confirmation, and then it submits the data to a SQL database. It works up until the second submission to the database, there it submits NULL values into the db. Here is the following code</p>\n<p>Index.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Register&lt;/title&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;style.css&quot;&gt;\n\n&lt;/head&gt;\n&lt;body&gt;\n    &lt;form name=&quot;myform&quot; action=&quot;index1.jsp&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\n      &lt;div class=&quot;form-left-decoration&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;form-right-decoration&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\n      &lt;div class=&quot;form-inner&quot;&gt;\n        &lt;h1&gt;Register&lt;/h1&gt;\n        \n        &lt;input type=&quot;text&quot; name = &quot;First&quot; placeholder=&quot;First Name&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Last&quot; placeholder=&quot;Last Name&quot;&gt;\n        &lt;input type=&quot;email&quot; name=&quot;Email&quot; placeholder=&quot;Email&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Id&quot; placeholder=&quot;ID&quot;&gt;\n        &lt;input type=&quot;text&quot; name=&quot;Phone&quot; placeholder=&quot;Phone Number&quot;&gt;\n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\n\n      &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>Index1.jsp:</p>\n<pre><code>&lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=ISO-8859-1&quot;\n    pageEncoding=&quot;ISO-8859-1&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;ISO-8859-1&quot;&gt;\n&lt;title&gt;Confirm&lt;/title&gt;\n\n\n&lt;/head&gt;\n&lt;body&gt;\n\n\n&lt;h1&gt;Confirm for submission&lt;/h1&gt;\n    &lt;%\n    \n    String id = request.getParameter(&quot;Id&quot;);\n    String first = request.getParameter(&quot;First&quot;);\n    String last = request.getParameter(&quot;Last&quot;);\n    String email = request.getParameter(&quot;Email&quot;);\n    String phone = request.getParameter(&quot;Phone&quot;);\n        \n    %&gt;\n&lt;table border=&quot;1&quot;&gt;\n&lt;tbody&gt;\n\n&lt;tr&gt;\n    &lt;td&gt;ID : &lt;/td&gt;\n    &lt;td&gt;&lt;%=id %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;First Name : &lt;/td&gt;\n    &lt;td&gt;&lt;%=first %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Last Name : &lt;/td&gt;\n    &lt;td&gt;&lt;%=last %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Email : &lt;/td&gt;\n    &lt;td&gt;&lt;%=email %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;tr&gt;\n    &lt;td&gt;Phone : &lt;/td&gt;\n    &lt;td&gt;&lt;%=phone %&gt;&lt;/td&gt;\n&lt;/tr&gt;\n\n\n\n&lt;/tbody&gt;\n&lt;/table&gt;\n\n &lt;form target=&quot;_blank&quot; name=&quot;myform&quot; action=&quot;Register&quot; method=&quot;post&quot; class=&quot;decor&quot;&gt;\n        &lt;div&gt;   \n        &lt;button  type=&quot;submit&quot; value=&quot;Submit&quot; name=&quot;submit&quot; &gt;Submit&lt;/button&gt;\n\n        &lt;/div&gt;\n    &lt;/form&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n"},{"tags":["java","sql","apache-commons-dbutils","dbutils"],"comments":[{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1661676116,"post_id":73516653,"comment_id":129824442,"body_markdown":"all sql dialects have a function similar to `IFNULL(x,-1)` so you don&#39;t need to check for `NULL`, only if the result is positive, which works with ID&#39;s of course, because they can&#39;t be negative","body":"all sql dialects have a function similar to <code>IFNULL(x,-1)</code> so you don&#39;t need to check for <code>NULL</code>, only if the result is positive, which works with ID&#39;s of course, because they can&#39;t be negative"},{"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"score":0,"creation_date":1661680284,"post_id":73516653,"comment_id":129825103,"body_markdown":"@nbk sry for confusing (ID returned as NULL), SQL Query should be return as &quot;no data&quot; (no row at all) instead of NULL. I don think isnull/ifnull will able to handle this kind of scenario...","body":"@nbk sry for confusing (ID returned as NULL), SQL Query should be return as &quot;no data&quot; (no row at all) instead of NULL. I don think isnull/ifnull will able to handle this kind of scenario..."},{"owner":{"account_id":6740011,"reputation":46650,"user_id":5193536,"display_name":"nbk"},"score":0,"creation_date":1661680505,"post_id":73516653,"comment_id":129825133,"body_markdown":"no, both would do the trick but it  would return text and not a number, so you must handle that, which would not improve or make it easier that chekcn for NULL","body":"no, both would do the trick but it  would return text and not a number, so you must handle that, which would not improve or make it easier that chekcn for NULL"},{"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"score":0,"creation_date":1661702686,"post_id":73516653,"comment_id":129829685,"body_markdown":"Thank you. I managed to handle this scenario by casting resultset into Object, then use &quot;instanceof&quot; to differentiate returned datatype either INT or string or null...","body":"Thank you. I managed to handle this scenario by casting resultset into Object, then use &quot;instanceof&quot; to differentiate returned datatype either INT or string or null..."}],"owner":{"account_id":19803536,"reputation":25,"user_id":14503948,"display_name":"lancelot _sin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1661670408,"creation_date":1661670373,"question_id":73516653,"body_markdown":"Is there a standard proper java code to properly handle the following datatype which the result may possible returned as integer or null? I&#39;m using common-dbutils to perform query execution.\r\n\r\n    --MSSQL\r\n    QUERY =&quot;select ID from Users where Name=&#39;test&#39;&quot; --ID= int type\r\n    QueryRunner run = new QueryRunner();\r\n    int results = run.query(connection,QUERY, new ScalarHandler&lt;Integer&gt;()); \r\n\r\nID returned as INT if where condition met.\r\n\r\nID returned as NULL if where condition not met. (Throw exception since unable to cast into INT)\r\n\r\nAny standard java datatype/way should I returned to handle these kind of different scenarios? \r\n\r\n","title":"Apache DBUtils: Standard way to handle different datatype returned from SQL (INT/NULL)?","body":"<p>Is there a standard proper java code to properly handle the following datatype which the result may possible returned as integer or null? I'm using common-dbutils to perform query execution.</p>\n<pre><code>--MSSQL\nQUERY =&quot;select ID from Users where Name='test'&quot; --ID= int type\nQueryRunner run = new QueryRunner();\nint results = run.query(connection,QUERY, new ScalarHandler&lt;Integer&gt;()); \n</code></pre>\n<p>ID returned as INT if where condition met.</p>\n<p>ID returned as NULL if where condition not met. (Throw exception since unable to cast into INT)</p>\n<p>Any standard java datatype/way should I returned to handle these kind of different scenarios?</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":1,"creation_date":1661583231,"post_id":73508351,"comment_id":129810827,"body_markdown":"How are you duplicating the `VehicleRent`? When adding a new `VehicleRent` are you creating a new fresh object? If you post the entities it will be better","body":"How are you duplicating the <code>VehicleRent</code>? When adding a new <code>VehicleRent</code> are you creating a new fresh object? If you post the entities it will be better"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661583563,"post_id":73508351,"comment_id":129810869,"body_markdown":"@Pp88 I invoke from `main.java` `user.Renting(List of &lt;Car&gt;, List of &lt;Bike&gt;, User)` two times. First goes well, second returns the mentioned error.","body":"@Pp88 I invoke from <code>main.java</code> <code>user.Renting(List of &lt;Car&gt;, List of &lt;Bike&gt;, User)</code> two times. First goes well, second returns the mentioned error."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661583924,"post_id":73508351,"comment_id":129810920,"body_markdown":"@Pp88 Just edited and added `Renting` method from `User.Java`","body":"@Pp88 Just edited and added <code>Renting</code> method from <code>User.Java</code>"},{"owner":{"account_id":5279068,"reputation":895,"user_id":4215032,"display_name":"Pp88"},"score":2,"creation_date":1661584438,"post_id":73508351,"comment_id":129811014,"body_markdown":"FYI variable names and method names must start lower case, anyway you are not showing us what are you passing to the method and the entities","body":"FYI variable names and method names must start lower case, anyway you are not showing us what are you passing to the method and the entities"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661585346,"post_id":73508351,"comment_id":129811140,"body_markdown":"@Pp88 Thanks for the heads up. I do intend on changing these names in the future. I&#39;ve also just edited once again and added all entities (w/o getters/setters/irrelevant methods). Could you please take a look? Note: I haven&#39;t added parent abstract class `Vehicle` as I think it is not necessary for this issue&#39;s understanding. However, if you think it is, just let me know and I&#39;ll add it right away.","body":"@Pp88 Thanks for the heads up. I do intend on changing these names in the future. I&#39;ve also just edited once again and added all entities (w/o getters/setters/irrelevant methods). Could you please take a look? Note: I haven&#39;t added parent abstract class <code>Vehicle</code> as I think it is not necessary for this issue&#39;s understanding. However, if you think it is, just let me know and I&#39;ll add it right away."},{"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"score":1,"creation_date":1661590386,"post_id":73508351,"comment_id":129811832,"body_markdown":"To be honest it looks like it is ok. Do you have any constructor in VehicleRent? If so, show it. Also add System.out.println(rent.id); before the line em.persist(rent); and check if id has expected value on first and second persist.","body":"To be honest it looks like it is ok. Do you have any constructor in VehicleRent? If so, show it. Also add System.out.println(rent.id); before the line em.persist(rent); and check if id has expected value on first and second persist."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661621175,"post_id":73508351,"comment_id":129817564,"body_markdown":"@ePortfel just added `VehicleRent`&#39;s constructors. I&#39;ve also added the System.out.println(rent.id) and noticed that `rent.id` is the same for both runs. It is not sequentially increasing as it should&#39;ve. Any ideas?","body":"@ePortfel just added <code>VehicleRent</code>&#39;s constructors. I&#39;ve also added the System.out.println(rent.id) and noticed that <code>rent.id</code> is the same for both runs. It is not sequentially increasing as it should&#39;ve. Any ideas?"},{"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"score":1,"creation_date":1661627075,"post_id":73508351,"comment_id":129818689,"body_markdown":"It might be sequence problem. Not every DBMS supports this. What is your DBMS? Try @GeneratedValue(strategy=GenerationType.AUTO) and check if id is generated properly. Move System.out.println(rent.id);  to the line after commit() to be sure that ids are distinct.","body":"It might be sequence problem. Not every DBMS supports this. What is your DBMS? Try @GeneratedValue(strategy=GenerationType.AUTO) and check if id is generated properly. Move System.out.println(rent.id);  to the line after commit() to be sure that ids are distinct."},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661649728,"post_id":73508351,"comment_id":129821670,"body_markdown":"@ePortfel I&#39;m using PostgreSQL v13.4 as DBMS. I&#39;ve tried switching to GenerationType.AUTO but the following exceptions show up: 1. **Unable to build Hibernate SessionFactory**, 2. **Could not instantiate id generator [entity-name=poo.models.Car]**, 3. **The increment size of the [Car_SEQ] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].**","body":"@ePortfel I&#39;m using PostgreSQL v13.4 as DBMS. I&#39;ve tried switching to GenerationType.AUTO but the following exceptions show up: 1. <b>Unable to build Hibernate SessionFactory</b>, 2. <b>Could not instantiate id generator [entity-name=poo.models.Car]</b>, 3. <b>The increment size of the [Car_SEQ] sequence is set to [50] in the entity mapping while the associated database sequence increment size is [1].</b>"},{"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"score":0,"creation_date":1661650308,"post_id":73508351,"comment_id":129821717,"body_markdown":"@ePortfel I&#39;ve also moved `System.out.println(rent.id)` to the line after commit() and noticed that the id goes from 0 to 1 as expected. However, when the process is finished and it has to run `Renting` method once again for the second persistence the id is back to 0 instead of continuing the previous index (1).","body":"@ePortfel I&#39;ve also moved <code>System.out.println(rent.id)</code> to the line after commit() and noticed that the id goes from 0 to 1 as expected. However, when the process is finished and it has to run <code>Renting</code> method once again for the second persistence the id is back to 0 instead of continuing the previous index (1)."}],"answers":[{"tags":[],"owner":{"account_id":26086726,"reputation":129,"user_id":19784153,"display_name":"ePortfel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661668380,"creation_date":1661668380,"answer_id":73516505,"question_id":73508351,"body_markdown":"Something is wrong with sequences probably.\r\n\r\nPlease try this:\r\n1. DROP sequence rent_seq in database\r\n2. Run the version below:\r\n```\r\n@Entity\r\npublic class VehicleRent{\r\n   @Id\r\n   @GeneratedValue(strategy=GenerationType.AUTO)\r\n   private long id;\r\n```\r\n\r\nIf you get errors with other entities (Car / car_seq), do the same for them.\r\n\r\nIt works for sure in [DataNucleus][1] and [H2][2]. DBMS should create and manage sequences by itself.\r\n\r\n\r\n  [1]: https://www.datanucleus.org/\r\n  [2]: https://www.h2database.com/","title":"JPA Error: detached entity passed to persist when attempting to persist multiple duplicated instances","body":"<p>Something is wrong with sequences probably.</p>\n<p>Please try this:</p>\n<ol>\n<li>DROP sequence rent_seq in database</li>\n<li>Run the version below:</li>\n</ol>\n<pre><code>@Entity\npublic class VehicleRent{\n   @Id\n   @GeneratedValue(strategy=GenerationType.AUTO)\n   private long id;\n</code></pre>\n<p>If you get errors with other entities (Car / car_seq), do the same for them.</p>\n<p>It works for sure in <a href=\"https://www.datanucleus.org/\" rel=\"nofollow noreferrer\">DataNucleus</a> and <a href=\"https://www.h2database.com/\" rel=\"nofollow noreferrer\">H2</a>. DBMS should create and manage sequences by itself.</p>\n"}],"owner":{"account_id":24597068,"reputation":73,"user_id":18500319,"display_name":"JOC"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1661668380,"creation_date":1661574404,"question_id":73508351,"body_markdown":"I&#39;ve got two **OneToMany** relations between an entity and two lists of objects and one **ManyToOne** relation between the same entity and another entity as better explained below:\r\n\r\n 1. Entity `VehicleRent` has one or many `Car` (a list of `Car`) and one\r\n    or many `Bike` (a list of `Bike`);\r\n 2. Entities `VehicleRent` belong to one `User`.\r\n\r\nWhen persisting (em.persist()) `VehicleRent` for the first time, it all goes well. However, when I try to persist a new, but different `VehicleRent` afterwards it keeps overwriting the first one. \r\n\r\nAlso, when I try to duplicate an existing instance of `VehicleRent` it returns the following error:\r\n\r\n    select\r\n            nextval(&#39;rent_seq&#39;)\r\n    jakarta.persistence.PersistenceException: Converting `org.hibernate.PersistentObjectException` to JPA `PersistenceException` : detached entity passed to persist: poo.models.User\r\n\r\nI am using the **GenerationType.SEQUENCE** for generating all classes&#39; ids with each one having its specific SequenceGenerator (i.e. `rent_seq` for `VehicleRent`, `car_seq` for `Car` etc.). \r\n\r\nIn all relations, I am also using **CascadeType.ALL**.\r\n\r\nBasically, I would like to persist as many `VehicleRent` instances as I would like to, regardless of them having duplicate or different attributes. \r\n\r\nHow can I achieve this behavior? I would really appreciate any help.\r\n\r\n\r\n**Edit 1: Renting method from User.java**\r\n\r\n    public void Renting(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User user) {\r\n        VehicleRent rent = new VehicleRent(Carlist, Bikelist, user);\r\n\r\n        EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\n        EntityManager em = emf.createEntityManager();\r\n\r\n        try{\r\n            em.getTransaction().begin();\r\n            em.persist(rent);\r\n            em.getTransaction().commit();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        em.close();\r\n        emf.close();\r\n    }\r\n\r\n**Edit 2: Entities (getters and setters ignored)**\r\n\r\n**User**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class User {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\r\n        private long id;\r\n        private String firstName;\r\n        private String lastName;\r\n        private String nickName;\r\n        private String password;\r\n        private String mail;\r\n    \r\n        public User() {\r\n        }\r\n\r\n**VehicleRent**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;rent_seq&quot;, sequenceName = &quot;rent_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class VehicleRent{\r\n       @Id\r\n       @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;rent_seq&quot;)\r\n       private long id;\r\n    \r\n       @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Car.class)\r\n       @JoinColumn(name = &quot;rent_id&quot;)\r\n       private List&lt;Car&gt; Carlist;\r\n    \r\n       @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Bike.class)\r\n       @JoinColumn(name = &quot;rent_id&quot;)\r\n       private List&lt;Bike&gt; Bikelist;\r\n    \r\n       @ManyToOne(cascade = CascadeType.ALL) \r\n       @JoinColumn(name = &quot;user_id&quot;)\r\n       private User tenant;\r\n\r\n    public VehicleRent(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User tenant){ \r\n          this();\r\n          this.Carlist = Carlist ;\r\n          this.Bikelist= Bikelist;\r\n          this.tenant = tenant;\r\n       }\r\n    \r\n       public VehicleRent() {\r\n       }\r\n\r\n**Bike**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;bike_seq&quot;, sequenceName = &quot;bike_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class Bike extends Vehicle{\r\n        \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bike_seq&quot;)\r\n        private long id; // I can&#39;t keep id into parent Vehicle because they&#39;ll both share the same generator (each must have their own for proper persistence).\r\n\r\n        private int cc;\r\n        private String type;\r\n    \r\n        public Bike() {\r\n        }\r\n    \r\n**Car**\r\n\r\n    @Entity\r\n    @SequenceGenerator(name = &quot;car_seq&quot;, sequenceName = &quot;car_seq&quot;, allocationSize = 1, initialValue = 1)\r\n    public class Car extends Vehicle {\r\n    \r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;car_seq&quot;)\r\n    private long id; // I can&#39;t keep id into parent Vehicle because they&#39;ll both share the same generator (each must have their own for proper persistence).\r\n    \r\n    private String paint;\r\n    private boolean twoDoors;\r\n    \r\n    public Car() {\r\n    }\r\n\r\n","title":"JPA Error: detached entity passed to persist when attempting to persist multiple duplicated instances","body":"<p>I've got two <strong>OneToMany</strong> relations between an entity and two lists of objects and one <strong>ManyToOne</strong> relation between the same entity and another entity as better explained below:</p>\n<ol>\n<li>Entity <code>VehicleRent</code> has one or many <code>Car</code> (a list of <code>Car</code>) and one\nor many <code>Bike</code> (a list of <code>Bike</code>);</li>\n<li>Entities <code>VehicleRent</code> belong to one <code>User</code>.</li>\n</ol>\n<p>When persisting (em.persist()) <code>VehicleRent</code> for the first time, it all goes well. However, when I try to persist a new, but different <code>VehicleRent</code> afterwards it keeps overwriting the first one.</p>\n<p>Also, when I try to duplicate an existing instance of <code>VehicleRent</code> it returns the following error:</p>\n<pre><code>select\n        nextval('rent_seq')\njakarta.persistence.PersistenceException: Converting `org.hibernate.PersistentObjectException` to JPA `PersistenceException` : detached entity passed to persist: poo.models.User\n</code></pre>\n<p>I am using the <strong>GenerationType.SEQUENCE</strong> for generating all classes' ids with each one having its specific SequenceGenerator (i.e. <code>rent_seq</code> for <code>VehicleRent</code>, <code>car_seq</code> for <code>Car</code> etc.).</p>\n<p>In all relations, I am also using <strong>CascadeType.ALL</strong>.</p>\n<p>Basically, I would like to persist as many <code>VehicleRent</code> instances as I would like to, regardless of them having duplicate or different attributes.</p>\n<p>How can I achieve this behavior? I would really appreciate any help.</p>\n<p><strong>Edit 1: Renting method from User.java</strong></p>\n<pre><code>public void Renting(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User user) {\n    VehicleRent rent = new VehicleRent(Carlist, Bikelist, user);\n\n    EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;default&quot;);\n    EntityManager em = emf.createEntityManager();\n\n    try{\n        em.getTransaction().begin();\n        em.persist(rent);\n        em.getTransaction().commit();\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n\n    em.close();\n    emf.close();\n}\n</code></pre>\n<p><strong>Edit 2: Entities (getters and setters ignored)</strong></p>\n<p><strong>User</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;user_seq&quot;, sequenceName = &quot;user_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_seq&quot;)\n    private long id;\n    private String firstName;\n    private String lastName;\n    private String nickName;\n    private String password;\n    private String mail;\n\n    public User() {\n    }\n</code></pre>\n<p><strong>VehicleRent</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;rent_seq&quot;, sequenceName = &quot;rent_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class VehicleRent{\n   @Id\n   @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;rent_seq&quot;)\n   private long id;\n\n   @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Car.class)\n   @JoinColumn(name = &quot;rent_id&quot;)\n   private List&lt;Car&gt; Carlist;\n\n   @OneToMany(cascade = CascadeType.ALL, orphanRemoval = true, targetEntity = Bike.class)\n   @JoinColumn(name = &quot;rent_id&quot;)\n   private List&lt;Bike&gt; Bikelist;\n\n   @ManyToOne(cascade = CascadeType.ALL) \n   @JoinColumn(name = &quot;user_id&quot;)\n   private User tenant;\n\npublic VehicleRent(List&lt;Car&gt; Carlist, List&lt;Bike&gt; Bikelist, User tenant){ \n      this();\n      this.Carlist = Carlist ;\n      this.Bikelist= Bikelist;\n      this.tenant = tenant;\n   }\n\n   public VehicleRent() {\n   }\n</code></pre>\n<p><strong>Bike</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;bike_seq&quot;, sequenceName = &quot;bike_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class Bike extends Vehicle{\n    \n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;bike_seq&quot;)\n    private long id; // I can't keep id into parent Vehicle because they'll both share the same generator (each must have their own for proper persistence).\n\n    private int cc;\n    private String type;\n\n    public Bike() {\n    }\n</code></pre>\n<p><strong>Car</strong></p>\n<pre><code>@Entity\n@SequenceGenerator(name = &quot;car_seq&quot;, sequenceName = &quot;car_seq&quot;, allocationSize = 1, initialValue = 1)\npublic class Car extends Vehicle {\n\n@Id\n@GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;car_seq&quot;)\nprivate long id; // I can't keep id into parent Vehicle because they'll both share the same generator (each must have their own for proper persistence).\n\nprivate String paint;\nprivate boolean twoDoors;\n\npublic Car() {\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8915,"page":1077,"page_size":100}
