{"items":[{"tags":["java","bufferedimage","graphics2d"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1686080069,"post_id":76416484,"comment_id":134749548,"body_markdown":"One idea is to create an application model made up of lines, circles, and cubes.  The application model is made up of one or more plain Java getter/setter classes.  Your drawing `JPanel` then draws the logical model.","body":"One idea is to create an application model made up of lines, circles, and cubes.  The application model is made up of one or more plain Java getter/setter classes.  Your drawing <code>JPanel</code> then draws the logical model."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686080430,"post_id":76416484,"comment_id":134749615,"body_markdown":"If you need hit detection I would think it would be better to keep a `List` of `Shape` objects to paint. The Shape can be added to the List in its rotated state. Then when doing hit detection you should be able to just iterate through the List to see in any Shape contains the mouse point. Check out [Playing With Shapes](https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/) for more information.","body":"If you need hit detection I would think it would be better to keep a <code>List</code> of <code>Shape</code> objects to paint. The Shape can be added to the List in its rotated state. Then when doing hit detection you should be able to just iterate through the List to see in any Shape contains the mouse point. Check out <a href=\"https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/\" rel=\"nofollow noreferrer\">Playing With Shapes</a> for more information."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":1,"creation_date":1686139789,"post_id":76416484,"comment_id":134757700,"body_markdown":"@camickr this might be exactly what I need. thank you. If you create an actual response i will mark it as the right one for my use.","body":"@camickr this might be exactly what I need. thank you. If you create an actual response i will mark it as the right one for my use."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686147001,"post_id":76416484,"comment_id":134759429,"body_markdown":"@GizmoDailys, this site doesn&#39;t like to have answers that link to an external site which is why I added it as a comment to give you and idea for the approach.","body":"@GizmoDailys, this site doesn&#39;t like to have answers that link to an external site which is why I added it as a comment to give you and idea for the approach."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":0,"creation_date":1686163326,"post_id":76416484,"comment_id":134762989,"body_markdown":"@camickr Ah gotcha welp it worked like a charm. there is wrong code in his classes but is easy to fix.","body":"@camickr Ah gotcha welp it worked like a charm. there is wrong code in his classes but is easy to fix."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686170689,"post_id":76416484,"comment_id":134764294,"body_markdown":"@GizmoDailys, hmm, sorry about that. That code on my machine has been updated version. Guess I forgot to update the website. The new version is on the website. It also contains a new &quot;translate(...)` method. Thanks for pointing this out.","body":"@GizmoDailys, hmm, sorry about that. That code on my machine has been updated version. Guess I forgot to update the website. The new version is on the website. It also contains a new &quot;translate(...)` method. Thanks for pointing this out."},{"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"score":0,"creation_date":1686225053,"post_id":76416484,"comment_id":134771387,"body_markdown":"@camickr I just realized you are the author of the link you sent me lol. It worked like a charm. the code I was referencing was in the rotation under shapeutils you are rotating about a fixed point not the objects center. I was also wondering if you per chance had an idea as to how to rotate a polygon such as a triangle?","body":"@camickr I just realized you are the author of the link you sent me lol. It worked like a charm. the code I was referencing was in the rotation under shapeutils you are rotating about a fixed point not the objects center. I was also wondering if you per chance had an idea as to how to rotate a polygon such as a triangle?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1686233640,"post_id":76416484,"comment_id":134773586,"body_markdown":"@GizmoDailys how to rotate a polygon such as a triangle? - not sure I understand the question. A pollygon is a Shape. Any Shape can be rotated. See answer below.","body":"@GizmoDailys how to rotate a polygon such as a triangle? - not sure I understand the question. A pollygon is a Shape. Any Shape can be rotated. See answer below."}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686233565,"creation_date":1686233238,"answer_id":76432716,"question_id":76416484,"body_markdown":"If you need hit detection you can keep a `List` of `Shape` objects to paint.\r\n\r\n1. in the `paintComponent(...)` method you then iterate through the `List` to paint each `Shape`\r\n2. In the `MouseListener` you iterate through the `List` and invoke the `contains(...)` method on the `Shape`.\r\n\r\nBefore adding the `Shape` to the List you can use the `ShapeUtils.rotate(...)` method to rotate the `Shape` so the `Shape` is painted correctly and hit detection works.\r\n\r\n    import java.awt.Point;\r\n    import java.awt.Polygon;\r\n    import java.awt.Rectangle;\r\n    import java.awt.Shape;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.geom.Path2D;\r\n    import java.awt.geom.GeneralPath;\r\n    \r\n    /**\r\n     *\tCollection of static methods to make working with Shapes easier.\r\n     */\r\n    public class ShapeUtils\r\n    {\r\n    \t/**\r\n    \t *  The points of the Shape are calculated by specifying the radius of each\r\n    \t *  point. You must specify the number of points to be calculated as well\r\n    \t *  as an array (varargs) containing the radius for each point. The\r\n    \t *  calculation of each Point will use the radius modulo array.length.\r\n    \t *  For example you can create Shapes like the following:\r\n    \t *\r\n    \t *  Shape hexagon = ShapeUtils.radiusShape(6, 10);\r\n    \t *  Shape star = ShapeUtils.radiusShape(16, 20, 8);\r\n    \t *  Shape doubleStar = ShapeUtils.radiusShape(16, 20, 8, 14, 8);\r\n    \t *\r\n    \t *  @param point the number of points contained in the Shape\r\n    \t *  @param radii one or more radius used to calculate a specific point\r\n    \t *\r\n    \t *  @returns a Shape containing all the calculated points\r\n    \t */\r\n    \t public static Shape radiusShape(int points, int... radii)\r\n    \t {\r\n    \t\tPolygon polygon = new Polygon();\r\n    \r\n    \t\tfor (int i = 0; i &lt; points; i++)\r\n    \t\t{\r\n    \t\t\tdouble radians = Math.toRadians(i * 360 / points);\r\n    \t\t\tint radius = radii[i % radii.length];\r\n    \r\n    \t\t\tdouble x = Math.cos(radians) * radius;\r\n    \t\t\tdouble y = Math.sin(radians) * radius;\r\n    \r\n    \t\t\tpolygon.addPoint((int)x, (int)y);\r\n    \t\t}\r\n    \r\n    \t\tRectangle bounds = polygon.getBounds();\r\n    \t\tpolygon.translate(-bounds.x, -bounds.y);\r\n    \r\n    \t\treturn polygon;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *  Rotate a Shape about its center in a clockwise direction by a specified angle\r\n    \t *\r\n    \t *  @param shape the Shape to rotate\r\n    \t *  @param angle the angle in degrees\r\n    \t *\r\n    \t *  @returns a new rotated Shape object\r\n    \t */\r\n    \tpublic static Shape rotate(Shape shape, int angle)\r\n    \t{\r\n    \t\tdouble radians = Math.toRadians( angle );\r\n    \t\tRectangle bounds = shape.getBounds();\r\n    \t\tdouble anchorX = bounds.x + bounds.width / 2;\r\n    \t\tdouble anchorY = bounds.y + bounds.height / 2;\r\n    \t\tAffineTransform at = AffineTransform.getRotateInstance(radians, anchorX, anchorY);\r\n    \t\tShape rotated = at.createTransformedShape(shape);\r\n    \r\n    \t\treturn rotated;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t *  Translate a Shape\r\n    \t *\r\n    \t *  @param shape the Shape to rotate\r\n    \t *  @param point the Point containing the requested translation\r\n    \t *\r\n    \t *  @returns a new translated Shape object\r\n    \t */\r\n    \tpublic static Shape translate(Shape shape, Point point)\r\n    \t{\r\n    \t\tAffineTransform at = AffineTransform.getTranslateInstance(point.x, point.y);\r\n    \t\tShape translated = at.createTransformedShape(shape);\r\n    \r\n    \t\treturn translated;\r\n    \t}\r\n    }\r\n\r\nCheck out: [Drag a Painted Shape](https://stackoverflow.com/a/67443344/131872) for a complete working example.\r\n\r\nNote, I changed code in the above link:\r\n\r\n\t//shapePanel.addShape(barBell, Color.RED);\r\n\tshapePanel.addShape( ShapeUtils.rotate(barBell, 45), Color.RED);\r\n\r\nto demonstrate how to rotate any `Shape`.\r\n\r\nYou can also check out [Playing With Shapes](https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/) for more information and the most current version of the `ShapeUtils` code (in case it changes).","title":"How to translate a bounding box for selection purposes with a bufferedimage rotation","body":"<p>If you need hit detection you can keep a <code>List</code> of <code>Shape</code> objects to paint.</p>\n<ol>\n<li>in the <code>paintComponent(...)</code> method you then iterate through the <code>List</code> to paint each <code>Shape</code></li>\n<li>In the <code>MouseListener</code> you iterate through the <code>List</code> and invoke the <code>contains(...)</code> method on the <code>Shape</code>.</li>\n</ol>\n<p>Before adding the <code>Shape</code> to the List you can use the <code>ShapeUtils.rotate(...)</code> method to rotate the <code>Shape</code> so the <code>Shape</code> is painted correctly and hit detection works.</p>\n<pre><code>import java.awt.Point;\nimport java.awt.Polygon;\nimport java.awt.Rectangle;\nimport java.awt.Shape;\nimport java.awt.geom.AffineTransform;\nimport java.awt.geom.Path2D;\nimport java.awt.geom.GeneralPath;\n\n/**\n *  Collection of static methods to make working with Shapes easier.\n */\npublic class ShapeUtils\n{\n    /**\n     *  The points of the Shape are calculated by specifying the radius of each\n     *  point. You must specify the number of points to be calculated as well\n     *  as an array (varargs) containing the radius for each point. The\n     *  calculation of each Point will use the radius modulo array.length.\n     *  For example you can create Shapes like the following:\n     *\n     *  Shape hexagon = ShapeUtils.radiusShape(6, 10);\n     *  Shape star = ShapeUtils.radiusShape(16, 20, 8);\n     *  Shape doubleStar = ShapeUtils.radiusShape(16, 20, 8, 14, 8);\n     *\n     *  @param point the number of points contained in the Shape\n     *  @param radii one or more radius used to calculate a specific point\n     *\n     *  @returns a Shape containing all the calculated points\n     */\n     public static Shape radiusShape(int points, int... radii)\n     {\n        Polygon polygon = new Polygon();\n\n        for (int i = 0; i &lt; points; i++)\n        {\n            double radians = Math.toRadians(i * 360 / points);\n            int radius = radii[i % radii.length];\n\n            double x = Math.cos(radians) * radius;\n            double y = Math.sin(radians) * radius;\n\n            polygon.addPoint((int)x, (int)y);\n        }\n\n        Rectangle bounds = polygon.getBounds();\n        polygon.translate(-bounds.x, -bounds.y);\n\n        return polygon;\n    }\n\n    /**\n     *  Rotate a Shape about its center in a clockwise direction by a specified angle\n     *\n     *  @param shape the Shape to rotate\n     *  @param angle the angle in degrees\n     *\n     *  @returns a new rotated Shape object\n     */\n    public static Shape rotate(Shape shape, int angle)\n    {\n        double radians = Math.toRadians( angle );\n        Rectangle bounds = shape.getBounds();\n        double anchorX = bounds.x + bounds.width / 2;\n        double anchorY = bounds.y + bounds.height / 2;\n        AffineTransform at = AffineTransform.getRotateInstance(radians, anchorX, anchorY);\n        Shape rotated = at.createTransformedShape(shape);\n\n        return rotated;\n    }\n\n    /**\n     *  Translate a Shape\n     *\n     *  @param shape the Shape to rotate\n     *  @param point the Point containing the requested translation\n     *\n     *  @returns a new translated Shape object\n     */\n    public static Shape translate(Shape shape, Point point)\n    {\n        AffineTransform at = AffineTransform.getTranslateInstance(point.x, point.y);\n        Shape translated = at.createTransformedShape(shape);\n\n        return translated;\n    }\n}\n</code></pre>\n<p>Check out: <a href=\"https://stackoverflow.com/a/67443344/131872\">Drag a Painted Shape</a> for a complete working example.</p>\n<p>Note, I changed code in the above link:</p>\n<pre><code>//shapePanel.addShape(barBell, Color.RED);\nshapePanel.addShape( ShapeUtils.rotate(barBell, 45), Color.RED);\n</code></pre>\n<p>to demonstrate how to rotate any <code>Shape</code>.</p>\n<p>You can also check out <a href=\"https://tips4java.wordpress.com/2013/05/13/playing-with-shapes/\" rel=\"nofollow noreferrer\">Playing With Shapes</a> for more information and the most current version of the <code>ShapeUtils</code> code (in case it changes).</p>\n"}],"owner":{"account_id":16738185,"reputation":25,"user_id":12098648,"display_name":"Gizmo Dailys"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76432716,"answer_count":1,"score":0,"last_activity_date":1686233565,"creation_date":1686067566,"question_id":76416484,"body_markdown":"I am trying to keep a bounding box local to a buffered image after it is being rotated.\r\n\r\nGood day everyone. I am having an issue with a program I am currently working on. I draw an image to a buffered image then that buffered image on to the actual panel. I did it this way because I have multiple objects being drawn and rotated on one jpanel and it seemed easier to keep track of and rotate them to me.\r\n```\r\npublic void draw(Graphics2D g2, JPanel p)\r\n{\r\n\tBufferedImage bufferedImage = new BufferedImage(Width + 40, Height + 40, BufferedImage.TYPE_INT_ARGB); \r\n    Graphics2D g2d = (Graphics2D) bufferedImage.getGraphics();  // Graphics for the first object only\r\n\t    \r\n\tAffineTransform old = g2.getTransform();\r\n\t\t\r\n\tg2d.setStroke(new BasicStroke(2));\r\n\tg2d.setColor(Color.blue);\r\n\t\t\r\n\tif(type.equals(&quot;cone&quot;))\r\n\t{\r\n\t\t\t\r\n\t}\r\n\telse if(type.equals(&quot;cube&quot;))\r\n\t{\r\n\t\tg2d.drawRect(20, 20, Width, Height);\r\n\t}\r\n\telse if(type.equals(&quot;circle&quot;))\r\n\t{\r\n\t\tg2d.drawOval(20, 20, Width, Height);\r\n\t}\r\n\telse if(type.equals(&quot;line&quot;))\r\n\t{\r\n\t\tg2d.drawRect(20, 20, Width, Height);\r\n\t}\r\n\t\t\r\n\tif(isselected)\r\n\t\tdrawbounding(g2d, p);\r\n\t\t\r\n\tg2.rotate((double) rotate, X, Y);\r\n\tg2.drawImage(bufferedImage, X, Y, p);\r\n\t\t\r\n\tg2d.setTransform(old);\r\n}\r\n```\r\nThe above code is the way I draw and rotate everything. I am then using this next code segment to calculate whether a click is inside of a pre determined bounding box.\r\n\r\n```\r\npublic boolean isSelected(int x, int y)\r\n{\r\n\tif(x &gt; X &amp;&amp; x &lt; X + 40 + Width)\r\n\t{\r\n\t\tif(y &gt; Y &amp;&amp; y &lt; Y + 40 + Height)\r\n\t\t{\r\n\t\t\tisselected = true;\r\n\t\t\treturn true;\r\n\t\t}\r\n\t}\r\n\t\t\r\n\tisselected = false;\r\n\treturn false;\r\n}\r\n```\r\nThe issue I am running in to is that when the buffered image gets rotated the bounding box doesnt rotate with it. I know this has to do with the fact that the bounding box uses global x, y coordinates and the buffered image is local coordinates to the buffered image itself. How would i go about rotating the bounding box with the buffered image?","title":"How to translate a bounding box for selection purposes with a bufferedimage rotation","body":"<p>I am trying to keep a bounding box local to a buffered image after it is being rotated.</p>\n<p>Good day everyone. I am having an issue with a program I am currently working on. I draw an image to a buffered image then that buffered image on to the actual panel. I did it this way because I have multiple objects being drawn and rotated on one jpanel and it seemed easier to keep track of and rotate them to me.</p>\n<pre><code>public void draw(Graphics2D g2, JPanel p)\n{\n    BufferedImage bufferedImage = new BufferedImage(Width + 40, Height + 40, BufferedImage.TYPE_INT_ARGB); \n    Graphics2D g2d = (Graphics2D) bufferedImage.getGraphics();  // Graphics for the first object only\n        \n    AffineTransform old = g2.getTransform();\n        \n    g2d.setStroke(new BasicStroke(2));\n    g2d.setColor(Color.blue);\n        \n    if(type.equals(&quot;cone&quot;))\n    {\n            \n    }\n    else if(type.equals(&quot;cube&quot;))\n    {\n        g2d.drawRect(20, 20, Width, Height);\n    }\n    else if(type.equals(&quot;circle&quot;))\n    {\n        g2d.drawOval(20, 20, Width, Height);\n    }\n    else if(type.equals(&quot;line&quot;))\n    {\n        g2d.drawRect(20, 20, Width, Height);\n    }\n        \n    if(isselected)\n        drawbounding(g2d, p);\n        \n    g2.rotate((double) rotate, X, Y);\n    g2.drawImage(bufferedImage, X, Y, p);\n        \n    g2d.setTransform(old);\n}\n</code></pre>\n<p>The above code is the way I draw and rotate everything. I am then using this next code segment to calculate whether a click is inside of a pre determined bounding box.</p>\n<pre><code>public boolean isSelected(int x, int y)\n{\n    if(x &gt; X &amp;&amp; x &lt; X + 40 + Width)\n    {\n        if(y &gt; Y &amp;&amp; y &lt; Y + 40 + Height)\n        {\n            isselected = true;\n            return true;\n        }\n    }\n        \n    isselected = false;\n    return false;\n}\n</code></pre>\n<p>The issue I am running in to is that when the buffered image gets rotated the bounding box doesnt rotate with it. I know this has to do with the fact that the bounding box uses global x, y coordinates and the buffered image is local coordinates to the buffered image itself. How would i go about rotating the bounding box with the buffered image?</p>\n"},{"tags":["java","sorting","collections","atomicinteger"],"answers":[{"tags":[],"owner":{"account_id":11400015,"reputation":1904,"user_id":8357251,"display_name":"gdomo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686233526,"creation_date":1686223284,"answer_id":76431319,"question_id":76431040,"body_markdown":"You can do it like this:\r\n\r\n    parents.stream()\r\n            .skip(prntIdx)\r\n            .limit(1)\r\n            .map(ParentEntity::getChildEntities)\r\n            .flatMap(Collection::stream)\r\n            .skip(chldIdx)\r\n            .findFirst()\r\n            .orElse(null)\r\n\r\nOr just use `List.get()`:\r\n\r\n    if (prntIdx &lt; parents.size()) {\r\n        List&lt;ChildEntity&gt; children = parents.get(prntIdx).getChildEntities();\r\n        if (chldIdx &lt; children.size()) {\r\n            return children.get(chldIdx);\r\n        }\r\n    }\r\n    return null;","title":"multi level filtering by index of customized list in java 11","body":"<p>You can do it like this:</p>\n<pre><code>parents.stream()\n        .skip(prntIdx)\n        .limit(1)\n        .map(ParentEntity::getChildEntities)\n        .flatMap(Collection::stream)\n        .skip(chldIdx)\n        .findFirst()\n        .orElse(null)\n</code></pre>\n<p>Or just use <code>List.get()</code>:</p>\n<pre><code>if (prntIdx &lt; parents.size()) {\n    List&lt;ChildEntity&gt; children = parents.get(prntIdx).getChildEntities();\n    if (chldIdx &lt; children.size()) {\n        return children.get(chldIdx);\n    }\n}\nreturn null;\n</code></pre>\n"}],"owner":{"account_id":16429668,"reputation":81,"user_id":11868833,"display_name":"Andrzej Więcławski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686233526,"creation_date":1686221126,"question_id":76431040,"body_markdown":"Instead of adding and updating these extra sequential number fields, I found useful two stage solution when processing well sorted multi-level collections for GUI (where row indexes are calculated on fly):\r\n\r\n```\r\nParentEntity filterByParentAndChildListsIndexes(List&lt;ParentEntity&gt; parents, Integer prntIdx, Integer chldIdx){\r\n   AtomicInteger idx = new AtomicInteger(1); // may be &#39;0&#39;\r\n   Optional&lt;ParentEntity&gt; parentOp = parents.stream().filter(p -&gt; idx.getAndIncrement() == prntIdx).findFirst();\r\n   if (parentOp.isPresent()){\r\n      return childFilter(parentOp.get(), chldIdx);\r\n   }\r\n   return null;\r\n}\r\n\r\nChildEntity childFilter(ParentEntity parent, Integer chldIdx){\r\n   AtomicInteger idx = new AtomicInteger(1); // may be &#39;0&#39;\r\n   return parent.getChildEntities().stream().filter(c -&gt; idx.getAndIncrement() == chldIdx).findFirst().orElse(null);\r\n}\r\n\r\n```\r\nbut it seems redundant and not flexible... so, I would be grateful for suggestions on existing solutions or suggestions for recursion of such multilevel filters.\r\n","title":"multi level filtering by index of customized list in java 11","body":"<p>Instead of adding and updating these extra sequential number fields, I found useful two stage solution when processing well sorted multi-level collections for GUI (where row indexes are calculated on fly):</p>\n<pre><code>ParentEntity filterByParentAndChildListsIndexes(List&lt;ParentEntity&gt; parents, Integer prntIdx, Integer chldIdx){\n   AtomicInteger idx = new AtomicInteger(1); // may be '0'\n   Optional&lt;ParentEntity&gt; parentOp = parents.stream().filter(p -&gt; idx.getAndIncrement() == prntIdx).findFirst();\n   if (parentOp.isPresent()){\n      return childFilter(parentOp.get(), chldIdx);\n   }\n   return null;\n}\n\nChildEntity childFilter(ParentEntity parent, Integer chldIdx){\n   AtomicInteger idx = new AtomicInteger(1); // may be '0'\n   return parent.getChildEntities().stream().filter(c -&gt; idx.getAndIncrement() == chldIdx).findFirst().orElse(null);\n}\n\n</code></pre>\n<p>but it seems redundant and not flexible... so, I would be grateful for suggestions on existing solutions or suggestions for recursion of such multilevel filters.</p>\n"},{"tags":["java","spring","spring-webflux","reactive-programming","project-reactor"],"comments":[{"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"score":0,"creation_date":1686238527,"post_id":76431765,"comment_id":134774763,"body_markdown":"I was trying out the answer posted. Before I could complete, it was deleted. Could the respondent please tell why it was deleted?","body":"I was trying out the answer posted. Before I could complete, it was deleted. Could the respondent please tell why it was deleted?"}],"owner":{"account_id":13816660,"reputation":139,"user_id":9973101,"display_name":"Gopikrishna K S"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686233323,"creation_date":1686226527,"question_id":76431765,"body_markdown":"* My use case is to\r\n  * Get an access token\r\n  * Then call a POST API which gives a URL\r\n  * Then call a GET API with that URL.\r\n* I am using spring webflux.\r\n* Using the following references, I could come up with the following code. But the post API is still saying invalid file, I know I am passing the file wrong as the same API is working fine in postman. It would be a great help if someone could please tell what the issue in it is.\r\n\r\nReferences :\r\n1. https://stackoverflow.com/a/70495497/9973101\r\n2. https://stackoverflow.com/a/74829151/9973101\r\n\r\nCode:\r\n```\r\nMono&lt;GetResponse&gt; function(Mono&lt;FilePart&gt; filePartMono) {\r\n    return filePartMono.flatMap(filePart -&gt; {\r\n\r\n        // Get access token\r\n        MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\r\n        formData.add(&quot;GRANT_TYPE&quot;, &quot;CLIENT_CREDENTIALS&quot;);\r\n        formData.add(&quot;CLIENT_ID&quot;, getClientId());\r\n        formData.add(&quot;CLIENT_SECRET&quot;, getClientSecret());\r\n\r\n        Mono&lt;AccessTokenWrapper&gt; accessTokenWrapperMono = webClient\r\n            .post()\r\n            .uri(getUrl())\r\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\r\n            .body(BodyInserters.fromFormData(formData))\r\n            .retrieve()\r\n            .bodyToMono(AccessTokenWrapper.class);\r\n\r\n        \r\n        // Make the POST request using token\r\n        Mono&lt;PostResponse&gt; postResponseMono = accessTokenWrapperMono.flatMap(accessTokenWrapper -&gt; {\r\n            MultipartBodyBuilder multipartBodyBuilder = new MultipartBodyBuilder();\r\n            multipartBodyBuilder.asyncPart(&quot;file&quot;, filePart.content(), DataBuffer.class)\r\n                    .filename(filePart.filename());\r\n\r\n            return Mono.defer(() -&gt; webClient.post()\r\n                    .uri(getBaseUrl() + getPostUrl())\r\n                    .contentType(MediaType.MULTIPART_FORM_DATA)\r\n                    .headers(httpHeaders -&gt; {\r\n                        httpHeaders.setBearerAuth(accessTokenWrapper.getAccessToken());\r\n                    }).body(BodyInserters.fromMultipartData(multipartBodyBuilder.build()))\r\n                    .retrieve()\r\n                    .bodyToMono(UploadResponse.class));\r\n        });\r\n\r\n        // Make the GET request using token and POST response\r\n        return Mono.zip(postResponseMono, accessTokenWrapperMono).flatMap(tuple -&gt; {\r\n            PostResponse postResponse = tuple.getT1();\r\n            AccessTokenWrapper accessTokenWrapper = tuple.getT2();\r\n\r\n            return webClient.get()\r\n                    .uri(getBaseUrl() + postResponse.getGetUrl())\r\n                    .headers(httpHeaders -&gt; {\r\n                        httpHeaders.setBearerAuth(accessTokenWrapper.getAccessToken());\r\n                    }).retrieve()\r\n                    .bodyToMono(GetResponse.class);\r\n        });\r\n\r\n    });\r\n}\r\n\r\n```","title":"Sending a FilePart Mono to an API using WebClient","body":"<ul>\n<li>My use case is to\n<ul>\n<li>Get an access token</li>\n<li>Then call a POST API which gives a URL</li>\n<li>Then call a GET API with that URL.</li>\n</ul>\n</li>\n<li>I am using spring webflux.</li>\n<li>Using the following references, I could come up with the following code. But the post API is still saying invalid file, I know I am passing the file wrong as the same API is working fine in postman. It would be a great help if someone could please tell what the issue in it is.</li>\n</ul>\n<p>References :</p>\n<ol>\n<li><a href=\"https://stackoverflow.com/a/70495497/9973101\">https://stackoverflow.com/a/70495497/9973101</a></li>\n<li><a href=\"https://stackoverflow.com/a/74829151/9973101\">https://stackoverflow.com/a/74829151/9973101</a></li>\n</ol>\n<p>Code:</p>\n<pre><code>Mono&lt;GetResponse&gt; function(Mono&lt;FilePart&gt; filePartMono) {\n    return filePartMono.flatMap(filePart -&gt; {\n\n        // Get access token\n        MultiValueMap&lt;String, String&gt; formData = new LinkedMultiValueMap&lt;&gt;();\n        formData.add(&quot;GRANT_TYPE&quot;, &quot;CLIENT_CREDENTIALS&quot;);\n        formData.add(&quot;CLIENT_ID&quot;, getClientId());\n        formData.add(&quot;CLIENT_SECRET&quot;, getClientSecret());\n\n        Mono&lt;AccessTokenWrapper&gt; accessTokenWrapperMono = webClient\n            .post()\n            .uri(getUrl())\n            .contentType(MediaType.APPLICATION_FORM_URLENCODED)\n            .body(BodyInserters.fromFormData(formData))\n            .retrieve()\n            .bodyToMono(AccessTokenWrapper.class);\n\n        \n        // Make the POST request using token\n        Mono&lt;PostResponse&gt; postResponseMono = accessTokenWrapperMono.flatMap(accessTokenWrapper -&gt; {\n            MultipartBodyBuilder multipartBodyBuilder = new MultipartBodyBuilder();\n            multipartBodyBuilder.asyncPart(&quot;file&quot;, filePart.content(), DataBuffer.class)\n                    .filename(filePart.filename());\n\n            return Mono.defer(() -&gt; webClient.post()\n                    .uri(getBaseUrl() + getPostUrl())\n                    .contentType(MediaType.MULTIPART_FORM_DATA)\n                    .headers(httpHeaders -&gt; {\n                        httpHeaders.setBearerAuth(accessTokenWrapper.getAccessToken());\n                    }).body(BodyInserters.fromMultipartData(multipartBodyBuilder.build()))\n                    .retrieve()\n                    .bodyToMono(UploadResponse.class));\n        });\n\n        // Make the GET request using token and POST response\n        return Mono.zip(postResponseMono, accessTokenWrapperMono).flatMap(tuple -&gt; {\n            PostResponse postResponse = tuple.getT1();\n            AccessTokenWrapper accessTokenWrapper = tuple.getT2();\n\n            return webClient.get()\n                    .uri(getBaseUrl() + postResponse.getGetUrl())\n                    .headers(httpHeaders -&gt; {\n                        httpHeaders.setBearerAuth(accessTokenWrapper.getAccessToken());\n                    }).retrieve()\n                    .bodyToMono(GetResponse.class);\n        });\n\n    });\n}\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":23098975,"reputation":99,"user_id":17208643,"display_name":"hrabrica"},"score":0,"creation_date":1686134219,"post_id":76420919,"comment_id":134756477,"body_markdown":"Can you share a repo at least? This is not enough information. What is the error that you get?","body":"Can you share a repo at least? This is not enough information. What is the error that you get?"},{"owner":{"account_id":28770423,"reputation":1,"user_id":22034299,"display_name":"chia hao"},"score":0,"creation_date":1686153358,"post_id":76420919,"comment_id":134761065,"body_markdown":"I run this many times,it actually can run successfully but it suddenly crush.\nThis is not only file.I have the other file--MainActivity.kt","body":"I run this many times,it actually can run successfully but it suddenly crush. This is not only file.I have the other file--MainActivity.kt"},{"owner":{"account_id":28770423,"reputation":1,"user_id":22034299,"display_name":"chia hao"},"score":0,"creation_date":1686328659,"post_id":76420919,"comment_id":134788727,"body_markdown":"Now,it seems run better than before.It only can show a pattern which has one red worm.","body":"Now,it seems run better than before.It only can show a pattern which has one red worm."}],"owner":{"account_id":28770423,"reputation":1,"user_id":22034299,"display_name":"chia hao"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686233098,"creation_date":1686123411,"question_id":76420919,"body_markdown":"I do an app like SET card game(it is not finished),[I want to show 12 cards on a page from 81 cards I draw.But I try many times it can run successfully through,it crush suddenly.Is there any master can help me?\r\n\r\nthe setcardview is the class that collect 4 different features(number, shape, shading, color). I want to let my cards has base above features,like one purple worm,two green diamond,three orange oval etc.And then random show 12 cards in a page.\r\n&lt;br&gt;MainActivity.kt\r\n```\r\nimport android.graphics.Color\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport android.os.Bundle\r\n\r\nclass MainActivity : AppCompatActivity() {\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_main)\r\n\r\n        val cardView = findViewById&lt;SetCardView&gt;(R.id.cardView)\r\n        cardView.color = Color.RED\r\n        cardView.number = 1\r\n        cardView.shape = SetCardView.Shape.WORM\r\n        cardView.shading = SetCardView.Shading.STRIP\r\n    }\r\n}\r\n\r\n```\r\nSetCardView.kt\r\n```\r\nimport android.content.Context\r\nimport android.graphics.Canvas\r\nimport android.graphics.Color\r\nimport android.graphics.Paint\r\nimport android.graphics.Path\r\nimport android.graphics.PointF\r\nimport android.graphics.RectF\r\nimport android.text.TextPaint\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.LinearLayout\r\nimport java.util.Random\r\n\r\nclass SetCardView(context: Context, private val parentLayout: LinearLayout) : View(context) {\r\n    enum class Shape {\r\n        OVAL, DIAMOND, WORM\r\n    }\r\n\r\n    enum class Shading {\r\n        EMPTY, SOLID, STRIP\r\n    }\r\n\r\n    enum class Number {\r\n        ONE, TWO, THREE\r\n    }\r\n\r\n    enum class Colors {\r\n        PURPLE, BLUE, GREEN\r\n    }\r\n\r\n    public var number: Number = Number.ONE\r\n        set(value) {\r\n            field = value\r\n            invalidate()\r\n        }\r\n\r\n    public var shape = Shape.OVAL\r\n        set(value) {\r\n            field = value\r\n            invalidate()\r\n        }\r\n\r\n    public var color = Colors.PURPLE\r\n        set(value) {\r\n            field = value\r\n            invalidate()\r\n        }\r\n\r\n    public var shading = Shading.EMPTY\r\n        set(value) {\r\n            field = value\r\n            invalidate()\r\n        }\r\n\r\n    companion object {\r\n        const val CARD_STANDARD_HEIGHT = 240.0f\r\n        const val CORNER_RADIUS = 12.0f\r\n        const val SYMBOL_WIDTH_SCALE_FACTOR = 0.6f\r\n        const val SYMBOL_HEIGHT_SCALE_FACTOR = 0.125f\r\n        const val STRIP_DISTANCE_SCALE_FACTOR = 0.05f\r\n        const val ROW_COUNT = 9\r\n        const val COLUMN_COUNT = 9\r\n    }\r\n\r\n    private val cornerScaleFactor: Float\r\n        get() = height / CARD_STANDARD_HEIGHT\r\n\r\n    private val cornerRadius: Float\r\n        get() = CORNER_RADIUS * cornerScaleFactor\r\n\r\n    private val mPaint = Paint() // For drawing border and face images\r\n    private val mTextPaint = TextPaint() // for drawing pips (text)\r\n    private val indexCount = Number.values().size * Shape.values().size * Colors.values().size * Shading.values().size\r\n\r\n    init {\r\n        mPaint.isAntiAlias = true\r\n        mPaint.isSubpixelText = true\r\n        mTextPaint.isAntiAlias = true\r\n        mTextPaint.isSubpixelText = true\r\n    }\r\n    private fun drawShapeWithVerticalOffset(canvas: Canvas, voffset: Float) {\r\n        val path = Path()\r\n        val width = width * SYMBOL_WIDTH_SCALE_FACTOR\r\n        val height = height * SYMBOL_HEIGHT_SCALE_FACTOR\r\n\r\n        if (shape == Shape.OVAL) { // OVAL\r\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\r\n            val left = center.x - width / 2\r\n            val top = center.y - height / 2\r\n            val right = center.x + width / 2\r\n            val bottom = center.y + height / 2\r\n\r\n            val ovalRect = RectF(left, top, right, bottom)\r\n            path.addOval(ovalRect, Path.Direction.CW)\r\n        } else if (shape == Shape.DIAMOND) { // DIAMOND\r\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\r\n            path.moveTo(center.x, center.y + height / 2)\r\n            path.lineTo(center.x + width / 2, center.y)\r\n            path.lineTo(center.x, center.y - height / 2)\r\n            path.lineTo(center.x - width / 2, center.y)\r\n            path.close()\r\n        } else { // WORM\r\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\r\n            path.moveTo(center.x - width / 2, center.y + height / 2)\r\n\r\n            val cp1 = PointF(center.x - width / 4, center.y - height * 1.5f)\r\n            val cp2 = PointF(center.x + width / 4, center.y)\r\n            val dst = PointF(center.x + width / 2, center.y - height / 2)\r\n            path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\r\n\r\n            cp1.x = center.x + width / 2\r\n            cp1.y = center.y + height * 2\r\n            cp2.x = center.x - width / 2\r\n            cp2.y = center.y\r\n\r\n            dst.x = center.x - width / 2\r\n            dst.y = center.y + height / 2\r\n\r\n            path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\r\n        }\r\n        drawShadingInPath(canvas, path)\r\n        drawShapes(canvas, path)\r\n    }\r\n    private fun drawShapes(canvas: Canvas, path:Path) {\r\n        val width = width * SYMBOL_WIDTH_SCALE_FACTOR\r\n        val height = height * SYMBOL_HEIGHT_SCALE_FACTOR\r\n\r\n        val center = PointF(width / 2, height / 2)\r\n\r\n        for (i in 0 until number.ordinal + 1) { // Draw the specified number of shapes\r\n            val voffset = height / 2 * (i + 1)\r\n            val path = Path()\r\n            when (shape) {\r\n                Shape.OVAL -&gt; {\r\n                    val left = center.x - width / 2\r\n                    val top = center.y - height / 2 + voffset\r\n                    val right = center.x + width / 2\r\n                    val bottom = center.y + height / 2 + voffset\r\n\r\n                    val ovalRect = RectF(left, top, right, bottom)\r\n                    path.addOval(ovalRect, Path.Direction.CW)\r\n                }\r\n\r\n                Shape.DIAMOND -&gt; {\r\n                    path.moveTo(center.x, center.y + height / 2 + voffset)\r\n                    path.lineTo(center.x + width / 2, center.y + voffset)\r\n                    path.lineTo(center.x, center.y - height / 2 + voffset)\r\n                    path.lineTo(center.x - width / 2, center.y + voffset)\r\n                    path.close()\r\n                }\r\n\r\n                Shape.WORM -&gt; {\r\n                    path.moveTo(center.x - width / 2, center.y + height / 2 + voffset)\r\n\r\n                    val cp1 = PointF(center.x - width / 4, center.y - height * 1.5f + voffset)\r\n                    val cp2 = PointF(center.x + width / 4, center.y + voffset)\r\n                    val dst = PointF(center.x + width / 2, center.y - height / 2 + voffset)\r\n                    path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\r\n\r\n                    cp1.x = center.x + width / 2\r\n                    cp1.y = center.y + height * 2 + voffset\r\n                    cp2.x = center.x - width / 2\r\n                    cp2.y = center.y + voffset\r\n\r\n                    dst.x = center.x - width / 2\r\n                    dst.y = center.y + height / 2 + voffset\r\n\r\n                    path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\r\n                }\r\n            }\r\n            drawShadingInPath(canvas, path)\r\n        }\r\n    }\r\n    private fun drawShadingInPath(canvas: Canvas, path: Path) {\r\n        mPaint.style = Paint.Style.FILL\r\n        mPaint.color = when (color) {\r\n            Colors.PURPLE -&gt; Color.rgb(154, 18, 179)\r\n            Colors.BLUE -&gt; Color.rgb(18, 106, 179)\r\n            Colors.GREEN -&gt; Color.rgb(18, 179, 31)\r\n        }\r\n\r\n        when (shading) {\r\n            Shading.EMPTY -&gt; {\r\n                canvas.drawPath(path, mPaint)\r\n            }\r\n\r\n            Shading.SOLID -&gt; {\r\n                canvas.drawPath(path, mPaint)\r\n            }\r\n\r\n            Shading.STRIP -&gt; {\r\n                val stripDistance = width * STRIP_DISTANCE_SCALE_FACTOR\r\n                var x = 0f\r\n                while (x &lt; width) {\r\n                    path.moveTo(x, 0f)\r\n                    path.lineTo(x, height.toFloat())\r\n                    x += stripDistance\r\n                }\r\n                canvas.drawPath(path, mPaint)\r\n            }\r\n        }\r\n    }\r\n    override fun onDraw(canvas: Canvas) {\r\n        super.onDraw(canvas)\r\n\r\n        val rect = RectF(0f, 0f, width.toFloat(), height.toFloat())\r\n        val path = Path()\r\n        path.addRoundRect(rect, cornerRadius, cornerRadius, Path.Direction.CW)\r\n\r\n        // fill\r\n        mPaint.style = Paint.Style.FILL\r\n        mPaint.color = Color.WHITE\r\n        canvas.drawPath(path, mPaint)\r\n        // border\r\n        mPaint.style = Paint.Style.STROKE\r\n        mPaint.strokeWidth = 3.0f\r\n        mPaint.color = Color.BLACK\r\n        canvas.drawPath(path, mPaint)\r\n\r\n        val cardWidth = width / COLUMN_COUNT\r\n        val cardHeight = height / ROW_COUNT\r\n\r\n        for (i in 0 until ROW_COUNT) {\r\n            for (j in 0 until COLUMN_COUNT) {\r\n                val cardIndex = i * COLUMN_COUNT + j\r\n                val index = cardIndex % indexCount\r\n\r\n                // Calculate the card properties based on the index\r\n                val number = Number.values()[index % Number.values().size]\r\n                val shape = Shape.values()[(index / Number.values().size) % Shape.values().size]\r\n                val color =\r\n                    Colors.values()[(index / (Number.values().size * Shape.values().size)) % Colors.values().size]\r\n                val shading =\r\n                    Shading.values()[(index / (Number.values().size * Shape.values().size * Colors.values().size)) % Shading.values().size]\r\n\r\n                val left = j * cardWidth + paddingLeft\r\n                val top = i * cardHeight + paddingTop\r\n                val right = left + cardWidth\r\n                val bottom = top + cardHeight\r\n            }\r\n        }\r\n    }\r\n    fun setRandomCards() {\r\n        val cardList = mutableListOf&lt;Pair&lt;Number, Shape&gt;&gt;() // Create a list to hold the card attributes\r\n        val random = Random()\r\n\r\n        // Generate 12 unique random cards\r\n        while (cardList.size &lt; 12) {\r\n            val number = Number.values()[random.nextInt(Number.values().size)]\r\n            val shape = Shape.values()[random.nextInt(Shape.values().size)]\r\n            val pair = Pair(number, shape)\r\n\r\n            if (!cardList.contains(pair)) {\r\n                cardList.add(pair)\r\n            }\r\n        }\r\n        // Shuffle the cardList to display the cards randomly\r\n        cardList.shuffle()\r\n\r\n        // Set the cards in the SetCardView\r\n        for (i in 0 until cardList.size) {\r\n            val number = cardList[i].first\r\n            val shape = cardList[i].second\r\n            val cardView = SetCardView(context, parentLayout)\r\n            cardView.number = number\r\n            cardView.shape = shape\r\n            cardView.color = Colors.PURPLE\r\n            cardView.shading = shading\r\n\r\n            // Calculate the card&#39;s position in the grid\r\n            val cardWidth = width / COLUMN_COUNT\r\n            val cardHeight = height / ROW_COUNT\r\n            val column = i % COLUMN_COUNT\r\n            val row = i / COLUMN_COUNT\r\n            val left = column * cardWidth + paddingLeft\r\n            val top = row * cardHeight + paddingTop\r\n            val right = left + cardWidth\r\n            val bottom = top + cardHeight\r\n\r\n            cardView.layoutParams = LinearLayout.LayoutParams(cardWidth, cardHeight)\r\n            cardView.layout(left, top, right, bottom)\r\n            parentLayout.addView(cardView)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n","title":"How can I get 12 cards in a page?","body":"<p>I do an app like SET card game(it is not finished),[I want to show 12 cards on a page from 81 cards I draw.But I try many times it can run successfully through,it crush suddenly.Is there any master can help me?</p>\n<p>the setcardview is the class that collect 4 different features(number, shape, shading, color). I want to let my cards has base above features,like one purple worm,two green diamond,three orange oval etc.And then random show 12 cards in a page.\n<br>MainActivity.kt</p>\n<pre><code>import android.graphics.Color\nimport androidx.appcompat.app.AppCompatActivity\nimport android.os.Bundle\n\nclass MainActivity : AppCompatActivity() {\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        val cardView = findViewById&lt;SetCardView&gt;(R.id.cardView)\n        cardView.color = Color.RED\n        cardView.number = 1\n        cardView.shape = SetCardView.Shape.WORM\n        cardView.shading = SetCardView.Shading.STRIP\n    }\n}\n\n</code></pre>\n<p>SetCardView.kt</p>\n<pre><code>import android.content.Context\nimport android.graphics.Canvas\nimport android.graphics.Color\nimport android.graphics.Paint\nimport android.graphics.Path\nimport android.graphics.PointF\nimport android.graphics.RectF\nimport android.text.TextPaint\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.LinearLayout\nimport java.util.Random\n\nclass SetCardView(context: Context, private val parentLayout: LinearLayout) : View(context) {\n    enum class Shape {\n        OVAL, DIAMOND, WORM\n    }\n\n    enum class Shading {\n        EMPTY, SOLID, STRIP\n    }\n\n    enum class Number {\n        ONE, TWO, THREE\n    }\n\n    enum class Colors {\n        PURPLE, BLUE, GREEN\n    }\n\n    public var number: Number = Number.ONE\n        set(value) {\n            field = value\n            invalidate()\n        }\n\n    public var shape = Shape.OVAL\n        set(value) {\n            field = value\n            invalidate()\n        }\n\n    public var color = Colors.PURPLE\n        set(value) {\n            field = value\n            invalidate()\n        }\n\n    public var shading = Shading.EMPTY\n        set(value) {\n            field = value\n            invalidate()\n        }\n\n    companion object {\n        const val CARD_STANDARD_HEIGHT = 240.0f\n        const val CORNER_RADIUS = 12.0f\n        const val SYMBOL_WIDTH_SCALE_FACTOR = 0.6f\n        const val SYMBOL_HEIGHT_SCALE_FACTOR = 0.125f\n        const val STRIP_DISTANCE_SCALE_FACTOR = 0.05f\n        const val ROW_COUNT = 9\n        const val COLUMN_COUNT = 9\n    }\n\n    private val cornerScaleFactor: Float\n        get() = height / CARD_STANDARD_HEIGHT\n\n    private val cornerRadius: Float\n        get() = CORNER_RADIUS * cornerScaleFactor\n\n    private val mPaint = Paint() // For drawing border and face images\n    private val mTextPaint = TextPaint() // for drawing pips (text)\n    private val indexCount = Number.values().size * Shape.values().size * Colors.values().size * Shading.values().size\n\n    init {\n        mPaint.isAntiAlias = true\n        mPaint.isSubpixelText = true\n        mTextPaint.isAntiAlias = true\n        mTextPaint.isSubpixelText = true\n    }\n    private fun drawShapeWithVerticalOffset(canvas: Canvas, voffset: Float) {\n        val path = Path()\n        val width = width * SYMBOL_WIDTH_SCALE_FACTOR\n        val height = height * SYMBOL_HEIGHT_SCALE_FACTOR\n\n        if (shape == Shape.OVAL) { // OVAL\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\n            val left = center.x - width / 2\n            val top = center.y - height / 2\n            val right = center.x + width / 2\n            val bottom = center.y + height / 2\n\n            val ovalRect = RectF(left, top, right, bottom)\n            path.addOval(ovalRect, Path.Direction.CW)\n        } else if (shape == Shape.DIAMOND) { // DIAMOND\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\n            path.moveTo(center.x, center.y + height / 2)\n            path.lineTo(center.x + width / 2, center.y)\n            path.lineTo(center.x, center.y - height / 2)\n            path.lineTo(center.x - width / 2, center.y)\n            path.close()\n        } else { // WORM\n            val center = PointF((getWidth() / 2).toFloat(), getHeight() / 2 + voffset)\n            path.moveTo(center.x - width / 2, center.y + height / 2)\n\n            val cp1 = PointF(center.x - width / 4, center.y - height * 1.5f)\n            val cp2 = PointF(center.x + width / 4, center.y)\n            val dst = PointF(center.x + width / 2, center.y - height / 2)\n            path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\n\n            cp1.x = center.x + width / 2\n            cp1.y = center.y + height * 2\n            cp2.x = center.x - width / 2\n            cp2.y = center.y\n\n            dst.x = center.x - width / 2\n            dst.y = center.y + height / 2\n\n            path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\n        }\n        drawShadingInPath(canvas, path)\n        drawShapes(canvas, path)\n    }\n    private fun drawShapes(canvas: Canvas, path:Path) {\n        val width = width * SYMBOL_WIDTH_SCALE_FACTOR\n        val height = height * SYMBOL_HEIGHT_SCALE_FACTOR\n\n        val center = PointF(width / 2, height / 2)\n\n        for (i in 0 until number.ordinal + 1) { // Draw the specified number of shapes\n            val voffset = height / 2 * (i + 1)\n            val path = Path()\n            when (shape) {\n                Shape.OVAL -&gt; {\n                    val left = center.x - width / 2\n                    val top = center.y - height / 2 + voffset\n                    val right = center.x + width / 2\n                    val bottom = center.y + height / 2 + voffset\n\n                    val ovalRect = RectF(left, top, right, bottom)\n                    path.addOval(ovalRect, Path.Direction.CW)\n                }\n\n                Shape.DIAMOND -&gt; {\n                    path.moveTo(center.x, center.y + height / 2 + voffset)\n                    path.lineTo(center.x + width / 2, center.y + voffset)\n                    path.lineTo(center.x, center.y - height / 2 + voffset)\n                    path.lineTo(center.x - width / 2, center.y + voffset)\n                    path.close()\n                }\n\n                Shape.WORM -&gt; {\n                    path.moveTo(center.x - width / 2, center.y + height / 2 + voffset)\n\n                    val cp1 = PointF(center.x - width / 4, center.y - height * 1.5f + voffset)\n                    val cp2 = PointF(center.x + width / 4, center.y + voffset)\n                    val dst = PointF(center.x + width / 2, center.y - height / 2 + voffset)\n                    path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\n\n                    cp1.x = center.x + width / 2\n                    cp1.y = center.y + height * 2 + voffset\n                    cp2.x = center.x - width / 2\n                    cp2.y = center.y + voffset\n\n                    dst.x = center.x - width / 2\n                    dst.y = center.y + height / 2 + voffset\n\n                    path.cubicTo(cp1.x, cp1.y, cp2.x, cp2.y, dst.x, dst.y)\n                }\n            }\n            drawShadingInPath(canvas, path)\n        }\n    }\n    private fun drawShadingInPath(canvas: Canvas, path: Path) {\n        mPaint.style = Paint.Style.FILL\n        mPaint.color = when (color) {\n            Colors.PURPLE -&gt; Color.rgb(154, 18, 179)\n            Colors.BLUE -&gt; Color.rgb(18, 106, 179)\n            Colors.GREEN -&gt; Color.rgb(18, 179, 31)\n        }\n\n        when (shading) {\n            Shading.EMPTY -&gt; {\n                canvas.drawPath(path, mPaint)\n            }\n\n            Shading.SOLID -&gt; {\n                canvas.drawPath(path, mPaint)\n            }\n\n            Shading.STRIP -&gt; {\n                val stripDistance = width * STRIP_DISTANCE_SCALE_FACTOR\n                var x = 0f\n                while (x &lt; width) {\n                    path.moveTo(x, 0f)\n                    path.lineTo(x, height.toFloat())\n                    x += stripDistance\n                }\n                canvas.drawPath(path, mPaint)\n            }\n        }\n    }\n    override fun onDraw(canvas: Canvas) {\n        super.onDraw(canvas)\n\n        val rect = RectF(0f, 0f, width.toFloat(), height.toFloat())\n        val path = Path()\n        path.addRoundRect(rect, cornerRadius, cornerRadius, Path.Direction.CW)\n\n        // fill\n        mPaint.style = Paint.Style.FILL\n        mPaint.color = Color.WHITE\n        canvas.drawPath(path, mPaint)\n        // border\n        mPaint.style = Paint.Style.STROKE\n        mPaint.strokeWidth = 3.0f\n        mPaint.color = Color.BLACK\n        canvas.drawPath(path, mPaint)\n\n        val cardWidth = width / COLUMN_COUNT\n        val cardHeight = height / ROW_COUNT\n\n        for (i in 0 until ROW_COUNT) {\n            for (j in 0 until COLUMN_COUNT) {\n                val cardIndex = i * COLUMN_COUNT + j\n                val index = cardIndex % indexCount\n\n                // Calculate the card properties based on the index\n                val number = Number.values()[index % Number.values().size]\n                val shape = Shape.values()[(index / Number.values().size) % Shape.values().size]\n                val color =\n                    Colors.values()[(index / (Number.values().size * Shape.values().size)) % Colors.values().size]\n                val shading =\n                    Shading.values()[(index / (Number.values().size * Shape.values().size * Colors.values().size)) % Shading.values().size]\n\n                val left = j * cardWidth + paddingLeft\n                val top = i * cardHeight + paddingTop\n                val right = left + cardWidth\n                val bottom = top + cardHeight\n            }\n        }\n    }\n    fun setRandomCards() {\n        val cardList = mutableListOf&lt;Pair&lt;Number, Shape&gt;&gt;() // Create a list to hold the card attributes\n        val random = Random()\n\n        // Generate 12 unique random cards\n        while (cardList.size &lt; 12) {\n            val number = Number.values()[random.nextInt(Number.values().size)]\n            val shape = Shape.values()[random.nextInt(Shape.values().size)]\n            val pair = Pair(number, shape)\n\n            if (!cardList.contains(pair)) {\n                cardList.add(pair)\n            }\n        }\n        // Shuffle the cardList to display the cards randomly\n        cardList.shuffle()\n\n        // Set the cards in the SetCardView\n        for (i in 0 until cardList.size) {\n            val number = cardList[i].first\n            val shape = cardList[i].second\n            val cardView = SetCardView(context, parentLayout)\n            cardView.number = number\n            cardView.shape = shape\n            cardView.color = Colors.PURPLE\n            cardView.shading = shading\n\n            // Calculate the card's position in the grid\n            val cardWidth = width / COLUMN_COUNT\n            val cardHeight = height / ROW_COUNT\n            val column = i % COLUMN_COUNT\n            val row = i / COLUMN_COUNT\n            val left = column * cardWidth + paddingLeft\n            val top = row * cardHeight + paddingTop\n            val right = left + cardWidth\n            val bottom = top + cardHeight\n\n            cardView.layoutParams = LinearLayout.LayoutParams(cardWidth, cardHeight)\n            cardView.layout(left, top, right, bottom)\n            parentLayout.addView(cardView)\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","cpu","cpu-usage"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686240199,"post_id":76432682,"comment_id":134775080,"body_markdown":"One thing that occurs to me is that you could use `flatMap` (or, in newer versions of Java, `mapMulti`), and only produce lines that you wanted to include, leaving out all the `Optional` stuff, but that would only reduce the work a bit, not the CPU utilization.","body":"One thing that occurs to me is that you could use <code>flatMap</code> (or, in newer versions of Java, <code>mapMulti</code>), and only produce lines that you wanted to include, leaving out all the <code>Optional</code> stuff, but that would only reduce the work a bit, not the CPU utilization."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1686242991,"post_id":76432682,"comment_id":134775647,"body_markdown":"The first step is to use a profiling tool to find out *why* it is consuming so much CPU or where the time is spent. Then, you can use this information to find out whether you can reduce the CPU consumption. But it’s striking that you apparently read the entire file into the memory first before processing, instead of using, e.g. `Files.lines` to get a `Stream` in the first place and process the lines while reading.","body":"The first step is to use a profiling tool to find out <i>why</i> it is consuming so much CPU or where the time is spent. Then, you can use this information to find out whether you can reduce the CPU consumption. But it’s striking that you apparently read the entire file into the memory first before processing, instead of using, e.g. <code>Files.lines</code> to get a <code>Stream</code> in the first place and process the lines while reading."},{"owner":{"account_id":27698333,"reputation":3,"user_id":21143502,"display_name":"Young Kim"},"score":0,"creation_date":1686319957,"post_id":76432682,"comment_id":134786847,"body_markdown":"Thank you everyone who contributed to this post. \nMartheen That post really helped\n@Holger Thank you for that! I didn&#39;t know that was a bad practice. &quot;Reading entire file into memory first before processing&quot; wasn&#39;t something I thought about before!","body":"Thank you everyone who contributed to this post.  Martheen That post really helped @Holger Thank you for that! I didn&#39;t know that was a bad practice. &quot;Reading entire file into memory first before processing&quot; wasn&#39;t something I thought about before!"}],"owner":{"account_id":27698333,"reputation":3,"user_id":21143502,"display_name":"Young Kim"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686320053,"answer_count":0,"score":0,"last_activity_date":1686232966,"creation_date":1686232966,"question_id":76432682,"body_markdown":"```\r\nprivate List&lt;String&gt; processLinesWithLogFilter(List&lt;String&gt; lines) {\r\n    return lines.stream()\r\n        .map(logFilter::filter)\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nList\\&lt;String\\&gt; lines is a huge list which contains from 300,000 to 1,000,000. My purpose is to filter out the huge log file and be selective on what I would like to be included.\r\n\r\nThe above code is what is causing high CPU utilization in the java application. I would like to reduce it by any method. I do not mind it taking longer than expected as long as CPU utilization is not high.\r\n\r\nThis is what logFilter::filter method contains\r\n\r\n```\r\npublic Optional&lt;String&gt; filter(String log) {\r\nreturn extractor.extract(log).filter(filter::isServiceLog).map(printer::printer);\r\n```\r\n\r\nextract method grabs the log file using StringBuilder, filter method uses Filter object using Matchers.\r\n\r\nIs there a way to lower the CPU Utilization?\r\n\r\nI tried using batch process which divides up the work. It did take longer than the original process but CPU Utilization did not get better.","title":"Lowering CPU utilization of a specific method in a java program that filters 300,000 to 1,000,000","body":"<pre><code>private List&lt;String&gt; processLinesWithLogFilter(List&lt;String&gt; lines) {\n    return lines.stream()\n        .map(logFilter::filter)\n        .filter(Optional::isPresent)\n        .map(Optional::get)\n        .collect(Collectors.toList());\n</code></pre>\n<p>List&lt;String&gt; lines is a huge list which contains from 300,000 to 1,000,000. My purpose is to filter out the huge log file and be selective on what I would like to be included.</p>\n<p>The above code is what is causing high CPU utilization in the java application. I would like to reduce it by any method. I do not mind it taking longer than expected as long as CPU utilization is not high.</p>\n<p>This is what logFilter::filter method contains</p>\n<pre><code>public Optional&lt;String&gt; filter(String log) {\nreturn extractor.extract(log).filter(filter::isServiceLog).map(printer::printer);\n</code></pre>\n<p>extract method grabs the log file using StringBuilder, filter method uses Filter object using Matchers.</p>\n<p>Is there a way to lower the CPU Utilization?</p>\n<p>I tried using batch process which divides up the work. It did take longer than the original process but CPU Utilization did not get better.</p>\n"},{"tags":["java","android"],"owner":{"account_id":28688261,"reputation":33,"user_id":21968069,"display_name":"Anon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686232900,"creation_date":1686232900,"question_id":76432666,"body_markdown":"I want to create tabs that the user swipes left and right between, but the user should also swipe left and right between the views that are within a tab. When the user has swiped to the final view within a tab then the next swipe will take him to the next tab. Here&#39;s an illustration: [Sketch](https://i.stack.imgur.com/EteDK.png)\r\n\r\nI&#39;ve already created an app using the Android Studio Tabs activity template that uses ViewPager and TabLayout. I can&#39;t find any example of how this is supposed to be done. Does anyone have an example or just general idea of how it should be implemented? Thank you.","title":"In Android how do you create Swipeable views inside each tab of a tab layout?","body":"<p>I want to create tabs that the user swipes left and right between, but the user should also swipe left and right between the views that are within a tab. When the user has swiped to the final view within a tab then the next swipe will take him to the next tab. Here's an illustration: <a href=\"https://i.stack.imgur.com/EteDK.png\" rel=\"nofollow noreferrer\">Sketch</a></p>\n<p>I've already created an app using the Android Studio Tabs activity template that uses ViewPager and TabLayout. I can't find any example of how this is supposed to be done. Does anyone have an example or just general idea of how it should be implemented? Thank you.</p>\n"},{"tags":["java","android","pdf"],"owner":{"account_id":3271278,"reputation":65,"user_id":2754606,"display_name":"Jay Ma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686232807,"creation_date":1686232807,"question_id":76432656,"body_markdown":"Currently I have the PDF viewer working through the intent and a local file I want to display from the following code:\r\n\r\n            Intent intent = new Intent(Intent.ACTION_VIEW);\r\n            intent.setDataAndType(uri,&quot;application/pdf&quot;);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\r\n            getApplicationContext().startActivity(intent);\r\n\r\nIs there a way to disable to top menu bar when rendering the PDF through the intent (see picture below)?\r\n\r\n[![top bar][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Atqtu.png","title":"Android Disable Intent PDF Viewer Menu Bar within App","body":"<p>Currently I have the PDF viewer working through the intent and a local file I want to display from the following code:</p>\n<pre><code>        Intent intent = new Intent(Intent.ACTION_VIEW);\n        intent.setDataAndType(uri,&quot;application/pdf&quot;);\n        intent.setFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);\n        getApplicationContext().startActivity(intent);\n</code></pre>\n<p>Is there a way to disable to top menu bar when rendering the PDF through the intent (see picture below)?</p>\n<p><a href=\"https://i.stack.imgur.com/Atqtu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Atqtu.png\" alt=\"top bar\" /></a></p>\n"},{"tags":["java","jcr","jackrabbit-oak"],"owner":{"account_id":3263687,"reputation":755,"user_id":2748659,"accept_rate":50,"display_name":"Wallace Howery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686232667,"creation_date":1686167329,"question_id":76426675,"body_markdown":"I&#39;m trying to resolve the warning below, happening in an outside dependency of my project. What is a good way to find out what dependency these classes are provided in? I&#39;m using Jackrabbit Oak 1.52.0.\r\n\r\nThe Jackrabbit Oak version I&#39;m using is the most recent available, I&#39;m surprised it would come with warnings. Any other way to resolve this?\r\n\r\nError in the background thread of the persistent cache: java.lang.IllegalStateException: java.lang.AbstractMethodError: \r\nReceiver class org.apache.jackrabbit.oak.plugins.document.persistentCache.KeyDataType \r\ndoes not define or inherit an implementation of the resolved method &#39;abstract void write(org.h2.mvstore.WriteBuffer, java.lang.Object[], int, boolean)&#39; \r\nof interface org.h2.mvstore.type.DataType","title":"How to determine source of a third party dependency to resolve warning","body":"<p>I'm trying to resolve the warning below, happening in an outside dependency of my project. What is a good way to find out what dependency these classes are provided in? I'm using Jackrabbit Oak 1.52.0.</p>\n<p>The Jackrabbit Oak version I'm using is the most recent available, I'm surprised it would come with warnings. Any other way to resolve this?</p>\n<p>Error in the background thread of the persistent cache: java.lang.IllegalStateException: java.lang.AbstractMethodError:\nReceiver class org.apache.jackrabbit.oak.plugins.document.persistentCache.KeyDataType\ndoes not define or inherit an implementation of the resolved method 'abstract void write(org.h2.mvstore.WriteBuffer, java.lang.Object[], int, boolean)'\nof interface org.h2.mvstore.type.DataType</p>\n"},{"tags":["java","arrays","android-studio","nullpointerexception","autocompletetextview"],"comments":[{"owner":{"account_id":944448,"reputation":1094,"user_id":971972,"display_name":"Remc4"},"score":0,"creation_date":1686233043,"post_id":76432611,"comment_id":134773418,"body_markdown":"Can you share the layout file and your activity&#39;s onCreate() code?","body":"Can you share the layout file and your activity&#39;s onCreate() code?"},{"owner":{"account_id":19233037,"reputation":1,"user_id":14054543,"display_name":"Nasir Uddin Vuiya"},"score":0,"creation_date":1686236960,"post_id":76432611,"comment_id":134774410,"body_markdown":"**Here is the code of layout:** `&lt;AutoCompleteTextView\n        android:id=&quot;@+id/autoComplete&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;20dp&quot;\n        android:textSize=&quot;22sp&quot;\n        android:background=&quot;#bf7f7f&quot;\n        android:gravity=&quot;center_horizontal&quot;\n        android:hint=&quot;@string/auto_hint&quot;\n        android:minHeight=&quot;48dp&quot;\n        android:textColor=&quot;#4c3333&quot;\n        tools:ignore=&quot;VisualLintTextFieldSize&quot; /&gt;`","body":"<b>Here is the code of layout:</b> <code>&lt;AutoCompleteTextView         android:id=&quot;@+id&#47;autoComplete&quot;         android:layout_width=&quot;match_parent&quot;         android:layout_height=&quot;wrap_content&quot;         android:layout_marginTop=&quot;20dp&quot;         android:textSize=&quot;22sp&quot;         android:background=&quot;#bf7f7f&quot;         android:gravity=&quot;center_horizontal&quot;         android:hint=&quot;@string&#47;auto_hint&quot;         android:minHeight=&quot;48dp&quot;         android:textColor=&quot;#4c3333&quot;         tools:ignore=&quot;VisualLintTextFieldSize&quot; &#47;&gt;</code>"},{"owner":{"account_id":19233037,"reputation":1,"user_id":14054543,"display_name":"Nasir Uddin Vuiya"},"score":0,"creation_date":1686237100,"post_id":76432611,"comment_id":134774439,"body_markdown":"**Here is the onCreate() method:** `@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        autoView = findViewById(R.id.autoComplete);\n        songAdapter = new ArrayAdapter&lt;&gt;(MainActivity.this, R.layout.spinner, names);\n        autoView.setAdapter(songAdapter);\n        autoView.setThreshold(1);`","body":"<b>Here is the onCreate() method:</b> <code>@Override     protected void onCreate(Bundle savedInstanceState) {         super.onCreate(savedInstanceState);         setContentView(R.layout.activity_main);          autoView = findViewById(R.id.autoComplete);         songAdapter = new ArrayAdapter&lt;&gt;(MainActivity.this, R.layout.spinner, names);         autoView.setAdapter(songAdapter);         autoView.setThreshold(1);</code>"}],"owner":{"account_id":19233037,"reputation":1,"user_id":14054543,"display_name":"Nasir Uddin Vuiya"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686232579,"creation_date":1686232579,"question_id":76432611,"body_markdown":"My android app has an AutoCompleteTextView in the activity_main.xml file with an ID &quot;nameACTV&quot;. In the MainActivity.java file, when I try to write AutoCompleteTextView auto=findViewById(R.id.nameACTV) it shows red. When I try to set an adapter to the AutoCompleteTextView, as adapter=new AdapterView() auto.setAdapter(adapter); it says null; What&#39;s wrong?\r\n\r\nI were trying to show some results as listview in the AutoCompleteTextView when the user types something. The listview will use a single line spinner layout and collect data from a StringArray inside the strings.xml file.","title":"AutoCompleteTextView brings null pointer exception","body":"<p>My android app has an AutoCompleteTextView in the activity_main.xml file with an ID &quot;nameACTV&quot;. In the MainActivity.java file, when I try to write AutoCompleteTextView auto=findViewById(R.id.nameACTV) it shows red. When I try to set an adapter to the AutoCompleteTextView, as adapter=new AdapterView() auto.setAdapter(adapter); it says null; What's wrong?</p>\n<p>I were trying to show some results as listview in the AutoCompleteTextView when the user types something. The listview will use a single line spinner layout and collect data from a StringArray inside the strings.xml file.</p>\n"},{"tags":["java","project-loom"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":5,"creation_date":1686232607,"post_id":76432603,"comment_id":134773310,"body_markdown":"You should wait for each of those threads to finish. Currently, your application just exits, taking those still running threads with it.","body":"You should wait for each of those threads to finish. Currently, your application just exits, taking those still running threads with it."},{"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"score":0,"creation_date":1686234307,"post_id":76432603,"comment_id":134773759,"body_markdown":"Thanks, for the quick response.\nThat makes sense.\nI&#39;ve used join() now and it works","body":"Thanks, for the quick response. That makes sense. I&#39;ve used join() now and it works"}],"owner":{"account_id":7184196,"reputation":129,"user_id":5486863,"display_name":"Mark Rensen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686232543,"creation_date":1686232543,"question_id":76432603,"body_markdown":"I was tinkering with Virtual Threads and made this bit of code: \r\n```\r\n        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\r\n\r\n        for(int i = 0; i &lt; 1_000_000; i++){\r\n            var thread = Thread.ofVirtual()\r\n                    .unstarted(()-&gt;{\r\n                            String n = Thread.currentThread().toString();\r\n                        System.out.println(n);\r\n\r\n                    });\r\n            threads.add(thread);\r\n        }\r\n        for (var thread: threads){\r\n            thread.start();\r\n        }\r\n\r\n```\r\nI would expect this to print a million lines that look like `VirtualThread[#31]/runnable@ForkJoinPool-1-worker-2`\r\nHowever, it prints an inconsistent amount of lines like that. Somewhere between 200 and 1000 lines, it varies for each run.\r\n\r\nHow come it doesn&#39;t print a million lines?","title":"Why don&#39;t my 1_000_000 Virtual Threads print a 1_000_000 outcomes?","body":"<p>I was tinkering with Virtual Threads and made this bit of code:</p>\n<pre><code>        List&lt;Thread&gt; threads = new ArrayList&lt;&gt;();\n\n        for(int i = 0; i &lt; 1_000_000; i++){\n            var thread = Thread.ofVirtual()\n                    .unstarted(()-&gt;{\n                            String n = Thread.currentThread().toString();\n                        System.out.println(n);\n\n                    });\n            threads.add(thread);\n        }\n        for (var thread: threads){\n            thread.start();\n        }\n\n</code></pre>\n<p>I would expect this to print a million lines that look like <code>VirtualThread[#31]/runnable@ForkJoinPool-1-worker-2</code>\nHowever, it prints an inconsistent amount of lines like that. Somewhere between 200 and 1000 lines, it varies for each run.</p>\n<p>How come it doesn't print a million lines?</p>\n"},{"tags":["java","scala","inheritance","overriding","traits"],"answers":[{"tags":[],"owner":{"account_id":410963,"reputation":1344,"user_id":783116,"accept_rate":88,"display_name":"josiah"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415401557,"creation_date":1415401557,"answer_id":26811553,"question_id":26811401,"body_markdown":"I&#39;m not sure what the use case would be for this.  Why not just have the User, in Ruby terms, &#39;mixin&#39;, the SecurePasswords trait and override password within it&#39;s class definition?\r\n\r\nComing from Ruby, this might be more difficult to get, but Scala is a compiled language and it&#39;s generally not a good idea to change class definitions dynamically/on-the-fly like this. Think of the type system in Scala as a way of testing your code.  The more you defer code interpretation to runtime, the less testable/safe your code becomes.  This is one of the strengths of Scala/Java/Haskell/... (insert compiled typed language) - the type system can catch a lot of errors at compile time.  Use this to your advantage, don&#39;t fight against it. \r\n\r\nI would look into the use of implicit parameters and how they can relate/be used with traits.\r\n\r\nAlso, without the broader context of what you are trying to accomplish in your code with this pattern, it&#39;s hard to know, but this link might prove useful to you if you are trying to implement some sort of adapter pattern.\r\n\r\nhttp://danielwestheide.com/blog/2013/02/06/the-neophytes-guide-to-scala-part-12-type-classes.html","title":"Scala - override a class method in a trait","body":"<p>I'm not sure what the use case would be for this.  Why not just have the User, in Ruby terms, 'mixin', the SecurePasswords trait and override password within it's class definition?</p>\n\n<p>Coming from Ruby, this might be more difficult to get, but Scala is a compiled language and it's generally not a good idea to change class definitions dynamically/on-the-fly like this. Think of the type system in Scala as a way of testing your code.  The more you defer code interpretation to runtime, the less testable/safe your code becomes.  This is one of the strengths of Scala/Java/Haskell/... (insert compiled typed language) - the type system can catch a lot of errors at compile time.  Use this to your advantage, don't fight against it. </p>\n\n<p>I would look into the use of implicit parameters and how they can relate/be used with traits.</p>\n\n<p>Also, without the broader context of what you are trying to accomplish in your code with this pattern, it's hard to know, but this link might prove useful to you if you are trying to implement some sort of adapter pattern.</p>\n\n<p><a href=\"http://danielwestheide.com/blog/2013/02/06/the-neophytes-guide-to-scala-part-12-type-classes.html\" rel=\"nofollow\">http://danielwestheide.com/blog/2013/02/06/the-neophytes-guide-to-scala-part-12-type-classes.html</a></p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1415402571,"creation_date":1415401847,"answer_id":26811603,"question_id":26811401,"body_markdown":"You can provide different password behaviour on a per-instance basis as follows - but you need to provide an explicit trait in each case (default or secure):\r\n\r\n      abstract class User {\r\n        def password(): String\r\n      }\r\n      \r\n      trait SecurePasswords {\r\n        def password(): String = &quot;generating a secure password (non-default)&quot;\r\n      }\r\n      \r\n      trait DefaultPasswords {\r\n        def password(): String = &quot;generating a password (default)&quot;\r\n      }\r\n    \r\n      val a = new User with DefaultPasswords\r\n      val b = new User with SecurePasswords\r\n    \r\n      a.password() // generating a password (default)\r\n      b.password() // generating a secure password (non-default)\r\n\r\nUpdate: However, I think Dan Getz&#39;s answer is probably closer to what you originally asked for","title":"Scala - override a class method in a trait","body":"<p>You can provide different password behaviour on a per-instance basis as follows - but you need to provide an explicit trait in each case (default or secure):</p>\n\n<pre><code>  abstract class User {\n    def password(): String\n  }\n\n  trait SecurePasswords {\n    def password(): String = \"generating a secure password (non-default)\"\n  }\n\n  trait DefaultPasswords {\n    def password(): String = \"generating a password (default)\"\n  }\n\n  val a = new User with DefaultPasswords\n  val b = new User with SecurePasswords\n\n  a.password() // generating a password (default)\n  b.password() // generating a secure password (non-default)\n</code></pre>\n\n<p>Update: However, I think Dan Getz's answer is probably closer to what you originally asked for</p>\n"},{"tags":[],"owner":{"account_id":358449,"reputation":42107,"user_id":699224,"accept_rate":67,"display_name":"DNA"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1415402021,"creation_date":1415402021,"answer_id":26811623,"question_id":26811401,"body_markdown":"In addition to my previous answer - a completely different way to get what you want is to pass the password function into the User class, rather than using traits:\r\n\r\n      class User(pw: ()=&gt;String=default) {\r\n        def password = pw\r\n      }\r\n    \r\n      val default = () =&gt; &quot;generating a password (default)&quot;\r\n      val secure = () =&gt; &quot;generating a secure password (non-default)&quot;\r\n      \r\n      val a = new User()\r\n      val b = new User(secure)\r\n    \r\n      a.password() // generating a password (default)\r\n      b.password() // generating a secure password (non-default)\r\n\r\nAs shown, you can use a default argument to avoid having to specify the password function in the default case.","title":"Scala - override a class method in a trait","body":"<p>In addition to my previous answer - a completely different way to get what you want is to pass the password function into the User class, rather than using traits:</p>\n\n<pre><code>  class User(pw: ()=&gt;String=default) {\n    def password = pw\n  }\n\n  val default = () =&gt; \"generating a password (default)\"\n  val secure = () =&gt; \"generating a secure password (non-default)\"\n\n  val a = new User()\n  val b = new User(secure)\n\n  a.password() // generating a password (default)\n  b.password() // generating a secure password (non-default)\n</code></pre>\n\n<p>As shown, you can use a default argument to avoid having to specify the password function in the default case.</p>\n"},{"tags":[],"owner":{"account_id":3601683,"reputation":8824,"user_id":3004881,"accept_rate":100,"display_name":"Dan Getz"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1415402216,"creation_date":1415402216,"answer_id":26811657,"question_id":26811401,"body_markdown":"The conflict between the two method definitions is because you didn&#39;t make them the &quot;same method&quot;. All you did was make them coincidentally have the same name, arguments, and return type.\r\n\r\nTo make them really the same method, so that one can override the other, define them in the same place:\r\n\r\n    trait HasPassword {\r\n      def password(): String\r\n    }\r\n    \r\n    class User extends HasPassword {\r\n      override def password(): String = &quot;generating a password (default)&quot;\r\n    }\r\n    \r\n    trait SecurePassword extends HasPassword {\r\n      override def password(): String = &quot;generating a password (non-default)&quot;\r\n    }\r\n    \r\n    new User with SecurePassword\r\n\r\nBy being defined in the trait `HasPassword`, and then overridden (instead of doppleganged or duck-typed) in `User` and `SecurePassword`, Scala understands that this is truly the same method being redefined. Thus, when you mix in `SecurePassword`, it can override the `password()` method in `User`.","title":"Scala - override a class method in a trait","body":"<p>The conflict between the two method definitions is because you didn't make them the \"same method\". All you did was make them coincidentally have the same name, arguments, and return type.</p>\n\n<p>To make them really the same method, so that one can override the other, define them in the same place:</p>\n\n<pre><code>trait HasPassword {\n  def password(): String\n}\n\nclass User extends HasPassword {\n  override def password(): String = \"generating a password (default)\"\n}\n\ntrait SecurePassword extends HasPassword {\n  override def password(): String = \"generating a password (non-default)\"\n}\n\nnew User with SecurePassword\n</code></pre>\n\n<p>By being defined in the trait <code>HasPassword</code>, and then overridden (instead of doppleganged or duck-typed) in <code>User</code> and <code>SecurePassword</code>, Scala understands that this is truly the same method being redefined. Thus, when you mix in <code>SecurePassword</code>, it can override the <code>password()</code> method in <code>User</code>.</p>\n"},{"tags":[],"owner":{"account_id":4243,"reputation":1301834,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471968213,"creation_date":1471968213,"answer_id":39105960,"question_id":26811401,"body_markdown":"Note: regarding the error message, there is a pending [issue 128][1] &quot;no ambiguity error when inheriting conflicting member from java default method&quot;\r\n\r\nIt should be resolved in scala 2.12.x by [commit 3a3688f64][2] \r\n\r\n&gt; ## `SD-128` fix override checks for `default` methods\r\n\r\n&gt; The check for inheriting two conflicting members was wrong for default\r\nmethods, leading to a missing error message.\r\n\r\n&gt; We were also not issuing &quot;needs `override&#39; modifier&quot; when overriding a\r\ndefault method.\r\n\r\n\r\n  [1]: https://github.com/scala/scala-dev/issues/128\r\n  [2]: https://github.com/scala/scala/commit/3a3688f64af0755cef5a772d322ac80e08498e54","title":"Scala - override a class method in a trait","body":"<p>Note: regarding the error message, there is a pending <a href=\"https://github.com/scala/scala-dev/issues/128\" rel=\"nofollow\">issue 128</a> \"no ambiguity error when inheriting conflicting member from java default method\"</p>\n\n<p>It should be resolved in scala 2.12.x by <a href=\"https://github.com/scala/scala/commit/3a3688f64af0755cef5a772d322ac80e08498e54\" rel=\"nofollow\">commit 3a3688f64</a> </p>\n\n<blockquote>\n  <h2><code>SD-128</code> fix override checks for <code>default</code> methods</h2>\n  \n  <p>The check for inheriting two conflicting members was wrong for default\n  methods, leading to a missing error message.</p>\n  \n  <p>We were also not issuing \"needs `override' modifier\" when overriding a\n  default method.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":263613,"reputation":1749,"user_id":549296,"accept_rate":80,"display_name":"Michael-7"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686232324,"creation_date":1686231221,"answer_id":76432410,"question_id":26811401,"body_markdown":"I ran into a similar challenge, with the slight difference being I didn&#39;t have control of the `User` class - i.e. it is pulled in from a third-party library. A &quot;self-type&quot; approach worked just fine:\r\n\r\n    class User {\r\n      def password() : String = &quot;generating a password (default)&quot;\r\n    }\r\n    \r\n    trait SecurePasswords { this: User =&gt;\r\n      override def password() : String = &quot;generating a secure password (non-default)&quot;\r\n    }\r\n    \r\n    val a = new User\r\n    val b = new User with SecurePasswords\r\n    \r\n    a.password() // generating a password (default)\r\n    b.password() // generating a secure password (non-default)","title":"Scala - override a class method in a trait","body":"<p>I ran into a similar challenge, with the slight difference being I didn't have control of the <code>User</code> class - i.e. it is pulled in from a third-party library. A &quot;self-type&quot; approach worked just fine:</p>\n<pre><code>class User {\n  def password() : String = &quot;generating a password (default)&quot;\n}\n\ntrait SecurePasswords { this: User =&gt;\n  override def password() : String = &quot;generating a secure password (non-default)&quot;\n}\n\nval a = new User\nval b = new User with SecurePasswords\n\na.password() // generating a password (default)\nb.password() // generating a secure password (non-default)\n</code></pre>\n"}],"owner":{"account_id":107018,"reputation":2451,"user_id":284747,"accept_rate":82,"display_name":"Dmitri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5113,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":26811657,"answer_count":6,"score":7,"last_activity_date":1686232324,"creation_date":1415400549,"question_id":26811401,"body_markdown":"I&#39;m new to Scala (came from Ruby world).\r\n\r\nAnd I was curious about &quot;traits&quot; concept in Scala (which should be ~similar to modules in ruby, if I understand it correctly).\r\n\r\nAnd here&#39;s a use case.\r\n\r\nSuppose I have a class called `User` defined like this:\r\n\r\n    class User {\r\n    \tdef password() : String = &quot;generating a password (default)&quot;\r\n    }\r\n\r\nAnd suppose I have a trait `SecurePasswords` using which I would like to &quot;override&quot; the password method defined in the `User` class.\r\n\r\n    trait SecurePasswords {\r\n    \tdef password() : String = &quot;generating a secure password (non-default)&quot;\r\n    }\r\n\r\nAnd, suppose, I want it to be applicable to instances of the `User` class and not to the entire class itself.\r\n\r\n    val a = new User\r\n    val b = new User with SecurePasswords\r\n    \r\n    a.password() # generating a password (default)\r\n    b.password() # generating a secure password (non-default)\r\n\r\nNow this is an ideal output that I would expect, however, I get different errors like &quot;`anonymous class inherits conflicting members ... (Note: this can be resolved declaring etc etc ...)`&quot;\r\n\r\nCan this be done in Scala or I&#39;m asking too much / doing something really weird?\r\nIs it possible to do w/o any additional class definitions, like `UserWithSecurePassword extends User`\r\n\r\nThank you all in advance!\r\n\r\nP.S In case you are wondering &quot;why?&quot;, just assume that system would contain a lot of entities that require password (and, potentially, secure password), so the trait could be used in a lot of places.","title":"Scala - override a class method in a trait","body":"<p>I'm new to Scala (came from Ruby world).</p>\n\n<p>And I was curious about \"traits\" concept in Scala (which should be ~similar to modules in ruby, if I understand it correctly).</p>\n\n<p>And here's a use case.</p>\n\n<p>Suppose I have a class called <code>User</code> defined like this:</p>\n\n<pre><code>class User {\n    def password() : String = \"generating a password (default)\"\n}\n</code></pre>\n\n<p>And suppose I have a trait <code>SecurePasswords</code> using which I would like to \"override\" the password method defined in the <code>User</code> class.</p>\n\n<pre><code>trait SecurePasswords {\n    def password() : String = \"generating a secure password (non-default)\"\n}\n</code></pre>\n\n<p>And, suppose, I want it to be applicable to instances of the <code>User</code> class and not to the entire class itself.</p>\n\n<pre><code>val a = new User\nval b = new User with SecurePasswords\n\na.password() # generating a password (default)\nb.password() # generating a secure password (non-default)\n</code></pre>\n\n<p>Now this is an ideal output that I would expect, however, I get different errors like \"<code>anonymous class inherits conflicting members ... (Note: this can be resolved declaring etc etc ...)</code>\"</p>\n\n<p>Can this be done in Scala or I'm asking too much / doing something really weird?\nIs it possible to do w/o any additional class definitions, like <code>UserWithSecurePassword extends User</code></p>\n\n<p>Thank you all in advance!</p>\n\n<p>P.S In case you are wondering \"why?\", just assume that system would contain a lot of entities that require password (and, potentially, secure password), so the trait could be used in a lot of places.</p>\n"},{"tags":["java","annotations","micronaut"],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686232121,"creation_date":1686232121,"answer_id":76432552,"question_id":76432524,"body_markdown":"The default (no name specified) argument of an annotation is always the parameter named `value`. So no, they are not equivalent. These are:\r\n\r\n```\r\n@Requires(&quot;environment&quot;)\r\n@Requires(value = &quot;environment&quot;)\r\n```","title":"Micronaut @Requires default declaration","body":"<p>The default (no name specified) argument of an annotation is always the parameter named <code>value</code>. So no, they are not equivalent. These are:</p>\n<pre><code>@Requires(&quot;environment&quot;)\n@Requires(value = &quot;environment&quot;)\n</code></pre>\n"}],"owner":{"account_id":20712417,"reputation":136,"user_id":15208738,"display_name":"frblazquez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76432552,"answer_count":1,"score":1,"last_activity_date":1686232121,"creation_date":1686231977,"question_id":76432524,"body_markdown":"Are `@Requires(&quot;environment&quot;)` and `@Requires(env = &quot;environment&quot;)` equivalent?\r\n\r\nIn case they&#39;re not, which is the behavior of the default declaration of [@Requires][1]?\r\n\r\n\r\n  [1]: https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Requires.html","title":"Micronaut @Requires default declaration","body":"<p>Are <code>@Requires(&quot;environment&quot;)</code> and <code>@Requires(env = &quot;environment&quot;)</code> equivalent?</p>\n<p>In case they're not, which is the behavior of the default declaration of <a href=\"https://docs.micronaut.io/latest/api/io/micronaut/context/annotation/Requires.html\" rel=\"nofollow noreferrer\">@Requires</a>?</p>\n"},{"tags":["java","junit5","micronaut","graalvm","graalvm-native-image"],"owner":{"account_id":28780685,"reputation":11,"user_id":22042372,"display_name":"karmoffle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686231680,"creation_date":1686231680,"question_id":76432479,"body_markdown":"The Gradle plugin for GraalVM provides the task `nativeTest` for running tests on a native image of the application. In my application, this works on MacOS but not on Windows 10 where the build is successful but the tests are skipped without error messages. Instead, the message\r\n```\r\nde.bugged.NativeTestTest &gt; testItWorks() SKIPPED: Test is not bean. Either the test does not satisfy requirements defined by @Requires or annotation processing is not enabled. If the latter ensure annotation processing is enabled in your IDE.\r\n```\r\nis displayed.\r\n\r\nA fresh Micronaut project with the feature `graalvm` enabled comes with a test `testItWorks` but `nativeTest` on Windows 10 skips the test without error message.","title":"GraalVM &#39;nativeTest&#39; not working on Windows 10","body":"<p>The Gradle plugin for GraalVM provides the task <code>nativeTest</code> for running tests on a native image of the application. In my application, this works on MacOS but not on Windows 10 where the build is successful but the tests are skipped without error messages. Instead, the message</p>\n<pre><code>de.bugged.NativeTestTest &gt; testItWorks() SKIPPED: Test is not bean. Either the test does not satisfy requirements defined by @Requires or annotation processing is not enabled. If the latter ensure annotation processing is enabled in your IDE.\n</code></pre>\n<p>is displayed.</p>\n<p>A fresh Micronaut project with the feature <code>graalvm</code> enabled comes with a test <code>testItWorks</code> but <code>nativeTest</code> on Windows 10 skips the test without error message.</p>\n"},{"tags":["java","gradle","jar","bouncycastle","trivy"],"answers":[{"tags":[],"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686217453,"creation_date":1686216232,"answer_id":76430390,"question_id":76430284,"body_markdown":"You can do it locally when you have the Jar file. Create a folder named lib in your project directory to store the Bouncy Castle JAR file. Place the `bcprov-jdk14-1.61.jar` file in the lib folder.\r\n\r\nModify your Gradle script (`build.gradle`) to include the following configuration,The `configurations` block defines a custom configuration named `bouncyCastle`\r\n\r\n    configurations {\r\n        bouncyCastle\r\n    }\r\n    \r\n    dependencies {\r\n        // Other dependencies...\r\n        \r\n        bouncyCastle &#39;org.bouncycastle:bcprov-jdk14:1.61&#39;\r\n    }\r\n    \r\n    task installBouncyCastleJar {\r\n        doLast {\r\n            def bcFile = file(&#39;lib/bcprov-jdk14-1.61.jar&#39;)\r\n            def groupId = &#39;bouncycastle&#39;\r\n            def artifactId = &#39;bcprov-jdk14&#39;\r\n            def version = &#39;161&#39;\r\n            def packaging = &#39;jar&#39;\r\n            \r\n            project.repositories.mavenInstaller.install([\r\n                    file: bcFile,\r\n                    groupId: groupId,\r\n                    artifactId: artifactId,\r\n                    version: version,\r\n                    packaging: packaging\r\n            ])\r\n        }\r\n    }\r\n    \r\n    project.afterEvaluate {\r\n       build.dependsOn(installBouncyCastleJar)\r\n    }\r\n\r\n","title":"How we can do mvn install:install-file for in gradle for 3rd party transient dependencies?","body":"<p>You can do it locally when you have the Jar file. Create a folder named lib in your project directory to store the Bouncy Castle JAR file. Place the <code>bcprov-jdk14-1.61.jar</code> file in the lib folder.</p>\n<p>Modify your Gradle script (<code>build.gradle</code>) to include the following configuration,The <code>configurations</code> block defines a custom configuration named <code>bouncyCastle</code></p>\n<pre><code>configurations {\n    bouncyCastle\n}\n\ndependencies {\n    // Other dependencies...\n    \n    bouncyCastle 'org.bouncycastle:bcprov-jdk14:1.61'\n}\n\ntask installBouncyCastleJar {\n    doLast {\n        def bcFile = file('lib/bcprov-jdk14-1.61.jar')\n        def groupId = 'bouncycastle'\n        def artifactId = 'bcprov-jdk14'\n        def version = '161'\n        def packaging = 'jar'\n        \n        project.repositories.mavenInstaller.install([\n                file: bcFile,\n                groupId: groupId,\n                artifactId: artifactId,\n                version: version,\n                packaging: packaging\n        ])\n    }\n}\n\nproject.afterEvaluate {\n   build.dependsOn(installBouncyCastleJar)\n}\n</code></pre>\n"}],"owner":{"account_id":1956083,"reputation":4432,"user_id":1759063,"accept_rate":53,"display_name":"Eljah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686231357,"creation_date":1686215346,"question_id":76430284,"body_markdown":"We have Bouncycastle dependencies, coming from one dependency and another one. Sothey are something like that:\r\n\r\n`implementation &#39;org.bouncycastle:bcprov-jdk14:1.61&#39;` &lt;- explicitly added\r\n\r\n`&#39;bouncycastle:bcprov-jdk14:138&#39;` &lt;- taken from another dependency\r\n\r\nThey have the different group name, so I can&#39;t just exclude 138. But I can&#39;t inrement it to `161` too, as is hosts nowhere in the repos.\r\n\r\nCan I set up something to my `Gradle` script to \r\n\r\n1. Take `org.bouncycastle:bcprov-jdk14:1.61 jar`\r\n2. Do something like \r\n\r\n     `mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;`\r\n\r\nbut with `Gradle` where I&#39;ll put the desired format like bouncycastle:bcprov-jdk14:161\r\n\r\n3. Only then do the rest of the build?\r\n\r\nUPD\r\n\r\nFor strange reason even broken version of Maneesha&#39;s answer helped  me. I haven&#39;t succeed with the correct placing of the jar file before installing it, but it worked!\r\n\r\n\r\n    configurations {\r\n        bouncyCastle\r\n    }\r\n    \r\n    dependencies {\r\n        // Other dependencies...\r\n        \r\n        bouncyCastle &#39;org.bouncycastle:bcprov-jdk14:1.61&#39;\r\n    }\r\n    \r\n    task installBouncyCastleJar {\r\n        doLast {\r\n            def bcFile = file(&#39;lib/bcprov-jdk14-1.61.jar&#39;)\r\n            def groupId = &#39;bouncycastle&#39;\r\n            def artifactId = &#39;bcprov-jdk14&#39;\r\n            def version = &#39;161&#39;\r\n            def packaging = &#39;jar&#39;\r\n            \r\n            //project.repositories.mavenInstaller.install([\r\n            //        file: bcFile,\r\n            //        groupId: groupId,\r\n            //        artifactId: artifactId,\r\n            //        version: version,\r\n            //        packaging: packaging\r\n            //])\r\n        }\r\n    }\r\n    \r\n    project.afterEvaluate {\r\n       build.dependsOn(installBouncyCastleJar)\r\n    }\r\n\r\nI don&#39;t know how exactly, but using of \r\n\r\n    bouncyCastle &#39;org.bouncycastle:bcprov-jdk14:1.61&#39;\r\n\r\n and `bouncyCastle ` as separate configuration, made that `bouncycastle:bcprov-jdk14:138` has disappeared from the &quot;effective pom&quot; or how it is called for Gradle and disappeared from the jar&#39;s`/lib` folder. So, no actual maven install was needed. Without adding the configuration, no exclusion helped to remove it. ","title":"How we can do mvn install:install-file for in gradle for 3rd party transient dependencies?","body":"<p>We have Bouncycastle dependencies, coming from one dependency and another one. Sothey are something like that:</p>\n<p><code>implementation 'org.bouncycastle:bcprov-jdk14:1.61'</code> &lt;- explicitly added</p>\n<p><code>'bouncycastle:bcprov-jdk14:138'</code> &lt;- taken from another dependency</p>\n<p>They have the different group name, so I can't just exclude 138. But I can't inrement it to <code>161</code> too, as is hosts nowhere in the repos.</p>\n<p>Can I set up something to my <code>Gradle</code> script to</p>\n<ol>\n<li><p>Take <code>org.bouncycastle:bcprov-jdk14:1.61 jar</code></p>\n</li>\n<li><p>Do something like</p>\n<p><code>mvn install:install-file -Dfile=&lt;path-to-file&gt; -DgroupId=&lt;group-id&gt; -DartifactId=&lt;artifact-id&gt; -Dversion=&lt;version&gt; -Dpackaging=&lt;packaging&gt;</code></p>\n</li>\n</ol>\n<p>but with <code>Gradle</code> where I'll put the desired format like bouncycastle:bcprov-jdk14:161</p>\n<ol start=\"3\">\n<li>Only then do the rest of the build?</li>\n</ol>\n<p>UPD</p>\n<p>For strange reason even broken version of Maneesha's answer helped  me. I haven't succeed with the correct placing of the jar file before installing it, but it worked!</p>\n<pre><code>configurations {\n    bouncyCastle\n}\n\ndependencies {\n    // Other dependencies...\n    \n    bouncyCastle 'org.bouncycastle:bcprov-jdk14:1.61'\n}\n\ntask installBouncyCastleJar {\n    doLast {\n        def bcFile = file('lib/bcprov-jdk14-1.61.jar')\n        def groupId = 'bouncycastle'\n        def artifactId = 'bcprov-jdk14'\n        def version = '161'\n        def packaging = 'jar'\n        \n        //project.repositories.mavenInstaller.install([\n        //        file: bcFile,\n        //        groupId: groupId,\n        //        artifactId: artifactId,\n        //        version: version,\n        //        packaging: packaging\n        //])\n    }\n}\n\nproject.afterEvaluate {\n   build.dependsOn(installBouncyCastleJar)\n}\n</code></pre>\n<p>I don't know how exactly, but using of</p>\n<pre><code>bouncyCastle 'org.bouncycastle:bcprov-jdk14:1.61'\n</code></pre>\n<p>and <code>bouncyCastle </code> as separate configuration, made that <code>bouncycastle:bcprov-jdk14:138</code> has disappeared from the &quot;effective pom&quot; or how it is called for Gradle and disappeared from the jar's<code>/lib</code> folder. So, no actual maven install was needed. Without adding the configuration, no exclusion helped to remove it.</p>\n"},{"tags":["java","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"score":3,"creation_date":1619525688,"post_id":67281671,"comment_id":118926916,"body_markdown":"What is your Java version? [javax.annotation.Generated](https://docs.oracle.com/javase/10/docs/api/javax/annotation/Generated.html) seems to exists in Java 10, but no longer in Java 11. I expect you&#39;ll need to add either [JSR 250 Common Annotations For The JavaTM Platform](https://mvnrepository.com/artifact/javax.annotation/jsr250-api) or [Javax Annotation API](https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api)","body":"What is your Java version? <a href=\"https://docs.oracle.com/javase/10/docs/api/javax/annotation/Generated.html\" rel=\"nofollow noreferrer\">javax.annotation.Generated</a> seems to exists in Java 10, but no longer in Java 11. I expect you&#39;ll need to add either <a href=\"https://mvnrepository.com/artifact/javax.annotation/jsr250-api\" rel=\"nofollow noreferrer\">JSR 250 Common Annotations For The JavaTM Platform</a> or <a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"nofollow noreferrer\">Javax Annotation API</a>"}],"answers":[{"tags":[],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1619525989,"creation_date":1619525989,"answer_id":67282931,"question_id":67281671,"body_markdown":"The solution is to run with this command:\r\n\r\n`java -jar swagger-codegen-cli.jar generate -l java -i https://petstore.swagger.io/v2/swagger.json -o petstore\r\n -DhideGenerationTimestamp=true`\r\n\r\nThe option to turn off @javax.annotation.Generated date in Java Classes","title":"Swagger Code Gen - package javax.annotation does not exist","body":"<p>The solution is to run with this command:</p>\n<p><code>java -jar swagger-codegen-cli.jar generate -l java -i https://petstore.swagger.io/v2/swagger.json -o petstore -DhideGenerationTimestamp=true</code></p>\n<p>The option to turn off @javax.annotation.Generated date in Java Classes</p>\n"},{"tags":[],"owner":{"account_id":259136,"reputation":3335,"user_id":541796,"accept_rate":82,"display_name":"Baptiste Pernet"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1686231204,"creation_date":1625870671,"answer_id":68323341,"question_id":67281671,"body_markdown":"Formalizing the comment left by [Scratte][1], if you are using jdk11, you need to add the [dependency][2] explicitly in your dependency management tool\r\n\r\nFor example in maven\r\n\r\n```xml\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n      &lt;version&gt;${javax-annotation-api.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/12695027/scratte\r\n  [2]: https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api","title":"Swagger Code Gen - package javax.annotation does not exist","body":"<p>Formalizing the comment left by <a href=\"https://stackoverflow.com/users/12695027/scratte\">Scratte</a>, if you are using jdk11, you need to add the <a href=\"https://mvnrepository.com/artifact/javax.annotation/javax.annotation-api\" rel=\"nofollow noreferrer\">dependency</a> explicitly in your dependency management tool</p>\n<p>For example in maven</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n      &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n      &lt;version&gt;${javax-annotation-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":412334,"reputation":33758,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10903,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"answer_count":2,"score":9,"last_activity_date":1686231204,"creation_date":1619520826,"question_id":67281671,"body_markdown":"Why is swagger-codegen generating project with missing dependencies? \r\n\r\nRunning:\r\n`java -jar swagger-codegen-cli.jar generate -l java -i swagger.json`\r\n\r\nGenerates a project with this for example:\r\n\r\n```java\r\n@javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.JavaClientCodegen&quot;, date = &quot;2021-04-27T18:37:06.211+08:00&quot;)\r\npublic class Table {\r\n  @SerializedName(&quot;requiredIndexColumns&quot;)\r\n  private List&lt;Column&gt; requiredIndexColumns = null;\r\n```\r\n\r\nWhere `javax.annotation.Generate` cannot be resolved. \r\nAnd then compiling the generated project throws: `Error:(33,18) java: package javax.annotation does not exist`\r\n\r\nHere&#39;s how to test this (using a public swagger):\r\n\r\n```\r\nwget https://repo1.maven.org/maven2/io/swagger/swagger-codegen-cli/2.4.19/swagger-codegen-cli-2.4.19.jar -O swagger-codegen-cli.jar\r\n```\r\nThen run:\r\n```\r\njava -jar swagger-codegen-cli.jar generate -l java -i https://petstore.swagger.io/v2/swagger.json -o petstore\r\n```","title":"Swagger Code Gen - package javax.annotation does not exist","body":"<p>Why is swagger-codegen generating project with missing dependencies?</p>\n<p>Running:\n<code>java -jar swagger-codegen-cli.jar generate -l java -i swagger.json</code></p>\n<p>Generates a project with this for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@javax.annotation.Generated(value = &quot;io.swagger.codegen.languages.JavaClientCodegen&quot;, date = &quot;2021-04-27T18:37:06.211+08:00&quot;)\npublic class Table {\n  @SerializedName(&quot;requiredIndexColumns&quot;)\n  private List&lt;Column&gt; requiredIndexColumns = null;\n</code></pre>\n<p>Where <code>javax.annotation.Generate</code> cannot be resolved.\nAnd then compiling the generated project throws: <code>Error:(33,18) java: package javax.annotation does not exist</code></p>\n<p>Here's how to test this (using a public swagger):</p>\n<pre><code>wget https://repo1.maven.org/maven2/io/swagger/swagger-codegen-cli/2.4.19/swagger-codegen-cli-2.4.19.jar -O swagger-codegen-cli.jar\n</code></pre>\n<p>Then run:</p>\n<pre><code>java -jar swagger-codegen-cli.jar generate -l java -i https://petstore.swagger.io/v2/swagger.json -o petstore\n</code></pre>\n"},{"tags":["java","graph","neo4j"],"answers":[{"tags":[],"owner":{"account_id":4804,"reputation":268579,"user_id":7412,"accept_rate":96,"display_name":"dogbane"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1293093149,"creation_date":1293093149,"answer_id":4517014,"question_id":4516953,"body_markdown":"Take a look at the [Indexing Service][1] which will allow you to index your nodes with key-value pairs. Once you&#39;ve indexed your nodes you can query the graph and retrieve nodes which match a given key-value.\r\n\r\n[1]: http://wiki.neo4j.org/content/Indexing_with_IndexService","title":"how to find a particular node in Neo4j","body":"<p>Take a look at the <a href=\"http://wiki.neo4j.org/content/Indexing_with_IndexService\" rel=\"noreferrer\">Indexing Service</a> which will allow you to index your nodes with key-value pairs. Once you've indexed your nodes you can query the graph and retrieve nodes which match a given key-value.</p>\n"},{"tags":[],"owner":{"account_id":8596267,"reputation":89,"user_id":6439195,"display_name":"Eran.G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686230640,"creation_date":1686230640,"answer_id":76432318,"question_id":4516953,"body_markdown":"If your node type is a FirstName and its ID is &quot;XYZ&quot; you can do it with:\r\n\r\n    MATCH(n:FirstName {ID: &#39;XYZ&#39;}) return n\r\n\r\nthis will return all the nodes with ID = &quot;XYZ&quot;","title":"how to find a particular node in Neo4j","body":"<p>If your node type is a FirstName and its ID is &quot;XYZ&quot; you can do it with:</p>\n<pre><code>MATCH(n:FirstName {ID: 'XYZ'}) return n\n</code></pre>\n<p>this will return all the nodes with ID = &quot;XYZ&quot;</p>\n"}],"owner":{"account_id":244287,"reputation":3651,"user_id":516982,"accept_rate":68,"display_name":"prassee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5056,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":4517014,"answer_count":2,"score":5,"last_activity_date":1686230640,"creation_date":1293092378,"question_id":4516953,"body_markdown":"how to find the particular node using the Neo4j API.When i refereed the docs i got some code to get all nodes However if i have a node called &quot;XYZ&quot; I would like to know how to obtain ONLY that particular node.","title":"how to find a particular node in Neo4j","body":"<p>how to find the particular node using the Neo4j API.When i refereed the docs i got some code to get all nodes However if i have a node called \"XYZ\" I would like to know how to obtain ONLY that particular node.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"score":0,"creation_date":1686221211,"post_id":76430996,"comment_id":134770652,"body_markdown":"it&#39;s a typo :) my object was a little bit too big :) copy paste isn&#39;t a good practice ... I fix the code sample. the implementation is working ... I just wonder if it can be enhanced","body":"it&#39;s a typo :) my object was a little bit too big :) copy paste isn&#39;t a good practice ... I fix the code sample. the implementation is working ... I just wonder if it can be enhanced"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1686221443,"post_id":76430996,"comment_id":134770699,"body_markdown":"If your code works but you are looking for improvements consider posting it on https://codereview.stackexchange.com/ (note: I am NOT saying it is off-topic here since question may be on-topic on many sites).","body":"If your code works but you are looking for improvements consider posting it on <a href=\"https://codereview.stackexchange.com/\">codereview.stackexchange.com</a> (note: I am NOT saying it is off-topic here since question may be on-topic on many sites)."}],"answers":[{"tags":[],"owner":{"account_id":329814,"reputation":11000,"user_id":653539,"accept_rate":50,"display_name":"Tom&#225;š Z&#225;lusk&#253;"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686222026,"creation_date":1686222026,"answer_id":76431148,"question_id":76430996,"body_markdown":"Your solution seems efficient enough to me, what is elegant might be matter of subject. Developers often use `List` when `Set` is more suitable collection (do you really want to access users by index?).\r\n\r\nIf the collections were `Set`s, `User.equals()` method was based only on the `id` field, and you want to emphasize the data of `updatedUsers` override the base data, you could describe result using set operations (yes, these are not part of standard Java - I borrow them from Guava or you can use any other implementation).\r\n\r\n```java\r\nSet&lt;Users&gt; usersSet = new HashSet&lt;&gt;(users);\r\nSet&lt;Users&gt; updatedUsersSet = new HashSet&lt;&gt;(updatedUsers);\r\nSet&lt;Users&gt; output = Sets.union(updatedUsersSet, Sets.difference(usersSet, updatedUsersSet));\r\n```\r\n\r\nThe problem is shifted to higher level of abstraction which I admit not everyone must like.\r\n","title":"Using stream to merge two list with updated values","body":"<p>Your solution seems efficient enough to me, what is elegant might be matter of subject. Developers often use <code>List</code> when <code>Set</code> is more suitable collection (do you really want to access users by index?).</p>\n<p>If the collections were <code>Set</code>s, <code>User.equals()</code> method was based only on the <code>id</code> field, and you want to emphasize the data of <code>updatedUsers</code> override the base data, you could describe result using set operations (yes, these are not part of standard Java - I borrow them from Guava or you can use any other implementation).</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;Users&gt; usersSet = new HashSet&lt;&gt;(users);\nSet&lt;Users&gt; updatedUsersSet = new HashSet&lt;&gt;(updatedUsers);\nSet&lt;Users&gt; output = Sets.union(updatedUsersSet, Sets.difference(usersSet, updatedUsersSet));\n</code></pre>\n<p>The problem is shifted to higher level of abstraction which I admit not everyone must like.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686229599,"creation_date":1686225238,"answer_id":76431595,"question_id":76430996,"body_markdown":"Streams are very useful in many circumstances.  But they also incur quite a bit of overhead.  Just use a little imperative programming to do the same thing.  \r\n\r\nYou are creating a new user and placing it in a list. The busy work is done. Since the updated user has been created and there is no way to tell if the user is a new user or an updated user, just add it to the map normally. It will either be added as a new user or replace an existing one.\r\n```\r\nMap&lt;Integer, User&gt; userMap = new HashMap&lt;&gt;();\r\n \r\nfor(User user : users) {\r\n    userMap.put(user.getId(), user);\r\n}\r\n       \r\nfor(User user : updatedUsers) {\r\n    userMap.put(user.getId(), user);\r\n}\r\n```\r\nNow you can get the updated map entries by user id.\r\n\r\nNote: You many want to institute some syntax/invariant checking when creating the User instance. For example:\r\n- user id out of range\r\n- email syntax error\r\n\r\nYou can always retrieve the users as a list as follows.\r\n```\r\nList&lt;User&gt; userList = new ArrayList&lt;&gt;(userMap.values());\r\n```\r\nIf for some reason, you need to verify that a user is in the map before taking action, you can see if the user&#39;s id is already there.\r\n```\r\nif (userMap.containsKey(userId)) {\r\n  ...\r\n}","title":"Using stream to merge two list with updated values","body":"<p>Streams are very useful in many circumstances.  But they also incur quite a bit of overhead.  Just use a little imperative programming to do the same thing.</p>\n<p>You are creating a new user and placing it in a list. The busy work is done. Since the updated user has been created and there is no way to tell if the user is a new user or an updated user, just add it to the map normally. It will either be added as a new user or replace an existing one.</p>\n<pre><code>Map&lt;Integer, User&gt; userMap = new HashMap&lt;&gt;();\n \nfor(User user : users) {\n    userMap.put(user.getId(), user);\n}\n       \nfor(User user : updatedUsers) {\n    userMap.put(user.getId(), user);\n}\n</code></pre>\n<p>Now you can get the updated map entries by user id.</p>\n<p>Note: You many want to institute some syntax/invariant checking when creating the User instance. For example:</p>\n<ul>\n<li>user id out of range</li>\n<li>email syntax error</li>\n</ul>\n<p>You can always retrieve the users as a list as follows.</p>\n<pre><code>List&lt;User&gt; userList = new ArrayList&lt;&gt;(userMap.values());\n</code></pre>\n<p>If for some reason, you need to verify that a user is in the map before taking action, you can see if the user's id is already there.</p>\n<pre><code>if (userMap.containsKey(userId)) {\n  ...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686226257,"creation_date":1686226257,"answer_id":76431737,"question_id":76430996,"body_markdown":"You could maybe give it a tidier look by `import`ing `static`. Also, rather than iterating each collection to add to a combined `Map`, you could use the combining `Map` as a `Supplier`:\r\n\r\n    Map&lt;Integer, User&gt; updatedUsersMap = updatedUsers.stream().\r\n        collect(toMap(\r\n                    User::getId,\r\n                    identity(),\r\n                    (k, v) -&gt;v,\r\n                    ()-&gt; { return usersMap; }));","title":"Using stream to merge two list with updated values","body":"<p>You could maybe give it a tidier look by <code>import</code>ing <code>static</code>. Also, rather than iterating each collection to add to a combined <code>Map</code>, you could use the combining <code>Map</code> as a <code>Supplier</code>:</p>\n<pre><code>Map&lt;Integer, User&gt; updatedUsersMap = updatedUsers.stream().\n    collect(toMap(\n                User::getId,\n                identity(),\n                (k, v) -&gt;v,\n                ()-&gt; { return usersMap; }));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686230578,"creation_date":1686230578,"answer_id":76432307,"question_id":76430996,"body_markdown":"You can do it in one go without creating intermediate maps if you concat the stream of users and updated users and collecting the second value if you encounter a duplicate key:\r\n\r\n    List&lt;User&gt; result = new ArrayList&lt;&gt;(\r\n            Stream.concat(users.stream(), updatedUsers.stream())\r\n                  .collect(Collectors.toMap(User::getId, \r\n                                            Function.identity(),\r\n                                            (first,second) -&gt; second)).values());","title":"Using stream to merge two list with updated values","body":"<p>You can do it in one go without creating intermediate maps if you concat the stream of users and updated users and collecting the second value if you encounter a duplicate key:</p>\n<pre><code>List&lt;User&gt; result = new ArrayList&lt;&gt;(\n        Stream.concat(users.stream(), updatedUsers.stream())\n              .collect(Collectors.toMap(User::getId, \n                                        Function.identity(),\n                                        (first,second) -&gt; second)).values());\n</code></pre>\n"}],"owner":{"account_id":11634705,"reputation":1396,"user_id":8521515,"accept_rate":41,"display_name":"davidvera"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1686230578,"creation_date":1686220735,"question_id":76430996,"body_markdown":"Is there a more elegant way to merge two lists in a 3rd one which take values from one and take values from second if the value is updated ? \r\n\r\nTo be clearer, let&#39;s consider I have 2 lists of users: \r\n\r\n\r\n    List&lt;User&gt; users = Arrays.asList(\r\n            User.builder()\r\n                .id(1).surname(&quot;john&quot;).build(),\r\n            User.builder()\r\n                .id(2).surname(&quot;paul&quot;).build(),\r\n            User.builder()\r\n                .id(3).surname(&quot;george&quot;).build(),\r\n            User.builder()\r\n                .id(4).surname(&quot;walter&quot;).build());\r\n\r\n\r\n    List&lt;User&gt; updatedUsers = Arrays.asList(\r\n            User.builder()\r\n                .id(1).surname(&quot;john&quot;).email(&quot;myEmail@email.com&quot;).build(),\r\n            User.builder()\r\n                .id(2).surname(&quot;paul&quot;).email(&quot;myEmail@email.com&quot;).build());\r\n\r\n\r\nI&#39;m expecting to get a list containing all users and common users replaced by the updated values. \r\n\r\nI used the following code to implement the expected output: \r\n\r\n    Map&lt;Integer, User&gt; usersMap = users.stream()\r\n            .collect(Collectors.toMap(User::getId, Function.identity()));\r\n    Map&lt;Integer, User&gt; updatedUsersMap = updatedUsers.stream()\r\n            .collect(Collectors.toMap(User::getId, Function.identity()));\r\n\r\n\r\n    usersMap.putAll(updatedUsersMap);\r\n    List&lt;User&gt; output = usersMap.values().stream().toList();\r\n\r\nI do have the expected result and I just wonder if there&#39;s another way to do it using stream, more efficient and elegant. \r\nThanks ! ","title":"Using stream to merge two list with updated values","body":"<p>Is there a more elegant way to merge two lists in a 3rd one which take values from one and take values from second if the value is updated ?</p>\n<p>To be clearer, let's consider I have 2 lists of users:</p>\n<pre><code>List&lt;User&gt; users = Arrays.asList(\n        User.builder()\n            .id(1).surname(&quot;john&quot;).build(),\n        User.builder()\n            .id(2).surname(&quot;paul&quot;).build(),\n        User.builder()\n            .id(3).surname(&quot;george&quot;).build(),\n        User.builder()\n            .id(4).surname(&quot;walter&quot;).build());\n\n\nList&lt;User&gt; updatedUsers = Arrays.asList(\n        User.builder()\n            .id(1).surname(&quot;john&quot;).email(&quot;myEmail@email.com&quot;).build(),\n        User.builder()\n            .id(2).surname(&quot;paul&quot;).email(&quot;myEmail@email.com&quot;).build());\n</code></pre>\n<p>I'm expecting to get a list containing all users and common users replaced by the updated values.</p>\n<p>I used the following code to implement the expected output:</p>\n<pre><code>Map&lt;Integer, User&gt; usersMap = users.stream()\n        .collect(Collectors.toMap(User::getId, Function.identity()));\nMap&lt;Integer, User&gt; updatedUsersMap = updatedUsers.stream()\n        .collect(Collectors.toMap(User::getId, Function.identity()));\n\n\nusersMap.putAll(updatedUsersMap);\nList&lt;User&gt; output = usersMap.values().stream().toList();\n</code></pre>\n<p>I do have the expected result and I just wonder if there's another way to do it using stream, more efficient and elegant.\nThanks !</p>\n"},{"tags":["java","performance","apache-spark","spark-streaming","spark-streaming-kafka"],"owner":{"account_id":28780423,"reputation":1,"user_id":22042152,"display_name":"Ivan Murray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686230343,"creation_date":1686230343,"question_id":76432274,"body_markdown":"We are seeing an issue with executors being evicted on our spark streaming application. We are doing native spark aggregation from a kafka stream using watermarking \r\n\r\n\r\n``` \r\nspark.readStream() \r\n.format(&quot;kafka&quot;) \r\n.withWatermark( &quot;watermarked_timestamp&quot;, LATENESS_THRESHOL) \r\n.dropDuplicates(METADATA_COL_MR_ID, &quot;watermarked_timestamp&quot;); \r\n\r\n.writeStream() \r\n.option(&quot;checkpointLocation&quot;, LOC) \r\n.outputMode(OutputMode.Append()) \r\n.foreachBatch( \r\n``` \r\n\r\nThis is a long running stream, and we are seeing executors being evicted from the app. The executors are marked as KILLED and we get an error code 137 on the driver. We see the memory usage on the executor process, growing over time. We have examined the heap and it seems to be fine – profiling the process, we see nothing untoward and we are not using all the heap, nor are we core-dumping OOM’s. It looks to us like the spark or our kernel on the pod is evicting the executor process after it grows to a certain number. \r\n\r\nHere is the sample profile and we see nothing untoward there:\r\n\r\n[enter image description here](https://i.stack.imgur.com/i3qA1.png)\r\n\r\nThe main problem is the growth in what seems to be memory usage of the executor outside of the heap. We seem to be using a lot more memory by the executor that is outside of the heap and have no idea where that Memory is being used. We grow to 7G even though our XmX on the process is set to 2G. \r\n\r\nThere is a RocksDb native spark implement being used so state directories are being written to disk. Some SST files are being left around as, we believe, when we drop the executor, these SST files are not being cleaned up.","title":"Spark structured stream aggregation - Evicted Executors – does not seem to be heap related","body":"<p>We are seeing an issue with executors being evicted on our spark streaming application. We are doing native spark aggregation from a kafka stream using watermarking</p>\n<pre><code>spark.readStream() \n.format(&quot;kafka&quot;) \n.withWatermark( &quot;watermarked_timestamp&quot;, LATENESS_THRESHOL) \n.dropDuplicates(METADATA_COL_MR_ID, &quot;watermarked_timestamp&quot;); \n\n.writeStream() \n.option(&quot;checkpointLocation&quot;, LOC) \n.outputMode(OutputMode.Append()) \n.foreachBatch( \n</code></pre>\n<p>This is a long running stream, and we are seeing executors being evicted from the app. The executors are marked as KILLED and we get an error code 137 on the driver. We see the memory usage on the executor process, growing over time. We have examined the heap and it seems to be fine – profiling the process, we see nothing untoward and we are not using all the heap, nor are we core-dumping OOM’s. It looks to us like the spark or our kernel on the pod is evicting the executor process after it grows to a certain number.</p>\n<p>Here is the sample profile and we see nothing untoward there:</p>\n<p><a href=\"https://i.stack.imgur.com/i3qA1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>The main problem is the growth in what seems to be memory usage of the executor outside of the heap. We seem to be using a lot more memory by the executor that is outside of the heap and have no idea where that Memory is being used. We grow to 7G even though our XmX on the process is set to 2G.</p>\n<p>There is a RocksDb native spark implement being used so state directories are being written to disk. Some SST files are being left around as, we believe, when we drop the executor, these SST files are not being cleaned up.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"score":0,"creation_date":1686221385,"post_id":76430890,"comment_id":134770686,"body_markdown":"could you implement the equals and hashcode for the embedded id and your main entity and try again ?","body":"could you implement the equals and hashcode for the embedded id and your main entity and try again ?"},{"owner":{"account_id":22649232,"reputation":1287,"user_id":16824146,"display_name":"mr.Penguin"},"score":0,"creation_date":1686221838,"post_id":76430890,"comment_id":134770772,"body_markdown":"also I advice you to use Lombok to reduce the amount of boiler plate code you did to create a builder","body":"also I advice you to use Lombok to reduce the amount of boiler plate code you did to create a builder"},{"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"score":1,"creation_date":1686229285,"post_id":76430890,"comment_id":134772410,"body_markdown":"Thanks mr.Penguin for your comments, I have tried it but it doesn&#39;t seem to solve the issue. Annotating my Test class as @Transactional seem to do the work though!","body":"Thanks mr.Penguin for your comments, I have tried it but it doesn&#39;t seem to solve the issue. Annotating my Test class as @Transactional seem to do the work though!"}],"answers":[{"tags":[],"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686230198,"creation_date":1686224574,"answer_id":76431517,"question_id":76430890,"body_markdown":"While I could not reproduce the issue with spring-boot:3/jakarta.perstistence(,hibernate:6),\r\n\r\nswitching to spring-boot:2/javax.persistence immediately *hit*!\r\n\r\n(Quick) Solution:\r\n```lang-java\r\n@Test\r\n@org.springframework.transaction.annotation.Transactional // !\r\n```\r\n...(tracing) sql and params seemed correct, so the problem must be somewhere in transaction propagation/flushing.\r\n\r\nReasons:\r\n(Well hidden) in the release notes/version diff between spring-boot 2 and 3/ hibernate 5 vs 6... spring(-boot)-test(!)...","title":"Spring boot JPA, entity with @EmbeddedId - findyById method is not working","body":"<p>While I could not reproduce the issue with spring-boot:3/jakarta.perstistence(,hibernate:6),</p>\n<p>switching to spring-boot:2/javax.persistence immediately <em>hit</em>!</p>\n<p>(Quick) Solution:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@org.springframework.transaction.annotation.Transactional // !\n</code></pre>\n<p>...(tracing) sql and params seemed correct, so the problem must be somewhere in transaction propagation/flushing.</p>\n<p>Reasons:\n(Well hidden) in the release notes/version diff between spring-boot 2 and 3/ hibernate 5 vs 6... spring(-boot)-test(!)...</p>\n"}],"owner":{"account_id":1451863,"reputation":587,"user_id":1368548,"accept_rate":69,"display_name":"thanili"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76431517,"answer_count":1,"score":2,"last_activity_date":1686230198,"creation_date":1686219823,"question_id":76430890,"body_markdown":"I am trying to use the CrudRepository&#39;s findById method to get an object from the database by it&#39;s id. The id of the main entity is a composite key, utilized by an @Embeadable class including all the properties.\r\n\r\nHere are the details of my current implementation:\r\n\r\nHere is the main entity class (InitialMoneyCount):\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    @EqualsAndHashCode\r\n    public class InitialMoneyCount {\r\n        @EmbeddedId\r\n        @NonNull\r\n        private InitialMoneyCountId initialMoneyCountId;\r\n        @NonNull\r\n        private BigDecimal amount;\r\n        @NonNull\r\n        private BigDecimal amountSystemCurrency;\r\n        @NonNull\r\n        private String currency;\r\n    \r\n        // Default constructor\r\n        public InitialMoneyCount() {\r\n        }\r\n    \r\n        // Constructor with all properties\r\n        public InitialMoneyCount(InitialMoneyCountId initialMoneyCountId, BigDecimal amount,\r\n                                 BigDecimal amountSystemCurrency, String currency) {\r\n            this.initialMoneyCountId = initialMoneyCountId;\r\n            this.amount = amount;\r\n            this.amountSystemCurrency = amountSystemCurrency;\r\n            this.currency = currency;\r\n        }\r\n    \r\n        // Builder\r\n        public static InitialMoneyCountBuilder builder() {\r\n            return new InitialMoneyCountBuilder();\r\n        }\r\n    \r\n        public static class InitialMoneyCountBuilder {\r\n            private InitialMoneyCountId initialMoneyCountId;\r\n            private BigDecimal amount;\r\n            private BigDecimal amountSystemCurrency;\r\n            private String currency;\r\n    \r\n            public InitialMoneyCountBuilder initialMoneyCountId(InitialMoneyCountId initialMoneyCountId) {\r\n                this.initialMoneyCountId = initialMoneyCountId;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountBuilder amount(BigDecimal amount) {\r\n                this.amount = amount;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountBuilder amountSystemCurrency(BigDecimal amountSystemCurrency) {\r\n                this.amountSystemCurrency = amountSystemCurrency;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountBuilder currency(String currency) {\r\n                this.currency = currency;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCount build() {\r\n                return new InitialMoneyCount(initialMoneyCountId, amount, amountSystemCurrency, currency);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the primary key @Embeddable class:\r\n\r\n    @EqualsAndHashCode\r\n    @Embeddable\r\n    @Getter\r\n    public class InitialMoneyCountId implements Serializable {\r\n        @NonNull\r\n        private UUID posTerminalId;\r\n        @NonNull\r\n        private UUID cashierId;\r\n        @NonNull\r\n        private UUID cashDrawerId;\r\n        @NonNull\r\n        private LocalDate bookingDate;\r\n        @NonNull\r\n        private Integer bookingPeriod;\r\n        @NonNull\r\n        private UUID paymentMethodId;\r\n    \r\n        // Default constructor\r\n        public InitialMoneyCountId() {\r\n        }\r\n    \r\n        // Constructor with all properties\r\n        public InitialMoneyCountId(UUID posTerminalId, UUID cashierId, UUID cashDrawerId,\r\n                                   LocalDate bookingDate, Integer bookingPeriod, UUID paymentMethodId) {\r\n            this.posTerminalId = posTerminalId;\r\n            this.cashierId = cashierId;\r\n            this.cashDrawerId = cashDrawerId;\r\n            this.bookingDate = bookingDate;\r\n            this.bookingPeriod = bookingPeriod;\r\n            this.paymentMethodId = paymentMethodId;\r\n        }\r\n    \r\n        // Builder\r\n        public static InitialMoneyCountIdBuilder builder() {\r\n            return new InitialMoneyCountIdBuilder();\r\n        }\r\n    \r\n        public static class InitialMoneyCountIdBuilder {\r\n            private UUID posTerminalId;\r\n            private UUID cashierId;\r\n            private UUID cashDrawerId;\r\n            private LocalDate bookingDate;\r\n            private Integer bookingPeriod;\r\n            private UUID paymentMethodId;\r\n    \r\n            public InitialMoneyCountIdBuilder posTerminalId(UUID posTerminalId) {\r\n                this.posTerminalId = posTerminalId;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountIdBuilder cashierId(UUID cashierId) {\r\n                this.cashierId = cashierId;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountIdBuilder cashDrawerId(UUID cashDrawerId) {\r\n                this.cashDrawerId = cashDrawerId;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountIdBuilder bookingDate(LocalDate bookingDate) {\r\n                this.bookingDate = bookingDate;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountIdBuilder bookingPeriod(Integer bookingPeriod) {\r\n                this.bookingPeriod = bookingPeriod;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountIdBuilder paymentMethodId(UUID paymentMethodId) {\r\n                this.paymentMethodId = paymentMethodId;\r\n                return this;\r\n            }\r\n    \r\n            public InitialMoneyCountId build() {\r\n                return new InitialMoneyCountId(posTerminalId, cashierId, cashDrawerId,\r\n                        bookingDate, bookingPeriod, paymentMethodId);\r\n            }\r\n        }\r\n    }\r\n\r\nHere is the JpaRepository interface definition:\r\n\r\n    @Repository\r\n    public interface InitialMoneyCountRepository extends JpaRepository&lt;InitialMoneyCount, InitialMoneyCountId&gt; {}\r\n\r\nAnd here is a test for findById(InitialMoneyCountId id):\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = &quot;spring.h2.console.enabled=true&quot;)\r\n    public class InitialMoneyCountRepositoryTest {\r\n        @Autowired\r\n        SampleDataGenerator sampleDataGenerator;\r\n        @Autowired\r\n        InitialMoneyCountRepository initialMoneyCountRepository;\r\n    \r\n        @AfterEach\r\n        public void resetDatabase_AfterEach() {\r\n            initialMoneyCountRepository.deleteAll();\r\n        }\r\n    \r\n        @After\r\n        public void resetDatabase_After() {\r\n            initialMoneyCountRepository.deleteAll();\r\n        }\r\n    \r\n        @Before\r\n        public void resetDatabase_Before() {\r\n            initialMoneyCountRepository.deleteAll();\r\n        }\r\n    \r\n        @Test\r\n        public void findById_sucess() {\r\n            InitialMoneyCountId initialMoneyCountId = InitialMoneyCountId.builder()\r\n                    .posTerminalId(UUID.randomUUID())\r\n                    .cashDrawerId(UUID.randomUUID())\r\n                    .cashierId(UUID.randomUUID())\r\n                    .bookingDate(LocalDate.now())\r\n                    .bookingPeriod(5)\r\n                    .paymentMethodId(UUID.randomUUID())\r\n                    .build();\r\n            InitialMoneyCount initialMoneyCount = InitialMoneyCount.builder()\r\n                    .initialMoneyCountId(initialMoneyCountId)\r\n                    .amount(BigDecimal.valueOf(555.55))\r\n                    .amountSystemCurrency(BigDecimal.valueOf(55.555))\r\n                    .currency(Currency.EUR.value())\r\n                    .build();\r\n            InitialMoneyCount savedInitialMoneyCount = initialMoneyCountRepository.save(initialMoneyCount);\r\n            Optional&lt;InitialMoneyCount&gt; imc = initialMoneyCountRepository.findById(initialMoneyCountId);\r\n            Assertions.assertTrue(imc.isPresent());\r\n        }\r\n    }\r\n\r\nHowever I am not able to find the object by it&#39;s id. This is the exception I am getting:\r\n\r\n    expected: &lt;true&gt; but was: &lt;false&gt;\r\n    Comparison Failure: \r\n    Expected :true\r\n    Actual   :false\r\n    &lt;Click to see difference&gt;\r\n    \r\n    org.springframework.orm.ObjectOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from initial_money_count where booking_date=? and booking_period=? and cash_drawer_id=? and cashier_id=? and payment_method_id=? and pos_terminal_id=?; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from initial_money_count where booking_date=? and booking_period=? and cash_drawer_id=? and cashier_id=? and payment_method_id=? and pos_terminal_id=?\r\n\r\nAny ideas of what I am missing here?\r\n\r\nI suppose that CrudRepository&#39;s findById method works for @Embeadable composite Ids, correct?","title":"Spring boot JPA, entity with @EmbeddedId - findyById method is not working","body":"<p>I am trying to use the CrudRepository's findById method to get an object from the database by it's id. The id of the main entity is a composite key, utilized by an @Embeadable class including all the properties.</p>\n<p>Here are the details of my current implementation:</p>\n<p>Here is the main entity class (InitialMoneyCount):</p>\n<pre><code>@Entity\n@Getter\n@Setter\n@EqualsAndHashCode\npublic class InitialMoneyCount {\n    @EmbeddedId\n    @NonNull\n    private InitialMoneyCountId initialMoneyCountId;\n    @NonNull\n    private BigDecimal amount;\n    @NonNull\n    private BigDecimal amountSystemCurrency;\n    @NonNull\n    private String currency;\n\n    // Default constructor\n    public InitialMoneyCount() {\n    }\n\n    // Constructor with all properties\n    public InitialMoneyCount(InitialMoneyCountId initialMoneyCountId, BigDecimal amount,\n                             BigDecimal amountSystemCurrency, String currency) {\n        this.initialMoneyCountId = initialMoneyCountId;\n        this.amount = amount;\n        this.amountSystemCurrency = amountSystemCurrency;\n        this.currency = currency;\n    }\n\n    // Builder\n    public static InitialMoneyCountBuilder builder() {\n        return new InitialMoneyCountBuilder();\n    }\n\n    public static class InitialMoneyCountBuilder {\n        private InitialMoneyCountId initialMoneyCountId;\n        private BigDecimal amount;\n        private BigDecimal amountSystemCurrency;\n        private String currency;\n\n        public InitialMoneyCountBuilder initialMoneyCountId(InitialMoneyCountId initialMoneyCountId) {\n            this.initialMoneyCountId = initialMoneyCountId;\n            return this;\n        }\n\n        public InitialMoneyCountBuilder amount(BigDecimal amount) {\n            this.amount = amount;\n            return this;\n        }\n\n        public InitialMoneyCountBuilder amountSystemCurrency(BigDecimal amountSystemCurrency) {\n            this.amountSystemCurrency = amountSystemCurrency;\n            return this;\n        }\n\n        public InitialMoneyCountBuilder currency(String currency) {\n            this.currency = currency;\n            return this;\n        }\n\n        public InitialMoneyCount build() {\n            return new InitialMoneyCount(initialMoneyCountId, amount, amountSystemCurrency, currency);\n        }\n    }\n}\n</code></pre>\n<p>Here is the primary key @Embeddable class:</p>\n<pre><code>@EqualsAndHashCode\n@Embeddable\n@Getter\npublic class InitialMoneyCountId implements Serializable {\n    @NonNull\n    private UUID posTerminalId;\n    @NonNull\n    private UUID cashierId;\n    @NonNull\n    private UUID cashDrawerId;\n    @NonNull\n    private LocalDate bookingDate;\n    @NonNull\n    private Integer bookingPeriod;\n    @NonNull\n    private UUID paymentMethodId;\n\n    // Default constructor\n    public InitialMoneyCountId() {\n    }\n\n    // Constructor with all properties\n    public InitialMoneyCountId(UUID posTerminalId, UUID cashierId, UUID cashDrawerId,\n                               LocalDate bookingDate, Integer bookingPeriod, UUID paymentMethodId) {\n        this.posTerminalId = posTerminalId;\n        this.cashierId = cashierId;\n        this.cashDrawerId = cashDrawerId;\n        this.bookingDate = bookingDate;\n        this.bookingPeriod = bookingPeriod;\n        this.paymentMethodId = paymentMethodId;\n    }\n\n    // Builder\n    public static InitialMoneyCountIdBuilder builder() {\n        return new InitialMoneyCountIdBuilder();\n    }\n\n    public static class InitialMoneyCountIdBuilder {\n        private UUID posTerminalId;\n        private UUID cashierId;\n        private UUID cashDrawerId;\n        private LocalDate bookingDate;\n        private Integer bookingPeriod;\n        private UUID paymentMethodId;\n\n        public InitialMoneyCountIdBuilder posTerminalId(UUID posTerminalId) {\n            this.posTerminalId = posTerminalId;\n            return this;\n        }\n\n        public InitialMoneyCountIdBuilder cashierId(UUID cashierId) {\n            this.cashierId = cashierId;\n            return this;\n        }\n\n        public InitialMoneyCountIdBuilder cashDrawerId(UUID cashDrawerId) {\n            this.cashDrawerId = cashDrawerId;\n            return this;\n        }\n\n        public InitialMoneyCountIdBuilder bookingDate(LocalDate bookingDate) {\n            this.bookingDate = bookingDate;\n            return this;\n        }\n\n        public InitialMoneyCountIdBuilder bookingPeriod(Integer bookingPeriod) {\n            this.bookingPeriod = bookingPeriod;\n            return this;\n        }\n\n        public InitialMoneyCountIdBuilder paymentMethodId(UUID paymentMethodId) {\n            this.paymentMethodId = paymentMethodId;\n            return this;\n        }\n\n        public InitialMoneyCountId build() {\n            return new InitialMoneyCountId(posTerminalId, cashierId, cashDrawerId,\n                    bookingDate, bookingPeriod, paymentMethodId);\n        }\n    }\n}\n</code></pre>\n<p>Here is the JpaRepository interface definition:</p>\n<pre><code>@Repository\npublic interface InitialMoneyCountRepository extends JpaRepository&lt;InitialMoneyCount, InitialMoneyCountId&gt; {}\n</code></pre>\n<p>And here is a test for findById(InitialMoneyCountId id):</p>\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT, properties = &quot;spring.h2.console.enabled=true&quot;)\npublic class InitialMoneyCountRepositoryTest {\n    @Autowired\n    SampleDataGenerator sampleDataGenerator;\n    @Autowired\n    InitialMoneyCountRepository initialMoneyCountRepository;\n\n    @AfterEach\n    public void resetDatabase_AfterEach() {\n        initialMoneyCountRepository.deleteAll();\n    }\n\n    @After\n    public void resetDatabase_After() {\n        initialMoneyCountRepository.deleteAll();\n    }\n\n    @Before\n    public void resetDatabase_Before() {\n        initialMoneyCountRepository.deleteAll();\n    }\n\n    @Test\n    public void findById_sucess() {\n        InitialMoneyCountId initialMoneyCountId = InitialMoneyCountId.builder()\n                .posTerminalId(UUID.randomUUID())\n                .cashDrawerId(UUID.randomUUID())\n                .cashierId(UUID.randomUUID())\n                .bookingDate(LocalDate.now())\n                .bookingPeriod(5)\n                .paymentMethodId(UUID.randomUUID())\n                .build();\n        InitialMoneyCount initialMoneyCount = InitialMoneyCount.builder()\n                .initialMoneyCountId(initialMoneyCountId)\n                .amount(BigDecimal.valueOf(555.55))\n                .amountSystemCurrency(BigDecimal.valueOf(55.555))\n                .currency(Currency.EUR.value())\n                .build();\n        InitialMoneyCount savedInitialMoneyCount = initialMoneyCountRepository.save(initialMoneyCount);\n        Optional&lt;InitialMoneyCount&gt; imc = initialMoneyCountRepository.findById(initialMoneyCountId);\n        Assertions.assertTrue(imc.isPresent());\n    }\n}\n</code></pre>\n<p>However I am not able to find the object by it's id. This is the exception I am getting:</p>\n<pre><code>expected: &lt;true&gt; but was: &lt;false&gt;\nComparison Failure: \nExpected :true\nActual   :false\n&lt;Click to see difference&gt;\n\norg.springframework.orm.ObjectOptimisticLockingFailureException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from initial_money_count where booking_date=? and booking_period=? and cash_drawer_id=? and cashier_id=? and payment_method_id=? and pos_terminal_id=?; nested exception is org.hibernate.StaleStateException: Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1; statement executed: delete from initial_money_count where booking_date=? and booking_period=? and cash_drawer_id=? and cashier_id=? and payment_method_id=? and pos_terminal_id=?\n</code></pre>\n<p>Any ideas of what I am missing here?</p>\n<p>I suppose that CrudRepository's findById method works for @Embeadable composite Ids, correct?</p>\n"},{"tags":["java","android","kotlin","artifactory","worldwind"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1686257090,"post_id":76431425,"comment_id":134778120,"body_markdown":"The documentation seems to be outdated. As the project is hosted on GitHub you could use jitpack.io to use the GitHub repo as artifact if you want the latest snapshot https://github.com/NASAWorldWind/WorldWindAndroid","body":"The documentation seems to be outdated. As the project is hosted on GitHub you could use jitpack.io to use the GitHub repo as artifact if you want the latest snapshot <a href=\"https://github.com/NASAWorldWind/WorldWindAndroid\" rel=\"nofollow noreferrer\">github.com/NASAWorldWind/WorldWindAndroid</a>"}],"answers":[{"tags":[],"owner":{"account_id":16696756,"reputation":1241,"user_id":12737399,"display_name":"Atick Faisal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686230140,"creation_date":1686230140,"answer_id":76432253,"question_id":76431425,"body_markdown":"You can get the 0.8.0 version from `jcenter()`:\r\n```kotlin\r\n// settings.gradle\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter()\r\n    }\r\n}\r\n\r\n// app build.gradle\r\nimplementation(&quot;gov.nasa.worldwind.android:worldwind:0.8.0&quot;)\r\n```\r\nI think the repository has been [discontinued][1].\r\n\r\n\r\n  [1]: https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/","title":"How to import an artifactory repository (ie: worldwind) inside an Android project?","body":"<p>You can get the 0.8.0 version from <code>jcenter()</code>:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// settings.gradle\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        jcenter()\n    }\n}\n\n// app build.gradle\nimplementation(&quot;gov.nasa.worldwind.android:worldwind:0.8.0&quot;)\n</code></pre>\n<p>I think the repository has been <a href=\"https://jfrog.com/blog/into-the-sunset-bintray-jcenter-gocenter-and-chartcenter/\" rel=\"nofollow noreferrer\">discontinued</a>.</p>\n"}],"owner":{"account_id":7365669,"reputation":5074,"user_id":5607457,"accept_rate":48,"display_name":"Greelings"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76432253,"answer_count":1,"score":0,"last_activity_date":1686230140,"creation_date":1686223988,"question_id":76431425,"body_markdown":"I followed the [documentation][1] to import WorldWind inside my project :\r\n\r\n&gt; repositories {\r\n&gt;     maven {\r\n&gt;         url &#39;https://oss.jfrog.org/artifactory/oss-snapshot-local&#39;\r\n&gt;     } }\r\n&gt; \r\n&gt; ...\r\n&gt; \r\n&gt; compile &#39;gov.nasa.worldwind.android:worldwind:0.9.0-SNAPSHOT&#39;\r\n\r\nHowever it throws me this exception :\r\n\r\n&gt; Caused by:\r\n&gt; org.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\r\n&gt; Could not resolve all files for configuration\r\n&gt; &#39;:app:debugCompileClasspath&#39;.\r\n\r\nHere is my **settings.gradle** file :\r\n\r\n    pluginManagement {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n        }\r\n    }\r\n    dependencyResolutionManagement {\r\n        repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n            maven{ url &#39;https://oss.jfrog.org/artifactory/oss-snapshot-local&#39;}\r\n        }\r\n    }\r\n    rootProject.name = &quot;WorldWind&quot;\r\n    include &#39;:app&#39;\r\n\r\nAnd my **build.gradle** file :\r\n\r\n    ...\r\n    \r\n    dependencies {\r\n        implementation &#39;androidx.core:core-ktx:1.10.1&#39;\r\n        implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n        implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n        testImplementation &#39;junit:junit:4.13.2&#39;\r\n        androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n    \r\n        implementation &#39;gov.nasa.worldwind.android:worldwind:0.9.0-SNAPSHOT&#39;\r\n    }\r\n\r\nAny idea where this comes from?\r\n\r\n  [1]: https://worldwind.arc.nasa.gov/android/get-started/","title":"How to import an artifactory repository (ie: worldwind) inside an Android project?","body":"<p>I followed the <a href=\"https://worldwind.arc.nasa.gov/android/get-started/\" rel=\"nofollow noreferrer\">documentation</a> to import WorldWind inside my project :</p>\n<blockquote>\n<p>repositories {\nmaven {\nurl 'https://oss.jfrog.org/artifactory/oss-snapshot-local'\n} }</p>\n<p>...</p>\n<p>compile 'gov.nasa.worldwind.android:worldwind:0.9.0-SNAPSHOT'</p>\n</blockquote>\n<p>However it throws me this exception :</p>\n<blockquote>\n<p>Caused by:\norg.gradle.api.internal.artifacts.ivyservice.DefaultLenientConfiguration$ArtifactResolveException:\nCould not resolve all files for configuration\n':app:debugCompileClasspath'.</p>\n</blockquote>\n<p>Here is my <strong>settings.gradle</strong> file :</p>\n<pre><code>pluginManagement {\n    repositories {\n        google()\n        mavenCentral()\n        gradlePluginPortal()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n        maven{ url 'https://oss.jfrog.org/artifactory/oss-snapshot-local'}\n    }\n}\nrootProject.name = &quot;WorldWind&quot;\ninclude ':app'\n</code></pre>\n<p>And my <strong>build.gradle</strong> file :</p>\n<pre><code>...\n\ndependencies {\n    implementation 'androidx.core:core-ktx:1.10.1'\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.google.android.material:material:1.9.0'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n\n    implementation 'gov.nasa.worldwind.android:worldwind:0.9.0-SNAPSHOT'\n}\n</code></pre>\n<p>Any idea where this comes from?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-security"],"owner":{"account_id":27266517,"reputation":1,"user_id":20788454,"display_name":"Ruslan Dyakov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":387,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686230083,"creation_date":1686228904,"question_id":76432077,"body_markdown":"I have a website in JavaSpring I use Spring Security to log in to the application I implemented via LinkedIn. When logging in I get this error (http://localhost:8080/login?error=[invalid_request]%20A%20required%20parameter%20%20%22client_secret%22%20is%20missing) I can&#39;t figure out how to solve it I&#39;m 100% sure I specified it correctly in settings (spring.security.oauth2.client.registration.linkedin.client-secret)\r\nPlease tell me how to solve this problem\r\n\r\napplication.properties file:\r\n```\r\nspring.security.oauth2.client.registration.linkedin.client-id=****\r\nspring.security.oauth2.client.registration.linkedin.client-secret=****\r\nspring.security.oauth2.client.registration.linkedin.scope=profile\r\nspring.security.oauth2.client.registration.linkedin.authorization-grant-type=authorization_code\r\nspring.security.oauth2.client.registration.linkedin.redirect-uri=http://localhost:8080/login/oauth2/code/linkedin\r\nspring.security.oauth2.client.registration.linkedin.client-name=LinkedIn\r\nspring.security.oauth2.client.registration.linkedin.provider=linkedin\r\nspring.security.oauth2.client.registration.linkedin.client-authentication-method=post\r\nspring.security.oauth2.client.provider.linkedin.authorization-uri=https://www.linkedin.com/oauth/v2/authorization\r\nspring.security.oauth2.client.provider.linkedin.token-uri=https://www.linkedin.com/oauth/v2/accessToken\r\nspring.security.oauth2.client.provider.linkedin.user-info-uri=https://api.linkedin.com/v2/userinfo\r\nspring.security.oauth2.client.provider.linkedin.jwk-set-uri=\r\nspring.security.oauth2.client.provider.linkedin.user-name-attribute=id\r\nspring.security.oauth2.client.provider.linkedin.user-info-authentication-method=post\r\n```\r\n\r\nclass SpringSecurityConfig: \r\n```\r\n/*..other code..*/\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeHttpRequests((authorize) -&gt; authorize\r\n                            .requestMatchers(&quot;/home&quot;).permitAll()\r\n                            .anyRequest().authenticated()\r\n                    )\r\n                    .oauth2Login(oauth2Login -&gt; oauth2Login\r\n                            .loginPage(&quot;/login&quot;)\r\n                            .defaultSuccessUrl(&quot;/home&quot;)\r\n                            .failureHandler(new OAuth2AuthenticationFailureHandler())\r\n                            .successHandler(oAuth2LoginSuccessHandler)\r\n                            .permitAll()\r\n                    )\r\n/*..other code..*/\r\n```\r\n\r\n\r\nI tried recreating the new application in linked develops, but it did not help","title":"A required parameter &quot;client_secret&quot; is missing","body":"<p>I have a website in JavaSpring I use Spring Security to log in to the application I implemented via LinkedIn. When logging in I get this error (http://localhost:8080/login?error=[invalid_request]%20A%20required%20parameter%20%20%22client_secret%22%20is%20missing) I can't figure out how to solve it I'm 100% sure I specified it correctly in settings (spring.security.oauth2.client.registration.linkedin.client-secret)\nPlease tell me how to solve this problem</p>\n<p>application.properties file:</p>\n<pre><code>spring.security.oauth2.client.registration.linkedin.client-id=****\nspring.security.oauth2.client.registration.linkedin.client-secret=****\nspring.security.oauth2.client.registration.linkedin.scope=profile\nspring.security.oauth2.client.registration.linkedin.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.linkedin.redirect-uri=http://localhost:8080/login/oauth2/code/linkedin\nspring.security.oauth2.client.registration.linkedin.client-name=LinkedIn\nspring.security.oauth2.client.registration.linkedin.provider=linkedin\nspring.security.oauth2.client.registration.linkedin.client-authentication-method=post\nspring.security.oauth2.client.provider.linkedin.authorization-uri=https://www.linkedin.com/oauth/v2/authorization\nspring.security.oauth2.client.provider.linkedin.token-uri=https://www.linkedin.com/oauth/v2/accessToken\nspring.security.oauth2.client.provider.linkedin.user-info-uri=https://api.linkedin.com/v2/userinfo\nspring.security.oauth2.client.provider.linkedin.jwk-set-uri=\nspring.security.oauth2.client.provider.linkedin.user-name-attribute=id\nspring.security.oauth2.client.provider.linkedin.user-info-authentication-method=post\n</code></pre>\n<p>class SpringSecurityConfig:</p>\n<pre><code>/*..other code..*/\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n            http\n                    .authorizeHttpRequests((authorize) -&gt; authorize\n                            .requestMatchers(&quot;/home&quot;).permitAll()\n                            .anyRequest().authenticated()\n                    )\n                    .oauth2Login(oauth2Login -&gt; oauth2Login\n                            .loginPage(&quot;/login&quot;)\n                            .defaultSuccessUrl(&quot;/home&quot;)\n                            .failureHandler(new OAuth2AuthenticationFailureHandler())\n                            .successHandler(oAuth2LoginSuccessHandler)\n                            .permitAll()\n                    )\n/*..other code..*/\n</code></pre>\n<p>I tried recreating the new application in linked develops, but it did not help</p>\n"},{"tags":["java","spring","spring-boot","spring-amqp"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686229851,"creation_date":1686229851,"answer_id":76432210,"question_id":76430389,"body_markdown":"Name your bean `RabbitListenerConfigUtils.RABBIT_LISTENER_ANNOTATION_PROCESSOR_BEAN_NAME`\r\n\r\n(`org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor`)\r\n\r\nto override the default.\r\n\r\nSee `RabbitBootstrapConfiguration`.","title":"Trying to deactivate the automatic registration of RabbitListener instances so I can manually register my own","body":"<p>Name your bean <code>RabbitListenerConfigUtils.RABBIT_LISTENER_ANNOTATION_PROCESSOR_BEAN_NAME</code></p>\n<p>(<code>org.springframework.amqp.rabbit.config.internalRabbitListenerAnnotationProcessor</code>)</p>\n<p>to override the default.</p>\n<p>See <code>RabbitBootstrapConfiguration</code>.</p>\n"}],"owner":{"account_id":3107449,"reputation":91,"user_id":2629954,"display_name":"Antonis Koursoumis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686229851,"creation_date":1686216225,"question_id":76430389,"body_markdown":"I am upgrading my Spring project from Spring 1.x up to (hopefully) 3.x. That said, I have just finished upgrading everything to 2.0.9 and now tried bumping to 2.1.18. There is an issue I am facing that, because I wanted to auto-register Rabbit queues / factories / listeners I have created a custom configuration class.\r\n\r\nTo achieve that I had to create a custom extension of RabbitListenerAnnotationBeanPostProcessor called ExtendedRabbitListenerAnnotationBeanPostProcessor:\r\n\r\n\r\n```\r\n@Component\r\npublic class ExtendedRabbitListenerAnnotationBeanPostProcessor extends\r\n    RabbitListenerAnnotationBeanPostProcessor {\r\n\r\n    public void processAmqpListener(RabbitListener rabbitListener, Method method, Object bean,\r\n        String beanName) {\r\n        super.processAmqpListener(rabbitListener, method, bean, beanName);\r\n    }\r\n}\r\n```\r\n\r\nso that I can have access to the protected processAmqpListener.\r\nWhile this worked up to 2.0.9, in 2.1.18 it seems that Spring itself is registering the beans ahead of our registration which leads to the app breaking.\r\n\r\nIs there any way I can deactivate the automatic registration of RabbitListeners from Spring&#39;s RabbitListenerAnnotationBeanPostProcessor?\r\n\r\n- I have tried creating custom CustomRabbitListener @interface so that the default BeanPostProcessor has nothing to register but that didn&#39;t work.\r\n- I have tried setting the bean for the ExtendedRabbitListenerAnnotationBeanPostProcessor to @Primary so that it overwrites the Spring one but that doesn&#39;t work because it seems the Spring implementation loads its processor ahead of the registration of my bean (so primary does nothing.\r\nEdit: I have also tried removing the @EnableRabbit annotation but that deactivates everything on runtime as well.","title":"Trying to deactivate the automatic registration of RabbitListener instances so I can manually register my own","body":"<p>I am upgrading my Spring project from Spring 1.x up to (hopefully) 3.x. That said, I have just finished upgrading everything to 2.0.9 and now tried bumping to 2.1.18. There is an issue I am facing that, because I wanted to auto-register Rabbit queues / factories / listeners I have created a custom configuration class.</p>\n<p>To achieve that I had to create a custom extension of RabbitListenerAnnotationBeanPostProcessor called ExtendedRabbitListenerAnnotationBeanPostProcessor:</p>\n<pre><code>@Component\npublic class ExtendedRabbitListenerAnnotationBeanPostProcessor extends\n    RabbitListenerAnnotationBeanPostProcessor {\n\n    public void processAmqpListener(RabbitListener rabbitListener, Method method, Object bean,\n        String beanName) {\n        super.processAmqpListener(rabbitListener, method, bean, beanName);\n    }\n}\n</code></pre>\n<p>so that I can have access to the protected processAmqpListener.\nWhile this worked up to 2.0.9, in 2.1.18 it seems that Spring itself is registering the beans ahead of our registration which leads to the app breaking.</p>\n<p>Is there any way I can deactivate the automatic registration of RabbitListeners from Spring's RabbitListenerAnnotationBeanPostProcessor?</p>\n<ul>\n<li>I have tried creating custom CustomRabbitListener @interface so that the default BeanPostProcessor has nothing to register but that didn't work.</li>\n<li>I have tried setting the bean for the ExtendedRabbitListenerAnnotationBeanPostProcessor to @Primary so that it overwrites the Spring one but that doesn't work because it seems the Spring implementation loads its processor ahead of the registration of my bean (so primary does nothing.\nEdit: I have also tried removing the @EnableRabbit annotation but that deactivates everything on runtime as well.</li>\n</ul>\n"},{"tags":["java","rest","curl","post","nessus"],"answers":[{"tags":[],"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1498054217,"creation_date":1498054217,"answer_id":44678523,"question_id":44675898,"body_markdown":"I finally fixed it!\r\n\r\nThe problem was with the format of the data-String that i sent as payload. It was not documented, but the API works with JSON-Requests only. Coincidentally my first POST-Request ( /session ) was valid JSON, while the second ( /scans/{id}/launch) wasn&#39;t. \r\n\r\nso doing valid JSON as POST data-payload did the trick:\r\n\r\n    \tString query = &quot;scans/&quot; + scanId + &quot;/launch&quot;;\r\n\t\tString launchJson = &quot;{\\&quot;scan_id\\&quot;:\\&quot;&quot; +String.valueOf(scanId) + &quot;\\&quot;, \\&quot;alt_targets\\&quot;:[\\&quot;&quot; + ip +&quot;\\&quot;]}&quot;;\r\n\t\t\r\n\t\t/* launch it! */\r\n\t\tResponse respLaunch = null;\r\n\t\ttry {\r\n\t\t\trespLaunch = postRequest(query, launchJson);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\n...which results in a valid JSON POST data-payload: `{&quot;scan_id&quot;:&quot;21&quot;, &quot;alt_targets&quot;:[&quot;127.0.0.1&quot;]}`\r\n\r\n...instead of the old one: `scan_id=21&amp;alt_targets=[10.208.65.226]`\r\n\r\n","title":"Nessus RESTful API - Java Problems implementing POST","body":"<p>I finally fixed it!</p>\n\n<p>The problem was with the format of the data-String that i sent as payload. It was not documented, but the API works with JSON-Requests only. Coincidentally my first POST-Request ( /session ) was valid JSON, while the second ( /scans/{id}/launch) wasn't. </p>\n\n<p>so doing valid JSON as POST data-payload did the trick:</p>\n\n<pre><code>    String query = \"scans/\" + scanId + \"/launch\";\n    String launchJson = \"{\\\"scan_id\\\":\\\"\" +String.valueOf(scanId) + \"\\\", \\\"alt_targets\\\":[\\\"\" + ip +\"\\\"]}\";\n\n    /* launch it! */\n    Response respLaunch = null;\n    try {\n        respLaunch = postRequest(query, launchJson);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>...which results in a valid JSON POST data-payload: <code>{\"scan_id\":\"21\", \"alt_targets\":[\"127.0.0.1\"]}</code></p>\n\n<p>...instead of the old one: <code>scan_id=21&amp;alt_targets=[10.208.65.226]</code></p>\n"}],"owner":{"account_id":4166869,"reputation":1208,"user_id":3488735,"accept_rate":82,"display_name":"Gewure"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":862,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":44678523,"answer_count":1,"score":0,"last_activity_date":1686229518,"creation_date":1498047488,"question_id":44675898,"body_markdown":"Im currently tasked to do automation for Nessus.\r\n\r\nWhile almost everything works fine, im biting on rock working with this call (**from API-DOCU**):\r\n\r\n    Request\r\n    HTTP Request\r\n    POST /scans/{scan_id}/launch\r\n    Parameters\r\n\r\n    scan_id \tinteger \tThe id of the scan to launch. \t\r\n\r\n    alt_targets \tarray \tIf specified, these targets will be scanned instead of the default. Value can be an array where each index is a target, or an array with a single index of comma separated targets. \t\r\n\r\n    Response\r\n    Status Code \tDescription\r\n    200 \tReturned if the scan was successfully launched.\r\n    403 \tReturned if the scan is disabled.\r\n    404 \tReturned if the scan does not exist.\r\n\r\ni&#39;ve tested the call(s) with CURL, which works fine:\r\n\r\n    curl -X POST -H &#39;X-Cookie: token=db565871198eec7fd9569dd1e3ffb8b2a60f757329749bc5&#39; -H &#39;Content-Type:application/json&#39; --data &#39;{&quot;scan_id&quot;:&quot;21&quot;, &quot;alt_targets&quot;:[127.0.0.1]}&#39; -k &quot;https://nessusServer:8834/scans/21/launch&quot;\r\n...which gives back the intended result: \r\n\r\n    {&quot;scan_uuid&quot;:&quot;06c4aed8-ee64-c44e-9800-f6aeed1ba94fab8b2ed9c1033626&quot;}\r\n\r\nNow to the heart of the Problem: Doing the Same in Java!\r\n\r\nWhat i get is this: \r\n\r\n    java.io.IOException: Server returned HTTP response code: 400 for URL: https://nessusServer:8834/scans/21/launch\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1890)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1885)\r\n    \tat java.security.AccessController.doPrivileged(Native Method)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1884)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1457)\r\n    \tat sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\r\n    \tat sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\r\n    \tat at.bachmann.se.security.NessusAPI.postRequest(NessusAPI.java:466)\r\n\r\nmy postRequest Method looks like this (*and it works with other calls!*):\r\n\r\n\r\n    /**\r\n     * Sends a post Request\r\n     * \r\n     * @param urlPathAdditional\r\n     *            .. the added part of the path (e.g. /scans/{scanID} )\r\n     * @param headers\r\n     *            .. Map&lt;String, String&gt; the Request Properties\r\n     * \r\n     * @return Response ... Response-Clazz containing String and Code\r\n     * @throws UnsupportedEncodingException\r\n     */\r\n    public Response postRequest(String urlPathAdditional, Map&lt;String, String&gt; headers) throws Exception {\r\n    \tSystem.out.println(&quot;postRequest()......&quot;);\r\n    \r\n    \tStringJoiner sj = new StringJoiner(&quot;&amp;&quot;);\r\n    \tfor (Map.Entry&lt;String, String&gt; entry : headers.entrySet())\r\n    \t\tsj.add(URLEncoder.encode(entry.getKey(), &quot;UTF-8&quot;) + &quot;=&quot; + URLEncoder.encode(entry.getValue(), &quot;UTF-8&quot;));\r\n    \r\n    \tString postData = sj.toString();\r\n    \tSystem.out.println(&quot;postData: &quot; + sj.toString());\r\n    \r\n    \tURL obj;\r\n    \r\n    \tHttpsURLConnection con = null;\r\n    \r\n    \ttry {\r\n    \t\t\r\n    \t\tobj = new URL(apiUrl + urlPathAdditional);\r\n    \t\tcon = (HttpsURLConnection) obj.openConnection();\r\n    \r\n    \t\tTrustModifier.relaxHostChecking(con);  // here&#39;s where the magic happens: SSL is overrated! :)\r\n    \r\n    \t\tcon.setRequestMethod(&quot;POST&quot;);\r\n    \t\t\r\n    \t}  catch (KeyManagementException | NoSuchAlgorithmException | KeyStoreException |IOException e1) {\r\n    \t\te1.printStackTrace();\r\n    \t}\r\n    \r\n    \r\n    \t//con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json&quot;);\r\n    \tcon.setRequestProperty(&quot;User-Agent&quot;, USER_AGENT);\r\n    \tcon.setRequestProperty(&quot;Accept-Language&quot;, &quot;en-US,en;q=0.5&quot;);\r\n    \t//con.setRequestProperty(&quot;Charset&quot;, &quot;UTF-8&quot;);\r\n    \t//con.setRequestProperty(&quot;Content-Length&quot;, Integer.toString(postData.length()));\r\n    \tcon.setRequestProperty(&quot;X-Cookie&quot;, &quot;token=&quot; + token);\r\n    \tcon.setDoOutput(true);\r\n    \r\n    \r\n    \tint respCode = 0;\r\n    \t/* Send post request */\r\n    \ttry {\r\n    \t\t\r\n    \t\tDataOutputStream wr = new DataOutputStream(con.getOutputStream());\r\n    \t\twr.writeBytes(postData);\r\n    \t\twr.flush();\r\n    \t\twr.close();\r\n    \t\t\r\n    \t} catch (IOException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \r\n    \trespCode = con.getResponseCode();\r\n    \r\n    \t/* read response */\r\n    \tBufferedReader in = new BufferedReader(\r\n    \t\t\tnew InputStreamReader(con.getInputStream()));\r\n    \tString inputLine;\r\n    \tStringBuffer response = new StringBuffer();\r\n    \r\n    \twhile ((inputLine = in.readLine()) != null) {\r\n    \t\tresponse.append(inputLine);\r\n    \t}\r\n    \tin.close();\r\n    \r\n    \t\r\n    \treturn new Response(response.toString(), respCode);\r\n    }\r\n\r\n...now what i suspect is that the output `postData: alt_targets=%27127.0.0.1%27&amp;scan_id=21` isn&#39;t valid. \r\nThough i have no idea (and the internet gives *astonishingly few informations*) about what an &quot;array&quot; is in context of a POST request - and how it is encoded into a POST. In CURL it works perfectly - in Java it does not, despite the method being OK for other API-Calls (creating a sessions and retrieving the token works with the same method).\r\n\r\nHere the calling part of the code: \r\n\r\n    /* at this point the server is ready */\r\n\t\t/* so we need to get the ID of the scan-name we want to launch */\r\n\t\tint scanId = getScanIdForName(terminalOrM1 + scanType);\r\n\r\n\t\t/* Scanner is Ready for a new Scan! */\r\n\t\t// 200 Returned if the scan was successfully launched.\r\n\t\t// 403 Returned if the scan is disabled.\r\n\t\t// 404 Returned if the scan does not exist.\r\n\t\tString query = &quot;scans/&quot; + scanId + &quot;/launch&quot;;\r\n\t\tString targets =  &quot;\\&#39;&quot; + ip + &quot;\\&#39;&quot;;   // &lt;= DOESN&#39;T WORK \r\n        //String target = ip; // DOESN&#39;T WORK EITHER   -- so what does?\r\n        //String target = &quot;[&quot; + ip + &quot;]&quot;; // NO WORK\r\n\t\tMap&lt;String, String&gt; headers = new HashMap&lt;&gt;();\r\n\t\theaders.put(&quot;alt_targets&quot;, targets);\r\n\t\theaders.put(&quot;scan_id&quot;, String.valueOf(scanId));\r\n\r\n\t\t/* launch it! */\r\n\t\tResponse respLaunch = null;\r\n\t\ttry {\r\n\t\t\trespLaunch = postRequest(query, headers);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nThe API-Docu doesn&#39;t help much either, as you can see above. \r\n\r\n**Questions:** \r\n\r\n - how do i correctly submit &quot;array&quot; values in a POST request?\r\n - how can i see/debug/check what is actually sent/how the POST looks?\r\n - how to fix my script?\r\n\r\nThank you!\r\n\r\n","title":"Nessus RESTful API - Java Problems implementing POST","body":"<p>Im currently tasked to do automation for Nessus.</p>\n\n<p>While almost everything works fine, im biting on rock working with this call (<strong>from API-DOCU</strong>):</p>\n\n<pre><code>Request\nHTTP Request\nPOST /scans/{scan_id}/launch\nParameters\n\nscan_id     integer     The id of the scan to launch.   \n\nalt_targets     array   If specified, these targets will be scanned instead of the default. Value can be an array where each index is a target, or an array with a single index of comma separated targets.     \n\nResponse\nStatus Code     Description\n200     Returned if the scan was successfully launched.\n403     Returned if the scan is disabled.\n404     Returned if the scan does not exist.\n</code></pre>\n\n<p>i've tested the call(s) with CURL, which works fine:</p>\n\n<pre><code>curl -X POST -H 'X-Cookie: token=db565871198eec7fd9569dd1e3ffb8b2a60f757329749bc5' -H 'Content-Type:application/json' --data '{\"scan_id\":\"21\", \"alt_targets\":[127.0.0.1]}' -k \"https://nessusServer:8834/scans/21/launch\"\n</code></pre>\n\n<p>...which gives back the intended result: </p>\n\n<pre><code>{\"scan_uuid\":\"06c4aed8-ee64-c44e-9800-f6aeed1ba94fab8b2ed9c1033626\"}\n</code></pre>\n\n<p>Now to the heart of the Problem: Doing the Same in Java!</p>\n\n<p>What i get is this: </p>\n\n<pre><code>java.io.IOException: Server returned HTTP response code: 400 for URL: https://nessusServer:8834/scans/21/launch\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1890)\n    at sun.net.www.protocol.http.HttpURLConnection$10.run(HttpURLConnection.java:1885)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at sun.net.www.protocol.http.HttpURLConnection.getChainedException(HttpURLConnection.java:1884)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream0(HttpURLConnection.java:1457)\n    at sun.net.www.protocol.http.HttpURLConnection.getInputStream(HttpURLConnection.java:1441)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.getInputStream(HttpsURLConnectionImpl.java:254)\n    at at.bachmann.se.security.NessusAPI.postRequest(NessusAPI.java:466)\n</code></pre>\n\n<p>my postRequest Method looks like this (<em>and it works with other calls!</em>):</p>\n\n<pre><code>/**\n * Sends a post Request\n * \n * @param urlPathAdditional\n *            .. the added part of the path (e.g. /scans/{scanID} )\n * @param headers\n *            .. Map&lt;String, String&gt; the Request Properties\n * \n * @return Response ... Response-Clazz containing String and Code\n * @throws UnsupportedEncodingException\n */\npublic Response postRequest(String urlPathAdditional, Map&lt;String, String&gt; headers) throws Exception {\n    System.out.println(\"postRequest()......\");\n\n    StringJoiner sj = new StringJoiner(\"&amp;\");\n    for (Map.Entry&lt;String, String&gt; entry : headers.entrySet())\n        sj.add(URLEncoder.encode(entry.getKey(), \"UTF-8\") + \"=\" + URLEncoder.encode(entry.getValue(), \"UTF-8\"));\n\n    String postData = sj.toString();\n    System.out.println(\"postData: \" + sj.toString());\n\n    URL obj;\n\n    HttpsURLConnection con = null;\n\n    try {\n\n        obj = new URL(apiUrl + urlPathAdditional);\n        con = (HttpsURLConnection) obj.openConnection();\n\n        TrustModifier.relaxHostChecking(con);  // here's where the magic happens: SSL is overrated! :)\n\n        con.setRequestMethod(\"POST\");\n\n    }  catch (KeyManagementException | NoSuchAlgorithmException | KeyStoreException |IOException e1) {\n        e1.printStackTrace();\n    }\n\n\n    //con.setRequestProperty(\"Content-Type\", \"application/json\");\n    con.setRequestProperty(\"User-Agent\", USER_AGENT);\n    con.setRequestProperty(\"Accept-Language\", \"en-US,en;q=0.5\");\n    //con.setRequestProperty(\"Charset\", \"UTF-8\");\n    //con.setRequestProperty(\"Content-Length\", Integer.toString(postData.length()));\n    con.setRequestProperty(\"X-Cookie\", \"token=\" + token);\n    con.setDoOutput(true);\n\n\n    int respCode = 0;\n    /* Send post request */\n    try {\n\n        DataOutputStream wr = new DataOutputStream(con.getOutputStream());\n        wr.writeBytes(postData);\n        wr.flush();\n        wr.close();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n\n    respCode = con.getResponseCode();\n\n    /* read response */\n    BufferedReader in = new BufferedReader(\n            new InputStreamReader(con.getInputStream()));\n    String inputLine;\n    StringBuffer response = new StringBuffer();\n\n    while ((inputLine = in.readLine()) != null) {\n        response.append(inputLine);\n    }\n    in.close();\n\n\n    return new Response(response.toString(), respCode);\n}\n</code></pre>\n\n<p>...now what i suspect is that the output <code>postData: alt_targets=%27127.0.0.1%27&amp;scan_id=21</code> isn't valid. \nThough i have no idea (and the internet gives <em>astonishingly few informations</em>) about what an \"array\" is in context of a POST request - and how it is encoded into a POST. In CURL it works perfectly - in Java it does not, despite the method being OK for other API-Calls (creating a sessions and retrieving the token works with the same method).</p>\n\n<p>Here the calling part of the code: </p>\n\n<pre><code>/* at this point the server is ready */\n    /* so we need to get the ID of the scan-name we want to launch */\n    int scanId = getScanIdForName(terminalOrM1 + scanType);\n\n    /* Scanner is Ready for a new Scan! */\n    // 200 Returned if the scan was successfully launched.\n    // 403 Returned if the scan is disabled.\n    // 404 Returned if the scan does not exist.\n    String query = \"scans/\" + scanId + \"/launch\";\n    String targets =  \"\\'\" + ip + \"\\'\";   // &lt;= DOESN'T WORK \n    //String target = ip; // DOESN'T WORK EITHER   -- so what does?\n    //String target = \"[\" + ip + \"]\"; // NO WORK\n    Map&lt;String, String&gt; headers = new HashMap&lt;&gt;();\n    headers.put(\"alt_targets\", targets);\n    headers.put(\"scan_id\", String.valueOf(scanId));\n\n    /* launch it! */\n    Response respLaunch = null;\n    try {\n        respLaunch = postRequest(query, headers);\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n</code></pre>\n\n<p>The API-Docu doesn't help much either, as you can see above. </p>\n\n<p><strong>Questions:</strong> </p>\n\n<ul>\n<li>how do i correctly submit \"array\" values in a POST request?</li>\n<li>how can i see/debug/check what is actually sent/how the POST looks?</li>\n<li>how to fix my script?</li>\n</ul>\n\n<p>Thank you!</p>\n"},{"tags":["java","spring","spring-jdbc","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":75804,"reputation":94815,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1605627017,"creation_date":1605626776,"answer_id":64878182,"question_id":64877922,"body_markdown":"If there are no @Transactional annotations in B to tell it otherwise, then the b method uses the transaction established in the call to A.methoda. This is normal for Spring, we have components marked transactional that call DAOs that participate in the current transaction without being marked transactional themselves.\r\n\r\nIf you really want to suspend the current transaction, you can add [this annotation][1] to the b method: \r\n\r\n    @Transactional(propagation = Propagation.NOT_SUPPORTED)\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html#NOT_SUPPORTED\r\n\r\nThere is a caveat about suspending transactions in the Spring API doc:\r\n\r\n&gt; NOTE: Actual transaction suspension will not work out-of-the-box on all transaction managers. This in particular applies to JtaTransactionManager, which requires the javax.transaction.TransactionManager to be made available to it (which is server-specific in standard Java EE).\r\n","title":"When calling a spring Non-Transactional method from a Transactional Method in another instance, does the transaction get propagated?","body":"<p>If there are no @Transactional annotations in B to tell it otherwise, then the b method uses the transaction established in the call to A.methoda. This is normal for Spring, we have components marked transactional that call DAOs that participate in the current transaction without being marked transactional themselves.</p>\n<p>If you really want to suspend the current transaction, you can add <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/transaction/annotation/Propagation.html#NOT_SUPPORTED\" rel=\"noreferrer\">this annotation</a> to the b method:</p>\n<pre><code>@Transactional(propagation = Propagation.NOT_SUPPORTED)\n</code></pre>\n<p>There is a caveat about suspending transactions in the Spring API doc:</p>\n<blockquote>\n<p>NOTE: Actual transaction suspension will not work out-of-the-box on all transaction managers. This in particular applies to JtaTransactionManager, which requires the javax.transaction.TransactionManager to be made available to it (which is server-specific in standard Java EE).</p>\n</blockquote>\n"}],"owner":{"account_id":19995680,"reputation":53,"user_id":14655791,"display_name":"Marc B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4152,"favorite_count":0,"down_vote_count":2,"up_vote_count":5,"accepted_answer_id":64878182,"answer_count":1,"score":3,"last_activity_date":1686228731,"creation_date":1605625818,"question_id":64877922,"body_markdown":"Sorry if this has been discussed before, but I just could not find the answer in all the related discussions on @Transactional spring java annotation.\r\n\r\nWhat happens if we call a method in another instance that does not have an @Transactional annotation from a method that has an @Transactional annotation? will the transaction from the @Transactaional annotated method be suspended? or would it be propagated?\r\n\r\nI found a lot of discussions on if the call to the 2nd method is from the same instance, but not if the 2nd non-transactional method is in another instance. Thank you for your help!\r\n\r\nLike in the example below, what would happen if methodb() in class B is called from methoda() in class A? Would the transaction from methoda be propagated or would methodb be non-transactional?\r\n\r\nExample code below:\r\n\r\n    public class A {\r\n    \r\n      @Autowired\r\n      B b;\r\n    \r\n      @Transactional\r\n      public void methoda() {\r\n        b.methodb();\r\n      }\r\n    }\r\n    \r\n\r\n\r\n    @Component\r\n    public class B {\r\n\r\n      // this method is non transactional and is called from method A in class A\r\n      public void methodb() {\r\n        //do some db updates\r\n      }\r\n    }","title":"When calling a spring Non-Transactional method from a Transactional Method in another instance, does the transaction get propagated?","body":"<p>Sorry if this has been discussed before, but I just could not find the answer in all the related discussions on @Transactional spring java annotation.</p>\n<p>What happens if we call a method in another instance that does not have an @Transactional annotation from a method that has an @Transactional annotation? will the transaction from the @Transactaional annotated method be suspended? or would it be propagated?</p>\n<p>I found a lot of discussions on if the call to the 2nd method is from the same instance, but not if the 2nd non-transactional method is in another instance. Thank you for your help!</p>\n<p>Like in the example below, what would happen if methodb() in class B is called from methoda() in class A? Would the transaction from methoda be propagated or would methodb be non-transactional?</p>\n<p>Example code below:</p>\n<pre><code>public class A {\n\n  @Autowired\n  B b;\n\n  @Transactional\n  public void methoda() {\n    b.methodb();\n  }\n}\n\n\n\n@Component\npublic class B {\n\n  // this method is non transactional and is called from method A in class A\n  public void methodb() {\n    //do some db updates\n  }\n}\n</code></pre>\n"},{"tags":["java","interface","dry"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686226613,"post_id":76431757,"comment_id":134771756,"body_markdown":"Do you mean the other filters are all just testing if a particular property of an earthquake is within some range?","body":"Do you mean the other filters are all just testing if a particular property of an earthquake is within some range?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1686226896,"post_id":76431757,"comment_id":134771825,"body_markdown":"That is **not** how you want to [compare floating point values](https://stackoverflow.com/a/4915891/2970947).","body":"That is <b>not</b> how you want to <a href=\"https://stackoverflow.com/a/4915891/2970947\">compare floating point values</a>."},{"owner":{"account_id":15213144,"reputation":332,"user_id":10977227,"display_name":"Ryan"},"score":0,"creation_date":1686227208,"post_id":76431757,"comment_id":134771910,"body_markdown":"@ElliottFrisch &quot;Comparing for greater/smaller is not really a problem unless you&#39;re working right at the edge of the float/double precision limit.&quot;\n\nI&#39;m not really working at the edge of the preicision limit here so I think double comparisons are fine in this scenario..?","body":"@ElliottFrisch &quot;Comparing for greater/smaller is not really a problem unless you&#39;re working right at the edge of the float/double precision limit.&quot;  I&#39;m not really working at the edge of the preicision limit here so I think double comparisons are fine in this scenario..?"},{"owner":{"account_id":15213144,"reputation":332,"user_id":10977227,"display_name":"Ryan"},"score":0,"creation_date":1686227231,"post_id":76431757,"comment_id":134771918,"body_markdown":"@Sweeper yes that&#39;s right","body":"@Sweeper yes that&#39;s right"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1686227814,"post_id":76431757,"comment_id":134772058,"body_markdown":"@Ryan Your two filters are not comparing for greater/smaller, they only differ by comparing for exact equality.","body":"@Ryan Your two filters are not comparing for greater/smaller, they only differ by comparing for exact equality."}],"answers":[{"tags":[],"owner":{"account_id":1416522,"reputation":91354,"user_id":3553087,"display_name":"Brian Goetz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686228312,"creation_date":1686226763,"answer_id":76431809,"question_id":76431757,"body_markdown":"Note that your `Filter` is basically identical to `java.util.function.Predicate`, so we can just use that.  You also don&#39;t need a subclass of `Filter`; just use lambdas.\r\n\r\nIn your example, the inclusive/exclusive choice travels with the filter, so all you have to do is define two factories:\r\n\r\n    Predicate&lt;Earthquake&gt; rangeInclusive(double min, double max) { \r\n        return e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt;= max;\r\n    }\r\n\r\n    Predicate&lt;Earthquake&gt; rangeExclusive(double min, double max) { \r\n        return e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt; max;\r\n    }\r\n\r\nIf you want to use data, rather than the method name, to select inclusive/exclusive, you can do that with the switch in just one place:\r\n\r\n    Predicate&lt;Earthquake&gt; range(double min, double max, ComparisonStrategy strat) { \r\n        return switch (strat) { \r\n            case INCLUSIVE -&gt; e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt;= max;\r\n            case EXCLUSIVE -&gt; e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt; max;\r\n    }","title":"How to generalize a comparison in Java code","body":"<p>Note that your <code>Filter</code> is basically identical to <code>java.util.function.Predicate</code>, so we can just use that.  You also don't need a subclass of <code>Filter</code>; just use lambdas.</p>\n<p>In your example, the inclusive/exclusive choice travels with the filter, so all you have to do is define two factories:</p>\n<pre><code>Predicate&lt;Earthquake&gt; rangeInclusive(double min, double max) { \n    return e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt;= max;\n}\n\nPredicate&lt;Earthquake&gt; rangeExclusive(double min, double max) { \n    return e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt; max;\n}\n</code></pre>\n<p>If you want to use data, rather than the method name, to select inclusive/exclusive, you can do that with the switch in just one place:</p>\n<pre><code>Predicate&lt;Earthquake&gt; range(double min, double max, ComparisonStrategy strat) { \n    return switch (strat) { \n        case INCLUSIVE -&gt; e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt;= max;\n        case EXCLUSIVE -&gt; e -&gt; e.magnitude() &gt; min &amp;&amp; e.magnitude() &lt; max;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686228536,"creation_date":1686228120,"answer_id":76431966,"question_id":76431757,"body_markdown":"Seems to me, that the general part of your code is whether the comparison is `INCLUSIVE` or `EXCLUSIVE`, while the wrapper `Filter` is mostly for the property extraction.\r\n\r\nIf I&#39;m correct, then what about doing this:\r\n\r\n    public enum ComparisonStrategy {\r\n      INCLUSIVE() {\r\n        @Override\r\n        public boolean test(double value, double min, double max) {\r\n          return value &gt;= min &amp;&amp; value &lt;= max;\r\n        }\r\n      },\r\n      EXCLUSIVE() {\r\n        @Override\r\n        public boolean test(double value, double min, double max) {\r\n          return value &gt; min &amp;&amp; value &lt; max;\r\n        }\r\n      };\r\n\r\n      public abstract boolean test(double value, double rangeStart, double rangeEnd);\r\n    }\r\n\r\nSo your filter becomes:\r\n\r\n    public final class MagnitudeFilter implements Filter {\r\n\r\n      private final double minimumMagnitude;\r\n      private final double maximumMagnitude;\r\n      private final ComparisonStrategy strategy;\r\n\r\n      public MagnitudeFilter(\r\n          double minimumMagnitude, double maximumMagnitude,\r\n          DoubleComparisonStrategy strategy) {\r\n        this.minimumMagnitude = minimumMagnitude;\r\n        this.maximumMagnitude = maximumMagnitude;\r\n        this.strategy = strategy;\r\n      }\r\n\r\n      @Override\r\n      public boolean satisfies(Earthquake earthquake) {\r\n        return strategy.test(\r\n          earthquake.magnitude(), minimumMagnitude, maximumMagnitude\r\n        );\r\n      }\r\n    }\r\n\r\nObvious downside of this approach is if your `ComparisonStrategy` is used to test for more than just `double` values (i.e. `long`s and `int`s too) - then you either will need to extract separate `DoubleComparisonStrategy`, `LongComparisonStrategy` enum classes, or make many methods like `boolean testDouble(double, double, double)`, `boolean testLong(long, long long)`, etc. in the &quot;main&quot; `ComparisonStrategy` class. It may not even be possible to define a proper comparison for all possible properties you would want to compare - i.e. it&#39;s going to be a lot harder to include a `Comparator&lt;T&gt;` into this mix when going with `enum` approach.\r\n\r\n\r\nUPD: combining with the approach from the [other answer][1], this makes:\r\n\r\n    Predicate&lt;Earthquake&gt; magnitudeInclusive(double min, double max) {\r\n      return e -&gt; ComparisonStrategy.INCLUSIVE.test(e.magnitude(), min, max);\r\n    }\r\n\r\n    Predicate&lt;Earthquake magnitudeExclusive(double min, double max) {\r\n      return e -&gt; ComparisonStrategy.EXCLUSIVE.test(e.magnitude(), min, max);\r\n    }\r\n\r\nAlso, this will look the same if you still want to use `Filter` interface, because that is also a valid lambda target:\r\n\r\n    Filter magnitudeInclusive(double min, double max) {\r\n      return e -&gt; ComparisonStrategy.INCLUSIVE.test(e.magnidute(), min, max);\r\n    }\r\n\r\n\r\n[1]: https://stackoverflow.com/a/76431809/7470253","title":"How to generalize a comparison in Java code","body":"<p>Seems to me, that the general part of your code is whether the comparison is <code>INCLUSIVE</code> or <code>EXCLUSIVE</code>, while the wrapper <code>Filter</code> is mostly for the property extraction.</p>\n<p>If I'm correct, then what about doing this:</p>\n<pre><code>public enum ComparisonStrategy {\n  INCLUSIVE() {\n    @Override\n    public boolean test(double value, double min, double max) {\n      return value &gt;= min &amp;&amp; value &lt;= max;\n    }\n  },\n  EXCLUSIVE() {\n    @Override\n    public boolean test(double value, double min, double max) {\n      return value &gt; min &amp;&amp; value &lt; max;\n    }\n  };\n\n  public abstract boolean test(double value, double rangeStart, double rangeEnd);\n}\n</code></pre>\n<p>So your filter becomes:</p>\n<pre><code>public final class MagnitudeFilter implements Filter {\n\n  private final double minimumMagnitude;\n  private final double maximumMagnitude;\n  private final ComparisonStrategy strategy;\n\n  public MagnitudeFilter(\n      double minimumMagnitude, double maximumMagnitude,\n      DoubleComparisonStrategy strategy) {\n    this.minimumMagnitude = minimumMagnitude;\n    this.maximumMagnitude = maximumMagnitude;\n    this.strategy = strategy;\n  }\n\n  @Override\n  public boolean satisfies(Earthquake earthquake) {\n    return strategy.test(\n      earthquake.magnitude(), minimumMagnitude, maximumMagnitude\n    );\n  }\n}\n</code></pre>\n<p>Obvious downside of this approach is if your <code>ComparisonStrategy</code> is used to test for more than just <code>double</code> values (i.e. <code>long</code>s and <code>int</code>s too) - then you either will need to extract separate <code>DoubleComparisonStrategy</code>, <code>LongComparisonStrategy</code> enum classes, or make many methods like <code>boolean testDouble(double, double, double)</code>, <code>boolean testLong(long, long long)</code>, etc. in the &quot;main&quot; <code>ComparisonStrategy</code> class. It may not even be possible to define a proper comparison for all possible properties you would want to compare - i.e. it's going to be a lot harder to include a <code>Comparator&lt;T&gt;</code> into this mix when going with <code>enum</code> approach.</p>\n<p>UPD: combining with the approach from the <a href=\"https://stackoverflow.com/a/76431809/7470253\">other answer</a>, this makes:</p>\n<pre><code>Predicate&lt;Earthquake&gt; magnitudeInclusive(double min, double max) {\n  return e -&gt; ComparisonStrategy.INCLUSIVE.test(e.magnitude(), min, max);\n}\n\nPredicate&lt;Earthquake magnitudeExclusive(double min, double max) {\n  return e -&gt; ComparisonStrategy.EXCLUSIVE.test(e.magnitude(), min, max);\n}\n</code></pre>\n<p>Also, this will look the same if you still want to use <code>Filter</code> interface, because that is also a valid lambda target:</p>\n<pre><code>Filter magnitudeInclusive(double min, double max) {\n  return e -&gt; ComparisonStrategy.INCLUSIVE.test(e.magnidute(), min, max);\n}\n</code></pre>\n"}],"owner":{"account_id":15213144,"reputation":332,"user_id":10977227,"display_name":"Ryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76431809,"answer_count":2,"score":1,"last_activity_date":1686228536,"creation_date":1686226437,"question_id":76431757,"body_markdown":"Say I have a `Filter` interface\r\n```java\r\npublic interface Filter {\r\n   public boolean satisfies(Earthquake earthquake)\r\n}\r\n```\r\nWhich can have different implementations (one such below)\r\n```java\r\npublic final class MagnitudeFilter implements Filter {\r\n\r\n    private final double minimumMagnitude;\r\n    private final double maximumMagnitude;\r\n    private final ComparisonStrategy strategy;\r\n\r\n    public MagnitudeFilter(double minimumMagnitude, double maximumMagnitude, ComparisonStrategy strategy) {\r\n        this.minimumMagnitude = minimumMagnitude;\r\n        this.maximumMagnitude = maximumMagnitude;\r\n        this.strategy = strategy;\r\n    }\r\n\r\n    @Override\r\n    public boolean satisfies(Earthquake earthquake) {\r\n        return switch (strategy) {\r\n            case EXCLUSIVE -&gt; earthquake.magnitude() &gt; minimumMagnitude &amp;&amp;\r\n                earthquake.magnitude() &lt; maximumMagnitude;\r\n            case INCLUSIVE -&gt; earthquake.magnitude() &gt;= minimumMagnitude &amp;&amp;\r\n                earthquake.magnitude() &lt;= maximumMagnitude;\r\n        };\r\n    }\r\n}\r\n```\r\nIn some cases I would like to perform an `inclusive` comparison and other times I would like to perform an `exclusive` comparison, however in the above form, I will need to repeat the `switch` expression for every single implementation.\r\n\r\nIs there an alternative way that I can generalize this pattern for all implementations so as not to have to repeat the code in the switch statement?\r\n\r\n\r\n\r\nTried to user another interface but ended up in a loop of repeating code again.","title":"How to generalize a comparison in Java code","body":"<p>Say I have a <code>Filter</code> interface</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface Filter {\n   public boolean satisfies(Earthquake earthquake)\n}\n</code></pre>\n<p>Which can have different implementations (one such below)</p>\n<pre class=\"lang-java prettyprint-override\"><code>public final class MagnitudeFilter implements Filter {\n\n    private final double minimumMagnitude;\n    private final double maximumMagnitude;\n    private final ComparisonStrategy strategy;\n\n    public MagnitudeFilter(double minimumMagnitude, double maximumMagnitude, ComparisonStrategy strategy) {\n        this.minimumMagnitude = minimumMagnitude;\n        this.maximumMagnitude = maximumMagnitude;\n        this.strategy = strategy;\n    }\n\n    @Override\n    public boolean satisfies(Earthquake earthquake) {\n        return switch (strategy) {\n            case EXCLUSIVE -&gt; earthquake.magnitude() &gt; minimumMagnitude &amp;&amp;\n                earthquake.magnitude() &lt; maximumMagnitude;\n            case INCLUSIVE -&gt; earthquake.magnitude() &gt;= minimumMagnitude &amp;&amp;\n                earthquake.magnitude() &lt;= maximumMagnitude;\n        };\n    }\n}\n</code></pre>\n<p>In some cases I would like to perform an <code>inclusive</code> comparison and other times I would like to perform an <code>exclusive</code> comparison, however in the above form, I will need to repeat the <code>switch</code> expression for every single implementation.</p>\n<p>Is there an alternative way that I can generalize this pattern for all implementations so as not to have to repeat the code in the switch statement?</p>\n<p>Tried to user another interface but ended up in a loop of repeating code again.</p>\n"},{"tags":["java","performance","assembly","jvm","profiling"],"comments":[{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":3,"creation_date":1597342202,"post_id":63397711,"comment_id":112109002,"body_markdown":"Indeed, looks like some JIT optimization broke mapping between compiled code and bci. If run JDK 14 with `-XX:MaxInlineLevel=0`, &quot;putfield count&quot; annotation will become visible again.","body":"Indeed, looks like some JIT optimization broke mapping between compiled code and bci. If run JDK 14 with <code>-XX:MaxInlineLevel=0</code>, &quot;putfield count&quot; annotation will become visible again."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1597350543,"post_id":63397711,"comment_id":112112293,"body_markdown":"@apangin thanks! Should I then report it to `hotspot-compiler-dev` or `jmh-dev` mailing lists? What do you think?","body":"@apangin thanks! Should I then report it to <code>hotspot-compiler-dev</code> or <code>jmh-dev</code> mailing lists? What do you think?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1597355628,"post_id":63397711,"comment_id":112114124,"body_markdown":"That&#39;s certainly not a jmh fault. Debug info is missing in `-XX:+PrintAssembly`. So, `hotspot-compiler-dev` will be more appropriate.","body":"That&#39;s certainly not a jmh fault. Debug info is missing in <code>-XX:+PrintAssembly</code>. So, <code>hotspot-compiler-dev</code> will be more appropriate."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1597400576,"post_id":63397711,"comment_id":112126811,"body_markdown":"@apangin it looks like this won&#39;t be fixed: https://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2020-August/039513.html","body":"@apangin it looks like this won&#39;t be fixed: <a href=\"https://mail.openjdk.java.net/pipermail/hotspot-compiler-dev/2020-August/039513.html\" rel=\"nofollow noreferrer\">mail.openjdk.java.net/pipermail/hotspot-compiler-dev/&hellip;</a>"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1597405378,"post_id":63397711,"comment_id":112128804,"body_markdown":"Yeah, quite expected. I can&#39;t agree with the justification though. While it&#39;s true that it&#39;s hard to maintain the mapping in general, this does not mean it&#39;s absolutely impossible in a particular case. Ignoring such problems with no even minimal investigation will eventually end up in no debug info at all.","body":"Yeah, quite expected. I can&#39;t agree with the justification though. While it&#39;s true that it&#39;s hard to maintain the mapping in general, this does not mean it&#39;s absolutely impossible in a particular case. Ignoring such problems with no even minimal investigation will eventually end up in no debug info at all."},{"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"score":0,"creation_date":1633938480,"post_id":63397711,"comment_id":122883603,"body_markdown":"@apangin btw, can this flag `-XX:MaxInlineLevel=0` distort the profile in the way that with disabled inlining some other optimizations can be disabled as well? And if it can, do you know any examples of such behaviour?","body":"@apangin btw, can this flag <code>-XX:MaxInlineLevel=0</code> distort the profile in the way that with disabled inlining some other optimizations can be disabled as well? And if it can, do you know any examples of such behaviour?"},{"owner":{"account_id":4210603,"reputation":94356,"user_id":3448419,"display_name":"apangin"},"score":0,"creation_date":1633986377,"post_id":63397711,"comment_id":122901269,"body_markdown":"It doesn&#39;t disable other optimizations directly, but definitely makes them less efficient, as the scope where optimizations can be applied gets notably reduced. See https://stackoverflow.com/a/52468276/3448419","body":"It doesn&#39;t disable other optimizations directly, but definitely makes them less efficient, as the scope where optimizations can be applied gets notably reduced. See <a href=\"https://stackoverflow.com/a/52468276/3448419\">stackoverflow.com/a/52468276/3448419</a>"}],"answers":[{"tags":[],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1642775912,"creation_date":1642775912,"answer_id":70803040,"question_id":63397711,"body_markdown":"It turned out that you couldn&#39;t use hsdis built for e.g. JDK 8 with JDK 11. For the perfect match you need to build hsdis from JDK sources, then build the JDK itself and run the application on this ad-hoc build.\r\n\r\nThis approach worked perfectly for me when I was investigating https://stackoverflow.com/questions/70272651/missing-bounds-checking-elimination-in-string-constructor/70296859.","title":"LinuxPerfAsmProfiler shows Java code corresponding assembly hot spot for Java 8, but not for Java 14","body":"<p>It turned out that you couldn't use hsdis built for e.g. JDK 8 with JDK 11. For the perfect match you need to build hsdis from JDK sources, then build the JDK itself and run the application on this ad-hoc build.</p>\n<p>This approach worked perfectly for me when I was investigating <a href=\"https://stackoverflow.com/questions/70272651/missing-bounds-checking-elimination-in-string-constructor/70296859\">Missing bounds checking elimination in String constructor?</a>.</p>\n"}],"owner":{"account_id":17228781,"reputation":3548,"user_id":12473843,"display_name":"Sergey Tsypanov"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":253,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":70803040,"answer_count":1,"score":6,"last_activity_date":1686228228,"creation_date":1597330342,"question_id":63397711,"body_markdown":"When investigating an issue related to instantiation of Spring&#39;s `org.springframework.util.ConcurrentReferenceHashMap` (as of `spring-core-5.1.3.RELEASE`) I&#39;ve used `LinuxPerfAsmProfiler` shipped along with JMH to profile generated assembly.\r\n\r\nI simply run this\r\n```java\r\n@Benchmark\r\npublic Object measureInit() {\r\n  return new ConcurrentReferenceHashMap&lt;&gt;();\r\n}\r\n```\r\nBenchmarking on JDK 8 allows to identify one of non-obvious hot spots:\r\n```asm\r\n  0.61%        0x00007f32d92772ea: lock addl $0x0,(%rsp)     ;*putfield count\r\n                                                             ; - org.springframework.util.ConcurrentReferenceHashMap$Segment::&amp;lt;init&amp;gt;@11 (line 476)\r\n                                                             ; - org.springframework.util.ConcurrentReferenceHashMap::&amp;lt;init&amp;gt;@141 (line 184)\r\n 15.81%        0x00007f32d92772ef: mov    0x60(%r15),%rdx\r\n```\r\nThis corresponds unnecessary assignment of default value to a volatile field:\r\n```java\r\nprotected final class Segment extends ReentrantLock {\r\n  private volatile int count = 0;\r\n}\r\n```\r\nand `Segment` is in turn instantiated in loop in constructor of `CCRHM`:\r\n```java\r\npublic ConcurrentReferenceHashMap(\r\n  \tint initialCapacity, float loadFactor, int concurrencyLevel, ReferenceType referenceType) {\r\n  this.loadFactor = loadFactor;\r\n  this.shift = calculateShift(concurrencyLevel, MAXIMUM_CONCURRENCY_LEVEL);\r\n  int size = 1 &lt;&lt; this.shift;\r\n  this.referenceType = referenceType;\r\n  int roundedUpSegmentCapacity = (int) ((initialCapacity + size - 1L) / size);\r\n  this.segments = (Segment[]) Array.newInstance(Segment.class, size);\r\n  for (int i = 0; i &lt; this.segments.length; i++) {\r\n   this.segments[i] = new Segment(roundedUpSegmentCapacity);\r\n  }\r\n}\r\n```\r\nSo the instruction is likely to be really hot. Full layout of assembly can be found in my [gist][1]\r\n\r\nThen I run the same benchmark on JDK 14 and again use `LinuxPerfAsmProfiler`, but now I don&#39;t have any explicit pointing to `volatile int count = 0` [in captured assembly][2].\r\n\r\nLooking for `lock addl $0x0` instruction which is assignment of `0` under `lock` prefix I have found this:\r\n```asm\r\n  0.08%                          │  0x00007f3717d46187:   lock addl $0x0,-0x40(%rsp)\r\n 23.74%                          │  0x00007f3717d4618d:   mov    0x120(%r15),%rbx\r\n```\r\nwhich is likely to correspond `volatile int count = 0` because it follows constructor call of `Segment`&#39;s superclass `ReentrantLock`:\r\n```asm\r\n  0.77%                          │  0x00007f3717d46140:   movq   $0x0,0x18(%rax)              ;*new {reexecute=0 rethrow=0 return_oop=0}\r\n                                 │                                                            ; - java.util.concurrent.locks.ReentrantLock::&amp;lt;init&amp;gt;@5 (line 294)\r\n                                 │                                                            ; - org.springframework.util.ConcurrentReferenceHashMap$Segment::&amp;lt;init&amp;gt;@6 (line 484)\r\n                                 │                                                            ; - org.springframework.util.ConcurrentReferenceHashMap::&amp;lt;init&amp;gt;@141 (line 184)\r\n  0.06%                          │  0x00007f3717d46148:   mov    %r8,%rcx\r\n  0.05%                          │  0x00007f3717d4614b:   mov    %rax,%rbx\r\n  0.03%                          │  0x00007f3717d4614e:   shr    $0x3,%rbx\r\n  0.74%                          │  0x00007f3717d46152:   mov    %ebx,0xc(%r8)\r\n  0.06%                          │  0x00007f3717d46156:   mov    %rax,%rbx\r\n  0.05%                          │  0x00007f3717d46159:   xor    %rcx,%rbx\r\n  0.02%                          │  0x00007f3717d4615c:   shr    $0x14,%rbx\r\n  0.72%                          │  0x00007f3717d46160:   test   %rbx,%rbx\r\n                             ╭   │  0x00007f3717d46163:   je     0x00007f3717d4617f\r\n                             │   │  0x00007f3717d46165:   shr    $0x9,%rcx\r\n                             │   │  0x00007f3717d46169:   movabs $0x7f370a872000,%rdi\r\n                             │   │  0x00007f3717d46173:   add    %rcx,%rdi\r\n                             │   │  0x00007f3717d46176:   cmpb   $0x8,(%rdi)\r\n  0.00%                      │   │  0x00007f3717d46179:   jne    0x00007f3717d46509\r\n  0.04%                      ↘   │  0x00007f3717d4617f:   movl   $0x0,0x14(%r8)\r\n  0.08%                          │  0x00007f3717d46187:   lock addl $0x0,-0x40(%rsp)\r\n 23.74%                          │  0x00007f3717d4618d:   mov    0x120(%r15),%rbx\r\n```\r\n\r\nThe problem is that I don&#39;t have any mention of `putfield count` in generated assembly at all.\r\n\r\nCould anyone explain why I don&#39;t see it?\r\n\r\n\r\n  [1]: https://gist.github.com/stsypanov/ff5678987c6f95a2aaf292fa2a3b92a8\r\n  [2]: https://gist.github.com/stsypanov/2e4bd73c39d7465cbdd75ba26d4bc217","title":"LinuxPerfAsmProfiler shows Java code corresponding assembly hot spot for Java 8, but not for Java 14","body":"<p>When investigating an issue related to instantiation of Spring's <code>org.springframework.util.ConcurrentReferenceHashMap</code> (as of <code>spring-core-5.1.3.RELEASE</code>) I've used <code>LinuxPerfAsmProfiler</code> shipped along with JMH to profile generated assembly.</p>\n<p>I simply run this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Benchmark\npublic Object measureInit() {\n  return new ConcurrentReferenceHashMap&lt;&gt;();\n}\n</code></pre>\n<p>Benchmarking on JDK 8 allows to identify one of non-obvious hot spots:</p>\n<pre><code>  0.61%        0x00007f32d92772ea: lock addl $0x0,(%rsp)     ;*putfield count\n                                                             ; - org.springframework.util.ConcurrentReferenceHashMap$Segment::&amp;lt;init&amp;gt;@11 (line 476)\n                                                             ; - org.springframework.util.ConcurrentReferenceHashMap::&amp;lt;init&amp;gt;@141 (line 184)\n 15.81%        0x00007f32d92772ef: mov    0x60(%r15),%rdx\n</code></pre>\n<p>This corresponds unnecessary assignment of default value to a volatile field:</p>\n<pre class=\"lang-java prettyprint-override\"><code>protected final class Segment extends ReentrantLock {\n  private volatile int count = 0;\n}\n</code></pre>\n<p>and <code>Segment</code> is in turn instantiated in loop in constructor of <code>CCRHM</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public ConcurrentReferenceHashMap(\n    int initialCapacity, float loadFactor, int concurrencyLevel, ReferenceType referenceType) {\n  this.loadFactor = loadFactor;\n  this.shift = calculateShift(concurrencyLevel, MAXIMUM_CONCURRENCY_LEVEL);\n  int size = 1 &lt;&lt; this.shift;\n  this.referenceType = referenceType;\n  int roundedUpSegmentCapacity = (int) ((initialCapacity + size - 1L) / size);\n  this.segments = (Segment[]) Array.newInstance(Segment.class, size);\n  for (int i = 0; i &lt; this.segments.length; i++) {\n   this.segments[i] = new Segment(roundedUpSegmentCapacity);\n  }\n}\n</code></pre>\n<p>So the instruction is likely to be really hot. Full layout of assembly can be found in my <a href=\"https://gist.github.com/stsypanov/ff5678987c6f95a2aaf292fa2a3b92a8\" rel=\"nofollow noreferrer\">gist</a></p>\n<p>Then I run the same benchmark on JDK 14 and again use <code>LinuxPerfAsmProfiler</code>, but now I don't have any explicit pointing to <code>volatile int count = 0</code> <a href=\"https://gist.github.com/stsypanov/2e4bd73c39d7465cbdd75ba26d4bc217\" rel=\"nofollow noreferrer\">in captured assembly</a>.</p>\n<p>Looking for <code>lock addl $0x0</code> instruction which is assignment of <code>0</code> under <code>lock</code> prefix I have found this:</p>\n<pre><code>  0.08%                          │  0x00007f3717d46187:   lock addl $0x0,-0x40(%rsp)\n 23.74%                          │  0x00007f3717d4618d:   mov    0x120(%r15),%rbx\n</code></pre>\n<p>which is likely to correspond <code>volatile int count = 0</code> because it follows constructor call of <code>Segment</code>'s superclass <code>ReentrantLock</code>:</p>\n<pre><code>  0.77%                          │  0x00007f3717d46140:   movq   $0x0,0x18(%rax)              ;*new {reexecute=0 rethrow=0 return_oop=0}\n                                 │                                                            ; - java.util.concurrent.locks.ReentrantLock::&amp;lt;init&amp;gt;@5 (line 294)\n                                 │                                                            ; - org.springframework.util.ConcurrentReferenceHashMap$Segment::&amp;lt;init&amp;gt;@6 (line 484)\n                                 │                                                            ; - org.springframework.util.ConcurrentReferenceHashMap::&amp;lt;init&amp;gt;@141 (line 184)\n  0.06%                          │  0x00007f3717d46148:   mov    %r8,%rcx\n  0.05%                          │  0x00007f3717d4614b:   mov    %rax,%rbx\n  0.03%                          │  0x00007f3717d4614e:   shr    $0x3,%rbx\n  0.74%                          │  0x00007f3717d46152:   mov    %ebx,0xc(%r8)\n  0.06%                          │  0x00007f3717d46156:   mov    %rax,%rbx\n  0.05%                          │  0x00007f3717d46159:   xor    %rcx,%rbx\n  0.02%                          │  0x00007f3717d4615c:   shr    $0x14,%rbx\n  0.72%                          │  0x00007f3717d46160:   test   %rbx,%rbx\n                             ╭   │  0x00007f3717d46163:   je     0x00007f3717d4617f\n                             │   │  0x00007f3717d46165:   shr    $0x9,%rcx\n                             │   │  0x00007f3717d46169:   movabs $0x7f370a872000,%rdi\n                             │   │  0x00007f3717d46173:   add    %rcx,%rdi\n                             │   │  0x00007f3717d46176:   cmpb   $0x8,(%rdi)\n  0.00%                      │   │  0x00007f3717d46179:   jne    0x00007f3717d46509\n  0.04%                      ↘   │  0x00007f3717d4617f:   movl   $0x0,0x14(%r8)\n  0.08%                          │  0x00007f3717d46187:   lock addl $0x0,-0x40(%rsp)\n 23.74%                          │  0x00007f3717d4618d:   mov    0x120(%r15),%rbx\n</code></pre>\n<p>The problem is that I don't have any mention of <code>putfield count</code> in generated assembly at all.</p>\n<p>Could anyone explain why I don't see it?</p>\n"},{"tags":["java","junit5","wiremock"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1686215132,"post_id":76429546,"comment_id":134769524,"body_markdown":"Unrelated to your issue, but you&#39;ve got an &quot;application/json&quot; header but the content &quot;Hello world&quot; is not valid JSON.","body":"Unrelated to your issue, but you&#39;ve got an &quot;application/json&quot; header but the content &quot;Hello world&quot; is not valid JSON."},{"owner":{"account_id":2481417,"reputation":444,"user_id":2160821,"display_name":"Paul S"},"score":1,"creation_date":1686215462,"post_id":76429546,"comment_id":134769578,"body_markdown":"I just noticed and fixed that, but that was indeed not the issue","body":"I just noticed and fixed that, but that was indeed not the issue"},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686219347,"post_id":76429546,"comment_id":134770319,"body_markdown":"Are sure you use correct port in browser ? I don&#39;t see port config in code sample. Expected http://localhost:8080/file. Also change log level to debug to see details when WireMock started, of errors presence in there.","body":"Are sure you use correct port in browser ? I don&#39;t see port config in code sample. Expected <a href=\"http://localhost:8080/file\" rel=\"nofollow noreferrer\">localhost:8080/file</a>. Also change log level to debug to see details when WireMock started, of errors presence in there."},{"owner":{"account_id":2481417,"reputation":444,"user_id":2160821,"display_name":"Paul S"},"score":0,"creation_date":1686219987,"post_id":76429546,"comment_id":134770451,"body_markdown":"scroll a bit to the right ;) It was running on 6001 in my example, but I tried different ports as well. There were no errors in the log either, as the server was running just fine but the debug mode made it unaccessible. See my answer below","body":"scroll a bit to the right ;) It was running on 6001 in my example, but I tried different ports as well. There were no errors in the log either, as the server was running just fine but the debug mode made it unaccessible. See my answer below"},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686220376,"post_id":76429546,"comment_id":134770518,"body_markdown":"Another thing confuses me, that if you run server in debug mode, execution is stopped in current thread in which test is executed and i am not sure if server is using own allocated thread pool. You should use actual junit5 extension which will initialize WireMock before execution of test method. This will ensure that server is up and running when test method is called.","body":"Another thing confuses me, that if you run server in debug mode, execution is stopped in current thread in which test is executed and i am not sure if server is using own allocated thread pool. You should use actual junit5 extension which will initialize WireMock before execution of test method. This will ensure that server is up and running when test method is called."},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686220571,"post_id":76429546,"comment_id":134770546,"body_markdown":"I advice you to use extension which will ensure initializing server before test method is invoked.","body":"I advice you to use extension which will ensure initializing server before test method is invoked."}],"answers":[{"tags":[],"owner":{"account_id":2481417,"reputation":444,"user_id":2160821,"display_name":"Paul S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686228164,"creation_date":1686219809,"answer_id":76430886,"question_id":76429546,"body_markdown":"After some further investigation, it turns out the debug mode seems to be the problem. When I replace my breakpoint with an indefinite Thread.sleep(), I was able to access the Wiremock server just fine.\r\n\r\nI got the idea from an issue reported to WireMock.Net, a C# project that mimics the Java version WireMock:\r\nhttps://github.com/WireMock-Net/WireMock.Net/issues/510\r\n\r\nAs k314159 pointed out in the comments, the debugger suspends ALL threads of the test, including the one started by WireMock. To avoid this (in IntelliJ at least) you can edit the breakpoint by right-clicking it, and stating that only the current Thread should be suspended.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jdMfu.png","title":"Wiremock refused to connect while debugging","body":"<p>After some further investigation, it turns out the debug mode seems to be the problem. When I replace my breakpoint with an indefinite Thread.sleep(), I was able to access the Wiremock server just fine.</p>\n<p>I got the idea from an issue reported to WireMock.Net, a C# project that mimics the Java version WireMock:\n<a href=\"https://github.com/WireMock-Net/WireMock.Net/issues/510\" rel=\"nofollow noreferrer\">https://github.com/WireMock-Net/WireMock.Net/issues/510</a></p>\n<p>As k314159 pointed out in the comments, the debugger suspends ALL threads of the test, including the one started by WireMock. To avoid this (in IntelliJ at least) you can edit the breakpoint by right-clicking it, and stating that only the current Thread should be suspended.<a href=\"https://i.stack.imgur.com/jdMfu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jdMfu.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":2481417,"reputation":444,"user_id":2160821,"display_name":"Paul S"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":388,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430886,"answer_count":1,"score":0,"last_activity_date":1686228164,"creation_date":1686209329,"question_id":76429546,"body_markdown":"I have a problem with connecting to my wiremock server that is started from a test. When I put a breakpoint after the wiremock server is started, and I use my browser to go to the specified url, it states: localhost refused to connect.\r\nI have downgraded the test to the most basic version.\r\n\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.aResponse;\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.get;\r\n    import static com.github.tomakehurst.wiremock.client.WireMock.urlEqualTo;\r\n    import static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\r\n    import com.github.tomakehurst.wiremock.WireMockServer;\r\n    import org.junit.jupiter.api.Test;\r\n\r\n    public class MyTest {\r\n\r\n    @Test\r\n    public void test() {\r\n        WireMockServer server = new WireMockServer(options().bindAddress(&quot;127.0.0.1&quot;).port(6001));\r\n        server.stubFor(get(urlEqualTo(&quot;/file&quot;))\r\n                .willReturn(aResponse()\r\n                        .withStatus(200)\r\n                        .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\r\n                        .withBody(&quot;Hello world&quot;)));\r\n        server.start();\r\n        assertTrue(server.isRunning());\r\n        System.out.println(&quot;I put a breakpoint on this line&quot;);\r\n    }\r\n    }\r\n\r\nI have tried different options with @WireMockTest as well (and tried about every tutorial I could find), with the same result.\r\nWhen I inspect the WireMockServer object in debug mode, it shows: ```server.httpServer.jettyServer = Server@429064e8{STARTED}[9.4.49.v20220914]```\r\n\r\nSo at least it looks like the server is started. Any ideas?\r\n\r\nBtw: When I run wiremock standalone on the same port, it can be accessed just fine.","title":"Wiremock refused to connect while debugging","body":"<p>I have a problem with connecting to my wiremock server that is started from a test. When I put a breakpoint after the wiremock server is started, and I use my browser to go to the specified url, it states: localhost refused to connect.\nI have downgraded the test to the most basic version.</p>\n<pre><code>import static com.github.tomakehurst.wiremock.client.WireMock.aResponse;\nimport static com.github.tomakehurst.wiremock.client.WireMock.get;\nimport static com.github.tomakehurst.wiremock.client.WireMock.urlEqualTo;\nimport static com.github.tomakehurst.wiremock.core.WireMockConfiguration.options;\nimport com.github.tomakehurst.wiremock.WireMockServer;\nimport org.junit.jupiter.api.Test;\n\npublic class MyTest {\n\n@Test\npublic void test() {\n    WireMockServer server = new WireMockServer(options().bindAddress(&quot;127.0.0.1&quot;).port(6001));\n    server.stubFor(get(urlEqualTo(&quot;/file&quot;))\n            .willReturn(aResponse()\n                    .withStatus(200)\n                    .withHeader(&quot;Content-Type&quot;, &quot;text/plain&quot;)\n                    .withBody(&quot;Hello world&quot;)));\n    server.start();\n    assertTrue(server.isRunning());\n    System.out.println(&quot;I put a breakpoint on this line&quot;);\n}\n}\n</code></pre>\n<p>I have tried different options with @WireMockTest as well (and tried about every tutorial I could find), with the same result.\nWhen I inspect the WireMockServer object in debug mode, it shows: <code>server.httpServer.jettyServer = Server@429064e8{STARTED}[9.4.49.v20220914]</code></p>\n<p>So at least it looks like the server is started. Any ideas?</p>\n<p>Btw: When I run wiremock standalone on the same port, it can be accessed just fine.</p>\n"},{"tags":["java","spring","security","spring-security","spring-boot"],"comments":[{"owner":{"account_id":1432415,"reputation":10687,"user_id":1354537,"accept_rate":83,"display_name":"Marged"},"score":0,"creation_date":1435846253,"post_id":31186826,"comment_id":50379131,"body_markdown":"What does not work ? Is the browsers not trying to authenticate you ? Does it ignore the credentials you provide ? By the way: you should also post where you map your user to the admin group, perhaps this is the problematic area.","body":"What does not work ? Is the browsers not trying to authenticate you ? Does it ignore the credentials you provide ? By the way: you should also post where you map your user to the admin group, perhaps this is the problematic area."},{"owner":{"account_id":4474454,"reputation":579,"user_id":3639896,"accept_rate":75,"display_name":"silverhawk"},"score":2,"creation_date":1435846431,"post_id":31186826,"comment_id":50379272,"body_markdown":"The authentication working correctly, but any user with any role have access to &quot;/api/groups&quot;","body":"The authentication working correctly, but any user with any role have access to &quot;/api/groups&quot;"},{"owner":{"account_id":1637644,"reputation":5167,"user_id":1510701,"accept_rate":60,"display_name":"We are Borg"},"score":1,"creation_date":1435846609,"post_id":31186826,"comment_id":50379396,"body_markdown":"Where are you setting the ROLE &#39;ADMIN&#39;, can you show me that??","body":"Where are you setting the ROLE &#39;ADMIN&#39;, can you show me that??"},{"owner":{"account_id":4474454,"reputation":579,"user_id":3639896,"accept_rate":75,"display_name":"silverhawk"},"score":0,"creation_date":1435846653,"post_id":31186826,"comment_id":50379429,"body_markdown":"Despite the fact that role is defined correctly: `org.springframework.security.authentication.UsernamePasswordAuthenticationToken: Principal: SecurityUser; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ADMIN`","body":"Despite the fact that role is defined correctly: <code>org.springframework.security.authentication.UsernamePassword&zwnj;&#8203;AuthenticationToken: Principal: SecurityUser; Credentials: [PROTECTED]; Authenticated: true; Details: null; Granted Authorities: ADMIN</code>"},{"owner":{"account_id":241356,"reputation":565,"user_id":512116,"accept_rate":56,"display_name":"pls"},"score":2,"creation_date":1530532413,"post_id":31186826,"comment_id":89255269,"body_markdown":"here you see that authority was actually `ADMIN` and not `ROLE_ADMIN`. Because RoleVoter checks authorities with starting with `ROLE_` it can&#39;t find your authority (which is `ADMIN`) and thus abstains","body":"here you see that authority was actually <code>ADMIN</code> and not <code>ROLE_ADMIN</code>. Because RoleVoter checks authorities with starting with <code>ROLE_</code> it can&#39;t find your authority (which is <code>ADMIN</code>) and thus abstains"}],"answers":[{"tags":[],"owner":{"account_id":1860365,"reputation":3145,"user_id":1685051,"display_name":"Mudassar"},"down_vote_count":0,"up_vote_count":62,"is_accepted":false,"score":62,"last_activity_date":1508386329,"creation_date":1435847470,"answer_id":31187395,"question_id":31186826,"body_markdown":"Kindly add this \r\n\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n\r\nThis element is used to enable annotation-based security in your application (by setting the appropriate attributes on the element), and also to group together security pointcut declarations which will be applied across your entire application context specifically for `@Secured`.\r\nHence your code should look like this\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{..","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>Kindly add this </p>\n\n<pre><code>@EnableGlobalMethodSecurity(securedEnabled = true)\n</code></pre>\n\n<p>This element is used to enable annotation-based security in your application (by setting the appropriate attributes on the element), and also to group together security pointcut declarations which will be applied across your entire application context specifically for <code>@Secured</code>.\nHence your code should look like this</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{..\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4342327,"reputation":145474,"user_id":3545273,"accept_rate":100,"display_name":"Serge Ballesta"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1435848587,"creation_date":1435848587,"answer_id":31187829,"question_id":31186826,"body_markdown":"There may be many reasons for which method security on a controller does not work.\r\n\r\nFirst because it is never cited as example in Spring Security manual ... joking but it may be tricky to take Spring tools where they do not want to go.\r\n\r\nMore seriously, you should enable method security as already said by @Mudassar. The manual says :\r\n\r\n*We can enable annotation-based security using the `@EnableGlobalMethodSecurity` annotation on any `@Configuration` instance. For example, the following would enable Spring Security’s `@Secured` annotation.*\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class MethodSecurityConfig {\r\n       // ...\r\n    }\r\n\r\nNote that Mudassar&#39;s answer is correct till here.\r\n\r\nBut method security is based on AOP, which by default uses JDK proxying on **interfaces**. That&#39;s the reason why all examples applies method security on the service layer, because the service classes are normally injected in controllers as interfaces.\r\n\r\nYou can of course use it on controller layer, but :\r\n\r\n- either all your controllers implement interfaces for you all `@Secured` annotated methods\r\n- or you must switch to class proxying\r\n\r\nThe rule that I try to follow is :\r\n\r\n- if I want to secure an URL, I stick to HTTPSecurity\r\n- if I need to allow finer grained access, I add security at service layer","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>There may be many reasons for which method security on a controller does not work.</p>\n\n<p>First because it is never cited as example in Spring Security manual ... joking but it may be tricky to take Spring tools where they do not want to go.</p>\n\n<p>More seriously, you should enable method security as already said by @Mudassar. The manual says :</p>\n\n<p><em>We can enable annotation-based security using the <code>@EnableGlobalMethodSecurity</code> annotation on any <code>@Configuration</code> instance. For example, the following would enable Spring Security’s <code>@Secured</code> annotation.</em></p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class MethodSecurityConfig {\n   // ...\n}\n</code></pre>\n\n<p>Note that Mudassar's answer is correct till here.</p>\n\n<p>But method security is based on AOP, which by default uses JDK proxying on <strong>interfaces</strong>. That's the reason why all examples applies method security on the service layer, because the service classes are normally injected in controllers as interfaces.</p>\n\n<p>You can of course use it on controller layer, but :</p>\n\n<ul>\n<li>either all your controllers implement interfaces for you all <code>@Secured</code> annotated methods</li>\n<li>or you must switch to class proxying</li>\n</ul>\n\n<p>The rule that I try to follow is :</p>\n\n<ul>\n<li>if I want to secure an URL, I stick to HTTPSecurity</li>\n<li>if I need to allow finer grained access, I add security at service layer</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":4474454,"reputation":579,"user_id":3639896,"accept_rate":75,"display_name":"silverhawk"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1436262034,"creation_date":1436262034,"answer_id":31265033,"question_id":31186826,"body_markdown":"This issue was solved.\r\n\r\nI add `@EnableGlobalMethodSecurity(prePostEnabled = true)`\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true)\r\n    public class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n    }\r\nAnd in controller i changed `@Secured(&quot;ADMIN&quot;)` to `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)`\r\n","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>This issue was solved.</p>\n\n<p>I add <code>@EnableGlobalMethodSecurity(prePostEnabled = true)</code></p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(prePostEnabled = true)\npublic class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{\n}\n</code></pre>\n\n<p>And in controller i changed <code>@Secured(\"ADMIN\")</code> to <code>@PreAuthorize(\"hasRole('ADMIN')\")</code></p>\n"},{"tags":[],"owner":{"account_id":163827,"reputation":1798,"user_id":386213,"accept_rate":100,"display_name":"digz6666"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462263376,"creation_date":1462263376,"answer_id":36998989,"question_id":31186826,"body_markdown":"Maybe you should register your AppSecurityConfiguration to same context as WebMvcConfig (that extends WebMvcConfigurerAdapter).\r\n\r\n    AnnotationConfigWebApplicationContext mvcContext = new AnnotationConfigWebApplicationContext();      \r\n    mvcContext.register(WebMvcConfig.class, SecurityConfig.class);","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>Maybe you should register your AppSecurityConfiguration to same context as WebMvcConfig (that extends WebMvcConfigurerAdapter).</p>\n\n<pre><code>AnnotationConfigWebApplicationContext mvcContext = new AnnotationConfigWebApplicationContext();      \nmvcContext.register(WebMvcConfig.class, SecurityConfig.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1250157,"reputation":513,"user_id":1210708,"accept_rate":43,"display_name":"user1210708"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1476118467,"creation_date":1476118138,"answer_id":39963063,"question_id":31186826,"body_markdown":"I know this thread is quite old and my answer alludes to portions of the answers by various people in this thread; but here is a list combined list of pitfalls and answers:\r\n\r\n1. When using @Secured, and the role name is (e.g.) ADMIN; this means an annotation of @Secured(&quot;ROLE_ADMIN&quot;).\r\n2. WebSecurityConfigurerAdapter must have @EnableGlobalMethodSecurity(securedEnabled = true)\r\n3. As with most Spring related proxies, make sure that the class and the secured methods are not in any way final.  For Kotlin this means &quot;open&quot; every method as well as the class.\r\n4. When the class and its methods are virtual (&quot;open&quot;), then there is no implied need for an interface.\r\n\r\n\r\nHere is part of a working Kotlin example:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;api/v1&quot;)\r\n    \r\n        open class DiagnosticsController {\r\n            @Autowired\r\n            lateinit var systemDao : SystemDao\r\n        \r\n            @RequestMapping(&quot;ping&quot;, method = arrayOf(RequestMethod.GET))\r\n            @Secured(&quot;ROLE_ADMIN&quot;)\r\n            open fun ping(request : HttpServletRequest, response: HttpServletResponse) : String { ... \r\n        }\r\n\r\nand\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    open class WebSecurityConfig : WebSecurityConfigurerAdapter() {\r\n\r\nRegards\r\n","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>I know this thread is quite old and my answer alludes to portions of the answers by various people in this thread; but here is a list combined list of pitfalls and answers:</p>\n\n<ol>\n<li>When using @Secured, and the role name is (e.g.) ADMIN; this means an annotation of @Secured(\"ROLE_ADMIN\").</li>\n<li>WebSecurityConfigurerAdapter must have @EnableGlobalMethodSecurity(securedEnabled = true)</li>\n<li>As with most Spring related proxies, make sure that the class and the secured methods are not in any way final.  For Kotlin this means \"open\" every method as well as the class.</li>\n<li>When the class and its methods are virtual (\"open\"), then there is no implied need for an interface.</li>\n</ol>\n\n<p>Here is part of a working Kotlin example:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"api/v1\")\n\n    open class DiagnosticsController {\n        @Autowired\n        lateinit var systemDao : SystemDao\n\n        @RequestMapping(\"ping\", method = arrayOf(RequestMethod.GET))\n        @Secured(\"ROLE_ADMIN\")\n        open fun ping(request : HttpServletRequest, response: HttpServletResponse) : String { ... \n    }\n</code></pre>\n\n<p>and</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(securedEnabled = true)\nopen class WebSecurityConfig : WebSecurityConfigurerAdapter() {\n</code></pre>\n\n<p>Regards</p>\n"},{"tags":[],"owner":{"account_id":8487283,"reputation":1292,"user_id":6364956,"accept_rate":86,"display_name":"Sadiq Ali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489125300,"creation_date":1489125300,"answer_id":42711243,"question_id":31186826,"body_markdown":"   You need to use @secured(ROLE_ADMIN) instead of @secured(ADMIN). You are required to write **&quot;ROLE_&quot;** infront of your role name. Please find the example mentioned below which is making sure only a user with Admin role can access list() method.\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/groups&quot;)\r\n    public class GroupController {\r\n    \r\n        @Autowired\r\n        private GroupService groupService;\r\n    \r\n        @Secured(&quot;ROLE_ADMIN&quot;)\r\n        @RequestMapping\r\n        public List&lt;Group&gt; list() {\r\n            return groupService.findAll();\r\n        }\r\n    \r\n    }\r\n      \r\n\r\n","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>You need to use @secured(ROLE_ADMIN) instead of @secured(ADMIN). You are required to write <strong>\"ROLE_\"</strong> infront of your role name. Please find the example mentioned below which is making sure only a user with Admin role can access list() method.</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/groups\")\npublic class GroupController {\n\n    @Autowired\n    private GroupService groupService;\n\n    @Secured(\"ROLE_ADMIN\")\n    @RequestMapping\n    public List&lt;Group&gt; list() {\n        return groupService.findAll();\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6970541,"reputation":171,"user_id":5347066,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1542408216,"creation_date":1542327654,"answer_id":53329693,"question_id":31186826,"body_markdown":"I want to share my decision, may be it will be helpful.\r\n\r\nUsed **spring mvc** + **spring security**, version `4.2.9.RELEASE`\r\n\r\nFor example, i have a Service with method annotated @Secured \r\n\r\n    @Secured(&quot;ACTION_USER_LIST_VIEW&quot;)\r\n    List&lt;User&gt; getUsersList();\r\n\r\nBut, it didn&#39;t work, because **GlobalMethodSecurityConfiguration** has inside method.\r\n\r\n    protected AccessDecisionManager accessDecisionManager()\r\nin which initialized the `new RoleVoter()` with default `rolePrefix = &quot;ROLE_&quot;;` *(this makes it impossible to use beans to set your rolePrefix)* that give to us not working annotations, because **RoleVoter** expects annotation value which starts with **&#39;ROLE_&#39;**\r\n\r\nFor resolving this problem i override **GlobalMethodSecurityConfiguration** like this\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(securedEnabled = true)\r\n    public class AppMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\r\n        @Override\r\n        protected AccessDecisionManager accessDecisionManager() {\r\n            List&lt;AccessDecisionVoter&lt;? extends Object&gt;&gt; decisionVoters = new ArrayList&lt;&gt;();\r\n            ExpressionBasedPreInvocationAdvice expressionAdvice = new ExpressionBasedPreInvocationAdvice();\r\n            expressionAdvice.setExpressionHandler(getExpressionHandler());\r\n            decisionVoters.add(getRoleVoter());\r\n            decisionVoters.add(new AuthenticatedVoter());\r\n            return new AffirmativeBased(decisionVoters);\r\n        }\r\n    \r\n        private RoleVoter getRoleVoter() {\r\n            RoleVoter e = new RoleVoter();\r\n            e.setRolePrefix(&quot;&quot;);\r\n            return e;\r\n        }\r\n    }","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>I want to share my decision, may be it will be helpful.</p>\n\n<p>Used <strong>spring mvc</strong> + <strong>spring security</strong>, version <code>4.2.9.RELEASE</code></p>\n\n<p>For example, i have a Service with method annotated @Secured </p>\n\n<pre><code>@Secured(\"ACTION_USER_LIST_VIEW\")\nList&lt;User&gt; getUsersList();\n</code></pre>\n\n<p>But, it didn't work, because <strong>GlobalMethodSecurityConfiguration</strong> has inside method.</p>\n\n<pre><code>protected AccessDecisionManager accessDecisionManager()\n</code></pre>\n\n<p>in which initialized the <code>new RoleVoter()</code> with default <code>rolePrefix = \"ROLE_\";</code> <em>(this makes it impossible to use beans to set your rolePrefix)</em> that give to us not working annotations, because <strong>RoleVoter</strong> expects annotation value which starts with <strong>'ROLE_'</strong></p>\n\n<p>For resolving this problem i override <strong>GlobalMethodSecurityConfiguration</strong> like this</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(securedEnabled = true)\npublic class AppMethodSecurityConfiguration extends GlobalMethodSecurityConfiguration {\n    @Override\n    protected AccessDecisionManager accessDecisionManager() {\n        List&lt;AccessDecisionVoter&lt;? extends Object&gt;&gt; decisionVoters = new ArrayList&lt;&gt;();\n        ExpressionBasedPreInvocationAdvice expressionAdvice = new ExpressionBasedPreInvocationAdvice();\n        expressionAdvice.setExpressionHandler(getExpressionHandler());\n        decisionVoters.add(getRoleVoter());\n        decisionVoters.add(new AuthenticatedVoter());\n        return new AffirmativeBased(decisionVoters);\n    }\n\n    private RoleVoter getRoleVoter() {\n        RoleVoter e = new RoleVoter();\n        e.setRolePrefix(\"\");\n        return e;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7220387,"reputation":71,"user_id":5511162,"display_name":"Hridesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686227970,"creation_date":1686227970,"answer_id":76431952,"question_id":31186826,"body_markdown":"Spend couple of hours, finally figured out. Method level security work for service layer with spring security version 5.7.8 version.\r\n\r\nI moved @PreAuthorize annotation to service class from controller class then worked for me.","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>Spend couple of hours, finally figured out. Method level security work for service layer with spring security version 5.7.8 version.</p>\n<p>I moved @PreAuthorize annotation to service class from controller class then worked for me.</p>\n"}],"owner":{"account_id":4474454,"reputation":579,"user_id":3639896,"accept_rate":75,"display_name":"silverhawk"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47047,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":31265033,"answer_count":8,"score":31,"last_activity_date":1686227970,"creation_date":1435846019,"question_id":31186826,"body_markdown":"I am trying to set up a method security annotation using @Secured(&quot;ADMIN&quot;) (without any XML, only java config, Spring Boot). But access via roles does not work.\r\n\r\nSecurity Config:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    public class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{\r\n    \r\n    .....\r\n\r\n    @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/api/**&quot;).fullyAuthenticated().and()\r\n                    .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\r\n        }\r\n\r\n    .....\r\n\r\n    }\r\nI want restrict access to the method of the controller:\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;/api/groups&quot;)\r\n    public class GroupController {\r\n    \r\n        @Autowired\r\n        private GroupService groupService;\r\n    \r\n        @Secured(&quot;ADMIN&quot;)\r\n        @RequestMapping\r\n        public List&lt;Group&gt; list() {\r\n            return groupService.findAll();\r\n        }\r\n    \r\n    }\r\nRestrict access by the url is working, with:\r\n\r\n    .antMatchers(&quot;/api/**&quot;).hasAuthority(&quot;ADMIN&quot;)\r\n\r\nMaybe I forgot to specify that I want restrict by roles?\r\n\r\n**UPD:**\r\nBy the rules, At what layer must be `@PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)` in Controller layer or in Service layer?","title":"Spring Security, Method Security annotation (@Secured ) is not working (java config)","body":"<p>I am trying to set up a method security annotation using @Secured(\"ADMIN\") (without any XML, only java config, Spring Boot). But access via roles does not work.</p>\n\n<p>Security Config:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class AppSecurityConfiguration extends WebSecurityConfigurerAdapter{\n\n.....\n\n@Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .authorizeRequests()\n                .antMatchers(\"/api/**\").fullyAuthenticated().and()\n                .addFilterBefore(tokenAuthenticationFilter(), UsernamePasswordAuthenticationFilter.class);\n    }\n\n.....\n\n}\n</code></pre>\n\n<p>I want restrict access to the method of the controller:</p>\n\n<pre><code>@RestController\n@RequestMapping(\"/api/groups\")\npublic class GroupController {\n\n    @Autowired\n    private GroupService groupService;\n\n    @Secured(\"ADMIN\")\n    @RequestMapping\n    public List&lt;Group&gt; list() {\n        return groupService.findAll();\n    }\n\n}\n</code></pre>\n\n<p>Restrict access by the url is working, with:</p>\n\n<pre><code>.antMatchers(\"/api/**\").hasAuthority(\"ADMIN\")\n</code></pre>\n\n<p>Maybe I forgot to specify that I want restrict by roles?</p>\n\n<p><strong>UPD:</strong>\nBy the rules, At what layer must be <code>@PreAuthorize(\"hasRole('ADMIN')\")</code> in Controller layer or in Service layer?</p>\n"},{"tags":["java","unit-testing","mockito","powermockito"],"comments":[{"owner":{"account_id":2818342,"reputation":299828,"user_id":2422776,"display_name":"Mureinik"},"score":1,"creation_date":1686227216,"post_id":76431832,"comment_id":134771916,"body_markdown":"Can you share a [mcve]?","body":"Can you share a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":11345119,"reputation":23,"user_id":8317805,"display_name":"Buntom"},"score":0,"creation_date":1686227664,"post_id":76431832,"comment_id":134772031,"body_markdown":"I updated the initial question","body":"I updated the initial question"}],"owner":{"account_id":11345119,"reputation":23,"user_id":8317805,"display_name":"Buntom"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686227642,"creation_date":1686227012,"question_id":76431832,"body_markdown":"I want to test method A, inside there is a call to method B, both in the same class, inside method B are calls to other methods from other classes. I want to mock method B call, but Mockito also executes the inside of method B and gives a NPE.\r\n\r\n\r\n\r\nI tried \r\n```\r\nPowerMockito.when(classA.methodB(arg1, arg2)).thenReturn(true);\r\n```\r\n\r\nBut method B is still executed. How can I overcome this?\r\n\r\nExample:\r\n\r\n```\r\n    protected boolean B(String arg1, String arg2){\r\n        String newString = arg2+arg2;\r\n        return methodFromAnotherClass(newString);\r\n    }\r\n    \r\n    protected boolean A(Integer arg1, String arg2, Double arg3){\r\n        //some code\r\n        if(B(arg2, String.valueOf(arg1))}\r\n            //some code\r\n        else \r\n            //some code\r\n    return true;\r\n    }\r\n```","title":"PowerMockito mocking a method call","body":"<p>I want to test method A, inside there is a call to method B, both in the same class, inside method B are calls to other methods from other classes. I want to mock method B call, but Mockito also executes the inside of method B and gives a NPE.</p>\n<p>I tried</p>\n<pre><code>PowerMockito.when(classA.methodB(arg1, arg2)).thenReturn(true);\n</code></pre>\n<p>But method B is still executed. How can I overcome this?</p>\n<p>Example:</p>\n<pre><code>    protected boolean B(String arg1, String arg2){\n        String newString = arg2+arg2;\n        return methodFromAnotherClass(newString);\n    }\n    \n    protected boolean A(Integer arg1, String arg2, Double arg3){\n        //some code\n        if(B(arg2, String.valueOf(arg1))}\n            //some code\n        else \n            //some code\n    return true;\n    }\n</code></pre>\n"},{"tags":["java","macos","sbt","apple-m1","testcontainers"],"comments":[{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685712074,"post_id":76388869,"comment_id":134703416,"body_markdown":"How you installed docker? which version? version of the JDK? how you installed the JDK? [homebrew](https://brew.sh/)? [sdkman](https://sdkman.io/)? If you check the docs of testcontainer, the section [Junit 5 Quickstart](https://www.testcontainers.org/quickstart/junit_5_quickstart/) assuming you are using that framework test, you also need the junit dependency from testcontainers. Could you edit your post and if it is possible provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)","body":"How you installed docker? which version? version of the JDK? how you installed the JDK? <a href=\"https://brew.sh/\" rel=\"nofollow noreferrer\">homebrew</a>? <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman</a>? If you check the docs of testcontainer, the section <a href=\"https://www.testcontainers.org/quickstart/junit_5_quickstart/\" rel=\"nofollow noreferrer\">Junit 5 Quickstart</a> assuming you are using that framework test, you also need the junit dependency from testcontainers. Could you edit your post and if it is possible provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1685713957,"post_id":76388869,"comment_id":134703897,"body_markdown":"@Gast&#243;nSchabas thanks for your reply. I added the details. Yes sdkman, Java 11 (Zulu). I am using junit4, which shouldn&#39;t need anything in addition. (This works fine on non-m1 platforms, so if there was a missing dependency it would have failed earlier). I will see if I can somehow generate another minimal reproducable example.","body":"@Gast&#243;nSchabas thanks for your reply. I added the details. Yes sdkman, Java 11 (Zulu). I am using junit4, which shouldn&#39;t need anything in addition. (This works fine on non-m1 platforms, so if there was a missing dependency it would have failed earlier). I will see if I can somehow generate another minimal reproducable example."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685717532,"post_id":76388869,"comment_id":134704712,"body_markdown":"As you said, looks like an issue related with **JNA** version and **Mac M1**. Here there is an [issue](https://github.com/testcontainers/testcontainers-java/issues/6775) about someone saying that `JNA 5.12.1` didn&#39;t work. You have also [issue 3834](https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-788995236) and [issue 3810](https://github.com/testcontainers/testcontainers-java/issues/3810#issuecomment-849512152) where `JNA 5.7.0` worked on Mac M1. Hope that helps","body":"As you said, looks like an issue related with <b>JNA</b> version and <b>Mac M1</b>. Here there is an <a href=\"https://github.com/testcontainers/testcontainers-java/issues/6775\" rel=\"nofollow noreferrer\">issue</a> about someone saying that <code>JNA 5.12.1</code> didn&#39;t work. You have also <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-788995236\" rel=\"nofollow noreferrer\">issue 3834</a> and <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3810#issuecomment-849512152\" rel=\"nofollow noreferrer\">issue 3810</a> where <code>JNA 5.7.0</code> worked on Mac M1. Hope that helps"},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1685960159,"post_id":76388869,"comment_id":134728695,"body_markdown":"@Gast&#243;nSchabas of course I looked around these issues before I asked here. The first issue is saying that JNA 5.12.1 should work (not didn&#39;t work). Issue 3834 is indicating that an older JNA version was pulled by elasticsearch. I used `sbt test:dependencyTree` to check this is not happening. I have other projects using testcontainers 1.16.0 and they work fine. I can&#39;t figure out what&#39;s wrong with this project. I tried to regenerate it with a minimal reproducable example but it works fine. I am trying to figure out what else I could check.","body":"@Gast&#243;nSchabas of course I looked around these issues before I asked here. The first issue is saying that JNA 5.12.1 should work (not didn&#39;t work). Issue 3834 is indicating that an older JNA version was pulled by elasticsearch. I used <code>sbt test:dependencyTree</code> to check this is not happening. I have other projects using testcontainers 1.16.0 and they work fine. I can&#39;t figure out what&#39;s wrong with this project. I tried to regenerate it with a minimal reproducable example but it works fine. I am trying to figure out what else I could check."},{"owner":{"account_id":9727861,"reputation":2565,"user_id":7214091,"display_name":"Gast&#243;n Schabas"},"score":0,"creation_date":1685978538,"post_id":76388869,"comment_id":134733007,"body_markdown":"I can&#39;t find any comment saying that `JNA 5.12.x` worked. Only [5.7.0](https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-997496840), [5.8.0](https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-1255224001) and [5.10.x](https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-1182636995). There is also a comment about [using mariadb instead of mysql](https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-796754296).","body":"I can&#39;t find any comment saying that <code>JNA 5.12.x</code> worked. Only <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-997496840\" rel=\"nofollow noreferrer\">5.7.0</a>, <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-1255224001\" rel=\"nofollow noreferrer\">5.8.0</a> and <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-1182636995\" rel=\"nofollow noreferrer\">5.10.x</a>. There is also a comment about <a href=\"https://github.com/testcontainers/testcontainers-java/issues/3834#issuecomment-796754296\" rel=\"nofollow noreferrer\">using mariadb instead of mysql</a>."},{"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"score":0,"creation_date":1685997998,"post_id":76388869,"comment_id":134736517,"body_markdown":"@Gast&#243;nSchabas well the last comment on that issue was &#39;Can you please try using net.java.dev.jna:jna:5.12.1?&#39; not that it didn&#39;t work. I am starting to suspect that maybe some dependency is including the old JNA classes directly rather than as a separate dependency, which is why I cant see it with dependencyTree. I did try a separate project with testcontainers and mysql and it worked, which is why i am starting to suspect this. Not sure how I can find out easily.","body":"@Gast&#243;nSchabas well the last comment on that issue was &#39;Can you please try using net.java.dev.jna:jna:5.12.1?&#39; not that it didn&#39;t work. I am starting to suspect that maybe some dependency is including the old JNA classes directly rather than as a separate dependency, which is why I cant see it with dependencyTree. I did try a separate project with testcontainers and mysql and it worked, which is why i am starting to suspect this. Not sure how I can find out easily."}],"answers":[{"tags":[],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686227045,"creation_date":1686227045,"answer_id":76431835,"question_id":76388869,"body_markdown":"For those who encounter the same issue, my problem was that although I was explicitly excluding JNA dependencies from older libraries that had not yet been updated, and made sure that only the latest version of JNA was included, there might still be libraries that have the same classes directly in the JAR file in [&quot;shaded&quot; mode][1]. \r\n\r\nIn my case, the culprit was `io.kamon:kamon-bundle`. \r\n\r\nAlthough shading is by and large considered bad practice, some major libraries still do it, causing these library conflicts, without an easy way to resolve. \r\n\r\nIf you encounter this problem, and updating to the latest `testcontainers` or JNA explicitly doesn&#39;t solve it, and excluding it from other JAR files still fails, you can either use a good IDE like IntelliJ to figure out which JAR files are providing the same class, or otherwise use the `-verbose:class` JVM switch to figure out from where each class is being loaded via the command line. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49810578/what-is-a-shaded-jar-and-what-is-the-difference-similarities-between-uber-jar-a","title":"testcontainers fails with UnsatisfiedLink error even with JNA 5.12.1 on Mac M1","body":"<p>For those who encounter the same issue, my problem was that although I was explicitly excluding JNA dependencies from older libraries that had not yet been updated, and made sure that only the latest version of JNA was included, there might still be libraries that have the same classes directly in the JAR file in <a href=\"https://stackoverflow.com/questions/49810578/what-is-a-shaded-jar-and-what-is-the-difference-similarities-between-uber-jar-a\">&quot;shaded&quot; mode</a>.</p>\n<p>In my case, the culprit was <code>io.kamon:kamon-bundle</code>.</p>\n<p>Although shading is by and large considered bad practice, some major libraries still do it, causing these library conflicts, without an easy way to resolve.</p>\n<p>If you encounter this problem, and updating to the latest <code>testcontainers</code> or JNA explicitly doesn't solve it, and excluding it from other JAR files still fails, you can either use a good IDE like IntelliJ to figure out which JAR files are providing the same class, or otherwise use the <code>-verbose:class</code> JVM switch to figure out from where each class is being loaded via the command line.</p>\n"}],"owner":{"account_id":136531,"reputation":21531,"user_id":340088,"accept_rate":68,"display_name":"jbx"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76431835,"answer_count":1,"score":0,"last_activity_date":1686227045,"creation_date":1685698014,"question_id":76388869,"body_markdown":"I have an sbt-based project that I am trying to build on my Mac M1, and its tests (JUnit 4) based on testcontainers are failing with the error below. Most solutions I found online suggested that the JNA version could be old (pre-5.6.0), so I upgraded test containers to the latest version, which includes an (almost) latest version of JNA 5.12.1: \r\n\r\n```\r\n      &quot;junit&quot; % &quot;junit&quot; % &quot;4.12&quot; % Test,\r\n      &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.18.1&quot; % Test,\r\n      &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.18.1&quot; % Test\r\n```\r\n\r\nI did `sbt dependencyTree` and `sbt test:dependencyTree` to make sure the old JNA is not included from somewhere else, and the only version included is 5.12.1. \r\n\r\nI even replaced the JNA version in my `.sbt` folder to make sure it isn&#39;t somehow being picked up from there. \r\n\r\nI am running Java 11 (through sdkman!)\r\n```\r\nopenjdk 11.0.18 2023-01-17 LTS\r\nOpenJDK Runtime Environment Zulu11.62+17-CA (build 11.0.18+10-LTS)\r\nOpenJDK 64-Bit Server VM Zulu11.62+17-CA (build 11.0.18+10-LTS, mixed mode)\r\n```\r\n\r\nAt this point I am a bit at a loss what else to try. Existent solutions don&#39;t seem to work. What could be the reason I am still getting this error, even after updating to the latest `testcontainers` and `jna` libraries?\r\n\r\nIs there any workaround I could do to avoid this (maybe not use UnixSockets at all to communicate with Docker)? \r\n\r\n\r\n```\r\n[error] Test com.redacted.my.Test failed: java.lang.UnsatisfiedLinkError: Can&#39;t load library: /Users/myself/Library/Caches/JNA/temp/jna13305103600218314813.tmp, took 0.0 sec\r\n[error]     at java.lang.ClassLoader.loadLibrary(ClassLoader.java:2633)\r\n[error]     at java.lang.Runtime.load0(Runtime.java:768)\r\n[error]     at java.lang.System.load(System.java:1837)\r\n[error]     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\r\n[error]     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\r\n[error]     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\r\n[error]     at com.github.dockerjava.transport.DomainSocket.&lt;clinit&gt;(DomainSocket.java:54)\r\n[error]     at com.github.dockerjava.transport.UnixSocket.get(UnixSocket.java:29)\r\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$test$2(DockerClientProviderStrategy.java:175)\r\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.test(DockerClientProviderStrategy.java:189)\r\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.tryOutStrategy(DockerClientProviderStrategy.java:266)\r\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$5(DockerClientProviderStrategy.java:245)\r\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\r\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n[error]     at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1632)\r\n[error]     at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n[error]     at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n[error]     at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n[error]     at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n[error]     at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n[error]     at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n[error]     at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:246)\r\n[error]     at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150)\r\n[error]     at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:186)\r\n[error]     at org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:104)\r\n[error]     at com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:109)\r\n[error]     at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:321)\r\n...\r\n```","title":"testcontainers fails with UnsatisfiedLink error even with JNA 5.12.1 on Mac M1","body":"<p>I have an sbt-based project that I am trying to build on my Mac M1, and its tests (JUnit 4) based on testcontainers are failing with the error below. Most solutions I found online suggested that the JNA version could be old (pre-5.6.0), so I upgraded test containers to the latest version, which includes an (almost) latest version of JNA 5.12.1:</p>\n<pre><code>      &quot;junit&quot; % &quot;junit&quot; % &quot;4.12&quot; % Test,\n      &quot;org.testcontainers&quot; % &quot;testcontainers&quot; % &quot;1.18.1&quot; % Test,\n      &quot;org.testcontainers&quot; % &quot;mysql&quot; % &quot;1.18.1&quot; % Test\n</code></pre>\n<p>I did <code>sbt dependencyTree</code> and <code>sbt test:dependencyTree</code> to make sure the old JNA is not included from somewhere else, and the only version included is 5.12.1.</p>\n<p>I even replaced the JNA version in my <code>.sbt</code> folder to make sure it isn't somehow being picked up from there.</p>\n<p>I am running Java 11 (through sdkman!)</p>\n<pre><code>openjdk 11.0.18 2023-01-17 LTS\nOpenJDK Runtime Environment Zulu11.62+17-CA (build 11.0.18+10-LTS)\nOpenJDK 64-Bit Server VM Zulu11.62+17-CA (build 11.0.18+10-LTS, mixed mode)\n</code></pre>\n<p>At this point I am a bit at a loss what else to try. Existent solutions don't seem to work. What could be the reason I am still getting this error, even after updating to the latest <code>testcontainers</code> and <code>jna</code> libraries?</p>\n<p>Is there any workaround I could do to avoid this (maybe not use UnixSockets at all to communicate with Docker)?</p>\n<pre><code>[error] Test com.redacted.my.Test failed: java.lang.UnsatisfiedLinkError: Can't load library: /Users/myself/Library/Caches/JNA/temp/jna13305103600218314813.tmp, took 0.0 sec\n[error]     at java.lang.ClassLoader.loadLibrary(ClassLoader.java:2633)\n[error]     at java.lang.Runtime.load0(Runtime.java:768)\n[error]     at java.lang.System.load(System.java:1837)\n[error]     at com.sun.jna.Native.loadNativeDispatchLibraryFromClasspath(Native.java:1018)\n[error]     at com.sun.jna.Native.loadNativeDispatchLibrary(Native.java:988)\n[error]     at com.sun.jna.Native.&lt;clinit&gt;(Native.java:195)\n[error]     at com.github.dockerjava.transport.DomainSocket.&lt;clinit&gt;(DomainSocket.java:54)\n[error]     at com.github.dockerjava.transport.UnixSocket.get(UnixSocket.java:29)\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$test$2(DockerClientProviderStrategy.java:175)\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.test(DockerClientProviderStrategy.java:189)\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.tryOutStrategy(DockerClientProviderStrategy.java:266)\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.lambda$getFirstValidStrategy$5(DockerClientProviderStrategy.java:245)\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:176)\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n[error]     at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n[error]     at java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1632)\n[error]     at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n[error]     at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n[error]     at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n[error]     at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n[error]     at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n[error]     at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n[error]     at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n[error]     at org.testcontainers.dockerclient.DockerClientProviderStrategy.getFirstValidStrategy(DockerClientProviderStrategy.java:246)\n[error]     at org.testcontainers.DockerClientFactory.getOrInitializeStrategy(DockerClientFactory.java:150)\n[error]     at org.testcontainers.DockerClientFactory.client(DockerClientFactory.java:186)\n[error]     at org.testcontainers.DockerClientFactory$1.getDockerClient(DockerClientFactory.java:104)\n[error]     at com.github.dockerjava.api.DockerClientDelegate.authConfig(DockerClientDelegate.java:109)\n[error]     at org.testcontainers.containers.GenericContainer.start(GenericContainer.java:321)\n...\n</code></pre>\n"},{"tags":["java","amazon-s3","spring-webflux","zipoutputstream"],"owner":{"account_id":14287770,"reputation":79,"user_id":10320673,"display_name":"Bapt_"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686226951,"creation_date":1686226951,"question_id":76431822,"body_markdown":"In my application (Spring MVC) I have a legacy endpoint returning a `ResponseEntity&lt;StreamingResponseBody&gt;`. The `StreamingResponseBody` is basically a `ZipOutputStream` built by fetching a list of documents in a S3 storage.\r\n\r\nOmitting some parts, the code is as below:\r\n\r\n```java\r\n@GetMapping(value = &quot;/zip&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\r\nResponseEntity&lt;StreamingResponseBody&gt; downloadZip() {\r\n\tList&lt;String&gt; keys = getMyKeys();\r\n\r\n\tStreamingResponseBody streamRespBody = outputStream -&gt; {\r\n\t\ttry {\r\n            // In getZipOutputStream() each document is fetched from S3 directly into the\r\n            // outputStream (connected to the client browser through \r\n            // the StreamingResponseBody) so we don&#39;t put everything in memory\r\n\t\t\tthis.documentService.getZipOutputStream(outputStream, keys);\r\n\t\t} catch (S3Exception e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t};\r\n\r\n\treturn ResponseEntity.ok()\r\n\t\t.header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=documents.zip&quot;)\r\n\t\t.contentType(MediaType.APPLICATION_OCTET_STREAM)\r\n\t\t.body(streamRespBody);\r\n}\r\n```\r\n\r\nNow I have to write something equivalent using WebFlux. I have looked around various documentations, resources, tutorials... but I can&#39;t figure a working example.\r\n\r\n\r\nIs is possible to build something equivalent possible with WebFlux, streaming a Zip to a client browser ?\r\n\r\nFor now, I can&#39;t even figure if I should return something like a `Flux&lt;SomeClasse&gt;` or if my endpoint should be a `Mono&lt;void&gt; getZip(HttpServerResponse httpResponse)` and write the `ZipOutputStream` to the client through the httpResponse.","title":"StreamingResponseBody with ZipOutputStream to WebFlux and reactive programming","body":"<p>In my application (Spring MVC) I have a legacy endpoint returning a <code>ResponseEntity&lt;StreamingResponseBody&gt;</code>. The <code>StreamingResponseBody</code> is basically a <code>ZipOutputStream</code> built by fetching a list of documents in a S3 storage.</p>\n<p>Omitting some parts, the code is as below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/zip&quot;, produces = MediaType.APPLICATION_OCTET_STREAM_VALUE)\nResponseEntity&lt;StreamingResponseBody&gt; downloadZip() {\n    List&lt;String&gt; keys = getMyKeys();\n\n    StreamingResponseBody streamRespBody = outputStream -&gt; {\n        try {\n            // In getZipOutputStream() each document is fetched from S3 directly into the\n            // outputStream (connected to the client browser through \n            // the StreamingResponseBody) so we don't put everything in memory\n            this.documentService.getZipOutputStream(outputStream, keys);\n        } catch (S3Exception e) {\n            throw new RuntimeException(e);\n        }\n    };\n\n    return ResponseEntity.ok()\n        .header(HttpHeaders.CONTENT_DISPOSITION, &quot;attachment; filename=documents.zip&quot;)\n        .contentType(MediaType.APPLICATION_OCTET_STREAM)\n        .body(streamRespBody);\n}\n</code></pre>\n<p>Now I have to write something equivalent using WebFlux. I have looked around various documentations, resources, tutorials... but I can't figure a working example.</p>\n<p>Is is possible to build something equivalent possible with WebFlux, streaming a Zip to a client browser ?</p>\n<p>For now, I can't even figure if I should return something like a <code>Flux&lt;SomeClasse&gt;</code> or if my endpoint should be a <code>Mono&lt;void&gt; getZip(HttpServerResponse httpResponse)</code> and write the <code>ZipOutputStream</code> to the client through the httpResponse.</p>\n"},{"tags":["java","spring","spring-boot","cdi"],"comments":[{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1686235300,"post_id":76431744,"comment_id":134774028,"body_markdown":"It sounds like you&#39;re trying to achieve modularity. Have you looked into OSGi?","body":"It sounds like you&#39;re trying to achieve modularity. Have you looked into OSGi?"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1686239296,"post_id":76431744,"comment_id":134774926,"body_markdown":"What you&#39;ve done is fine IMO. Is there something specific that is troubling you?","body":"What you&#39;ve done is fine IMO. Is there something specific that is troubling you?"},{"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"score":0,"creation_date":1686319327,"post_id":76431744,"comment_id":134786707,"body_markdown":"@lane.maxwell Thanks Lane for the tip, but in my case (quite a small application) OSGi would be a bit of a overkill.","body":"@lane.maxwell Thanks Lane for the tip, but in my case (quite a small application) OSGi would be a bit of a overkill."},{"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"score":0,"creation_date":1686319524,"post_id":76431744,"comment_id":134786748,"body_markdown":"@NikosParaskevopoulos Nikos, what is troubling me is basically the question when to use a dedicated service (plus corresponding interface) and when to use just old-school &quot;new SomeLogic(..., someConfigParam...)&quot;especially when application configuration is involved ... I always tend to use services, but with all those additional interfaces and classes and dependencies in the constructor etc. produces quite a lot of code... I struggle a bit what&#39;s the right way to do in for example the above mentioned zip use case (and a lot of other quite similar use cases)...","body":"@NikosParaskevopoulos Nikos, what is troubling me is basically the question when to use a dedicated service (plus corresponding interface) and when to use just old-school &quot;new SomeLogic(..., someConfigParam...)&quot;especially when application configuration is involved ... I always tend to use services, but with all those additional interfaces and classes and dependencies in the constructor etc. produces quite a lot of code... I struggle a bit what&#39;s the right way to do in for example the above mentioned zip use case (and a lot of other quite similar use cases)..."}],"owner":{"account_id":14851115,"reputation":546,"user_id":10725037,"display_name":"Natasha"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686226777,"creation_date":1686226327,"question_id":76431744,"body_markdown":"My application - a Swing-based desktop application (but I think that doesn&#39;t matter) - uses Spring Boot (but the question would be the same if I&#39;d use CDI or DI container XYZ). The application is capable of updating itself. Therefore it downloads an update zip file from an HTTP server if available, directly unzipping it in a temporary folder.\r\n\r\nI&#39;ve provided this unzip functionality via an injectable `ZipService` which has currently only one method `void unzip(URL url, Path directory) throws IOException`.\r\nThe idea was to provide a simple API and to spare the API client (in my case the API client is just another managed bean) details like &quot;connection timeout&quot; or &quot;read timeout&quot; (both in milliseconds) as this are already provided via app configuration.\r\n\r\nHow do you handle such use cases where you want to provide some API and do not want to bother the client of the API with details (for example configuration parameters) like in the example above? If there are even some known design patterns helpful in such cases then please let me know.","title":"Providing zip/unzip functionalities as a service in Spring/CDI/etc","body":"<p>My application - a Swing-based desktop application (but I think that doesn't matter) - uses Spring Boot (but the question would be the same if I'd use CDI or DI container XYZ). The application is capable of updating itself. Therefore it downloads an update zip file from an HTTP server if available, directly unzipping it in a temporary folder.</p>\n<p>I've provided this unzip functionality via an injectable <code>ZipService</code> which has currently only one method <code>void unzip(URL url, Path directory) throws IOException</code>.\nThe idea was to provide a simple API and to spare the API client (in my case the API client is just another managed bean) details like &quot;connection timeout&quot; or &quot;read timeout&quot; (both in milliseconds) as this are already provided via app configuration.</p>\n<p>How do you handle such use cases where you want to provide some API and do not want to bother the client of the API with details (for example configuration parameters) like in the example above? If there are even some known design patterns helpful in such cases then please let me know.</p>\n"},{"tags":["java","java.util.concurrent"],"comments":[{"owner":{"account_id":2668714,"reputation":1931,"user_id":2306536,"accept_rate":66,"display_name":"ASA"},"score":0,"creation_date":1443076723,"post_id":32719763,"comment_id":53349529,"body_markdown":"2 upvotes, 2 downvotes, 1 fav and one answer with 4 upvotes: Quite a controversial question! Yet I didn&#39;t receive a single comment. Stay classy, Stackoverflow.","body":"2 upvotes, 2 downvotes, 1 fav and one answer with 4 upvotes: Quite a controversial question! Yet I didn&#39;t receive a single comment. Stay classy, Stackoverflow."},{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1572015835,"post_id":32719763,"comment_id":103441147,"body_markdown":"If there are downvotes here, I have to say that are totally given fore free. Good question indeed.","body":"If there are downvotes here, I have to say that are totally given fore free. Good question indeed."}],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1442932816,"creation_date":1442932816,"answer_id":32719877,"question_id":32719763,"body_markdown":"You could use `compute` instead:\r\n\r\n    map.compute(key, (k, v) -&gt; v == null ? /*absent*/ this::getValue : /*present*/ v);\r\n\r\nand add some logic to check which branch is called.","title":"Check if computeIfAbsent of ConcurrentHashMap changed something","body":"<p>You could use <code>compute</code> instead:</p>\n\n<pre><code>map.compute(key, (k, v) -&gt; v == null ? /*absent*/ this::getValue : /*present*/ v);\n</code></pre>\n\n<p>and add some logic to check which branch is called.</p>\n"},{"tags":[],"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686226590,"creation_date":1686226590,"answer_id":76431779,"question_id":32719763,"body_markdown":"I think using `compute` is the right way, but checking whether the `mappingFunction` was called  within the compute&#39;s `remappingFunction` may not what be you want. I needed that information outside of the lambda, after `compute` had finished. I used the old array trick to extract the information out of the lambda.\r\n\r\n    final var isAbsent = new boolean[1];\r\n    instances.compute(keys, (k, value) -&gt; {\r\n        isAbsent[0] = (value == null);\r\n        return Objects.requireNonNullElseGet(value, mappingFunction);\r\n    });\r\n    if (isAbsent[0]) {\r\n        // entry was absent\r\n    }\r\n\r\nBy the way, if the map contains `null` values, then the lambda&#39;s `value` parameter can be `null` even though an entry was present. Calling `requireNonNullElseGet` ensures that no `null` values are put into the map here.","title":"Check if computeIfAbsent of ConcurrentHashMap changed something","body":"<p>I think using <code>compute</code> is the right way, but checking whether the <code>mappingFunction</code> was called  within the compute's <code>remappingFunction</code> may not what be you want. I needed that information outside of the lambda, after <code>compute</code> had finished. I used the old array trick to extract the information out of the lambda.</p>\n<pre><code>final var isAbsent = new boolean[1];\ninstances.compute(keys, (k, value) -&gt; {\n    isAbsent[0] = (value == null);\n    return Objects.requireNonNullElseGet(value, mappingFunction);\n});\nif (isAbsent[0]) {\n    // entry was absent\n}\n</code></pre>\n<p>By the way, if the map contains <code>null</code> values, then the lambda's <code>value</code> parameter can be <code>null</code> even though an entry was present. Calling <code>requireNonNullElseGet</code> ensures that no <code>null</code> values are put into the map here.</p>\n"}],"owner":{"account_id":2668714,"reputation":1931,"user_id":2306536,"accept_rate":66,"display_name":"ASA"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":2,"up_vote_count":8,"accepted_answer_id":32719877,"answer_count":2,"score":6,"last_activity_date":1686226590,"creation_date":1442932530,"question_id":32719763,"body_markdown":"How do you know that the function computeIfAbsent of a ConcurrentHashMap had to call the given generator method (&quot;mappingFunction&quot;)?  \r\nFrom the Javadoc I believe it returns the new value, if one was generated and the old value if one existed. I could set an external flag from a lambda generator function but that would be awkward...","title":"Check if computeIfAbsent of ConcurrentHashMap changed something","body":"<p>How do you know that the function computeIfAbsent of a ConcurrentHashMap had to call the given generator method (\"mappingFunction\")?<br>\nFrom the Javadoc I believe it returns the new value, if one was generated and the old value if one existed. I could set an external flag from a lambda generator function but that would be awkward...</p>\n"},{"tags":["java","curl"],"comments":[{"owner":{"account_id":4972497,"reputation":1593,"user_id":3999808,"accept_rate":0,"display_name":"Zun"},"score":0,"creation_date":1566566600,"post_id":57626667,"comment_id":101707956,"body_markdown":"Use the Retrofit library","body":"Use the Retrofit library"}],"answers":[{"tags":[],"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1667180738,"creation_date":1566571213,"answer_id":57628454,"question_id":57626667,"body_markdown":"There are three things that your HttpURLConnection needs:\r\n\r\n* The request method.  You can set this with [setRequestMethod](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/HttpURLConnection.html#setRequestMethod%28java.lang.String%29).\r\n* The headers.  You can set them with [setRequestProperty](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/URLConnection.html#setRequestProperty%28java.lang.String,java.lang.String%29).\r\n* The content type.  [The HTML specification requires](https://www.w3.org/TR/html401/interact/forms.html#h-17.13.3.4) that an HTTP request containing a form submission have `application/x-www-form-urlencoded` (or `multipart/form-data`) as its body’s content type.  This is done by setting the `Content-Type` header using the `setRequestProperty` method, just like the other headers.\r\n\r\nIt’s not clear what you’re trying to do here.  As Boris Verkhovskiy points out, curl’s `--form` option includes data as a part of a multipart request.  In your command, the content of that request would be the characters of the URLs themselves.  If you really want to submit URLs, not the images at those locations, you could use an `application/x-www-form-urlencoded` request body to do it.  The body itself needs to URL-encoded, as the content type indicates.  The [URLEncoder class](https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/URLEncoder.html) exists for this purpose.\r\n\r\nThe steps look like this:\r\n\r\n    String img1 = &quot;https://cdn.dnaindia.com/sites/default/files/styles/full/public/2018/03/08/658858-577200-katrina-kaif-052217.jpg&quot;;\r\n    String img2 = &quot;https://cdn.somethinghaute.com/wp-content/uploads/2018/07/katrina-kaif.jpg&quot;;\r\n\r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setDoOutput(true);\r\n\r\n    con.setRequestProperty(&quot;user_id&quot;, myid);\r\n    con.setRequestProperty(&quot;user_key&quot;, thekey);\r\n\r\n    con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\r\n\r\n    String body = \r\n        &quot;img_1=&quot; + URLEncoder.encode(img1, &quot;UTF-8&quot;) + &quot;&amp;&quot; +\r\n        &quot;img_2=&quot; + URLEncoder.encode(img2, &quot;UTF-8&quot;);\r\n\r\n    try (OutputStream os = con.getOutputStream()) {\r\n        byte[] input = body.getBytes(StandardCharsets.UTF_8);\r\n        os.write(input);\r\n    }\r\n\r\nHowever, if you want to submit the actual images, you will need to create a MIME request body.  Java SE cannot do this, but the [MimeMultipart](https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html) class of [JavaMail](https://javaee.github.io/javamail/), which is part of the Java EE specification, can.\r\n\r\n    Multipart multipart = new MimeMultipart(&quot;form-data&quot;);\r\n    BodyPart part;\r\n    part = new MimeBodyPart();\r\n    part.setDataHandler(new DataHandler(new URL(img1)));\r\n    multipart.addBodyPart(part);\r\n    part = new MimeBodyPart();\r\n    part.setDataHandler(new DataHandler(new URL(img2)));\r\n    multipart.addBodyPart(part);\r\n\r\n    con.setRequestMethod(&quot;POST&quot;);\r\n    con.setDoOutput(true);\r\n\r\n    con.setRequestProperty(&quot;user_id&quot;, myid);\r\n    con.setRequestProperty(&quot;user_key&quot;, thekey);\r\n\r\n    con.setRequestProperty(&quot;Content-Type&quot;, multipart.getContentType());\r\n\r\n    try (OutputStream os = con.getOutputStream()) {\r\n        multipart.writeTo(os);\r\n    }\r\n\r\nYou should remove all `catch` blocks from your code, and amend your method signatures to include `throws IOException` (or `throws IOException, MessagingException`).  You don’t want users of your application to think the operation was successful if in fact it failed, right?\r\n","title":"How to transform a curl command to HTTP POST request using java","body":"<p>There are three things that your HttpURLConnection needs:</p>\n<ul>\n<li>The request method.  You can set this with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/HttpURLConnection.html#setRequestMethod%28java.lang.String%29\" rel=\"nofollow noreferrer\">setRequestMethod</a>.</li>\n<li>The headers.  You can set them with <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/URLConnection.html#setRequestProperty%28java.lang.String,java.lang.String%29\" rel=\"nofollow noreferrer\">setRequestProperty</a>.</li>\n<li>The content type.  <a href=\"https://www.w3.org/TR/html401/interact/forms.html#h-17.13.3.4\" rel=\"nofollow noreferrer\">The HTML specification requires</a> that an HTTP request containing a form submission have <code>application/x-www-form-urlencoded</code> (or <code>multipart/form-data</code>) as its body’s content type.  This is done by setting the <code>Content-Type</code> header using the <code>setRequestProperty</code> method, just like the other headers.</li>\n</ul>\n<p>It’s not clear what you’re trying to do here.  As Boris Verkhovskiy points out, curl’s <code>--form</code> option includes data as a part of a multipart request.  In your command, the content of that request would be the characters of the URLs themselves.  If you really want to submit URLs, not the images at those locations, you could use an <code>application/x-www-form-urlencoded</code> request body to do it.  The body itself needs to URL-encoded, as the content type indicates.  The <a href=\"https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/net/URLEncoder.html\" rel=\"nofollow noreferrer\">URLEncoder class</a> exists for this purpose.</p>\n<p>The steps look like this:</p>\n<pre><code>String img1 = &quot;https://cdn.dnaindia.com/sites/default/files/styles/full/public/2018/03/08/658858-577200-katrina-kaif-052217.jpg&quot;;\nString img2 = &quot;https://cdn.somethinghaute.com/wp-content/uploads/2018/07/katrina-kaif.jpg&quot;;\n\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\n\ncon.setRequestProperty(&quot;user_id&quot;, myid);\ncon.setRequestProperty(&quot;user_key&quot;, thekey);\n\ncon.setRequestProperty(&quot;Content-Type&quot;, &quot;application/x-www-form-urlencoded&quot;);\n\nString body = \n    &quot;img_1=&quot; + URLEncoder.encode(img1, &quot;UTF-8&quot;) + &quot;&amp;&quot; +\n    &quot;img_2=&quot; + URLEncoder.encode(img2, &quot;UTF-8&quot;);\n\ntry (OutputStream os = con.getOutputStream()) {\n    byte[] input = body.getBytes(StandardCharsets.UTF_8);\n    os.write(input);\n}\n</code></pre>\n<p>However, if you want to submit the actual images, you will need to create a MIME request body.  Java SE cannot do this, but the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/mail/internet/MimeMultipart.html\" rel=\"nofollow noreferrer\">MimeMultipart</a> class of <a href=\"https://javaee.github.io/javamail/\" rel=\"nofollow noreferrer\">JavaMail</a>, which is part of the Java EE specification, can.</p>\n<pre><code>Multipart multipart = new MimeMultipart(&quot;form-data&quot;);\nBodyPart part;\npart = new MimeBodyPart();\npart.setDataHandler(new DataHandler(new URL(img1)));\nmultipart.addBodyPart(part);\npart = new MimeBodyPart();\npart.setDataHandler(new DataHandler(new URL(img2)));\nmultipart.addBodyPart(part);\n\ncon.setRequestMethod(&quot;POST&quot;);\ncon.setDoOutput(true);\n\ncon.setRequestProperty(&quot;user_id&quot;, myid);\ncon.setRequestProperty(&quot;user_key&quot;, thekey);\n\ncon.setRequestProperty(&quot;Content-Type&quot;, multipart.getContentType());\n\ntry (OutputStream os = con.getOutputStream()) {\n    multipart.writeTo(os);\n}\n</code></pre>\n<p>You should remove all <code>catch</code> blocks from your code, and amend your method signatures to include <code>throws IOException</code> (or <code>throws IOException, MessagingException</code>).  You don’t want users of your application to think the operation was successful if in fact it failed, right?</p>\n"},{"tags":[],"owner":{"account_id":19386171,"reputation":1,"user_id":14175828,"display_name":"Dhaval Zala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686226214,"creation_date":1686226214,"answer_id":76431731,"question_id":57626667,"body_markdown":"    `    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n\r\n    public class CurlToJavaExample {\r\n    public static void main(String[] args) {\r\n        try {\r\n            // Set the cURL command from Postman\r\n            String curlCommand =&quot;request&quot;;\r\n\r\n            // Extract the URL\r\n            String url = curlCommand.split(&quot;&#39;&quot;)[1];\r\n\r\n            // Create a URL object with the target URL\r\n            URL apiUrl = new URL(url);\r\n\r\n            // Open a connection to the URL\r\n            HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\r\n\r\n            // Set the request method to POST\r\n            connection.setRequestMethod(curlCommand.split(&quot;--request&quot;)[1].split(&quot;&#39;&quot;)[0].trim());\r\n\r\n            // Extract headers from the cURL command\r\n            String[] headers = curlCommand.split(&quot;--header &quot;);\r\n            for (int i = 1; i &lt; headers.length; i++) {\r\n                String header = headers[i].trim().split(&quot;&#39;&quot;)[1];\r\n                String[] keyValue = header.split(&quot;: &quot;);\r\n                connection.setRequestProperty(keyValue[0], keyValue[1]);\r\n            }\r\n\r\n            // Extract the request body from the cURL command\r\n            String requestBody = curlCommand.split(&quot;--data-raw &quot;)[1].trim().split(&quot;&#39;&quot;)[1];\r\n\r\n            // Set the request body\r\n            connection.setDoOutput(true);\r\n            connection.getOutputStream().write(requestBody.getBytes(&quot;UTF-8&quot;));\r\n\r\n            // Get the response code\r\n            int responseCode = connection.getResponseCode();\r\n            System.out.println(&quot;Response Code: &quot; + responseCode);\r\n\r\n            // Read the response\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\r\n            String line;\r\n            StringBuilder response = new StringBuilder();\r\n            while ((line = reader.readLine()) != null) {\r\n                response.append(line);\r\n            }\r\n            reader.close();\r\n\r\n            // Print the response\r\n            System.out.println(&quot;Response: &quot; + response.toString());\r\n\r\n            // Close the connection\r\n            connection.disconnect();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n    }\r\n`","title":"How to transform a curl command to HTTP POST request using java","body":"<pre><code>`    import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\n\npublic class CurlToJavaExample {\npublic static void main(String[] args) {\n    try {\n        // Set the cURL command from Postman\n        String curlCommand =&quot;request&quot;;\n\n        // Extract the URL\n        String url = curlCommand.split(&quot;'&quot;)[1];\n\n        // Create a URL object with the target URL\n        URL apiUrl = new URL(url);\n\n        // Open a connection to the URL\n        HttpURLConnection connection = (HttpURLConnection) apiUrl.openConnection();\n\n        // Set the request method to POST\n        connection.setRequestMethod(curlCommand.split(&quot;--request&quot;)[1].split(&quot;'&quot;)[0].trim());\n\n        // Extract headers from the cURL command\n        String[] headers = curlCommand.split(&quot;--header &quot;);\n        for (int i = 1; i &lt; headers.length; i++) {\n            String header = headers[i].trim().split(&quot;'&quot;)[1];\n            String[] keyValue = header.split(&quot;: &quot;);\n            connection.setRequestProperty(keyValue[0], keyValue[1]);\n        }\n\n        // Extract the request body from the cURL command\n        String requestBody = curlCommand.split(&quot;--data-raw &quot;)[1].trim().split(&quot;'&quot;)[1];\n\n        // Set the request body\n        connection.setDoOutput(true);\n        connection.getOutputStream().write(requestBody.getBytes(&quot;UTF-8&quot;));\n\n        // Get the response code\n        int responseCode = connection.getResponseCode();\n        System.out.println(&quot;Response Code: &quot; + responseCode);\n\n        // Read the response\n        BufferedReader reader = new BufferedReader(new InputStreamReader(connection.getInputStream()));\n        String line;\n        StringBuilder response = new StringBuilder();\n        while ((line = reader.readLine()) != null) {\n            response.append(line);\n        }\n        reader.close();\n\n        // Print the response\n        System.out.println(&quot;Response: &quot; + response.toString());\n\n        // Close the connection\n        connection.disconnect();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n}\n</code></pre>\n<p>`</p>\n"}],"owner":{"account_id":15109469,"reputation":1459,"user_id":10904039,"display_name":"Phill Alexakis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5230,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57628454,"answer_count":2,"score":3,"last_activity_date":1686226214,"creation_date":1566564492,"question_id":57626667,"body_markdown":"I would like to run this specific curl command with a `HTTP` `POST` request in `java`\r\n\r\n```\r\ncurl --location --request POST &quot;http://106.51.58.118:5000/compare_faces?face_det=1&quot; \\\r\n  --header &quot;user_id: myid&quot; \\\r\n  --header &quot;user_key: thekey&quot; \\\r\n  --form &quot;img_1=https://cdn.dnaindia.com/sites/default/files/styles/full/public/2018/03/08/658858-577200-katrina-kaif-052217.jpg&quot; \\\r\n  --form &quot;img_2=https://cdn.somethinghaute.com/wp-content/uploads/2018/07/katrina-kaif.jpg&quot;\r\n```\r\n\r\nI only know how to make simple `POST` requests by passing a `JSON` object, But i&#39;ve never tried to `POST` based on the above `curl` command.\r\n\r\nHere is a `POST` example that I&#39;ve made based on this `curl` command:\r\n\r\n```\r\ncurl -X POST TheUrl/sendEmail \r\n-H &#39;Accept: application/json&#39; -H &#39;Content-Type: application/json&#39; \r\n-d &#39;{&quot;emailFrom&quot;: &quot;smth@domain.com&quot;, &quot;emailTo&quot;: \r\n[&quot;smth@gmail.com&quot;], &quot;emailSubject&quot;: &quot;Test email&quot;, &quot;emailBody&quot;:\r\n&quot;708568&quot;, &quot;generateQRcode&quot;: true}&#39; -k \r\n```\r\n\r\nHere is how i did it using `java`\r\n\r\n```java\r\n    public void sendEmail(String url) {\r\n        try {\r\n            URL obj = new URL(url);\r\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n\r\n            //add reuqest header\r\n            con.setRequestMethod(&quot;POST&quot;);\r\n            con.setRequestProperty(&quot;Content-Type&quot;, &quot;application/json; utf-8&quot;);\r\n            con.setRequestProperty(&quot;Accept&quot;, &quot;application/json&quot;);\r\n            con.setDoOutput(true);\r\n            \r\n            // Send post request\r\n            JSONObject test = new JSONObject();\r\n            test.put(&quot;emailFrom&quot;, emailFrom);\r\n            test.put(&quot;emailTo&quot;, emailTo);\r\n            test.put(&quot;emailSubject&quot;, emailSubject);\r\n            test.put(&quot;emailBody&quot;, emailBody);\r\n            test.put(&quot;generateQRcode&quot;, generateQRcode);\r\n            String jsonInputString = test.toString();\r\n            System.out.println(jsonInputString);\r\n            System.out.println(&quot;Email Response:&quot; + returnResponse(con, jsonInputString));\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n        System.out.println(&quot;Mail sent&quot;);\r\n    }\r\n\r\n    public String returnResponse(HttpURLConnection con, String jsonInputString) {\r\n        try (OutputStream os = con.getOutputStream()) {\r\n            byte[] input = jsonInputString.getBytes(&quot;utf-8&quot;);\r\n            os.write(input, 0, input.length);\r\n        } catch (Exception e) {\r\n            System.out.println(e);\r\n        }\r\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream(), &quot;utf-8&quot;))) {\r\n            StringBuilder response = new StringBuilder();\r\n            String responseLine = null;\r\n            while ((responseLine = br.readLine()) != null) {\r\n                response.append(responseLine.trim());\r\n            }\r\n            return response.toString();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Couldnt read response from URL&quot;);\r\n            System.out.println(e);\r\n            return null;\r\n        }\r\n    }\r\n```\r\n\r\nI&#39;ve found this useful [link][1] but i can&#39;t really understand how to use it in my example.\r\n\r\nIs it any different from my example? and if yes how can i `POST` the following data?\r\n\r\n**Note:** Required Data\r\n\r\n```\r\n\r\nHEADERS:\r\n\r\nuser_id myid\r\nuser_key mykey\r\n\r\nPARAMS:\r\nface_det 1\r\nboxes 120,150,200,250 (this is optional)\r\n\r\n\r\nBODY:\r\n\r\nimg_1\r\nmultipart/base64 encoded image or remote url of image\r\n\r\nimg_2\r\nmultipart/base64 encoded image or remote url of image\r\n```\r\n\r\nHere is the complete documentation of the [API][2]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/7172784/how-do-i-post-json-data-with-curl-from-a-terminal-commandline-to-test-spring-res\r\n  [2]: https://documenter.getpostman.com/view/5211511/RWaDYCUN?version=latest#49003cb5-55d7-d363-bb64-d202fd8d9cd7","title":"How to transform a curl command to HTTP POST request using java","body":"<p>I would like to run this specific curl command with a <code>HTTP</code> <code>POST</code> request in <code>java</code></p>\n\n<pre><code>curl --location --request POST \"http://106.51.58.118:5000/compare_faces?face_det=1\" \\\n  --header \"user_id: myid\" \\\n  --header \"user_key: thekey\" \\\n  --form \"img_1=https://cdn.dnaindia.com/sites/default/files/styles/full/public/2018/03/08/658858-577200-katrina-kaif-052217.jpg\" \\\n  --form \"img_2=https://cdn.somethinghaute.com/wp-content/uploads/2018/07/katrina-kaif.jpg\"\n</code></pre>\n\n<p>I only know how to make simple <code>POST</code> requests by passing a <code>JSON</code> object, But i've never tried to <code>POST</code> based on the above <code>curl</code> command.</p>\n\n<p>Here is a <code>POST</code> example that I've made based on this <code>curl</code> command:</p>\n\n<pre><code>curl -X POST TheUrl/sendEmail \n-H 'Accept: application/json' -H 'Content-Type: application/json' \n-d '{\"emailFrom\": \"smth@domain.com\", \"emailTo\": \n[\"smth@gmail.com\"], \"emailSubject\": \"Test email\", \"emailBody\":\n\"708568\", \"generateQRcode\": true}' -k \n</code></pre>\n\n<p>Here is how i did it using <code>java</code></p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    public void sendEmail(String url) {\n        try {\n            URL obj = new URL(url);\n            HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n\n            //add reuqest header\n            con.setRequestMethod(\"POST\");\n            con.setRequestProperty(\"Content-Type\", \"application/json; utf-8\");\n            con.setRequestProperty(\"Accept\", \"application/json\");\n            con.setDoOutput(true);\n\n            // Send post request\n            JSONObject test = new JSONObject();\n            test.put(\"emailFrom\", emailFrom);\n            test.put(\"emailTo\", emailTo);\n            test.put(\"emailSubject\", emailSubject);\n            test.put(\"emailBody\", emailBody);\n            test.put(\"generateQRcode\", generateQRcode);\n            String jsonInputString = test.toString();\n            System.out.println(jsonInputString);\n            System.out.println(\"Email Response:\" + returnResponse(con, jsonInputString));\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        System.out.println(\"Mail sent\");\n    }\n\n    public String returnResponse(HttpURLConnection con, String jsonInputString) {\n        try (OutputStream os = con.getOutputStream()) {\n            byte[] input = jsonInputString.getBytes(\"utf-8\");\n            os.write(input, 0, input.length);\n        } catch (Exception e) {\n            System.out.println(e);\n        }\n        try (BufferedReader br = new BufferedReader(new InputStreamReader(con.getInputStream(), \"utf-8\"))) {\n            StringBuilder response = new StringBuilder();\n            String responseLine = null;\n            while ((responseLine = br.readLine()) != null) {\n                response.append(responseLine.trim());\n            }\n            return response.toString();\n        } catch (Exception e) {\n            System.out.println(\"Couldnt read response from URL\");\n            System.out.println(e);\n            return null;\n        }\n    }\n</code></pre>\n\n<p>I've found this useful <a href=\"https://stackoverflow.com/questions/7172784/how-do-i-post-json-data-with-curl-from-a-terminal-commandline-to-test-spring-res\">link</a> but i can't really understand how to use it in my example.</p>\n\n<p>Is it any different from my example? and if yes how can i <code>POST</code> the following data?</p>\n\n<p><strong>Note:</strong> Required Data</p>\n\n<pre><code>\nHEADERS:\n\nuser_id myid\nuser_key mykey\n\nPARAMS:\nface_det 1\nboxes 120,150,200,250 (this is optional)\n\n\nBODY:\n\nimg_1\nmultipart/base64 encoded image or remote url of image\n\nimg_2\nmultipart/base64 encoded image or remote url of image\n</code></pre>\n\n<p>Here is the complete documentation of the <a href=\"https://documenter.getpostman.com/view/5211511/RWaDYCUN?version=latest#49003cb5-55d7-d363-bb64-d202fd8d9cd7\" rel=\"nofollow noreferrer\">API</a></p>\n"},{"tags":["java","apache-flink","flink-streaming","flink-table-api"],"owner":{"account_id":23460519,"reputation":65,"user_id":17515437,"display_name":"Vinay Cheguri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686225886,"creation_date":1686225494,"question_id":76431629,"body_markdown":"await method on TableResult is not working when job is submitted via Session Mode using Apache Flink Operator by creating FlinkSessionJob resource in kubernetes. The same code is working when the job is deployed using the application mode. Here is the sample code snippet\r\n\r\n    TableResult insertQueryResult = tableEnv.executeSql(&quot;SELECT * FROM table&quot;);\r\n    insertQueryResult.await();\r\n\r\nCan someone please help me in resolving the below error?\r\n\r\n    org.apache.flink.util.FlinkRuntimeException: The Job Result cannot be fetched through the Job Client when in Web Submission.\r\n\r\n\r\nWhat is the workaround to execute a fallback function after executeSql? Will there be any possibility of adding await functionality in future releases(in Session mode)?","title":"await method on TableResult is not working when job is submitted via Session Mode using Apache Flink Operator","body":"<p>await method on TableResult is not working when job is submitted via Session Mode using Apache Flink Operator by creating FlinkSessionJob resource in kubernetes. The same code is working when the job is deployed using the application mode. Here is the sample code snippet</p>\n<pre><code>TableResult insertQueryResult = tableEnv.executeSql(&quot;SELECT * FROM table&quot;);\ninsertQueryResult.await();\n</code></pre>\n<p>Can someone please help me in resolving the below error?</p>\n<pre><code>org.apache.flink.util.FlinkRuntimeException: The Job Result cannot be fetched through the Job Client when in Web Submission.\n</code></pre>\n<p>What is the workaround to execute a fallback function after executeSql? Will there be any possibility of adding await functionality in future releases(in Session mode)?</p>\n"},{"tags":["java","spring","spring-boot","arangodb","arangodb-java"],"answers":[{"tags":[],"owner":{"account_id":464362,"reputation":1084,"user_id":867816,"display_name":"Gernot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225685,"creation_date":1686225685,"answer_id":76431657,"question_id":73066348,"body_markdown":"ArangoDB used exactly what you demand to serialize BigDecimals. But due to a precision loss (my guess) they changed that starting with [ArangoDB 4.4.0 released on April 19th 2018.][1]\r\n\r\nNote: you (may) loose precision when you call Arangos &quot;to_number&quot;. From the [docs][2]:\r\n\r\n&gt; Strings are converted to their numeric equivalent if the string contains a valid representation of a number.\r\n\r\n\r\n  [1]: https://github.com/arangodb/arangodb-java-driver/blob/b0dd98a45dbdfa9ec3ad8cd12cb2022ce06f0568/ChangeLog.md?plain=1#L627\r\n  [2]: https://www.arangodb.com/docs/stable/aql/functions-type-cast.html#to_number","title":"Spring boot w/ arango: Store BigDecimal as number","body":"<p>ArangoDB used exactly what you demand to serialize BigDecimals. But due to a precision loss (my guess) they changed that starting with <a href=\"https://github.com/arangodb/arangodb-java-driver/blob/b0dd98a45dbdfa9ec3ad8cd12cb2022ce06f0568/ChangeLog.md?plain=1#L627\" rel=\"nofollow noreferrer\">ArangoDB 4.4.0 released on April 19th 2018.</a></p>\n<p>Note: you (may) loose precision when you call Arangos &quot;to_number&quot;. From the <a href=\"https://www.arangodb.com/docs/stable/aql/functions-type-cast.html#to_number\" rel=\"nofollow noreferrer\">docs</a>:</p>\n<blockquote>\n<p>Strings are converted to their numeric equivalent if the string contains a valid representation of a number.</p>\n</blockquote>\n"}],"owner":{"account_id":4680460,"reputation":191,"user_id":3789298,"display_name":"Thomas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686225685,"creation_date":1658407097,"question_id":73066348,"body_markdown":"I&#39;m trying to save a BigDecimal to arango db, but it stores it as a String. This creates a problems with sorting - I have to call `to_number`. Is there any possibility to tell arango to store big decimal as normal number?","title":"Spring boot w/ arango: Store BigDecimal as number","body":"<p>I'm trying to save a BigDecimal to arango db, but it stores it as a String. This creates a problems with sorting - I have to call <code>to_number</code>. Is there any possibility to tell arango to store big decimal as normal number?</p>\n"},{"tags":["java","hibernate","hibernate-validator"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1409734220,"post_id":25639950,"comment_id":40061467,"body_markdown":"Just out of curiosity: why is `getPersons()` private? Why is the return type `Integer` if it never can be null? How did you define your entity, are you using field or property access?","body":"Just out of curiosity: why is <code>getPersons()</code> private? Why is the return type <code>Integer</code> if it never can be null? How did you define your entity, are you using field or property access?"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1409735174,"post_id":25639950,"comment_id":40062020,"body_markdown":"I only created this method for validation purpose. That&#39;s why it&#39;s private, as it should never be accessed. `Integer` was a typo, sorry.","body":"I only created this method for validation purpose. That&#39;s why it&#39;s private, as it should never be accessed. <code>Integer</code> was a typo, sorry."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1409749175,"post_id":25639950,"comment_id":40070264,"body_markdown":"yes private getter, because as I wrote it should not be accessed, but hibernate can only find getters or setters.","body":"yes private getter, because as I wrote it should not be accessed, but hibernate can only find getters or setters."},{"owner":{"account_id":40043,"reputation":18749,"user_id":115835,"display_name":"Hardy"},"score":0,"creation_date":1409821926,"post_id":25639950,"comment_id":40100483,"body_markdown":"It should work. Could you post the full stacktrace? Also how are you triggering validation and which version of Hibernate Validator are you using? Besides of that, I probably would use a custom class level constraints instead of introducing a private method which is not used for anything (except validation).","body":"It should work. Could you post the full stacktrace? Also how are you triggering validation and which version of Hibernate Validator are you using? Besides of that, I probably would use a custom class level constraints instead of introducing a private method which is not used for anything (except validation)."},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":0,"creation_date":1409822591,"post_id":25639950,"comment_id":40100837,"body_markdown":"Ok you&#39;re probably right, I will go for the classlevle contraints.","body":"Ok you&#39;re probably right, I will go for the classlevle contraints."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1409734668,"creation_date":1409734349,"answer_id":25640103,"question_id":25639950,"body_markdown":"I never used Hibernate Validator, but from what I read, validation only works on public properties (as opposed to field based validation where access type doesn&#39;t seem to matter), i.e. HV can&#39;t access `getPersons()` since it is private. Changing that to public should resolve the issue.\r\n","title":"Hibernate cross-field validation for integers?","body":"<p>I never used Hibernate Validator, but from what I read, validation only works on public properties (as opposed to field based validation where access type doesn't seem to matter), i.e. HV can't access <code>getPersons()</code> since it is private. Changing that to public should resolve the issue.</p>\n"},{"tags":[],"owner":{"account_id":28772032,"reputation":1,"user_id":22035585,"display_name":"Upendra Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225333,"creation_date":1686225146,"answer_id":76431582,"question_id":25639950,"body_markdown":"\r\n        @Range(min = 0, max = 4)\r\n        private int getPersons() {\r\n      if(Objects.nonNull(adults)\r\n      &amp;&amp; Objects.nonNull(children))){\r\n            return adults+children;\r\n          }\r\n         return Objects.nonNull(adults) ? abults: children;\r\n        }\r\n","title":"Hibernate cross-field validation for integers?","body":"<pre><code>    @Range(min = 0, max = 4)\n    private int getPersons() {\n  if(Objects.nonNull(adults)\n  &amp;&amp; Objects.nonNull(children))){\n        return adults+children;\n      }\n     return Objects.nonNull(adults) ? abults: children;\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686225333,"creation_date":1409733824,"question_id":25639950,"body_markdown":"I&#39;d like to perform cross-field `hibernate` validation on the following class:\r\n\r\n    public class MyClass {\r\n            private int adults;\r\n            private int children;\r\n        \r\n        \t@Range(min = 0, max = 4)\r\n        \tprivate int getPersons() {\r\n        \t\treturn adults + children;\r\n        \t}\r\n    }\r\n\r\n\r\nResult: &quot;HV000090: Unable to access getPersons.&quot;\r\n\r\nWhy can&#39;t I make validations on a method that does not have an explicit class member variable?\r\n","title":"Hibernate cross-field validation for integers?","body":"<p>I'd like to perform cross-field <code>hibernate</code> validation on the following class:</p>\n\n<pre><code>public class MyClass {\n        private int adults;\n        private int children;\n\n        @Range(min = 0, max = 4)\n        private int getPersons() {\n            return adults + children;\n        }\n}\n</code></pre>\n\n<p>Result: \"HV000090: Unable to access getPersons.\"</p>\n\n<p>Why can't I make validations on a method that does not have an explicit class member variable?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":10455349,"reputation":1414,"user_id":7707680,"display_name":"Nebojsa Nebojsa"},"score":0,"creation_date":1686206241,"post_id":76429083,"comment_id":134767905,"body_markdown":"Is this solution to your problem [stackoverflow link](https://stackoverflow.com/questions/68386328/how-do-i-convert-json-nested-array-to-multidimensional-arraylist-in-java)","body":"Is this solution to your problem <a href=\"https://stackoverflow.com/questions/68386328/how-do-i-convert-json-nested-array-to-multidimensional-arraylist-in-java\">stackoverflow link</a>"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686206378,"post_id":76429083,"comment_id":134767928,"body_markdown":"It&#39;s not valid JSON, so you may have to parse it by hand.","body":"It&#39;s not valid JSON, so you may have to parse it by hand."},{"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"score":0,"creation_date":1686206609,"post_id":76429083,"comment_id":134767976,"body_markdown":"@shmosel How do I do that? Can you please guide me?","body":"@shmosel How do I do that? Can you please guide me?"},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686207306,"post_id":76429083,"comment_id":134768115,"body_markdown":"ChatGPT is good at this type of task.","body":"ChatGPT is good at this type of task."}],"answers":[{"tags":[],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686223780,"creation_date":1686223780,"answer_id":76431399,"question_id":76429083,"body_markdown":"After finding no other solution, I just iterated over the whole string and appended each element to the arraylist like this:\r\n```\r\nString temp = arr.get(0).get(4).toString();\r\nString details = &quot;&quot;;\r\nArrayList&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\r\nArrayList&lt;ArrayList&lt;String&gt;&gt; final = new ArrayList&lt;&gt;();\r\nfor(int i=2; i&lt;temp.length()-1; i++){\r\n    if(temp.charAt(i) != &#39;,&#39; &amp;&amp; temp.charAt(i) != &#39; &#39; &amp;&amp; temp.charAt(i) != &#39;[&#39;){\r\n        if(temp.charAt(i) != &#39;]&#39;)\r\n            details += temp.charAt(i);\r\n        else{\r\n            temp1.add(details);\r\n            final.add(temp1);\r\n            temp1 = new ArrayList&lt;&gt;();\r\n            details = &quot;&quot;;\r\n        }\r\n    }\r\n    else{\r\n        if(!details.equals(&quot;&quot;)) {\r\n            temp1.add(details);\r\n        }\r\n        details = &quot;&quot;;\r\n    }\r\n}\r\n```","title":"How do I convert a JSONArray to a multidimensional arraylist?","body":"<p>After finding no other solution, I just iterated over the whole string and appended each element to the arraylist like this:</p>\n<pre><code>String temp = arr.get(0).get(4).toString();\nString details = &quot;&quot;;\nArrayList&lt;String&gt; temp1 = new ArrayList&lt;&gt;();\nArrayList&lt;ArrayList&lt;String&gt;&gt; final = new ArrayList&lt;&gt;();\nfor(int i=2; i&lt;temp.length()-1; i++){\n    if(temp.charAt(i) != ',' &amp;&amp; temp.charAt(i) != ' ' &amp;&amp; temp.charAt(i) != '['){\n        if(temp.charAt(i) != ']')\n            details += temp.charAt(i);\n        else{\n            temp1.add(details);\n            final.add(temp1);\n            temp1 = new ArrayList&lt;&gt;();\n            details = &quot;&quot;;\n        }\n    }\n    else{\n        if(!details.equals(&quot;&quot;)) {\n            temp1.add(details);\n        }\n        details = &quot;&quot;;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225298,"creation_date":1686225298,"answer_id":76431605,"question_id":76429083,"body_markdown":"There is a one liner solution. Don&#39;t use json.org library use Jackson Json library. In this case all you veed to do is\r\n\r\n    ObjectMapper om = new ObjectMapper();\r\n    List&lt;Object&gt; myList = om.readValue(response.body(), List.class);\r\n\r\nAlso, there is a JsonUtil class that is a thin wrapper over ObjectMapper that allows you to do the same without instantiating ObjectMapper:\r\n\r\n    List&lt;Object&gt; myList = JsonUtils.readObjectFromJsonString(response.body(), List.class);\r\n\r\nJsonUtils comes with MgntUtils OpenSource library written and maintained by me. You can get it as a [Maven artifact][1] or on [Github][2] (including javadoc and source code). Here is [Javadoc for JsonUtils class][3]\r\n\r\n\r\n  [1]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [2]: https://github.com/michaelgantman/Mgnt/releases\r\n  [3]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html","title":"How do I convert a JSONArray to a multidimensional arraylist?","body":"<p>There is a one liner solution. Don't use json.org library use Jackson Json library. In this case all you veed to do is</p>\n<pre><code>ObjectMapper om = new ObjectMapper();\nList&lt;Object&gt; myList = om.readValue(response.body(), List.class);\n</code></pre>\n<p>Also, there is a JsonUtil class that is a thin wrapper over ObjectMapper that allows you to do the same without instantiating ObjectMapper:</p>\n<pre><code>List&lt;Object&gt; myList = JsonUtils.readObjectFromJsonString(response.body(), List.class);\n</code></pre>\n<p>JsonUtils comes with MgntUtils OpenSource library written and maintained by me. You can get it as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact</a> or on <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">Github</a> (including javadoc and source code). Here is <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils class</a></p>\n"}],"owner":{"account_id":28625477,"reputation":81,"user_id":21917572,"display_name":"abhishek_6198"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686225298,"creation_date":1686205089,"question_id":76429083,"body_markdown":"My code:\r\n```\r\ntry {\r\n    JSONArray array = new JSONArray(response.body());\r\n    List&lt;JSONArray&gt; arr = new ArrayList&lt;&gt;();\r\n    for (int i = 0; i &lt; array.length(); i++) {\r\n        arr.add(array.getJSONArray(i));\r\n    }\r\n    Log.d(&quot;arr&quot;,arr.toString());\r\n}catch (JSONException e) {\r\n    throw new RuntimeException(e);\r\n} \r\n```\r\nThis is my `arr`:\r\n```\r\n[[&quot;bdbd&quot;,&quot;hdhs&quot;,&quot;hdhd&quot;,&quot;1234567890&quot;,&quot;[[shhs, sbbs, married], [sjsn, snsn, unmarried]]&quot;]]\r\n```\r\nI want to convert the last element inside my `arr` \r\n\r\n&gt; &quot;[[shhs, sbbs, married], [sjsn, snsn, unmarried]]&quot;\r\n\r\nto a multidimensional ArrayList (`ArrayList&lt;ArrayList&lt;String&gt;&gt;`). How do I do this?\r\n","title":"How do I convert a JSONArray to a multidimensional arraylist?","body":"<p>My code:</p>\n<pre><code>try {\n    JSONArray array = new JSONArray(response.body());\n    List&lt;JSONArray&gt; arr = new ArrayList&lt;&gt;();\n    for (int i = 0; i &lt; array.length(); i++) {\n        arr.add(array.getJSONArray(i));\n    }\n    Log.d(&quot;arr&quot;,arr.toString());\n}catch (JSONException e) {\n    throw new RuntimeException(e);\n} \n</code></pre>\n<p>This is my <code>arr</code>:</p>\n<pre><code>[[&quot;bdbd&quot;,&quot;hdhs&quot;,&quot;hdhd&quot;,&quot;1234567890&quot;,&quot;[[shhs, sbbs, married], [sjsn, snsn, unmarried]]&quot;]]\n</code></pre>\n<p>I want to convert the last element inside my <code>arr</code></p>\n<blockquote>\n<p>&quot;[[shhs, sbbs, married], [sjsn, snsn, unmarried]]&quot;</p>\n</blockquote>\n<p>to a multidimensional ArrayList (<code>ArrayList&lt;ArrayList&lt;String&gt;&gt;</code>). How do I do this?</p>\n"},{"tags":["java","itext","radio-button","radio-group","section508"],"owner":{"account_id":28779921,"reputation":1,"user_id":22041742,"display_name":"jmaydev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686224932,"creation_date":1686224932,"question_id":76431556,"body_markdown":"The issue I am running into is when I create a radio button group and it&#39;s corresponding radio buttons, screen readers like Jaws are refusing to read out the Radio Button Group name/label/value before the radio button value.\r\n\r\nideally a screen reader like JAWS would read the following radio group + radio buttons like this every time a user tabs to a new radio button. Below is a pseudo example of the code.\r\n\r\n\r\nRadiogroup name/label: &quot;Are there any guests coming?&quot;\r\n\r\nradio button one - &quot;Yes&quot;\r\n\r\nradio button two - &quot;No&quot;\r\n\r\nThe above should read like this every time a user tabs to a radio button:\r\n\r\n&quot;Are there any guests coming? radio button yes, one of two radio buttons&quot;\r\n\r\n&quot;Are there any guests coming? radio button no, two of two radio buttons&quot;\r\n\r\nor something along those lines where it&#39;s announcing the name/label of the radio group in addition to the value of the radio buttons + the normal JAWs stuff like identifying what number of radio buttons in the group it&#39;s currently tabbed to.\r\n\r\n\r\n\r\nI have tried iText&#39;s accessibleProperties class and adding &quot;actualText&quot; and &quot;setAlternateDescription&quot; but, I haven&#39;t been able to get anything to pick up in JAWS, the screen reader. \r\n\r\nWhat ends up happening is it just reads the value of the radio button and skips the Radio Group name/Label, and it definately doesn&#39;t mention it when you tab to another radio button, you&#39;re just getting that radio button&#39;s value read out by the screen reader. \r\n\r\nI was expecting when a user tabs to a radio button in the radio group, that the radio group name/label will be read out loud in addition to the radio button value.","title":"how can I create 508 compliant radio groups and radio buttons using iText version 7.0","body":"<p>The issue I am running into is when I create a radio button group and it's corresponding radio buttons, screen readers like Jaws are refusing to read out the Radio Button Group name/label/value before the radio button value.</p>\n<p>ideally a screen reader like JAWS would read the following radio group + radio buttons like this every time a user tabs to a new radio button. Below is a pseudo example of the code.</p>\n<p>Radiogroup name/label: &quot;Are there any guests coming?&quot;</p>\n<p>radio button one - &quot;Yes&quot;</p>\n<p>radio button two - &quot;No&quot;</p>\n<p>The above should read like this every time a user tabs to a radio button:</p>\n<p>&quot;Are there any guests coming? radio button yes, one of two radio buttons&quot;</p>\n<p>&quot;Are there any guests coming? radio button no, two of two radio buttons&quot;</p>\n<p>or something along those lines where it's announcing the name/label of the radio group in addition to the value of the radio buttons + the normal JAWs stuff like identifying what number of radio buttons in the group it's currently tabbed to.</p>\n<p>I have tried iText's accessibleProperties class and adding &quot;actualText&quot; and &quot;setAlternateDescription&quot; but, I haven't been able to get anything to pick up in JAWS, the screen reader.</p>\n<p>What ends up happening is it just reads the value of the radio button and skips the Radio Group name/Label, and it definately doesn't mention it when you tab to another radio button, you're just getting that radio button's value read out by the screen reader.</p>\n<p>I was expecting when a user tabs to a radio button in the radio group, that the radio group name/label will be read out loud in addition to the radio button value.</p>\n"},{"tags":["java","selenium-webdriver","jmeter","performance-testing","load-testing"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686224532,"creation_date":1686224532,"answer_id":76431511,"question_id":76431187,"body_markdown":"You can get latency from the [Performance Timing API][1], something like: \r\n\r\n\tdef now = System.currentTimeMillis()\r\n\tdef ttfb = WDS.browser.executeScript(&#39;return window.performance.timing.responseStart&#39;) as long\r\n\tWDS.sampleResult.setLatency(now - ttfb)\r\n\r\nI&#39;m not sure what do you mean by &quot;rendering time&quot;, the whole WebDriver Sampler execution time is stored as Elapsed Time and it&#39;s possible to overwrite it with your own value using [JSR223 PostProcessor][2] and [Groovy language][3] but you need to let us know what exactly you&#39;re looking for.  \r\n\r\n\r\n  [1]: https://developer.mozilla.org/en-US/docs/Web/Performance/Navigation_and_resource_timings\r\n  [2]: https://jmeter.apache.org/usermanual/component_reference.html#JSR223_PostProcessor\r\n  [3]: https://www.blazemeter.com/blog/apache-groovy","title":"How to get Latency, Rendering time using Webdriver sampler in Jmeter","body":"<p>You can get latency from the <a href=\"https://developer.mozilla.org/en-US/docs/Web/Performance/Navigation_and_resource_timings\" rel=\"nofollow noreferrer\">Performance Timing API</a>, something like:</p>\n<pre><code>def now = System.currentTimeMillis()\ndef ttfb = WDS.browser.executeScript('return window.performance.timing.responseStart') as long\nWDS.sampleResult.setLatency(now - ttfb)\n</code></pre>\n<p>I'm not sure what do you mean by &quot;rendering time&quot;, the whole WebDriver Sampler execution time is stored as Elapsed Time and it's possible to overwrite it with your own value using <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#JSR223_PostProcessor\" rel=\"nofollow noreferrer\">JSR223 PostProcessor</a> and <a href=\"https://www.blazemeter.com/blog/apache-groovy\" rel=\"nofollow noreferrer\">Groovy language</a> but you need to let us know what exactly you're looking for.</p>\n"}],"owner":{"account_id":28167452,"reputation":1,"user_id":21526457,"display_name":"zenitsu Agastuma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686224532,"creation_date":1686222317,"question_id":76431187,"body_markdown":"I need to get the values of latency and rendering time of the web application using Webdriver sampler in jmeter\r\n\r\nCould you please tell me how to get those values and if you provide some sample webdriver sampler codes for get rendering time and latency values ..\r\n\r\n\r\nExpected results:\r\n\r\n1)Get latency\r\n2)Get rendering time","title":"How to get Latency, Rendering time using Webdriver sampler in Jmeter","body":"<p>I need to get the values of latency and rendering time of the web application using Webdriver sampler in jmeter</p>\n<p>Could you please tell me how to get those values and if you provide some sample webdriver sampler codes for get rendering time and latency values ..</p>\n<p>Expected results:</p>\n<p>1)Get latency\n2)Get rendering time</p>\n"},{"tags":["java","spring","file-upload","cloudinary","video-upload"],"comments":[{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686226820,"post_id":76431504,"comment_id":134771804,"body_markdown":"Are you sure that error come from cloudinary not from servlet? May be you limit servlet container of upload file size?  Check spring boot config parameter to increase multipart size of underneath servlet container. Also you code is tricks the error it catches both error types: from container and from cloudinary. If you able to catch exception debug mode pay attention what type of error is it.","body":"Are you sure that error come from cloudinary not from servlet? May be you limit servlet container of upload file size?  Check spring boot config parameter to increase multipart size of underneath servlet container. Also you code is tricks the error it catches both error types: from container and from cloudinary. If you able to catch exception debug mode pay attention what type of error is it."},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686226874,"post_id":76431504,"comment_id":134771817,"body_markdown":"Replace  LOG.info(e.getMessage()); with \nLOG.error(&quot;&quot;, e);\nthis will also will log type of error, not just generic string message which may be common for both io errors.","body":"Replace  LOG.info(e.getMessage()); with  LOG.error(&quot;&quot;, e); this will also will log type of error, not just generic string message which may be common for both io errors."},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686227173,"post_id":76431504,"comment_id":134771902,"body_markdown":"Or may be you need to replace &quot;upload&quot; with &quot;uploadLarge&quot;","body":"Or may be you need to replace &quot;upload&quot; with &quot;uploadLarge&quot;"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686228974,"post_id":76431504,"comment_id":134772336,"body_markdown":"Your code doesn&#39;t even execute I would say. The error is thrown by the default file upload handling from Spring Boot which has this limit. Set to a larger limit or disable file upload as a whole and use a streaming approach (which will use less resources).","body":"Your code doesn&#39;t even execute I would say. The error is thrown by the default file upload handling from Spring Boot which has this limit. Set to a larger limit or disable file upload as a whole and use a streaming approach (which will use less resources)."},{"owner":{"account_id":16214902,"reputation":1540,"user_id":11707957,"display_name":"Aleksandar"},"score":0,"creation_date":1686229984,"post_id":76431504,"comment_id":134772626,"body_markdown":"If you could also please retry an upload request and log/print the value of the exact error message returned from Cloudinary API - that would help.","body":"If you could also please retry an upload request and log/print the value of the exact error message returned from Cloudinary API - that would help."},{"owner":{"account_id":26846031,"reputation":1,"user_id":20431758,"display_name":"Šimon Kov&#225;č"},"score":0,"creation_date":1686247365,"post_id":76431504,"comment_id":134776524,"body_markdown":"Thank you guys for your suggestion. In deed the problem was spring. I added the following to application properties spring.servlet.multipart.max-file-size=100MB\nspring.servlet.multipart.max-request-size=100MB. I would like to know more about the streaming approach. Could you tell me more M.Deinum ?","body":"Thank you guys for your suggestion. In deed the problem was spring. I added the following to application properties spring.servlet.multipart.max-file-size=100MB spring.servlet.multipart.max-request-size=100MB. I would like to know more about the streaming approach. Could you tell me more M.Deinum ?"}],"owner":{"account_id":26846031,"reputation":1,"user_id":20431758,"display_name":"Šimon Kov&#225;č"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686224496,"creation_date":1686224496,"question_id":76431504,"body_markdown":"I am using Cloudinary to handle file uploads in my Java Spring application. I have a @PutMapping endpoint that receives a video file using multipart/form-data. However, when I attempt to upload the video file, I receive the following error: **the request was rejected because its size (27838844) exceeds the configured maximum (10485760)**\r\n\r\nIt seems that Cloudinary is treating the file as an image and applying the lower file size limit instead of the expected limit for videos. How can I specify to Cloudinary that the uploaded file is a video, so that the correct file size limit is applied?\r\n\r\n    @PutMapping(value = &quot;/update/{id}&quot;, consumes = &quot;multipart/form-data&quot;)\r\n      public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; UpdateCourse(@RequestParam(&quot;file&quot;MultipartFile file, HttpServletRequest request) throws IOException {\r\n    Map&lt;String, Object&gt; response = new HashMap&lt;&gt;();\r\n    response.put(&quot;filename&quot;, file.getBytes());\r\n\r\n    try {\r\n        Map&lt;String, Object&gt; name = cloudinary.uploader().upload(file.getInputStream(), ObjectUtils.asMap(&quot;resource_type&quot;, &quot;video&quot;));\r\n\r\n        response.put(&quot;message&quot;, &quot;File uploaded successfully&quot;);\r\n        response.put(&quot;url&quot;, name.get(&quot;secure_url&quot;));\r\n    } catch (Exception e) {\r\n        LOG.info(e.getMessage());\r\n    }\r\n\r\n    return ResponseEntity.ok(response);\r\n}\r\n\r\nI have verified that the video file size exceeds the default file size limit for images.\r\nI have also checked my Cloudinary account settings and confirmed that the maximum video file size limit is indeed set to a higher value than the error suggests.\r\nI have tried specifying &quot;resource_type&quot; as &quot;video&quot; in the options passed to cloudinary.uploader().upload(), but the issue persists.\r\nI appreciate any insights or suggestions on how to resolve this issue and correctly specify the file type as a video during the upload process. Thank you!\r\n","title":"Cloudinary upload of video file results in &quot;request rejected due to exceeding maximum size&quot; error","body":"<p>I am using Cloudinary to handle file uploads in my Java Spring application. I have a @PutMapping endpoint that receives a video file using multipart/form-data. However, when I attempt to upload the video file, I receive the following error: <strong>the request was rejected because its size (27838844) exceeds the configured maximum (10485760)</strong></p>\n<p>It seems that Cloudinary is treating the file as an image and applying the lower file size limit instead of the expected limit for videos. How can I specify to Cloudinary that the uploaded file is a video, so that the correct file size limit is applied?</p>\n<pre><code>@PutMapping(value = &quot;/update/{id}&quot;, consumes = &quot;multipart/form-data&quot;)\n  public ResponseEntity&lt;Map&lt;String, Object&gt;&gt; UpdateCourse(@RequestParam(&quot;file&quot;MultipartFile file, HttpServletRequest request) throws IOException {\nMap&lt;String, Object&gt; response = new HashMap&lt;&gt;();\nresponse.put(&quot;filename&quot;, file.getBytes());\n\ntry {\n    Map&lt;String, Object&gt; name = cloudinary.uploader().upload(file.getInputStream(), ObjectUtils.asMap(&quot;resource_type&quot;, &quot;video&quot;));\n\n    response.put(&quot;message&quot;, &quot;File uploaded successfully&quot;);\n    response.put(&quot;url&quot;, name.get(&quot;secure_url&quot;));\n} catch (Exception e) {\n    LOG.info(e.getMessage());\n}\n\nreturn ResponseEntity.ok(response);\n</code></pre>\n<p>}</p>\n<p>I have verified that the video file size exceeds the default file size limit for images.\nI have also checked my Cloudinary account settings and confirmed that the maximum video file size limit is indeed set to a higher value than the error suggests.\nI have tried specifying &quot;resource_type&quot; as &quot;video&quot; in the options passed to cloudinary.uploader().upload(), but the issue persists.\nI appreciate any insights or suggestions on how to resolve this issue and correctly specify the file type as a video during the upload process. Thank you!</p>\n"},{"tags":["java","algorithm","performance","merge","hashmap"],"comments":[{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1686181461,"post_id":76427592,"comment_id":134765634,"body_markdown":"If your code is working, the question might be more suitable for [Code Review](https://codereview.stackexchange.com/)","body":"If your code is working, the question might be more suitable for <a href=\"https://codereview.stackexchange.com/\">Code Review</a>"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1686182129,"post_id":76427592,"comment_id":134765694,"body_markdown":"Thanks for the suggestion","body":"Thanks for the suggestion"},{"owner":{"account_id":4354234,"reputation":845,"user_id":3553434,"display_name":"alalalala"},"score":0,"creation_date":1686201842,"post_id":76427592,"comment_id":134767338,"body_markdown":"if：\n`map1   = {root: {a: abc, b: {c: c, d: d}}}`,\n`map2   = {root: {a: qwe, b: {c: x}}`. the result wille be what structure????","body":"if： <code>map1   = {root: {a: abc, b: {c: c, d: d}}}</code>, <code>map2   = {root: {a: qwe, b: {c: x}}</code>. the result wille be what structure????"},{"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"score":0,"creation_date":1686204517,"post_id":76427592,"comment_id":134767657,"body_markdown":"`{root: {a: qwe, b: {c: x, d: d}}`","body":"<code>{root: {a: qwe, b: {c: x, d: d}}</code>"},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":0,"creation_date":1686206265,"post_id":76427592,"comment_id":134767908,"body_markdown":"This might not be the answer you want to hear, but this is the only one I will ever give to someone having this problem. HashMaps are tremendously inefficient, much more when talking about multidimensionality (lists, nested, etc.). Additionally, if their sizes are so big, it seems clear that you have modelled through code what you should have done via another resource like a DB. In any case, replacing almost any part with a more efficient option such as plain arrays (even 2D or 3D or various of them) would have a noticeable impact on performance and memory usage (out of space)...","body":"This might not be the answer you want to hear, but this is the only one I will ever give to someone having this problem. HashMaps are tremendously inefficient, much more when talking about multidimensionality (lists, nested, etc.). Additionally, if their sizes are so big, it seems clear that you have modelled through code what you should have done via another resource like a DB. In any case, replacing almost any part with a more efficient option such as plain arrays (even 2D or 3D or various of them) would have a noticeable impact on performance and memory usage (out of space)..."},{"owner":{"account_id":2891308,"reputation":12354,"user_id":2480047,"display_name":"varocarbas"},"score":0,"creation_date":1686206535,"post_id":76427592,"comment_id":134767959,"body_markdown":"... (continuation from previous comment) I have done that myself many times. I do tend to rely on multidimensional HashMaps often because they are an easy way to create somehow complex data setups, although never up to the level which you seemed to have reached here. Afterwards, when trying to optimise the code, I gradually replace them with more efficient collections. In this case, I would start with the inner parts, the ones storing the final results. As said, you could replace one single HashMap with various arrays and it would still be very worthy.","body":"... (continuation from previous comment) I have done that myself many times. I do tend to rely on multidimensional HashMaps often because they are an easy way to create somehow complex data setups, although never up to the level which you seemed to have reached here. Afterwards, when trying to optimise the code, I gradually replace them with more efficient collections. In this case, I would start with the inner parts, the ones storing the final results. As said, you could replace one single HashMap with various arrays and it would still be very worthy."},{"owner":{"account_id":4680926,"reputation":2259,"user_id":3789665,"accept_rate":57,"display_name":"greybeard"},"score":0,"creation_date":1686218146,"post_id":76427592,"comment_id":134770103,"body_markdown":"On Code Review@SE: [Merge a list of deeply nested HashMaps](https://codereview.stackexchange.com/q/285398/93149).","body":"On Code Review@SE: <a href=\"https://codereview.stackexchange.com/q/285398/93149\">Merge a list of deeply nested HashMaps</a>."}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686183519,"creation_date":1686183519,"answer_id":76427853,"question_id":76427592,"body_markdown":"You could try implementing your own _map_.\r\n\r\nIt would require a re-factor of your code.\r\n\r\nI presume there would be a subtle increase in performance&amp;mdash;possibly negligible.\r\n\r\n```java\r\nabstract class Value {\r\n\r\n}\r\n\r\nclass ScalarNumber extends Value {\r\n    Number value;\r\n}\r\n\r\nclass ScalarBoolean extends Value {\r\n    boolean value;\r\n}\r\n\r\nclass ScalarChar extends Value {\r\n    char value;\r\n}\r\n\r\nclass Values extends Value {\r\n    List&lt;Value&gt; list;\r\n}\r\n\r\nclass Entry extends Value {\r\n    String key;\r\n    Value value;\r\n}","title":"How to efficiently merge a list of deeply nested HashMaps?","body":"<p>You could try implementing your own <em>map</em>.</p>\n<p>It would require a re-factor of your code.</p>\n<p>I presume there would be a subtle increase in performance—possibly negligible.</p>\n<pre class=\"lang-java prettyprint-override\"><code>abstract class Value {\n\n}\n\nclass ScalarNumber extends Value {\n    Number value;\n}\n\nclass ScalarBoolean extends Value {\n    boolean value;\n}\n\nclass ScalarChar extends Value {\n    char value;\n}\n\nclass Values extends Value {\n    List&lt;Value&gt; list;\n}\n\nclass Entry extends Value {\n    String key;\n    Value value;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686224296,"creation_date":1686217292,"answer_id":76430538,"question_id":76427592,"body_markdown":"Here are some observations that may or may not help as I&#39;m not in position to test with your datasets. \r\n\r\n`HashMap` might perform rehash of internal tables when number of entries exceeds the maps load factor as you add loop over `other`. You have mostly accounted for this with `Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(map.size() + other.size());`. In JDK19+ there is a slightly better call which scales up the size by the load factor so there shouldn&#39;t be a rehash event:\r\n\r\n    Map&lt;String, Object&gt; result = LinkedHashMap.newLinkedHashMap(map.size() + other.size());\r\n\r\nYour loop would be simpler using `merge`, so logic like this:\r\n\r\n    public static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\r\n        Map&lt;String, Object&gt; result = LinkedHashMap.newLinkedHashMap(map.size() + other.size());\r\n        result.putAll(map);\r\n\r\n        for (Map.Entry&lt;String, Object&gt; entry : other.entrySet()) {\r\n            result.merge(entry.getKey(), entry.getValue(), (val1, val2) -&gt;\r\n                    (val1 instanceof Map &amp;&amp; val2 instanceof Map)\r\n                    ? mergeMaps((Map&lt;String, Object&gt;) val1, (Map&lt;String, Object&gt;) val2)\r\n                    : val2 );\r\n        }\r\n        return result;\r\n    }\r\n\r\nThe stream over config still causes a lot of copying from one map to another and those intermediate maps are lost at each stage. If you used your own `HashMap` as a marker you could avoid some of the new map construction and copying to next when you detect use of a map you&#39;ve already created.\r\n\r\n    class MyHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; {// or LinkedHM if prefer \r\n        MyHashMap(int size) {\r\n            super(size);\r\n        }\r\n    }\r\n\r\nThen the first line of mergeMaps can bypass the `putAll` step as `map` parameter already contains what you need to return:\r\n\r\n    public static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\r\n        Map&lt;String, Object&gt; result = map;\r\n        if (!(map instanceof MyHashMap)) {\r\n            result = new MyHashMap(map.size() + other.size());\r\n            result.putAll(map);\r\n        }\r\n        ...\r\n    }\r\n\r\nBut be careful with `MyHashMap` approach if you use the final output of the merge in another round of merges as then the input maps will be modified rather than reconstructed as copies.\r\n\r\nIf your original maps are `ConcurrentHashMap` then the `other.entrySet()` constructs new `Map.Entry` for each item, the loop might be better as:\r\n\r\n    for (String key : other.keySet()) {\r\n        result.merge(key, other.get(key), ...\r\n","title":"How to efficiently merge a list of deeply nested HashMaps?","body":"<p>Here are some observations that may or may not help as I'm not in position to test with your datasets.</p>\n<p><code>HashMap</code> might perform rehash of internal tables when number of entries exceeds the maps load factor as you add loop over <code>other</code>. You have mostly accounted for this with <code>Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(map.size() + other.size());</code>. In JDK19+ there is a slightly better call which scales up the size by the load factor so there shouldn't be a rehash event:</p>\n<pre><code>Map&lt;String, Object&gt; result = LinkedHashMap.newLinkedHashMap(map.size() + other.size());\n</code></pre>\n<p>Your loop would be simpler using <code>merge</code>, so logic like this:</p>\n<pre><code>public static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\n    Map&lt;String, Object&gt; result = LinkedHashMap.newLinkedHashMap(map.size() + other.size());\n    result.putAll(map);\n\n    for (Map.Entry&lt;String, Object&gt; entry : other.entrySet()) {\n        result.merge(entry.getKey(), entry.getValue(), (val1, val2) -&gt;\n                (val1 instanceof Map &amp;&amp; val2 instanceof Map)\n                ? mergeMaps((Map&lt;String, Object&gt;) val1, (Map&lt;String, Object&gt;) val2)\n                : val2 );\n    }\n    return result;\n}\n</code></pre>\n<p>The stream over config still causes a lot of copying from one map to another and those intermediate maps are lost at each stage. If you used your own <code>HashMap</code> as a marker you could avoid some of the new map construction and copying to next when you detect use of a map you've already created.</p>\n<pre><code>class MyHashMap&lt;K,V&gt; extends HashMap&lt;K,V&gt; {// or LinkedHM if prefer \n    MyHashMap(int size) {\n        super(size);\n    }\n}\n</code></pre>\n<p>Then the first line of mergeMaps can bypass the <code>putAll</code> step as <code>map</code> parameter already contains what you need to return:</p>\n<pre><code>public static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\n    Map&lt;String, Object&gt; result = map;\n    if (!(map instanceof MyHashMap)) {\n        result = new MyHashMap(map.size() + other.size());\n        result.putAll(map);\n    }\n    ...\n}\n</code></pre>\n<p>But be careful with <code>MyHashMap</code> approach if you use the final output of the merge in another round of merges as then the input maps will be modified rather than reconstructed as copies.</p>\n<p>If your original maps are <code>ConcurrentHashMap</code> then the <code>other.entrySet()</code> constructs new <code>Map.Entry</code> for each item, the loop might be better as:</p>\n<pre><code>for (String key : other.keySet()) {\n    result.merge(key, other.get(key), ...\n</code></pre>\n"}],"owner":{"account_id":88286,"reputation":198831,"user_id":244296,"accept_rate":86,"display_name":"Cristian"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686224296,"creation_date":1686178930,"question_id":76427592,"body_markdown":"Suppose I have a list of hashmaps (`&lt;String, Object&gt;`). Values can be either scalar types or a nested HashMap with the same type.\r\n\r\nI need to merge a list of this maps into a final HashMap, each map in the list has higher precedence than the one before. Also the merge has to be deep: i.e.:\r\n\r\n```\r\nmap1   = {root: {a: a, b: {c: c, d: d}}}\r\nmap2   = {root: {a: a, b: {c: x}}\r\nresult = {root: {a: a, b: {c: x, d: d}}}\r\n```\r\n\r\nIn the previous example, the sub tree `b` in `map2` does not override the whole subtree in `map1`. It just overrides the leaves that are duplicated.\r\n\r\nThe code I have right now looks like this and works ok:\r\n\r\n```java\r\npublic static Map&lt;String, Object&gt; merge(List&lt;Map&lt;String, Object&gt;&gt; configs) {\r\n    return configs.stream()\r\n            .filter(Objects::nonNull)\r\n            .reduce(new LinkedHashMap&lt;&gt;(), ConfigMerger::mergeMaps);\r\n}\r\n\r\npublic static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\r\n    Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(map.size() + other.size());\r\n    result.putAll(map);\r\n\r\n    for (Map.Entry&lt;String, Object&gt; entry : other.entrySet()) {\r\n        String key = entry.getKey();\r\n        Object val2 = entry.getValue();\r\n        Object val1 = result.get(key);\r\n\r\n        if (val1 instanceof Map &amp;&amp; val2 instanceof Map) {\r\n            Map&lt;String, Object&gt; nestedResult = mergeMaps((Map&lt;String, Object&gt;) val1, (Map&lt;String, Object&gt;) val2);\r\n            result.put(key, nestedResult);\r\n        } else {\r\n            result.put(key, val2);\r\n        }\r\n    }\r\n\r\n    return result;\r\n}\r\n```\r\n\r\nThe only issue is that `result.putAll(map);` is a bit wasteful. I do that for every nested map in each one of the original maps.\r\n\r\nI tried a slightly more complicated approach, which is around 20% faster, and yet the most expensive method is the `HashSet.addAll`:\r\n\r\n```java\r\n// (assumes the list in reversed order)\r\npublic static Map&lt;String, Object&gt; merge2(List&lt;Map&lt;String, Object&gt;&gt; configs) {\r\n    Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\r\n    Set&lt;String&gt; allKeys = new HashSet&lt;&gt;();\r\n    for (Map&lt;String, Object&gt; config : configs) {\r\n        allKeys.addAll(config.keySet());\r\n    }\r\n    for (String key : allKeys) {\r\n        if (configs.get(0).get(key) instanceof Map&lt;?, ?&gt;) {\r\n            List&lt;Map&lt;String, Object&gt;&gt; nestedConfigs = new ArrayList&lt;&gt;();\r\n            for (Map&lt;String, Object&gt; config : configs) {\r\n                if (config.get(key) instanceof Map&lt;?, ?&gt;) {\r\n                    nestedConfigs.add((Map&lt;String, Object&gt;) config.get(key));\r\n                }\r\n            }\r\n            result.put(key, merge2(nestedConfigs));\r\n        } else {\r\n            for (Map&lt;String, Object&gt; config : configs) {\r\n                if (config.containsKey(key)) {\r\n                    result.put(key, config.get(key));\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return result;\r\n}\r\n```\r\n\r\nIs there any other approach I could try that could help me squeeze a bit more of performance out of this?\r\n\r\nFor context, the maps are usually huge (hundreds of subtrees) and the nesting level up to fifty sometimes.","title":"How to efficiently merge a list of deeply nested HashMaps?","body":"<p>Suppose I have a list of hashmaps (<code>&lt;String, Object&gt;</code>). Values can be either scalar types or a nested HashMap with the same type.</p>\n<p>I need to merge a list of this maps into a final HashMap, each map in the list has higher precedence than the one before. Also the merge has to be deep: i.e.:</p>\n<pre><code>map1   = {root: {a: a, b: {c: c, d: d}}}\nmap2   = {root: {a: a, b: {c: x}}\nresult = {root: {a: a, b: {c: x, d: d}}}\n</code></pre>\n<p>In the previous example, the sub tree <code>b</code> in <code>map2</code> does not override the whole subtree in <code>map1</code>. It just overrides the leaves that are duplicated.</p>\n<p>The code I have right now looks like this and works ok:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static Map&lt;String, Object&gt; merge(List&lt;Map&lt;String, Object&gt;&gt; configs) {\n    return configs.stream()\n            .filter(Objects::nonNull)\n            .reduce(new LinkedHashMap&lt;&gt;(), ConfigMerger::mergeMaps);\n}\n\npublic static Map&lt;String, Object&gt; mergeMaps(Map&lt;String, Object&gt; map, Map&lt;String, Object&gt; other) {\n    Map&lt;String, Object&gt; result = new LinkedHashMap&lt;&gt;(map.size() + other.size());\n    result.putAll(map);\n\n    for (Map.Entry&lt;String, Object&gt; entry : other.entrySet()) {\n        String key = entry.getKey();\n        Object val2 = entry.getValue();\n        Object val1 = result.get(key);\n\n        if (val1 instanceof Map &amp;&amp; val2 instanceof Map) {\n            Map&lt;String, Object&gt; nestedResult = mergeMaps((Map&lt;String, Object&gt;) val1, (Map&lt;String, Object&gt;) val2);\n            result.put(key, nestedResult);\n        } else {\n            result.put(key, val2);\n        }\n    }\n\n    return result;\n}\n</code></pre>\n<p>The only issue is that <code>result.putAll(map);</code> is a bit wasteful. I do that for every nested map in each one of the original maps.</p>\n<p>I tried a slightly more complicated approach, which is around 20% faster, and yet the most expensive method is the <code>HashSet.addAll</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// (assumes the list in reversed order)\npublic static Map&lt;String, Object&gt; merge2(List&lt;Map&lt;String, Object&gt;&gt; configs) {\n    Map&lt;String, Object&gt; result = new HashMap&lt;&gt;();\n    Set&lt;String&gt; allKeys = new HashSet&lt;&gt;();\n    for (Map&lt;String, Object&gt; config : configs) {\n        allKeys.addAll(config.keySet());\n    }\n    for (String key : allKeys) {\n        if (configs.get(0).get(key) instanceof Map&lt;?, ?&gt;) {\n            List&lt;Map&lt;String, Object&gt;&gt; nestedConfigs = new ArrayList&lt;&gt;();\n            for (Map&lt;String, Object&gt; config : configs) {\n                if (config.get(key) instanceof Map&lt;?, ?&gt;) {\n                    nestedConfigs.add((Map&lt;String, Object&gt;) config.get(key));\n                }\n            }\n            result.put(key, merge2(nestedConfigs));\n        } else {\n            for (Map&lt;String, Object&gt; config : configs) {\n                if (config.containsKey(key)) {\n                    result.put(key, config.get(key));\n                    break;\n                }\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n<p>Is there any other approach I could try that could help me squeeze a bit more of performance out of this?</p>\n<p>For context, the maps are usually huge (hundreds of subtrees) and the nesting level up to fifty sometimes.</p>\n"},{"tags":["java","clojure","javalin"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686208356,"post_id":76429403,"comment_id":134768298,"body_markdown":"have you read the error message? In the original call you only pass two parameters, in the attempt that doesn&#39;t work, you pass 3","body":"have you read the error message? In the original call you only pass two parameters, in the attempt that doesn&#39;t work, you pass 3"},{"owner":{"account_id":6942061,"reputation":1761,"user_id":5329711,"accept_rate":46,"display_name":"madeinQuant"},"score":0,"creation_date":1686208774,"post_id":76429403,"comment_id":134768379,"body_markdown":"@Stultuske, thank for you reply. I read the error messages, I am not familiar with Clojure, this is why I seek comment how to fix it","body":"@Stultuske, thank for you reply. I read the error messages, I am not familiar with Clojure, this is why I seek comment how to fix it"},{"owner":{"account_id":991688,"reputation":4726,"user_id":1008794,"display_name":"Rulle"},"score":1,"creation_date":1686209224,"post_id":76429403,"comment_id":134768490,"body_markdown":"`Javalin/get` looks like a call to a *static* method. Did you try `(.get app &quot;/&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;)))` instead? You could possibly chain the ops: `(-&gt; (Javalin/create) (.get &quot;/&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;))) (.start 7070))`.","body":"<code>Javalin&#47;get</code> looks like a call to a <i>static</i> method. Did you try <code>(.get app &quot;&#47;&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;)))</code> instead? You could possibly chain the ops: <code>(-&gt; (Javalin&#47;create) (.get &quot;&#47;&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;))) (.start 7070))</code>."}],"answers":[{"tags":[],"owner":{"account_id":18645516,"reputation":7468,"user_id":13590263,"display_name":"Martin Půda"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1686224082,"creation_date":1686209255,"answer_id":76429535,"question_id":76429403,"body_markdown":"The first issue with your code, is that you are making a call to a non-existent static method of the Javalin class. Your call to `get` approximately translates to:\r\n\r\n```java\r\nJavalin.get(app, &quot;/&quot;, (ctx) -&gt; ctx.result(&quot;Hello World&quot;));\r\n```\r\n\r\nJust as you call `result` on `ctx` with `(.result ctx &quot;Hello World&quot;)`, you need to call `get` the same way: `(.get app &quot;/&quot; (fn ...))`.\r\n\r\nHowever, you will see that you are not getting the appropriate type for the handler function. Use [`reify`][3] to create an instance of [Handler][2] - you just have to add another argument to `handle` (&quot;this&quot;):\r\n```\r\nDependency: [io.javalin/javalin &quot;5.5.0&quot;]\r\n\r\n(ns ...\r\n  (:import (io.javalin Javalin)\r\n           (io.javalin.http Handler))\r\n  (:gen-class))\r\n\r\n(defn -main []\r\n  (doto (Javalin/create)\r\n    (.get &quot;/&quot; (reify Handler\r\n                (handle [_ ctx] (.result ctx &quot;Hello World&quot;))))\r\n    (.start 7070)))\r\n```\r\nYou can also use [`proxy`][1]:\r\n```\r\n(defn -main []\r\n  (doto (Javalin/create)\r\n    (.get &quot;/&quot; (proxy [Handler] []\r\n                (handle [ctx] (.result ctx &quot;Hello World&quot;))))\r\n    (.start 7070)))\r\n```\r\n\r\n\r\n  [1]: https://clojuredocs.org/clojure.core/proxy\r\n  [2]: https://javadoc.io/static/io.javalin/javalin/3.0.0/io/javalin/http/Handler.html\r\n  [3]: https://clojuredocs.org/clojure.core/reify","title":"How to translate a simple web framework in Javalin into Clojure?","body":"<p>The first issue with your code, is that you are making a call to a non-existent static method of the Javalin class. Your call to <code>get</code> approximately translates to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Javalin.get(app, &quot;/&quot;, (ctx) -&gt; ctx.result(&quot;Hello World&quot;));\n</code></pre>\n<p>Just as you call <code>result</code> on <code>ctx</code> with <code>(.result ctx &quot;Hello World&quot;)</code>, you need to call <code>get</code> the same way: <code>(.get app &quot;/&quot; (fn ...))</code>.</p>\n<p>However, you will see that you are not getting the appropriate type for the handler function. Use <a href=\"https://clojuredocs.org/clojure.core/reify\" rel=\"nofollow noreferrer\"><code>reify</code></a> to create an instance of <a href=\"https://javadoc.io/static/io.javalin/javalin/3.0.0/io/javalin/http/Handler.html\" rel=\"nofollow noreferrer\">Handler</a> - you just have to add another argument to <code>handle</code> (&quot;this&quot;):</p>\n<pre><code>Dependency: [io.javalin/javalin &quot;5.5.0&quot;]\n\n(ns ...\n  (:import (io.javalin Javalin)\n           (io.javalin.http Handler))\n  (:gen-class))\n\n(defn -main []\n  (doto (Javalin/create)\n    (.get &quot;/&quot; (reify Handler\n                (handle [_ ctx] (.result ctx &quot;Hello World&quot;))))\n    (.start 7070)))\n</code></pre>\n<p>You can also use <a href=\"https://clojuredocs.org/clojure.core/proxy\" rel=\"nofollow noreferrer\"><code>proxy</code></a>:</p>\n<pre><code>(defn -main []\n  (doto (Javalin/create)\n    (.get &quot;/&quot; (proxy [Handler] []\n                (handle [ctx] (.result ctx &quot;Hello World&quot;))))\n    (.start 7070)))\n</code></pre>\n"}],"owner":{"account_id":6942061,"reputation":1761,"user_id":5329711,"accept_rate":46,"display_name":"madeinQuant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76429535,"answer_count":1,"score":1,"last_activity_date":1686224082,"creation_date":1686208281,"question_id":76429403,"body_markdown":"There is a simple web framework in Javalin\r\n\r\n    import io.javalin.Javalin;\r\n    \r\n    public class HelloWorld {\r\n        public static void main(String[] args) {\r\n            var app = Javalin.create(/*config*/)\r\n                .get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;))\r\n                .start(7070);\r\n        }\r\n    }\r\n\r\nTranslated into Clojure.\r\n=======================\r\n\r\n\r\n    (ns javalin.javalin101)\r\n    \r\n    (import &#39;io.javalin.Javalin)\r\n    \r\n    (defn -main []\r\n      (let [app (Javalin/create)]\r\n        (Javalin/get app &quot;/&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;)))\r\n        (.start app 7070)))\r\n\r\ndeps.edn \r\n========\r\n\r\n    {:paths [&quot;src&quot;]\r\n     :deps\r\n     {org.clojure/clojure {:mvn/version &quot;1.11.1&quot;}\r\n      org.clojure/core.async {:mvn/version &quot;1.6.673&quot;}\r\n      org.clojure/data.json {:mvn/version &quot;2.4.0&quot;}\r\n      clj-time/clj-time {:mvn/version &quot;0.15.2&quot;}\r\n      ;; java \r\n      io.javalin/javalin {:mvn/version &quot;5.5.0&quot;}}}\r\n\r\nWhen I execute with calve-repl, an error encounter \r\n\r\n    ; Syntax error (IllegalArgumentException) compiling . at (src/javalin/javalin101.clj:7:5).\r\n    ; No matching method get found taking 3 args for class io.javalin.Javalin\r\n\r\nPlease feel free to comment how to fix it.\r\n","title":"How to translate a simple web framework in Javalin into Clojure?","body":"<p>There is a simple web framework in Javalin</p>\n<pre><code>import io.javalin.Javalin;\n\npublic class HelloWorld {\n    public static void main(String[] args) {\n        var app = Javalin.create(/*config*/)\n            .get(&quot;/&quot;, ctx -&gt; ctx.result(&quot;Hello World&quot;))\n            .start(7070);\n    }\n}\n</code></pre>\n<h1>Translated into Clojure.</h1>\n<pre><code>(ns javalin.javalin101)\n\n(import 'io.javalin.Javalin)\n\n(defn -main []\n  (let [app (Javalin/create)]\n    (Javalin/get app &quot;/&quot; (fn [ctx] (.result ctx &quot;Hello World&quot;)))\n    (.start app 7070)))\n</code></pre>\n<h1>deps.edn</h1>\n<pre><code>{:paths [&quot;src&quot;]\n :deps\n {org.clojure/clojure {:mvn/version &quot;1.11.1&quot;}\n  org.clojure/core.async {:mvn/version &quot;1.6.673&quot;}\n  org.clojure/data.json {:mvn/version &quot;2.4.0&quot;}\n  clj-time/clj-time {:mvn/version &quot;0.15.2&quot;}\n  ;; java \n  io.javalin/javalin {:mvn/version &quot;5.5.0&quot;}}}\n</code></pre>\n<p>When I execute with calve-repl, an error encounter</p>\n<pre><code>; Syntax error (IllegalArgumentException) compiling . at (src/javalin/javalin101.clj:7:5).\n; No matching method get found taking 3 args for class io.javalin.Javalin\n</code></pre>\n<p>Please feel free to comment how to fix it.</p>\n"},{"tags":["java","windows","spring-boot","sts"],"comments":[{"owner":{"account_id":974448,"reputation":3435,"user_id":2042457,"accept_rate":56,"display_name":"aksappy"},"score":1,"creation_date":1617904448,"post_id":67009124,"comment_id":118446988,"body_markdown":"If you can run java inside a terminal, run `java -jar spring-tool-....jar`","body":"If you can run java inside a terminal, run <code>java -jar spring-tool-....jar</code>"},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686228156,"post_id":67009124,"comment_id":134772136,"body_markdown":"Or just rename, and change extension from &quot;jar&quot; to &quot;zip&quot; and find necessary directory in unzipped sources.","body":"Or just rename, and change extension from &quot;jar&quot; to &quot;zip&quot; and find necessary directory in unzipped sources."}],"answers":[{"tags":[],"owner":{"account_id":15594545,"reputation":160,"user_id":11250492,"display_name":"Prem G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686224019,"creation_date":1686224019,"answer_id":76431433,"question_id":67009124,"body_markdown":" - Open a terminal in the same directory where jar file is present.\r\n - run `java -jar [jarName].jar`\r\n -  this will extract jar contents in the same directory within a new folder named `sts-4.XX.X.RELEASE`\r\n - go inside that folder and double-click SpringToolSuite4.exe to open STS IDE (Spring Tool Suite - Integrated Development Terminal).\r\n - Start Coding! :)","title":"trying to install SPRING SUITE TOOL(STS) but not able to extract the jar file","body":"<ul>\n<li>Open a terminal in the same directory where jar file is present.</li>\n<li>run <code>java -jar [jarName].jar</code></li>\n<li>this will extract jar contents in the same directory within a new folder named <code>sts-4.XX.X.RELEASE</code></li>\n<li>go inside that folder and double-click SpringToolSuite4.exe to open STS IDE (Spring Tool Suite - Integrated Development Terminal).</li>\n<li>Start Coding! :)</li>\n</ul>\n"}],"owner":{"account_id":20588816,"reputation":519,"user_id":15113029,"display_name":"radhika sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1324,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686224019,"creation_date":1617903295,"question_id":67009124,"body_markdown":"I am very new to java and spring boot. I just need to understand a code in spring boot and for that I am trying to install STS.I tried downloading STS from the site https://spring.io/tools#suite-three which is for windows 64 bit, However, I am not able to extract the jar file and it is seen as below and not the actual file.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nI understand the pre requisite for installing STS is java 1.8 which I did the below\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/O8EBk.png\r\n\r\nI also added PATH same as CLASSPATH\r\n\r\nstill not able to extract STS.\r\n\r\nCan anyone help please?\r\n\r\n  [2]: https://i.stack.imgur.com/lvq0M.png","title":"trying to install SPRING SUITE TOOL(STS) but not able to extract the jar file","body":"<p>I am very new to java and spring boot. I just need to understand a code in spring boot and for that I am trying to install STS.I tried downloading STS from the site <a href=\"https://spring.io/tools#suite-three\" rel=\"nofollow noreferrer\">https://spring.io/tools#suite-three</a> which is for windows 64 bit, However, I am not able to extract the jar file and it is seen as below and not the actual file.</p>\n<p><a href=\"https://i.stack.imgur.com/O8EBk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/O8EBk.png\" alt=\"enter image description here\" /></a></p>\n<p>I understand the pre requisite for installing STS is java 1.8 which I did the below\n<a href=\"https://i.stack.imgur.com/lvq0M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lvq0M.png\" alt=\"enter image description here\" /></a></p>\n<p>I also added PATH same as CLASSPATH</p>\n<p>still not able to extract STS.</p>\n<p>Can anyone help please?</p>\n"},{"tags":["java","java-17"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1686223715,"post_id":76431337,"comment_id":134771138,"body_markdown":"On linux you can use the &quot;find&quot; program.","body":"On linux you can use the &quot;find&quot; program."},{"owner":{"account_id":555095,"reputation":1782,"user_id":1262187,"accept_rate":18,"display_name":"simar"},"score":0,"creation_date":1686228059,"post_id":76431337,"comment_id":134772114,"body_markdown":"I would add into here the &quot;tree&quot;, &quot;grep&quot; utilities (linux macos)","body":"I would add into here the &quot;tree&quot;, &quot;grep&quot; utilities (linux macos)"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686223925,"creation_date":1686223539,"answer_id":76431365,"question_id":76431337,"body_markdown":"The top-level directories of Java&#39;s `src.zip` are - since Java 9 - the modules. The package `java.lang` is part of the module `java.base`. You can find the sources of classes in `java.lang` in `java.base/java/lang` inside the zip.\r\n\r\nFor module names, the directory name is the full module name, while for package names, each `.` separated part represents a nested directory (`java.lang` -&gt; `java/lang`, `java.lang.annotation` -&gt; `java/lang/annotation`, etc.). For example, the sources of `java.lang.String` are in the file `java.base/java/lang/String.java`\r\n\r\nDepending on what your end goal is, it might make more sense to clone the GitHub repository of OpenJDK:\r\n\r\n* https://github.com/openjdk/jdk17u for current state of Java 17\r\n* https://github.com/openjdk/jdk for mainline development of Java","title":"How to check source code libraries of openJDK?","body":"<p>The top-level directories of Java's <code>src.zip</code> are - since Java 9 - the modules. The package <code>java.lang</code> is part of the module <code>java.base</code>. You can find the sources of classes in <code>java.lang</code> in <code>java.base/java/lang</code> inside the zip.</p>\n<p>For module names, the directory name is the full module name, while for package names, each <code>.</code> separated part represents a nested directory (<code>java.lang</code> -&gt; <code>java/lang</code>, <code>java.lang.annotation</code> -&gt; <code>java/lang/annotation</code>, etc.). For example, the sources of <code>java.lang.String</code> are in the file <code>java.base/java/lang/String.java</code></p>\n<p>Depending on what your end goal is, it might make more sense to clone the GitHub repository of OpenJDK:</p>\n<ul>\n<li><a href=\"https://github.com/openjdk/jdk17u\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk17u</a> for current state of Java 17</li>\n<li><a href=\"https://github.com/openjdk/jdk\" rel=\"nofollow noreferrer\">https://github.com/openjdk/jdk</a> for mainline development of Java</li>\n</ul>\n"}],"owner":{"account_id":27826516,"reputation":27,"user_id":21291698,"display_name":"Lucy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"accepted_answer_id":76431365,"answer_count":1,"score":-1,"last_activity_date":1686223925,"creation_date":1686223387,"question_id":76431337,"body_markdown":"I have installed openJDK 17. Then I have unzipped file lib/src.zip. There are a lot of directories and I cannot find packages like java.lang or java.util. How can I find it?\r\n\r\nI have tried to use search and so on. Also, I know that I can use IntelJ or Eclipse for it, but I want to do it without IDEs","title":"How to check source code libraries of openJDK?","body":"<p>I have installed openJDK 17. Then I have unzipped file lib/src.zip. There are a lot of directories and I cannot find packages like java.lang or java.util. How can I find it?</p>\n<p>I have tried to use search and so on. Also, I know that I can use IntelJ or Eclipse for it, but I want to do it without IDEs</p>\n"},{"tags":["java","android","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686223598,"post_id":76431341,"comment_id":134771116,"body_markdown":"Don&#39;t. Most logging frameworks have checks you can do like `isDebugEnabled`. Calling those consistently is enough.","body":"Don&#39;t. Most logging frameworks have checks you can do like <code>isDebugEnabled</code>. Calling those consistently is enough."},{"owner":{"account_id":251690,"reputation":695,"user_id":1014752,"display_name":"Ramsay Domloge"},"score":0,"creation_date":1686224309,"post_id":76431341,"comment_id":134771251,"body_markdown":"Why not use logger configuration to turn off logging instead?","body":"Why not use logger configuration to turn off logging instead?"}],"owner":{"account_id":28779710,"reputation":1,"user_id":22041571,"display_name":"Gapcoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686223610,"creation_date":1686223425,"question_id":76431341,"body_markdown":"I usually write codes with some log method calls. As you know, it is conveniently to debug.\r\n\r\n```\r\nvoid action(){\r\n    Log.i(&quot;TAG&quot;,&quot;something&quot;);\r\n    ...\r\n}\r\n```\r\n\r\nI want to use ASM gradle plugin to automatically delete those log method calls  and their parameters.\r\n\r\nOf course，I can return null in a `MethodVisitor` when calling the log method. But I don not know how to delete those useless parameters because I can not confirm these code boundary.","title":"how can delete a method call such as log.i completely with ASM？","body":"<p>I usually write codes with some log method calls. As you know, it is conveniently to debug.</p>\n<pre><code>void action(){\n    Log.i(&quot;TAG&quot;,&quot;something&quot;);\n    ...\n}\n</code></pre>\n<p>I want to use ASM gradle plugin to automatically delete those log method calls  and their parameters.</p>\n<p>Of course，I can return null in a <code>MethodVisitor</code> when calling the log method. But I don not know how to delete those useless parameters because I can not confirm these code boundary.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":434040,"reputation":17358,"user_id":819742,"accept_rate":69,"display_name":"randominstanceOfLivingThing"},"score":0,"creation_date":1407814021,"post_id":25248494,"comment_id":39349852,"body_markdown":"You need to look at the effective POM to check the final dependencies.","body":"You need to look at the effective POM to check the final dependencies."}],"answers":[{"tags":[],"owner":{"account_id":3404429,"reputation":507,"user_id":2855872,"accept_rate":67,"display_name":"tleveque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1407786402,"creation_date":1407786402,"answer_id":25251169,"question_id":25248494,"body_markdown":"The problem was that my parent pom was dependent on Spring 3.2.5.\r\nAnd I find out that Spring-Boot 1.5.x needs at least Spring 4.\r\nThis is not clearly defined on the Spring-Boot page.","title":"Using Spring Boot without the parent POM doesn&#39;t work","body":"<p>The problem was that my parent pom was dependent on Spring 3.2.5.\nAnd I find out that Spring-Boot 1.5.x needs at least Spring 4.\nThis is not clearly defined on the Spring-Boot page.</p>\n"},{"tags":[],"owner":{"account_id":419303,"reputation":151,"user_id":796398,"accept_rate":33,"display_name":"Chethan"},"down_vote_count":1,"up_vote_count":11,"is_accepted":false,"score":10,"last_activity_date":1686223541,"creation_date":1476823151,"answer_id":40117663,"question_id":25248494,"body_markdown":"I may be late but I am sure it will be helpful to everyone who wants to run **SpringBoot without inheriting from parent**. It was very frustrating to figure the following but it finally it worked for me!\r\n\r\nBasically,\r\n\r\n 1. Intellij maven auto-import was turned off. Enabled it.\r\n 2. I have to add spring-boot dependencies manually. i.e if you just inherit spring-boot as parent, you will be given a default set of dependencies to work on. But when you don&#39;t inherit you have to declare those dependencies manually in pom.xml\r\n 3. If you observe pom.xml, &quot;spring-boot-dependencies&quot; has to be in its own `&lt;dependencyManagement&gt;` tag. If you combine all of the dependencies in a single `&lt;dependencies&gt;`, then references are lost in the code!\r\n 4. See the following example:\r\n\r\npom.xml\r\n&lt;!-- language: xml --&gt;\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;parent&gt;\r\n            &lt;artifactId&gt;Chethan&lt;/artifactId&gt;\r\n            &lt;groupId&gt;groupId&lt;/groupId&gt;\r\n            &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;artifactId&gt;myspringbootwithoutparent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                    &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt; &lt;/project&gt;\r\n\r\n\r\nApplicationWithoutParentPom.java\r\n&lt;!-- language: java--&gt;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    /**\r\n     * Created by chethanshankar on 10/18/16.\r\n     */\r\n    @RestController\r\n    @EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\r\n    public class ApplicationWithoutParentPom {\r\n        @RequestMapping(&quot;/&quot;)\r\n        String home() {\r\n            return &quot;Hello World without SPRING BOOT AS PARENT!!!&quot;;\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            SpringApplication.run(ApplicationWithoutParentPom.class, args);\r\n        }\r\n    }\r\n\r\n\r\n### Errors\r\n\r\n#### java: error: release version 5 not supported\r\n\r\nWhen compiling the project you may get this error\r\n\r\n```\r\njava: error: release version 5 not supported\r\n\r\nModule todolist SDK 17 does not support source version 1.5. \r\nPossible solutions:\r\n- Downgrade Project SDK in settings to 1.5 or compatible. Open project settings.\r\n- Upgrade language version in Maven build file to 17. Update pom.xml and reload the project.\r\n```\r\n\r\nYou can fix by adding inside the `&lt;properties&gt;` the maven compiler version, in my case for Java 17\r\n&lt;!-- language: xml --&gt;\r\n```\r\n &lt;properties&gt;\r\n        &lt;java.version&gt;17&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n&lt;/properties&gt;\r\n```\r\n\r\n\r\n","title":"Using Spring Boot without the parent POM doesn&#39;t work","body":"<p>I may be late but I am sure it will be helpful to everyone who wants to run <strong>SpringBoot without inheriting from parent</strong>. It was very frustrating to figure the following but it finally it worked for me!</p>\n<p>Basically,</p>\n<ol>\n<li>Intellij maven auto-import was turned off. Enabled it.</li>\n<li>I have to add spring-boot dependencies manually. i.e if you just inherit spring-boot as parent, you will be given a default set of dependencies to work on. But when you don't inherit you have to declare those dependencies manually in pom.xml</li>\n<li>If you observe pom.xml, &quot;spring-boot-dependencies&quot; has to be in its own <code>&lt;dependencyManagement&gt;</code> tag. If you combine all of the dependencies in a single <code>&lt;dependencies&gt;</code>, then references are lost in the code!</li>\n<li>See the following example:</li>\n</ol>\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt; &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;parent&gt;\n        &lt;artifactId&gt;Chethan&lt;/artifactId&gt;\n        &lt;groupId&gt;groupId&lt;/groupId&gt;\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;artifactId&gt;myspringbootwithoutparent&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;!-- Import dependency management from Spring Boot --&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n                &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-batch&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt; &lt;/project&gt;\n</code></pre>\n<p>ApplicationWithoutParentPom.java</p>\n\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n/**\n * Created by chethanshankar on 10/18/16.\n */\n@RestController\n@EnableAutoConfiguration(exclude={DataSourceAutoConfiguration.class})\npublic class ApplicationWithoutParentPom {\n    @RequestMapping(&quot;/&quot;)\n    String home() {\n        return &quot;Hello World without SPRING BOOT AS PARENT!!!&quot;;\n    }\n\n    public static void main(String[] args) throws Exception {\n        SpringApplication.run(ApplicationWithoutParentPom.class, args);\n    }\n}\n</code></pre>\n<h3>Errors</h3>\n<h4>java: error: release version 5 not supported</h4>\n<p>When compiling the project you may get this error</p>\n<pre><code>java: error: release version 5 not supported\n\nModule todolist SDK 17 does not support source version 1.5. \nPossible solutions:\n- Downgrade Project SDK in settings to 1.5 or compatible. Open project settings.\n- Upgrade language version in Maven build file to 17. Update pom.xml and reload the project.\n</code></pre>\n<p>You can fix by adding inside the <code>&lt;properties&gt;</code> the maven compiler version, in my case for Java 17</p>\n<pre class=\"lang-xml prettyprint-override\"><code> &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":3404429,"reputation":507,"user_id":2855872,"accept_rate":67,"display_name":"tleveque"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11799,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":25251169,"answer_count":2,"score":5,"last_activity_date":1686223541,"creation_date":1407776215,"question_id":25248494,"body_markdown":"I am trying the simple sample from the SpringBoot QuickStart (http://projects.spring.io/spring-boot/#quick-start). \r\nUsing the spring-boot-starter-parent as the parent is working fine. I can run the sample without any problems.\r\nBut I absolutely need to use my own parent pom. So I read the documentation : \r\nhttp://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-maven-without-a-parent\r\n\r\nI tried it. It compiled fine. But crashes at run time.\r\nHere is my configuration.\r\nIn my parent pom:\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n        ....\r\n            &lt;dependency&gt;\r\n                &lt;!-- Import dependency management from Spring Boot --&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n                &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\r\n                &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;scope&gt;import&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        ....\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\nIn my pom:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nBut when I run the application, I get this:\r\n\r\n&lt;pre&gt;\r\n&lt;code&gt;\r\n    2014-08-11 12:50:29.275 ERROR 28474 --- [           main] o.s.boot.SpringApplication               : Application startup failed\r\n\r\njava.lang.IllegalStateException: Failed to introspect annotations: class com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:169)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.isAnnotated(AnnotatedElementUtils.java:75)\r\n\tat org.springframework.core.type.StandardAnnotationMetadata.isAnnotated(StandardAnnotationMetadata.java:102)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:138)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:128)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.register(AnnotatedBeanDefinitionReader.java:123)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:159)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:135)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:127)\r\n\tat org.springframework.boot.SpringApplication.load(SpringApplication.java:620)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n\tat com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController.main(SampleController.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n\tat sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:673)\r\n\tat sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:480)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:306)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:241)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:88)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:70)\r\n\tat java.lang.Class.initAnnotationsIfNecessary(Class.java:3178)\r\n\tat java.lang.Class.getAnnotations(Class.java:3158)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:195)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:212)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:165)\r\n\t... 18 common frames omitted\r\n\r\nException in thread &quot;main&quot; java.lang.IllegalStateException: Failed to introspect annotations: class com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:169)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.isAnnotated(AnnotatedElementUtils.java:75)\r\n\tat org.springframework.core.type.StandardAnnotationMetadata.isAnnotated(StandardAnnotationMetadata.java:102)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:138)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:128)\r\n\tat org.springframework.context.annotation.AnnotatedBeanDefinitionReader.register(AnnotatedBeanDefinitionReader.java:123)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:159)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:135)\r\n\tat org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:127)\r\n\tat org.springframework.boot.SpringApplication.load(SpringApplication.java:620)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\r\n\tat com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController.main(SampleController.java:25)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:606)\r\n\tat com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\r\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\r\n\tat sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:673)\r\n\tat sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:480)\r\n\tat sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:306)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:241)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:88)\r\n\tat sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:70)\r\n\tat java.lang.Class.initAnnotationsIfNecessary(Class.java:3178)\r\n\tat java.lang.Class.getAnnotations(Class.java:3158)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:195)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:212)\r\n\tat org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:165)\r\n\t... 18 more\r\n\r\nProcess finished with exit code 1\r\n&lt;/code&gt;\r\n&lt;/pre&gt;\r\n\r\nI have no clue how to solve this. I tried putting the dependencyManagement directly in my pom (not in the parent). Same result.\r\nI did search here on stackoverflow and elsewhere, but I cannot find a single working example.\r\nWe are using Maven 3.0.4 and Java 1.7U51","title":"Using Spring Boot without the parent POM doesn&#39;t work","body":"<p>I am trying the simple sample from the SpringBoot QuickStart (<a href=\"http://projects.spring.io/spring-boot/#quick-start\" rel=\"nofollow noreferrer\">http://projects.spring.io/spring-boot/#quick-start</a>). \nUsing the spring-boot-starter-parent as the parent is working fine. I can run the sample without any problems.\nBut I absolutely need to use my own parent pom. So I read the documentation : \n<a href=\"http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-maven-without-a-parent\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring-boot/docs/current-SNAPSHOT/reference/htmlsingle/#using-boot-maven-without-a-parent</a></p>\n\n<p>I tried it. It compiled fine. But crashes at run time.\nHere is my configuration.\nIn my parent pom:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n    ....\n        &lt;dependency&gt;\n            &lt;!-- Import dependency management from Spring Boot --&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;1.1.5.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    ....\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n\n<p>In my pom:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>But when I run the application, I get this:</p>\n\n<pre>\n<code>\n    2014-08-11 12:50:29.275 ERROR 28474 --- [           main] o.s.boot.SpringApplication               : Application startup failed\n\njava.lang.IllegalStateException: Failed to introspect annotations: class com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController\n    at org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:169)\n    at org.springframework.core.annotation.AnnotatedElementUtils.isAnnotated(AnnotatedElementUtils.java:75)\n    at org.springframework.core.type.StandardAnnotationMetadata.isAnnotated(StandardAnnotationMetadata.java:102)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:138)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:128)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.register(AnnotatedBeanDefinitionReader.java:123)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:159)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:135)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:127)\n    at org.springframework.boot.SpringApplication.load(SpringApplication.java:620)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n    at com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController.main(SampleController.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\n    at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:673)\n    at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:480)\n    at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:306)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:241)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:88)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:70)\n    at java.lang.Class.initAnnotationsIfNecessary(Class.java:3178)\n    at java.lang.Class.getAnnotations(Class.java:3158)\n    at org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:195)\n    at org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:212)\n    at org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:165)\n    ... 18 common frames omitted\n\nException in thread \"main\" java.lang.IllegalStateException: Failed to introspect annotations: class com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController\n    at org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:169)\n    at org.springframework.core.annotation.AnnotatedElementUtils.isAnnotated(AnnotatedElementUtils.java:75)\n    at org.springframework.core.type.StandardAnnotationMetadata.isAnnotated(StandardAnnotationMetadata.java:102)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:138)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.registerBean(AnnotatedBeanDefinitionReader.java:128)\n    at org.springframework.context.annotation.AnnotatedBeanDefinitionReader.register(AnnotatedBeanDefinitionReader.java:123)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:159)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:135)\n    at org.springframework.boot.BeanDefinitionLoader.load(BeanDefinitionLoader.java:127)\n    at org.springframework.boot.SpringApplication.load(SpringApplication.java:620)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:952)\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:941)\n    at com.imetrik.oaas.tool.application.springboottest.SampleController.SampleController.main(SampleController.java:25)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:606)\n    at com.intellij.rt.execution.application.AppMain.main(AppMain.java:134)\nCaused by: java.lang.ArrayStoreException: sun.reflect.annotation.TypeNotPresentExceptionProxy\n    at sun.reflect.annotation.AnnotationParser.parseClassArray(AnnotationParser.java:673)\n    at sun.reflect.annotation.AnnotationParser.parseArray(AnnotationParser.java:480)\n    at sun.reflect.annotation.AnnotationParser.parseMemberValue(AnnotationParser.java:306)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotation(AnnotationParser.java:241)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations2(AnnotationParser.java:88)\n    at sun.reflect.annotation.AnnotationParser.parseAnnotations(AnnotationParser.java:70)\n    at java.lang.Class.initAnnotationsIfNecessary(Class.java:3178)\n    at java.lang.Class.getAnnotations(Class.java:3158)\n    at org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:195)\n    at org.springframework.core.annotation.AnnotatedElementUtils.doProcess(AnnotatedElementUtils.java:212)\n    at org.springframework.core.annotation.AnnotatedElementUtils.process(AnnotatedElementUtils.java:165)\n    ... 18 more\n\nProcess finished with exit code 1\n</code>\n</pre>\n\n<p>I have no clue how to solve this. I tried putting the dependencyManagement directly in my pom (not in the parent). Same result.\nI did search here on stackoverflow and elsewhere, but I cannot find a single working example.\nWe are using Maven 3.0.4 and Java 1.7U51</p>\n"},{"tags":["java","android","linux","appium","adb"],"answers":[{"tags":[],"owner":{"account_id":27500887,"reputation":1,"user_id":20984626,"display_name":"Алексей Демиденко"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1674199359,"creation_date":1674199359,"answer_id":75180888,"question_id":75086752,"body_markdown":"As a result, the problem was in the VM settings and, unfortunately, it was not possible to overcome this problem, it was decided to run tests on a physical machine as a separate agent on team city(\r\nGood luck with testing!)","title":"Error executing adbExec. Original error: &#39;Command &#39;adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; timed out after 60000ms&#39;","body":"<p>As a result, the problem was in the VM settings and, unfortunately, it was not possible to overcome this problem, it was decided to run tests on a physical machine as a separate agent on team city(\nGood luck with testing!)</p>\n"}],"owner":{"account_id":27500887,"reputation":1,"user_id":20984626,"display_name":"Алексей Демиденко"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":331,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686223348,"creation_date":1673457302,"question_id":75086752,"body_markdown":"When I run the UI autotest, I keep getting an error: &quot;Error executing adbExec&quot;, on various adb commands. \r\nI will be glad for any help!\r\n(Attached logs of one of the errors from appium server)\r\n\r\n```\r\n[Appium] Welcome to Appium v1.22.3\r\n[Appium] Non-default server args:\r\n[Appium]   port: 4724\r\n[Appium] Appium REST http interface listener started on 0.0.0.0:4724\r\n[HTTP] --&gt; GET /wd/hub/status\r\n[HTTP] {}\r\n[debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\r\n[debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\r\n[HTTP] &lt;-- GET /wd/hub/status 200 10 ms - 68\r\n[HTTP]\r\n[debug] [HTTP] Request idempotency key: 139d89ca-1ba4-4fca-b461-e4e84d24e12c\r\n[HTTP] --&gt; POST /wd/hub/session\r\n[HTTP] {&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:adbExecTimeout&quot;:60000,&quot;appium:app&quot;:&quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,&quot;appium:appPackage&quot;:&quot;org.test.debug_test&quot;,&quot;appium:automationName&quot;:&quot;UIAutomator2&quot;,&quot;appium:deviceName&quot;:&quot;Pixel 3 API 31&quot;,&quot;appium:eventTimings&quot;:true,&quot;appium:noReset&quot;:true,&quot;appium:platformVersion&quot;:&quot;12&quot;,&quot;appium:skipUnlock&quot;:true,&quot;appium:udid&quot;:&quot;emulator-5554&quot;,&quot;platformName&quot;:&quot;android&quot;}}}\r\n[debug] [W3C] Calling AppiumDriver.createSession() with args: [null,null,{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:adbExecTimeout&quot;:60000,&quot;appium:app&quot;:&quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,&quot;appium:appPackage&quot;:&quot;org.test.debug_test&quot;,&quot;appium:automationName&quot;:&quot;UIAutomator2&quot;,&quot;appium:deviceName&quot;:&quot;Pixel 3 API 31&quot;,&quot;appium:eventTimings&quot;:true,&quot;appium:noReset&quot;:true,&quot;appium:platformVersion&quot;:&quot;12&quot;,&quot;appium:skipUnlock&quot;:true,&quot;appium:udid&quot;:&quot;emulator-5554&quot;,&quot;platformName&quot;:&quot;android&quot;}}]\r\n[debug] [BaseDriver] Event &#39;newSessionRequested&#39; logged at 1673453270062 (19:07:50 GMT+0300 (Moscow Standard Time))\r\n[Appium] Appium v1.22.3 creating new AndroidUiautomator2Driver (v1.70.1) session\r\n[debug] [BaseDriver] Creating session with W3C capabilities: {\r\n[debug] [BaseDriver]   &quot;alwaysMatch&quot;: {\r\n[debug] [BaseDriver]     &quot;platformName&quot;: &quot;android&quot;,\r\n[debug] [BaseDriver]     &quot;appium:adbExecTimeout&quot;: 60000,\r\n[debug] [BaseDriver]     &quot;appium:app&quot;: &quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,\r\n[debug] [BaseDriver]     &quot;appium:appPackage&quot;: &quot;org.test.debug_test&quot;,\r\n[debug] [BaseDriver]     &quot;appium:automationName&quot;: &quot;UIAutomator2&quot;,\r\n[debug] [BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel 3 API 31&quot;,\r\n[debug] [BaseDriver]     &quot;appium:eventTimings&quot;: true,\r\n[debug] [BaseDriver]     &quot;appium:noReset&quot;: true,\r\n[debug] [BaseDriver]     &quot;appium:platformVersion&quot;: &quot;12&quot;,\r\n[debug] [BaseDriver]     &quot;appium:skipUnlock&quot;: true,\r\n[debug] [BaseDriver]     &quot;appium:udid&quot;: &quot;emulator-5554&quot;\r\n[debug] [BaseDriver]   },\r\n[debug] [BaseDriver]   &quot;firstMatch&quot;: [\r\n[debug] [BaseDriver]     {}\r\n[debug] [BaseDriver]   ]\r\n[debug] [BaseDriver] }\r\n[BaseDriver] Session created with session id: 355f9950-3bad-4c19-a44a-1770b3280b2b\r\n[BaseDriver] Using local app &#39;/home/user/workspace/ui-tests/src/test/java/app/test.apk&#39;\r\n[debug] [UiAutomator2] Checking whether app is actually present\r\n[ADB] Found 2 &#39;build-tools&#39; folders under &#39;/home/user/dev/Android/Sdk&#39; (newest first):\r\n[ADB]     /home/user/dev/Android/Sdk/build-tools/33.0.1\r\n[ADB]     /home/user/dev/Android/Sdk/build-tools/30.0.3\r\n[ADB] Using &#39;adb&#39; from &#39;/home/user/dev/Android/Sdk/platform-tools/adb&#39;\r\n[debug] [ADB] Running &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 start-server&#39;\r\n[AndroidDriver] Retrieving device list\r\n[debug] [ADB] Trying to find a connected android device\r\n[debug] [ADB] Getting connected devices\r\n[debug] [ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\r\n[AndroidDriver] Using device: emulator-5554\r\n[ADB] Using &#39;adb&#39; from &#39;/home/user/dev/Android/Sdk/platform-tools/adb&#39;\r\n[debug] [ADB] Running &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 start-server&#39;\r\n[debug] [ADB] Setting device id to emulator-5554\r\n[debug] [ADB] Running &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39;\r\n[debug] [UiAutomator2] Deleting UiAutomator2 session\r\n[debug] [ADB] Running &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop org.test.debug_test&#39;\r\n[UiAutomator2] Unable to force stop app: Error executing adbExec. Original error: &#39;Command &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop org.test.debug_test&#39; timed out after 60000ms&#39;. Try to increase the 60000ms adb execution timeout represented by &#39;adbExecTimeout&#39; capability\r\n[debug] [ADB] Running &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39;\r\n[debug] [BaseDriver] Event &#39;newSessionStarted&#39; logged at 1673453450427 (19:10:50 GMT+0300 (Moscow Standard Time))\r\n[debug] [W3C] Encountered internal error running command: Error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; timed out after 60000ms&#39;. Try to increase the 60000ms adb execution timeout represented by &#39;adbExecTimeout&#39; capability\r\n[debug] [W3C]     at ADB.getApiLevel (/usr/lib/node_modules/appium/node_modules/appium-adb/lib/tools/adb-commands.js:159:13)\r\n[debug] [W3C]     at AndroidUiautomator2Driver.deleteSession (/usr/lib/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:671:11)\r\n[debug] [W3C]     at AndroidUiautomator2Driver.createSession (/usr/lib/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:238:7)\r\n[debug] [W3C]     at AppiumDriver.createSession (/usr/lib/node_modules/appium/lib/appium.js:387:35)\r\n[HTTP] &lt;-- POST /wd/hub/session 500 180448 ms - 1145\r\n[HTTP]\r\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 229.336 s &lt;&lt;&lt; FAILURE! - in org.ui.tests.JustTest\r\n[ERROR] org.ui.tests.JustTest  Time elapsed: 229.332 s  &lt;&lt;&lt; ERROR!\r\norg.openqa.selenium.SessionNotCreatedException:\r\nCould not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; timed out after 60000ms&#39;. Try to increase the 60000ms adb execution timeout represented by &#39;adbExecTimeout&#39; capability\r\nBuild info: version: &#39;4.7.2&#39;, revision: &#39;4d4020c3b7&#39;\r\nSystem info: os.name: &#39;Linux&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;5.4.0-136-generic&#39;, java.version: &#39;11.0.17&#39;\r\nDriver info: io.appium.java_client.AppiumDriver\r\nCommand: [null, newSession {capabilities=[{appium:noReset=true, appium:udid=emulator-5554, appium:adbExecTimeout=60000, appium:eventTimings=true, appium:skipUnlock=true, appium:deviceName=Pixel 3 API 31, platformName=ANDROID, appium:automationName=UIAutomator2, appium:app=/home/user/workspace/ui-tests/src/test/java/app/test.apk, appium:platformVersion=12, appium:appPackage=org.test.debug_test}], desiredCapabilities=Capabilities {appium:adbExecTimeout: 60000, appium:app: /home/user/workspace/..., appium:appPackage: org.test.debug_test, appium:automationName: UIAutomator2, appium:deviceName: Pixel 3 API 31, appium:eventTimings: true, appium:noReset: true, appium:platformVersion: 12, appium:skipUnlock: true, appium:udid: emulator-5554, platformName: ANDROID}}]\r\nCapabilities {}\r\n        at org.ui.tests.JustTest.setUp(JustTest.java:33)\r\n```\r\n\r\nTried different adb (33.0.2, 33.0.3, 28.0.2) versions and different emulators API (28, 29, 30, 31) versions, but nothing helped I just keep getting an errors.\r\nOn local Windows machine tests run successfully, error reproduced on Linux VM with kvm enabled","title":"Error executing adbExec. Original error: &#39;Command &#39;adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; timed out after 60000ms&#39;","body":"<p>When I run the UI autotest, I keep getting an error: &quot;Error executing adbExec&quot;, on various adb commands.\nI will be glad for any help!\n(Attached logs of one of the errors from appium server)</p>\n<pre><code>[Appium] Welcome to Appium v1.22.3\n[Appium] Non-default server args:\n[Appium]   port: 4724\n[Appium] Appium REST http interface listener started on 0.0.0.0:4724\n[HTTP] --&gt; GET /wd/hub/status\n[HTTP] {}\n[debug] [GENERIC] Calling AppiumDriver.getStatus() with args: []\n[debug] [GENERIC] Responding to client with driver.getStatus() result: {&quot;build&quot;:{&quot;version&quot;:&quot;1.22.3&quot;}}\n[HTTP] &lt;-- GET /wd/hub/status 200 10 ms - 68\n[HTTP]\n[debug] [HTTP] Request idempotency key: 139d89ca-1ba4-4fca-b461-e4e84d24e12c\n[HTTP] --&gt; POST /wd/hub/session\n[HTTP] {&quot;capabilities&quot;:{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:adbExecTimeout&quot;:60000,&quot;appium:app&quot;:&quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,&quot;appium:appPackage&quot;:&quot;org.test.debug_test&quot;,&quot;appium:automationName&quot;:&quot;UIAutomator2&quot;,&quot;appium:deviceName&quot;:&quot;Pixel 3 API 31&quot;,&quot;appium:eventTimings&quot;:true,&quot;appium:noReset&quot;:true,&quot;appium:platformVersion&quot;:&quot;12&quot;,&quot;appium:skipUnlock&quot;:true,&quot;appium:udid&quot;:&quot;emulator-5554&quot;,&quot;platformName&quot;:&quot;android&quot;}}}\n[debug] [W3C] Calling AppiumDriver.createSession() with args: [null,null,{&quot;firstMatch&quot;:[{}],&quot;alwaysMatch&quot;:{&quot;appium:adbExecTimeout&quot;:60000,&quot;appium:app&quot;:&quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,&quot;appium:appPackage&quot;:&quot;org.test.debug_test&quot;,&quot;appium:automationName&quot;:&quot;UIAutomator2&quot;,&quot;appium:deviceName&quot;:&quot;Pixel 3 API 31&quot;,&quot;appium:eventTimings&quot;:true,&quot;appium:noReset&quot;:true,&quot;appium:platformVersion&quot;:&quot;12&quot;,&quot;appium:skipUnlock&quot;:true,&quot;appium:udid&quot;:&quot;emulator-5554&quot;,&quot;platformName&quot;:&quot;android&quot;}}]\n[debug] [BaseDriver] Event 'newSessionRequested' logged at 1673453270062 (19:07:50 GMT+0300 (Moscow Standard Time))\n[Appium] Appium v1.22.3 creating new AndroidUiautomator2Driver (v1.70.1) session\n[debug] [BaseDriver] Creating session with W3C capabilities: {\n[debug] [BaseDriver]   &quot;alwaysMatch&quot;: {\n[debug] [BaseDriver]     &quot;platformName&quot;: &quot;android&quot;,\n[debug] [BaseDriver]     &quot;appium:adbExecTimeout&quot;: 60000,\n[debug] [BaseDriver]     &quot;appium:app&quot;: &quot;/home/user/workspace/ui-tests/src/test/java/app/test.apk&quot;,\n[debug] [BaseDriver]     &quot;appium:appPackage&quot;: &quot;org.test.debug_test&quot;,\n[debug] [BaseDriver]     &quot;appium:automationName&quot;: &quot;UIAutomator2&quot;,\n[debug] [BaseDriver]     &quot;appium:deviceName&quot;: &quot;Pixel 3 API 31&quot;,\n[debug] [BaseDriver]     &quot;appium:eventTimings&quot;: true,\n[debug] [BaseDriver]     &quot;appium:noReset&quot;: true,\n[debug] [BaseDriver]     &quot;appium:platformVersion&quot;: &quot;12&quot;,\n[debug] [BaseDriver]     &quot;appium:skipUnlock&quot;: true,\n[debug] [BaseDriver]     &quot;appium:udid&quot;: &quot;emulator-5554&quot;\n[debug] [BaseDriver]   },\n[debug] [BaseDriver]   &quot;firstMatch&quot;: [\n[debug] [BaseDriver]     {}\n[debug] [BaseDriver]   ]\n[debug] [BaseDriver] }\n[BaseDriver] Session created with session id: 355f9950-3bad-4c19-a44a-1770b3280b2b\n[BaseDriver] Using local app '/home/user/workspace/ui-tests/src/test/java/app/test.apk'\n[debug] [UiAutomator2] Checking whether app is actually present\n[ADB] Found 2 'build-tools' folders under '/home/user/dev/Android/Sdk' (newest first):\n[ADB]     /home/user/dev/Android/Sdk/build-tools/33.0.1\n[ADB]     /home/user/dev/Android/Sdk/build-tools/30.0.3\n[ADB] Using 'adb' from '/home/user/dev/Android/Sdk/platform-tools/adb'\n[debug] [ADB] Running '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 start-server'\n[AndroidDriver] Retrieving device list\n[debug] [ADB] Trying to find a connected android device\n[debug] [ADB] Getting connected devices\n[debug] [ADB] Connected devices: [{&quot;udid&quot;:&quot;emulator-5554&quot;,&quot;state&quot;:&quot;device&quot;}]\n[AndroidDriver] Using device: emulator-5554\n[ADB] Using 'adb' from '/home/user/dev/Android/Sdk/platform-tools/adb'\n[debug] [ADB] Running '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 start-server'\n[debug] [ADB] Setting device id to emulator-5554\n[debug] [ADB] Running '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk'\n[debug] [UiAutomator2] Deleting UiAutomator2 session\n[debug] [ADB] Running '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop org.test.debug_test'\n[UiAutomator2] Unable to force stop app: Error executing adbExec. Original error: 'Command '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell am force-stop org.test.debug_test' timed out after 60000ms'. Try to increase the 60000ms adb execution timeout represented by 'adbExecTimeout' capability\n[debug] [ADB] Running '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk'\n[debug] [BaseDriver] Event 'newSessionStarted' logged at 1673453450427 (19:10:50 GMT+0300 (Moscow Standard Time))\n[debug] [W3C] Encountered internal error running command: Error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' timed out after 60000ms'. Try to increase the 60000ms adb execution timeout represented by 'adbExecTimeout' capability\n[debug] [W3C]     at ADB.getApiLevel (/usr/lib/node_modules/appium/node_modules/appium-adb/lib/tools/adb-commands.js:159:13)\n[debug] [W3C]     at AndroidUiautomator2Driver.deleteSession (/usr/lib/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:671:11)\n[debug] [W3C]     at AndroidUiautomator2Driver.createSession (/usr/lib/node_modules/appium/node_modules/appium-uiautomator2-driver/lib/driver.js:238:7)\n[debug] [W3C]     at AppiumDriver.createSession (/usr/lib/node_modules/appium/lib/appium.js:387:35)\n[HTTP] &lt;-- POST /wd/hub/session 500 180448 ms - 1145\n[HTTP]\n[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 229.336 s &lt;&lt;&lt; FAILURE! - in org.ui.tests.JustTest\n[ERROR] org.ui.tests.JustTest  Time elapsed: 229.332 s  &lt;&lt;&lt; ERROR!\norg.openqa.selenium.SessionNotCreatedException:\nCould not start a new session. Response code 500. Message: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command '/home/user/dev/Android/Sdk/platform-tools/adb -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' timed out after 60000ms'. Try to increase the 60000ms adb execution timeout represented by 'adbExecTimeout' capability\nBuild info: version: '4.7.2', revision: '4d4020c3b7'\nSystem info: os.name: 'Linux', os.arch: 'amd64', os.version: '5.4.0-136-generic', java.version: '11.0.17'\nDriver info: io.appium.java_client.AppiumDriver\nCommand: [null, newSession {capabilities=[{appium:noReset=true, appium:udid=emulator-5554, appium:adbExecTimeout=60000, appium:eventTimings=true, appium:skipUnlock=true, appium:deviceName=Pixel 3 API 31, platformName=ANDROID, appium:automationName=UIAutomator2, appium:app=/home/user/workspace/ui-tests/src/test/java/app/test.apk, appium:platformVersion=12, appium:appPackage=org.test.debug_test}], desiredCapabilities=Capabilities {appium:adbExecTimeout: 60000, appium:app: /home/user/workspace/..., appium:appPackage: org.test.debug_test, appium:automationName: UIAutomator2, appium:deviceName: Pixel 3 API 31, appium:eventTimings: true, appium:noReset: true, appium:platformVersion: 12, appium:skipUnlock: true, appium:udid: emulator-5554, platformName: ANDROID}}]\nCapabilities {}\n        at org.ui.tests.JustTest.setUp(JustTest.java:33)\n</code></pre>\n<p>Tried different adb (33.0.2, 33.0.3, 28.0.2) versions and different emulators API (28, 29, 30, 31) versions, but nothing helped I just keep getting an errors.\nOn local Windows machine tests run successfully, error reproduced on Linux VM with kvm enabled</p>\n"},{"tags":["java","spring","spring-boot","dto"],"comments":[{"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"score":0,"creation_date":1686219757,"post_id":76430795,"comment_id":134770406,"body_markdown":"`modelMapper` might also be an issue. Can you please add the `modelMapper` class/config?","body":"<code>modelMapper</code> might also be an issue. Can you please add the <code>modelMapper</code> class/config?"},{"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"score":0,"creation_date":1686221257,"post_id":76430795,"comment_id":134770663,"body_markdown":"i added the modelMapper class","body":"i added the modelMapper class"}],"answers":[{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686219655,"creation_date":1686219655,"answer_id":76430866,"question_id":76430795,"body_markdown":"`@OneToMany()` Default fetch type is Lazy.\r\nTry using `FetchType.EAGER`. \r\n\r\nExample: \r\n```\r\n@OneToMany(fetch = FetchType.EAGER)\r\nprivate List&lt;Student&gt; student;\r\n```","title":"using dto Always getting a null value in a get request , many to one relationship","body":"<p><code>@OneToMany()</code> Default fetch type is Lazy.\nTry using <code>FetchType.EAGER</code>.</p>\n<p>Example:</p>\n<pre><code>@OneToMany(fetch = FetchType.EAGER)\nprivate List&lt;Student&gt; student;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28779669,"reputation":1,"user_id":22041540,"display_name":"wissal_soudani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686223267,"creation_date":1686223267,"answer_id":76431317,"question_id":76430795,"body_markdown":"if you are sure that you&#39;re not having a lazy loading problem as mentioned before, you may check the Circular References: If there are circular references between your entities, it can cause issues during serialization to the DTO. Make sure there are no circular dependencies between the entities, as this can lead to infinite recursion or unexpected results. You can use annotations like @JsonIgnore or @JsonManagedReference and @JsonBackReference to handle circular references properly during serialization.","title":"using dto Always getting a null value in a get request , many to one relationship","body":"<p>if you are sure that you're not having a lazy loading problem as mentioned before, you may check the Circular References: If there are circular references between your entities, it can cause issues during serialization to the DTO. Make sure there are no circular dependencies between the entities, as this can lead to infinite recursion or unexpected results. You can use annotations like @JsonIgnore or @JsonManagedReference and @JsonBackReference to handle circular references properly during serialization.</p>\n"}],"owner":{"account_id":24800295,"reputation":5,"user_id":18682737,"display_name":"Nouhaila Khaouti"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":117,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686223267,"creation_date":1686219053,"question_id":76430795,"body_markdown":"this is my first time working with spring and Dto, and i was trying to create two enties, classes and student, my problem is when i try to send a get request of a classes , normaly the response need to be the name , numberS averageC and student related to this classe , but what i get is this {\r\n    &quot;name&quot;: &quot;phonexe&quot;,\r\n    &quot;numberS&quot;: 25,\r\n    &quot;averageC&quot;: 0.0,\r\n    &quot;students&quot;: null\r\n}\r\nthe students list is always null , i checked in the database if the student get inserted with the classe_id , so that&#39;s not the problem\r\nthis is my entities \r\n```\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class Student {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private Long id;\r\n    private String codeM;\r\n    private String firstName;\r\n    private String lastName;\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;classes_id&quot;)\r\n    private Classes classes;\r\n    @OneToMany(mappedBy = &quot;student&quot;)\r\n    private List&lt;Notes&gt; notes;\r\n}\r\n```\r\n```\r\n\r\n@Entity\r\n@Data\r\n@NoArgsConstructor(force = true)\r\n@AllArgsConstructor\r\npublic class Classes {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\r\n    private long id;\r\n    @NonNull\r\n    @NotBlank(message = &quot;First name must be filled&quot;)\r\n    @Pattern(regexp = &quot;^(?!\\\\s*$).+&quot;, message = &quot;First name must not be blank or contain only spaces&quot;)\r\n    private String name;\r\n    @NonNull\r\n    private Integer numberS;\r\n    private double averageC=0.0;\r\n    @OneToMany\r\n    private List&lt;Student&gt; student;\r\n\r\n}\r\n```\r\nand this is my Dto entities \r\n```\r\n@Data\r\npublic class StudentGetDto {\r\n    @NotNull\r\n    private String codeM;\r\n    private String firstName;\r\n    private String lastName;\r\n    private ClassesGetDto classes;\r\n    private List&lt;NotesGetWithMatiereOnlyDto&gt; notes;\r\n}\r\n```\r\n```\r\n@Data\r\npublic class ClassesGetDto {\r\n    private String name;\r\n    private Integer numberS;\r\n    private Double averageC;\r\n    private List&lt;StudentGetDto&gt; students;\r\n}\r\n```\r\nand this is the controller function \r\n```\r\n    @GetMapping(&quot;/{Name}&quot;)\r\n    public ClassesGetDto findByName(@PathVariable String Name) throws Exception{\r\n        return modelMapper.map(classesService.findByName(Name), ClassesGetDto.class);\r\n    }\r\n```\r\n\r\nthe modelMapper config \r\n```\r\n@Configuration\r\npublic class ModelMapperConfig {\r\n\r\n    @Bean\r\n    public ModelMapper modelMapper() {\r\n        return new ModelMapper();\r\n    }\r\n}\r\n```\r\n","title":"using dto Always getting a null value in a get request , many to one relationship","body":"<p>this is my first time working with spring and Dto, and i was trying to create two enties, classes and student, my problem is when i try to send a get request of a classes , normaly the response need to be the name , numberS averageC and student related to this classe , but what i get is this {\n&quot;name&quot;: &quot;phonexe&quot;,\n&quot;numberS&quot;: 25,\n&quot;averageC&quot;: 0.0,\n&quot;students&quot;: null\n}\nthe students list is always null , i checked in the database if the student get inserted with the classe_id , so that's not the problem\nthis is my entities</p>\n<pre><code>@Data\n@NoArgsConstructor\n@AllArgsConstructor\npublic class Student {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private Long id;\n    private String codeM;\n    private String firstName;\n    private String lastName;\n    @ManyToOne\n    @JoinColumn(name = &quot;classes_id&quot;)\n    private Classes classes;\n    @OneToMany(mappedBy = &quot;student&quot;)\n    private List&lt;Notes&gt; notes;\n}\n</code></pre>\n<pre><code>\n@Entity\n@Data\n@NoArgsConstructor(force = true)\n@AllArgsConstructor\npublic class Classes {\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE)\n    private long id;\n    @NonNull\n    @NotBlank(message = &quot;First name must be filled&quot;)\n    @Pattern(regexp = &quot;^(?!\\\\s*$).+&quot;, message = &quot;First name must not be blank or contain only spaces&quot;)\n    private String name;\n    @NonNull\n    private Integer numberS;\n    private double averageC=0.0;\n    @OneToMany\n    private List&lt;Student&gt; student;\n\n}\n</code></pre>\n<p>and this is my Dto entities</p>\n<pre><code>@Data\npublic class StudentGetDto {\n    @NotNull\n    private String codeM;\n    private String firstName;\n    private String lastName;\n    private ClassesGetDto classes;\n    private List&lt;NotesGetWithMatiereOnlyDto&gt; notes;\n}\n</code></pre>\n<pre><code>@Data\npublic class ClassesGetDto {\n    private String name;\n    private Integer numberS;\n    private Double averageC;\n    private List&lt;StudentGetDto&gt; students;\n}\n</code></pre>\n<p>and this is the controller function</p>\n<pre><code>    @GetMapping(&quot;/{Name}&quot;)\n    public ClassesGetDto findByName(@PathVariable String Name) throws Exception{\n        return modelMapper.map(classesService.findByName(Name), ClassesGetDto.class);\n    }\n</code></pre>\n<p>the modelMapper config</p>\n<pre><code>@Configuration\npublic class ModelMapperConfig {\n\n    @Bean\n    public ModelMapper modelMapper() {\n        return new ModelMapper();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-alertdialog","nfc","smartcard"],"comments":[{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686218205,"post_id":76430606,"comment_id":134770109,"body_markdown":"Use [setOnDismissListener](https://developer.android.com/reference/android/app/AlertDialog.Builder#setOnDismissListener(android.content.DialogInterface.OnDismissListener)) to put the code you want to run after the dialog is displayed and dismissed in the callback listener.","body":"Use <a href=\"https://developer.android.com/reference/android/app/AlertDialog.Builder#setOnDismissListener(android.content.DialogInterface.OnDismissListener)\" rel=\"nofollow noreferrer\">setOnDismissListener</a> to put the code you want to run after the dialog is displayed and dismissed in the callback listener."}],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686222940,"creation_date":1686222940,"answer_id":76431267,"question_id":76430606,"body_markdown":"The problem is you are handling the incoming NFC data in your main thread loop (against recommendations) and then you adding the AlertDialog to end of the queue of items the main thread loop is to process with the `handler.post(runnable);` \r\n\r\nThus all the code in the `runnable` get run after the rest of the code in `onNewIntent`\r\n\r\nIf you want the user to confirm the &quot;Message&quot; before you `cardAuthenticate` then the flow of the code should go like the below pseudo Code \r\n\r\n - onNewIntent\r\n - Store `Tag` object (a simple global variable can work)\r\n - Connect to Tag and get message\r\n - Ideally Close `Tag` connection\r\n - Display dialog\r\n - In the confirm dialog callback re-connect to the stored Tag object\r\n - call `cardAuthenticate`\r\n\r\nIt&#39;s not ideal to the the old Intent based method working with NFC, using the newer and better `enableReaderMode` automatically handles NFC in a background thread so as to prevent ANR messages due to NFC operations.\r\n\r\nEven with `enableReaderMode` you will still have to store the Tag object for later use by the confirm event from the Dialog.\r\n\r\nNote with Android 12L onwards you should also catch a `SecurityException` for it the Tag object goes out of date while you are using it.\r\n\r\n","title":"Displaying Android AlertDialog immediately","body":"<p>The problem is you are handling the incoming NFC data in your main thread loop (against recommendations) and then you adding the AlertDialog to end of the queue of items the main thread loop is to process with the <code>handler.post(runnable);</code></p>\n<p>Thus all the code in the <code>runnable</code> get run after the rest of the code in <code>onNewIntent</code></p>\n<p>If you want the user to confirm the &quot;Message&quot; before you <code>cardAuthenticate</code> then the flow of the code should go like the below pseudo Code</p>\n<ul>\n<li>onNewIntent</li>\n<li>Store <code>Tag</code> object (a simple global variable can work)</li>\n<li>Connect to Tag and get message</li>\n<li>Ideally Close <code>Tag</code> connection</li>\n<li>Display dialog</li>\n<li>In the confirm dialog callback re-connect to the stored Tag object</li>\n<li>call <code>cardAuthenticate</code></li>\n</ul>\n<p>It's not ideal to the the old Intent based method working with NFC, using the newer and better <code>enableReaderMode</code> automatically handles NFC in a background thread so as to prevent ANR messages due to NFC operations.</p>\n<p>Even with <code>enableReaderMode</code> you will still have to store the Tag object for later use by the confirm event from the Dialog.</p>\n<p>Note with Android 12L onwards you should also catch a <code>SecurityException</code> for it the Tag object goes out of date while you are using it.</p>\n"}],"owner":{"account_id":219520,"reputation":7090,"user_id":476467,"accept_rate":65,"display_name":"thotheolh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76431267,"answer_count":1,"score":0,"last_activity_date":1686222940,"creation_date":1686217716,"question_id":76430606,"body_markdown":"I noticed that AlertDialog in Android does not show immediately. The AlertDialog could be rendered after all the codes have fully run it&#39;s course and the dialog pops up which is too late in the UI process.\r\n\r\nI am trying to build an NFC card reader application for Android and during the NFC communication, the card and phone will exchange cryptographic challenges to each other and the AlertDialog is suppose to display a one-time challenge to allow the end user to physically verify the authenticity of the card they are communicating with.\r\n\r\nI noticed that the AlertDialog will only display the challenge code once all the other main codes have fully executed which defeats the purpose of a challenge code.\r\n\r\nI would like to know if there are certain ways to force rendering of a just-in-time AlertDialog that will render immediately when asked to do so with the appropriate challenge codes to be displayed ?\r\n\r\nHere is a skeleton code of what I am working on:\r\n\r\n```\r\npublic class CardPairingActivity extends AppCompatActivity implements InfoDialogCopyDialog.InfoDialogCopyDialogListener {\r\n\r\n    private static String username = &quot;&quot;;\r\n    private static String password = &quot;&quot;;\r\n    private static final byte role = Constants.USER_KEYMAN;\r\n    private ImageView imageView = null;\r\n    private ProgressBar spinner = null;\r\n    private NfcAdapter nfcAdapter = null;\r\n    private IntentFilter[] intentFiltersArray = null;\r\n    private String[][] techListsArray = null;\r\n    private PendingIntent pendingIntent = null;\r\n    private APDUResult apduRes = null;\r\n    private static Handler handler = new Handler();\r\n    private static Runnable runnable = null;\r\n    private static Context myContext = null;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_card_pairing);\r\n\r\n        myContext = this;\r\n\r\n        NfcManager nfcManager = (NfcManager) getSystemService(Context.NFC_SERVICE);\r\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n\r\n        if (nfcManager != null) {\r\n            System.out.println(&quot;NFC Manager ready ...&quot;);\r\n        }\r\n\r\n        if (nfcAdapter != null) {\r\n            System.out.println(&quot;NFC Adapter ready ...&quot;);\r\n        }\r\n\r\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_MUTABLE);\r\n        intentFiltersArray = new IntentFilter[]{new IntentFilter(NfcAdapter.ACTION_TECH_DISCOVERED)};\r\n        techListsArray = new String[][]{new String[]{NfcA.class.getName()}, new String[]{NfcB.class.getName()}, new String[]{IsoDep.class.getName()}};\r\n\r\n        if (android.os.Build.VERSION.SDK_INT &gt; 9) {\r\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\r\n            StrictMode.setThreadPolicy(policy);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n        Intent intent = new Intent();\r\n        intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n        PendingIntent nfcPendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\r\n        if (nfcAdapter != null) {\r\n            nfcAdapter.enableForegroundDispatch(this, pendingIntent, intentFiltersArray, techListsArray);\r\n        }\r\n    }\r\n\r\n    protected void onPause() {\r\n        super.onPause();\r\n\r\n        if (nfcAdapter != null) {\r\n            try {\r\n                nfcAdapter.disableForegroundDispatch(this);\r\n            } catch (IllegalStateException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error disabling NFC foreground dispatch&quot;, ex);\r\n            }\r\n        }\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.O)\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n\r\n        System.out.println(&quot;Doing onNewIntent() ...&quot;);\r\n\r\n        // Use NFC to read tag\r\n        Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n        boolean hasIsoDep = false;\r\n\r\n        if (tag != null) {\r\n            System.out.println(&quot;New tag found !!!&quot;);\r\n            System.out.println(&quot;Tag ID: &quot; + BinUtils.toHexString(tag.getId()));\r\n            System.out.println(&quot;\\r\\n&quot;);\r\n            for (String tagTech : tag.getTechList()) {\r\n                System.out.println(&quot;Tech: &quot; + tagTech);\r\n                if (tagTech.equals(&quot;android.nfc.tech.IsoDep&quot;)) {\r\n                    hasIsoDep = true;\r\n                }\r\n            }\r\n        } else {\r\n            System.out.println(&quot;No new tag found !!!&quot;);\r\n        }\r\n\r\n        if (hasIsoDep) {\r\n            try {\r\n                IsoDep iso14443 = IsoDep.get(tag);\r\n                iso14443.connect();\r\n                SharedResource.setIsoDep(iso14443);\r\n                System.out.println(&quot;Selecting KeyVault applet ...&quot;);\r\n                HashMap&lt;String, Object&gt; result = API.adminInit();\r\n                boolean isSuccess = (boolean) result.get(&quot;Success&quot;);\r\n\r\n                if (isSuccess) {\r\n                    String toShow = (String) result.get(&quot;Message&quot;);\r\n                    if (toShow != null) {\r\n                        System.out.println(&quot;Showing Secure Session popup ...&quot;);\r\n\r\n                        runnable = new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                AlertDialog.Builder builder = new AlertDialog.Builder(myContext);\r\n                                builder.setTitle(&quot;Secure Card Session&quot;);\r\n                                builder.setMessage(toShow);\r\n                                AlertDialog alert = builder.create();\r\n                                alert.show();\r\n                            }\r\n                        };\r\n                        handler.post(runnable);\r\n                    }\r\n                    if (API.cardAuthenticate(Constants.USER_KEYMAN, username, password.toCharArray())) {\r\n                        // Login success\r\n                        System.out.println(&quot;[INF] Card Login SUCCESS ...&quot;);                        \r\n                    } else {\r\n                        // Login fail\r\n                        System.out.println(&quot;[ERR] Card Login FAILED ...&quot;);\r\n                        int tries = API.adminCardLoginTriesRemaining(role, null);\r\n                        if (tries != -1) {\r\n                            SharedResource.showNotificationDialog(&quot;Card Pairing Failed&quot;, &quot;Card Login Failed. \\r\\nLogin Retries Left: &quot; + tries, &quot;OK&quot;, this, MainActivity.class);\r\n                        } else {\r\n                            SharedResource.showNotificationDialog(&quot;Card Pairing Failed&quot;, &quot;Card Login Failed.&quot;, &quot;OK&quot;, this, MainActivity.class);\r\n                        }\r\n                    }\r\n                } else {\r\n                    System.out.println(&quot;[ERR] Failed to select applet !!!&quot;);\r\n                }\r\n                iso14443.close();\r\n            } catch (IOException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (InvalidSizeException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (InvalidAlgorithmParameterException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (NoSuchPaddingException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (ShortBufferException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (IllegalBlockSizeException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (NoSuchAlgorithmException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (InvalidParameterSpecException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (InvalidKeySpecException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (BadPaddingException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (InvalidKeyException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (IllegalFormatException ex) {\r\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\r\n            } catch (NoSuchProviderException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void setCredentials(String usr, String pass, String authorName, String authorID) {\r\n        username = usr;\r\n        password = pass;\r\n        serverAuthorName = authorName;\r\n        serverAuthorID = authorID;\r\n    }\r\n\r\n    @Override\r\n    public void infoDialogCopyDialog() {\r\n    }\r\n}\r\n```\r\n\r\nWhat can I do to display a challenge-code issued by the card just-in-time before the user proceeds other activities ?","title":"Displaying Android AlertDialog immediately","body":"<p>I noticed that AlertDialog in Android does not show immediately. The AlertDialog could be rendered after all the codes have fully run it's course and the dialog pops up which is too late in the UI process.</p>\n<p>I am trying to build an NFC card reader application for Android and during the NFC communication, the card and phone will exchange cryptographic challenges to each other and the AlertDialog is suppose to display a one-time challenge to allow the end user to physically verify the authenticity of the card they are communicating with.</p>\n<p>I noticed that the AlertDialog will only display the challenge code once all the other main codes have fully executed which defeats the purpose of a challenge code.</p>\n<p>I would like to know if there are certain ways to force rendering of a just-in-time AlertDialog that will render immediately when asked to do so with the appropriate challenge codes to be displayed ?</p>\n<p>Here is a skeleton code of what I am working on:</p>\n<pre><code>public class CardPairingActivity extends AppCompatActivity implements InfoDialogCopyDialog.InfoDialogCopyDialogListener {\n\n    private static String username = &quot;&quot;;\n    private static String password = &quot;&quot;;\n    private static final byte role = Constants.USER_KEYMAN;\n    private ImageView imageView = null;\n    private ProgressBar spinner = null;\n    private NfcAdapter nfcAdapter = null;\n    private IntentFilter[] intentFiltersArray = null;\n    private String[][] techListsArray = null;\n    private PendingIntent pendingIntent = null;\n    private APDUResult apduRes = null;\n    private static Handler handler = new Handler();\n    private static Runnable runnable = null;\n    private static Context myContext = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_card_pairing);\n\n        myContext = this;\n\n        NfcManager nfcManager = (NfcManager) getSystemService(Context.NFC_SERVICE);\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n\n        if (nfcManager != null) {\n            System.out.println(&quot;NFC Manager ready ...&quot;);\n        }\n\n        if (nfcAdapter != null) {\n            System.out.println(&quot;NFC Adapter ready ...&quot;);\n        }\n\n        pendingIntent = PendingIntent.getActivity(this, 0, new Intent(this, getClass()).addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP), PendingIntent.FLAG_MUTABLE);\n        intentFiltersArray = new IntentFilter[]{new IntentFilter(NfcAdapter.ACTION_TECH_DISCOVERED)};\n        techListsArray = new String[][]{new String[]{NfcA.class.getName()}, new String[]{NfcB.class.getName()}, new String[]{IsoDep.class.getName()}};\n\n        if (android.os.Build.VERSION.SDK_INT &gt; 9) {\n            StrictMode.ThreadPolicy policy = new StrictMode.ThreadPolicy.Builder().permitAll().build();\n            StrictMode.setThreadPolicy(policy);\n        }\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n        Intent intent = new Intent();\n        intent.addFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n        PendingIntent nfcPendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_MUTABLE);\n        if (nfcAdapter != null) {\n            nfcAdapter.enableForegroundDispatch(this, pendingIntent, intentFiltersArray, techListsArray);\n        }\n    }\n\n    protected void onPause() {\n        super.onPause();\n\n        if (nfcAdapter != null) {\n            try {\n                nfcAdapter.disableForegroundDispatch(this);\n            } catch (IllegalStateException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error disabling NFC foreground dispatch&quot;, ex);\n            }\n        }\n    }\n\n    @RequiresApi(api = Build.VERSION_CODES.O)\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n\n        System.out.println(&quot;Doing onNewIntent() ...&quot;);\n\n        // Use NFC to read tag\n        Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n        boolean hasIsoDep = false;\n\n        if (tag != null) {\n            System.out.println(&quot;New tag found !!!&quot;);\n            System.out.println(&quot;Tag ID: &quot; + BinUtils.toHexString(tag.getId()));\n            System.out.println(&quot;\\r\\n&quot;);\n            for (String tagTech : tag.getTechList()) {\n                System.out.println(&quot;Tech: &quot; + tagTech);\n                if (tagTech.equals(&quot;android.nfc.tech.IsoDep&quot;)) {\n                    hasIsoDep = true;\n                }\n            }\n        } else {\n            System.out.println(&quot;No new tag found !!!&quot;);\n        }\n\n        if (hasIsoDep) {\n            try {\n                IsoDep iso14443 = IsoDep.get(tag);\n                iso14443.connect();\n                SharedResource.setIsoDep(iso14443);\n                System.out.println(&quot;Selecting KeyVault applet ...&quot;);\n                HashMap&lt;String, Object&gt; result = API.adminInit();\n                boolean isSuccess = (boolean) result.get(&quot;Success&quot;);\n\n                if (isSuccess) {\n                    String toShow = (String) result.get(&quot;Message&quot;);\n                    if (toShow != null) {\n                        System.out.println(&quot;Showing Secure Session popup ...&quot;);\n\n                        runnable = new Runnable() {\n                            @Override\n                            public void run() {\n                                AlertDialog.Builder builder = new AlertDialog.Builder(myContext);\n                                builder.setTitle(&quot;Secure Card Session&quot;);\n                                builder.setMessage(toShow);\n                                AlertDialog alert = builder.create();\n                                alert.show();\n                            }\n                        };\n                        handler.post(runnable);\n                    }\n                    if (API.cardAuthenticate(Constants.USER_KEYMAN, username, password.toCharArray())) {\n                        // Login success\n                        System.out.println(&quot;[INF] Card Login SUCCESS ...&quot;);                        \n                    } else {\n                        // Login fail\n                        System.out.println(&quot;[ERR] Card Login FAILED ...&quot;);\n                        int tries = API.adminCardLoginTriesRemaining(role, null);\n                        if (tries != -1) {\n                            SharedResource.showNotificationDialog(&quot;Card Pairing Failed&quot;, &quot;Card Login Failed. \\r\\nLogin Retries Left: &quot; + tries, &quot;OK&quot;, this, MainActivity.class);\n                        } else {\n                            SharedResource.showNotificationDialog(&quot;Card Pairing Failed&quot;, &quot;Card Login Failed.&quot;, &quot;OK&quot;, this, MainActivity.class);\n                        }\n                    }\n                } else {\n                    System.out.println(&quot;[ERR] Failed to select applet !!!&quot;);\n                }\n                iso14443.close();\n            } catch (IOException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (InvalidSizeException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (InvalidAlgorithmParameterException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (NoSuchPaddingException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (ShortBufferException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (IllegalBlockSizeException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (NoSuchAlgorithmException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (InvalidParameterSpecException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (InvalidKeySpecException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (BadPaddingException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (InvalidKeyException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (IllegalFormatException ex) {\n                Log.e(&quot;ATHTAG&quot;, &quot;Error found during tag comms&quot;, ex);\n            } catch (NoSuchProviderException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n\n    public static void setCredentials(String usr, String pass, String authorName, String authorID) {\n        username = usr;\n        password = pass;\n        serverAuthorName = authorName;\n        serverAuthorID = authorID;\n    }\n\n    @Override\n    public void infoDialogCopyDialog() {\n    }\n}\n</code></pre>\n<p>What can I do to display a challenge-code issued by the card just-in-time before the user proceeds other activities ?</p>\n"},{"tags":["java","azure"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1686220683,"post_id":76430984,"comment_id":134770561,"body_markdown":"What does this have to do with AWS? This is **entirely** about azure. *&quot;using S3 API to Azure&quot;* - what?","body":"What does this have to do with AWS? This is <b>entirely</b> about azure. <i>&quot;using S3 API to Azure&quot;</i> - what?"},{"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"score":0,"creation_date":1686291363,"post_id":76430984,"comment_id":134781408,"body_markdown":"Using an S3proxy for connecting to Azure https://github.com/gaul/s3proxy","body":"Using an S3proxy for connecting to Azure <a href=\"https://github.com/gaul/s3proxy\" rel=\"nofollow noreferrer\">github.com/gaul/s3proxy</a>"}],"answers":[{"tags":[],"owner":{"account_id":3801293,"reputation":2150,"user_id":3154883,"display_name":"Brother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686222801,"creation_date":1686221146,"answer_id":76431044,"question_id":76430984,"body_markdown":"What you want is a backoff strategy: https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/retry/RetryPolicy.BackoffStrategy.html\r\n\r\nYou can choose which one and set like this:\r\n```\r\nRetryPolicy.builder()\r\n        .withBackoffStrategy(new ExponentialBackoffStrategy(100, 2000))\r\n        .build()\r\n```\r\n\r\nOf course this is using AWS and Azure must have similar strategies.\r\n\r\n[updated]\r\n\r\nWith Azure Java SDK, you can have the retry as:\r\n```\r\nRetryPolicy policy = new RetryExponentialRetry(BACKOFF_DELTA, MAX_RETRIES)\r\n```","title":"How to add retry delay in retry policy?","body":"<p>What you want is a backoff strategy: <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/retry/RetryPolicy.BackoffStrategy.html\" rel=\"nofollow noreferrer\">https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/retry/RetryPolicy.BackoffStrategy.html</a></p>\n<p>You can choose which one and set like this:</p>\n<pre><code>RetryPolicy.builder()\n        .withBackoffStrategy(new ExponentialBackoffStrategy(100, 2000))\n        .build()\n</code></pre>\n<p>Of course this is using AWS and Azure must have similar strategies.</p>\n<p>[updated]</p>\n<p>With Azure Java SDK, you can have the retry as:</p>\n<pre><code>RetryPolicy policy = new RetryExponentialRetry(BACKOFF_DELTA, MAX_RETRIES)\n</code></pre>\n"}],"owner":{"account_id":10323494,"reputation":7,"user_id":7615629,"display_name":"CoderAkki"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":211,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686222801,"creation_date":1686220604,"question_id":76430984,"body_markdown":"I am trying to upload file using S3 API to Azure by using AWS SDK but I am facing intermittent file upload issue and this the error\r\n\r\n```Cannot retry after server error, command is not replayable: [method=org.jclouds.azureblob.AzureBlobClient.public abstract java.lang.String org.jclouds.azureblob.AzureBlobClient.putBlob(java.lang.String,org.jclouds.azureblob.domain.AzureBlob)```\r\n\r\nI have a retry policy in place as well\r\n\r\n    RetryPolicy.builder().numRetries(retries).build()\r\n\r\nwhich retries for 10 times and gives and error was thing of adding a delay between the retries \r\n\r\nAny idea how can i achive it , new to AWS ?","title":"How to add retry delay in retry policy?","body":"<p>I am trying to upload file using S3 API to Azure by using AWS SDK but I am facing intermittent file upload issue and this the error</p>\n<p><code>Cannot retry after server error, command is not replayable: [method=org.jclouds.azureblob.AzureBlobClient.public abstract java.lang.String org.jclouds.azureblob.AzureBlobClient.putBlob(java.lang.String,org.jclouds.azureblob.domain.AzureBlob)</code></p>\n<p>I have a retry policy in place as well</p>\n<pre><code>RetryPolicy.builder().numRetries(retries).build()\n</code></pre>\n<p>which retries for 10 times and gives and error was thing of adding a delay between the retries</p>\n<p>Any idea how can i achive it , new to AWS ?</p>\n"},{"tags":["java","hashcode","primes"],"comments":[{"owner":{"account_id":3282,"reputation":146296,"user_id":4725,"accept_rate":100,"display_name":"Tom Hawtin - tackline"},"score":4,"creation_date":1259789986,"post_id":1835976,"comment_id":1728418,"body_markdown":"31 is still good as it doesn&#39;t necessarily involve loading a constant. On an ARM processor (at least one used by around 99.9997% of mobile phones) `*31` can be don in a single instruction. In reality, any odd number whether prime or not is good enough.","body":"31 is still good as it doesn&#39;t necessarily involve loading a constant. On an ARM processor (at least one used by around 99.9997% of mobile phones) <code>*31</code> can be don in a single instruction. In reality, any odd number whether prime or not is good enough."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1259821269,"post_id":1835976,"comment_id":1730819,"body_markdown":"I was thinking of desktop programs, where it does not matter whether you choose 31 or 1327144003. Curiously enough, on my machine multiplying with 31 is actually a little slower - probably an optimization gone wrong. 8-)","body":"I was thinking of desktop programs, where it does not matter whether you choose 31 or 1327144003. Curiously enough, on my machine multiplying with 31 is actually a little slower - probably an optimization gone wrong. 8-)"},{"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"score":8,"creation_date":1297884636,"post_id":1835976,"comment_id":5614692,"body_markdown":"Primes of form `p = (2^n-1)` lend themselves to optimization of `x * p = (p &lt;&lt; n) - p` which the compiler typically does. From Joshua Bloch, Effective Java, Chapter 3, Item 9. SO question http://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier/299748#299748","body":"Primes of form <code>p = (2^n-1)</code> lend themselves to optimization of <code>x * p = (p &lt;&lt; n) - p</code> which the compiler typically does. From Joshua Bloch, Effective Java, Chapter 3, Item 9. SO question <a href=\"http://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier/299748#299748\" title=\"why does javas hashcode in string use 31 as a multiplier\">stackoverflow.com/questions/299304/&hellip;</a>"},{"owner":{"account_id":32045,"reputation":26603,"user_id":88442,"accept_rate":54,"display_name":"J-16 SDiZ"},"score":0,"creation_date":1417085923,"post_id":1835976,"comment_id":42829167,"body_markdown":"and multiply with integer &lt;128 have extra boost in jvm.. `2^n-1`, prime, smallish .. this give 31.","body":"and multiply with integer &lt;128 have extra boost in jvm.. <code>2^n-1</code>, prime, smallish .. this give 31."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":0,"creation_date":1417205325,"post_id":1835976,"comment_id":42875740,"body_markdown":"@corsiKa As I said, for current desktop machines this doesn&#39;t seem to be an optimization anymore - the time is the same. Even worse: on my machine multiplying with 31 was a little slower - maybe the JVM tried to &quot;optimize&quot; it by calculating x &lt;&lt; 5 - x, and this is actually slower than using the hardware multiplier.","body":"@corsiKa As I said, for current desktop machines this doesn&#39;t seem to be an optimization anymore - the time is the same. Even worse: on my machine multiplying with 31 was a little slower - maybe the JVM tried to &quot;optimize&quot; it by calculating x &lt;&lt; 5 - x, and this is actually slower than using the hardware multiplier."},{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1496546647,"post_id":1835976,"comment_id":75703275,"body_markdown":"@Dr.Hans-PeterSt&#246;rr On i86, there&#39;s a difference, as there&#39;s a mode for a single byte immediate operand. You get a shorter instruction and in a benchmark I wrote years ago it was slightly faster.","body":"@Dr.Hans-PeterSt&#246;rr On i86, there&#39;s a difference, as there&#39;s a mode for a single byte immediate operand. You get a shorter instruction and in a benchmark I wrote years ago it was slightly faster."},{"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"score":2,"creation_date":1504607973,"post_id":1835976,"comment_id":79065128,"body_markdown":"@MarkRotteveel Please notice that this is quite different from [Why does Java&#39;s hashCode() in String use 31 as a multiplier?][1] since this is not about the history of 31, but on what would be a better choice instead of using 31, without using additional libraries or entirely different methods of calculating hashes. None of the answers there adresses that.\n\n  [1]: https://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier","body":"@MarkRotteveel Please notice that this is quite different from [Why does Java&#39;s hashCode() in String use 31 as a multiplier?][1] since this is not about the history of 31, but on what would be a better choice instead of using 31, without using additional libraries or entirely different methods of calculating hashes. None of the answers there adresses that.    [1]: <a href=\"https://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier\" title=\"why does javas hashcode in string use 31 as a multiplier\">stackoverflow.com/questions/299304/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259790771,"creation_date":1259790771,"answer_id":1836079,"question_id":1835976,"body_markdown":"You need to define your range for i and j.  You could use a prime number for both.\r\n\r\n    public int hashCode() {\r\n       http://primes.utm.edu/curios/ ;)\r\n       return 97654321 * i ^ 12356789 * j;\r\n    }\r\n\r\n","title":"What is a sensible prime for hashcode calculation?","body":"<p>You need to define your range for i and j.  You could use a prime number for both.</p>\n\n<pre><code>public int hashCode() {\n   http://primes.utm.edu/curios/ ;)\n   return 97654321 * i ^ 12356789 * j;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47225,"reputation":79382,"user_id":139746,"accept_rate":92,"display_name":"Pascal Cuoq"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1259790856,"creation_date":1259790856,"answer_id":1836089,"question_id":1835976,"body_markdown":"Actually, if you take a prime so large that it comes close to `INT_MAX`, you have the same problem because of modulo arithmetic. If you expect to hash mostly strings of length 2, perhaps a prime near the square root of `INT_MAX` would be best, if the strings you hash are longer it doesn&#39;t matter so much and collisions are unavoidable anyway...","title":"What is a sensible prime for hashcode calculation?","body":"<p>Actually, if you take a prime so large that it comes close to <code>INT_MAX</code>, you have the same problem because of modulo arithmetic. If you expect to hash mostly strings of length 2, perhaps a prime near the square root of <code>INT_MAX</code> would be best, if the strings you hash are longer it doesn't matter so much and collisions are unavoidable anyway...</p>\n"},{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1259791883,"creation_date":1259791883,"answer_id":1836208,"question_id":1835976,"body_markdown":"I&#39;d choose 7243. Large enough to avoid collissions with small numbers. Doesn&#39;t overflow to small numbers quickly.","title":"What is a sensible prime for hashcode calculation?","body":"<p>I'd choose 7243. Large enough to avoid collissions with small numbers. Doesn't overflow to small numbers quickly.</p>\n"},{"tags":[],"owner":{"account_id":78475,"reputation":12729,"user_id":223339,"accept_rate":100,"display_name":"Romain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1259796052,"creation_date":1259796052,"answer_id":1836590,"question_id":1835976,"body_markdown":"Collisions may not be such a big issue... The primary goal of the hash is to avoid using equals for 1:1 comparisons.\r\nIf you have an implementation where equals is &quot;generally&quot; extremely cheap for objects that have collided hashs, then this is not an issue (at all).\r\n\r\nIn the end, what is the best way of hashing depends on what you are comparing. In the case of an int pair (as in your example), using basic bitwise operators could be sufficient (as using &amp; or ^).","title":"What is a sensible prime for hashcode calculation?","body":"<p>Collisions may not be such a big issue... The primary goal of the hash is to avoid using equals for 1:1 comparisons.\nIf you have an implementation where equals is \"generally\" extremely cheap for objects that have collided hashs, then this is not an issue (at all).</p>\n\n<p>In the end, what is the best way of hashing depends on what you are comparing. In the case of an int pair (as in your example), using basic bitwise operators could be sufficient (as using &amp; or ^).</p>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":0,"up_vote_count":87,"is_accepted":true,"score":87,"last_activity_date":1427887800,"creation_date":1273649204,"answer_id":2816747,"question_id":1835976,"body_markdown":"I recommend using **92821**. Here&#39;s why.\r\n\r\nTo give a meaningful answer to this you have to know something about the possible values of `i` and `j`. The only thing I can think of in general is, that in many cases small values will be more common than large values. (The odds of 15 appearing as a value in your program are much better than, say, 438281923.) So it seems a good idea to make the smallest hashcode collision as large as possible by choosing an appropriate prime. For 31 this rather bad - already for `i=-1` and `j=31` you have the same hash value as for `i=0` and `j=0`.\r\n\r\nSince this is interesting, I&#39;ve written a little program that searched the whole int range for the best prime in this sense. That is, for each prime I searched for the minimum value of `Math.abs(i) + Math.abs(j)` over all values of `i,j` that have the same hashcode as `0,0`, and then took the prime where this minimum value is as large as possible. \r\n\r\n*Drumroll*: the best prime in this sense is 486187739 (with the smallest collision being `i=-25486, j=67194`). Nearly as good and much easier to remember is 92821 with the smallest collision being `i=-46272 and j=46016`.\r\n\r\nIf you give &quot;small&quot; another meaning and want to be the minimum of `Math.sqrt(i*i+j*j)` for the collision as large as possible, the results are a little different: the best would be 1322837333 with `i=-6815 and j=70091`, but my favourite 92821 (smallest collision `-46272,46016`) is again almost as good as the best value.\r\n\r\nI do acknowledge that it is quite debatable whether these calculation make much sense in practice. But I do think that taking 92821 as prime makes much more sense than 31, unless you have good reasons not to.","title":"What is a sensible prime for hashcode calculation?","body":"<p>I recommend using <strong>92821</strong>. Here's why.</p>\n\n<p>To give a meaningful answer to this you have to know something about the possible values of <code>i</code> and <code>j</code>. The only thing I can think of in general is, that in many cases small values will be more common than large values. (The odds of 15 appearing as a value in your program are much better than, say, 438281923.) So it seems a good idea to make the smallest hashcode collision as large as possible by choosing an appropriate prime. For 31 this rather bad - already for <code>i=-1</code> and <code>j=31</code> you have the same hash value as for <code>i=0</code> and <code>j=0</code>.</p>\n\n<p>Since this is interesting, I've written a little program that searched the whole int range for the best prime in this sense. That is, for each prime I searched for the minimum value of <code>Math.abs(i) + Math.abs(j)</code> over all values of <code>i,j</code> that have the same hashcode as <code>0,0</code>, and then took the prime where this minimum value is as large as possible. </p>\n\n<p><em>Drumroll</em>: the best prime in this sense is 486187739 (with the smallest collision being <code>i=-25486, j=67194</code>). Nearly as good and much easier to remember is 92821 with the smallest collision being <code>i=-46272 and j=46016</code>.</p>\n\n<p>If you give \"small\" another meaning and want to be the minimum of <code>Math.sqrt(i*i+j*j)</code> for the collision as large as possible, the results are a little different: the best would be 1322837333 with <code>i=-6815 and j=70091</code>, but my favourite 92821 (smallest collision <code>-46272,46016</code>) is again almost as good as the best value.</p>\n\n<p>I do acknowledge that it is quite debatable whether these calculation make much sense in practice. But I do think that taking 92821 as prime makes much more sense than 31, unless you have good reasons not to.</p>\n"},{"tags":[],"owner":{"account_id":31516,"reputation":571,"user_id":86600,"accept_rate":0,"display_name":"neoedmund"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1476509126,"creation_date":1476509126,"answer_id":40055299,"question_id":1835976,"body_markdown":"I just want to point out that hashcode has nothing to do with prime. \r\nIn JDK implementation \r\n\r\n    for (int i = 0; i &lt; value.length; i++) {\r\n                    h = 31 * h + val[i];\r\n                }\r\n\r\nI found if you replace **31** with **27**, the result are very similar.","title":"What is a sensible prime for hashcode calculation?","body":"<p>I just want to point out that hashcode has nothing to do with prime. \nIn JDK implementation </p>\n\n<pre><code>for (int i = 0; i &lt; value.length; i++) {\n                h = 31 * h + val[i];\n            }\n</code></pre>\n\n<p>I found if you replace <strong>31</strong> with <strong>27</strong>, the result are very similar.</p>\n"}],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22765,"favorite_count":0,"down_vote_count":0,"up_vote_count":70,"accepted_answer_id":2816747,"answer_count":6,"score":70,"last_activity_date":1686222457,"creation_date":1259789700,"question_id":1835976,"body_markdown":"Eclipse 3.5 has a very nice feature to generate Java hashCode() functions. It would generate for example (slightly shortened:)\r\n\r\n    class HashTest {\r\n        int i;\r\n        int j;        \r\n        public int hashCode() {\r\n            final int prime = 31;\r\n            int result = prime + i;\r\n            result = prime * result + j;\r\n            return result;\r\n        }\r\n    }\r\n\r\n(If you have more attributes in the class, `result = prime * result + attribute.hashCode();` is repeated for each additional attribute. For ints .hashCode() can be omitted.)\r\n\r\nThis seems fine but for the choice 31 for the prime. It is probably taken from the [hashCode implementation of Java String][1], which was used for performance reasons that are long gone after the introduction of hardware multipliers. Here you have many hashcode collisions for small values of i and j: for example (0,0) and (-1,31) have the same value. I think that is a Bad Thing(TM), since small values occur often. For String.hashCode you&#39;ll also find many short strings with the same hashcode, for instance &quot;Ca&quot; and &quot;DB&quot;. If you take a large prime, this problem disappears if you choose the prime right.\r\n\r\nSo my question: what is a good prime to choose? What criteria do you apply to find it? \r\n\r\nThis is meant as a general question - so I do not want to give a range for i and j. But I suppose in most applications relatively small values occur more often than large values. (If you have large values the choice of the prime is probably unimportant.) It might not make much of a difference, but a better choice is an easy and obvious way to improve this - so why not do it? Commons lang [HashCodeBuilder][2] also suggests curiously small values.\r\n\r\n(**Clarification**: this is *not* a duplicate of [Why does Java&#39;s hashCode() in String use 31 as a multiplier?][1] since my question is not concerned with the history of the 31 in the JDK, but on what would be a better value in new code using the same basic template. None of the answers there try to answer that.)\r\n\r\n  [1]: https://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier\r\n  [2]: http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html","title":"What is a sensible prime for hashcode calculation?","body":"<p>Eclipse 3.5 has a very nice feature to generate Java hashCode() functions. It would generate for example (slightly shortened:)</p>\n\n<pre><code>class HashTest {\n    int i;\n    int j;        \n    public int hashCode() {\n        final int prime = 31;\n        int result = prime + i;\n        result = prime * result + j;\n        return result;\n    }\n}\n</code></pre>\n\n<p>(If you have more attributes in the class, <code>result = prime * result + attribute.hashCode();</code> is repeated for each additional attribute. For ints .hashCode() can be omitted.)</p>\n\n<p>This seems fine but for the choice 31 for the prime. It is probably taken from the <a href=\"https://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier\">hashCode implementation of Java String</a>, which was used for performance reasons that are long gone after the introduction of hardware multipliers. Here you have many hashcode collisions for small values of i and j: for example (0,0) and (-1,31) have the same value. I think that is a Bad Thing(TM), since small values occur often. For String.hashCode you'll also find many short strings with the same hashcode, for instance \"Ca\" and \"DB\". If you take a large prime, this problem disappears if you choose the prime right.</p>\n\n<p>So my question: what is a good prime to choose? What criteria do you apply to find it? </p>\n\n<p>This is meant as a general question - so I do not want to give a range for i and j. But I suppose in most applications relatively small values occur more often than large values. (If you have large values the choice of the prime is probably unimportant.) It might not make much of a difference, but a better choice is an easy and obvious way to improve this - so why not do it? Commons lang <a href=\"http://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/builder/HashCodeBuilder.html\" rel=\"noreferrer\">HashCodeBuilder</a> also suggests curiously small values.</p>\n\n<p>(<strong>Clarification</strong>: this is <em>not</em> a duplicate of <a href=\"https://stackoverflow.com/questions/299304/why-does-javas-hashcode-in-string-use-31-as-a-multiplier\">Why does Java's hashCode() in String use 31 as a multiplier?</a> since my question is not concerned with the history of the 31 in the JDK, but on what would be a better value in new code using the same basic template. None of the answers there try to answer that.)</p>\n"},{"tags":["javascript","java","html","ajax","restful-url"],"comments":[{"owner":{"account_id":4351726,"reputation":1186,"user_id":3551833,"display_name":"Kai"},"score":0,"creation_date":1686211626,"post_id":76429777,"comment_id":134768874,"body_markdown":"You have an extra slash in: `let parmURL = &#39;http://localhost:8080/LocationWeb/LocCon/listAllLocations/&#39;`. If you remove that, does it resolve your issue? Depending if your router is sensitive to that, it might cause your problem","body":"You have an extra slash in: <code>let parmURL = &#39;http:&#47;&#47;localhost:8080&#47;LocationWeb&#47;LocCon&#47;listAllLocations&#47;&#39;</code>&zwnj;&#8203;. If you remove that, does it resolve your issue? Depending if your router is sensitive to that, it might cause your problem"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1686212029,"post_id":76429777,"comment_id":134768948,"body_markdown":"In deletRecord() itself in xhr.send(); its getting in to that 404 page.","body":"In deletRecord() itself in xhr.send(); its getting in to that 404 page."},{"owner":{"account_id":4351726,"reputation":1186,"user_id":3551833,"display_name":"Kai"},"score":0,"creation_date":1686212434,"post_id":76429777,"comment_id":134769032,"body_markdown":"You mean both functions do the right thing but you get redirected to a 404 page? I see that your anchor link forwards the user to: `href=&quot;deleteLocation?id=${location.id}&quot;`. So it forwards the user to (GET) `/deleteLocation`. Does this path exist? If you want to not forward the user, you could just do `&lt;a href=&quot;#trigger&quot;`. This will trigger the functions, but not update your page.","body":"You mean both functions do the right thing but you get redirected to a 404 page? I see that your anchor link forwards the user to: <code>href=&quot;deleteLocation?id=${location.id}&quot;</code>. So it forwards the user to (GET) <code>&#47;deleteLocation</code>. Does this path exist? If you want to not forward the user, you could just do <code>&lt;a href=&quot;#trigger&quot;</code>. This will trigger the functions, but not update your page."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1686212574,"post_id":76429777,"comment_id":134769052,"body_markdown":"Yeah I can do this way. But I&#39;m trying to go with Ajax call. Let me see whether this href works correctly. Please give me a moment.4","body":"Yeah I can do this way. But I&#39;m trying to go with Ajax call. Let me see whether this href works correctly. Please give me a moment.4"},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1686212936,"post_id":76429777,"comment_id":134769109,"body_markdown":"`&lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;` I tried this way now. Didn&#39;t work. Something is wrong with the mappin I guess. Because deletion is happening at the backend.","body":"<code>&lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot;&gt;Delete&lt;&#47;a&gt;&lt;&#47;td&gt;</code> I tried this way now. Didn&#39;t work. Something is wrong with the mappin I guess. Because deletion is happening at the backend."},{"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"score":0,"creation_date":1686213502,"post_id":76429777,"comment_id":134769217,"body_markdown":"No this  didn&#39;t even delete. I checked the console log. Previous thing made delete function. Only the page was not displayed.","body":"No this  didn&#39;t even delete. I checked the console log. Previous thing made delete function. Only the page was not displayed."}],"owner":{"account_id":16555258,"reputation":220,"user_id":11962586,"display_name":"S14321K"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686221975,"creation_date":1686211113,"question_id":76429777,"body_markdown":"I&#39;m trying to make a ajax call to delete and get a new page in response. But facing 404 error.\r\n\r\n    &lt;c:forEach items=&quot;${listLocation}&quot; var=&quot;location&quot;&gt;\r\n    &lt;tr&gt;\r\n      &lt;td&gt;${location.id}&lt;/td&gt;\r\n      &lt;td&gt;${location.code}&lt;/td&gt;\r\n      &lt;td&gt;${location.name}&lt;/td&gt;\r\n      &lt;td&gt;${location.type}&lt;/td&gt;\r\n      &lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot; id=&quot;locID&quot; onclick=&quot;return deleteRecord(&#39;${location.id}&#39;);&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n    &lt;/tr&gt;\r\n    &lt;/c:forEach&gt;\r\n\r\n\r\n\r\nAjax call\r\n\r\n\r\n\r\n    function deleteRecord(locId) \r\n        {\r\n\t       \tlet contextURL = &#39;http://localhost:8080/LocationWeb/LocCon/deleteLocation/&#39;\r\n\t       \tlet parmURL = contextURL + locId;\r\n\t        var xhr = new XMLHttpRequest();\r\n\t        xhr.open(&quot;DELETE&quot;, parmURL);\r\n\t        xhr.send();\r\n\t        xhr.onload = function() \r\n\t        {\r\n\t            if (xhr.status != 200) \r\n\t            {\r\n\t            \tconsole.log(&#39;ERROR&#39;);\r\n\t            }\r\n\t            else\r\n\t            {\r\n\t              listAllPageCall();\r\n\t            }\r\n            };\r\n\t        xhr.onerror = function()\r\n\t        {\r\n\t          console.log(&#39;NO CONNECTION&#39;);\r\n\t        };\r\n        }\r\n        \r\n\t    function listAllPageCall() \r\n\t    {\r\n\t       \tlet parmURL = &#39;http://localhost:8080/LocationWeb/LocCon/listAllLocations/&#39;\r\n\t        var xhr = new XMLHttpRequest();\r\n\t        xhr.open(&quot;GET&quot;, parmURL);\r\n\t        xhr.send();\r\n\t        xhr.onload = function() \r\n\t        {\r\n\t            if (xhr.status != 200) \r\n\t            {\r\n\t            \tconsole.log(&#39;ERROR&#39;);\r\n\t            }\r\n\t            else\r\n\t            {\r\n\t            \tconsole.log(&#39;Called&#39;);\r\n\t            }\r\n\t        };\r\n\t        xhr.onerror = function()\r\n\t        {\r\n\t          console.log(&#39;NO CONNECTION&#39;);\r\n\t        };\r\n\t    }\r\n\r\n\r\n\r\n**Spring Boot code flow**\r\n\r\nThis is to call the webpage to be displayed\r\n\r\n    @GetMapping(&quot;/listAllLocations&quot;)\r\n    public String displayLocations(ModelMap resModMap)\r\n    {\r\n    \tList&lt;Location&gt; listLocation = locationService.getAllLocation();\r\n        resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\r\n    \treturn &quot;displayAllLocations&quot;;\r\n    }\r\n\r\n\r\nThis is to delete and call the webpage like above one. Both response are same. But still getting the white lable error 404\r\n\r\n    @DeleteMapping(&quot;/deleteLocation/{id}&quot;)\r\n    public String deleteLocation(@PathVariable int id, ModelMap resModMap)\r\n    {\r\n        //Location location = locationService.getLocationByID(id);\r\n        Location location = new Location();\r\n        location.setId(id);\r\n        locationService.deleteLocation(location);\r\n        List&lt;Location&gt; listLocation = locationService.getAllLocation();\r\n        resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\r\n    \treturn &quot;displayAllLocations&quot;;\r\n    }\r\n\r\nDelete is happening. Only the page is not getting displayed on response. Please help me.\r\n\r\nI tried this way. By calling the get function in return. But no luck\r\n\r\n    @DeleteMapping(&quot;/deleteLocation/{id}&quot;)\r\n    public void deleteLocation(@PathVariable int id, ModelMap resModMap)\r\n    {\r\n        //Location location = locationService.getLocationByID(id);\r\n        Location location = new Location();\r\n        location.setId(id);\r\n        locationService.deleteLocation(location);\r\n        displayLocations(resModMap);\r\n    }\r\n\r\n\r\nChecked in debug, its getting into \r\n\r\n    xhr.onerror = function()\r\n    {\r\n       console.log(&#39;NO CONNECTION&#39;);\r\n    };\r\n\r\n[![enter image description here][1]][1]\r\n\r\nShould I get response as webpage? Anything like that should be added?\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nTried @RequestMapping, this works good.\r\n\r\n    @RequestMapping(&quot;deleteLocation&quot;)\r\n    public void deleteLocation(@RequestParam(&quot;id&quot;) int id, ModelMap resModMap)\r\n    {\r\n        //Location location = locationService.getLocationByID(id);\r\n        Location location = new Location();\r\n        location.setId(id);\r\n        locationService.deleteLocation(location);\r\n        List&lt;Location&gt; listLocation = locationService.getAllLocation();\r\n        resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\r\n    \treturn &quot;displayAllLocations&quot;;\r\n    }\r\n\r\nIn jsp\r\n\r\n    &lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xg6QT.png\r\n  [2]: https://i.stack.imgur.com/LtxKp.png","title":"Ajax response 404 for @DeleteMapping","body":"<p>I'm trying to make a ajax call to delete and get a new page in response. But facing 404 error.</p>\n<pre><code>&lt;c:forEach items=&quot;${listLocation}&quot; var=&quot;location&quot;&gt;\n&lt;tr&gt;\n  &lt;td&gt;${location.id}&lt;/td&gt;\n  &lt;td&gt;${location.code}&lt;/td&gt;\n  &lt;td&gt;${location.name}&lt;/td&gt;\n  &lt;td&gt;${location.type}&lt;/td&gt;\n  &lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot; id=&quot;locID&quot; onclick=&quot;return deleteRecord('${location.id}');&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n&lt;/tr&gt;\n&lt;/c:forEach&gt;\n</code></pre>\n<p>Ajax call</p>\n<pre><code>function deleteRecord(locId) \n    {\n        let contextURL = 'http://localhost:8080/LocationWeb/LocCon/deleteLocation/'\n        let parmURL = contextURL + locId;\n        var xhr = new XMLHttpRequest();\n        xhr.open(&quot;DELETE&quot;, parmURL);\n        xhr.send();\n        xhr.onload = function() \n        {\n            if (xhr.status != 200) \n            {\n                console.log('ERROR');\n            }\n            else\n            {\n              listAllPageCall();\n            }\n        };\n        xhr.onerror = function()\n        {\n          console.log('NO CONNECTION');\n        };\n    }\n    \n    function listAllPageCall() \n    {\n        let parmURL = 'http://localhost:8080/LocationWeb/LocCon/listAllLocations/'\n        var xhr = new XMLHttpRequest();\n        xhr.open(&quot;GET&quot;, parmURL);\n        xhr.send();\n        xhr.onload = function() \n        {\n            if (xhr.status != 200) \n            {\n                console.log('ERROR');\n            }\n            else\n            {\n                console.log('Called');\n            }\n        };\n        xhr.onerror = function()\n        {\n          console.log('NO CONNECTION');\n        };\n    }\n</code></pre>\n<p><strong>Spring Boot code flow</strong></p>\n<p>This is to call the webpage to be displayed</p>\n<pre><code>@GetMapping(&quot;/listAllLocations&quot;)\npublic String displayLocations(ModelMap resModMap)\n{\n    List&lt;Location&gt; listLocation = locationService.getAllLocation();\n    resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\n    return &quot;displayAllLocations&quot;;\n}\n</code></pre>\n<p>This is to delete and call the webpage like above one. Both response are same. But still getting the white lable error 404</p>\n<pre><code>@DeleteMapping(&quot;/deleteLocation/{id}&quot;)\npublic String deleteLocation(@PathVariable int id, ModelMap resModMap)\n{\n    //Location location = locationService.getLocationByID(id);\n    Location location = new Location();\n    location.setId(id);\n    locationService.deleteLocation(location);\n    List&lt;Location&gt; listLocation = locationService.getAllLocation();\n    resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\n    return &quot;displayAllLocations&quot;;\n}\n</code></pre>\n<p>Delete is happening. Only the page is not getting displayed on response. Please help me.</p>\n<p>I tried this way. By calling the get function in return. But no luck</p>\n<pre><code>@DeleteMapping(&quot;/deleteLocation/{id}&quot;)\npublic void deleteLocation(@PathVariable int id, ModelMap resModMap)\n{\n    //Location location = locationService.getLocationByID(id);\n    Location location = new Location();\n    location.setId(id);\n    locationService.deleteLocation(location);\n    displayLocations(resModMap);\n}\n</code></pre>\n<p>Checked in debug, its getting into</p>\n<pre><code>xhr.onerror = function()\n{\n   console.log('NO CONNECTION');\n};\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/xg6QT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xg6QT.png\" alt=\"enter image description here\" /></a></p>\n<p>Should I get response as webpage? Anything like that should be added?</p>\n<p><a href=\"https://i.stack.imgur.com/LtxKp.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LtxKp.png\" alt=\"enter image description here\" /></a></p>\n<p>Tried @RequestMapping, this works good.</p>\n<pre><code>@RequestMapping(&quot;deleteLocation&quot;)\npublic void deleteLocation(@RequestParam(&quot;id&quot;) int id, ModelMap resModMap)\n{\n    //Location location = locationService.getLocationByID(id);\n    Location location = new Location();\n    location.setId(id);\n    locationService.deleteLocation(location);\n    List&lt;Location&gt; listLocation = locationService.getAllLocation();\n    resModMap.addAttribute(&quot;listLocation&quot;, listLocation);\n    return &quot;displayAllLocations&quot;;\n}\n</code></pre>\n<p>In jsp</p>\n<pre><code>&lt;td&gt;&lt;a href=&quot;deleteLocation?id=${location.id}&quot;&gt;Delete&lt;/a&gt;&lt;/td&gt;\n</code></pre>\n"},{"tags":["java","android","crashlytics"],"comments":[{"owner":{"account_id":8980168,"reputation":1529,"user_id":6695655,"display_name":"RajaKumar"},"score":0,"creation_date":1696489901,"post_id":76431063,"comment_id":136160033,"body_markdown":"Did you found any solution for this issue?","body":"Did you found any solution for this issue?"},{"owner":{"account_id":1744671,"reputation":624,"user_id":1595156,"accept_rate":22,"display_name":"Arpit"},"score":0,"creation_date":1696920913,"post_id":76431063,"comment_id":136210788,"body_markdown":"No, I did not find any solution.","body":"No, I did not find any solution."}],"owner":{"account_id":1744671,"reputation":624,"user_id":1595156,"accept_rate":22,"display_name":"Arpit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686221328,"creation_date":1686221328,"question_id":76431063,"body_markdown":"I am getting **java.lang.NullPointerException - Attempt to invoke interface method &#39;void android.app.Application$ActivityLifecycleCallbacks.onActivityPreCreated** on launch of Activity(**SplashActivity**). It is not happening for everyone but for some users on production. I am not able to reproduce at my end. Sharing full Logs for reference, let me know if any other details are needed.\r\n\r\nThanks in advance for the help!!\r\n\r\n&gt; Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{ActivityName}: java.lang.NullPointerException: Attempt to invoke interface method &#39;void android.app.Application$ActivityLifecycleCallbacks.onActivityPreCreated(android.app.Activity, android.os.Bundle)&#39; on a null object reference\r\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3454)\r\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3593)\r\n       at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\r\n       at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\r\n       at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:2126)\r\n       at android.os.Handler.dispatchMessage(Handler.java:107)\r\n       at android.os.Looper.loop(Looper.java:264)\r\n       at android.app.ActivityThread.main(ActivityThread.java:7684)\r\n       at java.lang.reflect.Method.invoke(Method.java)\r\n       at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)","title":"Application.dispatchActivityPreCreated - java.lang.NullPointerException","body":"<p>I am getting <strong>java.lang.NullPointerException - Attempt to invoke interface method 'void android.app.Application$ActivityLifecycleCallbacks.onActivityPreCreated</strong> on launch of Activity(<strong>SplashActivity</strong>). It is not happening for everyone but for some users on production. I am not able to reproduce at my end. Sharing full Logs for reference, let me know if any other details are needed.</p>\n<p>Thanks in advance for the help!!</p>\n<blockquote>\n<p>Fatal Exception: java.lang.RuntimeException: Unable to start activity ComponentInfo{ActivityName}: java.lang.NullPointerException: Attempt to invoke interface method 'void android.app.Application$ActivityLifecycleCallbacks.onActivityPreCreated(android.app.Activity, android.os.Bundle)' on a null object reference\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:3454)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3593)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:83)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:140)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:96)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:2126)\nat android.os.Handler.dispatchMessage(Handler.java:107)\nat android.os.Looper.loop(Looper.java:264)\nat android.app.ActivityThread.main(ActivityThread.java:7684)\nat java.lang.reflect.Method.invoke(Method.java)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:492)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:980)</p>\n</blockquote>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686311655,"post_id":76429969,"comment_id":134784951,"body_markdown":"First why are you using bracket versions? and why using properties for the dependencies.. does that dependency not offer a bom file ... Is that a multi module build?","body":"First why are you using bracket versions? and why using properties for the dependencies.. does that dependency not offer a bom file ... Is that a multi module build?"},{"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"score":0,"creation_date":1686563555,"post_id":76429969,"comment_id":134810539,"body_markdown":"yes it is a multi-module build, I am using property because i have to use the same artifacts in different child poms, and during new release, i can change the version directly from Jenkins build instead of changing the pom and creating a new Pull Request every time the version changes","body":"yes it is a multi-module build, I am using property because i have to use the same artifacts in different child poms, and during new release, i can change the version directly from Jenkins build instead of changing the pom and creating a new Pull Request every time the version changes"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686567510,"post_id":76429969,"comment_id":134811361,"body_markdown":"I would suggest to use dependencyManagement instead of properties ... which means single location in your parent in the dependencyManagement single location where change is needed that&#39;s it... Changing the release of the modules which you have inside your multi module build? You should consider using maven-release-pluging or using versions-maven-plugin instead of using properties or alike...","body":"I would suggest to use dependencyManagement instead of properties ... which means single location in your parent in the dependencyManagement single location where change is needed that&#39;s it... Changing the release of the modules which you have inside your multi module build? You should consider using maven-release-pluging or using versions-maven-plugin instead of using properties or alike..."},{"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"score":0,"creation_date":1686652492,"post_id":76429969,"comment_id":134825258,"body_markdown":"we are using maven-release-plugin with dependency management, in this case itself we need to change the version of artifacts for release, and to do that we want to update that version during Jenkins build instead of physically changing it and making new commits","body":"we are using maven-release-plugin with dependency management, in this case itself we need to change the version of artifacts for release, and to do that we want to update that version during Jenkins build instead of physically changing it and making new commits"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1686674034,"post_id":76429969,"comment_id":134830396,"body_markdown":"Why do you need to change that yourself.. that&#39;s what maven-release-plugin does automatically... ...That sounds like there is something wrong in there ... or the setup/configuration of the plugins or alike are wrong..","body":"Why do you need to change that yourself.. that&#39;s what maven-release-plugin does automatically... ...That sounds like there is something wrong in there ... or the setup/configuration of the plugins or alike are wrong.."},{"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"score":0,"creation_date":1687447272,"post_id":76429969,"comment_id":134941174,"body_markdown":"because maven-release update to latest version but we want a specific version while release so instead of changing pom and commit we want to pass it through jenkins job argument and then update it during jenkins build","body":"because maven-release update to latest version but we want a specific version while release so instead of changing pom and commit we want to pass it through jenkins job argument and then update it during jenkins build"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1687514768,"post_id":76429969,"comment_id":134950916,"body_markdown":"`because maven-release update to latest version but we want a specific version while release` ? I don&#39;t understand that sentence because you can define the new release version via command line property... ?","body":"<code>because maven-release update to latest version but we want a specific version while release</code> ? I don&#39;t understand that sentence because you can define the new release version via command line property... ?"}],"answers":[{"tags":[],"owner":{"account_id":28779188,"reputation":11,"user_id":22041141,"display_name":"jlt"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686221073,"creation_date":1686221073,"answer_id":76431035,"question_id":76429969,"body_markdown":"The versions:set-property command can only update one property at a time. Something like:\r\n\r\n    mvn versions:set-property -Dproperty=myartifact.version -DnewVersion=10.1.1\r\n    mvn versions:set-property -Dproperty=mysecondArtifact.version -DnewVersion=10.5.1\r\n\r\nYou potentially could also want to create a bash script in which you pass 2 parameters and run those two lines above with the values you just passed.\r\n\r\nYou can also set the properties in the pom like this:\r\n\r\n    &lt;properties&gt;\r\n       &lt;myartifact.version&gt;10.1.1&lt;/myartifact.version&gt;\r\n       &lt;mysecondArtifact.version&gt;10.5.1&lt;/mysecondArtifact.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n","title":"How to set/update multiple property in maven during or before maven build","body":"<p>The versions:set-property command can only update one property at a time. Something like:</p>\n<pre><code>mvn versions:set-property -Dproperty=myartifact.version -DnewVersion=10.1.1\nmvn versions:set-property -Dproperty=mysecondArtifact.version -DnewVersion=10.5.1\n</code></pre>\n<p>You potentially could also want to create a bash script in which you pass 2 parameters and run those two lines above with the values you just passed.</p>\n<p>You can also set the properties in the pom like this:</p>\n<pre><code>&lt;properties&gt;\n   &lt;myartifact.version&gt;10.1.1&lt;/myartifact.version&gt;\n   &lt;mysecondArtifact.version&gt;10.5.1&lt;/mysecondArtifact.version&gt;\n&lt;/properties&gt;\n</code></pre>\n"}],"owner":{"account_id":2185239,"reputation":600,"user_id":1933783,"accept_rate":17,"display_name":"Indra Yadav"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686221073,"creation_date":1686212918,"question_id":76429969,"body_markdown":"My pom structure looks like - and i am using org.codehaus.mojo:versions-maven-plugin:2.16.0\r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n          &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n          &lt;artifactId&gt;manchu-core&lt;/artifactId&gt;\r\n          &lt;version&gt;[${myartifact.version}]&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\r\n          &lt;artifactId&gt;manchu-extra&lt;/artifactId&gt;\r\n          &lt;version&gt;[${mysecondArtifact.version}]&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nNow i want to set different versions for the property of both versions during Maven build.\r\ni tried `mvn versions:set-property -Dpropery=myartifact.version -DnewVersion=10.1.1`, but set-propery only set single property and does not set both property values \r\n\r\nif I pass it using comma-separated value, it only takes the last property not both\r\n\r\n    mvn versions:set-property -Dpropery=myartifact.version -DnewVersion=10.1.1, -Dpropery=mysecondartifact.version -DnewVersion=10.5.1\r\n\r\n\r\nis there any other option I can use to update/set multiple properties&#39; values?\r\n\r\n\r\nThanks in advance ","title":"How to set/update multiple property in maven during or before maven build","body":"<p>My pom structure looks like - and i am using org.codehaus.mojo:versions-maven-plugin:2.16.0</p>\n<pre><code> &lt;dependency&gt;\n      &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n      &lt;artifactId&gt;manchu-core&lt;/artifactId&gt;\n      &lt;version&gt;[${myartifact.version}]&lt;/version&gt;\n    &lt;/dependency&gt;\n    ...\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.foo.bar&lt;/groupId&gt;\n      &lt;artifactId&gt;manchu-extra&lt;/artifactId&gt;\n      &lt;version&gt;[${mysecondArtifact.version}]&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Now i want to set different versions for the property of both versions during Maven build.\ni tried <code>mvn versions:set-property -Dpropery=myartifact.version -DnewVersion=10.1.1</code>, but set-propery only set single property and does not set both property values</p>\n<p>if I pass it using comma-separated value, it only takes the last property not both</p>\n<pre><code>mvn versions:set-property -Dpropery=myartifact.version -DnewVersion=10.1.1, -Dpropery=mysecondartifact.version -DnewVersion=10.5.1\n</code></pre>\n<p>is there any other option I can use to update/set multiple properties' values?</p>\n<p>Thanks in advance</p>\n"},{"tags":["java","android","nfc"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1686220720,"creation_date":1686220720,"answer_id":76430994,"question_id":76430211,"body_markdown":"One possible problem the `PendingIntent.FLAG_IMMUTABLE` should be `PendingIntent.FLAG_MUTABLE`\r\n\r\nThis is because a `PendingIntent` is an object can be handed to other applications so that they can perform the action you described on your behalf at a later time. \r\n\r\nSo you are handing this to the System NFC service which then adds the NFC data and returns it to at a later time, Thus it has to be changeable (Mutable).\r\n\r\nAlso from the [docs][1] You can see in the example it has to be Mutable.\r\n\r\nAlso note that using `enableForegroundDispatch` is actually not the best way to use NFC using `enableReaderMode` is a newer and much better API to use NFC. `enableReaderMode` does not use Intent&#39;s and gives you more control, it is easy to do NFC operations in a background Thread (which is recommended), for writing to NFC Tag&#39;s it is much more reliable and leads to less errors.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#foreground-dispatch","title":"Scanning NFC type v tag","body":"<p>One possible problem the <code>PendingIntent.FLAG_IMMUTABLE</code> should be <code>PendingIntent.FLAG_MUTABLE</code></p>\n<p>This is because a <code>PendingIntent</code> is an object can be handed to other applications so that they can perform the action you described on your behalf at a later time.</p>\n<p>So you are handing this to the System NFC service which then adds the NFC data and returns it to at a later time, Thus it has to be changeable (Mutable).</p>\n<p>Also from the <a href=\"https://developer.android.com/guide/topics/connectivity/nfc/advanced-nfc#foreground-dispatch\" rel=\"nofollow noreferrer\">docs</a> You can see in the example it has to be Mutable.</p>\n<p>Also note that using <code>enableForegroundDispatch</code> is actually not the best way to use NFC using <code>enableReaderMode</code> is a newer and much better API to use NFC. <code>enableReaderMode</code> does not use Intent's and gives you more control, it is easy to do NFC operations in a background Thread (which is recommended), for writing to NFC Tag's it is much more reliable and leads to less errors.</p>\n"}],"owner":{"account_id":28778760,"reputation":13,"user_id":22040799,"display_name":"Justin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":128,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76430994,"answer_count":1,"score":1,"last_activity_date":1686220720,"creation_date":1686214714,"question_id":76430211,"body_markdown":"I am developing an application in Android studio that should be to scan for an NFC type v tag. If I can just instantiate the tag object then I can perform further operations with the tag but I am having trouble with scanning the tag. \r\n\r\nAndroidManifest.xml \r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.nfc&quot;\r\n        android:required=&quot;true&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.NfcTool&quot;\r\n        tools:targetApi=&quot;30&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nand here is my MainActivity.java\r\n\r\n```\r\npackage com.example.nfctool;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.app.PendingIntent;\r\nimport android.content.Intent;\r\nimport android.nfc.NfcAdapter;\r\nimport android.nfc.Tag;\r\nimport android.nfc.tech.NfcV;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.widget.Toast;\r\n\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private NfcAdapter nfcAdapter;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onResume() {\r\n        super.onResume();\r\n\r\n        // Enable NFC foreground dispatch to capture NFC intents\r\n\r\n        // creates an explicit intent to launch the MainActivity when an NFC intent is dispatched.\r\n        Intent intent = new Intent(this, MainActivity.class);\r\n\r\n        // This flag ensures that if the MainActivity is already in the foreground, it will not be recreated and instead receive the NFC intent in its onNewIntent() method.\r\n        intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\r\n\r\n        // creates a pending intent that wraps the intent we created earlier. It will be used to handle the NFC intent when it arrives.\r\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\r\n\r\n        // enables the foreground dispatch system for NFC intents\r\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null);\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    protected void onPause() {\r\n        super.onPause();\r\n\r\n        // Disable NFC foreground dispatch\r\n        nfcAdapter.disableForegroundDispatch(this);\r\n    }\r\n\r\n    @Override\r\n    protected void onNewIntent(Intent intent) {\r\n        super.onNewIntent(intent);\r\n\r\n        Log.d(&quot;DEBUG&quot;,&quot;###############&quot; + intent.getAction());\r\n\r\n        // Check if the intent has an NFC tag\r\n//        if(intent.getAction() == NfcAdapter.ACTION_TECH_DISCOVERED){\r\n        if (NfcAdapter.ACTION_TECH_DISCOVERED.equals(intent.getAction())){\r\n\r\n            // Get the tag object\r\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\r\n\r\n            // Check if the tag supports NfcV technology\r\n            if (NfcV.get(tag) != null) {\r\n\r\n                // Instantiate the NfcV object with the tag\r\n                NfcV nfcvTag = NfcV.get(tag);\r\n\r\n                // Use the NfcV object for further operations\r\n                // ...\r\n\r\n\r\n                Toast.makeText(this, &quot;NFC tag detected&quot;, Toast.LENGTH_SHORT).show();\r\n            } else {\r\n\r\n                Toast.makeText(this, &quot;Unsupported tag technology&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nwhen I log the value of intent.getAction() in the onNewIntent method it logs a null value\r\n`D  ###############null`\r\n\r\nSo I know that the action of the intent is not being set. IF someone could point out where I am going wrong or what I am missing it would be greatly appreciated. \r\n","title":"Scanning NFC type v tag","body":"<p>I am developing an application in Android studio that should be to scan for an NFC type v tag. If I can just instantiate the tag object then I can perform further operations with the tag but I am having trouble with scanning the tag.</p>\n<p>AndroidManifest.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.hardware.nfc&quot;\n        android:required=&quot;true&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.NFC&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.NfcTool&quot;\n        tools:targetApi=&quot;30&quot;&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.nfc.action.TECH_DISCOVERED&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>and here is my MainActivity.java</p>\n<pre><code>package com.example.nfctool;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.app.PendingIntent;\nimport android.content.Intent;\nimport android.nfc.NfcAdapter;\nimport android.nfc.Tag;\nimport android.nfc.tech.NfcV;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.widget.Toast;\n\n\npublic class MainActivity extends AppCompatActivity {\n\n    private NfcAdapter nfcAdapter;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        nfcAdapter = NfcAdapter.getDefaultAdapter(this);\n    }\n\n    @Override\n    protected void onResume() {\n        super.onResume();\n\n        // Enable NFC foreground dispatch to capture NFC intents\n\n        // creates an explicit intent to launch the MainActivity when an NFC intent is dispatched.\n        Intent intent = new Intent(this, MainActivity.class);\n\n        // This flag ensures that if the MainActivity is already in the foreground, it will not be recreated and instead receive the NFC intent in its onNewIntent() method.\n        intent.setFlags(Intent.FLAG_ACTIVITY_SINGLE_TOP);\n\n        // creates a pending intent that wraps the intent we created earlier. It will be used to handle the NFC intent when it arrives.\n        PendingIntent pendingIntent = PendingIntent.getActivity(this, 0, intent, PendingIntent.FLAG_IMMUTABLE);\n\n        // enables the foreground dispatch system for NFC intents\n        nfcAdapter.enableForegroundDispatch(this, pendingIntent, null, null);\n\n\n    }\n\n    @Override\n    protected void onPause() {\n        super.onPause();\n\n        // Disable NFC foreground dispatch\n        nfcAdapter.disableForegroundDispatch(this);\n    }\n\n    @Override\n    protected void onNewIntent(Intent intent) {\n        super.onNewIntent(intent);\n\n        Log.d(&quot;DEBUG&quot;,&quot;###############&quot; + intent.getAction());\n\n        // Check if the intent has an NFC tag\n//        if(intent.getAction() == NfcAdapter.ACTION_TECH_DISCOVERED){\n        if (NfcAdapter.ACTION_TECH_DISCOVERED.equals(intent.getAction())){\n\n            // Get the tag object\n            Tag tag = intent.getParcelableExtra(NfcAdapter.EXTRA_TAG);\n\n            // Check if the tag supports NfcV technology\n            if (NfcV.get(tag) != null) {\n\n                // Instantiate the NfcV object with the tag\n                NfcV nfcvTag = NfcV.get(tag);\n\n                // Use the NfcV object for further operations\n                // ...\n\n\n                Toast.makeText(this, &quot;NFC tag detected&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n\n                Toast.makeText(this, &quot;Unsupported tag technology&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n}\n</code></pre>\n<p>when I log the value of intent.getAction() in the onNewIntent method it logs a null value\n<code>D  ###############null</code></p>\n<p>So I know that the action of the intent is not being set. IF someone could point out where I am going wrong or what I am missing it would be greatly appreciated.</p>\n"},{"tags":["java","oracle","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3868372,"reputation":4436,"user_id":3204335,"display_name":"MD Ruhul Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686220509,"creation_date":1686220179,"answer_id":76430936,"question_id":76430634,"body_markdown":"When a method is transactional it does not immediately commit the updates to the database, So immediate read does not reflect the updated values. \r\n\r\nI&#39;m not sure which ORM you are using, but if you really want to read immediately from the database while the transaction is still ongoing, you might consider something similar to `saveAndFlush`. \r\nPlease go through this document to fully understand why its still reading stall data:\r\n\r\n\r\n- [Spring Transaction Management: @Transactional In-Depth][1]\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth","title":"Updating an entity through database procedure and reading updated entity in spring transaction","body":"<p>When a method is transactional it does not immediately commit the updates to the database, So immediate read does not reflect the updated values.</p>\n<p>I'm not sure which ORM you are using, but if you really want to read immediately from the database while the transaction is still ongoing, you might consider something similar to <code>saveAndFlush</code>.\nPlease go through this document to fully understand why its still reading stall data:</p>\n<ul>\n<li><a href=\"https://www.marcobehler.com/guides/spring-transaction-management-transactional-in-depth\" rel=\"nofollow noreferrer\">Spring Transaction Management: @Transactional In-Depth</a></li>\n</ul>\n"}],"owner":{"account_id":5640336,"reputation":59,"user_id":4464403,"display_name":"VPCCP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686220509,"creation_date":1686217957,"question_id":76430634,"body_markdown":"I have a simple structure Controller - Service - Repository.\r\n\r\nI have an issue with executing Oracle procedure that updates an entity and immediately calling a read database function. The entity that read function returns is an old entity, before it was updated.\r\n\r\nThis is not a problem if the Service method is not annotated with @Transactional, but in that case I can see the updated value in database immediately after executing update procedure.","title":"Updating an entity through database procedure and reading updated entity in spring transaction","body":"<p>I have a simple structure Controller - Service - Repository.</p>\n<p>I have an issue with executing Oracle procedure that updates an entity and immediately calling a read database function. The entity that read function returns is an old entity, before it was updated.</p>\n<p>This is not a problem if the Service method is not annotated with @Transactional, but in that case I can see the updated value in database immediately after executing update procedure.</p>\n"},{"tags":["java","android","react-native","react-native-gesture-handler"],"answers":[{"tags":[],"owner":{"account_id":15263813,"reputation":61,"user_id":11013068,"display_name":"Ali Khajehpour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686220327,"creation_date":1685873999,"answer_id":76399892,"question_id":75333212,"body_markdown":"According [to this page][1] in the documentation, you have to remove `RNGestureHandlerEnabledRootView` and use the below code in your `MainActivity`\r\n\r\nJava:\r\n```java\r\n@Override\r\nprotected ReactActivityDelegate createReactActivityDelegate() {\r\n    return new MainActivityDelegate(this, getMainComponentName());\r\n}\r\n```\r\n\r\nKotlin:\r\n```kotlin\r\noverride fun createReactActivityDelegate(): ReactActivityDelegate? {\r\n    return MainActivityDelegate(this, getMainComponentName())\r\n}\r\n```\r\n\r\n  [1]: https://docs.swmansion.com/react-native-gesture-handler/docs/guides/migrating-off-rnghenabledroot ","title":"Issue with RNGestureHandlerEnabledRootView not being supported : java.lang.UnsupportedOperationException","body":"<p>According <a href=\"https://docs.swmansion.com/react-native-gesture-handler/docs/guides/migrating-off-rnghenabledroot\" rel=\"nofollow noreferrer\">to this page</a> in the documentation, you have to remove <code>RNGestureHandlerEnabledRootView</code> and use the below code in your <code>MainActivity</code></p>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected ReactActivityDelegate createReactActivityDelegate() {\n    return new MainActivityDelegate(this, getMainComponentName());\n}\n</code></pre>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>override fun createReactActivityDelegate(): ReactActivityDelegate? {\n    return MainActivityDelegate(this, getMainComponentName())\n}\n</code></pre>\n"}],"owner":{"account_id":12687682,"reputation":742,"user_id":9218897,"display_name":"Preetika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1686220327,"creation_date":1675412999,"question_id":75333212,"body_markdown":"I am getting an issue with react-native-gesture-handler library. I have upgraded to the latest version &quot;^2.9.0&quot;. I am not able to run my build as it crashes on opening the app giving me a summary:- java.lang.UnsupportedOperationException: Your application is configured to use RNGestureHandlerEnabledRootView which is no longer supported. \r\n\r\nI have read the documentation for migrating off RNGHEnabledRootView but that too doesn&#39;t solve the problem. I have changed MainActivity.java file by editing :\r\n\r\n```\r\nimport com.swmansion.gesturehandler.RNGestureHandlerPackage;\r\n```\r\n\r\nBut getting issue with :\r\n\r\n```\r\n@Override\r\n    protected ReactActivityDelegate createReactActivityDelegate() {\r\n        return new ReactActivityDelegateWrapper(this, new ReactActivityDelegate(this, getMainComponentName()) {\r\n            @Override\r\n            protected ReactRootView createRootView() {\r\n                return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n            }\r\n        });\r\n    }\r\n```\r\n\r\nerror: cannot find symbol\r\n                return new RNGestureHandlerEnabledRootView(MainActivity.this);\r\n                           ^\r\n  symbol: class RNGestureHandlerEnabledRootView\r\n\r\n\r\nExecution failed for task &#39;:app:compileDebugJavaWithJavac&#39;.","title":"Issue with RNGestureHandlerEnabledRootView not being supported : java.lang.UnsupportedOperationException","body":"<p>I am getting an issue with react-native-gesture-handler library. I have upgraded to the latest version &quot;^2.9.0&quot;. I am not able to run my build as it crashes on opening the app giving me a summary:- java.lang.UnsupportedOperationException: Your application is configured to use RNGestureHandlerEnabledRootView which is no longer supported.</p>\n<p>I have read the documentation for migrating off RNGHEnabledRootView but that too doesn't solve the problem. I have changed MainActivity.java file by editing :</p>\n<pre><code>import com.swmansion.gesturehandler.RNGestureHandlerPackage;\n</code></pre>\n<p>But getting issue with :</p>\n<pre><code>@Override\n    protected ReactActivityDelegate createReactActivityDelegate() {\n        return new ReactActivityDelegateWrapper(this, new ReactActivityDelegate(this, getMainComponentName()) {\n            @Override\n            protected ReactRootView createRootView() {\n                return new RNGestureHandlerEnabledRootView(MainActivity.this);\n            }\n        });\n    }\n</code></pre>\n<p>error: cannot find symbol\nreturn new RNGestureHandlerEnabledRootView(MainActivity.this);\n^\nsymbol: class RNGestureHandlerEnabledRootView</p>\n<p>Execution failed for task ':app:compileDebugJavaWithJavac'.</p>\n"},{"tags":["java","apache-nifi","startup"],"answers":[{"tags":[],"owner":{"account_id":26590,"reputation":9895,"user_id":69346,"accept_rate":73,"display_name":"codecowboy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686220210,"creation_date":1686219864,"answer_id":76430897,"question_id":76420871,"body_markdown":"The error log you posted indicates that Apache NiFi failed to start due to an issue with the `nifi.web.https` configuration in `nifi.properties`. More specifically, the error message states, &quot;The truststore properties are not valid&quot;, which suggests a problem with the truststore configuration.\r\n\r\nNiFi uses the truststore and keystore for its HTTPS configuration. The truststore contains certificates from other parties that NiFi should trust, while the keystore contains the private and public key for NiFi itself.\r\n\r\nHere are a few things you can check:\r\n\r\n1. **Check the path and password**: Verify the truststore path and password in your `nifi.properties` file. The entries should look something like this:\r\n\r\n   ```\r\n   nifi.security.truststore=./conf/truststore.jks\r\n   nifi.security.truststoreType=jks\r\n   nifi.security.truststorePasswd=yourTrustStorePassword\r\n   ```\r\n\r\n   Make sure the path points to the correct file and the password is correct. \r\n\r\n2. **Check the truststore file**: Confirm that your truststore file (e.g., `truststore.jks`) exists and is accessible. The path should be reachable from NiFi&#39;s point of view, and the file should have the correct permissions.\r\n\r\n3. **Confirm the truststore type**: NiFi supports multiple types of truststore files, such as JKS, PKCS12, and others. Make sure the truststore type specified in the properties file matches the actual type of the truststore file.\r\n\r\n4. **Ensure the truststore is not corrupted**: Try opening the truststore with a tool like `keytool` or `Keystore Explorer` to ensure it&#39;s not corrupted.\r\n\r\n5. **Verify certificates**: Ensure the truststore contains the necessary certificates. This error can occur if the truststore doesn&#39;t include the appropriate trusted certificates.\r\n\r\nIn short, this error suggests a problem with the truststore setup. Verify your truststore file, its path, its password, and its contents to resolve this error.\r\n\r\nI would also recommend that you do an audit of your Apache Nifi infrastructure as per this recent Malware warning : https://www.scmagazine.com/brief/cybercrime/apache-nifi-targeted-in-cryptomining-attacks\r\n","title":"Nifi is NOT starting up after the VM restart","body":"<p>The error log you posted indicates that Apache NiFi failed to start due to an issue with the <code>nifi.web.https</code> configuration in <code>nifi.properties</code>. More specifically, the error message states, &quot;The truststore properties are not valid&quot;, which suggests a problem with the truststore configuration.</p>\n<p>NiFi uses the truststore and keystore for its HTTPS configuration. The truststore contains certificates from other parties that NiFi should trust, while the keystore contains the private and public key for NiFi itself.</p>\n<p>Here are a few things you can check:</p>\n<ol>\n<li><p><strong>Check the path and password</strong>: Verify the truststore path and password in your <code>nifi.properties</code> file. The entries should look something like this:</p>\n<pre><code>nifi.security.truststore=./conf/truststore.jks\nnifi.security.truststoreType=jks\nnifi.security.truststorePasswd=yourTrustStorePassword\n</code></pre>\n<p>Make sure the path points to the correct file and the password is correct.</p>\n</li>\n<li><p><strong>Check the truststore file</strong>: Confirm that your truststore file (e.g., <code>truststore.jks</code>) exists and is accessible. The path should be reachable from NiFi's point of view, and the file should have the correct permissions.</p>\n</li>\n<li><p><strong>Confirm the truststore type</strong>: NiFi supports multiple types of truststore files, such as JKS, PKCS12, and others. Make sure the truststore type specified in the properties file matches the actual type of the truststore file.</p>\n</li>\n<li><p><strong>Ensure the truststore is not corrupted</strong>: Try opening the truststore with a tool like <code>keytool</code> or <code>Keystore Explorer</code> to ensure it's not corrupted.</p>\n</li>\n<li><p><strong>Verify certificates</strong>: Ensure the truststore contains the necessary certificates. This error can occur if the truststore doesn't include the appropriate trusted certificates.</p>\n</li>\n</ol>\n<p>In short, this error suggests a problem with the truststore setup. Verify your truststore file, its path, its password, and its contents to resolve this error.</p>\n<p>I would also recommend that you do an audit of your Apache Nifi infrastructure as per this recent Malware warning : <a href=\"https://www.scmagazine.com/brief/cybercrime/apache-nifi-targeted-in-cryptomining-attacks\" rel=\"nofollow noreferrer\">https://www.scmagazine.com/brief/cybercrime/apache-nifi-targeted-in-cryptomining-attacks</a></p>\n"}],"owner":{"account_id":2880357,"reputation":39,"user_id":12132466,"display_name":"vasanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":177,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686220210,"creation_date":1686123011,"question_id":76420871,"body_markdown":"Nifi version 1.19.0 was working fine in our VM until the VM had to be restarted due to a suspension of our cloud provider account. \r\nPost this the contents of the VM were replicated exactly using the snapshot of the VM.\r\nAfter this nifi is failing to start with error in the logs:\r\n    \r\n\r\n&gt; enter c2023-06-07 04:24:19,502 WARN [main]\r\n&gt; org.apache.nifi.web.server.JettyServer Failed to start web server...\r\n&gt; shutting down. java.lang.IllegalStateException: Invalid nifi.web.https\r\n&gt; configuration in nifi.properties\r\n&gt;         at org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:89)\r\n&gt;         at org.apache.nifi.web.server.JettyServer.configureConnectors(JettyServer.java:738)\r\n&gt;         at org.apache.nifi.web.server.JettyServer.init(JettyServer.java:207)\r\n&gt;         at org.apache.nifi.web.server.JettyServer.initialize(JettyServer.java:1072)\r\n&gt;         at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:164)\r\n&gt;         at org.apache.nifi.NiFi.&lt;init&gt;(NiFi.java:83)\r\n&gt;         at org.apache.nifi.NiFi.main(NiFi.java:332) Caused by: org.apache.nifi.security.util.TlsException: The truststore properties\r\n&gt; are not valid\r\n&gt;         at org.apache.nifi.security.util.SslContextFactory.getTrustManagers(SslContextFactory.java:181)\r\n&gt;         at org.apache.nifi.security.util.SslContextFactory.createSslContext(SslContextFactory.java:67)\r\n&gt;         at org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.&lt;init&gt;(FrameworkServerConnectorFactory.java:86)\r\n&gt;         ... 6 common frames omitted 2023-06-07 04:24:19,503 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown startedode\r\n&gt; here\r\n\r\nThings we have already checked:\r\n1. If there is any other application running in the same port as 8443.\r\n2. We emptied the content and provenance repos as mentioned in:https://stackoverflow.com/questions/44924289/apache-nifi-is-not-starting-up\r\n3. We changed the java version to 8 from 11.\r\n4. We tried to reboot nifi from a working flow.xml.gz and flow.json from a different machine.\r\n5. Tried to restart with a completely new nifi installation folder.\r\n\r\nHowever, so far I am getting the same error. Any help is appreciated.","title":"Nifi is NOT starting up after the VM restart","body":"<p>Nifi version 1.19.0 was working fine in our VM until the VM had to be restarted due to a suspension of our cloud provider account.\nPost this the contents of the VM were replicated exactly using the snapshot of the VM.\nAfter this nifi is failing to start with error in the logs:</p>\n<blockquote>\n<p>enter c2023-06-07 04:24:19,502 WARN [main]\norg.apache.nifi.web.server.JettyServer Failed to start web server...\nshutting down. java.lang.IllegalStateException: Invalid nifi.web.https\nconfiguration in nifi.properties\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.(FrameworkServerConnectorFactory.java:89)\nat org.apache.nifi.web.server.JettyServer.configureConnectors(JettyServer.java:738)\nat org.apache.nifi.web.server.JettyServer.init(JettyServer.java:207)\nat org.apache.nifi.web.server.JettyServer.initialize(JettyServer.java:1072)\nat org.apache.nifi.NiFi.(NiFi.java:164)\nat org.apache.nifi.NiFi.(NiFi.java:83)\nat org.apache.nifi.NiFi.main(NiFi.java:332) Caused by: org.apache.nifi.security.util.TlsException: The truststore properties\nare not valid\nat org.apache.nifi.security.util.SslContextFactory.getTrustManagers(SslContextFactory.java:181)\nat org.apache.nifi.security.util.SslContextFactory.createSslContext(SslContextFactory.java:67)\nat org.apache.nifi.web.server.connector.FrameworkServerConnectorFactory.(FrameworkServerConnectorFactory.java:86)\n... 6 common frames omitted 2023-06-07 04:24:19,503 INFO [Thread-0] org.apache.nifi.NiFi Application Server shutdown startedode\nhere</p>\n</blockquote>\n<p>Things we have already checked:</p>\n<ol>\n<li>If there is any other application running in the same port as 8443.</li>\n<li>We emptied the content and provenance repos as mentioned in:<a href=\"https://stackoverflow.com/questions/44924289/apache-nifi-is-not-starting-up\">Apache nifi is not starting up</a></li>\n<li>We changed the java version to 8 from 11.</li>\n<li>We tried to reboot nifi from a working flow.xml.gz and flow.json from a different machine.</li>\n<li>Tried to restart with a completely new nifi installation folder.</li>\n</ol>\n<p>However, so far I am getting the same error. Any help is appreciated.</p>\n"},{"tags":["java","unit-testing","mockito","quarkus"],"answers":[{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686208223,"creation_date":1686208223,"answer_id":76429401,"question_id":76427256,"body_markdown":"You can write a resource visible only for your test(s); no need to mock `@Context` objects because during test all is working as in a real http call\r\nPS: I suspect this type of objects can&#39;t be mocked,but someone from Quarkus team can give you a precise answer about that.\r\n\r\n```\r\n@QuarkusTest\r\n@TestHttpEndpoint(TestResource.class)\r\nclass CLASS_ApiMetrics_UT_Test {\r\n  @Inject\r\n  ApiMetrics apiMetrics;\r\n\r\n  @Test\r\n  void test() {\r\n    RestAssured.given().get().then().statusCode(200);\r\n    assertCondition(expected, apiMetrics.propertyToTest);\r\n  }\r\n\r\n  @Path(&quot;api-metrics-test&quot;)\r\n  public static class TestResource {\r\n    @Path(&quot;&quot;)\r\n    @GET\r\n    public void doSomething() {...}\r\n  }\r\n}\r\n```","title":"ResourceInfo @Mock not working, throwing NPE in QuarkusTest","body":"<p>You can write a resource visible only for your test(s); no need to mock <code>@Context</code> objects because during test all is working as in a real http call\nPS: I suspect this type of objects can't be mocked,but someone from Quarkus team can give you a precise answer about that.</p>\n<pre><code>@QuarkusTest\n@TestHttpEndpoint(TestResource.class)\nclass CLASS_ApiMetrics_UT_Test {\n  @Inject\n  ApiMetrics apiMetrics;\n\n  @Test\n  void test() {\n    RestAssured.given().get().then().statusCode(200);\n    assertCondition(expected, apiMetrics.propertyToTest);\n  }\n\n  @Path(&quot;api-metrics-test&quot;)\n  public static class TestResource {\n    @Path(&quot;&quot;)\n    @GET\n    public void doSomething() {...}\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1115215,"reputation":10877,"user_id":1104727,"display_name":"Holly Cummins"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686220180,"creation_date":1686212683,"answer_id":76429939,"question_id":76427256,"body_markdown":"The `resourceInfo` and `httpServerRequest` fields should be annotated with `@InjectMock`, not `@Mock`. \r\n\r\n\r\nThe `@Mock` annotation doesn&#39;t actually mark an injection point, which is why nothing is getting injected and you&#39;re seeing the NPE. `io.quarkus.test.Mock` is intended to be applied to an actual mock implementation, not the injection point. It defines a global mock which would be used everywhere something used `@Inject`, in test mode. \r\n\r\n## Test with `@InjectMock`\r\n\r\nHere&#39;s what your test should look like \r\n\r\n```\r\n@QuarkusTest\r\nclass CLASS_ApiMetrics_UT_Test {\r\n\r\n    @Inject\r\n    ApiMetrics apiMetrics;\r\n\r\n    @InjectMock\r\n    ResourceInfo resourceInfo;\r\n\r\n    @InjectMock\r\n    HttpServerRequest httpServerRequest;\r\n\r\n    @BeforeEach\r\n    public void setup() {\r\n       when(resourceInfo.getResourceMethod()).thenReturn(method);       \r\n       when(httpServerRequest.getFormAttribute(BODY_REQUESTER_ID)).thenReturn(expectedRequesterId);\r\n    }\r\n```\r\n\r\n## Using `@Mock`\r\nIf you wanted to use the global `@Mock` approach instead, you would do something like \r\n\r\n```\r\n@Inject\r\nResourceInfo resourceInfo;\r\n```\r\n\r\nin the test class (note that it&#39;s just a normal `@Inject`). Then you&#39;d manually define a mock implementation class:\r\n\r\n```\r\n@Mock\r\npublic class MockResourceInfo implements ResourceInfo {\r\n\r\n    public void doAThing() {\r\n       // mock implementation goes here\r\n    }\r\n\r\n    public void notifyInvoiceAlreadySent(Invoice invoice) {\r\n\r\n    }\r\n}\r\n```\r\n\r\nThat way of doing it is sometimes handy, but it has the disadvantage that Mockito can&#39;t help you define the mock, and the same mock implementations is used in all test classes. So generally `@InjectMock` is better.\r\n\r\nThe [Quarkus docs](https://quarkus.io/blog/mocking/) have more explanation of the different mock annotations.","title":"ResourceInfo @Mock not working, throwing NPE in QuarkusTest","body":"<p>The <code>resourceInfo</code> and <code>httpServerRequest</code> fields should be annotated with <code>@InjectMock</code>, not <code>@Mock</code>.</p>\n<p>The <code>@Mock</code> annotation doesn't actually mark an injection point, which is why nothing is getting injected and you're seeing the NPE. <code>io.quarkus.test.Mock</code> is intended to be applied to an actual mock implementation, not the injection point. It defines a global mock which would be used everywhere something used <code>@Inject</code>, in test mode.</p>\n<h2>Test with <code>@InjectMock</code></h2>\n<p>Here's what your test should look like</p>\n<pre><code>@QuarkusTest\nclass CLASS_ApiMetrics_UT_Test {\n\n    @Inject\n    ApiMetrics apiMetrics;\n\n    @InjectMock\n    ResourceInfo resourceInfo;\n\n    @InjectMock\n    HttpServerRequest httpServerRequest;\n\n    @BeforeEach\n    public void setup() {\n       when(resourceInfo.getResourceMethod()).thenReturn(method);       \n       when(httpServerRequest.getFormAttribute(BODY_REQUESTER_ID)).thenReturn(expectedRequesterId);\n    }\n</code></pre>\n<h2>Using <code>@Mock</code></h2>\n<p>If you wanted to use the global <code>@Mock</code> approach instead, you would do something like</p>\n<pre><code>@Inject\nResourceInfo resourceInfo;\n</code></pre>\n<p>in the test class (note that it's just a normal <code>@Inject</code>). Then you'd manually define a mock implementation class:</p>\n<pre><code>@Mock\npublic class MockResourceInfo implements ResourceInfo {\n\n    public void doAThing() {\n       // mock implementation goes here\n    }\n\n    public void notifyInvoiceAlreadySent(Invoice invoice) {\n\n    }\n}\n</code></pre>\n<p>That way of doing it is sometimes handy, but it has the disadvantage that Mockito can't help you define the mock, and the same mock implementations is used in all test classes. So generally <code>@InjectMock</code> is better.</p>\n<p>The <a href=\"https://quarkus.io/blog/mocking/\" rel=\"nofollow noreferrer\">Quarkus docs</a> have more explanation of the different mock annotations.</p>\n"}],"owner":{"account_id":9182102,"reputation":115,"user_id":6825571,"accept_rate":50,"display_name":"Vanshaj Behl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1686220180,"creation_date":1686173754,"question_id":76427256,"body_markdown":"I am trying to create unit test for my interceptor class ApiMetrics\r\n\r\n    @Provider\r\n    public class ApiMetrics implements ContainerRequestFilter, ContainerResponseFilter {\r\n\r\n    @Context\r\n    ResourceInfo resourceInfo;\r\n\r\n    @Context\r\n    HttpServerRequest httpServerRequest;\r\n    ....\r\n    }\r\n\r\nMy Test Class is as follows, but on using @Mock annotation i&#39;m getting NPE on resourceInfo and httpServerRequest when trying to mock any of their methods (getResourceMethod). Also, I tried @Inject, @InjectMock as I&#39;m not sure how to mock a @context field but got dependency error.\r\n\r\n    \r\n    @QuarkusTest\r\n    class CLASS_ApiMetrics_UT_Test {\r\n\r\n    @Inject\r\n    ApiMetrics apiMetrics;\r\n\r\n    @Mock\r\n    ResourceInfo resourceInfo;\r\n\r\n    @Mock\r\n    HttpServerRequest httpServerRequest;\r\n    ....\r\n    }\r\n\r\nAlso if I use the following for mocking, \r\n    \r\n    ResourceInfo resourceInfo = Mockito.mock(ResourceInfo.class);\r\n    HttpServerRequest httpServerRequest = Mockito.mock(HttpServerRequest.class);\r\n    when(resourceInfo.getResourceMethod()).thenReturn(method);\r\n    when(httpServerRequest.getFormAttribute(BODY_REQUESTER_ID)).thenReturn(expectedRequesterId);\r\n    \r\nI get this error for the mocked Classes\r\nMethod threw &#39;org.jboss.resteasy.spi.LoggableFailure&#39; exception. Cannot evaluate com.sun.proxy.$Proxy141.toString()\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9pF1d.jpg","title":"ResourceInfo @Mock not working, throwing NPE in QuarkusTest","body":"<p>I am trying to create unit test for my interceptor class ApiMetrics</p>\n<pre><code>@Provider\npublic class ApiMetrics implements ContainerRequestFilter, ContainerResponseFilter {\n\n@Context\nResourceInfo resourceInfo;\n\n@Context\nHttpServerRequest httpServerRequest;\n....\n}\n</code></pre>\n<p>My Test Class is as follows, but on using @Mock annotation i'm getting NPE on resourceInfo and httpServerRequest when trying to mock any of their methods (getResourceMethod). Also, I tried @Inject, @InjectMock as I'm not sure how to mock a @context field but got dependency error.</p>\n<pre><code>@QuarkusTest\nclass CLASS_ApiMetrics_UT_Test {\n\n@Inject\nApiMetrics apiMetrics;\n\n@Mock\nResourceInfo resourceInfo;\n\n@Mock\nHttpServerRequest httpServerRequest;\n....\n}\n</code></pre>\n<p>Also if I use the following for mocking,</p>\n<pre><code>ResourceInfo resourceInfo = Mockito.mock(ResourceInfo.class);\nHttpServerRequest httpServerRequest = Mockito.mock(HttpServerRequest.class);\nwhen(resourceInfo.getResourceMethod()).thenReturn(method);\nwhen(httpServerRequest.getFormAttribute(BODY_REQUESTER_ID)).thenReturn(expectedRequesterId);\n</code></pre>\n<p>I get this error for the mocked Classes\nMethod threw 'org.jboss.resteasy.spi.LoggableFailure' exception. Cannot evaluate com.sun.proxy.$Proxy141.toString()</p>\n<p><a href=\"https://i.stack.imgur.com/9pF1d.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9pF1d.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","hibernate","validation","annotations"],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1544731833,"creation_date":1544730979,"answer_id":53769199,"question_id":53769165,"body_markdown":"You should use the [`@NotNull`][1] annotation.\r\n\r\nYour `boolean` is a primitive type, not an object type (`Boolean`) hence the constraint [`@NotNull`][1] cannot be applied since the primitive type cannot be `null`. The annotation performs the following validation (formatting added by me):\r\n\r\n&gt; The annotated element must not be `null`. Accepts any type.\r\n\r\nUse the object type:\r\n\r\n    @NotNull\r\n    @Column(name = &quot;DISABLE&quot;, nullable = false)\r\n    private Boolean disabled;\r\n\r\n\r\n  [1]: http://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/NotNull.html","title":"Java hibernate No validator could be found for boolean","body":"<p>You should use the <a href=\"http://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/NotNull.html\" rel=\"noreferrer\"><code>@NotNull</code></a> annotation.</p>\n\n<p>Your <code>boolean</code> is a primitive type, not an object type (<code>Boolean</code>) hence the constraint <a href=\"http://docs.jboss.org/hibernate/beanvalidation/spec/2.0/api/javax/validation/constraints/NotNull.html\" rel=\"noreferrer\"><code>@NotNull</code></a> cannot be applied since the primitive type cannot be <code>null</code>. The annotation performs the following validation (formatting added by me):</p>\n\n<blockquote>\n  <p>The annotated element must not be <code>null</code>. Accepts any type.</p>\n</blockquote>\n\n<p>Use the object type:</p>\n\n<pre><code>@NotNull\n@Column(name = \"DISABLE\", nullable = false)\nprivate Boolean disabled;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7437263,"reputation":1080,"user_id":5656255,"display_name":"Alexis Pavlidis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604023168,"creation_date":1544731189,"answer_id":53769246,"question_id":53769165,"body_markdown":"to solve this error you MUST use correct annotations. In the above problem, `@NotBlank` annotation must be applied to any String field only.\r\n\r\nTo validate boolean type field, use annotation `@NotNull` or use `Boolean` boxed type","title":"Java hibernate No validator could be found for boolean","body":"<p>to solve this error you MUST use correct annotations. In the above problem, <code>@NotBlank</code> annotation must be applied to any String field only.</p>\n<p>To validate boolean type field, use annotation <code>@NotNull</code> or use <code>Boolean</code> boxed type</p>\n"},{"tags":[],"owner":{"account_id":28772032,"reputation":1,"user_id":22035585,"display_name":"Upendra Rai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686219710,"creation_date":1686219121,"answer_id":76430806,"question_id":53769165,"body_markdown":"    If(Boolean.TRUE.equals(disabled)){\r\n    \r\n    //If you check this type of any Boolean value then check null value and also false both field}\r\n ","title":"Java hibernate No validator could be found for boolean","body":"<pre><code>If(Boolean.TRUE.equals(disabled)){\n\n//If you check this type of any Boolean value then check null value and also false both field}\n</code></pre>\n"}],"owner":{"account_id":14941157,"reputation":737,"user_id":10787804,"display_name":"Chris Garsonn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9992,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":53769199,"answer_count":3,"score":2,"last_activity_date":1686219710,"creation_date":1544730822,"question_id":53769165,"body_markdown":"I have a service method that tries to add an object with `store()` method of hibernate. get method is working for this DAO and service class whereas adding not working. In console there is no error.\r\n\r\n\tUrlWhiteListDaoImpl urlDao;\r\n\r\n\tMapperFacade mapper;\r\n\r\n\t@Autowired\r\n\tpublic UrlWhiteListingServiceImpl(UrlWhiteListDao urlWhiteListDao, MapperFacade mapper, UrlWhiteListDaoImpl urlDao) {\r\n\t\tthis.urlDao = urlDao;\r\n\t\tthis.urlWhiteListDao = urlWhiteListDao;\r\n\t\tthis.mapper = mapper;\r\n\t}\r\n\r\n    @Override\r\n    public UrlWhiteListDto addUrlWhiteListItem(UrlWhiteListDto urlWhiteListDto) throws Exception {\r\n      \tString domainUrlToBeAdded = parseUrl(urlWhiteListDto.getDomain());\r\n    \tif (isDomainExistbyName(domainUrlToBeAdded)) {\r\n    \t\tthrow new Exception(&quot;Already existed domain is tried to be added&quot;);\r\n    \t}\r\n    \tUrlWhitelist urlModel = mapper.map(urlWhiteListDto,UrlWhitelist.class);\r\n    \turlDao.store(urlModel);\r\n    \treturn urlWhiteListDto;\r\n}\r\n\r\nMy model class is:\r\n\r\n    @Entity\r\n    @Table(name = UrlWhitelist.TABLE_NAME)\r\n    public class UrlWhitelist implements EntityBean { \r\n\r\n        public static final String TABLE_NAME = &quot;URL_WHITE_LIST&quot;;\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;, nullable = false)\r\n        private Long id;\r\n\r\n        @NotBlank\r\n        @Column(name = &quot;DOMAIN&quot;, nullable = false)\r\n        private String domain;\r\n\r\n        @NotBlank\r\n        @Column(name = &quot;DISABLE&quot;, nullable = false)\r\n        private boolean disabled;\r\n\r\n        // getters &amp; setters omitted\r\n    }\r\n\r\nAnd DAO implementation class is:\r\n\r\n    public class UrlWhiteListDaoImpl extends EntityDaoImpl&lt;UrlWhitelist, Long&gt; implements UrlWhiteListDao {\r\n\r\n    \tprotected UrlWhiteListDaoImpl() {\r\n    \t\tsuper(UrlWhitelist.class);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic List&lt;UrlWhitelist&gt; getByDomainName(String name) {\r\n    \t\tDetachedCriteria criteria = DetachedCriteria.forClass(UrlWhitelist.class);\r\n    \t\tcriteria.add(Restrictions.eq(&quot;domain&quot;, name));\r\n    \t\treturn getAllByCriteria(criteria);\r\n    \t}\r\n    }\r\n\r\nIn console there is no error but in server log it says:\r\n\r\n&gt;  SEVERE: Servlet.service() for servlet [services] in context with path [] threw exception [Request processing failed; nested exception is javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;org.hibernate.validator.constraints.NotBlank&#39; validating type &#39;java.lang.Boolean&#39;. Check configuration for &#39;disabled&#39;] with root cause\r\n    javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint &#39;org.hibernate.validator.constraints.NotBlank&#39; validating type &#39;java.lang.Boolean&#39;. Check configuration for &#39;disabled&#39;\r\n\r\nI thought there is something wrong with mapping between to and model class, but, then why get method is working and only `store()` is not working? What is the solution ?","title":"Java hibernate No validator could be found for boolean","body":"<p>I have a service method that tries to add an object with <code>store()</code> method of hibernate. get method is working for this DAO and service class whereas adding not working. In console there is no error.</p>\n\n<pre><code>UrlWhiteListDaoImpl urlDao;\n\nMapperFacade mapper;\n\n@Autowired\npublic UrlWhiteListingServiceImpl(UrlWhiteListDao urlWhiteListDao, MapperFacade mapper, UrlWhiteListDaoImpl urlDao) {\n    this.urlDao = urlDao;\n    this.urlWhiteListDao = urlWhiteListDao;\n    this.mapper = mapper;\n}\n\n@Override\npublic UrlWhiteListDto addUrlWhiteListItem(UrlWhiteListDto urlWhiteListDto) throws Exception {\n    String domainUrlToBeAdded = parseUrl(urlWhiteListDto.getDomain());\n    if (isDomainExistbyName(domainUrlToBeAdded)) {\n        throw new Exception(\"Already existed domain is tried to be added\");\n    }\n    UrlWhitelist urlModel = mapper.map(urlWhiteListDto,UrlWhitelist.class);\n    urlDao.store(urlModel);\n    return urlWhiteListDto;\n</code></pre>\n\n<p>}</p>\n\n<p>My model class is:</p>\n\n<pre><code>@Entity\n@Table(name = UrlWhitelist.TABLE_NAME)\npublic class UrlWhitelist implements EntityBean { \n\n    public static final String TABLE_NAME = \"URL_WHITE_LIST\";\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"ID\", nullable = false)\n    private Long id;\n\n    @NotBlank\n    @Column(name = \"DOMAIN\", nullable = false)\n    private String domain;\n\n    @NotBlank\n    @Column(name = \"DISABLE\", nullable = false)\n    private boolean disabled;\n\n    // getters &amp; setters omitted\n}\n</code></pre>\n\n<p>And DAO implementation class is:</p>\n\n<pre><code>public class UrlWhiteListDaoImpl extends EntityDaoImpl&lt;UrlWhitelist, Long&gt; implements UrlWhiteListDao {\n\n    protected UrlWhiteListDaoImpl() {\n        super(UrlWhitelist.class);\n    }\n\n    @Override\n    public List&lt;UrlWhitelist&gt; getByDomainName(String name) {\n        DetachedCriteria criteria = DetachedCriteria.forClass(UrlWhitelist.class);\n        criteria.add(Restrictions.eq(\"domain\", name));\n        return getAllByCriteria(criteria);\n    }\n}\n</code></pre>\n\n<p>In console there is no error but in server log it says:</p>\n\n<blockquote>\n  <p>SEVERE: Servlet.service() for servlet [services] in context with path [] threw exception [Request processing failed; nested exception is javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'org.hibernate.validator.constraints.NotBlank' validating type 'java.lang.Boolean'. Check configuration for 'disabled'] with root cause\n      javax.validation.UnexpectedTypeException: HV000030: No validator could be found for constraint 'org.hibernate.validator.constraints.NotBlank' validating type 'java.lang.Boolean'. Check configuration for 'disabled'</p>\n</blockquote>\n\n<p>I thought there is something wrong with mapping between to and model class, but, then why get method is working and only <code>store()</code> is not working? What is the solution ?</p>\n"},{"tags":["java","http","cookies"],"owner":{"account_id":17276161,"reputation":11,"user_id":12510758,"display_name":"孙祥钰"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686219433,"creation_date":1686219433,"question_id":76430841,"body_markdown":"my code is like this:\r\n```java\r\n@RestController\r\npublic class TestController {\r\n\r\n    @GetMapping(&quot;cookie&quot;)\r\n    public String testCookie(HttpServletRequest res, HttpServletResponse response) {\r\n        Cookie userCodeCookie = new Cookie(&quot;userCode&quot;, &quot;sxy&quot;);\r\n        userCodeCookie.setPath(&quot;/&quot;);\r\n        userCodeCookie.setMaxAge(1000000);\r\n        userCodeCookie.setHttpOnly(true);\r\n        userCodeCookie.setDomain(res.getServerName());\r\n        Cookie thirdTokenCookie = new Cookie(&quot;SSO_THIRD_TOKEN&quot;, &quot;thirdToken&quot;);\r\n        thirdTokenCookie.setPath(&quot;/&quot;);\r\n        thirdTokenCookie.setMaxAge(1000000); \r\n        response.addCookie(thirdTokenCookie);\r\n        thirdTokenCookie.setDomain(res.getServerName());\r\n        response.addCookie(userCodeCookie);\r\n        return &quot;success&quot;;\r\n    }\r\n\r\n\r\n    @GetMapping(&quot;/all-cookies&quot;)\r\n    public String readAllCookies(HttpServletRequest request) {\r\n\r\n        Cookie[] cookies = request.getCookies();\r\n        if (cookies != null) {\r\n            return Arrays.stream(cookies)\r\n                    .map(c -&gt; c.getName() + &quot;=&quot; + c.getValue() + &quot;，expire = &quot; + c.getMaxAge())\r\n                    .collect(Collectors.joining(&quot;, &quot;));\r\n        }\r\n\r\n        return &quot;No cookies&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nStep 1: \r\nrequest http://localhost:8080/cookie\r\nthen I found cookie is right write in brower,and max-age is right \r\nSetp 2:\r\nrequest http://localhost:8080/all-cookies\r\nthis request response is :\r\n```\r\nSSO_THIRD_TOKEN=thirdToken，expire = -1, userCode=sxy，expire = -1\r\n```\r\n\r\nwhy my max-age is lost?\r\n\r\nwhen i request http://localhost:8080/all-cookies\r\nI want this return \r\nSSO_THIRD_TOKEN=thirdToken，expire = 1000000, userCode=sxy，expire = 1000000","title":"when I set cookie max age in request1,and then make another request2 ,I can not get the max-age I set before","body":"<p>my code is like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\npublic class TestController {\n\n    @GetMapping(&quot;cookie&quot;)\n    public String testCookie(HttpServletRequest res, HttpServletResponse response) {\n        Cookie userCodeCookie = new Cookie(&quot;userCode&quot;, &quot;sxy&quot;);\n        userCodeCookie.setPath(&quot;/&quot;);\n        userCodeCookie.setMaxAge(1000000);\n        userCodeCookie.setHttpOnly(true);\n        userCodeCookie.setDomain(res.getServerName());\n        Cookie thirdTokenCookie = new Cookie(&quot;SSO_THIRD_TOKEN&quot;, &quot;thirdToken&quot;);\n        thirdTokenCookie.setPath(&quot;/&quot;);\n        thirdTokenCookie.setMaxAge(1000000); \n        response.addCookie(thirdTokenCookie);\n        thirdTokenCookie.setDomain(res.getServerName());\n        response.addCookie(userCodeCookie);\n        return &quot;success&quot;;\n    }\n\n\n    @GetMapping(&quot;/all-cookies&quot;)\n    public String readAllCookies(HttpServletRequest request) {\n\n        Cookie[] cookies = request.getCookies();\n        if (cookies != null) {\n            return Arrays.stream(cookies)\n                    .map(c -&gt; c.getName() + &quot;=&quot; + c.getValue() + &quot;，expire = &quot; + c.getMaxAge())\n                    .collect(Collectors.joining(&quot;, &quot;));\n        }\n\n        return &quot;No cookies&quot;;\n    }\n\n}\n</code></pre>\n<p>Step 1:\nrequest http://localhost:8080/cookie\nthen I found cookie is right write in brower,and max-age is right\nSetp 2:\nrequest http://localhost:8080/all-cookies\nthis request response is :</p>\n<pre><code>SSO_THIRD_TOKEN=thirdToken，expire = -1, userCode=sxy，expire = -1\n</code></pre>\n<p>why my max-age is lost?</p>\n<p>when i request http://localhost:8080/all-cookies\nI want this return\nSSO_THIRD_TOKEN=thirdToken，expire = 1000000, userCode=sxy，expire = 1000000</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","spring-data","jpa"],"answers":[{"tags":[],"owner":{"account_id":1473276,"reputation":110999,"user_id":1384297,"accept_rate":100,"display_name":"Andy Wilkinson"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1675681551,"creation_date":1573302331,"answer_id":58779259,"question_id":58779211,"body_markdown":"Spring Data JPA itself isn&#39;t an implementation of the JPA specification. It is an abstraction built on top of JPA that requires a JPA implementation, typically Hibernate, to function. The JPA implementation provides the `javax.persistence` classes. For this reason, with a dependency on `org.springframework.data:spring-data-jpa` alone, the `javax.persistence` classes will not be on the classpath.\r\n\r\nIf you&#39;re using Spring Boot&#39;s Data JPA starter (`org.springframework.boot:spring-boot-starter-data-jpa`), it has dependencies on both Spring Data JPA and Hibernate. Hibernate then has a dependency on the `javax.persistence` API which makes its classes available to your application&#39;s code.","title":"javax.persistence not included in spring data jpa?","body":"<p>Spring Data JPA itself isn't an implementation of the JPA specification. It is an abstraction built on top of JPA that requires a JPA implementation, typically Hibernate, to function. The JPA implementation provides the <code>javax.persistence</code> classes. For this reason, with a dependency on <code>org.springframework.data:spring-data-jpa</code> alone, the <code>javax.persistence</code> classes will not be on the classpath.</p>\n<p>If you're using Spring Boot's Data JPA starter (<code>org.springframework.boot:spring-boot-starter-data-jpa</code>), it has dependencies on both Spring Data JPA and Hibernate. Hibernate then has a dependency on the <code>javax.persistence</code> API which makes its classes available to your application's code.</p>\n"},{"tags":[],"owner":{"account_id":427123,"reputation":16272,"user_id":808723,"accept_rate":94,"display_name":"GameScripting"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1686219415,"creation_date":1686219415,"answer_id":76430839,"question_id":58779211,"body_markdown":"In sprint boot 3, `javax.persistence` has to be replaced with `jakarta.persistence`.","title":"javax.persistence not included in spring data jpa?","body":"<p>In sprint boot 3, <code>javax.persistence</code> has to be replaced with <code>jakarta.persistence</code>.</p>\n"}],"owner":{"account_id":10390370,"reputation":1913,"user_id":7661910,"accept_rate":96,"display_name":"en Lopes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3436,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":58779259,"answer_count":2,"score":7,"last_activity_date":1686219415,"creation_date":1573301920,"question_id":58779211,"body_markdown":"I just created a maven project with this dependency\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\n\r\nbut I realized that all these classes are not found:\r\n\r\n    import javax.persistence.*\r\n\r\n\r\nso I have to change the dependency to \r\n\r\n   \r\n\r\n     &lt;dependency&gt;\r\n        \t\t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n        \t\t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        \t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n        \t\t&lt;/dependency&gt;\r\n\r\nwhich I find it weird because last update is from `Aug 21, 2017`\r\n\r\nthere is no spring dependency that includes javax.persistence ????","title":"javax.persistence not included in spring data jpa?","body":"<p>I just created a maven project with this dependency</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>but I realized that all these classes are not found:</p>\n\n<pre><code>import javax.persistence.*\n</code></pre>\n\n<p>so I have to change the dependency to </p>\n\n<pre><code> &lt;dependency&gt;\n                &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n\n<p>which I find it weird because last update is from <code>Aug 21, 2017</code></p>\n\n<p>there is no spring dependency that includes javax.persistence ????</p>\n"},{"tags":["java","sorting","comparison","comparator"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1686214648,"post_id":76430191,"comment_id":134769431,"body_markdown":"What is `Item`?","body":"What is <code>Item</code>?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686214842,"post_id":76430191,"comment_id":134769466,"body_markdown":"Use an  IDE and apply the &quot;convert to lambda&quot; quick fix.","body":"Use an  IDE and apply the &quot;convert to lambda&quot; quick fix."},{"owner":{"account_id":5168089,"reputation":26671,"user_id":4137489,"accept_rate":100,"display_name":"marstran"},"score":5,"creation_date":1686214936,"post_id":76430191,"comment_id":134769486,"body_markdown":"Unrelated to the question, but your comparator is wrong. It should return 0 if the values are equal, not -1.","body":"Unrelated to the question, but your comparator is wrong. It should return 0 if the values are equal, not -1."},{"owner":{"account_id":21560471,"reputation":45,"user_id":15895093,"display_name":"Arya"},"score":0,"creation_date":1686215204,"post_id":76430191,"comment_id":134769531,"body_markdown":"@Sweeper Item is a class having two attributes, int value and int weight.","body":"@Sweeper Item is a class having two attributes, int value and int weight."},{"owner":{"account_id":21560471,"reputation":45,"user_id":15895093,"display_name":"Arya"},"score":0,"creation_date":1686215561,"post_id":76430191,"comment_id":134769598,"body_markdown":"@Jorn I use VS Code and I can&#39;t seem to find the &quot;quick fix&quot; for this case.. as far as I know quick fix option comes when there is some error. How to use it in this case though?","body":"@Jorn I use VS Code and I can&#39;t seem to find the &quot;quick fix&quot; for this case.. as far as I know quick fix option comes when there is some error. How to use it in this case though?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686215702,"post_id":76430191,"comment_id":134769622,"body_markdown":"@Arya I&#39;m not familiar with VSCode. IntelliJ will do it just fine, and I&#39;d guess VSCode can too. Just not sure how.","body":"@Arya I&#39;m not familiar with VSCode. IntelliJ will do it just fine, and I&#39;d guess VSCode can too. Just not sure how."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686243107,"post_id":76430191,"comment_id":134775682,"body_markdown":"Why are you using `new Double`? All that does is box the `double` to a `Double` which is then immediately unboxed. Perhaps the compiler will realize that and eliminate it for you, but it serves no purpose.","body":"Why are you using <code>new Double</code>? All that does is box the <code>double</code> to a <code>Double</code> which is then immediately unboxed. Perhaps the compiler will realize that and eliminate it for you, but it serves no purpose."}],"answers":[{"tags":[],"owner":{"account_id":5225541,"reputation":9,"user_id":4177714,"display_name":"Gabriel Eriksson"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1686214966,"creation_date":1686214966,"answer_id":76430240,"question_id":76430191,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n  var arr = new Item[]{}; \r\n  Arrays.sort(arr, MyClass::useMySorting);\r\n}\r\n\r\nprivate static int useMySorting(Item item1, Item item2) {\r\n  double cpr1 = new Double((double) item1.value / (double) item1.weight);\r\n  double cpr2 = new Double((double) item2.value / (double) item2.weight);\r\n  if (cpr1 &lt; cpr2)\r\n    return 1;\r\n  else\r\n    return -1;\r\n}\r\n```","title":"Java sorting with lambda function","body":"<pre><code>public static void main(String[] args) {\n  var arr = new Item[]{}; \n  Arrays.sort(arr, MyClass::useMySorting);\n}\n\nprivate static int useMySorting(Item item1, Item item2) {\n  double cpr1 = new Double((double) item1.value / (double) item1.weight);\n  double cpr2 = new Double((double) item2.value / (double) item2.weight);\n  if (cpr1 &lt; cpr2)\n    return 1;\n  else\n    return -1;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21560471,"reputation":45,"user_id":15895093,"display_name":"Arya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686219315,"creation_date":1686216106,"answer_id":76430368,"question_id":76430191,"body_markdown":"I tried out few things and I finally found the solution:\r\n\r\n    Arrays.sort(arr, (item1, item2) -&gt; Double.compare((double) item2.value / item2.weight, (double) item1.value / item1.weight));\r\n\r\nThis will solve the issue.","title":"Java sorting with lambda function","body":"<p>I tried out few things and I finally found the solution:</p>\n<pre><code>Arrays.sort(arr, (item1, item2) -&gt; Double.compare((double) item2.value / item2.weight, (double) item1.value / item1.weight));\n</code></pre>\n<p>This will solve the issue.</p>\n"}],"owner":{"account_id":21560471,"reputation":45,"user_id":15895093,"display_name":"Arya"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430368,"answer_count":2,"score":0,"last_activity_date":1686219315,"creation_date":1686214601,"question_id":76430191,"body_markdown":"Can someone please convert this function into lambda function... I am having some trouble in typecasting I guess. Help please\r\n\r\n```java\r\nArrays.sort(arr, new Comparator&lt;Item&gt;() {\r\n    @Override\r\n    public int compare(Item item1, Item item2) {\r\n        double cpr1 = new Double((double) item1.value / (double) item1.weight);\r\n        double cpr2 = new Double((double) item2.value / (double) item2.weight);\r\n \r\n        if (cpr1 &lt; cpr2) {\r\n            return 1;\r\n        } else {\r\n            return -1;\r\n        }\r\n    }\r\n});\r\n```","title":"Java sorting with lambda function","body":"<p>Can someone please convert this function into lambda function... I am having some trouble in typecasting I guess. Help please</p>\n<pre class=\"lang-java prettyprint-override\"><code>Arrays.sort(arr, new Comparator&lt;Item&gt;() {\n    @Override\n    public int compare(Item item1, Item item2) {\n        double cpr1 = new Double((double) item1.value / (double) item1.weight);\n        double cpr2 = new Double((double) item2.value / (double) item2.weight);\n \n        if (cpr1 &lt; cpr2) {\n            return 1;\n        } else {\n            return -1;\n        }\n    }\n});\n</code></pre>\n"},{"tags":["java","junit","internationalization"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1417817025,"post_id":27325382,"comment_id":43109952,"body_markdown":"Yes, and? What code do you run that is locale dependent?","body":"Yes, and? What code do you run that is locale dependent?"},{"owner":{"account_id":4163215,"reputation":603,"user_id":3453784,"accept_rate":54,"display_name":"user3453784"},"score":0,"creation_date":1417817949,"post_id":27325382,"comment_id":43110319,"body_markdown":"I didn&#39;t get what you exactly meant. I have a few exception messages that needs to be checked. I have created a separate resources file, however, it is not getting linked..","body":"I didn&#39;t get what you exactly meant. I have a few exception messages that needs to be checked. I have created a separate resources file, however, it is not getting linked.."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1417818189,"post_id":27325382,"comment_id":43110425,"body_markdown":"Hmwell, maybe in this case you want to have a look at [this project](https://github.com/fge/msg-simple); it allows you to get localized messages quite easily","body":"Hmwell, maybe in this case you want to have a look at <a href=\"https://github.com/fge/msg-simple\" rel=\"nofollow noreferrer\">this project</a>; it allows you to get localized messages quite easily"}],"answers":[{"tags":[],"owner":{"account_id":1888343,"reputation":176597,"user_id":1707091,"display_name":"rgettman"},"down_vote_count":3,"up_vote_count":42,"is_accepted":true,"score":39,"last_activity_date":1417820003,"creation_date":1417820003,"answer_id":27325990,"question_id":27325382,"body_markdown":"You can set the default `Locale` with [`Locale.setDefault`][1].\r\n\r\n&gt; Sets the default locale for this instance of the Java Virtual Machine. This does not affect the host locale.\r\n\r\n    Locale.setDefault(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n\r\nTesting with the following resource files:\r\n\r\n- test.properties\r\n\r\n        message=Yes\r\n\r\n- test_es_ES.properties\r\n\r\n        message=S&#237;\r\n\r\nHere is my main function, with no change to my default locale (en_US):\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        ResourceBundle test = ResourceBundle.getBundle(&quot;test&quot;);\r\n        System.out.println(test.getString(&quot;message&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n    Yes\r\n\r\nHere is my main function, with a change to your test locale (es_ES):\r\n\r\n    public static void main(String[] args)\r\n    {\r\n        Locale.setDefault(new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n        ResourceBundle test = ResourceBundle.getBundle(&quot;test&quot;);\r\n        System.out.println(test.getString(&quot;message&quot;));\r\n    }\r\n\r\nOutput:\r\n\r\n    S&#237;\r\n\r\nThis should work when applied to a JUnit test case.\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#setDefault-java.util.Locale-","title":"change default locale for junit test","body":"<p>You can set the default <code>Locale</code> with <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Locale.html#setDefault-java.util.Locale-\" rel=\"noreferrer\"><code>Locale.setDefault</code></a>.</p>\n\n<blockquote>\n  <p>Sets the default locale for this instance of the Java Virtual Machine. This does not affect the host locale.</p>\n</blockquote>\n\n<pre><code>Locale.setDefault(new Locale(\"es\", \"ES\"));\n</code></pre>\n\n<p>Testing with the following resource files:</p>\n\n<ul>\n<li><p>test.properties</p>\n\n<pre><code>message=Yes\n</code></pre></li>\n<li><p>test_es_ES.properties</p>\n\n<pre><code>message=Sí\n</code></pre></li>\n</ul>\n\n<p>Here is my main function, with no change to my default locale (en_US):</p>\n\n<pre><code>public static void main(String[] args)\n{\n    ResourceBundle test = ResourceBundle.getBundle(\"test\");\n    System.out.println(test.getString(\"message\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Yes\n</code></pre>\n\n<p>Here is my main function, with a change to your test locale (es_ES):</p>\n\n<pre><code>public static void main(String[] args)\n{\n    Locale.setDefault(new Locale(\"es\", \"ES\"));\n    ResourceBundle test = ResourceBundle.getBundle(\"test\");\n    System.out.println(test.getString(\"message\"));\n}\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>Sí\n</code></pre>\n\n<p>This should work when applied to a JUnit test case.</p>\n"},{"tags":[],"owner":{"account_id":219684,"reputation":37257,"user_id":476716,"accept_rate":77,"display_name":"OrangeDog"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686219068,"creation_date":1686219068,"answer_id":76430798,"question_id":27325382,"body_markdown":"[JUnit Pioneer][1] provides a [`@DefaultLocale`][2] annotation:\r\n\r\n```java\r\n@Test\r\n@DefaultLocale(language = &quot;fr&quot;)\r\nvoid test_with_language() {\r\n    assertEquals(&quot;0,1&quot;, String.format(&quot;%.1f&quot;, 0.1));\r\n}\r\n```\r\n\r\nFor JUnit 4, you can write a [Rule][3]:\r\n\r\n```java\r\npublic class LocaleRule extends ExternalResource {\r\n\r\n    private final Locale testLocale;\r\n    private Locale orginalLocale;\r\n\r\n    public LocaleRule(String locale) {\r\n        this.testLocale = Locale.forLanguageTag(locale);\r\n    }\r\n\r\n    @Override\r\n    protected void before() throws Throwable {\r\n        orginalLocale = Locale.getDefault();\r\n        Locale.setDefault(testLocale);\r\n    };\r\n\r\n    @Override\r\n    protected void after() {\r\n       Locale.setDefault(orginalLocale);\r\n    };\r\n\r\n}\r\n```\r\n\r\n\r\n  [1]: https://junit-pioneer.org/\r\n  [2]: https://junit-pioneer.org/docs/default-locale-timezone/\r\n  [3]: https://github.com/junit-team/junit4/wiki/Rules","title":"change default locale for junit test","body":"<p><a href=\"https://junit-pioneer.org/\" rel=\"nofollow noreferrer\">JUnit Pioneer</a> provides a <a href=\"https://junit-pioneer.org/docs/default-locale-timezone/\" rel=\"nofollow noreferrer\"><code>@DefaultLocale</code></a> annotation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@DefaultLocale(language = &quot;fr&quot;)\nvoid test_with_language() {\n    assertEquals(&quot;0,1&quot;, String.format(&quot;%.1f&quot;, 0.1));\n}\n</code></pre>\n<p>For JUnit 4, you can write a <a href=\"https://github.com/junit-team/junit4/wiki/Rules\" rel=\"nofollow noreferrer\">Rule</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LocaleRule extends ExternalResource {\n\n    private final Locale testLocale;\n    private Locale orginalLocale;\n\n    public LocaleRule(String locale) {\n        this.testLocale = Locale.forLanguageTag(locale);\n    }\n\n    @Override\n    protected void before() throws Throwable {\n        orginalLocale = Locale.getDefault();\n        Locale.setDefault(testLocale);\n    };\n\n    @Override\n    protected void after() {\n       Locale.setDefault(orginalLocale);\n    };\n\n}\n</code></pre>\n"}],"owner":{"account_id":4163215,"reputation":603,"user_id":3453784,"accept_rate":54,"display_name":"user3453784"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21825,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":27325990,"answer_count":2,"score":26,"last_activity_date":1686219068,"creation_date":1417816938,"question_id":27325382,"body_markdown":"How do you change the default locale for a JUnit Test. Current locale is en. I want to test for es_ES.\r\nI tried: \r\n\r\n    System.setProperty(&quot;locale&quot;, &quot;es_ES&quot;);\r\n\r\nBut this doesn&#39;t seem to work.\r\n\r\n\r\n","title":"change default locale for junit test","body":"<p>How do you change the default locale for a JUnit Test. Current locale is en. I want to test for es_ES.\nI tried: </p>\n\n<pre><code>System.setProperty(\"locale\", \"es_ES\");\n</code></pre>\n\n<p>But this doesn't seem to work.</p>\n"},{"tags":["java","user-interface","javafx"],"answers":[{"tags":[],"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686148071,"creation_date":1686148071,"answer_id":76424415,"question_id":76420533,"body_markdown":"I have been working on a `Hamburger` but have not completed it. Here is the code I have so far. Maybe it can help you. Pressing the `Hamburger` menu opens a sliding `StackPane`.\r\n\r\n\r\n----------\r\n**Test App Main**\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.Priority;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\n/**\r\n * JavaFX App\r\n */\r\npublic class App extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        VBox vbHeader = new VBox();\r\n         \r\n        StackPane spBody = new StackPane(getMainView());\r\n        spBody.setStyle(&quot;-fx-background-color: red&quot;);\r\n        VBox.setVgrow(spBody, Priority.ALWAYS);\r\n        StackPaneRoot hamburger = new StackPaneRoot(spBody, StackPaneRoot.Location.LEFT);\r\n        hamburger.setDrawerContent(getDrawerContent());\r\n        hamburger.setDrawerMaxWidth(150);\r\n        hamburger.setDrawerDurationMillis(500);\r\n        \r\n        vbHeader.getChildren().add(hamburger);\r\n        \r\n        \r\n        \r\n        VBox root = new VBox(vbHeader, spBody);\r\n        var scene = new Scene(root, 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public StackPane getMainView()\r\n    {\r\n        Label lblOne = new Label(&quot;One&quot;);\r\n       \r\n        \r\n        VBox vBox = new VBox(lblOne);        \r\n        \r\n        return new StackPane(vBox);\r\n    }\r\n    \r\n    public VBox getDrawerContent()\r\n    {\r\n        Button btnAdd = new Button(&quot;Add&quot;);\r\n        Button btnDelete = new Button(&quot;Delete&quot;);\r\n        Button btnStart = new Button(&quot;Start&quot;);\r\n        Button btnStop = new Button(&quot;Stop&quot;);\r\n        Button btnPlaceHolding = new Button();\r\n        Button btnLogOff = new Button(&quot;Log Off&quot;);\r\n        \r\n        \r\n        return new VBox(btnAdd, btnDelete, btnStart, btnStop, btnPlaceHolding, btnLogOff);\r\n    }   \r\n    \r\n    \r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n----------\r\n**Hamburger Class**\r\n```\r\nimport javafx.animation.KeyFrame;\r\nimport javafx.animation.KeyValue;\r\nimport javafx.animation.Timeline;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Parent;\r\nimport javafx.scene.control.ToggleButton;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.util.Duration;\r\nimport org.kordamp.ikonli.codicons.Codicons;\r\nimport org.kordamp.ikonli.javafx.FontIcon;\r\n\r\n/**\r\n *\r\n * @author blj0011\r\n */\r\npublic class StackPaneRoot extends ToggleButton\r\n{\r\n    public static enum Location{\r\n        LEFT,\r\n        RIGHT,\r\n        BOTTOM\r\n    }\r\n    \r\n    private final static FontIcon THREE_BARS_ICON = new FontIcon(Codicons.THREE_BARS);\r\n    private final static FontIcon CHROME_CLOSE_ICON = new FontIcon(Codicons.CHROME_CLOSE);\r\n        \r\n    public double drawerMaxWidth = 100;\r\n    public double drawerMaxHeight = 100;\r\n    public double drawerAnimationDurationMillis = 300;\r\n    \r\n    KeyFrame showKeyFrame;\r\n    KeyFrame hideKeyFrame;\r\n    Location location;\r\n    \r\n    StackPane spParent;\r\n\r\n    final StackPane drawer = new StackPane();\r\n    \r\n    public StackPaneRoot(StackPane rootParent, Location location){     \r\n        this.spParent = (StackPane)rootParent;\r\n        this.location = location;            \r\n        this.drawer.setStyle(&quot;-fx-background-color: yellow;&quot;);                 \r\n\r\n        setValues(); \r\n    }   \r\n    \r\n    public void setDrawerContent(Parent parent)\r\n    {\r\n        this.drawer.getChildren().clear();\r\n        this.drawer.getChildren().add(parent);\r\n    }\r\n    \r\n    public void setDrawerMaxWidth(double drawerMaxWidth)\r\n    {\r\n        this.drawerMaxWidth = drawerMaxWidth;\r\n        setValues();    \r\n    }\r\n    \r\n    public void setDrawerMaxHeight(double drawerMaxHeight)\r\n    {\r\n        this.drawerMaxHeight = drawerMaxHeight;\r\n        setValues();\r\n    }\r\n    \r\n    public void setDrawerDurationMillis(double drawerAnimationDurationMillis)\r\n    {\r\n        this.drawerAnimationDurationMillis = drawerAnimationDurationMillis;\r\n        setValues();\r\n    }\r\n    \r\n    \r\n    \r\n    private void setValues()\r\n    {\r\n        switch(this.location)\r\n        {\r\n            case LEFT:                   \r\n                StackPane.setAlignment(this.drawer, Pos.CENTER_LEFT);\r\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), 0));\r\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), -drawerMaxWidth));\r\n                this.drawer.setMaxWidth(drawerMaxWidth);\r\n                this.drawer.setTranslateX(-drawerMaxWidth);\r\n                break;\r\n            case RIGHT:\r\n                StackPane.setAlignment(this.drawer, Pos.CENTER_RIGHT);\r\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), 0));\r\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), drawerMaxWidth));\r\n                this.drawer.setMaxWidth(drawerMaxWidth);\r\n                this.drawer.setTranslateX(drawerMaxWidth);\r\n                break;                    \r\n            case BOTTOM:\r\n                StackPane.setAlignment(this.drawer, Pos.BOTTOM_CENTER);\r\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateYProperty(), 0));\r\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateYProperty(), drawerMaxHeight));\r\n                this.drawer.setMaxHeight(drawerMaxHeight);\r\n                this.drawer.setTranslateY(drawerMaxHeight);\r\n                break;\r\n        }\r\n        \r\n        Timeline show = new Timeline(showKeyFrame);             \r\n        Timeline hide = new Timeline(hideKeyFrame);\r\n        \r\n        this.setGraphic(THREE_BARS_ICON);\r\n        this.setOnAction((t) -&gt; {\r\n            this.setDisable(true);\r\n            if(!this.isSelected())\r\n            {                \r\n                this.setGraphic(THREE_BARS_ICON);\r\n                hide.play();\r\n                hide.setOnFinished(onFinishedEvent -&gt; {\r\n                    this.setDisable(false);\r\n                    this.drawer.toBack();\r\n                    this.spParent.getChildren().remove(this.drawer);\r\n                });\r\n            }\r\n            else\r\n            {\r\n                this.drawer.toFront();\r\n                this.spParent.getChildren().add(this.drawer);\r\n                this.setGraphic(CHROME_CLOSE_ICON);\r\n                show.play();\r\n                show.setOnFinished(onFinishedEvent -&gt; {\r\n                    this.setDisable(false);\r\n                });                \r\n            }\r\n        });        \r\n    }\r\n}\r\n```\r\n----------\r\n**module-info.java**\r\n```\r\nmodule sed.lab.hamburgertest {\r\n    requires javafx.controls;    \r\n    requires org.kordamp.ikonli.core;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.ikonli.codicons;\r\n    \r\n    exports sed.lab.hamburgertest;\r\n}\r\n```\r\n----------\r\n**Output**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/or3tj.gif","title":"How to slide a VBox open and close in javafx","body":"<p>I have been working on a <code>Hamburger</code> but have not completed it. Here is the code I have so far. Maybe it can help you. Pressing the <code>Hamburger</code> menu opens a sliding <code>StackPane</code>.</p>\n<hr />\n<p><strong>Test App Main</strong></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.Priority;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\n/**\n * JavaFX App\n */\npublic class App extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        VBox vbHeader = new VBox();\n         \n        StackPane spBody = new StackPane(getMainView());\n        spBody.setStyle(&quot;-fx-background-color: red&quot;);\n        VBox.setVgrow(spBody, Priority.ALWAYS);\n        StackPaneRoot hamburger = new StackPaneRoot(spBody, StackPaneRoot.Location.LEFT);\n        hamburger.setDrawerContent(getDrawerContent());\n        hamburger.setDrawerMaxWidth(150);\n        hamburger.setDrawerDurationMillis(500);\n        \n        vbHeader.getChildren().add(hamburger);\n        \n        \n        \n        VBox root = new VBox(vbHeader, spBody);\n        var scene = new Scene(root, 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public StackPane getMainView()\n    {\n        Label lblOne = new Label(&quot;One&quot;);\n       \n        \n        VBox vBox = new VBox(lblOne);        \n        \n        return new StackPane(vBox);\n    }\n    \n    public VBox getDrawerContent()\n    {\n        Button btnAdd = new Button(&quot;Add&quot;);\n        Button btnDelete = new Button(&quot;Delete&quot;);\n        Button btnStart = new Button(&quot;Start&quot;);\n        Button btnStop = new Button(&quot;Stop&quot;);\n        Button btnPlaceHolding = new Button();\n        Button btnLogOff = new Button(&quot;Log Off&quot;);\n        \n        \n        return new VBox(btnAdd, btnDelete, btnStart, btnStop, btnPlaceHolding, btnLogOff);\n    }   \n    \n    \n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<hr />\n<p><strong>Hamburger Class</strong></p>\n<pre><code>import javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.geometry.Pos;\nimport javafx.scene.Parent;\nimport javafx.scene.control.ToggleButton;\nimport javafx.scene.layout.StackPane;\nimport javafx.util.Duration;\nimport org.kordamp.ikonli.codicons.Codicons;\nimport org.kordamp.ikonli.javafx.FontIcon;\n\n/**\n *\n * @author blj0011\n */\npublic class StackPaneRoot extends ToggleButton\n{\n    public static enum Location{\n        LEFT,\n        RIGHT,\n        BOTTOM\n    }\n    \n    private final static FontIcon THREE_BARS_ICON = new FontIcon(Codicons.THREE_BARS);\n    private final static FontIcon CHROME_CLOSE_ICON = new FontIcon(Codicons.CHROME_CLOSE);\n        \n    public double drawerMaxWidth = 100;\n    public double drawerMaxHeight = 100;\n    public double drawerAnimationDurationMillis = 300;\n    \n    KeyFrame showKeyFrame;\n    KeyFrame hideKeyFrame;\n    Location location;\n    \n    StackPane spParent;\n\n    final StackPane drawer = new StackPane();\n    \n    public StackPaneRoot(StackPane rootParent, Location location){     \n        this.spParent = (StackPane)rootParent;\n        this.location = location;            \n        this.drawer.setStyle(&quot;-fx-background-color: yellow;&quot;);                 \n\n        setValues(); \n    }   \n    \n    public void setDrawerContent(Parent parent)\n    {\n        this.drawer.getChildren().clear();\n        this.drawer.getChildren().add(parent);\n    }\n    \n    public void setDrawerMaxWidth(double drawerMaxWidth)\n    {\n        this.drawerMaxWidth = drawerMaxWidth;\n        setValues();    \n    }\n    \n    public void setDrawerMaxHeight(double drawerMaxHeight)\n    {\n        this.drawerMaxHeight = drawerMaxHeight;\n        setValues();\n    }\n    \n    public void setDrawerDurationMillis(double drawerAnimationDurationMillis)\n    {\n        this.drawerAnimationDurationMillis = drawerAnimationDurationMillis;\n        setValues();\n    }\n    \n    \n    \n    private void setValues()\n    {\n        switch(this.location)\n        {\n            case LEFT:                   \n                StackPane.setAlignment(this.drawer, Pos.CENTER_LEFT);\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), 0));\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), -drawerMaxWidth));\n                this.drawer.setMaxWidth(drawerMaxWidth);\n                this.drawer.setTranslateX(-drawerMaxWidth);\n                break;\n            case RIGHT:\n                StackPane.setAlignment(this.drawer, Pos.CENTER_RIGHT);\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), 0));\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateXProperty(), drawerMaxWidth));\n                this.drawer.setMaxWidth(drawerMaxWidth);\n                this.drawer.setTranslateX(drawerMaxWidth);\n                break;                    \n            case BOTTOM:\n                StackPane.setAlignment(this.drawer, Pos.BOTTOM_CENTER);\n                showKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateYProperty(), 0));\n                hideKeyFrame = new KeyFrame(Duration.millis(drawerAnimationDurationMillis), new KeyValue(this.drawer.translateYProperty(), drawerMaxHeight));\n                this.drawer.setMaxHeight(drawerMaxHeight);\n                this.drawer.setTranslateY(drawerMaxHeight);\n                break;\n        }\n        \n        Timeline show = new Timeline(showKeyFrame);             \n        Timeline hide = new Timeline(hideKeyFrame);\n        \n        this.setGraphic(THREE_BARS_ICON);\n        this.setOnAction((t) -&gt; {\n            this.setDisable(true);\n            if(!this.isSelected())\n            {                \n                this.setGraphic(THREE_BARS_ICON);\n                hide.play();\n                hide.setOnFinished(onFinishedEvent -&gt; {\n                    this.setDisable(false);\n                    this.drawer.toBack();\n                    this.spParent.getChildren().remove(this.drawer);\n                });\n            }\n            else\n            {\n                this.drawer.toFront();\n                this.spParent.getChildren().add(this.drawer);\n                this.setGraphic(CHROME_CLOSE_ICON);\n                show.play();\n                show.setOnFinished(onFinishedEvent -&gt; {\n                    this.setDisable(false);\n                });                \n            }\n        });        \n    }\n}\n</code></pre>\n<hr />\n<p><strong>module-info.java</strong></p>\n<pre><code>module sed.lab.hamburgertest {\n    requires javafx.controls;    \n    requires org.kordamp.ikonli.core;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.ikonli.codicons;\n    \n    exports sed.lab.hamburgertest;\n}\n</code></pre>\n<hr />\n<p><strong>Output</strong></p>\n<p><a href=\"https://i.stack.imgur.com/or3tj.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/or3tj.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1686218844,"creation_date":1686209978,"answer_id":76429616,"question_id":76420533,"body_markdown":"As there can be more than one approach for a solution, below is my version :)\r\n\r\nBelow is a demo of a class that does the sliding effect. I believe you can try for the other directions if required.\r\n\r\nIf you need more details about the approach, I have written a [blog](https://blog.e-zest.com/sliding-in-javafx-its-all-about-clipping/) explaining the concept of clipping for sliding (very old blog, but still relatable ;-).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import javafx.animation.KeyFrame;\r\n    import javafx.animation.KeyValue;\r\n    import javafx.animation.Timeline;\r\n    import javafx.application.Application;\r\n    import javafx.event.ActionEvent;\r\n    import javafx.event.EventHandler;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Rectangle2D;\r\n    import javafx.scene.Cursor;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.TreeItem;\r\n    import javafx.scene.control.TreeView;\r\n    import javafx.scene.layout.*;\r\n    import javafx.scene.shape.Rectangle;\r\n    import javafx.stage.Stage;\r\n    import javafx.util.Duration;\r\n    \r\n    public class SlidingPaneDemo extends Application {\r\n        private Rectangle2D boxBounds;\r\n    \r\n        @Override\r\n        public void start(Stage stage) throws Exception {\r\n            HBox root = new HBox();\r\n            buildRoot(root);\r\n            Scene scene = new Scene(root, 800, 400);\r\n            stage.setTitle(&quot;Sliding Pane Demo&quot;);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void buildRoot(HBox root) {\r\n            final TreeView&lt;String&gt; contentInSliding = new TreeView&lt;&gt;();\r\n            TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Root&quot;);\r\n            rootItem.setExpanded(true);\r\n            populateChild(rootItem, 1);\r\n            contentInSliding.setRoot(rootItem);\r\n    \r\n            final SlidingContainer slidingContainer = new SlidingContainer(contentInSliding, &quot;&lt;&lt;&quot;, &quot;Show TreeView&quot;);\r\n            root.getChildren().addAll(slidingContainer, buildContentPane());\r\n        }\r\n    \r\n        private GridPane buildContentPane() {\r\n            GridPane content = new GridPane();\r\n            content.setHgap(5);\r\n            content.setVgap(5);\r\n            content.setPadding(new Insets(5));\r\n            HBox.setHgrow(content, Priority.ALWAYS);\r\n    \r\n            TextField tf = new TextField();\r\n            tf.setMaxWidth(180);\r\n            content.addRow(0, new Label(&quot;Location&quot;), tf);\r\n            StackPane c = new StackPane(new Label(&quot;Content&quot;));\r\n            c.setStyle(&quot;-fx-background-color:#fefefe;-fx-border-color:black;-fx-border-width:1px;&quot;);\r\n            content.add(c, 0, 1, 2, 1);\r\n    \r\n            ColumnConstraints c1 = new ColumnConstraints();\r\n            ColumnConstraints c2 = new ColumnConstraints();\r\n            c2.setHgrow(Priority.ALWAYS);\r\n            content.getColumnConstraints().addAll(c1, c2);\r\n    \r\n            RowConstraints r1 = new RowConstraints();\r\n            RowConstraints r2 = new RowConstraints();\r\n            r2.setVgrow(Priority.ALWAYS);\r\n            content.getRowConstraints().addAll(r1, r2);\r\n            return content;\r\n        }\r\n    \r\n        private void populateChild(TreeItem&lt;String&gt; r, int level) {\r\n            if (level &gt; 3) {\r\n                return;\r\n            }\r\n            for (int i = 0; i &lt; 3; i++) {\r\n                TreeItem&lt;String&gt; itm = new TreeItem&lt;&gt;(&quot;Item &quot; + i + &quot;-&quot; + level);\r\n                itm.setExpanded(true);\r\n                populateChild(itm, level + 1);\r\n                r.getChildren().add(itm);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * Container Pane that slides to hide or show.\r\n         */\r\n        class SlidingContainer extends HBox {\r\n    \r\n            private String hideMessage;\r\n            private String showMessage;\r\n    \r\n            public SlidingContainer(Region node, String hideMessage, String showMessage) {\r\n                this.hideMessage = hideMessage;\r\n                this.showMessage = showMessage;\r\n                StackPane slidingContainer = new StackPane(node);\r\n    \r\n                Label direction = new Label(hideMessage);\r\n                direction.setStyle(&quot;-fx-text-fill:white;&quot;);\r\n                direction.setPrefWidth(Region.USE_COMPUTED_SIZE);\r\n                direction.setMinWidth(Region.USE_PREF_SIZE);\r\n                StackPane bar = new StackPane(direction);\r\n                bar.setMaxWidth(20);\r\n                bar.setMinWidth(20);\r\n                bar.setStyle(&quot;-fx-background-color:#777777;-fx-border-color:black;-fx-border-width:0px 1px;&quot;);\r\n                bar.setCursor(Cursor.HAND);\r\n    \r\n                node.widthProperty().addListener((obs, old, val) -&gt; {\r\n                    if (boxBounds == null) {\r\n                        slidingContainer.setPrefWidth(node.getWidth());\r\n                        boxBounds = new Rectangle2D(0, 0, node.getWidth(), node.getHeight());\r\n                        setClip(slidingContainer, node, bar, direction);\r\n                    }\r\n                });\r\n    \r\n                getChildren().addAll(slidingContainer, bar);\r\n            }\r\n    \r\n            private void setClip(StackPane container, Region node, StackPane bar, Label direction) {\r\n                Rectangle clipRect = new Rectangle();\r\n                clipRect.heightProperty().bind(node.heightProperty());\r\n                clipRect.setWidth(boxBounds.getWidth());\r\n                node.setClip(clipRect);\r\n    \r\n                // Animation for bouncing effect.\r\n                final Timeline timelineBounce = new Timeline();\r\n                timelineBounce.setCycleCount(2);\r\n                timelineBounce.setAutoReverse(true);\r\n                final KeyValue kv1 = new KeyValue(clipRect.widthProperty(), 15);\r\n                final KeyValue kv2 = new KeyValue(container.prefWidthProperty(), 15);\r\n                final KeyFrame kf1 = new KeyFrame(Duration.millis(100), kv1, kv2);\r\n                timelineBounce.getKeyFrames().add(kf1);\r\n                timelineBounce.setOnFinished(e -&gt; {\r\n    \r\n                });\r\n    \r\n                // Event handler to call bouncing effect after the scroll down is finished.\r\n                EventHandler onFinished = new EventHandler&lt;ActionEvent&gt;() {\r\n                    public void handle(ActionEvent t) {\r\n                        direction.setText(showMessage);\r\n                        direction.setStyle(&quot;-fx-text-fill:white;-fx-font-size:16px;&quot;);\r\n                        direction.setRotate(-90);\r\n                        timelineBounce.play();\r\n                    }\r\n                };\r\n    \r\n                Timeline timelineHide = new Timeline();\r\n                timelineHide.setCycleCount(1);\r\n                timelineHide.setAutoReverse(true);\r\n                final KeyValue kvHide1 = new KeyValue(clipRect.widthProperty(), 0);\r\n                final KeyValue kvHide2 = new KeyValue(container.prefWidthProperty(), 0);\r\n                final KeyFrame kfHide = new KeyFrame(Duration.millis(200), onFinished, kvHide1, kvHide2);\r\n                timelineHide.getKeyFrames().add(kfHide);\r\n    \r\n                Timeline timelineShow = new Timeline();\r\n                timelineShow.setCycleCount(1);\r\n                timelineShow.setAutoReverse(true);\r\n                final KeyValue kvShow1 = new KeyValue(clipRect.widthProperty(), boxBounds.getWidth());\r\n                final KeyValue kvShow2 = new KeyValue(container.prefWidthProperty(), boxBounds.getWidth());\r\n                final KeyFrame kfShow = new KeyFrame(Duration.millis(200), kvShow1, kvShow2);\r\n                timelineShow.setOnFinished(e -&gt; {\r\n                    direction.setText(hideMessage);\r\n                    direction.setStyle(&quot;-fx-text-fill:white;&quot;);\r\n                    direction.setRotate(0);\r\n                });\r\n                timelineShow.getKeyFrames().add(kfShow);\r\n    \r\n                bar.setOnMouseClicked(e -&gt; {\r\n                    if (direction.getText().equals(&quot;&lt;&lt;&quot;)) {\r\n                        timelineHide.play();\r\n                    } else {\r\n                        timelineShow.play();\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/cYNtU.gif\r\n","title":"How to slide a VBox open and close in javafx","body":"<p>As there can be more than one approach for a solution, below is my version :)</p>\n<p>Below is a demo of a class that does the sliding effect. I believe you can try for the other directions if required.</p>\n<p>If you need more details about the approach, I have written a <a href=\"https://blog.e-zest.com/sliding-in-javafx-its-all-about-clipping/\" rel=\"nofollow noreferrer\">blog</a> explaining the concept of clipping for sliding (very old blog, but still relatable ;-).</p>\n<p><a href=\"https://i.stack.imgur.com/cYNtU.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYNtU.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.animation.KeyFrame;\nimport javafx.animation.KeyValue;\nimport javafx.animation.Timeline;\nimport javafx.application.Application;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Rectangle2D;\nimport javafx.scene.Cursor;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TreeItem;\nimport javafx.scene.control.TreeView;\nimport javafx.scene.layout.*;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.util.Duration;\n\npublic class SlidingPaneDemo extends Application {\n    private Rectangle2D boxBounds;\n\n    @Override\n    public void start(Stage stage) throws Exception {\n        HBox root = new HBox();\n        buildRoot(root);\n        Scene scene = new Scene(root, 800, 400);\n        stage.setTitle(&quot;Sliding Pane Demo&quot;);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void buildRoot(HBox root) {\n        final TreeView&lt;String&gt; contentInSliding = new TreeView&lt;&gt;();\n        TreeItem&lt;String&gt; rootItem = new TreeItem&lt;&gt;(&quot;Root&quot;);\n        rootItem.setExpanded(true);\n        populateChild(rootItem, 1);\n        contentInSliding.setRoot(rootItem);\n\n        final SlidingContainer slidingContainer = new SlidingContainer(contentInSliding, &quot;&lt;&lt;&quot;, &quot;Show TreeView&quot;);\n        root.getChildren().addAll(slidingContainer, buildContentPane());\n    }\n\n    private GridPane buildContentPane() {\n        GridPane content = new GridPane();\n        content.setHgap(5);\n        content.setVgap(5);\n        content.setPadding(new Insets(5));\n        HBox.setHgrow(content, Priority.ALWAYS);\n\n        TextField tf = new TextField();\n        tf.setMaxWidth(180);\n        content.addRow(0, new Label(&quot;Location&quot;), tf);\n        StackPane c = new StackPane(new Label(&quot;Content&quot;));\n        c.setStyle(&quot;-fx-background-color:#fefefe;-fx-border-color:black;-fx-border-width:1px;&quot;);\n        content.add(c, 0, 1, 2, 1);\n\n        ColumnConstraints c1 = new ColumnConstraints();\n        ColumnConstraints c2 = new ColumnConstraints();\n        c2.setHgrow(Priority.ALWAYS);\n        content.getColumnConstraints().addAll(c1, c2);\n\n        RowConstraints r1 = new RowConstraints();\n        RowConstraints r2 = new RowConstraints();\n        r2.setVgrow(Priority.ALWAYS);\n        content.getRowConstraints().addAll(r1, r2);\n        return content;\n    }\n\n    private void populateChild(TreeItem&lt;String&gt; r, int level) {\n        if (level &gt; 3) {\n            return;\n        }\n        for (int i = 0; i &lt; 3; i++) {\n            TreeItem&lt;String&gt; itm = new TreeItem&lt;&gt;(&quot;Item &quot; + i + &quot;-&quot; + level);\n            itm.setExpanded(true);\n            populateChild(itm, level + 1);\n            r.getChildren().add(itm);\n        }\n    }\n\n    /**\n     * Container Pane that slides to hide or show.\n     */\n    class SlidingContainer extends HBox {\n\n        private String hideMessage;\n        private String showMessage;\n\n        public SlidingContainer(Region node, String hideMessage, String showMessage) {\n            this.hideMessage = hideMessage;\n            this.showMessage = showMessage;\n            StackPane slidingContainer = new StackPane(node);\n\n            Label direction = new Label(hideMessage);\n            direction.setStyle(&quot;-fx-text-fill:white;&quot;);\n            direction.setPrefWidth(Region.USE_COMPUTED_SIZE);\n            direction.setMinWidth(Region.USE_PREF_SIZE);\n            StackPane bar = new StackPane(direction);\n            bar.setMaxWidth(20);\n            bar.setMinWidth(20);\n            bar.setStyle(&quot;-fx-background-color:#777777;-fx-border-color:black;-fx-border-width:0px 1px;&quot;);\n            bar.setCursor(Cursor.HAND);\n\n            node.widthProperty().addListener((obs, old, val) -&gt; {\n                if (boxBounds == null) {\n                    slidingContainer.setPrefWidth(node.getWidth());\n                    boxBounds = new Rectangle2D(0, 0, node.getWidth(), node.getHeight());\n                    setClip(slidingContainer, node, bar, direction);\n                }\n            });\n\n            getChildren().addAll(slidingContainer, bar);\n        }\n\n        private void setClip(StackPane container, Region node, StackPane bar, Label direction) {\n            Rectangle clipRect = new Rectangle();\n            clipRect.heightProperty().bind(node.heightProperty());\n            clipRect.setWidth(boxBounds.getWidth());\n            node.setClip(clipRect);\n\n            // Animation for bouncing effect.\n            final Timeline timelineBounce = new Timeline();\n            timelineBounce.setCycleCount(2);\n            timelineBounce.setAutoReverse(true);\n            final KeyValue kv1 = new KeyValue(clipRect.widthProperty(), 15);\n            final KeyValue kv2 = new KeyValue(container.prefWidthProperty(), 15);\n            final KeyFrame kf1 = new KeyFrame(Duration.millis(100), kv1, kv2);\n            timelineBounce.getKeyFrames().add(kf1);\n            timelineBounce.setOnFinished(e -&gt; {\n\n            });\n\n            // Event handler to call bouncing effect after the scroll down is finished.\n            EventHandler onFinished = new EventHandler&lt;ActionEvent&gt;() {\n                public void handle(ActionEvent t) {\n                    direction.setText(showMessage);\n                    direction.setStyle(&quot;-fx-text-fill:white;-fx-font-size:16px;&quot;);\n                    direction.setRotate(-90);\n                    timelineBounce.play();\n                }\n            };\n\n            Timeline timelineHide = new Timeline();\n            timelineHide.setCycleCount(1);\n            timelineHide.setAutoReverse(true);\n            final KeyValue kvHide1 = new KeyValue(clipRect.widthProperty(), 0);\n            final KeyValue kvHide2 = new KeyValue(container.prefWidthProperty(), 0);\n            final KeyFrame kfHide = new KeyFrame(Duration.millis(200), onFinished, kvHide1, kvHide2);\n            timelineHide.getKeyFrames().add(kfHide);\n\n            Timeline timelineShow = new Timeline();\n            timelineShow.setCycleCount(1);\n            timelineShow.setAutoReverse(true);\n            final KeyValue kvShow1 = new KeyValue(clipRect.widthProperty(), boxBounds.getWidth());\n            final KeyValue kvShow2 = new KeyValue(container.prefWidthProperty(), boxBounds.getWidth());\n            final KeyFrame kfShow = new KeyFrame(Duration.millis(200), kvShow1, kvShow2);\n            timelineShow.setOnFinished(e -&gt; {\n                direction.setText(hideMessage);\n                direction.setStyle(&quot;-fx-text-fill:white;&quot;);\n                direction.setRotate(0);\n            });\n            timelineShow.getKeyFrames().add(kfShow);\n\n            bar.setOnMouseClicked(e -&gt; {\n                if (direction.getText().equals(&quot;&lt;&lt;&quot;)) {\n                    timelineHide.play();\n                } else {\n                    timelineShow.play();\n                }\n            });\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14081780,"reputation":27,"user_id":10172645,"display_name":"Andres Sanchez Mu&#241;oz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686218844,"creation_date":1686120319,"question_id":76420533,"body_markdown":"I&#39;ve got a splitpane with items and children, leftPane, ContentPane and RigthPane. I want to click on leftPane and have the pane closed while ContentPane takes over the space. Upon another click I want the pane to slide open to original position, so ContentPane should shrink back to normal.\r\n\r\nI manage to create the closing effect by setting the &quot;leftPane.setMaxWidth(0);&quot; but somehow I can not revert the process &quot;leftPane.setMaxWidth(200);&quot; on the fadeIn method:\r\n\r\nAny Idea How I can make it work?\r\n\r\n            &lt;SplitPane&gt;\r\n        &lt;items&gt;\r\n            &lt;VBox fx:id=&quot;leftPane&quot; styleClass=&quot;resizable-vbox&quot; onMousePressed=&quot;#handleMousePressed&quot; onMouseReleased=&quot;#handleMouseReleased&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;Label text=&quot;Domain 1&quot; /&gt;\r\n                &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n            &lt;AnchorPane&gt;\r\n                &lt;VBox fx:id=&quot;contentPane&quot; styleClass=&quot;resizable-vbox_content&quot;&gt;\r\n                    &lt;children&gt;\r\n                        &lt;Label text=&quot;Domain 2&quot; /&gt;\r\n                    &lt;/children&gt;\r\n                &lt;/VBox&gt;\r\n            &lt;/AnchorPane&gt;\r\n            &lt;VBox fx:id=&quot;rightPane&quot; styleClass=&quot;resizable-vbox&quot;&gt;\r\n                &lt;children&gt;\r\n                    &lt;Label text=&quot;Domain 3&quot; /&gt;\r\n                &lt;/children&gt;\r\n            &lt;/VBox&gt;\r\n        &lt;/items&gt;\r\n    &lt;/SplitPane&gt;\r\n\r\nIn the controller I&#39;ve got:\r\n\r\n   \r\n\r\n     @FXML\r\n    private void handleMousePressed(MouseEvent event) {\r\n        if (leftPaneVisible) {\r\n            fadeOutVBox();\r\n        } else {\r\n            fadeInVBox();\r\n        }\r\n        leftPaneVisible = !leftPaneVisible;\r\n        adjustCenterPane();\r\n    }\r\n    \r\n     private void fadeInVBox() {\r\n        FadeTransition ft = new FadeTransition(Duration.seconds(0.3));\r\n        ft.setNode(leftPane);\r\n        ft.setFromValue(0);\r\n        ft.setToValue(1);\r\n        ft.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event) {\r\n                leftPane.setMaxWidth(200);// Does not restore VBox size.\r\n                leftPaneVisible = true;                \r\n            }\r\n        });\r\n        ft.play();\r\n        \r\n    }\r\n    \r\n    private void fadeOutVBox() {\r\n        FadeTransition ft = new FadeTransition(Duration.seconds(0.3));\r\n        ft.setNode(leftPane);\r\n        ft.setFromValue(1);\r\n        ft.setToValue(0);\r\n        ft.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\r\n            public void handle(ActionEvent event) {\r\n            \tleftPane.setMaxWidth(0);//gives me the desired effect.\r\n                leftPaneVisible = false;               \r\n            }\r\n        });\r\n        ft.play();\r\n    }\r\n    \r\n    private void adjustCenterPane() {\r\n        double leftPaneWidth = leftPaneVisible ? leftPane.getPrefWidth() : 0;\r\n        double rightPaneWidth = rightPane.isVisible() ? rightPane.getWidth() : 0;\r\n        double parentWidth = contentPane.getParent().getLayoutBounds().getWidth();\r\n        double contentPaneWidth = parentWidth - leftPaneWidth - rightPaneWidth;\r\n    \r\n        contentPane.setPrefWidth(contentPaneWidth);\r\n    }\r\n\r\nand this is my style.css:\r\n\r\n            .resizable-vbox {\r\n        -fx-background-color: lightgreen;\r\n        -fx-padding: 10px;\r\n        -fx-pref-width: 120px;\r\n        -fx-min-width: 10px;\r\n        -fx-max-width: 200px;\r\n    }\r\n\r\n\r\n    .right-pane {\r\n        -fx-background-color: lightgray;\r\n        -fx-padding: 10px;\r\n        -fx-pref-width: 200px;\r\n        -fx-min-width: 100px;\r\n        -fx-max-width: 400px;\r\n    }\r\n    .resizable-vbox_content {\r\n        -fx-background-color: lightgray;\r\n        -fx-padding: 10px;\r\n        -fx-pref-width: 200px;\r\n        -fx-min-width: 100px;\r\n        -fx-max-width: 400px;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to slide a VBox open and close in javafx","body":"<p>I've got a splitpane with items and children, leftPane, ContentPane and RigthPane. I want to click on leftPane and have the pane closed while ContentPane takes over the space. Upon another click I want the pane to slide open to original position, so ContentPane should shrink back to normal.</p>\n<p>I manage to create the closing effect by setting the &quot;leftPane.setMaxWidth(0);&quot; but somehow I can not revert the process &quot;leftPane.setMaxWidth(200);&quot; on the fadeIn method:</p>\n<p>Any Idea How I can make it work?</p>\n<pre><code>        &lt;SplitPane&gt;\n    &lt;items&gt;\n        &lt;VBox fx:id=&quot;leftPane&quot; styleClass=&quot;resizable-vbox&quot; onMousePressed=&quot;#handleMousePressed&quot; onMouseReleased=&quot;#handleMouseReleased&quot;&gt;\n            &lt;children&gt;\n                &lt;Label text=&quot;Domain 1&quot; /&gt;\n            &lt;/children&gt;\n        &lt;/VBox&gt;\n        &lt;AnchorPane&gt;\n            &lt;VBox fx:id=&quot;contentPane&quot; styleClass=&quot;resizable-vbox_content&quot;&gt;\n                &lt;children&gt;\n                    &lt;Label text=&quot;Domain 2&quot; /&gt;\n                &lt;/children&gt;\n            &lt;/VBox&gt;\n        &lt;/AnchorPane&gt;\n        &lt;VBox fx:id=&quot;rightPane&quot; styleClass=&quot;resizable-vbox&quot;&gt;\n            &lt;children&gt;\n                &lt;Label text=&quot;Domain 3&quot; /&gt;\n            &lt;/children&gt;\n        &lt;/VBox&gt;\n    &lt;/items&gt;\n&lt;/SplitPane&gt;\n</code></pre>\n<p>In the controller I've got:</p>\n<pre><code> @FXML\nprivate void handleMousePressed(MouseEvent event) {\n    if (leftPaneVisible) {\n        fadeOutVBox();\n    } else {\n        fadeInVBox();\n    }\n    leftPaneVisible = !leftPaneVisible;\n    adjustCenterPane();\n}\n\n private void fadeInVBox() {\n    FadeTransition ft = new FadeTransition(Duration.seconds(0.3));\n    ft.setNode(leftPane);\n    ft.setFromValue(0);\n    ft.setToValue(1);\n    ft.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event) {\n            leftPane.setMaxWidth(200);// Does not restore VBox size.\n            leftPaneVisible = true;                \n        }\n    });\n    ft.play();\n    \n}\n\nprivate void fadeOutVBox() {\n    FadeTransition ft = new FadeTransition(Duration.seconds(0.3));\n    ft.setNode(leftPane);\n    ft.setFromValue(1);\n    ft.setToValue(0);\n    ft.setOnFinished(new EventHandler&lt;ActionEvent&gt;() {\n        public void handle(ActionEvent event) {\n            leftPane.setMaxWidth(0);//gives me the desired effect.\n            leftPaneVisible = false;               \n        }\n    });\n    ft.play();\n}\n\nprivate void adjustCenterPane() {\n    double leftPaneWidth = leftPaneVisible ? leftPane.getPrefWidth() : 0;\n    double rightPaneWidth = rightPane.isVisible() ? rightPane.getWidth() : 0;\n    double parentWidth = contentPane.getParent().getLayoutBounds().getWidth();\n    double contentPaneWidth = parentWidth - leftPaneWidth - rightPaneWidth;\n\n    contentPane.setPrefWidth(contentPaneWidth);\n}\n</code></pre>\n<p>and this is my style.css:</p>\n<pre><code>        .resizable-vbox {\n    -fx-background-color: lightgreen;\n    -fx-padding: 10px;\n    -fx-pref-width: 120px;\n    -fx-min-width: 10px;\n    -fx-max-width: 200px;\n}\n\n\n.right-pane {\n    -fx-background-color: lightgray;\n    -fx-padding: 10px;\n    -fx-pref-width: 200px;\n    -fx-min-width: 100px;\n    -fx-max-width: 400px;\n}\n.resizable-vbox_content {\n    -fx-background-color: lightgray;\n    -fx-padding: 10px;\n    -fx-pref-width: 200px;\n    -fx-min-width: 100px;\n    -fx-max-width: 400px;\n}\n</code></pre>\n"},{"tags":["java","authentication","security","weblogic"],"owner":{"account_id":20675674,"reputation":25,"user_id":15180352,"display_name":"DangTri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686218519,"creation_date":1686218519,"question_id":76430720,"body_markdown":"Because of my specific use case, I must find a way to override the current Subject in the WebLogic.\r\n\r\nI have found a way by using SecurityManager.pushSubject(&lt; Kernel Identity &gt;, &lt; My subject &gt;). My custom subject is implemented the same as the normal subject when basic login in Weblogic, it contains a set of user and group principals.\r\n\r\nMy question is does it safe to override the WebLogic SecurityManager subject, does it have any security risk with this approach?","title":"Security when overriding current subject in weblogic.security.service.SecurityManager","body":"<p>Because of my specific use case, I must find a way to override the current Subject in the WebLogic.</p>\n<p>I have found a way by using SecurityManager.pushSubject(&lt; Kernel Identity &gt;, &lt; My subject &gt;). My custom subject is implemented the same as the normal subject when basic login in Weblogic, it contains a set of user and group principals.</p>\n<p>My question is does it safe to override the WebLogic SecurityManager subject, does it have any security risk with this approach?</p>\n"},{"tags":["java","redis","redisson"],"owner":{"account_id":16570569,"reputation":65,"user_id":11973836,"display_name":"fjy8018"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686218510,"creation_date":1686216890,"question_id":76430479,"body_markdown":"&quot;I&#39;m using Redisson version 3.19.1 and have two ZSETs to store lists of read and unread messages. When a message is read, it needs to be moved from the unread list to the read list. To ensure atomicity, I&#39;m using RBatch. \r\n\r\n```java\r\n\r\n\t\tRBatch batch = redisson.createBatch(getBatchConfig());\r\n\r\n\t\tRScoredSortedSetAsync&lt;Long&gt; userUnreadList = batch.getScoredSortedSet(UNREAD_MSG_PREFIX + cacheKey, new JsonJacksonCodec());\r\n\t\tRScoredSortedSetAsync&lt;Long&gt; userReadList = batch.getScoredSortedSet(READ_MSG_PREFIX + cacheKey, new JsonJacksonCodec());\r\n\t\t\r\n\r\n\t\tfor (Long msgId : command.getMsgId()) {\r\n\t\t\tuserUnreadList.getScoreAsync(msgId).thenAcceptAsync(score -&gt; {\r\n\t\t\t\tlog.info(&quot;cache update&quot;);\r\n\t\t\t\tuserReadList.addAsync(score, msgId);\r\n\t\t\t\tuserUnreadList.removeAsync(msgId);\r\n\t\t\t}).exceptionallyAsync(ex -&gt; {\r\n\t\t\t\tlog.error(&quot;cache update error&quot;, ex);\r\n\t\t\t\treturn null;\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tbatch.execute();\r\n\t\t} catch (Exception e) {\r\n\t\t\tlog.error(&quot;cache write error&quot;, e);\r\n\t\t\tbatch.discard();\r\n\t\t\tthrow e;\r\n\t\t}\r\n\r\n```\r\n\r\nAfter running the code, I found that the `thenAcceptAsync` and `exceptionallyAsync` methods were not executed, and there was no output in the log for &quot;cache update&quot; or &quot;cache update error&quot;. However, monitoring the Redis console showed that the client read the two ZSETs. \r\n\r\nWhat could be causing the `thenAcceptAsync` method to not execute?&quot;","title":"Redisson RBatch not executing thenAcceptAsync method","body":"<p>&quot;I'm using Redisson version 3.19.1 and have two ZSETs to store lists of read and unread messages. When a message is read, it needs to be moved from the unread list to the read list. To ensure atomicity, I'm using RBatch.</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        RBatch batch = redisson.createBatch(getBatchConfig());\n\n        RScoredSortedSetAsync&lt;Long&gt; userUnreadList = batch.getScoredSortedSet(UNREAD_MSG_PREFIX + cacheKey, new JsonJacksonCodec());\n        RScoredSortedSetAsync&lt;Long&gt; userReadList = batch.getScoredSortedSet(READ_MSG_PREFIX + cacheKey, new JsonJacksonCodec());\n        \n\n        for (Long msgId : command.getMsgId()) {\n            userUnreadList.getScoreAsync(msgId).thenAcceptAsync(score -&gt; {\n                log.info(&quot;cache update&quot;);\n                userReadList.addAsync(score, msgId);\n                userUnreadList.removeAsync(msgId);\n            }).exceptionallyAsync(ex -&gt; {\n                log.error(&quot;cache update error&quot;, ex);\n                return null;\n            });\n        }\n\n        try {\n            batch.execute();\n        } catch (Exception e) {\n            log.error(&quot;cache write error&quot;, e);\n            batch.discard();\n            throw e;\n        }\n\n</code></pre>\n<p>After running the code, I found that the <code>thenAcceptAsync</code> and <code>exceptionallyAsync</code> methods were not executed, and there was no output in the log for &quot;cache update&quot; or &quot;cache update error&quot;. However, monitoring the Redis console showed that the client read the two ZSETs.</p>\n<p>What could be causing the <code>thenAcceptAsync</code> method to not execute?&quot;</p>\n"},{"tags":["java","html","button"],"answers":[{"tags":[],"owner":{"account_id":251690,"reputation":695,"user_id":1014752,"display_name":"Ramsay Domloge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686218446,"creation_date":1686133335,"answer_id":76422273,"question_id":76420124,"body_markdown":"I think you are talking about a Java Applet.\r\n\r\nHowever, Applets have fallen out of favour as a method for delivering Java applications and I would strongly recommend you consider another approach. You will hit a lot of hurdles with poor browser support, multiple dialogues warning you of security issues and your users will need to install Java (and make sure they add browser extensions). We have been going through a process of converting all our applets to modern React/Angular applications and I&#39;m glad to see the back of it.\r\n\r\nSo... I guess you are trying to use web pages to deliver Java applications to users&#39; computers because you (a) want to write in Java and (b) appreciate that the web is the defacto way to give the world access to your apps...?\r\n\r\nIf so, I would accept that applets are dead and get your users to download your app, either as a runnable JAR, or a zip containing the JARs, maybe the JRE, maybe some shell scripts to run it, etc.\r\n\r\nFor a Swing launcher, try this:\r\n\r\n    import javax.swing.*;\r\n    import java.awt.*;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    \r\n    public class MainFrame extends JFrame {\r\n        private JButton[] buttons;\r\n    \r\n        public MainFrame() {\r\n            setTitle(&quot;Game Launcher&quot;);\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(400, 300);\r\n            setLocationRelativeTo(null);\r\n    \r\n            initializeButtons();\r\n            createLayout();\r\n    \r\n            setVisible(true);\r\n        }\r\n    \r\n        private void initializeButtons() {\r\n            buttons = new JButton[4];\r\n            for (int i = 0; i &lt; buttons.length; i++) {\r\n                buttons[i] = new JButton(&quot;Start game &quot; + (i + 1));\r\n                final int gameNumber = i + 1;\r\n                buttons[i].addActionListener(new ActionListener() {\r\n                    @Override\r\n                    public void actionPerformed(ActionEvent e) {\r\n                        launchGame(gameNumber);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    \r\n        private void createLayout() {\r\n            setLayout(new GridLayout(2, 2));\r\n    \r\n            for (JButton button : buttons) {\r\n                add(button);\r\n            }\r\n        }\r\n    \r\n        private void launchGame(int gameNumber) {\r\n            // Read configuration from file and pass it to the Game class\r\n            String configFilePath = &quot;game&quot; + gameNumber + &quot;.config&quot;;\r\n            // Instantiate the Game class with the configuration\r\n            Game game = new Game(configFilePath);\r\n            // Start the game\r\n            game.start();\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new MainFrame();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n","title":"Opening java programs directly from an html page","body":"<p>I think you are talking about a Java Applet.</p>\n<p>However, Applets have fallen out of favour as a method for delivering Java applications and I would strongly recommend you consider another approach. You will hit a lot of hurdles with poor browser support, multiple dialogues warning you of security issues and your users will need to install Java (and make sure they add browser extensions). We have been going through a process of converting all our applets to modern React/Angular applications and I'm glad to see the back of it.</p>\n<p>So... I guess you are trying to use web pages to deliver Java applications to users' computers because you (a) want to write in Java and (b) appreciate that the web is the defacto way to give the world access to your apps...?</p>\n<p>If so, I would accept that applets are dead and get your users to download your app, either as a runnable JAR, or a zip containing the JARs, maybe the JRE, maybe some shell scripts to run it, etc.</p>\n<p>For a Swing launcher, try this:</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\n\npublic class MainFrame extends JFrame {\n    private JButton[] buttons;\n\n    public MainFrame() {\n        setTitle(&quot;Game Launcher&quot;);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(400, 300);\n        setLocationRelativeTo(null);\n\n        initializeButtons();\n        createLayout();\n\n        setVisible(true);\n    }\n\n    private void initializeButtons() {\n        buttons = new JButton[4];\n        for (int i = 0; i &lt; buttons.length; i++) {\n            buttons[i] = new JButton(&quot;Start game &quot; + (i + 1));\n            final int gameNumber = i + 1;\n            buttons[i].addActionListener(new ActionListener() {\n                @Override\n                public void actionPerformed(ActionEvent e) {\n                    launchGame(gameNumber);\n                }\n            });\n        }\n    }\n\n    private void createLayout() {\n        setLayout(new GridLayout(2, 2));\n\n        for (JButton button : buttons) {\n            add(button);\n        }\n    }\n\n    private void launchGame(int gameNumber) {\n        // Read configuration from file and pass it to the Game class\n        String configFilePath = &quot;game&quot; + gameNumber + &quot;.config&quot;;\n        // Instantiate the Game class with the configuration\n        Game game = new Game(configFilePath);\n        // Start the game\n        game.start();\n    }\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new MainFrame();\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28748682,"reputation":1,"user_id":22017211,"display_name":"Bonk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686218446,"creation_date":1686115882,"question_id":76420124,"body_markdown":"I have created an html based page that contains buttons. On-click I want the buttons to open up java programs or games designed using swing but purely java. How can I do this? I will be doing this on one pc so access to the files that contain the java code will be available. This is my current html code and how I am trying to open up the java programs: \r\n\r\n```\r\n&lt;script&gt;\r\n    function openGame(game) {\r\n      // Replace the URLs below with the actual file paths or URLs of your Java programs\r\n      switch (game) {\r\n        case &#39;game1&#39;:\r\n          window.open(&quot;D:\\Coding 2023\\TicTacToe&quot;);\r\n          break;\r\n        case &#39;game2&#39;:\r\n          window.open(&#39;path/to/game2.java&#39;);\r\n          break;\r\n        case &#39;game3&#39;:\r\n          window.open(&#39;path/to/game3.java&#39;, &#39;_blank&#39;);\r\n          break;\r\n        case &#39;game4&#39;:\r\n          window.open(&#39;path/to/game4.java&#39;, &#39;_blank&#39;);\r\n          break;\r\n        default:\r\n          console.error(&#39;Invalid game selected.&#39;);\r\n      }\r\n    }\r\n  &lt;/script&gt;\r\n&lt;/body&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\nI want the buttons to open java programs","title":"Opening java programs directly from an html page","body":"<p>I have created an html based page that contains buttons. On-click I want the buttons to open up java programs or games designed using swing but purely java. How can I do this? I will be doing this on one pc so access to the files that contain the java code will be available. This is my current html code and how I am trying to open up the java programs:</p>\n<pre><code>&lt;script&gt;\n    function openGame(game) {\n      // Replace the URLs below with the actual file paths or URLs of your Java programs\n      switch (game) {\n        case 'game1':\n          window.open(&quot;D:\\Coding 2023\\TicTacToe&quot;);\n          break;\n        case 'game2':\n          window.open('path/to/game2.java');\n          break;\n        case 'game3':\n          window.open('path/to/game3.java', '_blank');\n          break;\n        case 'game4':\n          window.open('path/to/game4.java', '_blank');\n          break;\n        default:\n          console.error('Invalid game selected.');\n      }\n    }\n  &lt;/script&gt;\n&lt;/body&gt;\n\n&lt;/html&gt;\n</code></pre>\n<p>I want the buttons to open java programs</p>\n"},{"tags":["java","spring","spring-boot","redirect","spring-security"],"owner":{"account_id":21887534,"reputation":31,"user_id":16174994,"display_name":"pablo99"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686218183,"creation_date":1686217878,"question_id":76430623,"body_markdown":"The /login page throws me ERR_TOO_MANY_REDIRECTS every time. I&#39;ve looked through almost everything.\r\n\r\n\r\nbuild.gradle:\r\n```\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n\r\ngroup = &#39;org.example&#39;\r\nversion = &#39;0.0.1-SNAPSHOT&#39;\r\nsourceCompatibility = &#39;17&#39;\r\n\r\nrepositories {\r\n\tmavenCentral()\r\n}\r\n\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n//\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\truntimeOnly &#39;com.h2database:h2&#39;\r\n//\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n//\ttestImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\timplementation group: &#39;javax.persistence&#39;, name: &#39;javax.persistence-api&#39;, version: &#39;2.2&#39;\r\n\timplementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2&#39;\r\n\r\n\t// lombok\r\n\tcompileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n\tannotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n\ttestCompileOnly &#39;org.projectlombok:lombok:1.18.28&#39;\r\n\ttestAnnotationProcessor &#39;org.projectlombok:lombok:1.18.28&#39;\r\n\r\n\t// spring security\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n\t//  Temporary explicit version to fix Thymeleaf bug\r\n\timplementation &#39;org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE&#39;\r\n\timplementation &#39;org.springframework.security:spring-security-test&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n\tuseJUnitPlatform()\r\n}\r\n\r\n```\r\n\r\norg.example.demo.entity.User:\r\n```\r\npackage org.example.demo.entity;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\nimport org.springframework.security.core.GrantedAuthority;\r\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\n\r\nimport jakarta.persistence.*;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.List;\r\n\r\n@Entity\r\n@Table(name = &quot;User&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\npublic class User implements UserDetails {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;id&quot;)\r\n    private Long id;\r\n\r\n    @Column(name = &quot;email&quot;, unique = true)\r\n    private String email;\r\n\r\n    @Column(name = &quot;password_hash&quot;)\r\n    private String passwordHash;\r\n\r\n\r\n    @Override\r\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\r\n\r\n        if (isAdmin()) {\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\r\n        } else {\r\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\r\n        }\r\n\r\n        return authorities;\r\n    }\r\n\r\n    private boolean isAdmin() {\r\n        return true;\r\n        // TODO check if user is admin\r\n    }\r\n\r\n    @Override\r\n    public String getPassword() {\r\n        return passwordHash;\r\n    }\r\n\r\n    @Override\r\n    public String getUsername() {\r\n        return email;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isAccountNonLocked() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isCredentialsNonExpired() {\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean isEnabled() {\r\n        return true;\r\n    }\r\n}\r\n\r\n```\r\n\r\norg.example.demo.securingweb.WebSecurityConfig:\r\n```\r\npackage org.example.demo.securingweb;\r\n\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.core.userdetails.User;\r\nimport org.springframework.security.core.userdetails.UserDetails;\r\nimport org.springframework.security.core.userdetails.UserDetailsService;\r\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class WebSecurityConfig {\r\n\r\n    @Bean\r\n    public PasswordEncoder passwordEncoder() {\r\n        return new BCryptPasswordEncoder();\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n        http\r\n                .authorizeHttpRequests((requests) -&gt; requests\r\n                        .requestMatchers(&quot;/&quot;).permitAll()\r\n                        .anyRequest().authenticated()\r\n                )\r\n                .formLogin((form) -&gt; form\r\n                        .loginPage(&quot;/login&quot;)\r\n                        .permitAll()\r\n                )\r\n                .logout((logout) -&gt; logout.permitAll());\r\n\r\n        return http.build();\r\n    }\r\n\r\n    @Bean\r\n    public UserDetailsService userDetailsService() {\r\n        UserDetails user =\r\n                User.withDefaultPasswordEncoder()\r\n                        .username(&quot;user&quot;)\r\n                        .password(&quot;password&quot;)\r\n                        .roles(&quot;USER&quot;)\r\n                        .build();\r\n\r\n        return new InMemoryUserDetailsManager(user);\r\n    }\r\n}\r\n```\r\n\r\norg.example.demo.repository.UserRepository:\r\n```\r\npackage org.example.demo.repository;\r\n\r\nimport org.example.demo.entity.User;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nimport java.util.Optional;\r\n\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n    Optional&lt;User&gt; findByEmail(String email);\r\n}\r\n\r\n```\r\n\r\norg.example.demo.dto.UserDTO:\r\n```\r\npackage org.example.demo.dto;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\n@Getter\r\n@Setter\r\npublic class UserDTO {\r\n    private String email;\r\n}\r\n\r\n```\r\n\r\norg.example.demo.service.UserService:\r\n```\r\npackage org.example.demo.service;\r\n\r\nimport org.example.demo.dto.UserDTO;\r\nimport org.example.demo.entity.User;\r\n\r\nimport java.util.List;\r\n\r\npublic interface UserService {\r\n    User createUser(UserDTO userDTO, String password);\r\n    User changePassword(UserDTO userDTO, String newPassword);\r\n    void deleteUser(Long userId);\r\n    User getUserByEmail(String email);\r\n    List&lt;User&gt; getAllUsers();\r\n}\r\n\r\n```\r\n\r\norg.example.demo.service.UserServiceImpl:\r\n```\r\npackage org.example.demo.service;\r\n\r\nimport org.example.demo.dto.UserDTO;\r\nimport org.example.demo.entity.User;\r\nimport org.example.demo.repository.UserRepository;\r\nimport org.springframework.security.crypto.password.PasswordEncoder;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\n@Service\r\n@Transactional\r\npublic class UserServiceImpl implements UserService {\r\n\r\n    private final UserRepository userRepository;\r\n    private final PasswordEncoder passwordEncoder;\r\n\r\n    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {\r\n        this.userRepository = userRepository;\r\n        this.passwordEncoder = passwordEncoder;\r\n    }\r\n\r\n    @Override\r\n    public User createUser(UserDTO userDTO, String password) {\r\n        User user = new User();\r\n        user.setEmail(userDTO.getEmail());\r\n        user.setPasswordHash(passwordEncoder.encode(password));\r\n        return userRepository.save(user);\r\n    }\r\n\r\n    @Override\r\n    public User changePassword(UserDTO userDTO, String newPassword) {\r\n        User user = getUserByEmail(userDTO.getEmail());\r\n        if (user != null) {\r\n            user.setPasswordHash(passwordEncoder.encode(newPassword));\r\n            return userRepository.save(user);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;User not found with email: &quot; + userDTO.getEmail());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void deleteUser(Long userId) {\r\n        userRepository.deleteById(userId);\r\n    }\r\n\r\n    @Override\r\n    public User getUserByEmail(String email) {\r\n        Optional&lt;User&gt; userOptional = userRepository.findByEmail(email);\r\n        return userOptional.orElse(null);\r\n    }\r\n\r\n\r\n    @Override\r\n    @Transactional(readOnly = true)\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userRepository.findAll();\r\n    }\r\n}\r\n\r\n```\r\n\r\norg.example.demo.controller.UserController:\r\n```\r\npackage org.example.demo.controller;\r\n\r\nimport org.example.demo.dto.UserDTO;\r\nimport org.example.demo.entity.User;\r\nimport org.example.demo.service.UserService;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserController {\r\n\r\n    private final UserService userService;\r\n\r\n    @Autowired\r\n    public UserController(UserService userService) {\r\n        this.userService = userService;\r\n    }\r\n\r\n    @GetMapping\r\n    public List&lt;User&gt; getAllUsers() {\r\n        return userService.getAllUsers();\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody UserDTO userDTO, @RequestParam String password) {\r\n        User user = userService.createUser(userDTO, password);\r\n        return ResponseEntity.status(HttpStatus.CREATED).body(user);\r\n    }\r\n\r\n    @PutMapping(&quot;/change-password&quot;)\r\n    public ResponseEntity&lt;User&gt; changePassword(@RequestBody UserDTO userDTO, @RequestParam String newPassword) {\r\n        User user = userService.changePassword(userDTO, newPassword);\r\n        return ResponseEntity.ok(user);\r\n    }\r\n\r\n    @DeleteMapping(&quot;/{userId}&quot;)\r\n    public ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;userId&quot;) Long userId) {\r\n        userService.deleteUser(userId);\r\n        return ResponseEntity.noContent().build();\r\n    }\r\n\r\n    @ExceptionHandler\r\n    public ResponseEntity&lt;String&gt; handleException(Exception ex) {\r\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n","title":"Spring Security /login page: ERR_TOO_MANY_REDIRECTS","body":"<p>The /login page throws me ERR_TOO_MANY_REDIRECTS every time. I've looked through almost everything.</p>\n<p>build.gradle:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n\ngroup = 'org.example'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '17'\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n//  implementation 'org.springframework.boot:spring-boot-starter-web'\n//  implementation 'org.springframework.boot:spring-boot-starter-security'\n    runtimeOnly 'com.h2database:h2'\n//  testImplementation 'org.springframework.boot:spring-boot-starter-test'\n//  testImplementation 'org.springframework.security:spring-security-test'\n    implementation group: 'javax.persistence', name: 'javax.persistence-api', version: '2.2'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.0.2'\n\n    // lombok\n    compileOnly 'org.projectlombok:lombok:1.18.28'\n    annotationProcessor 'org.projectlombok:lombok:1.18.28'\n    testCompileOnly 'org.projectlombok:lombok:1.18.28'\n    testAnnotationProcessor 'org.projectlombok:lombok:1.18.28'\n\n    // spring security\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    //  Temporary explicit version to fix Thymeleaf bug\n    implementation 'org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE'\n    implementation 'org.springframework.security:spring-security-test'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n\n</code></pre>\n<p>org.example.demo.entity.User:</p>\n<pre><code>package org.example.demo.entity;\n\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport jakarta.persistence.*;\n\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.List;\n\n@Entity\n@Table(name = &quot;User&quot;)\n@Getter\n@Setter\n@ToString\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private Long id;\n\n    @Column(name = &quot;email&quot;, unique = true)\n    private String email;\n\n    @Column(name = &quot;password_hash&quot;)\n    private String passwordHash;\n\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        List&lt;GrantedAuthority&gt; authorities = new ArrayList&lt;&gt;();\n\n        if (isAdmin()) {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_ADMIN&quot;));\n        } else {\n            authorities.add(new SimpleGrantedAuthority(&quot;ROLE_USER&quot;));\n        }\n\n        return authorities;\n    }\n\n    private boolean isAdmin() {\n        return true;\n        // TODO check if user is admin\n    }\n\n    @Override\n    public String getPassword() {\n        return passwordHash;\n    }\n\n    @Override\n    public String getUsername() {\n        return email;\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isEnabled() {\n        return true;\n    }\n}\n\n</code></pre>\n<p>org.example.demo.securingweb.WebSecurityConfig:</p>\n<pre><code>package org.example.demo.securingweb;\n\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.core.userdetails.User;\nimport org.springframework.security.core.userdetails.UserDetails;\nimport org.springframework.security.core.userdetails.UserDetailsService;\nimport org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.security.provisioning.InMemoryUserDetailsManager;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class WebSecurityConfig {\n\n    @Bean\n    public PasswordEncoder passwordEncoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n                .authorizeHttpRequests((requests) -&gt; requests\n                        .requestMatchers(&quot;/&quot;).permitAll()\n                        .anyRequest().authenticated()\n                )\n                .formLogin((form) -&gt; form\n                        .loginPage(&quot;/login&quot;)\n                        .permitAll()\n                )\n                .logout((logout) -&gt; logout.permitAll());\n\n        return http.build();\n    }\n\n    @Bean\n    public UserDetailsService userDetailsService() {\n        UserDetails user =\n                User.withDefaultPasswordEncoder()\n                        .username(&quot;user&quot;)\n                        .password(&quot;password&quot;)\n                        .roles(&quot;USER&quot;)\n                        .build();\n\n        return new InMemoryUserDetailsManager(user);\n    }\n}\n</code></pre>\n<p>org.example.demo.repository.UserRepository:</p>\n<pre><code>package org.example.demo.repository;\n\nimport org.example.demo.entity.User;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\nimport java.util.Optional;\n\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n    Optional&lt;User&gt; findByEmail(String email);\n}\n\n</code></pre>\n<p>org.example.demo.dto.UserDTO:</p>\n<pre><code>package org.example.demo.dto;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class UserDTO {\n    private String email;\n}\n\n</code></pre>\n<p>org.example.demo.service.UserService:</p>\n<pre><code>package org.example.demo.service;\n\nimport org.example.demo.dto.UserDTO;\nimport org.example.demo.entity.User;\n\nimport java.util.List;\n\npublic interface UserService {\n    User createUser(UserDTO userDTO, String password);\n    User changePassword(UserDTO userDTO, String newPassword);\n    void deleteUser(Long userId);\n    User getUserByEmail(String email);\n    List&lt;User&gt; getAllUsers();\n}\n\n</code></pre>\n<p>org.example.demo.service.UserServiceImpl:</p>\n<pre><code>package org.example.demo.service;\n\nimport org.example.demo.dto.UserDTO;\nimport org.example.demo.entity.User;\nimport org.example.demo.repository.UserRepository;\nimport org.springframework.security.crypto.password.PasswordEncoder;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport java.util.List;\nimport java.util.Optional;\n\n@Service\n@Transactional\npublic class UserServiceImpl implements UserService {\n\n    private final UserRepository userRepository;\n    private final PasswordEncoder passwordEncoder;\n\n    public UserServiceImpl(UserRepository userRepository, PasswordEncoder passwordEncoder) {\n        this.userRepository = userRepository;\n        this.passwordEncoder = passwordEncoder;\n    }\n\n    @Override\n    public User createUser(UserDTO userDTO, String password) {\n        User user = new User();\n        user.setEmail(userDTO.getEmail());\n        user.setPasswordHash(passwordEncoder.encode(password));\n        return userRepository.save(user);\n    }\n\n    @Override\n    public User changePassword(UserDTO userDTO, String newPassword) {\n        User user = getUserByEmail(userDTO.getEmail());\n        if (user != null) {\n            user.setPasswordHash(passwordEncoder.encode(newPassword));\n            return userRepository.save(user);\n        } else {\n            throw new IllegalArgumentException(&quot;User not found with email: &quot; + userDTO.getEmail());\n        }\n    }\n\n    @Override\n    public void deleteUser(Long userId) {\n        userRepository.deleteById(userId);\n    }\n\n    @Override\n    public User getUserByEmail(String email) {\n        Optional&lt;User&gt; userOptional = userRepository.findByEmail(email);\n        return userOptional.orElse(null);\n    }\n\n\n    @Override\n    @Transactional(readOnly = true)\n    public List&lt;User&gt; getAllUsers() {\n        return userRepository.findAll();\n    }\n}\n\n</code></pre>\n<p>org.example.demo.controller.UserController:</p>\n<pre><code>package org.example.demo.controller;\n\nimport org.example.demo.dto.UserDTO;\nimport org.example.demo.entity.User;\nimport org.example.demo.service.UserService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserController {\n\n    private final UserService userService;\n\n    @Autowired\n    public UserController(UserService userService) {\n        this.userService = userService;\n    }\n\n    @GetMapping\n    public List&lt;User&gt; getAllUsers() {\n        return userService.getAllUsers();\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public ResponseEntity&lt;User&gt; createUser(@RequestBody UserDTO userDTO, @RequestParam String password) {\n        User user = userService.createUser(userDTO, password);\n        return ResponseEntity.status(HttpStatus.CREATED).body(user);\n    }\n\n    @PutMapping(&quot;/change-password&quot;)\n    public ResponseEntity&lt;User&gt; changePassword(@RequestBody UserDTO userDTO, @RequestParam String newPassword) {\n        User user = userService.changePassword(userDTO, newPassword);\n        return ResponseEntity.ok(user);\n    }\n\n    @DeleteMapping(&quot;/{userId}&quot;)\n    public ResponseEntity&lt;String&gt; deleteUser(@PathVariable(&quot;userId&quot;) Long userId) {\n        userService.deleteUser(userId);\n        return ResponseEntity.noContent().build();\n    }\n\n    @ExceptionHandler\n    public ResponseEntity&lt;String&gt; handleException(Exception ex) {\n        return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(&quot;An error occurred&quot;);\n    }\n}\n\n</code></pre>\n"},{"tags":["java","opencv","roi"],"answers":[{"tags":[],"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686218106,"creation_date":1686218106,"answer_id":76430662,"question_id":76424073,"body_markdown":"The violated assertion is:\r\n\r\n```\r\n(\r\n    0 &lt;= _colRange.start &amp;&amp;\r\n    _colRange.start &lt;= _colRange.end &amp;&amp;\r\n    _colRange.end &lt;= m.cols\r\n)\r\n```\r\n\r\nPossibilities:\r\n- Your ROI has negative size (start &gt; end)\r\n- your ROI is out of bounds of the parent Mat\r\n- the parent Mat has zero size (and the ROI does not)\r\n\r\nYou fix that by figuring out which it is, and then figuring out why that is.","title":"error occurred when binarization based ROI algorithm with OpenCV in JAVA","body":"<p>The violated assertion is:</p>\n<pre><code>(\n    0 &lt;= _colRange.start &amp;&amp;\n    _colRange.start &lt;= _colRange.end &amp;&amp;\n    _colRange.end &lt;= m.cols\n)\n</code></pre>\n<p>Possibilities:</p>\n<ul>\n<li>Your ROI has negative size (start &gt; end)</li>\n<li>your ROI is out of bounds of the parent Mat</li>\n<li>the parent Mat has zero size (and the ROI does not)</li>\n</ul>\n<p>You fix that by figuring out which it is, and then figuring out why that is.</p>\n"}],"owner":{"account_id":17940917,"reputation":25,"user_id":13036199,"display_name":"biotech7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430662,"answer_count":1,"score":0,"last_activity_date":1686218106,"creation_date":1686146034,"question_id":76424073,"body_markdown":"when implementing ROI algorithm to binarize images in JAVA by using OpenCV，exception threw. can anybody help me figure out bugs among my code snippets?\r\n\r\n```\r\nSystem.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\r\nString filename = &quot;path/to/image&quot;;\r\nMat image = Imgcodecs.imread(filename, Imgcodecs.IMREAD_COLOR);\r\nint ch = 255, cw = 255; //---small block\r\nint h = image.rows(), w = image.cols(); //---height vs width\r\nMat gray = new Mat();\r\nImgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY); //--to gray\r\n\r\n//-----handle every small block\r\nfor (int row = 0; row &lt; h; row += ch) {\r\n    for (int col = 0; col &lt; w; col += cw) {\r\n        Rect roi_rect = new Rect(col, row, cw, ch); //------small block:rectangle\r\n        Mat roi = new Mat(gray, roi_rect);\r\n        Imgproc.adaptiveThreshold(roi, roi, 255, Imgproc.ADAPTIVE_THRESH_GAUSSIAN_C, Imgproc.THRESH_BINARY, 127, 10); //----binarization\r\n        roi.copyTo(gray.submat(roi_rect));//----replace original block\r\n    }\r\n}\r\n\r\nHighGui.imshow(&quot;binary&quot;, gray); \r\n```\r\n\r\nexception messages as follows:\r\n\r\n`OpenCV(4.7.0-dev) Error: Assertion failed (0 &lt;= _colRange.start &amp;&amp; _colRange.start &lt;= _colRange.end &amp;&amp; _colRange.end &lt;= m.cols) in cv::Mat::Mat, file C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\core\\src\\matrix.cpp, line 776`\r\n\r\n`Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0-dev) C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\core\\src\\matrix.cpp:776: error: (-215:Assertion failed) 0 &lt;= _colRange.start &amp;&amp; _colRange.start &lt;= _colRange.end &amp;&amp; _colRange.end &lt;= m.cols in function &#39;cv::Mat::Mat&#39;]`\r\n\r\nIt threw exception at `Mat roi = new Mat(gray, roi_rect)`. What&#39;s wrong with this?\r\n","title":"error occurred when binarization based ROI algorithm with OpenCV in JAVA","body":"<p>when implementing ROI algorithm to binarize images in JAVA by using OpenCV，exception threw. can anybody help me figure out bugs among my code snippets?</p>\n<pre><code>System.loadLibrary(org.opencv.core.Core.NATIVE_LIBRARY_NAME);\nString filename = &quot;path/to/image&quot;;\nMat image = Imgcodecs.imread(filename, Imgcodecs.IMREAD_COLOR);\nint ch = 255, cw = 255; //---small block\nint h = image.rows(), w = image.cols(); //---height vs width\nMat gray = new Mat();\nImgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY); //--to gray\n\n//-----handle every small block\nfor (int row = 0; row &lt; h; row += ch) {\n    for (int col = 0; col &lt; w; col += cw) {\n        Rect roi_rect = new Rect(col, row, cw, ch); //------small block:rectangle\n        Mat roi = new Mat(gray, roi_rect);\n        Imgproc.adaptiveThreshold(roi, roi, 255, Imgproc.ADAPTIVE_THRESH_GAUSSIAN_C, Imgproc.THRESH_BINARY, 127, 10); //----binarization\n        roi.copyTo(gray.submat(roi_rect));//----replace original block\n    }\n}\n\nHighGui.imshow(&quot;binary&quot;, gray); \n</code></pre>\n<p>exception messages as follows:</p>\n<p><code>OpenCV(4.7.0-dev) Error: Assertion failed (0 &lt;= _colRange.start &amp;&amp; _colRange.start &lt;= _colRange.end &amp;&amp; _colRange.end &lt;= m.cols) in cv::Mat::Mat, file C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\core\\src\\matrix.cpp, line 776</code></p>\n<p><code>Exception in thread &quot;main&quot; CvException [org.opencv.core.CvException: cv::Exception: OpenCV(4.7.0-dev) C:\\GHA-OCV-2\\_work\\ci-gha-workflow\\ci-gha-workflow\\opencv\\modules\\core\\src\\matrix.cpp:776: error: (-215:Assertion failed) 0 &lt;= _colRange.start &amp;&amp; _colRange.start &lt;= _colRange.end &amp;&amp; _colRange.end &lt;= m.cols in function 'cv::Mat::Mat']</code></p>\n<p>It threw exception at <code>Mat roi = new Mat(gray, roi_rect)</code>. What's wrong with this?</p>\n"},{"tags":["java","jaxb","xsl-fo","apache-fop"],"answers":[{"tags":[],"owner":{"account_id":28779188,"reputation":11,"user_id":22041141,"display_name":"jlt"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686218098,"creation_date":1686218098,"answer_id":76430661,"question_id":76430382,"body_markdown":"JAXB annotations are used to map Java classes to XML and back again. However, your welcome_template.xsl isn&#39;t a mapping of the UserDTO Java class. It is an XSL transformation (XSLT) that is used to transform XML documents into other formats.\r\n\r\nIf you want to transform &#39;UserDTO&#39; to xml, you have to annotate your &#39;UserDTO&#39; Java class to map it to XML\r\n\r\n    @Entity\r\n    @XmlRootElement(name = &quot;userDTO&quot;)\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    public class UserDTO {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @XmlAttribute\r\n    private int id;\r\n    \r\n    @XmlElement\r\n    private String firstName;\r\n    .\r\n    .\r\n    .\r\n\r\nNote that I changed the xmlRootElement name to userDTO class because your xml will represent UserDTO.\r\n\r\nThen, you can feed this XML into XSLT to generate your PDF.","title":"How to add fo:root child elements in xml using jaxb annotations","body":"<p>JAXB annotations are used to map Java classes to XML and back again. However, your welcome_template.xsl isn't a mapping of the UserDTO Java class. It is an XSL transformation (XSLT) that is used to transform XML documents into other formats.</p>\n<p>If you want to transform 'UserDTO' to xml, you have to annotate your 'UserDTO' Java class to map it to XML</p>\n<pre><code>@Entity\n@XmlRootElement(name = &quot;userDTO&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class UserDTO {\n\n@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\n@XmlAttribute\nprivate int id;\n\n@XmlElement\nprivate String firstName;\n.\n.\n.\n</code></pre>\n<p>Note that I changed the xmlRootElement name to userDTO class because your xml will represent UserDTO.</p>\n<p>Then, you can feed this XML into XSLT to generate your PDF.</p>\n"}],"owner":{"account_id":7820761,"reputation":324,"user_id":5913975,"display_name":"Sanjay Naik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686218098,"creation_date":1686216191,"question_id":76430382,"body_markdown":"i am trying to create an xml file which would be compatibe with the tags mentioned in my .xsl file in order to create pdf docs using apache fo docs\r\n\r\nBelow is my code\r\n\r\n**welcome_template.xsl**\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;xsl:stylesheet\r\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform &lt;http://www.w3.org/1999/XSL/Transform&gt; &quot;\r\n        xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format &lt;http://www.w3.org/1999/XSL/Format&gt; &quot;\r\n        version=&quot;1.0&quot;&gt;\r\n    &lt;xsl:output method=&quot;xml&quot;/&gt;\r\n    &lt;xsl:template match=&quot;/&quot;&gt;\r\n        &lt;fo:root xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\r\n            &lt;fo:layout-master-set&gt;\r\n                &lt;fo:simple-page-master master-name=&quot;A4&quot;&gt;\r\n                    &lt;fo:region-body margin=&quot;1in&quot;/&gt;\r\n                &lt;/fo:simple-page-master&gt;\r\n            &lt;/fo:layout-master-set&gt;\r\n            &lt;fo:page-sequence master-reference=&quot;A4&quot;&gt;\r\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\r\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\r\n                    &lt;xsl:text&gt;Hi &lt;/xsl:text&gt;\r\n                    &lt;xsl:value-of select=&quot;userDTO/firstName&quot;/&gt;\r\n                    &lt;xsl:text&gt; &lt;/xsl:text&gt;\r\n                    &lt;xsl:value-of select=&quot;userDTO/lastName&quot;/&gt;\r\n                    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\r\n                    &lt;fo:block/&gt;\r\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\r\n                    &lt;xsl:text&gt;Thank you for opening an account with ICICI bank.&lt;/xsl:text&gt;\r\n                    &lt;fo:block/&gt;\r\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\r\n                    &lt;xsl:text&gt;Your registered email id with us is: &lt;/xsl:text&gt;\r\n                    &lt;xsl:value-of select=&quot;userDTO/emailId&quot;/&gt;\r\n                    &lt;fo:block/&gt;\r\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\r\n                        &lt;xsl:text&gt;Your mobile number is: &lt;/xsl:text&gt;\r\n                        &lt;xsl:value-of select=&quot;userDTO/contactNumber&quot;/&gt;\r\n                    &lt;/fo:block&gt;\r\n                &lt;/fo:flow&gt;\r\n            &lt;/fo:page-sequence&gt;\r\n        &lt;/fo:root&gt;\r\n    &lt;/xsl:template&gt;\r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\n**UserDTO.java**\r\n\r\n```\r\n\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.GeneratedValue;\r\nimport jakarta.persistence.GenerationType;\r\nimport jakarta.persistence.Id;\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.ToString;\r\n\r\nimport javax.xml.bind.annotation.*;\r\n\r\n\r\n@Entity\r\n@XmlRootElement(name=&quot;fo:root&quot;)\r\npublic class UserDTO {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private int id;\r\n    private String firstName;\r\n    private String lastName;\r\n    private String emailId;\r\n    private String contactNumber;\r\n\r\n}\r\n\r\n```\r\nWhen i run my application i get following error\r\n\r\n```\r\norg.apache.fop.fo.ValidationException: &quot;fo:root&quot; is missing child elements. Required content model: (layout-master-set, declarations?, bookmark-tree?, (page-sequence|fox:external-document)+) (See position 2:56)\r\n\tat org.apache.fop.events.ValidationExceptionFactory.createException(ValidationExceptionFactory.java:38)\r\n\tat org.apache.fop.events.EventExceptionManager.throwException(EventExceptionManager.java:58)\r\n\tat org.apache.fop.events.DefaultEventBroadcaster$1.invoke(DefaultEventBroadcaster.java:173)\r\n\r\n```\r\nWhat jaxb annotation needs to be added in **UserDTO.java** in order to match it with **welcome_template.xsl** file.\r\n\r\nAny inputs will be helpful.","title":"How to add fo:root child elements in xml using jaxb annotations","body":"<p>i am trying to create an xml file which would be compatibe with the tags mentioned in my .xsl file in order to create pdf docs using apache fo docs</p>\n<p>Below is my code</p>\n<p><strong>welcome_template.xsl</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;xsl:stylesheet\n        xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform &lt;http://www.w3.org/1999/XSL/Transform&gt; &quot;\n        xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format &lt;http://www.w3.org/1999/XSL/Format&gt; &quot;\n        version=&quot;1.0&quot;&gt;\n    &lt;xsl:output method=&quot;xml&quot;/&gt;\n    &lt;xsl:template match=&quot;/&quot;&gt;\n        &lt;fo:root xmlns:fo=&quot;http://www.w3.org/1999/XSL/Format&quot;&gt;\n            &lt;fo:layout-master-set&gt;\n                &lt;fo:simple-page-master master-name=&quot;A4&quot;&gt;\n                    &lt;fo:region-body margin=&quot;1in&quot;/&gt;\n                &lt;/fo:simple-page-master&gt;\n            &lt;/fo:layout-master-set&gt;\n            &lt;fo:page-sequence master-reference=&quot;A4&quot;&gt;\n                &lt;fo:flow flow-name=&quot;xsl-region-body&quot;&gt;\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\n                    &lt;xsl:text&gt;Hi &lt;/xsl:text&gt;\n                    &lt;xsl:value-of select=&quot;userDTO/firstName&quot;/&gt;\n                    &lt;xsl:text&gt; &lt;/xsl:text&gt;\n                    &lt;xsl:value-of select=&quot;userDTO/lastName&quot;/&gt;\n                    &lt;xsl:text&gt;,&lt;/xsl:text&gt;\n                    &lt;fo:block/&gt;\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\n                    &lt;xsl:text&gt;Thank you for opening an account with ICICI bank.&lt;/xsl:text&gt;\n                    &lt;fo:block/&gt;\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\n                    &lt;xsl:text&gt;Your registered email id with us is: &lt;/xsl:text&gt;\n                    &lt;xsl:value-of select=&quot;userDTO/emailId&quot;/&gt;\n                    &lt;fo:block/&gt;\n                    &lt;fo:block font-size=&quot;12pt&quot; font-family=&quot;Arial&quot; text-align=&quot;start&quot;&gt;\n                        &lt;xsl:text&gt;Your mobile number is: &lt;/xsl:text&gt;\n                        &lt;xsl:value-of select=&quot;userDTO/contactNumber&quot;/&gt;\n                    &lt;/fo:block&gt;\n                &lt;/fo:flow&gt;\n            &lt;/fo:page-sequence&gt;\n        &lt;/fo:root&gt;\n    &lt;/xsl:template&gt;\n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p><strong>UserDTO.java</strong></p>\n<pre><code>\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.ToString;\n\nimport javax.xml.bind.annotation.*;\n\n\n@Entity\n@XmlRootElement(name=&quot;fo:root&quot;)\npublic class UserDTO {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private int id;\n    private String firstName;\n    private String lastName;\n    private String emailId;\n    private String contactNumber;\n\n}\n\n</code></pre>\n<p>When i run my application i get following error</p>\n<pre><code>org.apache.fop.fo.ValidationException: &quot;fo:root&quot; is missing child elements. Required content model: (layout-master-set, declarations?, bookmark-tree?, (page-sequence|fox:external-document)+) (See position 2:56)\n    at org.apache.fop.events.ValidationExceptionFactory.createException(ValidationExceptionFactory.java:38)\n    at org.apache.fop.events.EventExceptionManager.throwException(EventExceptionManager.java:58)\n    at org.apache.fop.events.DefaultEventBroadcaster$1.invoke(DefaultEventBroadcaster.java:173)\n\n</code></pre>\n<p>What jaxb annotation needs to be added in <strong>UserDTO.java</strong> in order to match it with <strong>welcome_template.xsl</strong> file.</p>\n<p>Any inputs will be helpful.</p>\n"},{"tags":["java","jbpm"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686305529,"post_id":76430632,"comment_id":134783881,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28779172,"reputation":1,"user_id":22041130,"display_name":"Shahnawaz Ahmed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686217988,"creation_date":1686217945,"question_id":76430632,"body_markdown":"[enter image description here][1]Deployment Box is not coming in deployment mode to deploy project in drools business central. It only came once but now  its not coming \r\n\r\nI tried restarting the server and bounce business central but nothing worked for me. So please help\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L9wF5.jpg","title":"Deployment box is not opening in deployment mode for Drools Business Central","body":"<p><a href=\"https://i.stack.imgur.com/L9wF5.jpg\" rel=\"nofollow noreferrer\">enter image description here</a>Deployment Box is not coming in deployment mode to deploy project in drools business central. It only came once but now  its not coming</p>\n<p>I tried restarting the server and bounce business central but nothing worked for me. So please help</p>\n"},{"tags":["java","maven","pom.xml","log4j2"],"answers":[{"tags":[],"owner":{"account_id":3122569,"reputation":1943,"user_id":2642058,"accept_rate":100,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1388406932,"creation_date":1388406626,"answer_id":20839623,"question_id":20839586,"body_markdown":"You need to download **jar** containing **org.apache.logging.log4j.LogManager** and then set your **classpath**.\r\n[link to download log4j 2 jar][1]\r\nor try this\r\n[link to download jar][2]\r\n\r\ndownload required jar from these two link\r\n\r\n  [1]: http://logging.apache.org/log4j/2.x/download.html\r\n  [2]: http://logging.apache.org/log4j/1.2/download.html","title":"Upgrading to Log4J2 facing exception. [Java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager]","body":"<p>You need to download <strong>jar</strong> containing <strong>org.apache.logging.log4j.LogManager</strong> and then set your <strong>classpath</strong>.\n<a href=\"http://logging.apache.org/log4j/2.x/download.html\" rel=\"nofollow\">link to download log4j 2 jar</a>\nor try this\n<a href=\"http://logging.apache.org/log4j/1.2/download.html\" rel=\"nofollow\">link to download jar</a></p>\n\n<p>download required jar from these two link</p>\n"},{"tags":[],"owner":{"account_id":26013717,"reputation":1,"user_id":19722326,"display_name":"fangchieh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686217217,"creation_date":1686217217,"answer_id":76430530,"question_id":20839586,"body_markdown":"I also encountered this problem, and have found the problem and solved it. The reason is that scope=test which is inherited from parent pom is the cause. Solution: set scope=compile","title":"Upgrading to Log4J2 facing exception. [Java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager]","body":"<p>I also encountered this problem, and have found the problem and solved it. The reason is that scope=test which is inherited from parent pom is the cause. Solution: set scope=compile</p>\n"}],"owner":{"account_id":3685379,"reputation":814,"user_id":3069234,"accept_rate":75,"display_name":"N0mi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2778,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":20839623,"answer_count":2,"score":1,"last_activity_date":1686217217,"creation_date":1388406502,"question_id":20839586,"body_markdown":"I am trying to upgrade a project to use log4J2 instead of Log4J1. It is maven project which is using some other projects as well in its dependency. Before any dependency, I have following in POM file\r\n\r\n    \r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-beta9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-beta9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0-beta9&lt;/version&gt;\r\n    &lt;/dependency&gt;  \r\n    \r\n\r\nI have no compile time error, but when i try to execute, I keep getting following exception \r\n\r\n    Caused by: org.springframework.beans.factory.BeanCreationException: Error creati\r\n    ng bean with name &#39;userService&#39; defined in URL [jar:file:/D:/Accept/dev/apache-t\r\n    omcat-6.0.29/lib/accept-planner-lib.jar!/com/accept/modules/resources/impl/UserS\r\n    erviceImpl.class]: Instantiation of bean failed; nested exception is java.lang.N\r\n    oClassDefFoundError: org/apache/logging/log4j/LogManager\r\n\r\nComplete stack trace : http://pastebin.com/uWXaTSZ0\r\n\r\nAny guidance, pointers are really appreciated.\r\n\r\nThanks\r\n\r\n","title":"Upgrading to Log4J2 facing exception. [Java.lang.ClassNotFoundException: org.apache.logging.log4j.LogManager]","body":"<p>I am trying to upgrade a project to use log4J2 instead of Log4J1. It is maven project which is using some other projects as well in its dependency. Before any dependency, I have following in POM file</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n&lt;version&gt;2.0-beta9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n&lt;version&gt;2.0-beta9&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n&lt;artifactId&gt;log4j-jcl&lt;/artifactId&gt;\n&lt;version&gt;2.0-beta9&lt;/version&gt;\n&lt;/dependency&gt;  \n</code></pre>\n\n<p>I have no compile time error, but when i try to execute, I keep getting following exception </p>\n\n<pre><code>Caused by: org.springframework.beans.factory.BeanCreationException: Error creati\nng bean with name 'userService' defined in URL [jar:file:/D:/Accept/dev/apache-t\nomcat-6.0.29/lib/accept-planner-lib.jar!/com/accept/modules/resources/impl/UserS\nerviceImpl.class]: Instantiation of bean failed; nested exception is java.lang.N\noClassDefFoundError: org/apache/logging/log4j/LogManager\n</code></pre>\n\n<p>Complete stack trace : <a href=\"http://pastebin.com/uWXaTSZ0\" rel=\"nofollow\">http://pastebin.com/uWXaTSZ0</a></p>\n\n<p>Any guidance, pointers are really appreciated.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1391596593,"post_id":21570163,"comment_id":32588693,"body_markdown":"Why are you setting the write protect data on the file you don&#39;t want to have a password?","body":"Why are you setting the write protect data on the file you don&#39;t want to have a password?"},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391656069,"post_id":21570163,"comment_id":32621783,"body_markdown":"Sorry for the late reply. If I provide the password, which i cannot share with any user, how will the document open? I want to open the document from software itself, by passing the password from the program. Then, few data is written to the file, it is saved in another location by a different name. Then, the original file&#39;s edited cells are cleared and saved with password.","body":"Sorry for the late reply. If I provide the password, which i cannot share with any user, how will the document open? I want to open the document from software itself, by passing the password from the program. Then, few data is written to the file, it is saved in another location by a different name. Then, the original file&#39;s edited cells are cleared and saved with password."},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391659129,"post_id":21570163,"comment_id":32622734,"body_markdown":"please guide me...........","body":"please guide me..........."},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391661387,"post_id":21570163,"comment_id":32623410,"body_markdown":"please somebody guide me.......","body":"please somebody guide me......."},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391666150,"post_id":21570163,"comment_id":32625094,"body_markdown":"please please please guide me","body":"please please please guide me"},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391669545,"post_id":21570163,"comment_id":32626462,"body_markdown":"somebody guide me please, waiting for a reply.........","body":"somebody guide me please, waiting for a reply........."},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1391742909,"post_id":21570163,"comment_id":32666336,"body_markdown":"I dont know how to proceed further, please somebody guide me!!!!!","body":"I dont know how to proceed further, please somebody guide me!!!!!"},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1392003861,"post_id":21570163,"comment_id":32753751,"body_markdown":"no one to answer my question!!!","body":"no one to answer my question!!!"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1392025885,"post_id":21570163,"comment_id":32761967,"body_markdown":"I think you may have mistaken StackOverFlow for a paid-for support forum... If this is super urgent for you, you might want to pay someone for a support agreement for your project on a suitable SLA!","body":"I think you may have mistaken StackOverFlow for a paid-for support forum... If this is super urgent for you, you might want to pay someone for a support agreement for your project on a suitable SLA!"},{"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"score":0,"creation_date":1392087923,"post_id":21570163,"comment_id":32795484,"body_markdown":"Sorry, i had not asked in urgency. Since, last Thursday I had posted, I dint get any reply.","body":"Sorry, i had not asked in urgency. Since, last Thursday I had posted, I dint get any reply."}],"answers":[{"tags":[],"owner":{"account_id":12394209,"reputation":96,"user_id":9034856,"display_name":"senique"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686217144,"creation_date":1686217144,"answer_id":76430517,"question_id":21570163,"body_markdown":"Before you write to &#39;c:\\new\\1-aaa.xls&#39;, try to set password null:\r\n\r\n    Biff8EncryptionKey.setCurrentUserPassword(&quot;pwd&quot;);","title":"open an encrypted .xls file in java using apache poi api","body":"<p>Before you write to 'c:\\new\\1-aaa.xls', try to set password null:</p>\n<pre><code>Biff8EncryptionKey.setCurrentUserPassword(&quot;pwd&quot;);\n</code></pre>\n"}],"owner":{"account_id":1515562,"reputation":195,"user_id":1416631,"accept_rate":71,"display_name":"user1416631"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686217144,"creation_date":1391581860,"question_id":21570163,"body_markdown":"I have a file c:\\code\\aaa.xls. It has few cells empty. It is encrypted by password - pwd. I open the file by using java and apache poi, using Biff8EncryptionKey.setCurrentUserPassword(&quot;pwd&quot;);  \r\n  \r\nI write data to it and save it in c:\\new\\1-aaa.xls (without password).  \r\n  \r\nI empty the cells (to which I had written data) in aaa.xls, and save it with the same password - pwd. For that, I am using workbook.writeProtectWorkbook(Biff8EncryptionKey.getCurrentUserPassword(), &quot;&quot;);  \r\n  \r\nBut, when I check the files, even 1-aaa.xls file gets the password and becomes read-only. I don&#39;t wan&#39;t that to happen. Users should be able to open 1-aaa.xls without password, but, aaa.xls should have the password - pwd. \r\n  \r\nPlease guide me.","title":"open an encrypted .xls file in java using apache poi api","body":"<p>I have a file c:\\code\\aaa.xls. It has few cells empty. It is encrypted by password - pwd. I open the file by using java and apache poi, using Biff8EncryptionKey.setCurrentUserPassword(\"pwd\");  </p>\n\n<p>I write data to it and save it in c:\\new\\1-aaa.xls (without password).  </p>\n\n<p>I empty the cells (to which I had written data) in aaa.xls, and save it with the same password - pwd. For that, I am using workbook.writeProtectWorkbook(Biff8EncryptionKey.getCurrentUserPassword(), \"\");  </p>\n\n<p>But, when I check the files, even 1-aaa.xls file gets the password and becomes read-only. I don't wan't that to happen. Users should be able to open 1-aaa.xls without password, but, aaa.xls should have the password - pwd. </p>\n\n<p>Please guide me.</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1612905906,"post_id":66127102,"comment_id":116911582,"body_markdown":"What is the output of `echo %PATH%`? Is `C:\\Windows\\System32` included?","body":"What is the output of <code>echo %PATH%</code>? Is <code>C:\\Windows\\System32</code> included?"},{"owner":{"account_id":5104007,"reputation":41,"user_id":4092708,"display_name":"Jeremy"},"score":0,"creation_date":1612912540,"post_id":66127102,"comment_id":116913891,"body_markdown":"It is when I run it in a cmd, but that is not a command in the java process console.","body":"It is when I run it in a cmd, but that is not a command in the java process console."},{"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"score":0,"creation_date":1613454580,"post_id":66127102,"comment_id":117072919,"body_markdown":"Can you post the error screenshot? Have you tried to set powershell as default terminal? Does it still goes wrong in powershell?","body":"Can you post the error screenshot? Have you tried to set powershell as default terminal? Does it still goes wrong in powershell?"}],"answers":[{"tags":[],"owner":{"account_id":15330199,"reputation":41,"user_id":11060097,"display_name":"Daniel Kim"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1618637758,"creation_date":1618637758,"answer_id":67135025,"question_id":66127102,"body_markdown":"I just ran into this exact issue! After some debugging, I found out it&#39;s because my terminal (in VS Code) was running off of WSL.\r\n\r\nMake sure to check which terminal you&#39;re using! If you&#39;re trying to run Java locally, then you can configure a default shell ie. bash.  \r\n\r\nLet me know if this helps.\r\n\r\nEdit: I also found this, not sure if it will help, but here you go! \r\nhttps://stackoverflow.com/a/58058378/11060097","title":"Command &#39;cmd&#39; not found, but there are 16 similar ones","body":"<p>I just ran into this exact issue! After some debugging, I found out it's because my terminal (in VS Code) was running off of WSL.</p>\n<p>Make sure to check which terminal you're using! If you're trying to run Java locally, then you can configure a default shell ie. bash.</p>\n<p>Let me know if this helps.</p>\n<p>Edit: I also found this, not sure if it will help, but here you go!\n<a href=\"https://stackoverflow.com/a/58058378/11060097\">https://stackoverflow.com/a/58058378/11060097</a></p>\n"},{"tags":[],"owner":{"account_id":1779858,"reputation":1828,"user_id":1622880,"accept_rate":43,"display_name":"Francis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633651782,"creation_date":1633651782,"answer_id":69489087,"question_id":66127102,"body_markdown":"This error happens because you probably have wsl has your standard terminal but it&#39;s probably configured to launch cmd using a windows path.\r\n\r\nWSL won&#39;t understand what that windows path is, so you need to change it using a path structure it can understand\r\n\r\nSo \r\n1) hit **Ctrl+,** to hit the Settings screen\r\n\r\n2) type in **terminal** to see all the terminal settings\r\nYou will see an option called ***Terminal&gt; External:Windows Exec***\r\n\r\n3) Change *C:\\Windows\\System32\\cmd.exe* to **/mnt/c/Windows/System32/cmd.exe**\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI had this error too and came here initially but I managed to figure out it was an incompatible path issue that was the cause.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/nomB8.png","title":"Command &#39;cmd&#39; not found, but there are 16 similar ones","body":"<p>This error happens because you probably have wsl has your standard terminal but it's probably configured to launch cmd using a windows path.</p>\n<p>WSL won't understand what that windows path is, so you need to change it using a path structure it can understand</p>\n<p>So</p>\n<ol>\n<li><p>hit <strong>Ctrl+,</strong> to hit the Settings screen</p>\n</li>\n<li><p>type in <strong>terminal</strong> to see all the terminal settings\nYou will see an option called <em><strong>Terminal&gt; External:Windows Exec</strong></em></p>\n</li>\n<li><p>Change <em>C:\\Windows\\System32\\cmd.exe</em> to <strong>/mnt/c/Windows/System32/cmd.exe</strong></p>\n</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/nomB8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nomB8.png\" alt=\"enter image description here\" /></a></p>\n<p>I had this error too and came here initially but I managed to figure out it was an incompatible path issue that was the cause.</p>\n"},{"tags":[],"owner":{"account_id":12707505,"reputation":1521,"user_id":9232253,"display_name":"Paul McDaniel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641842504,"creation_date":1641842504,"answer_id":70657856,"question_id":66127102,"body_markdown":"your java debugger is using wsl.   and most likely your java is installed on windows.  not linux on windows.    to fix this for me, i changed the settings for java debugging to use the external console.  settings-&gt;java debugger-&gt;externalTerminal .    this will then use the &quot;external windows&quot; setting for vscode. which should use cmd.exe (the windows shell, no linux).","title":"Command &#39;cmd&#39; not found, but there are 16 similar ones","body":"<p>your java debugger is using wsl.   and most likely your java is installed on windows.  not linux on windows.    to fix this for me, i changed the settings for java debugging to use the external console.  settings-&gt;java debugger-&gt;externalTerminal .    this will then use the &quot;external windows&quot; setting for vscode. which should use cmd.exe (the windows shell, no linux).</p>\n"},{"tags":[],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686216941,"creation_date":1686216941,"answer_id":76430487,"question_id":66127102,"body_markdown":"I&#39;ve looked everywhere and could not find a way to tell VSCode to use `cmd.exe ...` instead of `cmd ...` to run java when using a WSL terminal.\r\n\r\nAs others stated, you can use an external terminal (which will be `cmd.exe`), but if you&#39;d like to keep using an integrated terminal in VSCode, the best (well, the only) way I found is to add an alias.\r\n\r\nIn your .bashrc file, simply add:\r\n```\r\nalias cmd=&quot;cmd.exe&quot;\r\n```\r\n\r\nAnd it will work :)","title":"Command &#39;cmd&#39; not found, but there are 16 similar ones","body":"<p>I've looked everywhere and could not find a way to tell VSCode to use <code>cmd.exe ...</code> instead of <code>cmd ...</code> to run java when using a WSL terminal.</p>\n<p>As others stated, you can use an external terminal (which will be <code>cmd.exe</code>), but if you'd like to keep using an integrated terminal in VSCode, the best (well, the only) way I found is to add an alias.</p>\n<p>In your .bashrc file, simply add:</p>\n<pre><code>alias cmd=&quot;cmd.exe&quot;\n</code></pre>\n<p>And it will work :)</p>\n"}],"owner":{"account_id":5104007,"reputation":41,"user_id":4092708,"display_name":"Jeremy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1686216941,"creation_date":1612904557,"question_id":66127102,"body_markdown":"I&#39;m trying to run a java program on windows in VSCODE. When I click the run button at the top it opens the Java Process Console and runs the following command: \r\n``` $  cmd /C &quot;c:\\Users\\user\\.vscode\\extensions\\vscjava.vscode-java-debug-0.31.0\\scripts\\launcher.bat &quot;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.10.9-hotspot\\bin\\java.exe&quot; -Dfile.encoding=UTF-8 @C:\\Users\\jbree\\AppData\\Local\\Temp\\cp_7gau2431e54dxprosf092viw9.argfile com.example.restservice.RestServiceApplication &quot;```\r\n\r\nIt then prints out: ```Command &#39;cmd&#39; not found, but there are 16 similar ones.```, and I&#39;m not too sure what to do afterwards.","title":"Command &#39;cmd&#39; not found, but there are 16 similar ones","body":"<p>I'm trying to run a java program on windows in VSCODE. When I click the run button at the top it opens the Java Process Console and runs the following command:\n<code> $  cmd /C &quot;c:\\Users\\user\\.vscode\\extensions\\vscjava.vscode-java-debug-0.31.0\\scripts\\launcher.bat &quot;C:\\Program Files\\AdoptOpenJDK\\jdk-11.0.10.9-hotspot\\bin\\java.exe&quot; -Dfile.encoding=UTF-8 @C:\\Users\\jbree\\AppData\\Local\\Temp\\cp_7gau2431e54dxprosf092viw9.argfile com.example.restservice.RestServiceApplication &quot;</code></p>\n<p>It then prints out: <code>Command 'cmd' not found, but there are 16 similar ones.</code>, and I'm not too sure what to do afterwards.</p>\n"},{"tags":["java","xml","digital-signature","xades4j","xades"],"comments":[{"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"score":0,"creation_date":1686482541,"post_id":76428099,"comment_id":134801725,"body_markdown":"Your code looks good at first glance. The only thing I noticed is &quot;source&quot; being created from the root element instead of the document itself (not sure if it makes a difference). Does it change anything if you create it using new DOMSource(doc) ? The error from the validation service is not very clear, but it seems like a problem with the structure of the XML? Or is it something related to the elements/properties of the signature?","body":"Your code looks good at first glance. The only thing I noticed is &quot;source&quot; being created from the root element instead of the document itself (not sure if it makes a difference). Does it change anything if you create it using new DOMSource(doc) ? The error from the validation service is not very clear, but it seems like a problem with the structure of the XML? Or is it something related to the elements/properties of the signature?"},{"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"score":0,"creation_date":1686482562,"post_id":76428099,"comment_id":134801729,"body_markdown":"Sometime ago there was a thread in the project&#39;s issues about a similar scenario: https://github.com/luisgoncalves/xades4j/issues/259","body":"Sometime ago there was a thread in the project&#39;s issues about a similar scenario: <a href=\"https://github.com/luisgoncalves/xades4j/issues/259\" rel=\"nofollow noreferrer\">github.com/luisgoncalves/xades4j/issues/259</a>"},{"owner":{"account_id":1765998,"reputation":2065,"user_id":1611874,"display_name":"lgoncalves"},"score":0,"creation_date":1686482997,"post_id":76428099,"comment_id":134801774,"body_markdown":"From the issues linked in the above issue, there were more people trying to solve similar problems, without success. It&#39;s not clear if there is any issue with xades4j (or what it would be)... so not much I can do at this point :/","body":"From the issues linked in the above issue, there were more people trying to solve similar problems, without success. It&#39;s not clear if there is any issue with xades4j (or what it would be)... so not much I can do at this point :/"}],"owner":{"account_id":24348610,"reputation":11,"user_id":22039038,"display_name":"JazzDTap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686216853,"creation_date":1686188927,"question_id":76428099,"body_markdown":"I am trying to sign an xml invoice from my file system using xades4j library to be compliant with Ecuador&#39;s SRI (Servicio de Rentas Internas) however I have not been successful, I keep getting the following error when trying to validate the signed xml through the SRI&#39;s web service: \r\n\r\n39: La validacion de la firma ha fallado: Error en la estructura de la firma\r\nFIRMA INVALIDA\r\n\r\nThe characteristics of the signature should be the following: \r\n\r\nsignature standard: XAdES-BES\r\nSchema version: 1.3.2\r\nEncoding: UTF-8\r\nSignature-Type: Enveloped.\r\n\r\nI am pretty lost, I have tried lots of things, even changing the source code of the library to make my signed xml resemble more the valid xml I have as a reference.\r\n\r\nAny help would be appreciated.\r\n\r\nThis is my Java code:\r\n\r\n```\r\npublic static void main(String[] args) {\r\n\r\n\tDocument doc = null;\r\n\tDocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\tfactory.setNamespaceAware(true);\r\n\t\r\n\ttry {\r\n\t\tDocumentBuilder builder = factory.newDocumentBuilder();\r\n\t\tdoc = builder.parse(new File(&quot;filepath&quot;); \r\n\t\t\r\n\t} catch (ParserConfigurationException e) {\r\n\t\tSystem.out.println(&quot;UNABLE TO PARSE XML&quot;);\r\n\t\te.printStackTrace();\r\n\t} catch (SAXException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (IOException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\t\r\n\t\t\t\t\r\n\tKeyingDataProvider kp = FileSystemKeyStoreKeyingDataProvider\r\n\t\t\t\t.builder(&quot;pkcs12&quot;,&quot;keystorepath&quot;,SigningCertificateSelector.single())\r\n\t\t\t\t.storePassword(new DirectPasswordProvider(args[1]))\r\n\t\t\t\t.entryPassword(new DirectPasswordProvider(args[1]))\r\n\t\t\t\t.fullChain(false)\r\n\t\t\t\t.build();\r\n\t\t\r\n\tXadesBesSigningProfile p =  null;\r\n\t\t\r\n\tp = (XadesBesSigningProfile) new XadesBesSigningProfile(kp).withSignatureAlgorithms(new SignatureAlgorithms()\r\n\t\t\t\t\t.withDigestAlgorithmForDataObjectReferences(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\r\n\t\t\t\t\t.withDigestAlgorithmForReferenceProperties(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\r\n\t\t\t\t\t.withDigestAlgorithmForTimeStampProperties(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\r\n\t\t\t\t\t.withSignatureAlgorithm(&quot;RSA&quot;, XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA1)\r\n\t\t\t\t\t.withSignatureAlgorithm(&quot;EC&quot;, XMLSignature.ALGO_ID_SIGNATURE_ECDSA_SHA1)\r\n\t\t\t\t\t.withSignatureAlgorithm(&quot;DSA&quot;, XMLSignature.ALGO_ID_SIGNATURE_ECDSA_SHA1)\r\n\t\t\t\t\t).withBasicSignatureOptions(new BasicSignatureOptions().includePublicKey(true).signKeyInfo(true));\r\n\t\t\t\t\t\r\n\t\t\r\n\tDataObjectDesc obj = new DataObjectReference(&quot;&quot;)\r\n\t\t        .withTransform(new EnvelopedSignatureTransform())\r\n\t\t        .withDataObjectFormat(new DataObjectFormatProperty(&quot;text/xml&quot;)\r\n\t\t        .withDescription(&quot;contenido comprobante&quot;))\r\n\t\t        ;\r\n\tSignedDataObjects dataObjs = new SignedDataObjects(obj);\r\n\t\t\r\n\ttry {\r\n\t\tXadesSigner signer = p.newSigner();\r\n\t\tElement elemToSign = doc.getDocumentElement();\r\n\t\tsigner.sign(new SignedDataObjects(obj), elemToSign);\r\n\t\tTransformerFactory tf = TransformerFactory.newInstance();\r\n\t\tTransformer transformer = tf.newTransformer();\t\t\t\r\n\t\tDOMSource source = new DOMSource(elemToSign);\r\n\t\tStreamResult result = new StreamResult(new    File(&quot;outputPathFile&quot;));\r\n\t\ttransformer.transform(source, result);\r\n\t\t\t\r\n\t} catch (XadesProfileResolutionException e) {\r\n\t\tSystem.out.println(&quot;Could not create Signer&quot;);\r\n\t\t//TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (XAdES4jException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (TransformerConfigurationException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t} catch (TransformerException e) {\r\n\t\t// TODO Auto-generated catch block\r\n\t\te.printStackTrace();\r\n\t}\r\n}\r\n```","title":"XAdES-BES signature using xades4j library for Ecuador SRI","body":"<p>I am trying to sign an xml invoice from my file system using xades4j library to be compliant with Ecuador's SRI (Servicio de Rentas Internas) however I have not been successful, I keep getting the following error when trying to validate the signed xml through the SRI's web service:</p>\n<p>39: La validacion de la firma ha fallado: Error en la estructura de la firma\nFIRMA INVALIDA</p>\n<p>The characteristics of the signature should be the following:</p>\n<p>signature standard: XAdES-BES\nSchema version: 1.3.2\nEncoding: UTF-8\nSignature-Type: Enveloped.</p>\n<p>I am pretty lost, I have tried lots of things, even changing the source code of the library to make my signed xml resemble more the valid xml I have as a reference.</p>\n<p>Any help would be appreciated.</p>\n<p>This is my Java code:</p>\n<pre><code>public static void main(String[] args) {\n\n    Document doc = null;\n    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n    factory.setNamespaceAware(true);\n    \n    try {\n        DocumentBuilder builder = factory.newDocumentBuilder();\n        doc = builder.parse(new File(&quot;filepath&quot;); \n        \n    } catch (ParserConfigurationException e) {\n        System.out.println(&quot;UNABLE TO PARSE XML&quot;);\n        e.printStackTrace();\n    } catch (SAXException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (IOException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }   \n                \n    KeyingDataProvider kp = FileSystemKeyStoreKeyingDataProvider\n                .builder(&quot;pkcs12&quot;,&quot;keystorepath&quot;,SigningCertificateSelector.single())\n                .storePassword(new DirectPasswordProvider(args[1]))\n                .entryPassword(new DirectPasswordProvider(args[1]))\n                .fullChain(false)\n                .build();\n        \n    XadesBesSigningProfile p =  null;\n        \n    p = (XadesBesSigningProfile) new XadesBesSigningProfile(kp).withSignatureAlgorithms(new SignatureAlgorithms()\n                    .withDigestAlgorithmForDataObjectReferences(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\n                    .withDigestAlgorithmForReferenceProperties(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\n                    .withDigestAlgorithmForTimeStampProperties(MessageDigestAlgorithm.ALGO_ID_DIGEST_SHA1)\n                    .withSignatureAlgorithm(&quot;RSA&quot;, XMLSignature.ALGO_ID_SIGNATURE_RSA_SHA1)\n                    .withSignatureAlgorithm(&quot;EC&quot;, XMLSignature.ALGO_ID_SIGNATURE_ECDSA_SHA1)\n                    .withSignatureAlgorithm(&quot;DSA&quot;, XMLSignature.ALGO_ID_SIGNATURE_ECDSA_SHA1)\n                    ).withBasicSignatureOptions(new BasicSignatureOptions().includePublicKey(true).signKeyInfo(true));\n                    \n        \n    DataObjectDesc obj = new DataObjectReference(&quot;&quot;)\n                .withTransform(new EnvelopedSignatureTransform())\n                .withDataObjectFormat(new DataObjectFormatProperty(&quot;text/xml&quot;)\n                .withDescription(&quot;contenido comprobante&quot;))\n                ;\n    SignedDataObjects dataObjs = new SignedDataObjects(obj);\n        \n    try {\n        XadesSigner signer = p.newSigner();\n        Element elemToSign = doc.getDocumentElement();\n        signer.sign(new SignedDataObjects(obj), elemToSign);\n        TransformerFactory tf = TransformerFactory.newInstance();\n        Transformer transformer = tf.newTransformer();          \n        DOMSource source = new DOMSource(elemToSign);\n        StreamResult result = new StreamResult(new    File(&quot;outputPathFile&quot;));\n        transformer.transform(source, result);\n            \n    } catch (XadesProfileResolutionException e) {\n        System.out.println(&quot;Could not create Signer&quot;);\n        //TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (XAdES4jException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (TransformerConfigurationException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    } catch (TransformerException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","javafx-8"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":3,"creation_date":1686179756,"post_id":76426614,"comment_id":134765488,"body_markdown":"This is (what I consider) a bug with `CategoryAxis`. Either disable the [chart&#39;s animation](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/chart/Chart.html#animatedProperty()) or make sure [the categories](https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/chart/CategoryAxis.html#getCategories()) of the `CategoryAxis` is kept up to date. And double check that all updates to the chart(s) are done on the _JavaFX Application Thread_.","body":"This is (what I consider) a bug with <code>CategoryAxis</code>. Either disable the <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/chart/Chart.html#animatedProperty()\" rel=\"nofollow noreferrer\">chart&#39;s animation</a> or make sure <a href=\"https://openjfx.io/javadoc/20/javafx.controls/javafx/scene/chart/CategoryAxis.html#getCategories()\" rel=\"nofollow noreferrer\">the categories</a> of the <code>CategoryAxis</code> is kept up to date. And double check that all updates to the chart(s) are done on the <i>JavaFX Application Thread</i>."}],"owner":{"account_id":28266316,"reputation":1,"user_id":21610219,"display_name":"KolRay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686216627,"creation_date":1686166734,"question_id":76426614,"body_markdown":"I have tab pane that includes a few bar charts which are updated dynamically by threads.\r\n\r\nI am using JavaFX8. I have a function that appends data to the bar chart by adding a new bar.\r\n\r\nThe issue is: When I&#39;m appending a new bar, no name is displayed in the x-axis.\r\n\r\nWhen I am in full window mode, no names appear, but when I resize to a smaller window size, they do show up.\r\nWhen I am playing around with the window size, everything works.\r\n\r\n```java\r\n@FXML\r\nprivate BarChart FlowNumberOfRunsChart;\r\n@FXML\r\nprivate BarChart AverageFlowsRunTimeChart;\r\n\r\n@FXML\r\nprivate void initialize() {\r\n\r\n    CategoryAxis FlowNumberOfRunsChartcategoryAxis = (CategoryAxis) FlowNumberOfRunsChart.getXAxis();\r\n    Node label1 = FlowNumberOfRunsChartcategoryAxis.lookup(&quot;.axis-label&quot;);\r\n    label1.setTranslateY(10);\r\n    CategoryAxis AverageFlowsRunTimeChartcategoryAxis = (CategoryAxis) AverageFlowsRunTimeChart.getXAxis();\r\n    Node label3 = AverageFlowsRunTimeChartcategoryAxis.lookup(&quot;.axis-label&quot;);\r\n    label3.setTranslateY(10);\r\n}\r\n\r\npublic void initFlowsChart(List&lt;DTOStatisticData&gt; flowsStatisticData) {\r\n    Platform.runLater(() -&gt; {\r\n        FlowNumberOfRunsChart.getData().clear();\r\n        AverageFlowsRunTimeChart.getData().clear();\r\n\r\n        XYChart.Series series1 = new XYChart.Series();\r\n        flowsStatisticData.stream().forEach(flowStatisticData -&gt; {\r\n            series1.getData().add(new XYChart.Data(flowStatisticData.getName(), flowStatisticData.getTimesRun()));\r\n        });\r\n        FlowNumberOfRunsChart.getData().add(series1);\r\n\r\n        XYChart.Series series2 = new XYChart.Series();\r\n        flowsStatisticData.stream().forEach(flowStatisticData -&gt; {\r\n            series2.getData().add(new XYChart.Data(flowStatisticData.getName(), flowStatisticData.getAverageTime()));\r\n        });\r\n        AverageFlowsRunTimeChart.getData().add(series2);\r\n\r\n    });\r\n}\r\n```\r\n\r\nI&#39;ve tried to clear the data and add it to the chart again after I called to `initFlowsChart` but it didn&#39;t change anything.","title":"Axis is not updated when a bar is added to chart","body":"<p>I have tab pane that includes a few bar charts which are updated dynamically by threads.</p>\n<p>I am using JavaFX8. I have a function that appends data to the bar chart by adding a new bar.</p>\n<p>The issue is: When I'm appending a new bar, no name is displayed in the x-axis.</p>\n<p>When I am in full window mode, no names appear, but when I resize to a smaller window size, they do show up.\nWhen I am playing around with the window size, everything works.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@FXML\nprivate BarChart FlowNumberOfRunsChart;\n@FXML\nprivate BarChart AverageFlowsRunTimeChart;\n\n@FXML\nprivate void initialize() {\n\n    CategoryAxis FlowNumberOfRunsChartcategoryAxis = (CategoryAxis) FlowNumberOfRunsChart.getXAxis();\n    Node label1 = FlowNumberOfRunsChartcategoryAxis.lookup(&quot;.axis-label&quot;);\n    label1.setTranslateY(10);\n    CategoryAxis AverageFlowsRunTimeChartcategoryAxis = (CategoryAxis) AverageFlowsRunTimeChart.getXAxis();\n    Node label3 = AverageFlowsRunTimeChartcategoryAxis.lookup(&quot;.axis-label&quot;);\n    label3.setTranslateY(10);\n}\n\npublic void initFlowsChart(List&lt;DTOStatisticData&gt; flowsStatisticData) {\n    Platform.runLater(() -&gt; {\n        FlowNumberOfRunsChart.getData().clear();\n        AverageFlowsRunTimeChart.getData().clear();\n\n        XYChart.Series series1 = new XYChart.Series();\n        flowsStatisticData.stream().forEach(flowStatisticData -&gt; {\n            series1.getData().add(new XYChart.Data(flowStatisticData.getName(), flowStatisticData.getTimesRun()));\n        });\n        FlowNumberOfRunsChart.getData().add(series1);\n\n        XYChart.Series series2 = new XYChart.Series();\n        flowsStatisticData.stream().forEach(flowStatisticData -&gt; {\n            series2.getData().add(new XYChart.Data(flowStatisticData.getName(), flowStatisticData.getAverageTime()));\n        });\n        AverageFlowsRunTimeChart.getData().add(series2);\n\n    });\n}\n</code></pre>\n<p>I've tried to clear the data and add it to the chart again after I called to <code>initFlowsChart</code> but it didn't change anything.</p>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":1953733,"reputation":452,"user_id":1757271,"display_name":"Ahmed Sayed"},"score":1,"creation_date":1686127441,"post_id":76421384,"comment_id":134755122,"body_markdown":"Where&#39;s the entity mapping? You can also print the generated query and check it","body":"Where&#39;s the entity mapping? You can also print the generated query and check it"},{"owner":{"account_id":21967042,"reputation":84,"user_id":16244113,"display_name":"mamJavad"},"score":0,"creation_date":1686128047,"post_id":76421384,"comment_id":134755256,"body_markdown":"could you post     Optional&lt;Products&gt; oldProduct = productsRepository.findById(productDto.getId());\n result in debug mode ?","body":"could you post     Optional&lt;Products&gt; oldProduct = productsRepository.findById(productDto.getId());  result in debug mode ?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1686129320,"post_id":76421384,"comment_id":134755492,"body_markdown":"@Mar-Z Optional has `isEmpty()` since java 11.","body":"@Mar-Z Optional has <code>isEmpty()</code> since java 11."},{"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"score":0,"creation_date":1686139940,"post_id":76421384,"comment_id":134757730,"body_markdown":"Please post the entity class","body":"Please post the entity class"},{"owner":{"account_id":231721,"reputation":20460,"user_id":496099,"display_name":"Chris"},"score":0,"creation_date":1686153436,"post_id":76421384,"comment_id":134761082,"body_markdown":"As well as the entity class, turn on SQL logging with parameter logging to see what is actually generated for your findById method. It probably isn&#39;t the same as the native query at all, possibly due to mismapping something, or a relationship join forcing an inner join to something that doesn&#39;t exist (check your not-null constraints on relationships)","body":"As well as the entity class, turn on SQL logging with parameter logging to see what is actually generated for your findById method. It probably isn&#39;t the same as the native query at all, possibly due to mismapping something, or a relationship join forcing an inner join to something that doesn&#39;t exist (check your not-null constraints on relationships)"},{"owner":{"account_id":88084,"reputation":870,"user_id":243892,"accept_rate":10,"display_name":"chocksaway"},"score":0,"creation_date":1686217328,"post_id":76421384,"comment_id":134769941,"body_markdown":"Congratulations on solving this.\n\nIt may be prudent to see how your SQL statements are being structured. \n\nEnabling logging by doing:    logging.level.org.hibernate.SQL=DEBUG\nlogging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE","body":"Congratulations on solving this.  It may be prudent to see how your SQL statements are being structured.   Enabling logging by doing:    logging.level.org.hibernate.SQL=DEBUG logging.level.org.hibernate.type.descriptor.sql.BasicBinder=&zwnj;&#8203;TRACE"}],"owner":{"account_id":23598221,"reputation":40,"user_id":17635091,"display_name":"Alecasa"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686216342,"creation_date":1686126978,"question_id":76421384,"body_markdown":"I&#39;m just trying to update a record in the DB from my spring boot application, but when I use a JPA query method to find the object by it&#39;s id, the object it&#39;s always empty\r\n\r\nThis is my repository interface, all the other queries works, except for that `Optional&lt;Products&gt; findById(Integer id);`\r\n\r\n```\r\n@Repository\r\npublic interface ProductsRepository extends PagingAndSortingRepository&lt;Products, Integer&gt; {\r\n\r\n    Page&lt;Products&gt; findAll(Pageable pageable);\r\n\r\n    void save(Products product);\r\n\r\n    Optional&lt;Products&gt; findById(Integer id);\r\n\r\n    // ...\r\n}\r\n```\r\n\r\nThis is the piece of code in the service that calls the repo and it&#39;s causing me some problems\r\n\r\noldProduct it&#39;s always empty\r\n```\r\n//...\r\n    Optional&lt;Products&gt; oldProduct = productsRepository.findById(productDto.getId());\r\n\r\n    if (oldProduct.isEmpty()){\r\n        return ResponseEntity.badRequest().body(&quot;Product with id: &quot;+productDto.getId()+&quot; not found.&quot;);\r\n    }\r\n//...\r\n```\r\n\r\nThis is the productDto JSON, which is the object that contains the updated data, that I should write in the db at the end\r\n\r\n```\r\n{\r\n    &quot;id&quot; : 1,\r\n    &quot;name&quot; : &quot;Taralli al peperoncino&quot;,\r\n    &quot;price&quot; : 3.6,\r\n    &quot;quantity&quot; : 15,\r\n    &quot;availableFrom&quot; : &quot;10/04/2023 00:00:00&quot;,\r\n    &quot;availableUntil&quot; : &quot;13/07/2023 00:00:00&quot;,\r\n    &quot;categoryId&quot; : &quot;8&quot;,\r\n    &quot;imageBase64&quot; : &quot;&quot;\r\n}\r\n```\r\n\r\nI tried to override the JPA method by doing this \r\n\r\n```\r\n@Query(value = &quot;SELECT * FROM eshop_products where id=:id&quot;, nativeQuery = true)\r\n    Optional&lt;Products&gt; findById(Integer id);\r\n```\r\n\r\nAnd it actually works, but I&#39;d like to understand what the problem is to avoid it in the future, and maybe be able to use JPA as much as i can, especially with this basic queries \r\n\r\n - Spring v3.0\r\n - Java v17\r\n - JPA latest (07/06/2023)\r\n\r\n\r\n**SOLVED**\r\n\r\nI don&#39;t know why, but today it&#39;s working\r\nMaybe there was something in the chache that was cousing this problem, because I just added `spring.jpa.show-sql=true` and it worked perfectly with the JPA query method\r\n\r\n","title":"Object not found with JPA query method but it exists in the DB","body":"<p>I'm just trying to update a record in the DB from my spring boot application, but when I use a JPA query method to find the object by it's id, the object it's always empty</p>\n<p>This is my repository interface, all the other queries works, except for that <code>Optional&lt;Products&gt; findById(Integer id);</code></p>\n<pre><code>@Repository\npublic interface ProductsRepository extends PagingAndSortingRepository&lt;Products, Integer&gt; {\n\n    Page&lt;Products&gt; findAll(Pageable pageable);\n\n    void save(Products product);\n\n    Optional&lt;Products&gt; findById(Integer id);\n\n    // ...\n}\n</code></pre>\n<p>This is the piece of code in the service that calls the repo and it's causing me some problems</p>\n<p>oldProduct it's always empty</p>\n<pre><code>//...\n    Optional&lt;Products&gt; oldProduct = productsRepository.findById(productDto.getId());\n\n    if (oldProduct.isEmpty()){\n        return ResponseEntity.badRequest().body(&quot;Product with id: &quot;+productDto.getId()+&quot; not found.&quot;);\n    }\n//...\n</code></pre>\n<p>This is the productDto JSON, which is the object that contains the updated data, that I should write in the db at the end</p>\n<pre><code>{\n    &quot;id&quot; : 1,\n    &quot;name&quot; : &quot;Taralli al peperoncino&quot;,\n    &quot;price&quot; : 3.6,\n    &quot;quantity&quot; : 15,\n    &quot;availableFrom&quot; : &quot;10/04/2023 00:00:00&quot;,\n    &quot;availableUntil&quot; : &quot;13/07/2023 00:00:00&quot;,\n    &quot;categoryId&quot; : &quot;8&quot;,\n    &quot;imageBase64&quot; : &quot;&quot;\n}\n</code></pre>\n<p>I tried to override the JPA method by doing this</p>\n<pre><code>@Query(value = &quot;SELECT * FROM eshop_products where id=:id&quot;, nativeQuery = true)\n    Optional&lt;Products&gt; findById(Integer id);\n</code></pre>\n<p>And it actually works, but I'd like to understand what the problem is to avoid it in the future, and maybe be able to use JPA as much as i can, especially with this basic queries</p>\n<ul>\n<li>Spring v3.0</li>\n<li>Java v17</li>\n<li>JPA latest (07/06/2023)</li>\n</ul>\n<p><strong>SOLVED</strong></p>\n<p>I don't know why, but today it's working\nMaybe there was something in the chache that was cousing this problem, because I just added <code>spring.jpa.show-sql=true</code> and it worked perfectly with the JPA query method</p>\n"},{"tags":["java","xslt","operating-system","indentation","saxon"],"comments":[{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685959384,"post_id":76405207,"comment_id":134728550,"body_markdown":"Consider to add minimal but complete samples of XML input, XSLT code and details about as to how you run the transformation, so that anyone can easily reproduce the problem.","body":"Consider to add minimal but complete samples of XML input, XSLT code and details about as to how you run the transformation, so that anyone can easily reproduce the problem."},{"owner":{"account_id":91947,"reputation":161814,"user_id":252228,"accept_rate":80,"display_name":"Martin Honnen"},"score":0,"creation_date":1685961104,"post_id":76405207,"comment_id":134728931,"body_markdown":"I see the extra space before the attributes on the second and third line with 11.5 and 12.2 but not 10.9 HE Java, all running from the command line, but I see it the same results under Windows and Ubuntu (22.04 WSL). Let&#39;s wait and see what Michael Kay thinks.","body":"I see the extra space before the attributes on the second and third line with 11.5 and 12.2 but not 10.9 HE Java, all running from the command line, but I see it the same results under Windows and Ubuntu (22.04 WSL). Let&#39;s wait and see what Michael Kay thinks."}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686046432,"creation_date":1685980293,"answer_id":76408103,"question_id":76405207,"body_markdown":"Interesting, and not easy to explain! I&#39;m seeing the extra space on my Mac too. I think I&#39;ve noticed the effect before but was too busy to investigate it at the time.\r\n\r\nThe code did change in Saxon 10.x. Previously the attributes were passed to the XMLEmitter one at a time; from 10.x they are passed in bulk in the startElement event, which means we are able to assess the total length of all attributes, and either indent all of them or none, whereas previously the decision was made on-the-fly after previous attributes had overflowed the line length.\r\n\r\nThe code says \r\n\r\n    int indent = (level - 1) * getIndentation() + 3;\r\n    emitter.setIndentForNextAttribute(indent);\r\n\r\nand if we change the &quot;3&quot; to &quot;2&quot;, then the problem goes away.\r\n\r\nI suspect the history is that in the past, we wrote the first N characters of a standard indentation string to the output writer: this will have included a newline, plus N-1 spaces. We now use a UTF-8 writer that has a primitive method to write N spaces (this saves the cost of testing each one to see if how many UTF-8 bytes to use), and we are passing the total number of whitespace characters, not the number of spaces.\r\n\r\nI find it hard to believe there is a difference between operating systems here. I suspect it&#39;s almost certainly a difference between Saxon versions.\r\n\r\nBug raised at https://saxonica.plan.io/issues/6063","title":"Saxon-HE 9.x, 11.x, 12.x - Indentation differences (depending on operating system (Debian vs. Ubuntu vs. RedHat) - unconfirmed)","body":"<p>Interesting, and not easy to explain! I'm seeing the extra space on my Mac too. I think I've noticed the effect before but was too busy to investigate it at the time.</p>\n<p>The code did change in Saxon 10.x. Previously the attributes were passed to the XMLEmitter one at a time; from 10.x they are passed in bulk in the startElement event, which means we are able to assess the total length of all attributes, and either indent all of them or none, whereas previously the decision was made on-the-fly after previous attributes had overflowed the line length.</p>\n<p>The code says</p>\n<pre><code>int indent = (level - 1) * getIndentation() + 3;\nemitter.setIndentForNextAttribute(indent);\n</code></pre>\n<p>and if we change the &quot;3&quot; to &quot;2&quot;, then the problem goes away.</p>\n<p>I suspect the history is that in the past, we wrote the first N characters of a standard indentation string to the output writer: this will have included a newline, plus N-1 spaces. We now use a UTF-8 writer that has a primitive method to write N spaces (this saves the cost of testing each one to see if how many UTF-8 bytes to use), and we are passing the total number of whitespace characters, not the number of spaces.</p>\n<p>I find it hard to believe there is a difference between operating systems here. I suspect it's almost certainly a difference between Saxon versions.</p>\n<p>Bug raised at <a href=\"https://saxonica.plan.io/issues/6063\" rel=\"nofollow noreferrer\">https://saxonica.plan.io/issues/6063</a></p>\n"}],"owner":{"account_id":5698631,"reputation":21,"user_id":4504385,"display_name":"gabe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686216264,"creation_date":1685958468,"question_id":76405207,"body_markdown":"Here&#39;s an interesting observation. Indentation of XSLT transformation is different by operating system. Same Java code and XSLT template and Saxon-HE 11.2:\r\n\r\nUbuntu 22.04: \r\n```xml\r\n&lt;isee:ISEE-Event xmlns:ex=&quot;http://www.example.com/schemas/ex/5.00&quot;\r\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                 schemaVersion=&quot;5.00&quot;&gt;\r\n```\r\n\r\nDebian 10 and RedHat\r\n```xml\r\n&lt;isee:ISEE-Event xmlns:ex=&quot;http://www.example.com/schemas/ex/5.00&quot;\r\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n                  schemaVersion=&quot;5.00&quot;&gt;\r\n```\r\n\r\nnotice the extra space for the indented 2nd and 3rd line.\r\n\r\nI understand that indentation is not strictly specified.\r\nDoes anyone have an explanation why this was implemented this way, specifically why it was changed?\r\n\r\nSaxon-HE 9.x did not exhibit this behaviour.\r\n\r\nSaxon-HE 12.2 consistently adds the extra space, regardless of operating system.\r\n\r\n\r\nHere&#39;s some simple code and example input:\r\n\r\nXSLT template:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\r\n  version=&quot;1.0&quot;&gt;\r\n\r\n  &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;no&quot; indent=&quot;yes&quot;/&gt;\r\n \r\n  &lt;xsl:template match=&quot;/&quot;&gt;\r\n    &lt;xsl:copy-of select=&quot;.&quot;/&gt;\r\n  &lt;/xsl:template&gt;\r\n  \r\n&lt;/xsl:stylesheet&gt;\r\n```\r\n\r\nXML input:\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;ex:root xmlns:ex=&quot;example&quot;&gt;\r\n   &lt;ex:Property name=&quot;property-main-1&quot;\r\n                value=&quot;A pretty long value for an attribute. But we need to test the indentation as well&quot;/&gt;\r\n   &lt;ex:Property name=&quot;property-sub1-1&quot; value=&quot;I&#39;m the property from sub1.xml&quot;/&gt;\r\n   &lt;ex:Property name=&quot;property-sub2-1&quot; value=&quot;I&#39;m the property from sub2.xml&quot;/&gt;\r\n&lt;/ex:root&gt;\r\n\r\n```","title":"Saxon-HE 9.x, 11.x, 12.x - Indentation differences (depending on operating system (Debian vs. Ubuntu vs. RedHat) - unconfirmed)","body":"<p>Here's an interesting observation. Indentation of XSLT transformation is different by operating system. Same Java code and XSLT template and Saxon-HE 11.2:</p>\n<p>Ubuntu 22.04:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;isee:ISEE-Event xmlns:ex=&quot;http://www.example.com/schemas/ex/5.00&quot;\n                 xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                 schemaVersion=&quot;5.00&quot;&gt;\n</code></pre>\n<p>Debian 10 and RedHat</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;isee:ISEE-Event xmlns:ex=&quot;http://www.example.com/schemas/ex/5.00&quot;\n                  xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n                  schemaVersion=&quot;5.00&quot;&gt;\n</code></pre>\n<p>notice the extra space for the indented 2nd and 3rd line.</p>\n<p>I understand that indentation is not strictly specified.\nDoes anyone have an explanation why this was implemented this way, specifically why it was changed?</p>\n<p>Saxon-HE 9.x did not exhibit this behaviour.</p>\n<p>Saxon-HE 12.2 consistently adds the extra space, regardless of operating system.</p>\n<p>Here's some simple code and example input:</p>\n<p>XSLT template:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot;\n  version=&quot;1.0&quot;&gt;\n\n  &lt;xsl:output method=&quot;xml&quot; omit-xml-declaration=&quot;no&quot; indent=&quot;yes&quot;/&gt;\n \n  &lt;xsl:template match=&quot;/&quot;&gt;\n    &lt;xsl:copy-of select=&quot;.&quot;/&gt;\n  &lt;/xsl:template&gt;\n  \n&lt;/xsl:stylesheet&gt;\n</code></pre>\n<p>XML input:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;ex:root xmlns:ex=&quot;example&quot;&gt;\n   &lt;ex:Property name=&quot;property-main-1&quot;\n                value=&quot;A pretty long value for an attribute. But we need to test the indentation as well&quot;/&gt;\n   &lt;ex:Property name=&quot;property-sub1-1&quot; value=&quot;I'm the property from sub1.xml&quot;/&gt;\n   &lt;ex:Property name=&quot;property-sub2-1&quot; value=&quot;I'm the property from sub2.xml&quot;/&gt;\n&lt;/ex:root&gt;\n\n</code></pre>\n"},{"tags":["java","jframe","frame","taskbar"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686208957,"post_id":76429481,"comment_id":134768431,"body_markdown":"So, you want to specify a task bar icon, but not use a Swing (or I assume JavaFX) to do it?","body":"So, you want to specify a task bar icon, but not use a Swing (or I assume JavaFX) to do it?"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686209005,"post_id":76429481,"comment_id":134768437,"body_markdown":"Why are you using `JFrame`?. The way to add a taskbar icon is using `SystemTray.getSystemTray().add(new TrayIcon(image, tooltip))`","body":"Why are you using <code>JFrame</code>?. The way to add a taskbar icon is using <code>SystemTray.getSystemTray().add(new TrayIcon(image, tooltip))</code>"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686209073,"post_id":76429481,"comment_id":134768450,"body_markdown":"@Jorn That&#39;s not the taskbar, that&#39;s the system tray","body":"@Jorn That&#39;s not the taskbar, that&#39;s the system tray"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686209224,"post_id":76429481,"comment_id":134768491,"body_markdown":"Then by taksbar icon you just mean a shortcut? That&#39;s an OS-level thing, not an application-level thing.","body":"Then by taksbar icon you just mean a shortcut? That&#39;s an OS-level thing, not an application-level thing."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1686209292,"post_id":76429481,"comment_id":134768506,"body_markdown":"@Jorn No, by &quot;task bar&quot; they mean the icon which represents the instance of the application which appears on the task bar (on Windows, that would the icon/button, which appears next to the start button) - The &quot;system tray&quot; typically appears on the opposite end (from the start button) and provides access to &quot;system&quot; features, like WiFi and sound","body":"@Jorn No, by &quot;task bar&quot; they mean the icon which represents the instance of the application which appears on the task bar (on Windows, that would the icon/button, which appears next to the start button) - The &quot;system tray&quot; typically appears on the opposite end (from the start button) and provides access to &quot;system&quot; features, like WiFi and sound"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686209386,"post_id":76429481,"comment_id":134768524,"body_markdown":"@MadProgrammer Okay, it&#39;s clear now. Then the answer is &quot;don&#39;t do that, even if you can. Those buttons should always be tied to windows.&quot;","body":"@MadProgrammer Okay, it&#39;s clear now. Then the answer is &quot;don&#39;t do that, even if you can. Those buttons should always be tied to windows.&quot;"},{"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"score":0,"creation_date":1686209533,"post_id":76429481,"comment_id":134768560,"body_markdown":"yes @MadProgrammer you are right. I want shortcut icon which appears on Taskbar while application is running. \ncan we use JavaFX in Java version 17.0.4.1?","body":"yes @MadProgrammer you are right. I want shortcut icon which appears on Taskbar while application is running.  can we use JavaFX in Java version 17.0.4.1?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1686210283,"post_id":76429481,"comment_id":134768671,"body_markdown":"@AnjaliYadav The question though is, why don&#39;t you want a window?","body":"@AnjaliYadav The question though is, why don&#39;t you want a window?"},{"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"score":0,"creation_date":1686213878,"post_id":76429481,"comment_id":134769293,"body_markdown":"@MadProgrammer Will window works for display the Taskbar icon?","body":"@MadProgrammer Will window works for display the Taskbar icon?"},{"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"score":0,"creation_date":1686214705,"post_id":76429481,"comment_id":134769442,"body_markdown":"@MadProgrammer    \t\t\nWindow window = new Window();\nwindow.setIconImage(img);\n\ncan i use like this?","body":"@MadProgrammer    \t\t Window window = new Window(); window.setIconImage(img);  can i use like this?"}],"owner":{"account_id":28677146,"reputation":1,"user_id":21959037,"display_name":"Anjali Yadav"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686215784,"creation_date":1686208851,"question_id":76429481,"body_markdown":"[1 image](https://i.stack.imgur.com/N4Ewv.png)\r\n[2 image](https://i.stack.imgur.com/5UnmZ.png)\r\n\r\n\r\n```\r\nprivate void displayTaskbarIcon() {\r\n     \t\r\n   \tIEC iec = new IEC();\r\n     \t\r\n    StringBuffer installPathBuffer = new StringBuffer();\r\n   \tinstallPathBuffer.append(iec.recoverIEFPath());\r\n   \tinstallPathBuffer.append(java.io.File.separator);\r\n   \tinstallPathBuffer.append(&quot;resources&quot;);\r\n   \tinstallPathBuffer.append(java.io.File.separator);\r\n   \tinstallPathBuffer.append(&quot;graphic&quot;);\r\n   \tinstallPathBuffer.append(java.io.File.separator);\r\n   \tinstallPathBuffer.append(&quot;icons&quot;);\r\n   \tinstallPathBuffer.append(java.io.File.separator);\r\n   \tinstallPathBuffer.append(&quot;3DSCompass.png&quot;);\r\n   \t\t\t\t\r\n   \tSystem.out.println(installPathBuffer.toString());\r\n   \t\t\r\n   \tImage img = Toolkit.getDefaultToolkit().createImage(installPathBuffer.toString());\r\n   \t\t\r\n   \tJFrame frame = new JFrame();\r\n   \tframe.setIconImage(img);\r\n   \tframe.setAlwaysOnTop(true);\r\n   \tframe.setResizable(false);\r\n   \tframe.setVisible(true);\r\n   \tframe.setTitle(&quot;XCAD Jobs Client Configuration&quot;);\r\n   \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n}\r\n```\r\n\r\nTrying to set Taskbar Icon using frame. It works but in left top corner small frame is also displayed with icon and configuration page. How I can fix this. I don&#39;t want that small frame at left top corner. ","title":"Try to add Taskbar Icon","body":"<p><a href=\"https://i.stack.imgur.com/N4Ewv.png\" rel=\"nofollow noreferrer\">1 image</a>\n<a href=\"https://i.stack.imgur.com/5UnmZ.png\" rel=\"nofollow noreferrer\">2 image</a></p>\n<pre><code>private void displayTaskbarIcon() {\n        \n    IEC iec = new IEC();\n        \n    StringBuffer installPathBuffer = new StringBuffer();\n    installPathBuffer.append(iec.recoverIEFPath());\n    installPathBuffer.append(java.io.File.separator);\n    installPathBuffer.append(&quot;resources&quot;);\n    installPathBuffer.append(java.io.File.separator);\n    installPathBuffer.append(&quot;graphic&quot;);\n    installPathBuffer.append(java.io.File.separator);\n    installPathBuffer.append(&quot;icons&quot;);\n    installPathBuffer.append(java.io.File.separator);\n    installPathBuffer.append(&quot;3DSCompass.png&quot;);\n                \n    System.out.println(installPathBuffer.toString());\n        \n    Image img = Toolkit.getDefaultToolkit().createImage(installPathBuffer.toString());\n        \n    JFrame frame = new JFrame();\n    frame.setIconImage(img);\n    frame.setAlwaysOnTop(true);\n    frame.setResizable(false);\n    frame.setVisible(true);\n    frame.setTitle(&quot;XCAD Jobs Client Configuration&quot;);\n    frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n}\n</code></pre>\n<p>Trying to set Taskbar Icon using frame. It works but in left top corner small frame is also displayed with icon and configuration page. How I can fix this. I don't want that small frame at left top corner.</p>\n"},{"tags":["java","maven","intellij-idea"],"comments":[{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1610363368,"post_id":65665059,"comment_id":116099887,"body_markdown":"Are you using any proxy? Are these dependencies related to any &quot;corporate repository&quot;? IntelliJ by default uses its default embedded Maven, its settings could differ to your &quot;maven prompt&quot;. Could you show an error screen or something about the IntellJ error please?","body":"Are you using any proxy? Are these dependencies related to any &quot;corporate repository&quot;? IntelliJ by default uses its default embedded Maven, its settings could differ to your &quot;maven prompt&quot;. Could you show an error screen or something about the IntellJ error please?"},{"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"score":0,"creation_date":1610364058,"post_id":65665059,"comment_id":116100205,"body_markdown":"Yes, I am using a proxy which is set inside the Settings.xml. The dependencies are placed inside a corporate repository or lets say a local nexus. IntelliJ doesnt prompt an error for downloading the dependencies but shows errors for the used classes not to be found.","body":"Yes, I am using a proxy which is set inside the Settings.xml. The dependencies are placed inside a corporate repository or lets say a local nexus. IntelliJ doesnt prompt an error for downloading the dependencies but shows errors for the used classes not to be found."},{"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"score":0,"creation_date":1610364108,"post_id":65665059,"comment_id":116100224,"body_markdown":"@sigur this is an example error here `java: package org.aspectj.lang does not exist`","body":"@sigur this is an example error here <code>java: package org.aspectj.lang does not exist</code>"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":0,"creation_date":1610370893,"post_id":65665059,"comment_id":116103220,"body_markdown":"If I am in your case I should go for these: which settings.xml and local repository is using IntelliJ Maven (Go to Settings and look for Tools &gt; Maven) and then execute an Invalidate Caches and Restart of IntelliJ","body":"If I am in your case I should go for these: which settings.xml and local repository is using IntelliJ Maven (Go to Settings and look for Tools &gt; Maven) and then execute an Invalidate Caches and Restart of IntelliJ"}],"answers":[{"tags":[],"owner":{"account_id":348818,"reputation":12356,"user_id":683735,"accept_rate":100,"display_name":"Konstantin Pribluda"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1610361038,"creation_date":1610361038,"answer_id":65665133,"question_id":65665059,"body_markdown":"Just open maven pom.xml as project instead of creating new project from sources \r\n","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>Just open maven pom.xml as project instead of creating new project from sources</p>\n"},{"tags":[],"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"down_vote_count":1,"up_vote_count":7,"is_accepted":true,"score":6,"last_activity_date":1610446168,"creation_date":1610446168,"answer_id":65681783,"question_id":65665059,"body_markdown":"IntelliJ seems to handle an Index for all dependencies inside the project. And this Index was not correctly handled in my case by IntelliJ.\r\n\r\nBut I found out that I can manually clear this cache/index by using following function:\r\n\r\n`File &gt; Invalidate Caches / Restart...`","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>IntelliJ seems to handle an Index for all dependencies inside the project. And this Index was not correctly handled in my case by IntelliJ.</p>\n<p>But I found out that I can manually clear this cache/index by using following function:</p>\n<p><code>File &gt; Invalidate Caches / Restart...</code></p>\n"},{"tags":[],"owner":{"account_id":20315001,"reputation":39,"user_id":14901082,"display_name":"Avi"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1618911133,"creation_date":1618911133,"answer_id":67176216,"question_id":65665059,"body_markdown":"In case that the problem still exists after `File &gt; Invalidate Caches / Restart...` (as suggested by @Snickbrack), reload the maven projects by `Maven &gt; Reload all maven projects`.","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>In case that the problem still exists after <code>File &gt; Invalidate Caches / Restart...</code> (as suggested by @Snickbrack), reload the maven projects by <code>Maven &gt; Reload all maven projects</code>.</p>\n"},{"tags":[],"owner":{"account_id":23382598,"reputation":9,"user_id":17448537,"display_name":"user17448537"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637246871,"creation_date":1637246711,"answer_id":70021834,"question_id":65665059,"body_markdown":"Please run the command `mvn idea:idea` it will work.","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>Please run the command <code>mvn idea:idea</code> it will work.</p>\n"},{"tags":[],"owner":{"account_id":5208369,"reputation":623,"user_id":4165553,"accept_rate":53,"display_name":"Aqeel Haider"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1660333232,"creation_date":1660333232,"answer_id":73339045,"question_id":65665059,"body_markdown":"Right click on pom.xml Maven -&gt; Reload project","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>Right click on pom.xml Maven -&gt; Reload project</p>\n"},{"tags":[],"owner":{"account_id":12377758,"reputation":1,"user_id":9024776,"display_name":"goodluckajay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661063499,"creation_date":1660666168,"answer_id":73377056,"question_id":65665059,"body_markdown":"Please check the maven home path by following the steps below: \r\n1. Select the project in Project window &gt;&gt; File &gt;&gt; settings&gt;&gt; Build,Execution,Deployment &gt;&gt; Maven  \r\n2. Check the &#39;Maven home path&#39; as per Maven installation location. It will download all the dependencies.","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>Please check the maven home path by following the steps below:</p>\n<ol>\n<li>Select the project in Project window &gt;&gt; File &gt;&gt; settings&gt;&gt; Build,Execution,Deployment &gt;&gt; Maven</li>\n<li>Check the 'Maven home path' as per Maven installation location. It will download all the dependencies.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28761959,"reputation":21,"user_id":22027663,"display_name":"Deepa Aggarwal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686215781,"creation_date":1686028203,"answer_id":76411586,"question_id":65665059,"body_markdown":"I had the same problem. **Right click** on **pom.xml -&gt; maven-&gt; Reload Project,** Resolved my problem.","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>I had the same problem. <strong>Right click</strong> on <strong>pom.xml -&gt; maven-&gt; Reload Project,</strong> Resolved my problem.</p>\n"}],"owner":{"account_id":4962325,"reputation":1304,"user_id":3992990,"accept_rate":63,"display_name":"Snickbrack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9490,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65681783,"answer_count":7,"score":4,"last_activity_date":1686215781,"creation_date":1610360695,"question_id":65665059,"body_markdown":"I have a Spring Project in which I am using Maven to manage my dependencies. I have some (5 to 10) packages mentioned inside the POM-File and Maven is successfully downloading them into my local repository.\r\n\r\n\r\nBut IntelliJ is not recognizing these packages. Not even the SpringBoot-Packages.\r\n\r\nI have tried different things:\r\n- Delete local Maven-Repository\r\n- Create a new Project inside IntelliJ from existing Sources but with the same Directory as the original Project\r\n- Create a new Project inside IntelliJ from existing Sources but I have copied the `src`-Folder and the POM-File to a new Directory first\r\n\r\nWhy is IntelliJ not recognizing the Maven-Dependencies?\r\n\r\nP.S.: The Maven-Build is successful. So Maven IS recognizing the packages inside the repository.","title":"IntelliJ is not recognizing Maven Dependencies","body":"<p>I have a Spring Project in which I am using Maven to manage my dependencies. I have some (5 to 10) packages mentioned inside the POM-File and Maven is successfully downloading them into my local repository.</p>\n<p>But IntelliJ is not recognizing these packages. Not even the SpringBoot-Packages.</p>\n<p>I have tried different things:</p>\n<ul>\n<li>Delete local Maven-Repository</li>\n<li>Create a new Project inside IntelliJ from existing Sources but with the same Directory as the original Project</li>\n<li>Create a new Project inside IntelliJ from existing Sources but I have copied the <code>src</code>-Folder and the POM-File to a new Directory first</li>\n</ul>\n<p>Why is IntelliJ not recognizing the Maven-Dependencies?</p>\n<p>P.S.: The Maven-Build is successful. So Maven IS recognizing the packages inside the repository.</p>\n"},{"tags":["java","project-reactor","flux","reactive-streams","backpressure"],"comments":[{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1603452950,"post_id":64499066,"comment_id":114048897,"body_markdown":"Do you mean something like `Flux.buffer()`?","body":"Do you mean something like <code>Flux.buffer()</code>?"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1603459539,"post_id":64499066,"comment_id":114052040,"body_markdown":"Please [edit] your question to include some kind of diagram, how you want to read the values 1,2,3,4,5,6,7,8,9,10 from the example `range()` you have build in your application.","body":"Please <a href=\"https://stackoverflow.com/posts/64499066/edit\">edit</a> your question to include some kind of diagram, how you want to read the values 1,2,3,4,5,6,7,8,9,10 from the example <code>range()</code> you have build in your application."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1603460732,"post_id":64499066,"comment_id":114052650,"body_markdown":"This example code does not help. You are talking about reading the first 5 values, then pause, then read the next 5 values, but your example build an observable with 3 values in total and you read it with two separated subscriptions. This doesn&#39;t add up, it makes no sense of what you are trying to accomplish. Please [edit] your question to include a detailed description and/or diagram of how you want to read the data.","body":"This example code does not help. You are talking about reading the first 5 values, then pause, then read the next 5 values, but your example build an observable with 3 values in total and you read it with two separated subscriptions. This doesn&#39;t add up, it makes no sense of what you are trying to accomplish. Please <a href=\"https://stackoverflow.com/posts/64499066/edit\">edit</a> your question to include a detailed description and/or diagram of how you want to read the data."},{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":0,"creation_date":1603463340,"post_id":64499066,"comment_id":114053881,"body_markdown":"Have you looked into a `buffer(int)` or `window(int)`? This way you won&#39;t have the value emitted until events are gathered to that group. So, then you may apply your delay after such a group is released.","body":"Have you looked into a <code>buffer(int)</code> or <code>window(int)</code>? This way you won&#39;t have the value emitted until events are gathered to that group. So, then you may apply your delay after such a group is released."}],"answers":[{"tags":[],"owner":{"account_id":1244574,"reputation":13277,"user_id":1206301,"accept_rate":10,"display_name":"Alexei Kaigorodov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603483261,"creation_date":1603483261,"answer_id":64506590,"question_id":64499066,"body_markdown":"then you need a full-fledged asynchronous subscriber object, not just a chain of methods.\r\n\r\n    // use maven dependency &#39;org.df4j:df4j-core:8.3&#39;\r\n    import org.df4j.core.dataflow.Actor;\r\n    import org.df4j.core.port.InpFlow;\r\n    import org.junit.Assert;\r\n    import org.junit.Test;\r\n    import reactor.core.publisher.Flux;\r\n\r\n    public class FluxSubscriberTest {\r\n\r\n        @Test\r\n        public  void test10() {\r\n            FluxSubscriber subscriber = new FluxSubscriber();\r\n            Flux.range(1, 10).subscribe(subscriber.inp);\r\n            subscriber.start();\r\n            boolean ok = subscriber.blockingAwait(5000);\r\n            Assert.assertTrue(ok);\r\n        }\r\n\r\n        static class FluxSubscriber extends Actor {\r\n            InpFlow&lt;Integer&gt; inp = new InpFlow&lt;&gt;(this, 5);\r\n            int count = 0;\r\n\r\n            @Override\r\n            protected void runAction() throws Throwable {\r\n                if (inp.isCompleted()) {\r\n                    System.out.println(&quot;input stream completed&quot;);\r\n                    complete();\r\n                    return;\r\n                }\r\n                Integer value = inp.remove();\r\n                System.out.println(&quot;value=&quot;+value);\r\n                if (++count==5) {\r\n                    count = 0;\r\n                    System.out.println(&quot;pause:&quot;);\r\n                    delay(1000);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\nIn fact, it reads 5 items first, and then one by one after each call to `inp.remove()`. If this is not exactly what you want, then you can extend class `InpFlow` to modify the policy when it invokes `Subscription.request()`.\r\n\r\nSource codes are avalable at [https://github.com/akaigoro/df4j][1] (yes I am the author).\r\n\r\n\r\n  [1]: https://github.com/akaigoro/df4j","title":"Reading from a Flux&lt;Integer&gt; in chunks","body":"<p>then you need a full-fledged asynchronous subscriber object, not just a chain of methods.</p>\n<pre><code>// use maven dependency 'org.df4j:df4j-core:8.3'\nimport org.df4j.core.dataflow.Actor;\nimport org.df4j.core.port.InpFlow;\nimport org.junit.Assert;\nimport org.junit.Test;\nimport reactor.core.publisher.Flux;\n\npublic class FluxSubscriberTest {\n\n    @Test\n    public  void test10() {\n        FluxSubscriber subscriber = new FluxSubscriber();\n        Flux.range(1, 10).subscribe(subscriber.inp);\n        subscriber.start();\n        boolean ok = subscriber.blockingAwait(5000);\n        Assert.assertTrue(ok);\n    }\n\n    static class FluxSubscriber extends Actor {\n        InpFlow&lt;Integer&gt; inp = new InpFlow&lt;&gt;(this, 5);\n        int count = 0;\n\n        @Override\n        protected void runAction() throws Throwable {\n            if (inp.isCompleted()) {\n                System.out.println(&quot;input stream completed&quot;);\n                complete();\n                return;\n            }\n            Integer value = inp.remove();\n            System.out.println(&quot;value=&quot;+value);\n            if (++count==5) {\n                count = 0;\n                System.out.println(&quot;pause:&quot;);\n                delay(1000);\n            }\n        }\n    }\n}\n</code></pre>\n<p>In fact, it reads 5 items first, and then one by one after each call to <code>inp.remove()</code>. If this is not exactly what you want, then you can extend class <code>InpFlow</code> to modify the policy when it invokes <code>Subscription.request()</code>.</p>\n<p>Source codes are avalable at <a href=\"https://github.com/akaigoro/df4j\" rel=\"nofollow noreferrer\">https://github.com/akaigoro/df4j</a> (yes I am the author).</p>\n"},{"tags":[],"owner":{"account_id":1072190,"reputation":1518,"user_id":1071196,"accept_rate":72,"display_name":"jasiustasiu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686123426,"creation_date":1686123426,"answer_id":76420921,"question_id":64499066,"body_markdown":"`buffer` is the keyword you&#39;re looking for\r\n\r\n    Flux.range(1, 10)\r\n                .buffer(5)\r\n                .doOnNext(System.out::println)\r\n                .subscribe();\r\noutput:\r\n\r\n    [1, 2, 3, 4, 5]\r\n    [6, 7, 8, 9, 10]\r\n    \r\nhttps://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#buffer--","title":"Reading from a Flux&lt;Integer&gt; in chunks","body":"<p><code>buffer</code> is the keyword you're looking for</p>\n<pre><code>Flux.range(1, 10)\n            .buffer(5)\n            .doOnNext(System.out::println)\n            .subscribe();\n</code></pre>\n<p>output:</p>\n<pre><code>[1, 2, 3, 4, 5]\n[6, 7, 8, 9, 10]\n</code></pre>\n<p><a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#buffer--\" rel=\"nofollow noreferrer\">https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#buffer--</a></p>\n"}],"owner":{"account_id":477949,"reputation":5596,"user_id":889742,"accept_rate":28,"display_name":"Gonen I"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1479,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686215647,"creation_date":1603452265,"question_id":64499066,"body_markdown":"Is it possible do read from a webflux flux in chunks? ( other than using delayElements )\r\n\r\nFor example after I write \r\n\r\n    Flux.range(1, 10).doOnNext(System.out::println).take(5).subscribe();\r\n\r\nis there any way to continue to read the next 5 integers?\r\n\r\nIf not, is there an alternative for the consumer to decide when to request the next piece of data?\r\n\r\n\r\nEdit: \r\n\r\n**To clarify, I would like to read the first 5 values, then pause until an arbitrary later time in the program, then read the next 5 values without recreating the emitter flux. simply calling buffer() won&#39;t do**\r\n\r\n","title":"Reading from a Flux&lt;Integer&gt; in chunks","body":"<p>Is it possible do read from a webflux flux in chunks? ( other than using delayElements )</p>\n<p>For example after I write</p>\n<pre><code>Flux.range(1, 10).doOnNext(System.out::println).take(5).subscribe();\n</code></pre>\n<p>is there any way to continue to read the next 5 integers?</p>\n<p>If not, is there an alternative for the consumer to decide when to request the next piece of data?</p>\n<p>Edit:</p>\n<p><strong>To clarify, I would like to read the first 5 values, then pause until an arbitrary later time in the program, then read the next 5 values without recreating the emitter flux. simply calling buffer() won't do</strong></p>\n"},{"tags":["java","intellij-idea","directory","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686180108,"post_id":76427656,"comment_id":134765519,"body_markdown":"Likely just IntelliJ flattening the directories into their package representations. It&#39;s just a visual thing; you still have two directories, one nested under the other.","body":"Likely just IntelliJ flattening the directories into their package representations. It&#39;s just a visual thing; you still have two directories, one nested under the other."}],"answers":[{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686214966,"creation_date":1686214966,"answer_id":76430241,"question_id":76427656,"body_markdown":"In the Project Tool Window click the cogwheel icon -&gt; Tree Appearance, adjust &quot;Flatten Packages&quot; and &quot;Compact Middle Packages / Hide Empty Middle Packages&quot; options.\r\n \r\nIf you prefer Project Tool Window to match the file system structure exactly you can also switch from &quot;Project&quot; to &quot;Project Files&quot; view in the top left corner of the Project Tool Window.\r\n[![Screenshot][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GCf9D.png","title":"Issues adding a new directory inside of intellij","body":"<p>In the Project Tool Window click the cogwheel icon -&gt; Tree Appearance, adjust &quot;Flatten Packages&quot; and &quot;Compact Middle Packages / Hide Empty Middle Packages&quot; options.</p>\n<p>If you prefer Project Tool Window to match the file system structure exactly you can also switch from &quot;Project&quot; to &quot;Project Files&quot; view in the top left corner of the Project Tool Window.\n<a href=\"https://i.stack.imgur.com/GCf9D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GCf9D.png\" alt=\"Screenshot\" /></a></p>\n"}],"owner":{"account_id":28776145,"reputation":1,"user_id":22038741,"display_name":"advait raman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686215610,"creation_date":1686179956,"question_id":76427656,"body_markdown":"This is what I currently see:\r\n[![what i currently see][1]][1]\r\n\r\n\r\n\r\nWhen I add a new directory to my assets folder this happens:\r\n[![image][2]][2]\r\n\r\nI don&#39;t know if it&#39;s adding properly but for some reason I don&#39;t see it displaying under the `assets` folder like it&#39;s supposed to.\r\n\r\nOne thing that I tried that somewhat worked was adding a temporary file under the directory, and it worked until I deleted that file. After that point it went back to normal.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/65yfq.png\r\n  [2]: https://i.stack.imgur.com/peIXC.png","title":"Issues adding a new directory inside of intellij","body":"<p>This is what I currently see:\n<a href=\"https://i.stack.imgur.com/65yfq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/65yfq.png\" alt=\"what i currently see\" /></a></p>\n<p>When I add a new directory to my assets folder this happens:\n<a href=\"https://i.stack.imgur.com/peIXC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/peIXC.png\" alt=\"image\" /></a></p>\n<p>I don't know if it's adding properly but for some reason I don't see it displaying under the <code>assets</code> folder like it's supposed to.</p>\n<p>One thing that I tried that somewhat worked was adding a temporary file under the directory, and it worked until I deleted that file. After that point it went back to normal.</p>\n"},{"tags":["java","spring","multithreading","threadpoolexecutor"],"comments":[{"owner":{"account_id":2214769,"reputation":300,"user_id":1955694,"display_name":"Rauf Aghayev"},"score":0,"creation_date":1551102477,"post_id":54866765,"comment_id":96505568,"body_markdown":"If you want to avoid to have unnecessary live threads in the pool, please, consider to use `CachedThreadPool`, which creates thread when it&#39;s necessary. But, you should take into account `maxPoolSize`, because by default it&#39;s `Integer.MAX_VALUE`.","body":"If you want to avoid to have unnecessary live threads in the pool, please, consider to use <code>CachedThreadPool</code>, which creates thread when it&#39;s necessary. But, you should take into account <code>maxPoolSize</code>, because by default it&#39;s <code>Integer.MAX_VALUE</code>."},{"owner":{"account_id":12411593,"reputation":417,"user_id":9043460,"display_name":"Vio Ariton"},"score":0,"creation_date":1551103546,"post_id":54866765,"comment_id":96506295,"body_markdown":"Singleton since once the threads are created, they are waiting for you to give them tasks. Creating threads and removing them isn&#39;t a cheap operation.","body":"Singleton since once the threads are created, they are waiting for you to give them tasks. Creating threads and removing them isn&#39;t a cheap operation."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1551106307,"post_id":54866765,"comment_id":96508063,"body_markdown":"Re, &quot;...create a new `ThreadPoolExecutor` on every request?&quot; That would defeat the purpose of using a thread pool.  The _entire point_ of using a thread pool is to prevent your program from having to create and then destroy a new thread for every request.","body":"Re, &quot;...create a new <code>ThreadPoolExecutor</code> on every request?&quot; That would defeat the purpose of using a thread pool.  The <i>entire point</i> of using a thread pool is to prevent your program from having to create and then destroy a new thread for every request."}],"answers":[{"tags":[],"owner":{"account_id":10717922,"reputation":41,"user_id":7894381,"display_name":"Sergei Golitsyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686215297,"creation_date":1686215297,"answer_id":76430279,"question_id":54866765,"body_markdown":"You can try to create Spring `@Bean` like:\r\n\r\n    @Bean\r\n    public ExecutorService cachedThreadPool() {\r\n       return Executors.newFixedThreadPool(5);\r\n    }\r\n\r\nOr you can use the inner `ThreadPoolExecutor`. It all depends on your needs. \r\n","title":"New ThreadPoolExecutor for every request, or create a singleton spring bean of ThreadPoolExecutor","body":"<p>You can try to create Spring <code>@Bean</code> like:</p>\n<pre><code>@Bean\npublic ExecutorService cachedThreadPool() {\n   return Executors.newFixedThreadPool(5);\n}\n</code></pre>\n<p>Or you can use the inner <code>ThreadPoolExecutor</code>. It all depends on your needs.</p>\n"}],"owner":{"account_id":14616987,"reputation":43,"user_id":10556815,"display_name":"Kartik Kodag"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686215297,"creation_date":1551099509,"question_id":54866765,"body_markdown":"I have a Restful service that uploads images to S3 bucket. I was thinking of parallel uploads using `ThreadPoolExecutor`. \r\n\r\nBut should I create a global pool (like `Spring` singleton bean), or create a new `ThreadPoolExecutor` on every request? \r\n\r\nNot sure if creating a bean is great idea as `corePoolSize` number of threads will always be alive in the application.\r\nThanks, in advance.","title":"New ThreadPoolExecutor for every request, or create a singleton spring bean of ThreadPoolExecutor","body":"<p>I have a Restful service that uploads images to S3 bucket. I was thinking of parallel uploads using <code>ThreadPoolExecutor</code>. </p>\n\n<p>But should I create a global pool (like <code>Spring</code> singleton bean), or create a new <code>ThreadPoolExecutor</code> on every request? </p>\n\n<p>Not sure if creating a bean is great idea as <code>corePoolSize</code> number of threads will always be alive in the application.\nThanks, in advance.</p>\n"},{"tags":["java","spring"],"owner":{"account_id":23171414,"reputation":195,"user_id":17270610,"display_name":"dynamo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686215054,"creation_date":1686215054,"question_id":76430247,"body_markdown":"A method that i run inside my spring project uses a template but the template isnt being referenced/setup correctly by the looks of it.\r\n\r\nThis is my app-config.xml where i am trying to reference the file. It is the notifications.properties file that i am trying to reference. There is a file inside there that is being referenced in my code.\r\n``` \r\n&lt;bean id=&quot;messageSource&quot; class=&quot;com.company.application.util.spring.context.TypeConvertingReloadableResourceBundleMessageSource&quot;&gt;\r\n\t\t&lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot; /&gt;\r\n\t\t&lt;property name=&quot;basenames&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/components&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/messages&lt;/value&gt;\r\n\t\t\t\t&lt;value&gt;WEB-INF/spring/i18n/errors&lt;/value&gt;\r\n                &lt;value&gt;WEB-INF/jsp/secure/support/messages&lt;/value&gt;\r\n                &lt;value&gt;com/company/application/notifications/notifications&lt;/value&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n ```\r\n\r\nThis is the relevant parts of the stacktrace i am getting\r\n```\r\nAn error occurred during execution of handler: com.company.web.mvc.usermanagement.ViewUsersController#createRole(SystemUserDetailsDto, BindingResult, Model, SessionStatus)\r\norg.apache.velocity.exception.ResourceNotFoundException: Unable to find resource &#39;en/newuserpassword.html&#39;\r\n\tat org.apache.velocity.runtime.resource.ResourceManagerImpl.loadResource(ResourceManagerImpl.java:474)\r\n\tat org.apache.velocity.runtime.resource.ResourceManagerImpl.getResource(ResourceManagerImpl.java:352)\r\n ```\r\n\r\nthis is the file it is trying to reach which is used when creating a new user\r\n```new.user.password.template=en/newuserpassword.html```\r\n\r\n[![folder structure here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ref94.jpg","title":"Spring configuration - resource not found","body":"<p>A method that i run inside my spring project uses a template but the template isnt being referenced/setup correctly by the looks of it.</p>\n<p>This is my app-config.xml where i am trying to reference the file. It is the notifications.properties file that i am trying to reference. There is a file inside there that is being referenced in my code.</p>\n<pre><code>&lt;bean id=&quot;messageSource&quot; class=&quot;com.company.application.util.spring.context.TypeConvertingReloadableResourceBundleMessageSource&quot;&gt;\n        &lt;property name=&quot;cacheSeconds&quot; value=&quot;60&quot; /&gt;\n        &lt;property name=&quot;basenames&quot;&gt;\n            &lt;list&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/components&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/messages&lt;/value&gt;\n                &lt;value&gt;WEB-INF/spring/i18n/errors&lt;/value&gt;\n                &lt;value&gt;WEB-INF/jsp/secure/support/messages&lt;/value&gt;\n                &lt;value&gt;com/company/application/notifications/notifications&lt;/value&gt;\n            &lt;/list&gt;\n        &lt;/property&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>This is the relevant parts of the stacktrace i am getting</p>\n<pre><code>An error occurred during execution of handler: com.company.web.mvc.usermanagement.ViewUsersController#createRole(SystemUserDetailsDto, BindingResult, Model, SessionStatus)\norg.apache.velocity.exception.ResourceNotFoundException: Unable to find resource 'en/newuserpassword.html'\n    at org.apache.velocity.runtime.resource.ResourceManagerImpl.loadResource(ResourceManagerImpl.java:474)\n    at org.apache.velocity.runtime.resource.ResourceManagerImpl.getResource(ResourceManagerImpl.java:352)\n</code></pre>\n<p>this is the file it is trying to reach which is used when creating a new user\n<code>new.user.password.template=en/newuserpassword.html</code></p>\n<p><a href=\"https://i.stack.imgur.com/ref94.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ref94.jpg\" alt=\"folder structure here\" /></a></p>\n"},{"tags":["java","debugging","logging","java.util.logging"],"comments":[{"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"score":0,"creation_date":1700686765,"post_id":76430159,"comment_id":136686531,"body_markdown":"Does this answer your question? [How to use log levels in java](https://stackoverflow.com/questions/5817738/how-to-use-log-levels-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5817738/how-to-use-log-levels-in-java\">How to use log levels in java</a>"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686214686,"creation_date":1686214686,"answer_id":76430208,"question_id":76430159,"body_markdown":"JUL doesn&#39;t have DEBUG and TRACE levels, it has CONFIG, FINE, FINER and FINEST. You&#39;ll have to decide which ones to use.\r\n\r\nYou&#39;ll also have to replace ERROR with SEVERE.","title":"How to show debug logs using java.util.logging","body":"<p>JUL doesn't have DEBUG and TRACE levels, it has CONFIG, FINE, FINER and FINEST. You'll have to decide which ones to use.</p>\n<p>You'll also have to replace ERROR with SEVERE.</p>\n"}],"owner":{"account_id":26457156,"reputation":1,"user_id":20099614,"display_name":"Giacomo9o"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686214686,"creation_date":1686214330,"question_id":76430159,"body_markdown":"I&#39;ve been asked to replace log4j with java.util.logging but i have a problem in replacing the debug logs. \r\n\r\nIn log4j when you want to show logs only in debug mode you just have to write:\r\n\r\nlog.debug(&quot;msg&quot;);\r\n\r\nI can&#39;t find the equivalent method in java.util.logging. Can someone help me?  \r\n \r\n\r\nI tried setting the different Levels of the log, but I didn&#39;t find any solution.","title":"How to show debug logs using java.util.logging","body":"<p>I've been asked to replace log4j with java.util.logging but i have a problem in replacing the debug logs.</p>\n<p>In log4j when you want to show logs only in debug mode you just have to write:</p>\n<p>log.debug(&quot;msg&quot;);</p>\n<p>I can't find the equivalent method in java.util.logging. Can someone help me?</p>\n<p>I tried setting the different Levels of the log, but I didn't find any solution.</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686150621,"post_id":76420795,"comment_id":134760430,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"score":0,"creation_date":1686214672,"post_id":76420795,"comment_id":134769434,"body_markdown":"I updated the question. Hopefully, now it is more understandable.","body":"I updated the question. Hopefully, now it is more understandable."}],"owner":{"account_id":26015587,"reputation":31,"user_id":19723949,"display_name":"Jaka Kovše"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686214628,"creation_date":1686122445,"question_id":76420795,"body_markdown":"I&#39;ve got an EEG data that is comprised of 24 channels and am trying to create a plot on which you can see all of this data. \r\n[It looks like this.][1] \r\n\r\nI created a method that checks which XYChart.Series was clicked and colours it blue and al of the others back to black:\r\n\r\n```java\r\nprivate void colorSelectedChannel(MouseEvent e) {\r\n  \tif (selectedChannels.size() == 0) {\r\n  \t\tfor (int i = 0; i &lt; allChannelSeries.size(); i++) {\r\n    \t\tallChannelSeries.get(i).getNode().setStyle(&quot;-fx-stroke: black;&quot;);\r\n    \t}\r\n  \t} else {\r\n  \t\tfor (int i = 0; i &lt; selectedChannels.size(); i++) {\r\n  \t\t\tselectedChannelSeries.get(i).getNode().setStyle(&quot;-fx-stroke: black;&quot;);\r\n  \t\t}\r\n  \t}\r\n  \te.getPickResult().getIntersectedNode().setStyle(&quot;-fx-stroke:blue;&quot;);\r\n\r\n  }\r\n```\r\n\r\nThe problem here is that you really need to hit the right pixel in order for the mouseEvent to get the node. I want to enlarge hitbox of a the XYChart.Series.\r\n\r\nThere is a similar question [here](https://stackoverflow.com/questions/50352737/increase-the-hitbox-of-circle-in-javafx) but I think I can&#39;t use its solution, because I can&#39;t increase the stroke width of XYChart.Series as it is a line in itself.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mOJIa.png","title":"Increase a hitbox on XYChart.Series in JavaFX","body":"<p>I've got an EEG data that is comprised of 24 channels and am trying to create a plot on which you can see all of this data.\n<a href=\"https://i.stack.imgur.com/mOJIa.png\" rel=\"nofollow noreferrer\">It looks like this.</a></p>\n<p>I created a method that checks which XYChart.Series was clicked and colours it blue and al of the others back to black:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void colorSelectedChannel(MouseEvent e) {\n    if (selectedChannels.size() == 0) {\n        for (int i = 0; i &lt; allChannelSeries.size(); i++) {\n            allChannelSeries.get(i).getNode().setStyle(&quot;-fx-stroke: black;&quot;);\n        }\n    } else {\n        for (int i = 0; i &lt; selectedChannels.size(); i++) {\n            selectedChannelSeries.get(i).getNode().setStyle(&quot;-fx-stroke: black;&quot;);\n        }\n    }\n    e.getPickResult().getIntersectedNode().setStyle(&quot;-fx-stroke:blue;&quot;);\n\n  }\n</code></pre>\n<p>The problem here is that you really need to hit the right pixel in order for the mouseEvent to get the node. I want to enlarge hitbox of a the XYChart.Series.</p>\n<p>There is a similar question <a href=\"https://stackoverflow.com/questions/50352737/increase-the-hitbox-of-circle-in-javafx\">here</a> but I think I can't use its solution, because I can't increase the stroke width of XYChart.Series as it is a line in itself.</p>\n"},{"tags":["java","android","asp.net-web-api","postman","retrofit"],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686214545,"creation_date":1686204015,"question_id":76428990,"body_markdown":"I have been working on a .NET web service that I developed and currently have it hosted on a local Windows server. In order to access it, I substituted &quot;localhost&quot; with the corresponding IP address. Unfortunately, I&#39;m encountering a 500 response as a result. Since I&#39;m new to Android API development, I&#39;m unsure about the necessary steps to resolve this issue. I want to ensure that both my actual mobile device and desktop are connected to the same network, and I have verified that the IP address is up to date in case it has changed (as it is an office network). Any suggestions or advice on how to troubleshoot this problem would be greatly appreciated. Thank you!\r\n\r\n**ApiServices.java**\r\n\r\n    public interface ApiService {\r\n        @FormUrlEncoded\r\n        @POST(&quot;ApiTest/Webservice1.asmx?op=RegVerification&quot;)\r\n        Call&lt;VerificationResponse&gt; verifyRegistration(@Field(&quot;EmpID_In&quot;) String empId);\r\n    \r\n        @FormUrlEncoded\r\n        @POST(&quot;ApiTest/Webservice1.asmx?op=RegFinal&quot;)\r\n        Call&lt;String&gt; registerFinal(@Field(&quot;AndroidID_In&quot;) String androidId, @Field(&quot;Pin_In&quot;) String pin, @Field(&quot;EmpID_In&quot;) String empId);\r\n    }\r\n\r\n**HomeFragment.java**\r\n\r\n \r\n\r\n     // Create Retrofit instance\r\n            Retrofit retrofit = new Retrofit.Builder()\r\n                    .baseUrl(&quot;http://192.168.68.158/&quot;)\r\n                    .addConverterFactory(GsonConverterFactory.create())\r\n                    .build();\r\n    \r\n            // Create the ApiService\r\n            apiService = retrofit.create(ApiService.class);\r\n    \r\n    \r\n     // Method to verify registration\r\n        private void verifyRegistration(String empId) {\r\n            Call&lt;VerificationResponse&gt; call = apiService.verifyRegistration(empId);\r\n            call.enqueue(new Callback&lt;VerificationResponse&gt;() {\r\n                @Override\r\n                public void onResponse(Call&lt;VerificationResponse&gt; call, Response&lt;VerificationResponse&gt; response) {\r\n                    if (response.isSuccessful()) {\r\n                        VerificationResponse verificationResponse = response.body();\r\n                        List&lt;String&gt; data = verificationResponse.getData();\r\n                        String error = verificationResponse.getError();\r\n    \r\n                        if (data != null) {\r\n                            // Handle successful response\r\n                            for (String value : data) {\r\n                                Toast.makeText(requireContext(), &quot;Data:&quot; + value, Toast.LENGTH_SHORT).show();\r\n                            }\r\n                        } else if (error != null) {\r\n                            // Handle error response\r\n                            Toast.makeText(requireContext(), &quot;Error:&quot; + error, Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    } else {\r\n                        // Handle API error\r\n                        Log.e(TAG, &quot;API request failed. Response code: &quot; + response.code());\r\n                        Toast.makeText(requireContext(), &quot;API request failed. Response code:&quot; + response.code(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onFailure(Call&lt;VerificationResponse&gt; call, Throwable t) {\r\n                    // Handle the API call failure\r\n                    Log.e(TAG, &quot;API request failed: &quot; + t.getMessage());\r\n                    Toast.makeText(requireContext(), &quot;API request failed:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\r\n                }\r\n            });\r\n        }\r\n\r\n**network_security_config.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;network-security-config&gt;\r\n        &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\r\n            &lt;domain includeSubdomains=&quot;true&quot;&gt;192.168.68.140&lt;/domain&gt;\r\n        &lt;/domain-config&gt;\r\n    \r\n    &lt;/network-security-config&gt;\r\n\r\nYesterday, I encountered an unusual situation with the base URL and endpoints. In the morning, when I attempted to test the base and endpoint URLs using Postman, I received a satisfactory 200 OK response. However, in the evening, I started receiving a 500 response instead. I attempted various troubleshooting methods to rectify the issue but was unsuccessful. Eventually, I found a solution that resolved the problem.\r\n\r\n**Postman**\r\n\r\nin the Body&gt;raw  i added this \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;soap:Envelope xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n      &lt;soap:Body&gt;\r\n        &lt;RegVerification xmlns=&quot;http://tempuri.org/&quot;&gt;\r\n          &lt;EmpID_In&gt;10001&lt;/EmpID_In&gt;\r\n        &lt;/RegVerification&gt;\r\n      &lt;/soap:Body&gt;\r\n    &lt;/soap:Envelope&gt;\r\n\r\n\r\nin the Headers i modify Content-Type \r\n\r\nand added this value `text/xml; charset=utf-8`\r\n\r\n","title":"Handling Return Code 500 in .NET Web Services using Retrofit","body":"<p>I have been working on a .NET web service that I developed and currently have it hosted on a local Windows server. In order to access it, I substituted &quot;localhost&quot; with the corresponding IP address. Unfortunately, I'm encountering a 500 response as a result. Since I'm new to Android API development, I'm unsure about the necessary steps to resolve this issue. I want to ensure that both my actual mobile device and desktop are connected to the same network, and I have verified that the IP address is up to date in case it has changed (as it is an office network). Any suggestions or advice on how to troubleshoot this problem would be greatly appreciated. Thank you!</p>\n<p><strong>ApiServices.java</strong></p>\n<pre><code>public interface ApiService {\n    @FormUrlEncoded\n    @POST(&quot;ApiTest/Webservice1.asmx?op=RegVerification&quot;)\n    Call&lt;VerificationResponse&gt; verifyRegistration(@Field(&quot;EmpID_In&quot;) String empId);\n\n    @FormUrlEncoded\n    @POST(&quot;ApiTest/Webservice1.asmx?op=RegFinal&quot;)\n    Call&lt;String&gt; registerFinal(@Field(&quot;AndroidID_In&quot;) String androidId, @Field(&quot;Pin_In&quot;) String pin, @Field(&quot;EmpID_In&quot;) String empId);\n}\n</code></pre>\n<p><strong>HomeFragment.java</strong></p>\n<pre><code> // Create Retrofit instance\n        Retrofit retrofit = new Retrofit.Builder()\n                .baseUrl(&quot;http://192.168.68.158/&quot;)\n                .addConverterFactory(GsonConverterFactory.create())\n                .build();\n\n        // Create the ApiService\n        apiService = retrofit.create(ApiService.class);\n\n\n // Method to verify registration\n    private void verifyRegistration(String empId) {\n        Call&lt;VerificationResponse&gt; call = apiService.verifyRegistration(empId);\n        call.enqueue(new Callback&lt;VerificationResponse&gt;() {\n            @Override\n            public void onResponse(Call&lt;VerificationResponse&gt; call, Response&lt;VerificationResponse&gt; response) {\n                if (response.isSuccessful()) {\n                    VerificationResponse verificationResponse = response.body();\n                    List&lt;String&gt; data = verificationResponse.getData();\n                    String error = verificationResponse.getError();\n\n                    if (data != null) {\n                        // Handle successful response\n                        for (String value : data) {\n                            Toast.makeText(requireContext(), &quot;Data:&quot; + value, Toast.LENGTH_SHORT).show();\n                        }\n                    } else if (error != null) {\n                        // Handle error response\n                        Toast.makeText(requireContext(), &quot;Error:&quot; + error, Toast.LENGTH_SHORT).show();\n                    }\n                } else {\n                    // Handle API error\n                    Log.e(TAG, &quot;API request failed. Response code: &quot; + response.code());\n                    Toast.makeText(requireContext(), &quot;API request failed. Response code:&quot; + response.code(), Toast.LENGTH_SHORT).show();\n                }\n            }\n\n            @Override\n            public void onFailure(Call&lt;VerificationResponse&gt; call, Throwable t) {\n                // Handle the API call failure\n                Log.e(TAG, &quot;API request failed: &quot; + t.getMessage());\n                Toast.makeText(requireContext(), &quot;API request failed:&quot; + t.getMessage(), Toast.LENGTH_SHORT).show();\n            }\n        });\n    }\n</code></pre>\n<p><strong>network_security_config.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;network-security-config&gt;\n    &lt;domain-config cleartextTrafficPermitted=&quot;true&quot;&gt;\n        &lt;domain includeSubdomains=&quot;true&quot;&gt;192.168.68.140&lt;/domain&gt;\n    &lt;/domain-config&gt;\n\n&lt;/network-security-config&gt;\n</code></pre>\n<p>Yesterday, I encountered an unusual situation with the base URL and endpoints. In the morning, when I attempted to test the base and endpoint URLs using Postman, I received a satisfactory 200 OK response. However, in the evening, I started receiving a 500 response instead. I attempted various troubleshooting methods to rectify the issue but was unsuccessful. Eventually, I found a solution that resolved the problem.</p>\n<p><strong>Postman</strong></p>\n<p>in the Body&gt;raw  i added this</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;soap:Envelope xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:soap=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n  &lt;soap:Body&gt;\n    &lt;RegVerification xmlns=&quot;http://tempuri.org/&quot;&gt;\n      &lt;EmpID_In&gt;10001&lt;/EmpID_In&gt;\n    &lt;/RegVerification&gt;\n  &lt;/soap:Body&gt;\n&lt;/soap:Envelope&gt;\n</code></pre>\n<p>in the Headers i modify Content-Type</p>\n<p>and added this value <code>text/xml; charset=utf-8</code></p>\n"},{"tags":["java","spring","spring-boot","properties"],"answers":[{"tags":[],"owner":{"account_id":10251787,"reputation":86,"user_id":7565792,"display_name":"Mihael Mihov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686214043,"creation_date":1686214043,"answer_id":76430118,"question_id":76429989,"body_markdown":"From the info you have provided, I&#39;m assuming that you have missed to add some `spring.cloud.vault.kv` properties for your application. Check this blogpost, it might help you: https://medium.com/geekculture/configuring-vault-with-spring-boot-100889961b50","title":"Bootstrap properties not picking up during running spring-boot application, showing error","body":"<p>From the info you have provided, I'm assuming that you have missed to add some <code>spring.cloud.vault.kv</code> properties for your application. Check this blogpost, it might help you: <a href=\"https://medium.com/geekculture/configuring-vault-with-spring-boot-100889961b50\" rel=\"nofollow noreferrer\">https://medium.com/geekculture/configuring-vault-with-spring-boot-100889961b50</a></p>\n"}],"owner":{"account_id":28778604,"reputation":1,"user_id":22040677,"display_name":"Sayantan Sarkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686214043,"creation_date":1686213127,"question_id":76429989,"body_markdown":"Whenever I&#39;m trying to run my spring-boot application which consists of bootstrap.properties, it&#39;s showing this error. But whenever I make the vault false, it&#39;s working correctly\r\n\r\n```\r\nFailed to bind properties under &#39;spring.cloud.vault.kv&#39; to org.springframework.cloud.vault.config.VaultKeyValueBackendProperties:\r\n```\r\nIt seems that my application not able to pickup properties from bootstrap?\r\n\r\n# Bootstrap.properties\r\n\r\n```\r\n# Vault Configuration\r\nspring.cloud.vault.enabled=${VAULT_ENABLE:true}\r\nspring.cloud.vault.fail-fast=false\r\nspring.cloud.vault.token=${VAULT_TOKEN}\r\nspring.cloud.vault.scheme=${VAULT_SCHEME:http}\r\nspring.cloud.vault.host=${VAULT_HOST:localhost}\r\nspring.cloud.vault.port=${VAULT_PORT:8200}\r\nspring.cloud.vault.generic.backend=secret/config\r\nspring.cloud.vault.generic.application-name=${VAULT_CONFIG:order-api}\r\n#Consul Configuration\r\nspring.cloud.consul.enabled=${CONSUL_ENABLE:true}\r\nspring.cloud.consul.host=${CONSUL_HOST:localhost}\r\nspring.cloud.consul.port=${CONSUL_PORT:8500}\r\nspring.cloud.consul.config.fail-fast=true\r\nspring.cloud.consul.discovery.fail-fast=true\r\nspring.cloud.consul.config.format=properties\r\nspring.cloud.consul.config.prefix=config\r\nspring.cloud.consul.config.name=${CONSUL_CONFIG}\r\nspring.cloud.consul.config.acl-token=${CONSUL_ACL_TOKEN:}\r\nspring.cloud.consul.config.watch.wait-time=${CONSUL_QUERY_DELAY:55}\r\nspring.cloud.consul.config.data-key=application.properties\r\n# Feign Configuration\r\nfeign.hystrix.enabled=true\r\n# Disabled Consul Health Check\r\nmanagement.health.consul.enabled=false\r\nspring.cloud.discovery.client.composite-indicator.enabled=false\r\n\r\n```\r\n# Pom.xml\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\r\n    &lt;artifactId&gt;order-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0-1-SNAPSHOT&lt;/version&gt;\r\n  &lt;/parent&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n  &lt;artifactId&gt;order-app&lt;/artifactId&gt;\r\n\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\r\n      &lt;artifactId&gt;order-web&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\r\n      &lt;artifactId&gt;order-streaming&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\r\n      &lt;artifactId&gt;order-common-utility&lt;/artifactId&gt;\r\n      &lt;version&gt;${project.version}&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-netflix-hystrix-dashboard&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n\r\n  &lt;build&gt;\r\n    &lt;finalName&gt;${project.name}&lt;/finalName&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;executable&gt;true&lt;/executable&gt;\r\n          &lt;mainClass&gt;com.gdn.partners.order.OrderApiApplication&lt;/mainClass&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n    &lt;resources&gt;\r\n      &lt;resource&gt;\r\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n      &lt;/resource&gt;\r\n      &lt;resource&gt;\r\n        &lt;filtering&gt;true&lt;/filtering&gt;\r\n        &lt;directory&gt;src/main/resources/public&lt;/directory&gt;\r\n        &lt;includes&gt;\r\n          &lt;include&gt;version&lt;/include&gt;\r\n        &lt;/includes&gt;\r\n      &lt;/resource&gt;\r\n    &lt;/resources&gt;\r\n  &lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nChanged dependencies, because I thought it might be a dependency mismatch.","title":"Bootstrap properties not picking up during running spring-boot application, showing error","body":"<p>Whenever I'm trying to run my spring-boot application which consists of bootstrap.properties, it's showing this error. But whenever I make the vault false, it's working correctly</p>\n<pre><code>Failed to bind properties under 'spring.cloud.vault.kv' to org.springframework.cloud.vault.config.VaultKeyValueBackendProperties:\n</code></pre>\n<p>It seems that my application not able to pickup properties from bootstrap?</p>\n<h1>Bootstrap.properties</h1>\n<pre><code># Vault Configuration\nspring.cloud.vault.enabled=${VAULT_ENABLE:true}\nspring.cloud.vault.fail-fast=false\nspring.cloud.vault.token=${VAULT_TOKEN}\nspring.cloud.vault.scheme=${VAULT_SCHEME:http}\nspring.cloud.vault.host=${VAULT_HOST:localhost}\nspring.cloud.vault.port=${VAULT_PORT:8200}\nspring.cloud.vault.generic.backend=secret/config\nspring.cloud.vault.generic.application-name=${VAULT_CONFIG:order-api}\n#Consul Configuration\nspring.cloud.consul.enabled=${CONSUL_ENABLE:true}\nspring.cloud.consul.host=${CONSUL_HOST:localhost}\nspring.cloud.consul.port=${CONSUL_PORT:8500}\nspring.cloud.consul.config.fail-fast=true\nspring.cloud.consul.discovery.fail-fast=true\nspring.cloud.consul.config.format=properties\nspring.cloud.consul.config.prefix=config\nspring.cloud.consul.config.name=${CONSUL_CONFIG}\nspring.cloud.consul.config.acl-token=${CONSUL_ACL_TOKEN:}\nspring.cloud.consul.config.watch.wait-time=${CONSUL_QUERY_DELAY:55}\nspring.cloud.consul.config.data-key=application.properties\n# Feign Configuration\nfeign.hystrix.enabled=true\n# Disabled Consul Health Check\nmanagement.health.consul.enabled=false\nspring.cloud.discovery.client.composite-indicator.enabled=false\n\n</code></pre>\n<h1>Pom.xml</h1>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\n    &lt;artifactId&gt;order-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0-1-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;artifactId&gt;order-app&lt;/artifactId&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\n      &lt;artifactId&gt;order-web&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\n      &lt;artifactId&gt;order-streaming&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.gdn.partners&lt;/groupId&gt;\n      &lt;artifactId&gt;order-common-utility&lt;/artifactId&gt;\n      &lt;version&gt;${project.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-bootstrap&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-consul-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-consul-discovery&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-vault-config&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-starter-netflix-hystrix&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-netflix-hystrix-dashboard&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;${project.name}&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;executable&gt;true&lt;/executable&gt;\n          &lt;mainClass&gt;com.gdn.partners.order.OrderApiApplication&lt;/mainClass&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n    &lt;resources&gt;\n      &lt;resource&gt;\n        &lt;directory&gt;src/main/resources&lt;/directory&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n      &lt;/resource&gt;\n      &lt;resource&gt;\n        &lt;filtering&gt;true&lt;/filtering&gt;\n        &lt;directory&gt;src/main/resources/public&lt;/directory&gt;\n        &lt;includes&gt;\n          &lt;include&gt;version&lt;/include&gt;\n        &lt;/includes&gt;\n      &lt;/resource&gt;\n    &lt;/resources&gt;\n  &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Changed dependencies, because I thought it might be a dependency mismatch.</p>\n"},{"tags":["java","intellij-idea","module"],"comments":[{"owner":{"account_id":9942939,"reputation":420,"user_id":7358869,"display_name":"Shivam..."},"score":0,"creation_date":1686129274,"post_id":76421374,"comment_id":134755481,"body_markdown":"Please add some screenshots from projext explorer","body":"Please add some screenshots from projext explorer"}],"answers":[{"tags":[],"owner":{"account_id":27687294,"reputation":45,"user_id":21134798,"display_name":"Dan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686150780,"creation_date":1686129009,"answer_id":76421656,"question_id":76421374,"body_markdown":"As I understand it, IntelliJ **does not support multiple projects open in the same window**. \r\n\r\nI believe you&#39;ve gone down the right road in importing the project as a module. Without seeing what you&#39;re describing, I don&#39;t know exactly why your folders are appearing as they are but it may be that you need to convert your sources in &#39;project A&#39; into a module - named, for example, &#39;module A&#39; first (meaning &#39;project A&#39; will become its own project with a single module - &#39;module A&#39; under it). \r\n\r\nThen import &#39;project B&#39; as a module - named, for example, &#39;module B&#39; - into &#39;project A&#39;. \r\n\r\nSo you&#39;d end up now, with a hierarchy like: \r\n\r\n       {&quot;project A&quot;: [\r\n        &quot;module A&quot;, \r\n        &quot;module B&quot;]} \r\n\r\n(I made up the JSON-like notation for illustrative purposes, I don&#39;t think you&#39;ll find it anywhere).\r\n\r\nIn case it helps clarify, you could equally convert `&#39;Project B&#39; into a module (&#39;module B&#39;) first, import &#39;Project A&#39; into it as &#39;module A&#39;.` The resulting project would have identical contents except the hierarchy would be: \r\n\r\n    {&quot;project B&quot;: [\r\n     &quot;module A&quot;, \r\n     &quot;module B&quot;]}.\r\n\r\nIn other words, which project you decide will become your &#39;main working project&#39; doesn&#39;t matter. I&#39;m not 100% sure but I think you can even keep working on each one separately (as in, open in its own IntelliJ window) since all you&#39;re doing when creating a module is telling the IDE where the code is via the IML file which I think keeps track of the modules.\r\n\r\nIf you try this and your files and folder structure still don&#39;t seem to make sense, share more detail and I&#39;ll try to re-create your issue.\r\n\r\nFor projects with many modules, I gather you can also sub-group modules though I don&#39;t have any experience with this.","title":"Importing multiple project folders in Intellij","body":"<p>As I understand it, IntelliJ <strong>does not support multiple projects open in the same window</strong>.</p>\n<p>I believe you've gone down the right road in importing the project as a module. Without seeing what you're describing, I don't know exactly why your folders are appearing as they are but it may be that you need to convert your sources in 'project A' into a module - named, for example, 'module A' first (meaning 'project A' will become its own project with a single module - 'module A' under it).</p>\n<p>Then import 'project B' as a module - named, for example, 'module B' - into 'project A'.</p>\n<p>So you'd end up now, with a hierarchy like:</p>\n<pre><code>   {&quot;project A&quot;: [\n    &quot;module A&quot;, \n    &quot;module B&quot;]} \n</code></pre>\n<p>(I made up the JSON-like notation for illustrative purposes, I don't think you'll find it anywhere).</p>\n<p>In case it helps clarify, you could equally convert <code>'Project B' into a module ('module B') first, import 'Project A' into it as 'module A'.</code> The resulting project would have identical contents except the hierarchy would be:</p>\n<pre><code>{&quot;project B&quot;: [\n &quot;module A&quot;, \n &quot;module B&quot;]}.\n</code></pre>\n<p>In other words, which project you decide will become your 'main working project' doesn't matter. I'm not 100% sure but I think you can even keep working on each one separately (as in, open in its own IntelliJ window) since all you're doing when creating a module is telling the IDE where the code is via the IML file which I think keeps track of the modules.</p>\n<p>If you try this and your files and folder structure still don't seem to make sense, share more detail and I'll try to re-create your issue.</p>\n<p>For projects with many modules, I gather you can also sub-group modules though I don't have any experience with this.</p>\n"},{"tags":[],"owner":{"account_id":50234,"reputation":3526,"user_id":149789,"display_name":"wwadge"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686129879,"creation_date":1686129879,"answer_id":76421780,"question_id":76421374,"body_markdown":"If the projects are related i.e. they depend on each other and you&#39;re using gradle, you may use the includeBuild feature at which point IJ will open both projects in one view","title":"Importing multiple project folders in Intellij","body":"<p>If the projects are related i.e. they depend on each other and you're using gradle, you may use the includeBuild feature at which point IJ will open both projects in one view</p>\n"},{"tags":[],"owner":{"account_id":28411028,"reputation":416,"user_id":21734429,"display_name":"romanv-jb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686214009,"creation_date":1686214009,"answer_id":76430114,"question_id":76421374,"body_markdown":"Since you have Gradle Projects it would be best to manage them through the [Gradle Tool Window][1]\r\n\r\nTry doing it this way: open Project A, in Gradle Tool Window click &quot;+&quot; icon, navigate to the Project B&#39;s folder and click OK.\r\n\r\nThat should allow you to have both Projects opened in IDEA at the same time.\r\n\r\nIf you later want to &quot;unlink&quot; the Projects select Project B in the Gradle Tool Window and click &quot;-&quot;.\r\n\r\n\r\n  [1]: https://www.jetbrains.com/help/idea/jetgradle-tool-window.html","title":"Importing multiple project folders in Intellij","body":"<p>Since you have Gradle Projects it would be best to manage them through the <a href=\"https://www.jetbrains.com/help/idea/jetgradle-tool-window.html\" rel=\"nofollow noreferrer\">Gradle Tool Window</a></p>\n<p>Try doing it this way: open Project A, in Gradle Tool Window click &quot;+&quot; icon, navigate to the Project B's folder and click OK.</p>\n<p>That should allow you to have both Projects opened in IDEA at the same time.</p>\n<p>If you later want to &quot;unlink&quot; the Projects select Project B in the Gradle Tool Window and click &quot;-&quot;.</p>\n"}],"owner":{"account_id":28104565,"reputation":107,"user_id":21473368,"display_name":"nick"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":233,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76421656,"answer_count":3,"score":0,"last_activity_date":1686214009,"creation_date":1686126916,"question_id":76421374,"body_markdown":"I have a project opened in Intellij. I want to open one more project inside the same IntelliJ so that both projects appear like a folder `A` and a folder `B`  \r\nThe new project that I want to import is the `B`  \r\nI did the following `File-&gt; Module from existing sources` and selected project B. There are some folders inside Project B. Not all sub-folders that are inside B appear in the IntelliJ. Also, 4 sub-folders inside B appear along with the folder of project A.   \r\n`What I wanted is just folder A and folder B is present`.  \r\n`But what&#39;s happening is that instead of folder B few subfolders are only getting listed inside Intellij`  \r\nProbably the IntelliJ is only picking up sub-modules inside B.  \r\nIs there a way to load the complete folder A along with folder B in Intellij?  \r\n  \r\n**Things I tried:**  \r\nOpened project B in a separate window. Surprisingly it also opens up as 4 subfolders:     \r\nWhereas if I go to the project from explorer it has more top-level folders like `resources` not sure why it&#39;s not picking those up   \r\n\r\n[![enter image description here][1]][1]\r\n    \r\nIntelliJ showed up a pop up - `load project as gradle..`  I clicked on it and now only the top-level single folder called `people` is appearing and all the subfolders even the `resources` appear underneath it. So it&#39;s working fine if I open it separately  \r\n  [![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DlKGL.png\r\n  [2]: https://i.stack.imgur.com/eyxDn.png","title":"Importing multiple project folders in Intellij","body":"<p>I have a project opened in Intellij. I want to open one more project inside the same IntelliJ so that both projects appear like a folder <code>A</code> and a folder <code>B</code><br />\nThe new project that I want to import is the <code>B</code><br />\nI did the following <code>File-&gt; Module from existing sources</code> and selected project B. There are some folders inside Project B. Not all sub-folders that are inside B appear in the IntelliJ. Also, 4 sub-folders inside B appear along with the folder of project A.<br />\n<code>What I wanted is just folder A and folder B is present</code>.<br />\n<code>But what's happening is that instead of folder B few subfolders are only getting listed inside Intellij</code><br />\nProbably the IntelliJ is only picking up sub-modules inside B.<br />\nIs there a way to load the complete folder A along with folder B in Intellij?</p>\n<p><strong>Things I tried:</strong><br />\nOpened project B in a separate window. Surprisingly it also opens up as 4 subfolders:<br />\nWhereas if I go to the project from explorer it has more top-level folders like <code>resources</code> not sure why it's not picking those up</p>\n<p><a href=\"https://i.stack.imgur.com/DlKGL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DlKGL.png\" alt=\"enter image description here\" /></a></p>\n<p>IntelliJ showed up a pop up - <code>load project as gradle..</code>  I clicked on it and now only the top-level single folder called <code>people</code> is appearing and all the subfolders even the <code>resources</code> appear underneath it. So it's working fine if I open it separately<br />\n<a href=\"https://i.stack.imgur.com/eyxDn.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/eyxDn.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","android","android-studio","osmdroid"],"owner":{"account_id":28778585,"reputation":1,"user_id":22040664,"display_name":"Funti Hunt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213997,"creation_date":1686213273,"question_id":76430014,"body_markdown":"I have the following code containing two layers with markers, when trying to implement a transition through the LayerManager the class is missing\r\n````\r\n// Create a list to hold your markers\r\nArrayList&lt;OverlayItem&gt; items = new ArrayList&lt;&gt;();\r\n\r\n\r\n// Add some markers to the list\r\nitems.add(new OverlayItem(&quot;marker1 &quot;, &quot;sth &quot; +&quot;sth2&quot;, new GeoPoint(54.73808331990483, 55.97157451178393)));\r\nitems.add(new OverlayItem(&quot;Marker 2&quot;, &quot;This is the second marker&quot;, new GeoPoint(54.71323629153077, 55.993348227111085)));\r\nitems.add(new OverlayItem(&quot;Marker 3&quot;, &quot;This is the third marker&quot;, new GeoPoint(54.728460008222974, 55.946710455967626)));\r\n\r\n// Create an ItemizedOverlayWithFocus to manage and display your markers\r\nItemizedOverlayWithFocus overlay;\r\noverlay = new ItemizedOverlayWithFocus&lt;&gt;(this, items, new ItemizedIconOverlay.OnItemGestureListener&lt;&gt;() @Override\r\n  public boolean onItemSingleTapUp(int index, OverlayItem item) {\r\n  // Assuming the OverlayItem object has been created and added to an ArrayList&lt;OverlayItem&gt; items\r\n   String title = item.getTitle();\r\n   int duration = Toast.LENGTH_SHORT;\r\n   Toast.makeText(getApplicationContext(), title, duration).show();\r\n\r\n   return true;}\r\n\r\n  @Override\r\n  public boolean onItemLongPress(int index, OverlayItem item) {\r\n   String snippet = item.getSnippet();\r\n   int duration = Toast.LENGTH_SHORT;\r\n   Toast.makeText(getApplicationContext(), snippet, duration).show();\r\n   return true;}}\r\n);\r\n\r\n// Add the overlay to your map controller\r\n\r\nmapView.getOverlayManager().add(overlay);\r\n\r\nArrayList&lt;OverlayItem&gt; concert = new ArrayList&lt;&gt;();\r\n\r\n// Add some markers to the list\r\nconcert.add(new OverlayItem(&quot;concert 1&quot;, &quot;This is the first marker&quot;, new GeoPoint(54.72568197320434, 55.9441373824082)));\r\nconcert.add(new OverlayItem(&quot;concert 2&quot;, &quot;This is the second marker&quot;, new GeoPoint(54.72515454700825, 56.0299419042602)));\r\nconcert.add(new OverlayItem(&quot;concert 3&quot;, &quot;This is the third marker&quot;, new GeoPoint(54.77245098808131, 56.05960561313011)));\r\n\r\n// Create an ItemizedOverlayWithFocus to manage and display your markers\r\nItemizedOverlayWithFocus overlays;\r\noverlays = new ItemizedOverlayWithFocus&lt;&gt;(this, context concert,new ItemizedIconOverlay.OnItemGestureListener&lt;&gt;() {\r\n @Override\r\n public boolean onItemSingleTapUp(int index, OverlayItem item) {\r\n // Assuming the OverlayItem object has been created and added to an ArrayList&lt;OverlayItem&gt; items\r\n   String title = item.getTitle();\r\n   int duration = Toast.LENGTH_SHORT;\r\n   Toast.makeText(getApplicationContext(), title, duration).show();\r\n\r\n   return true;}\r\n\r\n @Override\r\n public boolean onItemLongPress(int index, OverlayItem item) {\r\n  String snippet = item.getSnippet();\r\n  int duration = Toast.LENGTH_SHORT;\r\n  Toast.makeText(getApplicationContext(), snippet, duration).show();\r\n  return true;}}\r\n);\r\n\r\n// Add the overlay to your map controller\r\nmapView.getOverlayManager().add(overlays);\r\n````\r\n\r\nused mapView.getOverlayManager().add(layer2Overlay);\r\nalso tried to use LayerManager layerManager = new LayerManager() but got error &quot;Cannot resolve method &#39;add&#39; in &#39;LayerManager&#39;&quot;","title":"how to set layer switching on osm map in android studio","body":"<p>I have the following code containing two layers with markers, when trying to implement a transition through the LayerManager the class is missing</p>\n<pre><code>// Create a list to hold your markers\nArrayList&lt;OverlayItem&gt; items = new ArrayList&lt;&gt;();\n\n\n// Add some markers to the list\nitems.add(new OverlayItem(&quot;marker1 &quot;, &quot;sth &quot; +&quot;sth2&quot;, new GeoPoint(54.73808331990483, 55.97157451178393)));\nitems.add(new OverlayItem(&quot;Marker 2&quot;, &quot;This is the second marker&quot;, new GeoPoint(54.71323629153077, 55.993348227111085)));\nitems.add(new OverlayItem(&quot;Marker 3&quot;, &quot;This is the third marker&quot;, new GeoPoint(54.728460008222974, 55.946710455967626)));\n\n// Create an ItemizedOverlayWithFocus to manage and display your markers\nItemizedOverlayWithFocus overlay;\noverlay = new ItemizedOverlayWithFocus&lt;&gt;(this, items, new ItemizedIconOverlay.OnItemGestureListener&lt;&gt;() @Override\n  public boolean onItemSingleTapUp(int index, OverlayItem item) {\n  // Assuming the OverlayItem object has been created and added to an ArrayList&lt;OverlayItem&gt; items\n   String title = item.getTitle();\n   int duration = Toast.LENGTH_SHORT;\n   Toast.makeText(getApplicationContext(), title, duration).show();\n\n   return true;}\n\n  @Override\n  public boolean onItemLongPress(int index, OverlayItem item) {\n   String snippet = item.getSnippet();\n   int duration = Toast.LENGTH_SHORT;\n   Toast.makeText(getApplicationContext(), snippet, duration).show();\n   return true;}}\n);\n\n// Add the overlay to your map controller\n\nmapView.getOverlayManager().add(overlay);\n\nArrayList&lt;OverlayItem&gt; concert = new ArrayList&lt;&gt;();\n\n// Add some markers to the list\nconcert.add(new OverlayItem(&quot;concert 1&quot;, &quot;This is the first marker&quot;, new GeoPoint(54.72568197320434, 55.9441373824082)));\nconcert.add(new OverlayItem(&quot;concert 2&quot;, &quot;This is the second marker&quot;, new GeoPoint(54.72515454700825, 56.0299419042602)));\nconcert.add(new OverlayItem(&quot;concert 3&quot;, &quot;This is the third marker&quot;, new GeoPoint(54.77245098808131, 56.05960561313011)));\n\n// Create an ItemizedOverlayWithFocus to manage and display your markers\nItemizedOverlayWithFocus overlays;\noverlays = new ItemizedOverlayWithFocus&lt;&gt;(this, context concert,new ItemizedIconOverlay.OnItemGestureListener&lt;&gt;() {\n @Override\n public boolean onItemSingleTapUp(int index, OverlayItem item) {\n // Assuming the OverlayItem object has been created and added to an ArrayList&lt;OverlayItem&gt; items\n   String title = item.getTitle();\n   int duration = Toast.LENGTH_SHORT;\n   Toast.makeText(getApplicationContext(), title, duration).show();\n\n   return true;}\n\n @Override\n public boolean onItemLongPress(int index, OverlayItem item) {\n  String snippet = item.getSnippet();\n  int duration = Toast.LENGTH_SHORT;\n  Toast.makeText(getApplicationContext(), snippet, duration).show();\n  return true;}}\n);\n\n// Add the overlay to your map controller\nmapView.getOverlayManager().add(overlays);\n</code></pre>\n<p>used mapView.getOverlayManager().add(layer2Overlay);\nalso tried to use LayerManager layerManager = new LayerManager() but got error &quot;Cannot resolve method 'add' in 'LayerManager'&quot;</p>\n"},{"tags":["java","spring-boot","docker","jenkins","jenkins-pipeline"],"comments":[{"owner":{"account_id":251690,"reputation":695,"user_id":1014752,"display_name":"Ramsay Domloge"},"score":0,"creation_date":1686224774,"post_id":76430111,"comment_id":134771330,"body_markdown":"From memory, I think Jenkins has it&#39;s own JVM which it will use if you don&#39;t provide another for the job. I think you need to register the Java 17 JVM which is also in the container and configure the Jenkins job to use that registered JVM.","body":"From memory, I think Jenkins has it&#39;s own JVM which it will use if you don&#39;t provide another for the job. I think you need to register the Java 17 JVM which is also in the container and configure the Jenkins job to use that registered JVM."}],"owner":{"account_id":157768,"reputation":4889,"user_id":1306402,"accept_rate":57,"display_name":"Madu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213989,"creation_date":1686213989,"question_id":76430111,"body_markdown":"I am trying to build my simple spring boot application which uses Java 17 through Jenkins job. Jenkins is running in a docker container. App building fails on Jenkins with the following error.\r\n\r\n```[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project login-service: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]```\r\n\r\nAFAIU the reason for this is Jenkins job is not able to find Java 17 which is required by the application.\r\n\r\nBy default ``Temurin-11.0.18+10`` was installed on Jenkins but I have installed and configured Java 17 on my Jenkins container. However, the app still fails with the above-mentioned error.\r\n\r\nThe version seems to be configured okay when I check the Java version in the docker container.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI have also configured another Jenkins job to check the Java version and strangely the java version I get from the Jenkins job is Java 11.\r\n\r\nHere is the script of the job that tests Java version on Jenkins.\r\n\r\n```\r\npipeline {\r\n\tagent any\r\n\tstages {\r\n\t\tstage(&#39;Test Java&#39;) {\r\n\t\t\tsteps {\r\n\t\t\t\tsh &#39;&#39;&#39;\r\n\t\t\t\t\tenv | grep -e PATH -e JAVA_HOME\r\n\t\t\t\t\twhich java\r\n\t\t\t\t\tjava -version\r\n\t\t\t\t&#39;&#39;&#39;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n``` \r\nand it gives the following output\r\n\r\n```\r\nopenjdk version &quot;11.0.18&quot; 2023-01-17\r\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\r\n```\r\n\r\n[![enter image description here][2]][2]\r\n\r\nBut as you can see in the first image when I run the same commands in the docker container (which I run in the Jenkins job to check the Java version) it gives me Java 17.\r\n\r\nAny hints where I am making a mistake in configuring Java?\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LhNQu.jpg\r\n  [2]: https://i.stack.imgur.com/CKIUE.png","title":"Java versions are inconsistent in jenkins running in Docker","body":"<p>I am trying to build my simple spring boot application which uses Java 17 through Jenkins job. Jenkins is running in a docker container. App building fails on Jenkins with the following error.</p>\n<p><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.10.1:compile (default-compile) on project login-service: Fatal error compiling: error: invalid target release: 17 -&gt; [Help 1]</code></p>\n<p>AFAIU the reason for this is Jenkins job is not able to find Java 17 which is required by the application.</p>\n<p>By default <code>Temurin-11.0.18+10</code> was installed on Jenkins but I have installed and configured Java 17 on my Jenkins container. However, the app still fails with the above-mentioned error.</p>\n<p>The version seems to be configured okay when I check the Java version in the docker container.</p>\n<p><a href=\"https://i.stack.imgur.com/LhNQu.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LhNQu.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I have also configured another Jenkins job to check the Java version and strangely the java version I get from the Jenkins job is Java 11.</p>\n<p>Here is the script of the job that tests Java version on Jenkins.</p>\n<pre><code>pipeline {\n    agent any\n    stages {\n        stage('Test Java') {\n            steps {\n                sh '''\n                    env | grep -e PATH -e JAVA_HOME\n                    which java\n                    java -version\n                '''\n            }\n        }\n    }\n}\n</code></pre>\n<p>and it gives the following output</p>\n<pre><code>openjdk version &quot;11.0.18&quot; 2023-01-17\nOpenJDK Runtime Environment Temurin-11.0.18+10 (build 11.0.18+10)\nOpenJDK 64-Bit Server VM Temurin-11.0.18+10 (build 11.0.18+10, mixed mode)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/CKIUE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKIUE.png\" alt=\"enter image description here\" /></a></p>\n<p>But as you can see in the first image when I run the same commands in the docker container (which I run in the Jenkins job to check the Java version) it gives me Java 17.</p>\n<p>Any hints where I am making a mistake in configuring Java?</p>\n"},{"tags":["java","api","android-studio","retrofit","pojo"],"owner":{"account_id":17871198,"reputation":390,"user_id":12982457,"display_name":"Hiraeths"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213956,"creation_date":1686208701,"question_id":76429456,"body_markdown":"Is it possible to parse JSON response from an API without hardcoding the Object name? I want to parse this JSON but the value of `random_number` is always changing so I am not able to hardcode it in my POJO class. This is the API response\r\n\r\n    {\r\n        &quot;random_number&quot;: {\r\n            &quot;user_id&quot;: &quot;john_doe&quot;,\r\n            &quot;email&quot;: &quot;john.doe@gmail.com&quot;,\r\n            &quot;created_date&quot;: &quot;2023-04-19&quot;\r\n        },\r\n        &quot;random_number&quot;: {\r\n            &quot;user_id&quot;: &quot;jane_doe&quot;,\r\n            &quot;email&quot;: &quot;jane.doe@gmail.com&quot;,\r\n            &quot;created_date&quot;: &quot;2023-04-19&quot;\r\n        }\r\n    }\r\n\r\nI have tried using this methode but it only works if the Object is `SUCCESS` with array inside it like so\r\n\r\n    {\r\n        &quot;SUCCESS&quot;: [\r\n            {\r\n                &quot;user_id&quot;: &quot;john_doe&quot;,\r\n                &quot;email&quot;: &quot;john.doe@gmail.com&quot;,\r\n                &quot;created_date&quot;: &quot;2023-04-19&quot;\r\n             },\r\n            {\r\n                &quot;user_id&quot;: &quot;jane_doe&quot;,\r\n                &quot;email&quot;: &quot;jane.doe@gmail.com&quot;,\r\n                &quot;created_date&quot;: &quot;2023-04-19&quot;\r\n            }\r\n        ]\r\n    }\r\n\r\nThe methode I am using \r\n\r\n    CheckAPI resource = response.body();;\r\n    List&lt;CheckAPI.checkSuccess&gt; dataList = resource.SUCCESS;\r\n\r\n    //CREATE PARENT\r\n    HashMap&lt;String, List&lt;String&gt;&gt; parent = new HashMap&lt;&gt;();\r\n\r\n    for (CheckAPI.checkSuccess data : dataList) {\r\n\r\n        //CREATE NEW CHILD ARRAYLIST FOR EVERY OBJECT\r\n        ArrayList&lt;String&gt; child = new ArrayList&lt;&gt;();\r\n        child.add(&quot;Email : &quot; + data.email);\r\n        child.add(&quot;Created at : &quot; + data.created_date);\r\n        parent.put(&quot;Name : &quot; + data.user_id, child);\r\n\r\n    }\r\n\r\nAnd this is the POJO class\r\n\r\n    class CheckAPI {\r\n\r\n        public List&lt;checkSuccess&gt; SUCCESS;\r\n\r\n        public class checkSuccess {\r\n\r\n            public String user_id;\r\n            public String email;\r\n            public String created_date;\r\n\r\n        }\r\n    }\r\n\r\nBut with the above methode, I am not able to parse object value other than `SUCCESS`. Is there any way I can achieve this? Thank you","title":"POJO class without hardcoded value in Android Studio Java","body":"<p>Is it possible to parse JSON response from an API without hardcoding the Object name? I want to parse this JSON but the value of <code>random_number</code> is always changing so I am not able to hardcode it in my POJO class. This is the API response</p>\n<pre><code>{\n    &quot;random_number&quot;: {\n        &quot;user_id&quot;: &quot;john_doe&quot;,\n        &quot;email&quot;: &quot;john.doe@gmail.com&quot;,\n        &quot;created_date&quot;: &quot;2023-04-19&quot;\n    },\n    &quot;random_number&quot;: {\n        &quot;user_id&quot;: &quot;jane_doe&quot;,\n        &quot;email&quot;: &quot;jane.doe@gmail.com&quot;,\n        &quot;created_date&quot;: &quot;2023-04-19&quot;\n    }\n}\n</code></pre>\n<p>I have tried using this methode but it only works if the Object is <code>SUCCESS</code> with array inside it like so</p>\n<pre><code>{\n    &quot;SUCCESS&quot;: [\n        {\n            &quot;user_id&quot;: &quot;john_doe&quot;,\n            &quot;email&quot;: &quot;john.doe@gmail.com&quot;,\n            &quot;created_date&quot;: &quot;2023-04-19&quot;\n         },\n        {\n            &quot;user_id&quot;: &quot;jane_doe&quot;,\n            &quot;email&quot;: &quot;jane.doe@gmail.com&quot;,\n            &quot;created_date&quot;: &quot;2023-04-19&quot;\n        }\n    ]\n}\n</code></pre>\n<p>The methode I am using</p>\n<pre><code>CheckAPI resource = response.body();;\nList&lt;CheckAPI.checkSuccess&gt; dataList = resource.SUCCESS;\n\n//CREATE PARENT\nHashMap&lt;String, List&lt;String&gt;&gt; parent = new HashMap&lt;&gt;();\n\nfor (CheckAPI.checkSuccess data : dataList) {\n\n    //CREATE NEW CHILD ARRAYLIST FOR EVERY OBJECT\n    ArrayList&lt;String&gt; child = new ArrayList&lt;&gt;();\n    child.add(&quot;Email : &quot; + data.email);\n    child.add(&quot;Created at : &quot; + data.created_date);\n    parent.put(&quot;Name : &quot; + data.user_id, child);\n\n}\n</code></pre>\n<p>And this is the POJO class</p>\n<pre><code>class CheckAPI {\n\n    public List&lt;checkSuccess&gt; SUCCESS;\n\n    public class checkSuccess {\n\n        public String user_id;\n        public String email;\n        public String created_date;\n\n    }\n}\n</code></pre>\n<p>But with the above methode, I am not able to parse object value other than <code>SUCCESS</code>. Is there any way I can achieve this? Thank you</p>\n"},{"tags":["java","floating-point","precision","ieee-754"],"comments":[{"owner":{"display_name":"user1907906"},"score":4,"creation_date":1392205317,"post_id":21726932,"comment_id":32856082,"body_markdown":"Do you know what &#39;byte&#39;, &#39;bit&#39;, and &#39;precision&#39; mean?","body":"Do you know what &#39;byte&#39;, &#39;bit&#39;, and &#39;precision&#39; mean?"},{"owner":{"account_id":2027600,"reputation":5164,"user_id":2087705,"accept_rate":71,"display_name":"Suvarna Pattayil"},"score":0,"creation_date":1392205345,"post_id":21726932,"comment_id":32856104,"body_markdown":"This is important to know in overall software development","body":"This is important to know in overall software development"},{"owner":{"account_id":1037331,"reputation":7792,"user_id":1044234,"accept_rate":88,"display_name":"sybear"},"score":2,"creation_date":1392205358,"post_id":21726932,"comment_id":32856119,"body_markdown":"http://en.wikipedia.org/wiki/Single-precision_floating-point_format","body":"<a href=\"http://en.wikipedia.org/wiki/Single-precision_floating-point_format\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Single-precision_floating-point_format</a>"},{"owner":{"account_id":3681639,"reputation":9725,"user_id":3066467,"accept_rate":67,"display_name":"Guntram Blohm"},"score":1,"creation_date":1392205364,"post_id":21726932,"comment_id":32856124,"body_markdown":"In game development, the first rule is to avoid floating point operations and use integer whereever you can.","body":"In game development, the first rule is to avoid floating point operations and use integer whereever you can."},{"owner":{"account_id":2515499,"reputation":16966,"user_id":2187042,"accept_rate":53,"display_name":"Richard Tingle"},"score":1,"creation_date":1392205533,"post_id":21726932,"comment_id":32856230,"body_markdown":"Its basically the number of decimal places that the value can hold. **BUT** they are binary decimal places not decimal. A double has twice as many `1`s or `0`s to hold its data so can be more precise (the whole thing is complicated by the way floating point numbers are held to allow then to scale but thats the basic idea)","body":"Its basically the number of decimal places that the value can hold. <b>BUT</b> they are binary decimal places not decimal. A double has twice as many <code>1</code>s or <code>0</code>s to hold its data so can be more precise (the whole thing is complicated by the way floating point numbers are held to allow then to scale but thats the basic idea)"},{"owner":{"account_id":3168637,"reputation":11454,"user_id":2678102,"accept_rate":92,"display_name":"CodeFanatic"},"score":0,"creation_date":1392207139,"post_id":21726932,"comment_id":32857179,"body_markdown":"@guntramBlohm avoiding them is ok but before you avoid them you should know what they do, in case that you need them one day.","body":"@guntramBlohm avoiding them is ok but before you avoid them you should know what they do, in case that you need them one day."},{"owner":{"account_id":935202,"reputation":49046,"user_id":964243,"accept_rate":66,"display_name":"Boann"},"score":0,"creation_date":1392208174,"post_id":21726932,"comment_id":32857906,"body_markdown":"&quot;Is this important to know in android game development?&quot; It&#39;s important to know always.","body":"&quot;Is this important to know in android game development?&quot; It&#39;s important to know always."}],"answers":[{"tags":[],"owner":{"account_id":3168637,"reputation":11454,"user_id":2678102,"accept_rate":92,"display_name":"CodeFanatic"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1392207644,"creation_date":1392206597,"answer_id":21727431,"question_id":21726932,"body_markdown":"&gt; What exactly does that mean?\r\n\r\n1 Byte=  8 Bit\r\n\r\n4 Byte= 32 Bit\r\n\r\n\r\n----------\r\n\r\n\r\n**1Bit** can have **2 conditions** 0 or 1\r\n\r\n**2Bits** can have **2&#178; conditions** 00 , 01, 10 and 11\r\n\r\n\r\n----------\r\n\r\n\r\nOk, now it comes to the hard point\r\n\r\nIf your **accuracy** should be **+/-0.5** **the maximum size** that your number can be is **2^23.** Now you may ask yourself and what is if i got a number that is larger than this? *Anything that is bigger than this is bigger than 0.5.*\r\n\r\n(Single-Precission /32 Bit)\r\n\r\n----------\r\n\r\n&gt;  Is this important to know in android game development?\r\n\r\nIt is important, that you **understood the basic concept** behind this in nearly any programming language.\r\n\r\n\r\nTake a look at that simple program, if you understood the output, that is all you need to know, **first of all**\r\n\r\n    public class DoubleError\r\n    {\r\n           public static void main(String[] args)\r\n           {\r\n                 double x = 1.1;\r\n                 double y = 0.1;\r\n                 System.out.println(&quot;X is: &quot; + x);\r\n                 System.out.println(&quot;Y is: &quot; + y);\r\n                 System.out.println(&quot;X+Y is: &quot; + (x + y));\r\n    \r\n           }\r\n    }\r\n\r\n\r\n----------\r\n\r\nEDIT:\r\n\r\nOh, and to totally crash your head,\r\n\r\nhere some more points that you should know:\r\n\r\nHalf- Precision  = 16 Bit\r\n\r\nSingle-Precision = 32 Bit\r\n\r\nDouble-Precision = 64 Bit\r\n\r\n\r\n----------\r\nEDIT 2:\r\n\r\nOh, and if you want to understand anything, check out this: [IEEE_754-2008][1]\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/IEEE_754-2008","title":"32-bit of precision, what does it mean?","body":"<blockquote>\n  <p>What exactly does that mean?</p>\n</blockquote>\n\n<p>1 Byte=  8 Bit</p>\n\n<p>4 Byte= 32 Bit</p>\n\n<hr>\n\n<p><strong>1Bit</strong> can have <strong>2 conditions</strong> 0 or 1</p>\n\n<p><strong>2Bits</strong> can have <strong>2² conditions</strong> 00 , 01, 10 and 11</p>\n\n<hr>\n\n<p>Ok, now it comes to the hard point</p>\n\n<p>If your <strong>accuracy</strong> should be <strong>+/-0.5</strong> *<em>the maximum size</em>* that your number can be is <strong>2^23.</strong> Now you may ask yourself and what is if i got a number that is larger than this? <em>Anything that is bigger than this is bigger than 0.5.</em></p>\n\n<p>(Single-Precission /32 Bit)</p>\n\n<hr>\n\n<blockquote>\n  <p>Is this important to know in android game development?</p>\n</blockquote>\n\n<p>It is important, that you <strong>understood the basic concept</strong> behind this in nearly any programming language.</p>\n\n<p>Take a look at that simple program, if you understood the output, that is all you need to know, <strong>first of all</strong></p>\n\n<pre><code>public class DoubleError\n{\n       public static void main(String[] args)\n       {\n             double x = 1.1;\n             double y = 0.1;\n             System.out.println(\"X is: \" + x);\n             System.out.println(\"Y is: \" + y);\n             System.out.println(\"X+Y is: \" + (x + y));\n\n       }\n}\n</code></pre>\n\n<hr>\n\n<p>EDIT:</p>\n\n<p>Oh, and to totally crash your head,</p>\n\n<p>here some more points that you should know:</p>\n\n<p>Half- Precision  = 16 Bit</p>\n\n<p>Single-Precision = 32 Bit</p>\n\n<p>Double-Precision = 64 Bit</p>\n\n<hr>\n\n<p>EDIT 2:</p>\n\n<p>Oh, and if you want to understand anything, check out this: <a href=\"http://en.wikipedia.org/wiki/IEEE_754-2008\" rel=\"nofollow\">IEEE_754-2008</a></p>\n"},{"tags":[],"owner":{"account_id":16832254,"reputation":26,"user_id":12169927,"display_name":"Obineg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679916771,"creation_date":1679916771,"answer_id":75855248,"question_id":21726932,"body_markdown":"the sentence from this book does not mean anything, it seems to be simply wrong.\r\n\r\n32 bit float has a precision of 23 bits, not of 32.","title":"32-bit of precision, what does it mean?","body":"<p>the sentence from this book does not mean anything, it seems to be simply wrong.</p>\n<p>32 bit float has a precision of 23 bits, not of 32.</p>\n"}],"owner":{"account_id":1970061,"reputation":2731,"user_id":1769269,"accept_rate":67,"display_name":"rootpanthera"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21727431,"answer_count":2,"score":1,"last_activity_date":1686213938,"creation_date":1392205220,"question_id":21726932,"body_markdown":"I&#39;m reading a book about OPENGL ES development. I came across to this sentence.\r\n\r\n&gt; A float in Java has 32 bits of precision, while a byte has 8 bits of precision. This might seem like an obvious point to make, but there are 4 bytes in every float.\r\n\r\nWhat exactly does that mean? Is this important to know in Android game development?\r\n","title":"32-bit of precision, what does it mean?","body":"<p>I'm reading a book about OPENGL ES development. I came across to this sentence.</p>\n<blockquote>\n<p>A float in Java has 32 bits of precision, while a byte has 8 bits of precision. This might seem like an obvious point to make, but there are 4 bytes in every float.</p>\n</blockquote>\n<p>What exactly does that mean? Is this important to know in Android game development?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686212962,"post_id":76429909,"comment_id":134769114,"body_markdown":"what annotations do you have on SEABeanDefinitionRegistryPostProcessor ? How is it instantiated?","body":"what annotations do you have on SEABeanDefinitionRegistryPostProcessor ? How is it instantiated?"},{"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"score":0,"creation_date":1686213517,"post_id":76429909,"comment_id":134769219,"body_markdown":"@Stultuske It was imported by @Import(SEAPostProcessorSelector.class)","body":"@Stultuske It was imported by @Import(SEAPostProcessorSelector.class)"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686214630,"post_id":76429909,"comment_id":134769427,"body_markdown":"Is your SEABeanDefinitionRegistryPostProcessor an @Configuration class?","body":"Is your SEABeanDefinitionRegistryPostProcessor an @Configuration class?"},{"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"score":0,"creation_date":1686215258,"post_id":76429909,"comment_id":134769541,"body_markdown":"No, it has no any Annotations on it. @Stultuske","body":"No, it has no any Annotations on it. @Stultuske"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686217123,"post_id":76429909,"comment_id":134769897,"body_markdown":"as far as the explanations of Import I&#39;ve seen (haven&#39;t used it myself yet-) it&#39;s used to combine @Configuration annotated classes, so that might be your problem","body":"as far as the explanations of Import I&#39;ve seen (haven&#39;t used it myself yet-) it&#39;s used to combine @Configuration annotated classes, so that might be your problem"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213611,"creation_date":1686212312,"question_id":76429909,"body_markdown":"I am using Srping boot 2.7.6, my entry Application class is this:\r\n\r\n```\r\n@SpringBootApplication\r\n@MapperScan(basePackages = &quot;fwx.apps.ebidding.**.mappers&quot;, annotationClass = fwx.sea.impl.mybatis.annotations.SEAMapper.class)\r\n@Import(SEAPostProcessorSelector.class)\r\npublic class EbiddingApplication {\r\n\r\n\t@Autowired\r\n\tprivate ApplicationContext springContext;\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(EbiddingApplication.class, args);\r\n\t}\r\n\r\n\t// make it test-friendly, so we can Override system time when doing uniting\r\n\t// test.\r\n\t// TODO provide a environment specific offset\r\n\t@Bean\r\n\tpublic Clock getClock() {\r\n\t\treturn Clock.systemUTC();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SqlSessionFactory sqlSessionFactory() throws Exception {\r\n\t\tSqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\r\n\t\tfactoryBean.setDataSource(springContext.getBean(DataSource.class));\r\n\t\treturn factoryBean.getObject();\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic SqlSessionTemplate sqlSession() throws Exception {\r\n\t\treturn new SqlSessionTemplate(springContext.getBean(SqlSessionFactory.class));\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic MybatisSEAContext getSEAContext() {\r\n\t\t\r\n\t\treturn new SpringMybatisSEAContext(springContext);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ISEARequestHandler getISEARequestHandler() {\r\n\t\treturn new MybatisSEARequestHandler(springContext.getBean(MybatisSEAContext.class));\r\n\t}\r\n\r\n\t@Bean\r\n\t@Scope(&quot;prototype&quot;)\r\n\tpublic Logger createLogger(InjectionPoint point) {\r\n\t\tClass&lt;?&gt; class2Wire = point.getMember().getDeclaringClass();\r\n\t\treturn LoggerFactory.getLogger(class2Wire);\r\n\t}\r\n\r\n\t@Bean\r\n\tpublic ISEAClient createPubClient(Jackson2ObjectMapperBuilder builder) {\r\n\t\tOkHttpClient client = new OkHttpClient();\t\r\n\t\treturn new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, builder.build());\r\n\t}\r\n\r\n}\r\n```\r\n\r\nfor the `getISEARequestHandler` method, `springContext` is always null, `ISEARequestHandler` is autowired by a rest controller, and I have a `SEABeanDefinitionRegistryPostProcessor` :\r\n\r\n```\r\npublic class SEABeanDefinitionRegistryPostProcessor implements BeanDefinitionRegistryPostProcessor {\r\n\r\n\tprivate Logger log = LoggerFactory.getLogger(getClass());\r\n\r\n\tprivate ISEAContext seaContext;\r\n\r\n\t@Override\r\n\tpublic void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\r\n\t\ttry {\r\n\t\t\tseaContext = beanFactory.getBean(ISEAContext.class);\r\n\t\t\tfor (String beanDefinitionName : beanFactory.getBeanDefinitionNames()) {\r\n\t\t\t\tAbstractBeanDefinition bean = (AbstractBeanDefinition) beanFactory.getBeanDefinition(beanDefinitionName);\r\n\t\t\t\tif (bean instanceof ScannedGenericBeanDefinition) {\r\n\t\t\t\t\tScannedGenericBeanDefinition sb = (ScannedGenericBeanDefinition) bean;\r\n\t\t\t\t\tfor (String ss : sb.getMetadata().getAnnotationTypes()) {\r\n\t\t\t\t\t\tif (ss.equals(&quot;fwx.sea.api.annotations.SEAListener&quot;)) {\r\n\t\t\t\t\t\t\tString locator = (String) sb.getMetadata().getAnnotationAttributes(&quot;fwx.sea.api.annotations.SEAListener&quot;).get(&quot;locator&quot;);\r\n\t\t\t\t\t\t\tlog.info(&quot;注册SEA监听器：[&quot; + sb.getBeanClassName() + &quot;] ==&gt; &quot; + locator);\r\n//\t\t\t\t\t\tseaContext.addListener(locator, sb.getBeanClassName());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tString mapperInterface = (String) bean.getAttribute(&quot;factoryBeanObjectType&quot;);\r\n\t\t\t\tif (mapperInterface != null) {\r\n\t\t\t\t\tClass&lt;?&gt; seaMapperClass = Class.forName(mapperInterface);\r\n\t\t\t\t\tif (seaMapperClass.isAnnotationPresent(SEAMapper.class)) {\r\n\t\t\t\t\t\tfor (Method m : seaMapperClass.getDeclaredMethods()) {\r\n\t\t\t\t\t\t\tString methodMapping = seaMapperClass.getName() + &quot;#&quot; + m.getName();\r\n\t\t\t\t\t\t\tif (m.isAnnotationPresent(SEACreate.class)) {\r\n\t\t\t\t\t\t\t\tString locator = m.getAnnotation(SEACreate.class).locator();\r\n\t\t\t\t\t\t\t\tClass&lt;?&gt; entityType = m.getAnnotation(SEACreate.class).type();\r\n\t\t\t\t\t\t\t\tlog.info(&quot;注册SEA映射：&quot; + locator + &quot;/c ==&gt; &quot; + methodMapping);\r\n\t\t\t\t\t\t\t\tif (seaContext.getMapper(locator) == null) {\r\n\t\t\t\t\t\t\t\t\tMybatisSEAMapper mapper = new MybatisSEAMapper(methodMapping, null, null, null, entityType);\r\n\t\t\t\t\t\t\t\t\tseaContext.addMapper(locator, mapper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setCreateMethod(methodMapping);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (m.isAnnotationPresent(SEARead.class)) {\r\n\t\t\t\t\t\t\t\tString locator = m.getAnnotation(SEARead.class).locator();\r\n\t\t\t\t\t\t\t\tClass&lt;?&gt; entityType = m.getAnnotation(SEARead.class).type();\r\n\t\t\t\t\t\t\t\tlog.info(&quot;注册SEA映射：&quot; + locator + &quot;/r ==&gt; &quot; + methodMapping);\r\n\t\t\t\t\t\t\t\tif (seaContext.getMapper(locator) == null) {\r\n\t\t\t\t\t\t\t\t\tMybatisSEAMapper mapper = new MybatisSEAMapper(null, methodMapping, null, null, entityType);\r\n\t\t\t\t\t\t\t\t\tseaContext.addMapper(locator, mapper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tString rm;\r\n\t\t\t\t\t\t\t\t\tif ((rm = ((MybatisSEAMapper) seaContext.getMapper(locator)).getReadMethod()) == null) {\r\n\t\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(methodMapping);\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(methodMapping + &quot;#&quot; + rm);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (m.isAnnotationPresent(SEAReadCount.class)) {\r\n\t\t\t\t\t\t\t\tString locator = m.getAnnotation(SEAReadCount.class).locator();\r\n\t\t\t\t\t\t\t\tClass&lt;?&gt; entityType = m.getAnnotation(SEAReadCount.class).type();\r\n\t\t\t\t\t\t\t\tlog.info(&quot;注册SEA映射：&quot; + locator + &quot;/r(count) ==&gt; &quot; + methodMapping);\r\n\t\t\t\t\t\t\t\tif (seaContext.getMapper(locator) == null) {\r\n\t\t\t\t\t\t\t\t\tMybatisSEAMapper mapper = new MybatisSEAMapper(null, m.getName(), null, null, entityType);\r\n\t\t\t\t\t\t\t\t\tseaContext.addMapper(locator, mapper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tString rm;\r\n\t\t\t\t\t\t\t\t\tif ((rm = ((MybatisSEAMapper) seaContext.getMapper(locator)).getReadMethod()) == null) {\r\n\t\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(m.getName());\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(rm + &quot;#&quot; + m.getName());\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (m.isAnnotationPresent(SEAUpdate.class)) {\r\n\t\t\t\t\t\t\t\tString locator = m.getAnnotation(SEAUpdate.class).locator();\r\n\t\t\t\t\t\t\t\tClass&lt;?&gt; entityType = m.getAnnotation(SEAUpdate.class).type();\r\n\t\t\t\t\t\t\t\tlog.info(&quot;注册SEA映射：&quot; + locator + &quot;/u ==&gt; &quot; + methodMapping);\r\n\t\t\t\t\t\t\t\tif (seaContext.getMapper(locator) == null) {\r\n\t\t\t\t\t\t\t\t\tMybatisSEAMapper mapper = new MybatisSEAMapper(null, null, methodMapping, null, entityType);\r\n\t\t\t\t\t\t\t\t\tseaContext.addMapper(locator, mapper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setUpdateMethod(methodMapping);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} else if (m.isAnnotationPresent(SEADelete.class)) {\r\n\t\t\t\t\t\t\t\tString locator = m.getAnnotation(SEADelete.class).locator();\r\n\t\t\t\t\t\t\t\tClass&lt;?&gt; entityType = m.getAnnotation(SEADelete.class).type();\r\n\t\t\t\t\t\t\t\tlog.info(&quot;注册SEA映射：&quot; + locator + &quot;/d ==&gt; &quot; + methodMapping);\r\n\t\t\t\t\t\t\t\tif (seaContext.getMapper(locator) == null) {\r\n\t\t\t\t\t\t\t\t\tMybatisSEAMapper mapper = new MybatisSEAMapper(null, null, null, methodMapping, entityType);\r\n\t\t\t\t\t\t\t\t\tseaContext.addMapper(locator, mapper);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t((MybatisSEAMapper) seaContext.getMapper(locator)).setDeleteMethod(methodMapping);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\r\n\r\n\t}\r\n}\r\n```\r\nwhich was imported by @Import(SEAPostProcessorSelector.class):\r\n```\r\npublic class SEAPostProcessorSelector implements DeferredImportSelector {\r\n\r\n\t@Override\r\n\tpublic String[] selectImports(AnnotationMetadata importingClassMetadata) {\r\n\t\treturn new String[] { SEABeanDefinitionRegistryPostProcessor.class.getName() };\r\n\t}\r\n\r\n}\r\n```\r\n\r\n","title":"Why @Autowired ApplicationContext is null?","body":"<p>I am using Srping boot 2.7.6, my entry Application class is this:</p>\n<pre><code>@SpringBootApplication\n@MapperScan(basePackages = &quot;fwx.apps.ebidding.**.mappers&quot;, annotationClass = fwx.sea.impl.mybatis.annotations.SEAMapper.class)\n@Import(SEAPostProcessorSelector.class)\npublic class EbiddingApplication {\n\n    @Autowired\n    private ApplicationContext springContext;\n\n    public static void main(String[] args) {\n        SpringApplication.run(EbiddingApplication.class, args);\n    }\n\n    // make it test-friendly, so we can Override system time when doing uniting\n    // test.\n    // TODO provide a environment specific offset\n    @Bean\n    public Clock getClock() {\n        return Clock.systemUTC();\n    }\n\n    @Bean\n    public SqlSessionFactory sqlSessionFactory() throws Exception {\n        SqlSessionFactoryBean factoryBean = new SqlSessionFactoryBean();\n        factoryBean.setDataSource(springContext.getBean(DataSource.class));\n        return factoryBean.getObject();\n    }\n\n    @Bean\n    public SqlSessionTemplate sqlSession() throws Exception {\n        return new SqlSessionTemplate(springContext.getBean(SqlSessionFactory.class));\n    }\n\n    @Bean\n    public MybatisSEAContext getSEAContext() {\n        \n        return new SpringMybatisSEAContext(springContext);\n    }\n\n    @Bean\n    public ISEARequestHandler getISEARequestHandler() {\n        return new MybatisSEARequestHandler(springContext.getBean(MybatisSEAContext.class));\n    }\n\n    @Bean\n    @Scope(&quot;prototype&quot;)\n    public Logger createLogger(InjectionPoint point) {\n        Class&lt;?&gt; class2Wire = point.getMember().getDeclaringClass();\n        return LoggerFactory.getLogger(class2Wire);\n    }\n\n    @Bean\n    public ISEAClient createPubClient(Jackson2ObjectMapperBuilder builder) {\n        OkHttpClient client = new OkHttpClient();   \n        return new HttpRestSEAClient(&quot;http://localhost:8081/sea/&quot;, client, builder.build());\n    }\n\n}\n</code></pre>\n<p>for the <code>getISEARequestHandler</code> method, <code>springContext</code> is always null, <code>ISEARequestHandler</code> is autowired by a rest controller, and I have a <code>SEABeanDefinitionRegistryPostProcessor</code> :</p>\n<pre><code>public class SEABeanDefinitionRegistryPostProcessor implements BeanDefinitionRegistryPostProcessor {\n\n    private Logger log = LoggerFactory.getLogger(getClass());\n\n    private ISEAContext seaContext;\n\n    @Override\n    public void postProcessBeanFactory(ConfigurableListableBeanFactory beanFactory) throws BeansException {\n        try {\n            seaContext = beanFactory.getBean(ISEAContext.class);\n            for (String beanDefinitionName : beanFactory.getBeanDefinitionNames()) {\n                AbstractBeanDefinition bean = (AbstractBeanDefinition) beanFactory.getBeanDefinition(beanDefinitionName);\n                if (bean instanceof ScannedGenericBeanDefinition) {\n                    ScannedGenericBeanDefinition sb = (ScannedGenericBeanDefinition) bean;\n                    for (String ss : sb.getMetadata().getAnnotationTypes()) {\n                        if (ss.equals(&quot;fwx.sea.api.annotations.SEAListener&quot;)) {\n                            String locator = (String) sb.getMetadata().getAnnotationAttributes(&quot;fwx.sea.api.annotations.SEAListener&quot;).get(&quot;locator&quot;);\n                            log.info(&quot;注册SEA监听器：[&quot; + sb.getBeanClassName() + &quot;] ==&gt; &quot; + locator);\n//                      seaContext.addListener(locator, sb.getBeanClassName());\n                        }\n                    }\n                }\n\n                String mapperInterface = (String) bean.getAttribute(&quot;factoryBeanObjectType&quot;);\n                if (mapperInterface != null) {\n                    Class&lt;?&gt; seaMapperClass = Class.forName(mapperInterface);\n                    if (seaMapperClass.isAnnotationPresent(SEAMapper.class)) {\n                        for (Method m : seaMapperClass.getDeclaredMethods()) {\n                            String methodMapping = seaMapperClass.getName() + &quot;#&quot; + m.getName();\n                            if (m.isAnnotationPresent(SEACreate.class)) {\n                                String locator = m.getAnnotation(SEACreate.class).locator();\n                                Class&lt;?&gt; entityType = m.getAnnotation(SEACreate.class).type();\n                                log.info(&quot;注册SEA映射：&quot; + locator + &quot;/c ==&gt; &quot; + methodMapping);\n                                if (seaContext.getMapper(locator) == null) {\n                                    MybatisSEAMapper mapper = new MybatisSEAMapper(methodMapping, null, null, null, entityType);\n                                    seaContext.addMapper(locator, mapper);\n                                } else {\n                                    ((MybatisSEAMapper) seaContext.getMapper(locator)).setCreateMethod(methodMapping);\n                                }\n                            } else if (m.isAnnotationPresent(SEARead.class)) {\n                                String locator = m.getAnnotation(SEARead.class).locator();\n                                Class&lt;?&gt; entityType = m.getAnnotation(SEARead.class).type();\n                                log.info(&quot;注册SEA映射：&quot; + locator + &quot;/r ==&gt; &quot; + methodMapping);\n                                if (seaContext.getMapper(locator) == null) {\n                                    MybatisSEAMapper mapper = new MybatisSEAMapper(null, methodMapping, null, null, entityType);\n                                    seaContext.addMapper(locator, mapper);\n                                } else {\n                                    String rm;\n                                    if ((rm = ((MybatisSEAMapper) seaContext.getMapper(locator)).getReadMethod()) == null) {\n                                        ((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(methodMapping);\n                                    } else {\n                                        ((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(methodMapping + &quot;#&quot; + rm);\n                                    }\n                                }\n                            } else if (m.isAnnotationPresent(SEAReadCount.class)) {\n                                String locator = m.getAnnotation(SEAReadCount.class).locator();\n                                Class&lt;?&gt; entityType = m.getAnnotation(SEAReadCount.class).type();\n                                log.info(&quot;注册SEA映射：&quot; + locator + &quot;/r(count) ==&gt; &quot; + methodMapping);\n                                if (seaContext.getMapper(locator) == null) {\n                                    MybatisSEAMapper mapper = new MybatisSEAMapper(null, m.getName(), null, null, entityType);\n                                    seaContext.addMapper(locator, mapper);\n                                } else {\n                                    String rm;\n                                    if ((rm = ((MybatisSEAMapper) seaContext.getMapper(locator)).getReadMethod()) == null) {\n                                        ((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(m.getName());\n                                    } else {\n                                        ((MybatisSEAMapper) seaContext.getMapper(locator)).setReadMethod(rm + &quot;#&quot; + m.getName());\n                                    }\n                                }\n                            } else if (m.isAnnotationPresent(SEAUpdate.class)) {\n                                String locator = m.getAnnotation(SEAUpdate.class).locator();\n                                Class&lt;?&gt; entityType = m.getAnnotation(SEAUpdate.class).type();\n                                log.info(&quot;注册SEA映射：&quot; + locator + &quot;/u ==&gt; &quot; + methodMapping);\n                                if (seaContext.getMapper(locator) == null) {\n                                    MybatisSEAMapper mapper = new MybatisSEAMapper(null, null, methodMapping, null, entityType);\n                                    seaContext.addMapper(locator, mapper);\n                                } else {\n                                    ((MybatisSEAMapper) seaContext.getMapper(locator)).setUpdateMethod(methodMapping);\n                                }\n                            } else if (m.isAnnotationPresent(SEADelete.class)) {\n                                String locator = m.getAnnotation(SEADelete.class).locator();\n                                Class&lt;?&gt; entityType = m.getAnnotation(SEADelete.class).type();\n                                log.info(&quot;注册SEA映射：&quot; + locator + &quot;/d ==&gt; &quot; + methodMapping);\n                                if (seaContext.getMapper(locator) == null) {\n                                    MybatisSEAMapper mapper = new MybatisSEAMapper(null, null, null, methodMapping, entityType);\n                                    seaContext.addMapper(locator, mapper);\n                                } else {\n                                    ((MybatisSEAMapper) seaContext.getMapper(locator)).setDeleteMethod(methodMapping);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (Exception e) {\n\n        }\n    }\n\n    @Override\n    public void postProcessBeanDefinitionRegistry(BeanDefinitionRegistry registry) throws BeansException {\n\n    }\n}\n</code></pre>\n<p>which was imported by @Import(SEAPostProcessorSelector.class):</p>\n<pre><code>public class SEAPostProcessorSelector implements DeferredImportSelector {\n\n    @Override\n    public String[] selectImports(AnnotationMetadata importingClassMetadata) {\n        return new String[] { SEABeanDefinitionRegistryPostProcessor.class.getName() };\n    }\n\n}\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":13047412,"reputation":2792,"user_id":9428851,"display_name":"Victor Gubin"},"score":0,"creation_date":1686212116,"post_id":76429845,"comment_id":134768960,"body_markdown":"Add `executor.awaitTermination(1, TimeUnit.MINUTES);` just after `executor.shutdown();`","body":"Add <code>executor.awaitTermination(1, TimeUnit.MINUTES);</code> just after <code>executor.shutdown();</code>"},{"owner":{"account_id":3655738,"reputation":484,"user_id":3133462,"accept_rate":46,"display_name":"Ioanna Katsanou"},"score":0,"creation_date":1686212332,"post_id":76429845,"comment_id":134769003,"body_markdown":"@VictorGubin it did not work... just printed the empty concurrenthashmap at the end","body":"@VictorGubin it did not work... just printed the empty concurrenthashmap at the end"},{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":2,"creation_date":1686213185,"post_id":76429845,"comment_id":134769155,"body_markdown":"There seems to be an overshadowing of `map` variable in the `call` method, try to comment out the first line on `call` method. and maybe wait until all Futures are finished before shutdown in the `main` function `try {\n            for (Future f : futureList) {\n                f.get();\n            }\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace(System.err);\n        }`","body":"There seems to be an overshadowing of <code>map</code> variable in the <code>call</code> method, try to comment out the first line on <code>call</code> method. and maybe wait until all Futures are finished before shutdown in the <code>main</code> function <code>try {             for (Future f : futureList) {                 f.get();             }         } catch (ExecutionException | InterruptedException e) {             e.printStackTrace(System.err);         }</code>"},{"owner":{"account_id":3655738,"reputation":484,"user_id":3133462,"accept_rate":46,"display_name":"Ioanna Katsanou"},"score":0,"creation_date":1686213415,"post_id":76429845,"comment_id":134769201,"body_markdown":"@Jhilton  yes indeed !!! thank you. If you want write it as a response so I can mark your answer right thank you !!","body":"@Jhilton  yes indeed !!! thank you. If you want write it as a response so I can mark your answer right thank you !!"}],"answers":[{"tags":[],"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686213534,"creation_date":1686213534,"answer_id":76430043,"question_id":76429845,"body_markdown":"Scope issue of `map` variable passed in the constructor and the first line of method `call`. If you want to add the entries into the Map passed in the constructor you can try something like this:\r\n\r\n```java\r\npublic class AddElementsToMap {\r\n\r\n    public static void main(String[] args) {\r\n        ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;String, String&gt;();\r\n\r\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n\r\n        list.add(&quot;Dimitrios&quot;);\r\n        list.add(&quot;Maria&quot;);\r\n        list.add(&quot;Jason&quot;);\r\n        list.add(&quot;Io&quot;);\r\n        list.add(&quot;Jessica&quot;);\r\n\r\n        ExecutorService executor = Executors.newFixedThreadPool(3);\r\n        ArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;();\r\n\r\n        for (String name : list) {\r\n\r\n            Future future = executor.submit(new AddElementsToMapCallable(name, map));\r\n            futureList.add(future);\r\n\r\n        }\r\n\r\n        // Wait until all threads are finished (Hopefully this is jsut for a learning experience)\r\n        try {\r\n            for (Future f : futureList) {\r\n                f.get();\r\n            }\r\n        } catch (ExecutionException | InterruptedException e) {\r\n            e.printStackTrace(System.err);\r\n        }\r\n\r\n        executor.shutdown();\r\n\r\n        System.out.println(&quot;MAP &quot; + map);\r\n\r\n    }\r\n\r\n\r\n    static class AddElementsToMapCallable implements Callable {\r\n\r\n        private String name;\r\n        private String className;\r\n        ConcurrentHashMap&lt;String, String&gt; map;\r\n\r\n        public AddElementsToMapCallable(String name, ConcurrentHashMap&lt;String, String&gt; map) {\r\n\r\n            this.className = this.getClass().getSimpleName();\r\n            this.name = name;\r\n            this.map = map;\r\n        }\r\n\r\n        @Override\r\n        public Object call() throws Exception {\r\n            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;(); // REMOVE this line. This map will shadow the map passed in the constructor\r\n            \r\n            System.out.println(\r\n                  className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\r\n                        + &quot; Processing User = &quot; + name);\r\n            if (name.length() &lt;= 5) {\r\n                System.out.println(\r\n                      className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\r\n                            + &quot; Processing User = &quot; + name + &quot;length is smaller than 5. Adding!&quot;);\r\n\r\n                map.put(name, String.valueOf(name.length()));\r\n            } else {\r\n                System.out.println(\r\n                      className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\r\n                            + &quot; Processing User = &quot; + name + &quot;length is BIGGER than 5&quot;);\r\n\r\n            }\r\n\r\n            return map;\r\n        }\r\n\r\n        public long getThreadId() {\r\n            return Thread.currentThread().getId();\r\n        }\r\n\r\n        public Thread getThread() {\r\n            return Thread.currentThread();\r\n        }\r\n    }\r\n}\r\n```","title":"How to use ConcurrentHashMap in a MultiThread application with Callable","body":"<p>Scope issue of <code>map</code> variable passed in the constructor and the first line of method <code>call</code>. If you want to add the entries into the Map passed in the constructor you can try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class AddElementsToMap {\n\n    public static void main(String[] args) {\n        ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;String, String&gt;();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        list.add(&quot;Dimitrios&quot;);\n        list.add(&quot;Maria&quot;);\n        list.add(&quot;Jason&quot;);\n        list.add(&quot;Io&quot;);\n        list.add(&quot;Jessica&quot;);\n\n        ExecutorService executor = Executors.newFixedThreadPool(3);\n        ArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;();\n\n        for (String name : list) {\n\n            Future future = executor.submit(new AddElementsToMapCallable(name, map));\n            futureList.add(future);\n\n        }\n\n        // Wait until all threads are finished (Hopefully this is jsut for a learning experience)\n        try {\n            for (Future f : futureList) {\n                f.get();\n            }\n        } catch (ExecutionException | InterruptedException e) {\n            e.printStackTrace(System.err);\n        }\n\n        executor.shutdown();\n\n        System.out.println(&quot;MAP &quot; + map);\n\n    }\n\n\n    static class AddElementsToMapCallable implements Callable {\n\n        private String name;\n        private String className;\n        ConcurrentHashMap&lt;String, String&gt; map;\n\n        public AddElementsToMapCallable(String name, ConcurrentHashMap&lt;String, String&gt; map) {\n\n            this.className = this.getClass().getSimpleName();\n            this.name = name;\n            this.map = map;\n        }\n\n        @Override\n        public Object call() throws Exception {\n            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;(); // REMOVE this line. This map will shadow the map passed in the constructor\n            \n            System.out.println(\n                  className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\n                        + &quot; Processing User = &quot; + name);\n            if (name.length() &lt;= 5) {\n                System.out.println(\n                      className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\n                            + &quot; Processing User = &quot; + name + &quot;length is smaller than 5. Adding!&quot;);\n\n                map.put(name, String.valueOf(name.length()));\n            } else {\n                System.out.println(\n                      className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\n                            + &quot; Processing User = &quot; + name + &quot;length is BIGGER than 5&quot;);\n\n            }\n\n            return map;\n        }\n\n        public long getThreadId() {\n            return Thread.currentThread().getId();\n        }\n\n        public Thread getThread() {\n            return Thread.currentThread();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3655738,"reputation":484,"user_id":3133462,"accept_rate":46,"display_name":"Ioanna Katsanou"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76430043,"answer_count":1,"score":0,"last_activity_date":1686213534,"creation_date":1686211694,"question_id":76429845,"body_markdown":"I want to have a threading application and I use Callable interface, but I want all the threads to add simultaneously in a ConcurrentHashmap some values, and at the end of the program to print the hashmap with the results.\r\nMore specifically, I have a list with some names. I iterate through the list and combine threading and in each thread if the name&#39;s length is shorter than 5 , then I want it added to the concurrent hashmap. \r\nAt the end of the program I want to print the concurrent hashmap with all the names that are shorter than 5.\r\n\r\nSo my main class is the following:\r\n\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import java.util.concurrent.Future;\r\n    \r\n    public class AddElementsToMap {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;String, String&gt;();\r\n    \r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n    \r\n    \t\tlist.add(&quot;Dimitrios&quot;);\r\n    \t\tlist.add(&quot;Maria&quot;);\r\n    \t\tlist.add(&quot;Jason&quot;);\r\n    \t\tlist.add(&quot;Io&quot;);\r\n    \t\tlist.add(&quot;Jessica&quot;);\r\n    \r\n    \t\tExecutorService executor = Executors.newFixedThreadPool(3);\r\n    \t\tArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;();\r\n    \r\n    \t\tfor (String name : list) {\r\n    \r\n    \t\t\tFuture future = executor.submit(new AddElementsToMapCallable(name, map));\r\n    \t\t\tfutureList.add(future);\r\n    \r\n    \t\t}\r\n    \r\n    \t\texecutor.shutdown();\r\n    \r\n    \t\tSystem.out.println(&quot;MAP &quot; + map);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\nand My Callable is the following\r\n\r\n\r\n\r\n\r\n    import java.util.HashMap;\r\n    import java.util.concurrent.Callable;\r\n    import java.util.concurrent.ConcurrentHashMap;\r\n    \r\n    public class AddElementsToMapCallable implements Callable {\r\n    \r\n    \tprivate String name;\r\n    \tprivate String className;\r\n    \tConcurrentHashMap&lt;String, String&gt; map;\r\n    \r\n    \tpublic AddElementsToMapCallable(String name, ConcurrentHashMap&lt;String, String&gt; map) {\r\n    \r\n    \t\tthis.className = this.getClass().getSimpleName();\r\n    \t\tthis.name = name;\r\n    \t\tthis.map = map;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic Object call() throws Exception {\r\n    \t\tHashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n    \t\tSystem.out.println(\r\n    \t\t\t\tclassName + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId() + &quot; Processing User = &quot; + name);\r\n    \t\tif (name.length() &lt;= 5) {\r\n    \t\t\tSystem.out.println(className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\r\n    \t\t\t\t\t+ &quot; Processing User = &quot; + name + &quot;length is smaller than 5. Adding!&quot;);\r\n    \r\n    \t\t\tmap.put(name, String.valueOf(name.length()));\r\n    \t\t} else {\r\n    \t\t\tSystem.out.println(className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\r\n    \t\t\t\t\t+ &quot; Processing User = &quot; + name + &quot;length is BIGGER than 5&quot;);\r\n    \r\n    \t\t}\r\n    \r\n    \t\treturn map;\r\n    \t}\r\n    \r\n    \tpublic long getThreadId() {\r\n    \t\treturn Thread.currentThread().getId();\r\n    \t}\r\n    \r\n    \tpublic Thread getThread() {\r\n    \t\treturn Thread.currentThread();\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nbut what I get as a result is as you can see not what I wanted... \r\n\r\n   \r\n\r\n     MAP {}\r\n        AddElementsToMapCallablecall ThreadID = 14 Processing User = Maria\r\n        AddElementsToMapCallablecall ThreadID = 13 Processing User = Dimitrios\r\n        AddElementsToMapCallablecall ThreadID = 15 Processing User = Jason\r\n        AddElementsToMapCallablecall ThreadID = 14 Processing User = Marialength is smaller than 5. Adding!\r\n        AddElementsToMapCallablecall ThreadID = 13 Processing User = Dimitrioslength is BIGGER than 5\r\n        AddElementsToMapCallablecall ThreadID = 15 Processing User = Jasonlength is smaller than 5. Adding!\r\n        AddElementsToMapCallablecall ThreadID = 15 Processing User = Io\r\n        AddElementsToMapCallablecall ThreadID = 15 Processing User = Iolength is smaller than 5. Adding!\r\n        AddElementsToMapCallablecall ThreadID = 15 Processing User = Jessica\r\n    \r\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Jessicalength is BIGGER than 5\r\n\r\n\r\n\r\nCould someone help me? What am I doing wrong??\r\nThanks !","title":"How to use ConcurrentHashMap in a MultiThread application with Callable","body":"<p>I want to have a threading application and I use Callable interface, but I want all the threads to add simultaneously in a ConcurrentHashmap some values, and at the end of the program to print the hashmap with the results.\nMore specifically, I have a list with some names. I iterate through the list and combine threading and in each thread if the name's length is shorter than 5 , then I want it added to the concurrent hashmap.\nAt the end of the program I want to print the concurrent hashmap with all the names that are shorter than 5.</p>\n<p>So my main class is the following:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport java.util.concurrent.ConcurrentHashMap;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport java.util.concurrent.Future;\n\npublic class AddElementsToMap {\n\n    public static void main(String[] args) {\n        ConcurrentHashMap&lt;String, String&gt; map = new ConcurrentHashMap&lt;String, String&gt;();\n\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n\n        list.add(&quot;Dimitrios&quot;);\n        list.add(&quot;Maria&quot;);\n        list.add(&quot;Jason&quot;);\n        list.add(&quot;Io&quot;);\n        list.add(&quot;Jessica&quot;);\n\n        ExecutorService executor = Executors.newFixedThreadPool(3);\n        ArrayList&lt;Future&lt;Object&gt;&gt; futureList = new ArrayList&lt;Future&lt;Object&gt;&gt;();\n\n        for (String name : list) {\n\n            Future future = executor.submit(new AddElementsToMapCallable(name, map));\n            futureList.add(future);\n\n        }\n\n        executor.shutdown();\n\n        System.out.println(&quot;MAP &quot; + map);\n\n    }\n\n}\n</code></pre>\n<p>and My Callable is the following</p>\n<pre><code>import java.util.HashMap;\nimport java.util.concurrent.Callable;\nimport java.util.concurrent.ConcurrentHashMap;\n\npublic class AddElementsToMapCallable implements Callable {\n\n    private String name;\n    private String className;\n    ConcurrentHashMap&lt;String, String&gt; map;\n\n    public AddElementsToMapCallable(String name, ConcurrentHashMap&lt;String, String&gt; map) {\n\n        this.className = this.getClass().getSimpleName();\n        this.name = name;\n        this.map = map;\n    }\n\n    @Override\n    public Object call() throws Exception {\n        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n        System.out.println(\n                className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId() + &quot; Processing User = &quot; + name);\n        if (name.length() &lt;= 5) {\n            System.out.println(className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\n                    + &quot; Processing User = &quot; + name + &quot;length is smaller than 5. Adding!&quot;);\n\n            map.put(name, String.valueOf(name.length()));\n        } else {\n            System.out.println(className + &quot;call&quot; + &quot; ThreadID = &quot; + Thread.currentThread().getId()\n                    + &quot; Processing User = &quot; + name + &quot;length is BIGGER than 5&quot;);\n\n        }\n\n        return map;\n    }\n\n    public long getThreadId() {\n        return Thread.currentThread().getId();\n    }\n\n    public Thread getThread() {\n        return Thread.currentThread();\n    }\n}\n</code></pre>\n<p>but what I get as a result is as you can see not what I wanted...</p>\n<pre><code> MAP {}\n    AddElementsToMapCallablecall ThreadID = 14 Processing User = Maria\n    AddElementsToMapCallablecall ThreadID = 13 Processing User = Dimitrios\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Jason\n    AddElementsToMapCallablecall ThreadID = 14 Processing User = Marialength is smaller than 5. Adding!\n    AddElementsToMapCallablecall ThreadID = 13 Processing User = Dimitrioslength is BIGGER than 5\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Jasonlength is smaller than 5. Adding!\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Io\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Iolength is smaller than 5. Adding!\n    AddElementsToMapCallablecall ThreadID = 15 Processing User = Jessica\n\nAddElementsToMapCallablecall ThreadID = 15 Processing User = Jessicalength is BIGGER than 5\n</code></pre>\n<p>Could someone help me? What am I doing wrong??\nThanks !</p>\n"},{"tags":["java","mysql","spring","jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1686217974,"post_id":76430018,"comment_id":134770069,"body_markdown":"Reduce the batch size (use something like 50/100 not 10K), enable batch statements on both hibernate **and** mysql driver. And don&#39;t read the data all in a list but rather process/read and write directly (you might even want to leverage Spring Batch here but not sure how you are reading or need to rpocess the data).","body":"Reduce the batch size (use something like 50/100 not 10K), enable batch statements on both hibernate <b>and</b> mysql driver. And don&#39;t read the data all in a list but rather process/read and write directly (you might even want to leverage Spring Batch here but not sure how you are reading or need to rpocess the data)."},{"owner":{"account_id":18652004,"reputation":1,"user_id":13595259,"display_name":"Skelorc"},"score":0,"creation_date":1686234752,"post_id":76430018,"comment_id":134773881,"body_markdown":"I tried to enable batch data via in settings\nspring.jpa.properties.hibernate.order_inserts=true\nspring.jpa.properties.hibernate.order_updates=true\nspring.jpa.properties.hibernate.jdbc.batch_size=50\nbut in logs all the same there were single inserts. what does it mean to process and read?","body":"I tried to enable batch data via in settings spring.jpa.properties.hibernate.order_inserts=true spring.jpa.properties.hibernate.order_updates=true spring.jpa.properties.hibernate.jdbc.batch_size=50 but in logs all the same there were single inserts. what does it mean to process and read?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686389444,"post_id":76430018,"comment_id":134794390,"body_markdown":"MySQL is different, you need to enable it on the driver level as well (hibernate will log still single elements, however the driver will convert them to a single one, but you have to enable it!), regarding the batch size you need to decrease the batch size in your code as well. And please don&#39;t add additional config/code/etc. as comments as those are totally unreadable.","body":"MySQL is different, you need to enable it on the driver level as well (hibernate will log still single elements, however the driver will convert them to a single one, but you have to enable it!), regarding the batch size you need to decrease the batch size in your code as well. And please don&#39;t add additional config/code/etc. as comments as those are totally unreadable."}],"owner":{"account_id":18652004,"reputation":1,"user_id":13595259,"display_name":"Skelorc"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213312,"creation_date":1686213312,"question_id":76430018,"body_markdown":"People, hello everyone. We have Spring boot under the hood. It is necessary to periodically insert 1k records into the MySQL database, first checking for the presence of these, in order to avoid duplicates. The problem is slow insertion, and periodic OutOfMemoryException. Host = 1GB of RAM, 1 core.\r\nWhat I did:\r\n 1. Tried to load, first pulling one record at a time, and if there is none, then adding it to ArrayList , then this collection, saving it with the standard Spring JPA method - saveAll(); Got the above error.\r\n 2. Started splitting by 10k and also loading via saveAll();\r\n The error with memory periodically dropped out. Googled, remembered that hibernate caches all saved records. Now I made a custom repository, where I injected the EntityManager, and wrote the saveAll method, in which, while walking through the collection, I do em.persist(MyObject). After 10k iterations, I do em.flush: em.clear();\r\n\r\nInserting data is very slow, but the memory error seems to have disappeared...\r\n\r\nThe question is, how is this problem solved?\r\n\r\nCode my custom repo\r\n```@PersistenceContext\r\n    private EntityManager entityManager;\r\n\r\n    @Override\r\n    public void saveList(List&lt;Data&gt; list) {\r\n        int batchSize = 50;\r\n        int i = 0;\r\n        for (Data data : list) {\r\n            i++;\r\n            entityManager.persist(data);\r\n            if (i % batchSize == 0) {\r\n                entityManager.flush();\r\n                entityManager.clear();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How to increase data insert time in MySQL with Spring JPA? And what is the best way to solve this problem?","body":"<p>People, hello everyone. We have Spring boot under the hood. It is necessary to periodically insert 1k records into the MySQL database, first checking for the presence of these, in order to avoid duplicates. The problem is slow insertion, and periodic OutOfMemoryException. Host = 1GB of RAM, 1 core.\nWhat I did:</p>\n<ol>\n<li>Tried to load, first pulling one record at a time, and if there is none, then adding it to ArrayList , then this collection, saving it with the standard Spring JPA method - saveAll(); Got the above error.</li>\n<li>Started splitting by 10k and also loading via saveAll();\nThe error with memory periodically dropped out. Googled, remembered that hibernate caches all saved records. Now I made a custom repository, where I injected the EntityManager, and wrote the saveAll method, in which, while walking through the collection, I do em.persist(MyObject). After 10k iterations, I do em.flush: em.clear();</li>\n</ol>\n<p>Inserting data is very slow, but the memory error seems to have disappeared...</p>\n<p>The question is, how is this problem solved?</p>\n<p>Code my custom repo</p>\n<pre><code>    private EntityManager entityManager;\n\n    @Override\n    public void saveList(List&lt;Data&gt; list) {\n        int batchSize = 50;\n        int i = 0;\n        for (Data data : list) {\n            i++;\n            entityManager.persist(data);\n            if (i % batchSize == 0) {\n                entityManager.flush();\n                entityManager.clear();\n            }\n        }\n    }\n\n</code></pre>\n"},{"tags":["java","android","kotlin"],"owner":{"account_id":25272308,"reputation":11,"user_id":19101467,"display_name":"KURT BERNSTEIN BLANCIA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686213107,"creation_date":1686211253,"question_id":76429796,"body_markdown":"  This textbox animation code will occupy the space of the buttons and widen the width so that the user can have more space to type.(buttons will be hidden just like the messenger-type animation),  The code have IskeyboardOpen feature that will enable the textbox to be return on it&#39;s original size when the keyboard is minimize\r\n\r\nmy problem is why does the animation will only take effect on the second click, it will not take effect on the first click.\r\n\r\n \r\n\r\n    public void expandEditText(View view) {\r\n        if (!isEditTextClicked || !isExpanded) {\r\n            // The EditText is clicked for the first time or it is currently collapsed\r\n            expandEditTextAnimation();\r\n        } else {\r\n            collapseEditText();\r\n        }\r\n    }\r\n    private void expandEditTextAnimation() {\r\n        if (!isEditTextClicked) {\r\n            isEditTextClicked = true;\r\n\r\n            // Calculate the expanded width based on the parent layout width\r\n            int expandedWidth = ((ViewGroup) editText.getParent()).getWidth();\r\n\r\n            // Set the expanded width to the EditText\r\n            ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\r\n            layoutParams.width = expandedWidth;\r\n            editText.setLayoutParams(layoutParams);\r\n\r\n            // Position the EditText over the buttons\r\n            RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\r\n            editTextParams.removeRule(RelativeLayout.ALIGN_PARENT_END);\r\n            editTextParams.addRule(RelativeLayout.START_OF, R.id.imageView2);\r\n            editText.setLayoutParams(editTextParams);\r\n\r\n            // Hide the buttons\r\n            locationButton.setVisibility(View.GONE);\r\n            captureButton.setVisibility(View.GONE);\r\n            imageView2.setVisibility(View.GONE);\r\n\r\n            isExpanded = true;\r\n        } else {\r\n            // Check if the keyboard is open\r\n            InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n            if (imm.isAcceptingText()) {\r\n                collapseEditText();\r\n            } else {\r\n                isEditTextClicked = false;\r\n\r\n                // Calculate the original width of the EditText\r\n                int originalWidth = editText.getWidth();\r\n\r\n                // Set the original width to the EditText\r\n                ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\r\n                layoutParams.width = originalWidth;\r\n                editText.setLayoutParams(layoutParams);\r\n\r\n                // Position the EditText back to its original position\r\n                RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\r\n                editTextParams.addRule(RelativeLayout.ALIGN_PARENT_END);\r\n                editTextParams.removeRule(RelativeLayout.START_OF);\r\n                editText.setLayoutParams(editTextParams);\r\n\r\n                // Show the buttons\r\n                locationButton.setVisibility(View.VISIBLE);\r\n                captureButton.setVisibility(View.VISIBLE);\r\n                imageView2.setVisibility(View.VISIBLE);\r\n\r\n                isExpanded = false;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    private void collapseEditText() {\r\n        // Calculate the original width of the EditText\r\n        int originalWidth = getResources().getDimensionPixelSize(R.dimen.edit_text_width);\r\n\r\n        // Set the original width to the EditText\r\n        ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\r\n        layoutParams.width = originalWidth;\r\n        editText.setLayoutParams(layoutParams);\r\n\r\n        // Show the buttons\r\n        locationButton.setVisibility(View.VISIBLE);\r\n        captureButton.setVisibility(View.VISIBLE);\r\n        imageView2.setVisibility(View.VISIBLE);\r\n\r\n        // Position the EditText back to its original position\r\n        RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\r\n        editTextParams.removeRule(RelativeLayout.START_OF);\r\n        editTextParams.addRule(RelativeLayout.ALIGN_PARENT_END);\r\n        editText.setLayoutParams(editTextParams);\r\n\r\n        isExpanded = false;\r\n        isEditTextClicked = false;\r\n    }\r\n","title":"Android TextBox input animation not working","body":"<p>This textbox animation code will occupy the space of the buttons and widen the width so that the user can have more space to type.(buttons will be hidden just like the messenger-type animation),  The code have IskeyboardOpen feature that will enable the textbox to be return on it's original size when the keyboard is minimize</p>\n<p>my problem is why does the animation will only take effect on the second click, it will not take effect on the first click.</p>\n<pre><code>public void expandEditText(View view) {\n    if (!isEditTextClicked || !isExpanded) {\n        // The EditText is clicked for the first time or it is currently collapsed\n        expandEditTextAnimation();\n    } else {\n        collapseEditText();\n    }\n}\nprivate void expandEditTextAnimation() {\n    if (!isEditTextClicked) {\n        isEditTextClicked = true;\n\n        // Calculate the expanded width based on the parent layout width\n        int expandedWidth = ((ViewGroup) editText.getParent()).getWidth();\n\n        // Set the expanded width to the EditText\n        ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\n        layoutParams.width = expandedWidth;\n        editText.setLayoutParams(layoutParams);\n\n        // Position the EditText over the buttons\n        RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\n        editTextParams.removeRule(RelativeLayout.ALIGN_PARENT_END);\n        editTextParams.addRule(RelativeLayout.START_OF, R.id.imageView2);\n        editText.setLayoutParams(editTextParams);\n\n        // Hide the buttons\n        locationButton.setVisibility(View.GONE);\n        captureButton.setVisibility(View.GONE);\n        imageView2.setVisibility(View.GONE);\n\n        isExpanded = true;\n    } else {\n        // Check if the keyboard is open\n        InputMethodManager imm = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n        if (imm.isAcceptingText()) {\n            collapseEditText();\n        } else {\n            isEditTextClicked = false;\n\n            // Calculate the original width of the EditText\n            int originalWidth = editText.getWidth();\n\n            // Set the original width to the EditText\n            ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\n            layoutParams.width = originalWidth;\n            editText.setLayoutParams(layoutParams);\n\n            // Position the EditText back to its original position\n            RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\n            editTextParams.addRule(RelativeLayout.ALIGN_PARENT_END);\n            editTextParams.removeRule(RelativeLayout.START_OF);\n            editText.setLayoutParams(editTextParams);\n\n            // Show the buttons\n            locationButton.setVisibility(View.VISIBLE);\n            captureButton.setVisibility(View.VISIBLE);\n            imageView2.setVisibility(View.VISIBLE);\n\n            isExpanded = false;\n        }\n    }\n}\n\n\nprivate void collapseEditText() {\n    // Calculate the original width of the EditText\n    int originalWidth = getResources().getDimensionPixelSize(R.dimen.edit_text_width);\n\n    // Set the original width to the EditText\n    ViewGroup.LayoutParams layoutParams = editText.getLayoutParams();\n    layoutParams.width = originalWidth;\n    editText.setLayoutParams(layoutParams);\n\n    // Show the buttons\n    locationButton.setVisibility(View.VISIBLE);\n    captureButton.setVisibility(View.VISIBLE);\n    imageView2.setVisibility(View.VISIBLE);\n\n    // Position the EditText back to its original position\n    RelativeLayout.LayoutParams editTextParams = (RelativeLayout.LayoutParams) editText.getLayoutParams();\n    editTextParams.removeRule(RelativeLayout.START_OF);\n    editTextParams.addRule(RelativeLayout.ALIGN_PARENT_END);\n    editText.setLayoutParams(editTextParams);\n\n    isExpanded = false;\n    isEditTextClicked = false;\n}\n</code></pre>\n"},{"tags":["java","memory-leaks","garbage-collection","out-of-memory"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1686212815,"post_id":76429908,"comment_id":134769092,"body_markdown":"Did you try `Thread.setDefaultUncaughtExceptionHandler()`?","body":"Did you try <code>Thread.setDefaultUncaughtExceptionHandler()</code>?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":6,"creation_date":1686215345,"post_id":76429908,"comment_id":134769553,"body_markdown":"Maybe you just want to use the `-XX:+ExitOnOutOfMemoryError` option?","body":"Maybe you just want to use the <code>-XX:+ExitOnOutOfMemoryError</code> option?"},{"owner":{"account_id":669808,"reputation":3053,"user_id":508459,"accept_rate":69,"display_name":"eshalev"},"score":0,"creation_date":1687186153,"post_id":76429908,"comment_id":134897955,"body_markdown":"@Holger Add your comment as an answer so that I can accept it","body":"@Holger Add your comment as an answer so that I can accept it"}],"owner":{"account_id":669808,"reputation":3053,"user_id":508459,"accept_rate":69,"display_name":"eshalev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686212302,"creation_date":1686212302,"question_id":76429908,"body_markdown":"Is there any global hook I can set for detecting `OutOfMemoryError` ?\r\n\r\nI have a massively parallel compute service with lots of memory allocation.\r\nWe do our best to tune it&#39;s parallelism, so that not too much memory is consumed.\r\nOnce every several months, we get an `OutOfMemoryError` in production that load testing did not sniff out.\r\n\r\nOnce this happens, the server enters an unstable state. All kinds of shared resourcePools (like connectionPools and threadPools) enter an `IllegalState`, and the server starts returning errors on healthy requests.\r\n\r\nAt this stage, the right thing is to bounce the &quot;sick&quot; machine. We can detect that eventually based on the error rate coming from that machine in the cluster. However: Once we wait for detection: That machine is sending a bunch of false 40X errors to our clients. These requests could have been handled succesfully by other healthy nodes in our cluster.\r\n\r\nFrom my perspective: Once any OutOfMemoryError has occured: We should bounce the machine as quickly as possible. Is there any global hook I can set for detecting `OutOfMemoryError` so that I don&#39;t have to write multiple `catch(OutOfMemoryError){Shutdown}` across our code? ","title":"Java OutOfMemoryError global hook","body":"<p>Is there any global hook I can set for detecting <code>OutOfMemoryError</code> ?</p>\n<p>I have a massively parallel compute service with lots of memory allocation.\nWe do our best to tune it's parallelism, so that not too much memory is consumed.\nOnce every several months, we get an <code>OutOfMemoryError</code> in production that load testing did not sniff out.</p>\n<p>Once this happens, the server enters an unstable state. All kinds of shared resourcePools (like connectionPools and threadPools) enter an <code>IllegalState</code>, and the server starts returning errors on healthy requests.</p>\n<p>At this stage, the right thing is to bounce the &quot;sick&quot; machine. We can detect that eventually based on the error rate coming from that machine in the cluster. However: Once we wait for detection: That machine is sending a bunch of false 40X errors to our clients. These requests could have been handled succesfully by other healthy nodes in our cluster.</p>\n<p>From my perspective: Once any OutOfMemoryError has occured: We should bounce the machine as quickly as possible. Is there any global hook I can set for detecting <code>OutOfMemoryError</code> so that I don't have to write multiple <code>catch(OutOfMemoryError){Shutdown}</code> across our code?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9610,"page":382,"page_size":100}
