{"items":[{"tags":["java","mockito","deprecated"],"answers":[{"comments":[{"owner":{"account_id":11944756,"reputation":7873,"user_id":8740349,"display_name":"Top-Master"},"score":0,"creation_date":1681127205,"post_id":41909594,"comment_id":134002319,"body_markdown":"And I did wonder why mine is NOT deprecated ;-)","body":"And I did wonder why mine is NOT deprecated ;-)"}],"tags":[],"owner":{"account_id":2269593,"reputation":43917,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"comment_count":1,"down_vote_count":0,"up_vote_count":159,"is_accepted":true,"score":159,"last_activity_date":1539168178,"creation_date":1485605132,"answer_id":41909594,"question_id":41909538,"body_markdown":"[`org.mockito.runners.MockitoJUnitRunner`][1] is now indeed deprecated, you are supposed to use [`org.mockito.junit.MockitoJUnitRunner`][2] instead. As you can see only the package name has changed, the simple name of the class is still **`MockitoJUnitRunner`**.\r\n\r\nExcerpt from the javadoc of `org.mockito.runners.MockitoJUnitRunner`:\r\n\r\n&gt; Moved to [`MockitoJUnitRunner`][2], this class will be removed with\r\n&gt; Mockito 3\r\n\r\n\r\n  [1]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\r\n  [2]: http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html","title":"MockitoJUnitRunner is deprecated","body":"<p><a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/runners/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.runners.MockitoJUnitRunner</code></a> is now indeed deprecated, you are supposed to use <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>org.mockito.junit.MockitoJUnitRunner</code></a> instead. As you can see only the package name has changed, the simple name of the class is still <strong><code>MockitoJUnitRunner</code></strong>.</p>\n\n<p>Excerpt from the javadoc of <code>org.mockito.runners.MockitoJUnitRunner</code>:</p>\n\n<blockquote>\n  <p>Moved to <a href=\"http://static.javadoc.io/org.mockito/mockito-core/2.6.8/org/mockito/junit/MockitoJUnitRunner.html\" rel=\"noreferrer\"><code>MockitoJUnitRunner</code></a>, this class will be removed with\n  Mockito 3</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":9860975,"reputation":1650,"user_id":7303998,"accept_rate":100,"display_name":"MatWdo"},"comment_count":0,"down_vote_count":2,"up_vote_count":14,"is_accepted":false,"score":12,"last_activity_date":1512766763,"creation_date":1485606595,"answer_id":41909801,"question_id":41909538,"body_markdown":"You can try this:\r\n\r\n    @Before\r\n    public void setup() {\r\n        MockitoAnnotations.initMocks(this);\r\n    }\r\n\r\nBecause you add `@Before` annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add `@BeforeCLass`\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try this:</p>\n\n<pre><code>@Before\npublic void setup() {\n    MockitoAnnotations.initMocks(this);\n}\n</code></pre>\n\n<p>Because you add <code>@Before</code> annotation, Your mock objects can be new and recorded many times, and in all test you can give objects new properties. But, if you want one time record behavior for mock object please add <code>@BeforeCLass</code></p>\n"},{"tags":[],"owner":{"account_id":9605894,"reputation":373,"user_id":7131969,"display_name":"git pull origin"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1510063423,"creation_date":1510063423,"answer_id":47159903,"question_id":41909538,"body_markdown":"There is also a `@Rule` option:\r\n\r\n    @Rule \r\n    public MockitoRule rule = MockitoJUnit.rule();\r\n\r\nOr in Kotlin:\r\n\r\n    @get:Rule\r\n    var rule = MockitoJUnit.rule()","title":"MockitoJUnitRunner is deprecated","body":"<p>There is also a <code>@Rule</code> option:</p>\n\n<pre><code>@Rule \npublic MockitoRule rule = MockitoJUnit.rule();\n</code></pre>\n\n<p>Or in Kotlin:</p>\n\n<pre><code>@get:Rule\nvar rule = MockitoJUnit.rule()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13035163,"reputation":1085,"user_id":9420335,"display_name":"Akshay Chopra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1574068084,"creation_date":1573206006,"answer_id":58763984,"question_id":41909538,"body_markdown":"You can try importing the following:\r\n\r\n    import org.mockito.runners.MockitoJUnitRunner;\r\n\r\nAlso, if you are using ***Eclipse***, just press **Ctrl + Shift + O** and it will auto import it.","title":"MockitoJUnitRunner is deprecated","body":"<p>You can try importing the following:</p>\n\n<pre><code>import org.mockito.runners.MockitoJUnitRunner;\n</code></pre>\n\n<p>Also, if you are using <strong><em>Eclipse</em></strong>, just press <strong>Ctrl + Shift + O</strong> and it will auto import it.</p>\n"},{"tags":[],"owner":{"account_id":4456117,"reputation":3177,"user_id":3626353,"accept_rate":100,"display_name":"MeLean"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1610009502,"creation_date":1610004486,"answer_id":65608188,"question_id":41909538,"body_markdown":"I managed to fix this when I updated the dependencies to the latest versions in my case:\r\n\r\n    def mockito_version = &#39;2.28.2&#39;\r\n\r\n    // For local unit tests on your development machine\r\n    testImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\r\n\r\n    // For instrumentation tests on Android devices and emulators\r\n    androidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\r\n\r\nThen I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\r\nfrom \r\n\r\n    import org.mockito.runners.MockitoJUnitRunner; \r\n\r\nto\r\n\r\n    import org.mockito.junit.MockitoJUnitRunner;\r\n","title":"MockitoJUnitRunner is deprecated","body":"<p>I managed to fix this when I updated the dependencies to the latest versions in my case:</p>\n<pre><code>def mockito_version = '2.28.2'\n\n// For local unit tests on your development machine\ntestImplementation &quot;org.mockito:mockito-core:$mockito_version&quot;\n\n// For instrumentation tests on Android devices and emulators\nandroidTestImplementation &quot;org.mockito:mockito-android:$mockito_version&quot;\n</code></pre>\n<p>Then I changed the imports by the replace command (Mac: cmd+Shift+R Windows: Ctrl+Shift+R)\nfrom</p>\n<pre><code>import org.mockito.runners.MockitoJUnitRunner; \n</code></pre>\n<p>to</p>\n<pre><code>import org.mockito.junit.MockitoJUnitRunner;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20071835,"reputation":127,"user_id":14716403,"display_name":"Bartek"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302380,"creation_date":1686302380,"answer_id":76438898,"question_id":41909538,"body_markdown":"JunitRunner worked, thank you all","title":"MockitoJUnitRunner is deprecated","body":"<p>JunitRunner worked, thank you all</p>\n"}],"owner":{"account_id":445814,"reputation":2018,"user_id":838494,"accept_rate":77,"display_name":"Albert Hendriks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61251,"favorite_count":0,"down_vote_count":1,"up_vote_count":82,"accepted_answer_id":41909594,"answer_count":6,"score":81,"last_activity_date":1686302380,"creation_date":1485604725,"question_id":41909538,"body_markdown":"I&#39;m trying to make a unit test with `@InjectMocks` and `@Mock`.\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class ProblemDefinitionTest {\r\n    \r\n        @InjectMocks\r\n        ProblemDefinition problemDefinition;\r\n    \r\n        @Mock\r\n        Matrix matrixMock;    \r\n       \r\n        @Test\r\n        public void sanityCheck() {\r\n            Assert.assertNotNull(problemDefinition);\r\n            Assert.assertNotNull(matrixMock);\r\n        }\r\n    }\r\n\r\nWhen I don&#39;t include the `@RunWith` annotation, the test fails. But\r\n\r\n&gt; The type MockitoJUnitRunner is deprecated\r\n\r\nI&#39;m using Mockito 2.6.9. How should I go about this?","title":"MockitoJUnitRunner is deprecated","body":"<p>I'm trying to make a unit test with <code>@InjectMocks</code> and <code>@Mock</code>.</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class ProblemDefinitionTest {\n\n    @InjectMocks\n    ProblemDefinition problemDefinition;\n\n    @Mock\n    Matrix matrixMock;    \n\n    @Test\n    public void sanityCheck() {\n        Assert.assertNotNull(problemDefinition);\n        Assert.assertNotNull(matrixMock);\n    }\n}\n</code></pre>\n\n<p>When I don't include the <code>@RunWith</code> annotation, the test fails. But</p>\n\n<blockquote>\n  <p>The type MockitoJUnitRunner is deprecated</p>\n</blockquote>\n\n<p>I'm using Mockito 2.6.9. How should I go about this?</p>\n"},{"tags":["java","annotations","mapstruct","annotation-processing","feign"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686258201,"post_id":76435326,"comment_id":134778304,"body_markdown":"Are you asking how an implementation of [`java.lang.annotation.Annotation`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html) is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does `@Inject` from CDI allow dependencies to be injected)?","body":"Are you asking how an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/annotation/Annotation.html\" rel=\"nofollow noreferrer\"><code>java.lang.annotation.Annotation</code></a> is created? Or are you asking how the functionality &quot;around&quot; the annotation is implemented (e.g., how does <code>@Inject</code> from CDI allow dependencies to be injected)?"},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686319563,"post_id":76435326,"comment_id":134786757,"body_markdown":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing.","body":"I&#39;m looking for the funcitonality around the annotation. I&#39;ve tried to find the implementation of some annotations in Eclipse but using Ctrl + Click for go to implementation does nothing."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340322,"post_id":76435326,"comment_id":134790696,"body_markdown":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at _compile-time_, then an implementation of [`Processor`](https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html) must be present during compilation. If it&#39;s an annotation processed at _run-time_, then some code somewhere is calling methods like [`getAnnotation(Class)`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)) and acting accordingly.","body":"Then as noted by Renis in his answer, it&#39;s not &quot;Java&quot; that creates the implementation. If it&#39;s an annotation processed at <i>compile-time</i>, then an implementation of <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.compiler/javax/annotation/processing/Processor.html\" rel=\"nofollow noreferrer\"><code>Processor</code></a> must be present during compilation. If it&#39;s an annotation processed at <i>run-time</i>, then some code somewhere is calling methods like <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/reflect/AnnotatedElement.html#getAnnotation(java.lang.Class)\" rel=\"nofollow noreferrer\"><code>getAnnotation(Class)</code></a> and acting accordingly."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686340506,"post_id":76435326,"comment_id":134790729,"body_markdown":"And if it&#39;s [an agent](https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html) that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps.","body":"And if it&#39;s <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.instrument/java/lang/instrument/package-summary.html\" rel=\"nofollow noreferrer\">an agent</a> that processes the annotations (e.g., an AOP library), then some kind of byte-code manipulation library is likely being used. All that said, &quot;Ctrl + Click&quot;-ing on the annotation should only take you to the annotation definition (even with third-party libraries, assuming they&#39;re a dependency of your project). If you want to try and find the code that processes the annotation, see if using the &quot;Find Usages&quot; action of your IDE on the annotation helps."},{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686689541,"post_id":76435326,"comment_id":134833313,"body_markdown":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer.","body":"OK. I will try to check &quot;Find Usages&quot;. Thanks for your answer."}],"answers":[{"comments":[{"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"score":0,"creation_date":1686319784,"post_id":76435682,"comment_id":134786808,"body_markdown":"Yes. I&#39;m looking for the implementation classes. In Eclipse I can go to an own implementation class from an interface using Ctrl + Clikc, but I cannot do that with thrid party libraries annotations.","body":"Yes. I&#39;m looking for the implementation classes. In Eclipse I can go to an own implementation class from an interface using Ctrl + Clikc, but I cannot do that with thrid party libraries annotations."}],"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302216,"creation_date":1686258287,"answer_id":76435682,"question_id":76435326,"body_markdown":"Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.\r\n\r\nFor example, MapStruct goes through all the classes and handles those with a `@Mapper` Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. `@Mapper(componentModel = &quot;spring&quot;)`). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.\r\n\r\nIn JavaEE Context, it is basically the same thing, it&#39;s just that the injection is achieved a bit differently (e.g. CDI).\r\n\r\nI have no experience with `feign`, but I think it should use a similar approach.","title":"Java annotation implementation logic","body":"<p>Java does not do anything when it comes to Annotation-based class generation. The magic behind these generations is the libraries themselves.</p>\n<p>For example, MapStruct goes through all the classes and handles those with a <code>@Mapper</code> Annotation. This is achieved through annotation processing and the Java Annotation Processing API. You can also configure how you want to make your generated classes available to the application (e.g. <code>@Mapper(componentModel = &quot;spring&quot;)</code>). In Spring the generated Mapper will be turned into a Spring Bean and will be associated with the Mapper (Interface) you autowire/inject in your other Spring Beans.</p>\n<p>In JavaEE Context, it is basically the same thing, it's just that the injection is achieved a bit differently (e.g. CDI).</p>\n<p>I have no experience with <code>feign</code>, but I think it should use a similar approach.</p>\n"}],"owner":{"account_id":28760616,"reputation":1,"user_id":22026596,"display_name":"daniel-lopez"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302216,"creation_date":1686254473,"question_id":76435326,"body_markdown":"I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?\r\n\r\nThanks.\r\n\r\nKnow how Java generates an implementation for an interface in runtime.","title":"Java annotation implementation logic","body":"<p>I want to know how Java generates annotation implementation like @Mapper and @FeignClient. Does It generates an implementation class in runtime?</p>\n<p>Thanks.</p>\n<p>Know how Java generates an implementation for an interface in runtime.</p>\n"},{"tags":["java","spring-boot","drools"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686143819,"post_id":76423457,"comment_id":134758612,"body_markdown":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that.","body":"Because apparently internally it does use a database (like H2 or HSQLDB perhaps) or you configured drools somehow to use that."},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686151834,"post_id":76423457,"comment_id":134760712,"body_markdown":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured","body":"@M.Deinum so is there any way to provide this class to Drools without using spring-jpa dependency? As this dependency is causing my application to crash as datasource is not configured"},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1686162823,"post_id":76423457,"comment_id":134762897,"body_markdown":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing.","body":"This question cannot be answered without, at minimum, sharing what dependencies specifically you&#39;re using from drools because I have never needed to import this particular library. You don&#39;t even share what version of drools we&#39;re discussing."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1686203558,"post_id":76423457,"comment_id":134767540,"body_markdown":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it).","body":"What makes you think you even need jpa? you need the spring-jdbc dependency and if that library depends on it I would expect it to be pulled in automatically (unless, as stated, you did something in your configuration to optionally enable something that requires it)."},{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":0,"creation_date":1686229687,"post_id":76423457,"comment_id":134772541,"body_markdown":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said","body":"Drools doesn&#39;t internally use a database: it uses an in-memory rete tree (or similar; depends on what specific version we&#39;re talking about but it&#39;s in-memory.) There&#39;s something non-standard about how it&#39;s being set up, but we&#39;ve nothing to go on here so nothing more can be said"},{"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"score":0,"creation_date":1686246297,"post_id":76423457,"comment_id":134776309,"body_markdown":"I have added the drools dependencies, can you all please help me now?","body":"I have added the drools dependencies, can you all please help me now?"}],"answers":[{"tags":[],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686302140,"creation_date":1686302140,"answer_id":76438865,"question_id":76423457,"body_markdown":"Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with `@Entity` and other JPA related annotations. This was causing ths issue.","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>Understood the issue. In my DRL file, I was setting a global object that is a part of another library. When I opened the code of this object, it was annotated with <code>@Entity</code> and other JPA related annotations. This was causing ths issue.</p>\n"}],"owner":{"account_id":2262858,"reputation":1078,"user_id":1992451,"accept_rate":84,"display_name":"Piyush Shrivastava"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686302140,"creation_date":1686141943,"question_id":76423457,"body_markdown":"I am using drools in my project. For some reason, drools is expecing the class `org.springframework.jdbc.core.RowMapper`. This solves if I include `spring-jdbc` depencency, but I don&#39;t have any database configured so my app doesn&#39;t start. \r\nWhy does drools need `spring-jdbc`? Please help\r\n\r\nUPDATE: I tried this with an older version of drools by using `drools-compiler` dependency (from [this][1] tutorial). I got the same exception. \r\n\r\nBelow are my drools dependencies:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\r\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\r\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThis is how I am setting it up:\r\n\r\n```\r\npublic class DroolsBeanFactory {\r\n    private KieServices kieServices = KieServices.Factory.get();\r\n\r\n    private void getKieRepository() {\r\n        final KieRepository kieRepository = kieServices.getRepository();\r\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\r\n    }\r\n\r\n    public KieSession getKieSession(String droolsFilePath){\r\n        getKieRepository();\r\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\r\n\r\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\r\n\r\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\r\n        kb.buildAll();\r\n        KieModule kieModule = kb.getKieModule();\r\n\r\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\r\n\r\n        return kContainer.newKieSession();\r\n    }\r\n}\r\n```\r\n\r\nBelow is the exception I am getting\r\n```\r\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;someService&#39; defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\r\n\tat com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\r\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 16 common frames omitted\r\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\r\n\tat com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\r\n\t... 18 common frames omitted\r\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\r\n\tat java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\t... 38 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: null\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\r\n\t... 40 common frames omitted\r\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\r\n\tat java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\r\n\tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\r\n\tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\r\n\tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\r\n\tat java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\r\n\tat org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\r\n\tat java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\r\n\tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\r\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n\t... 40 common frames omitted\r\n```\r\n\r\n\r\n  [1]: https://www.javainuse.com/drools_hello","title":"Drools need org.springframework.jdbc.core.RowMapper to run?","body":"<p>I am using drools in my project. For some reason, drools is expecing the class <code>org.springframework.jdbc.core.RowMapper</code>. This solves if I include <code>spring-jdbc</code> depencency, but I don't have any database configured so my app doesn't start.\nWhy does drools need <code>spring-jdbc</code>? Please help</p>\n<p>UPDATE: I tried this with an older version of drools by using <code>drools-compiler</code> dependency (from <a href=\"https://www.javainuse.com/drools_hello\" rel=\"nofollow noreferrer\">this</a> tutorial). I got the same exception.</p>\n<p>Below are my drools dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.kie&lt;/groupId&gt;\n    &lt;artifactId&gt;kie-ci&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.drools&lt;/groupId&gt;\n    &lt;artifactId&gt;drools-decisiontables&lt;/artifactId&gt;\n    &lt;version&gt;8.32.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>This is how I am setting it up:</p>\n<pre><code>public class DroolsBeanFactory {\n    private KieServices kieServices = KieServices.Factory.get();\n\n    private void getKieRepository() {\n        final KieRepository kieRepository = kieServices.getRepository();\n        kieRepository.addKieModule(() -&gt; kieRepository.getDefaultReleaseId());\n    }\n\n    public KieSession getKieSession(String droolsFilePath){\n        getKieRepository();\n        KieFileSystem kieFileSystem = kieServices.newKieFileSystem();\n\n        kieFileSystem.write(ResourceFactory.newClassPathResource(droolsFilePath));\n\n        KieBuilder kb = kieServices.newKieBuilder(kieFileSystem);\n        kb.buildAll();\n        KieModule kieModule = kb.getKieModule();\n\n        KieContainer kContainer = kieServices.newKieContainer(kieModule.getReleaseId());\n\n        return kContainer.newKieSession();\n    }\n}\n</code></pre>\n<p>Below is the exception I am getting</p>\n<pre><code>org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'someService' defined in file [/Users/ps/workspace/forks/Project/target/classes/com/walmart/project/service/SomeService.class]: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1334) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1232) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:953) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583) ~[spring-context-5.3.20.jar:5.3.20]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-2.7.0.jar:2.7.0]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-2.7.0.jar:2.7.0]\n    at com.walmart.project.ProjectApplication.main(ProjectApplication.java:12) ~[classes/:na]\nCaused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.walmart.project.service.SomeService]: Constructor threw exception; nested exception is java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:224) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:87) ~[spring-beans-5.3.20.jar:5.3.20]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateBean(AbstractAutowireCapableBeanFactory.java:1326) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 16 common frames omitted\nCaused by: java.lang.RuntimeException: Rules compilation failed or interrupted\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:285) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.process(ImmutableRuleCompilationPhase.java:82) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.Arrays$ArrayList.forEach(Arrays.java:4390) ~[na:na]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.compileKnowledgePackages(KnowledgeBuilderImpl.java:456) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.buildRules(KnowledgeBuilderImpl.java:1015) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.doFirstBuildStep(KnowledgeBuilderImpl.java:989) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:114) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.CompositeKnowledgeBuilderImpl.build(CompositeKnowledgeBuilderImpl.java:104) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:270) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.buildKnowledgePackages(AbstractKieProject.java:216) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.AbstractKieProject.verify(AbstractKieProject.java:80) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildKieProject(KieBuilderImpl.java:282) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:248) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.kie.builder.impl.KieBuilderImpl.buildAll(KieBuilderImpl.java:195) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at com.walmart.project.config.DroolsBeanFactory.getKieSession(DroolsBeanFactory.java:24) ~[classes/:na]\n    at com.walmart.project.service.SomeService.&lt;init&gt;(SomeService.java:59) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at org.springframework.beans.BeanUtils.instantiateClass(BeanUtils.java:211) ~[spring-beans-5.3.20.jar:5.3.20]\n    ... 18 common frames omitted\nCaused by: java.util.concurrent.ExecutionException: java.lang.NoClassDefFoundError\n    at java.base/java.util.concurrent.ForkJoinTask.get(ForkJoinTask.java:1006) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.compileRulesLevel(ImmutableRuleCompilationPhase.java:283) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    ... 38 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: null\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.getThrowableException(ForkJoinTask.java:603) ~[na:na]\n    ... 40 common frames omitted\nCaused by: java.lang.NoClassDefFoundError: org/springframework/jdbc/core/RowMapper\n    at java.base/java.lang.Class.getDeclaredMethods0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3166) ~[na:na]\n    at java.base/java.lang.Class.getDeclaredMethods(Class.java:2309) ~[na:na]\n    at org.drools.compiler.builder.impl.TypeDeclarationUtils.processModifiedProps(TypeDeclarationUtils.java:302) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.initTypeDeclaration(TypeDeclarationCache.java:158) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationCache.getAndRegisterTypeDeclaration(TypeDeclarationCache.java:93) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationBuilder.getAndRegisterTypeDeclaration(TypeDeclarationBuilder.java:69) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.TypeDeclarationManagerImpl.getAndRegisterTypeDeclaration(TypeDeclarationManagerImpl.java:53) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.KnowledgeBuilderImpl.getAndRegisterTypeDeclaration(KnowledgeBuilderImpl.java:676) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.processClassObjectType(PatternBuilder.java:309) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:173) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:142) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.PatternBuilder.build(PatternBuilder.java:124) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.GroupElementBuilder.build(GroupElementBuilder.java:66) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.rule.builder.RuleBuilder.build(RuleBuilder.java:98) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.internalAddRule(ImmutableRuleCompilationPhase.java:339) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.addRule(ImmutableRuleCompilationPhase.java:334) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$3(ImmutableRuleCompilationPhase.java:276) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177) ~[na:na]\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1655) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:484) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachTask.compute(ForEachOps.java:290) ~[na:na]\n    at java.base/java.util.concurrent.CountedCompleter.exec(CountedCompleter.java:746) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doInvoke(ForkJoinTask.java:408) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.invoke(ForkJoinTask.java:736) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp.evaluateParallel(ForEachOps.java:159) ~[na:na]\n    at java.base/java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateParallel(ForEachOps.java:173) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:233) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:497) ~[na:na]\n    at org.drools.compiler.builder.impl.processors.ImmutableRuleCompilationPhase.lambda$compileRulesLevel$4(ImmutableRuleCompilationPhase.java:272) ~[drools-compiler-8.34.0.Final.jar:8.34.0.Final]\n    at java.base/java.util.concurrent.ForkJoinTask$AdaptedRunnableAction.exec(ForkJoinTask.java:1407) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec$$$capture(ForkJoinTask.java:290) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1020) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1656) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1594) ~[na:na]\n    at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:183) ~[na:na]\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.core.RowMapper\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    ... 40 common frames omitted\n</code></pre>\n"},{"tags":["java","hibernate","jpa"],"owner":{"account_id":21977509,"reputation":11,"user_id":16253098,"display_name":"Didier Simon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302118,"creation_date":1686302118,"question_id":76438862,"body_markdown":"I&#39;ve these classes :\r\n\r\n\r\n```\r\npublic class InventoryItemTbEntity {\r\n\r\n    @Id\r\n    @Column(name = &quot;UUID&quot;)\r\n    private UUID uuid;\r\n    ....\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity locationChangeAudit;\r\n\r\n    @Embedded\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\r\n    })\r\n    private RowAuditEntity dispositionChangeAudit;\r\n\r\n    @AttributeOverrides({\r\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\r\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\r\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\r\n    })    @Embedded\r\n    private RowAuditEntity changeAudit;\r\n```\r\nand\r\n```\r\n@Embeddable\r\npublic class RowAuditEntity {\r\n\r\n    @Nonnull\r\n    protected String program;\r\n\r\n    @Nonnull\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    protected OffsetDateTime date;\r\n\r\n    @Nonnull\r\n    protected String userid;\r\n```\r\n\r\nBut I get an issue when the EntityManagerFactory is initialized. \r\nIssue is ``` Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column &#39;userid&#39; is duplicated in mapping for entity &#39;xxx.jpa.inventory.item.InventoryItemTbEntity&#39; (use &#39;@Column(insertable=false, updatable=false)&#39; when mapping multiple properties to the same column) ```\r\n\r\nI&#39;m using Hibernate ORM core version 6.1.6.Final.\r\nIt seems Hibernate don&#39;t recognise @AttributeOverrides/@AttributeOverride annotation.\r\n\r\nI already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.\r\n\r\nCan someone help me with ? \r\n\r\n@AttributeOverrides/@AttributeOverride should be interpreted by hibernate","title":"duplicated column in jpa mapping when using @AttributeOverride for embeddedClasses","body":"<p>I've these classes :</p>\n<pre><code>public class InventoryItemTbEntity {\n\n    @Id\n    @Column(name = &quot;UUID&quot;)\n    private UUID uuid;\n    ....\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;LOCATION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;LOCATION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;LOCATION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity locationChangeAudit;\n\n    @Embedded\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;DISPOSITION_CHANGE_PROGRAM&quot;)),\n    })\n    private RowAuditEntity dispositionChangeAudit;\n\n    @AttributeOverrides({\n            @AttributeOverride(name = &quot;userId&quot;, column = @Column(name = &quot;ROW_CHANGE_USERID&quot;)),\n            @AttributeOverride(name = &quot;date&quot;, column = @Column(name = &quot;ROW_CHANGE_DATE&quot;)),\n            @AttributeOverride(name = &quot;program&quot;, column = @Column(name = &quot;ROW_CHANGE_PROGRAM&quot;))\n    })    @Embedded\n    private RowAuditEntity changeAudit;\n</code></pre>\n<p>and</p>\n<pre><code>@Embeddable\npublic class RowAuditEntity {\n\n    @Nonnull\n    protected String program;\n\n    @Nonnull\n    @Temporal(TemporalType.TIMESTAMP)\n    protected OffsetDateTime date;\n\n    @Nonnull\n    protected String userid;\n</code></pre>\n<p>But I get an issue when the EntityManagerFactory is initialized.\nIssue is <code>Unable to build Hibernate SessionFactory; nested exception is org.hibernate.MappingException: Column 'userid' is duplicated in mapping for entity 'xxx.jpa.inventory.item.InventoryItemTbEntity' (use '@Column(insertable=false, updatable=false)' when mapping multiple properties to the same column)</code></p>\n<p>I'm using Hibernate ORM core version 6.1.6.Final.\nIt seems Hibernate don't recognise @AttributeOverrides/@AttributeOverride annotation.</p>\n<p>I already browsed a lot of forums, sites, ... for a solution or to found the reason, but unfortunately I found nothing.</p>\n<p>Can someone help me with ?</p>\n<p>@AttributeOverrides/@AttributeOverride should be interpreted by hibernate</p>\n"},{"tags":["java","maven","junit","jacoco","jacoco-maven-plugin"],"answers":[{"tags":[],"owner":{"account_id":15229857,"reputation":27,"user_id":10989294,"display_name":"charlyne"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1564129293,"creation_date":1564129293,"answer_id":57215946,"question_id":53983849,"body_markdown":"maybe you can try this:\r\nadd &lt;dependency&gt; child3 itself in child3&#39;s pom.xml\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;XXXX&lt;/groupId&gt;\r\n    &lt;artifactId&gt;child3&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>maybe you can try this:\nadd  child3 itself in child3's pom.xml</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;XXXX&lt;/groupId&gt;\n&lt;artifactId&gt;child3&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1331177,"reputation":91,"user_id":8890369,"display_name":"Omar.R"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566385480,"creation_date":1566385480,"answer_id":57590204,"question_id":53983849,"body_markdown":"I&#39;ve encounter the same issue when implementing Jacoco for a Maven project.\r\nUnfortunately, I&#39;m afraid that the only solution is adding a new child module to the Maven project. \r\nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\r\nSo, you should have something like below configuration:\r\n\r\n    parent --&gt; Goal: Prepare agent\r\n       child1 --&gt; Goal: report\r\n       child2 --&gt; Goal: report\r\n       child3-report --&gt; Goal: report\r\n       child4-Aggregator --&gt; Goal: report-aggregate\r\n\r\nIn your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.\r\n\r\n\r\n\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I've encounter the same issue when implementing Jacoco for a Maven project.\nUnfortunately, I'm afraid that the only solution is adding a new child module to the Maven project. \nYou should put in it dependecies to your 3 child modules and the report-aggregate goal.\nSo, you should have something like below configuration:</p>\n\n<pre><code>parent --&gt; Goal: Prepare agent\n   child1 --&gt; Goal: report\n   child2 --&gt; Goal: report\n   child3-report --&gt; Goal: report\n   child4-Aggregator --&gt; Goal: report-aggregate\n</code></pre>\n\n<p>In your parent pom.xml, you should add child4-Aggregator module as the last module to be runned.</p>\n"},{"tags":[],"owner":{"account_id":1100999,"reputation":11,"user_id":1093400,"display_name":"user1093400"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591747070,"creation_date":1591732420,"answer_id":62290791,"question_id":53983849,"body_markdown":"What I did is adding a report goal to include the report of the module itself.\r\n\r\n    &lt;execution&gt;\r\n      &lt;id&gt;report-unit-tests&lt;/id&gt;\r\n      &lt;goals&gt;\r\n        &lt;goal&gt;report&lt;/goal&gt;\r\n      &lt;/goals&gt;\r\n    &lt;/execution&gt;\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>What I did is adding a report goal to include the report of the module itself.</p>\n\n<pre><code>&lt;execution&gt;\n  &lt;id&gt;report-unit-tests&lt;/id&gt;\n  &lt;goals&gt;\n    &lt;goal&gt;report&lt;/goal&gt;\n  &lt;/goals&gt;\n&lt;/execution&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1591809425,"creation_date":1591809425,"answer_id":62309382,"question_id":53983849,"body_markdown":"There are multiple issues raised (https://github.com/jacoco/jacoco/issues/812) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. \r\n\r\nThere is also a pending PR (https://github.com/jacoco/jacoco/pull/1007). ","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>There are multiple issues raised (<a href=\"https://github.com/jacoco/jacoco/issues/812\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/issues/812</a>) on jacoco github repo related to this feature. Having separate module just for reports might be acceptable for few, but better approach would be to fix this with some configurable flag. </p>\n\n<p>There is also a pending PR (<a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">https://github.com/jacoco/jacoco/pull/1007</a>). </p>\n"},{"tags":[],"owner":{"account_id":493973,"reputation":33,"user_id":1103591,"display_name":"imsandli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686302090,"creation_date":1686302090,"answer_id":76438856,"question_id":53983849,"body_markdown":"The [PR](https://github.com/jacoco/jacoco/pull/1007) @sidgate mentioned is merged. Now you can configure it in maven like:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n    &lt;executions&gt;\r\n        &lt;execution&gt;\r\n            &lt;id&gt;report-aggregate&lt;/id&gt;\r\n            &lt;goals&gt;\r\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;phase&gt;verify&lt;/phase&gt;\r\n            &lt;configuration&gt;\r\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;\r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nConsider also the [documentation](https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject).","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>The <a href=\"https://github.com/jacoco/jacoco/pull/1007\" rel=\"nofollow noreferrer\">PR</a> @sidgate mentioned is merged. Now you can configure it in maven like:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n    &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;configuration&gt;\n                &lt;includeCurrentProject&gt;true&lt;/includeCurrentProject&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Consider also the <a href=\"https://www.eclemma.org/jacoco/trunk/doc/report-aggregate-mojo.html#includeCurrentProject\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n"}],"owner":{"account_id":951981,"reputation":14760,"user_id":977919,"accept_rate":92,"display_name":"sidgate"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6866,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":62309382,"answer_count":5,"score":2,"last_activity_date":1686302090,"creation_date":1546233474,"question_id":53983849,"body_markdown":"I have a multi-module maven project. \r\n\r\n    parent\r\n       child1\r\n       child2\r\n       child3-report\r\n\r\nAll child projects have unit tests, and `child3` depends on `child1` and `child2`. Following the pom for child3\r\n\r\n    &lt;plugin&gt;\r\n         &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n         &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n         &lt;version&gt;0.8.2&lt;/version&gt;\r\n         &lt;executions&gt;\r\n            &lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;prepare-agent&lt;/id&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;report-aggregate&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;verify&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;report-aggregate&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nThe jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?\r\n\r\nDon&#39;t want to create fourth submodule just for reports.\r\n","title":"Jacoco report-aggregate - Include report of aggregate project","body":"<p>I have a multi-module maven project. </p>\n\n<pre><code>parent\n   child1\n   child2\n   child3-report\n</code></pre>\n\n<p>All child projects have unit tests, and <code>child3</code> depends on <code>child1</code> and <code>child2</code>. Following the pom for child3</p>\n\n<pre><code>&lt;plugin&gt;\n     &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n     &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n     &lt;version&gt;0.8.2&lt;/version&gt;\n     &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;prepare-agent&lt;/id&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;prepare-agent&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n        &lt;execution&gt;\n            &lt;id&gt;report-aggregate&lt;/id&gt;\n            &lt;phase&gt;verify&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;report-aggregate&lt;/goal&gt;\n            &lt;/goals&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>The jacoco aggregate report generated just include report for child1 and child2, but not for child3. How to fix this?</p>\n\n<p>Don't want to create fourth submodule just for reports.</p>\n"},{"tags":["java","mongodb","micronaut"],"comments":[{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":1,"creation_date":1686382895,"post_id":76438362,"comment_id":134793890,"body_markdown":"you need to specify the collection name on the entity `Recipe` class and annotate it with `@MappedEntity` and specify the collection name in the annotation","body":"you need to specify the collection name on the entity <code>Recipe</code> class and annotate it with <code>@MappedEntity</code> and specify the collection name in the annotation"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686516058,"post_id":76438362,"comment_id":134805468,"body_markdown":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!","body":"@deadshot i sadly rewrote the whole repo but ill give it a try. Thanks for the info!"},{"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"score":0,"creation_date":1686595256,"post_id":76438362,"comment_id":134817560,"body_markdown":"@deadshot I treid annotate the ```@MappedEntity``` annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?","body":"@deadshot I treid annotate the <code>@MappedEntity</code> annotation with my collection name but I&#39;m not sure how you do this? Do you have an example i can refer to?"},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1686634028,"post_id":76438362,"comment_id":134821874,"body_markdown":"you can provide collection name like this `@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)`","body":"you can provide collection name like this <code>@MappedEntity(value = &quot;&lt;collection_name&gt;&quot;)</code>"}],"owner":{"account_id":28367824,"reputation":73,"user_id":21696871,"display_name":"fnymmm"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686302062,"creation_date":1686297971,"question_id":76438362,"body_markdown":"I&#39;m trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn&#39;t return my saved items.\r\nI&#39;m using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut. \r\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.\r\n\r\nThe Problem, I think, is that Micronaut doesn&#39;t fetch the right collection so it never returns anything.\r\n\r\nI tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.\r\n\r\nI don&#39;t really want to use the bare MongoClient and write the whole Repository myself, thats why I&#39;m looking for a way to pass the collection name into the auto-generated repository.\r\n\r\nMy Repo Looks like this, I&#39;m passing the connection string via application.yml:\r\n```\r\n@MongoRepository(databaseName = &quot;recipes&quot;)\r\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\r\n\r\n    //case-insensitive search using collations\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\r\n    List&lt;Recipe&gt; findByName(String name);\r\n\r\n    @MongoCollation(&quot;{locale: &#39;en&#39;, strength: 1}&quot;)\r\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\r\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\r\n}\r\n```\r\n\r\nAfter some research I found this class on Micronauts GitHub repo:\r\n\r\n```\r\n@Experimental\r\npublic interface MongoCollectionNameProvider {\r\n\r\n    /**\r\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\r\n     * @param persistentEntity The persistent entity that is associated to the collection\r\n     * @return The collection name\r\n     */\r\n    @NonNull\r\n    String provide(@NonNull PersistentEntity persistentEntity);\r\n\r\n}\r\n```\r\n\r\nBut I&#39;m not sure how I can use it","title":"Setting MongoDb collection name with Micronaut Annotation","body":"<p>I'm trying to connect a MongoDb Atlas Db to my Micronaut app but it doesn't return my saved items.\nI'm using the @MongoRepository annotation to extend the supplied CrudRepository by micronaut.\nMicronaut is able to connect to the MongoDb shards and after some testing the MongoClient connects to the right Database.</p>\n<p>The Problem, I think, is that Micronaut doesn't fetch the right collection so it never returns anything.</p>\n<p>I tried extending the @MongoRepository annotation with the dot-notation for collections (i.e. @MongoRepository(databaseName = &quot;database.colletion&quot;)) but that didnt work either.</p>\n<p>I don't really want to use the bare MongoClient and write the whole Repository myself, thats why I'm looking for a way to pass the collection name into the auto-generated repository.</p>\n<p>My Repo Looks like this, I'm passing the connection string via application.yml:</p>\n<pre><code>@MongoRepository(databaseName = &quot;recipes&quot;)\npublic interface RecipeRepository extends CrudRepository&lt;Recipe, String&gt; {\n\n    //case-insensitive search using collations\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{name: name}&quot;)\n    List&lt;Recipe&gt; findByName(String name);\n\n    @MongoCollation(&quot;{locale: 'en', strength: 1}&quot;)\n    @MongoFindQuery(filter = &quot;{ingredients.name: {$all: :ingredientNames}}&quot;)\n    List&lt;Recipe&gt; findByIngredientsNames(List&lt;String&gt; ingredientNames);\n}\n</code></pre>\n<p>After some research I found this class on Micronauts GitHub repo:</p>\n<pre><code>@Experimental\npublic interface MongoCollectionNameProvider {\n\n    /**\n     * Provides the MongoDB collection name based on the {@link PersistentEntity}.\n     * @param persistentEntity The persistent entity that is associated to the collection\n     * @return The collection name\n     */\n    @NonNull\n    String provide(@NonNull PersistentEntity persistentEntity);\n\n}\n</code></pre>\n<p>But I'm not sure how I can use it</p>\n"},{"tags":["java","apache-flink","serviceloader","shardingsphere"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686301596,"post_id":76438793,"comment_id":134783137,"body_markdown":"Show us the code and the error you&#39;re getting","body":"Show us the code and the error you&#39;re getting"},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302010,"post_id":76438793,"comment_id":134783203,"body_markdown":"@Jorn edited question, added some context","body":"@Jorn edited question, added some context"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686302429,"post_id":76438793,"comment_id":134783275,"body_markdown":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown.","body":"Doesn&#39;t really look like a class access issue to me. The exception message gives you something concrete to look at. I&#39;m not familiar with ShardingSphere, but it seems to be an issue with the TrafficRule you haven&#39;t shown."},{"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"score":0,"creation_date":1686302936,"post_id":76438793,"comment_id":134783375,"body_markdown":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class.","body":"@Jorn TrafficRules is one of the many Classes ShardingSphere uses the SPI to load, I have looked at how the rules are loaded in the ShardingSphere source code and the rules and the problem starts with load() in the ShardingSphereServiceLoader class."}],"owner":{"account_id":22807677,"reputation":414,"user_id":16959486,"display_name":"Teddy Tsai"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686301969,"creation_date":1686301547,"question_id":76438793,"body_markdown":"When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.\r\n\r\nI am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn&#39;t be feasible, what&#39;s the correct way to do this?\r\n\r\nEDIT:\r\n\r\nShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn&#39;t loaded.\r\n```\r\n Collection&lt;T&gt; foundRules = findRules(clazz);\r\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\r\n        return foundRules.iterator().next(); \r\n```\r\n```\r\njava.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\r\n\tat com.google.common.base.Preconditions.checkState(Preconditions.java:591)\r\n\tat org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\r\n\tat org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\r\n\tat org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\r\n\tat org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\r\n\tat com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\r\n\tat com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\r\n\tat org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\r\n\tat org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\r\n\tat org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\r\n\tat org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\n```\r\nThis is how ShardignSphere SPI loads its dependencies:\r\n```\r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n```\r\n```\r\npublic final class ShardingSphereServiceLoader&lt;T&gt; {\r\n    \r\n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\r\n    \r\n    private final Class&lt;T&gt; serviceInterface;\r\n    \r\n    @Getter\r\n    private final Collection&lt;T&gt; services;\r\n    \r\n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\r\n        this.serviceInterface = serviceInterface;\r\n        validate();\r\n        services = load();\r\n    }\r\n    \r\n    private void validate() {\r\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\r\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\r\n    }\r\n    \r\n    private Collection&lt;T&gt; load() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (T each : ServiceLoader.load(serviceInterface)) {\r\n            result.add(each);\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    /**\r\n     * Get service instances.\r\n     *\r\n     * @param serviceInterface service interface\r\n     * @param &lt;T&gt; type of service interface\r\n     * @return service instances\r\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\r\n     */\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\r\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\r\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getServiceInstances() {\r\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\r\n    }\r\n    \r\n    @SneakyThrows(ReflectiveOperationException.class)\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private Collection&lt;T&gt; createNewServiceInstances() {\r\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\r\n        for (Object each : services) {\r\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    private Collection&lt;T&gt; getSingletonServiceInstances() {\r\n        return services;\r\n    }\r\n}\r\n\r\n","title":"Can&#39;t access ServiceLoader from Flink Taskmanager Node","body":"<p>When I try to obtain an instance of a Class through ServiceLoader on a TaskManager node the class cannot be loaded, basically I cannot access the classes declared in META-INF/services via ServiceLoader at Runtime.</p>\n<p>I am using ShardignSphere to broadcast some data from the database, but the framework relies on some dependencies being loaded by the Java SPI, is there any way to solve the problem？ In previous versions (4.x.x) I used to do it with Reflection but with the new version of ShardingSphere (5.3.1) there would be too many things that need to be loaded and it wouldn't be feasible, what's the correct way to do this?</p>\n<p>EDIT:</p>\n<p>ShardingSphere stackTrace: this is the first occurrence of a precontition check where a Class that is supposed to be loaded via SPI isn't loaded.</p>\n<pre><code> Collection&lt;T&gt; foundRules = findRules(clazz);\n        Preconditions.checkState(1 == foundRules.size(), &quot;Rule `%s` should have and only have one instance.&quot;, clazz.getSimpleName());\n        return foundRules.iterator().next(); \n</code></pre>\n<pre><code>java.lang.IllegalStateException: Rule `TrafficRule` should have and only have one instance.\n    at com.google.common.base.Preconditions.checkState(Preconditions.java:591)\n    at org.apache.shardingsphere.infra.metadata.database.rule.ShardingSphereRuleMetaData.getSingleRule(ShardingSphereRuleMetaData.java:91)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.getTrafficDataSourceMap(ConnectionManager.java:88)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ConnectionManager.&lt;init&gt;(ConnectionManager.java:82)\n    at org.apache.shardingsphere.driver.jdbc.core.connection.ShardingSphereConnection.&lt;init&gt;(ShardingSphereConnection.java:71)\n    at org.apache.shardingsphere.driver.state.ok.OKDriverState.getConnection(OKDriverState.java:34)\n    at org.apache.shardingsphere.driver.state.DriverStateContext.getConnection(DriverStateContext.java:44)\n    at org.apache.shardingsphere.driver.jdbc.core.datasource.ShardingSphereDataSource.getConnection(ShardingSphereDataSource.java:86)\n    at com.huawei.networkops.flink.monitor.pingmesh.broadcast.PingmeshDataResolver.update(PingmeshDataResolver.java:77)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:39)\n    at com.huawei.networkops.flink.monitor.pingmesh.processor.PingmeshDBSourceProcessor$PingmeshBroadcastDataBuilder.buildBroadcastData(PingmeshDBSourceProcessor.java:30)\n    at com.huawei.networkops.flink.monitor.common.broadcast.AbstractDataBroadcastStreamProcessor$DataBroadcastFunction.run(AbstractDataBroadcastStreamProcessor.java:166)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:94)\n    at org.apache.flink.streaming.api.operators.StreamSource.run(StreamSource.java:58)\n    at org.apache.flink.streaming.runtime.tasks.SourceStreamTask.run(SourceStreamTask.java:99)\n    at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:300)\n    at org.apache.flink.runtime.taskmanager.Task.run(Task.java:704)\n    at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>This is how ShardignSphere SPI loads its dependencies:</p>\n<pre><code>    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n</code></pre>\n<pre><code>public final class ShardingSphereServiceLoader&lt;T&gt; {\n    \n    private static final Map&lt;Class&lt;?&gt;, ShardingSphereServiceLoader&lt;?&gt;&gt; LOADERS = new ConcurrentHashMap&lt;&gt;();\n    \n    private final Class&lt;T&gt; serviceInterface;\n    \n    @Getter\n    private final Collection&lt;T&gt; services;\n    \n    private ShardingSphereServiceLoader(final Class&lt;T&gt; serviceInterface) {\n        this.serviceInterface = serviceInterface;\n        validate();\n        services = load();\n    }\n    \n    private void validate() {\n        Preconditions.checkNotNull(serviceInterface, &quot;SPI interface is null.&quot;);\n        Preconditions.checkArgument(serviceInterface.isInterface(), &quot;SPI interface `%s` is not interface.&quot;, serviceInterface);\n    }\n    \n    private Collection&lt;T&gt; load() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (T each : ServiceLoader.load(serviceInterface)) {\n            result.add(each);\n        }\n        return result;\n    }\n    \n    /**\n     * Get service instances.\n     *\n     * @param serviceInterface service interface\n     * @param &lt;T&gt; type of service interface\n     * @return service instances\n     * @see &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8161372&quot;&gt;JDK-8161372&lt;/a&gt;\n     */\n    @SuppressWarnings(&quot;unchecked&quot;)\n    public static &lt;T&gt; Collection&lt;T&gt; getServiceInstances(final Class&lt;T&gt; serviceInterface) {\n        ShardingSphereServiceLoader&lt;?&gt; result = LOADERS.get(serviceInterface);\n        return (Collection&lt;T&gt;) (null != result ? result.getServiceInstances() : LOADERS.computeIfAbsent(serviceInterface, ShardingSphereServiceLoader::new).getServiceInstances());\n    }\n    \n    private Collection&lt;T&gt; getServiceInstances() {\n        return null == serviceInterface.getAnnotation(SingletonSPI.class) ? createNewServiceInstances() : getSingletonServiceInstances();\n    }\n    \n    @SneakyThrows(ReflectiveOperationException.class)\n    @SuppressWarnings(&quot;unchecked&quot;)\n    private Collection&lt;T&gt; createNewServiceInstances() {\n        Collection&lt;T&gt; result = new LinkedList&lt;&gt;();\n        for (Object each : services) {\n            result.add((T) each.getClass().getDeclaredConstructor().newInstance());\n        }\n        return result;\n    }\n    \n    private Collection&lt;T&gt; getSingletonServiceInstances() {\n        return services;\n    }\n}\n\n</code></pre>\n"},{"tags":["java","apache-kafka","kafka-consumer-api","apache-zookeeper"],"comments":[{"owner":{"account_id":5946027,"reputation":692,"user_id":4675501,"accept_rate":85,"display_name":"Jayram Kumar"},"score":0,"creation_date":1686226099,"post_id":39347665,"comment_id":134771633,"body_markdown":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data.","body":"Kafka is primarily used to build real-time streaming data pipelines and applications that adapt to the data streams. It combines messaging, storage, and stream processing to allow storage and analysis of both historical and real-time data."}],"answers":[{"comments":[{"owner":{"account_id":1907399,"reputation":1010,"user_id":1721972,"accept_rate":29,"display_name":"Sandeep Das"},"score":0,"creation_date":1540480160,"post_id":39360395,"comment_id":92890323,"body_markdown":"Is there any API in JAVA to get it ?","body":"Is there any API in JAVA to get it ?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1601596291,"post_id":39360395,"comment_id":113464068,"body_markdown":"consumer.assignment()","body":"consumer.assignment()"}],"tags":[],"owner":{"account_id":352422,"reputation":3179,"user_id":689500,"accept_rate":33,"display_name":"Shawn Guo"},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1473215417,"creation_date":1473215417,"answer_id":39360395,"question_id":39347665,"body_markdown":"You can check how `$KAFKA_HOME/bin/kafka-consumer-groups.sh` works and integrate its implementation into your `kafka manager tool`, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).\r\n\r\nGROUP                          TOPIC                          **PARTITION**  CURRENT-OFFSET  LOG-END-OFFSET  LAG             **OWNER**  \r\n&lt;consumer group&gt; page_visits_10k                **0**          500             3333            2833            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **1**          0               3334            3334            **consumer-1_/10.139.176.190**  \r\n&lt;consumer group&gt; page_visits_10k                **2**          0               3333            3333            **consumer-1_/10.139.176.190**  ","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>You can check how <code>$KAFKA_HOME/bin/kafka-consumer-groups.sh</code> works and integrate its implementation into your <code>kafka manager tool</code>, this tool will show you detailed group owner information(for example, partition assignment, lag, IP).</p>\n\n<p>GROUP                          TOPIC                          <strong>PARTITION</strong>  CURRENT-OFFSET  LOG-END-OFFSET  LAG             <strong>OWNER</strong><br>\n page_visits_10k                <strong>0</strong>          500             3333            2833            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>1</strong>          0               3334            3334            <strong>consumer-1_/10.139.176.190</strong><br>\n page_visits_10k                <strong>2</strong>          0               3333            3333            <strong>consumer-1_/10.139.176.190</strong>  </p>\n"},{"tags":[],"owner":{"account_id":1783732,"reputation":11628,"user_id":1625740,"accept_rate":59,"display_name":"Haim Raman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686301873,"creation_date":1686210040,"answer_id":76429621,"question_id":39347665,"body_markdown":"I know it does not directly answer the question, but still relevant.\r\n\r\nIf you want to see the IP address of the consumer that is currently connected to a partition use the following command \r\n```\r\nkafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\r\n```\r\n\r\nE.g.\r\n```\r\n# kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\r\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\r\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\r\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\r\n```","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I know it does not directly answer the question, but still relevant.</p>\n<p>If you want to see the IP address of the consumer that is currently connected to a partition use the following command</p>\n<pre><code>kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --describe --members\n</code></pre>\n<p>E.g.</p>\n<pre><code># kafka-consumer-groups.sh --bootstrap-server my-kafka-1:9092 --group my-consumer-group  --members --describe --verbose | grep name-of-topic\nmy-consumer-group consumer-my-consumer-group-1-40adb273-fd3d-46a3-9cd4-9c8c4a4da486  /10.8.36.66     consumer-my-consumer-group-1  1               name-of-topic(1)\nmy-consumer-group consumer-my-consumer-group-1-47fc5618-7f07-4b3e-a2a9-cf3c26ee3536  /10.8.9.79      consumer-my-consumer-group-1  1               name-of-topic(2)\nmy-consumer-group consumer-my-consumer-group-1-005da938-7c59-44c3-8d4c-4371fa222d15  /10.8.36.22     consumer-pmy-consumer-group-1  1               name-of-topic(0)\n</code></pre>\n"}],"owner":{"account_id":4289870,"reputation":366,"user_id":3506539,"display_name":"Himanshu Sahu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6362,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":39360395,"answer_count":2,"score":9,"last_activity_date":1686301873,"creation_date":1473160359,"question_id":39347665,"body_markdown":"I am building a `kafka manager tool` and I need to check which topic-partition is assigned to which consumer in a consumer group.\r\n\r\nSuppose there is consumer-Group `group-A` consuming topic `topic-A` with `n partitions`, so there can be multiple consumers in `group-A` hosted in `different VM&#39;s`. So how to find which partitioned is assigned to which consumer host? Is it possible in `kafka 0.9.1`?\r\n\r\nThanks in advance.","title":"How to find which consumer is assigned to which partition of a topic in kafka?","body":"<p>I am building a <code>kafka manager tool</code> and I need to check which topic-partition is assigned to which consumer in a consumer group.</p>\n\n<p>Suppose there is consumer-Group <code>group-A</code> consuming topic <code>topic-A</code> with <code>n partitions</code>, so there can be multiple consumers in <code>group-A</code> hosted in <code>different VM's</code>. So how to find which partitioned is assigned to which consumer host? Is it possible in <code>kafka 0.9.1</code>?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","timer","push-notification"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686294503,"post_id":76431519,"comment_id":134781884,"body_markdown":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"Please trim your code to make it easier to find your problem. Follow these guidelines to create a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>."}],"answers":[{"tags":[],"owner":{"account_id":9965924,"reputation":101,"user_id":7373632,"display_name":"Jie Xu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686225985,"creation_date":1686225985,"answer_id":76431699,"question_id":76431519,"body_markdown":"suggest use `ticker`\r\n```\r\nval tickerChannel = ticker(delayMillis = 15 * 1000)\r\n```","title":"android studio timer not canceling","body":"<p>suggest use <code>ticker</code></p>\n<pre><code>val tickerChannel = ticker(delayMillis = 15 * 1000)\n</code></pre>\n"}],"owner":{"account_id":27832473,"reputation":11,"user_id":21250633,"display_name":"Avenger"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686301631,"creation_date":1686224611,"question_id":76431519,"body_markdown":"i&#39;m writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.\r\n\r\ni found other questions on stackoverflow like this one but none of the solutions helped me.\r\n\r\nhere is the code\r\n\r\n`           \r\n\r\n    @Override           \r\n    public void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\r\n                if(isChecked){\r\n                    //if item is checked update status to 1 and stop timer\r\n                    myDB.updateStatus(item.getId(), 1);\r\n                    Reminder_stopTimer();\r\n                }else{\r\n                    //if item is not checked update status to 0 and start timer\r\n                    myDB.updateStatus(item.getId(), 0);\r\n                    Reminder_startTimer();\r\n\r\n                }\r\n\r\n            }\r\n\r\n\r\n        });\r\n\r\n    }\r\n\r\n    public void setTasks(List&lt;ToDoModel&gt; mList){\r\n        this.mList = mList;\r\n        notifyDataSetChanged();\r\n        Reminder_startTimer();\r\n    }\r\n\r\n\r\n\r\n    //method to delete Task\r\n    public void deleteTask(int position){\r\n        ToDoModel item = mList.get(position);\r\n        //delete task from database\r\n        myDB.deleteTask(item.getId());\r\n        //delete task from list\r\n        mList.remove(position);\r\n        notifyItemRemoved(position);\r\n        Reminder_stopTimer();\r\n    }\r\n\r\n    \r\n    public void startStop(){\r\n        if (timerRunning){\r\n            Reminder_stopTimer();\r\n        }else {\r\n            Reminder_startTimer();\r\n        }\r\n    }\r\n    //timer for task reminder\r\n    public void Reminder_startTimer(){\r\n        countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\r\n            @Override\r\n            public void onTick(long l) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                activity.makeNotification();\r\n            }\r\n        }.start();\r\n\r\n        timerRunning = true;\r\n    }\r\n\r\n    public void Reminder_stopTimer(){\r\n        timerRunning = false;\r\n        countDownTimer.cancel();\r\n\r\n    }\r\n    }\r\n`","title":"android studio timer not canceling","body":"<p>i'm writing a task app where you can upload tasks with reminders through notification that will be send if you dont check the task as done. but even though i check the task it still pushes the notification.</p>\n<p>i found other questions on stackoverflow like this one but none of the solutions helped me.</p>\n<p>here is the code</p>\n<p>`</p>\n<pre><code>@Override           \npublic void onCheckedChanged(CompoundButton compoundButton, boolean isChecked) {\n            if(isChecked){\n                //if item is checked update status to 1 and stop timer\n                myDB.updateStatus(item.getId(), 1);\n                Reminder_stopTimer();\n            }else{\n                //if item is not checked update status to 0 and start timer\n                myDB.updateStatus(item.getId(), 0);\n                Reminder_startTimer();\n\n            }\n\n        }\n\n\n    });\n\n}\n\npublic void setTasks(List&lt;ToDoModel&gt; mList){\n    this.mList = mList;\n    notifyDataSetChanged();\n    Reminder_startTimer();\n}\n\n\n\n//method to delete Task\npublic void deleteTask(int position){\n    ToDoModel item = mList.get(position);\n    //delete task from database\n    myDB.deleteTask(item.getId());\n    //delete task from list\n    mList.remove(position);\n    notifyItemRemoved(position);\n    Reminder_stopTimer();\n}\n\n\npublic void startStop(){\n    if (timerRunning){\n        Reminder_stopTimer();\n    }else {\n        Reminder_startTimer();\n    }\n}\n//timer for task reminder\npublic void Reminder_startTimer(){\n    countDownTimer = new CountDownTimer(TimeLeftInMilliseconds, 1000) {\n        @Override\n        public void onTick(long l) {\n\n        }\n\n        @Override\n        public void onFinish() {\n            activity.makeNotification();\n        }\n    }.start();\n\n    timerRunning = true;\n}\n\npublic void Reminder_stopTimer(){\n    timerRunning = false;\n    countDownTimer.cancel();\n\n}\n}\n</code></pre>\n<p>`</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":3908845,"reputation":11548,"user_id":3314107,"accept_rate":80,"display_name":"stefanobaghino"},"score":0,"creation_date":1686208153,"post_id":76427861,"comment_id":134768265,"body_markdown":"Scala&#39;s `List` is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s `List` is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use).","body":"Scala&#39;s <code>List</code> is on a separate type hierarchy. This is by design, so that Scala can have its own Collection API regardless of the compilation target (Scala can also compile to JS and LLVM/native). When interacting with Java APIs, Scala developers are used to convert to the standard library collections. Note that Scala&#39;s <code>List</code> is also inherently immutable, whereas Java&#39;s isn&#39;t (I believe you can have an immutable implementation, but it would need to throw at runtime when you call destructive methods, making it clunky to use)."}],"answers":[{"comments":[{"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"score":0,"creation_date":1686184642,"post_id":76427894,"comment_id":134765918,"body_markdown":"Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type `Interface` is expected.","body":"Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type <code>Interface</code> is expected."},{"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"score":0,"creation_date":1686301554,"post_id":76427894,"comment_id":134783130,"body_markdown":"@IgorUrisman I have expanded my answer to explain why this cannot work.","body":"@IgorUrisman I have expanded my answer to explain why this cannot work."}],"tags":[],"owner":{"account_id":31167,"reputation":10848,"user_id":85381,"accept_rate":80,"display_name":"iain"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686301509,"creation_date":1686184109,"answer_id":76427894,"question_id":76427861,"body_markdown":"You don&#39;t need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.\r\n\r\nJust create your Scala list and convert it explicitly when required by the interface.\r\n\r\n    import scala.jdk.CollectionConverters._\r\n    class Implementation[T] extends Interface[T] {\r\n      def makeScalaList(): List[T]\r\n      override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n    }\r\n\r\n@Igor asked:\r\n\r\n&gt; Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.\r\n\r\nThis will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.\r\n\r\nWhen you write the following Scala.\r\n\r\n    implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\r\n    val list: List[String] = ...\r\n    val javaSubList = list.subList(0, 3)\r\n\r\nThe Scala compiler notices that `subList` is not a member of `scala.collection.List`. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:\r\n\r\n    public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\r\n        new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\r\n    }\r\n    \r\n    scala.collection.List&lt;String&gt; list = ...\r\n    java.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\r\n\r\n    \r\nSo while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Ga&#235;l&#39;s answer does.\r\n\r\nIf you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You don't need an implicit conversion to do this. In fact implicit conversions are generally regarded as a bad thing now.</p>\n<p>Just create your Scala list and convert it explicitly when required by the interface.</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n</code></pre>\n<p>@Igor asked:</p>\n<blockquote>\n<p>Thanks. I understand I can do that. The point is to make it seemless to the users of the Scala implementation, yet make the scala implementation work where the java type Interface is expected.</p>\n</blockquote>\n<p>This will not wont work automatically. To understand Java/Scala interop (and binary compatibility) it is important to understand how Scala maps syntactic sugar like implicit conversions or named parameters to jvm bytecode. The jvm is designed to run Java so lacks these Scala concepts. To get around this Scala injects code at the call site not the definition site.</p>\n<p>When you write the following Scala.</p>\n<pre><code>implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava\nval list: List[String] = ...\nval javaSubList = list.subList(0, 3)\n</code></pre>\n<p>The Scala compiler notices that <code>subList</code> is not a member of <code>scala.collection.List</code>. Then it looks for conversions to convert it to a type where the method is defined then chains to two method calls together at the call site. The Java would look like:</p>\n<pre><code>public &lt;V&gt; java.util.List&lt;V&gt; s2j(list: scala.collection.List[V]) {\n    new scala.jdk.CollectionConverter.SeqHasJava(list).asJava()\n}\n\nscala.collection.List&lt;String&gt; list = ...\njava.util.List&lt;String&gt; javaSubList = s2j(list).subList(0, 3)\n</code></pre>\n<p>So while it feels like implicit conversions are adding extra functionality to a type, really the compiler is inserting code every time the caller requires it. Since Java and the JVM do not support these features, the only way this would work is if the Scala compiler injected the code into the definition site. Since it does not you must create the code in the definition site yourself which is what the proxy/bridge in @Gaël's answer does.</p>\n<p>If you look closely you will see that all it does is put half of my code into an abstract class to separate the interop code from the Scala code.</p>\n"},{"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1686243485,"post_id":76428702,"comment_id":134775759,"body_markdown":"Oh the pain of Scala-Java interop!","body":"Oh the pain of Scala-Java interop!"}],"tags":[],"owner":{"account_id":7034556,"reputation":12335,"user_id":5389127,"display_name":"Ga&#235;l J"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686199895,"creation_date":1686199895,"answer_id":76428702,"question_id":76427861,"body_markdown":"You can create a &quot;proxy layer&quot; with an abstract class:\r\n\r\n```scala\r\nimport scala.jdk.CollectionConverters._\r\n\r\nabstract class ScalaInterface[T] extends Interface[T] {\r\n  def makeScalaList(): List[T]\r\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\r\n}\r\n\r\nclass Implementation[T] extends ScalaInterface[T] {\r\n  override def makeScalaList(): List[T] = ???\r\n}\r\n```\r\n\r\nInstead of implementing `Interface`, you implement `ScalaInterface`.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>You can create a &quot;proxy layer&quot; with an abstract class:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.jdk.CollectionConverters._\n\nabstract class ScalaInterface[T] extends Interface[T] {\n  def makeScalaList(): List[T]\n  override def makeList(): java.util.List[T] = makeScalaList().asJava\n}\n\nclass Implementation[T] extends ScalaInterface[T] {\n  override def makeScalaList(): List[T] = ???\n}\n</code></pre>\n<p>Instead of implementing <code>Interface</code>, you implement <code>ScalaInterface</code>.</p>\n"}],"owner":{"account_id":8476974,"reputation":777,"user_id":6357920,"display_name":"Igor Urisman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1686301509,"creation_date":1686183639,"question_id":76427861,"body_markdown":"This Java interface is defined in a library:\r\n```\r\npublic interface Interface&lt;T&gt; {\r\n  List&lt;T&gt; makeList();\r\n}\r\n```\r\n\r\nI&#39;d like to have a Scala class that implements it, but returns a Scala list instead of `java.util.List`. This is the best I could think of but it&#39;s not working:\r\n```\r\nimport scala.jdk.CollectionConverters._\r\nclass Implementation[T] extends Interface[T] {\r\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn&#39;t seem to do anything\r\n  override def makeList(): List[T] = ???\r\n}\r\n```\r\n`error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type`. Clearly, I can make each user of `Implementation` do its own conversion, but I was hoping for something neater.\r\n\r\n**EDIT:** From the responses, it appears that this is not possible.","title":"Can Scala class implement Java interface with automatic type conversion","body":"<p>This Java interface is defined in a library:</p>\n<pre><code>public interface Interface&lt;T&gt; {\n  List&lt;T&gt; makeList();\n}\n</code></pre>\n<p>I'd like to have a Scala class that implements it, but returns a Scala list instead of <code>java.util.List</code>. This is the best I could think of but it's not working:</p>\n<pre><code>import scala.jdk.CollectionConverters._\nclass Implementation[T] extends Interface[T] {\n  implicit def s2j[V](list: List[V]): java.util.List[V] = list.asJava // This doesn't seem to do anything\n  override def makeList(): List[T] = ???\n}\n</code></pre>\n<p><code>error overriding method makeList in trait Interface of type (): java.util.List[T]; method makeList of type (): List[T] has incompatible type</code>. Clearly, I can make each user of <code>Implementation</code> do its own conversion, but I was hoping for something neater.</p>\n<p><strong>EDIT:</strong> From the responses, it appears that this is not possible.</p>\n"},{"tags":["java","unix","ms-word","aspose","aspose.words"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299168,"post_id":76438431,"comment_id":134782690,"body_markdown":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (`\\n` instead of `\\r\\n`)","body":"I don&#39;t know this api but maybe something to do with different line separators in Unix? (<code>\\n</code> instead of <code>\\r\\n</code>)"},{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1686299599,"post_id":76438431,"comment_id":134782773,"body_markdown":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both","body":"I am not using any logic to extract paragraphs on my own i am using inbuilt method to get paragraph text and page number. It is absolutely working fine in my windows machine but not in UNIX server. I am using same jar in both"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686299882,"post_id":76438431,"comment_id":134782823,"body_markdown":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) I&#39;ll test it on my (Unix) machine","body":"Even so, that&#39;s the reason that first springs to mind. Maybe there&#39;s a setting in the api you haven&#39;t noticed... If you provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> I&#39;ll test it on my (Unix) machine"}],"answers":[{"comments":[{"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"score":0,"creation_date":1686313407,"post_id":76438663,"comment_id":134785347,"body_markdown":"I am facing this issue while running in server(i.e UNIX). How can i fix this issue ? after running my jar in UNIX i have to get the report that have page numbers and mask the data in word document it is mismatching.","body":"I am facing this issue while running in server(i.e UNIX). How can i fix this issue ? after running my jar in UNIX i have to get the report that have page numbers and mask the data in word document it is mismatching."},{"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"score":0,"creation_date":1686314456,"post_id":76438663,"comment_id":134785599,"body_markdown":"You should install or provide the fonts required to render the document to get an accurate page numbers detection.","body":"You should install or provide the fonts required to render the document to get an accurate page numbers detection."}],"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686300768,"creation_date":1686300436,"answer_id":76438663,"question_id":76438431,"body_markdown":"The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the [fonts are substituted][1]. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by `LayoutCollector`. You can implement [IWarningCallback][2] to get a notification when font substitution is performed.\r\n\r\nThe following articles can be useful for you:\r\n\r\n&lt;https://docs.aspose.com/words/java/specify-truetype-fonts-location/&gt;\r\n\r\n&lt;https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/&gt;\r\n\r\n\r\n  [1]: https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>The problem in Unix environment might occur because the fonts used in the source document are not available in the environment where the document is processed. To calculate page number of the node Aspose.Words need to build document layout. Upon building document layout, if Aspose.Words cannot find the fonts used in the document the <a href=\"https://docs.aspose.com/words/java/manipulate-and-substitute-truetype-fonts/\" rel=\"nofollow noreferrer\">fonts are substituted</a>. This might lead into the layout difference, since substitution fonts might have different font metrics. In turn, this might lead to incorrect page numbers detection by <code>LayoutCollector</code>. You can implement <a href=\"https://reference.aspose.com/words/java/com.aspose.words/iwarningcallback/\" rel=\"nofollow noreferrer\">IWarningCallback</a> to get a notification when font substitution is performed.</p>\n<p>The following articles can be useful for you:</p>\n<p><a href=\"https://docs.aspose.com/words/java/specify-truetype-fonts-location/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/specify-truetype-fonts-location/</a></p>\n<p><a href=\"https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/\" rel=\"nofollow noreferrer\">https://docs.aspose.com/words/java/install-truetype-fonts-on-linux/</a></p>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438663,"answer_count":1,"score":1,"last_activity_date":1686300768,"creation_date":1686298619,"question_id":76438431,"body_markdown":"I am using LayoutCollector in aspose-words library to get the page number of a node.\r\n```\r\nDocument document=new Document(filePath);\r\nLayoutCollector layoutCollector=new LayoutCollector(doc);\r\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\r\nfor(Node node:paragraphNodes)\r\n{\r\n if(node.getType==NodeType.PARAGRAPH){\r\n int pageNumber=layoutCollector.getStartPageIndex(node);\r\nSystem.out.println(pageNumber);\r\n}\r\n```\r\n\r\nWhile i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?","title":"I am using aspose-words library in java to read word document and to report page number. It is working fine in windows but not in UNIX how can i fix?","body":"<p>I am using LayoutCollector in aspose-words library to get the page number of a node.</p>\n<pre><code>Document document=new Document(filePath);\nLayoutCollector layoutCollector=new LayoutCollector(doc);\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\nfor(Node node:paragraphNodes)\n{\n if(node.getType==NodeType.PARAGRAPH){\n int pageNumber=layoutCollector.getStartPageIndex(node);\nSystem.out.println(pageNumber);\n}\n</code></pre>\n<p>While i am getting the exact page number in my local windows system but not in UNIX server. it is wrongly reporting the page numbers. Any reason for such behaviour, How can i fix this issue?</p>\n"},{"tags":["java","ios","katalon"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686304836,"post_id":76438658,"comment_id":134783757,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":28786211,"reputation":1,"user_id":22046619,"display_name":"Hmimida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":10,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686300385,"creation_date":1686300385,"question_id":76438658,"body_markdown":"What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio&#39;s web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?\r\n\r\nsame problem when i change navigateur ","title":"Katalon web recorder erreur IOS","body":"<p>What could be causing the &quot;unknown server cannot find chrome binary&quot; error when using Katalon Studio's web recorder to record test cases on iOS Ventura 13.4, while using JDK 1.8? Can anyone provide assistance with this issue, please?</p>\n<p>same problem when i change navigateur</p>\n"},{"tags":["java","spring-boot","stored-procedures","spring-data-jpa","illegalargumentexception"],"owner":{"account_id":3007310,"reputation":434,"user_id":2551561,"accept_rate":25,"display_name":"Gurpreet Kaur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686299778,"creation_date":1686286151,"question_id":76437285,"body_markdown":"There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it&#39;s giving me exception: java.lang.IllegalArgumentException: Type cannot be null\r\n\r\nProcedure call using prepared statement:\r\n   \r\n\r\n    declare p_transaction_header \r\n    transaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\r\n\r\n    prepareCall.setString(1, &quot;test&quot;);\r\n            prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\r\n            prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\r\n            prepareCall.setString(4, fileId);\r\n            prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\r\n            prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\r\n            prepareCall.executeQuery();\r\n\r\n            vocherId = prepareCall.getString(5);\r\n            rejStatus = prepareCall.getString(6);\r\n            rejReason = prepareCall.getString(7);\r\n\r\n            openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\r\n\r\n\r\n\r\nSolution I am trying:\r\n  \r\n\r\n    @Procedure(name = &quot;open_transaction&quot;)\r\n    OpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\r\n\r\n    public class OpenTransactionBo {\r\n\r\n    private String vocherId;\r\n\r\n    private String rejStatus;\r\n\r\n    private String rejReason;\r\n}\r\n\r\n","title":"Call stored procedure using spring data jpa where procedure is","body":"<p>There is a stored procedure being called using Prepared statement. I need to call the same using Spring data JPA. I tried with the following solution but it's giving me exception: java.lang.IllegalArgumentException: Type cannot be null</p>\n<p>Procedure call using prepared statement:</p>\n<pre><code>declare p_transaction_header \ntransaction_header_rec := NULL; x_voucher_id NUMBER; x_return_status varchar2(200); x_rejection_reason varchar2(4000); begin p_transaction_header.source := ? ; p_transaction_header.total_amount := ? ; p_transaction_header.total_records := ? ; p_transaction_header.external_key_identifier := ? ; open_transaction(p_transaction_header, ?, ?, ?); end;\n\nprepareCall.setString(1, &quot;test&quot;);\n        prepareCall.setBigDecimal(2, traxFileAggregationInfo.getL_TOTAL_ENTERED_DEBIT_AMOUNT());\n        prepareCall.setBigDecimal(3, traxFileAggregationInfo.getL_TOTAL_RECORDS());\n        prepareCall.setString(4, fileId);\n        prepareCall.registerOutParameter(5,java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(6, java.sql.Types.VARCHAR);\n        prepareCall.registerOutParameter(7,java.sql.Types.VARCHAR);\n        prepareCall.executeQuery();\n\n        vocherId = prepareCall.getString(5);\n        rejStatus = prepareCall.getString(6);\n        rejReason = prepareCall.getString(7);\n\n        openTransactionBo = new OpenTransactionBo(vocherId, rejStatus, rejReason);\n</code></pre>\n<p>Solution I am trying:</p>\n<pre><code>@Procedure(name = &quot;open_transaction&quot;)\nOpenTransactionBo openTransaction(String source, double totalAmount, int totalRecords, String externalKeyIdentifier);\n\npublic class OpenTransactionBo {\n\nprivate String vocherId;\n\nprivate String rejStatus;\n\nprivate String rejReason;\n</code></pre>\n<p>}</p>\n"},{"tags":["java","servlets","netbeans","tomcat7"],"answers":[{"comments":[{"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"score":0,"creation_date":1595678662,"post_id":63087795,"comment_id":111561391,"body_markdown":"I tried to change the antiResourceLocking but it doesn&#39;t work yet. I still have the same error.","body":"I tried to change the antiResourceLocking but it doesn&#39;t work yet. I still have the same error."},{"owner":{"account_id":2076874,"reputation":149,"user_id":1865722,"display_name":"learning-man"},"score":0,"creation_date":1664958275,"post_id":63087795,"comment_id":130585332,"body_markdown":"the same for me, adding antiResourceLocking=&quot;true&quot; does not solve the issue. Any update?","body":"the same for me, adding antiResourceLocking=&quot;true&quot; does not solve the issue. Any update?"},{"owner":{"account_id":69594,"reputation":20627,"user_id":202382,"accept_rate":77,"display_name":"Richard77"},"score":1,"creation_date":1670913827,"post_id":63087795,"comment_id":131977038,"body_markdown":"I change the flag to `antiResourceLocking=&quot;true&quot;`, I&#39;m still getting the same issue.","body":"I change the flag to <code>antiResourceLocking=&quot;true&quot;</code>, I&#39;m still getting the same issue."}],"tags":[],"owner":{"account_id":4297204,"reputation":2499,"user_id":9926179,"display_name":"b.s"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1595676987,"creation_date":1595676581,"answer_id":63087795,"question_id":63087693,"body_markdown":"&gt; Deploying application with war file &#39;test.war&#39; to context &#39;/hello&#39; to server &#39;http://localhost:8080/manager/&#39;\r\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\r\nFAIL - Application already exists at path /hello\r\n\r\nTomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.\r\n\r\n**Resolution**\r\nThis can be fixed by adding \r\n\r\n&gt;     &lt;Context antiResourceLocking=&quot;true&quot;&gt;\r\n\r\n to tomcat context. The **antiResourceLocking** is by default set to false. More details can be read at http://tomcat.apache.org/tomcat-9.0-doc/config/context.html","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<blockquote>\n<p>Deploying application with war file 'test.war' to context '/hello' to server 'http://localhost:8080/manager/'\nApplication failed to deploy: FAIL - Unable to delete [D:\\Program Files\\Apache\\Tomcat 9.0\\webapps\\hello]. The continued presence of this file may cause problems.\nFAIL - Application already exists at path /hello</p>\n</blockquote>\n<p>Tomcat locks files or directory location. In most cases, this happens after the first successful deployment and subsequent ones will be blocked.</p>\n<p><strong>Resolution</strong>\nThis can be fixed by adding</p>\n<blockquote>\n<pre><code>&lt;Context antiResourceLocking=&quot;true&quot;&gt;\n</code></pre>\n</blockquote>\n<p>to tomcat context. The <strong>antiResourceLocking</strong> is by default set to false. More details can be read at <a href=\"http://tomcat.apache.org/tomcat-9.0-doc/config/context.html\" rel=\"nofollow noreferrer\">http://tomcat.apache.org/tomcat-9.0-doc/config/context.html</a></p>\n"},{"tags":[],"owner":{"account_id":21291742,"reputation":1,"user_id":18284091,"display_name":"Raf"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299469,"creation_date":1686299329,"answer_id":76438528,"question_id":63087693,"body_markdown":"helped for me\r\n`antiResourceLocking=&quot;true&quot;`\r\n`mvn cargo:redeploy`\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>helped for me\n<code>antiResourceLocking=&quot;true&quot;</code>\n<code>mvn cargo:redeploy</code></p>\n"}],"owner":{"account_id":17804748,"reputation":416,"user_id":12930670,"display_name":"harili"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3832,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":63087795,"answer_count":2,"score":1,"last_activity_date":1686299469,"creation_date":1595675912,"question_id":63087693,"body_markdown":"I&#39;m having a problem that I don&#39;t know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.\r\n\r\nHere the error :\r\n```\r\nDeploying on Apache Tomcat or TomEE\r\n    profile mode: false\r\n    debug mode: false\r\n    force redeploy: true\r\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\r\nDeployment is in progress...\r\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\r\nECHEC - l&#39;application existe d&#233;j&#224; dans le chemin [/secondapp]\r\n\r\n```\r\n","title":"How do I fix this : FAIL - Application already exists at path /second","body":"<p>I'm having a problem that I don't know how to fix it. This the first time I have this problem. I tried to change the path in context.xml but it works the first time and remake the same problem.</p>\n<p>Here the error :</p>\n<pre><code>Deploying on Apache Tomcat or TomEE\n    profile mode: false\n    debug mode: false\n    force redeploy: true\nIn-place deployment at C:\\Users\\chafy\\Documents\\NetBeansProjects\\firstapp\\target\\firstapp-1.0-SNAPCHOT\nDeployment is in progress...\ndeploy?config=file%3A%2FC%3A%2FUsers%2Fchafy%2FAppData%2FLocal%2FTemp%2Fcontext5856041917942518665.xml&amp;path=/secondapp\nECHEC - l'application existe déjà dans le chemin [/secondapp]\n\n</code></pre>\n"},{"tags":["java","mysql","mybatis"],"answers":[{"tags":[],"owner":{"account_id":184171,"reputation":2746,"user_id":420047,"accept_rate":79,"display_name":"Daniel Novak"},"comment_count":0,"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1323169338,"creation_date":1291126222,"answer_id":4314627,"question_id":4283159,"body_markdown":"The `&lt;insert&gt;`, `&lt;update&gt;`and `&lt;delete&gt;` statements return the number of affected rows, as is common with database APIs.\r\n\r\nIf a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.\r\n\r\nUsing the options of `&lt;insert&gt;`, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.\r\n\r\nIt may be instructive to use the [MyBatis generator][mbg] to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces &quot;example&quot; classes that are used as temporary containers to pass around data.\r\n\r\n[mbg]: http://code.google.com/p/mybatis/wiki/Generator","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>The <code>&lt;insert&gt;</code>, <code>&lt;update&gt;</code>and <code>&lt;delete&gt;</code> statements return the number of affected rows, as is common with database APIs.</p>\n\n<p>If a new ID is generated for the inserted row, it is reflected in the object you passed as a parameter. So for example, if you call mapper.insert(someObject) inside your annotated insert method, after inserting, you can call someObject.getId (or similar) to retrieve it.</p>\n\n<p>Using the options of <code>&lt;insert&gt;</code>, you can tweak how (by providing an SQL statement) and when (before or after the actual insertion) the id is generated or retrieved, and where in the object it is put.</p>\n\n<p>It may be instructive to use the <a href=\"http://code.google.com/p/mybatis/wiki/Generator\" rel=\"noreferrer\">MyBatis generator</a> to generate classes from a database schema and have a look at how inserts and updates are handled. Specifically, the generator produces \"example\" classes that are used as temporary containers to pass around data.</p>\n"},{"comments":[{"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"score":0,"creation_date":1456996613,"post_id":4427362,"comment_id":59207504,"body_markdown":"Assuming you use annotation for select and with `@Options(useGeneratedKeys=true)`","body":"Assuming you use annotation for select and with <code>@Options(useGeneratedKeys=true)</code>"}],"tags":[],"owner":{"account_id":225702,"reputation":64,"user_id":1543136,"display_name":"edwinkun"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1292232255,"creation_date":1292232255,"answer_id":4427362,"question_id":4283159,"body_markdown":"you can get your generated ids from save methods,\r\nlets say a bean with ID and name properties,\r\n\r\n    bean.setName(&quot;xxx&quot;);\r\n    mapper.save(bean);\r\n    // here is your id\r\n    logger.debug(bean.getID);","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>you can get your generated ids from save methods,\nlets say a bean with ID and name properties,</p>\n\n<pre><code>bean.setName(\"xxx\");\nmapper.save(bean);\n// here is your id\nlogger.debug(bean.getID);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13345,"reputation":8533,"user_id":26737,"accept_rate":83,"display_name":"Manur"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1310141684,"creation_date":1308835908,"answer_id":6454886,"question_id":4283159,"body_markdown":"Actually, it&#39;s possible to do it, with the `@Options` annotation (provided you&#39;re using auto_increment or something similar in your database) :\r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(null, #{name})&quot;) \r\n    @Options(useGeneratedKeys=true, keyProperty=&quot;idName&quot;)\r\n    int insertTable3(SomeBean myBean); \r\n\r\nNote that the `keyProperty=&quot;idName&quot;` part is not necessary if the key property in SomeBean is named &quot;id&quot;. There&#39;s also a `keyColumn` attribute available, for the rare cases when MyBatis can&#39;t find the primary key column by himself. Please also note that by using `@Options`, you&#39;re submitting your method to some default parameters ; it&#39;s important to consult the doc (linked below -- page 60 in the current version) !\r\n\r\n**(Old answer)** The (quite recent) `@SelectKey` annotation can be used for more complex key retrieval (sequences, identity() function...). Here&#39;s what the [MyBatis 3 User Guide][1] (pdf) offers as examples :\r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\r\n&gt; insert: \r\n\r\n    @Insert(&quot;insert into table3 (id, name) values(#{nameId}, #{name})&quot;) \r\n    @SelectKey(statement=&quot;call next value for TestSequence&quot;, keyProperty=&quot;nameId&quot;, before=true, resultType=int.class) \r\n    int insertTable3(Name name); \r\n\r\n&gt; This example shows using the @SelectKey annotation to retrieve an identity value after an insert: \r\n\r\n    @Insert(&quot;insert into table2 (name) values(#{name})&quot;)\r\n    @SelectKey(statement=&quot;call identity()&quot;, keyProperty=&quot;nameId&quot;, before=false, resultType=int.class)\r\n    int insertTable2(Name name);\r\n\r\n  [1]: http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>Actually, it's possible to do it, with the <code>@Options</code> annotation (provided you're using auto_increment or something similar in your database) :</p>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(null, #{name})\") \n@Options(useGeneratedKeys=true, keyProperty=\"idName\")\nint insertTable3(SomeBean myBean); \n</code></pre>\n\n<p>Note that the <code>keyProperty=\"idName\"</code> part is not necessary if the key property in SomeBean is named \"id\". There's also a <code>keyColumn</code> attribute available, for the rare cases when MyBatis can't find the primary key column by himself. Please also note that by using <code>@Options</code>, you're submitting your method to some default parameters ; it's important to consult the doc (linked below -- page 60 in the current version) !</p>\n\n<p><strong>(Old answer)</strong> The (quite recent) <code>@SelectKey</code> annotation can be used for more complex key retrieval (sequences, identity() function...). Here's what the <a href=\"http://code.google.com/p/mybatis/downloads/detail?name=MyBatis-3-User-Guide.pdf&amp;can=3&amp;q=Docs\" rel=\"noreferrer\">MyBatis 3 User Guide</a> (pdf) offers as examples :</p>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve a value from a sequence before an\n  insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table3 (id, name) values(#{nameId}, #{name})\") \n@SelectKey(statement=\"call next value for TestSequence\", keyProperty=\"nameId\", before=true, resultType=int.class) \nint insertTable3(Name name); \n</code></pre>\n\n<blockquote>\n  <p>This example shows using the @SelectKey annotation to retrieve an identity value after an insert: </p>\n</blockquote>\n\n<pre><code>@Insert(\"insert into table2 (name) values(#{name})\")\n@SelectKey(statement=\"call identity()\", keyProperty=\"nameId\", before=false, resultType=int.class)\nint insertTable2(Name name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1096470,"reputation":26066,"user_id":1089967,"accept_rate":59,"display_name":"lance-java"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686299335,"creation_date":1630061024,"answer_id":68952069,"question_id":4283159,"body_markdown":"I didn&#39;t like most of the answers I found online for returning generated keys because\r\n\r\n1. All of the solutions I found called a &quot;setter&quot; on the inbound object\r\n2. None of the solutions returned the generated column from the method\r\n\r\nI came up with the following solution which addresses points 1 &amp; 2 above which\r\n\r\n1. Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)\r\n2. Requires an additional [default method](https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html) on the interface to return the value\r\n\r\n```\r\npublic interface MyMapper {\r\n   /**\r\n    * this method is used by the mybatis mapper\r\n    * I don&#39;t call this method directly in my application code   \r\n    */\r\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\r\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\r\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\r\n\r\n   /**\r\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\r\n     */\r\n   default long insert(MyTable tableBean) {\r\n      LongReference idReference = new LongReference();\r\n      insert(tableBean, idReference);\r\n      return idReference.getValue();\r\n   }\r\n}\r\n```\r\n\r\nThis requires an additional class which can be re-used on similar methods in future\r\n```\r\npublic class LongReference {\r\n    private Long value;\r\n\r\n    // getter &amp; setter\r\n}\r\n\r\n```\r\n   \r\n    ","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<p>I didn't like most of the answers I found online for returning generated keys because</p>\n<ol>\n<li>All of the solutions I found called a &quot;setter&quot; on the inbound object</li>\n<li>None of the solutions returned the generated column from the method</li>\n</ol>\n<p>I came up with the following solution which addresses points 1 &amp; 2 above which</p>\n<ol>\n<li>Passes two parameters to mybatis &quot;in&quot; &amp; &quot;out&quot; (mybatis does not mutate &quot;in&quot;, it calls a setter on &quot;out&quot;)</li>\n<li>Requires an additional <a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/defaultmethods.html\" rel=\"nofollow noreferrer\">default method</a> on the interface to return the value</li>\n</ol>\n<pre><code>public interface MyMapper {\n   /**\n    * this method is used by the mybatis mapper\n    * I don't call this method directly in my application code   \n    */\n   @Insert(&quot;INSERT INTO MY_TABLE (FOO) VALUES (#{in.foo})&quot;)\n   @Options(useGeneratedKeys=true, keyColumn=&quot;ID&quot;, keyProperty = &quot;out.value&quot;)\n   void insert(@Param(&quot;in&quot;) MyTable in, @Param(&quot;out&quot;) LongReference out);\n\n   /**\n     * this &quot;default method&quot; is called in my application code and returns the generated id.\n     */\n   default long insert(MyTable tableBean) {\n      LongReference idReference = new LongReference();\n      insert(tableBean, idReference);\n      return idReference.getValue();\n   }\n}\n</code></pre>\n<p>This requires an additional class which can be re-used on similar methods in future</p>\n<pre><code>public class LongReference {\n    private Long value;\n\n    // getter &amp; setter\n}\n\n</code></pre>\n"}],"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39263,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":4,"score":22,"last_activity_date":1686299335,"creation_date":1290755255,"question_id":4283159,"body_markdown":"- [See this related question][1] for Postgres. For some reason, the solution doesn&#39;t work for me - the return value of the insert statement is always &quot;1&quot;.\r\n- See this other question for an [XML based solution][2]. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.\r\n\r\nI didn&#39;t find a matching annotation to `&lt;selectkey&gt;` (see this [open issue][3])\r\nHow do I proceed?\r\n\r\nExamining mybatis code reveals that `INSERT` is implemented via `UPDATE`, and always returns the number of inserted rows! So ... unless I&#39;m completely missing something here, there&#39;s no way to do this using the current (3.0.3) implementation.\r\n\r\n  [1]: https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\r\n  [2]: https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\r\n  [3]: http://code.google.com/p/mybatis/issues/detail?id=10","title":"How to return ids on Inserts with mybatis in mysql with annotations","body":"<ul>\n<li><a href=\"https://stackoverflow.com/questions/4260428/mybatis-how-to-return-the-id-of-the-inserted-object-under-postgres\">See this related question</a> for Postgres. For some reason, the solution doesn't work for me - the return value of the insert statement is always \"1\".</li>\n<li>See this other question for an <a href=\"https://stackoverflow.com/questions/1769688/howto-return-ids-on-inserts-with-ibatis-with-returning-keyword\">XML based solution</a>. I would like to do the same without XML - insert a record and find the new auto-generated id of the record I just insreted.</li>\n</ul>\n\n<p>I didn't find a matching annotation to <code>&lt;selectkey&gt;</code> (see this <a href=\"http://code.google.com/p/mybatis/issues/detail?id=10\" rel=\"noreferrer\">open issue</a>)\nHow do I proceed?</p>\n\n<p>Examining mybatis code reveals that <code>INSERT</code> is implemented via <code>UPDATE</code>, and always returns the number of inserted rows! So ... unless I'm completely missing something here, there's no way to do this using the current (3.0.3) implementation.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1685701613,"post_id":76385060,"comment_id":134701239,"body_markdown":"not work , i will try this. it shows &quot;The webpage at tel:8806288365 could not be loaded because:\n\nnet::ERR_UNKNOWN_URL_SCHEME&quot;","body":"not work , i will try this. it shows &quot;The webpage at tel:8806288365 could not be loaded because:  net::ERR_UNKNOWN_URL_SCHEME&quot;"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1685732443,"post_id":76385060,"comment_id":134707694,"body_markdown":"Please share your html content sample that you are showing on WebView","body":"Please share your html content sample that you are showing on WebView"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1685868553,"post_id":76385060,"comment_id":134718791,"body_markdown":"&quot;The webpage at tel:8806288365 could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME&quot; this message show","body":"&quot;The webpage at tel:8806288365 could not be loaded because: net::ERR_UNKNOWN_URL_SCHEME&quot; this message show"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1685944016,"post_id":76385060,"comment_id":134725963,"body_markdown":"Please share your web url that you loading on webview","body":"Please share your web url that you loading on webview"},{"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"score":0,"creation_date":1686180197,"post_id":76385060,"comment_id":134765525,"body_markdown":"link(html): &lt;a href=&quot;tel:8806288365&quot; &gt;phone&lt;/a&gt;","body":"link(html): &lt;a href=&quot;tel:8806288365&quot; &gt;phone&lt;/a&gt;"},{"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"score":0,"creation_date":1686298909,"post_id":76385060,"comment_id":134782652,"body_markdown":"I have updated the code with your html content and its working.","body":"I have updated the code with your html content and its working."}],"tags":[],"owner":{"account_id":5771601,"reputation":742,"user_id":4554899,"display_name":"Vinay"},"comment_count":6,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686298847,"creation_date":1685647263,"answer_id":76385060,"question_id":76383728,"body_markdown":"To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView&#39;s URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.\r\n\r\nCreate a Custom WebViewClient and implement as below-\r\n\r\n    val webView = findViewById&lt;WebView&gt;(R.id.webView)\r\n    webView.webViewClient = CustomWebViewClient()\r\n    val htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\r\n    webView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\r\n\r\n    class CustomWebViewClient : WebViewClient() {\r\n        override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\r\n    //        return super.shouldOverrideUrlLoading(view, request)\r\n            val url = request?.url?.toString()\r\n            if (url?.startsWith(&quot;tel:&quot;) == true) {\r\n                val intent = Intent(Intent.ACTION_DIAL)\r\n                intent.data = Uri.parse(url)\r\n                view?.context?.startActivity(intent)\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>To handle the &quot;tel:&quot; link in an Android WebView, you need to override the WebView's URL loading behavior and intercept the &quot;tel:&quot; URL scheme to open the phone dialer.</p>\n<p>Create a Custom WebViewClient and implement as below-</p>\n<pre><code>val webView = findViewById&lt;WebView&gt;(R.id.webView)\nwebView.webViewClient = CustomWebViewClient()\nval htmlContent = &quot;&lt;html&gt;&lt;a href=\\&quot;tel:8806288365\\&quot; &gt;phone&lt;/a&gt;&lt;/html&gt;&quot;\nwebView.loadDataWithBaseURL(null, htmlContent, &quot;text/html&quot;, &quot;UTF-8&quot;, null)\n\nclass CustomWebViewClient : WebViewClient() {\n    override fun shouldOverrideUrlLoading(view: WebView?, request: WebResourceRequest?): Boolean {\n//        return super.shouldOverrideUrlLoading(view, request)\n        val url = request?.url?.toString()\n        if (url?.startsWith(&quot;tel:&quot;) == true) {\n            val intent = Intent(Intent.ACTION_DIAL)\n            intent.data = Uri.parse(url)\n            view?.context?.startActivity(intent)\n            return true\n        }\n        return false\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":28729513,"reputation":1,"user_id":22001767,"display_name":"SHUBHAM SAWANT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686299230,"creation_date":1685635045,"question_id":76383728,"body_markdown":"I have problem to open direct contact link in android webview \r\nError : &quot;\r\n\r\nWebpage not available\r\n\r\nThe webpage at tel:8806288365 could not be loaded because:\r\n\r\nnet::ERR_UNKNOWN_URL_SCHEME&quot; \r\nPlease help .. \r\nThnaks \r\n\r\nIf any link like tel:, whatsapp: open in android webview , then I want to open dialer and whatsapp like this \r\n\r\nMy Code:\r\n```\r\nclass WebViewClientDemo extends WebViewClient {\r\n    @Override\r\n    //Keep webview in app when clicking links\r\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\r\n//        view.loadUrl(url);\r\n//        return true;\r\n\r\n        if (url.startsWith(&quot;tel:&quot;)) {\r\n            // Handle telephone URLs\r\n            Intent intent = new Intent(Intent.ACTION_DIAL);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\r\n            // Handle email URLs\r\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\r\n            intent.setData(Uri.parse(url));\r\n            view.getContext().startActivity(intent);\r\n            return true;\r\n        } else {\r\n            // Load all other URLs within the WebView\r\n            view.loadUrl(url);\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```","title":"How to open app for &quot;tel:111111111&quot; link in android webview","body":"<p>I have problem to open direct contact link in android webview\nError : &quot;</p>\n<p>Webpage not available</p>\n<p>The webpage at 8806288365 could not be loaded because:</p>\n<p>net::ERR_UNKNOWN_URL_SCHEME&quot;\nPlease help ..\nThnaks</p>\n<p>If any link like , whatsapp: open in android webview , then I want to open dialer and whatsapp like this</p>\n<p>My Code:</p>\n<pre><code>class WebViewClientDemo extends WebViewClient {\n    @Override\n    //Keep webview in app when clicking links\n    public boolean shouldOverrideUrlLoading(WebView view, String url) {\n//        view.loadUrl(url);\n//        return true;\n\n        if (url.startsWith(&quot;tel:&quot;)) {\n            // Handle telephone URLs\n            Intent intent = new Intent(Intent.ACTION_DIAL);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else if (url.startsWith(&quot;mailto:&quot;)) {\n            // Handle email URLs\n            Intent intent = new Intent(Intent.ACTION_SENDTO);\n            intent.setData(Uri.parse(url));\n            view.getContext().startActivity(intent);\n            return true;\n        } else {\n            // Load all other URLs within the WebView\n            view.loadUrl(url);\n            return true;\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","list","for-loop","arraylist","addition"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1686297439,"post_id":76438204,"comment_id":134782374,"body_markdown":"you already are adding elements to a list in that code.","body":"you already are adding elements to a list in that code."}],"answers":[{"comments":[{"owner":{"account_id":6100446,"reputation":9,"user_id":4759646,"display_name":"louberlu"},"score":0,"creation_date":1686377888,"post_id":76438440,"comment_id":134793501,"body_markdown":"I understand why, thanks. I&#39;ll update later.","body":"I understand why, thanks. I&#39;ll update later."}],"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686298717,"creation_date":1686298717,"answer_id":76438440,"question_id":76438204,"body_markdown":"You update a single object `tampon` of type `Terme[]`. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:\r\n\r\n```java\r\nfor(Terme element : right) {\r\n    Terme[] newElement = { element, left.get(i), };\r\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\r\n    res.add(newElement);\r\n    this.printPair(res);\r\n    i++;\r\n}\r\n```\r\nIf the `tampon` field is now unused, you can remove it, and rename my `newElement` to `tampon` again.","title":"How to add an element to a list in Java?","body":"<p>You update a single object <code>tampon</code> of type <code>Terme[]</code>. That means that the list will end up with several references to that same object. What you need to do is create a new array inside the loop, and add that:</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(Terme element : right) {\n    Terme[] newElement = { element, left.get(i), };\n    System.out.println(&quot;liste de newElement[&quot;+i+&quot;]: &quot;+newElement[0].getNomC()+&quot;, &quot;+newElement[1].getNomC());\n    res.add(newElement);\n    this.printPair(res);\n    i++;\n}\n</code></pre>\n<p>If the <code>tampon</code> field is now unused, you can remove it, and rename my <code>newElement</code> to <code>tampon</code> again.</p>\n"}],"owner":{"account_id":6100446,"reputation":9,"user_id":4759646,"display_name":"louberlu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":76438440,"answer_count":1,"score":-2,"last_activity_date":1686298717,"creation_date":1686296595,"question_id":76438204,"body_markdown":"I&#39;m not a english native. If you found any error , please correct me.\r\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\r\nHere it is:\r\n\r\n```\r\nprivate List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tint i = 0;\r\n\t\t\r\n\t\tfor(Terme element : right) {\r\n\t\t\ttampon[0] = element;\r\n\t\t\ttampon[1] = left.get(i);\r\n\t\t\tSystem.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\r\n\t\t\tres.add(tampon);\r\n\t\t\tthis.printPair(res);\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\treturn res;\r\n\t}\r\n```\r\n\r\nI have add the println to find the problem. Here what it prints:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nThis method is used in this method of class:\r\n\r\n```\r\npublic void setDiff(Predicat[] couple) {\r\n\t\tList&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\r\n\t\tList&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\r\n\t\tliste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\r\n\t\tthis.printPair(liste);\r\n\t\tboolean simple;\r\n\t\t\r\n\t\tdo{\r\n\t\t\tres = new ArrayList&lt;Terme[]&gt;();\r\n\t\t\tfor(Terme[] element : liste) {\r\n\t\t\t\tif(element[0].isEquals(element[1]) == false) {\r\n\t\t\t\t\tres.add(element);\r\n\t\t\t\t}else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\r\n\t\t\t\t\tfor(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\r\n\t\t\t\t\t\tres.add(litt);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(\r\n\t\t\t}\r\n\t\t\tliste = res;\r\n\t\t\tdiff = liste;\r\n\t\t\tthis.printDiff();\r\n\t\t\tsimple = this.isSimple();\r\n\t\t}while(simple == false);\r\n\t\tdiff = liste;\r\n\t}\r\n```\r\n\r\n\r\nHere what it shows when called:\r\n\r\n```\r\nP(x,x,f(t)), P(y,a,u)\r\nliste de tampon[0]: x, y\r\nPairing: {{x,y}}\r\nliste de tampon[1]: x, a\r\nPairing: {{x,a},{x,a}}\r\nliste de tampon[2]: f(t), u\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\r\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\r\n```\r\n\r\nWhat I want is the following results:\r\n```\r\nPairing: {{x,y},{x,a},{f(t),u}}\r\nDiff: {{x,y},{x,a},{f(t),u}}\r\n```\r\n\r\nFor those who are curious about the program i&#39;m writing just tell me how to share it.\r\n\r\nThanks in advance.","title":"How to add an element to a list in Java?","body":"<p>I'm not a english native. If you found any error , please correct me.\nI am creating an algo which maniplulates lists. But i have a problem in one of my method.\nHere it is:</p>\n<pre><code>private List&lt;Terme[]&gt; pairing(List&lt;Terme&gt; right, List&lt;Terme&gt; left) {\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        int i = 0;\n        \n        for(Terme element : right) {\n            tampon[0] = element;\n            tampon[1] = left.get(i);\n            System.out.println(&quot;liste de tampon[&quot;+i+&quot;]: &quot;+tampon[0].getNomC()+&quot;, &quot;+tampon[1].getNomC());\n            res.add(tampon);\n            this.printPair(res);\n            i++;\n        }\n        \n        return res;\n    }\n</code></pre>\n<p>I have add the println to find the problem. Here what it prints:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>This method is used in this method of class:</p>\n<pre><code>public void setDiff(Predicat[] couple) {\n        List&lt;Terme[]&gt; liste = new ArrayList&lt;Terme[]&gt;();\n        List&lt;Terme[]&gt; res = new ArrayList&lt;Terme[]&gt;();\n        liste = this.pairing(couple[0].getPredicatDe(), couple[1].getPredicatDe());\n        this.printPair(liste);\n        boolean simple;\n        \n        do{\n            res = new ArrayList&lt;Terme[]&gt;();\n            for(Terme[] element : liste) {\n                if(element[0].isEquals(element[1]) == false) {\n                    res.add(element);\n                }else if((element[0].isType(&quot;Fonction&quot;)==true) &amp;&amp; (element[1].isType(&quot;Fonction&quot;)==true)) {\n                    for(Terme[] litt : this.pairing(((Fonction) element[0]).getFonctionDe(), ((Fonction) element[1]).getFonctionDe())) {\n                        res.add(litt);\n                    }\n                }\n                System.out.println(\n            }\n            liste = res;\n            diff = liste;\n            this.printDiff();\n            simple = this.isSimple();\n        }while(simple == false);\n        diff = liste;\n    }\n</code></pre>\n<p>Here what it shows when called:</p>\n<pre><code>P(x,x,f(t)), P(y,a,u)\nliste de tampon[0]: x, y\nPairing: {{x,y}}\nliste de tampon[1]: x, a\nPairing: {{x,a},{x,a}}\nliste de tampon[2]: f(t), u\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nPairing: {{f(t),u},{f(t),u},{f(t),u}}\nDiff: {{f(t),u},{f(t),u},{f(t),u}}\n</code></pre>\n<p>What I want is the following results:</p>\n<pre><code>Pairing: {{x,y},{x,a},{f(t),u}}\nDiff: {{x,y},{x,a},{f(t),u}}\n</code></pre>\n<p>For those who are curious about the program i'm writing just tell me how to share it.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","mysql-5.5"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686299739,"post_id":76438359,"comment_id":134782798,"body_markdown":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the `ResultSet`. `getTimestamp(int)` will do that for you but it might be better to use a class from `java.time`","body":"You don&#39;t &quot;parse the byte array&quot; at all. What you do is issue your select query then get the appropriate date column from the <code>ResultSet</code>. <code>getTimestamp(int)</code> will do that for you but it might be better to use a class from <code>java.time</code>"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686300986,"post_id":76438359,"comment_id":134783028,"body_markdown":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog","body":"i am trying to develop a software to subscribe the binlog of mysql, as a replica of a mysql, so my question is to parse the data of type datetime(3) in the binlog"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686304094,"post_id":76438359,"comment_id":134783622,"body_markdown":"Ah I see sorry. I think I&#39;d need to look at an example binlog file","body":"Ah I see sorry. I think I&#39;d need to look at an example binlog file"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686305575,"post_id":76438359,"comment_id":134783894,"body_markdown":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: `Instant i = Instant.ofEpochSecond(Long.valueOf(s));`","body":"afaics they are in Unix time (seconds since the epoch) so for string timestamp &#39;s&#39;: <code>Instant i = Instant.ofEpochSecond(Long.valueOf(s));</code>"},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":0,"creation_date":1686307243,"post_id":76438359,"comment_id":134784192,"body_markdown":"@gee Please [edit] your question to include the binlog format you are using. Also [edit] your question to include the source code you have so far.","body":"@gee Please <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the binlog format you are using. Also <a href=\"https://stackoverflow.com/posts/76438359/edit\">edit</a> your question to include the source code you have so far."},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538255,"post_id":76438359,"comment_id":134807144,"body_markdown":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;","body":"i used mariadb which version is &#39;5.5.64-MariaDB-1~trusty&#39;, i get the method to parse the byte array of type datetime(3) after test,  it is different with the datetime type;"},{"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"score":0,"creation_date":1686538353,"post_id":76438359,"comment_id":134807149,"body_markdown":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000","body":"the byte array of the type datetime(3) you get through subscribing the binlog is the micros from the time 0000-00-00 00:00:00.000000"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686555850,"post_id":76438359,"comment_id":134808924,"body_markdown":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds","body":"No, afaics microseconds would be datatime(6). datetime(3) is milliseconds"}],"owner":{"account_id":28785980,"reputation":1,"user_id":22046434,"display_name":"gee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297921,"creation_date":1686297921,"question_id":76438359,"body_markdown":"how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\r\ni have known the length of the byte array of type datetime(3) is 8, but i don&#39;t know how to parse it to Timestamp\r\n\r\nthe way to parse the byte array to Timestamp","title":"how to parse the byte array of type datetime(3) in the binlog of mysql5.5","body":"<p>how to parse the byte array of type datetime(3)  in the binlog of mysql5.5;\ni have known the length of the byte array of type datetime(3) is 8, but i don't know how to parse it to Timestamp</p>\n<p>the way to parse the byte array to Timestamp</p>\n"},{"tags":["java","docker","networking","docker-compose"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686297902,"post_id":76438328,"comment_id":134782463,"body_markdown":"Are you sure your Java app listens to those `java.net` proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically.","body":"Are you sure your Java app listens to those <code>java.net</code> proxy options? Not all Java networking libraries will do that. You may have to make configuration for those libraries specifically."}],"owner":{"account_id":13669231,"reputation":21,"user_id":10907449,"display_name":"Nikolay Debolsky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297680,"creation_date":1686297680,"question_id":76438328,"body_markdown":"I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).\r\n\r\nThis is curl from container:\r\n\r\n```\r\ncurl 2ip.ru\r\nx.x.x.18\r\n```\r\nAnd in requestbin i get this ip:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/su5Yz.jpg)](https://i.stack.imgur.com/su5Yz.jpg)\r\n\r\nThis is my JAVA_OPTS:\r\n\r\n```\r\n-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\r\n```\r\nAnd in docker-compose i use following envs:\r\n\r\n```\r\nhttp_proxy=&quot;http://10.0.1.13:8081&quot;\r\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\r\n```\r\nHow can i fix this? \r\n","title":"Java via proxy in docker container","body":"<p>I have container with java app and i try to force use proxy for this app. In docker container proxy is work right (i checked via curl). But when i send my request in requestbin, i see server ip, but not proxy ip (server ip ends 37, proxy 18).</p>\n<p>This is curl from container:</p>\n<pre><code>curl 2ip.ru\nx.x.x.18\n</code></pre>\n<p>And in requestbin i get this ip:</p>\n<p><a href=\"https://i.stack.imgur.com/su5Yz.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/su5Yz.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This is my JAVA_OPTS:</p>\n<pre><code>-Xms512M -Xmx2048M -XX:MaxMetaspaceSize=256m -XX:+UseParallelGC -Djava.util.prefs.systemRoot=/app/.java -Djava.util.prefs.userRoot=/app/.java/.userPrefs -Djava.awt.headless=true -Djava.security.egd=file:/dev/./urandom -Dcom.sun.security.enableCRLDP=true -Dcom.ibm.security.enableCRLDP=true -Dtls_prohibit_disabled_validation=false -Djava.util.prefs.syncInterval=9999 -agentlib:jdwp=transport=dt_socket,server=y,suspend=n,address=*:5005 -Djava.net.useSystemProxies=true -Dhttp.proxyHost=10.0.1.13 -Dhttp.proxyPort=8081\n</code></pre>\n<p>And in docker-compose i use following envs:</p>\n<pre><code>http_proxy=&quot;http://10.0.1.13:8081&quot;\nhttps_proxy=&quot;http://10.0.1.13:8081&quot;\n</code></pre>\n<p>How can i fix this?</p>\n"},{"tags":["java","android","google-maps","sdk","fatal-error"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":2,"creation_date":1686295859,"post_id":76437933,"comment_id":134782106,"body_markdown":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n$","body":"Caused by: com.google.android.gms.common.GooglePlayServicesMissingManif&zwnj;&#8203;estValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  You must have the following declaration within the &lt;application&gt; element:     &lt;meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt;  $"}],"owner":{"account_id":27074305,"reputation":1,"user_id":20624511,"display_name":"Vidu Gajadeera"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686297547,"creation_date":1686294016,"question_id":76437933,"body_markdown":"My app that uses Google Maps SDK just started crashing with this exception:\r\n\r\n    FATAL EXCEPTION: main                         \r\n    Process: com.example.newspaperdelivery, PID: 29598\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\r\n        at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\r\n    Caused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app&#39;s AndroidManifest.xml does not exist.  \r\n\t    You must have the following declaration within the &lt;application&gt; element:     \r\n\t    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \r\n        at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                        \tat com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                        \tat com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                        \tat com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                        \tat com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                        \tat com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                        \tat com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                        \tat androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\r\n        at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\r\n        at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n        at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\r\n        at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\r\n        at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\r\n        at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\r\n        at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\r\n        at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\r\n        at android.app.Activity.performCreate(Activity.java:6662)\r\n        at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\r\n        at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\r\n    2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E  \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\r\n        at android.app.ActivityThread.-wrap12(ActivityThread.java)\r\n        at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\r\n        at android.os.Handler.dispatchMessage(Handler.java:102)\r\n        at android.os.Looper.loop(Looper.java:154)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\r\n","title":"Android runtime fatal exception","body":"<p>My app that uses Google Maps SDK just started crashing with this exception:</p>\n<pre><code>FATAL EXCEPTION: main                         \nProcess: com.example.newspaperdelivery, PID: 29598\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.newspaperdelivery/com.example.newspaperdelivery.DeliveryMapActivity}: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2646)\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\nCaused by: android.view.InflateException: Binary XML file line #11: Binary XML file line #11: Error inflating class fragment\nCaused by: android.view.InflateException: Binary XML file line #11: Error inflating class fragment\nCaused by: com.google.android.gms.common.GooglePlayServicesMissingManifestValueException: A required meta-data tag in your app's AndroidManifest.xml does not exist.  \n    You must have the following declaration within the &lt;application&gt; element:     \n    meta-data android:name=&quot;com.google.android.gms.version&quot; android:value=&quot;@integer/google_play_services_version&quot; /&gt; \n    at com.google.android.gms.common.GooglePlayServicesUtilLight.isGooglePlayServicesAvailable(com.google.android.gms:play-services-basement@@18.0.0:8)                                                                                                         at com.google.android.gms.common.GooglePlayServicesUtil.isGooglePlayServicesAvailable(com.google.android.gms:play-services-base@@18.0.1:2)                                                                                                          at com.google.android.gms.maps.internal.zzca.zza(com.google.android.gms:play-services-maps@@18.0.0:3)                                                                                                           at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:4)                                                                                                          at com.google.android.gms.maps.MapsInitializer.initialize(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                          at com.google.android.gms.maps.zzav.zzc(com.google.android.gms:play-services-maps@@18.0.0:2)                                                                                                            at com.google.android.gms.maps.zzav.createDelegate(com.google.android.gms:play-services-maps@@18.0.0:1)                                                                                                         at com.google.android.gms.dynamic.DeferredLifecycleHelper.zaf(com.google.android.gms:play-services-base@@18.0.1:6)                                                                                                          at com.google.android.gms.dynamic.DeferredLifecycleHelper.onInflate(com.google.android.gms:play-services-base@@18.0.1:1)                                                                                                            at com.google.android.gms.maps.SupportMapFragment.onInflate(com.google.android.gms:play-services-maps@@18.0.0:9)                                                                                                            at androidx.fragment.app.Fragment.onInflate(Fragment.java:1731)\n    at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:103)\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:319)\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:298)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:777)\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:727)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:495)\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:426)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:36)\n    at com.example.newspaperdelivery.databinding.ActivityDeliveryMapBinding.inflate(ActivityDeliveryMapBinding.java:30)\n    at com.example.newspaperdelivery.DeliveryMapActivity.onCreate(DeliveryMapActivity.java:69)\n    at android.app.Activity.performCreate(Activity.java:6662)\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1118)\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2599)\n2023-06-09 12:11:26.705 29598-29598 AndroidRuntime          com.example.newspaperdelivery        E      at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2707)\n    at android.app.ActivityThread.-wrap12(ActivityThread.java)\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1460)\n    at android.os.Handler.dispatchMessage(Handler.java:102)\n    at android.os.Looper.loop(Looper.java:154)\n    at android.app.ActivityThread.main(ActivityThread.java:6077)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:866)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:756)\n</code></pre>\n"},{"tags":["java","bash","shell"],"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1686242844,"post_id":76433994,"comment_id":134775619,"body_markdown":"Have you checked args with `System.out.println(args[0]);` ?","body":"Have you checked args with <code>System.out.println(args[0]);</code> ?"},{"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"score":2,"creation_date":1686243279,"post_id":76433994,"comment_id":134775719,"body_markdown":"do those input lines have windows/dos line endings (`\\r\\n`)? the error message a) references the last number in the line (`6228865`) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with `java` so making a guess at this point ...) I&#39;m wondering if a trailing `\\r` would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (`bash` command): `typeset -p output`?","body":"do those input lines have windows/dos line endings (<code>\\r\\n</code>)? the error message a) references the last number in the line (<code>6228865</code>) and b) appears to be missing the trailing double quote; (NOTE: I don&#39;t work with <code>java</code> so making a guess at this point ...) I&#39;m wondering if a trailing <code>\\r</code> would cause the trailing double quote to show up at the front of the string (ie, overprint the leading double quote)?  what is the output from running (<code>bash</code> command): <code>typeset -p output</code>?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686243505,"post_id":76433994,"comment_id":134775767,"body_markdown":"Note: An easier way to omit the first line is with `sed 1d`. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of `String::trim` would likely fix it.","body":"Note: An easier way to omit the first line is with <code>sed 1d</code>. I agree that there is probably undesired whitespace that is causing problems. Printing the string length would help identify it as would printing the code points in hex, and a judicious use of <code>String::trim</code> would likely fix it."},{"owner":{"account_id":5425221,"reputation":32160,"user_id":7366100,"display_name":"markp-fuso"},"score":1,"creation_date":1686243745,"post_id":76433994,"comment_id":134775813,"body_markdown":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a `\\r` at the end of the line (ie, end of the 2nd number)","body":"ah, yeah, the trailing double quote is actually at the start of the line (see lambda-larry&#39;s answer) ... definitely an issue with a <code>\\r</code> at the end of the line (ie, end of the 2nd number)"},{"owner":{"account_id":9378,"reputation":14558,"user_id":17300,"display_name":"Stephen P"},"score":1,"creation_date":1686245556,"post_id":76433994,"comment_id":134776150,"body_markdown":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - `sed` and `awk` immediately come to mind... for example `echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s/,/\\r\\n/g&#39;`","body":"You can eliminate your second Java program and use other unix tools to split the output onto separate lines as another step in the pipeline - <code>sed</code> and <code>awk</code> immediately come to mind... for example <code>echo &quot;$output&quot; | head -2 | tail -1 | sed &#39;s&#47;,&#47;\\r\\n&#47;g&#39;</code>"},{"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"score":0,"creation_date":1686364385,"post_id":76433994,"comment_id":134792770,"body_markdown":"Thank you, I already checked the args[0] and printed without additional either `\\r`or `\\n`. I believe those characters exists in my args. And solved by using `trim()`.","body":"Thank you, I already checked the args[0] and printed without additional either <code>\\r</code>or <code>\\n</code>. I believe those characters exists in my args. And solved by using <code>trim()</code>."}],"answers":[{"comments":[{"owner":{"account_id":5998820,"reputation":12676,"user_id":4712734,"display_name":"DuncG"},"score":2,"creation_date":1686243190,"post_id":76434089,"comment_id":134775696,"body_markdown":"Could also try `echo $output | od -xc`","body":"Could also try <code>echo $output | od -xc</code>"}],"tags":[],"owner":{"account_id":28551451,"reputation":343,"user_id":21856268,"display_name":"lambda-larry"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686252634,"creation_date":1686242934,"answer_id":76434089,"question_id":76433994,"body_markdown":"I suspect that there is a `\\r` at the end of the last argument, which explains why `Exception` is spelled `&quot;xception`.\r\n\r\nYou can confirm that it is the case by pipe the output to a hex dump.\r\n\r\n```\r\njava -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\r\n```\r\n\r\n\r\nYou can trim the `\\r` of with `tr -d &#39;\\r&#39;` in the bash part or strip the argument in the Java part.\r\n\r\n```java\r\nString[] values = args[0].strip().split(&quot;,&quot;);\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>I suspect that there is a <code>\\r</code> at the end of the last argument, which explains why <code>Exception</code> is spelled <code>&quot;xception</code>.</p>\n<p>You can confirm that it is the case by pipe the output to a hex dump.</p>\n<pre><code>java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1 | xxd\n</code></pre>\n<p>You can trim the <code>\\r</code> of with <code>tr -d '\\r'</code> in the bash part or strip the argument in the Java part.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String[] values = args[0].strip().split(&quot;,&quot;);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"score":0,"creation_date":1686364443,"post_id":76434960,"comment_id":134792775,"body_markdown":"Thanks! It worked by using `.trim()` I didn&#39;t think of that.","body":"Thanks! It worked by using <code>.trim()</code> I didn&#39;t think of that."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686367616,"post_id":76434960,"comment_id":134792921,"body_markdown":"Sure thing, glad it helped.","body":"Sure thing, glad it helped."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686250959,"creation_date":1686250959,"answer_id":76434960,"question_id":76433994,"body_markdown":"If there is a _[non-printing character](https://en.wikipedia.org/wiki/Control_character)_ there, typically the _[String#strip](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip())_ method will remove it.  \r\n_[String#trim](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim())_ may work, also.\r\n\r\nTry the following.\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    String[] values = args[0].split(&quot;,&quot;);\r\n\r\n    System.out.println(Integer.parseInt(values[0].strip()));\r\n    System.out.println(Integer.parseInt(values[1].strip()));\r\n}\r\n```","title":"Bash script command output error when splitting up and convert to int","body":"<p>If there is a <em><a href=\"https://en.wikipedia.org/wiki/Control_character\" rel=\"nofollow noreferrer\">non-printing character</a></em> there, typically the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#strip()\" rel=\"nofollow noreferrer\">String#strip</a></em> method will remove it.<br />\n<em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#trim()\" rel=\"nofollow noreferrer\">String#trim</a></em> may work, also.</p>\n<p>Try the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    String[] values = args[0].split(&quot;,&quot;);\n\n    System.out.println(Integer.parseInt(values[0].strip()));\n    System.out.println(Integer.parseInt(values[1].strip()));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686296940,"creation_date":1686296940,"answer_id":76438242,"question_id":76433994,"body_markdown":"Since you mentioned that your `bundletool.jar` produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a\r\n\r\n    nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , &#39;{print $1, $2}&#39;) )\r\n\r\nYou then have the first number in `${nums[0]}` and the second one in `${nums[1]}`\r\n\r\n","title":"Bash script command output error when splitting up and convert to int","body":"<p>Since you mentioned that your <code>bundletool.jar</code> produces a carriage return as line ending, I would (if you can not change the Java program to produce reasonable line endings) simply do a</p>\n<pre><code>nums=( $(java .... bundletool.jar ... |dos2unix|awk -F , '{print $1, $2}') )\n</code></pre>\n<p>You then have the first number in <code>${nums[0]}</code> and the second one in <code>${nums[1]}</code></p>\n"}],"owner":{"account_id":2176550,"reputation":1686,"user_id":1956906,"accept_rate":40,"display_name":"fanjavaid"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1686364485,"accepted_answer_id":76434960,"answer_count":3,"score":-2,"last_activity_date":1686296940,"creation_date":1686242166,"question_id":76433994,"body_markdown":"I create a bash script to read the output from another command (`java -jar ...`).\r\n\r\nThe result from the command is like below:\r\n```txt\r\nMIN,MAX\r\n6165350,6228865\r\n```\r\n\r\nI omit the first line using `head -2 | tail -1` so the output will become\r\n```txt\r\n6165350,6228865\r\n```\r\n\r\nAnd i save it to the variable called `output`\r\n```sh\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\n```\r\n\r\nLast, I create java file to split the output results\r\n```java\r\nimport java.util.*;\r\n\r\npublic class Demo {\r\n    public static void main(String[] args) {\r\n        String[] values = args[0].split(&quot;,&quot;);\r\n\r\n        System.out.println(Integer.parseInt(values[0]));\r\n        System.out.println(Integer.parseInt(values[1]));\r\n    }\r\n}\r\n```\r\n\r\nAnd below is the final bash script\r\n```sh\r\n#!bin/bash\r\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\r\njava Demo $output\r\n```\r\n\r\nWhen i run the bash, why i&#39;m getting the error\r\n```txt\r\n6165350\r\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\r\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\r\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\r\n        at Demo.main(Demo.java:8)\r\n```\r\n\r\nI get the correct results when i try to change the `output`\r\n```\r\noutput=&quot;6165350,6228865&quot;\r\n```\r\n\r\nThank you","title":"Bash script command output error when splitting up and convert to int","body":"<p>I create a bash script to read the output from another command (<code>java -jar ...</code>).</p>\n<p>The result from the command is like below:</p>\n<pre><code>MIN,MAX\n6165350,6228865\n</code></pre>\n<p>I omit the first line using <code>head -2 | tail -1</code> so the output will become</p>\n<pre><code>6165350,6228865\n</code></pre>\n<p>And i save it to the variable called <code>output</code></p>\n<pre class=\"lang-bash prettyprint-override\"><code>output=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\n</code></pre>\n<p>Last, I create java file to split the output results</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.*;\n\npublic class Demo {\n    public static void main(String[] args) {\n        String[] values = args[0].split(&quot;,&quot;);\n\n        System.out.println(Integer.parseInt(values[0]));\n        System.out.println(Integer.parseInt(values[1]));\n    }\n}\n</code></pre>\n<p>And below is the final bash script</p>\n<pre class=\"lang-bash prettyprint-override\"><code>#!bin/bash\noutput=$(java -jar bundletool.jar get-size total --apks=$APKS_PATH | head -2 | tail -1)\njava Demo $output\n</code></pre>\n<p>When i run the bash, why i'm getting the error</p>\n<pre><code>6165350\n&quot;xception in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;6228865\n        at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)\n        at java.base/java.lang.Integer.parseInt(Integer.java:652)\n        at java.base/java.lang.Integer.parseInt(Integer.java:770)\n        at Demo.main(Demo.java:8)\n</code></pre>\n<p>I get the correct results when i try to change the <code>output</code></p>\n<pre><code>output=&quot;6165350,6228865&quot;\n</code></pre>\n<p>Thank you</p>\n"},{"tags":["java","api","sonarqube","metrics","sonarqube-scan"],"owner":{"account_id":28785840,"reputation":1,"user_id":22046321,"display_name":"irfan basha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686296611,"creation_date":1686296611,"question_id":76438210,"body_markdown":"Needed Sonar API to get the metrics from last analysed branch \r\n\r\nI am fetching the sonar metrics using this api call. https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\r\n\r\nThis gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.","title":"Sonar API Metrics","body":"<p>Needed Sonar API to get the metrics from last analysed branch</p>\n<p>I am fetching the sonar metrics using this api call. <a href=\"https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage\" rel=\"nofollow noreferrer\">https://hostname.com/api/measures/component?component=projectkey&amp;metricKeys=coverage,new_coverage</a></p>\n<p>This gives me the coverage and new code coverage from the branch configured as main branch in the sonar. But I want the metrics from the branch which is last analysed branch. and I need this without specifying the branch names in the api call and I want it to fetch automatically from the latest analysed branch Can anyone help please.</p>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"score":0,"creation_date":1686244645,"post_id":76433481,"comment_id":134775986,"body_markdown":"How did you install the CLI? What&#39;s the output of `java -version` on your box?","body":"How did you install the CLI? What&#39;s the output of <code>java -version</code> on your box?"},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686246641,"post_id":76433481,"comment_id":134776368,"body_markdown":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus.","body":"The CLI was installed using homebrew. Java version is openjdk version &quot;17.0.7&quot; 2023-04-18. I also upgrade the CLI using brew upgrade quarkus."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686247324,"post_id":76433481,"comment_id":134776519,"body_markdown":"Could you try `mvn quarkus:dev` w/o `compile`, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks.","body":"Could you try <code>mvn quarkus:dev</code> w/o <code>compile</code>, it&#39;ll probably fail in the same way as the CLI. But would be good to confirm. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686250290,"post_id":76433481,"comment_id":134777038,"body_markdown":"No, this does not fail like the CLI. It starts up Dev mode as expected.","body":"No, this does not fail like the CLI. It starts up Dev mode as expected."},{"owner":{"account_id":15842985,"reputation":308,"user_id":11430945,"display_name":"Alexey Loubyansky"},"score":0,"creation_date":1686254855,"post_id":76433481,"comment_id":134777779,"body_markdown":"Thanks for checking. Do you have `mvnw` in the project? Could you check whether using `mvnw` vs `mvn` makes a difference? The CLI would prefer `mvnw` if it exists. Thanks.","body":"Thanks for checking. Do you have <code>mvnw</code> in the project? Could you check whether using <code>mvnw</code> vs <code>mvn</code> makes a difference? The CLI would prefer <code>mvnw</code> if it exists. Thanks."},{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686400141,"post_id":76433481,"comment_id":134795250,"body_markdown":"With `mvnw` the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose.","body":"With <code>mvnw</code> the same problem occurs. It must be my local Java or Maven configuration and not related to Quarkus I suppose."}],"answers":[{"comments":[{"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"score":0,"creation_date":1686400473,"post_id":76438187,"comment_id":134795285,"body_markdown":"Based on this I found that the JAVA_HOME variable is wrongly set. I use `jenv` which apparently was configured incorrectly. I found that there was a plugin to manage it better: https://stackoverflow.com/a/36238219/878523 .\nThis made the JAVA_HOME variable to be configured correctly and the CLI commands are working again. Thanks a lot.","body":"Based on this I found that the JAVA_HOME variable is wrongly set. I use <code>jenv</code> which apparently was configured incorrectly. I found that there was a plugin to manage it better: <a href=\"https://stackoverflow.com/a/36238219/878523\">stackoverflow.com/a/36238219/878523</a> . This made the JAVA_HOME variable to be configured correctly and the CLI commands are working again. Thanks a lot."}],"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686296476,"creation_date":1686296476,"answer_id":76438187,"question_id":76433481,"body_markdown":"The CLI Homebrew packaging is using the following script to determine the `java` binary that will be executed:\r\n\r\n```bash\r\n# OS specific support.  $var _must_ be set to either true or false.\r\ncygwin=false;\r\ndarwin=false;\r\ncase &quot;`uname`&quot; in\r\n  CYGWIN*) cygwin=true ;;\r\n  Darwin*) darwin=true\r\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\r\n             JAVA_VERSION=&quot;CurrentJDK&quot;\r\n           else\r\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\r\n           fi\r\n\t\t   if [ -z &quot;$JAVA_HOME&quot; ]; then\r\n\t\t      if [ -x &quot;/usr/libexec/java_home&quot; ]; then\r\n\t\t\t      JAVA_HOME=`/usr/libexec/java_home`\r\n\t\t\t  else\r\n\t\t\t      JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\r\n\t\t\t  fi\r\n           fi       \r\n           ;;\r\nesac\r\n\r\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\r\n  if [ -r /etc/gentoo-release ] ; then\r\n    JAVA_HOME=`java-config --jre-home`\r\n  fi\r\nfi\r\n\r\n# For Cygwin, ensure paths are in UNIX format before anything is touched\r\nif $cygwin ; then\r\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\r\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\r\nfi\r\n\r\n# If a specific java binary isn&#39;t specified search for the standard &#39;java&#39; binary\r\nif [ -z &quot;$JAVACMD&quot; ] ; then\r\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\r\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\r\n      # IBM&#39;s JDK on AIX uses strange locations for the executables\r\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\r\n    else\r\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\r\n    fi\r\n  else\r\n    JAVACMD=`which java`\r\n  fi\r\nfi\r\n```\r\n\r\nIf you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the `java` from your `$PATH` than Maven is using.\r\n\r\nIt&#39;s very environment-dependent so it&#39;s hard to help more without having the environment at hand.","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>The CLI Homebrew packaging is using the following script to determine the <code>java</code> binary that will be executed:</p>\n<pre class=\"lang-bash prettyprint-override\"><code># OS specific support.  $var _must_ be set to either true or false.\ncygwin=false;\ndarwin=false;\ncase &quot;`uname`&quot; in\n  CYGWIN*) cygwin=true ;;\n  Darwin*) darwin=true\n           if [ -z &quot;$JAVA_VERSION&quot; ] ; then\n             JAVA_VERSION=&quot;CurrentJDK&quot;\n           else\n             echo &quot;Using Java version: $JAVA_VERSION&quot;\n           fi\n           if [ -z &quot;$JAVA_HOME&quot; ]; then\n              if [ -x &quot;/usr/libexec/java_home&quot; ]; then\n                  JAVA_HOME=`/usr/libexec/java_home`\n              else\n                  JAVA_HOME=/System/Library/Frameworks/JavaVM.framework/Versions/${JAVA_VERSION}/Home\n              fi\n           fi       \n           ;;\nesac\n\nif [ -z &quot;$JAVA_HOME&quot; ] ; then\n  if [ -r /etc/gentoo-release ] ; then\n    JAVA_HOME=`java-config --jre-home`\n  fi\nfi\n\n# For Cygwin, ensure paths are in UNIX format before anything is touched\nif $cygwin ; then\n  [ -n &quot;$JAVA_HOME&quot; ] &amp;&amp; JAVA_HOME=`cygpath --unix &quot;$JAVA_HOME&quot;`\n  [ -n &quot;$CLASSPATH&quot; ] &amp;&amp; CLASSPATH=`cygpath --path --unix &quot;$CLASSPATH&quot;`\nfi\n\n# If a specific java binary isn't specified search for the standard 'java' binary\nif [ -z &quot;$JAVACMD&quot; ] ; then\n  if [ -n &quot;$JAVA_HOME&quot;  ] ; then\n    if [ -x &quot;$JAVA_HOME/jre/sh/java&quot; ] ; then\n      # IBM's JDK on AIX uses strange locations for the executables\n      JAVACMD=&quot;$JAVA_HOME/jre/sh/java&quot;\n    else\n      JAVACMD=&quot;$JAVA_HOME/bin/java&quot;\n    fi\n  else\n    JAVACMD=`which java`\n  fi\nfi\n</code></pre>\n<p>If you go through it with your OS in mind and checking the various paths, I think you should have your answer as to why the CLI is using a different JDK than the <code>java</code> from your <code>$PATH</code> than Maven is using.</p>\n<p>It's very environment-dependent so it's hard to help more without having the environment at hand.</p>\n"}],"owner":{"account_id":471010,"reputation":643,"user_id":878523,"accept_rate":62,"display_name":"Rick Slinkman"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76438187,"answer_count":1,"score":1,"last_activity_date":1686296476,"creation_date":1686238230,"question_id":76433481,"body_markdown":"In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.   \r\nNormally I use the Quarkus CLI and execute `quarkus dev` or `quarkus test` while developing.   \r\n\r\nAfter upgrading I noticed that these commands no longer work and give the following error:    \r\n```\r\nException in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\r\n\tat io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\r\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\r\n\tat io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:398)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\r\n\tat java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\r\n\tat java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\r\n\tat java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\r\n\tat io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\r\n\tat io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\r\n\tat io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\r\n```\r\n\r\nIt seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).    \r\nI have verified my configuration using `mvn clean verify`, `mvn compile quarkus:dev` and `mvn compile quarkus:test` which all build successfully.    \r\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.   \r\nThe application runs in a Java 17 based Docker container without any problems.   \r\nThe problem here is that Quarkus CLI seems to choose a different Java version.   \r\n\r\nWhat is the reason Quarkus CLI choses Java 11 instead of Java 17?   \r\nHow can I configure Quarkus CLI to use the same Java version as Maven?   \r\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?    ","title":"Quarkus CLI picks wrong Java version for dev mode","body":"<p>In my Quarkus 3.1.1.Final application I am using Java 17, which is configured in the POM file.<br />\nNormally I use the Quarkus CLI and execute <code>quarkus dev</code> or <code>quarkus test</code> while developing.</p>\n<p>After upgrading I noticed that these commands no longer work and give the following error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.RuntimeException: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:137)\n    at io.quarkus.deployment.dev.DevModeMain.main(DevModeMain.java:62)\nCaused by: java.lang.UnsupportedClassVersionError: org/apache/camel/quarkus/core/devmode/CamelHotReplacementSetup has been compiled by a more recent version of the Java Runtime (class file version 61.0), this version of the Java Runtime only recognizes class file versions up to 55.0\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:506)\n    at io.quarkus.bootstrap.classloading.QuarkusClassLoader.loadClass(QuarkusClassLoader.java:466)\n    at java.base/java.lang.Class.forName0(Native Method)\n    at java.base/java.lang.Class.forName(Class.java:398)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.nextProviderClass(ServiceLoader.java:1210)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNextService(ServiceLoader.java:1221)\n    at java.base/java.util.ServiceLoader$LazyClassPathLookupIterator.hasNext(ServiceLoader.java:1265)\n    at java.base/java.util.ServiceLoader$2.hasNext(ServiceLoader.java:1300)\n    at java.base/java.util.ServiceLoader$3.hasNext(ServiceLoader.java:1385)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.setupRuntimeCompilation(IsolatedTestModeMain.java:73)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:123)\n    at io.quarkus.deployment.dev.IsolatedTestModeMain.accept(IsolatedTestModeMain.java:34)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInCl(CuratedApplication.java:138)\n    at io.quarkus.bootstrap.app.CuratedApplication.runInAugmentClassLoader(CuratedApplication.java:93)\n    at io.quarkus.deployment.dev.DevModeMain.start(DevModeMain.java:131)\n</code></pre>\n<p>It seems that the Quarkus CLI uses Java 11 (55.0) for its execution, even though I have configured Java 17 (61.0).<br />\nI have verified my configuration using <code>mvn clean verify</code>, <code>mvn compile quarkus:dev</code> and <code>mvn compile quarkus:test</code> which all build successfully.<br />\nAlso in IntelliJ I am able to run all tests or individual tests successfully using Java 17.<br />\nThe application runs in a Java 17 based Docker container without any problems.<br />\nThe problem here is that Quarkus CLI seems to choose a different Java version.</p>\n<p>What is the reason Quarkus CLI choses Java 11 instead of Java 17?<br />\nHow can I configure Quarkus CLI to use the same Java version as Maven?<br />\nIs there anything to learn about the difference between the Maven commands and Quarkus CLI?</p>\n"},{"tags":["java","android","svg"],"answers":[{"comments":[{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":2,"creation_date":1289368297,"post_id":4141570,"comment_id":4466862,"body_markdown":"Batik is pure java and open source. If it&#39;s not supported natively on the Android platform, you might try compiling it from source and bundling it with your project.","body":"Batik is pure java and open source. If it&#39;s not supported natively on the Android platform, you might try compiling it from source and bundling it with your project."},{"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"score":0,"creation_date":1289371439,"post_id":4141570,"comment_id":4467209,"body_markdown":"You probably will need some files from Batik. Android doesn&#39;t use java class files so you&#39;ll probably have to compile the java source for Batik to native Android dex files for them to be useful. It may be a lot of files too.","body":"You probably will need some files from Batik. Android doesn&#39;t use java class files so you&#39;ll probably have to compile the java source for Batik to native Android dex files for them to be useful. It may be a lot of files too."}],"tags":[],"owner":{"account_id":55539,"reputation":160139,"user_id":166339,"display_name":"Asaph"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1686295959,"creation_date":1289367825,"answer_id":4141570,"question_id":4141544,"body_markdown":"Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See [this answer][3] and [this post][4] for details.\r\n\r\nBatik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won&#39;t work out-of-the-box on Android.\r\n\r\n\r\n  [3]: https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\r\n  [4]: https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\r\n","title":"svg files rendering in android","body":"<p>Getting Batik to run on Android would involve a significant porting effort. There are easier ways to work with SVG on Android. See <a href=\"https://stackoverflow.com/questions/4517388/svg-processing-under-java-on-android-and-desktop/4644781#4644781\">this answer</a> and <a href=\"https://www.codeproject.com/Articles/130791/Android-ImageView-with-SVG-Support\" rel=\"nofollow noreferrer\">this post</a> for details.</p>\n<p>Batik uses Java2D to render SVG. Android does not support Java2D, and has its own custom graphics API instead. Batik likely won't work out-of-the-box on Android.</p>\n"},{"comments":[{"owner":{"account_id":352210,"reputation":2900,"user_id":689152,"accept_rate":57,"display_name":"dsdsdsdsd"},"score":0,"creation_date":1461334140,"post_id":7421159,"comment_id":61166437,"body_markdown":"I think this answer is referring to browser-based apps on android, as opposed to native-apps on android ?","body":"I think this answer is referring to browser-based apps on android, as opposed to native-apps on android ?"}],"tags":[],"owner":{"account_id":152374,"reputation":12714,"user_id":366856,"accept_rate":69,"display_name":"jbeard4"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1316024829,"creation_date":1316024829,"answer_id":7421159,"question_id":4141544,"body_markdown":"If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.\r\n\r\nAlternatively, if you do not require support for scripting or animation, you try using this library: http://code.google.com/p/svg-android/","title":"svg files rendering in android","body":"<p>If you can afford to only support Android versions greater than 3, then you could use a Webkit instance to render SVG, as the Android Webkit browser finally has SVG support compiled in.</p>\n\n<p>Alternatively, if you do not require support for scripting or animation, you try using this library: <a href=\"http://code.google.com/p/svg-android/\" rel=\"nofollow\">http://code.google.com/p/svg-android/</a></p>\n"},{"tags":[],"owner":{"account_id":1354077,"reputation":98666,"user_id":1292848,"accept_rate":50,"display_name":"Paul LeBeau"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359982476,"creation_date":1359982476,"answer_id":14687238,"question_id":4141544,"body_markdown":"Another alternative is AndroidSVG (http://code.google.com/p/androidsvg/).\r\n","title":"svg files rendering in android","body":"<p>Another alternative is AndroidSVG (<a href=\"http://code.google.com/p/androidsvg/\" rel=\"nofollow\">http://code.google.com/p/androidsvg/</a>).</p>\n"}],"owner":{"account_id":229944,"reputation":909,"user_id":493244,"accept_rate":47,"display_name":"user493244"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9123,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":4141570,"answer_count":3,"score":5,"last_activity_date":1686295959,"creation_date":1289367544,"question_id":4141544,"body_markdown":"I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I&#39;m getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?","title":"svg files rendering in android","body":"<p>I wrote a program in Android for setting different kinds of images as my background image, but it is not working with svg files. I am not getting any errors, it is not displaying any image and I'm getting a blank screen in my emulator when using svg files. Can any one suggest how to read and display svg files in Android with some code? Or should I convert xml code?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1686245051,"post_id":76434242,"comment_id":134776064,"body_markdown":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. `Objects::requireNonNull`.","body":"Is there some reason the pojo needs to allow nulls? It would be easier to forbid them when the record is created with e.g. <code>Objects::requireNonNull</code>."}],"answers":[{"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1686245342,"creation_date":1686245342,"answer_id":76434329,"question_id":76434242,"body_markdown":"You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:\r\n```java\r\nprivate static String question(final MyPojo mypojo) {\r\n    return Optional.ofNullable(mypojo)\r\n              .map(MyPojo::someField)\r\n              .map(String::toLowerCase)\r\n              .orElse(null);\r\n}\r\n```","title":"Use Java Optional to refactor null check","body":"<p>You can chain your optional with .map() calls, the advantage of this approach is that it chains the operations together in a readable way and eliminates the need for explicit null checks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static String question(final MyPojo mypojo) {\n    return Optional.ofNullable(mypojo)\n              .map(MyPojo::someField)\n              .map(String::toLowerCase)\n              .orElse(null);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16400961,"reputation":814,"user_id":11846953,"display_name":"John Bayko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686246813,"creation_date":1686246813,"answer_id":76434513,"question_id":76434242,"body_markdown":"The old fashioned way is with the `? :` operators:\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        return (null == mypojo) ? null\r\n            : (null == mypojo.someField()) ? null\r\n            : mypojo.someField().toLowerCase();\r\n    }\r\n```","title":"Use Java Optional to refactor null check","body":"<p>The old fashioned way is with the <code>? :</code> operators:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        return (null == mypojo) ? null\n            : (null == mypojo.someField()) ? null\n            : mypojo.someField().toLowerCase();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1692034,"reputation":3196,"user_id":1554195,"display_name":"tquadrat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686295908,"creation_date":1686247476,"answer_id":76434581,"question_id":76434242,"body_markdown":"First change the record:\r\n```\r\npublic record MyPojo( String someField, String someOtherField )\r\n{\r\n    public MyPojo\r\n    {\r\n        Objects.requireNonNull( someField );\r\n        Objects.requireNonNull( someOtherField );\r\n    }\r\n}\r\n```\r\nThis ensures that the attributes are never `null`.\r\n\r\nThen `question()` can look like this:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().toLowerCase() \r\n        : null;\r\n}\r\n```\r\n\r\nIf `null` should be allowed and you insist to use `Optional`, you need to modify the Pojo like this:\r\n```\r\npublic final class MyPojo\r\n{\r\n    private final String m_SomeField;\r\n    private final String m_SomeOtherField;\r\n    public MyPojo( String someField, String someOtherField )\r\n    {\r\n        m_SomeField = someField;\r\n        m_SomeOtherField = someOtherField;\r\n    }\r\n\r\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\r\n    …\r\n}\r\n```\r\n\r\n`question()` would look like this afterwards:\r\n```Java\r\nprivate static String question( final MyPojo mypojo ) \r\n{\r\n    return Objects.nonNull( myPojo ) \r\n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \r\n        : null;\r\n}\r\n```\r\nThe approach suggested in [this answer][1] works, but it is strongly discouraged to abuse `Optional` in this way as a replacement for `if-then-else` or `?-:`. See [here][2] as one reference:\r\n\r\n&gt; Another mistake is misusing `Optional` and treating it as a replacement  for conditional statements. Although `Optional` provides convenient methods like `orElse()` and `orElseGet()` to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that `Optional` is not intended to replace traditional `if-else` statements. Instead, it should be used when the absence of a value is a valid and expected outcome.\r\n&gt;\r\n&gt; […]\r\n&gt; \r\n&gt; […] Adhering to best practices such as preferring `Optional` as a method return type […] will enhance the readability and maintainability of your code.\r\n\r\n  [1]: https://stackoverflow.com/a/76434329/1554195\r\n  [2]: https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=","title":"Use Java Optional to refactor null check","body":"<p>First change the record:</p>\n<pre><code>public record MyPojo( String someField, String someOtherField )\n{\n    public MyPojo\n    {\n        Objects.requireNonNull( someField );\n        Objects.requireNonNull( someOtherField );\n    }\n}\n</code></pre>\n<p>This ensures that the attributes are never <code>null</code>.</p>\n<p>Then <code>question()</code> can look like this:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().toLowerCase() \n        : null;\n}\n</code></pre>\n<p>If <code>null</code> should be allowed and you insist to use <code>Optional</code>, you need to modify the Pojo like this:</p>\n<pre><code>public final class MyPojo\n{\n    private final String m_SomeField;\n    private final String m_SomeOtherField;\n    public MyPojo( String someField, String someOtherField )\n    {\n        m_SomeField = someField;\n        m_SomeOtherField = someOtherField;\n    }\n\n    public final Optional&lt;String&gt; someField() {return Optional.ofNullable( m_SomeField ); }\n    …\n}\n</code></pre>\n<p><code>question()</code> would look like this afterwards:</p>\n<pre><code>private static String question( final MyPojo mypojo ) \n{\n    return Objects.nonNull( myPojo ) \n        ? myPojo.someField().map( String::toLowerCase() ).orElse( null ) \n        : null;\n}\n</code></pre>\n<p>The approach suggested in <a href=\"https://stackoverflow.com/a/76434329/1554195\">this answer</a> works, but it is strongly discouraged to abuse <code>Optional</code> in this way as a replacement for <code>if-then-else</code> or <code>?-:</code>. See <a href=\"https://dzone.com/articles/avoiding-pitfalls-with-java-optional-common-mistak?edition=816391&amp;utm_campaign=&amp;utm_content=Avoiding%20pitfalls%20with%20Java%20Optional&amp;utm_medium=email&amp;utm_source=dzone&amp;utm_term=\" rel=\"nofollow noreferrer\">here</a> as one reference:</p>\n<blockquote>\n<p>Another mistake is misusing <code>Optional</code> and treating it as a replacement  for conditional statements. Although <code>Optional</code> provides convenient methods like <code>orElse()</code> and <code>orElseGet()</code> to handle the absence of a value, using them excessively can lead to less readable code. It is important to remember that <code>Optional</code> is not intended to replace traditional <code>if-else</code> statements. Instead, it should be used when the absence of a value is a valid and expected outcome.</p>\n<p>[…]</p>\n<p>[…] Adhering to best practices such as preferring <code>Optional</code> as a method return type […] will enhance the readability and maintainability of your code.</p>\n</blockquote>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76434329,"answer_count":3,"score":0,"last_activity_date":1686295908,"creation_date":1686244347,"question_id":76434242,"body_markdown":"What I am trying to achieve:\r\n\r\nUse Java Optional to refactor null check.\r\n\r\nBackground:\r\n\r\nI have a straightforward POJO class:\r\n\r\n```\r\npublic record MyPojo(String someField, String someOtherField)\r\n```\r\n\r\nAnd this method:\r\n\r\n```\r\n    private static String question(final MyPojo mypojo) {\r\n        if (null == mypojo) {\r\n            return null;\r\n        } else if (null == mypojo.someField()) {\r\n            return null;\r\n        } else {\r\n            return mypojo.someField().toLowerCase();\r\n        }\r\n    }\r\n```\r\n\r\nIssue:\r\n\r\nAs you can see, while super easy to understand, this code is very verbose and lengthy.\r\nMyPojo can be bull, and so can MyPojo.someField.\r\nI need to check those two preconditions before applying my business logic (here lower case just for example)\r\n\r\nQuestion:\r\n\r\nIs there a smarter way, either using Optional, or something smarter, to refactor this?\r\n","title":"Use Java Optional to refactor null check","body":"<p>What I am trying to achieve:</p>\n<p>Use Java Optional to refactor null check.</p>\n<p>Background:</p>\n<p>I have a straightforward POJO class:</p>\n<pre><code>public record MyPojo(String someField, String someOtherField)\n</code></pre>\n<p>And this method:</p>\n<pre><code>    private static String question(final MyPojo mypojo) {\n        if (null == mypojo) {\n            return null;\n        } else if (null == mypojo.someField()) {\n            return null;\n        } else {\n            return mypojo.someField().toLowerCase();\n        }\n    }\n</code></pre>\n<p>Issue:</p>\n<p>As you can see, while super easy to understand, this code is very verbose and lengthy.\nMyPojo can be bull, and so can MyPojo.someField.\nI need to check those two preconditions before applying my business logic (here lower case just for example)</p>\n<p>Question:</p>\n<p>Is there a smarter way, either using Optional, or something smarter, to refactor this?</p>\n"},{"tags":["java","spring","spring-boot","algorithm"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1686295620,"post_id":76438047,"comment_id":134782071,"body_markdown":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests.","body":"idk about adding routes dynamically (shuld be totally possible on route matching level) but you can always have wildcard route like @GetMapping(/myApi/*) and do the routing yourself for incoming requests."},{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1686295791,"post_id":76438047,"comment_id":134782098,"body_markdown":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters.","body":"Have you considered Spring Cloud Gateway as a solution? Its main purpose is routing to multiple microservices and your validation logic can be implemented in the form of filters."},{"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"score":0,"creation_date":1686296981,"post_id":76438047,"comment_id":134782295,"body_markdown":"@birca123 No I need to read about it. Thanks for the suggestion.","body":"@birca123 No I need to read about it. Thanks for the suggestion."},{"owner":{"account_id":8136328,"reputation":1561,"user_id":6127820,"accept_rate":33,"display_name":"Vaibs"},"score":0,"creation_date":1686304222,"post_id":76438047,"comment_id":134783649,"body_markdown":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway.","body":"Maybe you can think of some of the gateways in this? You can write your own or use the spring cloud gateway."}],"owner":{"account_id":13870783,"reputation":351,"user_id":10013975,"display_name":"Mukul Bindal"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686295191,"creation_date":1686295191,"question_id":76438047,"body_markdown":"I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration. \r\n\r\nIs there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?","title":"Dynamically adding the endpoints in Spring Controller","body":"<p>I have an application which has two layers of service code in Spring. UI sends request to controller-A and controller-A sends request to multiple microservices in Spring boot. This is implemented in this way to do some basic validation before sending the request to the actual microservices and for some security purpose. Now since the application is growing, I am facing one issue that for every new end point, I need to add that to my controller-A application so that UI can use it. I want to reduce this effort and want to store the end point in Database or some static configuration.</p>\n<p>Is there any way to do it in Spring boot so that a single controller method can take all the requests and divert it to the correct microservice based on some static configuration?</p>\n"},{"tags":["java","ssl","postman","okhttp","client-certificates"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1686297209,"post_id":76438038,"comment_id":134782332,"body_markdown":"Most likely the server is misconfigured and does not send the complete certificate chain (which is supposed to do except for the root CA cert). If the server is public you can test it using https://www.ssllabs.com/ssltest/ for certificate chain and other problems.","body":"Most likely the server is misconfigured and does not send the complete certificate chain (which is supposed to do except for the root CA cert). If the server is public you can test it using <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">ssllabs.com/ssltest</a> for certificate chain and other problems."},{"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"score":0,"creation_date":1686301369,"post_id":76438038,"comment_id":134783098,"body_markdown":"@Robert But it was successful in postman","body":"@Robert But it was successful in postman"},{"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"score":0,"creation_date":1686302468,"post_id":76438038,"comment_id":134783283,"body_markdown":"@Robert and also there are no problems in ssltest","body":"@Robert and also there are no problems in ssltest"},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1686309047,"post_id":76438038,"comment_id":134784482,"body_markdown":"**client != server:** The **cert&amp;key configured in postman** authenticate the _client_ (aka mutual auth), which **corresponds to KeyManager in JSSE**; this client cert CANNOT be used to validate the server, which corresponds to TrustManager in JSSE or okhttp3, and if ssllabs approves of the server cert it&#39;s using a &#39;normal&#39; CA so **you need not and should not customize your TrustManager**.","body":"<b>client != server:</b> The <b>cert&amp;key configured in postman</b> authenticate the <i>client</i> (aka mutual auth), which <b>corresponds to KeyManager in JSSE</b>; this client cert CANNOT be used to validate the server, which corresponds to TrustManager in JSSE or okhttp3, and if ssllabs approves of the server cert it&#39;s using a &#39;normal&#39; CA so <b>you need not and should not customize your TrustManager</b>."}],"owner":{"account_id":6446456,"reputation":556,"user_id":4994813,"display_name":"kaushik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":379,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686295127,"creation_date":1686295127,"question_id":76438038,"body_markdown":"Postman request with certificate, key is working, But relevant code for Java - Okhttp client is failing \r\n\r\nAdding crt, key in the postman is working\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G3zeG.png\r\n\r\n\r\nRelevant code for Java \r\n```\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Request;\r\nimport okhttp3.Response;\r\nimport javax.net.ssl.SSLContext;\r\nimport javax.net.ssl.TrustManagerFactory;\r\nimport javax.net.ssl.X509TrustManager;\r\nimport java.io.File;\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.security.*;\r\nimport java.security.cert.*;\r\nimport java.security.spec.PKCS8EncodedKeySpec;\r\nimport java.util.Base64;\r\n\r\npublic class Main {\r\n\r\n  private static X509Certificate loadCertificateFromFile(File file)\r\n      throws CertificateException, IOException {\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n    X509Certificate certificate =\r\n        (X509Certificate) certificateFactory.generateCertificate(inputStream);\r\n    inputStream.close();\r\n    return certificate;\r\n  }\r\n\r\n  private static PrivateKey loadPrivateKeyFromFile(File file)\r\n      throws GeneralSecurityException, IOException {\r\n    FileInputStream inputStream = new FileInputStream(file);\r\n    byte[] keyBytes = new byte[inputStream.available()];\r\n    inputStream.read(keyBytes);\r\n    inputStream.close();\r\n    String keyBytesStr =\r\n        new String(keyBytes)\r\n            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;)\r\n            .replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\r\n            .replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\r\n\r\n    // Assuming the private key is in PKCS#8 format\r\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(keyBytesStr));\r\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\r\n    return keyFactory.generatePrivate(keySpec);\r\n  }\r\n\r\n  public static void main(String[] args) throws GeneralSecurityException, IOException {\r\n\r\n    File crtFile = new File(&quot;/oath/chain.crt&quot;);\r\n    File keyFile = new File(&quot;/path/private.key&quot;);\r\n    File serverFile = new File(&quot;/path/abc.com.pem&quot;);\r\n    X509Certificate certificate = loadCertificateFromFile(crtFile);\r\n    X509Certificate serverCertificate = loadCertificateFromFile(serverFile);\r\n    // Load the private key from KEY file\r\n    PrivateKey privateKey = loadPrivateKeyFromFile(keyFile);\r\n\r\n    // Load the certificate and private key into KeyStore\r\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\r\n    keyStore.load(null, null);\r\n    keyStore.setKeyEntry(&quot;alias&quot;, privateKey, null, new X509Certificate[] {certificate});\r\n    keyStore.setCertificateEntry(&quot;server&quot;, serverCertificate);\r\n\r\n    TrustManagerFactory trustManagerFactory =\r\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    trustManagerFactory.init(keyStore);\r\n\r\n    // Create SSLContext and configure it with KeyManager and TrustManager\r\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\r\n    sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\r\n\r\n    // Create OkHttpClient with the configured SSLContext\r\n    OkHttpClient client =\r\n        new OkHttpClient.Builder()\r\n            .sslSocketFactory(\r\n                sslContext.getSocketFactory(),\r\n                (X509TrustManager) trustManagerFactory.getTrustManagers()[0])\r\n            .build();\r\n\r\n    // Make a request using the OkHttpClient\r\n    Request request = new Request.Builder().url(&quot;&lt;URL&gt;&quot;).build();\r\n\r\n    try (Response response = client.newCall(request).execute()) {\r\n      // Process the response\r\n      System.out.println(response.code());\r\n      System.out.println(response.body().string());\r\n    }\r\n  }\r\n}\r\n```\r\n\r\nError \r\n&gt;Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\n\r\n\r\n\r\n","title":"Java OkhttpClient sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target","body":"<p>Postman request with certificate, key is working, But relevant code for Java - Okhttp client is failing</p>\n<p>Adding crt, key in the postman is working\n<a href=\"https://i.stack.imgur.com/G3zeG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G3zeG.png\" alt=\"enter image description here\" /></a></p>\n<p>Relevant code for Java</p>\n<pre><code>import okhttp3.OkHttpClient;\nimport okhttp3.Request;\nimport okhttp3.Response;\nimport javax.net.ssl.SSLContext;\nimport javax.net.ssl.TrustManagerFactory;\nimport javax.net.ssl.X509TrustManager;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.security.*;\nimport java.security.cert.*;\nimport java.security.spec.PKCS8EncodedKeySpec;\nimport java.util.Base64;\n\npublic class Main {\n\n  private static X509Certificate loadCertificateFromFile(File file)\n      throws CertificateException, IOException {\n    FileInputStream inputStream = new FileInputStream(file);\n    CertificateFactory certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n    X509Certificate certificate =\n        (X509Certificate) certificateFactory.generateCertificate(inputStream);\n    inputStream.close();\n    return certificate;\n  }\n\n  private static PrivateKey loadPrivateKeyFromFile(File file)\n      throws GeneralSecurityException, IOException {\n    FileInputStream inputStream = new FileInputStream(file);\n    byte[] keyBytes = new byte[inputStream.available()];\n    inputStream.read(keyBytes);\n    inputStream.close();\n    String keyBytesStr =\n        new String(keyBytes)\n            .replace(&quot;-----BEGIN PRIVATE KEY-----&quot;, &quot;&quot;)\n            .replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;)\n            .replaceAll(&quot;\\\\s&quot;, &quot;&quot;);\n\n    // Assuming the private key is in PKCS#8 format\n    PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(Base64.getDecoder().decode(keyBytesStr));\n    KeyFactory keyFactory = KeyFactory.getInstance(&quot;RSA&quot;);\n    return keyFactory.generatePrivate(keySpec);\n  }\n\n  public static void main(String[] args) throws GeneralSecurityException, IOException {\n\n    File crtFile = new File(&quot;/oath/chain.crt&quot;);\n    File keyFile = new File(&quot;/path/private.key&quot;);\n    File serverFile = new File(&quot;/path/abc.com.pem&quot;);\n    X509Certificate certificate = loadCertificateFromFile(crtFile);\n    X509Certificate serverCertificate = loadCertificateFromFile(serverFile);\n    // Load the private key from KEY file\n    PrivateKey privateKey = loadPrivateKeyFromFile(keyFile);\n\n    // Load the certificate and private key into KeyStore\n    KeyStore keyStore = KeyStore.getInstance(&quot;PKCS12&quot;);\n    keyStore.load(null, null);\n    keyStore.setKeyEntry(&quot;alias&quot;, privateKey, null, new X509Certificate[] {certificate});\n    keyStore.setCertificateEntry(&quot;server&quot;, serverCertificate);\n\n    TrustManagerFactory trustManagerFactory =\n        TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\n    trustManagerFactory.init(keyStore);\n\n    // Create SSLContext and configure it with KeyManager and TrustManager\n    SSLContext sslContext = SSLContext.getInstance(&quot;TLS&quot;);\n    sslContext.init(null, trustManagerFactory.getTrustManagers(), null);\n\n    // Create OkHttpClient with the configured SSLContext\n    OkHttpClient client =\n        new OkHttpClient.Builder()\n            .sslSocketFactory(\n                sslContext.getSocketFactory(),\n                (X509TrustManager) trustManagerFactory.getTrustManagers()[0])\n            .build();\n\n    // Make a request using the OkHttpClient\n    Request request = new Request.Builder().url(&quot;&lt;URL&gt;&quot;).build();\n\n    try (Response response = client.newCall(request).execute()) {\n      // Process the response\n      System.out.println(response.code());\n      System.out.println(response.body().string());\n    }\n  }\n}\n</code></pre>\n<p>Error</p>\n<blockquote>\n<p>Caused by: sun.security.validator.ValidatorException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</p>\n</blockquote>\n"},{"tags":["java","ip"],"comments":[{"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1686289121,"post_id":76437479,"comment_id":134781153,"body_markdown":"If you want a unique identifier for a user, just *ask for that*, and not how to get a user&#39;s IP, which is clearly an [XY Problem](http://xyproblem.info/).","body":"If you want a unique identifier for a user, just <i>ask for that</i>, and not how to get a user&#39;s IP, which is clearly an <a href=\"http://xyproblem.info/\" rel=\"nofollow noreferrer\">XY Problem</a>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1686298395,"post_id":76437479,"comment_id":134782561,"body_markdown":"Internal LAN addresses are never available from the outside world. That&#39;s because NAT transforms these into the WAN address and vice versa. For the outside world only one IP address is available for everybody inside the LAN. That can indeed lead to issues like throttling if only the IP address is used, especially for large LANs, which you often see at companies.","body":"Internal LAN addresses are never available from the outside world. That&#39;s because NAT transforms these into the WAN address and vice versa. For the outside world only one IP address is available for everybody inside the LAN. That can indeed lead to issues like throttling if only the IP address is used, especially for large LANs, which you often see at companies."}],"answers":[{"tags":[],"owner":{"account_id":23776493,"reputation":1,"user_id":17789863,"display_name":"Yawriter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686294977,"creation_date":1686294977,"answer_id":76438027,"question_id":76437479,"body_markdown":"The IP address of a normal user is not fixed and may change in a short time, so I think there are some problems in using IP address to limit, MAC address should be better, but the web side can not obtain.\r\nSecondly, under normal circumstances, only LANIp or WANIp can be obtained, and most of the same router will have only one public IP and it is still variable.","title":"How to get users&#39; ip address by java?","body":"<p>The IP address of a normal user is not fixed and may change in a short time, so I think there are some problems in using IP address to limit, MAC address should be better, but the web side can not obtain.\nSecondly, under normal circumstances, only LANIp or WANIp can be obtained, and most of the same router will have only one public IP and it is still variable.</p>\n"}],"owner":{"account_id":16588824,"reputation":1,"user_id":11987473,"display_name":"xiaoalex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686294977,"creation_date":1686289003,"question_id":76437479,"body_markdown":"As we java developer known, it&#39;s generally we get users&#39; ip address by following codes.My question is, by this way, what we get is LAN ip or WAN ip. if two users are from the same LAN, what we get is two different LAN ip or one the same WAN ip.\r\n\r\n\r\n        String ip = request.getHeader(&quot;X-Forwarded-For&quot;);\r\n        log.info(&quot;X-Forwarded-For: {}&quot;, ip);\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;X-Real-IP&quot;);\r\n            log.info(&quot;X-Real-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;Cdn-Src-Ip&quot;);\r\n            log.info(&quot;Cdn-Src-Ip: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;Proxy-Client-IP&quot;);\r\n            log.info(&quot;Proxy-Client-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);\r\n            log.info(&quot;WL-Proxy-Client-IP: {}&quot;, ip);\r\n        }\r\n        if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n            ip = request.getRemoteAddr();\r\n            log.info(&quot;RemoteAddr: {}&quot;, ip);\r\n        }\r\n\r\nFunctions what I&#39;m developing need to distinguish users, so I have to make sure the ip I get from different users is unique whether they are from same LAN or different LAN.Please info me if you understand it.","title":"How to get users&#39; ip address by java?","body":"<p>As we java developer known, it's generally we get users' ip address by following codes.My question is, by this way, what we get is LAN ip or WAN ip. if two users are from the same LAN, what we get is two different LAN ip or one the same WAN ip.</p>\n<pre><code>    String ip = request.getHeader(&quot;X-Forwarded-For&quot;);\n    log.info(&quot;X-Forwarded-For: {}&quot;, ip);\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;X-Real-IP&quot;);\n        log.info(&quot;X-Real-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;Cdn-Src-Ip&quot;);\n        log.info(&quot;Cdn-Src-Ip: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;Proxy-Client-IP&quot;);\n        log.info(&quot;Proxy-Client-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getHeader(&quot;WL-Proxy-Client-IP&quot;);\n        log.info(&quot;WL-Proxy-Client-IP: {}&quot;, ip);\n    }\n    if (StringUtils.isBlank(ip) || &quot;unknown&quot;.equalsIgnoreCase(ip)) {\n        ip = request.getRemoteAddr();\n        log.info(&quot;RemoteAddr: {}&quot;, ip);\n    }\n</code></pre>\n<p>Functions what I'm developing need to distinguish users, so I have to make sure the ip I get from different users is unique whether they are from same LAN or different LAN.Please info me if you understand it.</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"score":0,"creation_date":1548245092,"post_id":54326829,"comment_id":95471847,"body_markdown":"What type is ids collection?","body":"What type is ids collection?"},{"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"score":0,"creation_date":1548245140,"post_id":54326829,"comment_id":95471872,"body_markdown":"the type of ids list is **String**","body":"the type of ids list is <b>String</b>"}],"answers":[{"tags":[],"owner":{"account_id":1056871,"reputation":117749,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1548259058,"creation_date":1548245147,"answer_id":54326904,"question_id":54326829,"body_markdown":"     List&lt;Employe&gt; listEmploye = ids.stream()\r\n              .mapToLong(Long::parseLong)\r\n              .mapToObj(BigDecimal::valueOf)\r\n              .map(this::findByIdPointage)\r\n              .collect(Collectors.toList());\r\n\r\nWell there is a `BigDecimal` constructor that takes a `String`, thus this can be simplified to :\r\n\r\n\r\n    List&lt;Employe&gt; listEmploye = ids.stream()\r\n               .map(BigDecimal::new) \r\n               .map(this::findByIdPointage)\r\n               .collect(Collectors.toList())   ","title":"How to loop list object and getting it&#39;s element by index?","body":"<pre><code> List&lt;Employe&gt; listEmploye = ids.stream()\n          .mapToLong(Long::parseLong)\n          .mapToObj(BigDecimal::valueOf)\n          .map(this::findByIdPointage)\n          .collect(Collectors.toList());\n</code></pre>\n\n<p>Well there is a <code>BigDecimal</code> constructor that takes a <code>String</code>, thus this can be simplified to :</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = ids.stream()\n           .map(BigDecimal::new) \n           .map(this::findByIdPointage)\n           .collect(Collectors.toList())   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1754145,"reputation":43960,"user_id":1602555,"display_name":"Karol Dowbecki"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1548245151,"creation_date":1548245151,"answer_id":54326905,"question_id":54326829,"body_markdown":"There is nothing wrong with your current approach, just because Java 8 introduce lambdas and new methods it doesn&#39;t mean you must use them.\r\n\r\nIf you want ti use streams you can do below. `Long.valueOf()` mapping is potentially redundant:\r\n\r\n    List&lt;Employe&gt; listEmploye = ids.stream()\r\n       .map(Long::valueOf)\r\n       .map(BigDecimal::valueOf)\r\n       .map(this::findByIdPointage)\r\n       .collect(Collectors.toList())","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>There is nothing wrong with your current approach, just because Java 8 introduce lambdas and new methods it doesn't mean you must use them.</p>\n\n<p>If you want ti use streams you can do below. <code>Long.valueOf()</code> mapping is potentially redundant:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = ids.stream()\n   .map(Long::valueOf)\n   .map(BigDecimal::valueOf)\n   .map(this::findByIdPointage)\n   .collect(Collectors.toList())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1686294920,"creation_date":1548245244,"answer_id":54326938,"question_id":54326829,"body_markdown":"You can use Stream API to map your collection:\r\n\r\n    List&lt;Employe&gt; listEmploye  = ids.stream()\r\n    .map(Long::valueOf)\r\n    .map(BigDecimal::valueOf)\r\n    .map(this::findByIdPointage)\r\n    .collect(Collectors.toList());\r\n\r\nBut this approach would be very slow with larger data collections. This code should never see the production. You should first find all identifiers:\r\n\r\n    Set&lt;BigDecimal&gt; employeIdentifiers  = ids.stream()\r\n    .map(Long::valueOf)\r\n    .map(BigDecimal::valueOf)\r\n    .collect(Collectors.toList());\r\n\r\nThen use a single repository call to fetch them all at once:\r\n\r\n    List&lt;Employe&gt; listEmploye = findByIdPointageIn(employeIdentifiers);\r\n\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>You can use Stream API to map your collection:</p>\n<pre><code>List&lt;Employe&gt; listEmploye  = ids.stream()\n.map(Long::valueOf)\n.map(BigDecimal::valueOf)\n.map(this::findByIdPointage)\n.collect(Collectors.toList());\n</code></pre>\n<p>But this approach would be very slow with larger data collections. This code should never see the production. You should first find all identifiers:</p>\n<pre><code>Set&lt;BigDecimal&gt; employeIdentifiers  = ids.stream()\n.map(Long::valueOf)\n.map(BigDecimal::valueOf)\n.collect(Collectors.toList());\n</code></pre>\n<p>Then use a single repository call to fetch them all at once:</p>\n<pre><code>List&lt;Employe&gt; listEmploye = findByIdPointageIn(employeIdentifiers);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1548245733,"creation_date":1548245733,"answer_id":54327055,"question_id":54326829,"body_markdown":"    public List&lt;Employee&gt; getEmployees(Set&lt;String&gt; ids) {\r\n        return ids.stream()\r\n                  .map(id -&gt; BigDecimal.valueOf(Long.parseLong(id)))\r\n                  .map(this::findByIdPointage)\r\n                  .collect(Collectors.toList());\r\n    }","title":"How to loop list object and getting it&#39;s element by index?","body":"<pre><code>public List&lt;Employee&gt; getEmployees(Set&lt;String&gt; ids) {\n    return ids.stream()\n              .map(id -&gt; BigDecimal.valueOf(Long.parseLong(id)))\n              .map(this::findByIdPointage)\n              .collect(Collectors.toList());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2111403,"reputation":33698,"user_id":1876620,"accept_rate":94,"display_name":"fps"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548255454,"creation_date":1548255454,"answer_id":54330014,"question_id":54326829,"body_markdown":"You don&#39;t need to use streams for this task, but you could improve your `for` loop if you want:\r\n\r\n    List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\r\n    ids.forEach(id -&gt; listEmploye.add(findByIdPointage(new BigDecimal(id))));\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>You don't need to use streams for this task, but you could improve your <code>for</code> loop if you want:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\nids.forEach(id -&gt; listEmploye.add(findByIdPointage(new BigDecimal(id))));\n</code></pre>\n"}],"owner":{"account_id":13184602,"reputation":207,"user_id":9523051,"display_name":"Hamza Khadhri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":328,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":54326904,"answer_count":5,"score":6,"last_activity_date":1686294920,"creation_date":1548244924,"question_id":54326829,"body_markdown":"I&#39;m trying to migrate a function from java 7 to java8 but i&#39;m stucked over getting the value of the indexed element while looping a list. What is the good way to do this ?\r\n\r\nhere is the code that i&#39;m trying to migrate:\r\n\r\n    List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\r\n    for(int i=0; i&lt; ids.size();i++)\r\n    {\r\n      Long idLong = Long.valueOf(ids.get(i));\r\n      BigDecimal idBig= BigDecimal.valueOf(idLong);\r\n      listEmploye.add(findByIdPointage(idBig));\r\n    }\r\n\r\n","title":"How to loop list object and getting it&#39;s element by index?","body":"<p>I'm trying to migrate a function from java 7 to java8 but i'm stucked over getting the value of the indexed element while looping a list. What is the good way to do this ?</p>\n\n<p>here is the code that i'm trying to migrate:</p>\n\n<pre><code>List&lt;Employe&gt; listEmploye = new ArrayList&lt;&gt;();\nfor(int i=0; i&lt; ids.size();i++)\n{\n  Long idLong = Long.valueOf(ids.get(i));\n  BigDecimal idBig= BigDecimal.valueOf(idLong);\n  listEmploye.add(findByIdPointage(idBig));\n}\n</code></pre>\n"},{"tags":["java","image","spring-mvc","multipartform-data","javax.imageio"],"comments":[{"owner":{"account_id":1774490,"reputation":495,"user_id":1618536,"accept_rate":40,"display_name":"kp_ping"},"score":0,"creation_date":1365795880,"post_id":15978809,"comment_id":22779694,"body_markdown":"I have found similar question now, http://stackoverflow.com/questions/9453367/is-javax-imageio-imageio-broken-it-imports-some-images-as-rotated?rq=1. So, my problem is not what a bug of ImageIO but it is the API specification that ImageIO can not read image detail (EXIF-orientation). THX.","body":"I have found similar question now, <a href=\"http://stackoverflow.com/questions/9453367/is-javax-imageio-imageio-broken-it-imports-some-images-as-rotated?rq=1\" title=\"is javax imageio imageio broken it imports some images as rotated\">stackoverflow.com/questions/9453367/&hellip;</a>. So, my problem is not what a bug of ImageIO but it is the API specification that ImageIO can not read image detail (EXIF-orientation). THX."}],"answers":[{"comments":[{"owner":{"account_id":1774490,"reputation":495,"user_id":1618536,"accept_rate":40,"display_name":"kp_ping"},"score":0,"creation_date":1365795662,"post_id":15979408,"comment_id":22779589,"body_markdown":"thx. for participate but I think my word and grammar are making you misunderstanding. Now, I have improved my question.","body":"thx. for participate but I think my word and grammar are making you misunderstanding. Now, I have improved my question."},{"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"score":1,"creation_date":1365796121,"post_id":15979408,"comment_id":22779799,"body_markdown":"ok ...now its clear... gud that SO has the answer and you found it too :)","body":"ok ...now its clear... gud that SO has the answer and you found it too :)"}],"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1365794955,"creation_date":1365794955,"answer_id":15979408,"question_id":15978809,"body_markdown":"Quite interesting issue... you can try to fix it by introducing a check on the image width and height to be larger than  2448 and 3264 respectively and then just swap its width and height\r\n \r\nUse below piece of code:\r\n\r\n    BufferedImage oldImage = ImageIO.read(file.getInputStream());\r\n\r\n\tif (oldImage.getWidth() &gt; 2448 || oldImage.getHeight() &gt; 3264) {\r\n\t\t\t\r\n     \tBufferedImage newImage = new BufferedImage(oldImage.getWidth(),\r\n\t\t\t\t\toldImage.getHeight(), oldImage.getType());\r\n\r\n\t\tGraphics2D graphics = (Graphics2D) newImage.getGraphics();\r\n\r\n\t\tgraphics.drawImage(oldImage, 0, 0, oldImage.getHeight(),\r\n\t\t\t\t\toldImage.getWidth(), null);\r\n\r\n        ByteArrayOutputStream bos = new ByteArrayOutputStream();\r\n\t\t\r\n\t\tImageIO.write(newImage, &quot;JPG&quot;, bos);\r\n\t}","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>Quite interesting issue... you can try to fix it by introducing a check on the image width and height to be larger than  2448 and 3264 respectively and then just swap its width and height</p>\n\n<p>Use below piece of code:</p>\n\n<pre><code>BufferedImage oldImage = ImageIO.read(file.getInputStream());\n\nif (oldImage.getWidth() &gt; 2448 || oldImage.getHeight() &gt; 3264) {\n\n    BufferedImage newImage = new BufferedImage(oldImage.getWidth(),\n                oldImage.getHeight(), oldImage.getType());\n\n    Graphics2D graphics = (Graphics2D) newImage.getGraphics();\n\n    graphics.drawImage(oldImage, 0, 0, oldImage.getHeight(),\n                oldImage.getWidth(), null);\n\n    ByteArrayOutputStream bos = new ByteArrayOutputStream();\n\n    ImageIO.write(newImage, \"JPG\", bos);\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":147727,"reputation":12641,"user_id":359035,"accept_rate":92,"display_name":"BillRobertson42"},"score":0,"creation_date":1431309882,"post_id":29319713,"comment_id":48424463,"body_markdown":"This was extremely helpful. The code with the Scalr constants was also exactly what I needed.","body":"This was extremely helpful. The code with the Scalr constants was also exactly what I needed."}],"tags":[],"owner":{"account_id":1516166,"reputation":646,"user_id":1417125,"accept_rate":100,"display_name":"Paolo Biavati"},"comment_count":1,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1427560841,"creation_date":1427560841,"answer_id":29319713,"question_id":15978809,"body_markdown":"ImageIO.read( ) can&#39;t read the orientation of the image if it was taken with mobile device.\r\n\r\nI used metadata-extractor to read metadata, i think it&#39;s a good solution: \r\n[github.com/drewnoakes/metadata-extractor/wiki][1] \r\n\r\n    &lt;dependency&gt; \r\n      &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt; \r\n      &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt; \r\n      &lt;version&gt;2.7.2&lt;/version&gt; \r\n    &lt;/dependency&gt;\r\n\r\n\r\nRead orientation filed in exif directory:\r\n\r\n\r\n    ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\r\n    int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\r\n    \r\n    switch (orientation) {\r\n      case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\r\n    \treturn null;\r\n      case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\r\n    \treturn Rotation.CW_90;\r\n      case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\r\n    \treturn Rotation.CW_180;\r\n      case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\r\n    \treturn Rotation.CW_270;\r\n    }\r\n\r\n  [1]: http://github.com/drewnoakes/metadata-extractor/wiki\r\n\r\n(Rotation is a class from the org.imgscalr.Scalr framework I use ti rotate image).","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>ImageIO.read( ) can't read the orientation of the image if it was taken with mobile device.</p>\n\n<p>I used metadata-extractor to read metadata, i think it's a good solution: \n<a href=\"http://github.com/drewnoakes/metadata-extractor/wiki\" rel=\"noreferrer\">github.com/drewnoakes/metadata-extractor/wiki</a> </p>\n\n<pre><code>&lt;dependency&gt; \n  &lt;groupId&gt;com.drewnoakes&lt;/groupId&gt; \n  &lt;artifactId&gt;metadata-extractor&lt;/artifactId&gt; \n  &lt;version&gt;2.7.2&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>Read orientation filed in exif directory:</p>\n\n<pre><code>ExifIFD0Directory exifIFD0 = metadata.getDirectory(ExifIFD0Directory.class);\nint orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\n\nswitch (orientation) {\n  case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\n    return null;\n  case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\n    return Rotation.CW_90;\n  case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\n    return Rotation.CW_180;\n  case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\n    return Rotation.CW_270;\n}\n</code></pre>\n\n<p>(Rotation is a class from the org.imgscalr.Scalr framework I use ti rotate image).</p>\n"},{"tags":[],"owner":{"account_id":9159125,"reputation":193,"user_id":6811102,"accept_rate":33,"display_name":"Saleh Rezq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686294794,"creation_date":1686294794,"answer_id":76438014,"question_id":15978809,"body_markdown":"A little update on **Paolo Biavati** [answer][1].\r\n\r\nI did not find method `metadata.getDirectory(ExifIFD0Directory.class)`; instead what is available is `metadata.getFirstDirectoryOfType(ExifIFD0Directory.class)`. May be it was in old versions. Now the code goes like this:\r\n\r\n        Metadata metadata = ImageMetadataReader.readMetadata(file);\r\n        ExifIFD0Directory exifIFD0 = metadata.getFirstDirectoryOfType(ExifIFD0Directory.class);\r\n        int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\r\n        \r\n        switch (orientation) {\r\n          case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\r\n            return null;\r\n          case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\r\n            return Rotation.CW_90;\r\n          case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\r\n            return Rotation.CW_180;\r\n          case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\r\n            return Rotation.CW_270;\r\n        }\r\n\r\n  [1]: https://stackoverflow.com/a/29319713/6811102","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>A little update on <strong>Paolo Biavati</strong> <a href=\"https://stackoverflow.com/a/29319713/6811102\">answer</a>.</p>\n<p>I did not find method <code>metadata.getDirectory(ExifIFD0Directory.class)</code>; instead what is available is <code>metadata.getFirstDirectoryOfType(ExifIFD0Directory.class)</code>. May be it was in old versions. Now the code goes like this:</p>\n<pre><code>    Metadata metadata = ImageMetadataReader.readMetadata(file);\n    ExifIFD0Directory exifIFD0 = metadata.getFirstDirectoryOfType(ExifIFD0Directory.class);\n    int orientation = exifIFD0.getInt(ExifIFD0Directory.TAG_ORIENTATION);\n    \n    switch (orientation) {\n      case 1: // [Exif IFD0] Orientation - Top, left side (Horizontal / normal)\n        return null;\n      case 6: // [Exif IFD0] Orientation - Right side, top (Rotate 90 CW)\n        return Rotation.CW_90;\n      case 3: // [Exif IFD0] Orientation - Bottom, right side (Rotate 180)\n        return Rotation.CW_180;\n      case 8: // [Exif IFD0] Orientation - Left side, bottom (Rotate 270 CW)\n        return Rotation.CW_270;\n    }\n</code></pre>\n"}],"owner":{"account_id":1774490,"reputation":495,"user_id":1618536,"accept_rate":40,"display_name":"kp_ping"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9264,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1686294794,"creation_date":1365792836,"question_id":15978809,"body_markdown":"I want to create a web application that allow users to upload their image to the server. When  they click send, their image will be uploaded to the server (multipart). Before saving, I want to make some operation with the image, so I decided to use ..\r\n\r\n&gt; ImageIO.read(InputStream)\r\n\r\n to get BufferedImage object\r\n\r\nhere is the code:\r\n\r\n    public static BufferedImage getBufferedImageFromMultipartFile(MultipartFile file) \r\n    throws APIException\r\n\t{\r\n\t\tBufferedImage bi = null;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\tbi = ImageIO.read(file.getInputStream());\r\n\t\t}\r\n\t\tcatch (IOException e)\r\n\t\t{\r\n\t\t\tthrow new APIException(ErrorCode.SERVER_ERROR, e);\r\n\t\t}\r\n\r\n\t\treturn bi;\r\n\t}\r\n\r\nThe problem is when I try to upload a picture that has height more than width such as\r\n3264 x 2448 (height x width), the result always an image that has been rotated (2448 x 3264).\r\n\r\nIs there any solution to solve this problem ? \r\n\r\nIs this a bug or any defined API specification ?\r\n\r\nThx.\r\n\r\nPS. sorry for my english :D","title":"ImageIO.read( ) always rotates my uploaded picture","body":"<p>I want to create a web application that allow users to upload their image to the server. When  they click send, their image will be uploaded to the server (multipart). Before saving, I want to make some operation with the image, so I decided to use ..</p>\n\n<blockquote>\n  <p>ImageIO.read(InputStream)</p>\n</blockquote>\n\n<p>to get BufferedImage object</p>\n\n<p>here is the code:</p>\n\n<pre><code>public static BufferedImage getBufferedImageFromMultipartFile(MultipartFile file) \nthrows APIException\n{\n    BufferedImage bi = null;\n\n    try\n    {\n        bi = ImageIO.read(file.getInputStream());\n    }\n    catch (IOException e)\n    {\n        throw new APIException(ErrorCode.SERVER_ERROR, e);\n    }\n\n    return bi;\n}\n</code></pre>\n\n<p>The problem is when I try to upload a picture that has height more than width such as\n3264 x 2448 (height x width), the result always an image that has been rotated (2448 x 3264).</p>\n\n<p>Is there any solution to solve this problem ? </p>\n\n<p>Is this a bug or any defined API specification ?</p>\n\n<p>Thx.</p>\n\n<p>PS. sorry for my english :D</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686293814,"post_id":76437861,"comment_id":134781774,"body_markdown":"What do you mean with Sdcard? I asked that before. Why are you still writing Action_open_Document_Tree where you have been asked not to do so? What do you learn of comments you get?","body":"What do you mean with Sdcard? I asked that before. Why are you still writing Action_open_Document_Tree where you have been asked not to do so? What do you learn of comments you get?"},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1686294239,"post_id":76437861,"comment_id":134781846,"body_markdown":"sdcard is a removable storage(micro sdcard) , I see this caution in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method","body":"sdcard is a removable storage(micro sdcard) , I see this caution in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1686294865,"post_id":76437861,"comment_id":134781951,"body_markdown":"I see. You learned nothing.","body":"I see. You learned nothing."},{"owner":{"account_id":14283811,"reputation":6405,"user_id":10317684,"display_name":"Ricky Mo"},"score":0,"creation_date":1686295025,"post_id":76437861,"comment_id":134781976,"body_markdown":"What is your problem? It is just a caution, i.e. a warning. That doesn&#39;t it wouldn&#39;t work. You can still do it, just keep that in mind when you are feeling lack in performance this may be the cause.","body":"What is your problem? It is just a caution, i.e. a warning. That doesn&#39;t it wouldn&#39;t work. You can still do it, just keep that in mind when you are feeling lack in performance this may be the cause."},{"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"score":0,"creation_date":1686297550,"post_id":76437861,"comment_id":134782402,"body_markdown":"@RickyMo No problem just I am asking of this caution issue because I am going  to release one music app in that i need sdcard media content so, I get the removable(sdcard) media content from Action_open_Document_tree method , but se this caution issue in future if any problem came or not of this caution issue","body":"@RickyMo No problem just I am asking of this caution issue because I am going  to release one music app in that i need sdcard media content so, I get the removable(sdcard) media content from Action_open_Document_tree method , but se this caution issue in future if any problem came or not of this caution issue"}],"owner":{"account_id":28684979,"reputation":3,"user_id":21965432,"display_name":"windows 11"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686294503,"creation_date":1686293412,"question_id":76437861,"body_markdown":"I am get the Sdcard data(media,video,Images) through Action_Open_Document_Tree method in that they mention one Caution issue.\r\n\r\nCaution issue: If you iterate through a large number of files within the directory that&#39;s accessed using ACTION_OPEN_DOCUMENT_TREE, your app&#39;s performance might be reduced.\r\n\r\nBut I need to read Large number of media files in sdcard.\r\n\r\nsdcard is a removable storage(micro sdcard) , The above mention caution is mentioned  in Android developer website, I need clarification of this caution issue. I tried with media store in that i can&#39;t able to get media content from removable storage, so only I moved with Action_open_document_tree method\r\n\r\nso i confused because of this issue it is any thing serious of this caution issue,or any other alternative method is there.","title":"Caution Issue in Action_open_Document_Tree","body":"<p>I am get the Sdcard data(media,video,Images) through Action_Open_Document_Tree method in that they mention one Caution issue.</p>\n<p>Caution issue: If you iterate through a large number of files within the directory that's accessed using ACTION_OPEN_DOCUMENT_TREE, your app's performance might be reduced.</p>\n<p>But I need to read Large number of media files in sdcard.</p>\n<p>sdcard is a removable storage(micro sdcard) , The above mention caution is mentioned  in Android developer website, I need clarification of this caution issue. I tried with media store in that i can't able to get media content from removable storage, so only I moved with Action_open_document_tree method</p>\n<p>so i confused because of this issue it is any thing serious of this caution issue,or any other alternative method is there.</p>\n"},{"tags":["java","sorting","collections","java-8"],"comments":[{"owner":{"account_id":9558279,"reputation":788,"user_id":7328984,"accept_rate":0,"display_name":"android_jain"},"score":0,"creation_date":1523517535,"post_id":49790236,"comment_id":86595398,"body_markdown":"see this answer may be helpfull\nhttps://stackoverflow.com/a/3705372/7328984","body":"see this answer may be helpfull <a href=\"https://stackoverflow.com/a/3705372/7328984\">stackoverflow.com/a/3705372/7328984</a>"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":0,"creation_date":1523517545,"post_id":49790236,"comment_id":86595403,"body_markdown":"1. Comparator of Profile is comparing Emp1 and Emp2 class objects 2. What is the experience attribute type is not specificed.","body":"1. Comparator of Profile is comparing Emp1 and Emp2 class objects 2. What is the experience attribute type is not specificed."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1523517557,"post_id":49790236,"comment_id":86595406,"body_markdown":"How will that be a `Comparator&lt;Profile&gt;` when you&#39;re comparing `Employee`s?","body":"How will that be a <code>Comparator&lt;Profile&gt;</code> when you&#39;re comparing <code>Employee</code>s?"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523517586,"post_id":49790236,"comment_id":86595424,"body_markdown":"@HimanshuBhardwaj I mentioned in last line it is of type float","body":"@HimanshuBhardwaj I mentioned in last line it is of type float"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523517614,"post_id":49790236,"comment_id":86595436,"body_markdown":"@daniu Sorry it&#39;s by mistaken, updated now check","body":"@daniu Sorry it&#39;s by mistaken, updated now check"},{"owner":{"account_id":2390644,"reputation":4058,"user_id":2090555,"accept_rate":83,"display_name":"Himanshu Bhardwaj"},"score":1,"creation_date":1523517862,"post_id":49790236,"comment_id":86595577,"body_markdown":"java.lang.Float already implements Comparable, any reason you want to do it this way. And not reverse compare the two values?","body":"java.lang.Float already implements Comparable, any reason you want to do it this way. And not reverse compare the two values?"},{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":1,"creation_date":1523518432,"post_id":49790236,"comment_id":86595928,"body_markdown":"`Math.round(t.getExperience() - t1.getExperience())` does not work because it will consider `5.3` and `5.0` equal, due to rounding. This trick only works with integers.","body":"<code>Math.round(t.getExperience() - t1.getExperience())</code> does not work because it will consider <code>5.3</code> and <code>5.0</code> equal, due to rounding. This trick only works with integers."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523518527,"post_id":49790236,"comment_id":86595979,"body_markdown":"Yep finally, I found it the mistake is `-` should be replaced with &#39;,&#39;","body":"Yep finally, I found it the mistake is <code>-</code> should be replaced with &#39;,&#39;"}],"answers":[{"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1523517571,"post_id":49790255,"comment_id":86595412,"body_markdown":"Maybe he wanted `Comparator.comparing(e -&gt; Math.round(e.getExperience()))`?","body":"Maybe he wanted <code>Comparator.comparing(e -&gt; Math.round(e.getExperience()))</code>?"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1523517756,"post_id":49790255,"comment_id":86595515,"body_markdown":"@daniu the posted example shows regular descending order, so it doesn&#39;t look like Math.round() is required.","body":"@daniu the posted example shows regular descending order, so it doesn&#39;t look like Math.round() is required."},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523517942,"post_id":49790255,"comment_id":86595632,"body_markdown":"When I tried above it is saying compare (float, float) in Float cannot be applied to (float) @Eran","body":"When I tried above it is saying compare (float, float) in Float cannot be applied to (float) @Eran"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1523518014,"post_id":49790255,"comment_id":86595680,"body_markdown":"@ShylendraMadda you didn&#39;t try the above. Learn the difference between one parameter and two.","body":"@ShylendraMadda you didn&#39;t try the above. Learn the difference between one parameter and two."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1523518032,"post_id":49790255,"comment_id":86595691,"body_markdown":"@ShylendraMadda in the code you posted you tried `Float.compare(t.getExperience() - t1.getExperience())`, when it should be `Float.compare(t1.getExperience(), t.getExperience());`","body":"@ShylendraMadda in the code you posted you tried <code>Float.compare(t.getExperience() - t1.getExperience())</code>, when it should be <code>Float.compare(t1.getExperience(), t.getExperience());</code>"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523518043,"post_id":49790255,"comment_id":86595696,"body_markdown":"And as I mentioned already in my question in commented line `return Float.compare(t.getExperience() - t1.getExperience()); // which is not working`","body":"And as I mentioned already in my question in commented line <code>return Float.compare(t.getExperience() - t1.getExperience()); &#47;&#47; which is not working</code>"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1523518065,"post_id":49790255,"comment_id":86595709,"body_markdown":"@ShylendraMadda `-` and `,` are not the same","body":"@ShylendraMadda <code>-</code> and <code>,</code> are not the same"},{"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"score":0,"creation_date":1523518188,"post_id":49790255,"comment_id":86595771,"body_markdown":"Ohh OMG that is the stupidity in my eyes.. Thanks a ton.","body":"Ohh OMG that is the stupidity in my eyes.. Thanks a ton."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1523623730,"post_id":49790255,"comment_id":86649221,"body_markdown":"Or just `Collections.sort(employeeList, Comparator.comparingDouble(Emp::getExperience) .reversed());` as there is no benefit to use `float` instead of `double` for temporary values…","body":"Or just <code>Collections.sort(employeeList, Comparator.comparingDouble(Emp::getExperience) .reversed());</code> as there is no benefit to use <code>float</code> instead of <code>double</code> for temporary values…"}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":9,"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1523518178,"creation_date":1523517356,"answer_id":49790255,"question_id":49790236,"body_markdown":"`Math.round(t.getExperience() - t1.getExperience())` doesn&#39;t compare the two numbers, so I don&#39;t know what you were expecting to achieve.\r\n\r\nYou are supposed to use:\r\n\r\n    Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\r\n        @Override\r\n        public int compare(Emp t, Emp t1) {\r\n            return Float.compare(t1.getExperience(), t.getExperience());\r\n        }\r\n    });\r\n    \r\nNote that the parameters passed to `Float.compare` are in the opposite order compared to the parameters of the wrapping `compare` method, which will produce sorting by **descending** order.","title":"Java 8 sort float values","body":"<p><code>Math.round(t.getExperience() - t1.getExperience())</code> doesn't compare the two numbers, so I don't know what you were expecting to achieve.</p>\n\n<p>You are supposed to use:</p>\n\n<pre><code>Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\n    @Override\n    public int compare(Emp t, Emp t1) {\n        return Float.compare(t1.getExperience(), t.getExperience());\n    }\n});\n</code></pre>\n\n<p>Note that the parameters passed to <code>Float.compare</code> are in the opposite order compared to the parameters of the wrapping <code>compare</code> method, which will produce sorting by <strong>descending</strong> order.</p>\n"},{"comments":[{"owner":{"account_id":115767,"reputation":42976,"user_id":303810,"accept_rate":84,"display_name":"lexicore"},"score":3,"creation_date":1523518329,"post_id":49790318,"comment_id":86595867,"body_markdown":"Better use `Comparator.comparingDouble`. Avoids unnecessary boxing.","body":"Better use <code>Comparator.comparingDouble</code>. Avoids unnecessary boxing."}],"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1686294465,"creation_date":1523517568,"answer_id":49790318,"question_id":49790236,"body_markdown":"You can use [Comparator.comparing][1]\r\n\r\n\r\n     employeeList.sort(Comparator. comparingDouble(Employee::getExperience).reversed());\r\n\r\nBut it is advised not to mutate existing collections, but to create a new one instead. So with a stream, as an example:\r\n\r\n    Comparator&lt;Employee&gt; byExperience = Comparator. comparingDouble(Employee::getExperience).reversed(); \r\n    List&lt;Employee&gt; employeeList = ...;\r\n    List&lt;Employee&gt; sortedByExperienceEmployeeList =\r\n     employeeList.sorted(byExperience)\r\n    .toList();\r\n\r\nIt will produce:\r\n\r\n&gt; 5.6\r\n&gt; 5.5\r\n&gt; 5.0\r\n&gt; 4.5\r\n&gt; 3.3\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html","title":"Java 8 sort float values","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator.comparing</a></p>\n<pre><code> employeeList.sort(Comparator. comparingDouble(Employee::getExperience).reversed());\n</code></pre>\n<p>But it is advised not to mutate existing collections, but to create a new one instead. So with a stream, as an example:</p>\n<pre><code>Comparator&lt;Employee&gt; byExperience = Comparator. comparingDouble(Employee::getExperience).reversed(); \nList&lt;Employee&gt; employeeList = ...;\nList&lt;Employee&gt; sortedByExperienceEmployeeList =\n employeeList.sorted(byExperience)\n.toList();\n</code></pre>\n<p>It will produce:</p>\n<blockquote>\n<p>5.6\n5.5\n5.0\n4.5\n3.3</p>\n</blockquote>\n"}],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2880,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":49790255,"answer_count":2,"score":0,"last_activity_date":1686294465,"creation_date":1523517288,"question_id":49790236,"body_markdown":"I have a list of employees which had different experiences like\r\n\r\n&gt; 5.0,3.3,5.5,5.6,4.5 etc..\r\n\r\nWhen I am trying to sort max to min experience by using `Math.round` it&#39;s giving the wrong result like:\r\n\r\n&gt; 5.6,5.0,5.5,5.3,4.5 etc..\r\n\r\nI want the result like:\r\n\r\n&gt; 5.6,5.5,5.3,5.0,4.5 etc..\r\n\r\nHere I used `Collections.sort` like:\r\n\r\n    Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\r\n    \t\t@Override\r\n    \t\tpublic int compare(Emp t, Emp t1) {\r\n                return Math.round(t.getExperience() - t1.getExperience()); // which giving wrong results\r\n    //\t\t\treturn Float.compare(t.getExperience() - t1.getExperience()); // which is not working\r\n    \t\t}\r\n    \t});\r\n\r\nHere `t1.getExperience()` will give you float result.\r\n\r\n","title":"Java 8 sort float values","body":"<p>I have a list of employees which had different experiences like</p>\n\n<blockquote>\n  <p>5.0,3.3,5.5,5.6,4.5 etc..</p>\n</blockquote>\n\n<p>When I am trying to sort max to min experience by using <code>Math.round</code> it's giving the wrong result like:</p>\n\n<blockquote>\n  <p>5.6,5.0,5.5,5.3,4.5 etc..</p>\n</blockquote>\n\n<p>I want the result like:</p>\n\n<blockquote>\n  <p>5.6,5.5,5.3,5.0,4.5 etc..</p>\n</blockquote>\n\n<p>Here I used <code>Collections.sort</code> like:</p>\n\n<pre><code>Collections.sort(employeeList, new Comparator&lt;Emp&gt;() {\n        @Override\n        public int compare(Emp t, Emp t1) {\n            return Math.round(t.getExperience() - t1.getExperience()); // which giving wrong results\n//          return Float.compare(t.getExperience() - t1.getExperience()); // which is not working\n        }\n    });\n</code></pre>\n\n<p>Here <code>t1.getExperience()</code> will give you float result.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":211497,"reputation":11114,"user_id":463693,"display_name":"ITroubs"},"score":2,"creation_date":1421748971,"post_id":28042705,"comment_id":44468482,"body_markdown":"Basically there is no difference. one is shorthand the other is not. They are interchangable BUT the long version has the possebility to create an array that can contain more than 6 strings","body":"Basically there is no difference. one is shorthand the other is not. They are interchangable BUT the long version has the possebility to create an array that can contain more than 6 strings"},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":1,"creation_date":1421748971,"post_id":28042705,"comment_id":44468483,"body_markdown":"I like your solution better although both are correct and produce the exact same result.","body":"I like your solution better although both are correct and produce the exact same result."},{"owner":{"account_id":2806090,"reputation":80148,"user_id":2413303,"accept_rate":100,"display_name":"EpicPandaForce"},"score":10,"creation_date":1421749246,"post_id":28042705,"comment_id":44468665,"body_markdown":"Apparently you knew things that you weren&#39;t supposed to know by that point, both are correct and the result will be the same :)","body":"Apparently you knew things that you weren&#39;t supposed to know by that point, both are correct and the result will be the same :)"},{"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"score":2,"creation_date":1421764496,"post_id":28042705,"comment_id":44477976,"body_markdown":"Both are correct, but @javapalava&#39;s answer is better than the official one. Well done!","body":"Both are correct, but @javapalava&#39;s answer is better than the official one. Well done!"},{"owner":{"account_id":1168964,"reputation":4060,"user_id":1146585,"accept_rate":100,"display_name":"Pierre Arlaud"},"score":1,"creation_date":1421781810,"post_id":28042705,"comment_id":44488884,"body_markdown":"Bringing my two cents to say that singers aren&#39;t String. You need a singer class with a name field and a gender field. Or you can call the array sSingers, with a hideous use of the hungarian notation ; see: good naming is also an important part of readability :))","body":"Bringing my two cents to say that singers aren&#39;t String. You need a singer class with a name field and a gender field. Or you can call the array sSingers, with a hideous use of the hungarian notation ; see: good naming is also an important part of readability :))"},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1421796393,"post_id":28042705,"comment_id":44495857,"body_markdown":"How is this not a duplicate more than 6 years after Stack Overflow launched?","body":"How is this not a duplicate more than 6 years after Stack Overflow launched?"},{"owner":{"account_id":37136,"reputation":57822,"user_id":106104,"accept_rate":62,"display_name":"user253751"},"score":0,"creation_date":1421810525,"post_id":28042705,"comment_id":44499616,"body_markdown":"The compiler converts your answer into the provided answer automatically - it&#39;s only syntactic sugar.","body":"The compiler converts your answer into the provided answer automatically - it&#39;s only syntactic sugar."}],"answers":[{"comments":[{"owner":{"account_id":74658,"reputation":4237,"user_id":214416,"accept_rate":50,"display_name":"mcv"},"score":0,"creation_date":1421764435,"post_id":28042763,"comment_id":44477927,"body_markdown":"Also, a single array literal is easier to read than a list of assignments. Especially if you use some nice formatting to put each entry in the array on a new line. But the error-proneness of the official answer is the big one.","body":"Also, a single array literal is easier to read than a list of assignments. Especially if you use some nice formatting to put each entry in the array on a new line. But the error-proneness of the official answer is the big one."}],"tags":[],"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"comment_count":1,"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1421748967,"creation_date":1421748967,"answer_id":28042763,"question_id":28042705,"body_markdown":"Your answer is equivalent but more readable and less error-prone because you don&#39;t need any &quot;magic numbers&quot; for each array element with the &quot;fear&quot; of accessing an element out of the array definition and therefore creating an `IndexOutOfBoundsException`.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Your answer is equivalent but more readable and less error-prone because you don't need any \"magic numbers\" for each array element with the \"fear\" of accessing an element out of the array definition and therefore creating an <code>IndexOutOfBoundsException</code>.</p>\n"},{"comments":[{"owner":{"account_id":4000458,"reputation":17823,"user_id":3296621,"accept_rate":78,"display_name":"Smutje"},"score":9,"creation_date":1421749051,"post_id":28042764,"comment_id":44468540,"body_markdown":"I personally see this as bad coding style, because you create a state where your application has two different settings for the variable `names` depending on the state of the program - if a variable does not change (or ought to change) after the first assignment, I prefer final variables.","body":"I personally see this as bad coding style, because you create a state where your application has two different settings for the variable <code>names</code> depending on the state of the program - if a variable does not change (or ought to change) after the first assignment, I prefer final variables."},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":0,"creation_date":1421749191,"post_id":28042764,"comment_id":44468631,"body_markdown":"@Smutje I agree that if you know in advance what values are going to populate the array, there is no reason to separate the declaration from the initialization.","body":"@Smutje I agree that if you know in advance what values are going to populate the array, there is no reason to separate the declaration from the initialization."},{"owner":{"account_id":88597,"reputation":4927,"user_id":244935,"accept_rate":75,"display_name":"Daniel Dinnyes"},"score":0,"creation_date":1421749210,"post_id":28042764,"comment_id":44468643,"body_markdown":"@Smutje I see the example more as an alternative syntax for the examples given by the OP. Upvoted you though for the &quot;prefer final&quot; comment ;)","body":"@Smutje I see the example more as an alternative syntax for the examples given by the OP. Upvoted you though for the &quot;prefer final&quot; comment ;)"},{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":4,"creation_date":1421749511,"post_id":28042764,"comment_id":44468833,"body_markdown":"At least you shouldn&#39;t initialize the array with `null` but simply declare it.  This way, the compiler will tell you if you attempt to use it before assigning a “good” value to it.","body":"At least you shouldn&#39;t initialize the array with <code>null</code> but simply declare it.  This way, the compiler will tell you if you attempt to use it before assigning a “good” value to it."}],"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"comment_count":4,"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1421748967,"creation_date":1421748967,"answer_id":28042764,"question_id":28042705,"body_markdown":"Both are valid ways to initialize an array.\r\n\r\nYour way of initializing the array can only be done in the same expression that defines the array variable, though it can later be done in a similar way :\r\n\r\n    String[] names = null;\r\n    names = new String[] {&quot;Beyonce (f)&quot;, &quot;David Bowie (m)&quot;, &quot;Elvis Costello (m)&quot;, &quot;Madonna (f)&quot;, &quot;Elton John (m)&quot;, &quot;Charles Aznavour (m)&quot;};\r\n\r\nThe provided answer explicitly creates an array of Strings, specifies the number of Strings that this array can store, and assigns values to the indices of the array.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both are valid ways to initialize an array.</p>\n\n<p>Your way of initializing the array can only be done in the same expression that defines the array variable, though it can later be done in a similar way :</p>\n\n<pre><code>String[] names = null;\nnames = new String[] {\"Beyonce (f)\", \"David Bowie (m)\", \"Elvis Costello (m)\", \"Madonna (f)\", \"Elton John (m)\", \"Charles Aznavour (m)\"};\n</code></pre>\n\n<p>The provided answer explicitly creates an array of Strings, specifies the number of Strings that this array can store, and assigns values to the indices of the array.</p>\n"},{"tags":[],"owner":{"account_id":4086265,"reputation":17487,"user_id":3355476,"accept_rate":78,"display_name":"Codor"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421749001,"creation_date":1421749001,"answer_id":28042780,"question_id":28042705,"body_markdown":"Both solutions are correct. The first one uses an array initializer, the second one first instantiates the array and then populates it with values. One could argue that the first solution is more robust, since in the second solution the length of the array must be explicitly given before the entries are provided and it is possible to use indices beond the capacity of the array, which will be only detected at runtime.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both solutions are correct. The first one uses an array initializer, the second one first instantiates the array and then populates it with values. One could argue that the first solution is more robust, since in the second solution the length of the array must be explicitly given before the entries are provided and it is possible to use indices beond the capacity of the array, which will be only detected at runtime.</p>\n"},{"comments":[{"owner":{"account_id":514320,"reputation":24520,"user_id":1392132,"accept_rate":91,"display_name":"5gon12eder"},"score":4,"creation_date":1421749278,"post_id":28042796,"comment_id":44468686,"body_markdown":"Just remember that `String names[] = {...};` simply is a shorthand notation for `String names[] = new String[]{...};` so there isn&#39;t any difference in the OP&#39;s example with regard to where the arrays live.","body":"Just remember that <code>String names[] = {...};</code> simply is a shorthand notation for <code>String names[] = new String[]{...};</code> so there isn&#39;t any difference in the OP&#39;s example with regard to where the arrays live."},{"owner":{"account_id":1093800,"reputation":7366,"user_id":1087848,"accept_rate":97,"display_name":"11684"},"score":0,"creation_date":1421783998,"post_id":28042796,"comment_id":44490089,"body_markdown":"An array is not an instance of a class in Java.","body":"An array is not an instance of a class in Java."}],"tags":[],"owner":{"display_name":"user4050065"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1421749052,"creation_date":1421749052,"answer_id":28042796,"question_id":28042705,"body_markdown":"The &#39;new&#39; operator in java is responsible for the creation of new object or we can say instance of a class.\r\nActually, it dynamically allocates memory in the heap with the reference we define pointed from the stack.","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>The 'new' operator in java is responsible for the creation of new object or we can say instance of a class.\nActually, it dynamically allocates memory in the heap with the reference we define pointed from the stack.</p>\n"},{"tags":[],"owner":{"account_id":5094214,"reputation":11492,"user_id":4086177,"accept_rate":25,"display_name":"Beri"},"comment_count":0,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1686294258,"creation_date":1421749361,"answer_id":28042897,"question_id":28042705,"body_markdown":"Both are doing the same thing.\r\n\r\nFirst approach is more dynamic. You are telling java compiler that those elements will create an array. Compiler knows in compilation time their length, so it creates an array to fit them all, secondly this is a single line declaration - so it takes less space and sets all values at once.\r\n\r\nIn your second attempt, you are first creating an array with length of 6. And then put in every slot one object.\r\n\r\n\r\nFirst approach is better when:\r\n\r\n - if you know from the start what elements will be in the array - it is cleaner, shorter\r\n\r\n - it is also safer, because compiler created the array based on input length. Adding new element in code will change array size. In the second aproach you would have to change size manually, or ArrayOutOfBoundException will be thrown when adding singers[6].\r\n\r\nSecond approach is better wehen:\r\n\r\n - But if there is some sort of logic that would determine order or values **in the runtime**.\r\n\r\nBut if you don&#39;t know the length of array, and you are expecting it to grow in the runtime, then you must use List or other dynamic structure (Set, List)\r\n\r\nYou can [find here][1].\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/arrays-in-java/","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>Both are doing the same thing.</p>\n<p>First approach is more dynamic. You are telling java compiler that those elements will create an array. Compiler knows in compilation time their length, so it creates an array to fit them all, secondly this is a single line declaration - so it takes less space and sets all values at once.</p>\n<p>In your second attempt, you are first creating an array with length of 6. And then put in every slot one object.</p>\n<p>First approach is better when:</p>\n<ul>\n<li><p>if you know from the start what elements will be in the array - it is cleaner, shorter</p>\n</li>\n<li><p>it is also safer, because compiler created the array based on input length. Adding new element in code will change array size. In the second aproach you would have to change size manually, or ArrayOutOfBoundException will be thrown when adding singers[6].</p>\n</li>\n</ul>\n<p>Second approach is better wehen:</p>\n<ul>\n<li>But if there is some sort of logic that would determine order or values <strong>in the runtime</strong>.</li>\n</ul>\n<p>But if you don't know the length of array, and you are expecting it to grow in the runtime, then you must use List or other dynamic structure (Set, List)</p>\n<p>You can <a href=\"https://www.geeksforgeeks.org/arrays-in-java/\" rel=\"nofollow noreferrer\">find here</a>.</p>\n"},{"comments":[{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":0,"creation_date":1422004952,"post_id":28049975,"comment_id":44587602,"body_markdown":"Your advantages are mostly wrong. Both/all forms allocate with `anewarray` which fills with nulls, and store each element with `aastore` \nwhich checks bounds. The only difference is &quot;fast&quot; form `dup`s ref on opstack while \n&quot;slow&quot; form `aload`s from local; if no more than 4 locals (including `this` for ctor or nonstatic method) this uses one-byte `aload_i` \nwhich is the same length, and both almost certainly hit L1 and are equally fast. Look with `javap`. Both can and probably will optimize when JITted. \nThe *source* is indeed shorter, less error-prone, and easier to change.","body":"Your advantages are mostly wrong. Both/all forms allocate with <code>anewarray</code> which fills with nulls, and store each element with <code>aastore</code>  which checks bounds. The only difference is &quot;fast&quot; form <code>dup</code>s ref on opstack while  &quot;slow&quot; form <code>aload</code>s from local; if no more than 4 locals (including <code>this</code> for ctor or nonstatic method) this uses one-byte <code>aload_i</code>  which is the same length, and both almost certainly hit L1 and are equally fast. Look with <code>javap</code>. Both can and probably will optimize when JITted.  The <i>source</i> is indeed shorter, less error-prone, and easier to change."}],"tags":[],"owner":{"account_id":1886487,"reputation":396597,"user_id":1705598,"accept_rate":92,"display_name":"icza"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1421796701,"creation_date":1421770121,"answer_id":28049975,"question_id":28042705,"body_markdown":"A new array can be created with the `new` operator followed by the array element type and the array size between the `[` `]` characters - this is called the [Array Creation Expression][1]. Or when you declare a variable, you can also use an _array literal_ which is called [Array Initializers][2] (but this cannot be used to assign a value to an array later on just when it is declared).\r\n\r\nWhen you write\r\n\r\n    String names[] = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nIt is just a short form and is equivalent to\r\n\r\n    String[] names = new String[] {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nNote that to indicate that an array of the specified type is to be declared, both `String[] names` and `String names[]` forms can be used and they are equivalent, altough:\r\n\r\n    String names[], names2; // Only names is an array, names2 is just a String\r\n\r\nWhile\r\n\r\n    String[] names, names2; // Both names and names2 are arrays!\r\n\r\nIt is recommended to use the second form to avoid confusion and accidents if later you add more variable names to the declaration.\r\n\r\nLet&#39;s take a closer look of what happens in the 2 cases:\r\n--\r\n\r\n    // &quot;Slow&quot; filling\r\n    String[] names = new String[3]; // Filled with null values by default\r\n    names[0] = &quot;A&quot;; // Explicit index, index range check!\r\n    names[1] = &quot;B&quot;; // Explicit index, index range check!\r\n    names[2] = &quot;C&quot;; // Explicit index, index range check!\r\n\r\n    // &quot;Fast&quot; filling at creation time, implicit indices and array length,\r\n    // No index checks!\r\n    String[] names = {&quot;A&quot;, &quot;B&quot;, &quot;C&quot;};\r\n\r\nAdvantages of creating and initializing the array in one step\r\n--\r\n\r\nThere are several advantages of creating and initializing an array in one step:\r\n\r\n- Doing so is less error-prone: the compiler will determine the length of the array, and also the compiler will initialize the elements of the array based on the list you provide. No such thing as using a wrong index value or getting an `ArrayIndexOutOfBoundsException`.\r\n- It will be faster because the JVM (Java Virtual Machine) will not initialize the array with `null` values.\r\n- It will be faster because you don&#39;t have to specify explicit index values and the JVM does not have to work with them. Also the JVM does not have to check if indices are in the valid range (that is `0..length-1`).\r\n- Less maintenance/overhead when later you want to add another element in the middle of the array, you just have to insert it where you want it. Would you have initialized your array the other way, you would have to update all subsequent indices.\r\n- The Java source code will be shorter, more compact and also the compiled byte code will be shorter.\r\n\r\nYou can read more about arrays in the [Java Language Specification: Chapter 10. Arrays][3]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.10\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6\r\n  [3]: http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>A new array can be created with the <code>new</code> operator followed by the array element type and the array size between the <code>[</code> <code>]</code> characters - this is called the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-15.html#jls-15.10\" rel=\"nofollow\">Array Creation Expression</a>. Or when you declare a variable, you can also use an <em>array literal</em> which is called <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html#jls-10.6\" rel=\"nofollow\">Array Initializers</a> (but this cannot be used to assign a value to an array later on just when it is declared).</p>\n\n<p>When you write</p>\n\n<pre><code>String names[] = {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<p>It is just a short form and is equivalent to</p>\n\n<pre><code>String[] names = new String[] {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<p>Note that to indicate that an array of the specified type is to be declared, both <code>String[] names</code> and <code>String names[]</code> forms can be used and they are equivalent, altough:</p>\n\n<pre><code>String names[], names2; // Only names is an array, names2 is just a String\n</code></pre>\n\n<p>While</p>\n\n<pre><code>String[] names, names2; // Both names and names2 are arrays!\n</code></pre>\n\n<p>It is recommended to use the second form to avoid confusion and accidents if later you add more variable names to the declaration.</p>\n\n<h2>Let's take a closer look of what happens in the 2 cases:</h2>\n\n<pre><code>// \"Slow\" filling\nString[] names = new String[3]; // Filled with null values by default\nnames[0] = \"A\"; // Explicit index, index range check!\nnames[1] = \"B\"; // Explicit index, index range check!\nnames[2] = \"C\"; // Explicit index, index range check!\n\n// \"Fast\" filling at creation time, implicit indices and array length,\n// No index checks!\nString[] names = {\"A\", \"B\", \"C\"};\n</code></pre>\n\n<h2>Advantages of creating and initializing the array in one step</h2>\n\n<p>There are several advantages of creating and initializing an array in one step:</p>\n\n<ul>\n<li>Doing so is less error-prone: the compiler will determine the length of the array, and also the compiler will initialize the elements of the array based on the list you provide. No such thing as using a wrong index value or getting an <code>ArrayIndexOutOfBoundsException</code>.</li>\n<li>It will be faster because the JVM (Java Virtual Machine) will not initialize the array with <code>null</code> values.</li>\n<li>It will be faster because you don't have to specify explicit index values and the JVM does not have to work with them. Also the JVM does not have to check if indices are in the valid range (that is <code>0..length-1</code>).</li>\n<li>Less maintenance/overhead when later you want to add another element in the middle of the array, you just have to insert it where you want it. Would you have initialized your array the other way, you would have to update all subsequent indices.</li>\n<li>The Java source code will be shorter, more compact and also the compiled byte code will be shorter.</li>\n</ul>\n\n<p>You can read more about arrays in the <a href=\"http://docs.oracle.com/javase/specs/jls/se8/html/jls-10.html\" rel=\"nofollow\">Java Language Specification: Chapter 10. Arrays</a></p>\n"}],"owner":{"account_id":5565916,"reputation":711,"user_id":4413241,"accept_rate":43,"display_name":"javapalava"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2638,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"answer_count":6,"score":24,"last_activity_date":1686294258,"creation_date":1421748765,"question_id":28042705,"body_markdown":"I&#39;ve been undertaking some basic tutorials. One of which has asked me to set up an array to hold the following string values:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Beyonce (f)\r\n    David Bowie (m)\r\n    Elvis Costello (m)\r\n    Madonna (f)\r\n    Elton John (m)\r\n    Charles Aznavour (m)\r\n\r\nWrite a program to loop round, count how many are male vocalists and how many are female, and display my answer in the console.\r\n\r\nI managed to complete it, but the way I set up my array was different to the answer provided.\r\n\r\nMine is as follows:\r\n\r\n    String names[] = {&quot;Beyonce (f)&quot;, &quot;David Bowie (m)&quot;, &quot;Elvis Costello (m)&quot;, &quot;Madonna (f)&quot;, &quot;Elton John (m)&quot;, &quot;Charles Aznavour (m)&quot;};\r\n\r\nAnd the provided answer is as such:\r\n\r\n    String[] singers = new String[6];\r\n    singers[0] = &quot;Beyonce (f)&quot;;\r\n    singers[1] = &quot;David Bowie (m)&quot;;\r\n    singers[2] = &quot;Elvis Costello (m)&quot;;\r\n    singers[3] = &quot;Madonna (f)&quot;;\r\n    singers[4] = &quot;Elton John (m)&quot;;\r\n    singers[5] = &quot;Charles Aznavour (m)&quot;;\r\n\r\nShould I be creating a &quot;new&quot; array? If so, why? And what is the difference between the two?\r\n\r\n","title":"Use of &#39;new&#39; for arrays in Java","body":"<p>I've been undertaking some basic tutorials. One of which has asked me to set up an array to hold the following string values:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Beyonce (f)\nDavid Bowie (m)\nElvis Costello (m)\nMadonna (f)\nElton John (m)\nCharles Aznavour (m)\n</code></pre>\n\n<p>Write a program to loop round, count how many are male vocalists and how many are female, and display my answer in the console.</p>\n\n<p>I managed to complete it, but the way I set up my array was different to the answer provided.</p>\n\n<p>Mine is as follows:</p>\n\n<pre><code>String names[] = {\"Beyonce (f)\", \"David Bowie (m)\", \"Elvis Costello (m)\", \"Madonna (f)\", \"Elton John (m)\", \"Charles Aznavour (m)\"};\n</code></pre>\n\n<p>And the provided answer is as such:</p>\n\n<pre><code>String[] singers = new String[6];\nsingers[0] = \"Beyonce (f)\";\nsingers[1] = \"David Bowie (m)\";\nsingers[2] = \"Elvis Costello (m)\";\nsingers[3] = \"Madonna (f)\";\nsingers[4] = \"Elton John (m)\";\nsingers[5] = \"Charles Aznavour (m)\";\n</code></pre>\n\n<p>Should I be creating a \"new\" array? If so, why? And what is the difference between the two?</p>\n"},{"tags":["java","android","android-intent","event-listener"],"answers":[{"comments":[{"owner":{"account_id":10366733,"reputation":335,"user_id":10302721,"display_name":"z123"},"score":0,"creation_date":1686428961,"post_id":76437942,"comment_id":134798271,"body_markdown":"Thanks that worked perfectly fine, but for some reason the onSaleResponse(SaleResponse response) method is not sometimes.","body":"Thanks that worked perfectly fine, but for some reason the onSaleResponse(SaleResponse response) method is not sometimes."}],"tags":[],"owner":{"account_id":25155166,"reputation":864,"user_id":19000086,"display_name":"zaid khan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686294160,"creation_date":1686294160,"answer_id":76437942,"question_id":76437824,"body_markdown":"you can modify your code to include the Context parameter in the constructor\r\n\r\n```\r\npublic class PaymentConnectorListener implements IPaymentConnectorListener {\r\n    private Context context;\r\n\r\n    public PaymentConnectorListener(Context context) {\r\n        this.context = context;\r\n    }\r\n\r\n    @Override\r\n    public void onSaleResponse(SaleResponse response) {\r\n        String result;\r\n        if (response.getSuccess()) {\r\n            result = &quot;Sale was successful&quot;;\r\n        } else {\r\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\r\n        }\r\n\r\n        // Use the context to start a new activity or create a new intent\r\n        Intent intent = new Intent(context, YourActivity.class);\r\n        intent.putExtra(&quot;result&quot;, result);\r\n        context.startActivity(intent);\r\n    }\r\n}\r\n\r\n```\r\n\r\nWhen initializing the PaymentConnectorListener, pass the appropriate Context object to its constructor\r\n\r\n```\r\nfinal IPaymentConnectorListener ccListener = new PaymentConnectorListener(this);\r\n\r\n```\r\nMake sure that this refers to a valid Context object within the scope where you are initializing the PaymentConnectorListener","title":"Android Context Unavailable In Listener Class Preventing New Intent Creation","body":"<p>you can modify your code to include the Context parameter in the constructor</p>\n<pre><code>public class PaymentConnectorListener implements IPaymentConnectorListener {\n    private Context context;\n\n    public PaymentConnectorListener(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    public void onSaleResponse(SaleResponse response) {\n        String result;\n        if (response.getSuccess()) {\n            result = &quot;Sale was successful&quot;;\n        } else {\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\n        }\n\n        // Use the context to start a new activity or create a new intent\n        Intent intent = new Intent(context, YourActivity.class);\n        intent.putExtra(&quot;result&quot;, result);\n        context.startActivity(intent);\n    }\n}\n\n</code></pre>\n<p>When initializing the PaymentConnectorListener, pass the appropriate Context object to its constructor</p>\n<pre><code>final IPaymentConnectorListener ccListener = new PaymentConnectorListener(this);\n\n</code></pre>\n<p>Make sure that this refers to a valid Context object within the scope where you are initializing the PaymentConnectorListener</p>\n"}],"owner":{"account_id":10366733,"reputation":335,"user_id":10302721,"display_name":"z123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76437942,"answer_count":1,"score":0,"last_activity_date":1686294160,"creation_date":1686292873,"question_id":76437824,"body_markdown":"I am new to android development and while working with intents, I have a payment intent and a payment listener and I am trying to fire another activity or intent when the listener picks up a payment response. The issue is, I am unable to get context int listener class implementation. \r\n\r\n  \r\nThe class that I am trying to create a new intent in is:\r\n\r\n    public class PaymentConnectorListener implements IPaymentConnectorListener {\r\n        @Override\r\n        public void onSaleResponse(SaleResponse response) {\r\n            String result;\r\n            if (response.getSuccess()) {\r\n                result = &quot;Sale was successful&quot;;\r\n            } else {\r\n                result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\r\n            }\r\n        }\r\n}\r\n\r\n \r\nHow I initialize the listener class is:\r\n\r\n        final IPaymentConnectorListener ccListener = new PaymentConnectorListener();\r\n\r\nand where I use the listener is:\r\n\r\n    paymentConnector =  new PaymentConnector(this, account, ccListener, remoteApplicationId);\r\n                paymentConnector.initializeConnection();\r\n\r\nI want to fire an intent on payment response but the onSaleResponse() method does not have context. Also, switching from angular, can you explain a bit more of what context is.","title":"Android Context Unavailable In Listener Class Preventing New Intent Creation","body":"<p>I am new to android development and while working with intents, I have a payment intent and a payment listener and I am trying to fire another activity or intent when the listener picks up a payment response. The issue is, I am unable to get context int listener class implementation.</p>\n<p>The class that I am trying to create a new intent in is:</p>\n<pre><code>public class PaymentConnectorListener implements IPaymentConnectorListener {\n    @Override\n    public void onSaleResponse(SaleResponse response) {\n        String result;\n        if (response.getSuccess()) {\n            result = &quot;Sale was successful&quot;;\n        } else {\n            result = &quot;Sale was unsuccessful&quot; + response.getReason() + &quot;:&quot; + response.getMessage();\n        }\n    }\n</code></pre>\n<p>}</p>\n<p>How I initialize the listener class is:</p>\n<pre><code>    final IPaymentConnectorListener ccListener = new PaymentConnectorListener();\n</code></pre>\n<p>and where I use the listener is:</p>\n<pre><code>paymentConnector =  new PaymentConnector(this, account, ccListener, remoteApplicationId);\n            paymentConnector.initializeConnection();\n</code></pre>\n<p>I want to fire an intent on payment response but the onSaleResponse() method does not have context. Also, switching from angular, can you explain a bit more of what context is.</p>\n"},{"tags":["java","windows","hyperledger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1582384027,"post_id":60353491,"comment_id":106762724,"body_markdown":"`--add-opens` is part of [project jigsaw](https://openjdk.java.net/projects/jigsaw/), which was released with Java 9.","body":"<code>--add-opens</code> is part of <a href=\"https://openjdk.java.net/projects/jigsaw/\" rel=\"nofollow noreferrer\">project jigsaw</a>, which was released with Java 9."},{"owner":{"account_id":17822183,"reputation":98,"user_id":12944298,"display_name":"Charbel Tabet"},"score":0,"creation_date":1582384402,"post_id":60353491,"comment_id":106762834,"body_markdown":"I see, thank you for the info @Turing85 . Then why I&#39;m getting ```Unrecognized option: --add-opens```, what shoul I do?","body":"I see, thank you for the info @Turing85 . Then why I&#39;m getting <code>Unrecognized option: --add-opens</code>, what shoul I do?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1582385213,"post_id":60353491,"comment_id":106763065,"body_markdown":".. update to at least Java 9. Or - as the software&#39;s websiets states, Java 11.","body":".. update to at least Java 9. Or - as the software&#39;s websiets states, Java 11."}],"answers":[{"comments":[{"owner":{"account_id":17822183,"reputation":98,"user_id":12944298,"display_name":"Charbel Tabet"},"score":0,"creation_date":1582387840,"post_id":60353640,"comment_id":106763811,"body_markdown":"Thanks for catching that, I installed Java 13.0.2 from [here](https://www.oracle.com/java/technologies/javase-jdk11-downloads.html) and didn&#39;t get the error again.","body":"Thanks for catching that, I installed Java 13.0.2 from <a href=\"https://www.oracle.com/java/technologies/javase-jdk11-downloads.html\" rel=\"nofollow noreferrer\">here</a> and didn&#39;t get the error again."}],"tags":[],"owner":{"account_id":5025978,"reputation":998,"user_id":4037954,"accept_rate":67,"display_name":"It Assistors"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1582384945,"creation_date":1582384945,"answer_id":60353640,"question_id":60353491,"body_markdown":"I have no prior experience with the library which is in discussion, but I have just had a look at the [official docs][1] of the library which you are trying to use, and the installation instructions state that you require Java 11+ to complie\n\n&gt; Hyperledger Besu requires:\n&gt;\n&gt; MacOS High Sierra **10.13** or **later** versions\n&gt;\n&gt; **Java 11+ to compile**; earlier versions are not supported. \n\nFrom your question, it looks like your system is running Java8. Trying bumping it up to java 11 and try starting the binary again. \n\n\n  [1]: https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Install-Binaries/","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>I have no prior experience with the library which is in discussion, but I have just had a look at the <a href=\"https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Install-Binaries/\" rel=\"noreferrer\">official docs</a> of the library which you are trying to use, and the installation instructions state that you require Java 11+ to complie</p>\n<blockquote>\n<p>Hyperledger Besu requires:</p>\n<p>MacOS High Sierra <strong>10.13</strong> or <strong>later</strong> versions</p>\n<p><strong>Java 11+ to compile</strong>; earlier versions are not supported.</p>\n</blockquote>\n<p>From your question, it looks like your system is running Java8. Trying bumping it up to java 11 and try starting the binary again.</p>\n"},{"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1685723477,"post_id":60860573,"comment_id":134705993,"body_markdown":"This parameter will **not** be removed, and those warnings have now turned into errors starting with Java 16. Java 17 did remove `--illegal-access` through.","body":"This parameter will <b>not</b> be removed, and those warnings have now turned into errors starting with Java 16. Java 17 did remove <code>--illegal-access</code> through."}],"tags":[],"owner":{"account_id":5090573,"reputation":107,"user_id":4083779,"display_name":"Moebius-Rex"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1585193006,"creation_date":1585193006,"answer_id":60860573,"question_id":60353491,"body_markdown":"The script you&#39;re running adds `--add-opens java.base/sun.security.provider=ALL-UNNAMED` to the java command line that starts Besu. As others have noted, the `--add-opens` parameter was made available in Java 9; all it does is prevent a warning from being issued when any class uses reflection to access an internal JDK class (in this case, the Sun security package). I&#39;ve been starting Besu *without* this parameter for weeks with no problems, so you could have simply removed the parameter from the Besu start script or -- better -- upgraded to at least the Java 11 or higher version that Besu expects. According to Oracle, this command line parameter will be removed eventually, but that&#39;s a problem for the Besu maintainers, not you.","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>The script you're running adds <code>--add-opens java.base/sun.security.provider=ALL-UNNAMED</code> to the java command line that starts Besu. As others have noted, the <code>--add-opens</code> parameter was made available in Java 9; all it does is prevent a warning from being issued when any class uses reflection to access an internal JDK class (in this case, the Sun security package). I've been starting Besu <em>without</em> this parameter for weeks with no problems, so you could have simply removed the parameter from the Besu start script or -- better -- upgraded to at least the Java 11 or higher version that Besu expects. According to Oracle, this command line parameter will be removed eventually, but that's a problem for the Besu maintainers, not you.</p>\n"},{"tags":[],"owner":{"account_id":15262350,"reputation":11,"user_id":11012008,"display_name":"nagaraju kailasa"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637136675,"creation_date":1637136675,"answer_id":70000815,"question_id":60353491,"body_markdown":"change the java home version path from jdk8 path to jdk11 in environment variable\r\nas\r\nJAVA_HOME : {jdk11 directory path}","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>change the java home version path from jdk8 path to jdk11 in environment variable\nas\nJAVA_HOME : {jdk11 directory path}</p>\n"},{"tags":[],"owner":{"account_id":7965642,"reputation":1330,"user_id":6011941,"accept_rate":60,"display_name":"Vpn_talent"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677843844,"creation_date":1677843844,"answer_id":75626665,"question_id":60353491,"body_markdown":"&gt; Simple Solution if one is using Tomcat to deploy their project. Go to\r\n&gt; the Run Configuration of Tomcat. Find this argument and remove the\r\n&gt; same. No need to change the Java path if you still want to use Java 8.\r\n\r\n","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<blockquote>\n<p>Simple Solution if one is using Tomcat to deploy their project. Go to\nthe Run Configuration of Tomcat. Find this argument and remove the\nsame. No need to change the Java path if you still want to use Java 8.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":28189864,"reputation":917,"user_id":21545421,"display_name":"amycodes"},"score":0,"creation_date":1686072104,"post_id":76388967,"comment_id":134748030,"body_markdown":"This does not really answer the question. If you have a different question, you can ask it by clicking [Ask Question](https://stackoverflow.com/questions/ask). To get notified when this question gets new answers, you can [follow this question](https://meta.stackexchange.com/q/345661). Once you have enough [reputation](https://stackoverflow.com/help/whats-reputation), you can also [add a bounty](https://stackoverflow.com/help/privileges/set-bounties) to draw more attention to this question. - [From Review](/review/late-answers/34487176)","body":"This does not really answer the question. If you have a different question, you can ask it by clicking <a href=\"https://stackoverflow.com/questions/ask\">Ask Question</a>. To get notified when this question gets new answers, you can <a href=\"https://meta.stackexchange.com/q/345661\">follow this question</a>. Once you have enough <a href=\"https://stackoverflow.com/help/whats-reputation\">reputation</a>, you can also <a href=\"https://stackoverflow.com/help/privileges/set-bounties\">add a bounty</a> to draw more attention to this question. - <a href=\"/review/late-answers/34487176\">From Review</a>"}],"tags":[],"owner":{"account_id":23556064,"reputation":1,"user_id":17598073,"display_name":"Hamza"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686294131,"creation_date":1685698575,"answer_id":76388967,"question_id":60353491,"body_markdown":"1)You can change the JAVA_HOME variable to at least Java 9 but official document says &quot;Java 11+ to compile; earlier versions are not supported.&quot;\r\n\r\n**To set JAVA_HOME, do the following:**  \r\nRight click My Computer and select Properties.  \r\nOn the Advanced tab, select Environment Variables   \r\nThen edit JAVA_HOME to point to where the JDK software is located,  \r\nfor example, C:\\Program Files\\Java\\jre1.8.0_341\r\n\r\n2)Or You can change the version of the JRE used by the local tomcat server from the Server runtime environment section.","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>1)You can change the JAVA_HOME variable to at least Java 9 but official document says &quot;Java 11+ to compile; earlier versions are not supported.&quot;</p>\n<p><strong>To set JAVA_HOME, do the following:</strong><br />\nRight click My Computer and select Properties.<br />\nOn the Advanced tab, select Environment Variables<br />\nThen edit JAVA_HOME to point to where the JDK software is located,<br />\nfor example, C:\\Program Files\\Java\\jre1.8.0_341</p>\n<p>2)Or You can change the version of the JRE used by the local tomcat server from the Server runtime environment section.</p>\n"}],"owner":{"account_id":17822183,"reputation":98,"user_id":12944298,"display_name":"Charbel Tabet"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51375,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60353640,"answer_count":5,"score":6,"last_activity_date":1686294131,"creation_date":1582383936,"question_id":60353491,"body_markdown":"I want to get started with Hyperledger Besu, after following the steps of the [official documentation here](https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Starting-node/) and running the following command:\r\n\r\n```bin\\besu --help```\r\n\r\nI get the following error:\r\n\r\n```\r\nC:\\Users\\user\\Desktop\\besu-1.3.9&gt;bin\\besu --help\r\nUnrecognized option: --add-opens\r\nError: Could not create the Java Virtual Machine.\r\nError: A fatal exception has occurred. Program will exit.\r\n```\r\n\r\nI get the same thing when running ```bin\\besu``` or ```bin\\besu -help```.\r\n\r\nI don&#39;t know if the problem is with java&#39;s installation or with hyperledger besu trying to run unvalid/unrecognised option ```bin\\besu --add-opens```. I tried uninstalling then reinstalling java but this did not solve the issue, here is java&#39;s version:\r\n```\r\nC:\\Users\\user&gt;java -version\r\nPicked up _JAVA_OPTIONS: -Xmx512m\r\njava version &quot;1.8.0_241&quot;\r\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\r\nJava HotSpot(TM) Client VM (build 25.241-b07, mixed mode)\r\n```\r\nAny help would be appreciated!","title":"&quot;Unrecognized option: --add-opens&quot; Hyperledger Besu","body":"<p>I want to get started with Hyperledger Besu, after following the steps of the <a href=\"https://besu.hyperledger.org/en/stable/HowTo/Get-Started/Starting-node/\" rel=\"noreferrer\">official documentation here</a> and running the following command:</p>\n\n<p><code>bin\\besu --help</code></p>\n\n<p>I get the following error:</p>\n\n<pre><code>C:\\Users\\user\\Desktop\\besu-1.3.9&gt;bin\\besu --help\nUnrecognized option: --add-opens\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n</code></pre>\n\n<p>I get the same thing when running <code>bin\\besu</code> or <code>bin\\besu -help</code>.</p>\n\n<p>I don't know if the problem is with java's installation or with hyperledger besu trying to run unvalid/unrecognised option <code>bin\\besu --add-opens</code>. I tried uninstalling then reinstalling java but this did not solve the issue, here is java's version:</p>\n\n<pre><code>C:\\Users\\user&gt;java -version\nPicked up _JAVA_OPTIONS: -Xmx512m\njava version \"1.8.0_241\"\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\nJava HotSpot(TM) Client VM (build 25.241-b07, mixed mode)\n</code></pre>\n\n<p>Any help would be appreciated!</p>\n"},{"tags":["java","google-chrome","selenium","mobile","emulation"],"comments":[{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521240420,"post_id":49328454,"comment_id":85663051,"body_markdown":"I think the issue is that chromedriver doesn&#39;t have support for iPhone 7.\n\nYou can look [here](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/) for the list of emulated devices, and [here](https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/module.json) for the device preset names.","body":"I think the issue is that chromedriver doesn&#39;t have support for iPhone 7.  You can look <a href=\"https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/\" rel=\"nofollow noreferrer\">here</a> for the list of emulated devices, and <a href=\"https://cs.chromium.org/chromium/src/third_party/WebKit/Source/devtools/front_end/emulated_devices/module.json\" rel=\"nofollow noreferrer\">here</a> for the device preset names."},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245054,"post_id":49328454,"comment_id":85664160,"body_markdown":"Thanks! I&#39;ve reached before to the 2nd link you provided, and I see there is __&quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X...","body":"Thanks! I&#39;ve reached before to the 2nd link you provided, and I see there is __&quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X..."},{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521245264,"post_id":49328454,"comment_id":85664194,"body_markdown":"Yeah, I saw that as well, not sure what its about. The one for `iPhone 6/7/8 Plus` has `iPhone6Plus-landscape.svg` as its image, so maybe its just there as placeholder?","body":"Yeah, I saw that as well, not sure what its about. The one for <code>iPhone 6&#47;7&#47;8 Plus</code> has <code>iPhone6Plus-landscape.svg</code> as its image, so maybe its just there as placeholder?"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245403,"post_id":49328454,"comment_id":85664232,"body_markdown":"Thanks! that&#39;s explains alot. But still, I&#39;m confused. I&#39;ve reached before to the 2nd link you provided, and I saw there are &quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X and more...so what is that means? it lists here all the devices. even the new ones","body":"Thanks! that&#39;s explains alot. But still, I&#39;m confused. I&#39;ve reached before to the 2nd link you provided, and I saw there are &quot;title&quot;: &quot;iPhone 6/7/8&quot;, and also for iPhone X and more...so what is that means? it lists here all the devices. even the new ones"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521245485,"post_id":49328454,"comment_id":85664245,"body_markdown":"mmm...placeholder might be the reason. well Thanks a lot again!","body":"mmm...placeholder might be the reason. well Thanks a lot again!"},{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521246027,"post_id":49328454,"comment_id":85664369,"body_markdown":"Wait, I don&#39;t think what you wrote about the first link is correct, because I CAN use &quot;Galaxy S5&quot; which is not on that list.","body":"Wait, I don&#39;t think what you wrote about the first link is correct, because I CAN use &quot;Galaxy S5&quot; which is not on that list."},{"owner":{"account_id":12928626,"reputation":2074,"user_id":9348376,"display_name":"Sean Breckenridge"},"score":0,"creation_date":1521246343,"post_id":49328454,"comment_id":85664432,"body_markdown":"Yeah, I&#39;m not really sure. I can&#39;t find documentation on this so a lot of it is just presumptions.","body":"Yeah, I&#39;m not really sure. I can&#39;t find documentation on this so a lot of it is just presumptions."}],"answers":[{"comments":[{"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"score":0,"creation_date":1521913151,"post_id":49426420,"comment_id":85938025,"body_markdown":"How will it help? is it only for the size of the screen? (I mean, is this the only configuration change that the emulator gives us, the screen size?)","body":"How will it help? is it only for the size of the screen? (I mean, is this the only configuration change that the emulator gives us, the screen size?)"}],"tags":[],"owner":{"account_id":13025468,"reputation":1,"user_id":9413725,"display_name":"user9413725"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521714863,"creation_date":1521714863,"answer_id":49426420,"question_id":49328454,"body_markdown":"Why not use [Dimension][1] class? \n\nDefine an enum EmulatedDevices and use following style:\n\n    driver.manage().window().setSize(new Dimension(EmulatedDevices.IPHONE7.getWidth(),EmulatedDevices.IPHONE7.getHeight()));\n\n\n  [1]: https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/Dimension.html","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>Why not use <a href=\"https://seleniumhq.github.io/selenium/docs/api/java/org/openqa/selenium/Dimension.html\" rel=\"nofollow noreferrer\">Dimension</a> class? </p>\n\n<p>Define an enum EmulatedDevices and use following style:</p>\n\n<pre><code>driver.manage().window().setSize(new Dimension(EmulatedDevices.IPHONE7.getWidth(),EmulatedDevices.IPHONE7.getHeight()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1529993132,"creation_date":1529993132,"answer_id":51035873,"question_id":49328454,"body_markdown":"I&#39;ve found the solution and it is now working properly. I had to set the Device Metrics object first:\r\n\r\n    ...else if(browser.equalsIgnoreCase(&quot;iPhone678&quot;)){\r\n          String exePathChromeDriver = Consts.chromeDriverPath;\r\n          System.setProperty(&quot;webdriver.chrome.driver&quot;, exePathChromeDriver);\r\n\r\n          Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\r\n          deviceMetrics.put(&quot;width&quot;, 375);\r\n          deviceMetrics.put(&quot;height&quot;, 667);\r\n          deviceMetrics.put(&quot;pixelRatio&quot;, 2.0);\r\n\r\n          Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n          mobileEmulation.put(&quot;deviceMetrics&quot;, deviceMetrics);\r\n          mobileEmulation.put(&quot;userAgent&quot;, &quot;Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1&quot;);\r\n\r\n          ChromeOptions chromeOptions = new ChromeOptions();\r\n          chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n          driver = new ChromeDriver(chromeOptions); }","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>I've found the solution and it is now working properly. I had to set the Device Metrics object first:</p>\n\n<pre><code>...else if(browser.equalsIgnoreCase(\"iPhone678\")){\n      String exePathChromeDriver = Consts.chromeDriverPath;\n      System.setProperty(\"webdriver.chrome.driver\", exePathChromeDriver);\n\n      Map&lt;String, Object&gt; deviceMetrics = new HashMap&lt;&gt;();\n      deviceMetrics.put(\"width\", 375);\n      deviceMetrics.put(\"height\", 667);\n      deviceMetrics.put(\"pixelRatio\", 2.0);\n\n      Map&lt;String, Object&gt; mobileEmulation = new HashMap&lt;&gt;();\n      mobileEmulation.put(\"deviceMetrics\", deviceMetrics);\n      mobileEmulation.put(\"userAgent\", \"Mozilla/5.0 (iPhone; CPU iPhone OS 11_0 like Mac OS X) AppleWebKit/604.1.34 (KHTML, like Gecko) Version/11.0 Mobile/15A5341f Safari/604.1\");\n\n      ChromeOptions chromeOptions = new ChromeOptions();\n      chromeOptions.setExperimentalOption(\"mobileEmulation\", mobileEmulation);\n      driver = new ChromeDriver(chromeOptions); }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14584114,"reputation":90,"user_id":10533549,"display_name":"Pushparaj"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617387480,"creation_date":1617387480,"answer_id":66923564,"question_id":49328454,"body_markdown":"This should work:\r\n        \r\n        Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\r\n        mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\r\n\r\n        ChromeOptions chromeOptions = new ChromeOptions();\r\n        chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n\r\n        driver = new ChromeDriver(chromeOptions);\r\n        driver.get(&quot;https://www.google.co.uk&quot;);","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>This should work:</p>\n<pre><code>    Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;&gt;();\n    mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\n\n    ChromeOptions chromeOptions = new ChromeOptions();\n    chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\n\n    driver = new ChromeDriver(chromeOptions);\n    driver.get(&quot;https://www.google.co.uk&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28699995,"reputation":1,"user_id":21977348,"display_name":"Rohan Ghosh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686293925,"creation_date":1686293925,"answer_id":76437925,"question_id":49328454,"body_markdown":"You can use all the devices mentioned in the &#39;Emulated Devices&#39; list within Chrome devtools &gt; Devices. If the desired device is not present within the list you can &#39;Add custom device&#39; ([screenshot][2])- providing basic information, and use the `deviceName` within your code. In another way, you can directly provide your desired device&#39;s basic information (`width, height, pixelRatio`) within your automation code to use that device for testing. You can get the details code with explanation [here][1].\r\n\r\n\r\n  [1]: https://youtu.be/UOwEcGr3P9A\r\n  [2]: https://i.stack.imgur.com/Crg4r.png","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>You can use all the devices mentioned in the 'Emulated Devices' list within Chrome devtools &gt; Devices. If the desired device is not present within the list you can 'Add custom device' (<a href=\"https://i.stack.imgur.com/Crg4r.png\" rel=\"nofollow noreferrer\">screenshot</a>)- providing basic information, and use the <code>deviceName</code> within your code. In another way, you can directly provide your desired device's basic information (<code>width, height, pixelRatio</code>) within your automation code to use that device for testing. You can get the details code with explanation <a href=\"https://youtu.be/UOwEcGr3P9A\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":5481882,"reputation":115,"user_id":4358062,"display_name":"Yair"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3245,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":51035873,"answer_count":4,"score":2,"last_activity_date":1686293925,"creation_date":1521229594,"question_id":49328454,"body_markdown":"I&#39;m doing Selenium JAVA tests for mobile using the Chrome driver with its emulator. The problem is that I can&#39;t use the most advanced mobile devices like iPhone 7,8 etc even-though its in my drop-down list when manually testing in the devtools. \r\nThis is the driver init. that works perfectly with many mobile devices:\r\n\r\n    if(browser.equalsIgnoreCase(&quot;mobileIPhone6&quot;)){\r\n              Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\r\n              mobileEmulation.put(&quot;deviceName&quot;, &quot;iPhone 6&quot;);\r\n              String exePathChromeDriver = Consts.chromeDriverPath;\r\n              System.setProperty(&quot;webdriver.chrome.driver&quot;, exePathChromeDriver);\r\n              PropertyLoader.loadCapabilities();\r\n              ChromeOptions chromeOptions = new ChromeOptions();\r\n              chromeOptions.setExperimentalOption(&quot;mobileEmulation&quot;, mobileEmulation);\r\n              driver = new ChromeDriver(chromeOptions);\r\n\r\nBUT, When I change line 3 to &quot;iPhone 7&quot; I&#39;m getting this error:\r\n\r\n    2018-03-16 21:25:49 INFO  LogLog4j:210 - org.openqa.selenium.WebDriverException: unknown error: cannot parse capability: chromeOptions\r\n    from unknown error: cannot parse mobileEmulation\r\n    from unknown error: &#39;iPhone 7&#39; must be a valid device\r\n    from unknown error: must be a valid device\r\n\r\nAny idea why? many thanks\r\n\r\n","title":"Chrome mobile emulator for Selenium testing- can&#39;t use all devices","body":"<p>I'm doing Selenium JAVA tests for mobile using the Chrome driver with its emulator. The problem is that I can't use the most advanced mobile devices like iPhone 7,8 etc even-though its in my drop-down list when manually testing in the devtools. \nThis is the driver init. that works perfectly with many mobile devices:</p>\n\n<pre><code>if(browser.equalsIgnoreCase(\"mobileIPhone6\")){\n          Map&lt;String, String&gt; mobileEmulation = new HashMap&lt;String, String&gt;();\n          mobileEmulation.put(\"deviceName\", \"iPhone 6\");\n          String exePathChromeDriver = Consts.chromeDriverPath;\n          System.setProperty(\"webdriver.chrome.driver\", exePathChromeDriver);\n          PropertyLoader.loadCapabilities();\n          ChromeOptions chromeOptions = new ChromeOptions();\n          chromeOptions.setExperimentalOption(\"mobileEmulation\", mobileEmulation);\n          driver = new ChromeDriver(chromeOptions);\n</code></pre>\n\n<p>BUT, When I change line 3 to \"iPhone 7\" I'm getting this error:</p>\n\n<pre><code>2018-03-16 21:25:49 INFO  LogLog4j:210 - org.openqa.selenium.WebDriverException: unknown error: cannot parse capability: chromeOptions\nfrom unknown error: cannot parse mobileEmulation\nfrom unknown error: 'iPhone 7' must be a valid device\nfrom unknown error: must be a valid device\n</code></pre>\n\n<p>Any idea why? many thanks</p>\n"},{"tags":["java","swing","word-wrap","java-7","jtextpane"],"comments":[{"owner":{"account_id":95999,"reputation":7037,"user_id":261156,"display_name":"Catalina Island"},"score":0,"creation_date":1325169412,"post_id":8666727,"comment_id":10774613,"body_markdown":"Does using [`invokeLater()`](http://download.oracle.com/javase/tutorial/uiswing/concurrency/initial.html) help?","body":"Does using <a href=\"http://download.oracle.com/javase/tutorial/uiswing/concurrency/initial.html\" rel=\"nofollow noreferrer\"><code>invokeLater()</code></a> help?"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1338463274,"post_id":8666727,"comment_id":14103024,"body_markdown":"I have exactly the same problem. Related: https://forums.oracle.com/forums/thread.jspa?threadID=2374090 (no answers...) The poster there already created a bug report, but it was closed as &quot;not a bug&quot;, without a word of explanation...","body":"I have exactly the same problem. Related: <a href=\"https://forums.oracle.com/forums/thread.jspa?threadID=2374090\" rel=\"nofollow noreferrer\">forums.oracle.com/forums/thread.jspa?threadID=2374090</a> (no answers...) The poster there already created a bug report, but it was closed as &quot;not a bug&quot;, without a word of explanation..."}],"answers":[{"comments":[{"owner":{"account_id":288533,"reputation":463,"user_id":589004,"display_name":"Al-Khwarizmi"},"score":0,"creation_date":1325176966,"post_id":8669605,"comment_id":10776878,"body_markdown":"Thanks, it&#39;s remarkably similar... but unfortunately it doesn&#39;t seem to be the same bug (it has to do with attribute sets, and was fixed long ago) :/","body":"Thanks, it&#39;s remarkably similar... but unfortunately it doesn&#39;t seem to be the same bug (it has to do with attribute sets, and was fixed long ago) :/"},{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":0,"creation_date":1338463496,"post_id":8669605,"comment_id":14103115,"body_markdown":"Well, I think it is related, although the behavior in 1.6 wasn&#39;t changed. Look at the comment: &quot;It should be noted that the requested default splitting behavior (breaking GlyphView at arbitrary place when no valid breakpoint is found by BreakIterator) is horribly wrong and should not be restored in any JDK release, either future or past.&quot; Looks like we need to do more work now...","body":"Well, I think it is related, although the behavior in 1.6 wasn&#39;t changed. Look at the comment: &quot;It should be noted that the requested default splitting behavior (breaking GlyphView at arbitrary place when no valid breakpoint is found by BreakIterator) is horribly wrong and should not be restored in any JDK release, either future or past.&quot; Looks like we need to do more work now..."}],"tags":[],"owner":{"account_id":352848,"reputation":4523,"user_id":690164,"accept_rate":50,"display_name":"Dimitry"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325171959,"creation_date":1325171959,"answer_id":8669605,"question_id":8666727,"body_markdown":"Take a look at this bug:\r\n\r\n[https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700][1]\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Take a look at this bug:</p>\n<p><a href=\"https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700\" rel=\"nofollow noreferrer\">https://bugs.java.com/bugdatabase/view_bug?bug_id=6539700</a></p>\n"},{"comments":[{"owner":{"account_id":1143324,"reputation":11,"user_id":1126661,"display_name":"Thomwiesel"},"score":0,"creation_date":1325531425,"post_id":8704165,"comment_id":10830993,"body_markdown":"Sorry: no doesn&#39;t work! this solves only the problem with long lines (containing white-spaces) - they are wrapped now correctly - but long words still didn&#39;t get wrapped :-(","body":"Sorry: no doesn&#39;t work! this solves only the problem with long lines (containing white-spaces) - they are wrapped now correctly - but long words still didn&#39;t get wrapped :-("}],"tags":[],"owner":{"account_id":1143324,"reputation":11,"user_id":1126661,"display_name":"Thomwiesel"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325529333,"creation_date":1325529333,"answer_id":8704165,"question_id":8666727,"body_markdown":"Hi I&#39;ve had the same problem but found a work-around:\r\n\r\njust create an extended class of JTextPane e.g.\r\n\r\n            MyWrapJTextPane extends JTextPane\r\n\r\nand overwrite the following method - it works ;-)\r\n\r\n            public boolean getScrollableTracksViewportWidth() {\r\n                return true;\r\n            }","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Hi I've had the same problem but found a work-around:</p>\n\n<p>just create an extended class of JTextPane e.g.</p>\n\n<pre><code>        MyWrapJTextPane extends JTextPane\n</code></pre>\n\n<p>and overwrite the following method - it works ;-)</p>\n\n<pre><code>        public boolean getScrollableTracksViewportWidth() {\n            return true;\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1340808681,"creation_date":1340808681,"answer_id":11229003,"question_id":8666727,"body_markdown":"Good catch from @dk89, but alas the given workarounds don&#39;t work: JDK 7 apparently still doesn&#39;t offer a wait to set a custom BreakIterator on a JTextComponent; not even on a GlyphView, where the generation of the BreakIterator is private. And if we insert the string char by char, it still doesn&#39;t work: I suppose the consecutive runs of text with identical style (AttributeSet) are collapsed together.\r\n\r\nI have spent two days trying to do a custom EditorKit, as advised elsewhere, but it doesn&#39;t work well (with JDK 1.7.0_4 at least) as the text.\r\n\r\nI tried the solution given at https://stackoverflow.com/questions/6866627/how-to-word-wrap-text-stored-in-jtextpanes-which-are-cells-in-a-jlist and a variant found at http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html\r\n\r\nBut I found out that the breakView is no longer called when the JTextPane is smaller than the longest word in the sentence. So it doesn&#39;t work at all when there is only one (long) word. That&#39;s our case, as we display user-provided, identifier-like strings, often without spaces, in rather small spaces.\r\n\r\nI finally found a simple solution, derived from the suggestion in the bug report: indeed, insert the string char by char, but alternate styles! Thus, we have as many segments as we have chars, and the string is wrapped at char bounds. Until the next &quot;bug fix&quot;?\r\n\r\nCode snippets:\r\n\r\n    private JTextPane tp;\r\n    private SimpleAttributeSet sas = new SimpleAttributeSet();\r\n\r\n    tp= new JTextPane();\r\n    sas.addAttribute( &quot;A&quot;, &quot;C&quot; ); // Arbitrary attribute names and value, not used actually\r\n\r\n        // Set the global attributes (italics, etc.)\r\n        tp.setParagraphAttributes(styleParagraphAttributes, true);\r\n\r\n        Document doc = tp.getDocument();\r\n        try\r\n        {\r\n            doc.remove(0, doc.getLength()); // Clear\r\n            for (int i = 0; i &lt; textToDisplay.length(); i++)\r\n            {\r\n                doc.insertString(doc.getLength(), textToDisplay.substring(i, i+1),\r\n                        // Change attribute every other char\r\n                        i % 2 == 0 ? null : sas);\r\n            }\r\n        }\r\n        catch (BadLocationException ble)\r\n        {\r\n            log.warn(&quot;Cannot happen...&quot;, ble);\r\n        }\r\n\r\nAs stated in the bug, they should have provided an easy way (some property perhaps, or some injectable stuff) to revert to the old behavior.","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Good catch from @dk89, but alas the given workarounds don't work: JDK 7 apparently still doesn't offer a wait to set a custom BreakIterator on a JTextComponent; not even on a GlyphView, where the generation of the BreakIterator is private. And if we insert the string char by char, it still doesn't work: I suppose the consecutive runs of text with identical style (AttributeSet) are collapsed together.</p>\n\n<p>I have spent two days trying to do a custom EditorKit, as advised elsewhere, but it doesn't work well (with JDK 1.7.0_4 at least) as the text.</p>\n\n<p>I tried the solution given at <a href=\"https://stackoverflow.com/questions/6866627/how-to-word-wrap-text-stored-in-jtextpanes-which-are-cells-in-a-jlist\">How to word wrap text stored in JTextPanes which are cells in a JList</a> and a variant found at <a href=\"http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html\" rel=\"nofollow noreferrer\">http://www.experts-exchange.com/Programming/Languages/Java/Q_20393892.html</a></p>\n\n<p>But I found out that the breakView is no longer called when the JTextPane is smaller than the longest word in the sentence. So it doesn't work at all when there is only one (long) word. That's our case, as we display user-provided, identifier-like strings, often without spaces, in rather small spaces.</p>\n\n<p>I finally found a simple solution, derived from the suggestion in the bug report: indeed, insert the string char by char, but alternate styles! Thus, we have as many segments as we have chars, and the string is wrapped at char bounds. Until the next \"bug fix\"?</p>\n\n<p>Code snippets:</p>\n\n<pre><code>private JTextPane tp;\nprivate SimpleAttributeSet sas = new SimpleAttributeSet();\n\ntp= new JTextPane();\nsas.addAttribute( \"A\", \"C\" ); // Arbitrary attribute names and value, not used actually\n\n    // Set the global attributes (italics, etc.)\n    tp.setParagraphAttributes(styleParagraphAttributes, true);\n\n    Document doc = tp.getDocument();\n    try\n    {\n        doc.remove(0, doc.getLength()); // Clear\n        for (int i = 0; i &lt; textToDisplay.length(); i++)\n        {\n            doc.insertString(doc.getLength(), textToDisplay.substring(i, i+1),\n                    // Change attribute every other char\n                    i % 2 == 0 ? null : sas);\n        }\n    }\n    catch (BadLocationException ble)\n    {\n        log.warn(\"Cannot happen...\", ble);\n    }\n</code></pre>\n\n<p>As stated in the bug, they should have provided an easy way (some property perhaps, or some injectable stuff) to revert to the old behavior.</p>\n"},{"comments":[{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":1,"creation_date":1352885808,"post_id":13375811,"comment_id":18265193,"body_markdown":"In fact all we need is to let getMinimumSpan() of LabelView return 0 for X_AXIS. ViewFactory is a way to replace default LabelView","body":"In fact all we need is to let getMinimumSpan() of LabelView return 0 for X_AXIS. ViewFactory is a way to replace default LabelView"},{"owner":{"account_id":368268,"reputation":109587,"user_id":714968,"accept_rate":90,"display_name":"mKorbel"},"score":0,"creation_date":1352886155,"post_id":13375811,"comment_id":18265362,"body_markdown":"aaach i can see and get it, thank you, quite correctly to works for `jtp.setComponentOrientation(RTL);` too","body":"aaach i can see and get it, thank you, quite correctly to works for <code>jtp.setComponentOrientation(RTL);</code> too"},{"owner":{"account_id":536920,"reputation":249,"user_id":905673,"accept_rate":67,"display_name":"Luis Gon&#231;alves"},"score":0,"creation_date":1359015076,"post_id":13375811,"comment_id":20203834,"body_markdown":"How are we suppose to solve the casting problem in the line jtp.setEditorKit(new WrapEditorKit());? I get a javax.swing.text.DefaultStyledDocument cannot be cast to javax.swing.text.html.HTMLDocument in that line.","body":"How are we suppose to solve the casting problem in the line jtp.setEditorKit(new WrapEditorKit());? I get a javax.swing.text.DefaultStyledDocument cannot be cast to javax.swing.text.html.HTMLDocument in that line."},{"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"score":0,"creation_date":1359295491,"post_id":13375811,"comment_id":20293651,"body_markdown":"You use another editor kit. Guess HTMLEditorKit. Do the same for the kit.","body":"You use another editor kit. Guess HTMLEditorKit. Do the same for the kit."}],"tags":[],"owner":{"account_id":114756,"reputation":57127,"user_id":301607,"accept_rate":100,"display_name":"StanislavL"},"comment_count":4,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1352884093,"creation_date":1352884093,"answer_id":13375811,"question_id":8666727,"body_markdown":"For me the fix works (tested under 1.7.0_09)\r\n\r\n    import javax.swing.*;\r\n    import javax.swing.text.*;\r\n    import java.awt.*;\r\n    \r\n    public class WrapTestApp extends JFrame {\r\n    \r\n        public static void main ( String[] args ) {\r\n            new WrapTestApp();\r\n        }\r\n    \r\n        public WrapTestApp () {\r\n            setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            setSize(200,200);\r\n            getContentPane().setLayout(new BorderLayout());\r\n            JTextPane jtp = new JTextPane();\r\n            jtp.setEditorKit(new WrapEditorKit());\r\n            JScrollPane jsp = new JScrollPane(jtp);\r\n            jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n            getContentPane().add(jsp, BorderLayout.CENTER);\r\n            jtp.setText(&quot;ExampleOfTheWrapLongWordWithoutSpaces&quot;);\r\n            setVisible(true);\r\n        }\r\n    \r\n        class WrapEditorKit extends StyledEditorKit {\r\n            ViewFactory defaultFactory=new WrapColumnFactory();\r\n            public ViewFactory getViewFactory() {\r\n                return defaultFactory;\r\n            }\r\n    \r\n        }\r\n    \r\n        class WrapColumnFactory implements ViewFactory {\r\n            public View create(Element elem) {\r\n                String kind = elem.getName();\r\n                if (kind != null) {\r\n                    if (kind.equals(AbstractDocument.ContentElementName)) {\r\n                        return new WrapLabelView(elem);\r\n                    } else if (kind.equals(AbstractDocument.ParagraphElementName)) {\r\n                        return new ParagraphView(elem);\r\n                    } else if (kind.equals(AbstractDocument.SectionElementName)) {\r\n                        return new BoxView(elem, View.Y_AXIS);\r\n                    } else if (kind.equals(StyleConstants.ComponentElementName)) {\r\n                        return new ComponentView(elem);\r\n                    } else if (kind.equals(StyleConstants.IconElementName)) {\r\n                        return new IconView(elem);\r\n                    }\r\n                }\r\n    \r\n                // default to text display\r\n                return new LabelView(elem);\r\n            }\r\n        }\r\n        \r\n        class WrapLabelView extends LabelView {\r\n            public WrapLabelView(Element elem) {\r\n                super(elem);\r\n            }\r\n    \r\n            public float getMinimumSpan(int axis) {\r\n                switch (axis) {\r\n                    case View.X_AXIS:\r\n                        return 0;\r\n                    case View.Y_AXIS:\r\n                        return super.getMinimumSpan(axis);\r\n                    default:\r\n                        throw new IllegalArgumentException(&quot;Invalid axis: &quot; + axis);\r\n                }\r\n            }\r\n    \r\n        }\r\n    }","title":"Wrap long words in JTextPane (Java 7)","body":"<p>For me the fix works (tested under 1.7.0_09)</p>\n\n<pre><code>import javax.swing.*;\nimport javax.swing.text.*;\nimport java.awt.*;\n\npublic class WrapTestApp extends JFrame {\n\n    public static void main ( String[] args ) {\n        new WrapTestApp();\n    }\n\n    public WrapTestApp () {\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setSize(200,200);\n        getContentPane().setLayout(new BorderLayout());\n        JTextPane jtp = new JTextPane();\n        jtp.setEditorKit(new WrapEditorKit());\n        JScrollPane jsp = new JScrollPane(jtp);\n        jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        getContentPane().add(jsp, BorderLayout.CENTER);\n        jtp.setText(\"ExampleOfTheWrapLongWordWithoutSpaces\");\n        setVisible(true);\n    }\n\n    class WrapEditorKit extends StyledEditorKit {\n        ViewFactory defaultFactory=new WrapColumnFactory();\n        public ViewFactory getViewFactory() {\n            return defaultFactory;\n        }\n\n    }\n\n    class WrapColumnFactory implements ViewFactory {\n        public View create(Element elem) {\n            String kind = elem.getName();\n            if (kind != null) {\n                if (kind.equals(AbstractDocument.ContentElementName)) {\n                    return new WrapLabelView(elem);\n                } else if (kind.equals(AbstractDocument.ParagraphElementName)) {\n                    return new ParagraphView(elem);\n                } else if (kind.equals(AbstractDocument.SectionElementName)) {\n                    return new BoxView(elem, View.Y_AXIS);\n                } else if (kind.equals(StyleConstants.ComponentElementName)) {\n                    return new ComponentView(elem);\n                } else if (kind.equals(StyleConstants.IconElementName)) {\n                    return new IconView(elem);\n                }\n            }\n\n            // default to text display\n            return new LabelView(elem);\n        }\n    }\n\n    class WrapLabelView extends LabelView {\n        public WrapLabelView(Element elem) {\n            super(elem);\n        }\n\n        public float getMinimumSpan(int axis) {\n            switch (axis) {\n                case View.X_AXIS:\n                    return 0;\n                case View.Y_AXIS:\n                    return super.getMinimumSpan(axis);\n                default:\n                    throw new IllegalArgumentException(\"Invalid axis: \" + axis);\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1425961,"reputation":770,"user_id":1349479,"display_name":"legendmohe"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686293009,"creation_date":1686293009,"answer_id":76437834,"question_id":8666727,"body_markdown":"Overriding getMinimumSpan and return 0 for X_AXIS makes text breaking by whitespace. If you want a character based breaking, try this:\r\n\r\n``` kotlin\r\n\r\n    internal class WhitespaceBasedWrapLabelView(elem: Element?) : LabelView(elem) {\r\n        override fun getMinimumSpan(axis: Int): Float {\r\n            return when (axis) {\r\n                X_AXIS -&gt; 0f\r\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\r\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\r\n            }\r\n        }\r\n    }\r\n    \r\n    internal class CharacterBasedWrapLabelView(elem: Element?) : LabelView(elem) {\r\n        override fun getMinimumSpan(axis: Int): Float {\r\n            return when (axis) {\r\n                X_AXIS -&gt; 0f\r\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\r\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\r\n            }\r\n        }\r\n    \r\n        override fun breakView(axis: Int, p0: Int, pos: Float, len: Float): View {\r\n            if (axis == X_AXIS) {\r\n                checkPainter()\r\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\r\n                // bounded region.\r\n                if (p0 == startOffset &amp;&amp; p1 == endOffset) {\r\n                    return this\r\n                }\r\n                val v = createFragment(p0, p1) as GlyphView\r\n                // v.x = pos\r\n                getTabbedSpan(pos, tabExpander)\r\n                return v\r\n            }\r\n            return super.breakView(axis, p0, pos, len)\r\n        }\r\n    \r\n        override fun getBreakWeight(axis: Int, pos: Float, len: Float): Int {\r\n            if (axis == X_AXIS) {\r\n                checkPainter()\r\n                val p0 = startOffset\r\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\r\n                return if (p1 == p0) BadBreakWeight else GoodBreakWeight\r\n            }\r\n            return super.getBreakWeight(axis, pos, len)\r\n        }\r\n    }\r\n\r\n```","title":"Wrap long words in JTextPane (Java 7)","body":"<p>Overriding getMinimumSpan and return 0 for X_AXIS makes text breaking by whitespace. If you want a character based breaking, try this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    internal class WhitespaceBasedWrapLabelView(elem: Element?) : LabelView(elem) {\n        override fun getMinimumSpan(axis: Int): Float {\n            return when (axis) {\n                X_AXIS -&gt; 0f\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\n            }\n        }\n    }\n    \n    internal class CharacterBasedWrapLabelView(elem: Element?) : LabelView(elem) {\n        override fun getMinimumSpan(axis: Int): Float {\n            return when (axis) {\n                X_AXIS -&gt; 0f\n                Y_AXIS -&gt; super.getMinimumSpan(axis)\n                else -&gt; throw IllegalArgumentException(&quot;Invalid axis: $axis&quot;)\n            }\n        }\n    \n        override fun breakView(axis: Int, p0: Int, pos: Float, len: Float): View {\n            if (axis == X_AXIS) {\n                checkPainter()\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\n                // bounded region.\n                if (p0 == startOffset &amp;&amp; p1 == endOffset) {\n                    return this\n                }\n                val v = createFragment(p0, p1) as GlyphView\n                // v.x = pos\n                getTabbedSpan(pos, tabExpander)\n                return v\n            }\n            return super.breakView(axis, p0, pos, len)\n        }\n    \n        override fun getBreakWeight(axis: Int, pos: Float, len: Float): Int {\n            if (axis == X_AXIS) {\n                checkPainter()\n                val p0 = startOffset\n                val p1 = glyphPainter.getBoundedPosition(this, p0, pos, len)\n                return if (p1 == p0) BadBreakWeight else GoodBreakWeight\n            }\n            return super.getBreakWeight(axis, pos, len)\n        }\n    }\n\n</code></pre>\n"}],"owner":{"account_id":288533,"reputation":463,"user_id":589004,"display_name":"Al-Khwarizmi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5522,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686293009,"creation_date":1325154818,"question_id":8666727,"body_markdown":"In all versions of Java up to 6, the default behaviour of a JTextPane put inside a JScrollPane was: wrap lines at word boundaries if possible. If not, then wrap them anyway.\r\n\r\nIn JDK 7, the default behaviour seems to be: wrap lines at word boundaries if possible. If not, just expand the width of the JTextPane (never wrap long words).\r\n\r\nIt is easy to reproduce this, here is a SSCCE:\r\n\r\n&lt;pre&gt;&lt;code&gt;\r\npublic class WrappingTest extends JFrame\r\n{\r\n\r\n\tpublic static void main ( String[] args )\r\n\t{\r\n\t\tnew WrappingTest();\t\r\n\t}\r\n\t\r\n\tpublic WrappingTest ()\r\n\t{\r\n\t\tsetSize(200,200);\r\n\t\tgetContentPane().setLayout(new BorderLayout());\r\n\t\tJTextPane jtp = new JTextPane();\r\n\t\tJScrollPane jsp = new JScrollPane(jtp);\r\n\t\tjsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\r\n\t\tgetContentPane().add(jsp,BorderLayout.CENTER);\r\n\t\tsetVisible(true);\r\n\t}\r\n\t\r\n}\r\n&lt;/code&gt;&lt;/pre&gt;\r\n\r\nJust run it in JDK 6 and in JDK 7, write some small words, and write a long word, and you will see the difference.\r\n\r\nMy question is simple... the new default behaviour in JDK 7 totally messes a program of mine (they should be more careful at Oracle with changing this kind of defaults... they seem unimportant but when you&#39;re using a JTextPane to display data that usually contains very long strings of letters, they&#39;re not so unimportant - in fact I&#39;m going to file a bug report, but I&#39;d like to have a workaround while/if they don&#39;t resolve it). Any way to go back to the previous behaviour?\r\n\r\nNote that I have checked the answer to the related question https://stackoverflow.com/questions/7036543/how-is-word-wrapping-implemented-in-jtextpane-and-how-do-i-make-it-wrap-a-strin but it doesn&#39;t answer this question - it provides a way of making the JTextPane wrap without any regard at all for whitespace, but for me the desired behaviour is split lines at whitespace if possible, and elsewhere if not possible (as in previous Java versions).","title":"Wrap long words in JTextPane (Java 7)","body":"<p>In all versions of Java up to 6, the default behaviour of a JTextPane put inside a JScrollPane was: wrap lines at word boundaries if possible. If not, then wrap them anyway.</p>\n\n<p>In JDK 7, the default behaviour seems to be: wrap lines at word boundaries if possible. If not, just expand the width of the JTextPane (never wrap long words).</p>\n\n<p>It is easy to reproduce this, here is a SSCCE:</p>\n\n<pre><code>\npublic class WrappingTest extends JFrame\n{\n\n    public static void main ( String[] args )\n    {\n        new WrappingTest(); \n    }\n\n    public WrappingTest ()\n    {\n        setSize(200,200);\n        getContentPane().setLayout(new BorderLayout());\n        JTextPane jtp = new JTextPane();\n        JScrollPane jsp = new JScrollPane(jtp);\n        jsp.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_AS_NEEDED);\n        getContentPane().add(jsp,BorderLayout.CENTER);\n        setVisible(true);\n    }\n\n}\n</code></pre>\n\n<p>Just run it in JDK 6 and in JDK 7, write some small words, and write a long word, and you will see the difference.</p>\n\n<p>My question is simple... the new default behaviour in JDK 7 totally messes a program of mine (they should be more careful at Oracle with changing this kind of defaults... they seem unimportant but when you're using a JTextPane to display data that usually contains very long strings of letters, they're not so unimportant - in fact I'm going to file a bug report, but I'd like to have a workaround while/if they don't resolve it). Any way to go back to the previous behaviour?</p>\n\n<p>Note that I have checked the answer to the related question <a href=\"https://stackoverflow.com/questions/7036543/how-is-word-wrapping-implemented-in-jtextpane-and-how-do-i-make-it-wrap-a-strin\">How is word-wrapping implemented in JTextPane, and how do I make it wrap a string without spaces?</a> but it doesn't answer this question - it provides a way of making the JTextPane wrap without any regard at all for whitespace, but for me the desired behaviour is split lines at whitespace if possible, and elsewhere if not possible (as in previous Java versions).</p>\n"},{"tags":["java","spring-webflux","project-reactor","reactive-streams"],"comments":[{"owner":{"account_id":10108456,"reputation":3914,"user_id":7470253,"display_name":"M. Prokhorov"},"score":1,"creation_date":1686229373,"post_id":76431962,"comment_id":134772442,"body_markdown":"From my understanding or the [doc](https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#repeat--), `Repeat` operation wraps the original `Mono` to do `onSubscribe` as soon as the original `Mono` does its `onComplete`. The `Empty` mono only ever calls `onComplete`. So what you get then is something which never calls `onNext`, but constantly and repeatedly calls `onSubscribe`.","body":"From my understanding or the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Mono.html#repeat--\" rel=\"nofollow noreferrer\">doc</a>, <code>Repeat</code> operation wraps the original <code>Mono</code> to do <code>onSubscribe</code> as soon as the original <code>Mono</code> does its <code>onComplete</code>. The <code>Empty</code> mono only ever calls <code>onComplete</code>. So what you get then is something which never calls <code>onNext</code>, but constantly and repeatedly calls <code>onSubscribe</code>."}],"answers":[{"tags":[],"owner":{"account_id":2157438,"reputation":1216,"user_id":1912318,"display_name":"ishimwe"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686229674,"creation_date":1686229674,"answer_id":76432184,"question_id":76431962,"body_markdown":"Repeat does not emit the response, it keeps subscription active which makes flux endless. To achieve what you described, you can change your code to be like this:\r\n\r\n    void emptyFluxZip() {\r\n      Flux.zip(\r\n        Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n        Mono.empty().flatMapMany(value -&gt; Mono.just(value).repeat())\r\n      ).subscribe(System.out::println);\r\n      try {\r\n        Thread.sleep(1000);\r\n      } catch (InterruptedException e) {\r\n        Thread.currentThread().interrupt();\r\n      }\r\n    }\r\n\r\n","title":"Flux.zip with repeated empty Mono leads to endless Flux instead of empty Flux","body":"<p>Repeat does not emit the response, it keeps subscription active which makes flux endless. To achieve what you described, you can change your code to be like this:</p>\n<pre><code>void emptyFluxZip() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.empty().flatMapMany(value -&gt; Mono.just(value).repeat())\n  ).subscribe(System.out::println);\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":11370348,"reputation":908,"user_id":8336060,"display_name":"Ogod"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686292186,"creation_date":1686228032,"question_id":76431962,"body_markdown":"What is the reason that the following code produces an endless Flux instead of an empty Flux?\r\nIf I replace .repeat() on the empty Mono with the code in the comments it works as expected (a Flux which does not emit any value).\r\n\r\n```java\r\nvoid endlessFluxZipBecauseOfEmptyMonoRepeat() {\r\n  Flux.zip(\r\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n    Mono.empty().repeat() // .flatMapMany(value -&gt; Mono.just(value).repeat())\r\n  ).subscribe(System.out::println);\r\n  try {\r\n    Thread.sleep(1000);\r\n  } catch (InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n  }\r\n}\r\n```\r\n\r\n**Update 20230609:**\r\n\r\nThis example with an non empty Mono will terminate as expected when the Flux completes.\r\n```\r\nvoid finiteFluxZipBecauseOfNonEmptyMonoRepeat() {\r\n  Flux.zip(\r\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\r\n    Mono.just(1).repeat()\r\n  ).subscribe(x -&gt; System.out.println(&quot;value: &quot; + x));\r\n  try {\r\n    Thread.sleep(1000);\r\n  } catch (InterruptedException e) {\r\n    Thread.currentThread().interrupt();\r\n  }\r\n}\r\n```\r\n\r\nThe result looks like this:\r\n```\r\n| Flux | Mono |\r\n| -----| ---- |\r\n| A    | 1    |\r\n| B    | 1    |\r\n| C    | 1    |\r\n| D    | 1    |\r\n| E    | 1    |\r\n```\r\n\r\n---\r\n\r\nSo why does the first examle runs endlessly while the second example terminates just fine? The Mono completes in both cases, the only difference is that in the non empty case it also emits a value (onNext signal).\r\n\r\nFrom the doc of `Flux.zip`:\r\n`Zip two sources together, that is to say wait for all the sources to emit one element and combine these elements once into a Tuple2. The operator will continue doing so until any of the sources completes.`\r\nFrom my understanding the empty Mono completes directly and I would expect that this should end the `Flux.zip` immediately resulting in an empty Flux.\r\nOr the `Flux.zip` should end when the inner Flux has emitted all it&#39;s values (A, B, C, D, E) but the resulting Flux must still be empty as there is no value to zip with in the Mono.","title":"Flux.zip with repeated empty Mono leads to endless Flux instead of empty Flux","body":"<p>What is the reason that the following code produces an endless Flux instead of an empty Flux?\nIf I replace .repeat() on the empty Mono with the code in the comments it works as expected (a Flux which does not emit any value).</p>\n<pre class=\"lang-java prettyprint-override\"><code>void endlessFluxZipBecauseOfEmptyMonoRepeat() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.empty().repeat() // .flatMapMany(value -&gt; Mono.just(value).repeat())\n  ).subscribe(System.out::println);\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n<p><strong>Update 20230609:</strong></p>\n<p>This example with an non empty Mono will terminate as expected when the Flux completes.</p>\n<pre><code>void finiteFluxZipBecauseOfNonEmptyMonoRepeat() {\n  Flux.zip(\n    Flux.just(&quot;A&quot;, &quot;B&quot;, &quot;C&quot;, &quot;D&quot;, &quot;E&quot;),\n    Mono.just(1).repeat()\n  ).subscribe(x -&gt; System.out.println(&quot;value: &quot; + x));\n  try {\n    Thread.sleep(1000);\n  } catch (InterruptedException e) {\n    Thread.currentThread().interrupt();\n  }\n}\n</code></pre>\n<p>The result looks like this:</p>\n<pre><code>| Flux | Mono |\n| -----| ---- |\n| A    | 1    |\n| B    | 1    |\n| C    | 1    |\n| D    | 1    |\n| E    | 1    |\n</code></pre>\n<hr />\n<p>So why does the first examle runs endlessly while the second example terminates just fine? The Mono completes in both cases, the only difference is that in the non empty case it also emits a value (onNext signal).</p>\n<p>From the doc of <code>Flux.zip</code>:\n<code>Zip two sources together, that is to say wait for all the sources to emit one element and combine these elements once into a Tuple2. The operator will continue doing so until any of the sources completes.</code>\nFrom my understanding the empty Mono completes directly and I would expect that this should end the <code>Flux.zip</code> immediately resulting in an empty Flux.\nOr the <code>Flux.zip</code> should end when the inner Flux has emitted all it's values (A, B, C, D, E) but the resulting Flux must still be empty as there is no value to zip with in the Mono.</p>\n"},{"tags":["java","jpa","liquibase"],"answers":[{"tags":[],"owner":{"account_id":19497,"reputation":15503,"user_id":45756,"accept_rate":87,"display_name":"Nathan Voxland"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1384805500,"creation_date":1384805500,"answer_id":20056907,"question_id":20031317,"body_markdown":"The problem is that you are calling liquibase with &quot;java -jar&quot;. The Class-path line in the jar can&#39;t pick up additional jars from the lib directory and so the liquibase-hibernate.jar is not being included in the classpath.\r\n\r\nRun liquibase using the sh/bat file included in the liquibase jar: `real_path/liquibase[.bat] diffChangeLog`","title":"Liquibase JPA configuration of the referenceUrl","body":"<p>The problem is that you are calling liquibase with \"java -jar\". The Class-path line in the jar can't pick up additional jars from the lib directory and so the liquibase-hibernate.jar is not being included in the classpath.</p>\n\n<p>Run liquibase using the sh/bat file included in the liquibase jar: <code>real_path/liquibase[.bat] diffChangeLog</code></p>\n"}],"owner":{"account_id":1483766,"reputation":5172,"user_id":1392463,"accept_rate":100,"display_name":"Ioan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4240,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":20056907,"answer_count":1,"score":2,"last_activity_date":1686291955,"creation_date":1384695474,"question_id":20031317,"body_markdown":"I am struggling to build the `JPA` annotated classes diff changesets against my database, using **liquibase**.\r\nStill, I am very confused about few things.\r\n\r\nI use the following : \r\n\r\n    liquibase.properties\r\n    \r\n    #liquibase.properties\r\n    driver:                 org.postgresql.Driver\r\n    classpath:              real_path/.m2/repository/org/postgresql/postgresql/9.2-1002-jdbc4/postgresql-9.2-1002-jdbc4.jar\r\n    url:                    jdbc:postgresql://localhost:5432/diquiz\r\n    username:               postgres\r\n    password:               postgres\r\n    referenceUrl:           hibernate:ejb3:diQuiz\r\n    referenceUsername:      postgres\r\n    referencePassword:      postgres\r\n    changeLogFile:          changelog-master.xml\r\n\r\nand \r\n\r\n    java -jar real_path\\liquibase-core-3.0.6.jar diffChangeLog\r\n\r\nand a normal `persistence.xml` file with standard JPA configuration.\r\n\r\nI get an error which says : `Liquibase diffChangeLog Failed: java.lang.RuntimeException: Cannot find database driver: Driver class was not specified and could not be determined from the url (hibernate:ejb3:unit)`\r\n\r\nI am confused because the below answer says that we need a `hibernate.cfg.xml` file (even I have `persistence.xml` instead), but then he says that we can use some url&#39;s which are defined on wiki page. \r\nhttps://stackoverflow.com/questions/776787/hibernate-using-jpa-annotated-entities-and-liquibase\r\n\r\nWiki page says that if we need to use JPA, we can choose between three types of URL&#39;s.\r\n\r\n    hibernate:ejb3:myPersistenceUnit\r\n    hibernate:ejb3:com.example.MyConfigFactory\r\n    hibernate:ejb3:myPersistenceUnit?hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\r\n\r\nSo, I choose the first one, and I&#39;ve set in the liquidbase.properties this as `referenceUrl`.\r\n\r\nAlso, on the wiki page it is mentioned : (https://github.com/liquibase/liquibase-hibernate/wiki)\r\n\r\n&gt; If you are using the command line version of Liquibase, you simply\r\n&gt; have to add the liquibase-hibernate[3|4].jar file to the\r\n&gt; LIQUIBASE_HOME/lib directory.\r\n\r\nI did this too.\r\nStill, doesnt work. Can someone explain me somewhow what am I missing ?\r\n\r\nThanks a lot!\r\n","title":"Liquibase JPA configuration of the referenceUrl","body":"<p>I am struggling to build the <code>JPA</code> annotated classes diff changesets against my database, using <strong>liquibase</strong>.\nStill, I am very confused about few things.</p>\n\n<p>I use the following : </p>\n\n<pre><code>liquibase.properties\n\n#liquibase.properties\ndriver:                 org.postgresql.Driver\nclasspath:              real_path/.m2/repository/org/postgresql/postgresql/9.2-1002-jdbc4/postgresql-9.2-1002-jdbc4.jar\nurl:                    jdbc:postgresql://localhost:5432/diquiz\nusername:               postgres\npassword:               postgres\nreferenceUrl:           hibernate:ejb3:diQuiz\nreferenceUsername:      postgres\nreferencePassword:      postgres\nchangeLogFile:          changelog-master.xml\n</code></pre>\n\n<p>and </p>\n\n<pre><code>java -jar real_path\\liquibase-core-3.0.6.jar diffChangeLog\n</code></pre>\n\n<p>and a normal <code>persistence.xml</code> file with standard JPA configuration.</p>\n\n<p>I get an error which says : <code>Liquibase diffChangeLog Failed: java.lang.RuntimeException: Cannot find database driver: Driver class was not specified and could not be determined from the url (hibernate:ejb3:unit)</code></p>\n\n<p>I am confused because the below answer says that we need a <code>hibernate.cfg.xml</code> file (even I have <code>persistence.xml</code> instead), but then he says that we can use some url's which are defined on wiki page. \n<a href=\"https://stackoverflow.com/questions/776787/hibernate-using-jpa-annotated-entities-and-liquibase\">Hibernate using JPA (annotated Entities) and liquibase</a></p>\n\n<p>Wiki page says that if we need to use JPA, we can choose between three types of URL's.</p>\n\n<pre><code>hibernate:ejb3:myPersistenceUnit\nhibernate:ejb3:com.example.MyConfigFactory\nhibernate:ejb3:myPersistenceUnit?hibernate.ejb.naming_strategy=org.hibernate.cfg.ImprovedNamingStrategy\n</code></pre>\n\n<p>So, I choose the first one, and I've set in the liquidbase.properties this as <code>referenceUrl</code>.</p>\n\n<p>Also, on the wiki page it is mentioned : (<a href=\"https://github.com/liquibase/liquibase-hibernate/wiki\" rel=\"nofollow noreferrer\">https://github.com/liquibase/liquibase-hibernate/wiki</a>)</p>\n\n<blockquote>\n  <p>If you are using the command line version of Liquibase, you simply\n  have to add the liquibase-hibernate[3|4].jar file to the\n  LIQUIBASE_HOME/lib directory.</p>\n</blockquote>\n\n<p>I did this too.\nStill, doesnt work. Can someone explain me somewhow what am I missing ?</p>\n\n<p>Thanks a lot!</p>\n"},{"tags":["java","eclipse","maven","protocol-buffers"],"comments":[{"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"score":0,"creation_date":1402524444,"post_id":24156244,"comment_id":37312110,"body_markdown":"What is the output of `protoc`? Presumably it printed an error.","body":"What is the output of <code>protoc</code>? Presumably it printed an error."},{"owner":{"account_id":71611,"reputation":26366,"user_id":6998684,"display_name":"IgorGanapolsky"},"score":0,"creation_date":1483632890,"post_id":24156244,"comment_id":70184822,"body_markdown":"Where did you download the **protoc** binary from?","body":"Where did you download the <b>protoc</b> binary from?"}],"answers":[{"tags":[],"owner":{"account_id":3066499,"reputation":285,"user_id":2598063,"accept_rate":80,"display_name":"hack4m"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1402587041,"creation_date":1402587041,"answer_id":24188327,"question_id":24156244,"body_markdown":"Problem solved by change maven3.2 to maven3.0.5!","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>Problem solved by change maven3.2 to maven3.0.5!</p>\n"},{"tags":[],"owner":{"account_id":11373092,"reputation":1,"user_id":8338158,"display_name":"Leo Hua"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500553507,"creation_date":1500553507,"answer_id":45214644,"question_id":24156244,"body_markdown":"The plugin com.google.protobuf.tools:maven-protoc-plugin:0.3.2 &#39;s repository is invalid. so need change the repository url.\r\n\r\nthe pom pluginRepositories segement is follow:\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;protoc-plugin&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repo1.maven.org/maven2/org/xolstice/maven/plugins/protobuf-maven-plugin/&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\nthe pom plugin segement is follow:\r\n\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.3.2&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;protocExecutable&gt;E:\\Program\\protoc-2.5.0\\protoc.exe&lt;/protocExecutable&gt;\r\n\t\t\t\t\t&lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/protobuf/java/&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>The plugin com.google.protobuf.tools:maven-protoc-plugin:0.3.2 's repository is invalid. so need change the repository url.</p>\n\n<p>the pom pluginRepositories segement is follow:</p>\n\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;protoc-plugin&lt;/id&gt;\n        &lt;url&gt;https://repo1.maven.org/maven2/org/xolstice/maven/plugins/protobuf-maven-plugin/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n\n<p>the pom plugin segement is follow:</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.3.2&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;protocExecutable&gt;E:\\Program\\protoc-2.5.0\\protoc.exe&lt;/protocExecutable&gt;\n                &lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\n                &lt;outputDirectory&gt;${project.basedir}/src/main/protobuf/java/&lt;/outputDirectory&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8334821,"reputation":331,"user_id":6262124,"display_name":"Nfff3"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599853866,"creation_date":1599853866,"answer_id":63853473,"question_id":24156244,"body_markdown":"I had this error thanks to my antivirus (BitDefender). It blocked protoc-windows.exe. The funny part is that even adding the executable to the exception list, it still didn&#39;t recognize it as an exception, it recognized it as a new executable...This is so frustrating.","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I had this error thanks to my antivirus (BitDefender). It blocked protoc-windows.exe. The funny part is that even adding the executable to the exception list, it still didn't recognize it as an exception, it recognized it as a new executable...This is so frustrating.</p>\n"},{"tags":[],"owner":{"account_id":10914885,"reputation":41,"user_id":8023023,"display_name":"hahahaha123567"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1623930600,"creation_date":1623930600,"answer_id":68018750,"question_id":24156244,"body_markdown":"Check if your proto files are valid\r\n\r\nThe error solved when I delete generated java files and unfinished proto file","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>Check if your proto files are valid</p>\n<p>The error solved when I delete generated java files and unfinished proto file</p>\n"},{"tags":[],"owner":{"account_id":19564760,"reputation":83,"user_id":18011833,"display_name":"MarkKush"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665573398,"creation_date":1665573398,"answer_id":74040914,"question_id":24156244,"body_markdown":"In my case, the problem arose due to the fact that on the path to the folder in which my project was located in the tree there were folders not in English and the path was not clear. After I put my project in a folder on the &quot;C&quot; drive C:\\Projects , everything immediately started working","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>In my case, the problem arose due to the fact that on the path to the folder in which my project was located in the tree there were folders not in English and the path was not clear. After I put my project in a folder on the &quot;C&quot; drive C:\\Projects , everything immediately started working</p>\n"},{"comments":[{"owner":{"account_id":8236751,"reputation":114,"user_id":6195682,"display_name":"hamed"},"score":0,"creation_date":1700985922,"post_id":76437664,"comment_id":136717334,"body_markdown":"in my case ${os.detected.classifier} solves the problem :)","body":"in my case ${os.detected.classifier} solves the problem :)"}],"tags":[],"owner":{"account_id":15813290,"reputation":85,"user_id":11508174,"display_name":"Ker Laeda"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686291288,"creation_date":1686291288,"answer_id":76437664,"question_id":24156244,"body_markdown":"I solverd this problem by updating version of &quot;pluginArtifact&quot; in the configuration of plugin. The version of &quot;pluginArtifact&quot; didn&#39;t meet to the version of the grpc dependencies.\r\nMy grpc dependencies have version 1.53.0 but my pluginArtifact was 1.23.0\r\nSo I updated pluginArtifact to 1.53.0 and it solved this problem.\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.53.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n                &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.53.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.13.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\r\n            &lt;version&gt;1.53.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n     &lt;plugin&gt;\r\n                &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.6.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\r\n                    &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\r\n                    &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.53.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;compile-custom&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I solverd this problem by updating version of &quot;pluginArtifact&quot; in the configuration of plugin. The version of &quot;pluginArtifact&quot; didn't meet to the version of the grpc dependencies.\nMy grpc dependencies have version 1.53.0 but my pluginArtifact was 1.23.0\nSo I updated pluginArtifact to 1.53.0 and it solved this problem.</p>\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\n            &lt;version&gt;1.53.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n            &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\n            &lt;version&gt;1.53.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.13.2&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-netty-shaded&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-protobuf&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.grpc&lt;/groupId&gt;\n        &lt;artifactId&gt;grpc-stub&lt;/artifactId&gt;\n        &lt;version&gt;1.53.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n &lt;plugin&gt;\n            &lt;groupId&gt;org.xolstice.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;protobuf-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.6.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;protocArtifact&gt;com.google.protobuf:protoc:3.9.0:exe:${os.detected.classifier}&lt;/protocArtifact&gt;\n                &lt;pluginId&gt;grpc-java&lt;/pluginId&gt;\n                &lt;pluginArtifact&gt;io.grpc:protoc-gen-grpc-java:1.53.0:exe:${os.detected.classifier}&lt;/pluginArtifact&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                        &lt;goal&gt;compile-custom&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":3066499,"reputation":285,"user_id":2598063,"accept_rate":80,"display_name":"hack4m"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18798,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":24188327,"answer_count":6,"score":3,"last_activity_date":1686291288,"creation_date":1402469018,"question_id":24156244,"body_markdown":"I am compiling this project [googleplaycrawler][1]\r\n\r\n\r\n  [1]: https://github.com/Akdeniz/google-play-crawler\r\n\r\nbut Eclipse keep complaining \r\n\r\n&gt; protoc did not exit cleanly. Review output for more information. (com.google.protobuf.tools:maven-protoc-plugin:0.3.1:compile:default:generate-sources)\r\n\r\n\r\nBELOW is `pom.xml`\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.3&lt;/version&gt;\r\n\t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n\t&lt;name&gt;Google Play Crawler&lt;/name&gt;\r\n\t&lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\r\n\r\n\t&lt;description&gt;Play with Google Play API :)&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n\t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.1.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpcore&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;httpmime&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;4.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mina-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.7&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.7.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.5.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;6.1.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;protoc-plugin&lt;/id&gt;\r\n\t\t\t&lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.1&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;source&gt;1.7&lt;/source&gt;\r\n\t\t\t\t\t&lt;target&gt;1.7&lt;/target&gt;\r\n\t\t\t\t\t&lt;encoding&gt;UTF-8&lt;/encoding&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;2.3&lt;/version&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;attached&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t\t\t&lt;descriptorRefs&gt;\r\n\t\t\t\t\t\t\t\t&lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n\t\t\t\t\t\t\t&lt;/descriptorRefs&gt;\r\n\t\t\t\t\t\t\t&lt;archive&gt;\r\n\t\t\t\t\t\t\t\t&lt;manifest&gt;\r\n\t\t\t\t\t\t\t\t\t&lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\r\n\t\t\t\t\t\t\t\t&lt;/manifest&gt;\r\n\t\t\t\t\t\t\t&lt;/archive&gt;\r\n\t\t\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;0.3.1&lt;/version&gt;\r\n\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\r\n\t\t\t\t\t&lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\r\n\t\t\t\t\t&lt;languageSpecifications&gt;\r\n\t\t\t\t\t\t&lt;LanguageSpecification&gt;\r\n\t\t\t\t\t\t\t&lt;language&gt;JAVA&lt;/language&gt;\r\n\t\t\t\t\t\t\t&lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\r\n\t\t\t\t\t\t&lt;/LanguageSpecification&gt;\r\n\t\t\t\t\t&lt;/languageSpecifications&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t\t&lt;executions&gt;\r\n\t\t\t\t\t&lt;execution&gt;\r\n\t\t\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t\t\t&lt;goal&gt;compile&lt;/goal&gt;\r\n\t\t\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t\t&lt;/execution&gt;\r\n\t\t\t\t&lt;/executions&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n\r\n\r\nThe Error Message:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:165)\r\n\t... 20 more\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/sonatype/aether/RepositorySystem;\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Class.java:2397)\r\n    \tat java.lang.Class.getDeclaredFields(Class.java:1806)\r\n    \tat com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:661)\r\n    \tat com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:366)\r\n    \tat com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:165)\r\n    \tat com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:609)\r\n    \tat com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:565)\r\n    \tat com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:551)\r\n    \tat com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:865)\r\n    \tat com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:790)\r\n    \tat com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:278)\r\n    \tat com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:210)\r\n    \tat com.google.inject.internal.InjectorImpl.getProviderOrThrow(InjectorImpl.java:986)\r\n    \tat com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:1019)\r\n    \tat com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:982)\r\n    \tat com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\r\n    \tat org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\r\n    \tat com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\r\n    \tat org.eclipse.sisu.plexus.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:133)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\r\n    \tat com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\r\n    \tat com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\r\n    \tat com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\r\n    \tat com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\r\n    \tat com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\r\n    \tat com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\r\n    \tat com.google.inject.Scopes$1$1.get(Scopes.java:59)\r\n    \tat org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:82)\r\n    \tat org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:260)\r\n    \tat org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:252)\r\n    \tat org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:462)\r\n    \tat org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:120)\r\n    \t... 20 more\r\n    Caused by: java.lang.ClassNotFoundException: org.sonatype.aether.RepositorySystem\r\n    \tat org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\r\n    \tat org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\r\n    \t... 57 more","title":"How to solve &quot;protoc did not exit cleanly&quot;?","body":"<p>I am compiling this project <a href=\"https://github.com/Akdeniz/google-play-crawler\" rel=\"nofollow\">googleplaycrawler</a></p>\n\n<p>but Eclipse keep complaining </p>\n\n<blockquote>\n  <p>protoc did not exit cleanly. Review output for more information. (com.google.protobuf.tools:maven-protoc-plugin:0.3.1:compile:default:generate-sources)</p>\n</blockquote>\n\n<p>BELOW is <code>pom.xml</code></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\nxsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;com.akdeniz&lt;/groupId&gt;\n&lt;artifactId&gt;googleplaycrawler&lt;/artifactId&gt;\n&lt;version&gt;0.3&lt;/version&gt;\n&lt;packaging&gt;jar&lt;/packaging&gt;\n\n&lt;name&gt;Google Play Crawler&lt;/name&gt;\n&lt;url&gt;https://github.com/Akdeniz/google-play-crawler&lt;/url&gt;\n\n&lt;description&gt;Play with Google Play API :)&lt;/description&gt;\n\n&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n&lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n        &lt;version&gt;1.1.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.sourceforge.argparse4j&lt;/groupId&gt;\n        &lt;artifactId&gt;argparse4j&lt;/artifactId&gt;\n        &lt;version&gt;0.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpcore&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient-cache&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpmime&lt;/artifactId&gt;\n        &lt;version&gt;4.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\n        &lt;artifactId&gt;mina-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n        &lt;version&gt;1.7.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.protobuf&lt;/groupId&gt;\n        &lt;artifactId&gt;protobuf-java&lt;/artifactId&gt;\n        &lt;version&gt;2.5.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;6.1.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n&lt;/dependencies&gt;\n\n&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;protoc-plugin&lt;/id&gt;\n        &lt;url&gt;http://sergei-ivanov.github.com/maven-protoc-plugin/repo/releases/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.7&lt;/source&gt;\n                &lt;target&gt;1.7&lt;/target&gt;\n                &lt;encoding&gt;UTF-8&lt;/encoding&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;attached&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;configuration&gt;\n                        &lt;descriptorRefs&gt;\n                            &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                        &lt;/descriptorRefs&gt;\n                        &lt;archive&gt;\n                            &lt;manifest&gt;\n                                &lt;mainClass&gt;com.akdeniz.googleplaycrawler.cli.googleplay&lt;/mainClass&gt;\n                            &lt;/manifest&gt;\n                        &lt;/archive&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;com.google.protobuf.tools&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-protoc-plugin&lt;/artifactId&gt;\n            &lt;version&gt;0.3.1&lt;/version&gt;\n\n            &lt;configuration&gt;\n                &lt;protocExecutable&gt;protoc&lt;/protocExecutable&gt;\n                &lt;protoSourceRoot&gt;${project.basedir}/src/main/protobuf/&lt;/protoSourceRoot&gt;\n                &lt;languageSpecifications&gt;\n                    &lt;LanguageSpecification&gt;\n                        &lt;language&gt;JAVA&lt;/language&gt;\n                        &lt;outputDirectory&gt;${project.basedir}/src/main/java&lt;/outputDirectory&gt;\n                    &lt;/LanguageSpecification&gt;\n                &lt;/languageSpecifications&gt;\n            &lt;/configuration&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;compile&lt;/goal&gt;\n                    &lt;/goals&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p></p>\n\n<p>The Error Message:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:165)\n... 20 more\nCaused by: java.lang.NoClassDefFoundError: Lorg/sonatype/aether/RepositorySystem;\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Class.java:2397)\n    at java.lang.Class.getDeclaredFields(Class.java:1806)\n    at com.google.inject.spi.InjectionPoint.getInjectionPoints(InjectionPoint.java:661)\n    at com.google.inject.spi.InjectionPoint.forInstanceMethodsAndFields(InjectionPoint.java:366)\n    at com.google.inject.internal.ConstructorBindingImpl.getInternalDependencies(ConstructorBindingImpl.java:165)\n    at com.google.inject.internal.InjectorImpl.getInternalDependencies(InjectorImpl.java:609)\n    at com.google.inject.internal.InjectorImpl.cleanup(InjectorImpl.java:565)\n    at com.google.inject.internal.InjectorImpl.initializeJitBinding(InjectorImpl.java:551)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBinding(InjectorImpl.java:865)\n    at com.google.inject.internal.InjectorImpl.createJustInTimeBindingRecursive(InjectorImpl.java:790)\n    at com.google.inject.internal.InjectorImpl.getJustInTimeBinding(InjectorImpl.java:278)\n    at com.google.inject.internal.InjectorImpl.getBindingOrThrow(InjectorImpl.java:210)\n    at com.google.inject.internal.InjectorImpl.getProviderOrThrow(InjectorImpl.java:986)\n    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:1019)\n    at com.google.inject.internal.InjectorImpl.getProvider(InjectorImpl.java:982)\n    at com.google.inject.internal.InjectorImpl.getInstance(InjectorImpl.java:1032)\n    at org.eclipse.sisu.space.AbstractDeferredClass.get(AbstractDeferredClass.java:48)\n    at com.google.inject.internal.ProviderInternalFactory.provision(ProviderInternalFactory.java:86)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.provision(InternalFactoryToInitializableAdapter.java:55)\n    at com.google.inject.internal.ProviderInternalFactory$1.call(ProviderInternalFactory.java:70)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:100)\n    at org.eclipse.sisu.plexus.PlexusLifecycleManager.onProvision(PlexusLifecycleManager.java:133)\n    at com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\n    at com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:55)\n    at com.google.inject.internal.ProviderInternalFactory.circularGet(ProviderInternalFactory.java:68)\n    at com.google.inject.internal.InternalFactoryToInitializableAdapter.get(InternalFactoryToInitializableAdapter.java:47)\n    at com.google.inject.internal.InjectorImpl$2$1.call(InjectorImpl.java:997)\n    at com.google.inject.internal.InjectorImpl.callInContext(InjectorImpl.java:1047)\n    at com.google.inject.internal.InjectorImpl$2.get(InjectorImpl.java:993)\n    at com.google.inject.Scopes$1$1.get(Scopes.java:59)\n    at org.eclipse.sisu.inject.LazyBeanEntry.getValue(LazyBeanEntry.java:82)\n    at org.eclipse.sisu.plexus.LazyPlexusBean.getValue(LazyPlexusBean.java:51)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:260)\n    at org.codehaus.plexus.DefaultPlexusContainer.lookup(DefaultPlexusContainer.java:252)\n    at org.apache.maven.plugin.internal.DefaultMavenPluginManager.getConfiguredMojo(DefaultMavenPluginManager.java:462)\n    at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:120)\n    ... 20 more\nCaused by: java.lang.ClassNotFoundException: org.sonatype.aether.RepositorySystem\n    at org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy.loadClass(SelfFirstStrategy.java:50)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.unsynchronizedLoadClass(ClassRealm.java:259)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:235)\n    at org.codehaus.plexus.classworlds.realm.ClassRealm.loadClass(ClassRealm.java:227)\n    ... 57 more\n</code></pre>\n"},{"tags":["java","zkoss"],"comments":[{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1686295856,"post_id":76437585,"comment_id":134782105,"body_markdown":"Tomcat 10 moved from the `javax.*` packages to the new `jakarta.*` packages. The simplest solutions is probably to use Tomcat 9 instead. The alternative would be to update *each* piece of software you use that interacts with these package to a version that *also* uses the new packages (such versions are often not yet available).","body":"Tomcat 10 moved from the <code>javax.*</code> packages to the new <code>jakarta.*</code> packages. The simplest solutions is probably to use Tomcat 9 instead. The alternative would be to update <i>each</i> piece of software you use that interacts with these package to a version that <i>also</i> uses the new packages (such versions are often not yet available)."}],"owner":{"account_id":28777205,"reputation":1,"user_id":22039551,"display_name":"Nguyen Vu Cuong"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686291241,"creation_date":1686290485,"question_id":76437585,"body_markdown":"I&#39;m very new to this Zkoss framework and web developing\r\nThe problem I&#39;m facing is that when I run the &quot;index.zul&quot; file on my Apache Tomcat server, it always result in a 404 error despite following every tutorial I found.\r\nThe details of the error is:\r\n_____________________________________\r\nHTTP Status 404 – Not Found\r\nStatus Report Type\r\n\r\nmessage The requested resource [/test2/index.zul] is not available\r\n\r\ndescription The requested resource is not available.\r\n\r\nApache Tomcat/10.1.9\r\n_____________________________________\r\nI&#39;m using zk studio version 9.6.0.1, Apache Tomcat version 10.1.9\r\nThis is what appears in the console:\r\n\r\n```\r\nSEVERE: Error configuring application listener of class [org.zkoss.zk.ui.http.HttpSessionListener]\r\njava.lang.NoClassDefFoundError: javax/servlet/ServletRequestAttributeListener\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2487)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:865)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472)\r\n\tat org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\r\n\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4381)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\r\n\tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\r\n\tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\r\n\tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:910)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\tat org.apache.catalina.startup.Catalina.start(Catalina.java:795)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\r\n\tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\r\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletRequestAttributeListener\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\r\n\tat org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\r\n\t... 40 more\r\n```\r\n\r\n\r\nI appreciate you all!","title":"Zkoss Hello World example 404 not found error","body":"<p>I'm very new to this Zkoss framework and web developing\nThe problem I'm facing is that when I run the &quot;index.zul&quot; file on my Apache Tomcat server, it always result in a 404 error despite following every tutorial I found.\nThe details of the error is:</p>\n<hr />\n<p>HTTP Status 404 – Not Found\nStatus Report Type</p>\n<p>message The requested resource [/test2/index.zul] is not available</p>\n<p>description The requested resource is not available.</p>\n<p>Apache Tomcat/10.1.9</p>\n<hr />\n<p>I'm using zk studio version 9.6.0.1, Apache Tomcat version 10.1.9\nThis is what appears in the console:</p>\n<pre><code>SEVERE: Error configuring application listener of class [org.zkoss.zk.ui.http.HttpSessionListener]\njava.lang.NoClassDefFoundError: javax/servlet/ServletRequestAttributeListener\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\n    at java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClassInternal(WebappClassLoaderBase.java:2487)\n    at org.apache.catalina.loader.WebappClassLoaderBase.findClass(WebappClassLoaderBase.java:865)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1401)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClass(DefaultInstanceManager.java:490)\n    at org.apache.catalina.core.DefaultInstanceManager.loadClassMaybePrivileged(DefaultInstanceManager.java:472)\n    at org.apache.catalina.core.DefaultInstanceManager.newInstance(DefaultInstanceManager.java:142)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4381)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4892)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:846)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:871)\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:241)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:428)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:910)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n    at org.apache.catalina.startup.Catalina.start(Catalina.java:795)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at org.apache.catalina.startup.Bootstrap.start(Bootstrap.java:347)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:478)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.ServletRequestAttributeListener\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1437)\n    at org.apache.catalina.loader.WebappClassLoaderBase.loadClass(WebappClassLoaderBase.java:1245)\n    ... 40 more\n</code></pre>\n<p>I appreciate you all!</p>\n"},{"tags":["java","selenium","annotations","testng"],"answers":[{"comments":[{"owner":{"account_id":20782034,"reputation":21,"user_id":15262224,"display_name":"Brayan Ulloa Martinez"},"score":0,"creation_date":1614024169,"post_id":66322499,"comment_id":117252801,"body_markdown":"Do you mean an inner class? I created an inner class but I could not figure out how to add that class in my testNG file so the tests in that inner class can be executed. Is it possible that you can provide an example of your workaround?","body":"Do you mean an inner class? I created an inner class but I could not figure out how to add that class in my testNG file so the tests in that inner class can be executed. Is it possible that you can provide an example of your workaround?"},{"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"score":0,"creation_date":1614074018,"post_id":66322499,"comment_id":117266893,"body_markdown":"I&#39;ve added the example to the answer.","body":"I&#39;ve added the example to the answer."}],"tags":[],"owner":{"account_id":7932983,"reputation":1434,"user_id":5990117,"display_name":"Petr Aleksandrov"},"comment_count":2,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1614073743,"creation_date":1614023510,"answer_id":66322499,"question_id":66322398,"body_markdown":"There is no way to skip `@BeforeMethod`. \r\n\r\nA workaround here could be moving those two methods to the subclass of your Test and overriding the `goHome` method. \r\n\r\nExample:\r\n```java\r\npublic abstract class LoginTest {\r\n    @BeforeMethod(alwaysRun = true)\r\n    public void goHome() {\r\n        System.out.println(&quot;Going Home...&quot;);\r\n    }\r\n}\r\n\r\nclass NegativeLoginTest extends LoginTest {\r\n    @Override\r\n    public void goHome() {\r\n        // do nothing\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void lockedCredentials() {\r\n        System.out.println(&quot;Locked Credentials&quot;);\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void invalidCredentials() {\r\n        System.out.println(&quot;Invalid Credentials&quot;);\r\n    }\r\n}\r\n\r\n\r\nclass PositiveLoginTest extends LoginTest {\r\n    @Test(groups = {&quot;Login&quot;, &quot;Positive&quot; })\r\n    public void correctCredentials(){\r\n        System.out.println(&quot;Correct Credentials&quot;);\r\n    }\r\n}\r\n```\r\n\r\nThere are three classes in the example:  \r\n* LoginTest - base class for Login tests\r\n* PositiveLoginTest - all the tests call `LoginTest#goHome` before each method\r\n* NegativeLoginTest - owerrides `goHome` method, so `LoginTest#goHome` won&#39;t be called","title":"How do I skip a before method in a specific test?","body":"<p>There is no way to skip <code>@BeforeMethod</code>.</p>\n<p>A workaround here could be moving those two methods to the subclass of your Test and overriding the <code>goHome</code> method.</p>\n<p>Example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public abstract class LoginTest {\n    @BeforeMethod(alwaysRun = true)\n    public void goHome() {\n        System.out.println(&quot;Going Home...&quot;);\n    }\n}\n\nclass NegativeLoginTest extends LoginTest {\n    @Override\n    public void goHome() {\n        // do nothing\n    }\n\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\n    public void lockedCredentials() {\n        System.out.println(&quot;Locked Credentials&quot;);\n    }\n\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\n    public void invalidCredentials() {\n        System.out.println(&quot;Invalid Credentials&quot;);\n    }\n}\n\n\nclass PositiveLoginTest extends LoginTest {\n    @Test(groups = {&quot;Login&quot;, &quot;Positive&quot; })\n    public void correctCredentials(){\n        System.out.println(&quot;Correct Credentials&quot;);\n    }\n}\n</code></pre>\n<p>There are three classes in the example:</p>\n<ul>\n<li>LoginTest - base class for Login tests</li>\n<li>PositiveLoginTest - all the tests call <code>LoginTest#goHome</code> before each method</li>\n<li>NegativeLoginTest - owerrides <code>goHome</code> method, so <code>LoginTest#goHome</code> won't be called</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1686293577,"post_id":76437634,"comment_id":134781731,"body_markdown":"This looks like it was ChatGPT generated","body":"This looks like it was ChatGPT generated"},{"owner":{"account_id":19850090,"reputation":17,"user_id":14540755,"display_name":"Amit Bhalla"},"score":0,"creation_date":1686389232,"post_id":76437634,"comment_id":134794367,"body_markdown":"Nope it was generated by me","body":"Nope it was generated by me"}],"tags":[],"owner":{"account_id":19850090,"reputation":17,"user_id":14540755,"display_name":"Amit Bhalla"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686290965,"creation_date":1686290965,"answer_id":76437634,"question_id":66322398,"body_markdown":"In TestNG, you can exclude specific @BeforeMethod annotations from running for a particular @Test method by using the @Test&#39;s dependsOnMethods attribute. Here&#39;s an example:\r\n\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TestClass {\r\n    \r\n        @BeforeMethod\r\n        public void setup() {\r\n            // This method will run before every test method\r\n            System.out.println(&quot;Setup&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test1() {\r\n            // Test 1 code here\r\n            System.out.println(&quot;Test 1&quot;);\r\n        }\r\n    \r\n        @Test(dependsOnMethods = &quot;test1&quot;)\r\n        public void test2() {\r\n            // This method depends on test1, so @BeforeMethod won&#39;t run for this method\r\n            System.out.println(&quot;Test 2&quot;);\r\n        }\r\n    }\r\n\r\nIn the example above, the setup() method is annotated with @BeforeMethod, which means it will run before every test method. However, the test2() method has dependsOnMethods = &quot;test1&quot; attribute in its @Test annotation, indicating that it depends on test1. This means that test2() will only run if test1() passes, and the setup() method won&#39;t be executed before test2().\r\n\r\nBy specifying the dependencies in this way, you can exclude the @BeforeMethod annotation from running for specific @Test methods in TestNG.","title":"How do I skip a before method in a specific test?","body":"<p>In TestNG, you can exclude specific @BeforeMethod annotations from running for a particular @Test method by using the @Test's dependsOnMethods attribute. Here's an example:</p>\n<pre><code>import org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class TestClass {\n\n    @BeforeMethod\n    public void setup() {\n        // This method will run before every test method\n        System.out.println(&quot;Setup&quot;);\n    }\n\n    @Test\n    public void test1() {\n        // Test 1 code here\n        System.out.println(&quot;Test 1&quot;);\n    }\n\n    @Test(dependsOnMethods = &quot;test1&quot;)\n    public void test2() {\n        // This method depends on test1, so @BeforeMethod won't run for this method\n        System.out.println(&quot;Test 2&quot;);\n    }\n}\n</code></pre>\n<p>In the example above, the setup() method is annotated with @BeforeMethod, which means it will run before every test method. However, the test2() method has dependsOnMethods = &quot;test1&quot; attribute in its @Test annotation, indicating that it depends on test1. This means that test2() will only run if test1() passes, and the setup() method won't be executed before test2().</p>\n<p>By specifying the dependencies in this way, you can exclude the @BeforeMethod annotation from running for specific @Test methods in TestNG.</p>\n"}],"owner":{"account_id":20782034,"reputation":21,"user_id":15262224,"display_name":"Brayan Ulloa Martinez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1686290965,"creation_date":1614022992,"question_id":66322398,"body_markdown":"I have a POM framework. In the BaseTest class I have the following @BeforeMethod\r\n\r\n    @BeforeMethod(alwaysRun = true)\r\n    @Parameters(&quot;url&quot;)\r\n    public void goHome(String URL) {\r\n        driver.get(URL);\r\n        this.setInventoryPage(\r\n                new LoginPage(driver)\r\n                        .setUsername(this.getSauceUserName())\r\n                        .setPassword(this.getSaucePassword())\r\n                        .clickLoginButton());\r\n    }\r\n\r\nThat method includes the login steps so I don&#39;t have to add the same line of code in all the tests. Now, the issue is that I have the following 2 test scenarios in the LoginTests class (locked account and wrong credentials). My LoginTests class extends BaseTests class.\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot; })\r\n    public void lockedCredentials(){\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.setUsername(&quot;wrong_user&quot;);\r\n        loginPage.setPassword(&quot;secret_sauce&quot;);\r\n        loginPage.clickLoginButton();\r\n        assertTrue(loginPage.getErrorMessageText()\r\n                        .contains(&quot;Epic sadface: Sorry, this user has been locked out.&quot;),\r\n                &quot;Credentials are not locked!&quot;);\r\n    }\r\n\r\n    @Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\r\n    public void invalidCredentials(){\r\n        LoginPage loginPage = new LoginPage(driver);\r\n        loginPage.setUsername(&quot;wrong_user&quot;);\r\n        loginPage.setPassword(&quot;wrong_pass&quot;);\r\n        loginPage.clickLoginButton();\r\n        assertTrue(loginPage.getErrorMessageText()\r\n                        .contains(&quot;Epic sadface: Username and password do not match any user in this service&quot;),\r\n                &quot;The credentials entered are valid!&quot;);\r\n    }\r\n\r\nMy question is how do I ignore the above @BeforeMethod for the above 2 tests scenarios (just for locked account and wrong credentials)?\r\n\r\nNote: I&#39;m using TestNG. ","title":"How do I skip a before method in a specific test?","body":"<p>I have a POM framework. In the BaseTest class I have the following @BeforeMethod</p>\n<pre><code>@BeforeMethod(alwaysRun = true)\n@Parameters(&quot;url&quot;)\npublic void goHome(String URL) {\n    driver.get(URL);\n    this.setInventoryPage(\n            new LoginPage(driver)\n                    .setUsername(this.getSauceUserName())\n                    .setPassword(this.getSaucePassword())\n                    .clickLoginButton());\n}\n</code></pre>\n<p>That method includes the login steps so I don't have to add the same line of code in all the tests. Now, the issue is that I have the following 2 test scenarios in the LoginTests class (locked account and wrong credentials). My LoginTests class extends BaseTests class.</p>\n<pre><code>@Test(groups = {&quot;Login&quot;, &quot;Negative&quot; })\npublic void lockedCredentials(){\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.setUsername(&quot;wrong_user&quot;);\n    loginPage.setPassword(&quot;secret_sauce&quot;);\n    loginPage.clickLoginButton();\n    assertTrue(loginPage.getErrorMessageText()\n                    .contains(&quot;Epic sadface: Sorry, this user has been locked out.&quot;),\n            &quot;Credentials are not locked!&quot;);\n}\n\n@Test(groups = {&quot;Login&quot;, &quot;Negative&quot;})\npublic void invalidCredentials(){\n    LoginPage loginPage = new LoginPage(driver);\n    loginPage.setUsername(&quot;wrong_user&quot;);\n    loginPage.setPassword(&quot;wrong_pass&quot;);\n    loginPage.clickLoginButton();\n    assertTrue(loginPage.getErrorMessageText()\n                    .contains(&quot;Epic sadface: Username and password do not match any user in this service&quot;),\n            &quot;The credentials entered are valid!&quot;);\n}\n</code></pre>\n<p>My question is how do I ignore the above @BeforeMethod for the above 2 tests scenarios (just for locked account and wrong credentials)?</p>\n<p>Note: I'm using TestNG.</p>\n"},{"tags":["java","ms-word","aspose","aspose.words"],"answers":[{"tags":[],"owner":{"account_id":11398698,"reputation":1809,"user_id":8356224,"display_name":"Alexey Noskov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686290570,"creation_date":1686290570,"answer_id":76437595,"question_id":76437423,"body_markdown":"As you know there is no concept of page or line in MS Word documents due to their flow nature. The consumer applications build document layout on the fly, the same does Aspose.Words using it’s own layout engine. [LayoutCollector][1] and [LayoutEnumerator][2] classes provides a limited access to document layout information.\r\n\r\nIf you would like to determine on which page part of the paragraph is located you should loop through paragraph&#39;s child nodes and and use `LayoutCollector.getStartPageIndex` or `LayoutCollector.getEndPageIndex`. But you should note, that even the &quot;smallest&quot; text node - `Run` can span several pages. So if you need exactly determine position where paragraph flows to the next page, it is required to split content in the paragraph into smaller peeces, for example into words. \r\n\r\nFor example the following code demonstrates a basic technique to read document content line by line:\r\n```java\r\nDocument doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\r\n    \r\n// Split all Run nodes in the document to make them not more than one word.\r\nIterable&lt;Run&gt; runs = doc.getChildNodes(NodeType.RUN, true);\r\nfor (Run r : runs)\r\n{\r\n    Run current = r;\r\n    while (current.getText().indexOf(&#39; &#39;) &gt;= 0)\r\n        current = SplitRun(current, current.getText().indexOf(&#39; &#39;) + 1);\r\n}\r\n    \r\n// Wrap all runs in the document with bookmarks to make it possible to work with LayoutCollector and LayoutEnumerator\r\nruns = doc.getChildNodes(NodeType.RUN, true);\r\n    \r\nArrayList&lt;String&gt; tmpBookmakrs = new ArrayList&lt;String&gt;();\r\nint bkIndex = 0;\r\nfor (Run r : runs)\r\n{\r\n    // LayoutCollector and LayoutEnumerator does not work with nodes in header/footer or in textboxes.\r\n    if (r.getAncestor(NodeType.HEADER_FOOTER) != null || r.getAncestor(NodeType.SHAPE) != null)\r\n        continue;\r\n        \r\n    String bkName = &quot;r&quot; + bkIndex;\r\n    r.getParentNode().insertBefore(new BookmarkStart(doc, bkName), r);\r\n    r.getParentNode().insertAfter(new BookmarkEnd(doc, bkName), r);\r\n        \r\n    tmpBookmakrs.add(bkName);\r\n    bkIndex++;\r\n}\r\n    \r\n// Now we can use collector and enumerator to get runs per line in MS Word document.\r\nLayoutCollector collector = new LayoutCollector(doc);\r\nLayoutEnumerator enumerator = new LayoutEnumerator(doc);\r\n    \r\nObject currentLine = null;\r\nint pageIndex = -1;\r\nfor (String bkName : tmpBookmakrs)\r\n{\r\n    Bookmark bk = doc.getRange().getBookmarks().get(bkName);\r\n        \r\n    enumerator.setCurrent(collector.getEntity(bk.getBookmarkStart()));\r\n    while (enumerator.getType() != LayoutEntityType.LINE)\r\n        enumerator.moveParent();\r\n        \r\n    if (currentLine != enumerator.getCurrent())\r\n    {\r\n        currentLine = enumerator.getCurrent();\r\n            \r\n        System.out.println();\r\n        if(pageIndex!=enumerator.getPageIndex())\r\n        {\r\n            pageIndex = enumerator.getPageIndex();\r\n            System.out.println(&quot;-------=========Start Of Page &quot; + pageIndex + &quot;=========-------&quot;);\r\n        }\r\n        System.out.println(&quot;-------=========Start Of Line=========-------&quot;);\r\n    }\r\n        \r\n    Node node = bk.getBookmarkStart().getNextSibling();\r\n    if (node != null &amp;&amp; node.getNodeType() == NodeType.RUN)\r\n        System.out.print(((Run)node).getText());\r\n}\r\n```\r\n```java\r\nprivate static Run SplitRun(Run run, int position)\r\n{\r\n    Run afterRun = (Run)run.deepClone(true);\r\n    run.getParentNode().insertAfter(afterRun, run);\r\n    afterRun.setText(run.getText().substring(position));\r\n    run.setText(run.getText().substring(0, position));\r\n    return afterRun;\r\n}\r\n```\r\n\r\n  [1]: https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\r\n  [2]: https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/","title":"how can i get page number of a string with is part of paragraph in word document using java","body":"<p>As you know there is no concept of page or line in MS Word documents due to their flow nature. The consumer applications build document layout on the fly, the same does Aspose.Words using it’s own layout engine. <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutcollector/\" rel=\"nofollow noreferrer\">LayoutCollector</a> and <a href=\"https://reference.aspose.com/words/java/com.aspose.words/layoutenumerator/\" rel=\"nofollow noreferrer\">LayoutEnumerator</a> classes provides a limited access to document layout information.</p>\n<p>If you would like to determine on which page part of the paragraph is located you should loop through paragraph's child nodes and and use <code>LayoutCollector.getStartPageIndex</code> or <code>LayoutCollector.getEndPageIndex</code>. But you should note, that even the &quot;smallest&quot; text node - <code>Run</code> can span several pages. So if you need exactly determine position where paragraph flows to the next page, it is required to split content in the paragraph into smaller peeces, for example into words.</p>\n<p>For example the following code demonstrates a basic technique to read document content line by line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Document doc = new Document(&quot;C:\\\\Temp\\\\in.docx&quot;);\n    \n// Split all Run nodes in the document to make them not more than one word.\nIterable&lt;Run&gt; runs = doc.getChildNodes(NodeType.RUN, true);\nfor (Run r : runs)\n{\n    Run current = r;\n    while (current.getText().indexOf(' ') &gt;= 0)\n        current = SplitRun(current, current.getText().indexOf(' ') + 1);\n}\n    \n// Wrap all runs in the document with bookmarks to make it possible to work with LayoutCollector and LayoutEnumerator\nruns = doc.getChildNodes(NodeType.RUN, true);\n    \nArrayList&lt;String&gt; tmpBookmakrs = new ArrayList&lt;String&gt;();\nint bkIndex = 0;\nfor (Run r : runs)\n{\n    // LayoutCollector and LayoutEnumerator does not work with nodes in header/footer or in textboxes.\n    if (r.getAncestor(NodeType.HEADER_FOOTER) != null || r.getAncestor(NodeType.SHAPE) != null)\n        continue;\n        \n    String bkName = &quot;r&quot; + bkIndex;\n    r.getParentNode().insertBefore(new BookmarkStart(doc, bkName), r);\n    r.getParentNode().insertAfter(new BookmarkEnd(doc, bkName), r);\n        \n    tmpBookmakrs.add(bkName);\n    bkIndex++;\n}\n    \n// Now we can use collector and enumerator to get runs per line in MS Word document.\nLayoutCollector collector = new LayoutCollector(doc);\nLayoutEnumerator enumerator = new LayoutEnumerator(doc);\n    \nObject currentLine = null;\nint pageIndex = -1;\nfor (String bkName : tmpBookmakrs)\n{\n    Bookmark bk = doc.getRange().getBookmarks().get(bkName);\n        \n    enumerator.setCurrent(collector.getEntity(bk.getBookmarkStart()));\n    while (enumerator.getType() != LayoutEntityType.LINE)\n        enumerator.moveParent();\n        \n    if (currentLine != enumerator.getCurrent())\n    {\n        currentLine = enumerator.getCurrent();\n            \n        System.out.println();\n        if(pageIndex!=enumerator.getPageIndex())\n        {\n            pageIndex = enumerator.getPageIndex();\n            System.out.println(&quot;-------=========Start Of Page &quot; + pageIndex + &quot;=========-------&quot;);\n        }\n        System.out.println(&quot;-------=========Start Of Line=========-------&quot;);\n    }\n        \n    Node node = bk.getBookmarkStart().getNextSibling();\n    if (node != null &amp;&amp; node.getNodeType() == NodeType.RUN)\n        System.out.print(((Run)node).getText());\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>private static Run SplitRun(Run run, int position)\n{\n    Run afterRun = (Run)run.deepClone(true);\n    run.getParentNode().insertAfter(afterRun, run);\n    afterRun.setText(run.getText().substring(position));\n    run.setText(run.getText().substring(0, position));\n    return afterRun;\n}\n</code></pre>\n"}],"owner":{"account_id":27071726,"reputation":303,"user_id":20622284,"display_name":"lemon chow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686290570,"creation_date":1686288180,"question_id":76437423,"body_markdown":"I am using aspose-words library&#39;s node collection to read a word document node by node if a node is a paragraph and length is more that 8000 characters i am dividing it into sub-strings. The paragraphs exceeding one page most of the times.How can i get page number of the sub-string which i divided from that paragraph.\r\n```\r\nDocument document=new Document(filePath);\r\nLayoutCollector layoutCollector=new LayoutCollector(doc);\r\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\r\nfor(Node node:paragraphNodes)\r\n{\r\n if(node.getType==NodeType.PARAGRAPH){\r\n int pageNumber=layoutCollector.getStartPageIndex(node);\r\n List&lt;String&gt; subStrings=new ArrayList();\r\n Paragraph paragraph=(Paragraph) node;\r\n String text=paragraph.getText();\r\n if(text.length()&gt;8000){\r\n  //divideParagraph(String text) takes a string and returns ArrayList&lt;Strings&gt; each \r\n  String less than 8000 length\r\n  subStrings.addAll(divideParagraph(text));\r\n }\r\n for(String subString:subStrings)\r\n {\r\n System.out.println(&quot;need the page number of each substring &quot;);\r\n }\r\n}\r\n```\r\n\r\ncurrently i am able to get start page and end page of a specific paragraph using layoutCollector but looking for sub-string&#39;s page number which i divide from paragraph because i have to report it in log. Is there any other library with which i can read all elements like paragraph, table , wordart etc having tract of pagenumber and line number where it starts.","title":"how can i get page number of a string with is part of paragraph in word document using java","body":"<p>I am using aspose-words library's node collection to read a word document node by node if a node is a paragraph and length is more that 8000 characters i am dividing it into sub-strings. The paragraphs exceeding one page most of the times.How can i get page number of the sub-string which i divided from that paragraph.</p>\n<pre><code>Document document=new Document(filePath);\nLayoutCollector layoutCollector=new LayoutCollector(doc);\nNodeCollection paragraphNodes=document.getChildNodes(NodeType.Paragraph,true);\nfor(Node node:paragraphNodes)\n{\n if(node.getType==NodeType.PARAGRAPH){\n int pageNumber=layoutCollector.getStartPageIndex(node);\n List&lt;String&gt; subStrings=new ArrayList();\n Paragraph paragraph=(Paragraph) node;\n String text=paragraph.getText();\n if(text.length()&gt;8000){\n  //divideParagraph(String text) takes a string and returns ArrayList&lt;Strings&gt; each \n  String less than 8000 length\n  subStrings.addAll(divideParagraph(text));\n }\n for(String subString:subStrings)\n {\n System.out.println(&quot;need the page number of each substring &quot;);\n }\n}\n</code></pre>\n<p>currently i am able to get start page and end page of a specific paragraph using layoutCollector but looking for sub-string's page number which i divide from paragraph because i have to report it in log. Is there any other library with which i can read all elements like paragraph, table , wordart etc having tract of pagenumber and line number where it starts.</p>\n"},{"tags":["java","eclipse","osgi","java-11"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1686305214,"post_id":76432914,"comment_id":134783825,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28781013,"reputation":1,"user_id":22042641,"display_name":"nilesh vadar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686290019,"creation_date":1686234619,"question_id":76432914,"body_markdown":"-We are upgrading our application from java 8 to Java 11\r\nFor multiple jetty org.eclipse.jetty 9.4.30v  plugins giving dependency issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot;.\r\n\r\n\r\n-javax.servlet version 3.1.0 is already present and selected.\r\n\r\nStill why it is giving missing import error?","title":"org.eclipse.jetty 9.4.30v plugins giving issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot; in Java 11","body":"<p>-We are upgrading our application from java 8 to Java 11\nFor multiple jetty org.eclipse.jetty 9.4.30v  plugins giving dependency issue missing constraint import package javax.servlet version &quot;[3.1.0,4.00)&quot;.</p>\n<p>-javax.servlet version 3.1.0 is already present and selected.</p>\n<p>Still why it is giving missing import error?</p>\n"},{"tags":["java","linux","log4j","log4j2"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1686230465,"post_id":76432278,"comment_id":134772749,"body_markdown":"put the logfile in a user specific directory","body":"put the logfile in a user specific directory"},{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686230544,"post_id":76432278,"comment_id":134772767,"body_markdown":"that is not possible","body":"that is not possible"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1686230590,"post_id":76432278,"comment_id":134772779,"body_markdown":"Why it is not possible?","body":"Why it is not possible?"},{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686231281,"post_id":76432278,"comment_id":134772954,"body_markdown":"All logs should be in same file.","body":"All logs should be in same file."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686232582,"post_id":76432278,"comment_id":134773302,"body_markdown":"What operating system are you using?   Because it appears that the `filePermission` attribute is only understood if the default file system supports posix permissions.  If not, it appears that value of the attribute is ignored ... with a log warning.  See https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L130.","body":"What operating system are you using?   Because it appears that the <code>filePermission</code> attribute is only understood if the default file system supports posix permissions.  If not, it appears that value of the attribute is ignored ... with a log warning.  See <a href=\"https://github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/main/java/org/apache/logging/log4j/core/appender/FileManager.java#L130\" rel=\"nofollow noreferrer\">github.com/apache/logging-log4j2/blob/2.x/log4j-core/src/mai&zwnj;&#8203;n/&hellip;</a>."}],"answers":[{"comments":[{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686232964,"post_id":76432578,"comment_id":134773392,"body_markdown":"That is correct, but at same time only one user can run the program. after program finished, another user can run the program.","body":"That is correct, but at same time only one user can run the program. after program finished, another user can run the program."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1686254860,"post_id":76432578,"comment_id":134777781,"body_markdown":"You wrote: _This behavior prevents multiple users from running the application concurrently_ - and now you comment the opposite. You should put way more effort and care in formulating your question next time. This answer correctly answers the text of your question. You now have a different question. You&#39;ll have to start a new question for that.","body":"You wrote: <i>This behavior prevents multiple users from running the application concurrently</i> - and now you comment the opposite. You should put way more effort and care in formulating your question next time. This answer correctly answers the text of your question. You now have a different question. You&#39;ll have to start a new question for that."},{"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"score":0,"creation_date":1686290203,"post_id":76432578,"comment_id":134781277,"body_markdown":"Sorry, it is my mistake. Thank you for your answer.\nDid you have any ideas based on my previous comment.","body":"Sorry, it is my mistake. Thank you for your answer. Did you have any ideas based on my previous comment."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686232329,"creation_date":1686232329,"answer_id":76432578,"question_id":76432278,"body_markdown":"You have far bigger problems.\r\n\r\nIf you solve the access rights issue, which is easy enough, you have multiple separate processes all writing to the same file. This will result in:\r\n\r\nHeHelloo, WWoorrldld\r\n\r\nstyle craziness in that file, with log strings interleaving and logs just missing entirely.\r\n\r\nIn the comments you say: &quot;It has to be one file&quot;. Okay. This will take you weeks of hardship to build, that is an _incredibly_ costly requirement. Still convinced you want it? Well, hold on to your seat then:\r\n\r\n## The usual way: Separate process\r\n\r\nHave all apps send data concurrently to a &#39;logging process&#39;, which is an entirely separate JVM that is started on boot and runs forever. Processes can e.g. do that by connecting to them using TCP/IP connections (there are also pipes but java makes that rather difficult).\r\n\r\nThat separate process can simply write to the log file, and can do its own queueing and can ensure logs are written in receipt order and without log messages mixing together into long gobbledygook.\r\n\r\nOf course, if that log service is down or crashes, all apps will just have to crash on boot and say &#39;no can do, start the log service first&#39;.\r\n\r\n## Lock files\r\n\r\nAn alternative is to involve lock files - to log a message, first, atomically create `mylogfile.log.lock`. If this succeeds, open the log file, append the log message, close the log file, then delete the lock file.\r\n\r\nIf this fails, throw some dice (call `rnd.nextInt()`) to determine a random amount of milliseconds to wait, then try again. (the randomness is CRUCIAL. Ever walk on the street and you&#39;re about to bump into someone, so you hang left but they also hang left, then you hang right and they also hang right? Computers can do that too, except because computers do the exact same thing if given the exact same inputs, they are wont to do it forever. You MUST introduce chaos or this is not solvable!)\r\n\r\nThis is quite inefficient and means any attempt to log something is potentially very very slow.\r\n\r\nIt also means if one of the apps is hard-killed or hard-crashes, the log lock file remains, so all processes need to check how often they retry to acquire the lock, and after 4 seconds or so, should report: Hmm, hey, user? Maybe that lock file is an orphan, here it is - if you have determined it is, please delete the lock file and only then will I continue operation.\r\n\r\nThis is all highly complex, of course.\r\n\r\n## The same principles, but pre-bundled\r\n\r\nThese concepts are already exist: __Databases__. Require that users have a concurrency-capable database (So, __you cannot__ just run H2 or some other in-java-process DB in each app and have them all attempt to open the same DB, that will fail - it needs to be a separate process), and write logs to the database. There is no file _at all_ in this scenario, there&#39;s a database (which will be stored as a bunch of binary files, of course).\r\n\r\n## Ad-hoc server\r\n\r\nThe OS will only let one process open a TCP/IP server port and will close it if that process dies, even if it is hard-killed. Any app can do the following trick:\r\n\r\n* On boot, attempt to open a ServerSocket on port 14525 (something between 1024-40000, pick any number, pray it doesn&#39;t clash with any other software&#39;s choice).\r\n* If it works, great, start listening for &#39;log push&#39; messages on that port, and open the log file. You write your logs, as well as any received on the port, to it.\r\n* If it does not work, connect to it instead. As long as it continues to accept connections, don&#39;t write logs, instead send them to that process. If this fails, try to open the port (hey, maybe the &#39;log hoster&#39; app has been quit).\r\n\r\nThese things are all __extremely__ complicated.\r\n\r\n## Script it\r\n\r\nMake a dir, each user gets their own log file, some separate cronjob flies by, and concats them all to a central log file.\r\n\r\nThis doesn&#39;t work well if you want a guarantee that log messages are properly interleaved (if log message A is in the log file before B, that this means A must have happened before B). Strict interleaving __is interprocess communication__ and therefore is not possible without locks. Hence why this is vastly more complicated than &#39;everybody opens the same file and writes to the same place&#39;.\r\n\r\n## Sidenote: Access rights\r\n\r\nIf multiple processes need to be able to write to the same file, you need to create the log file with the appropriate access rights. Check the `java.nio.file.Files` API for how to do that.\r\n","title":"Log4j2 throws file permission exception when multiple users run the program","body":"<p>You have far bigger problems.</p>\n<p>If you solve the access rights issue, which is easy enough, you have multiple separate processes all writing to the same file. This will result in:</p>\n<p>HeHelloo, WWoorrldld</p>\n<p>style craziness in that file, with log strings interleaving and logs just missing entirely.</p>\n<p>In the comments you say: &quot;It has to be one file&quot;. Okay. This will take you weeks of hardship to build, that is an <em>incredibly</em> costly requirement. Still convinced you want it? Well, hold on to your seat then:</p>\n<h2>The usual way: Separate process</h2>\n<p>Have all apps send data concurrently to a 'logging process', which is an entirely separate JVM that is started on boot and runs forever. Processes can e.g. do that by connecting to them using TCP/IP connections (there are also pipes but java makes that rather difficult).</p>\n<p>That separate process can simply write to the log file, and can do its own queueing and can ensure logs are written in receipt order and without log messages mixing together into long gobbledygook.</p>\n<p>Of course, if that log service is down or crashes, all apps will just have to crash on boot and say 'no can do, start the log service first'.</p>\n<h2>Lock files</h2>\n<p>An alternative is to involve lock files - to log a message, first, atomically create <code>mylogfile.log.lock</code>. If this succeeds, open the log file, append the log message, close the log file, then delete the lock file.</p>\n<p>If this fails, throw some dice (call <code>rnd.nextInt()</code>) to determine a random amount of milliseconds to wait, then try again. (the randomness is CRUCIAL. Ever walk on the street and you're about to bump into someone, so you hang left but they also hang left, then you hang right and they also hang right? Computers can do that too, except because computers do the exact same thing if given the exact same inputs, they are wont to do it forever. You MUST introduce chaos or this is not solvable!)</p>\n<p>This is quite inefficient and means any attempt to log something is potentially very very slow.</p>\n<p>It also means if one of the apps is hard-killed or hard-crashes, the log lock file remains, so all processes need to check how often they retry to acquire the lock, and after 4 seconds or so, should report: Hmm, hey, user? Maybe that lock file is an orphan, here it is - if you have determined it is, please delete the lock file and only then will I continue operation.</p>\n<p>This is all highly complex, of course.</p>\n<h2>The same principles, but pre-bundled</h2>\n<p>These concepts are already exist: <strong>Databases</strong>. Require that users have a concurrency-capable database (So, <strong>you cannot</strong> just run H2 or some other in-java-process DB in each app and have them all attempt to open the same DB, that will fail - it needs to be a separate process), and write logs to the database. There is no file <em>at all</em> in this scenario, there's a database (which will be stored as a bunch of binary files, of course).</p>\n<h2>Ad-hoc server</h2>\n<p>The OS will only let one process open a TCP/IP server port and will close it if that process dies, even if it is hard-killed. Any app can do the following trick:</p>\n<ul>\n<li>On boot, attempt to open a ServerSocket on port 14525 (something between 1024-40000, pick any number, pray it doesn't clash with any other software's choice).</li>\n<li>If it works, great, start listening for 'log push' messages on that port, and open the log file. You write your logs, as well as any received on the port, to it.</li>\n<li>If it does not work, connect to it instead. As long as it continues to accept connections, don't write logs, instead send them to that process. If this fails, try to open the port (hey, maybe the 'log hoster' app has been quit).</li>\n</ul>\n<p>These things are all <strong>extremely</strong> complicated.</p>\n<h2>Script it</h2>\n<p>Make a dir, each user gets their own log file, some separate cronjob flies by, and concats them all to a central log file.</p>\n<p>This doesn't work well if you want a guarantee that log messages are properly interleaved (if log message A is in the log file before B, that this means A must have happened before B). Strict interleaving <strong>is interprocess communication</strong> and therefore is not possible without locks. Hence why this is vastly more complicated than 'everybody opens the same file and writes to the same place'.</p>\n<h2>Sidenote: Access rights</h2>\n<p>If multiple processes need to be able to write to the same file, you need to create the log file with the appropriate access rights. Check the <code>java.nio.file.Files</code> API for how to do that.</p>\n"}],"owner":{"account_id":9322379,"reputation":11,"user_id":6920760,"display_name":"şent&#252;rk şimşek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1686289769,"creation_date":1686230364,"question_id":76432278,"body_markdown":"The current implementation of our application uses Log4j2 for logging. The application is designed to be run by different users.\r\n\r\nWe&#39;ve observed an issue where if one user runs the program and a log file is created, subsequent users are not able to run the program and a file permission exception is encountered. It appears the log file, once created by the first user, cannot be accessed by other users due to permission restrictions.\r\n\r\nThis behavior prevents multiple users from running the application concurrently, which is a required functionality.\r\n\r\n\r\n1. User A runs the program, triggering the creation of a new log file. \r\n2. User B attempts to run the program.\r\n3. User B encounters a file permission exception.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;WARN&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;console_log_file&quot; target=&quot;SYSTEM_OUT&quot;&gt;\r\n                &lt;PatternLayout pattern=&quot;[%-5level] %d{yyyy-MM-dd HH:mm:ss} [%t] - %msg%n&quot;/&gt;\r\n            &lt;/Console&gt;\r\n    \r\n            &lt;RollingFile name=&quot;log_file&quot;\r\n                         fileName=&quot;/var/applog/myapp/aggregator/aggregator_rest.log&quot;\r\n                         filePattern=&quot;/var/applog/myapp/aggregator/aggregator_rest.%i.log.gz&quot; \r\n                         filePermissions=&quot;rwxrwxrwx&quot;&gt;\r\n                &lt;PatternLayout&gt;\r\n                    &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&lt;/Pattern&gt;\r\n                &lt;/PatternLayout&gt;\r\n                &lt;Policies&gt;\r\n                    &lt;OnStartupTriggeringPolicy /&gt;\r\n                    &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\r\n                &lt;/Policies&gt;\r\n                &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\r\n            &lt;/RollingFile&gt;\r\n    \r\n        &lt;/Appenders&gt;\r\n    \r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;debug&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;log_file&quot;/&gt;\r\n            &lt;/Root&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\n","title":"Log4j2 throws file permission exception when multiple users run the program","body":"<p>The current implementation of our application uses Log4j2 for logging. The application is designed to be run by different users.</p>\n<p>We've observed an issue where if one user runs the program and a log file is created, subsequent users are not able to run the program and a file permission exception is encountered. It appears the log file, once created by the first user, cannot be accessed by other users due to permission restrictions.</p>\n<p>This behavior prevents multiple users from running the application concurrently, which is a required functionality.</p>\n<ol>\n<li><p>User A runs the program, triggering the creation of a new log file.</p>\n</li>\n<li><p>User B attempts to run the program.</p>\n</li>\n<li><p>User B encounters a file permission exception.</p>\n \n \n     \n         \n             \n         \n<pre><code>     &lt;RollingFile name=&quot;log_file&quot;\n                  fileName=&quot;/var/applog/myapp/aggregator/aggregator_rest.log&quot;\n                  filePattern=&quot;/var/applog/myapp/aggregator/aggregator_rest.%i.log.gz&quot; \n                  filePermissions=&quot;rwxrwxrwx&quot;&gt;\n         &lt;PatternLayout&gt;\n             &lt;Pattern&gt;%d{yyyy-MM-dd HH:mm:ss} [%t] %-5p - %m%n&lt;/Pattern&gt;\n         &lt;/PatternLayout&gt;\n         &lt;Policies&gt;\n             &lt;OnStartupTriggeringPolicy /&gt;\n             &lt;SizeBasedTriggeringPolicy size=&quot;100 MB&quot; /&gt;\n         &lt;/Policies&gt;\n         &lt;DefaultRolloverStrategy max=&quot;10&quot;/&gt;\n     &lt;/RollingFile&gt;\n\n &lt;/Appenders&gt;\n\n &lt;Loggers&gt;\n     &lt;Root level=&quot;debug&quot;&gt;\n         &lt;AppenderRef ref=&quot;log_file&quot;/&gt;\n     &lt;/Root&gt;\n &lt;/Loggers&gt;\n</code></pre>\n \n</li>\n</ol>\n"},{"tags":["java","amazon-sns"],"answers":[{"tags":[],"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1614210162,"creation_date":1461077634,"answer_id":36722020,"question_id":36721014,"body_markdown":"I&#39;ve done this one of two ways.  The ARN is always the same pattern.  So, you could just subscribe to &quot;arn:aws:sns:\\&lt;region&gt;:\\&lt;account&gt;:\\&lt;name&gt;&quot; where:\r\n\r\nregion is from Regions.getCurrentRegion().  Be careful with this as it is a bit expensive of a call and you&#39;ll need to handle not being on an EC2/Elastic Beanstalk instance.\r\n\r\naccount is from AmazonIdentityManagementClient.getUser().getUser().getArn().  You&#39;ll have to parse the account number from that.  Same warning about not being in an EC2 environment.\r\n\r\nname is what you have.\r\n\r\nA simpler way is loop through the the topics and look for the name you want in the ARN.  You will use the AmazonSNSClient listTopics method to do this.  Remember that that method only returns the first 100 topics - you&#39;ll want to properly loop over the entire topic list.","title":"AWS SNS - How to get topic arn by topic name","body":"<p>I've done this one of two ways.  The ARN is always the same pattern.  So, you could just subscribe to &quot;arn:aws:sns:&lt;region&gt;:&lt;account&gt;:&lt;name&gt;&quot; where:</p>\n<p>region is from Regions.getCurrentRegion().  Be careful with this as it is a bit expensive of a call and you'll need to handle not being on an EC2/Elastic Beanstalk instance.</p>\n<p>account is from AmazonIdentityManagementClient.getUser().getUser().getArn().  You'll have to parse the account number from that.  Same warning about not being in an EC2 environment.</p>\n<p>name is what you have.</p>\n<p>A simpler way is loop through the the topics and look for the name you want in the ARN.  You will use the AmazonSNSClient listTopics method to do this.  Remember that that method only returns the first 100 topics - you'll want to properly loop over the entire topic list.</p>\n"},{"tags":[],"owner":{"account_id":3823090,"reputation":290,"user_id":3170677,"display_name":"tainos"},"comment_count":0,"down_vote_count":5,"up_vote_count":0,"is_accepted":false,"score":-5,"last_activity_date":1472438964,"creation_date":1472438964,"answer_id":39197859,"question_id":36721014,"body_markdown":"What you can do, is to create a table that contains topic and its topicArn.\r\n\r\nThe topic arn can be retrieve by the console or using the api when you create a topic.\r\n\r\nThis way no need to loop or try to match a pattern.","title":"AWS SNS - How to get topic arn by topic name","body":"<p>What you can do, is to create a table that contains topic and its topicArn.</p>\n\n<p>The topic arn can be retrieve by the console or using the api when you create a topic.</p>\n\n<p>This way no need to loop or try to match a pattern.</p>\n"},{"comments":[{"owner":{"account_id":11268023,"reputation":396,"user_id":8264280,"display_name":"harley"},"score":0,"creation_date":1550420081,"post_id":43113128,"comment_id":96252471,"body_markdown":"I think this is a best answer for this question!","body":"I think this is a best answer for this question!"},{"owner":{"account_id":9520713,"reputation":621,"user_id":7075674,"accept_rate":57,"display_name":"Tobias"},"score":0,"creation_date":1684218344,"post_id":43113128,"comment_id":134481159,"body_markdown":"Although the answer is technically correct, it does not follow the principle of least privilege. If you want to follow this, you should better go through the list of topics or create the ARN according to the pattern.","body":"Although the answer is technically correct, it does not follow the principle of least privilege. If you want to follow this, you should better go through the list of topics or create the ARN according to the pattern."}],"tags":[],"owner":{"account_id":3916649,"reputation":387,"user_id":3240320,"display_name":"Bryn"},"comment_count":2,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1490864463,"creation_date":1490864463,"answer_id":43113128,"question_id":36721014,"body_markdown":"As stated in this [answer][1] using createTopic(topicName) is more direct approach. In case topic have been created before, it will just return you topic ARN.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/38088028/3240320","title":"AWS SNS - How to get topic arn by topic name","body":"<p>As stated in this <a href=\"https://stackoverflow.com/a/38088028/3240320\">answer</a> using createTopic(topicName) is more direct approach. In case topic have been created before, it will just return you topic ARN.</p>\n"},{"comments":[{"owner":{"account_id":8062381,"reputation":6887,"user_id":6077549,"accept_rate":5,"display_name":"alltej"},"score":0,"creation_date":1652876932,"post_id":64038239,"comment_id":127712127,"body_markdown":"What is the `event` parameter that you pass in function?","body":"What is the <code>event</code> parameter that you pass in function?"}],"tags":[],"owner":{"account_id":19581982,"reputation":11,"user_id":14330834,"display_name":"Sebastian Muah"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600939092,"creation_date":1600910056,"answer_id":64038239,"question_id":36721014,"body_markdown":"This might be what you need.  Supply the topic and get it from available topics.\r\n\r\n```python\r\nimport json\r\nimport boto3\r\n\r\ndef lambda_handler(event, context):\r\n    try:\r\n\r\n        topic =  event[&#39;topic&#39;] \r\n        subject = event[&#39;subject&#39;]\r\n        body = event[&#39;body&#39;]\r\n        subscriber = event[&#39;subscriber&#39;]\r\n        \r\n        sns_client = boto3.client(&#39;sns&#39;)\r\n        \r\n        sns_topic_arn = [tp[&#39;TopicArn&#39;] for tp in sns_client.list_topics()[&#39;Topics&#39;] if topic in tp[&#39;TopicArn&#39;]]\r\n        \r\n        sns_client.publish(TopicArn = sns_topic_arn[0], Message=body,\r\n            Subject=subject)\r\n        \r\n    except Exception as e:\r\n        print(e)\r\n```","title":"AWS SNS - How to get topic arn by topic name","body":"<p>This might be what you need.  Supply the topic and get it from available topics.</p>\n<pre class=\"lang-py prettyprint-override\"><code>import json\nimport boto3\n\ndef lambda_handler(event, context):\n    try:\n\n        topic =  event['topic'] \n        subject = event['subject']\n        body = event['body']\n        subscriber = event['subscriber']\n        \n        sns_client = boto3.client('sns')\n        \n        sns_topic_arn = [tp['TopicArn'] for tp in sns_client.list_topics()['Topics'] if topic in tp['TopicArn']]\n        \n        sns_client.publish(TopicArn = sns_topic_arn[0], Message=body,\n            Subject=subject)\n        \n    except Exception as e:\n        print(e)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18621587,"reputation":61,"user_id":13571626,"display_name":"markhuang1994"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686289227,"creation_date":1686289227,"answer_id":76437494,"question_id":36721014,"body_markdown":"If you have create topic permission, you can try this:\r\n[link][1]\r\n\r\nIf you don&#39;t have permission, you can try this:\r\n\r\n    private static Optional&lt;Topic&gt; getTopicByName(SnsClient snsClient, \r\n                                                  String topicName) {\r\n        for (val topicsResponse : snsClient.listTopicsPaginator()) {\r\n            if (topicsResponse.hasTopics()) {\r\n                for (val topic : topicsResponse.topics()) {\r\n                    // Arn format =&gt; arn:aws:sns:region:account-id:topic-name\r\n                    val arn = topic.topicArn();\r\n                    val sp = arn.split(&quot;:&quot;);\r\n                    if (topicName.equals(sp[sp.length - 1])) {\r\n                        return Optional.of(topic);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return Optional.empty();\r\n    }\r\n\r\n  [1]: https://stackoverflow.com/a/38088028/3240320","title":"AWS SNS - How to get topic arn by topic name","body":"<p>If you have create topic permission, you can try this:\n<a href=\"https://stackoverflow.com/a/38088028/3240320\">link</a></p>\n<p>If you don't have permission, you can try this:</p>\n<pre><code>private static Optional&lt;Topic&gt; getTopicByName(SnsClient snsClient, \n                                              String topicName) {\n    for (val topicsResponse : snsClient.listTopicsPaginator()) {\n        if (topicsResponse.hasTopics()) {\n            for (val topic : topicsResponse.topics()) {\n                // Arn format =&gt; arn:aws:sns:region:account-id:topic-name\n                val arn = topic.topicArn();\n                val sp = arn.split(&quot;:&quot;);\n                if (topicName.equals(sp[sp.length - 1])) {\n                    return Optional.of(topic);\n                }\n            }\n        }\n    }\n    return Optional.empty();\n}\n</code></pre>\n"}],"owner":{"account_id":2070102,"reputation":5601,"user_id":2260426,"accept_rate":24,"display_name":"Gowsikan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22126,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686289227,"creation_date":1461075316,"question_id":36721014,"body_markdown":"In my application i need to send messages to the given topic name. The topic is already created by other person and in a config file they give only the topic Name. My work is to push the messages in the given topic Name. Is there any way to get topic ARN by topic NAME in java?\r\n\r\n","title":"AWS SNS - How to get topic arn by topic name","body":"<p>In my application i need to send messages to the given topic name. The topic is already created by other person and in a config file they give only the topic Name. My work is to push the messages in the given topic Name. Is there any way to get topic ARN by topic NAME in java?</p>\n"},{"tags":["java","eclipse","swing","layout-manager"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1409881345,"post_id":25677479,"comment_id":40129356,"body_markdown":"Learn about how the Swing layout managers work and you&#39;ll see why your button fills the screen. To get the link, hover over the swing tag I&#39;ve added to your question and click on &quot;info&quot; and then the layout manager tutorial. Note that JFrame contentPanes use BorderLayout. You may want to read on GridLayout, and you may wish to get rid of those useless calls to `setLocation(...)`. They&#39;re not going to help you, and right now are only fooling you into thinking that they&#39;re doing something when they&#39;re not, and are not even needed.","body":"Learn about how the Swing layout managers work and you&#39;ll see why your button fills the screen. To get the link, hover over the swing tag I&#39;ve added to your question and click on &quot;info&quot; and then the layout manager tutorial. Note that JFrame contentPanes use BorderLayout. You may want to read on GridLayout, and you may wish to get rid of those useless calls to <code>setLocation(...)</code>. They&#39;re not going to help you, and right now are only fooling you into thinking that they&#39;re doing something when they&#39;re not, and are not even needed."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1409881457,"post_id":25677479,"comment_id":40129372,"body_markdown":"Your link is [here](http://stackoverflow.com/tags/swing/info).","body":"Your link is <a href=\"http://stackoverflow.com/tags/swing/info\">here</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1409881847,"post_id":25677479,"comment_id":40129455,"body_markdown":"Other suggestions going forward -- don&#39;t setSize or setBounds either. Let the components and the layout managers set the sizes. Avoid putting the whole GUI together in the static main method. That method should be just for creating an object and starting it up, and that&#39;s about it, and this should take just a few lines of code. Also you&#39;ll want to learn and follow Java naming rules, including giving classes names that begin with a capital letter. This way others will more easily understand your code.","body":"Other suggestions going forward -- don&#39;t setSize or setBounds either. Let the components and the layout managers set the sizes. Avoid putting the whole GUI together in the static main method. That method should be just for creating an object and starting it up, and that&#39;s about it, and this should take just a few lines of code. Also you&#39;ll want to learn and follow Java naming rules, including giving classes names that begin with a capital letter. This way others will more easily understand your code."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1409888223,"post_id":25677479,"comment_id":40130764,"body_markdown":"BTW - the code example probably would have failed with just 2 buttons, so there&#39;s no need for the other seven.","body":"BTW - the code example probably would have failed with just 2 buttons, so there&#39;s no need for the other seven."},{"owner":{"account_id":1054151,"reputation":24498,"user_id":1057230,"accept_rate":100,"display_name":"nIcE cOw"},"score":0,"creation_date":1409905268,"post_id":25677479,"comment_id":40136454,"body_markdown":"You have taken a `JPanel` __p__ in this case, and added all `JButton`s to it, now it&#39;s time to add this `JPanel` to some container. But you starting adding those `JButton`s again to some other place. Just try this, take a `JPanel`. Change it&#39;s layout to `GridLayout` by `p.setLayout(new GridLayout(3, 3, 5, 5))`, now add all `JButton`s to it, like `p.add(b1)` and so on. Now add this `JPanel` to `JFrame` by `frame.setContentPane(p)`, now call `pack()`, and then call `frame.setVisible(true)`. Do not call `setVisible()` before adding needed components to the container.","body":"You have taken a <code>JPanel</code> <b>p</b> in this case, and added all <code>JButton</code>s to it, now it&#39;s time to add this <code>JPanel</code> to some container. But you starting adding those <code>JButton</code>s again to some other place. Just try this, take a <code>JPanel</code>. Change it&#39;s layout to <code>GridLayout</code> by <code>p.setLayout(new GridLayout(3, 3, 5, 5))</code>, now add all <code>JButton</code>s to it, like <code>p.add(b1)</code> and so on. Now add this <code>JPanel</code> to <code>JFrame</code> by <code>frame.setContentPane(p)</code>, now call <code>pack()</code>, and then call <code>frame.setVisible(true)</code>. Do not call <code>setVisible()</code> before adding needed components to the container."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1409881829,"creation_date":1409881829,"answer_id":25677564,"question_id":25677479,"body_markdown":"1. A component may only reside within a single parent, adding a component to another container will remove it from the first, so basically, nothing resides within your `JPanel` anymore...\r\n2. `JFrame` by default, uses a `BorderLayout`, which means that only one component can occupy any of the five available spaces it provides.  What&#39;s happening with your code is `b9`, been the last component added to your frame, is the only component been displayed.  `BorderLayout` is providing `b9` with the full available space to it.\r\n\r\nStart by taking a look at [Laying Out Components Within a Container](http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html).  You may need to use multiple layouts in order to achieve what you want, but this allows you to separate responsibility and isolate the individual requirements of each section of your interface","title":"Button Takes Up My Whole Screen","body":"<ol>\n<li>A component may only reside within a single parent, adding a component to another container will remove it from the first, so basically, nothing resides within your <code>JPanel</code> anymore...</li>\n<li><code>JFrame</code> by default, uses a <code>BorderLayout</code>, which means that only one component can occupy any of the five available spaces it provides.  What's happening with your code is <code>b9</code>, been the last component added to your frame, is the only component been displayed.  <code>BorderLayout</code> is providing <code>b9</code> with the full available space to it.</li>\n</ol>\n\n<p>Start by taking a look at <a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow\">Laying Out Components Within a Container</a>.  You may need to use multiple layouts in order to achieve what you want, but this allows you to separate responsibility and isolate the individual requirements of each section of your interface</p>\n"},{"tags":[],"owner":{"account_id":4987850,"reputation":274,"user_id":4010928,"display_name":"Cristian Sulea"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1409927663,"creation_date":1409927663,"answer_id":25688314,"question_id":25677479,"body_markdown":"Replace this:\r\n\r\n        JPanel p = new JPanel();\r\nwith:\r\n\r\n        JPanel p = new JPanel(new GridLayout(3, 3));\r\n\r\n\r\nAnd this:\r\n\r\n        frame.add(p);\r\n        frame.add(b1);\r\n        frame.add(b2);\r\n        frame.add(b3);\r\n        frame.add(b4);\r\n        frame.add(b5);\r\n        frame.add(b6);\r\n        frame.add(b7);\r\n        frame.add(b8);\r\n        frame.add(b9);\r\n\r\nwith this:\r\n\r\n        frame.setContentPane(p);\r\n\r\n\r\n----------\r\n\r\n\r\nThis will make your code &quot;work&quot;.\r\nBut you have to play more with the containers to learn how to &quot;layout&quot; components. I suggest you this:\r\nhttp://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html","title":"Button Takes Up My Whole Screen","body":"<p>Replace this:</p>\n\n<pre><code>    JPanel p = new JPanel();\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>    JPanel p = new JPanel(new GridLayout(3, 3));\n</code></pre>\n\n<p>And this:</p>\n\n<pre><code>    frame.add(p);\n    frame.add(b1);\n    frame.add(b2);\n    frame.add(b3);\n    frame.add(b4);\n    frame.add(b5);\n    frame.add(b6);\n    frame.add(b7);\n    frame.add(b8);\n    frame.add(b9);\n</code></pre>\n\n<p>with this:</p>\n\n<pre><code>    frame.setContentPane(p);\n</code></pre>\n\n<hr>\n\n<p>This will make your code \"work\".\nBut you have to play more with the containers to learn how to \"layout\" components. I suggest you this:\n<a href=\"http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html\" rel=\"nofollow\">http://docs.oracle.com/javase/tutorial/uiswing/layout/visual.html</a></p>\n"},{"tags":[],"owner":{"account_id":11789675,"reputation":56,"user_id":8626230,"display_name":"yoav shiloah"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506683580,"creation_date":1506683580,"answer_id":46487649,"question_id":25677479,"body_markdown":"i had a problem just like that if its the last button that fill your window you can &quot;cheat&quot; by adding another button at the end of your code and then disable him and make him invisible like this.\r\n`cheater.setVisible(false);\r\n cheater.setEnabled(false);`","title":"Button Takes Up My Whole Screen","body":"<p>i had a problem just like that if its the last button that fill your window you can \"cheat\" by adding another button at the end of your code and then disable him and make him invisible like this.\n<code>cheater.setVisible(false);\n cheater.setEnabled(false);</code></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1686327705,"post_id":76437432,"comment_id":134788544,"body_markdown":"Your answer could be improved with additional supporting information. Please [edit] to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"Your answer could be improved with additional supporting information. Please <a href=\"https://stackoverflow.com/posts/76437432/edit\">edit</a> to add further details, such as citations or documentation, so that others can confirm that your answer is correct. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":28785087,"reputation":1,"user_id":22045752,"display_name":"JMORG23"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686288288,"creation_date":1686288288,"answer_id":76437432,"question_id":25677479,"body_markdown":"you can also fix this by setting your layout to null so panel.setLayout(null);\r\n","title":"Button Takes Up My Whole Screen","body":"<p>you can also fix this by setting your layout to null so panel.setLayout(null);</p>\n"}],"owner":{"account_id":4981216,"reputation":33,"user_id":4006109,"display_name":"benbylife"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3822,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":25677564,"answer_count":4,"score":3,"last_activity_date":1686288288,"creation_date":1409881139,"question_id":25677479,"body_markdown":"    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n\r\n    public class box{\r\n    \tpublic static String b1state = &quot;A&quot;;\r\n    \tpublic static String b2state = &quot;S&quot;;\r\n    \tpublic static String b3state = &quot;D&quot;;\r\n    \tpublic static String b4state = &quot;F&quot;;\r\n    \tpublic static String b5state = &quot;G&quot;;\r\n    \tpublic static String b6state = &quot;H&quot;;\r\n    \tpublic static String b7state = &quot;J&quot;;\r\n    \tpublic static String b8state = &quot;K&quot;;\r\n    \tpublic static String b9state = &quot;Q&quot;;\r\n    \t\r\n        public static void main(String[] args){\r\n        \tJFrame frame = new JFrame(&quot;Tic Tac Toe&quot;);\r\n        \tframe.setSize(500,500);\r\n        \tframe.setResizable(false);\r\n        \tframe.setVisible(true);\r\n        \tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \t\r\n        \tJPanel p = new JPanel();\r\n\r\n        \tJButton b1 = new JButton(b1state);\r\n        \tb1.setLocation(100,  50);\r\n        \tJButton b2 = new JButton(b2state);\r\n        \tb2.setLocation(150, 50);\r\n        \tJButton b3 = new JButton(b3state);\r\n        \tb3.setLocation(200, 50);\r\n        \tJButton b4 = new JButton(b4state);\r\n        \tb4.setLocation(100, 100);\r\n        \tJButton b5 = new JButton(b5state);\r\n        \tb5.setLocation(150, 100);\r\n        \tJButton b6 = new JButton(b6state);\r\n        \tb6.setLocation(200, 100);\r\n        \tJButton b7 = new JButton(b7state);\r\n        \tb7.setLocation(100, 150);\r\n        \tJButton b8 = new JButton(b8state);\r\n        \tb8.setLocation(150, 150);\r\n        \tJButton b9 = new JButton(b9state);\r\n        \tb9.setLocation(200, 150);\r\n        \t\r\n        \tb1.setSize(50, 50);\r\n        \tb2.setSize(50, 50);\r\n        \tb3.setSize(50, 50);\r\n        \tb4.setSize(50, 50);\r\n        \tb5.setSize(50, 50);\r\n        \tb6.setSize(50, 50);\r\n        \tb7.setSize(50, 50);\r\n        \tb8.setSize(50, 50);\r\n        \tb9.setSize(50, 50);\r\n        \t\r\n        \tp.add(b1);\r\n        \tp.add(b2);\r\n        \tp.add(b3);\r\n        \tp.add(b4);\r\n        \tp.add(b5);\r\n        \tp.add(b6);\r\n        \tp.add(b7);\r\n        \tp.add(b8);\r\n        \tp.add(b9);\r\n\r\n        \tframe.add(p);\r\n        \tframe.add(b1);\r\n        \tframe.add(b2);\r\n        \tframe.add(b3);\r\n        \tframe.add(b4);\r\n        \tframe.add(b5);\r\n        \tframe.add(b6);\r\n        \tframe.add(b7);\r\n        \tframe.add(b8);\r\n        \tframe.add(b9);\r\n        }\r\n\r\nWhen ever I run this sometimes it works but other times it just opens the window with a whole button taking up the screen! Please Help!\r\n","title":"Button Takes Up My Whole Screen","body":"<pre><code>import javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class box{\n    public static String b1state = \"A\";\n    public static String b2state = \"S\";\n    public static String b3state = \"D\";\n    public static String b4state = \"F\";\n    public static String b5state = \"G\";\n    public static String b6state = \"H\";\n    public static String b7state = \"J\";\n    public static String b8state = \"K\";\n    public static String b9state = \"Q\";\n\n    public static void main(String[] args){\n        JFrame frame = new JFrame(\"Tic Tac Toe\");\n        frame.setSize(500,500);\n        frame.setResizable(false);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n\n        JPanel p = new JPanel();\n\n        JButton b1 = new JButton(b1state);\n        b1.setLocation(100,  50);\n        JButton b2 = new JButton(b2state);\n        b2.setLocation(150, 50);\n        JButton b3 = new JButton(b3state);\n        b3.setLocation(200, 50);\n        JButton b4 = new JButton(b4state);\n        b4.setLocation(100, 100);\n        JButton b5 = new JButton(b5state);\n        b5.setLocation(150, 100);\n        JButton b6 = new JButton(b6state);\n        b6.setLocation(200, 100);\n        JButton b7 = new JButton(b7state);\n        b7.setLocation(100, 150);\n        JButton b8 = new JButton(b8state);\n        b8.setLocation(150, 150);\n        JButton b9 = new JButton(b9state);\n        b9.setLocation(200, 150);\n\n        b1.setSize(50, 50);\n        b2.setSize(50, 50);\n        b3.setSize(50, 50);\n        b4.setSize(50, 50);\n        b5.setSize(50, 50);\n        b6.setSize(50, 50);\n        b7.setSize(50, 50);\n        b8.setSize(50, 50);\n        b9.setSize(50, 50);\n\n        p.add(b1);\n        p.add(b2);\n        p.add(b3);\n        p.add(b4);\n        p.add(b5);\n        p.add(b6);\n        p.add(b7);\n        p.add(b8);\n        p.add(b9);\n\n        frame.add(p);\n        frame.add(b1);\n        frame.add(b2);\n        frame.add(b3);\n        frame.add(b4);\n        frame.add(b5);\n        frame.add(b6);\n        frame.add(b7);\n        frame.add(b8);\n        frame.add(b9);\n    }\n</code></pre>\n\n<p>When ever I run this sometimes it works but other times it just opens the window with a whole button taking up the screen! Please Help!</p>\n"},{"tags":["java","pdf","pdfbox"],"owner":{"account_id":3898905,"reputation":1525,"user_id":3227213,"accept_rate":38,"display_name":"Abhijeet"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686288165,"creation_date":1686288165,"question_id":76437418,"body_markdown":"I&#39;m trying to remove the text that appears on an image in a PDF file. To accomplish this, I&#39;m using the pdfbox library to obtain the image and character coordinates. \r\n\r\nInitially, I attempted to retrieve the image coordinates using the code snippet provided below. Since the image coordinate system and text coordinate system differ in PDF files, I converted the image coordinates to the text coordinate system. However, I&#39;m uncertain about the accuracy of the conversion formula. I stored all the image coordinates in an array called &quot;coordinates&quot;.\r\n\r\n    @Override\r\n    protected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\r\n        String operation = operator.getName();\r\n        if (&quot;Do&quot;.equals(operation)) {\r\n            COSName objectName = (COSName) operands.get(0);\r\n            PDXObject xobject = getResources().getXObject(objectName);\r\n            if (xobject instanceof PDImageXObject) {\r\n                PDImageXObject image = (PDImageXObject) xobject;\r\n                int imageWidth = image.getWidth();\r\n                int imageHeight = image.getHeight();\r\n                \r\n                // Print image information\r\n                System.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\r\n                \r\n                Matrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\r\n                float imageXScale = ctmNew.getScalingFactorX();\r\n                float imageYScale = ctmNew.getScalingFactorY();\r\n                \r\n                // Print position of image in the PDF in terms of user space units\r\n                System.out.println(&quot;position in PDF = &quot; + ctmNew.getTranslateX() + &quot;, &quot; + ctmNew.getTranslateY() + &quot; in user space units&quot;);\r\n                // Print raw size of the image in pixels\r\n                System.out.println(&quot;raw image size  = &quot; + imageWidth + &quot;, &quot; + imageHeight + &quot; in pixels&quot;);\r\n                // Print displayed size of the image in user space units\r\n                System.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\r\n                \r\n                PDRectangle pdRectangle = getCurrentPage().getMediaBox();\r\n                int pageHeight = (int) pdRectangle.getHeight();\r\n                int pageWidth = (int) pdRectangle.getWidth();\r\n                \r\n                // Convert the image coordinates to text coordinates\r\n                int x1 = (int) (ctmNew.getTranslateX() + ctmNew.getShearX() - ctmNew.getScalingFactorX());\r\n                int x2 = (int) (ctmNew.getTranslateX() + imageWidth);\r\n                int y2 = (int) (pageHeight - ctmNew.getTranslateY());\r\n                int y1 = (int) (pageHeight - (ctmNew.getTranslateY() + ctmNew.getShearY() + imageHeight));\r\n                \r\n                Coordinate coordinate = new Coordinate(x1, y1, x2, y2, pageNum);\r\n                coordinates.add(coordinate);\r\n            } else if (xobject instanceof PDFormXObject) {\r\n                PDFormXObject form = (PDFormXObject) xobject;\r\n                showForm(form);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nLater, I obtained the character coordinates using the following code and checked if the character lies within the image coordinates.\r\n\r\n\r\n    @Override\r\n    \tprotected void processTextPosition(TextPosition text) \r\n    \t{\r\n    \t\tPDPage pdpage = getCurrentPage() ;\r\n    \t\tint pageno = getCurrentPageNo() ;\r\n    \t\tsuper.processTextPosition(text) ;\r\n    \r\n    \t\tPDColor pdcolor = getGraphicsState().getStrokingColor() ;\r\n    \t\tColor jcolor = null ;\r\n    \t\ttry {  jcolor = new Color(pdcolor.toRGB()) ;  } catch (IOException e) { e.printStackTrace() ; }\r\n    \t\tjcolor = jcolor == null ? Color.BLACK : jcolor ;\r\n    \t\tPColor fontcolor = new PColor(jcolor.getRed(), jcolor.getGreen(), jcolor.getBlue(), jcolor.getAlpha()) ;\r\n    \t\t\r\n    \t\tString unicode = text.getUnicode() ;\r\n    \t\t\r\n    \t\tfloat angle = text.getDir() ;\r\n    \t\tfloat x1 = text.getX() ;\r\n    \t\tfloat y1 = text.getY() ;\r\n    \t\tfloat height = text.getHeight() ;\r\n    \t\t// float height = ( text.getFont().getFontDescriptor().getCapHeight()) / 1000 * text.getFontSize() ;\r\n    \t\tfloat width = text.getUnicode().trim().equalsIgnoreCase(&quot;&quot;) ? text.getWidthOfSpace() : text.getWidth() ;\r\n    \t\tPDFont font = text.getFont() ;\r\n    \t\tfloat fontsize = text.getFontSize() ;\r\n    \t\tfloat ptfontsize = text.getFontSizeInPt() ;\r\n    \t\t\r\n    \t\tfloat x2 = x1 + width ;\r\n    \t\tfloat y2 = y1 + height ;\r\n    \t\t// System.out.println(&quot;Height=&quot; + height) ;\r\n    \t\t\r\n    \t\tString fontname = font.getFontDescriptor().getFontName().toUpperCase() ;\r\n    \t\tboolean bold = fontname.toUpperCase().contains(&quot;BOLD&quot;) ;\r\n    \t\tboolean italics = fontname.toUpperCase().contains(&quot;ITALIC&quot;) ;\r\n    \t\tfontname = fontname.replaceAll(&quot;BOLD&quot;, &quot;&quot;).replaceAll(&quot;ITALICS&quot;, &quot;&quot;).replaceAll(&quot;ITALIC&quot;, &quot;&quot;).replaceAll(&quot;REGULAR&quot;, &quot;&quot;).replaceAll(&quot;\\\\-&quot;, &quot;&quot;).trim().toUpperCase() ; \r\n    \t\t\r\n    \t\t\r\n    \t\tPPage page = pages().containsKey(pageno) ? pages().get(pageno) : null ;\r\n    \t\tif ( page == null )\r\n    \t\t\tpage = new PPage(0.0f, 0.0f, pdpage.getCropBox().getWidth(), pdpage.getCropBox().getHeight(), pageno, 0.0f, new PColor(255, 255, 255, 0), new ArrayList&lt;PCharacter&gt;()) ;\r\n    \t\t\r\n    \t\tPCharacter pchar = new PCharacter(pageno, angle, x1, y1, x2, y2, new PColor(255, 255, 255, 0), unicode, fontname, fontsize, ptfontsize, fontcolor, bold, italics, false, false) ;\r\n    \r\n    \r\n    \t\tboolean isPresentWithinCoordinate = PSVGReader.coordinates.stream().anyMatch(coordinate -&gt; x1 &gt;= coordinate.getX1()\r\n    \t\t\t\t&amp;&amp; x2&lt;=coordinate.getX2() &amp;&amp; y1 &gt;=coordinate.getY1()\r\n    \t\t\t\t&amp;&amp; y2 &lt;= coordinate.getY2() &amp;&amp; pageno == coordinate.getPageNo());\r\n    \r\n    \t\tif(!isPresentWithinCoordinate) {\r\n    \t\t\tpage.rawCharacters().add(pchar);\r\n    \t\t\tSystem.out.println(&quot;\\n pageno=&quot;+ pageno + &quot;  pchar=&quot;+ pchar + &quot; X1=&quot;+ x1 + &quot; X2=&quot; + x2 + &quot; Y1=&quot;+ y1 + &quot; Y2=&quot; + y2);\t\t\r\n    \t\t}else {\r\n    \t\t\tpage.rawCharacters().add(pchar) ;\r\n    \t\t}\r\n    \r\n    \t\tpages().put(pageno, page) ;\r\n    \r\n    \r\n    \t} \r\n\r\nHowever, I noticed that the character coordinates and image coordinates do not match. I suspect that my method of converting the image coordinates to the text coordinate system is incorrect. Could you please assist me in accurately converting the image coordinate system to the character coordinate system?","title":"How to get the image &amp; text coordinates of pdf with respect to page using pdfbox?","body":"<p>I'm trying to remove the text that appears on an image in a PDF file. To accomplish this, I'm using the pdfbox library to obtain the image and character coordinates.</p>\n<p>Initially, I attempted to retrieve the image coordinates using the code snippet provided below. Since the image coordinate system and text coordinate system differ in PDF files, I converted the image coordinates to the text coordinate system. However, I'm uncertain about the accuracy of the conversion formula. I stored all the image coordinates in an array called &quot;coordinates&quot;.</p>\n<pre><code>@Override\nprotected void processOperator(Operator operator, List&lt;COSBase&gt; operands) throws IOException {\n    String operation = operator.getName();\n    if (&quot;Do&quot;.equals(operation)) {\n        COSName objectName = (COSName) operands.get(0);\n        PDXObject xobject = getResources().getXObject(objectName);\n        if (xobject instanceof PDImageXObject) {\n            PDImageXObject image = (PDImageXObject) xobject;\n            int imageWidth = image.getWidth();\n            int imageHeight = image.getHeight();\n            \n            // Print image information\n            System.out.println(&quot;\\nImage [&quot; + objectName.getName() + &quot;]&quot;);\n            \n            Matrix ctmNew = getGraphicsState().getCurrentTransformationMatrix();\n            float imageXScale = ctmNew.getScalingFactorX();\n            float imageYScale = ctmNew.getScalingFactorY();\n            \n            // Print position of image in the PDF in terms of user space units\n            System.out.println(&quot;position in PDF = &quot; + ctmNew.getTranslateX() + &quot;, &quot; + ctmNew.getTranslateY() + &quot; in user space units&quot;);\n            // Print raw size of the image in pixels\n            System.out.println(&quot;raw image size  = &quot; + imageWidth + &quot;, &quot; + imageHeight + &quot; in pixels&quot;);\n            // Print displayed size of the image in user space units\n            System.out.println(&quot;displayed size  = &quot; + imageXScale + &quot;, &quot; + imageYScale + &quot; in user space units&quot;);\n            \n            PDRectangle pdRectangle = getCurrentPage().getMediaBox();\n            int pageHeight = (int) pdRectangle.getHeight();\n            int pageWidth = (int) pdRectangle.getWidth();\n            \n            // Convert the image coordinates to text coordinates\n            int x1 = (int) (ctmNew.getTranslateX() + ctmNew.getShearX() - ctmNew.getScalingFactorX());\n            int x2 = (int) (ctmNew.getTranslateX() + imageWidth);\n            int y2 = (int) (pageHeight - ctmNew.getTranslateY());\n            int y1 = (int) (pageHeight - (ctmNew.getTranslateY() + ctmNew.getShearY() + imageHeight));\n            \n            Coordinate coordinate = new Coordinate(x1, y1, x2, y2, pageNum);\n            coordinates.add(coordinate);\n        } else if (xobject instanceof PDFormXObject) {\n            PDFormXObject form = (PDFormXObject) xobject;\n            showForm(form);\n        }\n    }\n}\n</code></pre>\n<p>Later, I obtained the character coordinates using the following code and checked if the character lies within the image coordinates.</p>\n<pre><code>@Override\n    protected void processTextPosition(TextPosition text) \n    {\n        PDPage pdpage = getCurrentPage() ;\n        int pageno = getCurrentPageNo() ;\n        super.processTextPosition(text) ;\n\n        PDColor pdcolor = getGraphicsState().getStrokingColor() ;\n        Color jcolor = null ;\n        try {  jcolor = new Color(pdcolor.toRGB()) ;  } catch (IOException e) { e.printStackTrace() ; }\n        jcolor = jcolor == null ? Color.BLACK : jcolor ;\n        PColor fontcolor = new PColor(jcolor.getRed(), jcolor.getGreen(), jcolor.getBlue(), jcolor.getAlpha()) ;\n        \n        String unicode = text.getUnicode() ;\n        \n        float angle = text.getDir() ;\n        float x1 = text.getX() ;\n        float y1 = text.getY() ;\n        float height = text.getHeight() ;\n        // float height = ( text.getFont().getFontDescriptor().getCapHeight()) / 1000 * text.getFontSize() ;\n        float width = text.getUnicode().trim().equalsIgnoreCase(&quot;&quot;) ? text.getWidthOfSpace() : text.getWidth() ;\n        PDFont font = text.getFont() ;\n        float fontsize = text.getFontSize() ;\n        float ptfontsize = text.getFontSizeInPt() ;\n        \n        float x2 = x1 + width ;\n        float y2 = y1 + height ;\n        // System.out.println(&quot;Height=&quot; + height) ;\n        \n        String fontname = font.getFontDescriptor().getFontName().toUpperCase() ;\n        boolean bold = fontname.toUpperCase().contains(&quot;BOLD&quot;) ;\n        boolean italics = fontname.toUpperCase().contains(&quot;ITALIC&quot;) ;\n        fontname = fontname.replaceAll(&quot;BOLD&quot;, &quot;&quot;).replaceAll(&quot;ITALICS&quot;, &quot;&quot;).replaceAll(&quot;ITALIC&quot;, &quot;&quot;).replaceAll(&quot;REGULAR&quot;, &quot;&quot;).replaceAll(&quot;\\\\-&quot;, &quot;&quot;).trim().toUpperCase() ; \n        \n        \n        PPage page = pages().containsKey(pageno) ? pages().get(pageno) : null ;\n        if ( page == null )\n            page = new PPage(0.0f, 0.0f, pdpage.getCropBox().getWidth(), pdpage.getCropBox().getHeight(), pageno, 0.0f, new PColor(255, 255, 255, 0), new ArrayList&lt;PCharacter&gt;()) ;\n        \n        PCharacter pchar = new PCharacter(pageno, angle, x1, y1, x2, y2, new PColor(255, 255, 255, 0), unicode, fontname, fontsize, ptfontsize, fontcolor, bold, italics, false, false) ;\n\n\n        boolean isPresentWithinCoordinate = PSVGReader.coordinates.stream().anyMatch(coordinate -&gt; x1 &gt;= coordinate.getX1()\n                &amp;&amp; x2&lt;=coordinate.getX2() &amp;&amp; y1 &gt;=coordinate.getY1()\n                &amp;&amp; y2 &lt;= coordinate.getY2() &amp;&amp; pageno == coordinate.getPageNo());\n\n        if(!isPresentWithinCoordinate) {\n            page.rawCharacters().add(pchar);\n            System.out.println(&quot;\\n pageno=&quot;+ pageno + &quot;  pchar=&quot;+ pchar + &quot; X1=&quot;+ x1 + &quot; X2=&quot; + x2 + &quot; Y1=&quot;+ y1 + &quot; Y2=&quot; + y2);     \n        }else {\n            page.rawCharacters().add(pchar) ;\n        }\n\n        pages().put(pageno, page) ;\n\n\n    } \n</code></pre>\n<p>However, I noticed that the character coordinates and image coordinates do not match. I suspect that my method of converting the image coordinates to the text coordinate system is incorrect. Could you please assist me in accurately converting the image coordinate system to the character coordinate system?</p>\n"},{"tags":["java","interface","static-methods"],"comments":[{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1686254991,"post_id":76435230,"comment_id":134777803,"body_markdown":"The object you store in there is not &#39;an interface&#39;. The __variable type__ is, but an object obviously cannot possibly be (`new SomeInterface()` is not legal java). The mutable state-ness of an object and &#39;its type implements at least one interface&#39; are completely unrelated. The warning is fair, you should heed it or intentionally choose to ignore it. &quot;It implements an interface&quot; is entirely irrelevant.","body":"The object you store in there is not &#39;an interface&#39;. The <b>variable type</b> is, but an object obviously cannot possibly be (<code>new SomeInterface()</code> is not legal java). The mutable state-ness of an object and &#39;its type implements at least one interface&#39; are completely unrelated. The warning is fair, you should heed it or intentionally choose to ignore it. &quot;It implements an interface&quot; is entirely irrelevant."}],"owner":{"account_id":20544317,"reputation":3,"user_id":21406289,"display_name":"Luisian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287724,"creation_date":1686253459,"question_id":76435230,"body_markdown":"There is some legacy code.. The class A has a static field, and a static method in which it&#39;s nesessary to assign a value to a static variable. spotbugs advises to store a copy of the object, not the object itself.\r\nBut what if the variable type being assigned is an interface?\r\n\r\nCalling a static method of class A comes from the constructor of class C\r\n\r\n```\r\npublic class A {\r\n\r\n  private static SomeInterface someInterface;\r\n\r\n  public static void setSomeInterface(SomeInterface someInterface) {\r\n        A.someInterface = someInterface;\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface SomeInterface { \r\n\r\n  ...\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class B implements SomeInterface {\r\n\r\n  ...\r\n\r\n} \r\n```\r\n\r\n```\r\npublic class C { \r\n\r\n  public C(final SomeInterface someInterface) {\r\n\r\n    A.setSomeInterface(someInterface);\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nIf it were a class rather than an interface, I could instantiate the object and assign the value of the reference to it, but the input parameter is the interface.\r\n\r\nI tried to mark the static method with synchronized, but the bug is still there.\r\nI tried to implement interfaces cloneable and override the clone method in class B also, but i think this is not good idea.\r\n\r\n\r\n```\r\npublic class A {\r\n\r\n  private static SomeInterface someInterface;\r\n\r\n  public static void setSomeInterface(SomeInterface someInterface) {\r\n        A.someInterface = someInterface.makeClone();\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\npublic interface SomeInterface { \r\n\r\n  ...\r\n\r\n  SomeInterface  makeClone();\r\n\r\n}\r\n```\r\n\r\n```\r\npublic class B implements SomeInterface, Clonable {\r\n\r\n  ...\r\n\r\n  @Override\r\n  public SomeInterface makeClone() {\r\n      return clone();\r\n  }\r\n\r\n  @Override\r\n  public B clone() {\r\n      try {\r\n          return (B) super.clone();\r\n      } catch (CloneNotSupportedException e) {\r\n          throw new AssertionError();\r\n      }\r\n  }\r\n\r\n} \r\n```\r\n\r\nWhat would you advise?\r\n","title":"May expose internal static state by storing a mutable object into a static field","body":"<p>There is some legacy code.. The class A has a static field, and a static method in which it's nesessary to assign a value to a static variable. spotbugs advises to store a copy of the object, not the object itself.\nBut what if the variable type being assigned is an interface?</p>\n<p>Calling a static method of class A comes from the constructor of class C</p>\n<pre><code>public class A {\n\n  private static SomeInterface someInterface;\n\n  public static void setSomeInterface(SomeInterface someInterface) {\n        A.someInterface = someInterface;\n    }\n\n}\n</code></pre>\n<pre><code>public interface SomeInterface { \n\n  ...\n\n}\n</code></pre>\n<pre><code>public class B implements SomeInterface {\n\n  ...\n\n} \n</code></pre>\n<pre><code>public class C { \n\n  public C(final SomeInterface someInterface) {\n\n    A.setSomeInterface(someInterface);\n\n  }\n\n}\n</code></pre>\n<p>If it were a class rather than an interface, I could instantiate the object and assign the value of the reference to it, but the input parameter is the interface.</p>\n<p>I tried to mark the static method with synchronized, but the bug is still there.\nI tried to implement interfaces cloneable and override the clone method in class B also, but i think this is not good idea.</p>\n<pre><code>public class A {\n\n  private static SomeInterface someInterface;\n\n  public static void setSomeInterface(SomeInterface someInterface) {\n        A.someInterface = someInterface.makeClone();\n    }\n\n}\n</code></pre>\n<pre><code>public interface SomeInterface { \n\n  ...\n\n  SomeInterface  makeClone();\n\n}\n</code></pre>\n<pre><code>public class B implements SomeInterface, Clonable {\n\n  ...\n\n  @Override\n  public SomeInterface makeClone() {\n      return clone();\n  }\n\n  @Override\n  public B clone() {\n      try {\n          return (B) super.clone();\n      } catch (CloneNotSupportedException e) {\n          throw new AssertionError();\n      }\n  }\n\n} \n</code></pre>\n<p>What would you advise?</p>\n"},{"tags":["java","networking","multicast"],"comments":[{"owner":{"account_id":1839599,"reputation":209304,"user_id":1687119,"accept_rate":75,"display_name":"dbush"},"score":0,"creation_date":1686490063,"post_id":76437388,"comment_id":134802564,"body_markdown":"Rather than code snippets, please show a [mcve].  Also, the stack trace you show is incomplete.  Please show the *entire* error message.","body":"Rather than code snippets, please show a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  Also, the stack trace you show is incomplete.  Please show the <i>entire</i> error message."},{"owner":{"account_id":1709870,"reputation":4053,"user_id":1568138,"display_name":"Daniel"},"score":0,"creation_date":1689936519,"post_id":76437388,"comment_id":135286937,"body_markdown":"What @dbush said and do you really want to join the group `224.0.0.1`, which is [reserved](https://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml#multicast-addresses-1)? Even though your port might not clash with other traffic. Moreover, which network interface are you trying to bind to? Your problem might be related to the program binding to an interface not eligible for multicast. In any case, more information is needed.","body":"What @dbush said and do you really want to join the group <code>224.0.0.1</code>, which is <a href=\"https://www.iana.org/assignments/multicast-addresses/multicast-addresses.xhtml#multicast-addresses-1\" rel=\"nofollow noreferrer\">reserved</a>? Even though your port might not clash with other traffic. Moreover, which network interface are you trying to bind to? Your problem might be related to the program binding to an interface not eligible for multicast. In any case, more information is needed."}],"owner":{"account_id":5028983,"reputation":563,"user_id":14561199,"display_name":"Akila Uyanwatta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287450,"creation_date":1686287450,"question_id":76437388,"body_markdown":"I get the following exception whem I&#39;m joining a multicast group using Java\r\n\r\n```Caused by: java.net.SocketException: error setting options\r\nat java.net.TwoStacksPlainDatagramSocketImpl.join(Native Method) ~[?:1.8.0_211]\r\nat java.net.AbstractPlainDatagramSocketImpl.join(AbstractPlainDatagramSocketImpl.java:178) ~[?:1.8.0_211]\r\nat java.net.MulticastSocket.joinGroup(MulticastSocket.java:323) ~[?:1.8.0_211]\r\n```\r\n\r\nThis feature worked earlier but suddenly stopped working \r\n\r\n**My code**\r\n- Variables\r\n```/** address to broadcast over */\r\nprivate String address = null;\r\n\r\n/** group */\r\nprivate InetAddress group = null;\r\n\t\r\n/** port to broadcast over */\r\nprivate int port = -1;\r\n\r\n/** connected multicast socket */\r\nMulticastSocket socket = null;\r\n```\r\n\r\n- Attempting to join\r\n\r\n```\r\n\r\ngroup = InetAddress.getByName(address);\r\nsocket = new MulticastSocket(port);\r\nsocket.joinGroup(group);\r\n```\r\n\r\n- Values\r\n\r\n  port = 4580\r\n\r\n  address = 224.0.0.1\r\n\r\n**Specs**\r\n\r\n- \\-OS - Windows 10 Home\r\n- \\-OS version - 10.0.19044 Build 19044\r\n- \\-Ram - 40GB (32GB + 8GB)\r\n- \\-Processor - i7-10510U\r\n- \\-Java version - 1.8.0_211\r\n- \\-IDE - Eclipse\r\n- \\-IDE Version - 2021-03 (4.19.0)\r\n- \\-IDE Build id - 20210312-0638\r\n- \\-Tomcat version - 9.0\r\n\r\nI have tried following things to resolve the issue\r\n\r\n- Added `-Djava.net.preferIPv4Stack=true` to JVM\r\n- Added `System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);` to my code\r\n- Disconnecting my laptop from the internet\r\n\r\n**Other information**\r\nI have VM wear and wireshark installed (not sure if they affect the behaviour). This exact code worked fine for months even with those programs\r\n","title":"java.net.SocketException: error setting options when setting up multicast on Windows","body":"<p>I get the following exception whem I'm joining a multicast group using Java</p>\n<pre><code>at java.net.TwoStacksPlainDatagramSocketImpl.join(Native Method) ~[?:1.8.0_211]\nat java.net.AbstractPlainDatagramSocketImpl.join(AbstractPlainDatagramSocketImpl.java:178) ~[?:1.8.0_211]\nat java.net.MulticastSocket.joinGroup(MulticastSocket.java:323) ~[?:1.8.0_211]\n</code></pre>\n<p>This feature worked earlier but suddenly stopped working</p>\n<p><strong>My code</strong></p>\n<ul>\n<li>Variables</li>\n</ul>\n<pre><code>private String address = null;\n\n/** group */\nprivate InetAddress group = null;\n    \n/** port to broadcast over */\nprivate int port = -1;\n\n/** connected multicast socket */\nMulticastSocket socket = null;\n</code></pre>\n<ul>\n<li>Attempting to join</li>\n</ul>\n<pre><code>\ngroup = InetAddress.getByName(address);\nsocket = new MulticastSocket(port);\nsocket.joinGroup(group);\n</code></pre>\n<ul>\n<li><p>Values</p>\n<p>port = 4580</p>\n<p>address = 224.0.0.1</p>\n</li>\n</ul>\n<p><strong>Specs</strong></p>\n<ul>\n<li>-OS - Windows 10 Home</li>\n<li>-OS version - 10.0.19044 Build 19044</li>\n<li>-Ram - 40GB (32GB + 8GB)</li>\n<li>-Processor - i7-10510U</li>\n<li>-Java version - 1.8.0_211</li>\n<li>-IDE - Eclipse</li>\n<li>-IDE Version - 2021-03 (4.19.0)</li>\n<li>-IDE Build id - 20210312-0638</li>\n<li>-Tomcat version - 9.0</li>\n</ul>\n<p>I have tried following things to resolve the issue</p>\n<ul>\n<li>Added <code>-Djava.net.preferIPv4Stack=true</code> to JVM</li>\n<li>Added <code>System.setProperty(&quot;java.net.preferIPv4Stack&quot;, &quot;true&quot;);</code> to my code</li>\n<li>Disconnecting my laptop from the internet</li>\n</ul>\n<p><strong>Other information</strong>\nI have VM wear and wireshark installed (not sure if they affect the behaviour). This exact code worked fine for months even with those programs</p>\n"},{"tags":["java","string","mybatis"],"owner":{"account_id":14115569,"reputation":1,"user_id":10681926,"display_name":"Dehedero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686287127,"creation_date":1686280418,"question_id":76436979,"body_markdown":"Im getting several rows, from my query result, which consist of several column values, some column values are string type, other is Long. I want all of them in string map, but getting class cast exception. Long cant be casted to String.\r\n\r\n    &lt;select id=&quot;someId&quot; resultType=&quot;HashMap&quot;&gt;\r\n\r\nand\r\n\r\n    LinkedList&lt;HashMap&lt;String, String&gt;&gt; someId(@Param(&quot;clientsIdsStr&quot;) String clientsIdsStr);\r\n\r\nI want to get all the columns values as string values in a result HashMap, how can i achieve it?\r\n\r\n[This is what returned map contains][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LxEw9.png","title":"Is it possible to autoconvert all values that mybatis get from db to strings?","body":"<p>Im getting several rows, from my query result, which consist of several column values, some column values are string type, other is Long. I want all of them in string map, but getting class cast exception. Long cant be casted to String.</p>\n<pre><code>&lt;select id=&quot;someId&quot; resultType=&quot;HashMap&quot;&gt;\n</code></pre>\n<p>and</p>\n<pre><code>LinkedList&lt;HashMap&lt;String, String&gt;&gt; someId(@Param(&quot;clientsIdsStr&quot;) String clientsIdsStr);\n</code></pre>\n<p>I want to get all the columns values as string values in a result HashMap, how can i achieve it?</p>\n<p><a href=\"https://i.stack.imgur.com/LxEw9.png\" rel=\"nofollow noreferrer\">This is what returned map contains</a></p>\n"},{"tags":["java","eclipse","junit5"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1535449266,"post_id":52054577,"comment_id":91059592,"body_markdown":"Can you tell if the result says no tests were skipped? It should be working as desired but maybe it looks like the disabled test was executed. When I run a test class containing one disabled of **n** test cases, the result looks like **Runs: n/n (1 skipped)**","body":"Can you tell if the result says no tests were skipped? It should be working as desired but maybe it looks like the disabled test was executed. When I run a test class containing one disabled of <b>n</b> test cases, the result looks like <b>Runs: n/n (1 skipped)</b>"},{"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"score":0,"creation_date":1535451316,"post_id":52054577,"comment_id":91060869,"body_markdown":"Tested with maven 3.5.3 and junit-jupiter-engine 5.0.1, works fine, test is skipped.","body":"Tested with maven 3.5.3 and junit-jupiter-engine 5.0.1, works fine, test is skipped."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1535452584,"post_id":52054577,"comment_id":91061686,"body_markdown":"@staszko032 can you please paste your POM configuration? Probably I&#39;m missing something.","body":"@staszko032 can you please paste your POM configuration? Probably I&#39;m missing something."},{"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"score":0,"creation_date":1535452975,"post_id":52054577,"comment_id":91061942,"body_markdown":"Before that, could you check if you configure maven-surefire-plugin in POM?","body":"Before that, could you check if you configure maven-surefire-plugin in POM?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1535453240,"post_id":52054577,"comment_id":91062118,"body_markdown":"Yes - I was missing maven-surefire-plugin in POM. Thanks!","body":"Yes - I was missing maven-surefire-plugin in POM. Thanks!"}],"answers":[{"comments":[{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":1,"creation_date":1535454079,"post_id":52056043,"comment_id":91062656,"body_markdown":"Are you sure for the dependencies? Without them it&#39;s running also.","body":"Are you sure for the dependencies? Without them it&#39;s running also."},{"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"score":0,"creation_date":1535454626,"post_id":52056043,"comment_id":91062982,"body_markdown":"I took it from https://junit.org/junit5/docs/current/user-guide/#running-tests-build, without such dependencies my JUnit 5 based tests are not called by maven, maybe it is version dependent.","body":"I took it from <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-build\" rel=\"nofollow noreferrer\">junit.org/junit5/docs/current/user-guide/#running-tests-buil&zwnj;&#8203;d</a>, without such dependencies my JUnit 5 based tests are not called by maven, maybe it is version dependent."},{"owner":{"account_id":465074,"reputation":12318,"user_id":868941,"accept_rate":75,"display_name":"rmuller"},"score":0,"creation_date":1560072090,"post_id":52056043,"comment_id":99612998,"body_markdown":"surefire provider is not needed anymore, https://github.com/junit-team/junit5/issues/1536","body":"surefire provider is not needed anymore, <a href=\"https://github.com/junit-team/junit5/issues/1536\" rel=\"nofollow noreferrer\">github.com/junit-team/junit5/issues/1536</a>"},{"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"score":1,"creation_date":1588414953,"post_id":52056043,"comment_id":108889141,"body_markdown":"@rmuller is right. The Surefire and Failsafe warns about using an external JUnit5 provider. These plugins already have their own providers. Please see this tutorial http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html","body":"@rmuller is right. The Surefire and Failsafe warns about using an external JUnit5 provider. These plugins already have their own providers. Please see this tutorial <a href=\"http://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"}],"tags":[],"owner":{"account_id":10199714,"reputation":822,"user_id":7530402,"display_name":"staszko032"},"comment_count":4,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1535453328,"creation_date":1535453328,"answer_id":52056043,"question_id":52054577,"body_markdown":"Check your configuration of surefire plugin for junit-jupiter-engine dependency. I am not sure, but I believe it should be configured in order to load all features from engine artifact, including Disabled annotation.\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit.platform.surefire.provider.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n                        &lt;version&gt;${junit.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n            &lt;/plugin&gt;","title":"@Disabled is not working in JUnit5","body":"<p>Check your configuration of surefire plugin for junit-jupiter-engine dependency. I am not sure, but I believe it should be configured in order to load all features from engine artifact, including Disabled annotation.</p>\n\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven.surefire.plugin.version}&lt;/version&gt;\n            &lt;dependencies&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-platform-surefire-provider&lt;/artifactId&gt;\n                    &lt;version&gt;${junit.platform.surefire.provider.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n                &lt;dependency&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n                    &lt;version&gt;${junit.version}&lt;/version&gt;\n                &lt;/dependency&gt;\n            &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1080327,"reputation":819,"user_id":1077487,"display_name":"Mitch1077487"},"score":0,"creation_date":1652473312,"post_id":55864867,"comment_id":127623538,"body_markdown":"Was having this issue and I had to update my surefire plugin as mentioned but 3.0.0-M1 still didn&#39;t work but 3.0.0-M2 did.","body":"Was having this issue and I had to update my surefire plugin as mentioned but 3.0.0-M1 still didn&#39;t work but 3.0.0-M2 did."},{"owner":{"account_id":1025526,"reputation":2173,"user_id":1034912,"accept_rate":64,"display_name":"user1034912"},"score":0,"creation_date":1660269147,"post_id":55864867,"comment_id":129498384,"body_markdown":"2022 This doesn&#39;t work anymore. `Dependency &#39;org.junit.jupiter:junit-jupiter-engine:5.4.0&#39; not found`","body":"2022 This doesn&#39;t work anymore. <code>Dependency &#39;org.junit.jupiter:junit-jupiter-engine:5.4.0&#39; not found</code>"},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1697764008,"post_id":55864867,"comment_id":136323908,"body_markdown":"I have org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test and surefire-junit-platform-3.1.2.jar:3.1.2 but still running into this problem.","body":"I have org.junit.jupiter:junit-jupiter-engine:jar:5.9.3:test and surefire-junit-platform-3.1.2.jar:3.1.2 but still running into this problem."},{"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"score":0,"creation_date":1698139312,"post_id":55864867,"comment_id":136364219,"body_markdown":"@user1034912 : version `5.4.0` of `org.junit.jupiter:junit-jupiter-engine` does definitely exist, must be soemthing wrong with your repo configs: https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.9.0","body":"@user1034912 : version <code>5.4.0</code> of <code>org.junit.jupiter:junit-jupiter-engine</code> does definitely exist, must be soemthing wrong with your repo configs: <a href=\"https://mvnrepository.com/artifact/org.junit.jupiter/junit-jupiter-engine/5.9.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.junit.jupiter/&hellip;</a>"},{"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"score":0,"creation_date":1698139673,"post_id":55864867,"comment_id":136364274,"body_markdown":"@morpheus explicit dependency to `surefire-junit-platform` is not needed. You only need to ensure the use at least version `2.22.0` of `maven-surefire-plugin` or version `3.6.0` of maven.\nOfficial docs:  https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html","body":"@morpheus explicit dependency to <code>surefire-junit-platform</code> is not needed. You only need to ensure the use at least version <code>2.22.0</code> of <code>maven-surefire-plugin</code> or version <code>3.6.0</code> of maven. Official docs:  <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">maven.apache.org/surefire/maven-surefire-plugin/examples/&hellip;</a>"},{"owner":{"account_id":49543,"reputation":19032,"user_id":147530,"accept_rate":63,"display_name":"morpheus"},"score":0,"creation_date":1698161671,"post_id":55864867,"comment_id":136368770,"body_markdown":"thanks. What is weird is that I am working on a multi-module project Disabled does work on a project but does not on another. The one on which it does not work is a Spring project and class has SpringBootTest annotation on it. anyone run into this?","body":"thanks. What is weird is that I am working on a multi-module project Disabled does work on a project but does not on another. The one on which it does not work is a Spring project and class has SpringBootTest annotation on it. anyone run into this?"}],"tags":[],"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"comment_count":6,"down_vote_count":2,"up_vote_count":16,"is_accepted":false,"score":14,"last_activity_date":1556271707,"creation_date":1556271707,"answer_id":55864867,"question_id":52054577,"body_markdown":"This is caused by incompatibilities betweeen ``maven-surefire-plugin`` and ``junit5``. Your either have to define a version with at least ``2.22.0`` for the ``maven-surefire-plugin`` (see [codefx blog - junit 5 setup][1]) or just use maven ``3.6.0``.\r\nAdditionally you have to have the dependency to the jupiter-engine defined as already stated in the very first lines of this question above:\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n       &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n       &lt;version&gt;5.4.0&lt;/version&gt;\r\n       &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIf you defined a dependency to the artifact ``junit-jupiter-api`` only, which is sufficient to get the test compiled and run with junit5, the ``@Disabled`` annotation will be silently ignored and the particular test will get run as well.\r\n\r\n\r\n  [1]: https://blog.codefx.org/libraries/junit-5-setup/","title":"@Disabled is not working in JUnit5","body":"<p>This is caused by incompatibilities betweeen <code>maven-surefire-plugin</code> and <code>junit5</code>. Your either have to define a version with at least <code>2.22.0</code> for the <code>maven-surefire-plugin</code> (see <a href=\"https://blog.codefx.org/libraries/junit-5-setup/\" rel=\"noreferrer\">codefx blog - junit 5 setup</a>) or just use maven <code>3.6.0</code>.\nAdditionally you have to have the dependency to the jupiter-engine defined as already stated in the very first lines of this question above:</p>\n\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n   &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n   &lt;version&gt;5.4.0&lt;/version&gt;\n   &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>If you defined a dependency to the artifact <code>junit-jupiter-api</code> only, which is sufficient to get the test compiled and run with junit5, the <code>@Disabled</code> annotation will be silently ignored and the particular test will get run as well.</p>\n"},{"tags":[],"owner":{"account_id":3277032,"reputation":1073,"user_id":2758738,"display_name":"tibor17"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1572103955,"creation_date":1572103955,"answer_id":58572192,"question_id":52054577,"body_markdown":"@staszko032\r\nThe xml code in POM you described is the era of 2018. In 2019 we adopted JUnit5 provider to Apache project and the code https://stackoverflow.com/a/52056043/2758738 is no more legal.\r\n\r\n@Jens Vagts\r\nThere are no incompatibilities between JUnit5 and Surefire/Failsafe because Apache plugin uses JUnit5 platform launcher which does all this trick.Surefire and Failsafe plugin does not execute your tests. So there is nothing to be incompatible, since all the work is done by JUnit5 engines and not plugin&#39;s code. It is the real engine defined in your POM which executes the tests. The plugin only triggers the engine which does all the work and sends the events back to plugin.\r\n\r\nPlease see Apache documentation:\r\n\r\nhttps://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\r\n\r\nhttps://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html","title":"@Disabled is not working in JUnit5","body":"<p>@staszko032\nThe xml code in POM you described is the era of 2018. In 2019 we adopted JUnit5 provider to Apache project and the code <a href=\"https://stackoverflow.com/a/52056043/2758738\">https://stackoverflow.com/a/52056043/2758738</a> is no more legal.</p>\n\n<p>@Jens Vagts\nThere are no incompatibilities between JUnit5 and Surefire/Failsafe because Apache plugin uses JUnit5 platform launcher which does all this trick.Surefire and Failsafe plugin does not execute your tests. So there is nothing to be incompatible, since all the work is done by JUnit5 engines and not plugin's code. It is the real engine defined in your POM which executes the tests. The plugin only triggers the engine which does all the work and sends the events back to plugin.</p>\n\n<p>Please see Apache documentation:</p>\n\n<p><a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html</a></p>\n\n<p><a href=\"https://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/surefire/maven-failsafe-plugin/examples/junit-platform.html</a></p>\n"},{"tags":[],"owner":{"account_id":3965245,"reputation":4105,"user_id":3271406,"accept_rate":25,"display_name":"lu_ko"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1670330994,"creation_date":1670330994,"answer_id":74702831,"question_id":52054577,"body_markdown":"Maybe check if Jupiter conditions (`@Disabled` in your case) are deactivated via configuration parameter `junit.jupiter.conditions.deactivate`.\r\n\r\nPlease see JUnit5 documentation for more details: https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation","title":"@Disabled is not working in JUnit5","body":"<p>Maybe check if Jupiter conditions (<code>@Disabled</code> in your case) are deactivated via configuration parameter <code>junit.jupiter.conditions.deactivate</code>.</p>\n<p>Please see JUnit5 documentation for more details: <a href=\"https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation\" rel=\"nofollow noreferrer\">https://junit.org/junit5/docs/current/user-guide/#extensions-conditions-deactivation</a></p>\n"},{"tags":[],"owner":{"account_id":8625831,"reputation":720,"user_id":6459098,"display_name":"U_R_Naveen UR_Naveen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686285109,"creation_date":1686285109,"answer_id":76437226,"question_id":52054577,"body_markdown":"this might be problem with improper imports. i solved it by removing all junit import statements and re-imported all junit classes properly.","title":"@Disabled is not working in JUnit5","body":"<p>this might be problem with improper imports. i solved it by removing all junit import statements and re-imported all junit classes properly.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12812,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":5,"score":17,"last_activity_date":1686285109,"creation_date":1535448736,"question_id":52054577,"body_markdown":"I want to use Junit 5 in Maven project:\r\n\r\n   \r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.2.0&lt;/version&gt;\r\n\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nI want currently to disable the test:\r\n\r\n    import java.util.Arrays;\r\n    import java.util.HashMap;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    import org.junit.jupiter.api.Test;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.junit.jupiter.api.Disabled;\r\n    \r\n    import static java.util.stream.Collectors.joining;\r\n    import static java.util.stream.Collectors.toMap;\r\n    \r\n    @Disabled\r\n    public class DatabaseFeaturesBitStringTest {\r\n        .... \r\n    }\r\n\r\nBut it&#39;s not working. Tests are executed after mvn clean build. Can you advise what I&#39;m missing?","title":"@Disabled is not working in JUnit5","body":"<p>I want to use Junit 5 in Maven project:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n    &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n    &lt;version&gt;5.2.0&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I want currently to disable the test:</p>\n\n<pre><code>import java.util.Arrays;\nimport java.util.HashMap;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.Assertions;\nimport org.junit.jupiter.api.Disabled;\n\nimport static java.util.stream.Collectors.joining;\nimport static java.util.stream.Collectors.toMap;\n\n@Disabled\npublic class DatabaseFeaturesBitStringTest {\n    .... \n}\n</code></pre>\n\n<p>But it's not working. Tests are executed after mvn clean build. Can you advise what I'm missing?</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1686034603,"post_id":76412115,"comment_id":134739930,"body_markdown":"store your patterns in a map. Pattern is the key, link to solution is the value. iterate over it, to find the first match","body":"store your patterns in a map. Pattern is the key, link to solution is the value. iterate over it, to find the first match"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1686034660,"post_id":76412115,"comment_id":134739942,"body_markdown":"Switch to Kotlin and use `when` ;-)","body":"Switch to Kotlin and use <code>when</code> ;-)"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1686034715,"post_id":76412115,"comment_id":134739952,"body_markdown":"As an aside, `if(mat.matches())` is more idiomatic and less error-prone than `if(mat.matches() == true)`.","body":"As an aside, <code>if(mat.matches())</code> is more idiomatic and less error-prone than <code>if(mat.matches() == true)</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1686044164,"post_id":76412115,"comment_id":134741802,"body_markdown":"`switch(str) { case &quot;abc&quot;: … case &quot;def&quot;: … case &quot;ghi&quot;: … }` What is “parsing the string before evaluating” supposed to mean?","body":"<code>switch(str) { case &quot;abc&quot;: … case &quot;def&quot;: … case &quot;ghi&quot;: … }</code> What is “parsing the string before evaluating” supposed to mean?"}],"answers":[{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686283946,"creation_date":1686283946,"answer_id":76437158,"question_id":76412115,"body_markdown":"You can use a more complex regular expression.\r\n\r\nTo match more than one set of characters, you can use the _|_, vertical-bar character.\r\n\r\n_[Wikipedia &amp;ndash; Regular expression &amp;ndash; POSIX extended](https://en.wikipedia.org/wiki/Regular_expression#POSIX_extended)_.\r\n\r\n&gt; _&quot;The choice (also known as alternation or set union) operator matches either the expression before or the expression after the operator. For example, abc|def matches &quot;abc&quot; or &quot;def&quot;.&quot;_\r\n\r\n```java\r\nString string = &quot;whatever&quot;;\r\nPattern pattern = Pattern.compile(&quot;abc|def|ghi&quot;);\r\nMatcher matcher = pattern.matcher(string);\r\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\r\n```\r\n\r\nFurthermore, if you have an array of strings, you can utilize the _[String#join](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...))_ method to concatenate them, by a vertical-bar character.\r\n\r\n```java\r\nString string = &quot;whatever&quot;;\r\nString[] strings = {\r\n    &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;, &quot;pqr&quot;, &quot;stu&quot;, &quot;vwx&quot;, &quot;yz&quot;\r\n};\r\nPattern pattern = Pattern.compile(String.join(&quot;|&quot;, strings));\r\nMatcher matcher = pattern.matcher(string);\r\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\r\n```","title":"How to design a cascading regex matching the best way?","body":"<p>You can use a more complex regular expression.</p>\n<p>To match more than one set of characters, you can use the <em>|</em>, vertical-bar character.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#POSIX_extended\" rel=\"nofollow noreferrer\">Wikipedia – Regular expression – POSIX extended</a></em>.</p>\n<blockquote>\n<p><em>&quot;The choice (also known as alternation or set union) operator matches either the expression before or the expression after the operator. For example, abc|def matches &quot;abc&quot; or &quot;def&quot;.&quot;</em></p>\n</blockquote>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;whatever&quot;;\nPattern pattern = Pattern.compile(&quot;abc|def|ghi&quot;);\nMatcher matcher = pattern.matcher(string);\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\n</code></pre>\n<p>Furthermore, if you have an array of strings, you can utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#join(java.lang.CharSequence,java.lang.CharSequence...)\" rel=\"nofollow noreferrer\">String#join</a></em> method to concatenate them, by a vertical-bar character.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;whatever&quot;;\nString[] strings = {\n    &quot;abc&quot;, &quot;def&quot;, &quot;ghi&quot;, &quot;jkl&quot;, &quot;mno&quot;, &quot;pqr&quot;, &quot;stu&quot;, &quot;vwx&quot;, &quot;yz&quot;\n};\nPattern pattern = Pattern.compile(String.join(&quot;|&quot;, strings));\nMatcher matcher = pattern.matcher(string);\nif (matcher.find()) System.out.println(&quot;matched:  &quot; + matcher.group());\n</code></pre>\n"}],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1686283946,"creation_date":1686034486,"question_id":76412115,"body_markdown":"I think there must be a better design for something like this.\r\n\r\n    Pattern pat1 = Pattern.compile (&quot;abc&quot;);\r\n    Pattern pat2 = Pattern.compile (&quot;def&quot;);\r\n    Pattern pat3 = Pattern.compile (&quot;ghi&quot;);\r\n    \r\n    String str = &quot;whatever&quot;;\r\n    \r\n    Matcher mat = pat1.matcher (str);\r\n    if (mat.matches () == true)\r\n    {\r\n    \t// ...\r\n    }\r\n    else\r\n    {\r\n    \tmat = pat2.matcher (str);\r\n    \tif (mat.matches () == true)\r\n    \t{\r\n    \t\t// ...\r\n    \t}\r\n    \telse\r\n    \t{\r\n    \t\tmat = pat3.matcher (str);\r\n    \t\tif (mat.matches () == true)\r\n    \t\t{\r\n    \t\t\t...\r\n\r\nI do not like the nested ifs at all.\r\n\r\nBut I also try to avaid parsing the string for every pattern BEFORE evaluating it because of performance/efficiency.\r\n\r\nAny idea how to make this more pretty/elegant?\r\n\r\n","title":"How to design a cascading regex matching the best way?","body":"<p>I think there must be a better design for something like this.</p>\n<pre><code>Pattern pat1 = Pattern.compile (&quot;abc&quot;);\nPattern pat2 = Pattern.compile (&quot;def&quot;);\nPattern pat3 = Pattern.compile (&quot;ghi&quot;);\n\nString str = &quot;whatever&quot;;\n\nMatcher mat = pat1.matcher (str);\nif (mat.matches () == true)\n{\n    // ...\n}\nelse\n{\n    mat = pat2.matcher (str);\n    if (mat.matches () == true)\n    {\n        // ...\n    }\n    else\n    {\n        mat = pat3.matcher (str);\n        if (mat.matches () == true)\n        {\n            ...\n</code></pre>\n<p>I do not like the nested ifs at all.</p>\n<p>But I also try to avaid parsing the string for every pattern BEFORE evaluating it because of performance/efficiency.</p>\n<p>Any idea how to make this more pretty/elegant?</p>\n"},{"tags":["java","xlsx","xssf"],"answers":[{"comments":[{"owner":{"account_id":5363989,"reputation":153,"user_id":4274477,"display_name":"sobrino"},"score":0,"creation_date":1467272312,"post_id":38111348,"comment_id":63666048,"body_markdown":"This really is a nice answer. Not only I believe this will lead me to solving the problem, but also I learned a bit about how Excel works in terms of file versioning. Right now i am looking for a way to extract the `workbook.xml`, edit it, and merge it back to the xlsx. Do you know a proper way to do that?","body":"This really is a nice answer. Not only I believe this will lead me to solving the problem, but also I learned a bit about how Excel works in terms of file versioning. Right now i am looking for a way to extract the <code>workbook.xml</code>, edit it, and merge it back to the xlsx. Do you know a proper way to do that?"},{"owner":{"account_id":1428147,"reputation":667,"user_id":1351175,"accept_rate":100,"display_name":"betatester07"},"score":0,"creation_date":1467287266,"post_id":38111348,"comment_id":63675964,"body_markdown":".xlsx is really just a simplee zip arch&#237;ve (see this answer http://stackoverflow.com/a/11116875/1351175). Therefore, you shold be able to open it using any zip extracting software, edit the needed XML files and put edited files back to the archive","body":".xlsx is really just a simplee zip arch&#237;ve (see this answer <a href=\"http://stackoverflow.com/a/11116875/1351175\">stackoverflow.com/a/11116875/1351175</a>). Therefore, you shold be able to open it using any zip extracting software, edit the needed XML files and put edited files back to the archive"},{"owner":{"account_id":5363989,"reputation":153,"user_id":4274477,"display_name":"sobrino"},"score":0,"creation_date":1467287838,"post_id":38111348,"comment_id":63676329,"body_markdown":"I guess I was not clear on what I wanted to know. I successfully used your information to solve my problem by unzip, edit, rezip it in Windows. I wanted to know if you know about a proper way to do it Java. If not, I&#39;m sure I&#39;ll find a way. I just don&#39;t want to &quot;reinvent the wheel&quot; if there is already a proper way to do it.","body":"I guess I was not clear on what I wanted to know. I successfully used your information to solve my problem by unzip, edit, rezip it in Windows. I wanted to know if you know about a proper way to do it Java. If not, I&#39;m sure I&#39;ll find a way. I just don&#39;t want to &quot;reinvent the wheel&quot; if there is already a proper way to do it."},{"owner":{"account_id":5363989,"reputation":153,"user_id":4274477,"display_name":"sobrino"},"score":0,"creation_date":1467291190,"post_id":38111348,"comment_id":63678747,"body_markdown":"Meanwhile I found a way to change the xml in Java Code. I&#39;ll update my question with my solution. Anyways, if you know a better way, I&#39;d appreciate any suggestions.","body":"Meanwhile I found a way to change the xml in Java Code. I&#39;ll update my question with my solution. Anyways, if you know a better way, I&#39;d appreciate any suggestions."},{"owner":{"account_id":1428147,"reputation":667,"user_id":1351175,"accept_rate":100,"display_name":"betatester07"},"score":0,"creation_date":1467328544,"post_id":38111348,"comment_id":63700395,"body_markdown":"it looks like POI is using CTWorkbook implementation to create the mentioned workbook.xml file (see http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/spreadsheetml/x2006/main/CTWorkbook.java), you could directly set the properties like `XSSFWorkbook.getCTWorkbook().addNewFileVersion();`. Get inspired in [XSSFWorkbook source](http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/poi-ooxml/3.7-beta2/org/apache/poi/xssf/usermodel/XSSFWorkbook.java#XSSFWorkbook.onWorkbookCreate%28%29) where default workbook.xml is created","body":"it looks like POI is using CTWorkbook implementation to create the mentioned workbook.xml file (see <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/ooxml-schemas/1.1/org/openxmlformats/schemas/spreadsheetml/x2006/main/CTWorkbook.java\" rel=\"nofollow noreferrer\">grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/&hellip;</a>), you could directly set the properties like <code>XSSFWorkbook.getCTWorkbook().addNewFileVersion();</code>. Get inspired in <a href=\"http://grepcode.com/file/repo1.maven.org/maven2/org.apache.poi/poi-ooxml/3.7-beta2/org/apache/poi/xssf/usermodel/XSSFWorkbook.java#XSSFWorkbook.onWorkbookCreate%28%29\" rel=\"nofollow noreferrer\">XSSFWorkbook source</a> where default workbook.xml is created"},{"owner":{"account_id":1428147,"reputation":667,"user_id":1351175,"accept_rate":100,"display_name":"betatester07"},"score":0,"creation_date":1467328671,"post_id":38111348,"comment_id":63700434,"body_markdown":"but I haven&#39;t actually tested the solution using CTWorkbook, just my thoughts after quick googling","body":"but I haven&#39;t actually tested the solution using CTWorkbook, just my thoughts after quick googling"}],"tags":[],"owner":{"account_id":1428147,"reputation":667,"user_id":1351175,"accept_rate":100,"display_name":"betatester07"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1467240887,"creation_date":1467240887,"answer_id":38111348,"question_id":37724642,"body_markdown":"## PROBLEM ##\r\n\r\nThe problem could lie in MS Excel itself (once you are sure that all formulas were calculated and saved in the .xlsx file). According to my testing, Excel will recalculate all formulas during opening if it finds out that the file was last saved by older version of Excel or other application (the point is that the version numbers doesn&#39;t match and/or are lower than current version of Excel opening the file) to maintain good compatibility.\r\n\r\n\r\n## SOLUTION ##\r\n\r\n(making Excel think that the .xlsx file was generated by the same Excel version to avoid recalculation)\r\n\r\nExcel reads all file versioning info from `workbook.xml` file located in `xl` directory inside .xlsx archive (.xlsx is just a zipped archive).\r\n\r\nworkbook.xml file generated by Apache POI could look like this:\r\n\r\n    &lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot; xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;&gt;\r\n      &lt;workbookPr date1904=&quot;false&quot;/&gt;\r\n      &lt;bookViews&gt;&lt;workbookView activeTab=&quot;0&quot;/&gt;&lt;/bookViews&gt;\r\n      &lt;sheets&gt;\r\n        &lt;sheet name=&quot;new sheet&quot; r:id=&quot;rId3&quot; sheetId=&quot;1&quot;/&gt;\r\n      &lt;/sheets&gt;\r\n      &lt;calcPr calcId=&quot;0&quot;/&gt;\r\n    &lt;/workbook&gt;\r\n\r\nThe file generated by Excel 2010 looks like this:\r\n\r\n    &lt;workbook xmlns=&quot;http://schemas.openxmlformats.org/spreadsheetml/2006/main&quot; xmlns:r=&quot;http://schemas.openxmlformats.org/officeDocument/2006/relationships&quot;&gt;\r\n      &lt;fileVersion appName=&quot;xl&quot; lastEdited=&quot;5&quot; lowestEdited=&quot;5&quot; rupBuild=&quot;9303&quot;/&gt;\r\n      &lt;workbookPr defaultThemeVersion=&quot;124226&quot;/&gt;\r\n      &lt;bookViews&gt;&lt;workbookView xWindow=&quot;630&quot; yWindow=&quot;510&quot; windowWidth=&quot;27495&quot; windowHeight=&quot;14505&quot;/&gt;&lt;/bookViews&gt;\r\n      &lt;sheets&gt;\r\n        &lt;sheet name=&quot;new sheet&quot; sheetId=&quot;1&quot; r:id=&quot;rId1&quot;/&gt;\r\n      &lt;/sheets&gt;\r\n      &lt;calcPr calcId=&quot;145621&quot;/&gt;\r\n    &lt;/workbook&gt;\r\n\r\nNotice the `&lt;fileVersion&gt;` tag completely missing in POI generated file and `&lt;calcPr&gt;` tag with `calcId` set to some real value in Excel generated file. \r\n\r\n**I was able to avoid Excel 2010 automatic formula recalculation (and annoying &quot;Save changes&quot; dialog) by inserting correlated `&lt;fileVersion&gt;` tag and setting `calcId` to equal or greater number than the number generated by my current version of Excel to the `workbook.xml` generated by POI.**\r\n\r\nMore information regarding the `workbook.xml` format can be found on [MSDN  Open XML SDK documentation][1].\r\n\r\n\r\n  [1]: https://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.fileversion(v=office.14).aspx","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<h2>PROBLEM</h2>\n\n<p>The problem could lie in MS Excel itself (once you are sure that all formulas were calculated and saved in the .xlsx file). According to my testing, Excel will recalculate all formulas during opening if it finds out that the file was last saved by older version of Excel or other application (the point is that the version numbers doesn't match and/or are lower than current version of Excel opening the file) to maintain good compatibility.</p>\n\n<h2>SOLUTION</h2>\n\n<p>(making Excel think that the .xlsx file was generated by the same Excel version to avoid recalculation)</p>\n\n<p>Excel reads all file versioning info from <code>workbook.xml</code> file located in <code>xl</code> directory inside .xlsx archive (.xlsx is just a zipped archive).</p>\n\n<p>workbook.xml file generated by Apache POI could look like this:</p>\n\n<pre><code>&lt;workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"&gt;\n  &lt;workbookPr date1904=\"false\"/&gt;\n  &lt;bookViews&gt;&lt;workbookView activeTab=\"0\"/&gt;&lt;/bookViews&gt;\n  &lt;sheets&gt;\n    &lt;sheet name=\"new sheet\" r:id=\"rId3\" sheetId=\"1\"/&gt;\n  &lt;/sheets&gt;\n  &lt;calcPr calcId=\"0\"/&gt;\n&lt;/workbook&gt;\n</code></pre>\n\n<p>The file generated by Excel 2010 looks like this:</p>\n\n<pre><code>&lt;workbook xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\"&gt;\n  &lt;fileVersion appName=\"xl\" lastEdited=\"5\" lowestEdited=\"5\" rupBuild=\"9303\"/&gt;\n  &lt;workbookPr defaultThemeVersion=\"124226\"/&gt;\n  &lt;bookViews&gt;&lt;workbookView xWindow=\"630\" yWindow=\"510\" windowWidth=\"27495\" windowHeight=\"14505\"/&gt;&lt;/bookViews&gt;\n  &lt;sheets&gt;\n    &lt;sheet name=\"new sheet\" sheetId=\"1\" r:id=\"rId1\"/&gt;\n  &lt;/sheets&gt;\n  &lt;calcPr calcId=\"145621\"/&gt;\n&lt;/workbook&gt;\n</code></pre>\n\n<p>Notice the <code>&lt;fileVersion&gt;</code> tag completely missing in POI generated file and <code>&lt;calcPr&gt;</code> tag with <code>calcId</code> set to some real value in Excel generated file. </p>\n\n<p><strong>I was able to avoid Excel 2010 automatic formula recalculation (and annoying \"Save changes\" dialog) by inserting correlated <code>&lt;fileVersion&gt;</code> tag and setting <code>calcId</code> to equal or greater number than the number generated by my current version of Excel to the <code>workbook.xml</code> generated by POI.</strong></p>\n\n<p>More information regarding the <code>workbook.xml</code> format can be found on <a href=\"https://msdn.microsoft.com/en-us/library/documentformat.openxml.spreadsheet.fileversion(v=office.14).aspx\" rel=\"nofollow\">MSDN  Open XML SDK documentation</a>.</p>\n"},{"comments":[{"owner":{"account_id":2434951,"reputation":698,"user_id":2125090,"accept_rate":56,"display_name":"The Guest"},"score":0,"creation_date":1490212222,"post_id":40012851,"comment_id":73016925,"body_markdown":"Where did u add it?","body":"Where did u add it?"},{"owner":{"account_id":2434951,"reputation":698,"user_id":2125090,"accept_rate":56,"display_name":"The Guest"},"score":0,"creation_date":1490212480,"post_id":40012851,"comment_id":73017084,"body_markdown":"Got it, I added it before I save my workbook after all writes done.","body":"Got it, I added it before I save my workbook after all writes done."}],"tags":[],"owner":{"account_id":3775094,"reputation":248,"user_id":3136136,"accept_rate":0,"display_name":"Raghav2580"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1476336718,"creation_date":1476335983,"answer_id":40012851,"question_id":37724642,"body_markdown":"Even I was facing the same issue but after adding the below line, the issue has been resolved.\r\n\r\n    wb.getCreationHelper().createFormulaEvaluator().evaluateAll();","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>Even I was facing the same issue but after adding the below line, the issue has been resolved.</p>\n\n<pre><code>wb.getCreationHelper().createFormulaEvaluator().evaluateAll();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":62450,"reputation":10263,"user_id":185565,"accept_rate":91,"display_name":"Whome"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1652085212,"creation_date":1651761342,"answer_id":72129008,"question_id":37724642,"body_markdown":"I am using `Apache POI 5.2.2`, open `template.xlsx` file with just one sheet, clone 1..n new sheets, write cells, delete 1st template sheet, save .xlsx file.\r\n\r\nOpening a file in Excel and close gives `Save changes?` prompt even if did nothing, no @formula cells, no external links or objects in a workbook. I realized if the number of worksheets is different than the original file then prompt is shown.\r\n\r\nAll sheets had `xl/worksheets/sheet1.xml@xr:uid={00000000-0001-0000-0000-000000000000}` zero guid. \r\n\r\nText editing `sheetX.xml@xr:uid` values to `{11111111-1111-1111-1111-112233440001}, {11111111-1111-1111-1111-112233440002}, {11111111-1111-1111-1111-112233440003}, ..` unique guids fixed a problem. \r\n\r\nUsing @sobrino&#39;s answer this is a modified unzip-zip fix.\r\n\r\n    public void fixFile(File inputFile, File outputFile) throws IOException {\r\n    \tint count=0;\r\n    \tZipFile zipFile = new ZipFile(inputFile);\t\t\r\n    \tfinal ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(outputFile));\r\n    \tfor (Enumeration&lt;? extends ZipEntry&gt; en = zipFile.entries(); en.hasMoreElements();) {\r\n    \t    ZipEntry entryIn = (ZipEntry)en.nextElement();\r\n    \t    String name = entryIn.getName();\r\n\t\t    if(!( name.startsWith(&quot;xl/worksheets/&quot;) &amp;&amp; name.endsWith(&quot;.xml&quot;)\r\n\t\t    \t\t&amp;&amp; name.indexOf(&#39;/&#39;, 14)&lt;0 ))  {\r\n    \t        zos.putNextEntry(entryIn);\r\n    \t        InputStream is = zipFile.getInputStream(entryIn);\r\n    \t        byte[] buf = new byte[2*1024];\r\n    \t        int len;\r\n    \t        while ((len = (is.read(buf))) &gt; 0) {\r\n    \t            zos.write(buf, 0, len);\r\n    \t        }\r\n    \t    } else {\r\n    \t    \t// fix xr:uid=&quot;{00000000-0001-0000-0000-000000000000}&quot; zero GUID to avoid &quot;save changes&quot; prompt\r\n    \t    \t// &lt;worksheet ... xr:uid=&quot;{11111111-1111-1111-1111-112233440001&quot; ...\r\n    \t    \tcount++;\r\n    \t    \tzos.putNextEntry(new ZipEntry(name));\r\n    \t        InputStream is = zipFile.getInputStream(entryIn);\r\n    \t        byte[] buf = new byte[2*1024];\r\n    \t        int len;\r\n    \t        boolean firstRead=true;\r\n    \t        while ( (len=is.read(buf)) &gt; 0) {\r\n    \t        \tif(firstRead) {\r\n\t\t        \t\tfirstRead=false;\r\n\t\t        \t\tString sData=new String(buf,0,len, &quot;UTF-8&quot;);\r\n\t\t\t\t        int delimS=sData.indexOf(&quot;xr:uid=\\&quot;&quot;);\r\n\t\t\t\t        int delimE=sData.indexOf(&#39;&quot;&#39;, delimS+8);\r\n\t\t\t\t        int delimG=sData.indexOf(&quot;-000000000000}&quot;, delimS+8);\r\n\t\t\t\t        if(delimG&gt;0 &amp;&amp; delimG&lt;=delimE &amp;&amp; delimS&gt;0) {\r\n\t\t\t\t        \t// found zero GUID, replace value\r\n\t\t\t\t\t        sData=sData.substring(0, delimS+8)\r\n\t\t\t\t\t        \t+ String.format(&quot;{11111111-1111-1111-1111-11223344%04x}&quot;, count)\r\n\t\t\t\t\t        \t+ sData.substring(delimE);\r\n\t\t\t\t        \tzos.write(sData.getBytes(&quot;UTF-8&quot;));\r\n\t\t\t\t        } else {\r\n\t\t\t\t        \tzos.write(buf, 0, len);\r\n\t\t\t\t        }\r\n    \t        \t} else {\r\n    \t        \t\tzos.write(buf, 0, len);\r\n    \t        \t}\r\n    \t        }\r\n    \t    }\r\n    \t    zos.closeEntry();\r\n    \t}\r\n    \tzos.close();\r\n    \tzipFile.close();\r\n    }","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>I am using <code>Apache POI 5.2.2</code>, open <code>template.xlsx</code> file with just one sheet, clone 1..n new sheets, write cells, delete 1st template sheet, save .xlsx file.</p>\n<p>Opening a file in Excel and close gives <code>Save changes?</code> prompt even if did nothing, no @formula cells, no external links or objects in a workbook. I realized if the number of worksheets is different than the original file then prompt is shown.</p>\n<p>All sheets had <code>xl/worksheets/sheet1.xml@xr:uid={00000000-0001-0000-0000-000000000000}</code> zero guid.</p>\n<p>Text editing <code>sheetX.xml@xr:uid</code> values to <code>{11111111-1111-1111-1111-112233440001}, {11111111-1111-1111-1111-112233440002}, {11111111-1111-1111-1111-112233440003}, ..</code> unique guids fixed a problem.</p>\n<p>Using @sobrino's answer this is a modified unzip-zip fix.</p>\n<pre><code>public void fixFile(File inputFile, File outputFile) throws IOException {\n    int count=0;\n    ZipFile zipFile = new ZipFile(inputFile);       \n    final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(outputFile));\n    for (Enumeration&lt;? extends ZipEntry&gt; en = zipFile.entries(); en.hasMoreElements();) {\n        ZipEntry entryIn = (ZipEntry)en.nextElement();\n        String name = entryIn.getName();\n        if(!( name.startsWith(&quot;xl/worksheets/&quot;) &amp;&amp; name.endsWith(&quot;.xml&quot;)\n                &amp;&amp; name.indexOf('/', 14)&lt;0 ))  {\n            zos.putNextEntry(entryIn);\n            InputStream is = zipFile.getInputStream(entryIn);\n            byte[] buf = new byte[2*1024];\n            int len;\n            while ((len = (is.read(buf))) &gt; 0) {\n                zos.write(buf, 0, len);\n            }\n        } else {\n            // fix xr:uid=&quot;{00000000-0001-0000-0000-000000000000}&quot; zero GUID to avoid &quot;save changes&quot; prompt\n            // &lt;worksheet ... xr:uid=&quot;{11111111-1111-1111-1111-112233440001&quot; ...\n            count++;\n            zos.putNextEntry(new ZipEntry(name));\n            InputStream is = zipFile.getInputStream(entryIn);\n            byte[] buf = new byte[2*1024];\n            int len;\n            boolean firstRead=true;\n            while ( (len=is.read(buf)) &gt; 0) {\n                if(firstRead) {\n                    firstRead=false;\n                    String sData=new String(buf,0,len, &quot;UTF-8&quot;);\n                    int delimS=sData.indexOf(&quot;xr:uid=\\&quot;&quot;);\n                    int delimE=sData.indexOf('&quot;', delimS+8);\n                    int delimG=sData.indexOf(&quot;-000000000000}&quot;, delimS+8);\n                    if(delimG&gt;0 &amp;&amp; delimG&lt;=delimE &amp;&amp; delimS&gt;0) {\n                        // found zero GUID, replace value\n                        sData=sData.substring(0, delimS+8)\n                            + String.format(&quot;{11111111-1111-1111-1111-11223344%04x}&quot;, count)\n                            + sData.substring(delimE);\n                        zos.write(sData.getBytes(&quot;UTF-8&quot;));\n                    } else {\n                        zos.write(buf, 0, len);\n                    }\n                } else {\n                    zos.write(buf, 0, len);\n                }\n            }\n        }\n        zos.closeEntry();\n    }\n    zos.close();\n    zipFile.close();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4490476,"reputation":426,"user_id":3651687,"display_name":"Feng Dihai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686283645,"creation_date":1686283331,"answer_id":76437128,"question_id":37724642,"body_markdown":"I have a simple resolution for XSSF user model:\r\n\r\n    public static void fixXSSFSheetUid(XSSFSheet sheet) {\r\n        Node node = (Node) ((CTWorksheetImpl) sheet.getCTWorksheet()).get_store();\r\n        node = node.getAttributes().getNamedItem(&quot;xr:uid&quot;);\r\n        if (node instanceof Attr) {\r\n            ((Attr) node).setValue(&quot;{&quot; + UUID.randomUUID().toString().toUpperCase() + &quot;}&quot;);\r\n        }        \r\n    }\r\n\r\nI expect that POI will include similar logic in Workbook#cloneSheet(int sheetNum, String newName) to avoid the anoyance.","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>I have a simple resolution for XSSF user model:</p>\n<pre><code>public static void fixXSSFSheetUid(XSSFSheet sheet) {\n    Node node = (Node) ((CTWorksheetImpl) sheet.getCTWorksheet()).get_store();\n    node = node.getAttributes().getNamedItem(&quot;xr:uid&quot;);\n    if (node instanceof Attr) {\n        ((Attr) node).setValue(&quot;{&quot; + UUID.randomUUID().toString().toUpperCase() + &quot;}&quot;);\n    }        \n}\n</code></pre>\n<p>I expect that POI will include similar logic in Workbook#cloneSheet(int sheetNum, String newName) to avoid the anoyance.</p>\n"}],"owner":{"account_id":5363989,"reputation":153,"user_id":4274477,"display_name":"sobrino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2009,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":38111348,"answer_count":4,"score":4,"last_activity_date":1686283645,"creation_date":1465471543,"question_id":37724642,"body_markdown":"After opening and immediately closing an xlsx-file, created with Apache POI XSSF, I get prompted to save unsaved changes. As far as i can tell, this is happening because I am using formulas within the xlsx-file.\r\n\r\nAccording to the javadoc, this should be bypassed by setting `XSSFWorkbook.setForceFormulaRecalculation(true)`\r\nHowever, this doesn&#39;t solve the problem.\r\n\r\nI also tried to manually recalculate the formulas before saving the file without success.\r\n\r\nSSCCE:\r\n\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.xssf.usermodel.XSSFFormulaEvaluator;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class XSSFExample {\r\n    \r\n        public static void main(String[] args) {\r\n            // Create workbook and sheet\r\n            Workbook wb = new XSSFWorkbook();\r\n            Sheet sheet = wb.createSheet(&quot;Sheet 1&quot;);\r\n    \r\n            // Create a row and put some cells in it.\r\n            Row row = sheet.createRow((short) 0);\r\n            row.createCell(0).setCellValue(5.0);\r\n            row.createCell(1).setCellValue(5.0);\r\n            row.createCell(2).setCellFormula(&quot;A1/B1&quot;);\r\n    \r\n    \r\n            // Write the output to a file\r\n            try (FileOutputStream fileOut = new FileOutputStream(&quot;XSSFExample.xlsx&quot;)) {\r\n                wb.setForceFormulaRecalculation(false);\r\n                System.out.println(wb.getForceFormulaRecalculation()); // prints &quot;false&quot;\r\n                XSSFFormulaEvaluator.evaluateAllFormulaCells((XSSFWorkbook) wb); // this doesn&#39;t seem to make any difference\r\n                wb.write(fileOut);\r\n            } catch (IOException ex) {\r\n                Logger.getLogger(XSSFExample.class.getName()).log(Level.SEVERE, null, ex);\r\n            }\r\n        }\r\n    }\r\n\r\nWhat can I do to create the file and not get prompted to save it after I opened it the first time?\r\n\r\n**Update:**  \r\nAs stated [here (https://poi.apache.org/spreadsheet/eval.html#recalculation)][1] I also tried another method to manually recalculate with no success. Even re-reading the file after save, recalc and save as a second file doesn&#39;t work.\r\n\r\n\r\n  [1]: https://poi.apache.org/spreadsheet/eval.html#recalculation\r\n\r\n**Update 2:**  \r\nConsidering the accepted answer, I was able to solve the problem by adding following lines of code to the above SSCCE:  \r\n(Please note that this was just a &quot;quick and dirty&quot; attempt to solve the problem. There are probably a lot of improvements possible).\r\n\r\n    ZipFile zipFile = new ZipFile(&quot;XSSFExample.xlsx&quot;);\r\n    final ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(&quot;XSSFExample_NoSave.xlsx&quot;));\r\n    for (Enumeration e = zipFile.entries(); e.hasMoreElements();) {\r\n    \tZipEntry entryIn = (ZipEntry) e.nextElement();\r\n    \tif (!entryIn.getName().equalsIgnoreCase(&quot;xl/workbook.xml&quot;)) {\r\n    \t\tzos.putNextEntry(entryIn);\r\n    \t\tInputStream is = zipFile.getInputStream(entryIn);\r\n    \t\tbyte[] buf = new byte[1024];\r\n    \t\tint len;\r\n    \t\twhile ((len = (is.read(buf))) &gt; 0) {\r\n    \t\t\tzos.write(buf, 0, len);\r\n    \t\t}\r\n    \t} else {\r\n    \t\tzos.putNextEntry(new ZipEntry(&quot;xl/workbook.xml&quot;));\r\n    \t\tInputStream is = zipFile.getInputStream(entryIn);\r\n    \t\tbyte[] buf = new byte[1024];\r\n    \t\tint len;\r\n    \t\twhile (is.read(buf) &gt; 0) {\r\n    \t\t\tString s = new String(buf);\r\n    \t\t\tString searchFileVersion = &quot;/relationships\\&quot;&gt;&lt;workbookPr&quot;;\r\n    \t\t\tString replaceFileVersion = &quot;/relationships\\&quot;&gt;&lt;fileVersion appName=\\&quot;xl\\&quot; lastEdited=\\&quot;5\\&quot; lowestEdited=\\&quot;5\\&quot; rupBuild=\\&quot;9303\\&quot;/&gt;&lt;workbookPr&quot;;\r\n    \t\t\tString searchCalcId = &quot;&lt;calcPr calcId=\\&quot;0\\&quot;/&gt;&quot;;\r\n    \t\t\tString replaceCalcId = &quot;&lt;calcPr calcId=\\&quot;&quot; + String.valueOf(Integer.MAX_VALUE) + &quot;\\&quot;/&gt;&quot;;\r\n    \t\t\tif (s.contains(searchFileVersion)) {\r\n    \t\t\t\ts = s.replaceAll(searchFileVersion, replaceFileVersion);\r\n    \t\t\t}\r\n    \t\t\tif (s.contains(searchCalcId)) {\r\n    \t\t\t\ts = s.replaceAll(searchCalcId, replaceCalcId);\r\n    \t\t\t}\r\n    \t\t\tlen = s.trim().length();\r\n    \t\t\tbuf = s.getBytes();\r\n    \t\t\tzos.write(buf, 0, (len &lt; buf.length) ? len : buf.length);\r\n    \t\t}\r\n    \t}\r\n    \tzos.closeEntry();\r\n    }\r\n    zos.close();\r\n\r\n","title":"How to get rid of &quot;Save changes?&quot; prompt on xlsx-files created with Apache POI XSSF","body":"<p>After opening and immediately closing an xlsx-file, created with Apache POI XSSF, I get prompted to save unsaved changes. As far as i can tell, this is happening because I am using formulas within the xlsx-file.</p>\n\n<p>According to the javadoc, this should be bypassed by setting <code>XSSFWorkbook.setForceFormulaRecalculation(true)</code>\nHowever, this doesn't solve the problem.</p>\n\n<p>I also tried to manually recalculate the formulas before saving the file without success.</p>\n\n<p>SSCCE:</p>\n\n<pre><code>import java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.xssf.usermodel.XSSFFormulaEvaluator;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class XSSFExample {\n\n    public static void main(String[] args) {\n        // Create workbook and sheet\n        Workbook wb = new XSSFWorkbook();\n        Sheet sheet = wb.createSheet(\"Sheet 1\");\n\n        // Create a row and put some cells in it.\n        Row row = sheet.createRow((short) 0);\n        row.createCell(0).setCellValue(5.0);\n        row.createCell(1).setCellValue(5.0);\n        row.createCell(2).setCellFormula(\"A1/B1\");\n\n\n        // Write the output to a file\n        try (FileOutputStream fileOut = new FileOutputStream(\"XSSFExample.xlsx\")) {\n            wb.setForceFormulaRecalculation(false);\n            System.out.println(wb.getForceFormulaRecalculation()); // prints \"false\"\n            XSSFFormulaEvaluator.evaluateAllFormulaCells((XSSFWorkbook) wb); // this doesn't seem to make any difference\n            wb.write(fileOut);\n        } catch (IOException ex) {\n            Logger.getLogger(XSSFExample.class.getName()).log(Level.SEVERE, null, ex);\n        }\n    }\n}\n</code></pre>\n\n<p>What can I do to create the file and not get prompted to save it after I opened it the first time?</p>\n\n<p><strong>Update:</strong><br>\nAs stated <a href=\"https://poi.apache.org/spreadsheet/eval.html#recalculation\" rel=\"nofollow\">here (https://poi.apache.org/spreadsheet/eval.html#recalculation)</a> I also tried another method to manually recalculate with no success. Even re-reading the file after save, recalc and save as a second file doesn't work.</p>\n\n<p><strong>Update 2:</strong><br>\nConsidering the accepted answer, I was able to solve the problem by adding following lines of code to the above SSCCE:<br>\n(Please note that this was just a \"quick and dirty\" attempt to solve the problem. There are probably a lot of improvements possible).</p>\n\n<pre><code>ZipFile zipFile = new ZipFile(\"XSSFExample.xlsx\");\nfinal ZipOutputStream zos = new ZipOutputStream(new FileOutputStream(\"XSSFExample_NoSave.xlsx\"));\nfor (Enumeration e = zipFile.entries(); e.hasMoreElements();) {\n    ZipEntry entryIn = (ZipEntry) e.nextElement();\n    if (!entryIn.getName().equalsIgnoreCase(\"xl/workbook.xml\")) {\n        zos.putNextEntry(entryIn);\n        InputStream is = zipFile.getInputStream(entryIn);\n        byte[] buf = new byte[1024];\n        int len;\n        while ((len = (is.read(buf))) &gt; 0) {\n            zos.write(buf, 0, len);\n        }\n    } else {\n        zos.putNextEntry(new ZipEntry(\"xl/workbook.xml\"));\n        InputStream is = zipFile.getInputStream(entryIn);\n        byte[] buf = new byte[1024];\n        int len;\n        while (is.read(buf) &gt; 0) {\n            String s = new String(buf);\n            String searchFileVersion = \"/relationships\\\"&gt;&lt;workbookPr\";\n            String replaceFileVersion = \"/relationships\\\"&gt;&lt;fileVersion appName=\\\"xl\\\" lastEdited=\\\"5\\\" lowestEdited=\\\"5\\\" rupBuild=\\\"9303\\\"/&gt;&lt;workbookPr\";\n            String searchCalcId = \"&lt;calcPr calcId=\\\"0\\\"/&gt;\";\n            String replaceCalcId = \"&lt;calcPr calcId=\\\"\" + String.valueOf(Integer.MAX_VALUE) + \"\\\"/&gt;\";\n            if (s.contains(searchFileVersion)) {\n                s = s.replaceAll(searchFileVersion, replaceFileVersion);\n            }\n            if (s.contains(searchCalcId)) {\n                s = s.replaceAll(searchCalcId, replaceCalcId);\n            }\n            len = s.trim().length();\n            buf = s.getBytes();\n            zos.write(buf, 0, (len &lt; buf.length) ? len : buf.length);\n        }\n    }\n    zos.closeEntry();\n}\nzos.close();\n</code></pre>\n"},{"tags":["java","html","spring","spring-boot","controller"],"comments":[{"owner":{"account_id":204434,"reputation":895,"user_id":452647,"accept_rate":90,"display_name":"meadlai"},"score":0,"creation_date":1583451810,"post_id":38700790,"comment_id":107131703,"body_markdown":"try to add a servlet to direct to index.html ```@ServletComponentScan```  then add @WebSevlet(urlPatterns = &quot;&quot;) MainIndex","body":"try to add a servlet to direct to index.html <code>@ServletComponentScan</code>  then add @WebSevlet(urlPatterns = &quot;&quot;) MainIndex"}],"answers":[{"comments":[{"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"score":0,"creation_date":1656445938,"post_id":38700842,"comment_id":128573186,"body_markdown":"This is not working for `@RestController`","body":"This is not working for <code>@RestController</code>"}],"tags":[],"owner":{"account_id":1836786,"reputation":20603,"user_id":1667004,"display_name":"ppeterka"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1505909028,"creation_date":1470060007,"answer_id":38700842,"question_id":38700790,"body_markdown":"The `String` you return here:\r\n\r\n     return &quot;login&quot;;\r\n\r\nIs actually the **whole content** what you send back to the browser.\r\n\r\nIf you want to have the content of a file to be sent back, one way is:\r\n\r\n 1. Open file\r\n 1. Read contents into String\r\n 1. Return the value\r\n\r\nYou can go by with this [answer on the question Spring boot service to download a file](https://stackoverflow.com/a/28451523/1667004)","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The <code>String</code> you return here:</p>\n\n<pre><code> return \"login\";\n</code></pre>\n\n<p>Is actually the <strong>whole content</strong> what you send back to the browser.</p>\n\n<p>If you want to have the content of a file to be sent back, one way is:</p>\n\n<ol>\n<li>Open file</li>\n<li>Read contents into String</li>\n<li>Return the value</li>\n</ol>\n\n<p>You can go by with this <a href=\"https://stackoverflow.com/a/28451523/1667004\">answer on the question Spring boot service to download a file</a></p>\n"},{"tags":[],"owner":{"account_id":1776193,"reputation":2542,"user_id":1619950,"display_name":"Aleksandr Podkutin"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1556596444,"creation_date":1470060262,"answer_id":38700928,"question_id":38700790,"body_markdown":"You get only the name because you return only the name `return &quot;login&quot;;`. It&#39;s `@RestController` and this controller returns data rather than a view; because of this, you get only content that you return from method.\r\n\r\nIf you want to show view with this name you need to use Spring MVC, [see this example][1].\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You get only the name because you return only the name <code>return \"login\";</code>. It's <code>@RestController</code> and this controller returns data rather than a view; because of this, you get only content that you return from method.</p>\n\n<p>If you want to show view with this name you need to use Spring MVC, <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">see this example</a>.</p>\n"},{"comments":[{"owner":{"account_id":8263344,"reputation":2713,"user_id":6213883,"accept_rate":69,"display_name":"It&#233;ration 122442"},"score":4,"creation_date":1597829770,"post_id":38701146,"comment_id":112258803,"body_markdown":"I am confused. What is the problem and how to fix ?","body":"I am confused. What is the problem and how to fix ?"},{"owner":{"account_id":10097876,"reputation":732,"user_id":7462676,"display_name":"Simone Colnaghi"},"score":2,"creation_date":1640812206,"post_id":38701146,"comment_id":124666828,"body_markdown":"@It&#233;ration122442 You should use Controller annotation for the class and you should remove the ResponseBody annotation from method named welcome()","body":"@It&#233;ration122442 You should use Controller annotation for the class and you should remove the ResponseBody annotation from method named welcome()"},{"owner":{"account_id":12967895,"reputation":400,"user_id":9374735,"display_name":"Tinovimba Mawoyo"},"score":21,"creation_date":1647353363,"post_id":38701146,"comment_id":126346196,"body_markdown":"lol i do not get why this is marked as correct, it does not tell the answer it just explains the problem","body":"lol i do not get why this is marked as correct, it does not tell the answer it just explains the problem"},{"owner":{"account_id":3974488,"reputation":1237,"user_id":3278010,"accept_rate":10,"display_name":"Kush Patel"},"score":0,"creation_date":1697005383,"post_id":38701146,"comment_id":136223312,"body_markdown":"It doesn&#39;t return proper answer. Don&#39;t know why it is marked as correct.","body":"It doesn&#39;t return proper answer. Don&#39;t know why it is marked as correct."}],"tags":[],"owner":{"account_id":8288794,"reputation":41656,"user_id":6231153,"accept_rate":89,"display_name":"kukkuz"},"comment_count":4,"down_vote_count":10,"up_vote_count":55,"is_accepted":true,"score":45,"last_activity_date":1554044146,"creation_date":1470060930,"answer_id":38701146,"question_id":38700790,"body_markdown":"When using `@RestController` like this:\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nThis is the same as you do like this in a normal controller:\r\n\r\n    @Controller\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        @ResponseBody\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nUsing `@ResponseBody` returns `return &quot;login&quot;;` as a String object. Any object you return will be attached as `payload` in the HTTP body as JSON.\r\n\r\nThis is why you are getting just `login` in the response.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>When using <code>@RestController</code> like this:</p>\n\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(\"/\")\n    public String welcome() {\n        return \"login\";\n    }\n}\n</code></pre>\n\n<p>This is the same as you do like this in a normal controller:</p>\n\n<pre><code>@Controller\npublic class HomeController {\n\n    @RequestMapping(\"/\")\n    @ResponseBody\n    public String welcome() {\n        return \"login\";\n    }\n}\n</code></pre>\n\n<p>Using <code>@ResponseBody</code> returns <code>return \"login\";</code> as a String object. Any object you return will be attached as <code>payload</code> in the HTTP body as JSON.</p>\n\n<p>This is why you are getting just <code>login</code> in the response.</p>\n"},{"tags":[],"owner":{"account_id":12169295,"reputation":297,"user_id":8884543,"display_name":"Happy Nguyen"},"comment_count":0,"down_vote_count":2,"up_vote_count":30,"is_accepted":false,"score":28,"last_activity_date":1510114975,"creation_date":1510109081,"answer_id":47170750,"question_id":38700790,"body_markdown":"You can try using `ModelAndView`:\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView index () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can try using <code>ModelAndView</code>:</p>\n\n<pre><code>@RequestMapping(\"/\")\npublic ModelAndView index () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(\"index\");\n    return modelAndView;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3424234,"reputation":3742,"user_id":2870572,"accept_rate":48,"display_name":"Ganesh Satpute"},"score":4,"creation_date":1591111436,"post_id":48183421,"comment_id":109928468,"body_markdown":"It would be better if you add some comments explaining your answer.","body":"It would be better if you add some comments explaining your answer."}],"tags":[],"owner":{"account_id":11301613,"reputation":67,"user_id":8287372,"display_name":"Noshin"},"comment_count":1,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1550417092,"creation_date":1515573920,"answer_id":48183421,"question_id":38700790,"body_markdown":"Replace `@RestController` with `@Controller`.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Replace <code>@RestController</code> with <code>@Controller</code>.</p>\n"},{"tags":[],"owner":{"account_id":3657397,"reputation":1107,"user_id":3048005,"display_name":"Prasad"},"comment_count":0,"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1554912843,"creation_date":1517977461,"answer_id":48655997,"question_id":38700790,"body_markdown":"Replace `@Restcontroller` with `@controller`. `@Restcontroller` returns only content not html and jsp pages. ","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Replace <code>@Restcontroller</code> with <code>@controller</code>. <code>@Restcontroller</code> returns only content not html and jsp pages. </p>\n"},{"tags":[],"owner":{"account_id":3210569,"reputation":718,"user_id":2710675,"display_name":"Kairat"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1544782961,"creation_date":1524023894,"answer_id":49890955,"question_id":38700790,"body_markdown":"You should use `login.html`. And replace `RestController` with `Controller`","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You should use <code>login.html</code>. And replace <code>RestController</code> with <code>Controller</code></p>\n"},{"tags":[],"owner":{"account_id":2892194,"reputation":6142,"user_id":2480714,"accept_rate":67,"display_name":"PGMacDesign"},"comment_count":0,"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1534883001,"creation_date":1534883001,"answer_id":51956187,"question_id":38700790,"body_markdown":"The answer from Kukkuz did not work for me until I added in this dependency into the pom file:\r\n\r\n    &lt;!-- Spring boot Thymeleaf --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\t\t\r\nFrom the guide [here][1].\r\n\r\nAs well as updating the registry resources as outlined [here][2]. \r\n\t\t\r\nIt then started working just fine. If anyone in the future runs into the same issue and following the first answer does not solve your problem, follow these 2 other steps after utilizing the code in @Kukkuz&#39;s answer and see if that makes a difference.\r\n\r\n\r\n  [1]: https://spring.io/guides/gs/serving-web-content/\r\n  [2]: https://stackoverflow.com/a/17013442/2480714/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The answer from Kukkuz did not work for me until I added in this dependency into the pom file:</p>\n\n<pre><code>&lt;!-- Spring boot Thymeleaf --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>From the guide <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>As well as updating the registry resources as outlined <a href=\"https://stackoverflow.com/a/17013442/2480714/\">here</a>. </p>\n\n<p>It then started working just fine. If anyone in the future runs into the same issue and following the first answer does not solve your problem, follow these 2 other steps after utilizing the code in @Kukkuz's answer and see if that makes a difference.</p>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1544144040,"creation_date":1544144040,"answer_id":53661807,"question_id":38700790,"body_markdown":"The most correct and modern form is to use `IoC` to put dependencies into the endpoint method, like the *thymeleaf* `Model` instance...\r\n\r\n     @Controller \r\n     public class GreetingController {\r\n     \t\t@GetMapping(&quot;/greeting&quot;) \r\n     \t\tpublic String greeting(\r\n     \t\t\t@RequestParam(name=&quot;name&quot;, required=false, defaultValue=&quot;World&quot;) String name, Model model) {\r\n                 model.addAttribute(&quot;name&quot;, name); \r\n                 return &quot;greeting&quot;; \r\n                 // returns the already proccessed model from src/main/resources/templates/greeting.html \r\n          }\r\n     }\r\n\r\nSee complete example at: https://spring.io/guides/gs/serving-web-content/","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>The most correct and modern form is to use <code>IoC</code> to put dependencies into the endpoint method, like the <em>thymeleaf</em> <code>Model</code> instance...</p>\n\n<pre><code> @Controller \n public class GreetingController {\n        @GetMapping(\"/greeting\") \n        public String greeting(\n            @RequestParam(name=\"name\", required=false, defaultValue=\"World\") String name, Model model) {\n             model.addAttribute(\"name\", name); \n             return \"greeting\"; \n             // returns the already proccessed model from src/main/resources/templates/greeting.html \n      }\n }\n</code></pre>\n\n<p>See complete example at: <a href=\"https://spring.io/guides/gs/serving-web-content/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/serving-web-content/</a></p>\n"},{"tags":[],"owner":{"account_id":4316093,"reputation":3757,"user_id":3525886,"accept_rate":75,"display_name":"Johnny Willer"},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1551145988,"creation_date":1551145988,"answer_id":54877332,"question_id":38700790,"body_markdown":"I&#39;m not using Thymeleaf and the only way it worked for me was with `@Controller`\r\nin the class and \r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n    public String index() {\r\n        return &quot;index.html&quot;;\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I'm not using Thymeleaf and the only way it worked for me was with <code>@Controller</code>\nin the class and </p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/\")\npublic String index() {\n    return \"index.html\";\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10279335,"reputation":707,"user_id":7585093,"display_name":"Mithilesh Tipkari"},"score":8,"creation_date":1582653231,"post_id":55286922,"comment_id":106848922,"body_markdown":"After adding `spring-boot-starter-thymeleaf` dependency, the view was resolved","body":"After adding <code>spring-boot-starter-thymeleaf</code> dependency, the view was resolved"},{"owner":{"account_id":16636762,"reputation":876,"user_id":12023261,"display_name":"Arpan Banerjee"},"score":1,"creation_date":1617951923,"post_id":55286922,"comment_id":118459075,"body_markdown":"With just spring-starter-web dependency I was able to serve html pages located inside src/main/resources/static ,  by typing localhost: 8080/helloworld.html( the entire name).  But using thmleaf it automatically maps to the html files. SO \nMY QUESTION   is there any option to serve the files through rest end points by just including spring-starter-web dependency","body":"With just spring-starter-web dependency I was able to serve html pages located inside src/main/resources/static ,  by typing localhost: 8080/helloworld.html( the entire name).  But using thmleaf it automatically maps to the html files. SO  MY QUESTION   is there any option to serve the files through rest end points by just including spring-starter-web dependency"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1625152256,"post_id":55286922,"comment_id":120557310,"body_markdown":"Using @Controller solved the issue and returned the view as opposed to a string","body":"Using @Controller solved the issue and returned the view as opposed to a string"}],"tags":[],"owner":{"account_id":9086895,"reputation":1116,"user_id":6764504,"display_name":"Chandan Kumar"},"comment_count":3,"down_vote_count":3,"up_vote_count":50,"is_accepted":false,"score":47,"last_activity_date":1597161086,"creation_date":1553192600,"answer_id":55286922,"question_id":38700790,"body_markdown":"Follow below steps:\r\n\r\n 1. Must put the html files in resources/templates/\r\n 2. Replace the `@RestController` with `@Controller`\r\n 3. Remove if you are using any view resolvers.\r\n 4. Your controller method should return file name of view without extension like `return &quot;index&quot;`\r\n 5. Include the below dependencies:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;`\r\n\r\n \r\n\r\n      \r\n    ","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Follow below steps:</p>\n<ol>\n<li><p>Must put the html files in resources/templates/</p>\n</li>\n<li><p>Replace the <code>@RestController</code> with <code>@Controller</code></p>\n</li>\n<li><p>Remove if you are using any view resolvers.</p>\n</li>\n<li><p>Your controller method should return file name of view without extension like <code>return &quot;index&quot;</code></p>\n</li>\n<li><p>Include the below dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;`\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":14877782,"reputation":1,"user_id":10743372,"display_name":"Yasin Mowlavezada"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1572719187,"creation_date":1572719187,"answer_id":58674038,"question_id":38700790,"body_markdown":"You can solve this in two ways:\r\n\r\n**First way:** If you wish to keep using REST you have to you a `ModelAndView` object to render a HTML page. An example is being posted by Happy Nguyen and I am posting it once more here:\r\n\r\n    @RequestMapping(&quot;/&quot;)\r\n    public ModelAndView index () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n\r\n**Second Way:** If it is not important weather you keep using REST or not, so you can just change the `@RestController` to `@Controller` and make sure that you have already added **Thymeleaf** template engine.\r\n","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can solve this in two ways:</p>\n\n<p><strong>First way:</strong> If you wish to keep using REST you have to you a <code>ModelAndView</code> object to render a HTML page. An example is being posted by Happy Nguyen and I am posting it once more here:</p>\n\n<pre><code>@RequestMapping(\"/\")\npublic ModelAndView index () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(\"index\");\n    return modelAndView;\n}\n</code></pre>\n\n<p><strong>Second Way:</strong> If it is not important weather you keep using REST or not, so you can just change the <code>@RestController</code> to <code>@Controller</code> and make sure that you have already added <strong>Thymeleaf</strong> template engine.</p>\n"},{"comments":[{"owner":{"account_id":5733651,"reputation":10650,"user_id":4700922,"accept_rate":64,"display_name":"Ali Sheikhpour"},"score":2,"creation_date":1574410430,"post_id":58988497,"comment_id":104231197,"body_markdown":"any description?","body":"any description?"},{"owner":{"account_id":4191645,"reputation":167,"user_id":3434131,"display_name":"JustTry"},"score":0,"creation_date":1582924026,"post_id":58988497,"comment_id":106957073,"body_markdown":"this will also work with spring.mvc.view.prefix: /WEB-INF/jsp/\nspring.mvc.view.suffix: .jsp","body":"this will also work with spring.mvc.view.prefix: /WEB-INF/jsp/ spring.mvc.view.suffix: .jsp"}],"tags":[],"owner":{"account_id":11574190,"reputation":1,"user_id":8480065,"display_name":"Loy Misquith"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1574413884,"creation_date":1574403293,"answer_id":58988497,"question_id":38700790,"body_markdown":"    @Controller\r\n    public class WebController {\r\n    @GetMapping(&quot;/&quot;)\r\n\r\n    public String homePage() {\r\n        return &quot;index&quot;;\r\n      }\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<pre><code>@Controller\npublic class WebController {\n@GetMapping(\"/\")\n\npublic String homePage() {\n    return \"index\";\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":203953,"reputation":5113,"user_id":451894,"accept_rate":53,"display_name":"upog"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1593573568,"creation_date":1593573568,"answer_id":62669149,"question_id":38700790,"body_markdown":"    @Controller\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n        public ModelAndView welcome() {\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;login.html&quot;);\r\n            return modelAndView;\r\n        }\r\n    }\r\n    \r\n\r\nThis will return the Login.html File. The Login.html should be inside the static Folder.\r\n\r\nNote: thymeleaf dependency is not added\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\nThis will return the String login","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<pre><code>@Controller\npublic class HomeController {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\n    public ModelAndView welcome() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login.html&quot;);\n        return modelAndView;\n    }\n}\n</code></pre>\n<p>This will return the Login.html File. The Login.html should be inside the static Folder.</p>\n<p>Note: thymeleaf dependency is not added</p>\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<p>This will return the String login</p>\n"},{"tags":[],"owner":{"account_id":13727147,"reputation":77,"user_id":9905626,"display_name":"Ahmad Bayan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1602428301,"creation_date":1602428301,"answer_id":64305446,"question_id":38700790,"body_markdown":"I know this is old but maybe it helps someone. To do this in a RestController, return a String that is the actual HTML code, then the browser will know what to display.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I know this is old but maybe it helps someone. To do this in a RestController, return a String that is the actual HTML code, then the browser will know what to display.</p>\n"},{"tags":[],"owner":{"account_id":20145936,"reputation":472,"user_id":14774446,"display_name":"Davide Calarco"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1613325369,"creation_date":1613325369,"answer_id":66198387,"question_id":38700790,"body_markdown":"I did three things:\r\n- Put the HTML page in {project.basedir}/resources/static/myPage.html;\r\n- Switch @RestController to @Controller;\r\n- This is my controller:\r\n```\r\n@RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\r\npublic String aName() {\r\n\treturn &quot;myPage.html&quot;;\r\n}\r\n```\r\n\r\n**No particular dependency** is needed.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I did three things:</p>\n<ul>\n<li>Put the HTML page in {project.basedir}/resources/static/myPage.html;</li>\n<li>Switch @RestController to @Controller;</li>\n<li>This is my controller:</li>\n</ul>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/&quot;)\npublic String aName() {\n    return &quot;myPage.html&quot;;\n}\n</code></pre>\n<p><strong>No particular dependency</strong> is needed.</p>\n"},{"comments":[{"owner":{"account_id":3329148,"reputation":162,"user_id":2798461,"display_name":"bvn13"},"score":0,"creation_date":1675033489,"post_id":66986791,"comment_id":132835927,"body_markdown":"very complete answer. Just notice that Thymeleaf searches templates in &#39;classpath:/templates/` directory by default","body":"very complete answer. Just notice that Thymeleaf searches templates in &#39;classpath:/templates/` directory by default"}],"tags":[],"owner":{"account_id":7966072,"reputation":381,"user_id":6012267,"display_name":"Robby"},"comment_count":1,"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1617801034,"creation_date":1617801034,"answer_id":66986791,"question_id":38700790,"body_markdown":"@kukkuz pretty much answered to the question &#39;why?&#39;. For those who are still looking into  &#39;how&#39;, accumulating what others have answered.\r\n \r\nUsing a RestController:\r\n\r\n    @RestController\r\n    public class MyRestController {\r\n        @RequestMapping(&quot;/&quot;)\r\n        public ModelAndView welcome() {\r\n            ModelAndView modelAndView = new ModelAndView();\r\n            modelAndView.setViewName(&quot;login.html&quot;);\r\n            return modelAndView;\r\n        }  \r\n    }\r\n\r\n - pay attention that view name is: &#39;login.html&#39; (full file name). \r\n - also it is important where the file is located, by default login.html must be in resources/static or resources/public\r\n\r\n\r\nYou may set up an application parameter for a default suffix like:  \r\n\r\n     spring.mvc.view.suffix=.html\r\n\r\nin this case view name must be without extension like &#39;login&#39;.\r\n\r\n\r\nSome suggested thymeleaf can be used.\r\nmeans you have in your pom.xml dependencies something like this: \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIn that scenario login.html by default must sit in: resources/templates folder, and the call is similar only difference now is in a view name, since [.html][1] is used by tymeleaf as a default value.\r\n \r\n\r\n    //  fails by default\r\n    //  NO fail if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\r\n    //  NO fail if thymeleaf is added, and there is a file login.html in a resources/templates folder.\r\n    @RequestMapping(&quot;/loginTest&quot;)\r\n    public ModelAndView loginTest () {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;login&quot;);\r\n        return modelAndView;\r\n    }\r\n\r\n\r\nUsing a Controller:\r\n \r\n\r\n    @Controller\r\n    public class MyController {\r\n\r\n      //gets html from a default &#39;resources/public&#39; or &#39;resources/static&#39; folder\r\n      @RequestMapping(path=&quot;/welcome&quot;)\r\n      public String getWelcomePage(){\r\n          return &quot;login.html&quot;;\r\n      }\r\n\r\n      //gets html from a default &#39;resources/public&#39; or &#39;resources/static&#39; folder\r\n      @RequestMapping(&quot;/welcome1&quot;)\r\n      public ModelAndView getWelcomePageAsModel() {\r\n          ModelAndView modelAndView = new ModelAndView();\r\n          modelAndView.setViewName(&quot;login.html&quot;);\r\n          return modelAndView;\r\n      }\r\n\r\n      //  fails with 404 resource not found by default\r\n      //  NO fail, if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\r\n      //  NO fail, if thymeleaf is added, and there is a file login.html in a resources/templates folder\r\n      @RequestMapping(path=&quot;/welcome2&quot;)\r\n      public String thisFails(){\r\n          return &quot;login&quot;;\r\n      }\r\n    }\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#spring.thymeleaf.suffix","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>@kukkuz pretty much answered to the question 'why?'. For those who are still looking into  'how', accumulating what others have answered.</p>\n<p>Using a RestController:</p>\n<pre><code>@RestController\npublic class MyRestController {\n    @RequestMapping(&quot;/&quot;)\n    public ModelAndView welcome() {\n        ModelAndView modelAndView = new ModelAndView();\n        modelAndView.setViewName(&quot;login.html&quot;);\n        return modelAndView;\n    }  \n}\n</code></pre>\n<ul>\n<li>pay attention that view name is: 'login.html' (full file name).</li>\n<li>also it is important where the file is located, by default login.html must be in resources/static or resources/public</li>\n</ul>\n<p>You may set up an application parameter for a default suffix like:</p>\n<pre><code> spring.mvc.view.suffix=.html\n</code></pre>\n<p>in this case view name must be without extension like 'login'.</p>\n<p>Some suggested thymeleaf can be used.\nmeans you have in your pom.xml dependencies something like this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n  &lt;version&gt;2.4.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>In that scenario login.html by default must sit in: resources/templates folder, and the call is similar only difference now is in a view name, since <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#spring.thymeleaf.suffix\" rel=\"noreferrer\">.html</a> is used by tymeleaf as a default value.</p>\n<pre><code>//  fails by default\n//  NO fail if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\n//  NO fail if thymeleaf is added, and there is a file login.html in a resources/templates folder.\n@RequestMapping(&quot;/loginTest&quot;)\npublic ModelAndView loginTest () {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;login&quot;);\n    return modelAndView;\n}\n</code></pre>\n<p>Using a Controller:</p>\n<pre><code>@Controller\npublic class MyController {\n\n  //gets html from a default 'resources/public' or 'resources/static' folder\n  @RequestMapping(path=&quot;/welcome&quot;)\n  public String getWelcomePage(){\n      return &quot;login.html&quot;;\n  }\n\n  //gets html from a default 'resources/public' or 'resources/static' folder\n  @RequestMapping(&quot;/welcome1&quot;)\n  public ModelAndView getWelcomePageAsModel() {\n      ModelAndView modelAndView = new ModelAndView();\n      modelAndView.setViewName(&quot;login.html&quot;);\n      return modelAndView;\n  }\n\n  //  fails with 404 resource not found by default\n  //  NO fail, if spring mvc view suffix is set in properties e.g.: spring.mvc.view.suffix=.html\n  //  NO fail, if thymeleaf is added, and there is a file login.html in a resources/templates folder\n  @RequestMapping(path=&quot;/welcome2&quot;)\n  public String thisFails(){\n      return &quot;login&quot;;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14605352,"reputation":151,"user_id":10548414,"display_name":"Subham"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623302882,"creation_date":1623302882,"answer_id":67915248,"question_id":38700790,"body_markdown":"Methods annotated with **@GetMapping** in classes annotated with **@RestController** may return views (JSP,HTML etc) in two ways \r\n\r\n    @GetMapping(&quot;/dummy&quot;)\r\n    public String renderDummyWebPage() {\r\n        return &quot;dummy.jsp&quot;;\r\n    }\r\n\r\nHowever, this method has two **LIMITATIONS**\r\n\r\n 1. That JSP Page has to be present in **src/main/webapp** directory, otherwise if the view is present in sub-directory the return type has to be modified accordingly. For example, if the JSP page is present in **src/main/webapp/views** directory - it should return **views/dummy.jsp** as String instead.\r\n\r\n 2. If you have already configured ViewResolver of the application returning a simple String will not work and the String will be interpreted as a normal String instead of JSP view name.\r\n\r\n\r\n----------\r\n\r\n\r\nTo overcome these two limitations, you can return a ModelAndView instead.\r\n\r\n    @GetMapping(&quot;/dummy&quot;)\r\n    public ModelAndView renderDummyWebPage() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;dummy&quot;);\r\n        return modelAndView;\r\n    }\r\n-----------------------\r\n\r\nI hope this answer would be helpful, thanks.","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Methods annotated with <strong>@GetMapping</strong> in classes annotated with <strong>@RestController</strong> may return views (JSP,HTML etc) in two ways</p>\n<pre><code>@GetMapping(&quot;/dummy&quot;)\npublic String renderDummyWebPage() {\n    return &quot;dummy.jsp&quot;;\n}\n</code></pre>\n<p>However, this method has two <strong>LIMITATIONS</strong></p>\n<ol>\n<li><p>That JSP Page has to be present in <strong>src/main/webapp</strong> directory, otherwise if the view is present in sub-directory the return type has to be modified accordingly. For example, if the JSP page is present in <strong>src/main/webapp/views</strong> directory - it should return <strong>views/dummy.jsp</strong> as String instead.</p>\n</li>\n<li><p>If you have already configured ViewResolver of the application returning a simple String will not work and the String will be interpreted as a normal String instead of JSP view name.</p>\n</li>\n</ol>\n<hr />\n<p>To overcome these two limitations, you can return a ModelAndView instead.</p>\n<pre><code>@GetMapping(&quot;/dummy&quot;)\npublic ModelAndView renderDummyWebPage() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;dummy&quot;);\n    return modelAndView;\n}\n</code></pre>\n<hr />\n<p>I hope this answer would be helpful, thanks.</p>\n"},{"tags":[],"owner":{"account_id":4811437,"reputation":31,"user_id":3884815,"display_name":"Vukkum Sai Prakash"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634920469,"creation_date":1634920469,"answer_id":69680332,"question_id":38700790,"body_markdown":"Already answered by @kukkuz &amp; @Robby with @RequestMapping annotation \r\nbut we can also use with @GetMapping annotation. \r\n\r\n    @GetMapping(&quot;/index&quot;)\r\n    public ModelAndView welcome() {\r\n        ModelAndView modelAndView = new ModelAndView();\r\n        modelAndView.setViewName(&quot;index.html&quot;);\r\n        return modelAndView;\r\n    }","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>Already answered by @kukkuz &amp; @Robby with @RequestMapping annotation\nbut we can also use with @GetMapping annotation.</p>\n<pre><code>@GetMapping(&quot;/index&quot;)\npublic ModelAndView welcome() {\n    ModelAndView modelAndView = new ModelAndView();\n    modelAndView.setViewName(&quot;index.html&quot;);\n    return modelAndView;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5506838,"reputation":690,"user_id":4374472,"display_name":"Sandeep Kamath"},"score":0,"creation_date":1673925992,"post_id":69717327,"comment_id":132600622,"body_markdown":"This doesn&#39;t work as /login is send as request body as we are using @RestController","body":"This doesn&#39;t work as /login is send as request body as we are using @RestController"}],"tags":[],"owner":{"account_id":23136040,"reputation":59,"user_id":17240268,"display_name":"ujjwal dixit"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635220777,"creation_date":1635220777,"answer_id":69717327,"question_id":38700790,"body_markdown":"You can specify GET or POST method inside RequestMapping like this:-\r\n\r\n    @RestController\r\n    public class HomeController {\r\n\r\n    @RequestMapping(value=&quot;/&quot;, Method=&quot;GET&quot;)  //or Method=&quot;POST&quot;\r\n    public String welcome() {\r\n        return &quot;/login&quot;;\r\n    }\r\n    }\r\n\r\n\r\nNow if you request on this page it will return login.html page","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>You can specify GET or POST method inside RequestMapping like this:-</p>\n<pre><code>@RestController\npublic class HomeController {\n\n@RequestMapping(value=&quot;/&quot;, Method=&quot;GET&quot;)  //or Method=&quot;POST&quot;\npublic String welcome() {\n    return &quot;/login&quot;;\n}\n}\n</code></pre>\n<p>Now if you request on this page it will return login.html page</p>\n"},{"tags":[],"owner":{"account_id":19997868,"reputation":1,"user_id":14657513,"display_name":"Batman-exe"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1676067872,"creation_date":1676067872,"answer_id":75416673,"question_id":38700790,"body_markdown":"I had the same issue in Spring boot 3.0.7 and this worked for me: \r\n\r\nChange your controller annotations to `@Controller` and `@RequestMapping`. The welcome method should use `@GetMapping` annotation.\r\n```\r\n@Controller\r\n@RequestMapping\r\npublic class HomeController {\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String welcome() {\r\n        return &quot;login&quot;;\r\n    }\r\n}\r\n```","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I had the same issue in Spring boot 3.0.7 and this worked for me:</p>\n<p>Change your controller annotations to <code>@Controller</code> and <code>@RequestMapping</code>. The welcome method should use <code>@GetMapping</code> annotation.</p>\n<pre><code>@Controller\n@RequestMapping\npublic class HomeController {\n\n    @GetMapping(&quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":8372605,"reputation":3511,"user_id":6287214,"accept_rate":62,"display_name":"Gustavo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227958,"favorite_count":0,"down_vote_count":0,"up_vote_count":61,"accepted_answer_id":38701146,"answer_count":21,"score":61,"last_activity_date":1686281679,"creation_date":1470059861,"question_id":38700790,"body_markdown":"I want to return a simple HTML page from a controller, but I get only the name of the file not its content. Why?\r\n\r\n### This is my controller code:\r\n\r\n    @RestController\r\n    public class HomeController {\r\n    \r\n        @RequestMapping(&quot;/&quot;)\r\n        public String welcome() {\r\n            return &quot;login&quot;;\r\n        }\r\n    }\r\n\r\n### This is my project structure:\r\n\r\n[![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/MHaaq.png","title":"How to return an HTML page from a RESTful controller in Spring Boot?","body":"<p>I want to return a simple HTML page from a controller, but I get only the name of the file not its content. Why?</p>\n<h3>This is my controller code:</h3>\n<pre><code>@RestController\npublic class HomeController {\n\n    @RequestMapping(&quot;/&quot;)\n    public String welcome() {\n        return &quot;login&quot;;\n    }\n}\n</code></pre>\n<h3>This is my project structure:</h3>\n<p>[<img src=\"https://i.stack.imgur.com/MHaaq.png\" alt=\"enter image description here\" /></p>\n"},{"tags":["java","sql","hibernate","jpa"],"comments":[{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1383148707,"post_id":19686941,"comment_id":59693198,"body_markdown":"I think the answer above only covers Hibernate managed Cascade however I think this is what you are looking for: http://stackoverflow.com/questions/16502481/on-cascade-delete-on-jpa2-many-to-many-relationship","body":"I think the answer above only covers Hibernate managed Cascade however I think this is what you are looking for: <a href=\"http://stackoverflow.com/questions/16502481/on-cascade-delete-on-jpa2-many-to-many-relationship\" title=\"on cascade delete on jpa2 many to many relationship\">stackoverflow.com/questions/16502481/&hellip;</a>"},{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":0,"creation_date":1383149341,"post_id":19686941,"comment_id":59693199,"body_markdown":"The answer is about DDL creation which is not important to me. I want to know whether CASCADE at the DB level is OK for Hibernate. The fact that there is an `@OnDelete` annotation _may_ be proof that it is.","body":"The answer is about DDL creation which is not important to me. I want to know whether CASCADE at the DB level is OK for Hibernate. The fact that there is an <code>@OnDelete</code> annotation <i>may</i> be proof that it is."},{"owner":{"account_id":1434762,"reputation":22772,"user_id":1356423,"accept_rate":65,"display_name":"Alan Hay"},"score":0,"creation_date":1383173905,"post_id":19686941,"comment_id":59693200,"body_markdown":"Well that was just a starting point. I&#39;m not sure agree it&#39;s just about DDL. Some further research may have led you to some comments here by Gavin King hiself: http://www.mail-archive.com/hibernate-devel@lists.sourceforge.net/msg03803.html","body":"Well that was just a starting point. I&#39;m not sure agree it&#39;s just about DDL. Some further research may have led you to some comments here by Gavin King hiself: <a href=\"http://www.mail-archive.com/hibernate-devel@lists.sourceforge.net/msg03803.html\" rel=\"nofollow noreferrer\">mail-archive.com/hibernate-devel@lists.sourceforge.net/&hellip;</a>"},{"owner":{"account_id":217966,"reputation":12439,"user_id":474034,"accept_rate":67,"display_name":"lanoxx"},"score":1,"creation_date":1520331977,"post_id":19686941,"comment_id":85261549,"body_markdown":"Might be related: https://stackoverflow.com/questions/22286649/jpa-hibernate-cascade-delete-in-both-database-and-annotation","body":"Might be related: <a href=\"https://stackoverflow.com/questions/22286649/jpa-hibernate-cascade-delete-in-both-database-and-annotation\" title=\"jpa hibernate cascade delete in both database and annotation\">stackoverflow.com/questions/22286649/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3090566,"reputation":11682,"user_id":2616755,"accept_rate":50,"display_name":"cmd"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1383153450,"creation_date":1383153450,"answer_id":19689592,"question_id":19686941,"body_markdown":"You can use `CascadeType.DELETE`, however this annotation only applies to the objects in the `EntityManager`, not the database. You want to be sure that `ON DELETE CASCADE` is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the `ddl` file, you&#39;ll notice that `ON DELETE CASCADE` is not part of the constraint. Add `ON DELETE CASCADE` to actual SQL in the `ddl` file, then update your database schema from the ddl. This will fix your problem .\r\n\r\nThis [link][1] shows how to use `ON DELETE CASCADE` on for `CONSTRAINT` in MySQL. You do this on the constraint. You can also do it in a `CREATE TABLE` or `ALTER TABLE` statement. It&#39;s likely that JPA creates the constraint in an `ALTER TABLE` statement. Simply add `ON DELETE CASCADE` to that statement.\r\n\r\nNote that some JPA implementors do provide a means for this functionality.\r\n\r\n\r\n  [1]: http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\r\n\r\nHibernate does supply this functionality using the `@OnDelete` annotation, thus it is preferred to use this or simply update the ddl file if you would like to stick with standard JPA functionality.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can use <code>CascadeType.DELETE</code>, however this annotation only applies to the objects in the <code>EntityManager</code>, not the database. You want to be sure that <code>ON DELETE CASCADE</code> is added to the database constraint. To verify, you can configure JPA to generate a ddl file. Take a look at the <code>ddl</code> file, you'll notice that <code>ON DELETE CASCADE</code> is not part of the constraint. Add <code>ON DELETE CASCADE</code> to actual SQL in the <code>ddl</code> file, then update your database schema from the ddl. This will fix your problem .</p>\n\n<p>This <a href=\"http://dev.mysql.com/doc/refman/5.6/en/create-table-foreign-keys.html\" rel=\"noreferrer\">link</a> shows how to use <code>ON DELETE CASCADE</code> on for <code>CONSTRAINT</code> in MySQL. You do this on the constraint. You can also do it in a <code>CREATE TABLE</code> or <code>ALTER TABLE</code> statement. It's likely that JPA creates the constraint in an <code>ALTER TABLE</code> statement. Simply add <code>ON DELETE CASCADE</code> to that statement.</p>\n\n<p>Note that some JPA implementors do provide a means for this functionality.</p>\n\n<p>Hibernate does supply this functionality using the <code>@OnDelete</code> annotation, thus it is preferred to use this or simply update the ddl file if you would like to stick with standard JPA functionality.</p>\n"},{"tags":[],"owner":{"account_id":2391416,"reputation":3895,"user_id":2091200,"display_name":"Abhijith Nagarajan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1383156517,"creation_date":1383156517,"answer_id":19690634,"question_id":19686941,"body_markdown":"You can use the native database functionality to delete the child records upon deletion of parent record. \r\n\r\nBe aware of bi-directional relationships and to be sure, ensure you just specify insert and update in cascade (to be on safer side). ","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can use the native database functionality to delete the child records upon deletion of parent record. </p>\n\n<p>Be aware of bi-directional relationships and to be sure, ensure you just specify insert and update in cascade (to be on safer side). </p>\n"},{"comments":[{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":0,"creation_date":1519897753,"post_id":49015046,"comment_id":85098229,"body_markdown":"The question is not about removing a table. It&#39;s about the data stored in the table.","body":"The question is not about removing a table. It&#39;s about the data stored in the table."}],"tags":[],"owner":{"account_id":12944998,"reputation":156,"user_id":9359607,"display_name":"Muthu"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1519754205,"creation_date":1519754205,"answer_id":49015046,"question_id":19686941,"body_markdown":"  Don&#39;t use cascade = CascadeType.REMOVE [Documentation here][1]\r\n\r\n\r\n  [1]: https://www.thoughts-on-java.org/avoid-cascadetype-delete-many-assocations/\r\n   \r\n  Because of your db may be destroyed. You can use formal order. Delete sub stable \r\n  and then remove master table\r\n\r\n","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>Don't use cascade = CascadeType.REMOVE <a href=\"https://www.thoughts-on-java.org/avoid-cascadetype-delete-many-assocations/\" rel=\"nofollow noreferrer\">Documentation here</a></p>\n\n<p>Because of your db may be destroyed. You can use formal order. Delete sub stable \n  and then remove master table</p>\n"},{"tags":[],"owner":{"account_id":4915498,"reputation":958,"user_id":3959535,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519915305,"creation_date":1519914076,"answer_id":49051709,"question_id":19686941,"body_markdown":"You mention for testing purposes. I&#39;m guessing, execute some test, delete data, replay test...\r\n\r\nWhen using second-level caching or query cache, the cache will and up being stale if you directly remove the data from the database.\r\nThis might result in unexpected test results.\r\n\r\nSo yes, this will conflict with Hibernate if you use second-level / query caching as the entity&#39;s will not get evicted from cache. Make sure all caches get cleared after you directly deleted any data. [See this question on how to clear cache.][1]\r\n\r\n\r\nThe official Hibernate [docs][2] also mention this:\r\n\r\n&gt; Be aware that caches are not aware of changes made to the persistent store by other applications. They can, however, be configured to regularly expire cached data.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/40302097/clear-hibernate-2nd-level-cache-after-manually-db-update\r\n  [2]: https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#caching","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You mention for testing purposes. I'm guessing, execute some test, delete data, replay test...</p>\n\n<p>When using second-level caching or query cache, the cache will and up being stale if you directly remove the data from the database.\nThis might result in unexpected test results.</p>\n\n<p>So yes, this will conflict with Hibernate if you use second-level / query caching as the entity's will not get evicted from cache. Make sure all caches get cleared after you directly deleted any data. <a href=\"https://stackoverflow.com/questions/40302097/clear-hibernate-2nd-level-cache-after-manually-db-update\">See this question on how to clear cache.</a></p>\n\n<p>The official Hibernate <a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#caching\" rel=\"nofollow noreferrer\">docs</a> also mention this:</p>\n\n<blockquote>\n  <p>Be aware that caches are not aware of changes made to the persistent store by other applications. They can, however, be configured to regularly expire cached data.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":6093107,"reputation":23152,"user_id":4754790,"accept_rate":94,"display_name":"Dragan Bozanovic"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1519938335,"creation_date":1519938335,"answer_id":49058679,"question_id":19686941,"body_markdown":"I see two potential issues:\r\n\r\n 1. If an entity that represents the table to which you cascade operations directly in the database is versioned, then it would not work because when Hibernate tries to delete records on its own, the version check would fail (Hibernate would assume concurrent thread already updated or deleted the corresponding records).\r\n 2. If there are use cases in which your business logic re-persists such entity instances after removal has been cascaded to them from the parent (for example, you are deleting old parent and migrating associated children to a new one, although for better clarity I would not cascade removal at all if such a use case exists for an association, but it&#39;s up to you as it is allowed by the JPA spec), then Hibernate would just [un-schedule][1] the deletion of children and delete only the parent, so you would still end up with deleted children if you cascade deletion in the database.\r\n\r\nProbably there are some other situations that could be problematic in some scenarios, so I would recommend **not** to do it. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/34840903/silently-ignored-remove","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>I see two potential issues:</p>\n\n<ol>\n<li>If an entity that represents the table to which you cascade operations directly in the database is versioned, then it would not work because when Hibernate tries to delete records on its own, the version check would fail (Hibernate would assume concurrent thread already updated or deleted the corresponding records).</li>\n<li>If there are use cases in which your business logic re-persists such entity instances after removal has been cascaded to them from the parent (for example, you are deleting old parent and migrating associated children to a new one, although for better clarity I would not cascade removal at all if such a use case exists for an association, but it's up to you as it is allowed by the JPA spec), then Hibernate would just <a href=\"https://stackoverflow.com/questions/34840903/silently-ignored-remove\">un-schedule</a> the deletion of children and delete only the parent, so you would still end up with deleted children if you cascade deletion in the database.</li>\n</ol>\n\n<p>Probably there are some other situations that could be problematic in some scenarios, so I would recommend <strong>not</strong> to do it. </p>\n"},{"comments":[{"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"score":1,"creation_date":1589877061,"post_id":61870411,"comment_id":109459550,"body_markdown":"Thanks for the answer. I would have expected Hibernate to take care of the dialect&#39;s support and do the right thing either way. Apparently one needs to be aware of that. One more reason I&#39;m glad to have left ORMs behind me... I hope I never have to deal with them again.","body":"Thanks for the answer. I would have expected Hibernate to take care of the dialect&#39;s support and do the right thing either way. Apparently one needs to be aware of that. One more reason I&#39;m glad to have left ORMs behind me... I hope I never have to deal with them again."}],"tags":[],"owner":{"account_id":5230492,"reputation":3451,"user_id":4181015,"display_name":"Bohdan Levchenko"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1589807656,"creation_date":1589807656,"answer_id":61870411,"question_id":19686941,"body_markdown":"You can safely use `ON DELETE CASCADE` as long as you do not have `CascadeType.REMOVE` or `orphanRemoval` enabled to prevent propagation of the entity removal event.\r\n\r\nHaving `@OnDelete(action = OnDeleteAction.CASCADE)` on your relation will force Hibernate to generate `ON DELETE CASCADE` for related foreign keys. However your `Dialect` has to indicate that such relation are supported by returning `true` in `supportsCascadeDelete` method.\r\n\r\n[Dialect.supportsCascadeDelete()][1]\r\n\r\n[OnDelete][2]\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/dialect/Dialect.java#L2346\r\n  [2]: https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/annotations/OnDelete.html","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>You can safely use <code>ON DELETE CASCADE</code> as long as you do not have <code>CascadeType.REMOVE</code> or <code>orphanRemoval</code> enabled to prevent propagation of the entity removal event.</p>\n\n<p>Having <code>@OnDelete(action = OnDeleteAction.CASCADE)</code> on your relation will force Hibernate to generate <code>ON DELETE CASCADE</code> for related foreign keys. However your <code>Dialect</code> has to indicate that such relation are supported by returning <code>true</code> in <code>supportsCascadeDelete</code> method.</p>\n\n<p><a href=\"https://github.com/hibernate/hibernate-orm/blob/master/hibernate-core/src/main/java/org/hibernate/dialect/Dialect.java#L2346\" rel=\"noreferrer\">Dialect.supportsCascadeDelete()</a></p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/3.5/api/org/hibernate/annotations/OnDelete.html\" rel=\"noreferrer\">OnDelete</a></p>\n"},{"tags":[],"owner":{"account_id":286046,"reputation":3010,"user_id":585080,"accept_rate":100,"display_name":"Fabian Pijcke"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642625185,"creation_date":1642625185,"answer_id":70777527,"question_id":19686941,"body_markdown":"From my experiments, since I have struggled with this for a couple hours, using `updatable = false` in the @JoinColumn will prevent Hibernate from doing\r\n\r\n    update theTable set theReference = null where theIdentifier = ?\r\n\r\nFor example (in Kotlin):\r\n\r\n    @Entity\r\n    @Table(name = &quot;course&quot;)\r\n    class Course(\r\n        @Column(name = &quot;title&quot;)\r\n        var title: String? = null,\r\n        @OneToMany(cascade = [CascadeType.PERSIST])\r\n        @JoinColumn(name = &quot;course_id&quot;, updatable = false)\r\n        val reviews: MutableList&lt;Review&gt; = mutableListOf()\r\n    ) {\r\n\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;id&quot;)\r\n        var id: Int? = null\r\n\r\n    }","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>From my experiments, since I have struggled with this for a couple hours, using <code>updatable = false</code> in the @JoinColumn will prevent Hibernate from doing</p>\n<pre><code>update theTable set theReference = null where theIdentifier = ?\n</code></pre>\n<p>For example (in Kotlin):</p>\n<pre><code>@Entity\n@Table(name = &quot;course&quot;)\nclass Course(\n    @Column(name = &quot;title&quot;)\n    var title: String? = null,\n    @OneToMany(cascade = [CascadeType.PERSIST])\n    @JoinColumn(name = &quot;course_id&quot;, updatable = false)\n    val reviews: MutableList&lt;Review&gt; = mutableListOf()\n) {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    var id: Int? = null\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21662503,"reputation":69,"user_id":15981431,"display_name":"Jonathan Mark Mwigo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686281148,"creation_date":1686281148,"answer_id":76437016,"question_id":19686941,"body_markdown":"A few days back I was looking for solutions here about deleting child rows on deleting parent row(Casacading Deletes), I seem to have solved it on a project am currently working on. I use Casade.ALL for my bidirectional many-to-one relationship.\r\nSolution:\r\n```\r\n// Parent Entity.\r\n@Entity\r\npublic class Parent implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;)\r\n    private List&lt;RequisitionDetail&gt; children = new LinkedList&lt;&gt;();\r\n    ...\r\n    // Getters &amp; Setters.\r\n    ...\r\n}\r\n\r\n// Child Entity.\r\n@Entity\r\npublic class Child implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n\r\n    @ManyToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;parent_id&quot;)\r\n    private Parent parent;\r\n    ...\r\n    // Getters &amp; Setters.\r\n    ...\r\n}\r\n\r\n// Save your entities as below.\r\npublic void requisitionInsert() {\r\n    try {\r\n        Parent parent = new Parent();\r\n        Child child = new Child();\r\n        List&lt;Child&gt; children = new LinkedList&lt;&gt;();\r\n        ...\r\n        // Add parent to child\r\n        child.setParent(parent);\r\n        // Add child to list\r\n        children.add(child);\r\n        // Add children list to parent \r\n        parent.setChilds(children);\r\n        // Save parent entity\r\n        ParentDao.saveParent(parent);\r\n    } catch (Exception e) {\r\n        throw new RuntimeException();\r\n    }\r\n}\r\n```\r\n\r\nMy cascading deletes failed at first since my parent rows had no child rows and doing it this way sloved my errors and cascading deletes work fine too.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>A few days back I was looking for solutions here about deleting child rows on deleting parent row(Casacading Deletes), I seem to have solved it on a project am currently working on. I use Casade.ALL for my bidirectional many-to-one relationship.\nSolution:</p>\n<pre><code>// Parent Entity.\n@Entity\npublic class Parent implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private int id;\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;parent&quot;)\n    private List&lt;RequisitionDetail&gt; children = new LinkedList&lt;&gt;();\n    ...\n    // Getters &amp; Setters.\n    ...\n}\n\n// Child Entity.\n@Entity\npublic class Child implements Serializable {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long id;\n\n    @ManyToOne(cascade = CascadeType.ALL)\n    @JoinColumn(name = &quot;parent_id&quot;)\n    private Parent parent;\n    ...\n    // Getters &amp; Setters.\n    ...\n}\n\n// Save your entities as below.\npublic void requisitionInsert() {\n    try {\n        Parent parent = new Parent();\n        Child child = new Child();\n        List&lt;Child&gt; children = new LinkedList&lt;&gt;();\n        ...\n        // Add parent to child\n        child.setParent(parent);\n        // Add child to list\n        children.add(child);\n        // Add children list to parent \n        parent.setChilds(children);\n        // Save parent entity\n        ParentDao.saveParent(parent);\n    } catch (Exception e) {\n        throw new RuntimeException();\n    }\n}\n</code></pre>\n<p>My cascading deletes failed at first since my parent rows had no child rows and doing it this way sloved my errors and cascading deletes work fine too.</p>\n"}],"owner":{"account_id":63571,"reputation":14881,"user_id":188107,"accept_rate":63,"display_name":"musiKk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23486,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":8,"score":22,"last_activity_date":1686281148,"creation_date":1383146737,"question_id":19686941,"body_markdown":"I have some tables managed by Hibernate with various foreign key constraints. Cascade on delete is currently managed by Hibernate alone. For playing around with test data I often create and remove some rows by hand. It would help me a lot if I could add ON DELETE CASCADE to the foreign key constraints but I don&#39;t know if Hibernate trips over this because the database removes stuff before Hibernate does.\r\n\r\n&lt;hr&gt;\r\n\r\nA lot of people seem to concentrate on DDL. My intention is __not__ to instruct Hibernate to create DDL with SQL DELETE CASCADES. I just want to know if it does any harm if I specify an ON DELETE CASCADE in the database __in addition__ to having JPA&#39;s `cascade = CascadeType.REMOVE` on the reference annotation, e.g., `@ManyToOne`.","title":"Can I add &#39;ON DELETE CASCADE&#39; to tables managed by Hibernate?","body":"<p>I have some tables managed by Hibernate with various foreign key constraints. Cascade on delete is currently managed by Hibernate alone. For playing around with test data I often create and remove some rows by hand. It would help me a lot if I could add ON DELETE CASCADE to the foreign key constraints but I don't know if Hibernate trips over this because the database removes stuff before Hibernate does.</p>\n\n<hr>\n\n<p>A lot of people seem to concentrate on DDL. My intention is <strong>not</strong> to instruct Hibernate to create DDL with SQL DELETE CASCADES. I just want to know if it does any harm if I specify an ON DELETE CASCADE in the database <strong>in addition</strong> to having JPA's <code>cascade = CascadeType.REMOVE</code> on the reference annotation, e.g., <code>@ManyToOne</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":2,"creation_date":1686280113,"post_id":76436886,"comment_id":134780413,"body_markdown":"I have a feeling that this question is going to be closed for being too broad, but you might be able to save it by specifying exactly what it is that is confusing you about JDK. The more specific a question you ask on this site, the better the chance of getting a good answer. If you ask for a definition, people are just going to tell you to google it, which you have already done. This only leaves the question of why you&#39;re not happy with what you already researched.","body":"I have a feeling that this question is going to be closed for being too broad, but you might be able to save it by specifying exactly what it is that is confusing you about JDK. The more specific a question you ask on this site, the better the chance of getting a good answer. If you ask for a definition, people are just going to tell you to google it, which you have already done. This only leaves the question of why you&#39;re not happy with what you already researched."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686283878,"post_id":76436886,"comment_id":134780705,"body_markdown":"*&quot;Please tell me your opinions.&quot;* - Also, note that questions that ask for opinion-based answers are off-topic.  As per the closure reason given above.","body":"<i>&quot;Please tell me your opinions.&quot;</i> - Also, note that questions that ask for opinion-based answers are off-topic.  As per the closure reason given above."},{"owner":{"account_id":28784332,"reputation":3,"user_id":22045205,"display_name":"Joon Lim"},"score":0,"creation_date":1686283989,"post_id":76436886,"comment_id":134780721,"body_markdown":"Thank you! And, yes, I do agree with you that my question is too broad(or ambiguous). Maybe this is first time to make a question by stack overflow, I made mistakes. Thank you for recommend me how to ask questions, I&#39;d better follow your suggestion.","body":"Thank you! And, yes, I do agree with you that my question is too broad(or ambiguous). Maybe this is first time to make a question by stack overflow, I made mistakes. Thank you for recommend me how to ask questions, I&#39;d better follow your suggestion."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686284013,"post_id":76436886,"comment_id":134780725,"body_markdown":"*&quot;... why developers usually use jdk1.8?&quot;* - Usually because they are too lazy to learn newer stuff, or they are too lazy to update their old project dependencies.  (In my opinion :-) )","body":"<i>&quot;... why developers usually use jdk1.8?&quot;</i> - Usually because they are too lazy to learn newer stuff, or they are too lazy to update their old project dependencies.  (In my opinion :-) )"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686284080,"post_id":76436886,"comment_id":134780734,"body_markdown":"There are articles in the [Help Center](https://stackoverflow.com/help) that directly answer that.","body":"There are articles in the <a href=\"https://stackoverflow.com/help\">Help Center</a> that directly answer that."}],"answers":[{"tags":[],"owner":{"account_id":16588824,"reputation":1,"user_id":11987473,"display_name":"xiaoalex"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686280107,"creation_date":1686280107,"answer_id":76436957,"question_id":76436886,"body_markdown":"There came up a lot of changes and new features when jdk1.7 upgraded to jdk1.8. Such as lamda and funtional programming.Also, there are a lot of optimizations on jdk utilities like implementation of hashmap.Coding with jkd1.8 can be a big convinience comparing to with jdk1.7.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>There came up a lot of changes and new features when jdk1.7 upgraded to jdk1.8. Such as lamda and funtional programming.Also, there are a lot of optimizations on jdk utilities like implementation of hashmap.Coding with jkd1.8 can be a big convinience comparing to with jdk1.7.</p>\n"},{"tags":[],"owner":{"account_id":6111489,"reputation":117,"user_id":16221865,"display_name":"rioswarawan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686280151,"creation_date":1686280151,"answer_id":76436963,"question_id":76436886,"body_markdown":"It&#39;s a Java version 8. But it&#39;s deprecated now, here&#39;s the list of [java versions][1]. The why developers use java 8, maybe when you looking for tutorials they created it when java 8 is still exists.\r\n\r\nI suggest to use minimum version 11 or 17 LTS instead. For the features, Java 11 is similar to Java 8. But Java 17 has much more features.\r\n\r\n\r\n  [1]: https://www.java.com/releases/","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>It's a Java version 8. But it's deprecated now, here's the list of <a href=\"https://www.java.com/releases/\" rel=\"nofollow noreferrer\">java versions</a>. The why developers use java 8, maybe when you looking for tutorials they created it when java 8 is still exists.</p>\n<p>I suggest to use minimum version 11 or 17 LTS instead. For the features, Java 11 is similar to Java 8. But Java 17 has much more features.</p>\n"},{"tags":[],"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686281078,"creation_date":1686281078,"answer_id":76437011,"question_id":76436886,"body_markdown":"The concepts\r\n------------\r\n\r\n**JRE (Java Runtime Environment)** provides basic/standard libraries, JVM and other basic components that run your compiled code in the machine.\r\n\r\n**JDK (Java Development Kit)** can be seen as an extended version of the JRE which in addition to what the JRE provides is also capable to compile your source code into byte-code understandable by the JVM, debugging tools and other things that are helpful during development phase.\r\n\r\nWhat is JDK1.8\r\n---\r\nIt is just one of the many versions of the JDK. Having big improvements from It&#39;s predecessor JDK1.7 with new features such as lambda expressions, Streams support, among others it impulse the language towards a more friendly approach to functional programming style, among other improvements.\r\n\r\nWhy JDK1.8\r\n---\r\nA few years back it became &quot;the new thing&quot;, to the point that many frameworks started cutting support for older versions of Java, and it became the preferred environment to use. \r\n\r\nHowever it **should not be seen as an standard** since technology is a fast evolving environment, and newer versions will always boost performance, have more interesting features that boost your productivity, etc.\r\n\r\nCurrent status (2023)\r\n---\r\nJava 8 (and JDK 1.8) do not receive any new features, or patches for security updates, so that is one of the reasons I wouldn&#39;t call it an standard, even though is probably still largely used.\r\n\r\nAlways keep an eye to the end of life dates of versions and also the newer versions releases: https://en.wikipedia.org/wiki/Java_version_history\r\n\r\nEspecially look at the LTS (Long Term Support) releases as those will receive support for extended periods, while other versions will test-out new features.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<h2>The concepts</h2>\n<p><strong>JRE (Java Runtime Environment)</strong> provides basic/standard libraries, JVM and other basic components that run your compiled code in the machine.</p>\n<p><strong>JDK (Java Development Kit)</strong> can be seen as an extended version of the JRE which in addition to what the JRE provides is also capable to compile your source code into byte-code understandable by the JVM, debugging tools and other things that are helpful during development phase.</p>\n<h2>What is JDK1.8</h2>\n<p>It is just one of the many versions of the JDK. Having big improvements from It's predecessor JDK1.7 with new features such as lambda expressions, Streams support, among others it impulse the language towards a more friendly approach to functional programming style, among other improvements.</p>\n<h2>Why JDK1.8</h2>\n<p>A few years back it became &quot;the new thing&quot;, to the point that many frameworks started cutting support for older versions of Java, and it became the preferred environment to use.</p>\n<p>However it <strong>should not be seen as an standard</strong> since technology is a fast evolving environment, and newer versions will always boost performance, have more interesting features that boost your productivity, etc.</p>\n<h2>Current status (2023)</h2>\n<p>Java 8 (and JDK 1.8) do not receive any new features, or patches for security updates, so that is one of the reasons I wouldn't call it an standard, even though is probably still largely used.</p>\n<p>Always keep an eye to the end of life dates of versions and also the newer versions releases: <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Java_version_history</a></p>\n<p>Especially look at the LTS (Long Term Support) releases as those will receive support for extended periods, while other versions will test-out new features.</p>\n"}],"owner":{"account_id":28784332,"reputation":3,"user_id":22045205,"display_name":"Joon Lim"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1686281741,"accepted_answer_id":76437011,"answer_count":3,"score":-2,"last_activity_date":1686281078,"creation_date":1686279045,"question_id":76436886,"body_markdown":"As a beginner of backend developer, there are many senior developers ask me what is the jdk. I simply answerd the jdk is java development kit, it helps developer to make java-based program and includes jre and jvm that can run java program on computer.\r\n\r\nBefore ask question at Stack Overflow, I&#39;ve looked up what is jdk and why we usually use jdk1.8. However, I cannot find clear answer(maybe I&#39;m not enough clever to understand what I found). Also, there are some answers that jdk is Java8 or some other version of Java. These kind of answers make me confused a lot.\r\n\r\nAnyway, would you kindly answer me what is jdk and why developers usually use jdk1.8? Please tell me your opinions.\r\n\r\np.s) I&#39;m a junior developer and I&#39;ve been worked as a backend developer about an year. \r\n\r\nI googled the jdk and looked up some information about jdk at oracle.net and the wikipedia. After understanding the definition of jdk, I hope to listen more clear answers from senior developers.","title":"What is the jdk1.8 and why developers usually use the jdk1.8?","body":"<p>As a beginner of backend developer, there are many senior developers ask me what is the jdk. I simply answerd the jdk is java development kit, it helps developer to make java-based program and includes jre and jvm that can run java program on computer.</p>\n<p>Before ask question at Stack Overflow, I've looked up what is jdk and why we usually use jdk1.8. However, I cannot find clear answer(maybe I'm not enough clever to understand what I found). Also, there are some answers that jdk is Java8 or some other version of Java. These kind of answers make me confused a lot.</p>\n<p>Anyway, would you kindly answer me what is jdk and why developers usually use jdk1.8? Please tell me your opinions.</p>\n<p>p.s) I'm a junior developer and I've been worked as a backend developer about an year.</p>\n<p>I googled the jdk and looked up some information about jdk at oracle.net and the wikipedia. After understanding the definition of jdk, I hope to listen more clear answers from senior developers.</p>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":1628094,"reputation":22417,"user_id":1503155,"accept_rate":80,"display_name":"Lazy Ninja"},"score":1,"creation_date":1352788304,"post_id":13353215,"comment_id":18231194,"body_markdown":"+1 for the effort and some useful tips. Yes using VideoView you can build a player and can customize the controls too. I want to create a custom class like the MediaPlayer class which is a little a complex.","body":"+1 for the effort and some useful tips. Yes using VideoView you can build a player and can customize the controls too. I want to create a custom class like the MediaPlayer class which is a little a complex."}],"tags":[],"owner":{"account_id":896531,"reputation":171,"user_id":933666,"display_name":"frijj2k"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1352762216,"creation_date":1352762216,"answer_id":13353215,"question_id":12175259,"body_markdown":"You could use VideoView on it&#39;s own and call it&#39;s methods to control playback such as **start()**, **stopPlayback()**, **pause()**, **resume()**, **seekTo()** etc. (*See class reference here:* [http://developer.android.com/reference/android/widget/VideoView.html][1])\r\n\r\nJust create your on-screen controls however you want (buttons/images) and bind your playback control code code to their events.\r\n\r\nYou will also want to disable the inbuilt VideoView controls by removing the touchable property in the layout.xml...\r\n\r\n    &lt;VideoView \r\n        android:id=&quot;@+id/myVideoView&quot; \r\n        android:layout_width=&quot;fill_parent&quot; \r\n        android:layout_height=&quot;wrap_content&quot; \r\n        android:clickable=&quot;false&quot; &gt;\r\n\r\n  [1]: http://developer.android.com/reference/android/widget/VideoView.html","title":"Custom MediaPlayer class in android","body":"<p>You could use VideoView on it's own and call it's methods to control playback such as <strong>start()</strong>, <strong>stopPlayback()</strong>, <strong>pause()</strong>, <strong>resume()</strong>, <strong>seekTo()</strong> etc. (<em>See class reference here:</em> <a href=\"http://developer.android.com/reference/android/widget/VideoView.html\" rel=\"nofollow\">http://developer.android.com/reference/android/widget/VideoView.html</a>)</p>\n\n<p>Just create your on-screen controls however you want (buttons/images) and bind your playback control code code to their events.</p>\n\n<p>You will also want to disable the inbuilt VideoView controls by removing the touchable property in the layout.xml...</p>\n\n<pre><code>&lt;VideoView \n    android:id=\"@+id/myVideoView\" \n    android:layout_width=\"fill_parent\" \n    android:layout_height=\"wrap_content\" \n    android:clickable=\"false\" &gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7422340,"reputation":2446,"user_id":5646176,"accept_rate":50,"display_name":"RonTLV"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1530705458,"creation_date":1530705458,"answer_id":51173144,"question_id":12175259,"body_markdown":"I recommend using VLC as it support nearly all video formats, and of-course streaming.\r\nYou can try to pick up on a pre-compiled libvlc AAR file from github or compile VLC by yourself: [AndroidCompile](https://wiki.videolan.org/AndroidCompile/).\r\n\r\nExample of pre-compiled libvlc you can find here:\r\nhttps://github.com/mrmaffen/vlc-android-sdk\r\n\r\nThis is not the latest version by I believe it will be good for your needs. Next you will will need to create the code around the library. Example:\r\nhttps://github.com/Ivshti/libvlc-android-sample","title":"Custom MediaPlayer class in android","body":"<p>I recommend using VLC as it support nearly all video formats, and of-course streaming.\nYou can try to pick up on a pre-compiled libvlc AAR file from github or compile VLC by yourself: <a href=\"https://wiki.videolan.org/AndroidCompile/\" rel=\"nofollow noreferrer\">AndroidCompile</a>.</p>\n\n<p>Example of pre-compiled libvlc you can find here:\n<a href=\"https://github.com/mrmaffen/vlc-android-sdk\" rel=\"nofollow noreferrer\">https://github.com/mrmaffen/vlc-android-sdk</a></p>\n\n<p>This is not the latest version by I believe it will be good for your needs. Next you will will need to create the code around the library. Example:\n<a href=\"https://github.com/Ivshti/libvlc-android-sample\" rel=\"nofollow noreferrer\">https://github.com/Ivshti/libvlc-android-sample</a></p>\n"},{"tags":[],"owner":{"account_id":26066873,"reputation":22,"user_id":19767189,"display_name":"Will Shaw"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686280243,"creation_date":1686280243,"answer_id":76436968,"question_id":12175259,"body_markdown":"This may not help but you can I know for music players you just create java class, and create your mediaplayer, name public your name extends mediaplayer. Refer to Vanilla music github, search for vanilla music player and copy class to your app and Change a few things like requesting audio effects, for equaliser I put custom stuff in onprepared for my class, and incompletetion listener, then simply change the Mediaplayer player = new Mediaplayer, with For e.g. my name I used from vanilla mediaplayer so then say VanillaMediaplayer player or variable = new VanillaMediaplayer it helps also do less work, then use as you wish, hope this helps.","title":"Custom MediaPlayer class in android","body":"<p>This may not help but you can I know for music players you just create java class, and create your mediaplayer, name public your name extends mediaplayer. Refer to Vanilla music github, search for vanilla music player and copy class to your app and Change a few things like requesting audio effects, for equaliser I put custom stuff in onprepared for my class, and incompletetion listener, then simply change the Mediaplayer player = new Mediaplayer, with For e.g. my name I used from vanilla mediaplayer so then say VanillaMediaplayer player or variable = new VanillaMediaplayer it helps also do less work, then use as you wish, hope this helps.</p>\n"}],"owner":{"account_id":1628094,"reputation":22417,"user_id":1503155,"accept_rate":80,"display_name":"Lazy Ninja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2231,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1686280243,"creation_date":1346234101,"question_id":12175259,"body_markdown":"I have just finished a project where I use a webwiew for video playback. Now I am asked to replace the webview part with a custom player. The player should be capable to handle HLS.\r\n\r\nIf I use VideoView and MediaController, I can play live stream. But unfortunately, the MediaController has its own controls. I want my own controls and thats where I am stuck.\r\n\r\nSo far I tried:\r\n\r\n 1. To write the MediaController class all over again and try to change\r\n    the layout. It didnt work because I could not clear all the errors\r\n    due to the dependencies.\r\n 2. I tried using vidtry code (http://github.com/commonsguy/vidtry) for\r\n    reference but no luck.\r\n 3. I tried to build a class that extends MediaController but that didnt\r\n    work either.\r\n\r\nI have been in almost every thread on Stackoverflow regarding custom media player but couldnt find information to get me started.&lt;br&gt;\r\nIs it possible to create a custom media player class without using NDK?&lt;br&gt;\r\nIf someone knows how to create a custom media player class, please help me.&lt;br&gt;","title":"Custom MediaPlayer class in android","body":"<p>I have just finished a project where I use a webwiew for video playback. Now I am asked to replace the webview part with a custom player. The player should be capable to handle HLS.</p>\n\n<p>If I use VideoView and MediaController, I can play live stream. But unfortunately, the MediaController has its own controls. I want my own controls and thats where I am stuck.</p>\n\n<p>So far I tried:</p>\n\n<ol>\n<li>To write the MediaController class all over again and try to change\nthe layout. It didnt work because I could not clear all the errors\ndue to the dependencies.</li>\n<li>I tried using vidtry code (<a href=\"http://github.com/commonsguy/vidtry\" rel=\"nofollow noreferrer\">http://github.com/commonsguy/vidtry</a>) for\nreference but no luck.</li>\n<li>I tried to build a class that extends MediaController but that didnt\nwork either.</li>\n</ol>\n\n<p>I have been in almost every thread on Stackoverflow regarding custom media player but couldnt find information to get me started.<br>\nIs it possible to create a custom media player class without using NDK?<br>\nIf someone knows how to create a custom media player class, please help me.<br></p>\n"},{"tags":["java","memory","garbage-collection","g1gc"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1686271366,"post_id":76436415,"comment_id":134779765,"body_markdown":"Use `-XX:+PrintFlagsFinal` to print out the actual flags ... and to confirm your assumptions about the defaults.","body":"Use <code>-XX:+PrintFlagsFinal</code> to print out the actual flags ... and to confirm your assumptions about the defaults."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1686271426,"post_id":76436415,"comment_id":134779772,"body_markdown":"Also, note that running the GC periodically won&#39;t cure a (real) memory leak.","body":"Also, note that running the GC periodically won&#39;t cure a (real) memory leak."}],"answers":[{"tags":[],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686279449,"creation_date":1686279449,"answer_id":76436916,"question_id":76436415,"body_markdown":"Thanks @StephenC for the comment to my question! I have tried `-XX:+PrintFlagsFinal` and it confirms your suspicion:\r\n\r\n```\r\n$ journalctl -u myapp|grep Periodic\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: uintx G1PeriodicGCInterval                     = 600000                                 {manageable} {command line}\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: bool G1PeriodicGCInvokesConcurrent            = true                                      {product} {default}\r\n 6月 09 11:48:27 filinux01 start-nnd[86668]: double G1PeriodicGCSystemLoadThreshold          = 0.900000                               {manageable} {command line}\r\n```\r\n\r\nSo I added `-XX:-G1PeriodicGCInvokesConcurrent` to the jvm arguments and now it works as expected:\r\n```\r\n[0.006s][info][gc] Using G1\r\n[0.527s][info][gc] GC(0) Pause Young (Normal) (G1 Evacuation Pause) 39M-&gt;13M(776M) 3.500ms\r\n[12.049s][info][gc] GC(1) Pause Full (G1 Periodic Collection) 24M-&gt;13M(136M) 15.156ms\r\n[18.075s][info][gc] GC(2) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 25.214ms\r\n[24.098s][info][gc] GC(3) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 20.581ms\r\n```","title":"How to make G1 do periodic full GCs?","body":"<p>Thanks @StephenC for the comment to my question! I have tried <code>-XX:+PrintFlagsFinal</code> and it confirms your suspicion:</p>\n<pre><code>$ journalctl -u myapp|grep Periodic\n 6月 09 11:48:27 filinux01 start-nnd[86668]: uintx G1PeriodicGCInterval                     = 600000                                 {manageable} {command line}\n 6月 09 11:48:27 filinux01 start-nnd[86668]: bool G1PeriodicGCInvokesConcurrent            = true                                      {product} {default}\n 6月 09 11:48:27 filinux01 start-nnd[86668]: double G1PeriodicGCSystemLoadThreshold          = 0.900000                               {manageable} {command line}\n</code></pre>\n<p>So I added <code>-XX:-G1PeriodicGCInvokesConcurrent</code> to the jvm arguments and now it works as expected:</p>\n<pre><code>[0.006s][info][gc] Using G1\n[0.527s][info][gc] GC(0) Pause Young (Normal) (G1 Evacuation Pause) 39M-&gt;13M(776M) 3.500ms\n[12.049s][info][gc] GC(1) Pause Full (G1 Periodic Collection) 24M-&gt;13M(136M) 15.156ms\n[18.075s][info][gc] GC(2) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 25.214ms\n[24.098s][info][gc] GC(3) Pause Full (G1 Periodic Collection) 13M-&gt;13M(80M) 20.581ms\n</code></pre>\n"},{"comments":[{"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"score":1,"creation_date":1686281507,"post_id":76436951,"comment_id":134780521,"body_markdown":"Thanks. Regarding changing the default configuration, I refer you to https://openjdk.org/jeps/346 to see why this can be useful. In particular: `Since G1 tries hard to completely avoid full GCs, and only triggers a concurrent cycle based on Java heap occupancy and allocation activity, it will not return Java heap memory in many cases unless forced to do so externally. [,.] Even during phases where the VM only uses a fraction of its assigned memory resources due to inactivity, G1 will retain all of the Java heap.`","body":"Thanks. Regarding changing the default configuration, I refer you to <a href=\"https://openjdk.org/jeps/346\" rel=\"nofollow noreferrer\">openjdk.org/jeps/346</a> to see why this can be useful. In particular: <code>Since G1 tries hard to completely avoid full GCs, and only triggers a concurrent cycle based on Java heap occupancy and allocation activity, it will not return Java heap memory in many cases unless forced to do so externally. [,.] Even during phases where the VM only uses a fraction of its assigned memory resources due to inactivity, G1 will retain all of the Java heap.</code>"},{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1686304769,"post_id":76436951,"comment_id":134783738,"body_markdown":"This doesn&#39;t mean that there is a problem with it. It is working as designed. Look that the GC time increased 20+ times because of doing full GC.","body":"This doesn&#39;t mean that there is a problem with it. It is working as designed. Look that the GC time increased 20+ times because of doing full GC."}],"tags":[],"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686279975,"creation_date":1686279975,"answer_id":76436951,"question_id":76436415,"body_markdown":"You don&#39;t have a memory leak, otherwise it would not fully shrunk and you would have an Out of Memory error and/or high CPU usage in the collector. \r\n\r\nYou should not try to change the default configuration of the garbage collector. Increasing the number of full GCs will impact performance for no reason or gain. The garbage collector algorithm is complex and runs full GC only if it is needed. Nothing that you mention indicates a need. Most improvements in Java GC algorithms are to reduce the need for full GC, which impacts performance. Changing the configurations needs to be done with understanding of each configuration and fully testing performance of each change.\r\n\r\nInstead analyze the heap dumps you are taking to understand what may be using that memory. Note that heap dump analysis requires understanding of Java heap memory use by objects and references. ","title":"How to make G1 do periodic full GCs?","body":"<p>You don't have a memory leak, otherwise it would not fully shrunk and you would have an Out of Memory error and/or high CPU usage in the collector.</p>\n<p>You should not try to change the default configuration of the garbage collector. Increasing the number of full GCs will impact performance for no reason or gain. The garbage collector algorithm is complex and runs full GC only if it is needed. Nothing that you mention indicates a need. Most improvements in Java GC algorithms are to reduce the need for full GC, which impacts performance. Changing the configurations needs to be done with understanding of each configuration and fully testing performance of each change.</p>\n<p>Instead analyze the heap dumps you are taking to understand what may be using that memory. Note that heap dump analysis requires understanding of Java heap memory use by objects and references.</p>\n"}],"owner":{"account_id":364905,"reputation":18691,"user_id":709537,"accept_rate":72,"display_name":"Evgeniy Berezovsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76436916,"answer_count":2,"score":1,"last_activity_date":1686279975,"creation_date":1686269250,"question_id":76436415,"body_markdown":"The allocated memory of our Java app (as verified using `top`) continuously grows as days pass, to 8 GB and more.\r\n\r\nWhen taking a heap dump to figure out whether there was a leak like so:\r\n```\r\njmap -dump:live,format=b,file=/tmp/myapp.hprof 17393\r\n```\r\nI noticed that after taking the dump, memory allocation shrunk considerably. The reason was found in the gc log. See the second line here:\r\n```\r\n[781944.122s][info][gc] GC(412) Pause Young (Normal) (G1 Evacuation Pause) 3948M-&gt;1021M(5256M) 38.430ms\r\n[782877.123s][info][gc] GC(413) Pause Full (Heap Dump Initiated GC) 3929M-&gt;471M(1712M) 200.948ms\r\n```\r\n\r\nSo my idea was to make G1 do a full heap dump periodically (1 minute interval for testing only), like so:\r\n```\r\njava -XX:G1PeriodicGCInterval=60000 -XX:G1PeriodicGCSystemLoadThreshold=0.9 ...\r\n```\r\n\r\nNow when I check the logs, periodic GCs are being done when conditions are met, but they aren&#39;t full GCs:\r\n```\r\n[240.042s][info][gc] GC(12) Pause Young (Concurrent Start) (G1 Periodic Collection) 405M-&gt;404M(2328M) 16.047ms\r\n[240.042s][info][gc] GC(13) Concurrent Mark Cycle\r\n[240.343s][info][gc] GC(13) Pause Remark 404M-&gt;388M(1360M) 2.564ms\r\n[240.479s][info][gc] GC(13) Pause Cleanup 389M-&gt;389M(1360M) 0.106ms\r\n[240.485s][info][gc] GC(13) Concurrent Mark Cycle 442.918ms\r\n\r\n[300.043s][info][gc] GC(14) Pause Young (Prepare Mixed) (G1 Periodic Collection) 392M-&gt;386M(1360M) 0.882ms\r\n\r\n[360.047s][info][gc] GC(15) Pause Young (Mixed) (G1 Periodic Collection) 390M-&gt;378M(1360M) 1.824ms\r\n\r\n[420.049s][info][gc] GC(16) Pause Young (Concurrent Start) (G1 Periodic Collection) 383M-&gt;378M(1360M) 1.144ms\r\n[420.049s][info][gc] GC(17) Concurrent Mark Cycle\r\n[420.382s][info][gc] GC(17) Pause Remark 378M-&gt;378M(1360M) 1.080ms\r\n[420.489s][info][gc] GC(17) Pause Cleanup 378M-&gt;378M(1360M) 0.105ms\r\n[420.495s][info][gc] GC(17) Concurrent Mark Cycle 445.553ms\r\n```\r\n\r\nThe [G1 tuning docs](https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-garbage-collector-tuning.html#GUID-379B3888-FE24-4C3F-9E38-26434EB04F89) state:\r\n&gt; -XX:+G1PeriodicGCInvokesConcurrent \t\r\n&gt; \r\n&gt; If set, periodic garbage collections trigger a concurrent marking or continue the existing collection cycle, otherwise trigger a Full GC.\r\n\r\nAs I am not setting `G1PeriodicGCInvokesConcurrent`, I would expect full GCs. What am I missing?\r\n\r\nN.B. This is Java 17:\r\n```\r\n$ java -version\r\nopenjdk version &quot;17.0.7&quot; 2023-04-18 LTS\r\nOpenJDK Runtime Environment Corretto-17.0.7.7.1 (build 17.0.7+7-LTS)\r\nOpenJDK 64-Bit Server VM Corretto-17.0.7.7.1 (build 17.0.7+7-LTS, mixed mode, sharing)\r\n```","title":"How to make G1 do periodic full GCs?","body":"<p>The allocated memory of our Java app (as verified using <code>top</code>) continuously grows as days pass, to 8 GB and more.</p>\n<p>When taking a heap dump to figure out whether there was a leak like so:</p>\n<pre><code>jmap -dump:live,format=b,file=/tmp/myapp.hprof 17393\n</code></pre>\n<p>I noticed that after taking the dump, memory allocation shrunk considerably. The reason was found in the gc log. See the second line here:</p>\n<pre><code>[781944.122s][info][gc] GC(412) Pause Young (Normal) (G1 Evacuation Pause) 3948M-&gt;1021M(5256M) 38.430ms\n[782877.123s][info][gc] GC(413) Pause Full (Heap Dump Initiated GC) 3929M-&gt;471M(1712M) 200.948ms\n</code></pre>\n<p>So my idea was to make G1 do a full heap dump periodically (1 minute interval for testing only), like so:</p>\n<pre><code>java -XX:G1PeriodicGCInterval=60000 -XX:G1PeriodicGCSystemLoadThreshold=0.9 ...\n</code></pre>\n<p>Now when I check the logs, periodic GCs are being done when conditions are met, but they aren't full GCs:</p>\n<pre><code>[240.042s][info][gc] GC(12) Pause Young (Concurrent Start) (G1 Periodic Collection) 405M-&gt;404M(2328M) 16.047ms\n[240.042s][info][gc] GC(13) Concurrent Mark Cycle\n[240.343s][info][gc] GC(13) Pause Remark 404M-&gt;388M(1360M) 2.564ms\n[240.479s][info][gc] GC(13) Pause Cleanup 389M-&gt;389M(1360M) 0.106ms\n[240.485s][info][gc] GC(13) Concurrent Mark Cycle 442.918ms\n\n[300.043s][info][gc] GC(14) Pause Young (Prepare Mixed) (G1 Periodic Collection) 392M-&gt;386M(1360M) 0.882ms\n\n[360.047s][info][gc] GC(15) Pause Young (Mixed) (G1 Periodic Collection) 390M-&gt;378M(1360M) 1.824ms\n\n[420.049s][info][gc] GC(16) Pause Young (Concurrent Start) (G1 Periodic Collection) 383M-&gt;378M(1360M) 1.144ms\n[420.049s][info][gc] GC(17) Concurrent Mark Cycle\n[420.382s][info][gc] GC(17) Pause Remark 378M-&gt;378M(1360M) 1.080ms\n[420.489s][info][gc] GC(17) Pause Cleanup 378M-&gt;378M(1360M) 0.105ms\n[420.495s][info][gc] GC(17) Concurrent Mark Cycle 445.553ms\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/gctuning/garbage-first-garbage-collector-tuning.html#GUID-379B3888-FE24-4C3F-9E38-26434EB04F89\" rel=\"nofollow noreferrer\">G1 tuning docs</a> state:</p>\n<blockquote>\n<p>-XX:+G1PeriodicGCInvokesConcurrent</p>\n<p>If set, periodic garbage collections trigger a concurrent marking or continue the existing collection cycle, otherwise trigger a Full GC.</p>\n</blockquote>\n<p>As I am not setting <code>G1PeriodicGCInvokesConcurrent</code>, I would expect full GCs. What am I missing?</p>\n<p>N.B. This is Java 17:</p>\n<pre><code>$ java -version\nopenjdk version &quot;17.0.7&quot; 2023-04-18 LTS\nOpenJDK Runtime Environment Corretto-17.0.7.7.1 (build 17.0.7+7-LTS)\nOpenJDK 64-Bit Server VM Corretto-17.0.7.7.1 (build 17.0.7+7-LTS, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","exception","project-reactor"],"answers":[{"comments":[{"owner":{"account_id":25024249,"reputation":1,"user_id":18882632,"display_name":"Mihan"},"score":0,"creation_date":1683773477,"post_id":76219377,"comment_id":134419013,"body_markdown":"This is not working. Exception occurred within Mono itself. Only subscribers will be notified, can&#39;t explicitly throw or catch the exception.","body":"This is not working. Exception occurred within Mono itself. Only subscribers will be notified, can&#39;t explicitly throw or catch the exception."},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1683791669,"post_id":76219377,"comment_id":134421449,"body_markdown":"@Mihan, but this is expected and this is how a reactor works. If you want to throw an exception out of the Mono scope, you should block your chain (that&#39;s not recommended). If you want to retry your code in case of RuntimeException in a reactive way just use in your chain the following operator: `.retryWhen(Retry.max(3).filter(e -&gt; e instanceof RuntimeException))` (it has flexible configurations).","body":"@Mihan, but this is expected and this is how a reactor works. If you want to throw an exception out of the Mono scope, you should block your chain (that&#39;s not recommended). If you want to retry your code in case of RuntimeException in a reactive way just use in your chain the following operator: <code>.retryWhen(Retry.max(3).filter(e -&gt; e instanceof RuntimeException))</code> (it has flexible configurations)."},{"owner":{"account_id":25024249,"reputation":1,"user_id":18882632,"display_name":"Mihan"},"score":0,"creation_date":1683882370,"post_id":76219377,"comment_id":134437694,"body_markdown":"@YevheniiSemenov yes that is correct. i already know that solution. My question is if any occurs no point of staying on mono scope. Just leave the scope and let spring to do the retry.  I can&#39;t block the scope because it has next level subscriber and if any exception not throwed next level subscriber need to get the Mono.","body":"@YevheniiSemenov yes that is correct. i already know that solution. My question is if any occurs no point of staying on mono scope. Just leave the scope and let spring to do the retry.  I can&#39;t block the scope because it has next level subscriber and if any exception not throwed next level subscriber need to get the Mono."},{"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"score":0,"creation_date":1683887146,"post_id":76219377,"comment_id":134438709,"body_markdown":"@Mihan I&#39;m afraid it cannot be done because the reactor was not designed to function this way.","body":"@Mihan I&#39;m afraid it cannot be done because the reactor was not designed to function this way."}],"tags":[],"owner":{"account_id":78088,"reputation":35600,"user_id":222467,"accept_rate":67,"display_name":"Igor Artamonov"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683727465,"creation_date":1683727465,"answer_id":76219377,"question_id":76218851,"body_markdown":"To produce an error you can use `Mono.error(throwable)`.\r\n\r\nBut the another problem in your code that you do the validation in `doOnNext`, which is not supposed to change the flow. Better to use `flatMap`.\r\n\r\nYou can do something like:\r\n\r\n    userService.getUser()\r\n                .flatMap(response -&gt; {\r\n                   try {\r\n                      validate(response.getData());\r\n                      return Mono.just(response);\r\n                   } catch (Throwable t) {\r\n                      return Mono.error(t);\r\n                   }\r\n                })","title":"How to throw an Error explicitly while processing Mono","body":"<p>To produce an error you can use <code>Mono.error(throwable)</code>.</p>\n<p>But the another problem in your code that you do the validation in <code>doOnNext</code>, which is not supposed to change the flow. Better to use <code>flatMap</code>.</p>\n<p>You can do something like:</p>\n<pre><code>userService.getUser()\n            .flatMap(response -&gt; {\n               try {\n                  validate(response.getData());\n                  return Mono.just(response);\n               } catch (Throwable t) {\n                  return Mono.error(t);\n               }\n            })\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9339990,"reputation":1712,"user_id":6933090,"display_name":"Yevhenii Semenov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683744631,"creation_date":1683744631,"answer_id":76221722,"question_id":76218851,"body_markdown":"The simplest way would be the following:\r\n```java\r\ngetUser()\r\n    .map(response -&gt; {\r\n        validate(response);\r\n        return response;\r\n    })\r\n```\r\n\r\nIf it&#39;s possible for you to make changes to the `validate` method, I would suggest doing it in the following manner:\r\n\r\n```java\r\ngetUser()\r\n    .handle((response, sink) -&gt; {\r\n        if (isValid(response)) {\r\n            sink.next(response);\r\n        } else {\r\n            sink.error(new RuntimeException(&quot;...&quot;));\r\n        }\r\n    })\r\n\r\n// where\r\npublic boolean isValid(User user) {\r\n    //...\r\n}\r\n```","title":"How to throw an Error explicitly while processing Mono","body":"<p>The simplest way would be the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getUser()\n    .map(response -&gt; {\n        validate(response);\n        return response;\n    })\n</code></pre>\n<p>If it's possible for you to make changes to the <code>validate</code> method, I would suggest doing it in the following manner:</p>\n<pre class=\"lang-java prettyprint-override\"><code>getUser()\n    .handle((response, sink) -&gt; {\n        if (isValid(response)) {\n            sink.next(response);\n        } else {\n            sink.error(new RuntimeException(&quot;...&quot;));\n        }\n    })\n\n// where\npublic boolean isValid(User user) {\n    //...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686279430,"creation_date":1686279430,"answer_id":76436915,"question_id":76218851,"body_markdown":"What if you try something like this:\r\n\r\n```java\r\n    public Mono&lt;Response&gt; handleResponse() {\r\n            return Mono.fromFuture(userService.getUser()\r\n                    .doOnNext(response -&gt; validate(response.getData()))\r\n                    .handle((response, throwable) -&gt; {\r\n                          if (throwable == null) {\r\n                              return response;\r\n                          } else {\r\n                              throw new RuntimeException();\r\n                          }\r\n                     });\r\n    }","title":"How to throw an Error explicitly while processing Mono","body":"<p>What if you try something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Mono&lt;Response&gt; handleResponse() {\n            return Mono.fromFuture(userService.getUser()\n                    .doOnNext(response -&gt; validate(response.getData()))\n                    .handle((response, throwable) -&gt; {\n                          if (throwable == null) {\n                              return response;\n                          } else {\n                              throw new RuntimeException();\n                          }\n                     });\n    }\n</code></pre>\n"}],"owner":{"account_id":25024249,"reputation":1,"user_id":18882632,"display_name":"Mihan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1686279430,"creation_date":1683724269,"question_id":76218851,"body_markdown":"I need to know how to throw an exception explicitly while executing the Mono. I&#39;m not able to subscribe, block Mono because it has end (down-stream) subscriber. Just need to validate the data and throw exception explicitly to perform retry.\r\n```\r\n    public Mono&lt;Response&gt; handleResponse() {\r\n\t\treturn userService.getUser()\r\n\t\t\t\t.doOnNext(response -&gt; validate(response.getData()))\r\n\t\t\t\t.onErrorResume(ex -&gt; {\r\n                    // not working\r\n\t\t\t\t\tthrow Exceptions.propagete(ex);\r\n\t\t\t\t});\r\n\t}\r\n\t\r\n\tprivate void validate() {\r\n        .....\r\n\t\tthrow new RuntimeException();\r\n\t}\r\n```\r\n\r\n```\r\n@Retyable(value = {RuntimeException.class})\r\n```\r\n\r\nIf no exception, it will return Mono to next level. I can use Mono retry itself but need to know is there any way to solve this. ","title":"How to throw an Error explicitly while processing Mono","body":"<p>I need to know how to throw an exception explicitly while executing the Mono. I'm not able to subscribe, block Mono because it has end (down-stream) subscriber. Just need to validate the data and throw exception explicitly to perform retry.</p>\n<pre><code>    public Mono&lt;Response&gt; handleResponse() {\n        return userService.getUser()\n                .doOnNext(response -&gt; validate(response.getData()))\n                .onErrorResume(ex -&gt; {\n                    // not working\n                    throw Exceptions.propagete(ex);\n                });\n    }\n    \n    private void validate() {\n        .....\n        throw new RuntimeException();\n    }\n</code></pre>\n<pre><code>@Retyable(value = {RuntimeException.class})\n</code></pre>\n<p>If no exception, it will return Mono to next level. I can use Mono retry itself but need to know is there any way to solve this.</p>\n"},{"tags":["java","android","android-recyclerview","runtime-error","searchview"],"comments":[{"owner":{"account_id":28784156,"reputation":1,"user_id":22045079,"display_name":"Adchayan Sivakumar"},"score":0,"creation_date":1686278459,"post_id":76436739,"comment_id":134780297,"body_markdown":"UPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java","body":"UPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java"}],"owner":{"account_id":28784156,"reputation":1,"user_id":22045079,"display_name":"Adchayan Sivakumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686278497,"creation_date":1686276154,"question_id":76436739,"body_markdown":"I have putted a search bar in homescreen, For that I need to place recyclerView only when a search happened, I haven&#39;t hide it in code, But it&#39;s not showing. I don&#39;t know why. also, I need to make it only visible when searching, So that my otherbuttons can stay there.\r\n\r\nAdapter class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.List;\r\n\r\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\r\nprivate List&lt;SearchItems&gt; results;\r\n\r\n    public MyAdapter(List&lt;SearchItems&gt; results) {\r\n        this.results = results;\r\n    }\r\n    \r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_search, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        SearchItems item = results.get(position);\r\n        holder.nameTextView.setText(item.getName());\r\n    \r\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // Perform action when the item is clicked\r\n                // You can access the selected item using the position parameter\r\n                SearchItems selectedItem = results.get(position);\r\n                String selectedName = selectedItem.getName();\r\n    \r\n                // Call your desired method or perform the necessary action with the selected item\r\n                performAction(selectedItem);\r\n            }\r\n        });\r\n    }\r\n    \r\n    @Override\r\n    public int getItemCount() {\r\n        return results.size();\r\n    }\r\n    \r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView nameTextView;\r\n    \r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            nameTextView = itemView.findViewById(R.id.text_name);\r\n        }\r\n    }\r\n    \r\n    private void performAction(SearchItems item) {\r\n        // Implement your desired action here\r\n        // This method will be called when an item is clicked\r\n        String link = item.getLink();\r\n        Character type = item.getType();\r\n        switch (type) {\r\n            case &#39;v&#39;:\r\n                // Video\r\n                // Add your video action here\r\n                break;\r\n            case &#39;a&#39;:\r\n                // Audio\r\n                // Add your audio action here\r\n                break;\r\n            case &#39;q&#39;:\r\n                // Quiz\r\n                // Add your quiz action here\r\n                break;\r\n            case &#39;e&#39;:\r\n                // Ebook\r\n                // Add your ebook action here\r\n                break;\r\n            default:\r\n                // Error or fallback action\r\n                break;\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nDatabase class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Database {\r\n    private List&lt;SearchItems&gt; myObjects;\r\n\r\n    public Database() {\r\n        myObjects = new ArrayList&lt;&gt;();\r\n        // Add objects to the database\r\n        //Grade 6 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 6 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 7 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 7 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 8 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 8 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 9 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 9 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 10 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 10 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=ict&quot;,&#39;v&#39;));\r\n        //Grade 11 Video\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=science&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=maths&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=tamil&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=english&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=history&quot;,&#39;v&#39;));\r\n        myObjects.add(new SearchItems(&quot;Grade 11 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=ict&quot;,&#39;v&#39;));\r\n    }\r\n\r\n    public List&lt;SearchItems&gt; searchObjects(String query) {\r\n        List&lt;SearchItems&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        for (SearchItems object : myObjects) {\r\n            if (object.getName().toLowerCase().contains(query.toLowerCase())) {\r\n                results.add(object);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n}\r\n```\r\n\r\nSearchItems Class:\r\n\r\n```\r\npackage com.jhc.ygc;\r\n\r\npublic class SearchItems {\r\n    private String name;\r\n    private String link;\r\n    private Character type; // AudioBook = a,Video = v, quiz=q,ebook=e (ONLY a,v,q,e)\r\n\r\n    public SearchItems(String name, String link,Character type) {\r\n        this.name = name;\r\n        this.link = link;\r\n        this.type = type;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getLink() {\r\n        return link;\r\n    }\r\n\r\n    public Character getType() {\r\n        return type;\r\n    }\r\n}\r\n```\r\n\r\nitem_search.xml:\r\n\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;200dp&quot;\r\n    android:gravity=&quot;center_vertical&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/text_name&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Item&quot;\r\n        android:textSize=&quot;20dp&quot;/&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\nPart of activity_main.xml:\r\n\r\n```\r\n&lt;SearchView\r\n        android:id=&quot;@+id/search_bar&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@drawable/search&quot;\r\n        android:orientation=&quot;vertical&quot; /&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recycler&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;200dp&quot;\r\n        android:visibility=&quot;visible&quot;\r\n        /&gt;\r\n```\r\n\r\nI tried to make many changes like LinearLayout manager, many suggestions in Stackoverflow and ChatGPT. Nothing worked.\r\n\r\nUPDATE: I also have one as home_fragment.java. it&#39;s in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java","title":"I want to show a recycler bar. But, it&#39;s not showing","body":"<p>I have putted a search bar in homescreen, For that I need to place recyclerView only when a search happened, I haven't hide it in code, But it's not showing. I don't know why. also, I need to make it only visible when searching, So that my otherbuttons can stay there.</p>\n<p>Adapter class:</p>\n<pre><code>package com.jhc.ygc;\n\nimport android.annotation.SuppressLint;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.List;\n\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.ViewHolder&gt; {\nprivate List&lt;SearchItems&gt; results;\n\n    public MyAdapter(List&lt;SearchItems&gt; results) {\n        this.results = results;\n    }\n    \n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.item_search, parent, false);\n        return new ViewHolder(view);\n    }\n    \n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        SearchItems item = results.get(position);\n        holder.nameTextView.setText(item.getName());\n    \n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // Perform action when the item is clicked\n                // You can access the selected item using the position parameter\n                SearchItems selectedItem = results.get(position);\n                String selectedName = selectedItem.getName();\n    \n                // Call your desired method or perform the necessary action with the selected item\n                performAction(selectedItem);\n            }\n        });\n    }\n    \n    @Override\n    public int getItemCount() {\n        return results.size();\n    }\n    \n    public class ViewHolder extends RecyclerView.ViewHolder {\n        TextView nameTextView;\n    \n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            nameTextView = itemView.findViewById(R.id.text_name);\n        }\n    }\n    \n    private void performAction(SearchItems item) {\n        // Implement your desired action here\n        // This method will be called when an item is clicked\n        String link = item.getLink();\n        Character type = item.getType();\n        switch (type) {\n            case 'v':\n                // Video\n                // Add your video action here\n                break;\n            case 'a':\n                // Audio\n                // Add your audio action here\n                break;\n            case 'q':\n                // Quiz\n                // Add your quiz action here\n                break;\n            case 'e':\n                // Ebook\n                // Add your ebook action here\n                break;\n            default:\n                // Error or fallback action\n                break;\n        }\n    }\n\n}\n</code></pre>\n<p>Database class:</p>\n<pre><code>package com.jhc.ygc;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Database {\n    private List&lt;SearchItems&gt; myObjects;\n\n    public Database() {\n        myObjects = new ArrayList&lt;&gt;();\n        // Add objects to the database\n        //Grade 6 Video\n        myObjects.add(new SearchItems(&quot;Grade 6 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 6 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=6&amp;subject=ict&quot;,'v'));\n        //Grade 7 Video\n        myObjects.add(new SearchItems(&quot;Grade 7 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 7 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=7&amp;subject=ict&quot;,'v'));\n        //Grade 8 Video\n        myObjects.add(new SearchItems(&quot;Grade 8 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 8 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=8&amp;subject=ict&quot;,'v'));\n        //Grade 9 Video\n        myObjects.add(new SearchItems(&quot;Grade 9 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 9 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=9&amp;subject=ict&quot;,'v'));\n        //Grade 10 Video\n        myObjects.add(new SearchItems(&quot;Grade 10 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 10 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=10&amp;subject=ict&quot;,'v'));\n        //Grade 11 Video\n        myObjects.add(new SearchItems(&quot;Grade 11 Science&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=science&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 Maths&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=maths&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 Tamil&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=tamil&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 English&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=english&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 History&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=history&quot;,'v'));\n        myObjects.add(new SearchItems(&quot;Grade 11 ICT&quot;, &quot;file:///android_asset/interactive-video.html?grade=11&amp;subject=ict&quot;,'v'));\n    }\n\n    public List&lt;SearchItems&gt; searchObjects(String query) {\n        List&lt;SearchItems&gt; results = new ArrayList&lt;&gt;();\n\n        for (SearchItems object : myObjects) {\n            if (object.getName().toLowerCase().contains(query.toLowerCase())) {\n                results.add(object);\n            }\n        }\n\n        return results;\n    }\n}\n</code></pre>\n<p>SearchItems Class:</p>\n<pre><code>package com.jhc.ygc;\n\npublic class SearchItems {\n    private String name;\n    private String link;\n    private Character type; // AudioBook = a,Video = v, quiz=q,ebook=e (ONLY a,v,q,e)\n\n    public SearchItems(String name, String link,Character type) {\n        this.name = name;\n        this.link = link;\n        this.type = type;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getLink() {\n        return link;\n    }\n\n    public Character getType() {\n        return type;\n    }\n}\n</code></pre>\n<p>item_search.xml:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;200dp&quot;\n    android:gravity=&quot;center_vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/text_name&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Item&quot;\n        android:textSize=&quot;20dp&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>Part of activity_main.xml:</p>\n<pre><code>&lt;SearchView\n        android:id=&quot;@+id/search_bar&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/search&quot;\n        android:orientation=&quot;vertical&quot; /&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recycler&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;200dp&quot;\n        android:visibility=&quot;visible&quot;\n        /&gt;\n</code></pre>\n<p>I tried to make many changes like LinearLayout manager, many suggestions in Stackoverflow and ChatGPT. Nothing worked.</p>\n<p>UPDATE: I also have one as home_fragment.java. it's in home fragment so DO I need to transfer code from MainActivity.java to home_fragment.java</p>\n"},{"tags":["java","spring","spring-boot","authentication","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686264084,"post_id":76435217,"comment_id":134779013,"body_markdown":"we have no idea what is going on. this is impossible to answer, you must include all annotations above the class, your security configuration and your FULL trace logs. This is WAY too little information. Voted to close","body":"we have no idea what is going on. this is impossible to answer, you must include all annotations above the class, your security configuration and your FULL trace logs. This is WAY too little information. Voted to close"}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1686277953,"creation_date":1686253269,"question_id":76435217,"body_markdown":"I am trying to implement spring security with authentication in spring boot ,i have a filter in which i am trying to authenticate request manually ,note that i do not want to use requestMatcher to permit request,this is my customFilter\r\n\r\n    public class AuthTokenFilter extends OncePerRequestFilter {\r\n\r\n    @Autowired\r\n    private ObjectMapper mapper;\r\n\r\n    private AuthenticationManager authenticationManager;\r\n\r\n    @Autowired\r\n    public AuthTokenFilter(AuthenticationManager authenticationManager) {\r\n        this.authenticationManager= authenticationManager;\r\n    }\r\n\r\n    @Override\r\n    protected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\r\n        filterChain.doFilter(request,response);\r\n        UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(&quot;Amit47@Gmail.com&quot;,&quot;ABC@!@#&quot;);\r\n        SecurityContext sc= SecurityContextHolder.getContext();\r\n        Authentication authentication = authenticationManager.authenticate(authenticationToken);\r\n        sc.setAuthentication(authentication);\r\n    }}\r\n\r\nbut i am encountering following issue while a request is made from postman \r\n\r\n    java.lang.StackOverflowError: null\r\n\tat org.springframework.aop.support.AopUtils.isEqualsMethod(AopUtils.java:151) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:175) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\tat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\r\n\r\nPlease find Below SecurityConfig FilterChain Bean\r\n\r\n     @Bean\r\n    @Order(Ordered.HIGHEST_PRECEDENCE)\r\n    public DefaultSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\r\n        http\r\n\r\n                .csrf().disable()\r\n                .formLogin().disable()\r\n                .httpBasic().disable()\r\n                .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\r\n                .and()\r\n                .authorizeRequests()\r\n                .and()\r\n                .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\r\n                .addFilterBefore(authTokenFilter(http), UsernamePasswordAuthenticationFilter.class);\r\n        return http.build();\r\n    }\r\n\r\n\r\n    @Bean\r\n        public AuthenticationManager authManager(HttpSecurity http) throws Exception {\r\n            AuthenticationManagerBuilder authenticationManagerBuilder =\r\n                    http.getSharedObject(AuthenticationManagerBuilder.class);;\r\n            return authenticationManagerBuilder.build();\r\n        }\r\n\r\n\r\n","title":"authenticate request manually in Filter with SecurityContext","body":"<p>I am trying to implement spring security with authentication in spring boot ,i have a filter in which i am trying to authenticate request manually ,note that i do not want to use requestMatcher to permit request,this is my customFilter</p>\n<pre><code>public class AuthTokenFilter extends OncePerRequestFilter {\n\n@Autowired\nprivate ObjectMapper mapper;\n\nprivate AuthenticationManager authenticationManager;\n\n@Autowired\npublic AuthTokenFilter(AuthenticationManager authenticationManager) {\n    this.authenticationManager= authenticationManager;\n}\n\n@Override\nprotected void doFilterInternal(HttpServletRequest request, HttpServletResponse response, FilterChain filterChain) throws ServletException, IOException {\n    filterChain.doFilter(request,response);\n    UsernamePasswordAuthenticationToken authenticationToken = new UsernamePasswordAuthenticationToken(&quot;Amit47@Gmail.com&quot;,&quot;ABC@!@#&quot;);\n    SecurityContext sc= SecurityContextHolder.getContext();\n    Authentication authentication = authenticationManager.authenticate(authenticationToken);\n    sc.setAuthentication(authentication);\n}}\n</code></pre>\n<p>but i am encountering following issue while a request is made from postman</p>\n<pre><code>java.lang.StackOverflowError: null\nat org.springframework.aop.support.AopUtils.isEqualsMethod(AopUtils.java:151) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:175) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\nat org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:201) ~[spring-security-core-6.1.0.jar:6.1.0]\nat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104) ~[na:na]\nat java.base/java.lang.reflect.Method.invoke(Method.java:578) ~[na:na]\nat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:343) ~[spring-aop-6.0.9.jar:6.0.9]\nat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:216) ~[spring-aop-6.0.9.jar:6.0.9]\nat jdk.proxy2/jdk.proxy2.$Proxy119.authenticate(Unknown Source) ~[na:na]\n</code></pre>\n<p>Please find Below SecurityConfig FilterChain Bean</p>\n<pre><code> @Bean\n@Order(Ordered.HIGHEST_PRECEDENCE)\npublic DefaultSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n\n    http\n\n            .csrf().disable()\n            .formLogin().disable()\n            .httpBasic().disable()\n            .exceptionHandling().authenticationEntryPoint(restAuthenticationEntryPoint())\n            .and()\n            .authorizeRequests()\n            .and()\n            .addFilterBefore(new CorsFilter(), ChannelProcessingFilter.class)\n            .addFilterBefore(authTokenFilter(http), UsernamePasswordAuthenticationFilter.class);\n    return http.build();\n}\n\n\n@Bean\n    public AuthenticationManager authManager(HttpSecurity http) throws Exception {\n        AuthenticationManagerBuilder authenticationManagerBuilder =\n                http.getSharedObject(AuthenticationManagerBuilder.class);;\n        return authenticationManagerBuilder.build();\n    }\n</code></pre>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1686297716,"post_id":76436765,"comment_id":134782432,"body_markdown":"Apache POI is open source, so you absolutely have the ability to modify the source code! See https://poi.apache.org/devel/subversion.html for the various ways to download or checkout a copy","body":"Apache POI is open source, so you absolutely have the ability to modify the source code! See <a href=\"https://poi.apache.org/devel/subversion.html\" rel=\"nofollow noreferrer\">poi.apache.org/devel/subversion.html</a> for the various ways to download or checkout a copy"}],"owner":{"account_id":28784224,"reputation":1,"user_id":22045133,"display_name":"mapeifang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686276678,"creation_date":1686276678,"question_id":76436765,"body_markdown":"How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?\r\ne.g.The automatically generated Chinese heading numbers &#39;一&#39; are converted to Arabic numerals &#39;1&#39; after parsing with POI. How can I maintain their original format?\r\n\r\n\r\nI want to modify the source code, but I don&#39;t have the ability.","title":"How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?","body":"<p>How to resolve the issue of POI not being able to retrieve automatically generated heading numbers in Word?\ne.g.The automatically generated Chinese heading numbers '一' are converted to Arabic numerals '1' after parsing with POI. How can I maintain their original format?</p>\n<p>I want to modify the source code, but I don't have the ability.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1686282626,"post_id":76436757,"comment_id":134780602,"body_markdown":"What do you mean, external implementation?  Do you just want to call another function?","body":"What do you mean, external implementation?  Do you just want to call another function?"}],"owner":{"account_id":6524069,"reputation":715,"user_id":5047297,"accept_rate":53,"display_name":"WestFarmer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686276508,"creation_date":1686276508,"question_id":76436757,"body_markdown":"I have some pojos in my java projects, I want to add some annotations to methods on them to load associated objects.\r\n\r\nfor example :\r\n\r\n```\r\npublic class Plan {\r\n    \r\n    private long id;\r\n    \r\n    private String name;\r\n\r\n    @OneToMany(type=Task.class, ref=&quot;$id=planId&quot;)\r\n    public List&lt;Task&gt; getTasks(){\r\n        // empty body\r\n    }\r\n    \r\n\r\n}\r\n\r\n``` \r\n\r\nthe actual implementation is quite heavy, I want my pojo keep simple and pure, so when Plan#getTasks get invoked, I want to delegate to external implementation.\r\n\r\n\r\nWhat technology in java can help to achieve this goal? \r\n","title":"What technology can help to delegating method implementation in java?","body":"<p>I have some pojos in my java projects, I want to add some annotations to methods on them to load associated objects.</p>\n<p>for example :</p>\n<pre><code>public class Plan {\n    \n    private long id;\n    \n    private String name;\n\n    @OneToMany(type=Task.class, ref=&quot;$id=planId&quot;)\n    public List&lt;Task&gt; getTasks(){\n        // empty body\n    }\n    \n\n}\n\n</code></pre>\n<p>the actual implementation is quite heavy, I want my pojo keep simple and pure, so when Plan#getTasks get invoked, I want to delegate to external implementation.</p>\n<p>What technology in java can help to achieve this goal?</p>\n"},{"tags":["java","spring","spring-boot"],"owner":{"account_id":26094780,"reputation":13,"user_id":19791046,"display_name":"C Wang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686275407,"creation_date":1686187031,"question_id":76428026,"body_markdown":"\r\nrun with \r\n\r\n* springBoot=3.1.0 \r\n* springCloud=2022.0.3 \r\n* graalvmNative=0.9.22 ,\r\n\r\nwith these dependencies\r\n\r\n```\r\ndependencies {    \r\n //gateway     \r\n  implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)     \r\n  implementation(&quot;org.springframework.cloud:spring-cloud-starter-gateway&quot;)     \r\n  implementation(&quot;org.springframework.cloud:spring-cloud-starter-consul-discovery&quot;)     \r\n  implementation(&quot;com.github.ben-manes.caffeine:caffeine&quot;) \r\n} \r\n```\r\nimplementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\r\nues gradle nativeComplie is ok\r\nuse native-image -H:Name=$url -cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr &#39;\\n&#39; &#39;:&#39; error\r\nhow to resolve this problem\r\n\r\n```\r\nFatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.AbstractNioChannel.&lt;init&gt;(io.netty.channel.Channel, java.nio.channels.SelectableChannel, int)\r\nParsing context:\r\n   at io.netty.channel.nio.AbstractNioChannel.&lt;init&gt;(AbstractNioChannel.java:80)\r\n   at io.netty.channel.nio.AbstractNioMessageChannel.&lt;init&gt;(AbstractNioMessageChannel.java:42)\r\n\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\r\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\r\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\r\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\r\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\r\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\r\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\r\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of ch.qos.logback.classic.Logger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=ch.qos.logback.classic.Logger.\r\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\r\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\r\n```","title":"Error: native-image -H:Name=$url -cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr &#39;\\n&#39; &#39;:&#39;","body":"<p>run with</p>\n<ul>\n<li>springBoot=3.1.0</li>\n<li>springCloud=2022.0.3</li>\n<li>graalvmNative=0.9.22 ,</li>\n</ul>\n<p>with these dependencies</p>\n<pre><code>dependencies {    \n //gateway     \n  implementation(&quot;org.springframework.boot:spring-boot-starter-security&quot;)     \n  implementation(&quot;org.springframework.cloud:spring-cloud-starter-gateway&quot;)     \n  implementation(&quot;org.springframework.cloud:spring-cloud-starter-consul-discovery&quot;)     \n  implementation(&quot;com.github.ben-manes.caffeine:caffeine&quot;) \n} \n</code></pre>\n<p>implementation(&quot;org.springframework.boot:spring-boot-starter-webflux&quot;)\nues gradle nativeComplie is ok\nuse native-image -H:Name=$url -cp .:BOOT-INF/classes:`find BOOT-INF/lib | tr '\\n' ':' error\nhow to resolve this problem</p>\n<pre><code>Fatal error: com.oracle.graal.pointsto.util.AnalysisError$ParsingError: Error encountered while parsing io.netty.channel.nio.AbstractNioChannel.&lt;init&gt;(io.netty.channel.Channel, java.nio.channels.SelectableChannel, int)\nParsing context:\n   at io.netty.channel.nio.AbstractNioChannel.&lt;init&gt;(AbstractNioChannel.java:80)\n   at io.netty.channel.nio.AbstractNioMessageChannel.&lt;init&gt;(AbstractNioMessageChannel.java:42)\n\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.AnalysisError.parsingError(AnalysisError.java:153)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.createFlowsGraph(MethodTypeFlow.java:104)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.ensureFlowsGraphCreated(MethodTypeFlow.java:83)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.MethodTypeFlow.getOrCreateMethodFlowsGraph(MethodTypeFlow.java:65)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.typestate.DefaultSpecialInvokeTypeFlow.onObservedUpdate(DefaultSpecialInvokeTypeFlow.java:61)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.flow.TypeFlow.update(TypeFlow.java:562)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.PointsToAnalysis$1.run(PointsToAnalysis.java:488)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.executeCommand(CompletionExecutor.java:193)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.util.CompletionExecutor.lambda$executeService$0(CompletionExecutor.java:177)\n        at java.base/java.util.concurrent.ForkJoinTask$RunnableExecuteAction.exec(ForkJoinTask.java:1395)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:373)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1182)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1655)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1622)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:165)\nCaused by: com.oracle.graal.pointsto.constraints.UnsupportedFeatureException: No instances of ch.qos.logback.classic.Logger are allowed in the image heap as this class should be initialized at image runtime. To see how this object got instantiated use --trace-object-instantiation=ch.qos.logback.classic.Logger.\n        at org.graalvm.nativeimage.builder/com.oracle.svm.hosted.classinitialization.ClassInitializationFeature.checkImageHeapInstance(ClassInitializationFeature.java:132)\n        at org.graalvm.nativeimage.pointsto/com.oracle.graal.pointsto.meta.AnalysisUniverse.replaceObject(AnalysisUniverse.java:595)\n</code></pre>\n"},{"tags":["java","raspberry-pi"],"comments":[{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1686275679,"post_id":76436695,"comment_id":134780130,"body_markdown":"how did you install java?","body":"how did you install java?"},{"owner":{"account_id":22202776,"reputation":1,"user_id":16443171,"display_name":"pythondude247"},"score":0,"creation_date":1686276936,"post_id":76436695,"comment_id":134780209,"body_markdown":"@drum sudo apt install openjdk-8-jdk","body":"@drum sudo apt install openjdk-8-jdk"},{"owner":{"account_id":769702,"reputation":5530,"user_id":1061193,"accept_rate":83,"display_name":"drum"},"score":0,"creation_date":1686279022,"post_id":76436695,"comment_id":134780337,"body_markdown":"try this? https://forums.raspberrypi.com/viewtopic.php?t=212040","body":"try this? <a href=\"https://forums.raspberrypi.com/viewtopic.php?t=212040\" rel=\"nofollow noreferrer\">forums.raspberrypi.com/viewtopic.php?t=212040</a>"}],"owner":{"account_id":22202776,"reputation":1,"user_id":16443171,"display_name":"pythondude247"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686330068,"answer_count":0,"score":0,"last_activity_date":1686275160,"creation_date":1686275160,"question_id":76436695,"body_markdown":"When I run \r\n```\r\njava --version\r\n```\r\nor any other java command on my raspberry pi I get this error:\r\n\r\n```\r\nError occurred during initialization of VM\r\nServer VM is only supported on ARMv7+ VFP\r\n```\r\n\r\nI tried to run\r\n\r\n```\r\njava --version\r\n```\r\nand I expected the java version to be returned but I got the error\r\n\r\n```\r\nError occurred during initialization of VM\r\nServer VM is only supported on ARMv7+ VFP\r\n```\r\n(using a raspberry pi b+)\r\n\r\nThanks!","title":"Error when running java command raspberry pi","body":"<p>When I run</p>\n<pre><code>java --version\n</code></pre>\n<p>or any other java command on my raspberry pi I get this error:</p>\n<pre><code>Error occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP\n</code></pre>\n<p>I tried to run</p>\n<pre><code>java --version\n</code></pre>\n<p>and I expected the java version to be returned but I got the error</p>\n<pre><code>Error occurred during initialization of VM\nServer VM is only supported on ARMv7+ VFP\n</code></pre>\n<p>(using a raspberry pi b+)</p>\n<p>Thanks!</p>\n"},{"tags":["java","plc4x","apache-plc4x"],"answers":[{"comments":[{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1686100615,"post_id":76419223,"comment_id":134751876,"body_markdown":"https://meta.stackexchange.com/a/8259/997587","body":"<a href=\"https://meta.stackexchange.com/a/8259/997587\">meta.stackexchange.com/a/8259/997587</a>"}],"tags":[],"owner":{"account_id":9418913,"reputation":1,"user_id":7039797,"display_name":"hongjl"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686274969,"creation_date":1686098442,"answer_id":76419223,"question_id":76189674,"body_markdown":"Please try the following\r\n\r\n&gt; If you want to use the S7200 smart thing ... you need to tell the driver about the type of plc, so it will not ask the PLC. Because in case of the S7200 it just hangs up (which you are seeing in your exception) ... so please add:\r\n?controller-type=S7_200\r\nTo your connection string.\r\n\r\n\r\nSee detail [plc4x/issues/731][1]\r\n\r\n\r\n  [1]: https://github.com/apache/plc4x/issues/731#issuecomment-1373482494","title":"How can I access S7-200 SMART using PLC4x in Java?","body":"<p>Please try the following</p>\n<blockquote>\n<p>If you want to use the S7200 smart thing ... you need to tell the driver about the type of plc, so it will not ask the PLC. Because in case of the S7200 it just hangs up (which you are seeing in your exception) ... so please add:\n?controller-type=S7_200\nTo your connection string.</p>\n</blockquote>\n<p>See detail <a href=\"https://github.com/apache/plc4x/issues/731#issuecomment-1373482494\" rel=\"nofollow noreferrer\">plc4x/issues/731</a></p>\n"}],"owner":{"account_id":2032339,"reputation":329,"user_id":1815662,"accept_rate":0,"display_name":"zhy1378"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686274969,"creation_date":1683386528,"question_id":76189674,"body_markdown":"I want to access S7-200 Smart using PLC4x. I have tested PLC4x on S7-1200, and it works. However, when I try to access S7-200, it always fails.\r\n\r\nThe CPU of the PLC is 6ES7 288.\r\n\r\nHere are the code snippets:\r\n\r\n```\r\nplc.connectionURL = &quot;s7://192.168.1.34&quot;;\r\n\r\nPlcConnection plcConnection = driverManager.getConnection(plc.connectionURL);\r\n```\r\n\r\nWhen I try to connect, an error occurs and the following exception is thrown:\r\n\r\n23:13:45.914 [nioEventLoopGroup-2-1] WARN i.n.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.\r\n\r\nCaused by: java.util.concurrent.ExecutionException: org.apache.plc4x.java.api.exceptions.PlcIoException: Connection terminated by remote.\r\n\r\nI have also tried accessing the same PLC using the tool from http://www.hslcommunication.cn/ and it works properly. Therefore, the PLC does not seem to be the problem.\r\n\r\nI have also tried using the s7connector library, but it only works on S7-1200, not on S7-200 Smart.\r\n\r\nPlease help me and thanks very much!","title":"How can I access S7-200 SMART using PLC4x in Java?","body":"<p>I want to access S7-200 Smart using PLC4x. I have tested PLC4x on S7-1200, and it works. However, when I try to access S7-200, it always fails.</p>\n<p>The CPU of the PLC is 6ES7 288.</p>\n<p>Here are the code snippets:</p>\n<pre><code>plc.connectionURL = &quot;s7://192.168.1.34&quot;;\n\nPlcConnection plcConnection = driverManager.getConnection(plc.connectionURL);\n</code></pre>\n<p>When I try to connect, an error occurs and the following exception is thrown:</p>\n<p>23:13:45.914 [nioEventLoopGroup-2-1] WARN i.n.channel.DefaultChannelPipeline - An exceptionCaught() event was fired, and it reached at the tail of the pipeline. It usually means the last handler in the pipeline did not handle the exception.</p>\n<p>Caused by: java.util.concurrent.ExecutionException: org.apache.plc4x.java.api.exceptions.PlcIoException: Connection terminated by remote.</p>\n<p>I have also tried accessing the same PLC using the tool from <a href=\"http://www.hslcommunication.cn/\" rel=\"nofollow noreferrer\">http://www.hslcommunication.cn/</a> and it works properly. Therefore, the PLC does not seem to be the problem.</p>\n<p>I have also tried using the s7connector library, but it only works on S7-1200, not on S7-200 Smart.</p>\n<p>Please help me and thanks very much!</p>\n"},{"tags":["java","linux","artifactory"],"answers":[{"tags":[],"owner":{"account_id":10393126,"reputation":890,"user_id":7663663,"display_name":"xiaojueguan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686274695,"creation_date":1686274695,"answer_id":76436670,"question_id":76436599,"body_markdown":"\r\n### Analysis\r\nFurther checking by:\r\n```\r\n# ps -ef --forest | less | grep artifactory\r\n...\r\n-server -XX:+UseG1GC -XX:OnOutOfMemoryError=kill -9 %p -Xms512m -Xmx2g\r\n...\r\n```\r\nBy search `OnOutOfMemoryError` got `This option can be used to specify a command or script to execute when an OutOfMemoryError exception is thrown.` in https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\r\nAnd by executing below found\r\n```\r\n# grep &#39;OutOfMemoryError&#39; -rn /opt/jfrog/artifactory/var/log\r\nBinary file /opt/jfrog/artifactory/var/log/artifactory-service.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/archived/artifactory-service.2023-06-08T12-25-37.903.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/archived/console-2023-06-08-1686189301.log matches\r\nBinary file /opt/jfrog/artifactory/var/log/console.log matches\r\n```\r\nAnd by checking the log found below:\r\n```\r\n[65027.377s][warning][gc,alloc] http-nio-127.0.0.1-8091-Acceptor: Retried waiting for GCLocker too often allocating 1026 words\r\n#\r\n# java.lang.OutOfMemoryError: Java heap space\r\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\r\n#   Executing /bin/sh -c &quot;kill -9 10131&quot;...\r\n```\r\n### Solution:\r\nrefer to https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml\r\nI changed \r\n```\r\n  #extraJavaOpts: &quot;-Xms512m -Xmx2g&quot;\r\n```\r\nto\r\n```\r\n  extraJavaOpts: &quot;-Xms50g -Xmx100g&quot;\r\n```\r\nthen\r\n```\r\nsystemctl restart artifactory.service\r\n```\r\n","title":"artifactory.service: Failed with result &#39;exit-code&#39;","body":"<h3>Analysis</h3>\n<p>Further checking by:</p>\n<pre><code># ps -ef --forest | less | grep artifactory\n...\n-server -XX:+UseG1GC -XX:OnOutOfMemoryError=kill -9 %p -Xms512m -Xmx2g\n...\n</code></pre>\n<p>By search <code>OnOutOfMemoryError</code> got <code>This option can be used to specify a command or script to execute when an OutOfMemoryError exception is thrown.</code> in <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/troubleshoot/clopts001.html</a>\nAnd by executing below found</p>\n<pre><code># grep 'OutOfMemoryError' -rn /opt/jfrog/artifactory/var/log\nBinary file /opt/jfrog/artifactory/var/log/artifactory-service.log matches\nBinary file /opt/jfrog/artifactory/var/log/archived/artifactory-service.2023-06-08T12-25-37.903.log matches\nBinary file /opt/jfrog/artifactory/var/log/archived/console-2023-06-08-1686189301.log matches\nBinary file /opt/jfrog/artifactory/var/log/console.log matches\n</code></pre>\n<p>And by checking the log found below:</p>\n<pre><code>[65027.377s][warning][gc,alloc] http-nio-127.0.0.1-8091-Acceptor: Retried waiting for GCLocker too often allocating 1026 words\n#\n# java.lang.OutOfMemoryError: Java heap space\n# -XX:OnOutOfMemoryError=&quot;kill -9 %p&quot;\n#   Executing /bin/sh -c &quot;kill -9 10131&quot;...\n</code></pre>\n<h3>Solution:</h3>\n<p>refer to <a href=\"https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml\" rel=\"nofollow noreferrer\">https://jfrog.com/help/r/jfrog-installation-setup-documentation/artifactory-system-yaml</a>\nI changed</p>\n<pre><code>  #extraJavaOpts: &quot;-Xms512m -Xmx2g&quot;\n</code></pre>\n<p>to</p>\n<pre><code>  extraJavaOpts: &quot;-Xms50g -Xmx100g&quot;\n</code></pre>\n<p>then</p>\n<pre><code>systemctl restart artifactory.service\n</code></pre>\n"}],"owner":{"account_id":10393126,"reputation":890,"user_id":7663663,"display_name":"xiaojueguan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":148,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76436670,"answer_count":1,"score":-1,"last_activity_date":1686274695,"creation_date":1686273301,"question_id":76436599,"body_markdown":"### Environment description:\r\nartifactory version: jfrog-artifactory-oss-7.55.2-linux\r\njava version: openjdk version &quot;17.0.5&quot; 2022-10-18\r\nsystem version:\r\nNAME=&quot;Ubuntu&quot;\r\nVERSION=&quot;18.04.3 LTS (Bionic Beaver)&quot;\r\n\r\n### problem description\r\nartifactory.service restarted every several hours and sometimes artifactory.service will not be functionable.\r\njournalctl -u artifactory.service shows below log\r\n```\r\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Main process exited, code=exited, status=143/n/a\r\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Failed with result &#39;exit-code&#39;.\r\n2月 22 15:17:25 Artifactory systemd[1]: Stopped Artifactory service.\r\n2月 22 15:18:14 Artifactory systemd[1]: Starting Artifactory service...\r\n```\r\n### Things I tried:\r\n1. By checking the console log of /opt/jfrog/artifactory/var/log/console.log, i haven&#39;t found anything useful.\r\n\r\n\r\n","title":"artifactory.service: Failed with result &#39;exit-code&#39;","body":"<h3>Environment description:</h3>\n<p>artifactory version: jfrog-artifactory-oss-7.55.2-linux\njava version: openjdk version &quot;17.0.5&quot; 2022-10-18\nsystem version:\nNAME=&quot;Ubuntu&quot;\nVERSION=&quot;18.04.3 LTS (Bionic Beaver)&quot;</p>\n<h3>problem description</h3>\n<p>artifactory.service restarted every several hours and sometimes artifactory.service will not be functionable.\njournalctl -u artifactory.service shows below log</p>\n<pre><code>2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Main process exited, code=exited, status=143/n/a\n2月 22 15:17:25 Artifactory systemd[1]: artifactory.service: Failed with result 'exit-code'.\n2月 22 15:17:25 Artifactory systemd[1]: Stopped Artifactory service.\n2月 22 15:18:14 Artifactory systemd[1]: Starting Artifactory service...\n</code></pre>\n<h3>Things I tried:</h3>\n<ol>\n<li>By checking the console log of /opt/jfrog/artifactory/var/log/console.log, i haven't found anything useful.</li>\n</ol>\n"},{"tags":["java","hibernate"],"owner":{"account_id":12372001,"reputation":1,"user_id":9021898,"display_name":"pbdavey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686274671,"creation_date":1686239152,"question_id":76433607,"body_markdown":"I&#39;m using Hibernate 6, and I have some code I&#39;ve been porting that uses Session.get with an entity name and identifier.  We do a lot of reflection, and there&#39;s some other background, so this may look a bit odd and explicitly passing the entity name may seem superfluous, but it&#39;s necessary for us.\r\n\r\n\r\n\r\nThe entity name by itself doesn&#39;t work, it seems to require the fully qualified name:\r\n\r\n```\r\n@Entity(name = &quot;Root&quot;)\r\n...\r\nsession.get(&quot;Root&quot;, rootId); // doesn&#39;t work\r\n\r\nsession.persist(&quot;Root&quot;, root); //works...???\r\n```\r\nFor the session.get, I end up with a\r\n\r\n```\r\norg.hibernate.UnknownEntityTypeException: Unable to locate persister: Root\r\n```\r\n\r\nHowever,\r\n```\r\nsession.get(&quot;mypackage.fully.qual.Root&quot;, rootId); // works\r\n```\r\n","title":"Hibernate session requires fully qualified class name, despite explicit entity name","body":"<p>I'm using Hibernate 6, and I have some code I've been porting that uses Session.get with an entity name and identifier.  We do a lot of reflection, and there's some other background, so this may look a bit odd and explicitly passing the entity name may seem superfluous, but it's necessary for us.</p>\n<p>The entity name by itself doesn't work, it seems to require the fully qualified name:</p>\n<pre><code>@Entity(name = &quot;Root&quot;)\n...\nsession.get(&quot;Root&quot;, rootId); // doesn't work\n\nsession.persist(&quot;Root&quot;, root); //works...???\n</code></pre>\n<p>For the session.get, I end up with a</p>\n<pre><code>org.hibernate.UnknownEntityTypeException: Unable to locate persister: Root\n</code></pre>\n<p>However,</p>\n<pre><code>session.get(&quot;mypackage.fully.qual.Root&quot;, rootId); // works\n</code></pre>\n"},{"tags":["java","web-services","classpath","webservice-client","wsimport"],"answers":[{"comments":[{"owner":{"account_id":953195,"reputation":317,"user_id":978953,"accept_rate":100,"display_name":"yur15t"},"score":1,"creation_date":1323021475,"post_id":8377269,"comment_id":10338336,"body_markdown":"shame on me. i should start learning java from the very beginning.","body":"shame on me. i should start learning java from the very beginning."}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1323020765,"creation_date":1323020765,"answer_id":8377269,"question_id":8377239,"body_markdown":"You&#39;re incorrectly including the `bin` in the `import` declaration.\r\n\r\nRather put `bin` on the classpath and correct the `import`.\r\n\r\nUnless (the poorly-named) `myClass_Service.java` file is `package bin.mywebservice` (which it isn&#39;t, according the the error message), you&#39;re trying to correct the problem in the wrong place.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>You're incorrectly including the <code>bin</code> in the <code>import</code> declaration.</p>\n\n<p>Rather put <code>bin</code> on the classpath and correct the <code>import</code>.</p>\n\n<p>Unless (the poorly-named) <code>myClass_Service.java</code> file is <code>package bin.mywebservice</code> (which it isn't, according the the error message), you're trying to correct the problem in the wrong place.</p>\n"},{"tags":[],"owner":{"account_id":59951,"reputation":51423,"user_id":179233,"accept_rate":100,"display_name":"Kaleb Brasee"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323020832,"creation_date":1323020832,"answer_id":8377276,"question_id":8377239,"body_markdown":"It looks like the generated class has a package `mywebservice`, not `bin.mywebservice`.  Make sure the `bin` directory is on the classpath, and drop `bin` from the packages.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>It looks like the generated class has a package <code>mywebservice</code>, not <code>bin.mywebservice</code>.  Make sure the <code>bin</code> directory is on the classpath, and drop <code>bin</code> from the packages.</p>\n"},{"tags":[],"owner":{"account_id":1071064,"reputation":345,"user_id":1070333,"display_name":"Duncan Calvert"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1383539894,"creation_date":1383539894,"answer_id":19761730,"question_id":8377239,"body_markdown":"This makefile may help if you are using packages:\r\n\r\n    CLASS_PATH = ../bin\r\n    \r\n    vpath %.class $(CLASS_PATH)\r\n    \r\n    all : HelloJNI.h\r\n    \r\n    HelloJNI.h : com/my/package/HelloJNI.class\r\n    \tjavah -classpath $(CLASS_PATH) com.my.package.$*","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>This makefile may help if you are using packages:</p>\n\n<pre><code>CLASS_PATH = ../bin\n\nvpath %.class $(CLASS_PATH)\n\nall : HelloJNI.h\n\nHelloJNI.h : com/my/package/HelloJNI.class\n    javah -classpath $(CLASS_PATH) com.my.package.$*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20607134,"reputation":1,"user_id":15127115,"display_name":"imalia"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686274303,"creation_date":1686274303,"answer_id":76436647,"question_id":8377239,"body_markdown":"If you sure that your file located in `bin` directory, you have check the class file that for call `mywebservice.myClass_Service`\r\n\r\nsame at the `bin` directory. because when both file not the same location, it will be error. or you can check your package location on the top of code.\r\n\r\n&gt; package bin;\r\n\r\nlook and compare the two.","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>If you sure that your file located in <code>bin</code> directory, you have check the class file that for call <code>mywebservice.myClass_Service</code></p>\n<p>same at the <code>bin</code> directory. because when both file not the same location, it will be error. or you can check your package location on the top of code.</p>\n<blockquote>\n<p>package bin;</p>\n</blockquote>\n<p>look and compare the two.</p>\n"}],"owner":{"account_id":953195,"reputation":317,"user_id":978953,"accept_rate":100,"display_name":"yur15t"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21889,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":8377269,"answer_count":4,"score":3,"last_activity_date":1686274303,"creation_date":1323020532,"question_id":8377239,"body_markdown":"I&#39;m trying to make a console application to test my webservice.\r\nI successfully deployed a webservice at http://localhost:8080/WS/myWS\r\nand i made proxy classes with wsimport:\r\n\r\n    wsimport -d bin -s src http://localhost:8080/WS/myWS?wsdl\r\n\r\nNow my webservice classes are located in bin/mywebservice/ and i&#39;m trying to compile my client class with classpath = ./\r\n\r\nHere&#39;s the source code of my class:\r\n\r\n    import bin.mywebservice.myClass_Service;\r\n    public class TesterApp{\r\n        public static void main (String args[])\r\n        {    \r\n            myClass_Service service = new myClass_Service(); \r\n        }\r\n    }\r\n\r\nAnd i have error:\r\n\r\n    TesterApp.java:1: error: cannot access myClass_Service\r\n    import bin.mywebservice_Service.myClass;\r\n                                   ^\r\n      bad class file: .\\bin\\mywebservice\\myClass_Service.class\r\n        class file contains wrong class: mywebservice.myClass_Service\r\n        Please remove or make sure it appears in the correct subdirectory of the classpath.\r\n\r\nplease help, what&#39;s wrong with myClass_Service?\r\ni swear, myClass_Service.class exists in .\\bin\\mywebservice\\","title":"java &quot;Class file contains wrong class&quot; error","body":"<p>I'm trying to make a console application to test my webservice.\nI successfully deployed a webservice at <a href=\"http://localhost:8080/WS/myWS\" rel=\"nofollow\">http://localhost:8080/WS/myWS</a>\nand i made proxy classes with wsimport:</p>\n\n<pre><code>wsimport -d bin -s src http://localhost:8080/WS/myWS?wsdl\n</code></pre>\n\n<p>Now my webservice classes are located in bin/mywebservice/ and i'm trying to compile my client class with classpath = ./</p>\n\n<p>Here's the source code of my class:</p>\n\n<pre><code>import bin.mywebservice.myClass_Service;\npublic class TesterApp{\n    public static void main (String args[])\n    {    \n        myClass_Service service = new myClass_Service(); \n    }\n}\n</code></pre>\n\n<p>And i have error:</p>\n\n<pre><code>TesterApp.java:1: error: cannot access myClass_Service\nimport bin.mywebservice_Service.myClass;\n                               ^\n  bad class file: .\\bin\\mywebservice\\myClass_Service.class\n    class file contains wrong class: mywebservice.myClass_Service\n    Please remove or make sure it appears in the correct subdirectory of the classpath.\n</code></pre>\n\n<p>please help, what's wrong with myClass_Service?\ni swear, myClass_Service.class exists in .\\bin\\mywebservice\\</p>\n"},{"tags":["java","lwjgl"],"answers":[{"tags":[],"owner":{"account_id":22440267,"reputation":11,"user_id":16644914,"display_name":"HellishBro"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686274009,"creation_date":1686274009,"answer_id":76436631,"question_id":76436549,"body_markdown":"Nevermind. I think I found the reason: `long` is used to indicate the **address** to the display window, not really the window itself. So really the window should be called `windowAddress`","title":"Why is LWJGL display window a long","body":"<p>Nevermind. I think I found the reason: <code>long</code> is used to indicate the <strong>address</strong> to the display window, not really the window itself. So really the window should be called <code>windowAddress</code></p>\n"}],"owner":{"account_id":22440267,"reputation":11,"user_id":16644914,"display_name":"HellishBro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686274009,"creation_date":1686272151,"question_id":76436549,"body_markdown":"in the example, I see this line being used: `private long window;`\r\n\r\nwhy is window a `long` object? what kind of metadata is stored there?\r\n\r\nI know this works, but just wondering why is it a long object instead of a usual Display class similar object in other game libraries.","title":"Why is LWJGL display window a long","body":"<p>in the example, I see this line being used: <code>private long window;</code></p>\n<p>why is window a <code>long</code> object? what kind of metadata is stored there?</p>\n<p>I know this works, but just wondering why is it a long object instead of a usual Display class similar object in other game libraries.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686252440,"post_id":76435103,"comment_id":134777339,"body_markdown":"The `S` in the brackets is the type declaration. Just like you can&#39;t use a variable without declaring it, you can&#39;t use a type parameter before declaring it. The next `S` is the return type, which is the same as whatever `Class` you pass into the method.","body":"The <code>S</code> in the brackets is the type declaration. Just like you can&#39;t use a variable without declaring it, you can&#39;t use a type parameter before declaring it. The next <code>S</code> is the return type, which is the same as whatever <code>Class</code> you pass into the method."},{"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"score":0,"creation_date":1686252586,"post_id":76435103,"comment_id":134777372,"body_markdown":"What if &lt;S&gt; on left of S was not there ?","body":"What if &lt;S&gt; on left of S was not there ?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1686252706,"post_id":76435103,"comment_id":134777388,"body_markdown":"In that case, there would have to be an actual type named `S` in the program. Such as `class S` or `interface S`.","body":"In that case, there would have to be an actual type named <code>S</code> in the program. Such as <code>class S</code> or <code>interface S</code>."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686252718,"post_id":76435103,"comment_id":134777390,"body_markdown":"As I said, it&#39;s like trying to use a variable without declaring it. It won&#39;t compile.","body":"As I said, it&#39;s like trying to use a variable without declaring it. It won&#39;t compile."},{"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":2,"creation_date":1686252730,"post_id":76435103,"comment_id":134777393,"body_markdown":"Without the `&lt;S&gt;` it would not be a generic method.  `S` would need to be the name of a real type.  The caller would need to provide the `Class` object representing that specific type as the method argument, and the return value would (need to) be an instance of that specific type.","body":"Without the <code>&lt;S&gt;</code> it would not be a generic method.  <code>S</code> would need to be the name of a real type.  The caller would need to provide the <code>Class</code> object representing that specific type as the method argument, and the return value would (need to) be an instance of that specific type."}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686252852,"creation_date":1686252852,"answer_id":76435164,"question_id":76435103,"body_markdown":"The `&lt;S&gt;` tells the compiler that when it is compiling calls to the method, there will be some type that the compiler will have to infer, which is the type that the method is going to operate on.\r\n\r\nThe `S` is the return value of the method, as usual. It tells the compiler what type will be returned.\r\n\r\n`Class&lt;S&gt;` defines the type of the parameter. For instance, if the type happens to be `String`, the parameter would be of type `Class&lt;String&gt;` (which can also be written as `String.class`, a form you may be more accustomed to seeing it in.)\r\n\r\nFor example, if you had a class, `CustomerService`, and you were to call the method like this: `createService(CustomerService.class)`, since the type of `CustomerService.class` is `Class&lt;CustomerService&gt;` and the parameter is `Class&lt;S&gt;`, the compiler would infer that `S` is `CustomerService` and thus would expect the method to return that.","title":"Confusion about generic return type in Java","body":"<p>The <code>&lt;S&gt;</code> tells the compiler that when it is compiling calls to the method, there will be some type that the compiler will have to infer, which is the type that the method is going to operate on.</p>\n<p>The <code>S</code> is the return value of the method, as usual. It tells the compiler what type will be returned.</p>\n<p><code>Class&lt;S&gt;</code> defines the type of the parameter. For instance, if the type happens to be <code>String</code>, the parameter would be of type <code>Class&lt;String&gt;</code> (which can also be written as <code>String.class</code>, a form you may be more accustomed to seeing it in.)</p>\n<p>For example, if you had a class, <code>CustomerService</code>, and you were to call the method like this: <code>createService(CustomerService.class)</code>, since the type of <code>CustomerService.class</code> is <code>Class&lt;CustomerService&gt;</code> and the parameter is <code>Class&lt;S&gt;</code>, the compiler would infer that <code>S</code> is <code>CustomerService</code> and thus would expect the method to return that.</p>\n"},{"tags":[],"owner":{"account_id":2792262,"reputation":163877,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686255773,"creation_date":1686253905,"answer_id":76435273,"question_id":76435103,"body_markdown":"The `&lt;S&gt;` is the list of type parameters for the method (only one in this case).  The presence of a type-parameter list makes this a generic method.  Within the method header and body, the symbol `S` represents the type argument associated with a given invocation of that method, whether inferred or specified explicitly.\r\n\r\nA generic method&#39;s return type appears between the type-parameter list and the method name.  In the example, this is given as `S`, the type parameter, so the return type of a given invocation of the method is that invocation&#39;s type argument.  Typically, it would be inferred from the method argument (and that&#39;s exactly the purpose of providing a `Class&lt;S&gt;` as a method parameter).\r\n\r\nWithout the type-parameter list (`&lt;S&gt;`), the method would be an ordinary one, not a generic one.  In that case, `S` would need to be the name of a specific type that the compiler could resolve.  The argument would need to be the particular `Class` object representing type `S`, and the method would (need to) return an instance of type `S`.\r\n\r\nThe main difference is that with a generic method, all those properties are determined on a per-invocation basis by the context of the invocation, whereas with the ordinary method, they are determined once, at compile time, for all invocations.  Of course, the devil is in the details.  The generic method needs a way to deliver on the requirement of returning an instance of a type specified at runtime.  The argument of type `Class&lt;S&gt;` can help, and more generally, a generic method that returns an instance of its type argument can do so only by relying on its arguments or by returning `null`.\r\n\r\nAlso, method genericity is orthogonal to class / interface genericity.\r\n\r\n - Classes that are not generic can have generic methods.  In fact, this is the situation for most generic methods.\r\n - Generic classes can have ordinary methods, and that&#39;s the norm.  That a method uses *its class&#39;* type parameters does not make that method generic.\r\n - And generic classes can also have generic methods.  You can recognize such generic methods, as always, because they bear their own type-parameter lists.","title":"Confusion about generic return type in Java","body":"<p>The <code>&lt;S&gt;</code> is the list of type parameters for the method (only one in this case).  The presence of a type-parameter list makes this a generic method.  Within the method header and body, the symbol <code>S</code> represents the type argument associated with a given invocation of that method, whether inferred or specified explicitly.</p>\n<p>A generic method's return type appears between the type-parameter list and the method name.  In the example, this is given as <code>S</code>, the type parameter, so the return type of a given invocation of the method is that invocation's type argument.  Typically, it would be inferred from the method argument (and that's exactly the purpose of providing a <code>Class&lt;S&gt;</code> as a method parameter).</p>\n<p>Without the type-parameter list (<code>&lt;S&gt;</code>), the method would be an ordinary one, not a generic one.  In that case, <code>S</code> would need to be the name of a specific type that the compiler could resolve.  The argument would need to be the particular <code>Class</code> object representing type <code>S</code>, and the method would (need to) return an instance of type <code>S</code>.</p>\n<p>The main difference is that with a generic method, all those properties are determined on a per-invocation basis by the context of the invocation, whereas with the ordinary method, they are determined once, at compile time, for all invocations.  Of course, the devil is in the details.  The generic method needs a way to deliver on the requirement of returning an instance of a type specified at runtime.  The argument of type <code>Class&lt;S&gt;</code> can help, and more generally, a generic method that returns an instance of its type argument can do so only by relying on its arguments or by returning <code>null</code>.</p>\n<p>Also, method genericity is orthogonal to class / interface genericity.</p>\n<ul>\n<li>Classes that are not generic can have generic methods.  In fact, this is the situation for most generic methods.</li>\n<li>Generic classes can have ordinary methods, and that's the norm.  That a method uses <em>its class'</em> type parameters does not make that method generic.</li>\n<li>And generic classes can also have generic methods.  You can recognize such generic methods, as always, because they bear their own type-parameter lists.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686260091,"creation_date":1686260091,"answer_id":76435835,"question_id":76435103,"body_markdown":"generics are just variables, except, these variables are references to __types__ whereas &#39;normal&#39; variables reference __values__.\r\n\r\nGiven:\r\n\r\n```\r\nNumber n;\r\nn = Integer.valueOf(5);\r\nSystem.out.println(n);\r\n```\r\n\r\nA few things are happening:\r\n\r\n1. `Number n;` _declares a new variable_. It says to the system: I decree there is some variable. Variables aren&#39;t values (they __hold__ a value, a nuanced difference - `Integer.valueOf(5)`, that _is_ a value). This variable furthermore has a limitation assigned to it: It must only ever be holding a value that has the property that it was created either as `new Number()`, or as `new Something()`, where `Something` has `Number` somewhere in its type hierarchy. That last bit is very important (after all, `Number` is abstract; `new Number()` is not possible at all).\r\n\r\n2. In stark contrast, the second and third line do not _declare_ anything. They merely _use_ what has already been declared.\r\n\r\n__Type variables work the same way__.\r\n\r\nGiven:\r\n\r\n```\r\npublic static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n     return retrofit.create(serviceClass);\r\n}\r\n```\r\n\r\nThe `&lt;S&gt;` part __declares__ a new type variable. it is the typevar equivalent of writing `Object s;`. It declares a variable without assigning any value to it. If you had tried to write:\r\n\r\n```\r\npublic static S createService(Class&lt;S&gt; serviceClass) { ... }\r\n```\r\n\r\nThe compiler would complain exactly the same way it complains when you write:\r\n\r\n```\r\nvoid foo() {\r\n n = 5; // n? What is n? I have no idea what is going on!\r\n}\r\n```\r\n\r\nYou have to declare before you can use them. Just `&lt;S&gt;` says there is no limit - it&#39;s short for `&lt;S extends Object&gt;`, and every ref type extends Object, hence, S can be anything (except primitives - generics and primitives don&#39;t currently (JDK21 and older) work together, maybe in some future java version that will change though).\r\n\r\nYou could have just as easily written:\r\n\r\n```\r\npublic &lt;S extends Number&gt; createService(Class&lt;S&gt; serviceClass) { .. }\r\n```\r\n\r\nWhich is just fine; that restricts `S` to refer only to either `Number`, or `Integer`, or `Double`, or any other type that has `Number` in its list of supertypes (interface _or_ class, does not matter).\r\n\r\nNow, things get a little different. The one that _sets_ this variable is the caller, _not_ you. The caller decides what S is. You (the one writing the method) merely specifies the type restriction. In that sense it&#39;s exactly like a method parameter, where you (the method author) decide what type it has to be, but the caller picks the value for it.\r\n\r\nAnd that is not exactly the right &#39;view&#39; - at runtime you can&#39;t ask what S is (the &#39;values&#39; of typevars are erased by the compiler; in the class file it just isn&#39;t there, at all).\r\n\r\nGiven that generics are erased, the only real point to generics is __to link things__. Imagine I want a method that simply prints the int value of any number, and then just returns it, i.e. that I can write:\r\n\r\n```\r\nInteger i = printAsInt(Integer.valueOf(5));\r\n```\r\n\r\nNote how this is different from:\r\n\r\n```\r\nInteger i = Integer.valueOf(5);\r\nprintAsInt(i);\r\n```\r\n\r\nBecause that second snippet is two lines - to &#39;compress it down to one&#39;, we need the `printNumber` method to not just print that number, it also needs to _return the parameter verbatim_. We can trivially write this, of course:\r\n\r\n```\r\npublic Number printAsInt(Number n) {\r\n  System.out.println(n.intValue());\r\n  return n;\r\n}\r\n```\r\n\r\nBut this actually doesn&#39;t work! If we try to now write:\r\n\r\n```\r\nInteger i = printAsInt(Integer.valueOf(5));\r\n```\r\n\r\n`javac` will complain: The `printAsInt` method guarantees that it returns a `Number`. Yes, __we__ can see it returns its input, but you are free to change that method&#39;s contents later on and assuming you stick to the contract that is not considered &#39;backwards incompatible&#39; (and &#39;return any Number&#39; is part of the contract, not necessarily &#39;return the input&#39;).\r\n\r\nSo, we want a way in the type system to link things: To say, the type of the parameter is.. dunno. But whatever it is, the return type? It&#39;s the same type.\r\n\r\nAnd hence, this is the right way to write `printAsInt`:\r\n\r\n```\r\npublic &lt;N extends Number&gt; N printAsInt(N number) {\r\n  System.out.println(number.intValue());\r\n  return number;\r\n}\r\n```\r\n\r\nYes, that means if you use a declared type var 0 or 1 times total, it&#39;s a hack or a useless typevar. Needs to show up in at least 2 places. (printAsInt has it in 2 places: Return type, and type of its parameter).\r\n\r\n## Your snippet\r\n\r\n```\r\npublic static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n     return retrofit.create(serviceClass);\r\n}\r\n```\r\n\r\nSo now we know how to read this thing:\r\n\r\n_Caller, you can call this method by picking some type (any type is fine - S has no bounds), as well as picking a value for the only parameter I have. We linked some things: Whatever you picked for S? You need to provide a value whose type is `Class&lt;S&gt;` - in practice, if you pick `String`, the only thing you can pass is `String.class`. I will return - the type you picked_.\r\n\r\n## Where to declare typevars\r\n\r\nYou can legally declare a typevar in one of two places:\r\n\r\n* On a type declaration - looks like `public class Foo&lt;T extends Number&gt; {}` - here T declares a new type var, and it exists for all non-static methods and fields (and even non-static inner classes) defined anywhere inside that type.\r\n\r\n* On a method or constructor - looks like `public &lt;T extends Number&gt; void foo()` - exists only for that method.\r\n\r\nYour snippet is an example of the second bullet. Something like java&#39;s own `java.util.List` is an example of the first - it is declared as `public interface List&lt;E&gt; {}` and that `E` shows up everywhere - `add(E elem)`, `E get(int idx)`, `Iterator&lt;E&gt; iterator()`, and many more.\r\n\r\n## Care - variance!\r\n\r\nJava itself is covariant. That means a type is a perfectly fine standin for any of its supertypes. If you have a method `void foo(Number n) {}` you are free to call it with `foo(i)` where `i` is declared as `Integer i;` - because Integer is a perfectly fine standin for Number as Number is a supertype.\r\n\r\n__Generics are not like that__. Because math/universe. For example, given a `List&lt;Number&gt;`, that has a method `.add(Number n)`, and we just said that this means I can invoke `.add(someInteger)`. And thus also `.add(someDouble)`. But, if I can write:\r\n\r\n```\r\nList&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\r\nList&lt;Number&gt; numbers = ints; // same list!\r\nnumbers.add(Double.valueOf(5.5));\r\nInteger i = ints.get(0);\r\n```\r\n\r\nthen.. that code makes no sense, at all. There is only one list here (count the `new` - there is just the one `new`), just, 2 vars that both refer to the same list. I add a `Double`... to... a list.. of... ints. Uhoh. That&#39;s not right. That last line is non-sensical!\r\n\r\nThat&#39;s why the above _does not compile_. Because unlike &#39;normal&#39; java, the stuff within the `&lt;&gt;` is __invariant__. If you need `Number`, only `Number` will do, not any subtype of Number.\r\n\r\nThis is incredibly restrictive - imagine you want to write a method that takes in a list of numbers and all you do is print them out. If we write:\r\n\r\n```\r\npublic void printAllAsInt(List&lt;Number&gt; list) {\r\n  for (Number n : list) System.out.println(n.intValue());\r\n}\r\n```\r\n\r\nthen we indeed cannot write:\r\n\r\n```\r\nList&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\nprintAllAsInt(list);\r\n```\r\n\r\nBecause generics are invariant, and thus a `List&lt;Integer&gt;` is not an acceptable type to pass to a method that takes a `List&lt;Number&gt;` for the same reason you can&#39;t pass an `JLabel` to a method that takes a `File` object - completely different, unrelated types.\r\n\r\nBut that&#39;s annoying - our code would work just fine for any number (all numbers have an `intValue()` method, even doubles). You can write that:\r\n\r\n```\r\nvoid printAllAsInt(List&lt;? extends Number&gt; list) {\r\n  ...\r\n}\r\n```\r\n\r\nNow you _can_ pass a `List&lt;Integer&gt;` to it. `? extends` means: &quot;I want covariance&quot;, and `? super` means: &quot;I want contravariance&quot;. The compiler protects you: You __cannot__ invoke `.add` on a `List&lt;? extends Number&gt;`. At all.\r\n\r\n`List&lt;? extends Number&gt;` does __not__ mean &quot;A list that can contain numbers - any kinds of numbers&quot;. After all, `List&lt;Number&gt;` already means precisely that. No, `List&lt;? extends Number&gt;` means: A list that contains... well, I don&#39;t actually know. It&#39;s certainly restricted to.. something. I do know that whatever the restriction is, it&#39;s either `Number`, or `Integer`, or `Double`, or any other type that extends Number. Thus, calling `.get(idx)` on this list guarantees at the very least something assignable to a variable of type `Number` falls out. But, `.add()` is just straight up uncallable, given that I have no idea - could be a `List&lt;Double&gt;`, could be a `List&lt;Integer&gt;` - no value is _both_ a `Double` __and__ an `Integer` at the same time, so NOTHING can be passed to `add`. Well, except, literally, `null`, which is all types, but that&#39;s mostly useless.\r\n","title":"Confusion about generic return type in Java","body":"<p>generics are just variables, except, these variables are references to <strong>types</strong> whereas 'normal' variables reference <strong>values</strong>.</p>\n<p>Given:</p>\n<pre><code>Number n;\nn = Integer.valueOf(5);\nSystem.out.println(n);\n</code></pre>\n<p>A few things are happening:</p>\n<ol>\n<li><p><code>Number n;</code> <em>declares a new variable</em>. It says to the system: I decree there is some variable. Variables aren't values (they <strong>hold</strong> a value, a nuanced difference - <code>Integer.valueOf(5)</code>, that <em>is</em> a value). This variable furthermore has a limitation assigned to it: It must only ever be holding a value that has the property that it was created either as <code>new Number()</code>, or as <code>new Something()</code>, where <code>Something</code> has <code>Number</code> somewhere in its type hierarchy. That last bit is very important (after all, <code>Number</code> is abstract; <code>new Number()</code> is not possible at all).</p>\n</li>\n<li><p>In stark contrast, the second and third line do not <em>declare</em> anything. They merely <em>use</em> what has already been declared.</p>\n</li>\n</ol>\n<p><strong>Type variables work the same way</strong>.</p>\n<p>Given:</p>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n     return retrofit.create(serviceClass);\n}\n</code></pre>\n<p>The <code>&lt;S&gt;</code> part <strong>declares</strong> a new type variable. it is the typevar equivalent of writing <code>Object s;</code>. It declares a variable without assigning any value to it. If you had tried to write:</p>\n<pre><code>public static S createService(Class&lt;S&gt; serviceClass) { ... }\n</code></pre>\n<p>The compiler would complain exactly the same way it complains when you write:</p>\n<pre><code>void foo() {\n n = 5; // n? What is n? I have no idea what is going on!\n}\n</code></pre>\n<p>You have to declare before you can use them. Just <code>&lt;S&gt;</code> says there is no limit - it's short for <code>&lt;S extends Object&gt;</code>, and every ref type extends Object, hence, S can be anything (except primitives - generics and primitives don't currently (JDK21 and older) work together, maybe in some future java version that will change though).</p>\n<p>You could have just as easily written:</p>\n<pre><code>public &lt;S extends Number&gt; createService(Class&lt;S&gt; serviceClass) { .. }\n</code></pre>\n<p>Which is just fine; that restricts <code>S</code> to refer only to either <code>Number</code>, or <code>Integer</code>, or <code>Double</code>, or any other type that has <code>Number</code> in its list of supertypes (interface <em>or</em> class, does not matter).</p>\n<p>Now, things get a little different. The one that <em>sets</em> this variable is the caller, <em>not</em> you. The caller decides what S is. You (the one writing the method) merely specifies the type restriction. In that sense it's exactly like a method parameter, where you (the method author) decide what type it has to be, but the caller picks the value for it.</p>\n<p>And that is not exactly the right 'view' - at runtime you can't ask what S is (the 'values' of typevars are erased by the compiler; in the class file it just isn't there, at all).</p>\n<p>Given that generics are erased, the only real point to generics is <strong>to link things</strong>. Imagine I want a method that simply prints the int value of any number, and then just returns it, i.e. that I can write:</p>\n<pre><code>Integer i = printAsInt(Integer.valueOf(5));\n</code></pre>\n<p>Note how this is different from:</p>\n<pre><code>Integer i = Integer.valueOf(5);\nprintAsInt(i);\n</code></pre>\n<p>Because that second snippet is two lines - to 'compress it down to one', we need the <code>printNumber</code> method to not just print that number, it also needs to <em>return the parameter verbatim</em>. We can trivially write this, of course:</p>\n<pre><code>public Number printAsInt(Number n) {\n  System.out.println(n.intValue());\n  return n;\n}\n</code></pre>\n<p>But this actually doesn't work! If we try to now write:</p>\n<pre><code>Integer i = printAsInt(Integer.valueOf(5));\n</code></pre>\n<p><code>javac</code> will complain: The <code>printAsInt</code> method guarantees that it returns a <code>Number</code>. Yes, <strong>we</strong> can see it returns its input, but you are free to change that method's contents later on and assuming you stick to the contract that is not considered 'backwards incompatible' (and 'return any Number' is part of the contract, not necessarily 'return the input').</p>\n<p>So, we want a way in the type system to link things: To say, the type of the parameter is.. dunno. But whatever it is, the return type? It's the same type.</p>\n<p>And hence, this is the right way to write <code>printAsInt</code>:</p>\n<pre><code>public &lt;N extends Number&gt; N printAsInt(N number) {\n  System.out.println(number.intValue());\n  return number;\n}\n</code></pre>\n<p>Yes, that means if you use a declared type var 0 or 1 times total, it's a hack or a useless typevar. Needs to show up in at least 2 places. (printAsInt has it in 2 places: Return type, and type of its parameter).</p>\n<h2>Your snippet</h2>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n     return retrofit.create(serviceClass);\n}\n</code></pre>\n<p>So now we know how to read this thing:</p>\n<p><em>Caller, you can call this method by picking some type (any type is fine - S has no bounds), as well as picking a value for the only parameter I have. We linked some things: Whatever you picked for S? You need to provide a value whose type is <code>Class&lt;S&gt;</code> - in practice, if you pick <code>String</code>, the only thing you can pass is <code>String.class</code>. I will return - the type you picked</em>.</p>\n<h2>Where to declare typevars</h2>\n<p>You can legally declare a typevar in one of two places:</p>\n<ul>\n<li><p>On a type declaration - looks like <code>public class Foo&lt;T extends Number&gt; {}</code> - here T declares a new type var, and it exists for all non-static methods and fields (and even non-static inner classes) defined anywhere inside that type.</p>\n</li>\n<li><p>On a method or constructor - looks like <code>public &lt;T extends Number&gt; void foo()</code> - exists only for that method.</p>\n</li>\n</ul>\n<p>Your snippet is an example of the second bullet. Something like java's own <code>java.util.List</code> is an example of the first - it is declared as <code>public interface List&lt;E&gt; {}</code> and that <code>E</code> shows up everywhere - <code>add(E elem)</code>, <code>E get(int idx)</code>, <code>Iterator&lt;E&gt; iterator()</code>, and many more.</p>\n<h2>Care - variance!</h2>\n<p>Java itself is covariant. That means a type is a perfectly fine standin for any of its supertypes. If you have a method <code>void foo(Number n) {}</code> you are free to call it with <code>foo(i)</code> where <code>i</code> is declared as <code>Integer i;</code> - because Integer is a perfectly fine standin for Number as Number is a supertype.</p>\n<p><strong>Generics are not like that</strong>. Because math/universe. For example, given a <code>List&lt;Number&gt;</code>, that has a method <code>.add(Number n)</code>, and we just said that this means I can invoke <code>.add(someInteger)</code>. And thus also <code>.add(someDouble)</code>. But, if I can write:</p>\n<pre><code>List&lt;Integer&gt; ints = new ArrayList&lt;&gt;();\nList&lt;Number&gt; numbers = ints; // same list!\nnumbers.add(Double.valueOf(5.5));\nInteger i = ints.get(0);\n</code></pre>\n<p>then.. that code makes no sense, at all. There is only one list here (count the <code>new</code> - there is just the one <code>new</code>), just, 2 vars that both refer to the same list. I add a <code>Double</code>... to... a list.. of... ints. Uhoh. That's not right. That last line is non-sensical!</p>\n<p>That's why the above <em>does not compile</em>. Because unlike 'normal' java, the stuff within the <code>&lt;&gt;</code> is <strong>invariant</strong>. If you need <code>Number</code>, only <code>Number</code> will do, not any subtype of Number.</p>\n<p>This is incredibly restrictive - imagine you want to write a method that takes in a list of numbers and all you do is print them out. If we write:</p>\n<pre><code>public void printAllAsInt(List&lt;Number&gt; list) {\n  for (Number n : list) System.out.println(n.intValue());\n}\n</code></pre>\n<p>then we indeed cannot write:</p>\n<pre><code>List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\nprintAllAsInt(list);\n</code></pre>\n<p>Because generics are invariant, and thus a <code>List&lt;Integer&gt;</code> is not an acceptable type to pass to a method that takes a <code>List&lt;Number&gt;</code> for the same reason you can't pass an <code>JLabel</code> to a method that takes a <code>File</code> object - completely different, unrelated types.</p>\n<p>But that's annoying - our code would work just fine for any number (all numbers have an <code>intValue()</code> method, even doubles). You can write that:</p>\n<pre><code>void printAllAsInt(List&lt;? extends Number&gt; list) {\n  ...\n}\n</code></pre>\n<p>Now you <em>can</em> pass a <code>List&lt;Integer&gt;</code> to it. <code>? extends</code> means: &quot;I want covariance&quot;, and <code>? super</code> means: &quot;I want contravariance&quot;. The compiler protects you: You <strong>cannot</strong> invoke <code>.add</code> on a <code>List&lt;? extends Number&gt;</code>. At all.</p>\n<p><code>List&lt;? extends Number&gt;</code> does <strong>not</strong> mean &quot;A list that can contain numbers - any kinds of numbers&quot;. After all, <code>List&lt;Number&gt;</code> already means precisely that. No, <code>List&lt;? extends Number&gt;</code> means: A list that contains... well, I don't actually know. It's certainly restricted to.. something. I do know that whatever the restriction is, it's either <code>Number</code>, or <code>Integer</code>, or <code>Double</code>, or any other type that extends Number. Thus, calling <code>.get(idx)</code> on this list guarantees at the very least something assignable to a variable of type <code>Number</code> falls out. But, <code>.add()</code> is just straight up uncallable, given that I have no idea - could be a <code>List&lt;Double&gt;</code>, could be a <code>List&lt;Integer&gt;</code> - no value is <em>both</em> a <code>Double</code> <strong>and</strong> an <code>Integer</code> at the same time, so NOTHING can be passed to <code>add</code>. Well, except, literally, <code>null</code>, which is all types, but that's mostly useless.</p>\n"},{"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686273349,"post_id":76435843,"comment_id":134779937,"body_markdown":"Why is the history relevant?","body":"Why is the history relevant?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686273483,"post_id":76435843,"comment_id":134779953,"body_markdown":"To answer the question.","body":"To answer the question."},{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1686273632,"post_id":76435843,"comment_id":134779968,"body_markdown":"The question was about the meaning of the syntax, not how and when it was introduced.","body":"The question was about the meaning of the syntax, not how and when it was introduced."},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686273683,"post_id":76435843,"comment_id":134779970,"body_markdown":"That&#39;s great, write an answer.","body":"That&#39;s great, write an answer."}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686273261,"creation_date":1686260204,"answer_id":76435843,"question_id":76435103,"body_markdown":"The syntax is newer than the originating _Java_ syntax.\r\n\r\n_Java_ ran for several issues before implementing the _[Generics](https://docs.oracle.com/javase/tutorial/java/generics/index.html)_ interface, which was introduced in _[Java SE 5.0](https://en.wikipedia.org/wiki/Java_version_history)_.\r\n\r\nIn addition to this, _Java_ was founded on the same syntax as _[C](https://en.wikipedia.org/wiki/C_(programming_language))_, with the aim to offer an easy transition from _C_ to _Java_.\r\n\r\nHence, the only way to correctly define generic-type parameters would be to create a new syntax.\r\n\r\nYou can review _generic_ method syntax, at the following link.  \r\n_[Generic Methods (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Generics (Updated))](https://docs.oracle.com/javase/tutorial/java/generics/methods.html)_.\r\n\r\nEssentially, it is stating that, within the method there will be a type _S_ object.  \r\nSo the compiler doesn&#39;t throw an error.","title":"Confusion about generic return type in Java","body":"<p>The syntax is newer than the originating <em>Java</em> syntax.</p>\n<p><em>Java</em> ran for several issues before implementing the <em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/index.html\" rel=\"nofollow noreferrer\">Generics</a></em> interface, which was introduced in <em><a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">Java SE 5.0</a></em>.</p>\n<p>In addition to this, <em>Java</em> was founded on the same syntax as <em><a href=\"https://en.wikipedia.org/wiki/C_(programming_language)\" rel=\"nofollow noreferrer\">C</a></em>, with the aim to offer an easy transition from <em>C</em> to <em>Java</em>.</p>\n<p>Hence, the only way to correctly define generic-type parameters would be to create a new syntax.</p>\n<p>You can review <em>generic</em> method syntax, at the following link.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/generics/methods.html\" rel=\"nofollow noreferrer\">Generic Methods (The Java™ Tutorials &gt; Learning the Java Language &gt; Generics (Updated))</a></em>.</p>\n<p>Essentially, it is stating that, within the method there will be a type <em>S</em> object.<br />\nSo the compiler doesn't throw an error.</p>\n"}],"owner":{"account_id":23411012,"reputation":146,"user_id":17472695,"display_name":"stardep"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1686273261,"creation_date":1686252247,"question_id":76435103,"body_markdown":"Generic has always been a topic of fear for me.\r\nRecently I came across a code snippet while learning the retrofit in Android\r\n\r\n    public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\r\n            return retrofit.create(serviceClass);\r\n        }\r\n\r\nCan anybody, in depth, explain me meaning of this  `&lt;S&gt;S` part to me ?\r\nEspecially why the `&lt;S&gt;` is added to the left of S ?","title":"Confusion about generic return type in Java","body":"<p>Generic has always been a topic of fear for me.\nRecently I came across a code snippet while learning the retrofit in Android</p>\n<pre><code>public static &lt;S&gt; S createService(Class&lt;S&gt; serviceClass) {\n        return retrofit.create(serviceClass);\n    }\n</code></pre>\n<p>Can anybody, in depth, explain me meaning of this  <code>&lt;S&gt;S</code> part to me ?\nEspecially why the <code>&lt;S&gt;</code> is added to the left of S ?</p>\n"},{"tags":["java","spring","graphql","interceptor"],"comments":[{"owner":{"account_id":9729816,"reputation":99,"user_id":7215277,"display_name":"Pankaj Chouhan"},"score":1,"creation_date":1684258999,"post_id":74311160,"comment_id":134491185,"body_markdown":"request you to please let me know if you were able to resolve this issue, as am  facing the same issue and having exact same requirement.","body":"request you to please let me know if you were able to resolve this issue, as am  facing the same issue and having exact same requirement."},{"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"score":1,"creation_date":1686272449,"post_id":74311160,"comment_id":134779857,"body_markdown":"@PankajChouhan Please see my answer for a workaround using both the interceptor and GraphQL instrumentation.","body":"@PankajChouhan Please see my answer for a workaround using both the interceptor and GraphQL instrumentation."}],"answers":[{"comments":[{"owner":{"account_id":8389449,"reputation":377,"user_id":6298640,"display_name":"Saikrishna Radarapu"},"score":0,"creation_date":1693011490,"post_id":76436558,"comment_id":135707917,"body_markdown":"could you please provide a snippet of code showing how you used GraphQL Instrumentation?","body":"could you please provide a snippet of code showing how you used GraphQL Instrumentation?"}],"tags":[],"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686272405,"creation_date":1686272405,"answer_id":76436558,"question_id":74311160,"body_markdown":"I found a workaround that involves an extra piece.\r\n\r\nI made my `WebGraphQlInterceptor` pass the HTTP authorization headers to the GraphQL context, where it’s then accessible via FieldValidation GraphQL [instrumentation](https://www.graphql-java.com/documentation/instrumentation). The FieldValidation GraphQL instrumentation runs later in the chain, after the GraphQL body has been parsed, so it has easy access to GraphQL variables. It also has access to original HTTP header values since the interceptor passed those via the GraphQL context. Then, based on whether the user is authorized or not, I made the field instrumentation return either a GraphQLError or an empty error list. If it returns an error, the framework correctly bypasses the controller and returns the error to the client.\r\n\r\nHere&#39;s a relevant post in the spring-graphql GitHub: https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130","title":"How to short-circuit from Spring WebGraphQlInterceptor without executing controller handler?","body":"<p>I found a workaround that involves an extra piece.</p>\n<p>I made my <code>WebGraphQlInterceptor</code> pass the HTTP authorization headers to the GraphQL context, where it’s then accessible via FieldValidation GraphQL <a href=\"https://www.graphql-java.com/documentation/instrumentation\" rel=\"nofollow noreferrer\">instrumentation</a>. The FieldValidation GraphQL instrumentation runs later in the chain, after the GraphQL body has been parsed, so it has easy access to GraphQL variables. It also has access to original HTTP header values since the interceptor passed those via the GraphQL context. Then, based on whether the user is authorized or not, I made the field instrumentation return either a GraphQLError or an empty error list. If it returns an error, the framework correctly bypasses the controller and returns the error to the client.</p>\n<p>Here's a relevant post in the spring-graphql GitHub: <a href=\"https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-graphql/issues/529#issuecomment-1310194130</a></p>\n"}],"owner":{"account_id":5645372,"reputation":384,"user_id":4467665,"accept_rate":60,"display_name":"thatWiseGuy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686272405,"creation_date":1667524744,"question_id":74311160,"body_markdown":"I have a Spring WebFlux application and am trying to write a [WebGraphQlInterceptor][1] to enforce authorization. The authorization requires access to HTTP headers and GraphQL variables, both of which are easily accessible from a `WebGraphQlInterceptor`. However, if the request fails authorization, I do *not* want to execute the controller handler and instead exit early with an error response. I have the custom error response working OK, but I cannot figure out how to bypass the controller -- it seems like I&#39;m required to proceed down the original chain, execute the controller, and only then return the error response.\r\n\r\nI&#39;m hoping there&#39;s an easy solution I&#39;m missing. The documentation seems sparse on this topic with very few examples online. The [WebGraphQlInterceptor documentation][2] lists some methods like `apply()` that sound like they might be helpful for altering the chain, but it&#39;s not clear how to use them. The interceptor interface requires a `WebGraphQlResponse` to be returned, and I can&#39;t find a way to return it without continuing down the original chain with `chain.next(request)` below:\r\n\r\n```java\r\n@Override\r\npublic Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\r\n  return chain.next(request).map(response -&gt; {\r\n    // Custom logic...\r\n  });\r\n}\r\n```\r\n\r\nI also tried constructing my own custom `WebGraphQlResponse` from scratch to return from the interceptor, but this felt like a hack and a lot of unnecessary overhead.\r\n\r\nI don&#39;t want the controller to be executed at all if authorization fails. **Is this even possible with the WebGraphQlInterceptor? And what would the simplest implementation look like?**\r\n\r\n*P.S. The [WebFilter][3] doesn&#39;t help me here because I need easy access to GraphQL variables, which isn&#39;t possible with WebFilters.*\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-graphql/docs/current/reference/html/#server-interception-web\r\n  [2]: https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/server/WebGraphQlInterceptor.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html","title":"How to short-circuit from Spring WebGraphQlInterceptor without executing controller handler?","body":"<p>I have a Spring WebFlux application and am trying to write a <a href=\"https://docs.spring.io/spring-graphql/docs/current/reference/html/#server-interception-web\" rel=\"nofollow noreferrer\">WebGraphQlInterceptor</a> to enforce authorization. The authorization requires access to HTTP headers and GraphQL variables, both of which are easily accessible from a <code>WebGraphQlInterceptor</code>. However, if the request fails authorization, I do <em>not</em> want to execute the controller handler and instead exit early with an error response. I have the custom error response working OK, but I cannot figure out how to bypass the controller -- it seems like I'm required to proceed down the original chain, execute the controller, and only then return the error response.</p>\n<p>I'm hoping there's an easy solution I'm missing. The documentation seems sparse on this topic with very few examples online. The <a href=\"https://docs.spring.io/spring-graphql/docs/current-SNAPSHOT/api/org/springframework/graphql/server/WebGraphQlInterceptor.html\" rel=\"nofollow noreferrer\">WebGraphQlInterceptor documentation</a> lists some methods like <code>apply()</code> that sound like they might be helpful for altering the chain, but it's not clear how to use them. The interceptor interface requires a <code>WebGraphQlResponse</code> to be returned, and I can't find a way to return it without continuing down the original chain with <code>chain.next(request)</code> below:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic Mono&lt;WebGraphQlResponse&gt; intercept(WebGraphQlRequest request, Chain chain) {\n  return chain.next(request).map(response -&gt; {\n    // Custom logic...\n  });\n}\n</code></pre>\n<p>I also tried constructing my own custom <code>WebGraphQlResponse</code> from scratch to return from the interceptor, but this felt like a hack and a lot of unnecessary overhead.</p>\n<p>I don't want the controller to be executed at all if authorization fails. <strong>Is this even possible with the WebGraphQlInterceptor? And what would the simplest implementation look like?</strong></p>\n<p><em>P.S. The <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/server/WebFilter.html\" rel=\"nofollow noreferrer\">WebFilter</a> doesn't help me here because I need easy access to GraphQL variables, which isn't possible with WebFilters.</em></p>\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":1677570,"reputation":18354,"user_id":1542723,"display_name":"Ferrybig"},"score":0,"creation_date":1686573436,"post_id":76436543,"comment_id":134812626,"body_markdown":"Can you share code for sending and for receiving?","body":"Can you share code for sending and for receiving?"}],"owner":{"account_id":15660774,"reputation":23,"user_id":11299783,"display_name":"NetUser"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686271994,"creation_date":1686271994,"question_id":76436543,"body_markdown":"I&#39;m running into an issue I think I can&#39;t solve without some help.\r\nI&#39;ve setup a simple Client/Server model with Netty. I&#39;m using the &#39;SimpleChannelInboundHandler&#39; implementation. \r\nWhen I&#39;m trying to encode an integer and try to decode it on the server side it translates to some random numbers, most often to 0. Before anyone is asking I&#39;m checking for empty buffers.\r\nDoes anyone have a clue what could be the problem here?\r\n\r\n`Netty-Version 4.1.90-Final\r\nJDK/JRE 8\r\nUbuntu 22.04/Windows 10 (issues are the same on both platforms)`\r\n\r\n\r\nI&#39;ve tried to debug this a bit with random integers but it does not work as expected.\r\n\r\n\r\n\r\nThanks for any hint.","title":"Netty issues with ByteBuf Encoding/Decoding","body":"<p>I'm running into an issue I think I can't solve without some help.\nI've setup a simple Client/Server model with Netty. I'm using the 'SimpleChannelInboundHandler' implementation.\nWhen I'm trying to encode an integer and try to decode it on the server side it translates to some random numbers, most often to 0. Before anyone is asking I'm checking for empty buffers.\nDoes anyone have a clue what could be the problem here?</p>\n<p><code>Netty-Version 4.1.90-Final JDK/JRE 8 Ubuntu 22.04/Windows 10 (issues are the same on both platforms)</code></p>\n<p>I've tried to debug this a bit with random integers but it does not work as expected.</p>\n<p>Thanks for any hint.</p>\n"},{"tags":["java","weblogic"],"answers":[{"tags":[],"owner":{"account_id":10954347,"reputation":1614,"user_id":8049667,"display_name":"Sh. Pavel"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528707472,"creation_date":1528707472,"answer_id":50793866,"question_id":50793771,"body_markdown":"Seems like ovveriding config property defaultzone on the server.\r\nProbably you will find solution here: \r\n\r\nComment: [LINK][1]\r\n\r\n&gt; After days, looking thousand times on the same config file I realized the issue. At the end it was just a misspelling of defaultzone. After changing it to defaultZone everything works like expected.\r\nThank you very much for your time.\r\n\r\n\r\n  [1]: https://github.com/spring-cloud/spring-cloud-netflix/issues/1305","title":"java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server","body":"<p>Seems like ovveriding config property defaultzone on the server.\nProbably you will find solution here: </p>\n\n<p>Comment: <a href=\"https://github.com/spring-cloud/spring-cloud-netflix/issues/1305\" rel=\"nofollow noreferrer\">LINK</a></p>\n\n<blockquote>\n  <p>After days, looking thousand times on the same config file I realized the issue. At the end it was just a misspelling of defaultzone. After changing it to defaultZone everything works like expected.\n  Thank you very much for your time.</p>\n</blockquote>\n"}],"owner":{"account_id":9452544,"reputation":399,"user_id":7028822,"accept_rate":56,"display_name":"Elva"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11415,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1686269255,"creation_date":1528707137,"question_id":50793771,"body_markdown":"I encountered the following issue when running program in Weblogic server.\r\n\r\nThe url **http://localhost:8080** is reachable on my side, but when I use the below code to connect the server it failed with connection exception.\r\n\r\n    import com.sun.jersey.api.client.Client;\r\n    import com.sun.jersey.api.client.ClientResponse;\r\n    import com.sun.jersey.api.client.WebResource;\r\n    import com.sun.jersey.api.client.filter.HTTPBasicAuthFilter;\r\n\r\n    public static String invokeGet(String url, String dsl) {\r\n      String url = &quot;http://localhost:8080&quot;;\r\n      Client clientInstance = Client.create();\r\n      clientInstance.addFilter(new HTTPBasicAuthFilter(&quot;&quot;, &quot;&quot;));\r\n     \r\n      WebResource webResource = clientInstance.resource(url);\r\n     \r\n      ClientResponse response =\r\n        webResource.entity(dsl).header(&quot;Content-type&quot;, &quot;application/json&quot;).accept(&quot;application/json&quot;).get(ClientResponse.class);\r\n         }\r\n\r\nThe detailed error message:\r\n\r\n    Caused by: java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server: &#39;hostname&#39;, port: &#39;8080&#39;\r\n    \r\n    at weblogic.net.http.HttpClient.openServer(HttpClient.java:333)\r\n    \tat weblogic.net.http.HttpClient.openServer(HttpClient.java:425)\r\n    \tat weblogic.net.http.HttpClient.New(HttpClient.java:252)\r\n    \tat weblogic.net.http.HttpURLConnection.connect(HttpURLConnection.java:213)\r\n    \tat weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:398)\r\n    \tat weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\r\n    \tat weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1005)\r\n    \tat com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:215)\r\n    \tat com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:126)\r\n    \t... 182 more\r\n\r\n**One more thing is that I can run it normally in integrated server but failed to run it in standalone server.** ","title":"java.net.ConnectException: Tried all: &#39;1&#39; addresses, but could not connect over HTTP to server","body":"<p>I encountered the following issue when running program in Weblogic server.</p>\n\n<p>The url <strong><a href=\"http://localhost:8080\" rel=\"nofollow noreferrer\">http://localhost:8080</a></strong> is reachable on my side, but when I use the below code to connect the server it failed with connection exception.</p>\n\n<pre><code>import com.sun.jersey.api.client.Client;\nimport com.sun.jersey.api.client.ClientResponse;\nimport com.sun.jersey.api.client.WebResource;\nimport com.sun.jersey.api.client.filter.HTTPBasicAuthFilter;\n\npublic static String invokeGet(String url, String dsl) {\n  String url = \"http://localhost:8080\";\n  Client clientInstance = Client.create();\n  clientInstance.addFilter(new HTTPBasicAuthFilter(\"\", \"\"));\n\n  WebResource webResource = clientInstance.resource(url);\n\n  ClientResponse response =\n    webResource.entity(dsl).header(\"Content-type\", \"application/json\").accept(\"application/json\").get(ClientResponse.class);\n     }\n</code></pre>\n\n<p>The detailed error message:</p>\n\n<pre><code>Caused by: java.net.ConnectException: Tried all: '1' addresses, but could not connect over HTTP to server: 'hostname', port: '8080'\n\nat weblogic.net.http.HttpClient.openServer(HttpClient.java:333)\n    at weblogic.net.http.HttpClient.openServer(HttpClient.java:425)\n    at weblogic.net.http.HttpClient.New(HttpClient.java:252)\n    at weblogic.net.http.HttpURLConnection.connect(HttpURLConnection.java:213)\n    at weblogic.net.http.HttpURLConnection.getInputStream(HttpURLConnection.java:398)\n    at weblogic.net.http.SOAPHttpURLConnection.getInputStream(SOAPHttpURLConnection.java:37)\n    at weblogic.net.http.HttpURLConnection.getResponseCode(HttpURLConnection.java:1005)\n    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler._invoke(URLConnectionClientHandler.java:215)\n    at com.sun.jersey.client.urlconnection.URLConnectionClientHandler.handle(URLConnectionClientHandler.java:126)\n    ... 182 more\n</code></pre>\n\n<p><strong>One more thing is that I can run it normally in integrated server but failed to run it in standalone server.</strong> </p>\n"},{"tags":["java","eclipse","formatting"],"answers":[{"comments":[{"owner":{"account_id":1817832,"reputation":351,"user_id":1652584,"display_name":"cmevoli"},"score":2,"creation_date":1367574633,"post_id":16344124,"comment_id":23432340,"body_markdown":"not sure what you mean by &quot;poor use of space&quot;.  The only problem seems to be with the closing braces not being able to indent.  This is the way all the code is in version control and we don&#39;t want it to deviate from the way it is now.  Using other formatters, such as astyle, support this banner style but I don&#39;t seem to see a way to set it up in eclipse.","body":"not sure what you mean by &quot;poor use of space&quot;.  The only problem seems to be with the closing braces not being able to indent.  This is the way all the code is in version control and we don&#39;t want it to deviate from the way it is now.  Using other formatters, such as astyle, support this banner style but I don&#39;t seem to see a way to set it up in eclipse."},{"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"score":0,"creation_date":1686179447,"post_id":16344124,"comment_id":134765457,"body_markdown":"The extra lines of comments, @cmevoli.","body":"The extra lines of comments, @cmevoli."},{"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"score":0,"creation_date":1686223457,"post_id":16344124,"comment_id":134771086,"body_markdown":"@nitind Ratliff is about horizontal indentation not about vertical spacing. So, the comment lines are the dev&#39;s personal taste.","body":"@nitind Ratliff is about horizontal indentation not about vertical spacing. So, the comment lines are the dev&#39;s personal taste."},{"owner":{"account_id":1817832,"reputation":351,"user_id":1652584,"display_name":"cmevoli"},"score":0,"creation_date":1686269175,"post_id":16344124,"comment_id":134779571,"body_markdown":"Correct, the comment lines are not related to this formatting style.   They are just separators we use in some code blocks.    I can remove them from the initial question since they are leading to confusion.   Also, we are not looking for a solution in Eclipse anymore.  We have since moved to Netbeans.","body":"Correct, the comment lines are not related to this formatting style.   They are just separators we use in some code blocks.    I can remove them from the initial question since they are leading to confusion.   Also, we are not looking for a solution in Eclipse anymore.  We have since moved to Netbeans."}],"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1367515557,"creation_date":1367515557,"answer_id":16344124,"question_id":16343270,"body_markdown":"Experiment with your Java-&gt;Code Style-&gt;Formatter preferences.  &quot;Banner style&quot; seems like a poor use of space given the Outline View and Quick Outline functionality.","title":"Eclipse formatter for java ending braces","body":"<p>Experiment with your Java->Code Style->Formatter preferences.  \"Banner style\" seems like a poor use of space given the Outline View and Quick Outline functionality.</p>\n"}],"owner":{"account_id":1817832,"reputation":351,"user_id":1652584,"display_name":"cmevoli"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":212,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1686269235,"creation_date":1367512563,"question_id":16343270,"body_markdown":"I would like to know if it&#39;s possible to setup eclipse to format braces using banner style.  We&#39;re working with code that uses banner style formatting and would like to keep it consistent within the team for version control reasons.  Here&#39;s an example of banner style formatting for those who are not familiar:\r\n\r\n    public class Foo {\r\n        public static void main (String[] args) {\r\n            boolean condition = true;\r\n            try {\r\n                if (condition) {\r\n                    System.out.println (&quot;condition is true&quot;);\r\n                    }\r\n                else System.out.println (&quot;not condition&quot;);\r\n                }\r\n            catch (Exception ex) {\r\n                // handle errors\r\n                }\r\n            }\r\n        }\r\n\r\nUpdate: Another name for this style is [Ratliff].\r\n\r\n[Ratliff]: https://en.wikipedia.org/wiki/Indentation_style#Ratliff_style","title":"Eclipse formatter for java ending braces","body":"<p>I would like to know if it's possible to setup eclipse to format braces using banner style.  We're working with code that uses banner style formatting and would like to keep it consistent within the team for version control reasons.  Here's an example of banner style formatting for those who are not familiar:</p>\n<pre><code>public class Foo {\n    public static void main (String[] args) {\n        boolean condition = true;\n        try {\n            if (condition) {\n                System.out.println (&quot;condition is true&quot;);\n                }\n            else System.out.println (&quot;not condition&quot;);\n            }\n        catch (Exception ex) {\n            // handle errors\n            }\n        }\n    }\n</code></pre>\n<p>Update: Another name for this style is <a href=\"https://en.wikipedia.org/wiki/Indentation_style#Ratliff_style\" rel=\"nofollow noreferrer\">Ratliff</a>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686246887,"post_id":76434332,"comment_id":134776411,"body_markdown":"*`&quot;I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.&quot;`*  Why not just show the resultant string instead of describing it?","body":"<i><code>&quot;I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.&quot;</code></i>  Why not just show the resultant string instead of describing it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686247931,"post_id":76434332,"comment_id":134776633,"body_markdown":"To me, that looks more like a string that has been badly en/decoded. IOW it has missing data. So how do you know those data are not also important?","body":"To me, that looks more like a string that has been badly en/decoded. IOW it has missing data. So how do you know those data are not also important?"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1686249222,"post_id":76434332,"comment_id":134776861,"body_markdown":"*&quot;`If possible, use Java Pattern, because it is quite efficient.`&quot;* Actually, Java Pattern is not necessarily efficient but it provides general convenience.  In  some situations where performance is critical, writing a custom parser would probably be better.  But that also depends on the complexity of the parser and coding time.","body":"<i>&quot;<code>If possible, use Java Pattern, because it is quite efficient.</code>&quot;</i> Actually, Java Pattern is not necessarily efficient but it provides general convenience.  In  some situations where performance is critical, writing a custom parser would probably be better.  But that also depends on the complexity of the parser and coding time."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686249403,"post_id":76434332,"comment_id":134776896,"body_markdown":"`s.replaceAll(&quot;\\\\p{alpha}&quot;, &quot;-&quot;)` will do it for you, if you really don&#39;t care about the encoding issue I mentioned","body":"<code>s.replaceAll(&quot;\\\\p{alpha}&quot;, &quot;-&quot;)</code> will do it for you, if you really don&#39;t care about the encoding issue I mentioned"}],"answers":[{"comments":[{"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"score":0,"creation_date":1686245722,"post_id":76434370,"comment_id":134776190,"body_markdown":"upd: there is good practice to to store pattern as a static variable, just a side note","body":"upd: there is good practice to to store pattern as a static variable, just a side note"},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1686269112,"post_id":76434370,"comment_id":134779563,"body_markdown":"@PatPanda You haven&#39;t actually accepted the answer.  Click on the check mark to the left.","body":"@PatPanda You haven&#39;t actually accepted the answer.  Click on the check mark to the left."}],"tags":[],"owner":{"account_id":22394789,"reputation":1382,"user_id":16606223,"display_name":"Yahor Barkouski"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686245679,"creation_date":1686245679,"answer_id":76434370,"question_id":76434332,"body_markdown":"You can use the `+` quantifier in your regular expression to match 1+ consecutive non-alphabet characters:\r\n```java\r\n final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n final String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;); \r\n System.out.println(clean); // prints -important-alsoimportant-\r\n```\r\n\r\nSimilar goes for the Pattern (might be helpful if you&#39;re doing this replacement multiple times):\r\n```java\r\nfinal Pattern NON_ALPHABET = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\r\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\nfinal String clean = NON_ALPHABET.matcher(input).replaceAll(&quot;-&quot;);\r\nSystem.out.println(clean); // prints the same\r\n```\r\n","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>You can use the <code>+</code> quantifier in your regular expression to match 1+ consecutive non-alphabet characters:</p>\n<pre class=\"lang-java prettyprint-override\"><code> final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n final String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;); \n System.out.println(clean); // prints -important-alsoimportant-\n</code></pre>\n<p>Similar goes for the Pattern (might be helpful if you're doing this replacement multiple times):</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Pattern NON_ALPHABET = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\nfinal String clean = NON_ALPHABET.matcher(input).replaceAll(&quot;-&quot;);\nSystem.out.println(clean); // prints the same\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26729789,"reputation":73,"user_id":20332351,"display_name":"Xuan Chen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686247111,"creation_date":1686247111,"answer_id":76434536,"question_id":76434332,"body_markdown":"Here&#39;s another way if you focus on the words. I&#39;d like to use `Pattern.compile(&quot;[a-zA-Z]+&quot;)` to solve the problem. After getting the expected words, say, &quot;important&quot; and &quot;alsoimportant&quot;, it is convenient to use StringBuilder to join them together.\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);\r\n        Matcher matcher = pattern.matcher(input);\r\n        StringBuilder builder = new StringBuilder(&quot;-&quot;);\r\n        while (matcher.find()) {\r\n            builder.append(matcher.group()).append(&quot;-&quot;);\r\n        }\r\n        System.out.println(builder); // output &quot;-important-alsoimportant-&quot;\r\n    }\r\n}\r\n```\r\nNote: The pattern above assumes that all of the words consist only of letters from &#39;a&#39; to &#39;z&#39; or &#39;A&#39; to &#39;Z&#39;. Yet some of the words, like &quot;mp3&quot; would be regarded as the combination of the word &quot;mp&quot; and gibberish &#39;3&#39;. To avoid this, just change the pattern to `Pattern.compile(&quot;\\\\w+&quot;)`.","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>Here's another way if you focus on the words. I'd like to use <code>Pattern.compile(&quot;[a-zA-Z]+&quot;)</code> to solve the problem. After getting the expected words, say, &quot;important&quot; and &quot;alsoimportant&quot;, it is convenient to use StringBuilder to join them together.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n        Pattern pattern = Pattern.compile(&quot;[a-zA-Z]+&quot;);\n        Matcher matcher = pattern.matcher(input);\n        StringBuilder builder = new StringBuilder(&quot;-&quot;);\n        while (matcher.find()) {\n            builder.append(matcher.group()).append(&quot;-&quot;);\n        }\n        System.out.println(builder); // output &quot;-important-alsoimportant-&quot;\n    }\n}\n</code></pre>\n<p>Note: The pattern above assumes that all of the words consist only of letters from 'a' to 'z' or 'A' to 'Z'. Yet some of the words, like &quot;mp3&quot; would be regarded as the combination of the word &quot;mp&quot; and gibberish '3'. To avoid this, just change the pattern to <code>Pattern.compile(&quot;\\\\w+&quot;)</code>.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686249829,"creation_date":1686249829,"answer_id":76434851,"question_id":76434332,"body_markdown":"&gt; _&quot;It is not using Pattern&quot;_\r\n\r\nIt is, actually.  \r\nThe _[String#replaceAll](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L2964)_ method is utilizing the _Pattern_ class.\r\n\r\n&gt; _&quot;there are a number of dashes equal to the number of non-alphabet. I just need one. What is a good way to achieve this?&quot;_\r\n\r\nThe effect you&#39;re looking to achieve can be done with the _[+ quantifer](https://en.wikipedia.org/wiki/Regular_expression#Basic_concepts)_.  \r\nThis will attempt to match _1 or more_ of the the preceding value, in this case the _character class_.\r\n\r\n```java\r\nfinal String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\nfinal String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\r\nSystem.out.println(clean);\r\n// print ---------important---------------alsoimportant-------\r\n// would like -important-alsoimportant-\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n-important-alsoimportant-\r\n```\r\n\r\nIf you&#39;d like to implement the _[Pattern](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html)_ and _[Matcher](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html)_ classes explicitly, you can use the following.\r\n\r\n```java\r\nPattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\r\nMatcher matcher = pattern.matcher(input);\r\nSystem.out.println(matcher.replaceAll(&quot;-&quot;));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n-important-alsoimportant-\r\n```","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<blockquote>\n<p><em>&quot;It is not using Pattern&quot;</em></p>\n</blockquote>\n<p>It is, actually.<br />\nThe <em><a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/lang/String.java#L2964\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method is utilizing the <em>Pattern</em> class.</p>\n<blockquote>\n<p><em>&quot;there are a number of dashes equal to the number of non-alphabet. I just need one. What is a good way to achieve this?&quot;</em></p>\n</blockquote>\n<p>The effect you're looking to achieve can be done with the <em><a href=\"https://en.wikipedia.org/wiki/Regular_expression#Basic_concepts\" rel=\"nofollow noreferrer\">+ quantifer</a></em>.<br />\nThis will attempt to match <em>1 or more</em> of the the preceding value, in this case the <em>character class</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\nfinal String clean = input.replaceAll(&quot;[^a-zA-Z]+&quot;, &quot;-&quot;);\nSystem.out.println(clean);\n// print ---------important---------------alsoimportant-------\n// would like -important-alsoimportant-\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>-important-alsoimportant-\n</code></pre>\n<p>If you'd like to implement the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Pattern.html\" rel=\"nofollow noreferrer\">Pattern</a></em> and <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Matcher</a></em> classes explicitly, you can use the following.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Pattern pattern = Pattern.compile(&quot;[^a-zA-Z]+&quot;);\nMatcher matcher = pattern.matcher(input);\nSystem.out.println(matcher.replaceAll(&quot;-&quot;));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>-important-alsoimportant-\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686269009,"creation_date":1686253025,"answer_id":76435187,"question_id":76434332,"body_markdown":"As I have said before, regular expressions, like streams, are a good general tool but not always as efficient as imperative programming. The following was about 37% more efficient that using `String.replaceAll`\r\n```\r\nboolean seen = false;\r\nStringBuilder sb = new StringBuilder();\r\nfor (char c : input.toCharArray()) {\r\n    if (!Character.isAlphabetic(c)) {\r\n        if (!seen) {\r\n            sb.append(&quot;-&quot;);\r\n            seen = true;\r\n        }\r\n    } else {\r\n        sb.append(c);\r\n        seen = false;\r\n    }\r\n}\r\nString result = sb.toString();\r\n```\r\nAlthough the time differences were significant, the time required was very small. As such it wouldn&#39;t really make a big difference in this particular problem and I would have probably opted for `String.replaceAll` myself.","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p>As I have said before, regular expressions, like streams, are a good general tool but not always as efficient as imperative programming. The following was about 37% more efficient that using <code>String.replaceAll</code></p>\n<pre><code>boolean seen = false;\nStringBuilder sb = new StringBuilder();\nfor (char c : input.toCharArray()) {\n    if (!Character.isAlphabetic(c)) {\n        if (!seen) {\n            sb.append(&quot;-&quot;);\n            seen = true;\n        }\n    } else {\n        sb.append(c);\n        seen = false;\n    }\n}\nString result = sb.toString();\n</code></pre>\n<p>Although the time differences were significant, the time required was very small. As such it wouldn't really make a big difference in this particular problem and I would have probably opted for <code>String.replaceAll</code> myself.</p>\n"}],"owner":{"account_id":14482834,"reputation":3924,"user_id":10461625,"display_name":"PatPanda"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76434370,"answer_count":4,"score":-1,"last_activity_date":1686269009,"creation_date":1686245369,"question_id":76434332,"body_markdown":"*What I am trying to achieve:*\r\n\r\nI have a string that looks like this: ```��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~```\r\n\r\nBasically, inside the string, there are words (composed of only the alphabet) with gibberish (one or multiple non-alphabet) before and after.\r\n\r\nI would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.\r\n\r\n*What I tried:*\r\n\r\n```\r\npublic static void main(String[] args)  {\r\n        final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\r\n        final String clean = input.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;-&quot;);\r\n        System.out.println(clean);\r\n        // print ---------important---------------alsoimportant-------\r\n        // would like -important-alsoimportant-\r\n    }\r\n```\r\n\r\n*Question:*\r\n\r\nWith my current solution:\r\n- It is not using Pattern\r\n- there are a number of dashes equal to the number of non-alphabet. I just need one.\r\nWhat is a good way to achieve this?","title":"Replace sequence of non-alphabet with one dash using Pattern","body":"<p><em>What I am trying to achieve:</em></p>\n<p>I have a string that looks like this: <code>��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~</code></p>\n<p>Basically, inside the string, there are words (composed of only the alphabet) with gibberish (one or multiple non-alphabet) before and after.</p>\n<p>I would like to retain the alphabet with the sequence of non-alphabet replaced by one dash only. If possible, use Java Pattern, because it is quite efficient.</p>\n<p><em>What I tried:</em></p>\n<pre><code>public static void main(String[] args)  {\n        final String input = &quot;��[1]����important?@~?@~?@~?@~?@~alsoimportant�@~@~@~&quot;;\n        final String clean = input.replaceAll(&quot;[^a-zA-Z]&quot;, &quot;-&quot;);\n        System.out.println(clean);\n        // print ---------important---------------alsoimportant-------\n        // would like -important-alsoimportant-\n    }\n</code></pre>\n<p><em>Question:</em></p>\n<p>With my current solution:</p>\n<ul>\n<li>It is not using Pattern</li>\n<li>there are a number of dashes equal to the number of non-alphabet. I just need one.\nWhat is a good way to achieve this?</li>\n</ul>\n"},{"tags":["java","android","multithreading","kotlin"],"comments":[{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":1,"creation_date":1686268915,"post_id":76436210,"comment_id":134779539,"body_markdown":"If `binding` is null then you don&#39;t have a `TextView` to display anything on anyway. A quick solution would be to reference the nullable `_binding` instead, and null-check it before attempting to display your text. But probably a better idea would be to use a `ViewModel` to hold your UI state, and just update that with the text for display. That way you can observe it in `onCreateView`/`onViewCreated` and display whatever text is in there. If you have your views when the update happens, the text is displayed - otherwise it&#39;s deferred until the views are created","body":"If <code>binding</code> is null then you don&#39;t have a <code>TextView</code> to display anything on anyway. A quick solution would be to reference the nullable <code>_binding</code> instead, and null-check it before attempting to display your text. But probably a better idea would be to use a <code>ViewModel</code> to hold your UI state, and just update that with the text for display. That way you can observe it in <code>onCreateView</code>/<code>onViewCreated</code> and display whatever text is in there. If you have your views when the update happens, the text is displayed - otherwise it&#39;s deferred until the views are created"},{"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"score":0,"creation_date":1686269841,"post_id":76436210,"comment_id":134779621,"body_markdown":"Yes I have try a null checking before I displaying the text like this and it works. Thank you, and maybe i&#39;ll try to use the ViewModel later.\nactivity?.runOnUiThread {\n  if(_binding != null) {\n    binding.bottomSheetLayout.inferenceTimeVal.text =\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n    ...\n  }\n...\n}","body":"Yes I have try a null checking before I displaying the text like this and it works. Thank you, and maybe i&#39;ll try to use the ViewModel later. activity?.runOnUiThread {   if(_binding != null) {     binding.bottomSheetLayout.inferenceTimeVal.text =     String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316     ...   } ... }"}],"answers":[{"comments":[{"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"score":0,"creation_date":1686270107,"post_id":76436391,"comment_id":134779650,"body_markdown":"Yeah, but I dont know how to stop the task. Instead I use checking for the binding \n```\nactivity?.runOnUiThread { if(_binding != null) { binding.bottomSheetLayout.inferenceTimeVal.text = String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316 ... } ... }\n```\nand it worked, but I still dont know if this is the right solution","body":"Yeah, but I dont know how to stop the task. Instead I use checking for the binding  ``` activity?.runOnUiThread { if(_binding != null) { binding.bottomSheetLayout.inferenceTimeVal.text = String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316 ... } ... } ``` and it worked, but I still dont know if this is the right solution"}],"tags":[],"owner":{"account_id":3807206,"reputation":12673,"user_id":3159267,"display_name":"Rajan Kali"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686268648,"creation_date":1686268648,"answer_id":76436391,"question_id":76436210,"body_markdown":"It is expected to be `null` as you are explicitly setting it to `null` in `onDestroy`, Ideally you should cancel the background task when `fragment` is not `active` but in your case you could simply check `if(isAdded)` before accessing `binding` inside background task.\r\n```\r\nactivity?.runOnUiThread {\r\n  if(!activity.isFinishing() &amp;&amp; isAdded) {\r\n    binding.bottomSheetLayout.inferenceTimeVal.text =\r\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\r\n    ...\r\n  }\r\n...\r\n}\r\n```","title":"NullPointerException in getBinding when pressing back","body":"<p>It is expected to be <code>null</code> as you are explicitly setting it to <code>null</code> in <code>onDestroy</code>, Ideally you should cancel the background task when <code>fragment</code> is not <code>active</code> but in your case you could simply check <code>if(isAdded)</code> before accessing <code>binding</code> inside background task.</p>\n<pre><code>activity?.runOnUiThread {\n  if(!activity.isFinishing() &amp;&amp; isAdded) {\n    binding.bottomSheetLayout.inferenceTimeVal.text =\n    String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n    ...\n  }\n...\n}\n</code></pre>\n"}],"owner":{"account_id":24585825,"reputation":31,"user_id":18490357,"display_name":"Zen Ryuu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":293,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686271131,"answer_count":1,"score":0,"last_activity_date":1686268648,"creation_date":1686265289,"question_id":76436210,"body_markdown":"I build an app with multiple fragments and single activity. I have a detection fragment\r\n&lt;!-- language: lang-kotlin --&gt;\r\n```\r\nprivate val PERMISSIONS_REQUIRED = arrayOf(Manifest.permission.CAMERA)\r\nclass DetectionFragment : Fragment(), ObjectDetectorHelper.DetectorListener {\r\n    private var _binding: FragmentDetectionBinding? = null\r\n    private val binding get() = _binding!!\r\n\r\n    private val TAG = &quot;ObjectDetection&quot;\r\n\r\n    private lateinit var objectDetectorHelper: ObjectDetectorHelper\r\n    private lateinit var bitmapBuffer: Bitmap\r\n    private var preview: Preview? = null\r\n    private var imageAnalyzer: ImageAnalysis? = null\r\n    private var camera: Camera? = null\r\n    private var cameraProvider: ProcessCameraProvider? = null\r\n\r\n    /** Blocking camera operations are performed using this executor */\r\n    private lateinit var cameraExecutor: ExecutorService\r\n\r\n\r\n\r\n    private val requestPermissionLauncher =\r\n        registerForActivityResult(\r\n            ActivityResultContracts.RequestPermission()\r\n        ) { ...\r\n            }\r\n\r\n    override fun onCreateView(\r\n        inflater: LayoutInflater, container: ViewGroup?,\r\n        savedInstanceState: Bundle?\r\n    ): View? {\r\n        // Inflate the layout for this fragment\r\n        _binding = FragmentDetectionBinding.inflate(layoutInflater, container, false)\r\n        return binding.root\r\n    }\r\n\r\n    override fun onDestroyView() {\r\n        _binding = null\r\n        super.onDestroyView()\r\n        // Shut down our background executor\r\n        cameraExecutor.shutdown()\r\n    }\r\n\r\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\r\n        super.onViewCreated(view, savedInstanceState)\r\n        onBack()\r\n        when {\r\n            //checkpermission thing\r\n        }\r\n        objectDetectorHelper = ObjectDetectorHelper(\r\n            context = requireContext(),\r\n            objectDetectorListener = this)\r\n\r\n        // Initialize our background executor\r\n        cameraExecutor = Executors.newSingleThreadExecutor()\r\n\r\n        // Wait for the views to be properly laid out\r\n        binding.viewFinder.post {\r\n            // Set up the camera and its use cases\r\n            setUpCamera()\r\n        }\r\n\r\n        // Attach listeners to UI control widgets\r\n        initBottomSheetControls()\r\n    }\r\n\r\n    private fun initBottomSheetControls(){\r\n        // When clicked, lower detection score threshold floor\r\n        binding.bottomSheetLayout.thresholdMinus.setOnClickListener {\r\n            if (objectDetectorHelper.threshold &gt;= 0.1) {\r\n                objectDetectorHelper.threshold -= 0.1f\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, raise detection score threshold floor\r\n        binding.bottomSheetLayout.thresholdPlus.setOnClickListener {\r\n            if (objectDetectorHelper.threshold &lt;= 0.8) {\r\n                objectDetectorHelper.threshold += 0.1f\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, reduce the number of objects that can be detected at a time\r\n        binding.bottomSheetLayout.maxResultsMinus.setOnClickListener {\r\n            if (objectDetectorHelper.maxResults &gt; 1) {\r\n                objectDetectorHelper.maxResults--\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, increase the number of objects that can be detected at a time\r\n        binding.bottomSheetLayout.maxResultsPlus.setOnClickListener {\r\n            if (objectDetectorHelper.maxResults &lt; 5) {\r\n                objectDetectorHelper.maxResults++\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, decrease the number of threads used for detection\r\n        binding.bottomSheetLayout.threadsMinus.setOnClickListener {\r\n            if (objectDetectorHelper.numThreads &gt; 1) {\r\n                objectDetectorHelper.numThreads--\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, increase the number of threads used for detection\r\n        binding.bottomSheetLayout.threadsPlus.setOnClickListener {\r\n            if (objectDetectorHelper.numThreads &lt; 4) {\r\n                objectDetectorHelper.numThreads++\r\n                updateControlsUi()\r\n            }\r\n        }\r\n\r\n        // When clicked, change the underlying hardware used for inference. Current options are CPU\r\n        // GPU, and NNAPI\r\n        binding.bottomSheetLayout.spinnerDelegate.setSelection(0, false)\r\n        binding.bottomSheetLayout.spinnerDelegate.onItemSelectedListener =\r\n            object : AdapterView.OnItemSelectedListener {\r\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\r\n                    objectDetectorHelper.currentDelegate = p2\r\n                    updateControlsUi()\r\n                }\r\n\r\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\r\n                    /* no op */\r\n                }\r\n            }\r\n\r\n        // When clicked, change the underlying model used for object detection\r\n        binding.bottomSheetLayout.spinnerModel.setSelection(0, false)\r\n        binding.bottomSheetLayout.spinnerModel.onItemSelectedListener =\r\n            object : AdapterView.OnItemSelectedListener {\r\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\r\n                    objectDetectorHelper.currentModel = p2\r\n                    updateControlsUi()\r\n                }\r\n\r\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\r\n                    /* no op */\r\n                }\r\n            }\r\n    }\r\n\r\n    private fun updateControlsUi() {\r\n        binding.bottomSheetLayout.maxResultsValue.text =\r\n            objectDetectorHelper.maxResults.toString()\r\n        binding.bottomSheetLayout.thresholdValue.text =\r\n            String.format(&quot;%.2f&quot;, objectDetectorHelper.threshold)\r\n        binding.bottomSheetLayout.threadsValue.text =\r\n            objectDetectorHelper.numThreads.toString()\r\n\r\n        // Needs to be cleared instead of reinitialized because the GPU\r\n        // delegate needs to be initialized on the thread using it when applicable\r\n        objectDetectorHelper.clearObjectDetector()\r\n        binding.overlay.clear()\r\n    }\r\n\r\n    // Initialize CameraX, and prepare to bind the camera use cases\r\n    private fun setUpCamera() {\r\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\r\n        cameraProviderFuture.addListener(\r\n            {\r\n                // CameraProvider\r\n                cameraProvider = cameraProviderFuture.get()\r\n\r\n                // Build and bind the camera use cases\r\n                bindCameraUseCases()\r\n            },\r\n            ContextCompat.getMainExecutor(requireContext())\r\n        )\r\n    }\r\n\r\n    @Suppress(&quot;DEPRECATION&quot;)\r\n    private fun bindCameraUseCases() {\r\n\r\n        // CameraProvider\r\n        val cameraProvider =\r\n            cameraProvider ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\r\n\r\n        // CameraSelector - makes assumption that we&#39;re only using the back camera\r\n        val cameraSelector =\r\n            CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build()\r\n\r\n        // Preview. Only using the 4:3 ratio because this is the closest to our models\r\n        preview =\r\n            Preview.Builder()\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .setTargetRotation(binding.viewFinder.display.rotation)\r\n                .build()\r\n\r\n        // ImageAnalysis. Using RGBA 8888 to match how our models work\r\n        imageAnalyzer =\r\n            ImageAnalysis.Builder()\r\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\r\n                .setTargetRotation(binding.viewFinder.display.rotation)\r\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\r\n                .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\r\n                .build()\r\n                // The analyzer can then be assigned to the instance\r\n                .also {\r\n                    it.setAnalyzer(cameraExecutor) { image -&gt;\r\n                        if (!::bitmapBuffer.isInitialized) {\r\n                            // The image rotation and RGB image buffer are initialized only once\r\n                            // the analyzer has started running\r\n                            bitmapBuffer = Bitmap.createBitmap(\r\n                                image.width,\r\n                                image.height,\r\n                                Bitmap.Config.ARGB_8888\r\n                            )\r\n                        }\r\n\r\n                        detectObjects(image)\r\n                    }\r\n                }\r\n\r\n        // Must unbind the use-cases before rebinding them\r\n        cameraProvider.unbindAll()\r\n\r\n        try {\r\n            // A variable number of use-cases can be passed here -\r\n            // camera provides access to CameraControl &amp; CameraInfo\r\n            camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageAnalyzer)\r\n\r\n            // Attach the viewfinder&#39;s surface provider to preview use case\r\n            preview?.setSurfaceProvider(binding.viewFinder.surfaceProvider)\r\n        } catch (exc: Exception) {\r\n            Log.e(TAG, &quot;Use case binding failed&quot;, exc)\r\n        }\r\n    }\r\n\r\n    private fun detectObjects(image: ImageProxy) {\r\n        // Copy out RGB bits to the shared bitmap buffer\r\n        image.use { bitmapBuffer.copyPixelsFromBuffer(image.planes[0].buffer) }\r\n\r\n        val imageRotation = image.imageInfo.rotationDegrees\r\n        // Pass Bitmap and rotation to the object detector helper for processing and detection\r\n        objectDetectorHelper.detect(bitmapBuffer, imageRotation)\r\n    }\r\n\r\n    override fun onConfigurationChanged(newConfig: Configuration) {\r\n        super.onConfigurationChanged(newConfig)\r\n        imageAnalyzer?.targetRotation = binding.viewFinder.display.rotation\r\n    }\r\n\r\n    override fun onDestroy() {\r\n        super.onDestroy()\r\n        _binding = null\r\n    }\r\n\r\n    override fun onError(error: String) {\r\n        activity?.runOnUiThread {\r\n            Toast.makeText(requireContext(), error, Toast.LENGTH_SHORT).show()\r\n        }\r\n    }\r\n\r\n    // Update UI after objects have been detected. Extracts original image height/width\r\n    // to scale and place bounding boxes properly through OverlayView\r\n    override fun onResults(\r\n        results: MutableList&lt;Detection&gt;?,\r\n        inferenceTime: Long,\r\n        imageHeight: Int,\r\n        imageWidth: Int\r\n    ) {\r\n        activity?.runOnUiThread {\r\n            binding.bottomSheetLayout.inferenceTimeVal.text =\r\n                String.format(&quot;%d ms&quot;, inferenceTime)\r\n\r\n            // Pass necessary information to OverlayView for drawing on the canvas\r\n            binding.overlay.setResults(\r\n                results ?: LinkedList&lt;Detection&gt;(),\r\n                imageHeight,\r\n                imageWidth\r\n            )\r\n\r\n            // Force a redraw\r\n            binding.overlay.invalidate()\r\n        }\r\n    }\r\n}\r\n``` \r\n\r\nAnd I have this error when I press back button on this screen and immediately close the app.\r\n```\r\nFATAL EXCEPTION: main\r\nProcess: id.naufalfajar.go, PID: 5383                                                                                                                                                                                       \r\nat id.naufalfajar.go.view.detection.DetectionFragment.getBinding(DetectionFragment.kt:34)\r\nat id.naufalfajar.go.view.detection.DetectionFragment.onResults$lambda$14(DetectionFragment.kt:316)\r\nat id.naufalfajar.go.view.detection.DetectionFragment.$r8$lambda$TqTYva0DaM8jzJqCVNkqO0J7EE4(Unknown Source:0)\r\nat id.naufalfajar.go.view.detection.DetectionFragment$$ExternalSyntheticLambda10.run(Unknown Source:10)\r\nat android.os.Handler.handleCallback(Handler.java:883)\r\nat android.os.Handler.dispatchMessage(Handler.java:100)\r\nat android.os.Looper.loop(Looper.java:224)\r\nat android.app.ActivityThread.main(ActivityThread.java:7590)\r\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\r\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)                                                                                         \t\r\n```\r\nThe error is in this line of code.\r\n```\r\nprivate val binding get() = _binding!! //DetectionFragment.kt:34\r\n\r\nactivity?.runOnUiThread {\r\n  binding.bottomSheetLayout.inferenceTimeVal.text =\r\n  String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\r\n...\r\n}\r\n```\r\nMy guessing is because I have a thread running on my background and when I press back, the binding is set to null. \r\n\r\nAnyone know the solution to this?  ","title":"NullPointerException in getBinding when pressing back","body":"<p>I build an app with multiple fragments and single activity. I have a detection fragment</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>private val PERMISSIONS_REQUIRED = arrayOf(Manifest.permission.CAMERA)\nclass DetectionFragment : Fragment(), ObjectDetectorHelper.DetectorListener {\n    private var _binding: FragmentDetectionBinding? = null\n    private val binding get() = _binding!!\n\n    private val TAG = &quot;ObjectDetection&quot;\n\n    private lateinit var objectDetectorHelper: ObjectDetectorHelper\n    private lateinit var bitmapBuffer: Bitmap\n    private var preview: Preview? = null\n    private var imageAnalyzer: ImageAnalysis? = null\n    private var camera: Camera? = null\n    private var cameraProvider: ProcessCameraProvider? = null\n\n    /** Blocking camera operations are performed using this executor */\n    private lateinit var cameraExecutor: ExecutorService\n\n\n\n    private val requestPermissionLauncher =\n        registerForActivityResult(\n            ActivityResultContracts.RequestPermission()\n        ) { ...\n            }\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        // Inflate the layout for this fragment\n        _binding = FragmentDetectionBinding.inflate(layoutInflater, container, false)\n        return binding.root\n    }\n\n    override fun onDestroyView() {\n        _binding = null\n        super.onDestroyView()\n        // Shut down our background executor\n        cameraExecutor.shutdown()\n    }\n\n    override fun onViewCreated(view: View, savedInstanceState: Bundle?) {\n        super.onViewCreated(view, savedInstanceState)\n        onBack()\n        when {\n            //checkpermission thing\n        }\n        objectDetectorHelper = ObjectDetectorHelper(\n            context = requireContext(),\n            objectDetectorListener = this)\n\n        // Initialize our background executor\n        cameraExecutor = Executors.newSingleThreadExecutor()\n\n        // Wait for the views to be properly laid out\n        binding.viewFinder.post {\n            // Set up the camera and its use cases\n            setUpCamera()\n        }\n\n        // Attach listeners to UI control widgets\n        initBottomSheetControls()\n    }\n\n    private fun initBottomSheetControls(){\n        // When clicked, lower detection score threshold floor\n        binding.bottomSheetLayout.thresholdMinus.setOnClickListener {\n            if (objectDetectorHelper.threshold &gt;= 0.1) {\n                objectDetectorHelper.threshold -= 0.1f\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, raise detection score threshold floor\n        binding.bottomSheetLayout.thresholdPlus.setOnClickListener {\n            if (objectDetectorHelper.threshold &lt;= 0.8) {\n                objectDetectorHelper.threshold += 0.1f\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, reduce the number of objects that can be detected at a time\n        binding.bottomSheetLayout.maxResultsMinus.setOnClickListener {\n            if (objectDetectorHelper.maxResults &gt; 1) {\n                objectDetectorHelper.maxResults--\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, increase the number of objects that can be detected at a time\n        binding.bottomSheetLayout.maxResultsPlus.setOnClickListener {\n            if (objectDetectorHelper.maxResults &lt; 5) {\n                objectDetectorHelper.maxResults++\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, decrease the number of threads used for detection\n        binding.bottomSheetLayout.threadsMinus.setOnClickListener {\n            if (objectDetectorHelper.numThreads &gt; 1) {\n                objectDetectorHelper.numThreads--\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, increase the number of threads used for detection\n        binding.bottomSheetLayout.threadsPlus.setOnClickListener {\n            if (objectDetectorHelper.numThreads &lt; 4) {\n                objectDetectorHelper.numThreads++\n                updateControlsUi()\n            }\n        }\n\n        // When clicked, change the underlying hardware used for inference. Current options are CPU\n        // GPU, and NNAPI\n        binding.bottomSheetLayout.spinnerDelegate.setSelection(0, false)\n        binding.bottomSheetLayout.spinnerDelegate.onItemSelectedListener =\n            object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n                    objectDetectorHelper.currentDelegate = p2\n                    updateControlsUi()\n                }\n\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n                    /* no op */\n                }\n            }\n\n        // When clicked, change the underlying model used for object detection\n        binding.bottomSheetLayout.spinnerModel.setSelection(0, false)\n        binding.bottomSheetLayout.spinnerModel.onItemSelectedListener =\n            object : AdapterView.OnItemSelectedListener {\n                override fun onItemSelected(p0: AdapterView&lt;*&gt;?, p1: View?, p2: Int, p3: Long) {\n                    objectDetectorHelper.currentModel = p2\n                    updateControlsUi()\n                }\n\n                override fun onNothingSelected(p0: AdapterView&lt;*&gt;?) {\n                    /* no op */\n                }\n            }\n    }\n\n    private fun updateControlsUi() {\n        binding.bottomSheetLayout.maxResultsValue.text =\n            objectDetectorHelper.maxResults.toString()\n        binding.bottomSheetLayout.thresholdValue.text =\n            String.format(&quot;%.2f&quot;, objectDetectorHelper.threshold)\n        binding.bottomSheetLayout.threadsValue.text =\n            objectDetectorHelper.numThreads.toString()\n\n        // Needs to be cleared instead of reinitialized because the GPU\n        // delegate needs to be initialized on the thread using it when applicable\n        objectDetectorHelper.clearObjectDetector()\n        binding.overlay.clear()\n    }\n\n    // Initialize CameraX, and prepare to bind the camera use cases\n    private fun setUpCamera() {\n        val cameraProviderFuture = ProcessCameraProvider.getInstance(requireContext())\n        cameraProviderFuture.addListener(\n            {\n                // CameraProvider\n                cameraProvider = cameraProviderFuture.get()\n\n                // Build and bind the camera use cases\n                bindCameraUseCases()\n            },\n            ContextCompat.getMainExecutor(requireContext())\n        )\n    }\n\n    @Suppress(&quot;DEPRECATION&quot;)\n    private fun bindCameraUseCases() {\n\n        // CameraProvider\n        val cameraProvider =\n            cameraProvider ?: throw IllegalStateException(&quot;Camera initialization failed.&quot;)\n\n        // CameraSelector - makes assumption that we're only using the back camera\n        val cameraSelector =\n            CameraSelector.Builder().requireLensFacing(CameraSelector.LENS_FACING_BACK).build()\n\n        // Preview. Only using the 4:3 ratio because this is the closest to our models\n        preview =\n            Preview.Builder()\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .setTargetRotation(binding.viewFinder.display.rotation)\n                .build()\n\n        // ImageAnalysis. Using RGBA 8888 to match how our models work\n        imageAnalyzer =\n            ImageAnalysis.Builder()\n                .setTargetAspectRatio(AspectRatio.RATIO_4_3)\n                .setTargetRotation(binding.viewFinder.display.rotation)\n                .setBackpressureStrategy(ImageAnalysis.STRATEGY_KEEP_ONLY_LATEST)\n                .setOutputImageFormat(ImageAnalysis.OUTPUT_IMAGE_FORMAT_RGBA_8888)\n                .build()\n                // The analyzer can then be assigned to the instance\n                .also {\n                    it.setAnalyzer(cameraExecutor) { image -&gt;\n                        if (!::bitmapBuffer.isInitialized) {\n                            // The image rotation and RGB image buffer are initialized only once\n                            // the analyzer has started running\n                            bitmapBuffer = Bitmap.createBitmap(\n                                image.width,\n                                image.height,\n                                Bitmap.Config.ARGB_8888\n                            )\n                        }\n\n                        detectObjects(image)\n                    }\n                }\n\n        // Must unbind the use-cases before rebinding them\n        cameraProvider.unbindAll()\n\n        try {\n            // A variable number of use-cases can be passed here -\n            // camera provides access to CameraControl &amp; CameraInfo\n            camera = cameraProvider.bindToLifecycle(this, cameraSelector, preview, imageAnalyzer)\n\n            // Attach the viewfinder's surface provider to preview use case\n            preview?.setSurfaceProvider(binding.viewFinder.surfaceProvider)\n        } catch (exc: Exception) {\n            Log.e(TAG, &quot;Use case binding failed&quot;, exc)\n        }\n    }\n\n    private fun detectObjects(image: ImageProxy) {\n        // Copy out RGB bits to the shared bitmap buffer\n        image.use { bitmapBuffer.copyPixelsFromBuffer(image.planes[0].buffer) }\n\n        val imageRotation = image.imageInfo.rotationDegrees\n        // Pass Bitmap and rotation to the object detector helper for processing and detection\n        objectDetectorHelper.detect(bitmapBuffer, imageRotation)\n    }\n\n    override fun onConfigurationChanged(newConfig: Configuration) {\n        super.onConfigurationChanged(newConfig)\n        imageAnalyzer?.targetRotation = binding.viewFinder.display.rotation\n    }\n\n    override fun onDestroy() {\n        super.onDestroy()\n        _binding = null\n    }\n\n    override fun onError(error: String) {\n        activity?.runOnUiThread {\n            Toast.makeText(requireContext(), error, Toast.LENGTH_SHORT).show()\n        }\n    }\n\n    // Update UI after objects have been detected. Extracts original image height/width\n    // to scale and place bounding boxes properly through OverlayView\n    override fun onResults(\n        results: MutableList&lt;Detection&gt;?,\n        inferenceTime: Long,\n        imageHeight: Int,\n        imageWidth: Int\n    ) {\n        activity?.runOnUiThread {\n            binding.bottomSheetLayout.inferenceTimeVal.text =\n                String.format(&quot;%d ms&quot;, inferenceTime)\n\n            // Pass necessary information to OverlayView for drawing on the canvas\n            binding.overlay.setResults(\n                results ?: LinkedList&lt;Detection&gt;(),\n                imageHeight,\n                imageWidth\n            )\n\n            // Force a redraw\n            binding.overlay.invalidate()\n        }\n    }\n}\n</code></pre>\n<p>And I have this error when I press back button on this screen and immediately close the app.</p>\n<pre><code>FATAL EXCEPTION: main\nProcess: id.naufalfajar.go, PID: 5383                                                                                                                                                                                       \nat id.naufalfajar.go.view.detection.DetectionFragment.getBinding(DetectionFragment.kt:34)\nat id.naufalfajar.go.view.detection.DetectionFragment.onResults$lambda$14(DetectionFragment.kt:316)\nat id.naufalfajar.go.view.detection.DetectionFragment.$r8$lambda$TqTYva0DaM8jzJqCVNkqO0J7EE4(Unknown Source:0)\nat id.naufalfajar.go.view.detection.DetectionFragment$$ExternalSyntheticLambda10.run(Unknown Source:10)\nat android.os.Handler.handleCallback(Handler.java:883)\nat android.os.Handler.dispatchMessage(Handler.java:100)\nat android.os.Looper.loop(Looper.java:224)\nat android.app.ActivityThread.main(ActivityThread.java:7590)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:539)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:950)                                                                                             \n</code></pre>\n<p>The error is in this line of code.</p>\n<pre><code>private val binding get() = _binding!! //DetectionFragment.kt:34\n\nactivity?.runOnUiThread {\n  binding.bottomSheetLayout.inferenceTimeVal.text =\n  String.format(&quot;%d ms&quot;, inferenceTime) //DetectionFragment.kt:316\n...\n}\n</code></pre>\n<p>My guessing is because I have a thread running on my background and when I press back, the binding is set to null.</p>\n<p>Anyone know the solution to this?</p>\n"},{"tags":["java","c#","dependency-injection","preprocessor-directive","staging"],"comments":[{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":2,"creation_date":1435772259,"post_id":20546659,"comment_id":50343966,"body_markdown":"Looks like I can&#39;t add an answer since the question&#39;s been closed, *but* I&#39;ve read about a tool called [Prebop](http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse) (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in your situation, use DI. -- Just putting this here for other Googlers.)","body":"Looks like I can&#39;t add an answer since the question&#39;s been closed, <i>but</i> I&#39;ve read about a tool called <a href=\"http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse\" rel=\"nofollow noreferrer\">Prebop</a> (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in your situation, use DI. -- Just putting this here for other Googlers.)"},{"owner":{"account_id":3681418,"reputation":2994,"user_id":3066295,"display_name":"TT--"},"score":0,"creation_date":1538102415,"post_id":20546659,"comment_id":92034480,"body_markdown":"see this answer, https://stackoverflow.com/a/48330157/3066295","body":"see this answer, <a href=\"https://stackoverflow.com/a/48330157/3066295\">stackoverflow.com/a/48330157/3066295</a>"}],"answers":[{"comments":[{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":7,"creation_date":1435771665,"post_id":20546708,"comment_id":50343681,"body_markdown":"It should be noted that, in the OP&#39;s given example, he should also be using DI/IoC in C# anyway -- it&#39;s basically a bad example -- I think the question is still valid though, and this answer, while valid for the OP&#39;s scenario is kind of disappointing -- (not your fault @TimB, though the answer below about using cpp is kind of interesting...)","body":"It should be noted that, in the OP&#39;s given example, he should also be using DI/IoC in C# anyway -- it&#39;s basically a bad example -- I think the question is still valid though, and this answer, while valid for the OP&#39;s scenario is kind of disappointing -- (not your fault @TimB, though the answer below about using cpp is kind of interesting...)"},{"owner":{"account_id":12883313,"reputation":431,"user_id":9317690,"display_name":"alife"},"score":2,"creation_date":1652292629,"post_id":20546708,"comment_id":127573879,"body_markdown":"I strongly disagree that DI is &quot;more flexible and more powerful.&quot;  A jpp analogue to cpp similarly would allow for textual substitutions which can aid dramatically in the readability of repeated expressions where you simply don&#39;t want a method call, among many things.  Not including it in the language started as a silly argument of potential abuse and remains so.  Java has many _valid_ arguments regarding abuse (e.g., disallowing MI, not including operator overloading, etc.), but this was one place were I believe they botched it.  Thankfully, C# didn&#39;t follow in those particular footsteps.","body":"I strongly disagree that DI is &quot;more flexible and more powerful.&quot;  A jpp analogue to cpp similarly would allow for textual substitutions which can aid dramatically in the readability of repeated expressions where you simply don&#39;t want a method call, among many things.  Not including it in the language started as a silly argument of potential abuse and remains so.  Java has many <i>valid</i> arguments regarding abuse (e.g., disallowing MI, not including operator overloading, etc.), but this was one place were I believe they botched it.  Thankfully, C# didn&#39;t follow in those particular footsteps."},{"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"score":0,"creation_date":1678284047,"post_id":20546708,"comment_id":133502517,"body_markdown":"I came from C, I used to use the pre-processor all the time.\n\nI&#39;ve not found anything in decades of using Java where I&#39;ve needed the pre-processor. There&#39;s always a cleaner way.\n\nParticularly with things like Cucumber available for when you need a less code-focussed approach","body":"I came from C, I used to use the pre-processor all the time.  I&#39;ve not found anything in decades of using Java where I&#39;ve needed the pre-processor. There&#39;s always a cleaner way.  Particularly with things like Cucumber available for when you need a less code-focussed approach"}],"tags":[],"owner":{"account_id":3659411,"reputation":40844,"user_id":3049628,"accept_rate":78,"display_name":"Tim B"},"comment_count":3,"down_vote_count":3,"up_vote_count":29,"is_accepted":true,"score":26,"last_activity_date":1386859967,"creation_date":1386859967,"answer_id":20546708,"question_id":20546659,"body_markdown":"Java doesn&#39;t have a preprocessor - so the simple answer is that you can&#39;t.\r\n\r\nThis sort of thing is normally handled in Java using Dependency Injection - which is both more powerful and more flexible.\r\n\r\nhttp://www.vogella.com/articles/DependencyInjection/article.html\r\n","title":"How to provide preprocessor directives in Java","body":"<p>Java doesn't have a preprocessor - so the simple answer is that you can't.</p>\n\n<p>This sort of thing is normally handled in Java using Dependency Injection - which is both more powerful and more flexible.</p>\n\n<p><a href=\"http://www.vogella.com/articles/DependencyInjection/article.html\">http://www.vogella.com/articles/DependencyInjection/article.html</a></p>\n"},{"comments":[{"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"score":1,"creation_date":1386861666,"post_id":20546729,"comment_id":30726022,"body_markdown":"Using the example in the post, how would DI/IoC help? From what I&#39;ve read (albeit briefly) it appears that DI is mostly used for decoupling and not conditional compilation. My specific use case surrounds changing import statements en mass in order to connect to a sandbox vs production system. Is there a specific tutorial/set of docs I should read?","body":"Using the example in the post, how would DI/IoC help? From what I&#39;ve read (albeit briefly) it appears that DI is mostly used for decoupling and not conditional compilation. My specific use case surrounds changing import statements en mass in order to connect to a sandbox vs production system. Is there a specific tutorial/set of docs I should read?"},{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1386862123,"post_id":20546729,"comment_id":30726337,"body_markdown":"DI/IoC is &quot;conditional compilation&quot; at run time. Without knowing what you&#39;re actually trying to swap in and out, I&#39;m guessing, but you&#39;d use one of two webservice implementations, e.g., in development, they&#39;d all be stubbed out to return known values. This is often done for testing purposes, for example. It&#39;s more likely we&#39;d use different connection parameters/endpoints in development, which is generally just config values, which wouldn&#39;t require DI.","body":"DI/IoC is &quot;conditional compilation&quot; at run time. Without knowing what you&#39;re actually trying to swap in and out, I&#39;m guessing, but you&#39;d use one of two webservice implementations, e.g., in development, they&#39;d all be stubbed out to return known values. This is often done for testing purposes, for example. It&#39;s more likely we&#39;d use different connection parameters/endpoints in development, which is generally just config values, which wouldn&#39;t require DI."},{"owner":{"account_id":456086,"reputation":494,"user_id":854672,"display_name":"MauganRa"},"score":0,"creation_date":1476448888,"post_id":20546729,"comment_id":67362535,"body_markdown":"A solution would be to use the same namespace for both versions, putting each version in its own JAR archive and just loading the appropriate one.","body":"A solution would be to use the same namespace for both versions, putting each version in its own JAR archive and just loading the appropriate one."}],"tags":[],"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"comment_count":3,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1386860015,"creation_date":1386860015,"answer_id":20546729,"question_id":20546659,"body_markdown":"Use Dependency Injection/Inversion of Control. Depending on your actual needs, you might be able to get away with something as simple as property file/environment variables to control things.\r\n\r\nYou might be able to use static defines around *some* types of initialization/code.\r\n","title":"How to provide preprocessor directives in Java","body":"<p>Use Dependency Injection/Inversion of Control. Depending on your actual needs, you might be able to get away with something as simple as property file/environment variables to control things.</p>\n\n<p>You might be able to use static defines around <em>some</em> types of initialization/code.</p>\n"},{"comments":[{"owner":{"account_id":171301,"reputation":6297,"user_id":398630,"accept_rate":79,"display_name":"BrainSlugs83"},"score":2,"creation_date":1435772426,"post_id":20547022,"comment_id":50344044,"body_markdown":"Looks like I can&#39;t add an answer since the question&#39;s been closed, *but* I&#39;ve read about a tool called [Prebop](http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse) (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in the OP&#39;s situation, he should use DI. -- Just putting this here for other Googlers.)","body":"Looks like I can&#39;t add an answer since the question&#39;s been closed, <i>but</i> I&#39;ve read about a tool called <a href=\"http://boldinventions.com/index.php?option=com_content&amp;view=article&amp;id=81:javapreprocessorusingeclipse\" rel=\"nofollow noreferrer\">Prebop</a> (Disclaimer: I&#39;ve not yet used it), that might do this and it apparently has support for Eclipse.  (I agree with others though: in the OP&#39;s situation, he should use DI. -- Just putting this here for other Googlers.)"}],"tags":[],"owner":{"account_id":31518,"reputation":36053,"user_id":86604,"accept_rate":80,"display_name":"Ingo"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1386860815,"creation_date":1386860815,"answer_id":20547022,"question_id":20546659,"body_markdown":"Java doesn&#39;t have a preprocessor, yet that doesn&#39;t mean that you can&#39;t run Java code through `cpp` - though it would not be supported by any tools, AFAIK.","title":"How to provide preprocessor directives in Java","body":"<p>Java doesn't have a preprocessor, yet that doesn't mean that you can't run Java code through <code>cpp</code> - though it would not be supported by any tools, AFAIK.</p>\n"},{"tags":[],"owner":{"account_id":6814076,"reputation":12697,"user_id":5295429,"display_name":"Oo.oO"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1566995755,"creation_date":1566995755,"answer_id":57692577,"question_id":20546659,"body_markdown":"You can use something based on &lt;#FreeMarker&gt;.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qLmmI.png\r\n\r\nsource: https://github.com/mkowsiak/jpp\r\n\r\nHowever, this solution will require pre-compilation step, if you want to change the code. On the other hand, you can still create code that works without pre-processing steps - sort of &quot;default&quot; compilation.","title":"How to provide preprocessor directives in Java","body":"<p>You can use something based on &lt;#FreeMarker>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/qLmmI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qLmmI.png\" alt=\"enter image description here\"></a></p>\n\n<p>source: <a href=\"https://github.com/mkowsiak/jpp\" rel=\"nofollow noreferrer\">https://github.com/mkowsiak/jpp</a></p>\n\n<p>However, this solution will require pre-compilation step, if you want to change the code. On the other hand, you can still create code that works without pre-processing steps - sort of \"default\" compilation.</p>\n"},{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686268004,"creation_date":1686268004,"answer_id":76436367,"question_id":20546659,"body_markdown":"I&#39;m using [java-comment-preprocessor](https://github.com/raydac/java-comment-preprocessor). It is very easy and convenient and provides also integration for Maven, Ant and Gradle. It is using Java comments and a preprocessor is used generating the actual code based on the preprocessor flags, e.g.:\r\n\r\n~~~java\r\n//#if simulator\r\nprivate final static int FOO = 2;\r\n//#else\r\nprivate final static int FOO = 1;\r\n//#endif\r\n~~~\r\n\r\nMaven integration:\r\n\r\n~~~xml\r\n&lt;plugin&gt;\r\n                &lt;groupId&gt;com.igormaznitsa&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jcp&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.5&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;preprocessSources&lt;/id&gt;\r\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;preprocess&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;vars&gt;\r\n                                &lt;simulator&gt;${simulator}&lt;/simulator&gt;\r\n                            &lt;/vars&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n~~~","title":"How to provide preprocessor directives in Java","body":"<p>I'm using <a href=\"https://github.com/raydac/java-comment-preprocessor\" rel=\"nofollow noreferrer\">java-comment-preprocessor</a>. It is very easy and convenient and provides also integration for Maven, Ant and Gradle. It is using Java comments and a preprocessor is used generating the actual code based on the preprocessor flags, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//#if simulator\nprivate final static int FOO = 2;\n//#else\nprivate final static int FOO = 1;\n//#endif\n</code></pre>\n<p>Maven integration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n                &lt;groupId&gt;com.igormaznitsa&lt;/groupId&gt;\n                &lt;artifactId&gt;jcp&lt;/artifactId&gt;\n                &lt;version&gt;7.0.5&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;preprocessSources&lt;/id&gt;\n                        &lt;phase&gt;process-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;preprocess&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;vars&gt;\n                                &lt;simulator&gt;${simulator}&lt;/simulator&gt;\n                            &lt;/vars&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1293628,"reputation":11570,"user_id":1245240,"accept_rate":85,"display_name":"Robert H"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48088,"favorite_count":0,"down_vote_count":1,"up_vote_count":34,"accepted_answer_id":20546708,"answer_count":5,"score":33,"last_activity_date":1686268004,"creation_date":1386859824,"question_id":20546659,"body_markdown":"CHow can I correctly provide the following functionally from C# in Java? \r\n\r\n[C#]\r\n\r\n    #define PRODUCTION //Change from sandbox to production to switch between both systems.\r\n    \r\n    #if SANDBOX\r\n        using NetSuite.com.netsuite.sandbox.webservices;\r\n    #endif\r\n    \r\n    #if PRODUCTION\r\n        using NetSuite.com.netsuite.webservices;\r\n    #endif","title":"How to provide preprocessor directives in Java","body":"<p>CHow can I correctly provide the following functionally from C# in Java?</p>\n<p>[C#]</p>\n<pre><code>#define PRODUCTION //Change from sandbox to production to switch between both systems.\n\n#if SANDBOX\n    using NetSuite.com.netsuite.sandbox.webservices;\n#endif\n\n#if PRODUCTION\n    using NetSuite.com.netsuite.webservices;\n#endif\n</code></pre>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092231,"post_id":44888126,"comment_id":76754374,"body_markdown":"is your network is kind of unstable?","body":"is your network is kind of unstable?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499092368,"post_id":44888126,"comment_id":76754466,"body_markdown":"No, it&#39;s from the company where I do internships.","body":"No, it&#39;s from the company where I do internships."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092449,"post_id":44888126,"comment_id":76754522,"body_markdown":"well it looks like a network issue...","body":"well it looks like a network issue..."},{"owner":{"account_id":957044,"reputation":47672,"user_id":982161,"accept_rate":63,"display_name":"ΦXocę 웃 Пepe&#250;pa ツ"},"score":0,"creation_date":1499092463,"post_id":44888126,"comment_id":76754530,"body_markdown":"how of can you reproduce that?","body":"how of can you reproduce that?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499092573,"post_id":44888126,"comment_id":76754599,"body_markdown":"But what exactly would it be?","body":"But what exactly would it be?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499093029,"post_id":44888126,"comment_id":76754853,"body_markdown":"I am doing a query in the database.","body":"I am doing a query in the database."},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":0,"creation_date":1499095708,"post_id":44888126,"comment_id":76756509,"body_markdown":"Can you connect to the database using Telnet?","body":"Can you connect to the database using Telnet?"},{"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"score":0,"creation_date":1499168069,"post_id":44888126,"comment_id":76786556,"body_markdown":"I am not allowed to communicate with the database via telnet.","body":"I am not allowed to communicate with the database via telnet."}],"answers":[{"tags":[],"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1499179246,"creation_date":1499179246,"answer_id":44908791,"question_id":44888126,"body_markdown":"Sorted out. The problem was on the server, I just switched server and it worked.","title":"Error: Exception in monitor thread while connecting to server","body":"<p>Sorted out. The problem was on the server, I just switched server and it worked.</p>\n"},{"tags":[],"owner":{"account_id":11120658,"reputation":139,"user_id":8163593,"accept_rate":75,"display_name":"BWC semaJ"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686265047,"creation_date":1686265047,"answer_id":76436199,"question_id":44888126,"body_markdown":"I ran into this exception while trying to host my jar on Amazon EBS. I thought it was a security group problem and tried over and over changing what was allowed in the inbound and failed to solve. My database I&#39;m using is hosted by MongoDB Atlas. I forgot that I only allowed specific addresses to access the database. As soon as I allowed the Amazon EBS address and restarted the app it was able to connect.","title":"Error: Exception in monitor thread while connecting to server","body":"<p>I ran into this exception while trying to host my jar on Amazon EBS. I thought it was a security group problem and tried over and over changing what was allowed in the inbound and failed to solve. My database I'm using is hosted by MongoDB Atlas. I forgot that I only allowed specific addresses to access the database. As soon as I allowed the Amazon EBS address and restarted the app it was able to connect.</p>\n"}],"owner":{"account_id":11131606,"reputation":43,"user_id":8182759,"display_name":"Gabriel Cardoso"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5831,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":44908791,"answer_count":2,"score":1,"last_activity_date":1686265047,"creation_date":1499092068,"question_id":44888126,"body_markdown":"\r\nIn the connection the database and collection are found, but this is giving this error ..\r\n\r\n    INFORMA&#199;&#213;ES: Exception in monitor thread while connecting to server xarquigo01f:27017com.mongodb.MongoSocketException: xarquigo01f\r\n\tat com.mongodb.ServerAddress.getSocketAddress(ServerAddress.java:188)\r\n\tat com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57)\r\n\tat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\r\n\tat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\r\n\tat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113)\r\n\tat java.lang.Thread.run(Unknown Source)","title":"Error: Exception in monitor thread while connecting to server","body":"<p>In the connection the database and collection are found, but this is giving this error ..</p>\n\n<pre><code>INFORMAÇÕES: Exception in monitor thread while connecting to server xarquigo01f:27017com.mongodb.MongoSocketException: xarquigo01f\nat com.mongodb.ServerAddress.getSocketAddress(ServerAddress.java:188)\nat com.mongodb.connection.SocketStreamHelper.initialize(SocketStreamHelper.java:57)\nat com.mongodb.connection.SocketStream.open(SocketStream.java:58)\nat com.mongodb.connection.InternalStreamConnection.open(InternalStreamConnection.java:115)\nat com.mongodb.connection.DefaultServerMonitor$ServerMonitorRunnable.run(DefaultServerMonitor.java:113)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n"},{"tags":["java","caching","guava"],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1686264523,"creation_date":1686264523,"answer_id":76436164,"question_id":76435813,"body_markdown":"No.  The Guava cache doesn&#39;t do any serialization or anything. It doesn&#39;t document it because it doesn&#39;t happen.","title":"Does the class (of the cached-value) needs to implement Serializable in Google Guava Cache?","body":"<p>No.  The Guava cache doesn't do any serialization or anything. It doesn't document it because it doesn't happen.</p>\n"}],"owner":{"account_id":5177594,"reputation":39,"user_id":4144179,"accept_rate":64,"display_name":"Akshay M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1686264523,"creation_date":1686259835,"question_id":76435813,"body_markdown":"I am using Google Guava Cache to store class of type let&#39;s say LevelOneDTO. Now this class is extending from LevelTwoDTO, which in turn extends from 2 more levels.\r\n\r\nWhen I use a Google Guava Cache instance of type Cache&lt;String, LevelOneDTO&gt;, where String represents the UUID of LevelOneDTO and use it, I find that there are some issues reading the values of some of the fields in the LevelOneDTO. This has caused some issues wherein, when retrieved the one of the values, some of the fields in the LevelOneDTO objects are missing.\r\n\r\nThinking that the Guava Cache may be serializing/de-serializing the object while storing and reading from it, I added &quot;implements Serializable&quot; to all 4 levels of class hierarchy, and voila! It seems to work as well! \r\n\r\n\r\nBut I could not find any reference documentation where it says that the type/class of value to be stored needs to be serializable? Can someone shed some light on it?\r\n\r\n\r\n\r\n\r\n\r\nI believe I have found the solution wherein adding &quot;implements Serializable&quot; (as I am using Java) solves the problem but I don&#39;t know WHY it is solving the problem, or couldn&#39;t find any documentation related to the need of that. Can someone throw some light on it?","title":"Does the class (of the cached-value) needs to implement Serializable in Google Guava Cache?","body":"<p>I am using Google Guava Cache to store class of type let's say LevelOneDTO. Now this class is extending from LevelTwoDTO, which in turn extends from 2 more levels.</p>\n<p>When I use a Google Guava Cache instance of type Cache&lt;String, LevelOneDTO&gt;, where String represents the UUID of LevelOneDTO and use it, I find that there are some issues reading the values of some of the fields in the LevelOneDTO. This has caused some issues wherein, when retrieved the one of the values, some of the fields in the LevelOneDTO objects are missing.</p>\n<p>Thinking that the Guava Cache may be serializing/de-serializing the object while storing and reading from it, I added &quot;implements Serializable&quot; to all 4 levels of class hierarchy, and voila! It seems to work as well!</p>\n<p>But I could not find any reference documentation where it says that the type/class of value to be stored needs to be serializable? Can someone shed some light on it?</p>\n<p>I believe I have found the solution wherein adding &quot;implements Serializable&quot; (as I am using Java) solves the problem but I don't know WHY it is solving the problem, or couldn't find any documentation related to the need of that. Can someone throw some light on it?</p>\n"},{"tags":["java","selenium-webdriver","junit","parallel-processing","cucumber"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":2,"creation_date":1686266216,"post_id":76436125,"comment_id":134779220,"body_markdown":"How do you create your web driver. Sounds like you may be assigning it to a static field.","body":"How do you create your web driver. Sounds like you may be assigning it to a static field."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686302117,"post_id":76436125,"comment_id":134783215,"body_markdown":"yes, I am using static webdriver: @Getter\npublic static WebDriver driver;\n\npublic BasePage(WebDriver driver) {\n    this.driver = driver;\n    PageFactory.initElements(driver, this);\n}","body":"yes, I am using static webdriver: @Getter public static WebDriver driver;  public BasePage(WebDriver driver) {     this.driver = driver;     PageFactory.initElements(driver, this); }"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686302135,"post_id":76436125,"comment_id":134783221,"body_markdown":"is there a way to get round tis problem ?","body":"is there a way to get round tis problem ?"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325764,"post_id":76436125,"comment_id":134788116,"body_markdown":"https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493","body":"<a href=\"https://stackoverflow.com/questions/67724604/how-to-design-a-cucumber-selenium-framework-without-using-static-instances-of-th/67729493#67729493\" title=\"how to design a cucumber selenium framework without using static instances of th\">stackoverflow.com/questions/67724604/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325820,"post_id":76436125,"comment_id":134788129,"body_markdown":"https://stackoverflow.com/questions/65541200/is-threadlocal-required-for-automation-framework-that-uses-cucumber-jmeter-and/65541795#65541795","body":"<a href=\"https://stackoverflow.com/questions/65541200/is-threadlocal-required-for-automation-framework-that-uses-cucumber-jmeter-and/65541795#65541795\" title=\"is threadlocal required for automation framework that uses cucumber jmeter and\">stackoverflow.com/questions/65541200/&hellip;</a>"},{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1686325843,"post_id":76436125,"comment_id":134788138,"body_markdown":"Not quite your problem, but the solution is comparable: Don&#39;t use a static webdriver.","body":"Not quite your problem, but the solution is comparable: Don&#39;t use a static webdriver."},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686341163,"post_id":76436125,"comment_id":134790826,"body_markdown":"is there other way to create non static webdriver in page factory pattern than public class LazyWebDriver implements Webdriver, Disposable ? This solution does not look good","body":"is there other way to create non static webdriver in page factory pattern than public class LazyWebDriver implements Webdriver, Disposable ? This solution does not look good"},{"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"score":0,"creation_date":1686641712,"post_id":76436125,"comment_id":134823072,"body_markdown":"could you help me how to remote static from my framework ? https://stackoverflow.com/questions/76439006/java-selenium-how-to-convert-static-webdriver-to-non-static-in-page-object-pat","body":"could you help me how to remote static from my framework ? <a href=\"https://stackoverflow.com/questions/76439006/java-selenium-how-to-convert-static-webdriver-to-non-static-in-page-object-pat\" title=\"java selenium how to convert static webdriver to non static in page object pat\">stackoverflow.com/questions/76439006/&hellip;</a>"}],"owner":{"account_id":28561896,"reputation":39,"user_id":21865321,"display_name":"Word Place"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686263808,"creation_date":1686263808,"question_id":76436125,"body_markdown":"I have 2 separate feature files. When I run parallel tests using maven command 2 separate browsers show up but first opens with blank page without even url address and nothing happens, however second opens correctly and executes the test successfully. So the first feature file is failed, second is passed.\r\n\r\nHint: when I remove 2 following lines \r\n\r\n    &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n    &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n\r\n from maven surefire plugin both feature files run one by one and tests are executed successfully (but not in parallel what I want).\r\n\r\n\r\n \r\n\r\n    Feature: test of a webpage one\r\n    \r\n      @desktop\r\n      Scenario: Test landing page one\r\n        Given Customer clicks something one \r\n        When Customer clicks something two\r\n        Then Customer clicks something three\r\n\r\nSecond feature file\r\n\r\n    Feature: test of a webpage two\r\n    \r\n      @desktop\r\n      Scenario: Test landing page two\r\n        Given Customer clicks something one \r\n        When Customer clicks something two\r\n        Then Customer clicks something three\r\n\r\nI have in my POM.xml file the following maven-surefire-plugin configuration - is this configuration good or not ? Maybe maven-surefire-plugin configuration is wrong ?\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;includes&gt;\r\n                &lt;include&gt;**/TestRunner.java&lt;/include&gt;\r\n            &lt;/includes&gt;\r\n            &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\r\n            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nI have test runner class\r\n\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    \r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(features=&quot;src/test/java/features&quot;,\r\n            plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\r\n                    &quot;html:target/jsonReports/cucumber-report.html&quot;},\r\n            glue= {&quot;stepDefs&quot;},\r\n          \r\n            )\r\n    public class TestRunner {\r\n    }","title":"Java - maven cucumber parallel tests - browser opens with blank page","body":"<p>I have 2 separate feature files. When I run parallel tests using maven command 2 separate browsers show up but first opens with blank page without even url address and nothing happens, however second opens correctly and executes the test successfully. So the first feature file is failed, second is passed.</p>\n<p>Hint: when I remove 2 following lines</p>\n<pre><code>&lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n&lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n</code></pre>\n<p>from maven surefire plugin both feature files run one by one and tests are executed successfully (but not in parallel what I want).</p>\n<pre><code>Feature: test of a webpage one\n\n  @desktop\n  Scenario: Test landing page one\n    Given Customer clicks something one \n    When Customer clicks something two\n    Then Customer clicks something three\n</code></pre>\n<p>Second feature file</p>\n<pre><code>Feature: test of a webpage two\n\n  @desktop\n  Scenario: Test landing page two\n    Given Customer clicks something one \n    When Customer clicks something two\n    Then Customer clicks something three\n</code></pre>\n<p>I have in my POM.xml file the following maven-surefire-plugin configuration - is this configuration good or not ? Maybe maven-surefire-plugin configuration is wrong ?</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;includes&gt;\n            &lt;include&gt;**/TestRunner.java&lt;/include&gt;\n        &lt;/includes&gt;\n        &lt;parallel&gt;classesAndMethods&lt;/parallel&gt;\n        &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I have test runner class</p>\n<pre><code>import io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n\n@RunWith(Cucumber.class)\n@CucumberOptions(features=&quot;src/test/java/features&quot;,\n        plugin = {&quot;pretty&quot;, &quot;json:target/jsonReports/cucumber-report.json&quot;,\n                &quot;html:target/jsonReports/cucumber-report.html&quot;},\n        glue= {&quot;stepDefs&quot;},\n      \n        )\npublic class TestRunner {\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"score":0,"creation_date":1686258830,"post_id":76435381,"comment_id":134778394,"body_markdown":"For me the real puzzle is how a &#180;BadSqlGrammarException&#180; can result in a 406 :)","body":"For me the real puzzle is how a &#180;BadSqlGrammarException&#180; can result in a 406 :)"}],"answers":[{"comments":[{"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"score":0,"creation_date":1686684423,"post_id":76435968,"comment_id":134832416,"body_markdown":"I checked. Great idea.  Thanks","body":"I checked. Great idea.  Thanks"}],"tags":[],"owner":{"account_id":2123179,"reputation":10932,"user_id":1886012,"display_name":"bowmore"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686261615,"creation_date":1686261615,"answer_id":76435968,"question_id":76435381,"body_markdown":"There are a few options :\r\n\r\n# 1. Polymorphism\r\n\r\nThe exceptions know how to behave here themselves\r\n\r\n    record StatusAndMessage(HttpStatus errorStatus, String message, String messageDetail) {}\r\n\r\n    interface SelfHandling {\r\n        StatusAndMessage handle()\r\n    }\r\n\t\r\n\t@Component\r\n\t@Slf4j\r\n\tpublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\r\n\t\t@Override\r\n\t\tpublic Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n\t\t\tThrowable error = super.getError(request);\r\n\t\t\tStatusAndMessage statusAndMessage;\r\n\r\n\t\t\tif (error instanceof SelfHandling selfHandling) {\r\n\t\t\t\tstatusAndMessage = selfHandling.statusAndMessage()\r\n\t\t\t} else {\r\n\t\t\t\tstatusAndMessage = new StatusAndMessage(\r\n\t\t\t\t\tHttpStatus.INTERNAL_SERVER_ERROR,\r\n\t\t\t\t\terror.getMessage(),\r\n\t\t\t\t\terror.getCause() != null ? error.getCause().getMessage() : null;\r\n\t\t\t\t)\r\n\t\t\t}\r\n\t\t\tlog.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n\t\t\t\t\tstatusAndMessage.message(),\r\n\t\t\t\t\tstatusAndMessage.errorStatus(),\r\n\t\t\t\t\tstatusAndMessage. messageDetail());\r\n\t\t\tmap.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\r\n\t\t\tmap.put(&quot;message&quot;, statusAndMessage.message());\r\n\t\t\tmap.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\r\n\t\t\treturn map;\r\n\t\t}\r\n    }\r\n\r\n - Downside : This doesn&#39;t work for 3rd party exceptions. So you have to either wrap those in your own, or choose a different approach.\r\n - Upside : this method doesn&#39;t need to change if you define new Exceptions\r\n\r\n# 2. Double dispatch\r\n\r\n - Downside : ugly (so no code example) \r\n - Upside : You can vary behavior\r\n   per context. If exceptions may need a different status depending on\r\n   the request for instance.\r\n\r\n# 3. Chain of Responsibility\r\n\r\n\t// implementations will return Optional.empty() if they can&#39;t handle the Throwable\r\n\tinterface ExceptionToResponseMapper extends Function&lt;Throwable, Optional&lt;StatusAndMessage&gt;&gt; {\r\n\t}\r\n\r\n\t@Component\r\n\t@Slf4j\r\n\tpublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\t\r\n\t\tprivate final List&lt;ExceptionToResponseMapper&gt; mappers;\r\n\t\t\r\n\t\t// order of the mappers matters\r\n\t\tpublic GlobalErrorAttributes(List&lt;ExceptionToResponseMapper&gt; mappers) {\r\n\t\t\tthis.mappers = List.copyOf(mappers);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n\t\t\t\r\n\t\t\tThrowable error = super.getError(request);\r\n            StatusAndMessage statusAndMessage = mappers.stream()\r\n                .map(mapper -&gt; mapper.apply(error))\r\n                .flatMap(Optional::stream)\r\n                .findFirst()\r\n                .orElseGet(() -&gt; new StatusAndMessage(\r\n                        HttpStatus.INTERNAL_SERVER_ERROR,\r\n                        error.getMessage(),\r\n                        error.getCause() != null ? error.getCause().getMessage() : null\r\n                ));\r\n\t\t\tlog.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n\t\t\t\t\tstatusAndMessage.message(),\r\n\t\t\t\t\tstatusAndMessage.errorStatus(),\r\n\t\t\t\t\tstatusAndMessage. messageDetail());\r\n\t\t\tmap.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\r\n\t\t\tmap.put(&quot;message&quot;, statusAndMessage.message());\r\n\t\t\tmap.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\r\n\t\t\treturn map;\r\n\t\t}\r\n    }\r\n\r\n - Downside : easy to forget writing extra handlers when introducing a new Exception\r\n - Upside : works easily on 3rd party exceptions\r\n","title":"How to replace if-else blocks in Java when working with derived types from the basic Throwable?","body":"<p>There are a few options :</p>\n<h1>1. Polymorphism</h1>\n<p>The exceptions know how to behave here themselves</p>\n<pre><code>record StatusAndMessage(HttpStatus errorStatus, String message, String messageDetail) {}\n\ninterface SelfHandling {\n    StatusAndMessage handle()\n}\n\n@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        Throwable error = super.getError(request);\n        StatusAndMessage statusAndMessage;\n\n        if (error instanceof SelfHandling selfHandling) {\n            statusAndMessage = selfHandling.statusAndMessage()\n        } else {\n            statusAndMessage = new StatusAndMessage(\n                HttpStatus.INTERNAL_SERVER_ERROR,\n                error.getMessage(),\n                error.getCause() != null ? error.getCause().getMessage() : null;\n            )\n        }\n        log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                statusAndMessage.message(),\n                statusAndMessage.errorStatus(),\n                statusAndMessage. messageDetail());\n        map.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\n        map.put(&quot;message&quot;, statusAndMessage.message());\n        map.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\n        return map;\n    }\n}\n</code></pre>\n<ul>\n<li>Downside : This doesn't work for 3rd party exceptions. So you have to either wrap those in your own, or choose a different approach.</li>\n<li>Upside : this method doesn't need to change if you define new Exceptions</li>\n</ul>\n<h1>2. Double dispatch</h1>\n<ul>\n<li>Downside : ugly (so no code example)</li>\n<li>Upside : You can vary behavior\nper context. If exceptions may need a different status depending on\nthe request for instance.</li>\n</ul>\n<h1>3. Chain of Responsibility</h1>\n<pre><code>// implementations will return Optional.empty() if they can't handle the Throwable\ninterface ExceptionToResponseMapper extends Function&lt;Throwable, Optional&lt;StatusAndMessage&gt;&gt; {\n}\n\n@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    private final List&lt;ExceptionToResponseMapper&gt; mappers;\n    \n    // order of the mappers matters\n    public GlobalErrorAttributes(List&lt;ExceptionToResponseMapper&gt; mappers) {\n        this.mappers = List.copyOf(mappers);\n    }\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        \n        Throwable error = super.getError(request);\n        StatusAndMessage statusAndMessage = mappers.stream()\n            .map(mapper -&gt; mapper.apply(error))\n            .flatMap(Optional::stream)\n            .findFirst()\n            .orElseGet(() -&gt; new StatusAndMessage(\n                    HttpStatus.INTERNAL_SERVER_ERROR,\n                    error.getMessage(),\n                    error.getCause() != null ? error.getCause().getMessage() : null\n            ));\n        log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                statusAndMessage.message(),\n                statusAndMessage.errorStatus(),\n                statusAndMessage. messageDetail());\n        map.put(&quot;status&quot;, statusAndMessage.errorStatus().value());\n        map.put(&quot;message&quot;, statusAndMessage.message());\n        map.put(&quot;detailMessage&quot;, statusAndMessage. messageDetail());\n        return map;\n    }\n}\n</code></pre>\n<ul>\n<li>Downside : easy to forget writing extra handlers when introducing a new Exception</li>\n<li>Upside : works easily on 3rd party exceptions</li>\n</ul>\n"}],"owner":{"account_id":16731772,"reputation":1574,"user_id":12093975,"display_name":"skyho"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76435968,"answer_count":1,"score":0,"last_activity_date":1686261615,"creation_date":1686254972,"question_id":76435381,"body_markdown":"For example, there is a code that, depending on the subtype of the type **Throwable**, will fill the object with data and return it to the call point.\r\n\r\n```java\r\n@Component\r\n@Slf4j\r\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\r\n\r\n    @Override\r\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\r\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\r\n        Throwable error = super.getError(request);\r\n        HttpStatus errorStatus;\r\n        String messageDetail = null;\r\n\r\n        if (error instanceof UserAlreadyExistsException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\r\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }\r\n\r\n        if (error instanceof UserNotFoundException ||\r\n                error instanceof ResponseStatusException || error instanceof PasswordInHashNotFoundException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_FOUND;\r\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }else if (error instanceof BadSqlGrammarException) {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\r\n            log.error(&quot;BadSqlGrammar error: error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        } else {\r\n\r\n            Throwable cause = error.getCause();\r\n\r\n            if (cause != null) {\r\n                messageDetail = error.getCause().getMessage();\r\n            }\r\n\r\n            errorStatus = HttpStatus.INTERNAL_SERVER_ERROR;\r\n            log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\r\n                    error.getMessage(),\r\n                    errorStatus,\r\n                    messageDetail);\r\n        }\r\n        map.put(&quot;status&quot;, errorStatus.value());\r\n        map.put(&quot;message&quot;, error.getMessage());\r\n        map.put(&quot;detailMessage&quot;, messageDetail);\r\n        return map;\r\n    }\r\n}\r\n\r\n```\r\n\r\nA made a model like this\r\n\r\n\r\n```java\r\n\r\n        Map&lt;Throwable, Supplier&lt;String&gt;&gt; handler = new LinkedHashMap&lt;&gt;();\r\n\r\n        PasswordInHashException passwordInHashException =\r\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n\r\n        PasswordInHashNotFoundException passwordInHashNotFoundException =\r\n                new PasswordInHashNotFoundException(&quot;passwordInHashException&quot;);\r\n\r\n\r\n        handler.put(passwordInHashException, () -&gt; {\r\n            System.out.println(&quot;passwordInHashException&quot;);\r\n            return &quot;passwordInHashException&quot;;\r\n        });\r\n\r\n        handler.put(passwordInHashNotFoundException, () -&gt; {\r\n            System.out.println(&quot;passwordInHashNotFoundException&quot;);\r\n            return &quot;passwordInHashNotFoundException&quot;;\r\n        });\r\n\r\n```\r\n\r\nHowever, the difficulty lies in how to force the key to be checked in Map using the instanceof operator.\r\n\r\nSince there are a lot of Exceptions types and this method will grow, but I would like to make it so that without changing this method, expand the ability to process new Exceptions. And it is even better to use Spring&#39;s capabilities for automatic initialization of components, then it is enough to implement a new type that will be automatically added to the Map and, if necessary, depending on the exceptions that occurred, the filled object was returned and a programmed action was performed (for example, writing to the log).\r\n\r\n```java\r\n Map&lt;String, Supplier&lt;String&gt;&gt; handler = new HashMap&lt;&gt;();\r\n\r\n        PasswordInHashException passwordInHashException =\r\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n\r\n  handler.put(&quot;PasswordInHashException&quot;, () -&gt; {\r\n            System.out.println(&quot;passwordInHashException&quot;);\r\n            return &quot;passwordInHashException&quot;;\r\n        });\r\n\r\n Throwable key =  new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\r\n        String simpleName = key.getClass().getSimpleName();\r\n\r\n         handler.get(simpleName).get();\r\n\r\n```\r\n\r\nPlease share your ideas.\r\n","title":"How to replace if-else blocks in Java when working with derived types from the basic Throwable?","body":"<p>For example, there is a code that, depending on the subtype of the type <strong>Throwable</strong>, will fill the object with data and return it to the call point.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\n@Slf4j\npublic class GlobalErrorAttributes extends DefaultErrorAttributes {\n\n    @Override\n    public Map&lt;String, Object&gt; getErrorAttributes(ServerRequest request, ErrorAttributeOptions options) {\n        Map&lt;String, Object&gt; map = new LinkedHashMap&lt;&gt;();\n        Throwable error = super.getError(request);\n        HttpStatus errorStatus;\n        String messageDetail = null;\n\n        if (error instanceof UserAlreadyExistsException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }\n\n        if (error instanceof UserNotFoundException ||\n                error instanceof ResponseStatusException || error instanceof PasswordInHashNotFoundException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_FOUND;\n            log.error(&quot;error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }else if (error instanceof BadSqlGrammarException) {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.NOT_ACCEPTABLE;\n            log.error(&quot;BadSqlGrammar error: error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        } else {\n\n            Throwable cause = error.getCause();\n\n            if (cause != null) {\n                messageDetail = error.getCause().getMessage();\n            }\n\n            errorStatus = HttpStatus.INTERNAL_SERVER_ERROR;\n            log.error(&quot;Not defined error: error - {}, status - {}, detailMessage - {}&quot;,\n                    error.getMessage(),\n                    errorStatus,\n                    messageDetail);\n        }\n        map.put(&quot;status&quot;, errorStatus.value());\n        map.put(&quot;message&quot;, error.getMessage());\n        map.put(&quot;detailMessage&quot;, messageDetail);\n        return map;\n    }\n}\n\n</code></pre>\n<p>A made a model like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        Map&lt;Throwable, Supplier&lt;String&gt;&gt; handler = new LinkedHashMap&lt;&gt;();\n\n        PasswordInHashException passwordInHashException =\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n\n        PasswordInHashNotFoundException passwordInHashNotFoundException =\n                new PasswordInHashNotFoundException(&quot;passwordInHashException&quot;);\n\n\n        handler.put(passwordInHashException, () -&gt; {\n            System.out.println(&quot;passwordInHashException&quot;);\n            return &quot;passwordInHashException&quot;;\n        });\n\n        handler.put(passwordInHashNotFoundException, () -&gt; {\n            System.out.println(&quot;passwordInHashNotFoundException&quot;);\n            return &quot;passwordInHashNotFoundException&quot;;\n        });\n\n</code></pre>\n<p>However, the difficulty lies in how to force the key to be checked in Map using the instanceof operator.</p>\n<p>Since there are a lot of Exceptions types and this method will grow, but I would like to make it so that without changing this method, expand the ability to process new Exceptions. And it is even better to use Spring's capabilities for automatic initialization of components, then it is enough to implement a new type that will be automatically added to the Map and, if necessary, depending on the exceptions that occurred, the filled object was returned and a programmed action was performed (for example, writing to the log).</p>\n<pre class=\"lang-java prettyprint-override\"><code> Map&lt;String, Supplier&lt;String&gt;&gt; handler = new HashMap&lt;&gt;();\n\n        PasswordInHashException passwordInHashException =\n                new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n\n  handler.put(&quot;PasswordInHashException&quot;, () -&gt; {\n            System.out.println(&quot;passwordInHashException&quot;);\n            return &quot;passwordInHashException&quot;;\n        });\n\n Throwable key =  new PasswordInHashException(&quot;passwordInHashException&quot;, new Throwable());\n        String simpleName = key.getClass().getSimpleName();\n\n         handler.get(simpleName).get();\n\n</code></pre>\n<p>Please share your ideas.</p>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":1394697,"reputation":14498,"user_id":1324709,"accept_rate":94,"display_name":"Branislav Lazic"},"score":0,"creation_date":1447096552,"post_id":33616386,"comment_id":55007264,"body_markdown":"Well.. you can always obtain `Principal` object, get principal&#39;s name and find User by username. If Spring sec. authentication is being implemented correctly of course.","body":"Well.. you can always obtain <code>Principal</code> object, get principal&#39;s name and find User by username. If Spring sec. authentication is being implemented correctly of course."},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":1,"creation_date":1447097081,"post_id":33616386,"comment_id":55007586,"body_markdown":"Yeah, that&#39;s what I&#39;m doing at the moment ... Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n\t\tUser principal = uRep.findByUsername(auth.getName()); .. but as I said, I&#39;d like to have that clean solution when it&#39;s available","body":"Yeah, that&#39;s what I&#39;m doing at the moment ... Authentication auth = SecurityContextHolder.getContext().getAuthentication(); \t\tUser principal = uRep.findByUsername(auth.getName()); .. but as I said, I&#39;d like to have that clean solution when it&#39;s available"},{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":2,"creation_date":1447163708,"post_id":33616386,"comment_id":55036470,"body_markdown":"I am facing exactly the same issue as you. @ AuthenticationPrincipal is always giving me a default user (The User class just initlalized with default constructor), whereas ContextSecurityHolder and HttpServletRequest#getUserPrincipal() give me the expected (authenticated) user. By the way, should you not annotate your SecurityConfig with @ EnableWebSecurity instead of  @ EnableWebMvcSecurity (deprecated in Spring Security 4+)?","body":"I am facing exactly the same issue as you. @ AuthenticationPrincipal is always giving me a default user (The User class just initlalized with default constructor), whereas ContextSecurityHolder and HttpServletRequest#getUserPrincipal() give me the expected (authenticated) user. By the way, should you not annotate your SecurityConfig with @ EnableWebSecurity instead of  @ EnableWebMvcSecurity (deprecated in Spring Security 4+)?"},{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":0,"creation_date":1447164043,"post_id":33616386,"comment_id":55036686,"body_markdown":"Thanks for pointing that out, completely missed that :). If you figure it out please don&#39;t hesitate to post here.","body":"Thanks for pointing that out, completely missed that :). If you figure it out please don&#39;t hesitate to post here."},{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":0,"creation_date":1447170919,"post_id":33616386,"comment_id":55041798,"body_markdown":"I have filed a JIRA at Spring: https://jira.spring.io/browse/SEC-3145","body":"I have filed a JIRA at Spring: <a href=\"https://jira.spring.io/browse/SEC-3145\" rel=\"nofollow noreferrer\">jira.spring.io/browse/SEC-3145</a>"}],"answers":[{"comments":[{"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"score":7,"creation_date":1447154833,"post_id":33628545,"comment_id":55031300,"body_markdown":"As I said, those methods all work just fine. But according to the documentation, I should be able to get my custom user object via the AuthenticationPrincipal annotation as long as my user object implements UserDetails and I enable WebMvcSecurity (I&#39;m using Spring Security 4.0.2). Any idea what I could be missing?","body":"As I said, those methods all work just fine. But according to the documentation, I should be able to get my custom user object via the AuthenticationPrincipal annotation as long as my user object implements UserDetails and I enable WebMvcSecurity (I&#39;m using Spring Security 4.0.2). Any idea what I could be missing?"},{"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"score":1,"creation_date":1447334155,"post_id":33628545,"comment_id":55117287,"body_markdown":"Surprisingly, the approach with `@AuthenticationPrincipal User` did not work for me, but using `Principal` direclty worked. Waiting for an answer from [Spring 3145 ticket](https://jira.spring.io/browse/SEC-3145) on this point...","body":"Surprisingly, the approach with <code>@AuthenticationPrincipal User</code> did not work for me, but using <code>Principal</code> direclty worked. Waiting for an answer from <a href=\"https://jira.spring.io/browse/SEC-3145\" rel=\"nofollow noreferrer\">Spring 3145 ticket</a> on this point..."},{"owner":{"account_id":24289,"reputation":2187,"user_id":61673,"accept_rate":86,"display_name":"Ickster"},"score":2,"creation_date":1517353200,"post_id":33628545,"comment_id":84059342,"body_markdown":"@R&#233;miDoolaeghe - this is a late answer, but you need to be getting an instance of `UserDetails` instead of just `User`.","body":"@R&#233;miDoolaeghe - this is a late answer, but you need to be getting an instance of <code>UserDetails</code> instead of just <code>User</code>."}],"tags":[],"owner":{"account_id":1192211,"reputation":1019,"user_id":1164714,"display_name":"Imrank"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1447153491,"creation_date":1447153491,"answer_id":33628545,"question_id":33616386,"body_markdown":"Instead of using @AuthenticationPrincipal you can directly specify your dependency for authenticated user in method argument. something as given below\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView index(Principal user) {\r\n        ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n        mav.addObject(&quot;user&quot;, user);\r\n        return mav;\r\n    } \r\n\r\nThis Principal object will be actual object that got authenticated through spring security. Spring will inject this for you when the method will get invoked.\r\n","title":"Spring Security @AuthenticationPrincipal","body":"<p>Instead of using @AuthenticationPrincipal you can directly specify your dependency for authenticated user in method argument. something as given below</p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\npublic ModelAndView index(Principal user) {\n    ModelAndView mav= new ModelAndView(\"/web/index\");\n    mav.addObject(\"user\", user);\n    return mav;\n} \n</code></pre>\n\n<p>This Principal object will be actual object that got authenticated through spring security. Spring will inject this for you when the method will get invoked.</p>\n"},{"tags":[],"owner":{"account_id":1049595,"reputation":2282,"user_id":1844337,"accept_rate":72,"display_name":"R&#233;mi Doolaeghe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1447756914,"creation_date":1447756914,"answer_id":33754871,"question_id":33616386,"body_markdown":"I found another solution, even this is not the canonical one.\r\n\r\n**In your controller**\r\n\r\n    @RequestMapping(value = &quot;/login&quot;, method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\r\n\t@ResponseBody\r\n\tpublic ResponseEntity&lt;UserDTO&gt; login(@RequestBody UserDTO user){\r\n\t\ttry {\r\n\t\t\tusersService.authenticate(user.getUsername(), user.getPassword());\r\n\t\t\treturn new ResponseEntity&lt;UserDTO&gt;(user, HttpStatus.OK);\r\n\t\t}\r\n\t\tcatch (BadCredentialsException e){\r\n\t\t\treturn new ResponseEntity&lt;UserDTO&gt;(HttpStatus.UNAUTHORIZED);\r\n\t\t}\r\n\t}\r\n\r\nWhere the UserDTO os just a form to contains a username and a password\r\n\r\n**In your CustomUserDetailsService**\r\n\r\n    public void authenticate(String username, String password){\r\n\t\ttry{\r\n\t\t\tUser user = new User(username, password);\r\n\t\t\tAuthentication request = new UsernamePasswordAuthenticationToken(user, password, Arrays.asList(WebSecurityConfiguration.USER));\r\n\t\t\tAuthentication result = authenticationManager.authenticate(request);\r\n\t\t\tSecurityContextHolder.getContext().setAuthentication(result);\t\t\r\n\t\t} catch (InternalAuthenticationServiceException e){\r\n\t\t\t// treat as a bad credential\r\n\t\t}\r\n\t}\r\n\r\n**Implement your own AuthenticationManager**\r\n\r\n    @Component\r\n    class DefaultAuthenticationManager implements AuthenticationManager {\r\n\t\r\n\t@Autowired\r\n\tprivate CustomUserDetailsService usersService;\r\n\r\n\tpublic Authentication authenticate(Authentication auth) throws AuthenticationException {\r\n\t\tUserDetails user = usersService.loadUserByUsername(((User)auth.getPrincipal()).getUsername());\r\n\t\tif (user != null) {\r\n\t\t\treturn new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\r\n\t\t}\r\n    // Handle bad credentials here\t\r\n    }\r\n    }\r\n\r\nWhat is fundamental is that the `Principal` in the `CustomUserDetailsService#authenticate` is an object, not the name of your authenticated user, so that the framework can handle it and then inject through `@AuthenticationPrincipal` mechanism. This worked for me.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I found another solution, even this is not the canonical one.</p>\n\n<p><strong>In your controller</strong></p>\n\n<pre><code>@RequestMapping(value = \"/login\", method = RequestMethod.POST, consumes = MediaType.APPLICATION_JSON_VALUE)\n@ResponseBody\npublic ResponseEntity&lt;UserDTO&gt; login(@RequestBody UserDTO user){\n    try {\n        usersService.authenticate(user.getUsername(), user.getPassword());\n        return new ResponseEntity&lt;UserDTO&gt;(user, HttpStatus.OK);\n    }\n    catch (BadCredentialsException e){\n        return new ResponseEntity&lt;UserDTO&gt;(HttpStatus.UNAUTHORIZED);\n    }\n}\n</code></pre>\n\n<p>Where the UserDTO os just a form to contains a username and a password</p>\n\n<p><strong>In your CustomUserDetailsService</strong></p>\n\n<pre><code>public void authenticate(String username, String password){\n    try{\n        User user = new User(username, password);\n        Authentication request = new UsernamePasswordAuthenticationToken(user, password, Arrays.asList(WebSecurityConfiguration.USER));\n        Authentication result = authenticationManager.authenticate(request);\n        SecurityContextHolder.getContext().setAuthentication(result);       \n    } catch (InternalAuthenticationServiceException e){\n        // treat as a bad credential\n    }\n}\n</code></pre>\n\n<p><strong>Implement your own AuthenticationManager</strong></p>\n\n<pre><code>@Component\nclass DefaultAuthenticationManager implements AuthenticationManager {\n\n@Autowired\nprivate CustomUserDetailsService usersService;\n\npublic Authentication authenticate(Authentication auth) throws AuthenticationException {\n    UserDetails user = usersService.loadUserByUsername(((User)auth.getPrincipal()).getUsername());\n    if (user != null) {\n        return new UsernamePasswordAuthenticationToken(user, user.getPassword(), user.getAuthorities());\n    }\n// Handle bad credentials here  \n}\n}\n</code></pre>\n\n<p>What is fundamental is that the <code>Principal</code> in the <code>CustomUserDetailsService#authenticate</code> is an object, not the name of your authenticated user, so that the framework can handle it and then inject through <code>@AuthenticationPrincipal</code> mechanism. This worked for me.</p>\n"},{"tags":[],"owner":{"account_id":7100312,"reputation":280,"user_id":5432178,"display_name":"Ali Miskeen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489015346,"creation_date":1489013312,"answer_id":42683422,"question_id":33616386,"body_markdown":"    @RequestMapping(method= RequestMethod.GET,value=&quot;/authenticate&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public Object authenticate(@AuthenticationPrincipal Object obj) {\r\n        return obj;\r\n    }\r\n\r\nI have the same problem, I was able to make this work.\r\nYou could use it with a mapper\r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/authenticate2&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n    public User authenticate2(@AuthenticationPrincipal Object obj) throws IOException {\r\n        return mapper.readValue(mapper.writeValueAsString(obj), User.class);\r\n    }\r\n\r\nThese worked for me, I hope it would work for anyone in the future","title":"Spring Security @AuthenticationPrincipal","body":"<pre><code>@RequestMapping(method= RequestMethod.GET,value=\"/authenticate\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic Object authenticate(@AuthenticationPrincipal Object obj) {\n    return obj;\n}\n</code></pre>\n\n<p>I have the same problem, I was able to make this work.\nYou could use it with a mapper</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = \"/authenticate2\", produces = MediaType.APPLICATION_JSON_VALUE)\npublic User authenticate2(@AuthenticationPrincipal Object obj) throws IOException {\n    return mapper.readValue(mapper.writeValueAsString(obj), User.class);\n}\n</code></pre>\n\n<p>These worked for me, I hope it would work for anyone in the future</p>\n"},{"tags":[],"owner":{"account_id":11304263,"reputation":1,"user_id":8289335,"display_name":"yihang"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1511530875,"creation_date":1511530875,"answer_id":47474536,"question_id":33616386,"body_markdown":"I am facing exactly the same issue as you.\r\nfor some reason, spring security&#39;s @EnableWebSecurity not add argumentResolver automatically, you need to add it manual:\r\n\r\n    &lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:argument-resolvers&gt;\r\n\t\t\t&lt;bean class=&quot;org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver&quot;/&gt;\r\n\t\t&lt;/mvc:argument-resolvers&gt;\r\n\t&lt;/mvc:annotation-driven&gt;","title":"Spring Security @AuthenticationPrincipal","body":"<p>I am facing exactly the same issue as you.\nfor some reason, spring security's @EnableWebSecurity not add argumentResolver automatically, you need to add it manual:</p>\n\n<pre><code>&lt;mvc:annotation-driven&gt;\n    &lt;mvc:argument-resolvers&gt;\n        &lt;bean class=\"org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver\"/&gt;\n    &lt;/mvc:argument-resolvers&gt;\n&lt;/mvc:annotation-driven&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2871888,"reputation":919,"user_id":2465039,"accept_rate":70,"display_name":"user2465039"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1513683915,"creation_date":1513683915,"answer_id":47886283,"question_id":33616386,"body_markdown":"In my case, I get a `String` back (the username) and not the `UserDetails` object, i.e. you should define the method signature as \r\n\r\n    public ModelAndView index(@AuthenticationPrincipal String username)\r\n\r\nThis is not strange, since `@AuthenticationPrincipal` in effect returns `Authentication.getPrincipal()` and according to the documentation:\r\n\r\n&gt; In the case of an authentication request with username and password,\r\n&gt; this would be the username. Callers are expected to populate the\r\n&gt; principal for an authentication request.\r\n&gt; \r\n&gt; The AuthenticationManager implementation will often return an\r\n&gt; Authentication containing richer information as the principal for use\r\n&gt; by the application. Many of the authentication providers will create a\r\n&gt; UserDetails object as the principal.\r\nSee: https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/\r\n\r\nSo, I am assuming that your `AuthenticationManager` implementation is returning just a username","title":"Spring Security @AuthenticationPrincipal","body":"<p>In my case, I get a <code>String</code> back (the username) and not the <code>UserDetails</code> object, i.e. you should define the method signature as </p>\n\n<pre><code>public ModelAndView index(@AuthenticationPrincipal String username)\n</code></pre>\n\n<p>This is not strange, since <code>@AuthenticationPrincipal</code> in effect returns <code>Authentication.getPrincipal()</code> and according to the documentation:</p>\n\n<blockquote>\n  <p>In the case of an authentication request with username and password,\n  this would be the username. Callers are expected to populate the\n  principal for an authentication request.</p>\n  \n  <p>The AuthenticationManager implementation will often return an\n  Authentication containing richer information as the principal for use\n  by the application. Many of the authentication providers will create a\n  UserDetails object as the principal.\n  See: <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/\" rel=\"noreferrer\">https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/api/</a></p>\n</blockquote>\n\n<p>So, I am assuming that your <code>AuthenticationManager</code> implementation is returning just a username</p>\n"},{"tags":[],"owner":{"account_id":2748330,"reputation":2030,"user_id":2368238,"display_name":"Matias Sebastiao"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1521518694,"creation_date":1521518694,"answer_id":49376175,"question_id":33616386,"body_markdown":"You need to check if you are using the correct version of `@AuthenticationPrincipal` annotation and the correct version of `AuthenticationPrincipalArgumentResolver` class together.\r\n\r\nPrior to 4.0 version of Spring Security you had to use classes: \r\n\r\n - `org.springframework.security.web.bind.annotation.AuthenticationPrincipal`\r\n\r\n - `org.springframework.security.web.bind.support.AuthenticationPrincipalArgumentResolver`\r\n\r\nFrom version 4.0 onwards, you must use:\r\n\r\n - `org.springframework.security.core.annotation.AuthenticationPrincipal`\r\n\r\n - `org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver`\r\n\r\nLook at [@AuthenticationPrincipal][1] official docs for configuration examples.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#mvc-authentication-principal","title":"Spring Security @AuthenticationPrincipal","body":"<p>You need to check if you are using the correct version of <code>@AuthenticationPrincipal</code> annotation and the correct version of <code>AuthenticationPrincipalArgumentResolver</code> class together.</p>\n\n<p>Prior to 4.0 version of Spring Security you had to use classes: </p>\n\n<ul>\n<li><p><code>org.springframework.security.web.bind.annotation.AuthenticationPrincipal</code></p></li>\n<li><p><code>org.springframework.security.web.bind.support.AuthenticationPrincipalArgumentResolver</code></p></li>\n</ul>\n\n<p>From version 4.0 onwards, you must use:</p>\n\n<ul>\n<li><p><code>org.springframework.security.core.annotation.AuthenticationPrincipal</code></p></li>\n<li><p><code>org.springframework.security.web.method.annotation.AuthenticationPrincipalArgumentResolver</code></p></li>\n</ul>\n\n<p>Look at <a href=\"https://docs.spring.io/spring-security/site/docs/5.0.0.RELEASE/reference/htmlsingle/#mvc-authentication-principal\" rel=\"nofollow noreferrer\">@AuthenticationPrincipal</a> official docs for configuration examples.</p>\n"},{"comments":[{"owner":{"account_id":135029,"reputation":336,"user_id":337551,"accept_rate":31,"display_name":"tad604"},"score":0,"creation_date":1648322895,"post_id":57277659,"comment_id":126596845,"body_markdown":"I&#39;m implementing the interface and not overriding the the Abstract class.  The AuthenticatedPrincipal Argument is getting created with new instance of the our  userDetails object that implements the spring version but that&#39;s not helpful as all the properties are null.","body":"I&#39;m implementing the interface and not overriding the the Abstract class.  The AuthenticatedPrincipal Argument is getting created with new instance of the our  userDetails object that implements the spring version but that&#39;s not helpful as all the properties are null."}],"tags":[],"owner":{"account_id":13781963,"reputation":41,"user_id":9946910,"display_name":"P Sh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564510123,"creation_date":1564510123,"answer_id":57277659,"question_id":33616386,"body_markdown":"I&#39;m achieving this with an authentication provider that extends AbstractUserDetailsAuthenticationProvider . \r\n\r\nIn my provider I&#39;m overriding the following method:\r\n\r\nprotected UserDetails retrieveUser(\r\n         String username,\r\n         UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {}\r\n\r\nand in this method I&#39;m creating my UserDetails implementation and return it. Then I&#39;m able to get it in the controller with the AuthenticationPrincipal annotation.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I'm achieving this with an authentication provider that extends AbstractUserDetailsAuthenticationProvider . </p>\n\n<p>In my provider I'm overriding the following method:</p>\n\n<p>protected UserDetails retrieveUser(\n         String username,\n         UsernamePasswordAuthenticationToken authentication) throws AuthenticationException {}</p>\n\n<p>and in this method I'm creating my UserDetails implementation and return it. Then I'm able to get it in the controller with the AuthenticationPrincipal annotation.</p>\n"},{"tags":[],"owner":{"account_id":140438,"reputation":5061,"user_id":1208276,"accept_rate":58,"display_name":"uiroshan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567469747,"creation_date":1567469747,"answer_id":57763692,"question_id":33616386,"body_markdown":"Even though documentation mentioned about a customUser, I don&#39;t think it&#39;s possible. Use `@AuthenticationPrincipal` with `java.lang.Object` or `org.springframework.security.core.userdetails.User` as spring controller method parameter type.\r\n\r\n&gt; If the types do not match, null will be returned unless\r\n&gt; AuthenticationPrincipal.errorOnInvalidType() is true in which case a\r\n&gt; ClassCastException will be thrown.\r\n[Spring API Documentation][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html","title":"Spring Security @AuthenticationPrincipal","body":"<p>Even though documentation mentioned about a customUser, I don't think it's possible. Use <code>@AuthenticationPrincipal</code> with <code>java.lang.Object</code> or <code>org.springframework.security.core.userdetails.User</code> as spring controller method parameter type.</p>\n\n<blockquote>\n  <p>If the types do not match, null will be returned unless\n  AuthenticationPrincipal.errorOnInvalidType() is true in which case a\n  ClassCastException will be thrown.\n  <a href=\"https://docs.spring.io/spring-security/site/docs/4.2.12.RELEASE/apidocs/org/springframework/security/web/method/annotation/AuthenticationPrincipalArgumentResolver.html\" rel=\"nofollow noreferrer\">Spring API Documentation</a></p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1593081,"reputation":63,"user_id":1475975,"display_name":"maciejlesniak"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1584818363,"creation_date":1584818363,"answer_id":60792260,"question_id":33616386,"body_markdown":"From documentation:\r\n\r\n&gt; Class AuthenticationPrincipalArgumentResolver \r\n&gt; will resolve the CustomUser argument using\r\n&gt; Authentication.getPrincipal() from the SecurityContextHolder. If the\r\n&gt; Authentication or Authentication.getPrincipal() is null, it will\r\n&gt; return null. If the types do not match, null will be returned unless\r\n&gt; AuthenticationPrincipal.errorOnInvalidType() is true in which case a\r\n&gt; ClassCastException will be thrown.\r\n\r\nThis simple code works for me:\r\n\r\n    @RestController\r\n    public class ApiController {\r\n    \r\n      @RequestMapping(method = RequestMethod.GET, path = &quot;/api/public/{id}&quot;)\r\n      public ResponseEntity&lt;ApiResponse&gt; getPublicResource(\r\n          @PathVariable Integer id,\r\n          @AuthenticationPrincipal String principal\r\n      ) {\r\n    \r\n        if (id % 2 == 0) {\r\n          SecurityContext context = SecurityContextHolder.getContext();\r\n          Authentication authentication = context.getAuthentication();\r\n          return ResponseEntity.ok(new ApiResponse(\r\n              authentication.getPrincipal().toString(),\r\n              &quot;this method scrapes principal directly from SpringSecurityContext&quot;));\r\n        }\r\n    \r\n        return ResponseEntity.ok(new ApiResponse(\r\n            principal.toString(),\r\n            &quot;this method retrieves principal from method argument&quot;));\r\n    \r\n      }\r\n    \r\n    }\r\n\r\nJust check the type of the principal in Authentication object.\r\n","title":"Spring Security @AuthenticationPrincipal","body":"<p>From documentation:</p>\n\n<blockquote>\n  <p>Class AuthenticationPrincipalArgumentResolver \n  will resolve the CustomUser argument using\n  Authentication.getPrincipal() from the SecurityContextHolder. If the\n  Authentication or Authentication.getPrincipal() is null, it will\n  return null. If the types do not match, null will be returned unless\n  AuthenticationPrincipal.errorOnInvalidType() is true in which case a\n  ClassCastException will be thrown.</p>\n</blockquote>\n\n<p>This simple code works for me:</p>\n\n<pre><code>@RestController\npublic class ApiController {\n\n  @RequestMapping(method = RequestMethod.GET, path = \"/api/public/{id}\")\n  public ResponseEntity&lt;ApiResponse&gt; getPublicResource(\n      @PathVariable Integer id,\n      @AuthenticationPrincipal String principal\n  ) {\n\n    if (id % 2 == 0) {\n      SecurityContext context = SecurityContextHolder.getContext();\n      Authentication authentication = context.getAuthentication();\n      return ResponseEntity.ok(new ApiResponse(\n          authentication.getPrincipal().toString(),\n          \"this method scrapes principal directly from SpringSecurityContext\"));\n    }\n\n    return ResponseEntity.ok(new ApiResponse(\n        principal.toString(),\n        \"this method retrieves principal from method argument\"));\n\n  }\n\n}\n</code></pre>\n\n<p>Just check the type of the principal in Authentication object.</p>\n"},{"tags":[],"owner":{"account_id":25875256,"reputation":1,"user_id":19833128,"display_name":"Ramzan K"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661700765,"creation_date":1661299019,"answer_id":73466074,"question_id":33616386,"body_markdown":"You have to ensure that the class which you want to get is implemented `UserDetails` because the annotation returns this.","title":"Spring Security @AuthenticationPrincipal","body":"<p>You have to ensure that the class which you want to get is implemented <code>UserDetails</code> because the annotation returns this.</p>\n"},{"tags":[],"owner":{"account_id":10700133,"reputation":87,"user_id":7875801,"display_name":"Gabriel Mohňansk&#253;"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668114603,"creation_date":1668114603,"answer_id":74395332,"question_id":33616386,"body_markdown":"Defining (expression = &quot;userDetails&quot;) for the @AuthenticationPrincipal works for me\r\n\r\n```@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;UserDetails&gt; index(@AuthenticationPrincipal(expression = &quot;userDetails&quot;) UserDetails userDetails) {\r\n     return ResponseEntity.ok(userDetails);\r\n}","title":"Spring Security @AuthenticationPrincipal","body":"<p>Defining (expression = &quot;userDetails&quot;) for the @AuthenticationPrincipal works for me</p>\n<pre><code>public ResponseEntity&lt;UserDetails&gt; index(@AuthenticationPrincipal(expression = &quot;userDetails&quot;) UserDetails userDetails) {\n     return ResponseEntity.ok(userDetails);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5235524,"reputation":1816,"user_id":4184231,"accept_rate":62,"display_name":"oxyt"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675531883,"creation_date":1675531883,"answer_id":75347004,"question_id":33616386,"body_markdown":"    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n    public ModelAndView index(@AuthenticationPrincipal(expression = &quot;user&quot;) User user) {\r\n        ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n        mav.addObject(&quot;user&quot;, user);\r\n        return mav;\r\n    }\r\n\r\nJust put `expression = &quot;user&quot;` and you are good to go. (If your User entity class name is different, update this accordingly.)","title":"Spring Security @AuthenticationPrincipal","body":"<pre><code>@RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\npublic ModelAndView index(@AuthenticationPrincipal(expression = &quot;user&quot;) User user) {\n    ModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\n    mav.addObject(&quot;user&quot;, user);\n    return mav;\n}\n</code></pre>\n<p>Just put <code>expression = &quot;user&quot;</code> and you are good to go. (If your User entity class name is different, update this accordingly.)</p>\n"},{"tags":[],"owner":{"account_id":6904770,"reputation":837,"user_id":5303092,"display_name":"Jeff"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686259455,"creation_date":1686259455,"answer_id":76435778,"question_id":33616386,"body_markdown":"The return type of `@AuthenticationPrincipal` can be different for different auth methods (Username/password vs Oauth2 for example). \r\n\r\nTo find out the return type of `@AuthenticationPrincipal`. See https://stackoverflow.com/a/76435763/5303092","title":"Spring Security @AuthenticationPrincipal","body":"<p>The return type of <code>@AuthenticationPrincipal</code> can be different for different auth methods (Username/password vs Oauth2 for example).</p>\n<p>To find out the return type of <code>@AuthenticationPrincipal</code>. See <a href=\"https://stackoverflow.com/a/76435763/5303092\">https://stackoverflow.com/a/76435763/5303092</a></p>\n"}],"owner":{"account_id":5858533,"reputation":1284,"user_id":4615047,"accept_rate":62,"display_name":"Lukehey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73802,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"answer_count":13,"score":27,"last_activity_date":1686259455,"creation_date":1447096188,"question_id":33616386,"body_markdown":"I&#39;ve been trying to get @AuthenticationPrincipal to work properly with a custom User class. Unfortunately, the user is always null. Here&#39;s the code:\r\n\r\n**Controller**\r\n\r\n    @RequestMapping(value = &quot;/&quot;, method = RequestMethod.GET)\r\n\tpublic ModelAndView index(@AuthenticationPrincipal User user) {\r\n\t\tModelAndView mav= new ModelAndView(&quot;/web/index&quot;);\r\n\t\tmav.addObject(&quot;user&quot;, user);\r\n\t\treturn mav;\r\n\t}\r\n\r\n\r\n**Security Config**\r\n\r\n    @Configuration\r\n    @EnableWebMvcSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n\t    @Autowired\r\n\t    CustomUserDetailsService customUserDetailsService;\r\n\r\n\t    @Autowired\r\n\t    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n\t\t        auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\r\n        }\r\n}\r\n\r\n**CustomUserDetailsService**\r\n\r\n    @Component\r\n    public class CustomUserDetailsService implements UserDetailsService {\r\n\r\n\t@Autowired\r\n\tUserRepository userRepository;\r\n\r\n\t@Override\r\n\tpublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        // Spring Data findByXY function\r\n\t\treturn userRepository.findByUsername(username);\r\n    }\r\n\r\n**User Entity**\r\n\r\n    public class User implements UserDetails{\r\n        private String username;\r\n        private String password;\r\n\t    private Collection&lt;Authority&gt; authorities;\r\n        \r\n        // Getters and Setters\r\n\r\n    }\r\n\r\n**Authority Entity**\r\n\r\n    public class Authority implements GrantedAuthority{\r\n        private User user;\r\n        private String role;\r\n\r\n        // Getters and Setters\r\n\r\n        @Override\r\n\t    public String getAuthority() {\r\n\t\t    return this.getRole();\r\n\t    }\r\n    }\r\n\r\n\r\nI&#39;ve tried various solutions to this I found online, e.g. converting my custom user object like this:\r\n\r\n    return new org.springframework.security.core.userdetails.User(user.getLogin(), user.getPassword(), true, true, true, true,  authorities);\r\n\r\nThe other ways to get the active users are working without a problem, but I find the @AuthenticationProvider CustomUserObject to be the cleanest way, which is why I would like to get this to work. Any help is greatly appreciated.","title":"Spring Security @AuthenticationPrincipal","body":"<p>I've been trying to get @AuthenticationPrincipal to work properly with a custom User class. Unfortunately, the user is always null. Here's the code:</p>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>@RequestMapping(value = \"/\", method = RequestMethod.GET)\npublic ModelAndView index(@AuthenticationPrincipal User user) {\n    ModelAndView mav= new ModelAndView(\"/web/index\");\n    mav.addObject(\"user\", user);\n    return mav;\n}\n</code></pre>\n\n<p><strong>Security Config</strong></p>\n\n<pre><code>@Configuration\n@EnableWebMvcSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    CustomUserDetailsService customUserDetailsService;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n            auth.userDetailsService(customUserDetailsService).passwordEncoder(passwordEncoder());\n    }\n</code></pre>\n\n<p>}</p>\n\n<p><strong>CustomUserDetailsService</strong></p>\n\n<pre><code>@Component\npublic class CustomUserDetailsService implements UserDetailsService {\n\n@Autowired\nUserRepository userRepository;\n\n@Override\npublic UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n    // Spring Data findByXY function\n    return userRepository.findByUsername(username);\n}\n</code></pre>\n\n<p><strong>User Entity</strong></p>\n\n<pre><code>public class User implements UserDetails{\n    private String username;\n    private String password;\n    private Collection&lt;Authority&gt; authorities;\n\n    // Getters and Setters\n\n}\n</code></pre>\n\n<p><strong>Authority Entity</strong></p>\n\n<pre><code>public class Authority implements GrantedAuthority{\n    private User user;\n    private String role;\n\n    // Getters and Setters\n\n    @Override\n    public String getAuthority() {\n        return this.getRole();\n    }\n}\n</code></pre>\n\n<p>I've tried various solutions to this I found online, e.g. converting my custom user object like this:</p>\n\n<pre><code>return new org.springframework.security.core.userdetails.User(user.getLogin(), user.getPassword(), true, true, true, true,  authorities);\n</code></pre>\n\n<p>The other ways to get the active users are working without a problem, but I find the @AuthenticationProvider CustomUserObject to be the cleanest way, which is why I would like to get this to work. Any help is greatly appreciated.</p>\n"},{"tags":["java","token"],"answers":[{"comments":[{"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"score":3,"creation_date":1611258870,"post_id":43473599,"comment_id":116400721,"body_markdown":"For me I had simply forgotten to add the project dependency &#39;io.jsonwebtoken:jjwt-jackson:0.11.2&#39;","body":"For me I had simply forgotten to add the project dependency &#39;io.jsonwebtoken:jjwt-jackson:0.11.2&#39;"}],"tags":[],"owner":{"account_id":9500520,"reputation":141,"user_id":7089901,"display_name":"berlot83"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1492523606,"creation_date":1492522073,"answer_id":43473599,"question_id":43470940,"body_markdown":"I answer myself so perhaps someone could have the same problem.\r\n\r\nI&#39;ve been with this problem about a month, until I got balls to delete some old libraries located in my project. \r\n\r\nThe problem appeared to be that I declared a Maven dependecy with jackson 2.8.2 or later and in the &#39;reference libraries&#39; I had libraries lowers than 1.9, when I removed from my Build-Path the problem was gone. And now I can see the String Token.\r\n\r\n[This is the picture with the problem solved.][1]\r\n\r\nThank you. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/IDkao.jpg","title":"Runtime or class error running JJWT Json Token","body":"<p>I answer myself so perhaps someone could have the same problem.</p>\n\n<p>I've been with this problem about a month, until I got balls to delete some old libraries located in my project. </p>\n\n<p>The problem appeared to be that I declared a Maven dependecy with jackson 2.8.2 or later and in the 'reference libraries' I had libraries lowers than 1.9, when I removed from my Build-Path the problem was gone. And now I can see the String Token.</p>\n\n<p><a href=\"https://i.stack.imgur.com/IDkao.jpg\" rel=\"nofollow noreferrer\">This is the picture with the problem solved.</a></p>\n\n<p>Thank you. </p>\n"},{"tags":[],"owner":{"account_id":1346927,"reputation":2441,"user_id":1287477,"accept_rate":52,"display_name":"Continuity8"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681248209,"creation_date":1681248209,"answer_id":75990243,"question_id":43470940,"body_markdown":"Adding the project dependency &#39;io.jsonwebtoken:jjwt-jackson:0.11.2&#39; will resolve the issue, as it contains what you need (as per my comment on berlot83&#39;s answer).\r\n\r\nAlso best check for updated versions (compatible with your other dependencies of course) as it&#39;s always wise to stay updated.","title":"Runtime or class error running JJWT Json Token","body":"<p>Adding the project dependency 'io.jsonwebtoken:jjwt-jackson:0.11.2' will resolve the issue, as it contains what you need (as per my comment on berlot83's answer).</p>\n<p>Also best check for updated versions (compatible with your other dependencies of course) as it's always wise to stay updated.</p>\n"},{"tags":[],"owner":{"account_id":26469747,"reputation":11,"user_id":20110529,"display_name":"Neeraj Parkash Sharma"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686259114,"creation_date":1686258950,"answer_id":76435740,"question_id":43470940,"body_markdown":"Add this dependency into your `pom.xml` file to fix the issue :) \r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;  \r\n    &lt;version&gt;0.11.1&lt;/version&gt;\r\n    &lt;scope&gt;runtime&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```","title":"Runtime or class error running JJWT Json Token","body":"<p>Add this dependency into your <code>pom.xml</code> file to fix the issue :)</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n    &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;  \n    &lt;version&gt;0.11.1&lt;/version&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":9500520,"reputation":141,"user_id":7089901,"display_name":"berlot83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1686259114,"creation_date":1492515018,"question_id":43470940,"body_markdown":"I have a little problem. I&#180;ve been trying to use different libraries to produce a json token and now I&#39;m using JJWT from Stormpath. They have tutorials well explained. But my problem is, when I try to run the String method in a &quot;public static void main&quot; method, I get a runtime or class error. In their official website says there is a requeriment that the jackson library must being newer than Version 2.8. So I downloaded such library.\r\n\r\nHere my source code:\r\n    \r\n    package org.comunidadIT.proyecto.accesoDatos;\r\n\r\n    import java.security.Key;\r\n    import io.jsonwebtoken.Jwts;\r\n    import io.jsonwebtoken.SignatureAlgorithm;\r\n    import io.jsonwebtoken.impl.crypto.MacProvider;\r\n\r\n    public class ValidarToken {\r\n\r\n\t\tpublic String token(){\r\n\t\t\t// We need a signing key, so we&#39;ll create one just for this example. Usually\r\n\t\t\t// the key would be read from your application configuration instead.\r\n\t\t\tKey key = MacProvider.generateKey();\r\n\r\n\t\t\tString compactJws = Jwts.builder()\r\n\t\t\t  .setSubject(&quot;Joe&quot;)\r\n\t\t\t  .signWith(SignatureAlgorithm.HS512, key)\r\n\t\t\t  .compact();\r\n\t\t\t\r\n\t\t\treturn compactJws;\r\n\t\t}\r\n\t\t\r\n\t\tpublic static void main(String args[]){\r\n\t\t\t\r\n\t\t\tValidarToken t= new ValidarToken();\r\n\t\t\tSystem.out.println(t.token());\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nThe console show following error message:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoSuchFieldError: USE_DEFAULTS\r\n\tat com.fasterxml.jackson.annotation.JsonInclude$Value.&lt;clinit&gt;(JsonInclude.java:204)\r\n\tat com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:44)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:549)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:465)\r\n\tat io.jsonwebtoken.impl.DefaultJwtBuilder.&lt;clinit&gt;(DefaultJwtBuilder.java:42)\r\n\tat io.jsonwebtoken.Jwts.builder(Jwts.java:116)\r\n\tat org.comunidadIT.proyecto.accesoDatos.ValidarToken.token(ValidarToken.java:16)\r\n\tat org.comunidadIT.proyecto.accesoDatos.ValidarToken.main(ValidarToken.java:27)\r\n\r\n[Image from maven dependencies where appears to be fine with jackson][1]\r\n\r\n[Image from the console with erros][2]\r\n\r\nAs you can see the jackson dependencies appears to be fine.\r\n\r\n\r\nAlso I aatached more libreries to the build-path on reference libraries, but they are outside from the pom.xml.\r\n\r\nWhat do I do wrong?\r\n\r\nThank you \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/97sK4.jpg\r\n  [2]: https://i.stack.imgur.com/H7Bbf.jpg","title":"Runtime or class error running JJWT Json Token","body":"<p>I have a little problem. I´ve been trying to use different libraries to produce a json token and now I'm using JJWT from Stormpath. They have tutorials well explained. But my problem is, when I try to run the String method in a \"public static void main\" method, I get a runtime or class error. In their official website says there is a requeriment that the jackson library must being newer than Version 2.8. So I downloaded such library.</p>\n\n<p>Here my source code:</p>\n\n<pre><code>package org.comunidadIT.proyecto.accesoDatos;\n\nimport java.security.Key;\nimport io.jsonwebtoken.Jwts;\nimport io.jsonwebtoken.SignatureAlgorithm;\nimport io.jsonwebtoken.impl.crypto.MacProvider;\n\npublic class ValidarToken {\n\n    public String token(){\n        // We need a signing key, so we'll create one just for this example. Usually\n        // the key would be read from your application configuration instead.\n        Key key = MacProvider.generateKey();\n\n        String compactJws = Jwts.builder()\n          .setSubject(\"Joe\")\n          .signWith(SignatureAlgorithm.HS512, key)\n          .compact();\n\n        return compactJws;\n    }\n\n    public static void main(String args[]){\n\n        ValidarToken t= new ValidarToken();\n        System.out.println(t.token());\n    }\n\n}\n</code></pre>\n\n<p>The console show following error message:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoSuchFieldError: USE_DEFAULTS\nat com.fasterxml.jackson.annotation.JsonInclude$Value.&lt;clinit&gt;(JsonInclude.java:204)\nat com.fasterxml.jackson.databind.cfg.MapperConfig.&lt;clinit&gt;(MapperConfig.java:44)\nat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:549)\nat com.fasterxml.jackson.databind.ObjectMapper.&lt;init&gt;(ObjectMapper.java:465)\nat io.jsonwebtoken.impl.DefaultJwtBuilder.&lt;clinit&gt;(DefaultJwtBuilder.java:42)\nat io.jsonwebtoken.Jwts.builder(Jwts.java:116)\nat org.comunidadIT.proyecto.accesoDatos.ValidarToken.token(ValidarToken.java:16)\nat org.comunidadIT.proyecto.accesoDatos.ValidarToken.main(ValidarToken.java:27)\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/97sK4.jpg\" rel=\"nofollow noreferrer\">Image from maven dependencies where appears to be fine with jackson</a></p>\n\n<p><a href=\"https://i.stack.imgur.com/H7Bbf.jpg\" rel=\"nofollow noreferrer\">Image from the console with erros</a></p>\n\n<p>As you can see the jackson dependencies appears to be fine.</p>\n\n<p>Also I aatached more libreries to the build-path on reference libraries, but they are outside from the pom.xml.</p>\n\n<p>What do I do wrong?</p>\n\n<p>Thank you </p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1567166095,"post_id":57726223,"comment_id":101892618,"body_markdown":"Do you mean annotating the class instead of individual methods? If so, class level annotations (at least in Spring world) tend to mean &quot;apply this annotation on all methods&quot;.","body":"Do you mean annotating the class instead of individual methods? If so, class level annotations (at least in Spring world) tend to mean &quot;apply this annotation on all methods&quot;."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567166290,"post_id":57726223,"comment_id":101892703,"body_markdown":"Yeah. When would you annotate your class with @DirtiesContext? It&#39;s *classMode* attribute&#39;s value is **AFTER_CLASS** by default. What does it exactly mean?","body":"Yeah. When would you annotate your class with @DirtiesContext? It&#39;s <i>classMode</i> attribute&#39;s value is <b>AFTER_CLASS</b> by default. What does it exactly mean?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567166474,"post_id":57726223,"comment_id":101892785,"body_markdown":"AFTER_CLASS means that the context is marked dirty after all the tests in the class are run, so it is destroyed only after.","body":"AFTER_CLASS means that the context is marked dirty after all the tests in the class are run, so it is destroyed only after."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567166575,"post_id":57726223,"comment_id":101892820,"body_markdown":"Thanks Raul! That helps.One more thing. What would be different if we don&#39;t specify this annotation at all?","body":"Thanks Raul! That helps.One more thing. What would be different if we don&#39;t specify this annotation at all?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567166719,"post_id":57726223,"comment_id":101892876,"body_markdown":"@Kunalgupta, I added a reply to your other comment :)","body":"@Kunalgupta, I added a reply to your other comment :)"}],"answers":[{"comments":[{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":1,"creation_date":1567166490,"post_id":57726293,"comment_id":101892790,"body_markdown":"So it will clear the application context after every test has run, right and not after each test. What if we don&#39;t specify this annotation at all? Won&#39;t the default behaviour be same in that case?","body":"So it will clear the application context after every test has run, right and not after each test. What if we don&#39;t specify this annotation at all? Won&#39;t the default behaviour be same in that case?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567166637,"post_id":57726293,"comment_id":101892842,"body_markdown":"There is an example in the article explaining how it does it. Basically if there is no DirtiesContext annotation present, all the tests in the class will use the same instances of objects, and some tests that run before others will influence the behaviour of the rest because of changes they cause(provided a thorough cleanup is done after each test).","body":"There is an example in the article explaining how it does it. Basically if there is no DirtiesContext annotation present, all the tests in the class will use the same instances of objects, and some tests that run before others will influence the behaviour of the rest because of changes they cause(provided a thorough cleanup is done after each test)."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567167420,"post_id":57726293,"comment_id":101893208,"body_markdown":"I read that article and I understand what will happen if we don&#39;t use the annotation on the class but when you just specify @DirtiesContext which defaults to *After_class*, Isn&#39;t that the same thing as not specifying the annotation at all because you will anyways reload the context after class has run. So if we use annotation and some reference is changed in a test then that will affect subsequent tests, right?","body":"I read that article and I understand what will happen if we don&#39;t use the annotation on the class but when you just specify @DirtiesContext which defaults to <i>After_class</i>, Isn&#39;t that the same thing as not specifying the annotation at all because you will anyways reload the context after class has run. So if we use annotation and some reference is changed in a test then that will affect subsequent tests, right?"},{"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"score":0,"creation_date":1567167592,"post_id":57726293,"comment_id":101893294,"body_markdown":"You are right. Also there might be situations when you have an abstract test class that has all the services you want to test autowired and the test classes that extend this abstract class might make changes that will affect the other classes that extend it(so in this situation DirtiesContext might prove useful, even by default, after each class).","body":"You are right. Also there might be situations when you have an abstract test class that has all the services you want to test autowired and the test classes that extend this abstract class might make changes that will affect the other classes that extend it(so in this situation DirtiesContext might prove useful, even by default, after each class)."},{"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"score":0,"creation_date":1567167714,"post_id":57726293,"comment_id":101893352,"body_markdown":"Makes sense. Thanks (:","body":"Makes sense. Thanks (:"},{"owner":{"account_id":6180392,"reputation":1028,"user_id":4816080,"accept_rate":100,"display_name":"يعقوب"},"score":0,"creation_date":1697785091,"post_id":57726293,"comment_id":136325635,"body_markdown":"article link doesn&#39;t work anymore!","body":"article link doesn&#39;t work anymore!"}],"tags":[],"owner":{"account_id":8780761,"reputation":2379,"user_id":6564450,"display_name":"Raul Cuth"},"comment_count":6,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1640064924,"creation_date":1567166203,"answer_id":57726293,"question_id":57726223,"body_markdown":"If you annotate a test class with [`@DirtiesContext`](https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html), it will remove the application context after the tests are run. There is a lot more explaining in this article: [DirtiesContext annotation][1]\r\n\r\n\r\n  [1]: https://www.javarticles.com/2016/03/spring-dirtiescontext-annotation-example.html","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>If you annotate a test class with <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/annotation/DirtiesContext.html\" rel=\"noreferrer\"><code>@DirtiesContext</code></a>, it will remove the application context after the tests are run. There is a lot more explaining in this article: <a href=\"https://www.javarticles.com/2016/03/spring-dirtiescontext-annotation-example.html\" rel=\"noreferrer\">DirtiesContext annotation</a></p>\n"},{"tags":[],"owner":{"account_id":16561538,"reputation":176,"user_id":11967336,"display_name":"&#193;d&#225;m Kiss"},"comment_count":0,"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1686258643,"creation_date":1567166940,"answer_id":57726488,"question_id":57726223,"body_markdown":"You can tell the Spring junit runner when to remove the application context with the `classMode` attribute.\r\n\r\nFor example if you mark a class with:\r\n\r\n    @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\r\nThen the application context will be cleared after each test method. You have more options also.\r\nOther options for the class mode are the following:\r\n\r\n* **AFTER_CLASS**: The associated `ApplicationContext` will be marked as dirty after the test class.\r\n* **AFTER_EACH_TEST_METHOD**: The associated `ApplicationContext` will be marked as dirty after each test method in the class.\r\n* **BEFORE_CLASS**: The associated `ApplicationContext` will be marked as dirty before the test class.\r\n* **BEFORE_EACH_TEST_METHOD**: The associated `ApplicationContext` will be marked as dirty before each test method in the class.","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>You can tell the Spring junit runner when to remove the application context with the <code>classMode</code> attribute.</p>\n<p>For example if you mark a class with:</p>\n<pre><code>@DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD)\n</code></pre>\n<p>Then the application context will be cleared after each test method. You have more options also.\nOther options for the class mode are the following:</p>\n<ul>\n<li><strong>AFTER_CLASS</strong>: The associated <code>ApplicationContext</code> will be marked as dirty after the test class.</li>\n<li><strong>AFTER_EACH_TEST_METHOD</strong>: The associated <code>ApplicationContext</code> will be marked as dirty after each test method in the class.</li>\n<li><strong>BEFORE_CLASS</strong>: The associated <code>ApplicationContext</code> will be marked as dirty before the test class.</li>\n<li><strong>BEFORE_EACH_TEST_METHOD</strong>: The associated <code>ApplicationContext</code> will be marked as dirty before each test method in the class.</li>\n</ul>\n"}],"owner":{"account_id":15182352,"reputation":511,"user_id":10955333,"display_name":"Kunal gupta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18984,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":57726293,"answer_count":2,"score":11,"last_activity_date":1686258643,"creation_date":1567165862,"question_id":57726223,"body_markdown":"I have been working with Spring and I came across the `@DirtiesContext` annotation provided by spring. Using it on every method makes sense when you want to refresh the application context before running each method(of course at the expense of performance) but what does it exactly mean to annotate a test **class** with `@DirtiesContext`? An example would be really helpful.","title":"What does it exactly mean to use @DirtiesContext annotation on a class?","body":"<p>I have been working with Spring and I came across the <code>@DirtiesContext</code> annotation provided by spring. Using it on every method makes sense when you want to refresh the application context before running each method(of course at the expense of performance) but what does it exactly mean to annotate a test <strong>class</strong> with <code>@DirtiesContext</code>? An example would be really helpful.</p>\n"},{"tags":["java","android","android-studio","java-native-interface"],"comments":[{"owner":{"account_id":1111280,"reputation":6531,"user_id":1101692,"accept_rate":89,"display_name":"Shark"},"score":0,"creation_date":1686223575,"post_id":76425800,"comment_id":134771109,"body_markdown":"But if you suppress that, and get a build, it simply won&#39;t work because the java&#39;s `native` methods won&#39;t correspond to the JNI methods which invoke the C/C++ methods. Unless you&#39;ve come up with a way to solve that, I think this error is helping you and saving you tremendous time.","body":"But if you suppress that, and get a build, it simply won&#39;t work because the java&#39;s <code>native</code> methods won&#39;t correspond to the JNI methods which invoke the C/C++ methods. Unless you&#39;ve come up with a way to solve that, I think this error is helping you and saving you tremendous time."}],"answers":[{"comments":[{"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"score":0,"creation_date":1686257974,"post_id":76431378,"comment_id":134778255,"body_markdown":"Thank you it worked","body":"Thank you it worked"}],"tags":[],"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1686224066,"creation_date":1686223595,"answer_id":76431378,"question_id":76425800,"body_markdown":"Clicking the quick fix button gave me a pop up to add a `@Suppress(&quot;KotlinJniMissingFunction&quot;)` annotation to either the class or the file. You can keep it there or move it to all your methods, eg:\r\n```\r\n@Suppress(&quot;KotlinJniMissingFunction&quot;)\r\nexternal fun initializeApplication()\r\n```\r\n\r\nor\r\n```\r\n@Suppress(&quot;KotlinJniMissingFunction&quot;)\r\nclass Native : AppCompatActivity() {\r\n...\r\n}\r\n```\r\n\r\nThe equivalent annotation for Java is `@SuppressWarnings(&quot;JavaJniMissingFunction&quot;)`.\r\n","title":"How to suppress &quot;Cannot resolve corresponding JNI function&quot; in Android Studio?","body":"<p>Clicking the quick fix button gave me a pop up to add a <code>@Suppress(&quot;KotlinJniMissingFunction&quot;)</code> annotation to either the class or the file. You can keep it there or move it to all your methods, eg:</p>\n<pre><code>@Suppress(&quot;KotlinJniMissingFunction&quot;)\nexternal fun initializeApplication()\n</code></pre>\n<p>or</p>\n<pre><code>@Suppress(&quot;KotlinJniMissingFunction&quot;)\nclass Native : AppCompatActivity() {\n...\n}\n</code></pre>\n<p>The equivalent annotation for Java is <code>@SuppressWarnings(&quot;JavaJniMissingFunction&quot;)</code>.</p>\n"}],"owner":{"account_id":25660142,"reputation":55,"user_id":19425991,"display_name":"na29"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76431378,"answer_count":1,"score":1,"last_activity_date":1686258160,"creation_date":1686159244,"question_id":76425800,"body_markdown":"I am creating a native method in Android Studio which is registered using RegisterNatives in JNI_OnLoad when the library is loaded. The problem is that I want to encrypt the method name and signature strings, but if I do that Android Studio doesn&#39;t let me compile the app because of this error: &quot;Cannot resolve corresponding JNI function Java_my_app_Native_initializeApplication.&quot;\r\nHow can I suppress this?","title":"How to suppress &quot;Cannot resolve corresponding JNI function&quot; in Android Studio?","body":"<p>I am creating a native method in Android Studio which is registered using RegisterNatives in JNI_OnLoad when the library is loaded. The problem is that I want to encrypt the method name and signature strings, but if I do that Android Studio doesn't let me compile the app because of this error: &quot;Cannot resolve corresponding JNI function Java_my_app_Native_initializeApplication.&quot;\nHow can I suppress this?</p>\n"},{"tags":["java","android","view"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686257650,"post_id":76435572,"comment_id":134778203,"body_markdown":"Just a guess: `view.setOnGenericMotionListener(null)`?","body":"Just a guess: <code>view.setOnGenericMotionListener(null)</code>?"},{"owner":{"account_id":25030829,"reputation":15,"user_id":18888626,"display_name":"pol2020"},"score":0,"creation_date":1686257797,"post_id":76435572,"comment_id":134778228,"body_markdown":"I use it, but I don&#39;t know if this is a good solution.","body":"I use it, but I don&#39;t know if this is a good solution."},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686258009,"post_id":76435572,"comment_id":134778266,"body_markdown":"Well, the only other option I can think of is to pass a no-op argument (i.e., an implementation of the interface that does nothing). But based on the name of this method and how it presumably works, passing `null` seems the correct solution. Sorry, I&#39;m only somewhat familiar with the Android API, otherwise I&#39;d be more definitive.","body":"Well, the only other option I can think of is to pass a no-op argument (i.e., an implementation of the interface that does nothing). But based on the name of this method and how it presumably works, passing <code>null</code> seems the correct solution. Sorry, I&#39;m only somewhat familiar with the Android API, otherwise I&#39;d be more definitive."}],"answers":[{"tags":[],"owner":{"account_id":28269166,"reputation":76,"user_id":21612640,"display_name":"hcl2000"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1686257950,"creation_date":1686257649,"answer_id":76435622,"question_id":76435572,"body_markdown":"This should work, depending on your use-case.\r\n\r\n```\r\nview.setEnabled(false);\r\n```\r\n\r\nAn alternative could be making the overrides in the OnGenericMotionListener do nothing.\r\n\r\nEDIT: As mentioned by @Slaw, `view.setOnGenericMotionListener(null)` also works, and if I had to guess is probably what you want to use.","title":"Android remove setOnGenericMotionListener()","body":"<p>This should work, depending on your use-case.</p>\n<pre><code>view.setEnabled(false);\n</code></pre>\n<p>An alternative could be making the overrides in the OnGenericMotionListener do nothing.</p>\n<p>EDIT: As mentioned by @Slaw, <code>view.setOnGenericMotionListener(null)</code> also works, and if I had to guess is probably what you want to use.</p>\n"}],"owner":{"account_id":25030829,"reputation":15,"user_id":18888626,"display_name":"pol2020"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76435622,"answer_count":1,"score":1,"last_activity_date":1686257950,"creation_date":1686257134,"question_id":76435572,"body_markdown":"how to remove setOnGenericMotionListener() ?\r\n\r\n```\r\nview.setOnGenericMotionListener(this);\r\n```\r\n\r\nThanks","title":"Android remove setOnGenericMotionListener()","body":"<p>how to remove setOnGenericMotionListener() ?</p>\n<pre><code>view.setOnGenericMotionListener(this);\n</code></pre>\n<p>Thanks</p>\n"},{"tags":["java","inputstream","properties-file"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686257336,"post_id":76435570,"comment_id":134778157,"body_markdown":"Given your use of `src/main/java`, I assume you&#39;re using a build tool like Maven or Gradle, both of which use Maven&#39;s [&quot;standard directory layout&quot;](https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html) by default. In that directory layout, all resources (i.e., non-`*.java` files) should be under `src/main/resources`. Any directories under these &quot;roots&quot; function as packages. So, a class under `src/main/java/com/example` and a resource under `/src/main/resources/com/example` are in the same package: `com.example`.","body":"Given your use of <code>src&#47;main&#47;java</code>, I assume you&#39;re using a build tool like Maven or Gradle, both of which use Maven&#39;s <a href=\"https://maven.apache.org/guides/introduction/introduction-to-the-standard-directory-layout.html\" rel=\"nofollow noreferrer\">&quot;standard directory layout&quot;</a> by default. In that directory layout, all resources (i.e., non-<code>*.java</code> files) should be under <code>src&#47;main&#47;resources</code>. Any directories under these &quot;roots&quot; function as packages. So, a class under <code>src&#47;main&#47;java&#47;com&#47;example</code> and a resource under <code>&#47;src&#47;main&#47;resources&#47;com&#47;example</code> are in the same package: <code>com.example</code>."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686257700,"post_id":76435570,"comment_id":134778215,"body_markdown":"When you&#39;ve fixed the position of that resource as @Slaw suggested, you can simplify that to `try (InputStream input = LoginProperty.class.getResourceAsStream(&quot;/config.properties&quot;)) { properties.load(input);...`","body":"When you&#39;ve fixed the position of that resource as @Slaw suggested, you can simplify that to <code>try (InputStream input = LoginProperty.class.getResourceAsStream(&quot;&#47;config.properties&quot;&zwnj;&#8203;)) { properties.load(input);...</code>"},{"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"score":0,"creation_date":1686258674,"post_id":76435570,"comment_id":134778371,"body_markdown":"@Slaw can I change directory structure in maven based web dynamic project","body":"@Slaw can I change directory structure in maven based web dynamic project"},{"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"score":0,"creation_date":1686259123,"post_id":76435570,"comment_id":134778430,"body_markdown":"Why I can not give abolute or real path in maven based project?","body":"Why I can not give abolute or real path in maven based project?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686264407,"post_id":76435570,"comment_id":134779044,"body_markdown":"The content is a resource and should be addressed as one in relation to the classpath. Nothing to do with files, &#39;real paths&#39;, the context etc. Personally, I always use url paths relative to the root - less room for error. That means `/foo....`","body":"The content is a resource and should be addressed as one in relation to the classpath. Nothing to do with files, &#39;real paths&#39;, the context etc. Personally, I always use url paths relative to the root - less room for error. That means <code>&#47;foo....</code>"},{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1686269720,"post_id":76435570,"comment_id":134779612,"body_markdown":"You can change the resource directory to `src/main/java` in Maven, yes. How to do that, I&#39;ll leave to you to look up. But note separating source files from resource files can help keep things organized. Also, what @g00se said is correct. You should not think of resources as &quot;files&quot;. They&#39;re not files, particularly once packaged in a JAR file or JRT image. However, if you leave the resource root as `src/main/resources`, then any non-`*.java` files in `src/main/java` are _ignored_. They don&#39;t end up in the build output and thus don&#39;t end up on the class-path/module-path.","body":"You can change the resource directory to <code>src&#47;main&#47;java</code> in Maven, yes. How to do that, I&#39;ll leave to you to look up. But note separating source files from resource files can help keep things organized. Also, what @g00se said is correct. You should not think of resources as &quot;files&quot;. They&#39;re not files, particularly once packaged in a JAR file or JRT image. However, if you leave the resource root as <code>src&#47;main&#47;resources</code>, then any non-<code>*.java</code> files in <code>src&#47;main&#47;java</code> are <i>ignored</i>. They don&#39;t end up in the build output and thus don&#39;t end up on the class-path/module-path."}],"owner":{"account_id":21212501,"reputation":27,"user_id":15600812,"display_name":"MikeJ"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686257116,"creation_date":1686257116,"question_id":76435570,"body_markdown":"I am using eclipse on ubuntu 20.0\r\nHere is my code to read property file:\r\n\r\n    public static String getProperty(String key) {\r\n\t\tProperties properties = new Properties();\r\n\t\ttry {\r\n\t\t\tURL myURL = LoginProperty.class.getClassLoader().getResource(&quot;/global/resources/config.properties&quot;);\r\n\t\t\tInputStream input = myURL.openStream();\r\n\t\t\tproperties.load(input);\r\n\t\t} catch (IOException e) {\r\n\t\t\tSendErrorsToAdmin.setMsg(LoginProperty.class.getClass().getCanonicalName(), e);\r\n\t\t}\r\n\t\treturn properties.getProperty(key);\r\n\t}\r\n\r\nHere is my package hierarchicy:\r\n[![my eclipse project structure][1]][1]\r\n\r\nHere is the error:\r\n\r\n&gt; SEVERE: Servlet.service() for servlet [AdminLogin] in context with path [] threw exception [Servlet execution threw an exception] with root cause\r\njava.lang.NullPointerException: Cannot invoke &quot;java.net.URL.openStream()&quot; because &quot;myURL&quot; is null\r\n\r\nHow can I set path to `/global/resources/config.properties` in my `getProperty` method to read config.properties file?\r\n\r\n  [1]: https://i.stack.imgur.com/2vJVy.png","title":"java.lang.ExceptionInInitializerError: Property file not reading path","body":"<p>I am using eclipse on ubuntu 20.0\nHere is my code to read property file:</p>\n<pre><code>public static String getProperty(String key) {\n    Properties properties = new Properties();\n    try {\n        URL myURL = LoginProperty.class.getClassLoader().getResource(&quot;/global/resources/config.properties&quot;);\n        InputStream input = myURL.openStream();\n        properties.load(input);\n    } catch (IOException e) {\n        SendErrorsToAdmin.setMsg(LoginProperty.class.getClass().getCanonicalName(), e);\n    }\n    return properties.getProperty(key);\n}\n</code></pre>\n<p>Here is my package hierarchicy:\n<a href=\"https://i.stack.imgur.com/2vJVy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2vJVy.png\" alt=\"my eclipse project structure\" /></a></p>\n<p>Here is the error:</p>\n<blockquote>\n<p>SEVERE: Servlet.service() for servlet [AdminLogin] in context with path [] threw exception [Servlet execution threw an exception] with root cause\njava.lang.NullPointerException: Cannot invoke &quot;java.net.URL.openStream()&quot; because &quot;myURL&quot; is null</p>\n</blockquote>\n<p>How can I set path to <code>/global/resources/config.properties</code> in my <code>getProperty</code> method to read config.properties file?</p>\n"},{"tags":["java","jar","nullpointerexception","this","executable-jar"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1686179314,"post_id":76427240,"comment_id":134765446,"body_markdown":"Please provide a [mre] and the stack trace. As far as I know, it&#39;s impossible for `this` to ever be `null`.","body":"Please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and the stack trace. As far as I know, it&#39;s impossible for <code>this</code> to ever be <code>null</code>."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1686271732,"post_id":76427240,"comment_id":134779808,"body_markdown":"&quot;`this` became null&quot;: no it didn&#39;t. It&#39;s impossible.","body":"&quot;<code>this</code> became null&quot;: no it didn&#39;t. It&#39;s impossible."}],"owner":{"account_id":28775824,"reputation":1,"user_id":22038509,"display_name":"Sathish Kumar Backiam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1686173633,"answer_count":0,"score":0,"last_activity_date":1686255626,"creation_date":1686173464,"question_id":76427240,"body_markdown":"Consuming a compiled class (which extends another class) from a jar, the methods from parent class methods are added with &#39;this.&#39; which is throwing null pointer while consuming those methods (&#39;this&#39; became null) \r\n\r\nThe methods from the parent&#39;s class in the base class (in the jar - compiled classes) should be able to consume without null pointer error for &#39;this&#39; reference","title":"Java - jar - consuming compiled class which extends another class - &#39;this&#39; reference is null","body":"<p>Consuming a compiled class (which extends another class) from a jar, the methods from parent class methods are added with 'this.' which is throwing null pointer while consuming those methods ('this' became null)</p>\n<p>The methods from the parent's class in the base class (in the jar - compiled classes) should be able to consume without null pointer error for 'this' reference</p>\n"},{"tags":["java","file-writing"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686250572,"post_id":76434125,"comment_id":134777071,"body_markdown":"Can you provide an example of the _DiceGameWinners.csv_ contents?  It is one line of scores, comma-separated, or multiple lines each with a score?","body":"Can you provide an example of the <i>DiceGameWinners.csv</i> contents?  It is one line of scores, comma-separated, or multiple lines each with a score?"},{"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"score":0,"creation_date":1686251177,"post_id":76434125,"comment_id":134777144,"body_markdown":"m6rbles,68\nMZ_BiC_19,66\nJackJohnS,60\nSillyB0bs,59\nS3R3,48\nMarkAbdu11ah,44\nREROCKERS,41\nCART_CReeping,37\nBlackMONSTER,33\nGeneralMark,31\nREROCKERS,76\nm6rbles,56\nREROCKERS,66\nREROCKERS,68\nREROCKERS,42\nm6rbles,42\nm6rbles,48\nm6rbles,34\nREROCKERS,42\nm6rbles,50\n\ncomma-separated","body":"m6rbles,68 MZ_BiC_19,66 JackJohnS,60 SillyB0bs,59 S3R3,48 MarkAbdu11ah,44 REROCKERS,41 CART_CReeping,37 BlackMONSTER,33 GeneralMark,31 REROCKERS,76 m6rbles,56 REROCKERS,66 REROCKERS,68 REROCKERS,42 m6rbles,42 m6rbles,48 m6rbles,34 REROCKERS,42 m6rbles,50  comma-separated"}],"answers":[{"comments":[{"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"score":0,"creation_date":1686254766,"post_id":76435290,"comment_id":134777758,"body_markdown":"Thanks, so I just replace my code with your fixed one?","body":"Thanks, so I just replace my code with your fixed one?"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686260460,"post_id":76435290,"comment_id":134778600,"body_markdown":"Essentially.  You&#39;ll have some re-factoring, of course.  I&#39;m unable to adapt your code because it doesn&#39;t cover all the values.  I imagined providing an example would be more logical than re-factoring code I wouldn&#39;t be able to run.","body":"Essentially.  You&#39;ll have some re-factoring, of course.  I&#39;m unable to adapt your code because it doesn&#39;t cover all the values.  I imagined providing an example would be more logical than re-factoring code I wouldn&#39;t be able to run."},{"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"score":0,"creation_date":1686261838,"post_id":76435290,"comment_id":134778753,"body_markdown":"Yeah I&#39;m a bit confused.. If you want to see the code then https://ideone.com/bY6LfH","body":"Yeah I&#39;m a bit confused.. If you want to see the code then <a href=\"https://ideone.com/bY6LfH\" rel=\"nofollow noreferrer\">ideone.com/bY6LfH</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":0,"creation_date":1686263154,"post_id":76435290,"comment_id":134778906,"body_markdown":"So, you can create a new class field, or fields, to hold the data.  And, then, since they are sorted by score, you would simply need to save the array to the file.  _String.join(&quot;,&quot;, scores)_.","body":"So, you can create a new class field, or fields, to hold the data.  And, then, since they are sorted by score, you would simply need to save the array to the file.  <i>String.join(&quot;,&quot;, scores)</i>."},{"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"score":0,"creation_date":1686322113,"post_id":76435290,"comment_id":134787377,"body_markdown":"As I&#39;m new to coding, I don&#39;t exactly know what you mean, could you show me please?","body":"As I&#39;m new to coding, I don&#39;t exactly know what you mean, could you show me please?"}],"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"comment_count":5,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1686254059,"creation_date":1686254059,"answer_id":76435290,"question_id":76434125,"body_markdown":"There are a few approaches you can take here.\r\n\r\nYou can, optionally, contain the data for each player.\r\n\r\nA basic approach would be just use a parallel array.  \r\nSo, one will contain the scores, and the other the names.\r\n\r\nAs you sort the _scores_ array, also adjust the _names_ array.\r\n\r\nHere is how to capture each value within a separate array&amp;mdash;for use with your _reorderWinners_ method.  \r\nAs a note, I had to fix the provided data, there was a leading _&quot;m6rbles&quot;_, and a trailing _&quot;50&quot;_.\r\n\r\n```java\r\nFile file = new File(&quot;DiceGameWinners.csv&quot;);\r\nScanner scanner = new Scanner(file);\r\nString[] strings = scanner.nextLine().split(&quot;,&quot;);\r\nint[] scores = new int[strings.length];\r\nString[] names = new String[strings.length];\r\nint index = 0;\r\nString[] values;\r\nfor (String string : strings) {\r\n    values = string.split(&quot; &quot;);\r\n    scores[index] = Integer.parseInt(values[0]);\r\n    names[index] = values[1];\r\n    index++;\r\n}\r\n```\r\n\r\nAnother approach would be to utilize the _[Arrays#sort](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D))_ method on the _split_ return value.  \r\nWhich, in this case, begins with a number.  \r\nYou can then use the _[Collections#reverse](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List))_ method, to reverse the array.\r\n\r\n```java\r\nFile file = new File(&quot;files/DiceGameWinners.csv&quot;);\r\nScanner scanner = new Scanner(file);\r\nString[] players = scanner.nextLine().split(&quot;,&quot;);\r\nArrays.sort(players);\r\nCollections.reverse(Arrays.asList(players));\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n76 m6rbles\r\n68 REROCKERS\r\n68 MZ_BiC_19\r\n66 REROCKERS\r\n66 JackJohnS\r\n60 SillyB0bs\r\n59 S3R3\r\n56 REROCKERS\r\n50 m6rbles\r\n48 m6rbles\r\n48 MarkAbdu11ah\r\n44 REROCKERS\r\n42 m6rbles\r\n42 m6rbles\r\n42 m6rbles\r\n41 CART_CReeping\r\n37 BlackMONSTER\r\n34 REROCKERS\r\n33 GeneralMark\r\n31 REROCKERS\r\n```","title":"How to reorder a file depending on the scores","body":"<p>There are a few approaches you can take here.</p>\n<p>You can, optionally, contain the data for each player.</p>\n<p>A basic approach would be just use a parallel array.<br />\nSo, one will contain the scores, and the other the names.</p>\n<p>As you sort the <em>scores</em> array, also adjust the <em>names</em> array.</p>\n<p>Here is how to capture each value within a separate array—for use with your <em>reorderWinners</em> method.<br />\nAs a note, I had to fix the provided data, there was a leading <em>&quot;m6rbles&quot;</em>, and a trailing <em>&quot;50&quot;</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;DiceGameWinners.csv&quot;);\nScanner scanner = new Scanner(file);\nString[] strings = scanner.nextLine().split(&quot;,&quot;);\nint[] scores = new int[strings.length];\nString[] names = new String[strings.length];\nint index = 0;\nString[] values;\nfor (String string : strings) {\n    values = string.split(&quot; &quot;);\n    scores[index] = Integer.parseInt(values[0]);\n    names[index] = values[1];\n    index++;\n}\n</code></pre>\n<p>Another approach would be to utilize the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Arrays.html#sort(java.lang.Object%5B%5D)\" rel=\"nofollow noreferrer\">Arrays#sort</a></em> method on the <em>split</em> return value.<br />\nWhich, in this case, begins with a number.<br />\nYou can then use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/Collections.html#reverse(java.util.List)\" rel=\"nofollow noreferrer\">Collections#reverse</a></em> method, to reverse the array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;files/DiceGameWinners.csv&quot;);\nScanner scanner = new Scanner(file);\nString[] players = scanner.nextLine().split(&quot;,&quot;);\nArrays.sort(players);\nCollections.reverse(Arrays.asList(players));\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>76 m6rbles\n68 REROCKERS\n68 MZ_BiC_19\n66 REROCKERS\n66 JackJohnS\n60 SillyB0bs\n59 S3R3\n56 REROCKERS\n50 m6rbles\n48 m6rbles\n48 MarkAbdu11ah\n44 REROCKERS\n42 m6rbles\n42 m6rbles\n42 m6rbles\n41 CART_CReeping\n37 BlackMONSTER\n34 REROCKERS\n33 GeneralMark\n31 REROCKERS\n</code></pre>\n"}],"owner":{"account_id":27400817,"reputation":1,"user_id":20902254,"display_name":"Marbles28"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1686254059,"creation_date":1686243279,"question_id":76434125,"body_markdown":"I want to read in a file and reorder the file&#39;s list so that the highest score is at the top.\r\n\r\n```\r\npublic static void showWinners()\r\n\t{\r\n\t\t//declaring variables and assigning values\r\n\t\tString [][] szWinnersList;\r\n\t\tString[] szLineArray = new String[1];\r\n\t\tint i,j;\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//call the readInFile procedure\r\n\t\t\treadInFile();\r\n\t\t\t\r\n\t\t\t//call writeWinner procedure\r\n\t\t\twriteWinner();\r\n\r\n\t\t\t//create String array to store new record in\r\n\t\t\tszWinnersList = new String [iLength][2];\r\n\r\n\t\t\t//for loop reads each row in\r\n\t\t\tfor (i = 0 ; i &lt; 5 ; i++)\r\n\t\t\t{\r\n\t\t\t\t//reads in the current line\r\n\t\t\t\t//assign the file to the array\r\n\t\t\t\tszLineArray = infile.nextLine().trim().split(&quot;,&quot;);\r\n\r\n\t\t\t\t//for loop assigns values to the 2D array\r\n\t\t\t\tfor (j = 0 ; j &lt; 2 ; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\t//trims off all spaces\r\n\t\t\t\t\tszWinnersList[i][j] = szLineArray[j];\r\n\t\t\t\t}//end for j\r\n\t\t\t}//end for i\r\n\t\t\t\r\n\t\t\t//call reorderWinners procedure\r\n\t\t\treorderWinners(szWinnersList);\r\n\r\n\t\t\t//print out winners table\r\n\t\t\twinnersTable(szWinnersList, i);\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error1 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t\t{\r\n\t\t\t//finally runs regardless of wheter the try has worked\r\n\t\t\t//the aim of a finally is to tidy up any loose ends\r\n\t\t\t//if the contents within read is not equal to nothing i.e. it was possible to open and read\r\n\t\t\t//close the file (try) if the file was not loaded catch the exception IOException\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tbw.close();\r\n\t\t\t}//end try when BufferedWriter is closed\r\n\t\t\tcatch(IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error - Closing BufferWriter: &quot; + e);\r\n\t\t\t}//end catch\r\n\r\n\t\t\ttry\r\n\t\t\t{\r\n\t\t\t\tfile.close();\r\n\t\t\t}//end try when FileWriter is closed\r\n\t\t\tcatch(IOException e)\r\n\t\t\t{\r\n\t\t\t\tSystem.out.println(&quot;Error - closing FileWriter: &quot; + e);\r\n\t\t\t}//end catch\r\n\t\t}//end try catch finally\r\n\t}//end procedure\r\n\t\r\n\t\r\n\t// ======================================================================\r\n\tpublic static void writeWinner()\r\n\t{\r\n\t\t//declaring variables and assigning values\r\n\t\tString szWriteWinner;\r\n\t\t\r\n\t\t//string build the szWriteWinner\r\n\t\tszWriteWinner = szWinner[0][0] + &quot;,&quot; + szWinner[0][1] + (&quot;\\n&quot;);\r\n\r\n\t\ttry\r\n\t\t{\r\n\t\t\t//write winner in the csv file\r\n\t\t\tbw.write(szWriteWinner);\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error2 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t}//end writeWinner procedure\r\n\t\r\n\r\n\t// ======================================================================\r\n\tpublic static void readInFile()\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tinfile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\r\n\r\n\t\t\t//construct a FileWriter object\r\n\t\t\t//the default argument is false so the write would overwrite the contents of the file each time\r\n\t\t\tfile = new FileWriter(&quot;DiceGameWinners.csv&quot;, true);\r\n\r\n\t\t\t//needed for methods\r\n\t\t\tbw = new BufferedWriter(file);\r\n\r\n\t\t\twhile (infile.hasNext())\r\n\t\t\t{\r\n\t\t\t\tszInLine = infile.nextLine();\r\n\t\t\t\tiLength++;\r\n\t\t\t}//end while\r\n\r\n\t\t\tinfile.close();\r\n\t\t\tinfile = null;\r\n\r\n\t\t\t//create the readers to read in the file DiceGameWinners.csv\r\n\t\t\tinfile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\r\n\t\t}//end try\r\n\t\tcatch (Exception e)\r\n\t\t{\r\n\t\t\tSystem.out.println(&quot;Error3 - Writing to File: &quot; + e);\r\n\t\t}//end catch\r\n\t}//end procedure\r\n\r\n\r\n\t// ======================================================================\r\n\tpublic static void reorderWinners(String[][] szWinnersList) \r\n\t{\r\n\t    String szLine = &quot;&quot;;\r\n\t    int n = szWinnersList.length;\r\n\t    int i = 0;\r\n\r\n\t    for (i = 1; i &lt; n; i++) \r\n\t    {\r\n\t        int j = i - 1;\r\n\t        int iKey = Integer.parseInt(szWinnersList[i][1]);\r\n\t        String szKey = szWinnersList[i][0];\r\n\r\n\t        // insertion sort\r\n\t        while (j &gt;= 0 &amp;&amp; Integer.parseInt(szWinnersList[j][1]) &gt; iKey) \r\n\t        {\r\n\t            szWinnersList[j + 1][0] = szWinnersList[j][0];\r\n\t            szWinnersList[j + 1][1] = szWinnersList[j][1];\r\n\t            j--;\r\n\t        }//end while when insertion sort is finished\r\n\r\n\t        //insert the key element into its correct position\r\n\t        szWinnersList[j + 1][0] = szKey;\r\n\t        szWinnersList[j + 1][1] = String.valueOf(iKey);\r\n\t    }//end for loop when szWinnersList is reordered\r\n\r\n\t    try \r\n\t    {\r\n\t        //write each entry in the szWinnersList array to the file\r\n\t        for (i = 0; i &lt; szWinnersList.length; i++) \r\n\t        {\r\n\t            szLine = szWinnersList[i][0] + &quot;,&quot; + szWinnersList[i][1] + &quot;\\n&quot;;\r\n\t            bw.write(szLine);\r\n\t        }// end for when each entry has been entered into the file\r\n\r\n\t        bw.close();\r\n\t        file.close();\r\n\t    }//end try\r\n\t    catch (IOException e)\r\n\t    {\r\n\t        System.out.println(&quot;Error4 - Writing to File: &quot; + e);\r\n\t    }// end catch\r\n}// end reorderWinners procedure\r\n```\r\n\r\nI tried to read in the file and then write the winner of the game so if the user&#39;s winning score is top 5, it will update the file so the next time the top 5 winning scores is shown, the user&#39;s score is there. I keep getting errors like: &quot;can&#39;t parse null string&quot; and &quot;Index 1 out of bounds for length 1&quot;. What should I do and are there any improvements overall?","title":"How to reorder a file depending on the scores","body":"<p>I want to read in a file and reorder the file's list so that the highest score is at the top.</p>\n<pre><code>public static void showWinners()\n    {\n        //declaring variables and assigning values\n        String [][] szWinnersList;\n        String[] szLineArray = new String[1];\n        int i,j;\n\n        try\n        {\n            //call the readInFile procedure\n            readInFile();\n            \n            //call writeWinner procedure\n            writeWinner();\n\n            //create String array to store new record in\n            szWinnersList = new String [iLength][2];\n\n            //for loop reads each row in\n            for (i = 0 ; i &lt; 5 ; i++)\n            {\n                //reads in the current line\n                //assign the file to the array\n                szLineArray = infile.nextLine().trim().split(&quot;,&quot;);\n\n                //for loop assigns values to the 2D array\n                for (j = 0 ; j &lt; 2 ; j++)\n                {\n                    //trims off all spaces\n                    szWinnersList[i][j] = szLineArray[j];\n                }//end for j\n            }//end for i\n            \n            //call reorderWinners procedure\n            reorderWinners(szWinnersList);\n\n            //print out winners table\n            winnersTable(szWinnersList, i);\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error1 - Writing to File: &quot; + e);\n        }//end catch\n        {\n            //finally runs regardless of wheter the try has worked\n            //the aim of a finally is to tidy up any loose ends\n            //if the contents within read is not equal to nothing i.e. it was possible to open and read\n            //close the file (try) if the file was not loaded catch the exception IOException\n            try\n            {\n                bw.close();\n            }//end try when BufferedWriter is closed\n            catch(IOException e)\n            {\n                System.out.println(&quot;Error - Closing BufferWriter: &quot; + e);\n            }//end catch\n\n            try\n            {\n                file.close();\n            }//end try when FileWriter is closed\n            catch(IOException e)\n            {\n                System.out.println(&quot;Error - closing FileWriter: &quot; + e);\n            }//end catch\n        }//end try catch finally\n    }//end procedure\n    \n    \n    // ======================================================================\n    public static void writeWinner()\n    {\n        //declaring variables and assigning values\n        String szWriteWinner;\n        \n        //string build the szWriteWinner\n        szWriteWinner = szWinner[0][0] + &quot;,&quot; + szWinner[0][1] + (&quot;\\n&quot;);\n\n        try\n        {\n            //write winner in the csv file\n            bw.write(szWriteWinner);\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error2 - Writing to File: &quot; + e);\n        }//end catch\n    }//end writeWinner procedure\n    \n\n    // ======================================================================\n    public static void readInFile()\n    {\n        try\n        {\n            infile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\n\n            //construct a FileWriter object\n            //the default argument is false so the write would overwrite the contents of the file each time\n            file = new FileWriter(&quot;DiceGameWinners.csv&quot;, true);\n\n            //needed for methods\n            bw = new BufferedWriter(file);\n\n            while (infile.hasNext())\n            {\n                szInLine = infile.nextLine();\n                iLength++;\n            }//end while\n\n            infile.close();\n            infile = null;\n\n            //create the readers to read in the file DiceGameWinners.csv\n            infile = new Scanner (new File(&quot;DiceGameWinners.csv&quot;));\n        }//end try\n        catch (Exception e)\n        {\n            System.out.println(&quot;Error3 - Writing to File: &quot; + e);\n        }//end catch\n    }//end procedure\n\n\n    // ======================================================================\n    public static void reorderWinners(String[][] szWinnersList) \n    {\n        String szLine = &quot;&quot;;\n        int n = szWinnersList.length;\n        int i = 0;\n\n        for (i = 1; i &lt; n; i++) \n        {\n            int j = i - 1;\n            int iKey = Integer.parseInt(szWinnersList[i][1]);\n            String szKey = szWinnersList[i][0];\n\n            // insertion sort\n            while (j &gt;= 0 &amp;&amp; Integer.parseInt(szWinnersList[j][1]) &gt; iKey) \n            {\n                szWinnersList[j + 1][0] = szWinnersList[j][0];\n                szWinnersList[j + 1][1] = szWinnersList[j][1];\n                j--;\n            }//end while when insertion sort is finished\n\n            //insert the key element into its correct position\n            szWinnersList[j + 1][0] = szKey;\n            szWinnersList[j + 1][1] = String.valueOf(iKey);\n        }//end for loop when szWinnersList is reordered\n\n        try \n        {\n            //write each entry in the szWinnersList array to the file\n            for (i = 0; i &lt; szWinnersList.length; i++) \n            {\n                szLine = szWinnersList[i][0] + &quot;,&quot; + szWinnersList[i][1] + &quot;\\n&quot;;\n                bw.write(szLine);\n            }// end for when each entry has been entered into the file\n\n            bw.close();\n            file.close();\n        }//end try\n        catch (IOException e)\n        {\n            System.out.println(&quot;Error4 - Writing to File: &quot; + e);\n        }// end catch\n}// end reorderWinners procedure\n</code></pre>\n<p>I tried to read in the file and then write the winner of the game so if the user's winning score is top 5, it will update the file so the next time the top 5 winning scores is shown, the user's score is there. I keep getting errors like: &quot;can't parse null string&quot; and &quot;Index 1 out of bounds for length 1&quot;. What should I do and are there any improvements overall?</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2613188,"reputation":2601,"user_id":2262910,"accept_rate":100,"display_name":"Max Vasileuski"},"score":0,"creation_date":1394872598,"post_id":22421469,"comment_id":34093976,"body_markdown":"Please, show `&lt;servlet-mapping&gt;` section of `web.xml` file.","body":"Please, show <code>&lt;servlet-mapping&gt;</code> section of <code>web.xml</code> file."},{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1394873050,"post_id":22421469,"comment_id":34094088,"body_markdown":"I added `web.xml` to the question.","body":"I added <code>web.xml</code> to the question."},{"owner":{"account_id":305452,"reputation":415,"user_id":615617,"accept_rate":14,"display_name":"Argun"},"score":0,"creation_date":1445845055,"post_id":22421469,"comment_id":54477061,"body_markdown":"Hi, I met this issue. Did you have any solution?","body":"Hi, I met this issue. Did you have any solution?"},{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1445935125,"post_id":22421469,"comment_id":54521344,"body_markdown":"Yes, see the first Answer, annotate your method with ```@ResponseBody```.","body":"Yes, see the first Answer, annotate your method with <code>@ResponseBody</code>."}],"answers":[{"comments":[{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1394873967,"post_id":22421650,"comment_id":34094342,"body_markdown":"Of course, I do have this file. It&#39;s just simple containing:\n    &lt;context:component-scan base-package=&quot;o.r.s.messaging&quot;/&gt;\n    &lt;mvc:annotation-driven /&gt;","body":"Of course, I do have this file. It&#39;s just simple containing:     &lt;context:component-scan base-package=&quot;o.r.s.messaging&quot;/&gt;     &lt;mvc:annotation-driven /&gt;"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1394874231,"post_id":22421650,"comment_id":34094395,"body_markdown":"Then you probably need to add @ResponseBody to getMessage to instruct Spring to return the value as is. This however means that you have to have some sort of message converter such as MappingJackson2HttpMessageConverter (for Json using the Jackson 2 library)","body":"Then you probably need to add @ResponseBody to getMessage to instruct Spring to return the value as is. This however means that you have to have some sort of message converter such as MappingJackson2HttpMessageConverter (for Json using the Jackson 2 library)"}],"tags":[],"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1394873476,"creation_date":1394873476,"answer_id":22421650,"question_id":22421469,"body_markdown":"Do you have a file named `messaging-servlet.xml` that declares the web application context?\r\nBy default because you have named the DispatcherServlet messaging, Spring will try to locate that file.","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>Do you have a file named <code>messaging-servlet.xml</code> that declares the web application context?\nBy default because you have named the DispatcherServlet messaging, Spring will try to locate that file.</p>\n"},{"comments":[{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1394874386,"post_id":22421689,"comment_id":34094427,"body_markdown":"Annotating with `@RestController` actually fixed the mapping-problem, though I now still receive a `406 Not Acceptable`","body":"Annotating with <code>@RestController</code> actually fixed the mapping-problem, though I now still receive a <code>406 Not Acceptable</code>"},{"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"score":0,"creation_date":1394875857,"post_id":22421689,"comment_id":34094737,"body_markdown":"Fixed the 406 by adding `jackson-mapper-asl` to the dependencies.","body":"Fixed the 406 by adding <code>jackson-mapper-asl</code> to the dependencies."}],"tags":[],"owner":{"account_id":36208,"reputation":240326,"user_id":103154,"display_name":"axtavt"},"comment_count":2,"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1394873764,"creation_date":1394873764,"answer_id":22421689,"question_id":22421469,"body_markdown":"I guess it&#39;s related to default view name resolution.\r\n\r\nIf you want a value returned by your handler method to be encoded as response body (in JSON, XML, etc), you need to annoate the method with `@ResponseBody`, or annotate the whole controller with `@RestController` (in Spring 4.x).\r\n\r\nOtherwise, Spring tries to render a view with your return as model attribute. And since you didn&#39;t provide a name of a view to render, Spring tries to deduce it from request URL.","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I guess it's related to default view name resolution.</p>\n\n<p>If you want a value returned by your handler method to be encoded as response body (in JSON, XML, etc), you need to annoate the method with <code>@ResponseBody</code>, or annotate the whole controller with <code>@RestController</code> (in Spring 4.x).</p>\n\n<p>Otherwise, Spring tries to render a view with your return as model attribute. And since you didn't provide a name of a view to render, Spring tries to deduce it from request URL.</p>\n"},{"tags":[],"owner":{"account_id":1407934,"reputation":424,"user_id":1335131,"display_name":"hagai"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1514492791,"creation_date":1514492791,"answer_id":48013930,"question_id":22421469,"body_markdown":"In addition to @axtvat, pay attention to the differences between @Cotroller and @RestController, @RestController fixed the issue for me.\r\nhttps://dzone.com/articles/spring-framework-restcontroller-vs-controller","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>In addition to @axtvat, pay attention to the differences between @Cotroller and @RestController, @RestController fixed the issue for me.\n<a href=\"https://dzone.com/articles/spring-framework-restcontroller-vs-controller\" rel=\"nofollow noreferrer\">https://dzone.com/articles/spring-framework-restcontroller-vs-controller</a></p>\n"},{"tags":[],"owner":{"account_id":416360,"reputation":10634,"user_id":791694,"display_name":"Agust&#237; S&#225;nchez"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553511509,"creation_date":1553511509,"answer_id":55336270,"question_id":22421469,"body_markdown":"I had the same problem.\r\n\r\nI fixed it by replacing `@Controller` with `@RestController`.\r\n","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I had the same problem.</p>\n\n<p>I fixed it by replacing <code>@Controller</code> with <code>@RestController</code>.</p>\n"},{"tags":[],"owner":{"account_id":20649356,"reputation":29,"user_id":15160043,"display_name":"Timothy Odhiambo"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1648716847,"creation_date":1648716847,"answer_id":71689607,"question_id":22421469,"body_markdown":"None of the above solved the problem for me. Using @RestController did not redirect but just printed the correct url (the url without the duplication) on the screen. I found this other solution that worked.\r\nhttps://stackoverflow.com/questions/20371220/what-is-the-difference-between-response-sendredirect-and-request-getrequestdis\r\n","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>None of the above solved the problem for me. Using @RestController did not redirect but just printed the correct url (the url without the duplication) on the screen. I found this other solution that worked.\n<a href=\"https://stackoverflow.com/questions/20371220/what-is-the-difference-between-response-sendredirect-and-request-getrequestdis\">What is the difference between response.sendRedirect() and request.getRequestDispatcher().forward(request,response)</a></p>\n"},{"tags":[],"owner":{"account_id":1352612,"reputation":4119,"user_id":1357094,"accept_rate":85,"display_name":"cellepo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686253956,"creation_date":1686253956,"answer_id":76435278,"question_id":22421469,"body_markdown":"**If your RequestMapping `value` happens to reference properties** [which I admit the OP did not]..\r\n\r\nex:\r\n```\r\n@RequestMapping(value = &quot;${reference.to.an.application.properties.value}&quot;, method = RequestMethod.GET)\r\n```\r\n\r\n.. **then make sure to consider how the property value is resolved; especially if there might be any [overriding](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files) happening in resolution.**\r\n\r\n`classpath root application.properties` ex:\r\n```\r\nreference.to.an.application.properties: /some/path/\r\nreference.to.an.application.properties.value: ${reference.to.an.application.properties}/{ID}\r\n``` \r\n\r\nIf `reference.to.an.application.properties` is also defined somewhere else [additionally], that is **overriding** the same-named property key in  properties file (because of [Spring properties precedence](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files)); somewhere else (in my case, [OpenShift properties](https://cloud.redhat.com/blog/environment-dependent-property-management-strategies-openshift-pipelines) [which are passed by OpenShift as environment variables to Spring]) for ex:\r\n```\r\nreference.to.an.application.properties: /some/path/{ID}\r\n```\r\n\r\nThen (by overriding precedence) `reference.to.an.application.properties.value` would resolve to `/some/path/{ID}/{ID}` (thus the duplicated URL path), and not `/some/path/{ID}`","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p><strong>If your RequestMapping <code>value</code> happens to reference properties</strong> [which I admit the OP did not]..</p>\n<p>ex:</p>\n<pre><code>@RequestMapping(value = &quot;${reference.to.an.application.properties.value}&quot;, method = RequestMethod.GET)\n</code></pre>\n<p>.. <strong>then make sure to consider how the property value is resolved; especially if there might be any <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">overriding</a> happening in resolution.</strong></p>\n<p><code>classpath root application.properties</code> ex:</p>\n<pre><code>reference.to.an.application.properties: /some/path/\nreference.to.an.application.properties.value: ${reference.to.an.application.properties}/{ID}\n</code></pre>\n<p>If <code>reference.to.an.application.properties</code> is also defined somewhere else [additionally], that is <strong>overriding</strong> the same-named property key in  properties file (because of <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/boot-features-external-config.html#boot-features-external-config-application-property-files\" rel=\"nofollow noreferrer\">Spring properties precedence</a>); somewhere else (in my case, <a href=\"https://cloud.redhat.com/blog/environment-dependent-property-management-strategies-openshift-pipelines\" rel=\"nofollow noreferrer\">OpenShift properties</a> [which are passed by OpenShift as environment variables to Spring]) for ex:</p>\n<pre><code>reference.to.an.application.properties: /some/path/{ID}\n</code></pre>\n<p>Then (by overriding precedence) <code>reference.to.an.application.properties.value</code> would resolve to <code>/some/path/{ID}/{ID}</code> (thus the duplicated URL path), and not <code>/some/path/{ID}</code></p>\n"}],"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3914,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":22421689,"answer_count":6,"score":10,"last_activity_date":1686253956,"creation_date":1394872236,"question_id":22421469,"body_markdown":"I have a simple `@Controller` within a `spring-mvc` environment. This is the Controller:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Controller\r\n    public class MessageController {\r\n        private static Logger LOG = LoggerFactory\r\n                .getLogger(MessageController.class);\r\n\r\n        @RequestMapping(value = &quot;/messages/{userId}/{messageId}&quot;, method = RequestMethod.GET)\r\n        public Message getMessage(@PathVariable(&quot;userId&quot;) String uid,\r\n                @PathVariable(&quot;messageId&quot;) String msgid) {\r\n            LOG.trace(&quot;GET /message/{}/{}&quot;, uid, msgid);\r\n            return new Message();\r\n        }\r\n    }\r\n\r\nThis is the servlet-mapping in `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;web-app xmlns=&quot;http://java.sun.com/xml/ns/j2ee&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/j2ee\r\n                 http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd&quot;\r\n             version=&quot;2.4&quot;&gt;\r\n\r\n        &lt;display-name&gt;Messaging Service&lt;/display-name&gt;\r\n\r\n        &lt;servlet&gt;\r\n            &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\r\n            &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n        &lt;/servlet&gt;\r\n\r\n        &lt;servlet-mapping&gt;\r\n            &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\r\n            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n        &lt;/servlet-mapping&gt;\r\n\r\n    &lt;/web-app&gt;\r\n\r\nWhen I start the app via jetty and run a request against `/messages/abc/def`, I get the following log:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    INFO: Mapped &quot;{[/messages/{userId}/{messageId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}&quot; onto public ....Message ....MessageController.getMessage(java.lang.String,java.lang.String)\r\n    WARNING: No mapping found for HTTP request with URI [/messages/abc/messages/abc/def] in DispatcherServlet with name &#39;messaging&#39;\r\n\r\nWhat did I do wrong here? The request definitely only contains `/messages/abc/def`, why is this internally translated to `/messages/abc/messages/abc/def`?","title":"Spring MVC &quot;duplicates&quot; parts of the URL","body":"<p>I have a simple <code>@Controller</code> within a <code>spring-mvc</code> environment. This is the Controller:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Controller\npublic class MessageController {\n    private static Logger LOG = LoggerFactory\n            .getLogger(MessageController.class);\n\n    @RequestMapping(value = \"/messages/{userId}/{messageId}\", method = RequestMethod.GET)\n    public Message getMessage(@PathVariable(\"userId\") String uid,\n            @PathVariable(\"messageId\") String msgid) {\n        LOG.trace(\"GET /message/{}/{}\", uid, msgid);\n        return new Message();\n    }\n}\n</code></pre>\n\n<p>This is the servlet-mapping in <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;web-app xmlns=\"http://java.sun.com/xml/ns/j2ee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://java.sun.com/xml/ns/j2ee\n             http://java.sun.com/xml/ns/j2ee/web-app_2_4.xsd\"\n         version=\"2.4\"&gt;\n\n    &lt;display-name&gt;Messaging Service&lt;/display-name&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;messaging&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>When I start the app via jetty and run a request against <code>/messages/abc/def</code>, I get the following log:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>INFO: Mapped \"{[/messages/{userId}/{messageId}],methods=[GET],params=[],headers=[],consumes=[],produces=[],custom=[]}\" onto public ....Message ....MessageController.getMessage(java.lang.String,java.lang.String)\nWARNING: No mapping found for HTTP request with URI [/messages/abc/messages/abc/def] in DispatcherServlet with name 'messaging'\n</code></pre>\n\n<p>What did I do wrong here? The request definitely only contains <code>/messages/abc/def</code>, why is this internally translated to <code>/messages/abc/messages/abc/def</code>?</p>\n"},{"tags":["java","json","jackson"],"comments":[{"owner":{"account_id":2409930,"reputation":744,"user_id":2105282,"accept_rate":86,"display_name":"user2105282"},"score":3,"creation_date":1579527350,"post_id":53869126,"comment_id":105785771,"body_markdown":"So, did you find an answer?","body":"So, did you find an answer?"}],"answers":[{"tags":[],"owner":{"account_id":4774069,"reputation":207,"user_id":3857789,"accept_rate":80,"display_name":"shakel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1606312283,"creation_date":1606312283,"answer_id":65006045,"question_id":53869126,"body_markdown":"TLDR: the behavior you want won&#39;t work because the Object has been instantiated, needs to be null.\r\n\r\n---\r\n\r\n&gt; Include.NON_EMPTY \\\r\n&gt; Include.NON_NULL\r\n\r\nThe reason these options don&#39;t work with what you are trying to do is because you have instantiated an Object of Room type so Room is not empty or null hence your output: `{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}`\r\n\r\nIf you effectively want to avoid having Room represented in your JSON, then the Object needs to be null. By setting `school.room = null` you would get your desired output, though in the real world this could become messy as you&#39;d have to evaluate if fields in the Object were actually null before setting Room in School to be null.\r\n\r\nA custom serializer would handle this better, see: https://stackoverflow.com/questions/53234727/do-not-include-empty-object-to-jackson ","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>TLDR: the behavior you want won't work because the Object has been instantiated, needs to be null.</p>\n<hr />\n<blockquote>\n<p>Include.NON_EMPTY <br />\nInclude.NON_NULL</p>\n</blockquote>\n<p>The reason these options don't work with what you are trying to do is because you have instantiated an Object of Room type so Room is not empty or null hence your output: <code>{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}</code></p>\n<p>If you effectively want to avoid having Room represented in your JSON, then the Object needs to be null. By setting <code>school.room = null</code> you would get your desired output, though in the real world this could become messy as you'd have to evaluate if fields in the Object were actually null before setting Room in School to be null.</p>\n<p>A custom serializer would handle this better, see: <a href=\"https://stackoverflow.com/questions/53234727/do-not-include-empty-object-to-jackson\">Do not include empty object to Jackson</a></p>\n"},{"comments":[{"owner":{"account_id":4377698,"reputation":161,"user_id":3570276,"display_name":"Mr.Cat"},"score":0,"creation_date":1644842369,"post_id":66571854,"comment_id":125704885,"body_markdown":"this requires using Jackson 2.9+ as `JsonInclude.Include.CUSTOM` isn&#39;t available in earlier versions","body":"this requires using Jackson 2.9+ as <code>JsonInclude.Include.CUSTOM</code> isn&#39;t available in earlier versions"}],"tags":[],"owner":{"account_id":12609810,"reputation":111,"user_id":9169379,"display_name":"Miguel Galindo"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1615405670,"creation_date":1615405670,"answer_id":66571854,"question_id":53869126,"body_markdown":"A little bit late , add JsonInclude custom\r\n\r\n    class School {\r\n      String name;\r\n      @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room .class)\r\n      Room room;\r\n    }\r\n\r\n    \r\n    @EqualsAndHashCode\r\n    class Room {\r\n          String name;\r\n    }\r\n\r\nThis will avoid to include room if is equals than `new Room()`.\r\nDon&#39;t forget implement equals method in Room class and include an empty constructor\r\n\r\n\r\nBesides you can use `@JsonInclude( Include.NON_EMPTY )` or `@JsonInclude( Include.NON_DEFAULT )` at class level to skip possible nulls or empty values\r\n","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>A little bit late , add JsonInclude custom</p>\n<pre><code>class School {\n  String name;\n  @JsonInclude(value = JsonInclude.Include.CUSTOM, valueFilter = Room .class)\n  Room room;\n}\n\n\n@EqualsAndHashCode\nclass Room {\n      String name;\n}\n</code></pre>\n<p>This will avoid to include room if is equals than <code>new Room()</code>.\nDon't forget implement equals method in Room class and include an empty constructor</p>\n<p>Besides you can use <code>@JsonInclude( Include.NON_EMPTY )</code> or <code>@JsonInclude( Include.NON_DEFAULT )</code> at class level to skip possible nulls or empty values</p>\n"}],"owner":{"account_id":2652647,"reputation":513,"user_id":2293959,"accept_rate":67,"display_name":"Ambi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11772,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1686253798,"creation_date":1545310323,"question_id":53869126,"body_markdown":"I would like to serialize to JSON a POJO containing another POJO with empty values.\r\n\r\nFor example, given:\r\n\r\n\r\n    class School {\r\n      String name;\r\n      Room room;\r\n    }\r\n    \r\n    class Room {\r\n      String name;\r\n    }\r\n    \r\n    Room room = new Room();\r\n    School school = new School(&quot;name&quot;);\r\n    school.room = room;\r\n\r\nAfter the serialisation it will look like that\r\n\r\n`{ &quot;name&quot;: &quot;name&quot;, &quot;room&quot;: {}}`\r\n\r\nIs it possible to exclude the empty object `{}` if all the fields of the class are also empty? Ideally globally for every object without writing custom code.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Jackson ignore empty objects &quot;{}&quot; without custom serializer","body":"<p>I would like to serialize to JSON a POJO containing another POJO with empty values.</p>\n\n<p>For example, given:</p>\n\n<pre><code>class School {\n  String name;\n  Room room;\n}\n\nclass Room {\n  String name;\n}\n\nRoom room = new Room();\nSchool school = new School(\"name\");\nschool.room = room;\n</code></pre>\n\n<p>After the serialisation it will look like that</p>\n\n<p><code>{ \"name\": \"name\", \"room\": {}}</code></p>\n\n<p>Is it possible to exclude the empty object <code>{}</code> if all the fields of the class are also empty? Ideally globally for every object without writing custom code.</p>\n"},{"tags":["java","android-gradle-plugin","jetbrains-ide"],"owner":{"account_id":28782702,"reputation":11,"user_id":22043971,"display_name":"Jason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":457,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1686253549,"creation_date":1686253549,"question_id":76435238,"body_markdown":"I attemtped to make a long post with all the code that was relevant, but no matter what I did, it would not accept it, saying it was not properly formatted. So I am going minimal. I have seen several posts that were similar, but I do not know how to resolve what I am getting for an error. \r\n\r\nBuild file &#39;/home/jason/AndroidStudioProjects/GBTest07/build.gradle&#39; line: 3\r\n\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources:\r\n\r\n* Try:\r\n&gt; Run with --info or --debug option to get more log output.\r\n&gt; Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources:\r\n\r\n- Gradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:8.0.1&#39;)\r\n  Searched in the following repositories:\r\n    maven(https://plugins.gradle.org/m2/)\r\n\r\nI have tried (unsuccessfully) to change the gradle version, and the java version, but I am new, and I am not sure what gradle/java works together the best. I am not sure that changing the version would even solve this issue. I am not running a VPN, or a proxy. ","title":"Plugin [id: &#39;com.android.application&#39;, version: &#39;8.0.1&#39;, apply: false] was not found in any of the following sources","body":"<p>I attemtped to make a long post with all the code that was relevant, but no matter what I did, it would not accept it, saying it was not properly formatted. So I am going minimal. I have seen several posts that were similar, but I do not know how to resolve what I am getting for an error.</p>\n<p>Build file '/home/jason/AndroidStudioProjects/GBTest07/build.gradle' line: 3</p>\n<p>Plugin [id: 'com.android.application', version: '8.0.1', apply: false] was not found in any of the following sources:</p>\n<ul>\n<li>Try:</li>\n</ul>\n<blockquote>\n<p>Run with --info or --debug option to get more log output.\nRun with --scan to get full insights.</p>\n</blockquote>\n<ul>\n<li>Exception is:\norg.gradle.api.plugins.UnknownPluginException: Plugin [id: 'com.android.application', version: '8.0.1', apply: false] was not found in any of the following sources:</li>\n</ul>\n<ul>\n<li>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)</li>\n<li>Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:8.0.1')\nSearched in the following repositories:\nmaven(<a href=\"https://plugins.gradle.org/m2/\" rel=\"nofollow noreferrer\">https://plugins.gradle.org/m2/</a>)</li>\n</ul>\n<p>I have tried (unsuccessfully) to change the gradle version, and the java version, but I am new, and I am not sure what gradle/java works together the best. I am not sure that changing the version would even solve this issue. I am not running a VPN, or a proxy.</p>\n"},{"tags":["java","hibernate","jpa","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":16016792,"reputation":192,"user_id":12170868,"display_name":"Mat&#237;as Santurio"},"score":0,"creation_date":1672933244,"post_id":75020784,"comment_id":132388871,"body_markdown":"Setting `User.homeAddress` as `@NotNull` did solve it! Thanks!","body":"Setting <code>User.homeAddress</code> as <code>@NotNull</code> did solve it! Thanks!"}],"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1673003728,"creation_date":1672932534,"answer_id":75020784,"question_id":75020038,"body_markdown":"The reason Hibernate overrides your setting of `@NotNull` on `Address.street` when generating the table for the `User` entity is that the field `User.homeAddress` itself is nullable. **This means that you have specified that it is perfectly fine to pass a `User` object with `null` `homeAddress` to Hibernate.** And Hibernate (JPA generally I think) will deal with it by making all the fields of the embeddable *nullable*.\r\n\r\nMaybe you can try annotating the `User.homeAddress` field as `@NotNull` -or- orverride the embedded column definition with `@Embedded @AttributeOverrides({@AttributeOverride(name=&quot;street&quot;, column=@Column(..., nullable=false))})`.","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>The reason Hibernate overrides your setting of <code>@NotNull</code> on <code>Address.street</code> when generating the table for the <code>User</code> entity is that the field <code>User.homeAddress</code> itself is nullable. <strong>This means that you have specified that it is perfectly fine to pass a <code>User</code> object with <code>null</code> <code>homeAddress</code> to Hibernate.</strong> And Hibernate (JPA generally I think) will deal with it by making all the fields of the embeddable <em>nullable</em>.</p>\n<p>Maybe you can try annotating the <code>User.homeAddress</code> field as <code>@NotNull</code> -or- orverride the embedded column definition with <code>@Embedded @AttributeOverrides({@AttributeOverride(name=&quot;street&quot;, column=@Column(..., nullable=false))})</code>.</p>\n"},{"comments":[{"owner":{"account_id":16016792,"reputation":192,"user_id":12170868,"display_name":"Mat&#237;as Santurio"},"score":0,"creation_date":1686329769,"post_id":76435216,"comment_id":134788902,"body_markdown":"Yes, that was were my question came from. But as you can see in the accepted answer, the authors are horribly wrong.","body":"Yes, that was were my question came from. But as you can see in the accepted answer, the authors are horribly wrong."}],"tags":[],"owner":{"account_id":173043,"reputation":103,"user_id":401482,"display_name":"Claus Polanka"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686253267,"creation_date":1686253267,"answer_id":76435216,"question_id":75020038,"body_markdown":"In the recently published book: [Java Persistence with Spring Data and Hibernate][1], the authors mention the following:\r\n\r\n&gt; Problem: Hibernate Validator doesn’t generate NOT NULL constraints\r\nAt the time of writing, an open flaw remains with Hibernate Validator: Hibernate won’t map @NotNull constraints on embeddable component properties to NOT NULL constraints when generating the database schema. Hibernate will only use @NotNull on the components’ properties at runtime for Bean Validation. We have to map the property with @Column(nullable = false) to generate the constraint in the schema. The Hibernate bug database is tracking this problem as HVAL-3 (see http://mng.bz/lR0R).\r\n\r\n\r\n  [1]: https://www.manning.com/books/java-persistence-with-spring-data-and-hibernate","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>In the recently published book: <a href=\"https://www.manning.com/books/java-persistence-with-spring-data-and-hibernate\" rel=\"nofollow noreferrer\">Java Persistence with Spring Data and Hibernate</a>, the authors mention the following:</p>\n<blockquote>\n<p>Problem: Hibernate Validator doesn’t generate NOT NULL constraints\nAt the time of writing, an open flaw remains with Hibernate Validator: Hibernate won’t map @NotNull constraints on embeddable component properties to NOT NULL constraints when generating the database schema. Hibernate will only use @NotNull on the components’ properties at runtime for Bean Validation. We have to map the property with @Column(nullable = false) to generate the constraint in the schema. The Hibernate bug database is tracking this problem as HVAL-3 (see <a href=\"http://mng.bz/lR0R\" rel=\"nofollow noreferrer\">http://mng.bz/lR0R</a>).</p>\n</blockquote>\n"}],"owner":{"account_id":16016792,"reputation":192,"user_id":12170868,"display_name":"Mat&#237;as Santurio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75020784,"answer_count":2,"score":0,"last_activity_date":1686253267,"creation_date":1672929218,"question_id":75020038,"body_markdown":"I have the following two `Address`, `User` classes:\r\n\r\n```java\r\nimport javax.persistence.Embeddable;\r\nimport javax.validation.constraints.NotNull;\r\nimport javax.validation.constraints.Size;\r\n\r\n@Embeddable\r\npublic class Address {\r\n    @NotNull\r\n    @Size(max = 50)\r\n    private String street;\r\n}\r\n```\r\n\r\n```java\r\nimport javax.persistence.Entity;\r\nimport javax.persistence.GeneratedValue;\r\nimport javax.persistence.GenerationType;\r\nimport javax.persistence.Id;\r\nimport javax.persistence.Table;\r\nimport javax.validation.Valid;\r\nimport javax.validation.constraints.NotNull;\r\n\r\n@Entity\r\n@Table(name = &quot;USERS&quot;)\r\npublic class User {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    @NotNull\r\n    private String username;\r\n\r\n    @Valid\r\n    private Address homeAddress;\r\n}\r\n```\r\n\r\nAnd this is generating the following MySQL table:\r\n\r\n```sql\r\nCREATE TABLE `USERS` (\r\n  `id` bigint NOT NULL AUTO_INCREMENT,\r\n  `street` varchar(50) DEFAULT NULL,\r\n  `username` varchar(255) NOT NULL,\r\n  PRIMARY KEY (`id`)\r\n)\r\n```\r\n\r\nAs you can see, the `@NotNull` constraint worked for the `username` field, and the `@Size(max = 50)` constraint worked for the embedded class. However, the `@NotNull` constraint on the embedded class doesn&#39;t seem to working, what am I missing?\r\n\r\nThe `pom.xml`, in case it&#39;s relevant: \r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\r\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.manning.javapersistence&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mapping-value-types&lt;/artifactId&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;name&gt;mapping-value-types&lt;/name&gt;\r\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.10.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.22.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*.java&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.0.29&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;2.7.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.20&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n```","title":"@NotNull not working on embedded classes, using hibernate","body":"<p>I have the following two <code>Address</code>, <code>User</code> classes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Embeddable;\nimport javax.validation.constraints.NotNull;\nimport javax.validation.constraints.Size;\n\n@Embeddable\npublic class Address {\n    @NotNull\n    @Size(max = 50)\n    private String street;\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.Table;\nimport javax.validation.Valid;\nimport javax.validation.constraints.NotNull;\n\n@Entity\n@Table(name = &quot;USERS&quot;)\npublic class User {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    @NotNull\n    private String username;\n\n    @Valid\n    private Address homeAddress;\n}\n</code></pre>\n<p>And this is generating the following MySQL table:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>CREATE TABLE `USERS` (\n  `id` bigint NOT NULL AUTO_INCREMENT,\n  `street` varchar(50) DEFAULT NULL,\n  `username` varchar(255) NOT NULL,\n  PRIMARY KEY (`id`)\n)\n</code></pre>\n<p>As you can see, the <code>@NotNull</code> constraint worked for the <code>username</code> field, and the <code>@Size(max = 50)</code> constraint worked for the embedded class. However, the <code>@NotNull</code> constraint on the embedded class doesn't seem to working, what am I missing?</p>\n<p>The <code>pom.xml</code>, in case it's relevant:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0\n    http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.manning.javapersistence&lt;/groupId&gt;\n    &lt;artifactId&gt;mapping-value-types&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;mapping-value-types&lt;/name&gt;\n    &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.10.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.22.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.29&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-data-jpa&lt;/artifactId&gt;\n            &lt;version&gt;2.7.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-test&lt;/artifactId&gt;\n            &lt;version&gt;5.3.20&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.el&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;6.2.3.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","regex","jersey","openapi","swagger-editor"],"comments":[{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":0,"creation_date":1686251805,"post_id":76435041,"comment_id":134777239,"body_markdown":"Start with the most evident: did you try with double backslashes?","body":"Start with the most evident: did you try with double backslashes?"},{"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"score":0,"creation_date":1686252102,"post_id":76435041,"comment_id":134777290,"body_markdown":"yes I did, good sire,  like so &quot;\\\\bJOKER\\\\b &quot; . I was even suggested triple, but that didn&#39;t work either.","body":"yes I did, good sire,  like so &quot;\\\\bJOKER\\\\b &quot; . I was even suggested triple, but that didn&#39;t work either."},{"owner":{"account_id":10981751,"reputation":14488,"user_id":8068625,"display_name":"Henry Woody"},"score":0,"creation_date":1686253735,"post_id":76435041,"comment_id":134777572,"body_markdown":"Triple isn&#39;t going to help, but quadruple might if this passes through two steps (for example a regexp env var needs to have &quot;\\\\\\\\&quot; so that from shell to the program it goes to &quot;\\\\&quot; which is then &quot;\\&quot; in the regexp)","body":"Triple isn&#39;t going to help, but quadruple might if this passes through two steps (for example a regexp env var needs to have &quot;\\\\\\\\&quot; so that from shell to the program it goes to &quot;\\\\&quot; which is then &quot;\\&quot; in the regexp)"},{"owner":{"account_id":4739783,"reputation":612633,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"score":1,"creation_date":1686255001,"post_id":76435041,"comment_id":134777804,"body_markdown":"Are you sure `(?i)` is supported? Try `&#39;^(?!\\b[Jj][Oo][Kk][Ee][Rr]\\b).*$&#39;`","body":"Are you sure <code>(?i)</code> is supported? Try <code>&#39;^(?!\\b[Jj][Oo][Kk][Ee][Rr]\\b).*$&#39;</code>"},{"owner":{"account_id":268704,"reputation":2391,"user_id":15577665,"display_name":"sln"},"score":1,"creation_date":1686257283,"post_id":76435041,"comment_id":134778146,"body_markdown":"Java 8 supports the (?i) in-line case insensitive modifier. `^(?!(?i)\\bJOKER\\b).*$` https://regex101.com/r/7mP8wI/1 What version are you using ? You might want to make the _Dot Match All_ modifier active as well.","body":"Java 8 supports the (?i) in-line case insensitive modifier. <code>^(?!(?i)\\bJOKER\\b).*$</code> <a href=\"https://regex101.com/r/7mP8wI/1\" rel=\"nofollow noreferrer\">regex101.com/r/7mP8wI/1</a> What version are you using ? You might want to make the <i>Dot Match All</i> modifier active as well."},{"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"score":0,"creation_date":1686516870,"post_id":76435041,"comment_id":134805548,"body_markdown":"@sln My Java version is 11, and the pattern works as expected in the code. The only issue is that the swagger.io editor is calling out this pattern as a &quot;structural error&quot; and \n I am not sure why","body":"@sln My Java version is 11, and the pattern works as expected in the code. The only issue is that the swagger.io editor is calling out this pattern as a &quot;structural error&quot; and   I am not sure why"}],"owner":{"account_id":2421546,"reputation":806,"user_id":6416806,"display_name":"Sahil"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686253092,"creation_date":1686251663,"question_id":76435041,"body_markdown":"I generated an openapi json spec from a Jersey RestApi code I wrote, and one of the constraints I have is a regex negative-lookahead pattern for &quot;LEAGUE-MEMBER&quot; request header. When I convert the json into yaml like so.\r\n\r\n    openapi: 3.0.1\r\n    info:\r\n      title: Justice League Delegate Admin Sheet \r\n      description: &#39;Log Record for Temp admin access to the WatchTower&#39;\r\n      version: v1\r\n    servers:\r\n      - url: https://watchtower.wayne:9443\r\n        description: Generated server url\r\n    paths:\r\n      /ent-watchtower-auth/v3/delegate:\r\n        get:\r\n          tags:\r\n            - Search\r\n          summary: Search for a UID\r\n          operationId: searchForUID\r\n          parameters:\r\n            - name: MemberID\r\n              in: header\r\n              required: true\r\n              schema:\r\n                type: string\r\n              example: JL000000\r\n            - name: LEAGUE-MEMBER\r\n              in: header\r\n              required: true\r\n              schema:\r\n                pattern: &#39;^(?!(?i)\\bJOKER\\b).*$&#39;\r\n                type: string\r\n              example: BATMAN, JON, HAWKGIRL, ORACLE, FLASH, ANYONEBUTJOKER\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: The resulting Delegate History\r\n\r\n\r\nI get the following validation error at swagger.io editor:\r\n\r\n    Structural error at paths./ent-watchtower-auth/v3/delegate.get.parameters.1.schema.pattern\r\n    should match format &quot;regex&quot;\r\n    format: regex\r\n\r\n\r\nFor context on the regex, `&#39;^(?!(?i)\\bJOKER\\b).*$&#39;` basically allows for any case-insensitive value except &#39;joker&#39; within the header. (Also, the converted yaml did not wrap the pattern within single quotes, I had to add it later). When I run and test my RESTAPI, the pattern works as expected, and throws ConstraintViolation if the value is &quot;Joker&quot;. But I am unable to identify what the editor is trying to call out. Any suggestion and possible fix appreciated, Thank you.\r\n\r\nUpdate: I have pasted MWE for openapi yaml to play around in swagger editor","title":"OpenAPI 3 Validation Error : should match format &quot;regex&quot;","body":"<p>I generated an openapi json spec from a Jersey RestApi code I wrote, and one of the constraints I have is a regex negative-lookahead pattern for &quot;LEAGUE-MEMBER&quot; request header. When I convert the json into yaml like so.</p>\n<pre><code>openapi: 3.0.1\ninfo:\n  title: Justice League Delegate Admin Sheet \n  description: 'Log Record for Temp admin access to the WatchTower'\n  version: v1\nservers:\n  - url: https://watchtower.wayne:9443\n    description: Generated server url\npaths:\n  /ent-watchtower-auth/v3/delegate:\n    get:\n      tags:\n        - Search\n      summary: Search for a UID\n      operationId: searchForUID\n      parameters:\n        - name: MemberID\n          in: header\n          required: true\n          schema:\n            type: string\n          example: JL000000\n        - name: LEAGUE-MEMBER\n          in: header\n          required: true\n          schema:\n            pattern: '^(?!(?i)\\bJOKER\\b).*$'\n            type: string\n          example: BATMAN, JON, HAWKGIRL, ORACLE, FLASH, ANYONEBUTJOKER\n      responses:\n        '200':\n          description: The resulting Delegate History\n</code></pre>\n<p>I get the following validation error at swagger.io editor:</p>\n<pre><code>Structural error at paths./ent-watchtower-auth/v3/delegate.get.parameters.1.schema.pattern\nshould match format &quot;regex&quot;\nformat: regex\n</code></pre>\n<p>For context on the regex, <code>'^(?!(?i)\\bJOKER\\b).*$'</code> basically allows for any case-insensitive value except 'joker' within the header. (Also, the converted yaml did not wrap the pattern within single quotes, I had to add it later). When I run and test my RESTAPI, the pattern works as expected, and throws ConstraintViolation if the value is &quot;Joker&quot;. But I am unable to identify what the editor is trying to call out. Any suggestion and possible fix appreciated, Thank you.</p>\n<p>Update: I have pasted MWE for openapi yaml to play around in swagger editor</p>\n"},{"tags":["java","date","parsing","timestamp","simpledateformat"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1686226695,"post_id":76431424,"comment_id":134771772,"body_markdown":"You are using superseded time classes. You should be using `java.time`. What are you going to do with the `Timestamp` - use it in a db operation? Even, as is, it&#39;s redundant to create a new `String` form of the input date in order to create a `Timestamp` when you can use a `long` from the existing `Date` to initialize it","body":"You are using superseded time classes. You should be using <code>java.time</code>. What are you going to do with the <code>Timestamp</code> - use it in a db operation? Even, as is, it&#39;s redundant to create a new <code>String</code> form of the input date in order to create a <code>Timestamp</code> when you can use a <code>long</code> from the existing <code>Date</code> to initialize it"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686227407,"post_id":76431424,"comment_id":134771973,"body_markdown":"@g00se Firstly, I tried to parse it but I still get the parse issue. How can I fix it?","body":"@g00se Firstly, I tried to parse it but I still get the parse issue. How can I fix it?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686227586,"post_id":76431424,"comment_id":134772012,"body_markdown":"Can you please show sample input dates?","body":"Can you please show sample input dates?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686227686,"post_id":76431424,"comment_id":134772034,"body_markdown":"@g00se Here it is `Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)`","body":"@g00se Here it is <code>Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686229029,"post_id":76431424,"comment_id":134772348,"body_markdown":"That&#39;s one tricky format. How do you know whether the zone offset is positive or negative, for one thing?","body":"That&#39;s one tricky format. How do you know whether the zone offset is positive or negative, for one thing?"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686229915,"post_id":76431424,"comment_id":134772602,"body_markdown":"@g00se It can be both possible but firstly how can I format the date as I&#39;m stuck there?","body":"@g00se It can be both possible but firstly how can I format the date as I&#39;m stuck there?"}],"answers":[{"comments":[{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686230941,"post_id":76432335,"comment_id":134772861,"body_markdown":"I ran the code but I got this issue `Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&#39; could not be parsed at index 0\n\tat java.base/java.time.format.DateTimeFormatter.parseResolved0(DateTimeFormatter.java:2106)\n\tat java.base/java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:2008)\n\tat java.base/java.time.OffsetDateTime.parse(OffsetDateTime.java:404)\n\tat example1.DataParser.main(DataParser.java:14)`","body":"I ran the code but I got this issue <code>Exception in thread &quot;main&quot; java.time.format.DateTimeParseException: Text &#39;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&#39; could not be parsed at index 0 \tat java.base&#47;java.time.format.DateTimeFormatter.parseResolved0(&zwnj;&#8203;DateTimeFormatter.ja&zwnj;&#8203;va:2106) \tat java.base&#47;java.time.format.DateTimeFormatter.parse(DateTimeF&zwnj;&#8203;ormatter.java:2008) \tat java.base&#47;java.time.OffsetDateTime.parse(OffsetDateTime.java&zwnj;&#8203;:404) \tat example1.DataParser.main(DataParser.java:14)</code>"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1686231249,"post_id":76432335,"comment_id":134772940,"body_markdown":"Pass a `Locale.ENGLISH` to the `DateTimeFormatter`, the `String` contains locale dependent information. A Monday is not *Mon* in every locale.","body":"Pass a <code>Locale.ENGLISH</code> to the <code>DateTimeFormatter</code>, the <code>String</code> contains locale dependent information. A Monday is not <i>Mon</i> in every locale."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1686232127,"post_id":76432335,"comment_id":134773193,"body_markdown":"Yes @deHaar , I should have put that in","body":"Yes @deHaar , I should have put that in"},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1686232628,"post_id":76432335,"comment_id":134773314,"body_markdown":"You can still do so, just [edit] your answer…","body":"You can still do so, just <a href=\"https://stackoverflow.com/posts/76432335/edit\">edit</a> your answer…"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686233539,"post_id":76432335,"comment_id":134773556,"body_markdown":"@g00se My string is like `Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)` not `Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)`","body":"@g00se My string is like <code>Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)</code> not <code>Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)</code>"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686234237,"post_id":76432335,"comment_id":134773737,"body_markdown":"I know that, and my answer covers the issue. Your offset is meaningless without it, and *unparseable*","body":"I know that, and my answer covers the issue. Your offset is meaningless without it, and <i>unparseable</i>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1686234750,"post_id":76432335,"comment_id":134773880,"body_markdown":"@g00se Can you remove the miliseconds of ts? I want to get the result as Timestamp.","body":"@g00se Can you remove the miliseconds of ts? I want to get the result as Timestamp."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1686235187,"post_id":76432335,"comment_id":134774002,"body_markdown":"That&#39;s a matter of formatting. You almost never want to *de*crease the precision of your data in storage","body":"That&#39;s a matter of formatting. You almost never want to <i>de</i>crease the precision of your data in storage"}],"tags":[],"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"comment_count":8,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686234172,"creation_date":1686230767,"answer_id":76432335,"question_id":76431424,"body_markdown":"Were your date format rational, you could do the following, although `Timestamp` should be avoid too, instead, allowing your db driver to map a column to one of the classes in `java.time`. Inserting +ve or -ve, so that the system knows what the offset means, the following is possible:\r\n\r\n    String d = &quot;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&quot;;\r\n    DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x &#39;(&#39;z x&#39;)&#39;&quot;, Locale.ENGLISH);\r\n    OffsetDateTime odt = OffsetDateTime.parse(d, inputFormat);\r\n    Timestamp ts = new Timestamp(OffsetDateTime.parse(d, inputFormat).toInstant().toEpochMilli());\r\n    System.out.println(ts);\r\n\r\n","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>Were your date format rational, you could do the following, although <code>Timestamp</code> should be avoid too, instead, allowing your db driver to map a column to one of the classes in <code>java.time</code>. Inserting +ve or -ve, so that the system knows what the offset means, the following is possible:</p>\n<pre><code>String d = &quot;Mon May 01 2023 00:00:00 GMT +0300 (GMT +0300)&quot;;\nDateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x '('z x')'&quot;, Locale.ENGLISH);\nOffsetDateTime odt = OffsetDateTime.parse(d, inputFormat);\nTimestamp ts = new Timestamp(OffsetDateTime.parse(d, inputFormat).toInstant().toEpochMilli());\nSystem.out.println(ts);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1686252975,"creation_date":1686252975,"answer_id":76435178,"question_id":76431424,"body_markdown":"Here is my answer shown below\r\n\r\n    import java.sql.Timestamp;\r\n    import java.time.OffsetDateTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    import java.util.Locale;\r\n    \r\n    public class DataParser {\r\n    \r\n    \r\n    \tpublic static void main(String[] args) {\r\n            String input = &quot;Thu Jun 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\r\n            String output = manipulateString(input);\r\n            System.out.println(output);\r\n            \r\n            DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x &#39;(&#39;z x&#39;)&#39;&quot;, Locale.ENGLISH);\r\n            OffsetDateTime odt = OffsetDateTime.parse(output, inputFormat);\r\n            Timestamp ts = new Timestamp(odt.toInstant().toEpochMilli());\r\n            System.out.println(ts);\r\n        }\r\n    \r\n        public static String manipulateString(String input) {\r\n            String[] parts = input.split(&quot; &quot;);\r\n            String gmtOffset = parts[parts.length - 3];\r\n            String modifiedOffset = &quot;+&quot; + gmtOffset.substring(0, 2) + gmtOffset.substring(2);\r\n            String modifiedInput = input.replace(gmtOffset, modifiedOffset);\r\n            modifiedInput = modifiedInput.replaceFirst(&quot;\\\\(GMT\\\\s*&quot;, &quot;(GMT +&quot;);\r\n            modifiedInput = modifiedInput.replaceFirst(&quot;:\\\\d{2}\\\\)$&quot;, &quot;:00)&quot;);\r\n            \r\n            int lastIndex = modifiedInput.lastIndexOf(&quot;:&quot;);\r\n            if (lastIndex != -1) {\r\n                modifiedInput = modifiedInput.substring(0, lastIndex) + modifiedInput.substring(lastIndex + 1);\r\n            }\r\n    \r\n            return modifiedInput;\r\n            \r\n        }\r\n        \r\n    }\r\n\r\nHere is the output shown below\r\n\r\n    Thu Jun 01 2023 00:00:00 GMT +0300 (GMT +0300)\r\n    2023-06-01 00:00:00.0","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>Here is my answer shown below</p>\n<pre><code>import java.sql.Timestamp;\nimport java.time.OffsetDateTime;\nimport java.time.format.DateTimeFormatter;\nimport java.util.Locale;\n\npublic class DataParser {\n\n\n    public static void main(String[] args) {\n        String input = &quot;Thu Jun 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\n        String output = manipulateString(input);\n        System.out.println(output);\n        \n        DateTimeFormatter inputFormat = DateTimeFormatter.ofPattern(&quot;EEE MMM dd yyyy HH:mm:ss z x '('z x')'&quot;, Locale.ENGLISH);\n        OffsetDateTime odt = OffsetDateTime.parse(output, inputFormat);\n        Timestamp ts = new Timestamp(odt.toInstant().toEpochMilli());\n        System.out.println(ts);\n    }\n\n    public static String manipulateString(String input) {\n        String[] parts = input.split(&quot; &quot;);\n        String gmtOffset = parts[parts.length - 3];\n        String modifiedOffset = &quot;+&quot; + gmtOffset.substring(0, 2) + gmtOffset.substring(2);\n        String modifiedInput = input.replace(gmtOffset, modifiedOffset);\n        modifiedInput = modifiedInput.replaceFirst(&quot;\\\\(GMT\\\\s*&quot;, &quot;(GMT +&quot;);\n        modifiedInput = modifiedInput.replaceFirst(&quot;:\\\\d{2}\\\\)$&quot;, &quot;:00)&quot;);\n        \n        int lastIndex = modifiedInput.lastIndexOf(&quot;:&quot;);\n        if (lastIndex != -1) {\n            modifiedInput = modifiedInput.substring(0, lastIndex) + modifiedInput.substring(lastIndex + 1);\n        }\n\n        return modifiedInput;\n        \n    }\n    \n}\n</code></pre>\n<p>Here is the output shown below</p>\n<pre><code>Thu Jun 01 2023 00:00:00 GMT +0300 (GMT +0300)\n2023-06-01 00:00:00.0\n</code></pre>\n"}],"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":333,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76435178,"answer_count":2,"score":-1,"last_activity_date":1686252975,"creation_date":1686223983,"question_id":76431424,"body_markdown":"I cannot convert the date containing GMT to timestamp in Java\r\n\r\nHere is the code shown below\r\n\r\n    import java.sql.Timestamp;\r\n    import java.text.ParseException;\r\n    import java.text.SimpleDateFormat;\r\n    import java.util.Date;\r\n    \r\n    public class DataParser {\r\n    \r\n    \tpublic static void main(String[] args) throws ParseException {\r\n    \t\t\r\n    \t\t String startDate = &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\r\n    \t\t \r\n    \t\t SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss &#39;GMT&#39; X (zzzz)&quot;);\r\n             SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    \r\n             Date parsedDate = inputFormat.parse(startDate);\r\n    \r\n             String formattedDate = outputFormat.format(parsedDate);\r\n    \r\n             Timestamp timestamp = Timestamp.valueOf(formattedDate);\r\n    \t\t\r\n             System.out.println(timestamp);\r\n    \t}\r\n    }\r\n\r\n\r\n\r\nHere is the error shown below\r\n\r\n    Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;\r\n    \tat java.base/java.text.DateFormat.parse(DateFormat.java:399)\r\n    \tat example1.DataParser.main(DataParser.java:17)\r\n\r\n\r\nHow can I fix it?","title":"Cannot parse date containing GMT to Timestamp in Java (Unparseable date Issue)","body":"<p>I cannot convert the date containing GMT to timestamp in Java</p>\n<p>Here is the code shown below</p>\n<pre><code>import java.sql.Timestamp;\nimport java.text.ParseException;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\n\npublic class DataParser {\n\n    public static void main(String[] args) throws ParseException {\n        \n         String startDate = &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;;\n         \n         SimpleDateFormat inputFormat = new SimpleDateFormat(&quot;EEE MMM dd yyyy HH:mm:ss 'GMT' X (zzzz)&quot;);\n         SimpleDateFormat outputFormat = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n         Date parsedDate = inputFormat.parse(startDate);\n\n         String formattedDate = outputFormat.format(parsedDate);\n\n         Timestamp timestamp = Timestamp.valueOf(formattedDate);\n        \n         System.out.println(timestamp);\n    }\n}\n</code></pre>\n<p>Here is the error shown below</p>\n<pre><code>Exception in thread &quot;main&quot; java.text.ParseException: Unparseable date: &quot;Mon May 01 2023 00:00:00 GMT 0300 (GMT 03:00)&quot;\n    at java.base/java.text.DateFormat.parse(DateFormat.java:399)\n    at example1.DataParser.main(DataParser.java:17)\n</code></pre>\n<p>How can I fix it?</p>\n"},{"tags":["java","spring-boot","spring-security","jwt"],"comments":[{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686216355,"post_id":76430013,"comment_id":134769751,"body_markdown":"You dont design principals like that. A user is a user. And it has different GrantedAuthorities, either a GA as a Admin or a GA as a Employee. You should rethink","body":"You dont design principals like that. A user is a user. And it has different GrantedAuthorities, either a GA as a Admin or a GA as a Employee. You should rethink"},{"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"score":0,"creation_date":1686220764,"post_id":76430013,"comment_id":134770570,"body_markdown":"I have many additional fields for Employee I want to separate them from Admin but I don&#39;t know what is the right approach here.You suggest all the fields to be in on class","body":"I have many additional fields for Employee I want to separate them from Admin but I don&#39;t know what is the right approach here.You suggest all the fields to be in on class"},{"owner":{"account_id":2064278,"reputation":13138,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1686244062,"post_id":76430013,"comment_id":134775887,"body_markdown":"I suggest you have an `id` field in the principal and then you up look what ever you need for that user when it is needed. The principal is used for storing authorization information. A principal is NOT a user object that should have a lot of data about the user. That is a USER object.","body":"I suggest you have an <code>id</code> field in the principal and then you up look what ever you need for that user when it is needed. The principal is used for storing authorization information. A principal is NOT a user object that should have a lot of data about the user. That is a USER object."}],"owner":{"account_id":25411796,"reputation":121,"user_id":19219457,"display_name":"mikegrep"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1686252335,"creation_date":1686213270,"question_id":76430013,"body_markdown":"Hi I just implement spring security to work with jwt.I have one `User class` for now but I will need to add at least one more and I am planing to made the `User abstract` and create `Employee` and `Admin` classes witch will `inherit the User`.\r\nThe problem is when I search for the user is going to the User repository.How to implement this to work with all children classes. I can use generics but at this point where I search for the User try the repository I don&#39;t know what type is the user and seems like pointless. \r\n\r\n        private UserRepository userRepository;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n    \r\n        User user = userRepository.findByUsername(username).orElseThrow(() -&gt; new RuntimeException(String.format(&quot;User with that username does not exist&quot;, username)));\r\n    \r\n        Set&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\r\n                .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\r\n                .collect(Collectors.toSet());\r\n    \r\n        return new org.springframework.security.core.userdetails.User(\r\n                username,\r\n                user.getPassword(),\r\n                authorities\r\n        );\r\n    \r\n   \r\n\r\n","title":"Spring security jwt auth foe more than one User classes","body":"<p>Hi I just implement spring security to work with jwt.I have one <code>User class</code> for now but I will need to add at least one more and I am planing to made the <code>User abstract</code> and create <code>Employee</code> and <code>Admin</code> classes witch will <code>inherit the User</code>.\nThe problem is when I search for the user is going to the User repository.How to implement this to work with all children classes. I can use generics but at this point where I search for the User try the repository I don't know what type is the user and seems like pointless.</p>\n<pre><code>    private UserRepository userRepository;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n\n    User user = userRepository.findByUsername(username).orElseThrow(() -&gt; new RuntimeException(String.format(&quot;User with that username does not exist&quot;, username)));\n\n    Set&lt;GrantedAuthority&gt; authorities = user.getRoles().stream()\n            .map((role) -&gt; new SimpleGrantedAuthority(role.getName()))\n            .collect(Collectors.toSet());\n\n    return new org.springframework.security.core.userdetails.User(\n            username,\n            user.getPassword(),\n            authorities\n    );\n</code></pre>\n"},{"tags":["java","jdbc","logstash","jodatime"],"answers":[{"comments":[{"owner":{"account_id":322981,"reputation":310755,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1685717597,"post_id":76390717,"comment_id":134704732,"body_markdown":"Actually, Turkey is in permanent Daylight Saving Time (DST). Current year-round offset is +03:00. See https://en.wikipedia.org/wiki/Time_in_Turkey  So your first sentence is misleading. Otherwise, good Answer.","body":"Actually, Turkey is in permanent Daylight Saving Time (DST). Current year-round offset is +03:00. See <a href=\"https://en.wikipedia.org/wiki/Time_in_Turkey\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Time_in_Turkey</a>  So your first sentence is misleading. Otherwise, good Answer."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1685721264,"post_id":76390717,"comment_id":134705516,"body_markdown":"Thank you @BasilBourque for the correction.","body":"Thank you @BasilBourque for the correction."},{"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"score":1,"creation_date":1686040403,"post_id":76390717,"comment_id":134740978,"body_markdown":"@andrewJames I understand. However, I do not have the control of the source code, so what I did was to run logstash in GMT, and the error disappeared.","body":"@andrewJames I understand. However, I do not have the control of the source code, so what I did was to run logstash in GMT, and the error disappeared."},{"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"score":0,"creation_date":1686040498,"post_id":76390717,"comment_id":134741005,"body_markdown":"@BasilBourque that is correct. However, this was not the case before 2016, where Turkey altered between DST/non-DST.","body":"@BasilBourque that is correct. However, this was not the case before 2016, where Turkey altered between DST/non-DST."},{"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"score":0,"creation_date":1686252377,"post_id":76390717,"comment_id":134777328,"body_markdown":"@andrewJames Your answer put me in the right direction, so I edited it to include a solution for the issue with Logstash and accepted your answer. Thanks.","body":"@andrewJames Your answer put me in the right direction, so I edited it to include a solution for the issue with Logstash and accepted your answer. Thanks."}],"tags":[],"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1686252319,"creation_date":1685713456,"answer_id":76390717,"question_id":76388627,"body_markdown":"&quot;_Illegal instant due to time zone offset transition_&quot; - Istanbul does not _currently_ change between daylight saving time and standard time, but [it has done in the past](https://en.wikipedia.org/wiki/Time_in_Turkey).\r\n\r\nIt is currently observing what is effectively DST year-round - and has done so since March 27th 2016, when the clocks moved forward by 1 hour from a UCT timezone offset of +2 hours to +3 hours.\r\n\r\n---\r\n\r\nMore specifically regarding the &quot;_Illegal instant_&quot; error: In 1949 on 10th April at midnight, the clocks moved forward by 1 hour - so the local time of `1949-04-10  00:00` never actually happened. That is why it is a &quot;gap&quot; value, as noted in the error message.\r\n\r\nThis time zone data is captured in the IANA [Time Zone Database](https://www.iana.org/time-zones) (TZDB), which I assume is what your application uses, behind the scenes (e.g. if you are using Joda-Time).\r\n\r\nYou can use an online tool such as [this one](https://www.timeanddate.com/time/change/turkey/istanbul?year=1949) (and probaby others):\r\n\r\n[![enter image description here][1]][1]\r\n\r\n**WARNING** - I cannot vouch for the accuracy of the data on this web site, but it does match the TZDB rule for _this specific example_, which I extracted as follows using Java (which uses TZDB data):\r\n\r\n```\r\n - on 1949-04-10 at 00:00\r\n - the clocks moved forward by 1 hr (daylight saving)\r\n - from TZ offset +02:00 to offset +03:00\r\n```\r\n\r\n---\r\n\r\nRegarding your comment: \r\n\r\n&gt; &quot;_should be &#39;1970-01-01 03:00:00&#39;_&quot;\r\n\r\nFor 1970, the TZDB indicates that there were no adjustments made. So, the effective offset from UTC was the one previously made in 1964:\r\n\r\n```\r\n - on 1964-10-01 at 00:00\r\n - the clocks moved back by 1 hr\r\n - from TZ offset +03:00 to offset +02:00\r\n```\r\n\r\nAnd that `+02:00` is what you are (correctly) seeing in your data for that 1970 datetime.\r\n\r\n---\r\n\r\nIf you want to avoid using a datetime which falls into one of these gaps (caused by the clocks moving forward), then you can do that programmatically - for example:\r\n\r\n - Assuming Java (since you mention Joda-Time): [java.time discovering I&#39;m in the daylight savings &quot;gap&quot;](https://stackoverflow.com/q/32862926/12567365)\r\n\r\nOther mainstream languages should have similar capabilities.\r\n\r\n---\r\n\r\nAlso, since you mentioned Joda, maybe you can consider using Java&#39;s `java.time` classes now (if you have a suitable version of Java), [instead of using Joda-Time](https://www.joda.org/joda-time/):\r\n\r\n&gt; Note that from Java SE 8 onwards, users are asked to migrate to `java.time` (JSR-310) - a core part of the JDK which replaces this project.\r\n\r\n---\r\n\r\n**Specific solution to the case with Logstash**\r\n\r\nAdding `jdbc_default_timezone =&gt; &quot;GMT&quot;` to Logstash configuration and altering the timezone of the host machine will make Logstash to query the database without getting this error.\r\n\r\n  [1]: https://i.stack.imgur.com/Sa7fz.png","title":"Exception when executing JDBC query - Illegal instant due to time zone offset transition with Logstash","body":"<p>&quot;<em>Illegal instant due to time zone offset transition</em>&quot; - Istanbul does not <em>currently</em> change between daylight saving time and standard time, but <a href=\"https://en.wikipedia.org/wiki/Time_in_Turkey\" rel=\"nofollow noreferrer\">it has done in the past</a>.</p>\n<p>It is currently observing what is effectively DST year-round - and has done so since March 27th 2016, when the clocks moved forward by 1 hour from a UCT timezone offset of +2 hours to +3 hours.</p>\n<hr />\n<p>More specifically regarding the &quot;<em>Illegal instant</em>&quot; error: In 1949 on 10th April at midnight, the clocks moved forward by 1 hour - so the local time of <code>1949-04-10  00:00</code> never actually happened. That is why it is a &quot;gap&quot; value, as noted in the error message.</p>\n<p>This time zone data is captured in the IANA <a href=\"https://www.iana.org/time-zones\" rel=\"nofollow noreferrer\">Time Zone Database</a> (TZDB), which I assume is what your application uses, behind the scenes (e.g. if you are using Joda-Time).</p>\n<p>You can use an online tool such as <a href=\"https://www.timeanddate.com/time/change/turkey/istanbul?year=1949\" rel=\"nofollow noreferrer\">this one</a> (and probaby others):</p>\n<p><a href=\"https://i.stack.imgur.com/Sa7fz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Sa7fz.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>WARNING</strong> - I cannot vouch for the accuracy of the data on this web site, but it does match the TZDB rule for <em>this specific example</em>, which I extracted as follows using Java (which uses TZDB data):</p>\n<pre><code> - on 1949-04-10 at 00:00\n - the clocks moved forward by 1 hr (daylight saving)\n - from TZ offset +02:00 to offset +03:00\n</code></pre>\n<hr />\n<p>Regarding your comment:</p>\n<blockquote>\n<p>&quot;<em>should be '1970-01-01 03:00:00'</em>&quot;</p>\n</blockquote>\n<p>For 1970, the TZDB indicates that there were no adjustments made. So, the effective offset from UTC was the one previously made in 1964:</p>\n<pre><code> - on 1964-10-01 at 00:00\n - the clocks moved back by 1 hr\n - from TZ offset +03:00 to offset +02:00\n</code></pre>\n<p>And that <code>+02:00</code> is what you are (correctly) seeing in your data for that 1970 datetime.</p>\n<hr />\n<p>If you want to avoid using a datetime which falls into one of these gaps (caused by the clocks moving forward), then you can do that programmatically - for example:</p>\n<ul>\n<li>Assuming Java (since you mention Joda-Time): <a href=\"https://stackoverflow.com/q/32862926/12567365\">java.time discovering I'm in the daylight savings &quot;gap&quot;</a></li>\n</ul>\n<p>Other mainstream languages should have similar capabilities.</p>\n<hr />\n<p>Also, since you mentioned Joda, maybe you can consider using Java's <code>java.time</code> classes now (if you have a suitable version of Java), <a href=\"https://www.joda.org/joda-time/\" rel=\"nofollow noreferrer\">instead of using Joda-Time</a>:</p>\n<blockquote>\n<p>Note that from Java SE 8 onwards, users are asked to migrate to <code>java.time</code> (JSR-310) - a core part of the JDK which replaces this project.</p>\n</blockquote>\n<hr />\n<p><strong>Specific solution to the case with Logstash</strong></p>\n<p>Adding <code>jdbc_default_timezone =&gt; &quot;GMT&quot;</code> to Logstash configuration and altering the timezone of the host machine will make Logstash to query the database without getting this error.</p>\n"}],"owner":{"account_id":533485,"reputation":2992,"user_id":903885,"accept_rate":87,"display_name":"Hasan Can Saral"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76390717,"answer_count":1,"score":2,"last_activity_date":1686252319,"creation_date":1685696133,"question_id":76388627,"body_markdown":"I have the following JDBC input:\r\n\r\n```\r\ninput {\r\n  jdbc {\r\n    id =&gt; &quot;mypipeline&quot;\r\n    jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot;\r\n    jdbc_driver_library =&gt; &quot;/usr/share/logstash/drivers/mysql-connector-j-8.0.32.jar&quot;\r\n    jdbc_connection_string =&gt; &quot;my-connection-string&quot;\r\n    jdbc_password =&gt; &quot;my-user&quot;\r\n    jdbc_user =&gt; &quot;my-pass&quot;\r\n    jdbc_fetch_size =&gt; 5000\r\n    schedule =&gt; &quot;*/5 * * * *&quot;\r\n    statement =&gt; &quot;SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= :sql_last_value&quot;\r\n  }\r\n}\r\n```\r\n\r\nThe log_date column is as follows:\r\n\r\n```\r\nlog_date DATE NULL DEFAULT NULL,\r\n```\r\n\r\nWarning; `created_at` and `log_date` are not the same column. The query that&#39;s being executed is as follows:\r\n\r\n```\r\nSELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= &#39;1970-01-01 02:00:00&#39;\r\n```\r\nwhich is wrong, since Istanbul does not go into DST, should be `&#39;1970-01-01 03:00:00&#39;` For values such as `1949-04-10` for log_date, I am receiving this error:\r\n\r\n```\r\n[2023-06-02T11:50:30,470][WARN ][logstash.inputs.jdbc     ][main][mypipeline] Exception when executing JDBC query {:exception=&gt;Sequel::DatabaseError, :message=&gt;&quot;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time &#39;gap&#39;): 1949-04-10T00:00:00.000 (Europe/Istanbul)&quot;, :cause=&gt;&quot;#&lt;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time &#39;gap&#39;): 1949-04-10T00:00:00.000 (Europe/Istanbul)&gt;&quot;}\r\n```\r\n\r\nHow do I resolve this?","title":"Exception when executing JDBC query - Illegal instant due to time zone offset transition with Logstash","body":"<p>I have the following JDBC input:</p>\n<pre><code>input {\n  jdbc {\n    id =&gt; &quot;mypipeline&quot;\n    jdbc_driver_class =&gt; &quot;com.mysql.jdbc.Driver&quot;\n    jdbc_driver_library =&gt; &quot;/usr/share/logstash/drivers/mysql-connector-j-8.0.32.jar&quot;\n    jdbc_connection_string =&gt; &quot;my-connection-string&quot;\n    jdbc_password =&gt; &quot;my-user&quot;\n    jdbc_user =&gt; &quot;my-pass&quot;\n    jdbc_fetch_size =&gt; 5000\n    schedule =&gt; &quot;*/5 * * * *&quot;\n    statement =&gt; &quot;SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= :sql_last_value&quot;\n  }\n}\n</code></pre>\n<p>The log_date column is as follows:</p>\n<pre><code>log_date DATE NULL DEFAULT NULL,\n</code></pre>\n<p>Warning; <code>created_at</code> and <code>log_date</code> are not the same column. The query that's being executed is as follows:</p>\n<pre><code>SELECT l.id, l.name, l.log_date FROM logs l WHERE l.created_at &gt;= '1970-01-01 02:00:00'\n</code></pre>\n<p>which is wrong, since Istanbul does not go into DST, should be <code>'1970-01-01 03:00:00'</code> For values such as <code>1949-04-10</code> for log_date, I am receiving this error:</p>\n<pre><code>[2023-06-02T11:50:30,470][WARN ][logstash.inputs.jdbc     ][main][mypipeline] Exception when executing JDBC query {:exception=&gt;Sequel::DatabaseError, :message=&gt;&quot;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time 'gap'): 1949-04-10T00:00:00.000 (Europe/Istanbul)&quot;, :cause=&gt;&quot;#&lt;Java::OrgJodaTime::IllegalInstantException: Illegal instant due to time zone offset transition (daylight savings time 'gap'): 1949-04-10T00:00:00.000 (Europe/Istanbul)&gt;&quot;}\n</code></pre>\n<p>How do I resolve this?</p>\n"},{"tags":["java","jpql"],"answers":[{"comments":[{"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"score":0,"creation_date":1686036000,"post_id":76409333,"comment_id":134740172,"body_markdown":"The original query applies an additional `ORDER BY` *after* `LIMIT` and `OFFSET`","body":"The original query applies an additional <code>ORDER BY</code> <i>after</i> <code>LIMIT</code> and <code>OFFSET</code>"},{"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"score":0,"creation_date":1686252149,"post_id":76409333,"comment_id":134777294,"body_markdown":"I have modified my response.","body":"I have modified my response."}],"tags":[],"owner":{"account_id":28759342,"reputation":11,"user_id":22025617,"display_name":"migueljacuinde"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686252132,"creation_date":1685992124,"answer_id":76409333,"question_id":76409001,"body_markdown":"I think the solution you have above would work.\r\nIf not, then I would try this. Assuming you have a User.java class, and a SessionFactory, I believe you can create a method like this:\r\n\r\n```java\r\n    public List&lt;User&gt; fetchUsersWithOffsetAndLimit(SessionFactory session, int offset, int limit) {\r\n     List&lt;User&gt; userList = session.getCurrentSession().createQuery(From User)\r\n       .setFirstResult(offset)\r\n       .setMaxResults(limit)\r\n       .list();\r\n\r\n     List&lt;User&gt; usersSortedByOrderIdDesc = new ArrayList&lt;&gt;();\r\n\r\n     for (int i = userList.size(); i &gt; 0; i--) {\r\n      usersSortedByOrderIdDesc.add(userList.get(i));\r\n     }\r\n    \r\n    return usersSortedByOrderIdDesc;\r\n    }\r\n\r\n// SessionFactory sessionFactory = HibernateUtils.getLocSessionFactory();\r\n// Session session = sessionFactory.getCurrentSession();\r\n```\r\n\r\nI added the SessionFactory that can be called within the parameter. It can be added within the method if you are not passing it inside the method call.\r\n\r\nThere may be a more efficient way of doing it but I think this will work.","title":"How can you put your LIMIT inside a subquery in JPQL?","body":"<p>I think the solution you have above would work.\nIf not, then I would try this. Assuming you have a User.java class, and a SessionFactory, I believe you can create a method like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public List&lt;User&gt; fetchUsersWithOffsetAndLimit(SessionFactory session, int offset, int limit) {\n     List&lt;User&gt; userList = session.getCurrentSession().createQuery(From User)\n       .setFirstResult(offset)\n       .setMaxResults(limit)\n       .list();\n\n     List&lt;User&gt; usersSortedByOrderIdDesc = new ArrayList&lt;&gt;();\n\n     for (int i = userList.size(); i &gt; 0; i--) {\n      usersSortedByOrderIdDesc.add(userList.get(i));\n     }\n    \n    return usersSortedByOrderIdDesc;\n    }\n\n// SessionFactory sessionFactory = HibernateUtils.getLocSessionFactory();\n// Session session = sessionFactory.getCurrentSession();\n</code></pre>\n<p>I added the SessionFactory that can be called within the parameter. It can be added within the method if you are not passing it inside the method call.</p>\n<p>There may be a more efficient way of doing it but I think this will work.</p>\n"}],"owner":{"account_id":10187542,"reputation":409,"user_id":20692967,"display_name":"Sergey Zolotarev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1686252132,"creation_date":1685988801,"question_id":76409001,"body_markdown":"Are queries like this\r\n```sql\r\nSELECT *\r\nFROM  (\r\n   SELECT *\r\n   FROM   users\r\n   ORDER  BY id\r\n   LIMIT  3\r\n   OFFSET 3\r\n   ) sub\r\nORDER  BY id DESC;\r\n```\r\ntranslatable into JPQL? I&#39;m not sure since `LIMIT` and `OFFSET`, which are not supported directly inside a JPQL string, are placed inside a subquery. The problem with `setMaxResults()` and `setFirstResult()` is that the associated SQL keywords are going to be appended to the outermost query whatever you do, it is not customizable\r\n\r\nMy `LIMIT`, `OFFSET` and `GROUP BY` values are actually dynamic and represent pagination parameters passed in an HTTP request. I know `OFFSET` is not very good for pagination, but even if you replace it with `WHERE`, you&#39;re still left with `LIMIT` that should still be inside a subquery\r\n\r\n**How do I turn that SQL into JPQL?**\r\n\r\nP.S.: In case you&#39;re wondering why I need `LIMIT` and `OFFSET` *inside* a subquery, you may visit [this page][1]\r\n\r\n**UPD:** Here&#39;s ChatGPT-4&#39;s suggestion\r\n```java\r\n// Assuming you have an EntityManager named &#39;entityManager&#39;\r\n\r\nint limit = 3;\r\nint offset = 3;\r\nString jpql = &quot;SELECT u FROM User u ORDER BY u.id&quot;;\r\n\r\nTypedQuery&lt;User&gt; query = entityManager.createQuery(jpql, User.class);\r\nquery.setMaxResults(limit);\r\nquery.setFirstResult(offset);\r\n\r\nList&lt;User&gt; users = query.getResultList();\r\n\r\n// If you want to reverse the order of the returned list\r\nCollections.reverse(users);\r\n```\r\n\r\n\r\n  [1]: https://dba.stackexchange.com/questions/327892/can-you-make-postgres-execute-order-by-after-offset-and-limit","title":"How can you put your LIMIT inside a subquery in JPQL?","body":"<p>Are queries like this</p>\n<pre class=\"lang-sql prettyprint-override\"><code>SELECT *\nFROM  (\n   SELECT *\n   FROM   users\n   ORDER  BY id\n   LIMIT  3\n   OFFSET 3\n   ) sub\nORDER  BY id DESC;\n</code></pre>\n<p>translatable into JPQL? I'm not sure since <code>LIMIT</code> and <code>OFFSET</code>, which are not supported directly inside a JPQL string, are placed inside a subquery. The problem with <code>setMaxResults()</code> and <code>setFirstResult()</code> is that the associated SQL keywords are going to be appended to the outermost query whatever you do, it is not customizable</p>\n<p>My <code>LIMIT</code>, <code>OFFSET</code> and <code>GROUP BY</code> values are actually dynamic and represent pagination parameters passed in an HTTP request. I know <code>OFFSET</code> is not very good for pagination, but even if you replace it with <code>WHERE</code>, you're still left with <code>LIMIT</code> that should still be inside a subquery</p>\n<p><strong>How do I turn that SQL into JPQL?</strong></p>\n<p>P.S.: In case you're wondering why I need <code>LIMIT</code> and <code>OFFSET</code> <em>inside</em> a subquery, you may visit <a href=\"https://dba.stackexchange.com/questions/327892/can-you-make-postgres-execute-order-by-after-offset-and-limit\">this page</a></p>\n<p><strong>UPD:</strong> Here's ChatGPT-4's suggestion</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Assuming you have an EntityManager named 'entityManager'\n\nint limit = 3;\nint offset = 3;\nString jpql = &quot;SELECT u FROM User u ORDER BY u.id&quot;;\n\nTypedQuery&lt;User&gt; query = entityManager.createQuery(jpql, User.class);\nquery.setMaxResults(limit);\nquery.setFirstResult(offset);\n\nList&lt;User&gt; users = query.getResultList();\n\n// If you want to reverse the order of the returned list\nCollections.reverse(users);\n</code></pre>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9843,"page":382,"page_size":100}
